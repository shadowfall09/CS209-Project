{"items":[{"tags":["java","spring-boot","google-analytics","google-analytics-api"],"owner":{"account_id":28939100,"reputation":1,"user_id":22165996,"display_name":"Swati Prajapati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688456443,"creation_date":1688366882,"question_id":76602432,"body_markdown":"I want to track events from the spring boot, I have used the google analytics for that\r\nBut events are not getting tracked in dashboard.\r\n\r\n\r\n\r\n```\r\nprivate GoogleAnalyticsService gaService;\r\n\r\n@GetMapping\r\nString testEvents() throws ServletException {\r\n    gaService.trackEvent();\r\n    return &quot;Event tracked&quot;;\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n@Service\r\npublic class GoogleAnalyticsService {\r\n    \r\n    @Value(&quot;${GA_TRACKING_ID_2}&quot;)\r\n    private String GA_TRACKING_ID_2;\r\n   \r\n    Logger logger = LoggerFactory.getLogger(GoogleAnalyticsService.class);\r\n    @Autowired\r\n    RestTemplate restTemplate;\r\n\r\n    public void trackEvent() throws ServletException {\r\n        try {\r\n            HttpClient client = HttpClientBuilder.create().build();\r\n            URIBuilder builder = new URIBuilder();\r\n            builder\r\n                .setScheme(&quot;https&quot;)\r\n                .setHost(&quot;www.google-analytics.com&quot;)\r\n                .setPath(&quot;/collect&quot;)\r\n                .addParameter(&quot;v&quot;, &quot;1&quot;) // API Version.\r\n                .addParameter(&quot;tid&quot;, GA_TRACKING_ID_2) // Tracking ID / Property ID.\r\n                // Anonymous Client Identifier. Ideally, this should be a UUID that\r\n                // is associated with particular user, device, or browser instance.\r\n                .addParameter(&quot;cid&quot;, &quot;555&quot;)\r\n                .addParameter(&quot;t&quot;, &quot;event2&quot;) // Event hit type.\r\n                .addParameter(&quot;ec&quot;, &quot;example2&quot;) // Event category.\r\n                .addParameter(&quot;ea&quot;, &quot;test action2&quot;); // Event action.\r\n            URI uri = builder.build();\r\n            final HttpHeaders headers = new HttpHeaders();\r\n            headers.set(&quot;user-agent&quot;, &quot;test-User&quot;);\r\n            final HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n            ResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(uri, HttpMethod.GET, entity, byte[].class);\r\n            logger.info(&quot;response: {}&quot;, response.getStatusCode());\r\n\r\n\r\n            // Handle the response if needed\r\n        } catch (URISyntaxException e) {\r\n            // Handle the exception\r\n            throw new ServletException(&quot;Problem building URI&quot;, e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI have also follow this link made all the changes mentioned still events are not getting publish in dashboard. Spring boot log shows me that the request is successful, but nothing appear in Google Analytics dashboard.\r\n\r\nhttps://cloud.google.com/appengine/docs/flexible/integrating-with-analytics?tab=java#top\r\n\r\nhttps://stackoverflow.com/questions/62151765/google-analytics-from-spring-boot-2\r\n\r\nCan anyone please tell what I am missing here.","title":"Google Analytics from Spring Boot","body":"<p>I want to track events from the spring boot, I have used the google analytics for that\nBut events are not getting tracked in dashboard.</p>\n<pre><code>private GoogleAnalyticsService gaService;\n\n@GetMapping\nString testEvents() throws ServletException {\n    gaService.trackEvent();\n    return &quot;Event tracked&quot;;\n}\n</code></pre>\n<pre><code>@Service\npublic class GoogleAnalyticsService {\n    \n    @Value(&quot;${GA_TRACKING_ID_2}&quot;)\n    private String GA_TRACKING_ID_2;\n   \n    Logger logger = LoggerFactory.getLogger(GoogleAnalyticsService.class);\n    @Autowired\n    RestTemplate restTemplate;\n\n    public void trackEvent() throws ServletException {\n        try {\n            HttpClient client = HttpClientBuilder.create().build();\n            URIBuilder builder = new URIBuilder();\n            builder\n                .setScheme(&quot;https&quot;)\n                .setHost(&quot;www.google-analytics.com&quot;)\n                .setPath(&quot;/collect&quot;)\n                .addParameter(&quot;v&quot;, &quot;1&quot;) // API Version.\n                .addParameter(&quot;tid&quot;, GA_TRACKING_ID_2) // Tracking ID / Property ID.\n                // Anonymous Client Identifier. Ideally, this should be a UUID that\n                // is associated with particular user, device, or browser instance.\n                .addParameter(&quot;cid&quot;, &quot;555&quot;)\n                .addParameter(&quot;t&quot;, &quot;event2&quot;) // Event hit type.\n                .addParameter(&quot;ec&quot;, &quot;example2&quot;) // Event category.\n                .addParameter(&quot;ea&quot;, &quot;test action2&quot;); // Event action.\n            URI uri = builder.build();\n            final HttpHeaders headers = new HttpHeaders();\n            headers.set(&quot;user-agent&quot;, &quot;test-User&quot;);\n            final HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\n            ResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(uri, HttpMethod.GET, entity, byte[].class);\n            logger.info(&quot;response: {}&quot;, response.getStatusCode());\n\n\n            // Handle the response if needed\n        } catch (URISyntaxException e) {\n            // Handle the exception\n            throw new ServletException(&quot;Problem building URI&quot;, e);\n        }\n    }\n}\n\n</code></pre>\n<p>I have also follow this link made all the changes mentioned still events are not getting publish in dashboard. Spring boot log shows me that the request is successful, but nothing appear in Google Analytics dashboard.</p>\n<p><a href=\"https://cloud.google.com/appengine/docs/flexible/integrating-with-analytics?tab=java#top\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/flexible/integrating-with-analytics?tab=java#top</a></p>\n<p><a href=\"https://stackoverflow.com/questions/62151765/google-analytics-from-spring-boot-2\">Google Analytics from Spring Boot 2</a></p>\n<p>Can anyone please tell what I am missing here.</p>\n"},{"tags":["java","jpa","interface","spring-data-jpa","extends"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":3,"creation_date":1573835976,"post_id":58881221,"comment_id":104029717,"body_markdown":"One interface cannot *implement* another. An interface *extends* another interface, but a class *implements* an interface.","body":"One interface cannot <i>implement</i> another. An interface <i>extends</i> another interface, but a class <i>implements</i> an interface."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1573837038,"post_id":58881221,"comment_id":104030193,"body_markdown":"@ernest_k Why don&#39;t you add this as the answer?","body":"@ernest_k Why don&#39;t you add this as the answer?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1573837738,"post_id":58881221,"comment_id":104030536,"body_markdown":"@SimonMartinelli I only added a likely correct guess. The question doesn&#39;t show that `TestRepository` is indeed an interface.","body":"@SimonMartinelli I only added a likely correct guess. The question doesn&#39;t show that <code>TestRepository</code> is indeed an interface."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1573900285,"post_id":58881221,"comment_id":104045477,"body_markdown":"@ernest_k Of course it does, unless the code doesn&#39;t compile.","body":"@ernest_k Of course it does, unless the code doesn&#39;t compile."},{"owner":{"account_id":4257508,"reputation":549,"user_id":4645447,"display_name":"Hilton Fernandes"},"score":0,"creation_date":1700094185,"post_id":58881221,"comment_id":136613887,"body_markdown":"If I have read it correctly, the question is about why not define classes using the interfaces. I am new to Spring, and have to learn a lot. As far as  I understood, Spring has a backstage machinery that creates anonymous classes from interfaces in the backstage -- either in the runtime, or using annotations.","body":"If I have read it correctly, the question is about why not define classes using the interfaces. I am new to Spring, and have to learn a lot. As far as  I understood, Spring has a backstage machinery that creates anonymous classes from interfaces in the backstage -- either in the runtime, or using annotations."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1688456412,"creation_date":1573899910,"answer_id":58889720,"question_id":58881221,"body_markdown":"I assume your code looks like\r\n\r\n    interface TestRepository extends JpaRepository&lt;Test, Long&gt;\r\n\r\nSo TestRepository is an interface and interfaces can extend other interfaces not implement interfaces.\r\n\r\nThe TestRepository will be implemented from Spring Data JPA during runtime based on the SimpleJpaRepository\r\n\r\n&lt;https://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java&gt;","title":"Why do we extend JpaRepository Interface and not implements it","body":"<p>I assume your code looks like</p>\n<pre><code>interface TestRepository extends JpaRepository&lt;Test, Long&gt;\n</code></pre>\n<p>So TestRepository is an interface and interfaces can extend other interfaces not implement interfaces.</p>\n<p>The TestRepository will be implemented from Spring Data JPA during runtime based on the SimpleJpaRepository</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java</a></p>\n"},{"tags":[],"owner":{"account_id":17111412,"reputation":129,"user_id":12382107,"display_name":"sai"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573905891,"creation_date":1573901025,"answer_id":58889854,"question_id":58881221,"body_markdown":"In Java\r\n\r\n1. Class extends Class \r\n       `class Test Extends Thread`\r\n2. interface Extend interface \r\n        `public interface TestI extends Runtime`\r\n3. class implements interface \r\n      `public class Test implements Runnable` \r\n   \r\n","title":"Why do we extend JpaRepository Interface and not implements it","body":"<p>In Java</p>\n\n<ol>\n<li>Class extends Class \n   <code>class Test Extends Thread</code></li>\n<li>interface Extend interface \n    <code>public interface TestI extends Runtime</code></li>\n<li>class implements interface \n  <code>public class Test implements Runnable</code> </li>\n</ol>\n"}],"owner":{"account_id":13367587,"reputation":71,"user_id":10337836,"display_name":"A Tariq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4904,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":58889720,"answer_count":2,"score":6,"last_activity_date":1688456412,"creation_date":1573835794,"question_id":58881221,"body_markdown":"`TestRepository ***extends*** JpaRespotiroy&lt;Test,Long&gt;`\r\n\r\nJpaRepository is an interface. Why do we extend it and not implement it as we know in Java? As far as I know, interfaces are implemented, not extended. \r\n\r\nCan somebody explain to me please? ","title":"Why do we extend JpaRepository Interface and not implements it","body":"<p><code>TestRepository ***extends*** JpaRespotiroy&lt;Test,Long&gt;</code></p>\n\n<p>JpaRepository is an interface. Why do we extend it and not implement it as we know in Java? As far as I know, interfaces are implemented, not extended. </p>\n\n<p>Can somebody explain to me please? </p>\n"},{"tags":["java","spring-boot","apache-kafka"],"answers":[{"tags":[],"owner":{"display_name":"user11311618"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1555922378,"creation_date":1555922378,"answer_id":55791543,"question_id":55790274,"body_markdown":"the problem was that i was calling Consumer from Application.java as well , hence i had 2 instance of `Kafka consumer` but i limited my group size as 1.\r\n\r\nThe producer problem was due to properties i set up for the producer.\r\n\r\nsorry for the trouble.","title":"Removed 0 expired offsets in 1 milliseconds. (kafka.coordinator.group.GroupMetadataManager)","body":"<p>the problem was that i was calling Consumer from Application.java as well , hence i had 2 instance of <code>Kafka consumer</code> but i limited my group size as 1.</p>\n\n<p>The producer problem was due to properties i set up for the producer.</p>\n\n<p>sorry for the trouble.</p>\n"}],"owner":{"display_name":"user11311618"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3676,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55791543,"answer_count":1,"score":0,"last_activity_date":1688456410,"creation_date":1555915744,"question_id":55790274,"body_markdown":"I&#39;m new to kafka. i&#39;m trying to call kafka consumer through my spring boot and kafka-producer through my terminal.\r\n\r\nThe code worked fine previously but recently i keep getting this the log form consumer side\r\n\r\n    2019-04-22 11:56:39.415  INFO 10253 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version : 2.0.1\r\n    2019-04-22 11:56:39.416  INFO 10253 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId : fa14705e51bd2ce5\r\n    2019-04-22 11:56:39.424  INFO 10253 --- [           main] org.apache.kafka.clients.Metadata        : Cluster ID: iR8AmeB9RC-eqS7rrFyYGw\r\n    2019-04-22 11:56:39.425  INFO 10253 --- [           main] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=com.stellapps.rtc] Discovered group coordinator akash-Lenovo-ideapad-330-15IKB:9092 (id: 2147483647 rack: null)\r\n    2019-04-22 11:56:39.426  INFO 10253 --- [           main] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=com.stellapps.rtc] Revoking previously assigned partitions []\r\n    2019-04-22 11:56:39.427  INFO 10253 --- [           main] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=com.stellapps.rtc] (Re-)joining group\r\n    2019-04-22 11:56:42.164  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:56:45.183  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:56:48.201  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:56:51.218  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:56:54.235  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:56:57.256  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:57:00.276  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:57:03.294  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:57:06.315  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:57:09.334  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n\r\nand this from producer side\r\n\r\n    2019-04-22 11:57:47,755] INFO [GroupMetadataManager brokerId=0] Removed 0 expired offsets in 1 milliseconds. (kafka.coordinator.group.GroupMetadataManager)\r\n    [2019-04-22 12:00:38,119] INFO [GroupCoordinator 0]: Member consumer-1-c8b9d4fd-d2e3-45a3-8f9a-2e825a9a87bd in group com.stellapps.rtc has failed, removing it from the group (kafka.coordinator.group.GroupCoordinator)\r\n    [2019-04-22 12:00:38,123] INFO [GroupCoordinator 0]: Stabilized group com.stellapps.rtc generation 11 (__consumer_offsets-30) (kafka.coordinator.group.GroupCoordinator)\r\n    [2019-04-22 12:00:48,124] INFO [GroupCoordinator 0]: Member consumer-2-8f068bb6-d78c-458f-9775-d6b13ca54b57 in group com.stellapps.rtc has failed, removing it from the group (kafka.coordinator.group.GroupCoordinator)\r\n    [2019-04-22 12:00:48,125] INFO [GroupCoordinator 0]: Preparing to rebalance group com.stellapps.rtc in state PreparingRebalance with old generation 11 (__consumer_offsets-30) (reason: removing member consumer-2-8f068bb6-d78c-458f-9775-d6b13ca54b57 on heartbeat expiration) (kafka.coordinator.group.GroupCoordinator)\r\n    [2019-04-22 12:00:48,125] INFO [GroupCoordinator 0]: Group com.stellapps.rtc with generation 12 is now empty (__consumer_offsets-30) (kafka.coordinator.group.GroupCoordinator)\r\n    [2019-04-22 12:07:47,755] INFO [GroupMetadataManager brokerId=0] Removed 0 expired offsets in 0 milliseconds. (kafka.coordinator.group.GroupMetadataManager)\r\n\r\n\r\nthe consumer does not accept any input from the producer. I tried changing the poll value but no vain , the message keeps coming or the consumer simply does not accept the input form producer.\r\n\r\nhere is my Spring boot code.\r\n\r\n\r\n\r\n    import com.stellapps.rtc.reset.RTCInterpreter;\r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.clients.consumer.KafkaConsumer;\r\n    import org.apache.kafka.clients.consumer.ConsumerRecords;\r\n    import org.apache.kafka.clients.consumer.Consumer;\r\n    import org.apache.kafka.common.serialization.LongDeserializer;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    import com.stellapps.rtc.reset.json.DataParser;\r\n    \r\n    import java.time.Duration;\r\n    import java.util.Collections;\r\n    import java.util.Properties;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    \r\n    @Component\r\n    public class DataConsumer {\r\n    \r\n        @Autowired\r\n        private RTCInterpreter interpret;\r\n    \r\n    \r\n        private Consumer&lt;Long, String&gt; createConsumer(String topic) {\r\n            final String BOOTSTRAP_SERVERS = &quot;localhost:9092&quot;;\r\n            final Properties props = new Properties();\r\n            props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\r\n            props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;com.stellapps.rtc&quot;); // group Id of the consumer group (if a consumer\r\n            // group exists).\r\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, LongDeserializer.class.getName());\r\n            props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n            // Create the consumer using props.\r\n            final Consumer&lt;Long, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\r\n            // Subscribe to the topic.\r\n            consumer.subscribe(Collections.singletonList(topic));\r\n            return consumer;\r\n        }\r\n    \r\n       public void runConsumer(String topic) throws InterruptedException {\r\n            try {\r\n                final Consumer&lt;Long, String&gt; consumer = createConsumer(topic);\r\n    \r\n                final int giveUp = 1000;\r\n                int noRecordsCount = 0;\r\n                while (true) {\r\n                    final ConsumerRecords&lt;Long, String&gt; consumerRecords = consumer.poll(Duration.ofSeconds(1));\r\n                    if (consumerRecords.count() == 0) {\r\n                        noRecordsCount++;\r\n                        if (noRecordsCount &gt; giveUp)\r\n                            break;\r\n                        else\r\n                            continue;\r\n                    }\r\n                    consumerRecords.forEach(record -&gt; {\r\n                        // System.out.printf(&quot; %s\\n&quot;, record.value().getClass().getName());\r\n                        interpret.call(record.value());\r\n                    });\r\n                    consumer.commitAsync();\r\n                }\r\n                consumer.close();\r\n                System.out.println(&quot;Kafka is closed&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            try {\r\n                Runnable r = new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        System.out.println(Thread.currentThread().getName());\r\n    \r\n                        try {\r\n                            runConsumer(&quot;consume&quot;);  \r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n    \r\n                    }\r\n                };\r\n                Thread run = new Thread(r);\r\n                run.join();\r\n                run.start();\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nplease help me.","title":"Removed 0 expired offsets in 1 milliseconds. (kafka.coordinator.group.GroupMetadataManager)","body":"<p>I'm new to kafka. i'm trying to call kafka consumer through my spring boot and kafka-producer through my terminal.</p>\n\n<p>The code worked fine previously but recently i keep getting this the log form consumer side</p>\n\n<pre><code>2019-04-22 11:56:39.415  INFO 10253 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version : 2.0.1\n2019-04-22 11:56:39.416  INFO 10253 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId : fa14705e51bd2ce5\n2019-04-22 11:56:39.424  INFO 10253 --- [           main] org.apache.kafka.clients.Metadata        : Cluster ID: iR8AmeB9RC-eqS7rrFyYGw\n2019-04-22 11:56:39.425  INFO 10253 --- [           main] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=com.stellapps.rtc] Discovered group coordinator akash-Lenovo-ideapad-330-15IKB:9092 (id: 2147483647 rack: null)\n2019-04-22 11:56:39.426  INFO 10253 --- [           main] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=com.stellapps.rtc] Revoking previously assigned partitions []\n2019-04-22 11:56:39.427  INFO 10253 --- [           main] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=com.stellapps.rtc] (Re-)joining group\n2019-04-22 11:56:42.164  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:56:45.183  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:56:48.201  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:56:51.218  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:56:54.235  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:56:57.256  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:57:00.276  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:57:03.294  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:57:06.315  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:57:09.334  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n</code></pre>\n\n<p>and this from producer side</p>\n\n<pre><code>2019-04-22 11:57:47,755] INFO [GroupMetadataManager brokerId=0] Removed 0 expired offsets in 1 milliseconds. (kafka.coordinator.group.GroupMetadataManager)\n[2019-04-22 12:00:38,119] INFO [GroupCoordinator 0]: Member consumer-1-c8b9d4fd-d2e3-45a3-8f9a-2e825a9a87bd in group com.stellapps.rtc has failed, removing it from the group (kafka.coordinator.group.GroupCoordinator)\n[2019-04-22 12:00:38,123] INFO [GroupCoordinator 0]: Stabilized group com.stellapps.rtc generation 11 (__consumer_offsets-30) (kafka.coordinator.group.GroupCoordinator)\n[2019-04-22 12:00:48,124] INFO [GroupCoordinator 0]: Member consumer-2-8f068bb6-d78c-458f-9775-d6b13ca54b57 in group com.stellapps.rtc has failed, removing it from the group (kafka.coordinator.group.GroupCoordinator)\n[2019-04-22 12:00:48,125] INFO [GroupCoordinator 0]: Preparing to rebalance group com.stellapps.rtc in state PreparingRebalance with old generation 11 (__consumer_offsets-30) (reason: removing member consumer-2-8f068bb6-d78c-458f-9775-d6b13ca54b57 on heartbeat expiration) (kafka.coordinator.group.GroupCoordinator)\n[2019-04-22 12:00:48,125] INFO [GroupCoordinator 0]: Group com.stellapps.rtc with generation 12 is now empty (__consumer_offsets-30) (kafka.coordinator.group.GroupCoordinator)\n[2019-04-22 12:07:47,755] INFO [GroupMetadataManager brokerId=0] Removed 0 expired offsets in 0 milliseconds. (kafka.coordinator.group.GroupMetadataManager)\n</code></pre>\n\n<p>the consumer does not accept any input from the producer. I tried changing the poll value but no vain , the message keeps coming or the consumer simply does not accept the input form producer.</p>\n\n<p>here is my Spring boot code.</p>\n\n<pre><code>import com.stellapps.rtc.reset.RTCInterpreter;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\nimport org.apache.kafka.clients.consumer.Consumer;\nimport org.apache.kafka.common.serialization.LongDeserializer;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport com.stellapps.rtc.reset.json.DataParser;\n\nimport java.time.Duration;\nimport java.util.Collections;\nimport java.util.Properties;\n\nimport javax.annotation.PostConstruct;\n\n@Component\npublic class DataConsumer {\n\n    @Autowired\n    private RTCInterpreter interpret;\n\n\n    private Consumer&lt;Long, String&gt; createConsumer(String topic) {\n        final String BOOTSTRAP_SERVERS = \"localhost:9092\";\n        final Properties props = new Properties();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, \"com.stellapps.rtc\"); // group Id of the consumer group (if a consumer\n        // group exists).\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, LongDeserializer.class.getName());\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        // Create the consumer using props.\n        final Consumer&lt;Long, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\n        // Subscribe to the topic.\n        consumer.subscribe(Collections.singletonList(topic));\n        return consumer;\n    }\n\n   public void runConsumer(String topic) throws InterruptedException {\n        try {\n            final Consumer&lt;Long, String&gt; consumer = createConsumer(topic);\n\n            final int giveUp = 1000;\n            int noRecordsCount = 0;\n            while (true) {\n                final ConsumerRecords&lt;Long, String&gt; consumerRecords = consumer.poll(Duration.ofSeconds(1));\n                if (consumerRecords.count() == 0) {\n                    noRecordsCount++;\n                    if (noRecordsCount &gt; giveUp)\n                        break;\n                    else\n                        continue;\n                }\n                consumerRecords.forEach(record -&gt; {\n                    // System.out.printf(\" %s\\n\", record.value().getClass().getName());\n                    interpret.call(record.value());\n                });\n                consumer.commitAsync();\n            }\n            consumer.close();\n            System.out.println(\"Kafka is closed\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @PostConstruct\n    public void init() {\n        try {\n            Runnable r = new Runnable() {\n                @Override\n                public void run() {\n                    System.out.println(Thread.currentThread().getName());\n\n                    try {\n                        runConsumer(\"consume\");  \n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n\n                }\n            };\n            Thread run = new Thread(r);\n            run.join();\n            run.start();\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>please help me.</p>\n"},{"tags":["java","function","aws-lambda","micronaut","poc"],"comments":[{"owner":{"account_id":95078,"reputation":7995,"user_id":259167,"display_name":"Graeme Rocher"},"score":1,"creation_date":1624266383,"post_id":67894014,"comment_id":120301897,"body_markdown":"Does the generate test not show how to do that? https://micronaut.io/launch/?javaVersion=JDK_11&amp;lang=JAVA&amp;build=MAVEN&amp;test=JUNIT&amp;name=demo&amp;package=com.example&amp;type=FUNCTION&amp;version=2.5.6&amp;activity=preview&amp;showing=/src/test/java/com/example/BookRequestHandlerTest.java","body":"Does the generate test not show how to do that? <a href=\"https://micronaut.io/launch/?javaVersion=JDK_11&amp;lang=JAVA&amp;build=MAVEN&amp;test=JUNIT&amp;name=demo&amp;package=com.example&amp;type=FUNCTION&amp;version=2.5.6&amp;activity=preview&amp;showing=/src/test/java/com/example/BookRequestHandlerTest.java\" rel=\"nofollow noreferrer\">micronaut.io/launch/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21821657,"reputation":34,"user_id":16117790,"display_name":"Fernando Soto Dev"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1623788144,"creation_date":1623778071,"answer_id":67990939,"question_id":67894014,"body_markdown":"Maven profiles can be used to select the runtime (in this expample uses netty) and the main class:\r\n```xml\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;local&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;exec.mainClass&gt;micronaut.Application&lt;/exec.mainClass&gt;\r\n                &lt;micronaut.runtime&gt;netty&lt;/micronaut.runtime&gt;\r\n            &lt;/properties&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;micronaut-http-server-netty&lt;/artifactId&gt;\r\n                    &lt;scope&gt;compile&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```\r\nCreate the main class with a controller with a Post method that calls the function\r\n```java\r\npackage micronaut;\r\n\r\nimport io.micronaut.http.annotation.Body;\r\nimport io.micronaut.http.annotation.Controller;\r\nimport io.micronaut.http.annotation.Post;\r\nimport io.micronaut.runtime.Micronaut;\r\nimport micronaut.test.Book;\r\nimport micronaut.test.BookRequestHandler;\r\nimport micronaut.test.BookSaved;\r\n\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        Micronaut.run(Application.class, args);\r\n    }\r\n\r\n    @Controller()\r\n    public static class LambdaController {\r\n\r\n        private static final BookRequestHandler handler = new BookRequestHandler();\r\n\r\n        @Post\r\n        public BookSaved execute(@Body Book book) {\r\n            return handler.execute(book);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nand run with\r\n```sh\r\nmvnw mn:run -Plocal\r\n```\r\n\r\nNow you can use\r\n```sh\r\ncurl --location --request POST &#39;http://localhost:8080/&#39; \\\r\n--header &#39;Content-Type: application/json&#39; \\\r\n--data-raw &#39;{&quot;name&quot;: &quot;Test&quot;}&#39;\r\n```\r\nreturning\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;Test&quot;,\r\n    &quot;isbn&quot;: &quot;2a163c3d-4bd6-444d-914d-58daf3e649b8&quot;\r\n}\r\n```\r\n\r\nThis a bit hacky, to test your function you can see *micronaut-test/src/test/java/micronaut/test/BookRequestHandlerTest.java* class or see [Testing Lambda Handlers][1] official docs.\r\n\r\n**Note:** For applications created with **mn create-app -f aws-lambda ...** is not needed the *&lt;exec.mainClass&gt;* in pom.xml, and the Application.java is generated.\r\n\r\n\r\n  [1]: https://micronaut-projects.github.io/micronaut-aws/latest/guide/#lambdaTesting","title":"Running micronaut serverless locally","body":"<p>Maven profiles can be used to select the runtime (in this expample uses netty) and the main class:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;local&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;exec.mainClass&gt;micronaut.Application&lt;/exec.mainClass&gt;\n                &lt;micronaut.runtime&gt;netty&lt;/micronaut.runtime&gt;\n            &lt;/properties&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                    &lt;artifactId&gt;micronaut-http-server-netty&lt;/artifactId&gt;\n                    &lt;scope&gt;compile&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>Create the main class with a controller with a Post method that calls the function</p>\n<pre class=\"lang-java prettyprint-override\"><code>package micronaut;\n\nimport io.micronaut.http.annotation.Body;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Post;\nimport io.micronaut.runtime.Micronaut;\nimport micronaut.test.Book;\nimport micronaut.test.BookRequestHandler;\nimport micronaut.test.BookSaved;\n\npublic class Application {\n\n    public static void main(String[] args) {\n        Micronaut.run(Application.class, args);\n    }\n\n    @Controller()\n    public static class LambdaController {\n\n        private static final BookRequestHandler handler = new BookRequestHandler();\n\n        @Post\n        public BookSaved execute(@Body Book book) {\n            return handler.execute(book);\n        }\n    }\n}\n\n</code></pre>\n<p>and run with</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvnw mn:run -Plocal\n</code></pre>\n<p>Now you can use</p>\n<pre class=\"lang-sh prettyprint-override\"><code>curl --location --request POST 'http://localhost:8080/' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{&quot;name&quot;: &quot;Test&quot;}'\n</code></pre>\n<p>returning</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;Test&quot;,\n    &quot;isbn&quot;: &quot;2a163c3d-4bd6-444d-914d-58daf3e649b8&quot;\n}\n</code></pre>\n<p>This a bit hacky, to test your function you can see <em>micronaut-test/src/test/java/micronaut/test/BookRequestHandlerTest.java</em> class or see <a href=\"https://micronaut-projects.github.io/micronaut-aws/latest/guide/#lambdaTesting\" rel=\"nofollow noreferrer\">Testing Lambda Handlers</a> official docs.</p>\n<p><strong>Note:</strong> For applications created with <strong>mn create-app -f aws-lambda ...</strong> is not needed the <em>&lt;exec.mainClass&gt;</em> in pom.xml, and the Application.java is generated.</p>\n"},{"tags":[],"owner":{"account_id":18045393,"reputation":1,"user_id":13116533,"display_name":"Dangari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688456325,"creation_date":1688456325,"answer_id":76610317,"question_id":67894014,"body_markdown":"I wanted to achieve the same result using a Micronaut project with Gradle and Kotlin, and after extensive searching, this was the only solution I found. Now, I&#39;d like to share my solution with others who may encounter the same problem while working with Gradle.\r\n\r\nDefine a new configuration in your build.gradle file:\r\n\r\n    configurations {\r\n        create(&quot;localRuntime&quot;)\r\n    }\r\nAdd the Micronaut Netty runtime dependency to your dependencies block:\r\n\r\n    dependencies {\r\n        ...\r\n        localRuntime(&quot;io.micronaut:micronaut-http-server-netty:$micronautVersion&quot;)\r\n    }\r\nMake sure to replace $micronautVersion with the appropriate version of Micronaut.\r\nCreate a new Gradle task to run the project locally:\r\n\r\n    tasks.register(&#39;runLocal&#39;, JavaExec) {\r\n        print(configurations.getByName(&quot;localRuntime&quot;))\r\n        classpath = configurations.getByName(&quot;localRuntime&quot;) + sourceSets.main.runtimeClasspath\r\n        mainClass = &quot;com.example.ApplicationKt&quot;\r\n        args(&quot;--micronaut.runtime=netty&quot;)\r\n    }\r\n\r\nRun the project locally using the `runLocal` task: \r\n\r\n    gradle runLocal\r\n\r\nMy `Application.kt`:\r\n\r\n    package com.example\r\n    \r\n    import io.micronaut.runtime.Micronaut.run\r\n    \r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n    \trun(*args)\r\n    }\r\n\r\nController:\r\n\r\n    package com.example\r\n    \r\n    import io.micronaut.http.annotation.Controller\r\n    import io.micronaut.http.annotation.Get\r\n    \r\n    @Controller\r\n    class ExampleController {\r\n    \r\n        @Get(&quot;/hello&quot;)\r\n        fun helloWorld() = mapOf(&quot;message&quot; to &quot;Hello World&quot;)\r\n    }","title":"Running micronaut serverless locally","body":"<p>I wanted to achieve the same result using a Micronaut project with Gradle and Kotlin, and after extensive searching, this was the only solution I found. Now, I'd like to share my solution with others who may encounter the same problem while working with Gradle.</p>\n<p>Define a new configuration in your build.gradle file:</p>\n<pre><code>configurations {\n    create(&quot;localRuntime&quot;)\n}\n</code></pre>\n<p>Add the Micronaut Netty runtime dependency to your dependencies block:</p>\n<pre><code>dependencies {\n    ...\n    localRuntime(&quot;io.micronaut:micronaut-http-server-netty:$micronautVersion&quot;)\n}\n</code></pre>\n<p>Make sure to replace $micronautVersion with the appropriate version of Micronaut.\nCreate a new Gradle task to run the project locally:</p>\n<pre><code>tasks.register('runLocal', JavaExec) {\n    print(configurations.getByName(&quot;localRuntime&quot;))\n    classpath = configurations.getByName(&quot;localRuntime&quot;) + sourceSets.main.runtimeClasspath\n    mainClass = &quot;com.example.ApplicationKt&quot;\n    args(&quot;--micronaut.runtime=netty&quot;)\n}\n</code></pre>\n<p>Run the project locally using the <code>runLocal</code> task:</p>\n<pre><code>gradle runLocal\n</code></pre>\n<p>My <code>Application.kt</code>:</p>\n<pre><code>package com.example\n\nimport io.micronaut.runtime.Micronaut.run\n\n\nfun main(args: Array&lt;String&gt;) {\n    run(*args)\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>package com.example\n\nimport io.micronaut.http.annotation.Controller\nimport io.micronaut.http.annotation.Get\n\n@Controller\nclass ExampleController {\n\n    @Get(&quot;/hello&quot;)\n    fun helloWorld() = mapOf(&quot;message&quot; to &quot;Hello World&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":7591077,"reputation":43,"user_id":5758727,"display_name":"MrBlackV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1239,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67990939,"answer_count":2,"score":2,"last_activity_date":1688456325,"creation_date":1623183229,"question_id":67894014,"body_markdown":"I&#39;m trying to create an AWS Lambda function with micronaut using functions i.e. I created my poc project with:\r\n\r\n    mn create-function-app --build=maven --jdk=11 micronaut-test\r\n\r\nI can build and deploy it to AWS very easily but I wonder if there is a way to run it locally so I can quickly test changes in the same way you can run a regular micronaut app with \r\n\r\n    mvn mn:run\r\n\r\nRight now is just the sample app, reformulating my question; Can I trigger the execute method in BookRequestHandler without uploading it to AWS?\r\n\r\nThanks in advance.","title":"Running micronaut serverless locally","body":"<p>I'm trying to create an AWS Lambda function with micronaut using functions i.e. I created my poc project with:</p>\n<pre><code>mn create-function-app --build=maven --jdk=11 micronaut-test\n</code></pre>\n<p>I can build and deploy it to AWS very easily but I wonder if there is a way to run it locally so I can quickly test changes in the same way you can run a regular micronaut app with</p>\n<pre><code>mvn mn:run\n</code></pre>\n<p>Right now is just the sample app, reformulating my question; Can I trigger the execute method in BookRequestHandler without uploading it to AWS?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","maven","spring-boot","docker","pom.xml"],"comments":[{"owner":{"account_id":6275737,"reputation":340,"user_id":4878465,"display_name":"Fana Sithole"},"score":1,"creation_date":1565041718,"post_id":57366246,"comment_id":101219099,"body_markdown":"Out of interest though, why do you want your container to run the maven build? This can be run by the host and you just copy the `.jar` into your container","body":"Out of interest though, why do you want your container to run the maven build? This can be run by the host and you just copy the <code>.jar</code> into your container"},{"owner":{"account_id":6178319,"reputation":141,"user_id":4814583,"accept_rate":57,"display_name":"Ricki"},"score":0,"creation_date":1565042651,"post_id":57366246,"comment_id":101219336,"body_markdown":"to make it a bit more automatic and not have to be building on the host","body":"to make it a bit more automatic and not have to be building on the host"},{"owner":{"account_id":6275737,"reputation":340,"user_id":4878465,"display_name":"Fana Sithole"},"score":1,"creation_date":1565043018,"post_id":57366246,"comment_id":101219429,"body_markdown":"Generally, a dedicated build server, like Jenkins is used for such tasks and the resulting artefacts are used to build a container but for local development, your way  works","body":"Generally, a dedicated build server, like Jenkins is used for such tasks and the resulting artefacts are used to build a container but for local development, your way  works"},{"owner":{"account_id":2926221,"reputation":727,"user_id":2507462,"display_name":"Daniel Sobrado"},"score":0,"creation_date":1660657063,"post_id":57366246,"comment_id":129579871,"body_markdown":"I had the same problem and I solved it by doing a git clone from the docker container itself that brings the full repo including the parent, and then I used mvnw install -pl to install only the modules I need.","body":"I had the same problem and I solved it by doing a git clone from the docker container itself that brings the full repo including the parent, and then I used mvnw install -pl to install only the modules I need."}],"answers":[{"tags":[],"owner":{"account_id":6275737,"reputation":340,"user_id":4878465,"display_name":"Fana Sithole"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1565046335,"creation_date":1565041616,"answer_id":57366462,"question_id":57366246,"body_markdown":"Maven is a tool that enables a declarative way of managing your project&#39;s dependencies. It does that by standardising the way jar and pom files (artifacts) are shared by projects and uses maven coordinates to declare a project dependency (groupId, artifactId and version) which are then looked up in a large public maven repository of jar and pom files called Maven Central.\r\n\r\nIn order to have your jar/pom files (like your core for example) managed as a maven artifact, you need to deploy your artifact to either the Maven Central (public repository accessible by anyone) or a private repository some where in your private network (or even on the internet, and maybe with authentication). In the case of a private repository, you need to include the you private repository so that your maven execution not only looks for artifacts in Maven Central, but also in your private repository. You can achieve this by adding the following to your `settings.xml` file:\r\n\r\n```xml\r\n&lt;!-- Authentication here --&gt;\r\n&lt;servers&gt;\r\n  &lt;server&gt;\r\n      &lt;id&gt;nexus&lt;/id&gt;\r\n      &lt;username&gt;some_username&lt;/username&gt;\r\n      &lt;password&gt;some_passowrd&lt;/password&gt;\r\n    &lt;/server&gt;\r\n&lt;/servers&gt;\r\n...\r\n &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;nexus&lt;/id&gt;\r\n      &lt;!--Override the repository (and pluginRepository) &quot;central&quot; from the\r\n   Maven Super POM --&gt;\r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;nexus-release&lt;/id&gt;\r\n          &lt;name&gt;nexus-release&lt;/name&gt;\r\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/releases&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;nexus-thirdparty&lt;/id&gt;\r\n          &lt;name&gt;nexus-thirdparty&lt;/name&gt;\r\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/thirdparty&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n      &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n          &lt;id&gt;nexus-plugin-release&lt;/id&gt;\r\n          &lt;name&gt;nexus-plugin-release&lt;/name&gt;\r\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/releases/&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n        &lt;pluginRepository&gt;\r\n          &lt;id&gt;nexus-plugin-third-party&lt;/id&gt;\r\n          &lt;name&gt;nexus-plugin-third-party&lt;/name&gt;\r\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/thirdparty/&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n      &lt;/pluginRepositories&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n...\r\n```\r\n\r\nI noticed your child `pom.xml` file references a custom parent module. You need to make sure that your parent module is in a maven repository (Nexus/Artifactory) and that you supply a `settings.xml` file with the repository settings for the Docker container to be able to pull the parent pom.","title":"Non-resolvable parent POM on Docker Build","body":"<p>Maven is a tool that enables a declarative way of managing your project's dependencies. It does that by standardising the way jar and pom files (artifacts) are shared by projects and uses maven coordinates to declare a project dependency (groupId, artifactId and version) which are then looked up in a large public maven repository of jar and pom files called Maven Central.</p>\n\n<p>In order to have your jar/pom files (like your core for example) managed as a maven artifact, you need to deploy your artifact to either the Maven Central (public repository accessible by anyone) or a private repository some where in your private network (or even on the internet, and maybe with authentication). In the case of a private repository, you need to include the you private repository so that your maven execution not only looks for artifacts in Maven Central, but also in your private repository. You can achieve this by adding the following to your <code>settings.xml</code> file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Authentication here --&gt;\n&lt;servers&gt;\n  &lt;server&gt;\n      &lt;id&gt;nexus&lt;/id&gt;\n      &lt;username&gt;some_username&lt;/username&gt;\n      &lt;password&gt;some_passowrd&lt;/password&gt;\n    &lt;/server&gt;\n&lt;/servers&gt;\n...\n &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;nexus&lt;/id&gt;\n      &lt;!--Override the repository (and pluginRepository) \"central\" from the\n   Maven Super POM --&gt;\n      &lt;repositories&gt;\n        &lt;repository&gt;\n          &lt;id&gt;nexus-release&lt;/id&gt;\n          &lt;name&gt;nexus-release&lt;/name&gt;\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/releases&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n          &lt;id&gt;nexus-thirdparty&lt;/id&gt;\n          &lt;name&gt;nexus-thirdparty&lt;/name&gt;\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/thirdparty&lt;/url&gt;\n        &lt;/repository&gt;\n      &lt;/repositories&gt;\n      &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n          &lt;id&gt;nexus-plugin-release&lt;/id&gt;\n          &lt;name&gt;nexus-plugin-release&lt;/name&gt;\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/releases/&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n          &lt;id&gt;nexus-plugin-third-party&lt;/id&gt;\n          &lt;name&gt;nexus-plugin-third-party&lt;/name&gt;\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/thirdparty/&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n      &lt;/pluginRepositories&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n...\n</code></pre>\n\n<p>I noticed your child <code>pom.xml</code> file references a custom parent module. You need to make sure that your parent module is in a maven repository (Nexus/Artifactory) and that you supply a <code>settings.xml</code> file with the repository settings for the Docker container to be able to pull the parent pom.</p>\n"},{"tags":[],"owner":{"account_id":60136,"reputation":6403,"user_id":179744,"accept_rate":88,"display_name":"Robocide"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688455930,"creation_date":1688455930,"answer_id":76610285,"question_id":57366246,"body_markdown":"In my case i was getting this due to the fact that apparently the Dockerfile instructions as copy can not see the parent folders !\r\n\r\nmeaning \r\nif you have a structure : \r\n\r\n    ParentProject\r\n    | \r\n    --&gt; Child Module A \r\n    --&gt; pom.xml\r\n    --&gt; DockerFile\r\n    | \r\n    --&gt; Child Module B  \r\n    --&gt; pom.xml\r\n    --&gt; DockerFile\r\n    |\r\n    -&gt; pom.xml\r\n\r\nthe Dockerfiles inside the modules can&#39;t perform actions like : \r\n\r\n    COPY ../pom.xml /\r\n\r\nbecause it can&#39;t access localSystem &quot;..&quot; !! the solution was to move the Dockerfiles to the parent folder like this : \r\n\r\n    ParentProject\r\n    | \r\n    --&gt; Child Module A \r\n    --&gt; pom.xml\r\n    | \r\n    --&gt; Child Module B  \r\n    --&gt; pom.xml\r\n    |\r\n    --&gt; DockerFileA\r\n    --&gt; DockerFileB\r\n    -&gt; pom.xml\r\n\r\nand then i was just doing something like this : \r\n\r\n    WORKDIR /app\r\n    \r\n    COPY ./pom.xml /app\r\n    \r\n    COPY ./ChildA/pom.xml /app/child-project/\r\n\r\nIt took me tons of times to figure this out, i needed to create a container just with COPY instructions without running maven , and then i drilled into the container files and found that the pom parent was not copied and actually somehow the docker copied the child pom as the parent pom for this instruction : \r\n\r\n    COPY ../pom.xml /\r\n\r\nso you should know that when building docker , you can&#39;t copy files from parent folders in your localMachine since it does not have access to it. \r\nand it will execute the same command on the current folder, which makes it really hard to detect since no error is thrown upon it scenario.\r\n\r\n","title":"Non-resolvable parent POM on Docker Build","body":"<p>In my case i was getting this due to the fact that apparently the Dockerfile instructions as copy can not see the parent folders !</p>\n<p>meaning\nif you have a structure :</p>\n<pre><code>ParentProject\n| \n--&gt; Child Module A \n--&gt; pom.xml\n--&gt; DockerFile\n| \n--&gt; Child Module B  \n--&gt; pom.xml\n--&gt; DockerFile\n|\n-&gt; pom.xml\n</code></pre>\n<p>the Dockerfiles inside the modules can't perform actions like :</p>\n<pre><code>COPY ../pom.xml /\n</code></pre>\n<p>because it can't access localSystem &quot;..&quot; !! the solution was to move the Dockerfiles to the parent folder like this :</p>\n<pre><code>ParentProject\n| \n--&gt; Child Module A \n--&gt; pom.xml\n| \n--&gt; Child Module B  \n--&gt; pom.xml\n|\n--&gt; DockerFileA\n--&gt; DockerFileB\n-&gt; pom.xml\n</code></pre>\n<p>and then i was just doing something like this :</p>\n<pre><code>WORKDIR /app\n\nCOPY ./pom.xml /app\n\nCOPY ./ChildA/pom.xml /app/child-project/\n</code></pre>\n<p>It took me tons of times to figure this out, i needed to create a container just with COPY instructions without running maven , and then i drilled into the container files and found that the pom parent was not copied and actually somehow the docker copied the child pom as the parent pom for this instruction :</p>\n<pre><code>COPY ../pom.xml /\n</code></pre>\n<p>so you should know that when building docker , you can't copy files from parent folders in your localMachine since it does not have access to it.\nand it will execute the same command on the current folder, which makes it really hard to detect since no error is thrown upon it scenario.</p>\n"}],"owner":{"account_id":6178319,"reputation":141,"user_id":4814583,"accept_rate":57,"display_name":"Ricki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5619,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":57366462,"answer_count":2,"score":5,"last_activity_date":1688455930,"creation_date":1565040144,"question_id":57366246,"body_markdown":"I’m trying to build a Docker image from my DockerFile but  keep getting an error like it can&#39;t find the parent `pom.xml` to perform a maven command in the docker file and build the project.\r\nIve been looking around and you see what people do is the add to the child `pom.xml` a reference to the parent pom.xml y tried adding a `relativePath&gt;.. /pom.xml/relativePath&gt;` to the child but still won&#39;t work.\r\n##Maven-multimodule project\r\n\r\n\r\n[![project structure[1]][1]\r\n\r\n\r\n\r\n##DockerFile\r\n\r\n    FROM alpine/git as clone\r\n    WORKDIR /app\r\n    RUN git clone https://github.com/RicardoVargasLeslie/manager.git\r\n    \r\n    FROM openjdk:8-jdk-alpine as build\r\n    WORKDIR /workspace/app\r\n    \r\n    COPY mvnw .\r\n    COPY .mvn .mvn\r\n    COPY pom.xml .\r\n    COPY src src\r\n    \r\n    RUN ./mvnw install -DskipTests\r\n    \r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/Web-0.0.1-SNAPSHOT.jar&quot;]\r\n\r\n##Child-pom.xml(Web)\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;com.imricki.manager&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;artifactId&gt;Web&lt;/artifactId&gt;\r\n    \t&lt;name&gt;Web&lt;/name&gt;\r\n    \t&lt;description&gt;Web Module&lt;/description&gt;\r\n\r\n##Parent-pom.xml(Core)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.imricki.manager&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Core&lt;/name&gt;\r\n    \t&lt;description&gt;Core Module&lt;/description&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n###Docker comand to build image\r\n\r\n    docker build -t rest-api .\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/koK4I.png\r\n\r\n\r\n\r\n##Comand-line Trace\r\n\r\n    $ docker build -t rest-api .\r\n    Sending build context to Docker daemon  42.92MB\r\n    Step 1/11 : FROM alpine/git as clone\r\n     ---&gt; a1d22e4b51ad\r\n    Step 2/11 : WORKDIR /app\r\n     ---&gt; Using cache\r\n     ---&gt; e53f5b4941b5\r\n    Step 3/11 : RUN git clone https://github.com/RicardoVargasLeslie/manager.git\r\n     ---&gt; Using cache\r\n     ---&gt; 490b2afea22c\r\n    Step 4/11 : FROM openjdk:8-jdk-alpine as build\r\n     ---&gt; a3562aa0b991\r\n    Step 5/11 : WORKDIR /workspace/app\r\n     ---&gt; Using cache\r\n     ---&gt; 0b7c106319e9\r\n    Step 6/11 : COPY mvnw .\r\n     ---&gt; Using cache\r\n     ---&gt; 2c7ab0b79d25\r\n    Step 7/11 : COPY .mvn .mvn\r\n     ---&gt; Using cache\r\n     ---&gt; eb9ec36b737a\r\n    Step 8/11 : COPY pom.xml .\r\n     ---&gt; Using cache\r\n     ---&gt; 2296a5fbd6ae\r\n    Step 9/11 : COPY src src\r\n     ---&gt; Using cache\r\n     ---&gt; 022a609f4376\r\n    Step 10/11 : RUN ./mvnw install -DskipTests\r\n     ---&gt; Running in 897cff2e3c3b\r\n    [INFO] Scanning for projects...\r\n    [ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n    [FATAL] Non-resolvable parent POM for com.imricki.manager:Web:[unknown-version]: Could not find artifact com.imricki.manager:core:pom:0.0.1-SNAPSHOT and &#39;parent.relativePath&#39; points at wrong local POM @ line 5, column 10\r\n     @\r\n    [ERROR] The build could not read 1 project -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR]   The project com.imricki.manager:Web:[unknown-version] (/workspace/app/pom.xml) has 1 error\r\n    [ERROR]     Non-resolvable parent POM for com.imricki.manager:Web:[unknown-version]: Could not find artifact com.imricki.manager:core:pom:0.0.1-SNAPSHOT and &#39;parent.relativePath&#39; points at wrong local POM @ line 5, column 10 -&gt; [Help 2]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n    [ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\r\n    The command &#39;/bin/sh -c ./mvnw install -DskipTests&#39; returned a non-zero code: 1\r\n\r\n\r\n\r\nI’m  not sure what wron or how to make the build work,thanks for any help.","title":"Non-resolvable parent POM on Docker Build","body":"<p>I’m trying to build a Docker image from my DockerFile but  keep getting an error like it can't find the parent <code>pom.xml</code> to perform a maven command in the docker file and build the project.\nIve been looking around and you see what people do is the add to the child <code>pom.xml</code> a reference to the parent pom.xml y tried adding a <code>relativePath&gt;.. /pom.xml/relativePath&gt;</code> to the child but still won't work.</p>\n\n<h2>Maven-multimodule project</h2>\n\n<p>[<img src=\"https://i.stack.imgur.com/koK4I.png\" alt=\"project structure[1]\"></p>\n\n<h2>DockerFile</h2>\n\n<pre><code>FROM alpine/git as clone\nWORKDIR /app\nRUN git clone https://github.com/RicardoVargasLeslie/manager.git\n\nFROM openjdk:8-jdk-alpine as build\nWORKDIR /workspace/app\n\nCOPY mvnw .\nCOPY .mvn .mvn\nCOPY pom.xml .\nCOPY src src\n\nRUN ./mvnw install -DskipTests\n\nENTRYPOINT [\"java\",\"-jar\",\"/Web-0.0.1-SNAPSHOT.jar\"]\n</code></pre>\n\n<h2>Child-pom.xml(Web)</h2>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.imricki.manager&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;Web&lt;/artifactId&gt;\n    &lt;name&gt;Web&lt;/name&gt;\n    &lt;description&gt;Web Module&lt;/description&gt;\n</code></pre>\n\n<h2>Parent-pom.xml(Core)</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.imricki.manager&lt;/groupId&gt;\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Core&lt;/name&gt;\n    &lt;description&gt;Core Module&lt;/description&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n\n<h3>Docker comand to build image</h3>\n\n<pre><code>docker build -t rest-api .\n</code></pre>\n\n<h2>Comand-line Trace</h2>\n\n<pre><code>$ docker build -t rest-api .\nSending build context to Docker daemon  42.92MB\nStep 1/11 : FROM alpine/git as clone\n ---&gt; a1d22e4b51ad\nStep 2/11 : WORKDIR /app\n ---&gt; Using cache\n ---&gt; e53f5b4941b5\nStep 3/11 : RUN git clone https://github.com/RicardoVargasLeslie/manager.git\n ---&gt; Using cache\n ---&gt; 490b2afea22c\nStep 4/11 : FROM openjdk:8-jdk-alpine as build\n ---&gt; a3562aa0b991\nStep 5/11 : WORKDIR /workspace/app\n ---&gt; Using cache\n ---&gt; 0b7c106319e9\nStep 6/11 : COPY mvnw .\n ---&gt; Using cache\n ---&gt; 2c7ab0b79d25\nStep 7/11 : COPY .mvn .mvn\n ---&gt; Using cache\n ---&gt; eb9ec36b737a\nStep 8/11 : COPY pom.xml .\n ---&gt; Using cache\n ---&gt; 2296a5fbd6ae\nStep 9/11 : COPY src src\n ---&gt; Using cache\n ---&gt; 022a609f4376\nStep 10/11 : RUN ./mvnw install -DskipTests\n ---&gt; Running in 897cff2e3c3b\n[INFO] Scanning for projects...\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[FATAL] Non-resolvable parent POM for com.imricki.manager:Web:[unknown-version]: Could not find artifact com.imricki.manager:core:pom:0.0.1-SNAPSHOT and 'parent.relativePath' points at wrong local POM @ line 5, column 10\n @\n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]\n[ERROR]   The project com.imricki.manager:Web:[unknown-version] (/workspace/app/pom.xml) has 1 error\n[ERROR]     Non-resolvable parent POM for com.imricki.manager:Web:[unknown-version]: Could not find artifact com.imricki.manager:core:pom:0.0.1-SNAPSHOT and 'parent.relativePath' points at wrong local POM @ line 5, column 10 -&gt; [Help 2]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\nThe command '/bin/sh -c ./mvnw install -DskipTests' returned a non-zero code: 1\n</code></pre>\n\n<p>I’m  not sure what wron or how to make the build work,thanks for any help.</p>\n"},{"tags":["java","postgresql","dspace"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1688455818,"post_id":76610238,"comment_id":135072764,"body_markdown":"Yes, it looks like it should be `item` and not `ıtem`, but what is your actual question? Where does that query come from?","body":"Yes, it looks like it should be <code>item</code> and not <code>ıtem</code>, but what is your actual question? Where does that query come from?"},{"owner":{"account_id":28946551,"reputation":1,"user_id":22172018,"display_name":"hsnbsrn"},"score":0,"creation_date":1688456074,"post_id":76610238,"comment_id":135072804,"body_markdown":"When I visit the URL &quot;http://localhost:8080/xmlui/submissions,&quot; I receive the following error message: &quot;Invalid path: &#39;ıtem.metadata&#39; [SELECT item FROM org.dspace.content.Item as item left join ıtem.metadata dc_date_accessioned WITH dc_date_accessioned.metadataField.id = :dc_date_accessioned WHERE item.inArchive = :in_archive AND item.submitter =:submitter ORDER BY STR(dc_date_accessioned.value) desc].&quot;\n\nI&#39;m not sure which file this query is coming from, and I&#39;m looking for assistance on resolving this issue","body":"When I visit the URL &quot;<a href=\"http://localhost:8080/xmlui/submissions\" rel=\"nofollow noreferrer\">localhost:8080/xmlui/submissions</a>,&quot; I receive the following error message: &quot;Invalid path: &#39;ıtem.metadata&#39; [SELECT item FROM org.dspace.content.Item as item left join ıtem.metadata dc_date_accessioned WITH dc_date_accessioned.metadataField.id = :dc_date_accessioned WHERE item.inArchive = :in_archive AND item.submitter =:submitter ORDER BY STR(dc_date_accessioned.value) desc].&quot;  I&#39;m not sure which file this query is coming from, and I&#39;m looking for assistance on resolving this issue"}],"owner":{"account_id":28946551,"reputation":1,"user_id":22172018,"display_name":"hsnbsrn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688455559,"creation_date":1688455559,"question_id":76610238,"body_markdown":"I&#39;m encountering an &quot;Invalid path&quot; error while executing a query in DSpace. The error message specifically points to the path &#39;ıtem.metadata&#39;. However, I believe the correct path should be &#39;item.metadata&#39;.\r\n\r\n[enter image description here](https://i.stack.imgur.com/sANTF.png)\r\n\r\n\r\nI would appreciate any insights or suggestions on how to resolve this error and execute the query successfully. Thank you!","title":"Invalid path error in DSpace query - &#39;ıtem.metadata&#39;","body":"<p>I'm encountering an &quot;Invalid path&quot; error while executing a query in DSpace. The error message specifically points to the path 'ıtem.metadata'. However, I believe the correct path should be 'item.metadata'.</p>\n<p><a href=\"https://i.stack.imgur.com/sANTF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I would appreciate any insights or suggestions on how to resolve this error and execute the query successfully. Thank you!</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":26268383,"reputation":1,"user_id":19938611,"display_name":"Saritha "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688455313,"creation_date":1688454633,"question_id":76610121,"body_markdown":"I have a page where I will be getting multiple status list i.e. Completed , pending and In progress.\r\nFor each status I should check whether the Bypass button is enabled or not?\r\n\r\n\r\nhere is my code \r\n\r\n```java\r\nMap&lt;String, Long&gt; projectTasks = workflowApi.getProjectTasks(projectDetails.getId());\r\nList&lt;TaskStatus&gt; taskList = Arrays.asList(TaskStatus.PENDING, TaskStatus.IN_PROGRESS,\r\nTaskStatus.COMPLETED, TaskStatus.REJECTED, TaskStatus.SUSPENDED);\r\ntaskList.get(0).getStatus();\r\n\r\nSystem.out.println(&quot;The status lists are:&quot;+ taskList);\r\n```\r\n\r\nI am able to print the Status list but not able to assert the Button display status.","title":"How do we check the Button is enabled for the List of the Task status using Selenium Java","body":"<p>I have a page where I will be getting multiple status list i.e. Completed , pending and In progress.\nFor each status I should check whether the Bypass button is enabled or not?</p>\n<p>here is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Long&gt; projectTasks = workflowApi.getProjectTasks(projectDetails.getId());\nList&lt;TaskStatus&gt; taskList = Arrays.asList(TaskStatus.PENDING, TaskStatus.IN_PROGRESS,\nTaskStatus.COMPLETED, TaskStatus.REJECTED, TaskStatus.SUSPENDED);\ntaskList.get(0).getStatus();\n\nSystem.out.println(&quot;The status lists are:&quot;+ taskList);\n</code></pre>\n<p>I am able to print the Status list but not able to assert the Button display status.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1366105,"reputation":4786,"user_id":1302488,"accept_rate":25,"display_name":"Yogesh Prajapati"},"score":1,"creation_date":1597412445,"post_id":63413862,"comment_id":112132141,"body_markdown":"Can you please provide complete request? curl maybe?","body":"Can you please provide complete request? curl maybe?"}],"answers":[{"tags":[],"owner":{"account_id":19288918,"reputation":347,"user_id":14099362,"display_name":"JeroSquartini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597415323,"creation_date":1597412406,"answer_id":63413902,"question_id":63413862,"body_markdown":"You can store and separate those values in an Array of Strings: \r\n\r\n    String[] array = &quot;allyourinputtext&quot;.split(&quot;;&quot;);\r\n\r\nThis will separate the values after a semicolon. Then, you can access each value by doing this: \r\n\r\n    String content = array[0];\r\n    String name = array[1];\r\n    ...\r\n\r\nThis doesn&#39;t solve the WHOLE problem(since not all values are separated by semicolons), but you can play with the arguments you pass to split() to separate your values. \r\n\r\nNote: If you want to parse a String to int (the length value for example) you can use: \r\n\r\n    int length = Integer.parseInt(array[index];","title":"parse multipart/form-data response in spring","body":"<p>You can store and separate those values in an Array of Strings:</p>\n<pre><code>String[] array = &quot;allyourinputtext&quot;.split(&quot;;&quot;);\n</code></pre>\n<p>This will separate the values after a semicolon. Then, you can access each value by doing this:</p>\n<pre><code>String content = array[0];\nString name = array[1];\n...\n</code></pre>\n<p>This doesn't solve the WHOLE problem(since not all values are separated by semicolons), but you can play with the arguments you pass to split() to separate your values.</p>\n<p>Note: If you want to parse a String to int (the length value for example) you can use:</p>\n<pre><code>int length = Integer.parseInt(array[index];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613993353,"creation_date":1613993353,"answer_id":66314852,"question_id":63413862,"body_markdown":"Since you&#39;re using Spring you already have the Apache fileupload and http classes available. `MultipartStream` is designed to be attached to an incoming byte stream and can provide progress updates as data arrives. \r\n\r\nThis simple example illustrates a non-streaming scenario where you&#39;ve already buffered the whole incoming body.\r\n\r\n```\r\nbyte[] yourResponse = ... // the whole response as a byte array\r\nString yourContentType = ... // the Content-Type header string\r\n\r\nContentType contentType = ContentType.parse(yourContentType);\r\n\r\nMultipartStream multipartStream = new MultipartStream(\r\n  new ByteArrayInputStream(yourResponse),\r\n  contentType.getParameter(&quot;boundary&quot;).getBytes(), \r\n  1024,    // internal buffer size (you choose)\r\n  null);   // progress indicator (none)\r\n\r\nboolean nextPart = multipartStream.skipPreamble();\r\nwhile (nextPart) {\r\n\r\n  ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n  String partHeaders = multipartStream.readHeaders();\r\n  multipartStream.readBodyData(output);\r\n\r\n  // do something with the multi-line part headers\r\n  // do something with the part &#39;output&#39; byte array\r\n\r\n  nextPart = multipartStream.readBoundary();\r\n}\r\n```\r\nAdd exception handling as required.","title":"parse multipart/form-data response in spring","body":"<p>Since you're using Spring you already have the Apache fileupload and http classes available. <code>MultipartStream</code> is designed to be attached to an incoming byte stream and can provide progress updates as data arrives.</p>\n<p>This simple example illustrates a non-streaming scenario where you've already buffered the whole incoming body.</p>\n<pre><code>byte[] yourResponse = ... // the whole response as a byte array\nString yourContentType = ... // the Content-Type header string\n\nContentType contentType = ContentType.parse(yourContentType);\n\nMultipartStream multipartStream = new MultipartStream(\n  new ByteArrayInputStream(yourResponse),\n  contentType.getParameter(&quot;boundary&quot;).getBytes(), \n  1024,    // internal buffer size (you choose)\n  null);   // progress indicator (none)\n\nboolean nextPart = multipartStream.skipPreamble();\nwhile (nextPart) {\n\n  ByteArrayOutputStream output = new ByteArrayOutputStream();\n  String partHeaders = multipartStream.readHeaders();\n  multipartStream.readBodyData(output);\n\n  // do something with the multi-line part headers\n  // do something with the part 'output' byte array\n\n  nextPart = multipartStream.readBoundary();\n}\n</code></pre>\n<p>Add exception handling as required.</p>\n"},{"tags":[],"owner":{"account_id":3776730,"reputation":829,"user_id":3137368,"accept_rate":83,"display_name":"Martijn Jan Jaap de Bruin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688455080,"creation_date":1688455080,"answer_id":76610173,"question_id":63413862,"body_markdown":"My situation: I knew the multipart that I&#39;m receiving is a multivaluemap like this:\r\n\r\n&gt; MultiValueMap&lt;String, Resource&gt;\r\n\r\nFirst of all, you need to figure out the boundary.\r\n\r\n        String contentTypeHeader = response.getHeaders().getFirst(HttpHeaders.CONTENT_TYPE);\r\n        String boundary = null;\r\n\r\n        if (contentTypeHeader != null) {\r\n            MediaType mediaType = MediaType.parseMediaType(contentTypeHeader);\r\n            boundary = mediaType.getParameter(&quot;boundary&quot;);\r\n        }\r\n\r\nThen, make the multipart stream.\r\n\r\n    MultipartStream multipartStream = new MultipartStream(\r\n                new ByteArrayInputStream(body),\r\n                boundary.getBytes(),\r\n                1024,\r\n                null);\r\n\r\nMake a multivaluemap from this multiPartStream\r\n\r\n    boolean nextPart = multipartStream.skipPreamble();\r\n        while (nextPart) {\r\n\r\n            ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n            // Read the headers of the current part.\r\n            // After .readHeaders(), the stream&#39;s position will be at the start of the part&#39;s body, ready for you to read the part&#39;s actual content.\r\n            multipartStream.readHeaders();\r\n            multipartStream.readBodyData(output);\r\n\r\n            ByteArrayResource resource = new ByteArrayResource(output.toByteArray());\r\n            multiValueMap.add(&quot;file&quot;, resource);\r\n            nextPart = multipartStream.readBoundary();\r\n        }\r\n        return multiValueMap;\r\n\r\n","title":"parse multipart/form-data response in spring","body":"<p>My situation: I knew the multipart that I'm receiving is a multivaluemap like this:</p>\n<blockquote>\n<p>MultiValueMap&lt;String, Resource&gt;</p>\n</blockquote>\n<p>First of all, you need to figure out the boundary.</p>\n<pre><code>    String contentTypeHeader = response.getHeaders().getFirst(HttpHeaders.CONTENT_TYPE);\n    String boundary = null;\n\n    if (contentTypeHeader != null) {\n        MediaType mediaType = MediaType.parseMediaType(contentTypeHeader);\n        boundary = mediaType.getParameter(&quot;boundary&quot;);\n    }\n</code></pre>\n<p>Then, make the multipart stream.</p>\n<pre><code>MultipartStream multipartStream = new MultipartStream(\n            new ByteArrayInputStream(body),\n            boundary.getBytes(),\n            1024,\n            null);\n</code></pre>\n<p>Make a multivaluemap from this multiPartStream</p>\n<pre><code>boolean nextPart = multipartStream.skipPreamble();\n    while (nextPart) {\n\n        ByteArrayOutputStream output = new ByteArrayOutputStream();\n        // Read the headers of the current part.\n        // After .readHeaders(), the stream's position will be at the start of the part's body, ready for you to read the part's actual content.\n        multipartStream.readHeaders();\n        multipartStream.readBodyData(output);\n\n        ByteArrayResource resource = new ByteArrayResource(output.toByteArray());\n        multiValueMap.add(&quot;file&quot;, resource);\n        nextPart = multipartStream.readBoundary();\n    }\n    return multiValueMap;\n</code></pre>\n"}],"owner":{"account_id":16248673,"reputation":21,"user_id":11733147,"display_name":"qian he"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2085,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1688455080,"creation_date":1597412240,"question_id":63413862,"body_markdown":"I need to receive multipart/form-data response \r\nbut i have no idea on how to parse this kind of response\r\n\r\nFor example\r\n```\r\n--mf8sckatxs4PpMnOLF6ltSv26ZJc5qxy9qq\r\nContent-Disposition: form-data; name=&quot;arguments&quot;\r\nContent-Type: text/plain;charset=UTF-8\r\nContent-Length: 311\r\n[{&quot;code&quot;:200,&quot;message&quot;:&quot;123&quot;}]\r\n\r\nContent-Disposition: form-data; name=&quot;_0&quot;; filename=&quot;0_BODY_feature&quot;\r\nContent-Type: application/octet-stream\r\nContent-Length: 407 \r\nbinarydata\r\n```","title":"parse multipart/form-data response in spring","body":"<p>I need to receive multipart/form-data response\nbut i have no idea on how to parse this kind of response</p>\n<p>For example</p>\n<pre><code>--mf8sckatxs4PpMnOLF6ltSv26ZJc5qxy9qq\nContent-Disposition: form-data; name=&quot;arguments&quot;\nContent-Type: text/plain;charset=UTF-8\nContent-Length: 311\n[{&quot;code&quot;:200,&quot;message&quot;:&quot;123&quot;}]\n\nContent-Disposition: form-data; name=&quot;_0&quot;; filename=&quot;0_BODY_feature&quot;\nContent-Type: application/octet-stream\nContent-Length: 407 \nbinarydata\n</code></pre>\n"},{"tags":["python","java","jython"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":0,"creation_date":1688455154,"post_id":76610115,"comment_id":135072645,"body_markdown":"You need to install the requests module into the same environment as your python binary.","body":"You need to install the requests module into the same environment as your python binary."},{"owner":{"account_id":21031256,"reputation":13,"user_id":15455589,"display_name":"Milind Yadav"},"score":0,"creation_date":1688458821,"post_id":76610115,"comment_id":135073340,"body_markdown":"yes i checked that its already there","body":"yes i checked that its already there"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688471161,"post_id":76610115,"comment_id":135075949,"body_markdown":"@ewokx there is no Python binary in the jython implementation","body":"@ewokx there is no Python binary in the jython implementation"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688471186,"post_id":76610115,"comment_id":135075951,"body_markdown":"@MilindYadav &quot;yes i checked that its already there&quot; there where exactly?","body":"@MilindYadav &quot;yes i checked that its already there&quot; there where exactly?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688471240,"post_id":76610115,"comment_id":135075958,"body_markdown":"Does this answer your question? [Importing python modules in jython](https://stackoverflow.com/questions/3256135/importing-python-modules-in-jython)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3256135/importing-python-modules-in-jython\">Importing python modules in jython</a>"}],"owner":{"account_id":21031256,"reputation":13,"user_id":15455589,"display_name":"Milind Yadav"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688454566,"creation_date":1688454566,"question_id":76610115,"body_markdown":"This the java code i am using \r\n```\r\n\tpublic void get_Inv_hash_ids(String token ,String url ,String url1) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tString pythonPath = &quot;/Users/milind.yadav/anaconda3/bin/python&quot;; // Replace with the actual directory path\r\n\r\n\t\r\n\t\t    Properties properties = new Properties();\r\n\t        properties.setProperty(&quot;python.path&quot;, &quot;/Users/milind.yadav/anaconda3/bin/python&quot;); // Replace with the actual directory path\r\n\r\n\t        // Initialize PythonInterpreter with the specified properties\r\n//\t        PythonInterpreter.initialize(System.getProperties(), properties, new String[] { pythonPath });\t\t\t\r\n\t\t\t \r\n\t\tPythonInterpreter interpreter = new PythonInterpreter();\r\n\r\n        // Execute the Python script\r\n        interpreter.execfile(&quot;/Users/milind.yadav/Downloads/batch_id_script.py&quot;);\r\n        \r\n        // Get a reference to the Python function\r\n        interpreter.eval(&quot;get invoice ids from py script&quot;);\r\n        PyObject invoice_ids = interpreter.get(&quot;batch_id_fetcher&quot;);\r\n        \r\n        // Pass parameters to the Python function and call it\r\n        PyObject result = invoice_ids.__call__(new PyString(token), new PyString(url),new PyString(url1));        \r\n        // Convert the result to a Java integer\r\n        String concatenated_invoice_ids = (String) result.__tojava__(String.class);\r\n        \r\n        // Print the sum\r\n        System.out.println(&quot;Sum: &quot; + concatenated_invoice_ids);\r\n        \r\n        // Clean up the interpreter\r\n        interpreter.close();\r\n       \r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Exception occured ...&quot;+e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n        \r\n    }\r\n```\r\nAnd Here is the python script i am using\r\n```\r\nimport requests\r\n    import json\r\n    from jsonpath_ng import jsonpath, parse\r\n    def batch_id_fetcher(token,batchurl,url):\r\n        invoice_object_ids=[]\r\n        header = {&quot;Authorization&quot; : &quot;Token &quot;+token}\r\n        batch_response=requests.get(batchurl, headers=header)\r\n        batch_data=json.loads(batch_response.text)\r\n        invoice_object_ids= batch_data[&quot;results&quot;][0][&quot;exported_invoice_ids&quot;]\r\n        inv_url = url+&quot;invoices/?object_id=&quot;\r\n        header = {&quot;Authorization&quot; : &quot;Token &quot;+token}\r\n        invoice_hash_list=[]\r\n        invoice_hashes=&quot;&quot;\r\n        \r\n        for i in invoice_object_ids:\r\n            n_url=inv_url+str(i)\r\n            response = requests.get(n_url, headers=header)\r\n            json_data = json.loads(response.text)\r\n            invoice_hash_list.append(json_data[&quot;results&quot;][0][&quot;id&quot;])\r\n        invoice_hashes = &quot;,&quot;.join(str(i) for i in invoice_hash_list)\r\n        return invoice_hashes\r\n```\r\n\r\nThis is the error I am getting\r\n\r\nException occured ...ImportError: No module named requests\r\n\r\nI have included all the required libraries in java as well as added all the maven dependencies\r\n Am I missing something thing in this\r\n","title":"I am using jython library in java to execute a python script but it is not fetch python libraries","body":"<p>This the java code i am using</p>\n<pre><code>    public void get_Inv_hash_ids(String token ,String url ,String url1) {\n        \n        try {\n            String pythonPath = &quot;/Users/milind.yadav/anaconda3/bin/python&quot;; // Replace with the actual directory path\n\n    \n            Properties properties = new Properties();\n            properties.setProperty(&quot;python.path&quot;, &quot;/Users/milind.yadav/anaconda3/bin/python&quot;); // Replace with the actual directory path\n\n            // Initialize PythonInterpreter with the specified properties\n//          PythonInterpreter.initialize(System.getProperties(), properties, new String[] { pythonPath });          \n             \n        PythonInterpreter interpreter = new PythonInterpreter();\n\n        // Execute the Python script\n        interpreter.execfile(&quot;/Users/milind.yadav/Downloads/batch_id_script.py&quot;);\n        \n        // Get a reference to the Python function\n        interpreter.eval(&quot;get invoice ids from py script&quot;);\n        PyObject invoice_ids = interpreter.get(&quot;batch_id_fetcher&quot;);\n        \n        // Pass parameters to the Python function and call it\n        PyObject result = invoice_ids.__call__(new PyString(token), new PyString(url),new PyString(url1));        \n        // Convert the result to a Java integer\n        String concatenated_invoice_ids = (String) result.__tojava__(String.class);\n        \n        // Print the sum\n        System.out.println(&quot;Sum: &quot; + concatenated_invoice_ids);\n        \n        // Clean up the interpreter\n        interpreter.close();\n       \n        }\n        catch (Exception e) {\n            System.out.println(&quot;Exception occured ...&quot;+e.getMessage());\n            e.printStackTrace();\n            \n        }\n        \n        \n    }\n</code></pre>\n<p>And Here is the python script i am using</p>\n<pre><code>import requests\n    import json\n    from jsonpath_ng import jsonpath, parse\n    def batch_id_fetcher(token,batchurl,url):\n        invoice_object_ids=[]\n        header = {&quot;Authorization&quot; : &quot;Token &quot;+token}\n        batch_response=requests.get(batchurl, headers=header)\n        batch_data=json.loads(batch_response.text)\n        invoice_object_ids= batch_data[&quot;results&quot;][0][&quot;exported_invoice_ids&quot;]\n        inv_url = url+&quot;invoices/?object_id=&quot;\n        header = {&quot;Authorization&quot; : &quot;Token &quot;+token}\n        invoice_hash_list=[]\n        invoice_hashes=&quot;&quot;\n        \n        for i in invoice_object_ids:\n            n_url=inv_url+str(i)\n            response = requests.get(n_url, headers=header)\n            json_data = json.loads(response.text)\n            invoice_hash_list.append(json_data[&quot;results&quot;][0][&quot;id&quot;])\n        invoice_hashes = &quot;,&quot;.join(str(i) for i in invoice_hash_list)\n        return invoice_hashes\n</code></pre>\n<p>This is the error I am getting</p>\n<p>Exception occured ...ImportError: No module named requests</p>\n<p>I have included all the required libraries in java as well as added all the maven dependencies\nAm I missing something thing in this</p>\n"},{"tags":["java","json","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":12953224,"reputation":523,"user_id":9364868,"display_name":"Kedar"},"score":1,"creation_date":1688106780,"post_id":76586452,"comment_id":135031966,"body_markdown":"Please try with this syntax `@Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, CONCAT(&#39;$[&#39;, :index, &#39;].revenue&#39;)) &quot;+ &quot; WHERE d.year = :year &quot;)`","body":"Please try with this syntax <code>@Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, CONCAT(&#39;$[&#39;, :index, &#39;].revenue&#39;)) &quot;+ &quot; WHERE d.year = :year &quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688453736,"creation_date":1688453736,"answer_id":76610019,"question_id":76586452,"body_markdown":"The solution as commented by Kedar Thakkar worked. Using concat to append my dynamic index was successful and gave me appropriate result.\r\n\r\n    @Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, CONCAT(&#39;$[&#39;, :index, &#39;].revenue&#39;)) &quot;+ &quot; WHERE d.year = :year &quot;)","title":"Spring JPA Query - JSON_REMOVE - Pass query index dynamically","body":"<p>The solution as commented by Kedar Thakkar worked. Using concat to append my dynamic index was successful and gave me appropriate result.</p>\n<pre><code>@Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, CONCAT('$[', :index, '].revenue')) &quot;+ &quot; WHERE d.year = :year &quot;)\n</code></pre>\n"}],"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688453736,"creation_date":1688105411,"question_id":76586452,"body_markdown":"I&#39;m using **JSON_REMOVE** method for removing one field from my JSON array column. Below is the query I wrote in JPA - \r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, &#39;$[0].revenue&#39;) &quot;\r\n            + &quot; WHERE d.year = :year &quot;)\r\n    void resetRevenue(Integer year);\r\n\r\nThe above query works. But now I want to dynamically pass the index value like - \r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, &#39;$[ :index ].revenue&#39;) &quot;\r\n            + &quot; WHERE d.year = :year &quot;)\r\n    void resetRevenue(Integer index, Integer year);\r\n\r\nWhen I try above I get error - ```java.sql.SQLSyntaxErrorException: Invalid JSON path expression. The error is around character position 3.```\r\n\r\nI even tried below query - \r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, &#39;$[ ?1 ].revenue&#39;) &quot;\r\n            + &quot; WHERE d.year = ?2 &quot;)\r\n    void resetRevenue(Integer index, Integer year);\r\n\r\nBut got error - ```org.springframework.dao.InvalidDataAccessResourceUsageException: Ordinal parameter not bound : 2```","title":"Spring JPA Query - JSON_REMOVE - Pass query index dynamically","body":"<p>I'm using <strong>JSON_REMOVE</strong> method for removing one field from my JSON array column. Below is the query I wrote in JPA -</p>\n<pre><code>@Modifying\n@Transactional\n@Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, '$[0].revenue') &quot;\n        + &quot; WHERE d.year = :year &quot;)\nvoid resetRevenue(Integer year);\n</code></pre>\n<p>The above query works. But now I want to dynamically pass the index value like -</p>\n<pre><code>@Modifying\n@Transactional\n@Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, '$[ :index ].revenue') &quot;\n        + &quot; WHERE d.year = :year &quot;)\nvoid resetRevenue(Integer index, Integer year);\n</code></pre>\n<p>When I try above I get error - <code>java.sql.SQLSyntaxErrorException: Invalid JSON path expression. The error is around character position 3.</code></p>\n<p>I even tried below query -</p>\n<pre><code>@Modifying\n@Transactional\n@Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, '$[ ?1 ].revenue') &quot;\n        + &quot; WHERE d.year = ?2 &quot;)\nvoid resetRevenue(Integer index, Integer year);\n</code></pre>\n<p>But got error - <code>org.springframework.dao.InvalidDataAccessResourceUsageException: Ordinal parameter not bound : 2</code></p>\n"},{"tags":["java","spring","mongodb","spring-boot","performance"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1688405696,"post_id":76606887,"comment_id":135067130,"body_markdown":"What specifically is crashing? What&#39;s the error message? What is the `index` defined as?","body":"What specifically is crashing? What&#39;s the error message? What is the <code>index</code> defined as?"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1688453359,"post_id":76606887,"comment_id":135072314,"body_markdown":"Sorry, I just wanted to have better syntax for it. On my PC I saw all the text in orange. Feel free to revert my edit )\n\nAlso, could you add the stack trace to the question?","body":"Sorry, I just wanted to have better syntax for it. On my PC I saw all the text in orange. Feel free to revert my edit )  Also, could you add the stack trace to the question?"}],"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688453583,"creation_date":1688404167,"question_id":76606887,"body_markdown":"We are using Java, Spring Boot and MongoDB in our application. my code is working properly but for a particular `spaceId` there are 150K record so service is crashing.\r\n\r\nMy requirement is to get count of success and failed record for last 12 month. so for each month it will send `success count` and `failed count`. I am writing below method for it.\r\n```java\r\npublic AggregatedData findGrpoupedData(String pId, String tId, String spaceId, String type) {\r\n    Criteria criteria = criteriaBuild(pId, tId, spaceId, type);\r\n    List&lt;AggregationOperation&gt; aggregationOperation = aggregateOperations(criteria);\r\n    AggregationResults&lt;StatusAndDate&gt; iterator = mongoTemplate.aggregate(Aggregation.newAggregation(aggregationOperation), &quot;consumerEmailReportingData&quot;, StatusAndDate.class);\r\n    List&lt;Document&gt; docs = (List&lt;Document&gt;) iterator.getRawResults().get(&quot;results&quot;);\r\n    AggregatedData aggregatedData = getReports(docs, type);\r\n    setConsumerData(aggregatedData, pId, tId, spaceId);\r\n    return aggregatedData;\r\n}\r\n```\r\nthere is `index` in my database collection. Could you please suggest some better way to modify our code to get my service working even if huge record is there?. can we do some operation at `DB` end?\r\n\r\nbelow are the methods which have been called from my original method.\r\n\r\n```java\r\nprivate Criteria criteriaBuild(String pid, String tId, String spaceId, String type) {\r\n    List&lt;Criteria&gt; criteriaList = new ArrayList&lt;&gt;();\r\n    LocalDateTime date = dateParser.getLocalDateTime(type);\r\n    criteriaList.add(Criteria.where(ConsumerNotificationsConstants.CREATED_AT).gte(Date.from(date.atZone(ZoneId.systemDefault()).toInstant())));\r\n    if (StringUtils.isNotBlank(pid) &amp;&amp; StringUtils.isNotBlank(tId)) {\r\n        criteriaList.add(Criteria.where(ConsumerNotificationsConstants.PROGRAM_ID).is(pid));\r\n        criteriaList.add(Criteria.where(ConsumerNotificationsConstants.TENANT).is(tId));\r\n    } else if (StringUtils.isNotBlank(spaceId)) {\r\n        criteriaList.add(Criteria.where(EmailReportingConstants.SITE_ID).is(spaceId));\r\n    }\r\n    Criteria criteria = new Criteria();\r\n    criteria.andOperator(criteriaList);\r\n    return criteria;\r\n}\r\n    \t\r\nprivate List&lt;AggregationOperation&gt; aggregateOperations(Criteria criteria) {\r\n    List&lt;AggregationOperation&gt; aggregationOperation = new ArrayList&lt;&gt;();\r\n    aggregationOperation.add(Aggregation.project(STATUS, createdAt, EmailReportingConstants.SITE_ID,\r\n                    ConsumerNotificationsConstants.PROGRAM_ID,ConsumerNotificationsConstants.TENANT));\r\n    aggregationOperation.add(Aggregation.match(criteria));\r\n    return aggregationOperation;\r\n}\r\n```","title":"Service is crashing if query returns huge record","body":"<p>We are using Java, Spring Boot and MongoDB in our application. my code is working properly but for a particular <code>spaceId</code> there are 150K record so service is crashing.</p>\n<p>My requirement is to get count of success and failed record for last 12 month. so for each month it will send <code>success count</code> and <code>failed count</code>. I am writing below method for it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public AggregatedData findGrpoupedData(String pId, String tId, String spaceId, String type) {\n    Criteria criteria = criteriaBuild(pId, tId, spaceId, type);\n    List&lt;AggregationOperation&gt; aggregationOperation = aggregateOperations(criteria);\n    AggregationResults&lt;StatusAndDate&gt; iterator = mongoTemplate.aggregate(Aggregation.newAggregation(aggregationOperation), &quot;consumerEmailReportingData&quot;, StatusAndDate.class);\n    List&lt;Document&gt; docs = (List&lt;Document&gt;) iterator.getRawResults().get(&quot;results&quot;);\n    AggregatedData aggregatedData = getReports(docs, type);\n    setConsumerData(aggregatedData, pId, tId, spaceId);\n    return aggregatedData;\n}\n</code></pre>\n<p>there is <code>index</code> in my database collection. Could you please suggest some better way to modify our code to get my service working even if huge record is there?. can we do some operation at <code>DB</code> end?</p>\n<p>below are the methods which have been called from my original method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Criteria criteriaBuild(String pid, String tId, String spaceId, String type) {\n    List&lt;Criteria&gt; criteriaList = new ArrayList&lt;&gt;();\n    LocalDateTime date = dateParser.getLocalDateTime(type);\n    criteriaList.add(Criteria.where(ConsumerNotificationsConstants.CREATED_AT).gte(Date.from(date.atZone(ZoneId.systemDefault()).toInstant())));\n    if (StringUtils.isNotBlank(pid) &amp;&amp; StringUtils.isNotBlank(tId)) {\n        criteriaList.add(Criteria.where(ConsumerNotificationsConstants.PROGRAM_ID).is(pid));\n        criteriaList.add(Criteria.where(ConsumerNotificationsConstants.TENANT).is(tId));\n    } else if (StringUtils.isNotBlank(spaceId)) {\n        criteriaList.add(Criteria.where(EmailReportingConstants.SITE_ID).is(spaceId));\n    }\n    Criteria criteria = new Criteria();\n    criteria.andOperator(criteriaList);\n    return criteria;\n}\n        \nprivate List&lt;AggregationOperation&gt; aggregateOperations(Criteria criteria) {\n    List&lt;AggregationOperation&gt; aggregationOperation = new ArrayList&lt;&gt;();\n    aggregationOperation.add(Aggregation.project(STATUS, createdAt, EmailReportingConstants.SITE_ID,\n                    ConsumerNotificationsConstants.PROGRAM_ID,ConsumerNotificationsConstants.TENANT));\n    aggregationOperation.add(Aggregation.match(criteria));\n    return aggregationOperation;\n}\n</code></pre>\n"},{"tags":["java","list","arraylist","collections"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1688452598,"post_id":76609915,"comment_id":135072188,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1688452676,"post_id":76609915,"comment_id":135072208,"body_markdown":"Additionally, please format your code with conventional indentation - it&#39;s *really* hard to read like this. Any IDE should be able to automatically format the code for you. When posting a question, ask yourself: &quot;Would I want to look into helping someone with a question written like this, or is it too hard to understand?&quot;","body":"Additionally, please format your code with conventional indentation - it&#39;s <i>really</i> hard to read like this. Any IDE should be able to automatically format the code for you. When posting a question, ask yourself: &quot;Would I want to look into helping someone with a question written like this, or is it too hard to understand?&quot;"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1688452794,"post_id":76609915,"comment_id":135072224,"body_markdown":"Hint: what do you expect `l.addAll(row)` to do? What does the documentation for it suggest? Suppose you `l` were a `List&lt;String&gt;` variable, and `row` were a `String` variable, would you expect to be able to call `l.addAll(row)` in that case, and if so what would you expect it to do?","body":"Hint: what do you expect <code>l.addAll(row)</code> to do? What does the documentation for it suggest? Suppose you <code>l</code> were a <code>List&lt;String&gt;</code> variable, and <code>row</code> were a <code>String</code> variable, would you expect to be able to call <code>l.addAll(row)</code> in that case, and if so what would you expect it to do?"},{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":0,"creation_date":1688452877,"post_id":76609915,"comment_id":135072234,"body_markdown":"I&#39;ve tried to run your code and I get ` No signature of method: java.lang.Integer.get() is applicable for argument types: (java.lang.Integer) values: [0]`. This expression doesn&#39;t make sense to me: `l.get(i-1).get(j-1)`. `l` is a list of integers, you take integer and tries to get something from it... why?","body":"I&#39;ve tried to run your code and I get ` No signature of method: java.lang.Integer.get() is applicable for argument types: (java.lang.Integer) values: [0]<code>. This expression doesn&#39;t make sense to me: </code>l.get(i-1).get(j-1)<code>. </code>l` is a list of integers, you take integer and tries to get something from it... why?"},{"owner":{"account_id":7259207,"reputation":92,"user_id":5536648,"display_name":"A R K"},"score":0,"creation_date":1688453099,"post_id":76609915,"comment_id":135072269,"body_markdown":"addAll() method expect the same type of the source list List&lt;List&lt;Integer&gt;, but you are trying to add List&lt;Integer&gt; using addAll, one way to fix this is use the this code  l.addAll(Collections.singleton(row));","body":"addAll() method expect the same type of the source list List&lt;List&lt;Integer&gt;, but you are trying to add List&lt;Integer&gt; using addAll, one way to fix this is use the this code  l.addAll(Collections.singleton(row));"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688453087,"creation_date":1688453087,"answer_id":76609959,"question_id":76609915,"body_markdown":"The purpose of `addAll()` is to add multiple items to the list. So if you have two lists of the same type and want to copy elements from one to another, you could call `list1.addAll(list2)` instead of having to call `list1.add()` for each element in `list2`. \r\n\r\nIn this case, the outer list contains elements of type `List`. That means that `addAll()` expects a collection of lists as its argument, but you&#39;re only passing a single `List&lt;Integer&gt;`. If your intent is to add that one list to the others in `l`, just use `add()`.","title":"I am stuck at a question and as a beginner in Java it seems overwhelming. Can someone help me understand why exactly my code isn&#39;t working?","body":"<p>The purpose of <code>addAll()</code> is to add multiple items to the list. So if you have two lists of the same type and want to copy elements from one to another, you could call <code>list1.addAll(list2)</code> instead of having to call <code>list1.add()</code> for each element in <code>list2</code>.</p>\n<p>In this case, the outer list contains elements of type <code>List</code>. That means that <code>addAll()</code> expects a collection of lists as its argument, but you're only passing a single <code>List&lt;Integer&gt;</code>. If your intent is to add that one list to the others in <code>l</code>, just use <code>add()</code>.</p>\n"}],"owner":{"account_id":28945985,"reputation":9,"user_id":22171558,"display_name":"Shruti  Tiwari"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1688453300,"answer_count":1,"score":0,"last_activity_date":1688453332,"creation_date":1688452525,"question_id":76609915,"body_markdown":"```\r\nclass Solution {     \r\n\r\n\tpublic List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {  \r\n\r\n\t\tList&lt;List&lt;Integer&gt;&gt; l = new ArrayList&lt;List&lt;Integer&gt;&gt;();        \r\n\t\tArrayList&lt;Integer&gt; row;         \r\n\t\tint v;        \r\n\t\tfor(int i=0;i&lt;numRows;i++)         \r\n\t\t{              \r\n\t\t\trow = new ArrayList&lt;Integer&gt;();             \r\n\t\t\tfor(int j=0;j&lt;=i;j++)              \r\n\t\t\t{                  \r\n\t\t\t\tif(j==0||j==i)                  \r\n\t\t\t\t{                   \r\n\t\t\t\t\trow.add(1);                 \r\n\t\t\t\t\tcontinue;                  \r\n\t\t\t\t}                  \r\n\t\t\t\tv=l.get(i-1).get(j-1)+l.get(i-1).get(j);            \r\n\t\t\t\trow.add(v);              \r\n\t\t\t}              \r\n\t\t\tl.addAll(row);         \r\n\t\t}         \r\n\t\treturn l;     \r\n\t} \r\n}\r\n```\r\n\r\nThis is my code and I am confused that why can&#39;t I use `addAll()` method to add the collection (`ArrayList`) to the list.\r\n\r\nIf I replace `addAll()` with `add()` it works fine.\r\n\r\nThis is a pascals triangle question and logic is correct and have got the correct answer by replacing `addAll()` by `add()` method.\r\n\r\nAlso this is the error I got:\r\n\r\n&gt;error: incompatible types: ArrayList&lt;Integer&gt; cannot be converted to `Collection&lt;? extends List&lt;Integer&gt;&gt; l.addAll(row);`\r\n\r\n\r\nI want to know whether we can add an `ArrayList` to a list using `addAll` method.\r\n","title":"I am stuck at a question and as a beginner in Java it seems overwhelming. Can someone help me understand why exactly my code isn&#39;t working?","body":"<pre><code>class Solution {     \n\n    public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {  \n\n        List&lt;List&lt;Integer&gt;&gt; l = new ArrayList&lt;List&lt;Integer&gt;&gt;();        \n        ArrayList&lt;Integer&gt; row;         \n        int v;        \n        for(int i=0;i&lt;numRows;i++)         \n        {              \n            row = new ArrayList&lt;Integer&gt;();             \n            for(int j=0;j&lt;=i;j++)              \n            {                  \n                if(j==0||j==i)                  \n                {                   \n                    row.add(1);                 \n                    continue;                  \n                }                  \n                v=l.get(i-1).get(j-1)+l.get(i-1).get(j);            \n                row.add(v);              \n            }              \n            l.addAll(row);         \n        }         \n        return l;     \n    } \n}\n</code></pre>\n<p>This is my code and I am confused that why can't I use <code>addAll()</code> method to add the collection (<code>ArrayList</code>) to the list.</p>\n<p>If I replace <code>addAll()</code> with <code>add()</code> it works fine.</p>\n<p>This is a pascals triangle question and logic is correct and have got the correct answer by replacing <code>addAll()</code> by <code>add()</code> method.</p>\n<p>Also this is the error I got:</p>\n<blockquote>\n<p>error: incompatible types: ArrayList cannot be converted to <code>Collection&lt;? extends List&lt;Integer&gt;&gt; l.addAll(row);</code></p>\n</blockquote>\n<p>I want to know whether we can add an <code>ArrayList</code> to a list using <code>addAll</code> method.</p>\n"},{"tags":["java","docker","kubernetes","logback"],"owner":{"account_id":1321712,"reputation":2088,"user_id":1267404,"accept_rate":77,"display_name":"Victoria Agafonova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688453091,"creation_date":1688453091,"question_id":76609960,"body_markdown":"I have java Spring (not Spring Boot) app, which is launched in Kubernetes using Docker. I&#39;m trying to set the path to logback.xml via parameters, but my app doesn&#39;t see it.\r\n\r\nIn my dockerfile I have this line for launching my app:\r\n\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;run/app.jar&quot;,&quot;-Xms128m&quot;,&quot;-Xmx4096m&quot;,&quot;-Dlogback.configurationFile=/logconfig/logback.xml&quot;,&quot;--spring.config.location=file:///appconfig/application.properties&quot;]\r\n\r\nlogback.xml is placed to the pod via ConfigMap and Deployment.yaml,\r\n\r\nI have such directory structure in the pod:\r\n\r\n    /\r\n    /run/app.jar\r\n    /logconfig/logback.xml \r\n\r\nIf I move to the run folder and try to cat config file (like this: `@w:/run# cat /logconfig/logback.xml` ) inside my launched pod I receive correct output. So, this means I do really have /logconfig/logback.xml in a place I expect it to be.\r\n\r\nAlso, I have no logback.xml inside my jar-file (I have excluded it in the configuration of packaging in pom.xml)\r\n\r\nIf it matters in some way, as an OS inside the pod I have Debian GNU/Linux 11 (bullseye).\r\n\r\nFor logging I use \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.3&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.16&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nSo, what is wrong in my configuration, why my app doesn&#39;t see my external logback.xml?\r\n\r\nPS: by doesn&#39;t see I mean that if I place logback.xml inside jar-file, when launching the app, I receive some output in logs about logback configuration plus logback uses that logging level, which I specify in logback.xml. But if I delete logback.xml from jar-file, then there is no information in logs about logback configuration, plus, it doesn&#39;t matter what log level is set in logback.xml, logs will always be on DEBUG level.\r\n","title":"Why Java-app doesn&#39;t see external logback.xml location?","body":"<p>I have java Spring (not Spring Boot) app, which is launched in Kubernetes using Docker. I'm trying to set the path to logback.xml via parameters, but my app doesn't see it.</p>\n<p>In my dockerfile I have this line for launching my app:</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;run/app.jar&quot;,&quot;-Xms128m&quot;,&quot;-Xmx4096m&quot;,&quot;-Dlogback.configurationFile=/logconfig/logback.xml&quot;,&quot;--spring.config.location=file:///appconfig/application.properties&quot;]\n</code></pre>\n<p>logback.xml is placed to the pod via ConfigMap and Deployment.yaml,</p>\n<p>I have such directory structure in the pod:</p>\n<pre><code>/\n/run/app.jar\n/logconfig/logback.xml \n</code></pre>\n<p>If I move to the run folder and try to cat config file (like this: <code>@w:/run# cat /logconfig/logback.xml</code> ) inside my launched pod I receive correct output. So, this means I do really have /logconfig/logback.xml in a place I expect it to be.</p>\n<p>Also, I have no logback.xml inside my jar-file (I have excluded it in the configuration of packaging in pom.xml)</p>\n<p>If it matters in some way, as an OS inside the pod I have Debian GNU/Linux 11 (bullseye).</p>\n<p>For logging I use</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n    &lt;version&gt;7.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.16&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>So, what is wrong in my configuration, why my app doesn't see my external logback.xml?</p>\n<p>PS: by doesn't see I mean that if I place logback.xml inside jar-file, when launching the app, I receive some output in logs about logback configuration plus logback uses that logging level, which I specify in logback.xml. But if I delete logback.xml from jar-file, then there is no information in logs about logback configuration, plus, it doesn't matter what log level is set in logback.xml, logs will always be on DEBUG level.</p>\n"},{"tags":["java","android","notifications"],"answers":[{"tags":[],"owner":{"account_id":20986291,"reputation":19,"user_id":15420019,"display_name":"Aaraf Rao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688452760,"creation_date":1688452760,"answer_id":76609934,"question_id":76602545,"body_markdown":"Just done that by using Power Manager\r\n\r\n**AndroidManifest.xml**\r\n\r\n    &lt;activity\r\n            android:name=&quot;.IncomingCall&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:launchMode=&quot;singleInstance&quot;\r\n            android:showOnLockScreen=&quot;true&quot;\r\n            android:screenOrientation=&quot;sensorPortrait&quot; /&gt;\r\n\r\n**Activity from where to shift**\r\n\r\n    PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\n        PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK | PowerManager.ACQUIRE_CAUSES_WAKEUP, &quot;myalarmapp:alarm.&quot;);\r\n        wl.acquire(5000);\r\n\r\n        Intent startAlarmActivity = new Intent(getApplicationContext(), IncomingCall.class);\r\n        startAlarmActivity.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        startAlarmActivity.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        startAlarmActivity.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        startActivity(startAlarmActivity);\r\n\r\n        wl.release();\r\n\r\n\r\n**Destination Activity**\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\r\n\r\n            setShowWhenLocked(true);\r\n            setTurnScreenOn(true);\r\n            KeyguardManager keyguardManager = (KeyguardManager) getSystemService(Context.KEYGUARD_SERVICE);\r\n            keyguardManager.requestDismissKeyguard(this, null);\r\n        } else {\r\n            final Window win = getWindow();\r\n            win.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED);\r\n            win.addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON\r\n                    | WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON\r\n                    | WindowManager.LayoutParams.FLAG_ALLOW_LOCK_WHILE_SCREEN_ON);\r\n        }","title":"Show Activity on Lock Screen java Android","body":"<p>Just done that by using Power Manager</p>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;activity\n        android:name=&quot;.IncomingCall&quot;\n        android:exported=&quot;false&quot;\n        android:launchMode=&quot;singleInstance&quot;\n        android:showOnLockScreen=&quot;true&quot;\n        android:screenOrientation=&quot;sensorPortrait&quot; /&gt;\n</code></pre>\n<p><strong>Activity from where to shift</strong></p>\n<pre><code>PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\n    PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK | PowerManager.ACQUIRE_CAUSES_WAKEUP, &quot;myalarmapp:alarm.&quot;);\n    wl.acquire(5000);\n\n    Intent startAlarmActivity = new Intent(getApplicationContext(), IncomingCall.class);\n    startAlarmActivity.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    startAlarmActivity.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\n    startAlarmActivity.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    startActivity(startAlarmActivity);\n\n    wl.release();\n</code></pre>\n<p><strong>Destination Activity</strong></p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\n\n        setShowWhenLocked(true);\n        setTurnScreenOn(true);\n        KeyguardManager keyguardManager = (KeyguardManager) getSystemService(Context.KEYGUARD_SERVICE);\n        keyguardManager.requestDismissKeyguard(this, null);\n    } else {\n        final Window win = getWindow();\n        win.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED);\n        win.addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON\n                | WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON\n                | WindowManager.LayoutParams.FLAG_ALLOW_LOCK_WHILE_SCREEN_ON);\n    }\n</code></pre>\n"}],"owner":{"account_id":20986291,"reputation":19,"user_id":15420019,"display_name":"Aaraf Rao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688452760,"creation_date":1688367967,"question_id":76602545,"body_markdown":"I need to implement a sort of call functionality with the help of Firebase notification but the problem is the screen that is visible on the notification received is not showing if the screen is locked can anyone give any tips about that? \r\nRegards,","title":"Show Activity on Lock Screen java Android","body":"<p>I need to implement a sort of call functionality with the help of Firebase notification but the problem is the screen that is visible on the notification received is not showing if the screen is locked can anyone give any tips about that?\nRegards,</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"score":0,"creation_date":1688447254,"post_id":76608867,"comment_id":135071553,"body_markdown":"You have already set the `jwt` token in AuthenticationResponse object so why you need to set it into a header??","body":"You have already set the <code>jwt</code> token in AuthenticationResponse object so why you need to set it into a header??"},{"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"score":0,"creation_date":1688476388,"post_id":76608867,"comment_id":135077126,"body_markdown":"This is actually for a social media clone project where the token would not set in the header as that’s where my frontend calls to the backend to check the token so I did a smaller one to check how to set it in the header","body":"This is actually for a social media clone project where the token would not set in the header as that’s where my frontend calls to the backend to check the token so I did a smaller one to check how to set it in the header"},{"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"score":0,"creation_date":1688477594,"post_id":76608867,"comment_id":135077387,"body_markdown":"you can use ResponseEntity class for setting up the `Authorization` like \n`ResponseEntity.ok() .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt).body(response);` as given by `@Angshuman` below.","body":"you can use ResponseEntity class for setting up the <code>Authorization</code> like  <code>ResponseEntity.ok() .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt).body(response);</code> as given by <code>@Angshuman</code> below."}],"answers":[{"tags":[],"owner":{"account_id":7958698,"reputation":60,"user_id":6007143,"display_name":"Angshuman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688452694,"creation_date":1688452694,"answer_id":76609930,"question_id":76608867,"body_markdown":"In the RestController `createAuthenticationToken` method, you are sending a `AuthenticationResponse` object (which I assume is a DTO class) and not the `HttpServletResponse` object where you have actually set the `Authorization` header. So, the `jwt` token is being sent in the body of the response only and not in the header. I have modified your code to send the token in both the body and the header. To send it only in the header, simply send `null` in the body.\r\n\r\n```java\r\n\r\n@RestController\r\npublic class AuthController {\r\n    \r\n    @PostMapping(&quot;/auth&quot;)\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest) throws BadCredentialsException, DisabledException, UsernameNotFoundException {\r\n        try {\r\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authenticationRequest.getEmail(), authenticationRequest.getPassword()));\r\n        } catch (BadCredentialsException e) {\r\n            throw new BadCredentialsException(e.getMessage());\r\n        } catch (DisabledException disabledException) {\r\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;User not created. Register first&quot;);\r\n        }\r\n        \r\n        final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getEmail());\r\n        final String jwt = jwtUtil.generateToken(userDetails.getUsername());\r\n        \r\n        AuthenticationResponse response = new AuthenticationResponse(jwt);\r\n        \r\n        return ResponseEntity.ok()\r\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\r\n                .body(response);\r\n    }\r\n}\r\n```","title":"How to setHeader for jwt token","body":"<p>In the RestController <code>createAuthenticationToken</code> method, you are sending a <code>AuthenticationResponse</code> object (which I assume is a DTO class) and not the <code>HttpServletResponse</code> object where you have actually set the <code>Authorization</code> header. So, the <code>jwt</code> token is being sent in the body of the response only and not in the header. I have modified your code to send the token in both the body and the header. To send it only in the header, simply send <code>null</code> in the body.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RestController\npublic class AuthController {\n    \n    @PostMapping(&quot;/auth&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest) throws BadCredentialsException, DisabledException, UsernameNotFoundException {\n        try {\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authenticationRequest.getEmail(), authenticationRequest.getPassword()));\n        } catch (BadCredentialsException e) {\n            throw new BadCredentialsException(e.getMessage());\n        } catch (DisabledException disabledException) {\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;User not created. Register first&quot;);\n        }\n        \n        final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getEmail());\n        final String jwt = jwtUtil.generateToken(userDetails.getUsername());\n        \n        AuthenticationResponse response = new AuthenticationResponse(jwt);\n        \n        return ResponseEntity.ok()\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\n                .body(response);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688452694,"creation_date":1688432905,"question_id":76608867,"body_markdown":"I&#39;m trying to set the header for the JWT token that prints into the body on Postman. I would like some help to what I should add as I&#39;m quite new to this jwt token stuff. I want to add a new &quot;Authorization&quot; header with the Bearer token.\r\n\r\n````\r\npackage com.example.jwtspringsecurity.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class AppConfig {\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        return httpSecurity.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/register&quot;, &quot;/auth&quot;).permitAll()\r\n                .and()\r\n                .authorizeHttpRequests().requestMatchers(&quot;/api/**&quot;)\r\n                .authenticated().and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and().build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration configuration) throws Exception {\r\n        return configuration.getAuthenticationManager();\r\n    }\r\n}\r\n````\r\n````\r\npackage com.example.jwtspringsecurity.controller;\r\n\r\nimport com.example.jwtspringsecurity.dto.AuthenticationRequest;\r\nimport com.example.jwtspringsecurity.dto.AuthenticationResponse;\r\nimport com.example.jwtspringsecurity.service.jwt.UserDetailsServiceImpl;\r\nimport com.example.jwtspringsecurity.util.JwtUtil;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.DisabledException;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.io.IOException;\r\n\r\n@RestController\r\npublic class AuthController {\r\n\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Autowired\r\n    private JwtUtil jwtUtil;\r\n\r\n    @PostMapping(&quot;/auth&quot;)\r\n    public AuthenticationResponse createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest, HttpServletResponse response) throws BadCredentialsException, DisabledException, UsernameNotFoundException, IOException {\r\n        try {\r\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authenticationRequest.getEmail(), authenticationRequest.getPassword()));\r\n        } catch (BadCredentialsException e) {\r\n            throw new BadCredentialsException(e.getMessage());\r\n        } catch (DisabledException disabledException) {\r\n            response.sendError(HttpServletResponse.SC_NOT_FOUND, &quot;user not created. Register first&quot;);\r\n            return null;\r\n        }\r\n        final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getEmail());\r\n        final String jwt = jwtUtil.generateToken(userDetails.getUsername());\r\n        response.setHeader(&quot;Authorization&quot; ,jwt);\r\n\r\n        return new AuthenticationResponse(jwt);\r\n    }\r\n}\r\n````\r\n````\r\npackage com.example.jwtspringsecurity.util;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport io.jsonwebtoken.io.Decoders;\r\nimport java.security.Key;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.function.Function;\r\nimport io.jsonwebtoken.security.Keys;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class JwtUtil {\r\n    public static final String SECRET = &quot;5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437&quot;;\r\n\r\n    public String extractUsername(String token) {\r\n        return extractClaim(token, Claims::getSubject);\r\n    }\r\n\r\n    public Date extractExpiration(String token) {\r\n        return extractClaim(token, Claims::getExpiration);\r\n    }\r\n\r\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n        final Claims claims = extractAllClaims(token);\r\n        return claimsResolver.apply(claims);\r\n    }\r\n\r\n    private Claims extractAllClaims(String token) {\r\n        return Jwts\r\n                .parserBuilder()\r\n                .setSigningKey(getSignKey())\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n    private Boolean isTokenExpired(String token) {\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n\r\n    public Boolean validateToken(String token, UserDetails userDetails) {\r\n        final String username = extractUsername(token);\r\n        return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\r\n    }\r\n\r\n    public String generateToken(String userName){\r\n        Map&lt;String,Object&gt; claims=new HashMap&lt;&gt;();\r\n        return createToken(claims,userName);\r\n    }\r\n\r\n    private String createToken(Map&lt;String, Object&gt; claims, String userName) {\r\n        return Jwts.builder()\r\n                .setClaims(claims)\r\n                .setSubject(userName)\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis()+1000*60*30))\r\n                .signWith(getSignKey(), SignatureAlgorithm.HS256).compact();\r\n    }\r\n\r\n    private Key getSignKey() {\r\n        byte[] keyBytes= Decoders.BASE64.decode(SECRET);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n\r\n}\r\n````\r\nThese are my configurate for the security api but let me know if you would like to see other code snippets. Thank you.","title":"How to setHeader for jwt token","body":"<p>I'm trying to set the header for the JWT token that prints into the body on Postman. I would like some help to what I should add as I'm quite new to this jwt token stuff. I want to add a new &quot;Authorization&quot; header with the Bearer token.</p>\n<pre><code>package com.example.jwtspringsecurity.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class AppConfig {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/register&quot;, &quot;/auth&quot;).permitAll()\n                .and()\n                .authorizeHttpRequests().requestMatchers(&quot;/api/**&quot;)\n                .authenticated().and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and().build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration configuration) throws Exception {\n        return configuration.getAuthenticationManager();\n    }\n}\n</code></pre>\n<pre><code>package com.example.jwtspringsecurity.controller;\n\nimport com.example.jwtspringsecurity.dto.AuthenticationRequest;\nimport com.example.jwtspringsecurity.dto.AuthenticationResponse;\nimport com.example.jwtspringsecurity.service.jwt.UserDetailsServiceImpl;\nimport com.example.jwtspringsecurity.util.JwtUtil;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.DisabledException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.io.IOException;\n\n@RestController\npublic class AuthController {\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private JwtUtil jwtUtil;\n\n    @PostMapping(&quot;/auth&quot;)\n    public AuthenticationResponse createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest, HttpServletResponse response) throws BadCredentialsException, DisabledException, UsernameNotFoundException, IOException {\n        try {\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authenticationRequest.getEmail(), authenticationRequest.getPassword()));\n        } catch (BadCredentialsException e) {\n            throw new BadCredentialsException(e.getMessage());\n        } catch (DisabledException disabledException) {\n            response.sendError(HttpServletResponse.SC_NOT_FOUND, &quot;user not created. Register first&quot;);\n            return null;\n        }\n        final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getEmail());\n        final String jwt = jwtUtil.generateToken(userDetails.getUsername());\n        response.setHeader(&quot;Authorization&quot; ,jwt);\n\n        return new AuthenticationResponse(jwt);\n    }\n}\n</code></pre>\n<pre><code>package com.example.jwtspringsecurity.util;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport io.jsonwebtoken.io.Decoders;\nimport java.security.Key;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.function.Function;\nimport io.jsonwebtoken.security.Keys;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class JwtUtil {\n    public static final String SECRET = &quot;5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437&quot;;\n\n    public String extractUsername(String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n\n    public Date extractExpiration(String token) {\n        return extractClaim(token, Claims::getExpiration);\n    }\n\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n\n    private Claims extractAllClaims(String token) {\n        return Jwts\n                .parserBuilder()\n                .setSigningKey(getSignKey())\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n    private Boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    public Boolean validateToken(String token, UserDetails userDetails) {\n        final String username = extractUsername(token);\n        return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\n    }\n\n    public String generateToken(String userName){\n        Map&lt;String,Object&gt; claims=new HashMap&lt;&gt;();\n        return createToken(claims,userName);\n    }\n\n    private String createToken(Map&lt;String, Object&gt; claims, String userName) {\n        return Jwts.builder()\n                .setClaims(claims)\n                .setSubject(userName)\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis()+1000*60*30))\n                .signWith(getSignKey(), SignatureAlgorithm.HS256).compact();\n    }\n\n    private Key getSignKey() {\n        byte[] keyBytes= Decoders.BASE64.decode(SECRET);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n\n}\n</code></pre>\n<p>These are my configurate for the security api but let me know if you would like to see other code snippets. Thank you.</p>\n"},{"tags":["java","osgi"],"answers":[{"tags":[],"owner":{"account_id":892776,"reputation":19519,"user_id":930728,"accept_rate":60,"display_name":"Christian Schneider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688452455,"creation_date":1688452455,"answer_id":76609909,"question_id":76606686,"body_markdown":"The problem is that inside OSGi HelloService interface is loaded from the bundle api-1.0.jar.\r\nOutside of OSGi HelloService interface is loaded from a jar on the classpath. \r\n\r\nSo when you ask for the service references for HelloService you do not see any. \r\nThe best way to interact with your service is from inside another OSGi bundle. \r\n\r\nIf you must interact with the service from outside OSGi then instead of installing the api bundle you could export the package from system bundle.\r\nUse the run property: org.osgi.framework.system.packages.extra\r\n","title":"OSGI can not find ServiceReference","body":"<p>The problem is that inside OSGi HelloService interface is loaded from the bundle api-1.0.jar.\nOutside of OSGi HelloService interface is loaded from a jar on the classpath.</p>\n<p>So when you ask for the service references for HelloService you do not see any.\nThe best way to interact with your service is from inside another OSGi bundle.</p>\n<p>If you must interact with the service from outside OSGi then instead of installing the api bundle you could export the package from system bundle.\nUse the run property: org.osgi.framework.system.packages.extra</p>\n"}],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76609909,"answer_count":1,"score":1,"last_activity_date":1688452455,"creation_date":1688402311,"question_id":76606686,"body_markdown":"I have a very simple program starting up an OSGI framework (Felix in this case):\r\n\r\n            final Map configMap = new HashMap();\r\n            configMap.put(Constants.FRAMEWORK_STORAGE_CLEAN, &quot;onFirstInit&quot;);\r\n            m_framework = new Felix(configMap);\r\n            m_framework.init();\r\n\r\n            final BundleContext context = m_framework.getBundleContext();\r\n\r\n            Bundle api = context.installBundle(&quot;file:../api/target/api-1.0.jar&quot;);\r\n            Bundle provider = context.installBundle(&quot;file:../hello/target/hello-1.0.jar&quot;);\r\n\r\n            m_framework.start();\r\n\r\n            api.start();\r\n            provider.start();\r\n\r\n            System.out.println(&quot;List of all service references:&quot;);\r\n            ServiceReference[] ss = context.getAllServiceReferences(null, null);\r\n            for (ServiceReference sr : ss) {\r\n                System.out.println(&quot;sr = &quot; + sr);\r\n            }\r\n            System.out.println(HelloService.class.getName());            \r\n            ServiceReference&lt;HelloService&gt; sr = (ServiceReference&lt;HelloService&gt;) context.getServiceReference(HelloService.class.getName());\r\n            HelloService hs = context.getService(sr);\r\n            System.out.println(&quot;hs: &quot; + hs.sayHello(&quot;Bob&quot;));\r\n\r\n            m_framework.stop();\r\n\r\nI have an API bundle which contains the `HelloService` interface class.\r\n\r\nI have a Hello bundle which contains an implementation of the `HelloService`, conveniently named `HelloServiceImpl`.\r\n\r\nThese both seems fine, I can load them here and in the Felix console, I can&#39;t load the implementation without loading and starting the API (as expected).\r\n\r\nI have simple debug println in the bundles to show them being activated, and the `HelloServiceImpl` being constructed.\r\n\r\nThis is how I register the service in the Hello module:\r\n\r\n        System.out.println(&quot;Hello service implementation activated&quot;);\r\n        HelloService hs = new HelloServiceImpl();\r\n        context.registerService(HelloService.class.getName(), hs, null);\r\n        System.out.println(&quot;Registered &quot; + hs + &quot; to &quot; + HelloService.class.getName());\r\n\r\nI print out all of the Service References in the framework, and see that there is, indeed, a `HelloService` reference listed (output below).\r\n\r\nBut when I try to look up the `ServiceReference`, so that I can invoke the service, the framework is returning null.\r\n\r\nBelow is the output of this routine:\r\n\r\n    API Activator fired.\r\n    Hello service implementation activated\r\n    HelloServiceImpl created\r\n    Registered com.mycompany.hello.HelloServiceImpl@64bf3bbf to com.mycompany.api.HelloService\r\n    List of all service references:\r\n    sr = [org.osgi.service.packageadmin.PackageAdmin]\r\n    sr = [org.osgi.service.condition.Condition]\r\n    sr = [com.mycompany.api.HelloService]\r\n    sr = [org.osgi.service.startlevel.StartLevel]\r\n    sr = [org.osgi.service.resolver.Resolver]\r\n    com.mycompany.api.HelloService\r\n    Error starting program: java.lang.NullPointerException: Specified service reference cannot be null.\r\n    java.lang.NullPointerException: Specified service reference cannot be null.\r\n    \tat org.apache.felix.framework.BundleContextImpl.getService(BundleContextImpl.java:440)\r\n    \tat com.mycompany.main.Main.main(Main.java:40)\r\n\r\nClearly missing something fundamental, curious why this is not working.\r\n","title":"OSGI can not find ServiceReference","body":"<p>I have a very simple program starting up an OSGI framework (Felix in this case):</p>\n<pre><code>        final Map configMap = new HashMap();\n        configMap.put(Constants.FRAMEWORK_STORAGE_CLEAN, &quot;onFirstInit&quot;);\n        m_framework = new Felix(configMap);\n        m_framework.init();\n\n        final BundleContext context = m_framework.getBundleContext();\n\n        Bundle api = context.installBundle(&quot;file:../api/target/api-1.0.jar&quot;);\n        Bundle provider = context.installBundle(&quot;file:../hello/target/hello-1.0.jar&quot;);\n\n        m_framework.start();\n\n        api.start();\n        provider.start();\n\n        System.out.println(&quot;List of all service references:&quot;);\n        ServiceReference[] ss = context.getAllServiceReferences(null, null);\n        for (ServiceReference sr : ss) {\n            System.out.println(&quot;sr = &quot; + sr);\n        }\n        System.out.println(HelloService.class.getName());            \n        ServiceReference&lt;HelloService&gt; sr = (ServiceReference&lt;HelloService&gt;) context.getServiceReference(HelloService.class.getName());\n        HelloService hs = context.getService(sr);\n        System.out.println(&quot;hs: &quot; + hs.sayHello(&quot;Bob&quot;));\n\n        m_framework.stop();\n</code></pre>\n<p>I have an API bundle which contains the <code>HelloService</code> interface class.</p>\n<p>I have a Hello bundle which contains an implementation of the <code>HelloService</code>, conveniently named <code>HelloServiceImpl</code>.</p>\n<p>These both seems fine, I can load them here and in the Felix console, I can't load the implementation without loading and starting the API (as expected).</p>\n<p>I have simple debug println in the bundles to show them being activated, and the <code>HelloServiceImpl</code> being constructed.</p>\n<p>This is how I register the service in the Hello module:</p>\n<pre><code>    System.out.println(&quot;Hello service implementation activated&quot;);\n    HelloService hs = new HelloServiceImpl();\n    context.registerService(HelloService.class.getName(), hs, null);\n    System.out.println(&quot;Registered &quot; + hs + &quot; to &quot; + HelloService.class.getName());\n</code></pre>\n<p>I print out all of the Service References in the framework, and see that there is, indeed, a <code>HelloService</code> reference listed (output below).</p>\n<p>But when I try to look up the <code>ServiceReference</code>, so that I can invoke the service, the framework is returning null.</p>\n<p>Below is the output of this routine:</p>\n<pre><code>API Activator fired.\nHello service implementation activated\nHelloServiceImpl created\nRegistered com.mycompany.hello.HelloServiceImpl@64bf3bbf to com.mycompany.api.HelloService\nList of all service references:\nsr = [org.osgi.service.packageadmin.PackageAdmin]\nsr = [org.osgi.service.condition.Condition]\nsr = [com.mycompany.api.HelloService]\nsr = [org.osgi.service.startlevel.StartLevel]\nsr = [org.osgi.service.resolver.Resolver]\ncom.mycompany.api.HelloService\nError starting program: java.lang.NullPointerException: Specified service reference cannot be null.\njava.lang.NullPointerException: Specified service reference cannot be null.\n    at org.apache.felix.framework.BundleContextImpl.getService(BundleContextImpl.java:440)\n    at com.mycompany.main.Main.main(Main.java:40)\n</code></pre>\n<p>Clearly missing something fundamental, curious why this is not working.</p>\n"},{"tags":["java","spring","mongodb","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688452455,"creation_date":1688452455,"answer_id":76609910,"question_id":76605708,"body_markdown":"You can try this query   \r\n \r\n\r\n    @Query(&quot;{ &#39;id&#39; : { $regex: &#39;^?0&#39;, $options: &#39;i&#39; } }&quot;)\r\n    public List&lt;DBEntity&gt; findByIdStartingWith(String id);","title":"How to Query MongoDB using Spring JPA along with StartingWIth","body":"<p>You can try this query</p>\n<pre><code>@Query(&quot;{ 'id' : { $regex: '^?0', $options: 'i' } }&quot;)\npublic List&lt;DBEntity&gt; findByIdStartingWith(String id);\n</code></pre>\n"}],"owner":{"account_id":877270,"reputation":742,"user_id":153271,"accept_rate":33,"display_name":"chendu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76609910,"answer_count":1,"score":2,"last_activity_date":1688452455,"creation_date":1688394581,"question_id":76605708,"body_markdown":"My mongo db has documents with `_id` defined as `string`. Typical values for `_id` s are \r\n\r\n- `abc#1234` \r\n- `abc#2345` \r\n- `aby#5678`. \r\n- `abx#123`\r\n\r\nI want to do a prefix query around `abc#` to return `abc#1234` `abc#2345` (given that _id are sorted in Mongo, I think the prefix query will be efficient --more efficient than 2ndry indexes --Please correct me if I am wrong)\r\n\r\nI tried the below and it returned a list of size 0. \r\n\r\n```\r\n@Repository\r\npublic interface DBEntityRespository  extends MongoRepository&lt;DBEntity, String&gt; {\r\n    public List&lt;DBEntity&gt; findByIdStartingWith(String id);\r\n}\r\n\r\n```\r\nentity is defined as...\r\n\r\n```\r\n@Document(collection = &quot;someDBEntity&quot;)\r\n@Data\r\n@Accessors(chain = true)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class DBEntity {\r\n\r\n    @Id\r\n    @JsonProperty(&quot;_id&quot;)\r\n    private String id;\r\n...\r\n...\r\n...\r\n}\r\n```\r\n\r\nI am calling the repository as follows\r\n```\r\n   @GetMapping(&quot;/v1/x&quot;)\r\n    public String hi(){\r\n        List&lt;DBEntity&gt; list = repo.findByIdStartingWith(&quot;abc&quot;);// &lt;&lt; tried with ^abc , /abc/, abc.* but no luck\r\n        System.out.println(list.size() ); // &lt;&lt; returns list of size 0\r\n        return &quot;success&quot;;\r\n    }\r\n```\r\n\r\nAny thoughts on how to get the issue fixed? and return the full documents matching the prefix `abc` ??\r\n","title":"How to Query MongoDB using Spring JPA along with StartingWIth","body":"<p>My mongo db has documents with <code>_id</code> defined as <code>string</code>. Typical values for <code>_id</code> s are</p>\n<ul>\n<li><code>abc#1234</code></li>\n<li><code>abc#2345</code></li>\n<li><code>aby#5678</code>.</li>\n<li><code>abx#123</code></li>\n</ul>\n<p>I want to do a prefix query around <code>abc#</code> to return <code>abc#1234</code> <code>abc#2345</code> (given that _id are sorted in Mongo, I think the prefix query will be efficient --more efficient than 2ndry indexes --Please correct me if I am wrong)</p>\n<p>I tried the below and it returned a list of size 0.</p>\n<pre><code>@Repository\npublic interface DBEntityRespository  extends MongoRepository&lt;DBEntity, String&gt; {\n    public List&lt;DBEntity&gt; findByIdStartingWith(String id);\n}\n\n</code></pre>\n<p>entity is defined as...</p>\n<pre><code>@Document(collection = &quot;someDBEntity&quot;)\n@Data\n@Accessors(chain = true)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class DBEntity {\n\n    @Id\n    @JsonProperty(&quot;_id&quot;)\n    private String id;\n...\n...\n...\n}\n</code></pre>\n<p>I am calling the repository as follows</p>\n<pre><code>   @GetMapping(&quot;/v1/x&quot;)\n    public String hi(){\n        List&lt;DBEntity&gt; list = repo.findByIdStartingWith(&quot;abc&quot;);// &lt;&lt; tried with ^abc , /abc/, abc.* but no luck\n        System.out.println(list.size() ); // &lt;&lt; returns list of size 0\n        return &quot;success&quot;;\n    }\n</code></pre>\n<p>Any thoughts on how to get the issue fixed? and return the full documents matching the prefix <code>abc</code> ??</p>\n"},{"tags":["java","android","react-native","google-play"],"owner":{"account_id":8383373,"reputation":105,"user_id":6294558,"accept_rate":40,"display_name":"jais"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688452090,"creation_date":1688383519,"question_id":76604278,"body_markdown":"I have a simple broadcast receiver, which will always run in the background. Testing locally on my device doesn&#39;t have any problem. In PlayStore throws below exception\r\n\r\nException \r\n\r\n&gt; Exception java.lang.RuntimeException:   at\r\n&gt; android.app.ActivityThread.handleReceiver (ActivityThread.java:3990)  \r\n&gt; at android.app.ActivityThread.access$1500 (ActivityThread.java:233)  \r\n&gt; at android.app.ActivityThread$H.handleMessage\r\n&gt; (ActivityThread.java:2006)   at android.os.Handler.dispatchMessage\r\n&gt; (Handler.java:107)   at android.os.Looper.loop (Looper.java:241)   at\r\n&gt; android.app.ActivityThread.main (ActivityThread.java:7582)   at\r\n&gt; java.lang.reflect.Method.invoke   at\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run\r\n&gt; (RuntimeInit.java:492)   at com.android.internal.os.ZygoteInit.main\r\n&gt; (ZygoteInit.java:941) Caused by java.lang.IllegalStateException:   at\r\n&gt; android.app.ContextImpl.startServiceCommon (ContextImpl.java:1637)  \r\n&gt; at android.app.ContextImpl.startService (ContextImpl.java:1592)   at\r\n&gt; android.content.ContextWrapper.startService (ContextWrapper.java:669) \r\n&gt; at android.content.ContextWrapper.startService\r\n&gt; (ContextWrapper.java:669)   at com.app.BootBrodcastReceiver.onReceive\r\n&gt; (BootBrodcastReceiver.java:14)   at\r\n&gt; android.app.ActivityThread.handleReceiver (ActivityThread.java:3981)\r\n\r\nBelow implemented code BootBrodcastReceiver.java.java\r\n\r\n    package com.app;\r\n    \r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    \r\n    public class BootBrodcastReceiver extends BroadcastReceiver {\r\n        static final String ACTION = &quot;android.intent.action.BOOT_COMPLETED&quot;;\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction().equals(ACTION)) {\r\n                //Service\r\n                Intent serviceIntent = new Intent(context, intentService.class);\r\n                context.startService(serviceIntent); &lt;-line 14\r\n            }\r\n        }\r\n    }\r\n","title":"Exception java.lang.RuntimeException on PlayStore Console","body":"<p>I have a simple broadcast receiver, which will always run in the background. Testing locally on my device doesn't have any problem. In PlayStore throws below exception</p>\n<p>Exception</p>\n<blockquote>\n<p>Exception java.lang.RuntimeException:   at\nandroid.app.ActivityThread.handleReceiver (ActivityThread.java:3990)<br />\nat android.app.ActivityThread.access$1500 (ActivityThread.java:233)<br />\nat android.app.ActivityThread$H.handleMessage\n(ActivityThread.java:2006)   at android.os.Handler.dispatchMessage\n(Handler.java:107)   at android.os.Looper.loop (Looper.java:241)   at\nandroid.app.ActivityThread.main (ActivityThread.java:7582)   at\njava.lang.reflect.Method.invoke   at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run\n(RuntimeInit.java:492)   at com.android.internal.os.ZygoteInit.main\n(ZygoteInit.java:941) Caused by java.lang.IllegalStateException:   at\nandroid.app.ContextImpl.startServiceCommon (ContextImpl.java:1637)<br />\nat android.app.ContextImpl.startService (ContextImpl.java:1592)   at\nandroid.content.ContextWrapper.startService (ContextWrapper.java:669)\nat android.content.ContextWrapper.startService\n(ContextWrapper.java:669)   at com.app.BootBrodcastReceiver.onReceive\n(BootBrodcastReceiver.java:14)   at\nandroid.app.ActivityThread.handleReceiver (ActivityThread.java:3981)</p>\n</blockquote>\n<p>Below implemented code BootBrodcastReceiver.java.java</p>\n<pre><code>package com.app;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\n\npublic class BootBrodcastReceiver extends BroadcastReceiver {\n    static final String ACTION = &quot;android.intent.action.BOOT_COMPLETED&quot;;\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (intent.getAction().equals(ACTION)) {\n            //Service\n            Intent serviceIntent = new Intent(context, intentService.class);\n            context.startService(serviceIntent); &lt;-line 14\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","docker","openshift"],"comments":[{"owner":{"account_id":12454242,"reputation":310,"user_id":9067966,"display_name":"pikkuez"},"score":0,"creation_date":1570100536,"post_id":58217665,"comment_id":102811489,"body_markdown":"Do you mean by jvm argument or doing it by a program?","body":"Do you mean by jvm argument or doing it by a program?"},{"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"score":0,"creation_date":1570104801,"post_id":58217665,"comment_id":102813600,"body_markdown":"Just by openshift from Browser or Openshift Commandline.","body":"Just by openshift from Browser or Openshift Commandline."}],"answers":[{"tags":[],"owner":{"account_id":332120,"reputation":4862,"user_id":657224,"accept_rate":17,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570105476,"creation_date":1570105394,"answer_id":58219028,"question_id":58217665,"body_markdown":"You can copy files in and out of pods using the [rsync][1] command.\r\n\r\nOr use the `logs` command like you are and just redirect to a file so you can edit it locally:\r\n\r\n    oc logs  &lt;podname&gt; &amp;&gt; /path/to/file\r\n\r\n\r\n  [1]: https://docs.openshift.com/enterprise/3.1/dev_guide/copy_files_to_container.html","title":"How to get the logs of a POD in openshift to local file","body":"<p>You can copy files in and out of pods using the <a href=\"https://docs.openshift.com/enterprise/3.1/dev_guide/copy_files_to_container.html\" rel=\"nofollow noreferrer\">rsync</a> command.</p>\n\n<p>Or use the <code>logs</code> command like you are and just redirect to a file so you can edit it locally:</p>\n\n<pre><code>oc logs  &lt;podname&gt; &amp;&gt; /path/to/file\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12180010,"reputation":4433,"user_id":8891738,"display_name":"Daein Park"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570109438,"creation_date":1570109438,"answer_id":58220238,"question_id":58217665,"body_markdown":"&gt; That just prints the log into cmd prompt, but i want whole log to be copied from server to local file. So that i can find some particular lines or errors. Is is possible?\r\n\r\nWhat about check `/var/log/containers` on the node which pods are running ?\r\nThere are all container logs which are symbolic links as `&lt;pod name&gt;_&lt;namespace&gt;_&lt;container name&gt;-&lt;hash&gt;` format. Basically, `oc logs` also refers the same container logs at there.\r\n\r\ne.g.&gt;\r\n~~~\r\nnode ~# ls -1 /var/log/containers\r\nalertmanager-main-0_openshift-monitoring_alertmanager-123...789.log\r\nalertmanager-main-0_openshift-monitoring_alertmanager-456...123.log\r\nalertmanager-main-0_openshift-monitoring_alertmanager-proxy-789...456.log\r\n...\r\n~~~","title":"How to get the logs of a POD in openshift to local file","body":"<blockquote>\n  <p>That just prints the log into cmd prompt, but i want whole log to be copied from server to local file. So that i can find some particular lines or errors. Is is possible?</p>\n</blockquote>\n\n<p>What about check <code>/var/log/containers</code> on the node which pods are running ?\nThere are all container logs which are symbolic links as <code>&lt;pod name&gt;_&lt;namespace&gt;_&lt;container name&gt;-&lt;hash&gt;</code> format. Basically, <code>oc logs</code> also refers the same container logs at there.</p>\n\n<p>e.g.></p>\n\n<pre><code>node ~# ls -1 /var/log/containers\nalertmanager-main-0_openshift-monitoring_alertmanager-123...789.log\nalertmanager-main-0_openshift-monitoring_alertmanager-456...123.log\nalertmanager-main-0_openshift-monitoring_alertmanager-proxy-789...456.log\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":364598,"reputation":309,"user_id":709066,"display_name":"Megadotnet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576568993,"creation_date":1576567629,"answer_id":59369409,"question_id":58217665,"body_markdown":"login from oc cli tools, then switch to project, execute:\r\n\r\n    oc logs &lt;podname&gt; &gt;&gt; &lt;podname&gt;.log","title":"How to get the logs of a POD in openshift to local file","body":"<p>login from oc cli tools, then switch to project, execute:</p>\n\n<pre><code>oc logs &lt;podname&gt; &gt;&gt; &lt;podname&gt;.log\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3412318,"reputation":1160,"user_id":2861978,"display_name":"ionescu77"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1580916798,"creation_date":1580916798,"answer_id":60079165,"question_id":58217665,"body_markdown":"## oc rsync\r\nTry `oc rsync` as suggested above:\r\n```\r\noc rsync &lt;pod&gt;:/path/to/file localfilename\r\n```\r\n\r\nHowever in my case I got:\r\n```\r\nWARNING: cannot use rsync: rsync not available in container &lt;pod&gt;\r\n```\r\n\r\n## oc cp\r\nSo I tried try `oc cp`, and it worked:\r\n\r\n```\r\noc cp &lt;namespace&gt;/&lt;pod&gt;:/path/to/file local_filename\r\n```\r\n\r\nWithout specifying the namespace the copy command will not work (and display no error message), so I had to which project the pod belongs.\r\n\r\n### Identify a pod&#39;s project/namespace\r\n\r\n - `&lt;pod&gt;` is the pod name\r\n - `&lt;namespace&gt;` is actually the project the `&lt;pod&gt;` belongs to.\r\n - use `oc project` to list current project, or\r\n - `oc projects` to list all projects\r\n - or or search for the pod name in all projects `oc get pods --all-namespaces | egrep &lt;pod&gt;`\r\n\r\n### Important Note\r\n```\r\n # !!!Important Note!!!\r\n # Requires that the &#39;tar&#39; binary is present in your container\r\n # image.  If &#39;tar&#39; is not present, &#39;kubectl cp&#39; will fail.\r\n```\r\n```\r\n # about my environment\r\n # oc version\r\n # oc 3.6, openshift 3.7, kubernetes 1.7\r\n```\r\n### Docs:\r\n[OpenShift 4.3 Oficial Documentation - copying files](https://docs.openshift.com/container-platform/4.3/nodes/containers/nodes-containers-copying-files.html)","title":"How to get the logs of a POD in openshift to local file","body":"<h2>oc rsync</h2>\n\n<p>Try <code>oc rsync</code> as suggested above:</p>\n\n<pre><code>oc rsync &lt;pod&gt;:/path/to/file localfilename\n</code></pre>\n\n<p>However in my case I got:</p>\n\n<pre><code>WARNING: cannot use rsync: rsync not available in container &lt;pod&gt;\n</code></pre>\n\n<h2>oc cp</h2>\n\n<p>So I tried try <code>oc cp</code>, and it worked:</p>\n\n<pre><code>oc cp &lt;namespace&gt;/&lt;pod&gt;:/path/to/file local_filename\n</code></pre>\n\n<p>Without specifying the namespace the copy command will not work (and display no error message), so I had to which project the pod belongs.</p>\n\n<h3>Identify a pod's project/namespace</h3>\n\n<ul>\n<li><code>&lt;pod&gt;</code> is the pod name</li>\n<li><code>&lt;namespace&gt;</code> is actually the project the <code>&lt;pod&gt;</code> belongs to.</li>\n<li>use <code>oc project</code> to list current project, or</li>\n<li><code>oc projects</code> to list all projects</li>\n<li>or or search for the pod name in all projects <code>oc get pods --all-namespaces | egrep &lt;pod&gt;</code></li>\n</ul>\n\n<h3>Important Note</h3>\n\n<pre><code> # !!!Important Note!!!\n # Requires that the 'tar' binary is present in your container\n # image.  If 'tar' is not present, 'kubectl cp' will fail.\n</code></pre>\n\n<pre><code> # about my environment\n # oc version\n # oc 3.6, openshift 3.7, kubernetes 1.7\n</code></pre>\n\n<h3>Docs:</h3>\n\n<p><a href=\"https://docs.openshift.com/container-platform/4.3/nodes/containers/nodes-containers-copying-files.html\" rel=\"nofollow noreferrer\">OpenShift 4.3 Oficial Documentation - copying files</a></p>\n"},{"tags":[],"owner":{"account_id":10398985,"reputation":281,"user_id":7667916,"display_name":"deepak prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581459201,"creation_date":1581459201,"answer_id":60178169,"question_id":58217665,"body_markdown":"&lt;p&gt;To download the file from fabric pod to your local machine&lt;/p&gt;\r\n\r\n - To Connect to the fabric instance with oc login command\r\n   &lt;p&gt;oc login url--token=&amp;lttoken&gt;&amp;gt&lt;/p&gt;\r\n - Check to connect pod using terminal\r\n   &lt;p&gt;oc rsh &amp;ltpodname&amp;gt &lt;/p&gt;\r\n   &lt;p&gt;Just Check if it connects to POD and do some ls -lh(it should give some response)&lt;/p&gt;\r\n - To Copy the file from remote POD to your local:\r\n   &lt;p&gt;oc rsync &amp;ltpodname&amp;gt:&amp;ltpath&amp;gt/logs.txt localfilename &lt;/p&gt;","title":"How to get the logs of a POD in openshift to local file","body":"<p>To download the file from fabric pod to your local machine</p>\n\n<ul>\n<li>To Connect to the fabric instance with oc login command\n\n<p>oc login url--token=&lttoken>&gt</p></li>\n<li>Check to connect pod using terminal\n\n<p>oc rsh &ltpodname&gt </p>\n\n<p>Just Check if it connects to POD and do some ls -lh(it should give some response)</p></li>\n<li>To Copy the file from remote POD to your local:\n\n<p>oc rsync &ltpodname&gt:&ltpath&gt/logs.txt localfilename </p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4433240,"reputation":31,"user_id":3609850,"display_name":"icaromagnago"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1592404225,"creation_date":1592402837,"answer_id":62430946,"question_id":58217665,"body_markdown":"From your oc CLI tool execute:\r\n\r\n    oc logs pod_name -n project_name &gt; filename.log","title":"How to get the logs of a POD in openshift to local file","body":"<p>From your oc CLI tool execute:</p>\n\n<pre><code>oc logs pod_name -n project_name &gt; filename.log\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19125832,"reputation":1,"user_id":13968833,"display_name":"GeekWoman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595327758,"creation_date":1595325534,"answer_id":63011990,"question_id":58217665,"body_markdown":"1. Extract the oc login command.\r\n2. Login into oc using login command on cli client.\r\n3. Navigate to namespace where pod is hosted -&gt; oc project project-name\r\n4. Type in -&gt; oc logs podname &gt; pods_logs.txt\r\n\r\nLog file is generated in the current directory. ","title":"How to get the logs of a POD in openshift to local file","body":"<ol>\n<li>Extract the oc login command.</li>\n<li>Login into oc using login command on cli client.</li>\n<li>Navigate to namespace where pod is hosted -&gt; oc project project-name</li>\n<li>Type in -&gt; oc logs podname &gt; pods_logs.txt</li>\n</ol>\n<p>Log file is generated in the current directory.</p>\n"},{"tags":[],"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1595583182,"creation_date":1595583182,"answer_id":63070839,"question_id":58217665,"body_markdown":"oc logs pod_name -n project_name &gt; filename.log\r\n\r\nthis works for me","title":"How to get the logs of a POD in openshift to local file","body":"<p>oc logs pod_name -n project_name &gt; filename.log</p>\n<p>this works for me</p>\n"},{"tags":[],"owner":{"account_id":20802053,"reputation":1,"user_id":15277852,"display_name":"ulix1808"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614195391,"creation_date":1614195391,"answer_id":66357750,"question_id":58217665,"body_markdown":"for me the way it works was to copy the folder with the logs  I was intended to get from my pod to the default path were the pod sent you when you login in the pod \r\nand then apply:\r\n\r\n\r\n\r\n    oc cp &lt;namespace&gt;/&lt;pod&gt;:&lt;myFolder&gt; .\r\n\r\n","title":"How to get the logs of a POD in openshift to local file","body":"<p>for me the way it works was to copy the folder with the logs  I was intended to get from my pod to the default path were the pod sent you when you login in the pod\nand then apply:</p>\n<pre><code>oc cp &lt;namespace&gt;/&lt;pod&gt;:&lt;myFolder&gt; .\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12940422,"reputation":1,"user_id":9356428,"display_name":"Anupam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688451333,"creation_date":1688451258,"answer_id":76609804,"question_id":58217665,"body_markdown":"Try following command.\r\n\r\n\r\n\r\noc logs -f **podname** &gt; **log-file-name**","title":"How to get the logs of a POD in openshift to local file","body":"<p>Try following command.</p>\n<p>oc logs -f <strong>podname</strong> &gt; <strong>log-file-name</strong></p>\n"}],"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42422,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":10,"score":6,"last_activity_date":1688451333,"creation_date":1570100154,"question_id":58217665,"body_markdown":"I have my spring boot application running on Openshift as container built using docker Image. I have enabled the logging in my application and prints all the logs. \r\nNow i want to examine the log files of the POD to check for any errors, since one my request is failing.  I do know about the command line option `oc logs -f &lt;podname&gt;`\r\nThat just prints the log into cmd prompt, but i want whole log to be copied from server to local file.\r\nSo that i can find some particular lines or errors. Is is possible?","title":"How to get the logs of a POD in openshift to local file","body":"<p>I have my spring boot application running on Openshift as container built using docker Image. I have enabled the logging in my application and prints all the logs. \nNow i want to examine the log files of the POD to check for any errors, since one my request is failing.  I do know about the command line option <code>oc logs -f &lt;podname&gt;</code>\nThat just prints the log into cmd prompt, but i want whole log to be copied from server to local file.\nSo that i can find some particular lines or errors. Is is possible?</p>\n"},{"tags":["java","int","hashcode","primitive"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":2,"creation_date":1344541440,"post_id":11890805,"comment_id":15824948,"body_markdown":"You can&#39;t call methods on primitives. Although it can be autoboxed, and then as an `Integer` (or similar) you&#39;ll get `Integer.hashCode`.","body":"You can&#39;t call methods on primitives. Although it can be autoboxed, and then as an <code>Integer</code> (or similar) you&#39;ll get <code>Integer.hashCode</code>."},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":0,"creation_date":1344541560,"post_id":11890805,"comment_id":15825004,"body_markdown":"In that case, we could be more helpful and add what the hashCodes would be for the wrapper classes.","body":"In that case, we could be more helpful and add what the hashCodes would be for the wrapper classes."},{"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"score":0,"creation_date":1344541583,"post_id":11890805,"comment_id":15825012,"body_markdown":"The hashcode of an integer is the integer itself.","body":"The hashcode of an integer is the integer itself."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1344541720,"post_id":11890805,"comment_id":15825083,"body_markdown":"@DennisMeng Can you not read the API docs?","body":"@DennisMeng Can you not read the API docs?"},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":3,"creation_date":1344541846,"post_id":11890805,"comment_id":15825145,"body_markdown":"I could, but the point of my comment was that we shouldn&#39;t shut the OP down just because of a minor technicality. The point of my comment was that we should probably be giving answers closer to the actual spirit of the problem.","body":"I could, but the point of my comment was that we shouldn&#39;t shut the OP down just because of a minor technicality. The point of my comment was that we should probably be giving answers closer to the actual spirit of the problem."}],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1479915097,"creation_date":1344541463,"answer_id":11890816,"question_id":11890805,"body_markdown":"No `hashCode()` method for primitive type `int` available.\r\n\r\n`Integer` is Wrapper class type and `hashcode()` returns an `int`","title":"Hashcode of an int","body":"<p>No <code>hashCode()</code> method for primitive type <code>int</code> available.</p>\n\n<p><code>Integer</code> is Wrapper class type and <code>hashcode()</code> returns an <code>int</code></p>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":2,"up_vote_count":49,"is_accepted":true,"score":47,"last_activity_date":1688450542,"creation_date":1344541559,"answer_id":11890843,"question_id":11890805,"body_markdown":"For the `hashCode` of an `int` the most natural choice is to use the `int` itself. A better question is what to use for the `hashCode` of a `long` since it doesn&#39;t fit into the `int`-sized hashcode. Generally, your best source for that&amp;mdash;and all `hashCode`-related questions&amp;mdash;would be [Effective Java](http://www.oracle.com/technetwork/java/effectivejava-136174.html).\r\n\r\nHere&#39;s what Effective Java recommends (and the JDK uses) for the `long` type:\r\n\r\n    (int) (value ^ (value &gt;&gt;&gt; 32))","title":"Hashcode of an int","body":"<p>For the <code>hashCode</code> of an <code>int</code> the most natural choice is to use the <code>int</code> itself. A better question is what to use for the <code>hashCode</code> of a <code>long</code> since it doesn't fit into the <code>int</code>-sized hashcode. Generally, your best source for that—and all <code>hashCode</code>-related questions—would be <a href=\"http://www.oracle.com/technetwork/java/effectivejava-136174.html\" rel=\"nofollow noreferrer\">Effective Java</a>.</p>\n<p>Here's what Effective Java recommends (and the JDK uses) for the <code>long</code> type:</p>\n<pre><code>(int) (value ^ (value &gt;&gt;&gt; 32))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":333062,"reputation":28113,"user_id":658718,"accept_rate":100,"display_name":"Konrad Reiche"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1344541700,"creation_date":1344541700,"answer_id":11890876,"question_id":11890805,"body_markdown":"Taken from the `Integer.class` source code:\r\n\r\n    /**\r\n     * Returns a hash code for this {@code Integer}.\r\n     *\r\n     * @return  a hash code value for this object, equal to the\r\n     *          primitive {@code int} value represented by this\r\n     *          {@code Integer} object.\r\n     */\r\n    public int hashCode() {\r\n        return value;\r\n    }\r\n\r\nWhere `value` is the value of the integer.","title":"Hashcode of an int","body":"<p>Taken from the <code>Integer.class</code> source code:</p>\n\n<pre><code>/**\n * Returns a hash code for this {@code Integer}.\n *\n * @return  a hash code value for this object, equal to the\n *          primitive {@code int} value represented by this\n *          {@code Integer} object.\n */\npublic int hashCode() {\n    return value;\n}\n</code></pre>\n\n<p>Where <code>value</code> is the value of the integer.</p>\n"},{"tags":[],"owner":{"account_id":5140389,"reputation":1138,"user_id":4117975,"accept_rate":62,"display_name":"Amogh Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516892391,"creation_date":1452867517,"answer_id":34813061,"question_id":11890805,"body_markdown":"The `java.lang.Integer.hashCode()` method returns a hash code value for primitive value of `int` but represented as an `Integer` object.\r\n\r\n\r\n    /**\r\n     * Returns a hash code value for an Integer,\r\n     * equal to the primitive int value it represents.\r\n     */\r\n    public class IntegerDemo {\r\n\r\n        public static void main(String[] args){\r\n            Integer i = new Integer(&quot;20&quot;);\r\n            System.out.println(&quot;Value = &quot; + i.hashCode());\r\n        }\r\n\r\n    }`\r\n\r\n**Results:**\r\n&gt;Value = 20\r\n\r\nSource Link: http://www.tutorialspoint.com/java/lang/integer_hashcode.htm","title":"Hashcode of an int","body":"<p>The <code>java.lang.Integer.hashCode()</code> method returns a hash code value for primitive value of <code>int</code> but represented as an <code>Integer</code> object.</p>\n\n<pre><code>/**\n * Returns a hash code value for an Integer,\n * equal to the primitive int value it represents.\n */\npublic class IntegerDemo {\n\n    public static void main(String[] args){\n        Integer i = new Integer(\"20\");\n        System.out.println(\"Value = \" + i.hashCode());\n    }\n\n}`\n</code></pre>\n\n<p><strong>Results:</strong></p>\n\n<blockquote>\n  <p>Value = 20</p>\n</blockquote>\n\n<p>Source Link: <a href=\"http://www.tutorialspoint.com/java/lang/integer_hashcode.htm\" rel=\"nofollow noreferrer\">http://www.tutorialspoint.com/java/lang/integer_hashcode.htm</a></p>\n"}],"owner":{"account_id":1708270,"reputation":407,"user_id":1566884,"accept_rate":25,"display_name":"Ed Lee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64522,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":11890843,"answer_count":4,"score":39,"last_activity_date":1688450542,"creation_date":1344541412,"question_id":11890805,"body_markdown":"What is the hashcode of a primitive type, such as int?\r\n\r\nfor example, let&#39;s say num was an interger.\r\n\r\n\r\n    int hasCode = 0;\r\n\r\n    if (num != 0) {\r\n      hasCode = hasCode + num.hashCode();\r\n    }","title":"Hashcode of an int","body":"<p>What is the hashcode of a primitive type, such as int?</p>\n\n<p>for example, let's say num was an interger.</p>\n\n<pre><code>int hasCode = 0;\n\nif (num != 0) {\n  hasCode = hasCode + num.hashCode();\n}\n</code></pre>\n"},{"tags":["java","spring","cookies","websocket","gateway"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1688452232,"post_id":76609755,"comment_id":135072124,"body_markdown":"Have you tried to use a different name instead of `X-Authorization` , for example `my-cookie` and see if that gets forwarded or also removed?\n\nI would think that somewhere in Azure something (Gateway?) is removing all those headers for security reason.\n\nThis is just speculation","body":"Have you tried to use a different name instead of <code>X-Authorization</code> , for example <code>my-cookie</code> and see if that gets forwarded or also removed?  I would think that somewhere in Azure something (Gateway?) is removing all those headers for security reason.  This is just speculation"},{"owner":{"account_id":26338497,"reputation":15,"user_id":19997982,"display_name":"Fellou98"},"score":0,"creation_date":1688453370,"post_id":76609755,"comment_id":135072316,"body_markdown":"I didn&#39;t, gonna try it in a while","body":"I didn&#39;t, gonna try it in a while"}],"owner":{"account_id":26338497,"reputation":15,"user_id":19997982,"display_name":"Fellou98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688450514,"creation_date":1688450514,"question_id":76609755,"body_markdown":"**Hello** &lt;br&gt;\r\n--------------\r\n\r\nSo I have been working on websocket project and decided to add authorization to it. I came up with an idea that i can add cookie variable named X-Authorization on my client side, and im doing it like this &lt;br&gt;\r\n\r\n 1. **TypeScript implementation**\r\n\r\n``` \r\nasync connectToWebSocket():Promise&lt;void&gt; {\r\n      const token = await this.keycloakService.getToken();\r\n      this.cookieService.set(&#39;X-Authorization&#39;, token);\r\n        this.socket = new WebSocket(&quot;ws://url_address:8080/path&quot;);\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nRequest is going through Spring Cloud Gateway and is being forwarded to downstream service that handles taking token from given cookie and put it in proper header in OncePerRequest filter like this &lt;br&gt;\r\n\r\n 2. **Java implementation**\r\n\r\n```\r\n@Override\r\n    protected void doFilterInternal(@NotNull HttpServletRequest request,@NotNull HttpServletResponse response,@NotNull FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        log.info(&quot;Filtering request&quot;);\r\n        String token = extractTokenFromRequest(request);\r\n        log.info(&quot;extracted token&quot;);\r\n        if (StringUtils.hasText(token)) {\r\n            log.info(&quot;Passing to next filter&quot;);\r\n            filterChain.doFilter(new TokenHttpServletRequestWrapper(request, token), response);\r\n        } else {\r\n            throw new TokenRetrieveException(&quot;No token provided&quot;, HttpStatus.UNAUTHORIZED);\r\n        }\r\n    }\r\n\r\n    private String extractTokenFromRequest(HttpServletRequest request) {\r\n        log.info(&quot;getting cookie&quot;);\r\n        Cookie[] cookies = request.getCookies();\r\n        if (cookies != null) {\r\n            log.info(&quot;cookie not null&quot;);\r\n            Optional&lt;Cookie&gt; tokenCookie = Arrays.stream(cookies)\r\n                    .filter(cookie -&gt; &quot;X-Authorization&quot;.equals(cookie.getName()))\r\n                    .findFirst();\r\n            if (tokenCookie.isPresent()) {\r\n                return tokenCookie.get().getValue();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n 3. **Problem starts here** &lt;br&gt;\r\n\r\nWhen I start everything up from docker compose with local addresses (localhost:8080 etc.) everything works fine and cookies are being send to cloud gateway and then to downstream service that handles it, in short - no problem. &lt;br&gt;\r\n\r\nBut when i set everything up(change addresses from localhost to server address) to run docker compose on Azure VM when i send same request with same cookie it doesn&#39;t even reach Spring Cloud Gateway and it&#39;s being deleted somewhere and I have no idea what to search for.\r\n\r\n\r\n----------\r\n\r\n\r\nWhat are your ideas about it and what can be the cause of this problem?","title":"Modified cookie doesn&#39;t reach Spring Cloud Gateway","body":"<h2><strong>Hello</strong> <br></h2>\n<p>So I have been working on websocket project and decided to add authorization to it. I came up with an idea that i can add cookie variable named X-Authorization on my client side, and im doing it like this <br></p>\n<ol>\n<li><strong>TypeScript implementation</strong></li>\n</ol>\n<pre><code>async connectToWebSocket():Promise&lt;void&gt; {\n      const token = await this.keycloakService.getToken();\n      this.cookieService.set('X-Authorization', token);\n        this.socket = new WebSocket(&quot;ws://url_address:8080/path&quot;);\n}\n</code></pre>\n<hr />\n<p>Request is going through Spring Cloud Gateway and is being forwarded to downstream service that handles taking token from given cookie and put it in proper header in OncePerRequest filter like this <br></p>\n<ol start=\"2\">\n<li><strong>Java implementation</strong></li>\n</ol>\n<pre><code>@Override\n    protected void doFilterInternal(@NotNull HttpServletRequest request,@NotNull HttpServletResponse response,@NotNull FilterChain filterChain)\n            throws ServletException, IOException {\n        log.info(&quot;Filtering request&quot;);\n        String token = extractTokenFromRequest(request);\n        log.info(&quot;extracted token&quot;);\n        if (StringUtils.hasText(token)) {\n            log.info(&quot;Passing to next filter&quot;);\n            filterChain.doFilter(new TokenHttpServletRequestWrapper(request, token), response);\n        } else {\n            throw new TokenRetrieveException(&quot;No token provided&quot;, HttpStatus.UNAUTHORIZED);\n        }\n    }\n\n    private String extractTokenFromRequest(HttpServletRequest request) {\n        log.info(&quot;getting cookie&quot;);\n        Cookie[] cookies = request.getCookies();\n        if (cookies != null) {\n            log.info(&quot;cookie not null&quot;);\n            Optional&lt;Cookie&gt; tokenCookie = Arrays.stream(cookies)\n                    .filter(cookie -&gt; &quot;X-Authorization&quot;.equals(cookie.getName()))\n                    .findFirst();\n            if (tokenCookie.isPresent()) {\n                return tokenCookie.get().getValue();\n            }\n        }\n        return null;\n    }\n</code></pre>\n<hr />\n<ol start=\"3\">\n<li><strong>Problem starts here</strong> <br></li>\n</ol>\n<p>When I start everything up from docker compose with local addresses (localhost:8080 etc.) everything works fine and cookies are being send to cloud gateway and then to downstream service that handles it, in short - no problem. <br></p>\n<p>But when i set everything up(change addresses from localhost to server address) to run docker compose on Azure VM when i send same request with same cookie it doesn't even reach Spring Cloud Gateway and it's being deleted somewhere and I have no idea what to search for.</p>\n<hr />\n<p>What are your ideas about it and what can be the cause of this problem?</p>\n"},{"tags":["java","sql-server","spring-boot","ssl","pkix"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1660050800,"post_id":73291498,"comment_id":129437164,"body_markdown":"Why would you download a certificate from a random web site to add to your key store?","body":"Why would you download a certificate from a random web site to add to your key store?"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1660050818,"post_id":73291498,"comment_id":129437175,"body_markdown":"Are you using JDBC Driver 10.2 for SQL Server (or later)? 10.2 introduced a breaking change that applies `Encrypt=true` by default, ref: [JDBC Driver 10.2 for SQL Server Released](https://techcommunity.microsoft.com/t5/sql-server-blog/jdbc-driver-10-2-for-sql-server-released/ba-p/3100754).","body":"Are you using JDBC Driver 10.2 for SQL Server (or later)? 10.2 introduced a breaking change that applies <code>Encrypt=true</code> by default, ref: <a href=\"https://techcommunity.microsoft.com/t5/sql-server-blog/jdbc-driver-10-2-for-sql-server-released/ba-p/3100754\" rel=\"nofollow noreferrer\">JDBC Driver 10.2 for SQL Server Released</a>."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":2,"creation_date":1660050883,"post_id":73291498,"comment_id":129437211,"body_markdown":"SQL Server is installed with its own self-signed certificate, that&#39;s the one for which you need the public key to add to your key store. You can find this via SQL Server (version) Configuration Manager &gt; SQL Server Network Configuration &gt; right-click Protocols for (your instance name) &gt; Properties &gt; Certificate tab. Click the View button and in the certificate dialog that opens, click the Details tab and the Copy to File... button to export its public key. You can then add that public key to your key store.","body":"SQL Server is installed with its own self-signed certificate, that&#39;s the one for which you need the public key to add to your key store. You can find this via SQL Server (version) Configuration Manager &gt; SQL Server Network Configuration &gt; right-click Protocols for (your instance name) &gt; Properties &gt; Certificate tab. Click the View button and in the certificate dialog that opens, click the Details tab and the Copy to File... button to export its public key. You can then add that public key to your key store."},{"owner":{"account_id":23139579,"reputation":205,"user_id":17243293,"display_name":"taathy"},"score":0,"creation_date":1660058979,"post_id":73291498,"comment_id":129440739,"body_markdown":"@AlwaysLearning: Think thats the correct answer, because it fixed the issue. I really appreciate your help!!","body":"@AlwaysLearning: Think thats the correct answer, because it fixed the issue. I really appreciate your help!!"},{"owner":{"account_id":22806068,"reputation":400,"user_id":16958095,"display_name":"Ahmed Hosny"},"score":0,"creation_date":1664437975,"post_id":73291498,"comment_id":130472863,"body_markdown":"@AlwaysLearning the view button inthe certificate is disabled can u please help ?","body":"@AlwaysLearning the view button inthe certificate is disabled can u please help ?"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1664442778,"post_id":73291498,"comment_id":130474537,"body_markdown":"In the same dialog with the View button is a dropdown list of the available certificates. If it&#39;s not displaying a selection then the View button will be disabled.","body":"In the same dialog with the View button is a dropdown list of the available certificates. If it&#39;s not displaying a selection then the View button will be disabled."},{"owner":{"account_id":1253330,"reputation":121,"user_id":1213289,"accept_rate":20,"display_name":"mjk6035"},"score":0,"creation_date":1668766050,"post_id":73291498,"comment_id":131491107,"body_markdown":"@AlwaysLearning answer is correct . I too was facing the same problem  and AlwaysLearning  suggestion resolved the issue\n\nThank you","body":"@AlwaysLearning answer is correct . I too was facing the same problem  and AlwaysLearning  suggestion resolved the issue  Thank you"},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1689020636,"post_id":73291498,"comment_id":135151561,"body_markdown":"Does this answer your question? [The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;PKIX path building failed:](https://stackoverflow.com/questions/71374815/the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71374815/the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure\">The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;PKIX path building failed:</a>"}],"answers":[{"tags":[],"owner":{"account_id":10925100,"reputation":976,"user_id":8030048,"display_name":"M. Amer"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1666027371,"creation_date":1666027371,"answer_id":74100964,"question_id":73291498,"body_markdown":"I faced the same issue with spring boot 2.7.4&lt;br/&gt;\r\n--------------------------------------------------\r\n\r\nand it Seems from the comments you&#39;re using driver 10.2.X\r\n\r\nit turns out that since 2.7.0 the JDBC **Driver 10.2** for SQL Server is used\r\n&lt;br/&gt;instead of **9.4.1.jre8** for 2.6.x\r\n\r\nSo you&#39;ve 1 of 2 solutions that worked for me:\r\n\r\n **1. Use the older version of mssql-jdbc driver** &lt;br/&gt;\r\n\r\n```\r\n\t&lt;properties&gt;\t\r\n\t\t&lt;mssql-jdbc.version&gt;9.4.1.jre8&lt;/mssql-jdbc.version&gt;\r\n    &lt;/properties&gt;\r\n```\r\n **2. Or ask the driver to just trust the whatever the Sql server certiticate is**\r\n&lt;br/&gt;\r\nyou can do so by adding this to the connection string:\r\n```\r\njdbc:sqlserver://hOSt:pORt;databaseName=dbName;encrypt=true;trustServerCertificate=true\r\n```\r\n","title":"SQL Server/Spring Boot: PKIX path building failed: unable to find valid certification path to requested target","body":"<h2>I faced the same issue with spring boot 2.7.4<br/></h2>\n<p>and it Seems from the comments you're using driver 10.2.X</p>\n<p>it turns out that since 2.7.0 the JDBC <strong>Driver 10.2</strong> for SQL Server is used\n<br/>instead of <strong>9.4.1.jre8</strong> for 2.6.x</p>\n<p>So you've 1 of 2 solutions that worked for me:</p>\n<p><strong>1. Use the older version of mssql-jdbc driver</strong> <br/></p>\n<pre><code>    &lt;properties&gt;    \n        &lt;mssql-jdbc.version&gt;9.4.1.jre8&lt;/mssql-jdbc.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p><strong>2. Or ask the driver to just trust the whatever the Sql server certiticate is</strong>\n<br/>\nyou can do so by adding this to the connection string:</p>\n<pre><code>jdbc:sqlserver://hOSt:pORt;databaseName=dbName;encrypt=true;trustServerCertificate=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28945984,"reputation":51,"user_id":22171557,"display_name":"Blaze"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1688450206,"creation_date":1688450206,"answer_id":76609728,"question_id":73291498,"body_markdown":"I had same problem with existing server and it helps:  \r\nNotification that helped: **encrypt=true;trustServerCertificate=true**   \r\nAlso remember when you creating entity in java, be sure that you have same one created in database.\r\n\r\n```java\r\n# Microsoft SQL Server config\r\n\r\nspring.datasource.url=jdbc:sqlserver://serverNameOrAdress:1443;databaseName=****;encrypt=true;trustServerCertificate=true\r\nspring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect\r\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.datasource.username=***\r\nspring.datasource.password=***\r\n```","title":"SQL Server/Spring Boot: PKIX path building failed: unable to find valid certification path to requested target","body":"<p>I had same problem with existing server and it helps:<br />\nNotification that helped: <strong>encrypt=true;trustServerCertificate=true</strong><br />\nAlso remember when you creating entity in java, be sure that you have same one created in database.</p>\n<pre class=\"lang-java prettyprint-override\"><code># Microsoft SQL Server config\n\nspring.datasource.url=jdbc:sqlserver://serverNameOrAdress:1443;databaseName=****;encrypt=true;trustServerCertificate=true\nspring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.datasource.username=***\nspring.datasource.password=***\n</code></pre>\n"}],"owner":{"account_id":23139579,"reputation":205,"user_id":17243293,"display_name":"taathy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19850,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":2,"score":16,"last_activity_date":1688450206,"creation_date":1660046700,"question_id":73291498,"body_markdown":"I install SQL Server on my local computer and embedd it into my Spring Boot application. After starting Tomcat I get the following error:\r\n\r\n`&#39;PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&#39;. ClientConnectionId:85411829-6853-4fdb-9373-b4c93e1d5e8f`\r\n\r\nI know that this error is well documenteted. I followed many guides and read much about it, but all  advices I found did not fix my issue. \r\n\r\nWhat I had done: \r\n\r\n - Download a random SSL-certificate from a website and add it to the\r\n   cacert file in the Java directory ([descriped here][1]).\r\n   \r\n - Configure Spring Boot for SQL Server ([descriped here][2])\r\n   \r\n - Configure SSL Encryption for SQL Server ([descriped here][3])\r\n\r\nNo one of these advices fixed the error. The only thing I realize is that if I set `spring.jpa.hibernate.ddl-auto` in my `application.properties` to `none` the program shows the error message, but it did not abort running. \r\n\r\nThe application.properties looks like this:\r\n\r\n    spring.datasource.url=jdbc:sqlserver://localhost;databaseName=Car\r\n    spring.datasource.username=admin\r\n    spring.datasource.password=password123\r\n    spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\r\n    server.port=8443\r\n    server.ssl.key-alias=selfsigned_localhost_sslserver\r\n    server.ssl.key-password=changeit\r\n    server.ssl.key-store=classpath:ssl-server.jks\r\n    server.ssl.key-store-provider=SUN\r\n    server.ssl.key-store-type=JKS\r\n\r\nMy dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nIn SQL Server I create a database with tables and data in it. \r\n\r\nDid someone of you have an further advice how to fix this error?\r\n\r\n  [1]: https://stackoverflow.com/questions/14947517/pkix-path-building-failed-sun-security-provider-certpath-suncertpathbuilderexce\r\n  [2]: https://springframework.guru/configuring-spring-boot-for-microsoft-sql-server/\r\n  [3]: https://www.mssqltips.com/sqlservertip/3299/how-to-configure-ssl-encryption-in-sql-server/","title":"SQL Server/Spring Boot: PKIX path building failed: unable to find valid certification path to requested target","body":"<p>I install SQL Server on my local computer and embedd it into my Spring Boot application. After starting Tomcat I get the following error:</p>\n<p><code>'PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target'. ClientConnectionId:85411829-6853-4fdb-9373-b4c93e1d5e8f</code></p>\n<p>I know that this error is well documenteted. I followed many guides and read much about it, but all  advices I found did not fix my issue.</p>\n<p>What I had done:</p>\n<ul>\n<li><p>Download a random SSL-certificate from a website and add it to the\ncacert file in the Java directory (<a href=\"https://stackoverflow.com/questions/14947517/pkix-path-building-failed-sun-security-provider-certpath-suncertpathbuilderexce\">descriped here</a>).</p>\n</li>\n<li><p>Configure Spring Boot for SQL Server (<a href=\"https://springframework.guru/configuring-spring-boot-for-microsoft-sql-server/\" rel=\"noreferrer\">descriped here</a>)</p>\n</li>\n<li><p>Configure SSL Encryption for SQL Server (<a href=\"https://www.mssqltips.com/sqlservertip/3299/how-to-configure-ssl-encryption-in-sql-server/\" rel=\"noreferrer\">descriped here</a>)</p>\n</li>\n</ul>\n<p>No one of these advices fixed the error. The only thing I realize is that if I set <code>spring.jpa.hibernate.ddl-auto</code> in my <code>application.properties</code> to <code>none</code> the program shows the error message, but it did not abort running.</p>\n<p>The application.properties looks like this:</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://localhost;databaseName=Car\nspring.datasource.username=admin\nspring.datasource.password=password123\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\nserver.port=8443\nserver.ssl.key-alias=selfsigned_localhost_sslserver\nserver.ssl.key-password=changeit\nserver.ssl.key-store=classpath:ssl-server.jks\nserver.ssl.key-store-provider=SUN\nserver.ssl.key-store-type=JKS\n</code></pre>\n<p>My dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>In SQL Server I create a database with tables and data in it.</p>\n<p>Did someone of you have an further advice how to fix this error?</p>\n"},{"tags":["java","spring-boot","apache-kafka","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688450081,"creation_date":1688450081,"answer_id":76609716,"question_id":76604678,"body_markdown":"Since `KeyValuePair` is a subcomponent of `JsonLayout`, its prefix needs to start with `appender.kafka.layout`, e.g.:\r\n\r\n```\r\nappender.kafka.layout.k1.type=KeyValuePair\r\nappender.kafka.layout.k1.name=originalGuid\r\nappender.kafka.layout.k1.value=value\r\n```","title":"Set KeyValuePair in KafkaAppender","body":"<p>Since <code>KeyValuePair</code> is a subcomponent of <code>JsonLayout</code>, its prefix needs to start with <code>appender.kafka.layout</code>, e.g.:</p>\n<pre><code>appender.kafka.layout.k1.type=KeyValuePair\nappender.kafka.layout.k1.name=originalGuid\nappender.kafka.layout.k1.value=value\n</code></pre>\n"}],"owner":{"account_id":5896567,"reputation":197,"user_id":4641534,"display_name":"Sezer Aydın"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76609716,"answer_count":1,"score":0,"last_activity_date":1688450081,"creation_date":1688386721,"question_id":76604678,"body_markdown":" \r\nHere i want to set key value pair. all other features are working.\r\n\r\ni want to use log4j2.properties file.\r\n\r\n```\r\nappender.kafka=org.apache.kafka\r\nappender.kafka.type= kafka\r\nappender.kafka.name= kafkaAppender\r\nappender.kafka.topic= NewTopic\r\nappender.kafka.property.type=Property\r\nappender.kafka.property.name=bootstrap.servers\r\nappender.kafka.property.value=host:ip\r\nappender.kafka.property2.type=Property\r\nappender.kafka.property2.name=group.id\r\nappender.kafka.property2.value=new_group_id\r\nappender.kafka.layout.type = JSONLayout\r\nappender.kafka.property3.type=KeyValuePair  &lt;--- not work\r\nappender.kafka.property3.name=originalGuid  &lt;--- not work\r\nappender.kafka.property3.value= value       &lt;--- not work\r\n\r\n```\r\nit works when i try it this way. but i dont want to use log4j2.xml file.\r\n\r\n```\r\n       &lt;Kafka name=&quot;kafkaLogAppender&quot; topic=&quot;${kafka.topic.logs}&quot;&gt;\r\n            &lt;JsonLayout&gt;\r\n                &lt;KeyValuePair key=&quot;guid&quot; value=&quot;$${ctx:guid:-}&quot;/&gt;\r\n                &lt;KeyValuePair key=&quot;originalGuid&quot; value=&quot;$${ctx:originalGuid:-}&quot;/&gt;\r\n                &lt;KeyValuePair key=&quot;gateGroupCode&quot; value=&quot;$${ctx:gateGroupCode:-}&quot;/&gt;\r\n                &lt;KeyValuePair key=&quot;037Message&quot; value=&quot;$${ctx:037Message:-}&quot;/&gt;\r\n                &lt;KeyValuePair key=&quot;titleMessage&quot; value=&quot;$${ctx:titleMessage:-}&quot;/&gt;\r\n            &lt;/JsonLayout&gt;\r\n            &lt;Property name=&quot;bootstrap.servers&quot;&gt;${bootstrap.servers}&lt;/Property&gt;\r\n            &lt;Property name=&quot;group.id&quot;&gt;${group.id}&lt;/Property&gt;\r\n            &lt;MarkerFilter marker=&quot;${audit.logmarker}&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\r\n        &lt;/Kafka&gt; \r\n```\r\n\r\nbut when I tried in properties file, I couldn&#39;t set the keyvaluepair.","title":"Set KeyValuePair in KafkaAppender","body":"<p>Here i want to set key value pair. all other features are working.</p>\n<p>i want to use log4j2.properties file.</p>\n<pre><code>appender.kafka=org.apache.kafka\nappender.kafka.type= kafka\nappender.kafka.name= kafkaAppender\nappender.kafka.topic= NewTopic\nappender.kafka.property.type=Property\nappender.kafka.property.name=bootstrap.servers\nappender.kafka.property.value=host:ip\nappender.kafka.property2.type=Property\nappender.kafka.property2.name=group.id\nappender.kafka.property2.value=new_group_id\nappender.kafka.layout.type = JSONLayout\nappender.kafka.property3.type=KeyValuePair  &lt;--- not work\nappender.kafka.property3.name=originalGuid  &lt;--- not work\nappender.kafka.property3.value= value       &lt;--- not work\n\n</code></pre>\n<p>it works when i try it this way. but i dont want to use log4j2.xml file.</p>\n<pre><code>       &lt;Kafka name=&quot;kafkaLogAppender&quot; topic=&quot;${kafka.topic.logs}&quot;&gt;\n            &lt;JsonLayout&gt;\n                &lt;KeyValuePair key=&quot;guid&quot; value=&quot;$${ctx:guid:-}&quot;/&gt;\n                &lt;KeyValuePair key=&quot;originalGuid&quot; value=&quot;$${ctx:originalGuid:-}&quot;/&gt;\n                &lt;KeyValuePair key=&quot;gateGroupCode&quot; value=&quot;$${ctx:gateGroupCode:-}&quot;/&gt;\n                &lt;KeyValuePair key=&quot;037Message&quot; value=&quot;$${ctx:037Message:-}&quot;/&gt;\n                &lt;KeyValuePair key=&quot;titleMessage&quot; value=&quot;$${ctx:titleMessage:-}&quot;/&gt;\n            &lt;/JsonLayout&gt;\n            &lt;Property name=&quot;bootstrap.servers&quot;&gt;${bootstrap.servers}&lt;/Property&gt;\n            &lt;Property name=&quot;group.id&quot;&gt;${group.id}&lt;/Property&gt;\n            &lt;MarkerFilter marker=&quot;${audit.logmarker}&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\n        &lt;/Kafka&gt; \n</code></pre>\n<p>but when I tried in properties file, I couldn't set the keyvaluepair.</p>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","jedis"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1643201862,"creation_date":1631135385,"answer_id":69109704,"question_id":69109109,"body_markdown":"`spring-boot-starter-data-redis` already includes `jedis` as a dependency so you shouldn&#39;t add it to your pom.xml with a version that might not be compatible with your `spring-boot-starter-data-redis`.\r\n\r\nIn the case of `spring-boot-starter-data-redis` version 2.5.0, it includes `jedis` version 3.6.3 but you override this with version 3.1.0, which might not be compatible with `spring-boot-starter-data-redis` version 2.5.0.\r\n\r\nAlways check the dependencies already included in the Spring Boot Starters because incompatibilities are exactly what they try to avoid.\r\n\r\nHaving said all that, I am not completely sure that this will solve the issue, but it is a good place to start.\r\n\r\n\r\n----------\r\n\r\n**Update 26/01/2022**\r\n\r\nThe `spring-boot-starter-data-redis` dependency `pom.xml` includes the following dependency:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\r\n  &lt;version&gt;2.5.1&lt;/version&gt;\r\n  &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis `spring-data-redis` dependency `pom.xml` already includes `jedis` version:\r\n```xml\r\n&lt;properties&gt;\r\n  (...)\r\n  &lt;jedis&gt;3.6.0&lt;/jedis&gt;\r\n  (...)\r\n&lt;/properties&gt;\r\n```\r\n\r\nAnd the dependency itself:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n  &lt;version&gt;${jedis}&lt;/version&gt;\r\n  &lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis means that you should only add the dependency to your `pom.xml` but set no version so that the one set in `spring-data-redis` is used as follows:\r\n```xml\r\n&lt;dependencies&gt;\r\n  (...)\r\n  &lt;!-- OTHER DEPENDENCIES --&gt;\r\n  \r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n  \r\n  (...)\r\n  &lt;!-- OTHER DEPENDENCIES --&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"ClassNotFoundException while JedisClient initialization in Spring Boot 2.5.4 application","body":"<p><code>spring-boot-starter-data-redis</code> already includes <code>jedis</code> as a dependency so you shouldn't add it to your pom.xml with a version that might not be compatible with your <code>spring-boot-starter-data-redis</code>.</p>\n<p>In the case of <code>spring-boot-starter-data-redis</code> version 2.5.0, it includes <code>jedis</code> version 3.6.3 but you override this with version 3.1.0, which might not be compatible with <code>spring-boot-starter-data-redis</code> version 2.5.0.</p>\n<p>Always check the dependencies already included in the Spring Boot Starters because incompatibilities are exactly what they try to avoid.</p>\n<p>Having said all that, I am not completely sure that this will solve the issue, but it is a good place to start.</p>\n<hr />\n<p><strong>Update 26/01/2022</strong></p>\n<p>The <code>spring-boot-starter-data-redis</code> dependency <code>pom.xml</code> includes the following dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\n  &lt;version&gt;2.5.1&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This <code>spring-data-redis</code> dependency <code>pom.xml</code> already includes <code>jedis</code> version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  (...)\n  &lt;jedis&gt;3.6.0&lt;/jedis&gt;\n  (...)\n&lt;/properties&gt;\n</code></pre>\n<p>And the dependency itself:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n  &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n  &lt;version&gt;${jedis}&lt;/version&gt;\n  &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This means that you should only add the dependency to your <code>pom.xml</code> but set no version so that the one set in <code>spring-data-redis</code> is used as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  (...)\n  &lt;!-- OTHER DEPENDENCIES --&gt;\n  \n  &lt;dependency&gt;\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  \n  (...)\n  &lt;!-- OTHER DEPENDENCIES --&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4504855,"reputation":174,"user_id":3662481,"accept_rate":57,"display_name":"Sabarish"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661725589,"creation_date":1661725589,"answer_id":73522703,"question_id":69109109,"body_markdown":"Spent several hours, so posting for spring boot versions 2.7.3 to be helpful for others.\r\n\r\n`spring-boot-starter-data-redis` uses lettuce by default instead of jedis client. You would have to exclude `lettuce` and include `jedis` instead. \r\n\r\n```\r\nimplementation (&#39;org.springframework.boot:spring-boot-starter-data-redis&#39;) {\r\n\t\texclude group: &#39;io.lettuce.lettuce-core&#39;\r\n\t}\r\n\timplementation &#39;com.github.houbb:redis-client-jedis:0.0.3&#39;```\r\n","title":"ClassNotFoundException while JedisClient initialization in Spring Boot 2.5.4 application","body":"<p>Spent several hours, so posting for spring boot versions 2.7.3 to be helpful for others.</p>\n<p><code>spring-boot-starter-data-redis</code> uses lettuce by default instead of jedis client. You would have to exclude <code>lettuce</code> and include <code>jedis</code> instead.</p>\n<pre><code>implementation ('org.springframework.boot:spring-boot-starter-data-redis') {\n        exclude group: 'io.lettuce.lettuce-core'\n    }\n    implementation 'com.github.houbb:redis-client-jedis:0.0.3'```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6390330,"reputation":527,"user_id":4956735,"display_name":"Seyon Seyon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686814680,"creation_date":1686814340,"answer_id":76480124,"question_id":69109109,"body_markdown":"I had a similar issue(not exactly same) with spring boot 2.7.12&lt;br&gt;I dont&#39;t have enough time to elaborate the error perfectly. I got an error message &lt;br&gt;\r\n&#39;java.lang.NoClassDefFoundError: redis/clients/jedis/JedisClientConfig&#39;\r\n\r\nReason for this error &quot;by default Redis is  using lettuce&quot;. If we want to switch to jedis, we can do small trick explicitly add jedis dependency\r\n&lt;br&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBy default i had spring-boot-starter-data-redis without version after adding above dependency my pom was\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"ClassNotFoundException while JedisClient initialization in Spring Boot 2.5.4 application","body":"<p>I had a similar issue(not exactly same) with spring boot 2.7.12<br>I dont't have enough time to elaborate the error perfectly. I got an error message <br>\n'java.lang.NoClassDefFoundError: redis/clients/jedis/JedisClientConfig'</p>\n<p>Reason for this error &quot;by default Redis is  using lettuce&quot;. If we want to switch to jedis, we can do small trick explicitly add jedis dependency\n<br></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>By default i had spring-boot-starter-data-redis without version after adding above dependency my pom was</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n        &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20846399,"reputation":121,"user_id":15311807,"display_name":"Ayush Tiwari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688449551,"creation_date":1688449551,"answer_id":76609685,"question_id":69109109,"body_markdown":"For anyone facing the same issue in spring-boot 3.x+\r\n\r\nThe combination that worked for me is\r\n\r\n```\r\n// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-redis\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-redis:3.1.1&#39;\r\n\t// https://mvnrepository.com/artifact/redis.clients/jedis\r\n\timplementation &#39;redis.clients:jedis:4.4.3&#39;\r\n```\r\n\r\nFull build.gradle\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\t// https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui\r\n\timplementation &#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0&#39;\r\n\t// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-redis\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-redis:3.1.1&#39;\r\n\t// https://mvnrepository.com/artifact/redis.clients/jedis\r\n\timplementation &#39;redis.clients:jedis:4.4.3&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```","title":"ClassNotFoundException while JedisClient initialization in Spring Boot 2.5.4 application","body":"<p>For anyone facing the same issue in spring-boot 3.x+</p>\n<p>The combination that worked for me is</p>\n<pre><code>// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-redis\n    implementation 'org.springframework.boot:spring-boot-starter-data-redis:3.1.1'\n    // https://mvnrepository.com/artifact/redis.clients/jedis\n    implementation 'redis.clients:jedis:4.4.3'\n</code></pre>\n<p>Full build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    annotationProcessor 'org.projectlombok:lombok'\n    // https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui\n    implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0'\n    // https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-redis\n    implementation 'org.springframework.boot:spring-boot-starter-data-redis:3.1.1'\n    // https://mvnrepository.com/artifact/redis.clients/jedis\n    implementation 'redis.clients:jedis:4.4.3'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n"}],"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20801,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":69109704,"answer_count":4,"score":10,"last_activity_date":1688449551,"creation_date":1631131787,"question_id":69109109,"body_markdown":"I have a Spring Boot 2.5.4 application in which I would like to add Redis and access it via Spring Data Redis. My current configuration looks like this: \r\n\r\n```pom.xml```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.5.4&lt;/version&gt;\r\n    &lt;relativePath/&gt;\r\n  &lt;/parent&gt;\r\n  &lt;groupId&gt;com.application&lt;/groupId&gt;\r\n  &lt;artifactId&gt;ApiGateway&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;ApiGateway&lt;/name&gt;\r\n  &lt;description&gt;ApiGateway&lt;/description&gt;\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;15&lt;/java.version&gt;\r\n    &lt;spring-boot-starter-redis.version&gt;2.5.0&lt;/spring-boot-starter-redis.version&gt;\r\n    &lt;redis.version&gt;3.1.0&lt;/redis.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot-starter-redis.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- OTHER DEPENDENCIES --&gt;\r\n\t\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n      &lt;version&gt;${redis.version}&lt;/version&gt;\r\n      &lt;type&gt;jar&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk-cognitoidp&lt;/artifactId&gt;\r\n      &lt;version&gt;${aws.sdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n      &lt;version&gt;${aws.sdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${aws.sdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- OTHER DEPENDENCIES --&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;excludes&gt;\r\n            &lt;exclude&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/exclude&gt;\r\n          &lt;/excludes&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n```RedisConfiguration.java```\r\n\r\n```\r\n@Configuration\r\n@PropertySource(&quot;classpath:redis.properties&quot;)\r\npublic class RedisConfiguration {\r\n\r\n  @Value(&quot;${redis.host}&quot;)\r\n  private String host;\r\n\r\n  @Value(&quot;${redis.port}&quot;)\r\n  private int port;\r\n\r\n  @Value(&quot;${redis.database}&quot;)\r\n  private int database;\r\n\r\n  @Value(&quot;${redis.password}&quot;)\r\n  private String password;\r\n\r\n  @Value(&quot;${redis.timeout}&quot;)\r\n  private String timeout;\r\n\r\n  @Bean\r\n  public JedisConnectionFactory jedisConnectionFactory() {\r\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\r\n    redisConfiguration.setHostName(host);\r\n    redisConfiguration.setPort(port);\r\n    redisConfiguration.setDatabase(database);\r\n    redisConfiguration.setPassword(RedisPassword.of(password));\r\n\r\n    JedisClientConfigurationBuilder jedisClientConfiguration = JedisClientConfiguration.builder();\r\n    jedisClientConfiguration.connectTimeout(Duration.ofMillis(Long.parseLong(timeout)));\r\n\r\n    return new JedisConnectionFactory(redisConfiguration, jedisClientConfiguration.build());\r\n  }\r\n\r\n  @Bean\r\n  public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n    template.setConnectionFactory(jedisConnectionFactory());\r\n    return template;\r\n  }\r\n}\r\n```\r\n\r\nfor current configuration while application start I am receiving \r\n```\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method &#39;redisTemplate&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jedisConnectionFactory&#39; defined in class path resource [com/application/apigateway/intrastructure/cache/RedisConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.jedis.JedisConnectionFactory]: Factory method &#39;jedisConnectionFactory&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t... 33 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jedisConnectionFactory&#39; defined in class path resource [com/application/apigateway/intrastructure/cache/RedisConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.jedis.JedisConnectionFactory]: Factory method &#39;jedisConnectionFactory&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.jedisConnectionFactory(&lt;generated&gt;)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration.redisTemplate(RedisConfiguration.java:51)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.CGLIB$redisTemplate$0(&lt;generated&gt;)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244$$FastClassBySpringCGLIB$$c9ce6595.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.redisTemplate(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 34 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.jedis.JedisConnectionFactory]: Factory method &#39;jedisConnectionFactory&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t... 57 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnectionFactory.&lt;init&gt;(JedisConnectionFactory.java:97)\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnectionFactory.&lt;init&gt;(JedisConnectionFactory.java:232)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration.jedisConnectionFactory(RedisConfiguration.java:45)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.CGLIB$jedisConnectionFactory$1(&lt;generated&gt;)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244$$FastClassBySpringCGLIB$$c9ce6595.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.jedisConnectionFactory(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 58 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: redis.clients.jedis.DefaultJedisClientConfig\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 71 common frames omitted\r\n```\r\n\r\nSo far I have tried manipulating the ```redis.clients``` and ```spring-boot-starter-data-redis``` versions by decreasing and increasing it but always problems with initialization occur. Every single tutorial which I found doesn&#39;t contain configuration for the new Spring Boot application version. I Will be grateful for suggestions on how to manipulate the pom.xml version of ```redis.clients``` and ```spring-boot-starter-data-redis``` to make the application starts again. ","title":"ClassNotFoundException while JedisClient initialization in Spring Boot 2.5.4 application","body":"<p>I have a Spring Boot 2.5.4 application in which I would like to add Redis and access it via Spring Data Redis. My current configuration looks like this:</p>\n<p><code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;relativePath/&gt;\n  &lt;/parent&gt;\n  &lt;groupId&gt;com.application&lt;/groupId&gt;\n  &lt;artifactId&gt;ApiGateway&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;ApiGateway&lt;/name&gt;\n  &lt;description&gt;ApiGateway&lt;/description&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;15&lt;/java.version&gt;\n    &lt;spring-boot-starter-redis.version&gt;2.5.0&lt;/spring-boot-starter-redis.version&gt;\n    &lt;redis.version&gt;3.1.0&lt;/redis.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot-starter-redis.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- OTHER DEPENDENCIES --&gt;\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n      &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n      &lt;version&gt;${redis.version}&lt;/version&gt;\n      &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-java-sdk-cognitoidp&lt;/artifactId&gt;\n      &lt;version&gt;${aws.sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n      &lt;version&gt;${aws.sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\n      &lt;version&gt;${aws.sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- OTHER DEPENDENCIES --&gt;\n\n  &lt;/dependencies&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n          &lt;/excludes&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><code>RedisConfiguration.java</code></p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:redis.properties&quot;)\npublic class RedisConfiguration {\n\n  @Value(&quot;${redis.host}&quot;)\n  private String host;\n\n  @Value(&quot;${redis.port}&quot;)\n  private int port;\n\n  @Value(&quot;${redis.database}&quot;)\n  private int database;\n\n  @Value(&quot;${redis.password}&quot;)\n  private String password;\n\n  @Value(&quot;${redis.timeout}&quot;)\n  private String timeout;\n\n  @Bean\n  public JedisConnectionFactory jedisConnectionFactory() {\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\n    redisConfiguration.setHostName(host);\n    redisConfiguration.setPort(port);\n    redisConfiguration.setDatabase(database);\n    redisConfiguration.setPassword(RedisPassword.of(password));\n\n    JedisClientConfigurationBuilder jedisClientConfiguration = JedisClientConfiguration.builder();\n    jedisClientConfiguration.connectTimeout(Duration.ofMillis(Long.parseLong(timeout)));\n\n    return new JedisConnectionFactory(redisConfiguration, jedisClientConfiguration.build());\n  }\n\n  @Bean\n  public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n    template.setConnectionFactory(jedisConnectionFactory());\n    return template;\n  }\n}\n</code></pre>\n<p>for current configuration while application start I am receiving</p>\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method 'redisTemplate' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jedisConnectionFactory' defined in class path resource [com/application/apigateway/intrastructure/cache/RedisConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.jedis.JedisConnectionFactory]: Factory method 'jedisConnectionFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 33 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jedisConnectionFactory' defined in class path resource [com/application/apigateway/intrastructure/cache/RedisConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.jedis.JedisConnectionFactory]: Factory method 'jedisConnectionFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.jedisConnectionFactory(&lt;generated&gt;)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration.redisTemplate(RedisConfiguration.java:51)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.CGLIB$redisTemplate$0(&lt;generated&gt;)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244$$FastClassBySpringCGLIB$$c9ce6595.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.redisTemplate(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 34 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.jedis.JedisConnectionFactory]: Factory method 'jedisConnectionFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 57 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\n    at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.&lt;init&gt;(JedisConnectionFactory.java:97)\n    at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.&lt;init&gt;(JedisConnectionFactory.java:232)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration.jedisConnectionFactory(RedisConfiguration.java:45)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.CGLIB$jedisConnectionFactory$1(&lt;generated&gt;)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244$$FastClassBySpringCGLIB$$c9ce6595.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.jedisConnectionFactory(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 58 common frames omitted\nCaused by: java.lang.ClassNotFoundException: redis.clients.jedis.DefaultJedisClientConfig\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 71 common frames omitted\n</code></pre>\n<p>So far I have tried manipulating the <code>redis.clients</code> and <code>spring-boot-starter-data-redis</code> versions by decreasing and increasing it but always problems with initialization occur. Every single tutorial which I found doesn't contain configuration for the new Spring Boot application version. I Will be grateful for suggestions on how to manipulate the pom.xml version of <code>redis.clients</code> and <code>spring-boot-starter-data-redis</code> to make the application starts again.</p>\n"},{"tags":["java","selenium-webdriver","testing","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688374227,"creation_date":1688373880,"answer_id":76603166,"question_id":76601437,"body_markdown":"Use below XPath expression for first product:\r\n````\r\n(//h5[@class=&#39;product-card__title&#39;])[1]\r\n````\r\n\r\nFor second product:\r\n````\r\n(//h5[@class=&#39;product-card__title&#39;])[2]\r\n````\r\nand so on..\r\n\r\n**Working code for your reference:**\r\n````\r\npublic static void main(String[] args) throws InterruptedException {\r\n\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://www.lcwaikiki.com/tr-TR/TR/kategori/erkek/tisort&quot;);\r\n\t\tdriver.manage().window().maximize();\r\n\t\tWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\r\n\t\t\r\n\t\t// Accept cookies\r\n\t\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;T&#252;m &#199;erezlere İzin Ver&#39;]&quot;))).click();\r\n\t\t\r\n\t\t// Click on first product\r\n\t\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//h5[@class=&#39;product-card__title&#39;])[1]&quot;))).click();\r\n\r\n}\r\n````\r\n\r\nImports required:\r\n````\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport java.time.Duration;\r\nimport org.openqa.selenium.By;\r\n````","title":"How can i make click between same class name, same name and same title on Selenium Java","body":"<p>Use below XPath expression for first product:</p>\n<pre><code>(//h5[@class='product-card__title'])[1]\n</code></pre>\n<p>For second product:</p>\n<pre><code>(//h5[@class='product-card__title'])[2]\n</code></pre>\n<p>and so on..</p>\n<p><strong>Working code for your reference:</strong></p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.lcwaikiki.com/tr-TR/TR/kategori/erkek/tisort&quot;);\n        driver.manage().window().maximize();\n        WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\n        \n        // Accept cookies\n        wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='Tüm Çerezlere İzin Ver']&quot;))).click();\n        \n        // Click on first product\n        wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//h5[@class='product-card__title'])[1]&quot;))).click();\n\n}\n</code></pre>\n<p>Imports required:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport java.time.Duration;\nimport org.openqa.selenium.By;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16369709,"reputation":393,"user_id":11823237,"display_name":"Lakshitha Samod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688448144,"creation_date":1688448144,"answer_id":76609591,"question_id":76601437,"body_markdown":"I also faced this same issue. If you want to always click on the first product on the page, you can modify your code to **use the findElements method instead of findElement** and then select the first element from the list.\r\n\r\nIn below code, findElements returns a list of all elements matching the given XPath expression. Then, we check if the list is not empty to ensure that there is at least one product on the page. If there is a product, we select the first element from the list using get(0) and click on it.\r\n\r\n\r\n    List&lt;WebElement&gt; products = driver.findElements(By.xpath(&quot;//h5[@class=&#39;product-card__title&#39;]&quot;));\r\n    if (!products.isEmpty()) {\r\n        WebElement buttonToClick = products.get(0);\r\n        buttonToClick.click();\r\n    }\r\n\r\n","title":"How can i make click between same class name, same name and same title on Selenium Java","body":"<p>I also faced this same issue. If you want to always click on the first product on the page, you can modify your code to <strong>use the findElements method instead of findElement</strong> and then select the first element from the list.</p>\n<p>In below code, findElements returns a list of all elements matching the given XPath expression. Then, we check if the list is not empty to ensure that there is at least one product on the page. If there is a product, we select the first element from the list using get(0) and click on it.</p>\n<pre><code>List&lt;WebElement&gt; products = driver.findElements(By.xpath(&quot;//h5[@class='product-card__title']&quot;));\nif (!products.isEmpty()) {\n    WebElement buttonToClick = products.get(0);\n    buttonToClick.click();\n}\n</code></pre>\n"}],"owner":{"account_id":28937823,"reputation":1,"user_id":22164971,"display_name":"apocistaken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688448144,"creation_date":1688348751,"question_id":76601437,"body_markdown":"https://www.lcwaikiki.com/tr-TR/TR/kategori/erkek/tisort \r\n\r\nOn this page all products have same XPath and when I wanna click on product my test is fail.\r\n**I don&#39;t wanna click specific item, I always wanna click to first product**.\r\n\r\nI&#39;m trying to click on with this code:\r\n```` \r\nWebElement butttonToClick = driver.findElement(By.xpath(&quot;//h5[@class=&#39;product-card__title&#39;]&quot;));\r\nbutttonToClick.click();\r\n````\r\nI always change the XPath and also try to click on second or third item but it&#39;s not work. I&#39;m newbie I couldn&#39;t find a solution for that thanks for your time guys.","title":"How can i make click between same class name, same name and same title on Selenium Java","body":"<p><a href=\"https://www.lcwaikiki.com/tr-TR/TR/kategori/erkek/tisort\" rel=\"nofollow noreferrer\">https://www.lcwaikiki.com/tr-TR/TR/kategori/erkek/tisort</a></p>\n<p>On this page all products have same XPath and when I wanna click on product my test is fail.\n<strong>I don't wanna click specific item, I always wanna click to first product</strong>.</p>\n<p>I'm trying to click on with this code:</p>\n<pre><code>WebElement butttonToClick = driver.findElement(By.xpath(&quot;//h5[@class='product-card__title']&quot;));\nbutttonToClick.click();\n</code></pre>\n<p>I always change the XPath and also try to click on second or third item but it's not work. I'm newbie I couldn't find a solution for that thanks for your time guys.</p>\n"},{"tags":["java","android","android-mediaplayer"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688397147,"post_id":76604034,"comment_id":135065411,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":26624667,"reputation":9,"user_id":20242890,"display_name":"Joe john"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688447303,"creation_date":1688381400,"question_id":76604034,"body_markdown":"I&#39;ve developed a media player that plays music and displays a notification with controls for play, pause next, and previous functions. I need the app to play its notification in media player just like Spotify thanks in advance\r\n\r\n[this is my current notification](https://i.stack.imgur.com/sBG7q.jpg)\r\n[this is the work i intented](https://i.stack.imgur.com/dg1j7.jpg)\r\n\r\nmy BackgroundMusicService \r\n```\r\npackage com.example.knowyourtemple.view.service;\r\n\r\nimport static androidx.fragment.app.FragmentManager.TAG;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.app.PendingIntent;\r\nimport android.app.Service;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.media.MediaPlayer;\r\nimport android.net.Uri;\r\nimport android.os.Binder;\r\nimport android.os.Build;\r\nimport android.os.Handler;\r\nimport android.os.IBinder;\r\nimport android.support.v4.media.session.MediaSessionCompat;\r\nimport android.util.Log;\r\nimport android.widget.RemoteViews;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.core.app.NotificationCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.media.app.NotificationCompat.MediaStyle;\r\n\r\nimport com.example.knowyourtemple.MainActivity;\r\nimport com.example.knowyourtemple.R;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class BackgroundMusicService extends Service implements MediaPlayer.OnPreparedListener {\r\n    public static final String ACTION_START = &quot;com.example.knowyourtemple.START&quot;;\r\n    public static final String ACTION_PAUSE = &quot;com.example.knowyourtemple.PAUSE&quot;;\r\n    public static final String ACTION_RESUME = &quot;com.example.knowyourtemple.RESUME&quot;;\r\n    public static final String ACTION_SEEK = &quot;com.example.knowyourtemple.SEEK&quot;;\r\n    public static final String ACTION_PREVIOUS = &quot;com.example.knowyourtemple.PREVIOUS&quot;;\r\n    public static final String ACTION_NEXT = &quot;com.example.knowyourtemple.NEXT&quot;;\r\n    private Handler handler = new Handler();\r\n\r\n    private MediaPlayer mediaPlayer;\r\n    private String currentSongName;\r\n    private static final int NOTIFICATION_ID = 1;\r\n    private static final String CHANNEL_ID = &quot;background_music_channel&quot;;\r\n    private NotificationManager notificationManager;\r\n    private MediaSessionCompat mediaSession;\r\n\r\n    private boolean isPlaying = false;\r\n    private int currentPosition;\r\n    private int duration;\r\n    private final IBinder binder = new LocalBinder();\r\n    private MusicPlayerCallback callback;\r\n    private Fragment fragment;\r\n\r\n    public void setFragment(Fragment fragment) {\r\n        this.fragment = fragment;\r\n    }\r\n\r\n    public interface MusicPlayerCallback {\r\n        void onPrepared(int duration);\r\n\r\n        void onProgress(int progress, int max);\r\n\r\n        void onNextSong();\r\n\r\n        void onPreviousSong();\r\n\r\n        void onResumeSong();\r\n\r\n        void onPauseSong();\r\n    }\r\n\r\n    public class LocalBinder extends Binder {\r\n        public BackgroundMusicService getService() {\r\n            return BackgroundMusicService.this;\r\n        }\r\n    }\r\n\r\n    public void setCallback(MusicPlayerCallback callback) {\r\n        this.callback = callback;\r\n    }\r\n\r\n    public MusicPlayerCallback getCallback() {\r\n        return callback;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        mediaPlayer = new MediaPlayer();\r\n        mediaPlayer.setOnPreparedListener(this);\r\n        notificationManager = getSystemService(NotificationManager.class);\r\n        mediaSession = new MediaSessionCompat(this, &quot;BackgroundMusicService&quot;);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, &quot;Background Music&quot;, NotificationManager.IMPORTANCE_LOW);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;RestrictedApi&quot;)\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        if (intent != null) {\r\n            String action = intent.getAction();\r\n            if (action != null) {\r\n                if (action.equals(ACTION_START)) {\r\n                    String fileName = intent.getStringExtra(&quot;FileName&quot;);\r\n                    String songName = intent.getStringExtra(&quot;SongName&quot;);\r\n                    int startPosition = intent.getIntExtra(&quot;StartPosition&quot;, 0);\r\n                    mediaPlayer.seekTo(startPosition);\r\n\r\n                    startMusic(fileName, songName);\r\n                } else if (action.equals(ACTION_PAUSE)) {\r\n                    pauseMusic();\r\n                } else if (action.equals(ACTION_RESUME)) {\r\n                    resumeMusic();\r\n                } else if (action.equals(ACTION_SEEK)) {\r\n                    int position = intent.getIntExtra(&quot;Position&quot;, 0);\r\n                    seekToPosition(position);\r\n                } else if (action.equals(ACTION_NEXT)) {\r\n                    playNextSong();\r\n                } else if (action.equals(ACTION_PREVIOUS)) {\r\n                    playPreviousSong();\r\n                }\r\n            }\r\n        }\r\n        return super.onStartCommand(intent, flags, startId);\r\n    }\r\n\r\n    public void pauseMusic() {\r\n        if (mediaPlayer.isPlaying()) {\r\n            mediaPlayer.pause();\r\n            currentPosition = mediaPlayer.getCurrentPosition();\r\n            isPlaying = false;\r\n            mediaSession.setActive(false);\r\n            showNotification();\r\n\r\n            if (callback != null) {\r\n                callback.onPauseSong();\r\n            }\r\n        }\r\n        handler.removeCallbacksAndMessages(null);\r\n    }\r\n\r\n    public void resumeMusic() {\r\n        if (!mediaPlayer.isPlaying()) {\r\n            mediaPlayer.seekTo(currentPosition);\r\n            mediaPlayer.start();\r\n            isPlaying = true;\r\n            mediaSession.setActive(true);\r\n            showNotification();\r\n\r\n            if (callback != null) {\r\n                callback.onResumeSong();\r\n            }\r\n        }\r\n        updateNotificationProgressPeriodically();\r\n    }\r\n\r\n    private void playPreviousSong() {\r\n        if (callback != null) {\r\n            callback.onPreviousSong();\r\n        }\r\n    }\r\n\r\n    public void playNextSong() {\r\n        if (callback != null) {\r\n            callback.onNextSong();\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;RestrictedApi&quot;)\r\n    public void startMusic(String fileName, String songName) {\r\n        if (fileName != null) {\r\n            isPlaying = true;\r\n            currentSongName = songName;\r\n            Log.d(TAG, &quot;startMusic: &quot; + currentSongName);\r\n            int resourceId = getResources().getIdentifier(fileName, &quot;raw&quot;, getPackageName());\r\n            Uri uri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + resourceId);\r\n\r\n            try {\r\n                mediaPlayer.reset();\r\n                mediaPlayer.setDataSource(getApplicationContext(), uri);\r\n                mediaPlayer.prepareAsync();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void seekToPosition(int position) {\r\n        if (mediaPlayer.isPlaying()) {\r\n            mediaPlayer.seekTo(position);\r\n            showNotification();\r\n        }\r\n    }\r\n\r\n    public int getCurrentPosition() {\r\n        return mediaPlayer.getCurrentPosition();\r\n    }\r\n\r\n    public int getDuration() {\r\n        return mediaPlayer.getDuration();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return binder;\r\n    }\r\n\r\n    @Override\r\n    public void onPrepared(MediaPlayer mediaPlayer) {\r\n        duration = mediaPlayer.getDuration();\r\n        // Notify the callback that the media player is prepared\r\n        if (callback != null) {\r\n            callback.onPrepared(duration);\r\n        }\r\n        mediaPlayer.start();\r\n        showNotification();\r\n        updateNotificationProgressPeriodically();\r\n\r\n        if (currentPosition &gt; 0) {\r\n            mediaPlayer.seekTo(currentPosition);\r\n            currentPosition = 0; // Reset the saved position\r\n        }\r\n    }\r\n\r\n    private void updateNotificationProgressPeriodically() {\r\n        // Create a new Runnable that will update the progress and post it with a delay of 1 second\r\n        Runnable progressUpdateRunnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                // Update the progress of the SeekBar in the notification\r\n                showNotification();\r\n\r\n                // Post the same Runnable again after a delay of 1 second\r\n                handler.postDelayed(this, 1000);\r\n            }\r\n        };\r\n\r\n        // Start the periodic progress update\r\n        handler.post(progressUpdateRunnable);\r\n    }\r\n\r\n \r\n private void showNotification() {\r\n     // Create the notification channel (if needed)\r\n     createNotificationChannel();\r\n\r\n     int progress = mediaPlayer.getCurrentPosition();\r\n     int max = mediaPlayer.getDuration();\r\n\r\n     if (callback != null) {\r\n         callback.onProgress(progress, max);\r\n     }\r\n\r\n     // Create the remote views for the custom layout\r\n     RemoteViews contentView = new RemoteViews(getPackageName(), R.layout.custom_notification_layout);\r\n\r\n     contentView.setTextViewText(R.id.subtitleTextView, currentSongName);\r\n\r\n     // Set the progress bar\r\n     contentView.setProgressBar(R.id.progressSeekBar, max, progress, false);\r\n\r\n     // Set the playback buttons\r\n     contentView.setOnClickPendingIntent(R.id.notification_previousButton, createPendingIntent(ACTION_PREVIOUS));\r\n\r\n     String action = isPlaying ? ACTION_PAUSE : ACTION_RESUME;\r\n     int playPauseIconResId = isPlaying ? R.drawable.baseline_pause_24 : R.drawable.baseline_play_arrow_24;\r\n\r\n     contentView.setOnClickPendingIntent(R.id.notification_playPauseButton, createPendingIntent(action));\r\n     contentView.setImageViewResource(R.id.notification_playPauseButton, playPauseIconResId);\r\n     contentView.setInt(R.id.notification_playPauseButton, &quot;setImageResource&quot;, playPauseIconResId);\r\n\r\n     contentView.setOnClickPendingIntent(R.id.notification_nextButton, createPendingIntent(ACTION_NEXT));\r\n\r\n     // Create the pending intent for the notification\r\n     Intent intent = new Intent(this, MainActivity.class);\r\n     PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\n     // Create the notification builder\r\n     NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n             .setSmallIcon(R.drawable.ic_music_note)\r\n             .setContentIntent(pendingIntent)\r\n             .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n             .setShowWhen(false)\r\n             .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\r\n             .setCustomContentView(contentView)\r\n             .setOngoing(true); // Set the notification as ongoing (cannot be dismissed by the user)\r\n\r\n     // Set the large icon\r\n     Bitmap largeIcon = BitmapFactory.decodeResource(getResources(), R.drawable.ic_music_icon);\r\n     builder.setLargeIcon(largeIcon);\r\n\r\n     // Update the notification\r\n     notificationManager.notify(NOTIFICATION_ID, builder.build());\r\n }\r\n\r\n\r\n    private PendingIntent createPendingIntent(String action) {\r\n        Intent intent = new Intent(this, BackgroundMusicService.class);\r\n        intent.setAction(action);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            return PendingIntent.getService(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n        } else {\r\n            return PendingIntent.getService(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            CharSequence name = &quot;Background Music Channel&quot;;\r\n            String description = &quot;Channel for background music playback&quot;;\r\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\r\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\r\n            channel.setDescription(description);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        if (mediaPlayer != null) {\r\n            mediaPlayer.release();\r\n            mediaPlayer = null;\r\n        }\r\n        mediaSession.release();\r\n        stopForeground(true);\r\n        stopSelf();\r\n    }\r\n}\r\n\r\n```\r\nthis is fragment\r\n\r\n```\r\npackage com.example.knowyourtemple.view.activity;\r\n\r\nimport android.content.ComponentName;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.ServiceConnection;\r\nimport android.media.MediaPlayer;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.IBinder;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.SeekBar;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.request.RequestOptions;\r\nimport com.example.knowyourtemple.R;\r\nimport com.example.knowyourtemple.businesslogic.pojo.PojoMusic;\r\nimport com.example.knowyourtemple.databinding.FragmentPlayMusicBinding;\r\nimport com.example.knowyourtemple.view.service.BackgroundMusicService;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class FragmentPlayMusic extends Fragment implements BackgroundMusicService.MusicPlayerCallback {\r\n\r\n    private FragmentPlayMusicBinding binding;\r\n    private Button playButton;\r\n    private Button previousButton;\r\n    private Button nextButton;\r\n    private SeekBar seekBar;\r\n    private int currentPosition = 0;\r\n    private boolean isPlaying = false;\r\n    private ArrayList&lt;PojoMusic&gt; musicList;\r\n    private Handler handler;\r\n    private Runnable runnable;\r\n    private MediaPlayer mediaPlayer;\r\n    private BackgroundMusicService backgroundMusicService;\r\n    private BackgroundMusicService.MusicPlayerCallback callback;\r\n\r\n    private ServiceConnection connection = new ServiceConnection() {\r\n        @Override\r\n        public void onServiceConnected(ComponentName componentName, IBinder iBinder) {\r\n            if (iBinder instanceof BackgroundMusicService.LocalBinder) {\r\n                BackgroundMusicService.LocalBinder binder = (BackgroundMusicService.LocalBinder) iBinder;\r\n                backgroundMusicService = binder.getService();\r\n                callback = FragmentPlayMusic.this;  // Assign the callback from the fragment itself\r\n                backgroundMusicService.setCallback(callback);  // Set the callback in the service\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onServiceDisconnected(ComponentName componentName) {\r\n            backgroundMusicService = null;\r\n        }\r\n    };\r\n\r\n    public static FragmentPlayMusic newInstance(PojoMusic music, ArrayList&lt;PojoMusic&gt; musicList) {\r\n        FragmentPlayMusic fragment = new FragmentPlayMusic();\r\n        Bundle args = new Bundle();\r\n        args.putSerializable(&quot;PojoMusic&quot;, music);\r\n        args.putSerializable(&quot;MusicList&quot;, musicList);\r\n        args.putInt(&quot;StartPosition&quot;, 0); // Add the start position argument\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        binding = FragmentPlayMusicBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        PojoMusic music = (PojoMusic) getArguments().getSerializable(&quot;PojoMusic&quot;);\r\n        musicList = (ArrayList&lt;PojoMusic&gt;) getArguments().getSerializable(&quot;MusicList&quot;);\r\n        binding.setMusic(music);\r\n        Glide.with(requireContext())\r\n                .load(music.getImg())\r\n                .apply(RequestOptions.circleCropTransform())\r\n                .placeholder(R.drawable.ic_setting_banner)\r\n                .into(binding.video);\r\n\r\n        binding.playButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (isPlaying) {\r\n                    pauseMusic();\r\n                } else {\r\n                    startMusic();\r\n                }\r\n                togglePlayButtonImage();\r\n            }\r\n        });\r\n        bindMusicService();\r\n\r\n        binding.previousbutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                playPreviousSong();\r\n            }\r\n        });\r\n\r\n        binding.nextbutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                playNextSong();\r\n            }\r\n        });\r\n\r\n        seekBar = binding.seekBar;\r\n\r\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n            /*    if (fromUser) {\r\n                    seekToPosition(progress);\r\n                }*/\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n                handler.removeCallbacks(runnable);\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n                int progress = seekBar.getProgress();\r\n                seekToPosition(progress);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    public void playPreviousSong() {\r\n        if (musicList != null &amp;&amp; musicList.size() &gt; 1) {\r\n            currentPosition--;\r\n            if (currentPosition &lt; 0) {\r\n                currentPosition = musicList.size() - 1; // Wrap around to the last song\r\n            }\r\n            playCurrentSong();\r\n            startMusic();\r\n        }\r\n    }\r\n    public void playNextSong() {\r\n        if (musicList != null &amp;&amp; musicList.size() &gt; 1) {\r\n            currentPosition++;\r\n            if (currentPosition &gt;= musicList.size()) {\r\n                currentPosition = 0; // Wrap around to the first song\r\n            }\r\n            playCurrentSong();\r\n            startMusic();\r\n        }\r\n    }\r\n\r\n\r\n    private void playCurrentSong() {\r\n        if (musicList != null &amp;&amp; currentPosition &gt;= 0 &amp;&amp; currentPosition &lt; musicList.size()) {\r\n            PojoMusic currentMusic = musicList.get(currentPosition);\r\n            binding.setMusic(currentMusic);\r\n\r\n            if (mediaPlayer != null) {\r\n                if (mediaPlayer.isPlaying()) {\r\n                    mediaPlayer.stop();\r\n                }\r\n                mediaPlayer.release();\r\n            }\r\n\r\n            initializeMediaPlayer();\r\n            startMusic(); // Call startMusic() after initializing the MediaPlayer\r\n        }\r\n    }\r\n\r\n    private void initializeMediaPlayer() {\r\n        PojoMusic music = (PojoMusic) getArguments().getSerializable(&quot;PojoMusic&quot;);\r\n        String songResourceName = music.getSongResourceName();\r\n        int songResourceId = getResources().getIdentifier(songResourceName, &quot;raw&quot;, requireActivity().getPackageName());\r\n\r\n        mediaPlayer = MediaPlayer.create(getActivity(), songResourceId);\r\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n            @Override\r\n            public void onCompletion(MediaPlayer mediaPlayer) {\r\n                playNextSong();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private void startMusic() {\r\n        isPlaying = true;\r\n        String fileName = binding.getMusic().getSongResourceName();\r\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\r\n        serviceIntent.setAction(BackgroundMusicService.ACTION_START);\r\n        serviceIntent.putExtra(&quot;FileName&quot;, fileName);\r\n        String songName = binding.getMusic().getName();\r\n        serviceIntent.putExtra(&quot;SongName&quot;, songName);\r\n        // Get the last known position from the service and pass it to the intent\r\n        BackgroundMusicService musicService = getMusicService();\r\n        if (musicService != null) {\r\n            int currentPosition = musicService.getCurrentPosition();\r\n            serviceIntent.putExtra(&quot;Position&quot;, currentPosition);\r\n        }\r\n\r\n        requireActivity().startService(serviceIntent);\r\n        updateSeekBarProgress();\r\n    }\r\n\r\n    private void pauseMusic() {\r\n        isPlaying = false;\r\n        if (backgroundMusicService != null) {\r\n            backgroundMusicService.pauseMusic();\r\n        }\r\n        handler.removeCallbacks(runnable);\r\n    }\r\n\r\n    private void togglePlayButtonImage() {\r\n        if (isPlaying) {\r\n            binding.playButton.setImageResource(R.drawable.baseline_pause_24);\r\n        } else {\r\n            binding.playButton.setImageResource(R.drawable.baseline_play_arrow_24);\r\n        }\r\n    }\r\n\r\n\r\n    private void updateSeekBarProgress() {\r\n        if (handler != null &amp;&amp; runnable != null) {\r\n            // Remove any existing callbacks to prevent multiple Runnables running simultaneously\r\n            handler.removeCallbacks(runnable);\r\n        }\r\n        handler = new Handler();\r\n        runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n\r\n                BackgroundMusicService musicService = getMusicService();\r\n                if (musicService != null) {\r\n                    int currentPosition = musicService.getCurrentPosition();\r\n                    int duration = musicService.getDuration();\r\n                    seekBar.setMax(duration);\r\n                    seekBar.setProgress(currentPosition);\r\n                    // Notify the callback with the progress values\r\n                    callback.onProgress(currentPosition, duration);\r\n                }\r\n                handler.postDelayed(this, 1000);\r\n            }\r\n        };\r\n        handler.postDelayed(runnable, 0);\r\n    }\r\n\r\n    private BackgroundMusicService getMusicService() {\r\n        return backgroundMusicService;\r\n    }\r\n\r\n    private void seekToPosition(int position) {\r\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\r\n        serviceIntent.setAction(BackgroundMusicService.ACTION_SEEK);\r\n        serviceIntent.putExtra(&quot;Position&quot;, position);\r\n        requireActivity().startService(serviceIntent);\r\n    }\r\n\r\n    private void bindMusicService() {\r\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\r\n        requireActivity().bindService(serviceIntent, connection, Context.BIND_AUTO_CREATE);\r\n        if (backgroundMusicService != null) {\r\n            backgroundMusicService.setCallback(this);\r\n        }\r\n    }\r\n\r\n    private void unbindMusicService() {\r\n        requireActivity().unbindService(connection);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n\r\n        // Remove any pending callbacks from the handler\r\n        if (handler != null &amp;&amp; runnable != null) {\r\n            handler.removeCallbacks(runnable);\r\n        }\r\n\r\n        // Unbind the service when the fragment is destroyed\r\n        unbindMusicService();\r\n\r\n        // Stop the service when the fragment is destroyed\r\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\r\n        requireActivity().stopService(serviceIntent);\r\n\r\n        binding = null;\r\n    }\r\n\r\n    @Override\r\n    public void onPrepared(int duration) {\r\n        seekBar.setMax(duration);\r\n    }\r\n\r\n    @Override\r\n    public void onProgress(int progress, int max) {\r\n        seekBar.setProgress(progress);\r\n        seekBar.setMax(max);\r\n    }\r\n\r\n    @Override\r\n    public void onNextSong() {\r\n        playNextSong();\r\n    }\r\n\r\n    @Override\r\n    public void onPreviousSong() {\r\n       playPreviousSong();\r\n    }\r\n\r\n    @Override\r\n    public void onResumeSong() {\r\n        startMusic();\r\n        togglePlayButtonImage();\r\n    }\r\n\r\n    @Override\r\n    public void onPauseSong() {\r\n        pauseMusic();\r\n        togglePlayButtonImage();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI want my notification to work like Spotify","title":"mediaplayer with notification in android java","body":"<p>I've developed a media player that plays music and displays a notification with controls for play, pause next, and previous functions. I need the app to play its notification in media player just like Spotify thanks in advance</p>\n<p><a href=\"https://i.stack.imgur.com/sBG7q.jpg\" rel=\"nofollow noreferrer\">this is my current notification</a>\n<a href=\"https://i.stack.imgur.com/dg1j7.jpg\" rel=\"nofollow noreferrer\">this is the work i intented</a></p>\n<p>my BackgroundMusicService</p>\n<pre><code>package com.example.knowyourtemple.view.service;\n\nimport static androidx.fragment.app.FragmentManager.TAG;\n\nimport android.annotation.SuppressLint;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.app.PendingIntent;\nimport android.app.Service;\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.media.MediaPlayer;\nimport android.net.Uri;\nimport android.os.Binder;\nimport android.os.Build;\nimport android.os.Handler;\nimport android.os.IBinder;\nimport android.support.v4.media.session.MediaSessionCompat;\nimport android.util.Log;\nimport android.widget.RemoteViews;\n\nimport androidx.annotation.Nullable;\nimport androidx.core.app.NotificationCompat;\nimport androidx.fragment.app.Fragment;\nimport androidx.media.app.NotificationCompat.MediaStyle;\n\nimport com.example.knowyourtemple.MainActivity;\nimport com.example.knowyourtemple.R;\n\nimport java.io.IOException;\n\npublic class BackgroundMusicService extends Service implements MediaPlayer.OnPreparedListener {\n    public static final String ACTION_START = &quot;com.example.knowyourtemple.START&quot;;\n    public static final String ACTION_PAUSE = &quot;com.example.knowyourtemple.PAUSE&quot;;\n    public static final String ACTION_RESUME = &quot;com.example.knowyourtemple.RESUME&quot;;\n    public static final String ACTION_SEEK = &quot;com.example.knowyourtemple.SEEK&quot;;\n    public static final String ACTION_PREVIOUS = &quot;com.example.knowyourtemple.PREVIOUS&quot;;\n    public static final String ACTION_NEXT = &quot;com.example.knowyourtemple.NEXT&quot;;\n    private Handler handler = new Handler();\n\n    private MediaPlayer mediaPlayer;\n    private String currentSongName;\n    private static final int NOTIFICATION_ID = 1;\n    private static final String CHANNEL_ID = &quot;background_music_channel&quot;;\n    private NotificationManager notificationManager;\n    private MediaSessionCompat mediaSession;\n\n    private boolean isPlaying = false;\n    private int currentPosition;\n    private int duration;\n    private final IBinder binder = new LocalBinder();\n    private MusicPlayerCallback callback;\n    private Fragment fragment;\n\n    public void setFragment(Fragment fragment) {\n        this.fragment = fragment;\n    }\n\n    public interface MusicPlayerCallback {\n        void onPrepared(int duration);\n\n        void onProgress(int progress, int max);\n\n        void onNextSong();\n\n        void onPreviousSong();\n\n        void onResumeSong();\n\n        void onPauseSong();\n    }\n\n    public class LocalBinder extends Binder {\n        public BackgroundMusicService getService() {\n            return BackgroundMusicService.this;\n        }\n    }\n\n    public void setCallback(MusicPlayerCallback callback) {\n        this.callback = callback;\n    }\n\n    public MusicPlayerCallback getCallback() {\n        return callback;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        mediaPlayer = new MediaPlayer();\n        mediaPlayer.setOnPreparedListener(this);\n        notificationManager = getSystemService(NotificationManager.class);\n        mediaSession = new MediaSessionCompat(this, &quot;BackgroundMusicService&quot;);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, &quot;Background Music&quot;, NotificationManager.IMPORTANCE_LOW);\n            notificationManager.createNotificationChannel(channel);\n        }\n    }\n\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        if (intent != null) {\n            String action = intent.getAction();\n            if (action != null) {\n                if (action.equals(ACTION_START)) {\n                    String fileName = intent.getStringExtra(&quot;FileName&quot;);\n                    String songName = intent.getStringExtra(&quot;SongName&quot;);\n                    int startPosition = intent.getIntExtra(&quot;StartPosition&quot;, 0);\n                    mediaPlayer.seekTo(startPosition);\n\n                    startMusic(fileName, songName);\n                } else if (action.equals(ACTION_PAUSE)) {\n                    pauseMusic();\n                } else if (action.equals(ACTION_RESUME)) {\n                    resumeMusic();\n                } else if (action.equals(ACTION_SEEK)) {\n                    int position = intent.getIntExtra(&quot;Position&quot;, 0);\n                    seekToPosition(position);\n                } else if (action.equals(ACTION_NEXT)) {\n                    playNextSong();\n                } else if (action.equals(ACTION_PREVIOUS)) {\n                    playPreviousSong();\n                }\n            }\n        }\n        return super.onStartCommand(intent, flags, startId);\n    }\n\n    public void pauseMusic() {\n        if (mediaPlayer.isPlaying()) {\n            mediaPlayer.pause();\n            currentPosition = mediaPlayer.getCurrentPosition();\n            isPlaying = false;\n            mediaSession.setActive(false);\n            showNotification();\n\n            if (callback != null) {\n                callback.onPauseSong();\n            }\n        }\n        handler.removeCallbacksAndMessages(null);\n    }\n\n    public void resumeMusic() {\n        if (!mediaPlayer.isPlaying()) {\n            mediaPlayer.seekTo(currentPosition);\n            mediaPlayer.start();\n            isPlaying = true;\n            mediaSession.setActive(true);\n            showNotification();\n\n            if (callback != null) {\n                callback.onResumeSong();\n            }\n        }\n        updateNotificationProgressPeriodically();\n    }\n\n    private void playPreviousSong() {\n        if (callback != null) {\n            callback.onPreviousSong();\n        }\n    }\n\n    public void playNextSong() {\n        if (callback != null) {\n            callback.onNextSong();\n        }\n    }\n\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    public void startMusic(String fileName, String songName) {\n        if (fileName != null) {\n            isPlaying = true;\n            currentSongName = songName;\n            Log.d(TAG, &quot;startMusic: &quot; + currentSongName);\n            int resourceId = getResources().getIdentifier(fileName, &quot;raw&quot;, getPackageName());\n            Uri uri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + resourceId);\n\n            try {\n                mediaPlayer.reset();\n                mediaPlayer.setDataSource(getApplicationContext(), uri);\n                mediaPlayer.prepareAsync();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private void seekToPosition(int position) {\n        if (mediaPlayer.isPlaying()) {\n            mediaPlayer.seekTo(position);\n            showNotification();\n        }\n    }\n\n    public int getCurrentPosition() {\n        return mediaPlayer.getCurrentPosition();\n    }\n\n    public int getDuration() {\n        return mediaPlayer.getDuration();\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return binder;\n    }\n\n    @Override\n    public void onPrepared(MediaPlayer mediaPlayer) {\n        duration = mediaPlayer.getDuration();\n        // Notify the callback that the media player is prepared\n        if (callback != null) {\n            callback.onPrepared(duration);\n        }\n        mediaPlayer.start();\n        showNotification();\n        updateNotificationProgressPeriodically();\n\n        if (currentPosition &gt; 0) {\n            mediaPlayer.seekTo(currentPosition);\n            currentPosition = 0; // Reset the saved position\n        }\n    }\n\n    private void updateNotificationProgressPeriodically() {\n        // Create a new Runnable that will update the progress and post it with a delay of 1 second\n        Runnable progressUpdateRunnable = new Runnable() {\n            @Override\n            public void run() {\n                // Update the progress of the SeekBar in the notification\n                showNotification();\n\n                // Post the same Runnable again after a delay of 1 second\n                handler.postDelayed(this, 1000);\n            }\n        };\n\n        // Start the periodic progress update\n        handler.post(progressUpdateRunnable);\n    }\n\n \n private void showNotification() {\n     // Create the notification channel (if needed)\n     createNotificationChannel();\n\n     int progress = mediaPlayer.getCurrentPosition();\n     int max = mediaPlayer.getDuration();\n\n     if (callback != null) {\n         callback.onProgress(progress, max);\n     }\n\n     // Create the remote views for the custom layout\n     RemoteViews contentView = new RemoteViews(getPackageName(), R.layout.custom_notification_layout);\n\n     contentView.setTextViewText(R.id.subtitleTextView, currentSongName);\n\n     // Set the progress bar\n     contentView.setProgressBar(R.id.progressSeekBar, max, progress, false);\n\n     // Set the playback buttons\n     contentView.setOnClickPendingIntent(R.id.notification_previousButton, createPendingIntent(ACTION_PREVIOUS));\n\n     String action = isPlaying ? ACTION_PAUSE : ACTION_RESUME;\n     int playPauseIconResId = isPlaying ? R.drawable.baseline_pause_24 : R.drawable.baseline_play_arrow_24;\n\n     contentView.setOnClickPendingIntent(R.id.notification_playPauseButton, createPendingIntent(action));\n     contentView.setImageViewResource(R.id.notification_playPauseButton, playPauseIconResId);\n     contentView.setInt(R.id.notification_playPauseButton, &quot;setImageResource&quot;, playPauseIconResId);\n\n     contentView.setOnClickPendingIntent(R.id.notification_nextButton, createPendingIntent(ACTION_NEXT));\n\n     // Create the pending intent for the notification\n     Intent intent = new Intent(this, MainActivity.class);\n     PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n\n     // Create the notification builder\n     NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID)\n             .setSmallIcon(R.drawable.ic_music_note)\n             .setContentIntent(pendingIntent)\n             .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n             .setShowWhen(false)\n             .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n             .setCustomContentView(contentView)\n             .setOngoing(true); // Set the notification as ongoing (cannot be dismissed by the user)\n\n     // Set the large icon\n     Bitmap largeIcon = BitmapFactory.decodeResource(getResources(), R.drawable.ic_music_icon);\n     builder.setLargeIcon(largeIcon);\n\n     // Update the notification\n     notificationManager.notify(NOTIFICATION_ID, builder.build());\n }\n\n\n    private PendingIntent createPendingIntent(String action) {\n        Intent intent = new Intent(this, BackgroundMusicService.class);\n        intent.setAction(action);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            return PendingIntent.getService(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n        } else {\n            return PendingIntent.getService(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n        }\n    }\n\n\n\n    private void createNotificationChannel() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            CharSequence name = &quot;Background Music Channel&quot;;\n            String description = &quot;Channel for background music playback&quot;;\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\n            channel.setDescription(description);\n            notificationManager.createNotificationChannel(channel);\n        }\n    }\n\n\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        if (mediaPlayer != null) {\n            mediaPlayer.release();\n            mediaPlayer = null;\n        }\n        mediaSession.release();\n        stopForeground(true);\n        stopSelf();\n    }\n}\n\n</code></pre>\n<p>this is fragment</p>\n<pre><code>package com.example.knowyourtemple.view.activity;\n\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.ServiceConnection;\nimport android.media.MediaPlayer;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.IBinder;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.SeekBar;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\nimport com.bumptech.glide.Glide;\nimport com.bumptech.glide.request.RequestOptions;\nimport com.example.knowyourtemple.R;\nimport com.example.knowyourtemple.businesslogic.pojo.PojoMusic;\nimport com.example.knowyourtemple.databinding.FragmentPlayMusicBinding;\nimport com.example.knowyourtemple.view.service.BackgroundMusicService;\n\nimport java.util.ArrayList;\n\npublic class FragmentPlayMusic extends Fragment implements BackgroundMusicService.MusicPlayerCallback {\n\n    private FragmentPlayMusicBinding binding;\n    private Button playButton;\n    private Button previousButton;\n    private Button nextButton;\n    private SeekBar seekBar;\n    private int currentPosition = 0;\n    private boolean isPlaying = false;\n    private ArrayList&lt;PojoMusic&gt; musicList;\n    private Handler handler;\n    private Runnable runnable;\n    private MediaPlayer mediaPlayer;\n    private BackgroundMusicService backgroundMusicService;\n    private BackgroundMusicService.MusicPlayerCallback callback;\n\n    private ServiceConnection connection = new ServiceConnection() {\n        @Override\n        public void onServiceConnected(ComponentName componentName, IBinder iBinder) {\n            if (iBinder instanceof BackgroundMusicService.LocalBinder) {\n                BackgroundMusicService.LocalBinder binder = (BackgroundMusicService.LocalBinder) iBinder;\n                backgroundMusicService = binder.getService();\n                callback = FragmentPlayMusic.this;  // Assign the callback from the fragment itself\n                backgroundMusicService.setCallback(callback);  // Set the callback in the service\n            }\n        }\n\n        @Override\n        public void onServiceDisconnected(ComponentName componentName) {\n            backgroundMusicService = null;\n        }\n    };\n\n    public static FragmentPlayMusic newInstance(PojoMusic music, ArrayList&lt;PojoMusic&gt; musicList) {\n        FragmentPlayMusic fragment = new FragmentPlayMusic();\n        Bundle args = new Bundle();\n        args.putSerializable(&quot;PojoMusic&quot;, music);\n        args.putSerializable(&quot;MusicList&quot;, musicList);\n        args.putInt(&quot;StartPosition&quot;, 0); // Add the start position argument\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        binding = FragmentPlayMusicBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        PojoMusic music = (PojoMusic) getArguments().getSerializable(&quot;PojoMusic&quot;);\n        musicList = (ArrayList&lt;PojoMusic&gt;) getArguments().getSerializable(&quot;MusicList&quot;);\n        binding.setMusic(music);\n        Glide.with(requireContext())\n                .load(music.getImg())\n                .apply(RequestOptions.circleCropTransform())\n                .placeholder(R.drawable.ic_setting_banner)\n                .into(binding.video);\n\n        binding.playButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (isPlaying) {\n                    pauseMusic();\n                } else {\n                    startMusic();\n                }\n                togglePlayButtonImage();\n            }\n        });\n        bindMusicService();\n\n        binding.previousbutton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                playPreviousSong();\n            }\n        });\n\n        binding.nextbutton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                playNextSong();\n            }\n        });\n\n        seekBar = binding.seekBar;\n\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n            /*    if (fromUser) {\n                    seekToPosition(progress);\n                }*/\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n                handler.removeCallbacks(runnable);\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n                int progress = seekBar.getProgress();\n                seekToPosition(progress);\n            }\n\n        });\n    }\n\n    public void playPreviousSong() {\n        if (musicList != null &amp;&amp; musicList.size() &gt; 1) {\n            currentPosition--;\n            if (currentPosition &lt; 0) {\n                currentPosition = musicList.size() - 1; // Wrap around to the last song\n            }\n            playCurrentSong();\n            startMusic();\n        }\n    }\n    public void playNextSong() {\n        if (musicList != null &amp;&amp; musicList.size() &gt; 1) {\n            currentPosition++;\n            if (currentPosition &gt;= musicList.size()) {\n                currentPosition = 0; // Wrap around to the first song\n            }\n            playCurrentSong();\n            startMusic();\n        }\n    }\n\n\n    private void playCurrentSong() {\n        if (musicList != null &amp;&amp; currentPosition &gt;= 0 &amp;&amp; currentPosition &lt; musicList.size()) {\n            PojoMusic currentMusic = musicList.get(currentPosition);\n            binding.setMusic(currentMusic);\n\n            if (mediaPlayer != null) {\n                if (mediaPlayer.isPlaying()) {\n                    mediaPlayer.stop();\n                }\n                mediaPlayer.release();\n            }\n\n            initializeMediaPlayer();\n            startMusic(); // Call startMusic() after initializing the MediaPlayer\n        }\n    }\n\n    private void initializeMediaPlayer() {\n        PojoMusic music = (PojoMusic) getArguments().getSerializable(&quot;PojoMusic&quot;);\n        String songResourceName = music.getSongResourceName();\n        int songResourceId = getResources().getIdentifier(songResourceName, &quot;raw&quot;, requireActivity().getPackageName());\n\n        mediaPlayer = MediaPlayer.create(getActivity(), songResourceId);\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n            @Override\n            public void onCompletion(MediaPlayer mediaPlayer) {\n                playNextSong();\n            }\n        });\n    }\n\n\n\n\n\n\n\n\n\n\n\n    private void startMusic() {\n        isPlaying = true;\n        String fileName = binding.getMusic().getSongResourceName();\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\n        serviceIntent.setAction(BackgroundMusicService.ACTION_START);\n        serviceIntent.putExtra(&quot;FileName&quot;, fileName);\n        String songName = binding.getMusic().getName();\n        serviceIntent.putExtra(&quot;SongName&quot;, songName);\n        // Get the last known position from the service and pass it to the intent\n        BackgroundMusicService musicService = getMusicService();\n        if (musicService != null) {\n            int currentPosition = musicService.getCurrentPosition();\n            serviceIntent.putExtra(&quot;Position&quot;, currentPosition);\n        }\n\n        requireActivity().startService(serviceIntent);\n        updateSeekBarProgress();\n    }\n\n    private void pauseMusic() {\n        isPlaying = false;\n        if (backgroundMusicService != null) {\n            backgroundMusicService.pauseMusic();\n        }\n        handler.removeCallbacks(runnable);\n    }\n\n    private void togglePlayButtonImage() {\n        if (isPlaying) {\n            binding.playButton.setImageResource(R.drawable.baseline_pause_24);\n        } else {\n            binding.playButton.setImageResource(R.drawable.baseline_play_arrow_24);\n        }\n    }\n\n\n    private void updateSeekBarProgress() {\n        if (handler != null &amp;&amp; runnable != null) {\n            // Remove any existing callbacks to prevent multiple Runnables running simultaneously\n            handler.removeCallbacks(runnable);\n        }\n        handler = new Handler();\n        runnable = new Runnable() {\n            @Override\n            public void run() {\n\n                BackgroundMusicService musicService = getMusicService();\n                if (musicService != null) {\n                    int currentPosition = musicService.getCurrentPosition();\n                    int duration = musicService.getDuration();\n                    seekBar.setMax(duration);\n                    seekBar.setProgress(currentPosition);\n                    // Notify the callback with the progress values\n                    callback.onProgress(currentPosition, duration);\n                }\n                handler.postDelayed(this, 1000);\n            }\n        };\n        handler.postDelayed(runnable, 0);\n    }\n\n    private BackgroundMusicService getMusicService() {\n        return backgroundMusicService;\n    }\n\n    private void seekToPosition(int position) {\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\n        serviceIntent.setAction(BackgroundMusicService.ACTION_SEEK);\n        serviceIntent.putExtra(&quot;Position&quot;, position);\n        requireActivity().startService(serviceIntent);\n    }\n\n    private void bindMusicService() {\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\n        requireActivity().bindService(serviceIntent, connection, Context.BIND_AUTO_CREATE);\n        if (backgroundMusicService != null) {\n            backgroundMusicService.setCallback(this);\n        }\n    }\n\n    private void unbindMusicService() {\n        requireActivity().unbindService(connection);\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n\n        // Remove any pending callbacks from the handler\n        if (handler != null &amp;&amp; runnable != null) {\n            handler.removeCallbacks(runnable);\n        }\n\n        // Unbind the service when the fragment is destroyed\n        unbindMusicService();\n\n        // Stop the service when the fragment is destroyed\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\n        requireActivity().stopService(serviceIntent);\n\n        binding = null;\n    }\n\n    @Override\n    public void onPrepared(int duration) {\n        seekBar.setMax(duration);\n    }\n\n    @Override\n    public void onProgress(int progress, int max) {\n        seekBar.setProgress(progress);\n        seekBar.setMax(max);\n    }\n\n    @Override\n    public void onNextSong() {\n        playNextSong();\n    }\n\n    @Override\n    public void onPreviousSong() {\n       playPreviousSong();\n    }\n\n    @Override\n    public void onResumeSong() {\n        startMusic();\n        togglePlayButtonImage();\n    }\n\n    @Override\n    public void onPauseSong() {\n        pauseMusic();\n        togglePlayButtonImage();\n    }\n}\n</code></pre>\n<p>I want my notification to work like Spotify</p>\n"},{"tags":["java","maven","selenium-webdriver","testng"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687415115,"post_id":76522880,"comment_id":134934015,"body_markdown":"First you should upgrade the maven-surefire-plugin version to the most recent, because you are using a version wich is of 2017!... Check here: https://maven.apache.org/plugins/. And most important why have you defined all this within a profile?","body":"First you should upgrade the maven-surefire-plugin version to the most recent, because you are using a version wich is of 2017!... Check here: <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>. And most important why have you defined all this within a profile?"}],"answers":[{"tags":[],"owner":{"account_id":9019647,"reputation":66,"user_id":6721152,"display_name":"prashanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688447287,"creation_date":1688447287,"answer_id":76609525,"question_id":76522880,"body_markdown":"Updating testng version to 7.8.0, in pom dependency, fixed the issue.\r\n\r\n    Before:\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.2.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    After:\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.8.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;","title":"The testcase execution order differed between testng.xml and maven surefire","body":"<p>Updating testng version to 7.8.0, in pom dependency, fixed the issue.</p>\n<pre><code>Before:\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.2.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\nAfter:\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.8.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9019647,"reputation":66,"user_id":6721152,"display_name":"prashanth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688447287,"creation_date":1687347548,"question_id":76522880,"body_markdown":"Triggered testng.xml from eclipse, and worked as expected (the order of the classes were as given in testng.xml). On triggering the same using maven surefire from command line (mvn clean , mvn install), the order of the classes differed. Example, maven triggers tc01 of Class8 instead of tc01 of class1. This confirms that the  execution order of classes between testng and sure fire differed. \r\n\r\nWill surefire ignore the order followed by testng.xml ? If so any flag to force sure fire to follow as given in testng.xml ? After investing good amount of time and analysis to design the suite (testng.xml), I hope the maven would be able to trigger testng.xml with the way it exists. Did try few of the options available online but could not help.\r\n\r\nThank you in advance.\r\n\r\nBelow are the testng.xml and sure fire data.\r\n\r\n\r\n    testng.xml\r\n    &lt;test thread-count=&quot;5&quot; name=&quot;REGRESSION Test&quot; preserve-order=&quot;true&quot; enabled=&quot;true&quot;&gt;\r\n    &lt;class name=&quot;com.org.ipac.Login.LoginPage&quot; /&gt;\r\n    \r\n\r\n    pom.xml\r\n     &lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;suiteXmlFile&gt;C:\\trunk\\Hyd2019\\Selenium\\IPAC\\testng.xml&lt;/suiteXmlFile&gt;\r\n    \t&lt;/properties&gt;\r\n    &lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;Regression&lt;/id&gt;\r\n    \t\t\t&lt;build&gt;\r\n    \t\t\t\t&lt;plugins&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;2.20&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t &lt;!-- &lt;runOrder&gt;filesystem&lt;/runOrder&gt;--&gt;\r\n    \t\t\t\t\t\t\t&lt;suiteXmlFiles&gt;\r\n    \t\t\t\t\t\t\t\t&lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\r\n    \t\t\t\t\t\t\t&lt;/suiteXmlFiles&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t\t\t&lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\r\n    \t\t\t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;finalName&gt;TIB_ip-test-ipac_${project.version}_win_x86_64&lt;/finalName&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;descriptors&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;descriptor&gt;src/main/assembly/zip.xml&lt;/descriptor&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/descriptors&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;/plugins&gt;\r\n    \t\t\t&lt;/build&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    \r\n    \r\n       ","title":"The testcase execution order differed between testng.xml and maven surefire","body":"<p>Triggered testng.xml from eclipse, and worked as expected (the order of the classes were as given in testng.xml). On triggering the same using maven surefire from command line (mvn clean , mvn install), the order of the classes differed. Example, maven triggers tc01 of Class8 instead of tc01 of class1. This confirms that the  execution order of classes between testng and sure fire differed.</p>\n<p>Will surefire ignore the order followed by testng.xml ? If so any flag to force sure fire to follow as given in testng.xml ? After investing good amount of time and analysis to design the suite (testng.xml), I hope the maven would be able to trigger testng.xml with the way it exists. Did try few of the options available online but could not help.</p>\n<p>Thank you in advance.</p>\n<p>Below are the testng.xml and sure fire data.</p>\n<pre><code>testng.xml\n&lt;test thread-count=&quot;5&quot; name=&quot;REGRESSION Test&quot; preserve-order=&quot;true&quot; enabled=&quot;true&quot;&gt;\n&lt;class name=&quot;com.org.ipac.Login.LoginPage&quot; /&gt;\n\n\npom.xml\n &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;suiteXmlFile&gt;C:\\trunk\\Hyd2019\\Selenium\\IPAC\\testng.xml&lt;/suiteXmlFile&gt;\n    &lt;/properties&gt;\n&lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;Regression&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.20&lt;/version&gt;\n                        &lt;configuration&gt;\n                             &lt;!-- &lt;runOrder&gt;filesystem&lt;/runOrder&gt;--&gt;\n                            &lt;suiteXmlFiles&gt;\n                                &lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\n                            &lt;/suiteXmlFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.8.1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                            &lt;source&gt;1.8&lt;/source&gt;\n                            &lt;target&gt;1.8&lt;/target&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.3.1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;archive&gt;\n                                &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\n                            &lt;/archive&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;single&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;finalName&gt;TIB_ip-test-ipac_${project.version}_win_x86_64&lt;/finalName&gt;\n                                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                                    &lt;descriptors&gt;\n                                        &lt;descriptor&gt;src/main/assembly/zip.xml&lt;/descriptor&gt;\n                                    &lt;/descriptors&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n\n   \n</code></pre>\n"},{"tags":["java","android","google-maps","polygon"],"comments":[{"owner":{"account_id":19505437,"reputation":433,"user_id":14270580,"display_name":"Venus"},"score":1,"creation_date":1688397803,"post_id":76605706,"comment_id":135065577,"body_markdown":"Have you ever used GeoJSON file?\nI think it&#39;s possible by using GeoJsonLayer that&#39;s created with geojson file.","body":"Have you ever used GeoJSON file? I think it&#39;s possible by using GeoJsonLayer that&#39;s created with geojson file."}],"answers":[{"tags":[],"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688446944,"creation_date":1688446944,"answer_id":76609509,"question_id":76605706,"body_markdown":"## Using a GeoJSON file to show area boundaries ##\r\n\r\nAs mentioned in the comment, using a GeoJSON file will make this possible, and you can do so by using the [Google Maps Android GeoJSON Utility](https://developers.google.com/maps/documentation/android-sdk/utility/geojson).\r\n\r\nas per the documentation:\r\n\r\n&gt; GeoJSON is an extension of the JSON data format and represents\r\n&gt; geographical data. Using this utility, you can store geographical\r\n&gt; features in GeoJSON format and render them as a layer on top of the\r\n&gt; map. To add and remove your GeoJSON data to and from the map, call\r\n&gt; `addLayerToMap()` and `removeLayerFromMap()` respectively. Similarly you\r\n&gt; can add and remove individual features by calling `addFeature()` and\r\n&gt; `removeFeature()` and passing in a GeoJsonFeature object. If you want to\r\n&gt; access the features, you can call `getFeatures()` to get an iterable of\r\n&gt; all GeoJsonFeature objects that have been added to the layer.\r\n\r\nFor example, we can use a GeoJSON file that contains a multi polygon of the boundary of USA called `usa.json` and save it to your `resource/raw` folder.\r\n\r\n## usa.json ##\r\n\r\n    {\r\n      &quot;type&quot;: &quot;FeatureCollection&quot;,\r\n      &quot;features&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;Feature&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;stroke&quot;: &quot;#f53b3b&quot;,\r\n            &quot;stroke-width&quot;: 2,\r\n            &quot;stroke-opacity&quot;: 1,\r\n            &quot;fill&quot;: &quot;#555555&quot;,\r\n            &quot;fill-opacity&quot;: 0.5\r\n          },\r\n          &quot;geometry&quot;: {\r\n            &quot;type&quot;: &quot;MultiPolygon&quot;,\r\n            &quot;coordinates&quot;: [\r\n              [\r\n                [\r\n                  [\r\n                    -124.45312499999999,\r\n                    48.22467264956519\r\n                  ],\r\n                  [\r\n                    -123.57421875,\r\n                    39.436192999314095\r\n                  ],\r\n                  [\r\n                    -120.32226562500001,\r\n                    34.45221847282654\r\n                  ],\r\n                  [\r\n                    -116.89453125,\r\n                    32.54681317351514\r\n                  ],\r\n                  [\r\n                    -114.873046875,\r\n                    32.69486597787505\r\n                  ],\r\n                  [\r\n                    -110.56640625,\r\n                    31.27855085894653\r\n                  ],\r\n                  [\r\n                    -108.720703125,\r\n                    31.50362930577303\r\n                  ],\r\n                  [\r\n                    -106.5234375,\r\n                    31.653381399664\r\n                  ],\r\n                  [\r\n                    -104.853515625,\r\n                    30.221101852485987\r\n                  ],\r\n                  [\r\n                    -103.095703125,\r\n                    29.152161283318915\r\n                  ],\r\n                  [\r\n                    -102.65625,\r\n                    29.6880527498568\r\n                  ],\r\n                  [\r\n                    -101.689453125,\r\n                    29.76437737516313\r\n                  ],\r\n                  [\r\n                    -97.294921875,\r\n                    25.799891182088334\r\n                  ],\r\n                  [\r\n                    -96.94335937499999,\r\n                    28.304380682962783\r\n                  ],\r\n                  [\r\n                    -93.779296875,\r\n                    29.458731185355344\r\n                  ],\r\n                  [\r\n                    -89.736328125,\r\n                    29.305561325527698\r\n                  ],\r\n                  [\r\n                    -88.76953125,\r\n                    30.372875188118016\r\n                  ],\r\n                  [\r\n                    -83.84765625,\r\n                    29.916852233070173\r\n                  ],\r\n                  [\r\n                    -81.298828125,\r\n                    25.3241665257384\r\n                  ],\r\n                  [\r\n                    -80.068359375,\r\n                    26.43122806450644\r\n                  ],\r\n                  [\r\n                    -82.001953125,\r\n                    30.977609093348686\r\n                  ],\r\n                  [\r\n                    -75.498046875,\r\n                    35.817813158696616\r\n                  ],\r\n                  [\r\n                    -73.564453125,\r\n                    40.84706035607122\r\n                  ],\r\n                  [\r\n                    -66.97265625,\r\n                    44.5278427984555\r\n                  ],\r\n                  [\r\n                    -68.5546875,\r\n                    47.21956811231547\r\n                  ],\r\n                  [\r\n                    -79.189453125,\r\n                    43.13306116240612\r\n                  ],\r\n                  [\r\n                    -83.3203125,\r\n                    41.83682786072714\r\n                  ],\r\n                  [\r\n                    -82.353515625,\r\n                    44.902577996288876\r\n                  ],\r\n                  [\r\n                    -88.24218749999999,\r\n                    47.81315451752768\r\n                  ],\r\n                  [\r\n                    -95.09765625,\r\n                    48.922499263758255\r\n                  ],\r\n                  [\r\n                    -124.45312499999999,\r\n                    48.22467264956519\r\n                  ]\r\n                ]\r\n              ],\r\n              [\r\n                [\r\n                  [\r\n                    -141.064453125,\r\n                    69.62651016802958\r\n                  ],\r\n                  [\r\n                    -152.9296875,\r\n                    70.64176873584621\r\n                  ],\r\n                  [\r\n                    -157.32421875,\r\n                    70.90226826757711\r\n                  ],\r\n                  [\r\n                    -166.376953125,\r\n                    68.43151284537514\r\n                  ],\r\n                  [\r\n                    -160.6640625,\r\n                    66.30220547599842\r\n                  ],\r\n                  [\r\n                    -164.53125,\r\n                    66.40795547978848\r\n                  ],\r\n                  [\r\n                    -168.22265625,\r\n                    65.62202261510642\r\n                  ],\r\n                  [\r\n                    -165.322265625,\r\n                    64.35893097894458\r\n                  ],\r\n                  [\r\n                    -161.19140625,\r\n                    64.66151739623564\r\n                  ],\r\n                  [\r\n                    -161.19140625,\r\n                    63.35212928507874\r\n                  ],\r\n                  [\r\n                    -164.53125,\r\n                    63.11463763252091\r\n                  ],\r\n                  [\r\n                    -166.11328125,\r\n                    61.60639637138628\r\n                  ],\r\n                  [\r\n                    -164.53125,\r\n                    60.71619779357714\r\n                  ],\r\n                  [\r\n                    -167.080078125,\r\n                    60.108670463036\r\n                  ],\r\n                  [\r\n                    -162.24609375,\r\n                    59.7563950493563\r\n                  ],\r\n                  [\r\n                    -161.806640625,\r\n                    58.63121664342478\r\n                  ],\r\n                  [\r\n                    -158.115234375,\r\n                    58.6769376725869\r\n                  ],\r\n                  [\r\n                    -168.3984375,\r\n                    52.908902047770255\r\n                  ],\r\n                  [\r\n                    -157.1484375,\r\n                    56.992882804633986\r\n                  ],\r\n                  [\r\n                    -153.80859375,\r\n                    56.70450561416937\r\n                  ],\r\n                  [\r\n                    -151.962890625,\r\n                    57.938183012205315\r\n                  ],\r\n                  [\r\n                    -148.7109375,\r\n                    60.19615576604439\r\n                  ],\r\n                  [\r\n                    -145.810546875,\r\n                    60.326947742998414\r\n                  ],\r\n                  [\r\n                    -140.9765625,\r\n                    60.1524422143808\r\n                  ],\r\n                  [\r\n                    -141.064453125,\r\n                    69.62651016802958\r\n                  ]\r\n                ]\r\n              ],\r\n              [\r\n                [\r\n                  [\r\n                    -160.20263671875,\r\n                    21.80030805097259\r\n                  ],\r\n                  [\r\n                    -159.63134765625,\r\n                    22.248428704383624\r\n                  ],\r\n                  [\r\n                    -159.30175781249997,\r\n                    22.14670778001263\r\n                  ],\r\n                  [\r\n                    -156.005859375,\r\n                    20.715015145512087\r\n                  ],\r\n                  [\r\n                    -154.75341796875,\r\n                    19.518375478601566\r\n                  ],\r\n                  [\r\n                    -155.76416015625,\r\n                    18.93746442964186\r\n                  ],\r\n                  [\r\n                    -156.02783203124997,\r\n                    19.766703551716976\r\n                  ],\r\n                  [\r\n                    -155.76416015625,\r\n                    20.076570104545173\r\n                  ],\r\n                  [\r\n                    -156.4892578125,\r\n                    20.591652120829167\r\n                  ],\r\n                  [\r\n                    -156.99462890624997,\r\n                    20.756113874762082\r\n                  ],\r\n                  [\r\n                    -158.115234375,\r\n                    21.37124437061831\r\n                  ],\r\n                  [\r\n                    -159.45556640625,\r\n                    21.820707853875017\r\n                  ],\r\n                  [\r\n                    -160.20263671875,\r\n                    21.80030805097259\r\n                  ]\r\n                ]\r\n              ]\r\n            ]\r\n          },\r\n          &quot;properties&quot;: {\r\n            &quot;title&quot;: &quot;MultiPolygon United States of America&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nThen you can create a function to retrieve the file from your resource folder like so:\r\n\r\n        private void retrieveFileFromResource() {\r\n            try {\r\n                GeoJsonLayer layer = new GeoJsonLayer(getMap(), R.raw.usa, this);\r\n\r\n                // this will be the function to add the layer on the map and \r\n                // I&#39;ll put it also below.\r\n                addGeoJsonLayerToMap(layer);\r\n            } catch (IOException e) {\r\n                Log.e(mLogTag, &quot;GeoJSON file could not be read&quot;);\r\n            } catch (JSONException e) {\r\n                Log.e(mLogTag, &quot;GeoJSON file could not be converted to a JSONObject&quot;);\r\n            }\r\n        }\r\n\r\nThen finally, add the layer on the map:\r\n\r\n        private void addGeoJsonLayerToMap(GeoJsonLayer layer) {\r\n            layer.addLayerToMap();\r\n            // Demonstrate receiving features via GeoJsonLayer clicks.\r\n            layer.setOnFeatureClickListener(new GeoJsonLayer.GeoJsonOnFeatureClickListener() {\r\n                @Override\r\n                public void onFeatureClick(Feature feature) {\r\n                    Toast.makeText(GeoJsonDemoActivity.this,\r\n                            &quot;Feature clicked: &quot; + feature.getProperty(&quot;title&quot;),\r\n                            Toast.LENGTH_SHORT).show();\r\n                }\r\n    \r\n            });\r\n        }\r\n\r\nIt should look something like this:\r\n\r\n[![geoJSON boundary sample][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DzaNd.png\r\n\r\nYou can also clone the [android-maps-utils](https://github.com/googlemaps/android-maps-utils) library and play around with their GeoJSON samples.\r\n\r\nI hope this helps!","title":"How to show the places or Area boundaries in google map Android?","body":"<h2>Using a GeoJSON file to show area boundaries</h2>\n<p>As mentioned in the comment, using a GeoJSON file will make this possible, and you can do so by using the <a href=\"https://developers.google.com/maps/documentation/android-sdk/utility/geojson\" rel=\"nofollow noreferrer\">Google Maps Android GeoJSON Utility</a>.</p>\n<p>as per the documentation:</p>\n<blockquote>\n<p>GeoJSON is an extension of the JSON data format and represents\ngeographical data. Using this utility, you can store geographical\nfeatures in GeoJSON format and render them as a layer on top of the\nmap. To add and remove your GeoJSON data to and from the map, call\n<code>addLayerToMap()</code> and <code>removeLayerFromMap()</code> respectively. Similarly you\ncan add and remove individual features by calling <code>addFeature()</code> and\n<code>removeFeature()</code> and passing in a GeoJsonFeature object. If you want to\naccess the features, you can call <code>getFeatures()</code> to get an iterable of\nall GeoJsonFeature objects that have been added to the layer.</p>\n</blockquote>\n<p>For example, we can use a GeoJSON file that contains a multi polygon of the boundary of USA called <code>usa.json</code> and save it to your <code>resource/raw</code> folder.</p>\n<h2>usa.json</h2>\n<pre><code>{\n  &quot;type&quot;: &quot;FeatureCollection&quot;,\n  &quot;features&quot;: [\n    {\n      &quot;type&quot;: &quot;Feature&quot;,\n      &quot;properties&quot;: {\n        &quot;stroke&quot;: &quot;#f53b3b&quot;,\n        &quot;stroke-width&quot;: 2,\n        &quot;stroke-opacity&quot;: 1,\n        &quot;fill&quot;: &quot;#555555&quot;,\n        &quot;fill-opacity&quot;: 0.5\n      },\n      &quot;geometry&quot;: {\n        &quot;type&quot;: &quot;MultiPolygon&quot;,\n        &quot;coordinates&quot;: [\n          [\n            [\n              [\n                -124.45312499999999,\n                48.22467264956519\n              ],\n              [\n                -123.57421875,\n                39.436192999314095\n              ],\n              [\n                -120.32226562500001,\n                34.45221847282654\n              ],\n              [\n                -116.89453125,\n                32.54681317351514\n              ],\n              [\n                -114.873046875,\n                32.69486597787505\n              ],\n              [\n                -110.56640625,\n                31.27855085894653\n              ],\n              [\n                -108.720703125,\n                31.50362930577303\n              ],\n              [\n                -106.5234375,\n                31.653381399664\n              ],\n              [\n                -104.853515625,\n                30.221101852485987\n              ],\n              [\n                -103.095703125,\n                29.152161283318915\n              ],\n              [\n                -102.65625,\n                29.6880527498568\n              ],\n              [\n                -101.689453125,\n                29.76437737516313\n              ],\n              [\n                -97.294921875,\n                25.799891182088334\n              ],\n              [\n                -96.94335937499999,\n                28.304380682962783\n              ],\n              [\n                -93.779296875,\n                29.458731185355344\n              ],\n              [\n                -89.736328125,\n                29.305561325527698\n              ],\n              [\n                -88.76953125,\n                30.372875188118016\n              ],\n              [\n                -83.84765625,\n                29.916852233070173\n              ],\n              [\n                -81.298828125,\n                25.3241665257384\n              ],\n              [\n                -80.068359375,\n                26.43122806450644\n              ],\n              [\n                -82.001953125,\n                30.977609093348686\n              ],\n              [\n                -75.498046875,\n                35.817813158696616\n              ],\n              [\n                -73.564453125,\n                40.84706035607122\n              ],\n              [\n                -66.97265625,\n                44.5278427984555\n              ],\n              [\n                -68.5546875,\n                47.21956811231547\n              ],\n              [\n                -79.189453125,\n                43.13306116240612\n              ],\n              [\n                -83.3203125,\n                41.83682786072714\n              ],\n              [\n                -82.353515625,\n                44.902577996288876\n              ],\n              [\n                -88.24218749999999,\n                47.81315451752768\n              ],\n              [\n                -95.09765625,\n                48.922499263758255\n              ],\n              [\n                -124.45312499999999,\n                48.22467264956519\n              ]\n            ]\n          ],\n          [\n            [\n              [\n                -141.064453125,\n                69.62651016802958\n              ],\n              [\n                -152.9296875,\n                70.64176873584621\n              ],\n              [\n                -157.32421875,\n                70.90226826757711\n              ],\n              [\n                -166.376953125,\n                68.43151284537514\n              ],\n              [\n                -160.6640625,\n                66.30220547599842\n              ],\n              [\n                -164.53125,\n                66.40795547978848\n              ],\n              [\n                -168.22265625,\n                65.62202261510642\n              ],\n              [\n                -165.322265625,\n                64.35893097894458\n              ],\n              [\n                -161.19140625,\n                64.66151739623564\n              ],\n              [\n                -161.19140625,\n                63.35212928507874\n              ],\n              [\n                -164.53125,\n                63.11463763252091\n              ],\n              [\n                -166.11328125,\n                61.60639637138628\n              ],\n              [\n                -164.53125,\n                60.71619779357714\n              ],\n              [\n                -167.080078125,\n                60.108670463036\n              ],\n              [\n                -162.24609375,\n                59.7563950493563\n              ],\n              [\n                -161.806640625,\n                58.63121664342478\n              ],\n              [\n                -158.115234375,\n                58.6769376725869\n              ],\n              [\n                -168.3984375,\n                52.908902047770255\n              ],\n              [\n                -157.1484375,\n                56.992882804633986\n              ],\n              [\n                -153.80859375,\n                56.70450561416937\n              ],\n              [\n                -151.962890625,\n                57.938183012205315\n              ],\n              [\n                -148.7109375,\n                60.19615576604439\n              ],\n              [\n                -145.810546875,\n                60.326947742998414\n              ],\n              [\n                -140.9765625,\n                60.1524422143808\n              ],\n              [\n                -141.064453125,\n                69.62651016802958\n              ]\n            ]\n          ],\n          [\n            [\n              [\n                -160.20263671875,\n                21.80030805097259\n              ],\n              [\n                -159.63134765625,\n                22.248428704383624\n              ],\n              [\n                -159.30175781249997,\n                22.14670778001263\n              ],\n              [\n                -156.005859375,\n                20.715015145512087\n              ],\n              [\n                -154.75341796875,\n                19.518375478601566\n              ],\n              [\n                -155.76416015625,\n                18.93746442964186\n              ],\n              [\n                -156.02783203124997,\n                19.766703551716976\n              ],\n              [\n                -155.76416015625,\n                20.076570104545173\n              ],\n              [\n                -156.4892578125,\n                20.591652120829167\n              ],\n              [\n                -156.99462890624997,\n                20.756113874762082\n              ],\n              [\n                -158.115234375,\n                21.37124437061831\n              ],\n              [\n                -159.45556640625,\n                21.820707853875017\n              ],\n              [\n                -160.20263671875,\n                21.80030805097259\n              ]\n            ]\n          ]\n        ]\n      },\n      &quot;properties&quot;: {\n        &quot;title&quot;: &quot;MultiPolygon United States of America&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>Then you can create a function to retrieve the file from your resource folder like so:</p>\n<pre><code>    private void retrieveFileFromResource() {\n        try {\n            GeoJsonLayer layer = new GeoJsonLayer(getMap(), R.raw.usa, this);\n\n            // this will be the function to add the layer on the map and \n            // I'll put it also below.\n            addGeoJsonLayerToMap(layer);\n        } catch (IOException e) {\n            Log.e(mLogTag, &quot;GeoJSON file could not be read&quot;);\n        } catch (JSONException e) {\n            Log.e(mLogTag, &quot;GeoJSON file could not be converted to a JSONObject&quot;);\n        }\n    }\n</code></pre>\n<p>Then finally, add the layer on the map:</p>\n<pre><code>    private void addGeoJsonLayerToMap(GeoJsonLayer layer) {\n        layer.addLayerToMap();\n        // Demonstrate receiving features via GeoJsonLayer clicks.\n        layer.setOnFeatureClickListener(new GeoJsonLayer.GeoJsonOnFeatureClickListener() {\n            @Override\n            public void onFeatureClick(Feature feature) {\n                Toast.makeText(GeoJsonDemoActivity.this,\n                        &quot;Feature clicked: &quot; + feature.getProperty(&quot;title&quot;),\n                        Toast.LENGTH_SHORT).show();\n            }\n\n        });\n    }\n</code></pre>\n<p>It should look something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/DzaNd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DzaNd.png\" alt=\"geoJSON boundary sample\" /></a></p>\n<p>You can also clone the <a href=\"https://github.com/googlemaps/android-maps-utils\" rel=\"nofollow noreferrer\">android-maps-utils</a> library and play around with their GeoJSON samples.</p>\n<p>I hope this helps!</p>\n"}],"owner":{"account_id":28942034,"reputation":31,"user_id":22168412,"display_name":"Hardik Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1688446944,"creation_date":1688394555,"question_id":76605706,"body_markdown":"[Sample Image][1]\r\n\r\nI have searched for hours in the official maps docs and there was no clue how to add city boundaries in android google map. Its available for web in JavaScript https://developers.google.com/maps/documentation/javascript/dds-boundaries/style-polygon#maps_boundaries_simple-javascript. but for android its not available. Is this possible in android some way?\r\n\r\n\r\n\r\nI tried to Style a boundary polygon, data-driven style in map but didn&#39;t find anything useful.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LEn7t.jpg","title":"How to show the places or Area boundaries in google map Android?","body":"<p><a href=\"https://i.stack.imgur.com/LEn7t.jpg\" rel=\"nofollow noreferrer\">Sample Image</a></p>\n<p>I have searched for hours in the official maps docs and there was no clue how to add city boundaries in android google map. Its available for web in JavaScript <a href=\"https://developers.google.com/maps/documentation/javascript/dds-boundaries/style-polygon#maps_boundaries_simple-javascript\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/javascript/dds-boundaries/style-polygon#maps_boundaries_simple-javascript</a>. but for android its not available. Is this possible in android some way?</p>\n<p>I tried to Style a boundary polygon, data-driven style in map but didn't find anything useful.</p>\n"},{"tags":["java","spring","java-11"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686817033,"post_id":76479698,"comment_id":134852212,"body_markdown":"Your code snippet produces a `Date` object, not an output `String`. If you have problems with the output, include the code that produces the output.","body":"Your code snippet produces a <code>Date</code> object, not an output <code>String</code>. If you have problems with the output, include the code that produces the output."},{"owner":{"account_id":2540600,"reputation":1123,"user_id":2206489,"accept_rate":100,"display_name":"Keshav"},"score":0,"creation_date":1688446119,"post_id":76479698,"comment_id":135071456,"body_markdown":"@Holger Yes. Expected outcome is Date object only!","body":"@Holger Yes. Expected outcome is Date object only!"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688448087,"post_id":76479698,"comment_id":135071621,"body_markdown":"but (as already commented/answered multiple times on this site) a `java.util.Date`: (i) has no format (just a default format for the return of its `toString()` method); (ii) it represents an instant in time, despite its name - so it always have a *time component*; **(iii)** strongly recommended not to use the `Date`, `Calendar`, `SimpleDateFormat`, ... classes - these were outdated almost 10 years ago (Java 8) by the `java.time` package","body":"but (as already commented/answered multiple times on this site) a <code>java.util.Date</code>: (i) has no format (just a default format for the return of its <code>toString()</code> method); (ii) it represents an instant in time, despite its name - so it always have a <i>time component</i>; <b>(iii)</b> strongly recommended not to use the <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code>, ... classes - these were outdated almost 10 years ago (Java 8) by the <code>java.time</code> package"}],"answers":[{"tags":[],"owner":{"account_id":15166915,"reputation":36,"user_id":10944185,"display_name":"R.wa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686814251,"creation_date":1686812133,"answer_id":76479861,"question_id":76479698,"body_markdown":"1, there&#39;s an inconsistency in this string. December 6, 2002, was actually a Friday, not a Tuesday. The &quot;Tue&quot; at the beginning of the string seems to be a mistake.\r\n\r\n2,  The newer java.time package (available in Java 8 and later) provides a more robust framework for handling date and time.\r\n```Java\r\nString dateStr = &quot;Tue Dec 06 00:00:00 EDT 2002&quot;;\r\n\r\n// Adjust the date string to omit the day of the week.\r\ndateStr = dateStr.substring(4);\r\n\r\nDateTimeFormatter parseFormat = DateTimeFormatter.ofPattern(&quot;MMM dd HH:mm:ss z yyyy&quot;, Locale.US);\r\nZonedDateTime dateTime = ZonedDateTime.parse(dateStr, parseFormat);\r\n\r\nDateTimeFormatter outputFormat = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\nString outputDateStr = outputFormat.format(dateTime);\r\n\r\nSystem.out.println(outputDateStr);\r\n```","title":"Remove timezone/time element from Date object in Java 11","body":"<p>1, there's an inconsistency in this string. December 6, 2002, was actually a Friday, not a Tuesday. The &quot;Tue&quot; at the beginning of the string seems to be a mistake.</p>\n<p>2,  The newer java.time package (available in Java 8 and later) provides a more robust framework for handling date and time.</p>\n<pre><code>String dateStr = &quot;Tue Dec 06 00:00:00 EDT 2002&quot;;\n\n// Adjust the date string to omit the day of the week.\ndateStr = dateStr.substring(4);\n\nDateTimeFormatter parseFormat = DateTimeFormatter.ofPattern(&quot;MMM dd HH:mm:ss z yyyy&quot;, Locale.US);\nZonedDateTime dateTime = ZonedDateTime.parse(dateStr, parseFormat);\n\nDateTimeFormatter outputFormat = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\nString outputDateStr = outputFormat.format(dateTime);\n\nSystem.out.println(outputDateStr);\n</code></pre>\n"}],"owner":{"account_id":2540600,"reputation":1123,"user_id":2206489,"accept_rate":100,"display_name":"Keshav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76479861,"answer_count":1,"score":0,"last_activity_date":1688446153,"creation_date":1686810504,"question_id":76479698,"body_markdown":"I have below string being fetched:\r\n\r\n&gt;    String dateStr = &quot;Tue Dec 06 00:00:00 EDT 2002&quot;;\r\n\r\nBut when I am parsing using the below `DateFormat` object shown as below\r\n\r\n     DateFormat myDateFormat = new SimpleDateFormat(&quot;E MMM dd HH:mm:ss z yyyy&quot;);\r\n     Date myDate=dateFormatTime.parse(myDateFormat);\r\n\r\nEven if I try to format or parse the resultant `myDate` object , I am not able to remove the timezone/time constraint from the resultant Date object.\r\n\r\nExpected output is  `Date` object of just `DD/MM/YYYY` format only.\r\n","title":"Remove timezone/time element from Date object in Java 11","body":"<p>I have below string being fetched:</p>\n<blockquote>\n<p>String dateStr = &quot;Tue Dec 06 00:00:00 EDT 2002&quot;;</p>\n</blockquote>\n<p>But when I am parsing using the below <code>DateFormat</code> object shown as below</p>\n<pre><code> DateFormat myDateFormat = new SimpleDateFormat(&quot;E MMM dd HH:mm:ss z yyyy&quot;);\n Date myDate=dateFormatTime.parse(myDateFormat);\n</code></pre>\n<p>Even if I try to format or parse the resultant <code>myDate</code> object , I am not able to remove the timezone/time constraint from the resultant Date object.</p>\n<p>Expected output is  <code>Date</code> object of just <code>DD/MM/YYYY</code> format only.</p>\n"},{"tags":["java","spring","scheduling","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1291801761,"creation_date":1291801761,"answer_id":4386095,"question_id":4385719,"body_markdown":"Quartz is an order of magnitude more complex than Spring&#39;s built in scheduler, including support for persistent, transactional and distributed jobs. It&#39;s a bit of a pig, though, even with Spring&#39;s API support. \r\n\r\nIf all you need to is to execute methods on a bean every X seconds, or on a cron schedule, then `@Scheduled` (or the various options in Spring&#39;s [`&lt;task&gt;` config schema][1]) is probably enough\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/scheduling.html#scheduling-task-namespace","title":"Spring Scheduling: @Scheduled vs Quartz","body":"<p>Quartz is an order of magnitude more complex than Spring's built in scheduler, including support for persistent, transactional and distributed jobs. It's a bit of a pig, though, even with Spring's API support. </p>\n\n<p>If all you need to is to execute methods on a bean every X seconds, or on a cron schedule, then <code>@Scheduled</code> (or the various options in Spring's <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/scheduling.html#scheduling-task-namespace\" rel=\"noreferrer\"><code>&lt;task&gt;</code> config schema</a>) is probably enough</p>\n"},{"tags":[],"owner":{"account_id":11026111,"reputation":2872,"user_id":8098978,"display_name":"lzagkaretos"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1505416008,"creation_date":1505416008,"answer_id":46226560,"question_id":4385719,"body_markdown":"I have to state my own experience regarding use of `@Scheduled` versus `Quartz` as scheduling implementation in a Spring application.\r\n\r\nScheduling jobs had the following requirements:\r\n\r\n - End users should have the ability to save and schedule (define execution time) their own tasks\r\n - Scheduled jobs during server downtime should not get omitted from jobs queue\r\n\r\nHence, we have to try and use Quartz implementation (version 2.2.3) in order to support persistence of jobs in a database. Some basic conclusions are the following:\r\n\r\n - Integration with a Spring 4 MVC application is not difficult at all using quartz.properties file.\r\n - We had the ability to choose a second database for storing the jobs from the main database.\r\n - Jobs scheduled during server downtime begin running as long as server comes up.\r\n - As a bonus we managed to maintain in main database some useful (and more user-oriented) information about user defined scheduled jobs using custom `JobListener` and `TriggerListener`.\r\n - Quartz is a very helpful library in applications with more complex scheduling requirements.","title":"Spring Scheduling: @Scheduled vs Quartz","body":"<p>I have to state my own experience regarding use of <code>@Scheduled</code> versus <code>Quartz</code> as scheduling implementation in a Spring application.</p>\n\n<p>Scheduling jobs had the following requirements:</p>\n\n<ul>\n<li>End users should have the ability to save and schedule (define execution time) their own tasks</li>\n<li>Scheduled jobs during server downtime should not get omitted from jobs queue</li>\n</ul>\n\n<p>Hence, we have to try and use Quartz implementation (version 2.2.3) in order to support persistence of jobs in a database. Some basic conclusions are the following:</p>\n\n<ul>\n<li>Integration with a Spring 4 MVC application is not difficult at all using quartz.properties file.</li>\n<li>We had the ability to choose a second database for storing the jobs from the main database.</li>\n<li>Jobs scheduled during server downtime begin running as long as server comes up.</li>\n<li>As a bonus we managed to maintain in main database some useful (and more user-oriented) information about user defined scheduled jobs using custom <code>JobListener</code> and <code>TriggerListener</code>.</li>\n<li>Quartz is a very helpful library in applications with more complex scheduling requirements.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15404279,"reputation":149,"user_id":11112803,"display_name":"Cyril Sojan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551337246,"creation_date":1551336529,"answer_id":54919935,"question_id":4385719,"body_markdown":"In Spring you could schedule task by using FixedRate,FixedDelay and cron. But most of the scheduled job requires dynamic handling of execution time. So in this scenario it is better to use Quartz as it provide the option to store scheduled jobs in DBJobstore as well as RAMJobstore.","title":"Spring Scheduling: @Scheduled vs Quartz","body":"<p>In Spring you could schedule task by using FixedRate,FixedDelay and cron. But most of the scheduled job requires dynamic handling of execution time. So in this scenario it is better to use Quartz as it provide the option to store scheduled jobs in DBJobstore as well as RAMJobstore.</p>\n"},{"tags":[],"owner":{"account_id":3558487,"reputation":1004,"user_id":2971549,"display_name":"Saman Salehi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688445967,"creation_date":1558505286,"answer_id":56250311,"question_id":4385719,"body_markdown":"According to [Quartz Documentation][1], we can use some more complex features that don&#39;t exist in @Scheduler. For example:\r\n\r\n 1. in Quartz we can place a scheduler in stand-by mode with\r\n    `scheduler.standby();` and re schedule it with `scheduler.start();`.\r\n 2. shutting down a scheduler before the execution of the job or after that with\r\n    `scheduler.shutdown(true);` and `scheduler.shutdown(false);`\r\n 3. storing a job for later use and when you need the job you can\r\n    triggered it.\r\n\r\n```\r\nJobDetail job1 =newJob(MyJobClass.class).\r\nwithIdentity(&quot;job1&quot;,&quot;group1&quot;).\r\nstoreDurably().\r\nbuild();\r\n```\r\n \r\n 4. Add the new job to the scheduler, instructing it to &quot;replace&quot;  the existing job with the given name and group (if any).\r\n   \r\n```\r\nJobDetail job1 = newJob(MyJobClass.class).\r\nwithIdentity(&quot;job1&quot;, &quot;group1&quot;).\r\nbuild();\r\n```\r\n\r\n[1]: http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/index.html","title":"Spring Scheduling: @Scheduled vs Quartz","body":"<p>According to <a href=\"http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/index.html\" rel=\"nofollow noreferrer\">Quartz Documentation</a>, we can use some more complex features that don't exist in @Scheduler. For example:</p>\n<ol>\n<li>in Quartz we can place a scheduler in stand-by mode with\n<code>scheduler.standby();</code> and re schedule it with <code>scheduler.start();</code>.</li>\n<li>shutting down a scheduler before the execution of the job or after that with\n<code>scheduler.shutdown(true);</code> and <code>scheduler.shutdown(false);</code></li>\n<li>storing a job for later use and when you need the job you can\ntriggered it.</li>\n</ol>\n<pre><code>JobDetail job1 =newJob(MyJobClass.class).\nwithIdentity(&quot;job1&quot;,&quot;group1&quot;).\nstoreDurably().\nbuild();\n</code></pre>\n<ol start=\"4\">\n<li>Add the new job to the scheduler, instructing it to &quot;replace&quot;  the existing job with the given name and group (if any).</li>\n</ol>\n<pre><code>JobDetail job1 = newJob(MyJobClass.class).\nwithIdentity(&quot;job1&quot;, &quot;group1&quot;).\nbuild();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5433678,"reputation":21,"user_id":4323757,"display_name":"Arpit Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678818060,"creation_date":1678818060,"answer_id":75736987,"question_id":4385719,"body_markdown":"Spring provides an easy way to implement API for scheduling jobs. It works great until we deploy multiple instances of our application.\r\n\r\nSpring, by default, cannot handle scheduler synchronization over multiple instances. It executes the jobs simultaneously on every node instead.\r\n\r\nYou can look at ShedLock — a Java library that makes sure our scheduled tasks run only once at the same time and is an alternative to Quartz.","title":"Spring Scheduling: @Scheduled vs Quartz","body":"<p>Spring provides an easy way to implement API for scheduling jobs. It works great until we deploy multiple instances of our application.</p>\n<p>Spring, by default, cannot handle scheduler synchronization over multiple instances. It executes the jobs simultaneously on every node instead.</p>\n<p>You can look at ShedLock — a Java library that makes sure our scheduled tasks run only once at the same time and is an alternative to Quartz.</p>\n"}],"owner":{"account_id":180690,"reputation":3838,"user_id":414173,"accept_rate":50,"display_name":"chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49879,"favorite_count":0,"down_vote_count":1,"up_vote_count":64,"answer_count":5,"score":63,"last_activity_date":1688445967,"creation_date":1291799092,"question_id":4385719,"body_markdown":"I&#39;m reading the [Spring 3.0 doc][1]s regarding scheduling. I&#39;m leaning towards Spring&#39;s JobDetailBean for Quartz. However, the **@Scheduled** annotation has captured my eye. It appears this is another way of scheduling task using the Spring Framework. Based on the docs, Spring provides three way of scheduling:\r\n\r\n 1. @Scheduled\r\n 2. Via Quartz\r\n 3. Via JDK Timer\r\n\r\nI have no interest in the JDK Timer. Why should I choose @Scheduled over Quartz? (When I mention Quartz I mean using Spring&#39;s bean wrapper for Quartz).\r\n\r\nLet&#39;s say my use case is complex enough that I will be communicating to a third-party web service to import and export data at specified intervals.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/scheduling.html","title":"Spring Scheduling: @Scheduled vs Quartz","body":"<p>I'm reading the <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/scheduling.html\" rel=\"noreferrer\">Spring 3.0 doc</a>s regarding scheduling. I'm leaning towards Spring's JobDetailBean for Quartz. However, the <strong>@Scheduled</strong> annotation has captured my eye. It appears this is another way of scheduling task using the Spring Framework. Based on the docs, Spring provides three way of scheduling:</p>\n\n<ol>\n<li>@Scheduled</li>\n<li>Via Quartz</li>\n<li>Via JDK Timer</li>\n</ol>\n\n<p>I have no interest in the JDK Timer. Why should I choose @Scheduled over Quartz? (When I mention Quartz I mean using Spring's bean wrapper for Quartz).</p>\n\n<p>Let's say my use case is complex enough that I will be communicating to a third-party web service to import and export data at specified intervals.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"score":0,"creation_date":1688362749,"post_id":76596710,"comment_id":135058827,"body_markdown":"Are you using spring boot version 3?","body":"Are you using spring boot version 3?"},{"owner":{"account_id":28918510,"reputation":31,"user_id":22149985,"display_name":"igorbuosi"},"score":0,"creation_date":1688430068,"post_id":76596710,"comment_id":135070248,"body_markdown":"Yes, I am.  &lt;version&gt;3.0.4&lt;/version&gt;","body":"Yes, I am.  &lt;version&gt;3.0.4&lt;/version&gt;"},{"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"score":0,"creation_date":1688445260,"post_id":76596710,"comment_id":135071399,"body_markdown":"so you have to upgrade your security config code for spring boot 3. In spring boot 3 some methods and annotations are deprecated. You can take reference from my code. Answer is available below.","body":"so you have to upgrade your security config code for spring boot 3. In spring boot 3 some methods and annotations are deprecated. You can take reference from my code. Answer is available below."}],"answers":[{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688278917,"creation_date":1688278917,"answer_id":76597638,"question_id":76596710,"body_markdown":"You have to disable frameOptions and allow h2 endpoints. Also if you will use swagger etc you have to allow its endpoints too. Here is working example:\r\n\r\n```\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n  ............\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .headers().frameOptions().disable().and()\r\n                .csrf().disable()\r\n                .cors().and()\r\n                .authorizeRequests(auth -&gt; {\r\n                    auth.antMatchers(&quot;/api/admin&quot;).hasAuthority(&quot;ADMIN&quot;);\r\n                    auth.antMatchers(&quot;/api/user&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;USER&quot;);\r\n                    auth.anyRequest().authenticated();\r\n                })\r\n                .formLogin().disable()\r\n                .httpBasic().disable()\r\n                .exceptionHandling().accessDeniedHandler(accessDeniedHandler)\r\n                .authenticationEntryPoint(authenticationEntryPoint)\r\n                .and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.ignoring().antMatchers(&quot;/api/public&quot;,\r\n                &quot;/h2-console/**&quot;,\r\n                &quot;/swagger-resources/**&quot;,\r\n                &quot;/swagger-ui.html/**&quot;,\r\n                &quot;/swagger-resources/**&quot;,\r\n                &quot;/swagger-ui/**&quot;,\r\n                &quot;/v3/api-docs/**&quot;);\r\n    }\r\n\r\n}\r\n\r\n```","title":"Class SecurityConfig without WebSecurityConfigurerAdapter","body":"<p>You have to disable frameOptions and allow h2 endpoints. Also if you will use swagger etc you have to allow its endpoints too. Here is working example:</p>\n<pre><code>\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n  ............\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .headers().frameOptions().disable().and()\n                .csrf().disable()\n                .cors().and()\n                .authorizeRequests(auth -&gt; {\n                    auth.antMatchers(&quot;/api/admin&quot;).hasAuthority(&quot;ADMIN&quot;);\n                    auth.antMatchers(&quot;/api/user&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;USER&quot;);\n                    auth.anyRequest().authenticated();\n                })\n                .formLogin().disable()\n                .httpBasic().disable()\n                .exceptionHandling().accessDeniedHandler(accessDeniedHandler)\n                .authenticationEntryPoint(authenticationEntryPoint)\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().antMatchers(&quot;/api/public&quot;,\n                &quot;/h2-console/**&quot;,\n                &quot;/swagger-resources/**&quot;,\n                &quot;/swagger-ui.html/**&quot;,\n                &quot;/swagger-resources/**&quot;,\n                &quot;/swagger-ui/**&quot;,\n                &quot;/v3/api-docs/**&quot;);\n    }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688445457,"creation_date":1688445457,"answer_id":76609438,"question_id":76596710,"body_markdown":"Security config file : \r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfig {\r\n    \r\n        private final UserDetailServiceImpl userDetailsService;\r\n    \r\n    \r\n        private final BCryptPasswordEncoder encoder;\r\n    \r\n        private final JwtFilter filter;\r\n    \r\n        private final JwtAuthenticationEntryPoint point;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \r\n            http.csrf(csrf -&gt; csrf.disable())\r\n                    .authorizeRequests().\r\n                    requestMatchers(&quot;/category/add&quot;)\r\n                    .authenticated()\r\n                    .requestMatchers(&quot;/authenticate&quot;,&quot;/register&quot;).permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and().exceptionHandling(ex -&gt; ex.authenticationEntryPoint(point))\r\n                    .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n            http.addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class);\r\n            return http.build();\r\n        }\r\n\r\n     @Bean\r\n        public AuthenticationManager authenticationManager() throws Exception {\r\n            return new CustomAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider() {\r\n            DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n            authenticationProvider.setUserDetailsService(userDetailsService);\r\n            authenticationProvider.setPasswordEncoder(encoder);\r\n            return authenticationProvider;\r\n        }\r\n    }\r\n\r\nCustomAuthentcationManager\r\n\r\n    public class CustomAuthenticationManager implements AuthenticationManager {\r\n    \r\n        @Autowired\r\n        private DaoAuthenticationProvider authenticationProvider;\r\n    \r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            return authenticationProvider.authenticate(authentication);\r\n        }\r\n    }","title":"Class SecurityConfig without WebSecurityConfigurerAdapter","body":"<p>Security config file :</p>\n<pre><code>@EnableWebSecurity\n@Configuration\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final UserDetailServiceImpl userDetailsService;\n\n\n    private final BCryptPasswordEncoder encoder;\n\n    private final JwtFilter filter;\n\n    private final JwtAuthenticationEntryPoint point;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.csrf(csrf -&gt; csrf.disable())\n                .authorizeRequests().\n                requestMatchers(&quot;/category/add&quot;)\n                .authenticated()\n                .requestMatchers(&quot;/authenticate&quot;,&quot;/register&quot;).permitAll()\n                .anyRequest()\n                .authenticated()\n                .and().exceptionHandling(ex -&gt; ex.authenticationEntryPoint(point))\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n        http.addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n\n @Bean\n    public AuthenticationManager authenticationManager() throws Exception {\n        return new CustomAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService);\n        authenticationProvider.setPasswordEncoder(encoder);\n        return authenticationProvider;\n    }\n}\n</code></pre>\n<p>CustomAuthentcationManager</p>\n<pre><code>public class CustomAuthenticationManager implements AuthenticationManager {\n\n    @Autowired\n    private DaoAuthenticationProvider authenticationProvider;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        return authenticationProvider.authenticate(authentication);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28918510,"reputation":31,"user_id":22149985,"display_name":"igorbuosi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1688445457,"creation_date":1688248496,"question_id":76596710,"body_markdown":"I&#39;m taking a spring course and the professor is using an older version of spring boot. I&#39;m trying to use a recent version, however it has some differences in the security part that I&#39;m having trouble with.\r\n\r\nThe biggest problem is in the implementation of SecurityConfig without extending WebConfigurerAdapter.\r\n\r\n**This is the teacher&#39;s example:**\r\n\r\n```\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\tprivate static final String[] PUBLIC_MATCHERS = { &quot;/h2-console/**&quot; };\r\n\r\n\t@Autowired\r\n\tprivate Environment env;\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\tif (Arrays.asList(env.getActiveProfiles()).contains(&quot;test&quot;)) {\r\n\t\t\thttp.headers().frameOptions().disable();\r\n\t\t}\r\n\r\n\t\thttp.cors().and().csrf().disable();\r\n\t\thttp.authorizeRequests().antMatchers(PUBLIC_MATCHERS).permitAll().anyRequest().authenticated();\r\n\r\n\t\thttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n}\r\n```\r\n\r\n**And this is what I did: **\r\n\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfig  {\r\nprivate static final String[] PUBLIC_MATCHERS = {&quot;/h2-console/**&quot;};\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS); //desliga a protecao a csrf, o que permite executar metodos POST,PUT,DELETE sem sessao de usuario\r\n        http.authorizeHttpRequests().requestMatchers(PathRequest.toH2Console()).permitAll().and().headers().frameOptions().disable(); //libera acesso ao h2-console\r\nhttp.cors();\r\n\r\nreturn http.build();\r\n}\r\n```\r\n\r\nWhen I try to access &quot;http://localhost:8080/h2-console/&quot; it&#39;s working normally, but if I try to access something different, the error **403 Forbidden** is returned.\r\n\r\nAccording to the course, if I try to access something different than &quot;h2-console&quot; it should redirect to a login page (browser) or returns the error **401 Unauthorized** (postman)  , example:\r\n[login page](https://i.stack.imgur.com/GbqoY.png)\r\n\r\nWhat should I change to work as expected ?","title":"Class SecurityConfig without WebSecurityConfigurerAdapter","body":"<p>I'm taking a spring course and the professor is using an older version of spring boot. I'm trying to use a recent version, however it has some differences in the security part that I'm having trouble with.</p>\n<p>The biggest problem is in the implementation of SecurityConfig without extending WebConfigurerAdapter.</p>\n<p><strong>This is the teacher's example:</strong></p>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private static final String[] PUBLIC_MATCHERS = { &quot;/h2-console/**&quot; };\n\n    @Autowired\n    private Environment env;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        if (Arrays.asList(env.getActiveProfiles()).contains(&quot;test&quot;)) {\n            http.headers().frameOptions().disable();\n        }\n\n        http.cors().and().csrf().disable();\n        http.authorizeRequests().antMatchers(PUBLIC_MATCHERS).permitAll().anyRequest().authenticated();\n\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n}\n</code></pre>\n<p>**And this is what I did: **</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfig  {\nprivate static final String[] PUBLIC_MATCHERS = {&quot;/h2-console/**&quot;};\n\n    @Autowired\n    private Environment env;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS); //desliga a protecao a csrf, o que permite executar metodos POST,PUT,DELETE sem sessao de usuario\n        http.authorizeHttpRequests().requestMatchers(PathRequest.toH2Console()).permitAll().and().headers().frameOptions().disable(); //libera acesso ao h2-console\nhttp.cors();\n\nreturn http.build();\n}\n</code></pre>\n<p>When I try to access &quot;http://localhost:8080/h2-console/&quot; it's working normally, but if I try to access something different, the error <strong>403 Forbidden</strong> is returned.</p>\n<p>According to the course, if I try to access something different than &quot;h2-console&quot; it should redirect to a login page (browser) or returns the error <strong>401 Unauthorized</strong> (postman)  , example:\n<a href=\"https://i.stack.imgur.com/GbqoY.png\" rel=\"nofollow noreferrer\">login page</a></p>\n<p>What should I change to work as expected ?</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688445144,"creation_date":1688371258,"answer_id":76602863,"question_id":76589292,"body_markdown":"Here&#39;s an example\r\n\r\nA `DriverFactory` object that is responsible for allowing page objects access the driver object\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.Optional;\r\n    import org.openqa.selenium.WebDriver;\r\n    \r\n    public class DriverFactory {\r\n    \r\n      private static final ThreadLocal&lt;WebDriver&gt; webDriver = new ThreadLocal&lt;&gt;();\r\n    \r\n      static void set(WebDriver driver) {\r\n        webDriver.set(driver);\r\n      }\r\n    \r\n      public static WebDriver get() {\r\n        return Optional.ofNullable(webDriver.get())\r\n            .orElseThrow(() -&gt; new IllegalStateException(&quot;Driver is NOT initialised&quot;));\r\n      }\r\n    \r\n      static void remove() {\r\n        webDriver.remove();\r\n        webDriver.set(null);\r\n      }\r\n    }\r\n\r\nHere are the setup and teardown related classes that manage the webdriver lifecycle management\r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import io.cucumber.java.Before;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    \r\n    public class Setup {\r\n    \r\n      @Before\r\n      public void setWebDriver() {\r\n        WebDriver localDriver;\r\n    \r\n        String browser = System.getProperty(&quot;browser&quot;, &quot;chrome&quot;);\r\n        switch (browser) {\r\n          case &quot;chrome&quot;:\r\n            ChromeOptions chromeOptions = new ChromeOptions();\r\n            chromeOptions.addArguments(&quot;[&#39;start-maximized&#39;]&quot;);\r\n            localDriver = new ChromeDriver(chromeOptions);\r\n            break;\r\n          case &quot;firefox&quot;:\r\n            localDriver = new FirefoxDriver();\r\n            localDriver.manage().window().maximize();\r\n            break;\r\n          default:\r\n            throw new IllegalArgumentException(&quot;Browser \\&quot;&quot; + browser + &quot;\\&quot; isn&#39;t supported.&quot;);\r\n        }\r\n        DriverFactory.set(localDriver);\r\n      }\r\n    }\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import io.cucumber.java.After;\r\n    import io.cucumber.java.Scenario;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    \r\n    public class TearDown {\r\n    \r\n      @After\r\n      public void quitDriver(Scenario scenario) {\r\n        WebDriver driver = DriverFactory.get();\r\n        try {\r\n          if (scenario.isFailed()) {\r\n            saveScreenshotsForScenario(driver, scenario);\r\n          }\r\n          driver.quit();\r\n        } finally {\r\n          DriverFactory.remove();\r\n        }\r\n      }\r\n    \r\n      private void saveScreenshotsForScenario(WebDriver driver, Scenario scenario) {\r\n        byte[] screenshot = ((TakesScreenshot) driver)\r\n            .getScreenshotAs(OutputType.BYTES);\r\n        scenario.attach(screenshot, &quot;image/png&quot;, &quot;screenshot&quot;);\r\n      }\r\n    }\r\n\r\nHere&#39;s the base class of all the page objects\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import driver.DriverFactory;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    \r\n    public class BasePage {\r\n    \r\n        public BasePage() {\r\n            PageFactory.initElements(DriverFactory.get(), this);\r\n        }\r\n    \r\n        public WebDriver driver() {\r\n            return DriverFactory.get();\r\n        }\r\n    }\r\n\r\nHere&#39;s how a sample child class would look like\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class HomePage extends BasePage {\r\n    \r\n      private static final String HOME_PAGE_URL = &quot;https://www.google.&quot;;\r\n    \r\n      @FindBy(xpath = &quot;//img[contains(@src,&#39;/images/branding/googlelogo&#39;)]&quot;)\r\n      private WebElement logo;\r\n    \r\n      @FindBy(xpath = &quot;//textarea[@title=&#39;Search&#39;]&quot;)\r\n      private WebElement searchInput;\r\n    \r\n    // rest of the code omitted for brevity\r\n    \r\n    }\r\n\r\n[The official documentation][1] can be followed for specific instructions on parallelism support in cucumber \r\n\r\nFollowing are the maven dependencies that I used for this sample\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n          &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n          &lt;version&gt;7.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n          &lt;version&gt;7.12.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n          &lt;version&gt;7.12.1&lt;/version&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n              &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n          &lt;version&gt;4.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\n**EDIT:**\r\n\r\nLastly here&#39;s how a test class would look like, which would combine all of these along with the feature file and the step definitions (These have been intentionally excluded)\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import io.cucumber.testng.AbstractTestNGCucumberTests;\r\n    import io.cucumber.testng.CucumberOptions;\r\n    import org.testng.annotations.DataProvider;\r\n    \r\n    @CucumberOptions(features = {&quot;src/test/resources/com/automatedtest/sample/Home_page.feature&quot;},\r\n        plugin = {&quot;pretty&quot;,\r\n            &quot;json:target/cucumber_json_reports/home-page.json&quot;,\r\n            &quot;html:target/home-page-html&quot;},\r\n        glue = {&quot;com.automatedtest.sample.infrastructure.driver&quot;,\r\n            &quot;com.automatedtest.sample.homepage&quot;})\r\n    public class HomePageTest extends AbstractTestNGCucumberTests {\r\n    \r\n      @Override\r\n      @DataProvider(parallel = true)\r\n      public Object[][] scenarios() {\r\n        return super.scenarios();\r\n      }\r\n    }\r\n\r\nHere in `@CucumberOptions`:\r\n\r\n - `features` - represents the location of the feature files that this test class represents\r\n - `glue` - represents the packages which contains your step definitions\r\n - `plugin` - captures the list of formatters that will render the report. We are essentially configuring our formatter such that: \r\n   - we get a pretty printed output on the console (`pretty`), \r\n   - a JSON\r\n   report gets generated in `target/cucumber_json_reports` with its name\r\n   as `home-page.json`\r\n   - a html report gets generated in `target` directory with its name as `home-page-html`\r\n\r\n  [1]: https://cucumber.io/docs/guides/parallel-execution/?lang=java#testng","title":"Java selenium - how to implement ThreadLocal&lt;WebDriver&gt; in page factory pattern framework?","body":"<p>Here's an example</p>\n<p>A <code>DriverFactory</code> object that is responsible for allowing page objects access the driver object</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Optional;\nimport org.openqa.selenium.WebDriver;\n\npublic class DriverFactory {\n\n  private static final ThreadLocal&lt;WebDriver&gt; webDriver = new ThreadLocal&lt;&gt;();\n\n  static void set(WebDriver driver) {\n    webDriver.set(driver);\n  }\n\n  public static WebDriver get() {\n    return Optional.ofNullable(webDriver.get())\n        .orElseThrow(() -&gt; new IllegalStateException(&quot;Driver is NOT initialised&quot;));\n  }\n\n  static void remove() {\n    webDriver.remove();\n    webDriver.set(null);\n  }\n}\n</code></pre>\n<p>Here are the setup and teardown related classes that manage the webdriver lifecycle management</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.cucumber.java.Before;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class Setup {\n\n  @Before\n  public void setWebDriver() {\n    WebDriver localDriver;\n\n    String browser = System.getProperty(&quot;browser&quot;, &quot;chrome&quot;);\n    switch (browser) {\n      case &quot;chrome&quot;:\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(&quot;['start-maximized']&quot;);\n        localDriver = new ChromeDriver(chromeOptions);\n        break;\n      case &quot;firefox&quot;:\n        localDriver = new FirefoxDriver();\n        localDriver.manage().window().maximize();\n        break;\n      default:\n        throw new IllegalArgumentException(&quot;Browser \\&quot;&quot; + browser + &quot;\\&quot; isn't supported.&quot;);\n    }\n    DriverFactory.set(localDriver);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import io.cucumber.java.After;\nimport io.cucumber.java.Scenario;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\n\npublic class TearDown {\n\n  @After\n  public void quitDriver(Scenario scenario) {\n    WebDriver driver = DriverFactory.get();\n    try {\n      if (scenario.isFailed()) {\n        saveScreenshotsForScenario(driver, scenario);\n      }\n      driver.quit();\n    } finally {\n      DriverFactory.remove();\n    }\n  }\n\n  private void saveScreenshotsForScenario(WebDriver driver, Scenario scenario) {\n    byte[] screenshot = ((TakesScreenshot) driver)\n        .getScreenshotAs(OutputType.BYTES);\n    scenario.attach(screenshot, &quot;image/png&quot;, &quot;screenshot&quot;);\n  }\n}\n</code></pre>\n<p>Here's the base class of all the page objects</p>\n<pre class=\"lang-java prettyprint-override\"><code>import driver.DriverFactory;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.PageFactory;\n\npublic class BasePage {\n\n    public BasePage() {\n        PageFactory.initElements(DriverFactory.get(), this);\n    }\n\n    public WebDriver driver() {\n        return DriverFactory.get();\n    }\n}\n</code></pre>\n<p>Here's how a sample child class would look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HomePage extends BasePage {\n\n  private static final String HOME_PAGE_URL = &quot;https://www.google.&quot;;\n\n  @FindBy(xpath = &quot;//img[contains(@src,'/images/branding/googlelogo')]&quot;)\n  private WebElement logo;\n\n  @FindBy(xpath = &quot;//textarea[@title='Search']&quot;)\n  private WebElement searchInput;\n\n// rest of the code omitted for brevity\n\n}\n</code></pre>\n<p><a href=\"https://cucumber.io/docs/guides/parallel-execution/?lang=java#testng\" rel=\"nofollow noreferrer\">The official documentation</a> can be followed for specific instructions on parallelism support in cucumber</p>\n<p>Following are the maven dependencies that I used for this sample</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n      &lt;version&gt;7.12.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n      &lt;version&gt;7.12.1&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.testng&lt;/groupId&gt;\n          &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;4.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>Lastly here's how a test class would look like, which would combine all of these along with the feature file and the step definitions (These have been intentionally excluded)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.cucumber.testng.AbstractTestNGCucumberTests;\nimport io.cucumber.testng.CucumberOptions;\nimport org.testng.annotations.DataProvider;\n\n@CucumberOptions(features = {&quot;src/test/resources/com/automatedtest/sample/Home_page.feature&quot;},\n    plugin = {&quot;pretty&quot;,\n        &quot;json:target/cucumber_json_reports/home-page.json&quot;,\n        &quot;html:target/home-page-html&quot;},\n    glue = {&quot;com.automatedtest.sample.infrastructure.driver&quot;,\n        &quot;com.automatedtest.sample.homepage&quot;})\npublic class HomePageTest extends AbstractTestNGCucumberTests {\n\n  @Override\n  @DataProvider(parallel = true)\n  public Object[][] scenarios() {\n    return super.scenarios();\n  }\n}\n</code></pre>\n<p>Here in <code>@CucumberOptions</code>:</p>\n<ul>\n<li><code>features</code> - represents the location of the feature files that this test class represents</li>\n<li><code>glue</code> - represents the packages which contains your step definitions</li>\n<li><code>plugin</code> - captures the list of formatters that will render the report. We are essentially configuring our formatter such that:\n<ul>\n<li>we get a pretty printed output on the console (<code>pretty</code>),</li>\n<li>a JSON\nreport gets generated in <code>target/cucumber_json_reports</code> with its name\nas <code>home-page.json</code></li>\n<li>a html report gets generated in <code>target</code> directory with its name as <code>home-page-html</code></li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688445144,"creation_date":1688131092,"question_id":76589292,"body_markdown":"Could you tell me how to implement `static ThreadLocal&lt;WebDriver&gt; driver = new ThreadLocal&lt;WebDriver&gt;` to enable parallel testing possible ?\r\n\r\nThis is my base Page where webDriver is initialized\r\n\r\n    public class Page {\r\n    \r\n    @Getter @Setter\r\n    public static WebDriver driver;\r\n    \r\n    public Page(WebDriver driver) {\r\n        this.driver = driver;\r\n        PageFactory.initElements(driver, this);\r\n    }\r\n\r\n    }\r\n\r\nThis is my step def class:\r\n\r\n    import static utils.Page.driver;\r\n    \r\n    public class LandingPageStepDefs {\r\n    \r\n        private LandingPage landingPage = new LandingPage(driver);\r\n       \r\n        @And(&quot;Customer does something&quot;)\r\n        public void customerDoesSomething() {\r\n            landingPage.doSomething();\r\n        }\r\n    }\r\n\r\nThis is my page object class\r\n\r\n    public class LandingPage extends Page {\r\n    \r\n        @FindBy(xpath = &quot;this is xpath&quot;)\r\n        private WebElement pageWebElement;\r\n    \r\n    }\r\n    \r\n    public LandingPage(WebDriver driver) {\r\n        super(driver);\r\n    }\r\n    \r\n    public void doSomething() {\r\n        pageWebElement.click();\r\n    }","title":"Java selenium - how to implement ThreadLocal&lt;WebDriver&gt; in page factory pattern framework?","body":"<p>Could you tell me how to implement <code>static ThreadLocal&lt;WebDriver&gt; driver = new ThreadLocal&lt;WebDriver&gt;</code> to enable parallel testing possible ?</p>\n<p>This is my base Page where webDriver is initialized</p>\n<pre><code>public class Page {\n\n@Getter @Setter\npublic static WebDriver driver;\n\npublic Page(WebDriver driver) {\n    this.driver = driver;\n    PageFactory.initElements(driver, this);\n}\n\n}\n</code></pre>\n<p>This is my step def class:</p>\n<pre><code>import static utils.Page.driver;\n\npublic class LandingPageStepDefs {\n\n    private LandingPage landingPage = new LandingPage(driver);\n   \n    @And(&quot;Customer does something&quot;)\n    public void customerDoesSomething() {\n        landingPage.doSomething();\n    }\n}\n</code></pre>\n<p>This is my page object class</p>\n<pre><code>public class LandingPage extends Page {\n\n    @FindBy(xpath = &quot;this is xpath&quot;)\n    private WebElement pageWebElement;\n\n}\n\npublic LandingPage(WebDriver driver) {\n    super(driver);\n}\n\npublic void doSomething() {\n    pageWebElement.click();\n}\n</code></pre>\n"},{"tags":["java","text-processing","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1688386539,"post_id":76603330,"comment_id":135063050,"body_markdown":"Can you edit your question and include the HTML that Tika generates via the Body content handler?","body":"Can you edit your question and include the HTML that Tika generates via the Body content handler?"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688443262,"creation_date":1688375090,"question_id":76603330,"body_markdown":"I&#39;m facing an issue with the extracting texts and phrases using Apache Tika. \r\n\r\nI made a unit test where it seems to be missing some expected elements and has additional unexpected elements in the actual results. \r\n\r\nHere&#39;s the `TextExtractor` class implementation:\r\n\r\n```java\r\n\r\npublic class TextExtractor {\r\n\r\n    public String[] extractPhrasesAndWords(InputStream stream) throws IOException, TikaException, SAXException {\r\n        BodyContentHandler handler = new BodyContentHandler(-1);\r\n        Metadata metadata = new Metadata();\r\n        Parser parser = new AutoDetectParser();\r\n        parser.parse(stream, handler, metadata, new ParseContext());\r\n\r\n        String content = handler.toString();\r\n\r\n        // Splitting into phrases\r\n        String[] phrases = content.split(&quot;: &quot;);\r\n\r\n        // Splitting into words\r\n        String[] words = content.split(&quot;\\\\s+&quot;);\r\n\r\n        // Combine both arrays\r\n        String[] result = Arrays.copyOf(phrases, phrases.length + words.length);\r\n        System.arraycopy(words, 0, result, phrases.length, words.length);\r\n\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nAnd here&#39;s the corresponding JUnit test, `TextExtractorTest`:\r\n\r\n```java\r\npublic class TextExtractorTest {\r\n\r\n    @Test\r\n    public void testExtractPhrasesAndWords() throws IOException, TikaException, SAXException {\r\n        String complexHtml = &quot;&lt;html&gt;&lt;body&gt;&quot; +\r\n                &quot;&lt;div&gt;&quot; +\r\n                &quot;&lt;h2&gt;Gravenhurst, or Thoughts on Good and Evil&lt;/h2&gt;&quot; +\r\n                &quot;&lt;p&gt;William Henry Smith (1808 - 1872)&lt;/p&gt;&quot; +\r\n                &quot;&lt;p&gt;Complete | Collaborative | English&lt;/p&gt;&quot; +\r\n                &quot;&lt;/div&gt;&quot; +\r\n                &quot;&lt;div&gt;&quot; +\r\n                &quot;&lt;h2&gt;The Voyagers: Being Legends and Romances of Atlantic Discovery&lt;/h2&gt;&quot; +\r\n                &quot;&lt;p&gt;P&#225;draic Colum (1881 - 1972)&lt;/p&gt;&quot; +\r\n                &quot;&lt;p&gt;Complete | Collaborative | English&lt;/p&gt;&quot; +\r\n                &quot;&lt;/div&gt;&quot; +\r\n                // add other mock listings here as needed\r\n                &quot;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\r\n        InputStream stream = new ByteArrayInputStream(complexHtml.getBytes());\r\n\r\n        TextExtractor extractor = new TextExtractor();\r\n        String[] result = extractor.extractPhrasesAndWords(stream);\r\n\r\n        // expected array here\r\n        String[] expected = {\r\n            &quot;Gravenhurst, or Thoughts on Good and Evil&quot;,\r\n            &quot;William Henry Smith (1808 - 1872)&quot;,\r\n            &quot;Complete | Collaborative | English&quot;,\r\n            &quot;The Voyagers&quot;,\r\n            &quot;Being Legends and Romances of Atlantic Discovery&quot;,\r\n            &quot;P&#225;draic Colum (1881 - 1972)&quot;,\r\n            &quot;Complete | Collaborative | English&quot;,\r\n            // individual words and symbols\r\n            &quot;Gravenhurst,&quot;,\r\n            &quot;or&quot;,\r\n            &quot;Thoughts&quot;,\r\n            &quot;on&quot;,\r\n            &quot;Good&quot;,\r\n            &quot;and&quot;,\r\n            &quot;Evil&quot;,\r\n            &quot;William&quot;,\r\n            &quot;Henry&quot;,\r\n            &quot;Smith&quot;,\r\n            &quot;(1808&quot;,\r\n            &quot;-&quot;,\r\n            &quot;1872)&quot;,\r\n            &quot;Complete&quot;,\r\n            &quot;|&quot;,\r\n            &quot;Collaborative&quot;,\r\n            &quot;|&quot;,\r\n            &quot;English&quot;,\r\n            &quot;The&quot;,\r\n            &quot;Voyagers&quot;,\r\n            &quot;Being&quot;,\r\n            &quot;Legends&quot;,\r\n            &quot;and&quot;,\r\n            &quot;Romances&quot;,\r\n            &quot;of&quot;,\r\n            &quot;Atlantic&quot;,\r\n            &quot;Discovery&quot;,\r\n            &quot;P&#225;draic&quot;,\r\n            &quot;Colum&quot;,\r\n            &quot;(1881&quot;,\r\n            &quot;-&quot;,\r\n            &quot;1972)&quot;,\r\n            &quot;Complete&quot;,\r\n            &quot;|&quot;,\r\n            &quot;Collaborative&quot;,\r\n            &quot;|&quot;,\r\n            &quot;English&quot;\r\n        };\r\n\r\n        Set&lt;String&gt; expectedSet = new HashSet&lt;&gt;(Arrays.asList(expected));\r\n        Set&lt;String&gt; resultSet = new HashSet&lt;&gt;(Arrays.asList(result));\r\n\r\n        // Check for missing elements in the expected array\r\n        for (String expectedElement : expected) {\r\n            if (!resultSet.contains(expectedElement)) {\r\n                System.out.println(&quot;Missing from actual: &quot; + expectedElement);\r\n            }\r\n        }\r\n\r\n        // Check for additional elements in the actual array\r\n        for (String actualElement : result) {\r\n            if (!expectedSet.contains(actualElement)) {\r\n                System.out.println(&quot;Additional in actual: &quot; + actualElement);\r\n            }\r\n        }\r\n\r\n        assertArrayEquals(expected, result);\r\n    }\r\n}\r\n```\r\n\r\nThe test output indicates that some elements are missing from the actual results and there are additional unexpected elements:\r\n\r\n```\r\nMissing from actual: Gravenhurst, or Thoughts on Good and Evil\r\nMissing from actual: William Henry Smith (1808 - 1872)\r\nMissing from actual: Complete | Collaborative | English\r\nMissing from actual: The Voyagers\r\nMissing from actual: Being Legends and Romances of Atlantic Discovery\r\nMissing from actual: P&#225;draic Colum (1881 - 1972)\r\nMissing from actual: Complete | Collaborative | English\r\nMissing from actual: Voyagers:\r\nAdditional in actual: Gravenhurst, or Thoughts on Good and Evil\r\nWilliam Henry Smith (1808 - 1872)\r\nComplete | Collaborative | English\r\nAdditional in actual: The Voyagers\r\nAdditional in actual: Being Legends and Romances of Atlantic Discovery\r\nAdditional in actual: P&#225;draic Colum (1881 - 1972)\r\nAdditional in actual: Complete | Collaborative | English\r\n```\r\n\r\nMoreover, the assertion fails with the following message:\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: array lengths differ,\r\nExpected: 44\r\nActual: 39\r\n```\r\n\r\nI have already reviewed the implementation of the `TextExtractor` class, and it seems to be splitting the content correctly into phrases and words. However, the actual results don&#39;t match the expected results.\r\n\r\nAny insights into what might be causing this issue and how to resolve it would be greatly appreciated.\r\n\r\n**Update:**\r\n\r\nHere&#39;s the string content from Tika handler:\r\n\r\n```\r\nGravenhurst, or Thoughts on Good and Evil\r\nWilliam Henry Smith (1808 - 1872)\r\nComplete | Collaborative | English\r\n\r\nThe Voyagers: Being Legends and Romances of Atlantic Discovery\r\nP&#225;draic Colum (1881 - 1972)\r\nComplete | Collaborative | English\r\n```","title":"Extracting phrases and words with Apache Tika","body":"<p>I'm facing an issue with the extracting texts and phrases using Apache Tika.</p>\n<p>I made a unit test where it seems to be missing some expected elements and has additional unexpected elements in the actual results.</p>\n<p>Here's the <code>TextExtractor</code> class implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class TextExtractor {\n\n    public String[] extractPhrasesAndWords(InputStream stream) throws IOException, TikaException, SAXException {\n        BodyContentHandler handler = new BodyContentHandler(-1);\n        Metadata metadata = new Metadata();\n        Parser parser = new AutoDetectParser();\n        parser.parse(stream, handler, metadata, new ParseContext());\n\n        String content = handler.toString();\n\n        // Splitting into phrases\n        String[] phrases = content.split(&quot;: &quot;);\n\n        // Splitting into words\n        String[] words = content.split(&quot;\\\\s+&quot;);\n\n        // Combine both arrays\n        String[] result = Arrays.copyOf(phrases, phrases.length + words.length);\n        System.arraycopy(words, 0, result, phrases.length, words.length);\n\n        return result;\n    }\n}\n</code></pre>\n<p>And here's the corresponding JUnit test, <code>TextExtractorTest</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TextExtractorTest {\n\n    @Test\n    public void testExtractPhrasesAndWords() throws IOException, TikaException, SAXException {\n        String complexHtml = &quot;&lt;html&gt;&lt;body&gt;&quot; +\n                &quot;&lt;div&gt;&quot; +\n                &quot;&lt;h2&gt;Gravenhurst, or Thoughts on Good and Evil&lt;/h2&gt;&quot; +\n                &quot;&lt;p&gt;William Henry Smith (1808 - 1872)&lt;/p&gt;&quot; +\n                &quot;&lt;p&gt;Complete | Collaborative | English&lt;/p&gt;&quot; +\n                &quot;&lt;/div&gt;&quot; +\n                &quot;&lt;div&gt;&quot; +\n                &quot;&lt;h2&gt;The Voyagers: Being Legends and Romances of Atlantic Discovery&lt;/h2&gt;&quot; +\n                &quot;&lt;p&gt;Pádraic Colum (1881 - 1972)&lt;/p&gt;&quot; +\n                &quot;&lt;p&gt;Complete | Collaborative | English&lt;/p&gt;&quot; +\n                &quot;&lt;/div&gt;&quot; +\n                // add other mock listings here as needed\n                &quot;&lt;/body&gt;&lt;/html&gt;&quot;;\n\n        InputStream stream = new ByteArrayInputStream(complexHtml.getBytes());\n\n        TextExtractor extractor = new TextExtractor();\n        String[] result = extractor.extractPhrasesAndWords(stream);\n\n        // expected array here\n        String[] expected = {\n            &quot;Gravenhurst, or Thoughts on Good and Evil&quot;,\n            &quot;William Henry Smith (1808 - 1872)&quot;,\n            &quot;Complete | Collaborative | English&quot;,\n            &quot;The Voyagers&quot;,\n            &quot;Being Legends and Romances of Atlantic Discovery&quot;,\n            &quot;Pádraic Colum (1881 - 1972)&quot;,\n            &quot;Complete | Collaborative | English&quot;,\n            // individual words and symbols\n            &quot;Gravenhurst,&quot;,\n            &quot;or&quot;,\n            &quot;Thoughts&quot;,\n            &quot;on&quot;,\n            &quot;Good&quot;,\n            &quot;and&quot;,\n            &quot;Evil&quot;,\n            &quot;William&quot;,\n            &quot;Henry&quot;,\n            &quot;Smith&quot;,\n            &quot;(1808&quot;,\n            &quot;-&quot;,\n            &quot;1872)&quot;,\n            &quot;Complete&quot;,\n            &quot;|&quot;,\n            &quot;Collaborative&quot;,\n            &quot;|&quot;,\n            &quot;English&quot;,\n            &quot;The&quot;,\n            &quot;Voyagers&quot;,\n            &quot;Being&quot;,\n            &quot;Legends&quot;,\n            &quot;and&quot;,\n            &quot;Romances&quot;,\n            &quot;of&quot;,\n            &quot;Atlantic&quot;,\n            &quot;Discovery&quot;,\n            &quot;Pádraic&quot;,\n            &quot;Colum&quot;,\n            &quot;(1881&quot;,\n            &quot;-&quot;,\n            &quot;1972)&quot;,\n            &quot;Complete&quot;,\n            &quot;|&quot;,\n            &quot;Collaborative&quot;,\n            &quot;|&quot;,\n            &quot;English&quot;\n        };\n\n        Set&lt;String&gt; expectedSet = new HashSet&lt;&gt;(Arrays.asList(expected));\n        Set&lt;String&gt; resultSet = new HashSet&lt;&gt;(Arrays.asList(result));\n\n        // Check for missing elements in the expected array\n        for (String expectedElement : expected) {\n            if (!resultSet.contains(expectedElement)) {\n                System.out.println(&quot;Missing from actual: &quot; + expectedElement);\n            }\n        }\n\n        // Check for additional elements in the actual array\n        for (String actualElement : result) {\n            if (!expectedSet.contains(actualElement)) {\n                System.out.println(&quot;Additional in actual: &quot; + actualElement);\n            }\n        }\n\n        assertArrayEquals(expected, result);\n    }\n}\n</code></pre>\n<p>The test output indicates that some elements are missing from the actual results and there are additional unexpected elements:</p>\n<pre><code>Missing from actual: Gravenhurst, or Thoughts on Good and Evil\nMissing from actual: William Henry Smith (1808 - 1872)\nMissing from actual: Complete | Collaborative | English\nMissing from actual: The Voyagers\nMissing from actual: Being Legends and Romances of Atlantic Discovery\nMissing from actual: Pádraic Colum (1881 - 1972)\nMissing from actual: Complete | Collaborative | English\nMissing from actual: Voyagers:\nAdditional in actual: Gravenhurst, or Thoughts on Good and Evil\nWilliam Henry Smith (1808 - 1872)\nComplete | Collaborative | English\nAdditional in actual: The Voyagers\nAdditional in actual: Being Legends and Romances of Atlantic Discovery\nAdditional in actual: Pádraic Colum (1881 - 1972)\nAdditional in actual: Complete | Collaborative | English\n</code></pre>\n<p>Moreover, the assertion fails with the following message:</p>\n<pre><code>org.opentest4j.AssertionFailedError: array lengths differ,\nExpected: 44\nActual: 39\n</code></pre>\n<p>I have already reviewed the implementation of the <code>TextExtractor</code> class, and it seems to be splitting the content correctly into phrases and words. However, the actual results don't match the expected results.</p>\n<p>Any insights into what might be causing this issue and how to resolve it would be greatly appreciated.</p>\n<p><strong>Update:</strong></p>\n<p>Here's the string content from Tika handler:</p>\n<pre><code>Gravenhurst, or Thoughts on Good and Evil\nWilliam Henry Smith (1808 - 1872)\nComplete | Collaborative | English\n\nThe Voyagers: Being Legends and Romances of Atlantic Discovery\nPádraic Colum (1881 - 1972)\nComplete | Collaborative | English\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot","spring-mvc","fetch-api"],"answers":[{"tags":[],"owner":{"account_id":20185676,"reputation":1,"user_id":14805074,"display_name":"HooDee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688442760,"creation_date":1665715204,"answer_id":74063759,"question_id":74063690,"body_markdown":"try this way:\r\n\r\n     @Configuration\r\n    public class CrossConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOriginPatterns(&quot;*&quot;) // SpringBoot2.4.0 [allowedOriginPatterns]replace[allowedOrigins]\r\n                .allowedMethods(&quot;*&quot;)\r\n                .maxAge(3600)\r\n                .allowCredentials(true);\r\n    }}\r\n   \r\n","title":"Blocked Cross Origin Spring Boot And React","body":"<p>try this way:</p>\n<pre><code> @Configuration\npublic class CrossConfig implements WebMvcConfigurer {\n@Override\npublic void addCorsMappings(CorsRegistry registry) {\n    registry.addMapping(&quot;/**&quot;)\n            .allowedOriginPatterns(&quot;*&quot;) // SpringBoot2.4.0 [allowedOriginPatterns]replace[allowedOrigins]\n            .allowedMethods(&quot;*&quot;)\n            .maxAge(3600)\n            .allowCredentials(true);\n}}\n</code></pre>\n"}],"owner":{"account_id":23805180,"reputation":1,"user_id":17814827,"display_name":"david"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688442760,"creation_date":1665714490,"question_id":74063690,"body_markdown":"I am working on a project in react and spring boot, and I got issue with the cross origin from my spring server, I put the crossOrogin annotation on my controller and is not working me I tried many ways (from spring official web) non of them worked to me. Is anyone can help me please with that I really don’t know what to do. Here is my [controller][1] , ;\r\n    },\r\n\r\n\r\n\r\n\r\nAnd this is my error with react:\r\n[error image for react uskg chrome][2]\r\n\r\n\r\n  [1]: https://github.com/sharas36/SpringBootProject/blob/master/src/main/java/com/springCoupon/controllers/CustomerController.java\r\n  [2]: https://i.stack.imgur.com/W2i8w.jpg","title":"Blocked Cross Origin Spring Boot And React","body":"<p>I am working on a project in react and spring boot, and I got issue with the cross origin from my spring server, I put the crossOrogin annotation on my controller and is not working me I tried many ways (from spring official web) non of them worked to me. Is anyone can help me please with that I really don’t know what to do. Here is my <a href=\"https://github.com/sharas36/SpringBootProject/blob/master/src/main/java/com/springCoupon/controllers/CustomerController.java\" rel=\"nofollow noreferrer\">controller</a> , ;\n},</p>\n<p>And this is my error with react:\n<a href=\"https://i.stack.imgur.com/W2i8w.jpg\" rel=\"nofollow noreferrer\">error image for react uskg chrome</a></p>\n"},{"tags":["java","elasticsearch","out-of-memory","logstash","heap-size"],"answers":[{"tags":[],"owner":{"account_id":5884889,"reputation":329,"user_id":4633210,"display_name":"morallo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1437062310,"creation_date":1437062310,"answer_id":31459156,"question_id":27156145,"body_markdown":"To increase heap size set the LS_HEAP_SIZE environment variable before launching logstash.\r\n\r\n`LS_HEAP_SIZE=2048m`\r\n\r\n","title":"Heap space error while executing logstash with a large dictionary (translate filter)","body":"<p>To increase heap size set the LS_HEAP_SIZE environment variable before launching logstash.</p>\n\n<p><code>LS_HEAP_SIZE=2048m</code></p>\n"},{"tags":[],"owner":{"account_id":4908756,"reputation":3826,"user_id":3954673,"display_name":"onlyme"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1548687613,"creation_date":1548687613,"answer_id":54404652,"question_id":27156145,"body_markdown":"I was having the similar issue. Mine looks \r\n        \r\n    logstash &lt;Sequel::DatabaseError: Java::JavaLang::OutOfMemoryError: Java heap space \r\n\r\nTo solve this, I had to add some settings in my logstash config file.\r\nI added the bellow settings in the jdc section\r\n\r\n    jdbc_paging_enabled =&gt; true\r\n    jdbc_page_size =&gt; 200000\r\n\r\nYou can have a look on this thread\r\n[enter link description here][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/logstash-plugins/logstash-input-jdbc/issues/9","title":"Heap space error while executing logstash with a large dictionary (translate filter)","body":"<p>I was having the similar issue. Mine looks </p>\n\n<pre><code>logstash &lt;Sequel::DatabaseError: Java::JavaLang::OutOfMemoryError: Java heap space \n</code></pre>\n\n<p>To solve this, I had to add some settings in my logstash config file.\nI added the bellow settings in the jdc section</p>\n\n<pre><code>jdbc_paging_enabled =&gt; true\njdbc_page_size =&gt; 200000\n</code></pre>\n\n<p>You can have a look on this thread\n<a href=\"https://github.com/logstash-plugins/logstash-input-jdbc/issues/9\" rel=\"noreferrer\">enter link description here</a></p>\n"},{"tags":[],"owner":{"account_id":28306903,"reputation":1,"user_id":21644773,"display_name":"stouch"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688441206,"creation_date":1688032229,"answer_id":76579935,"question_id":27156145,"body_markdown":"I had a very large conf file and this solution worked in my case : https://discuss.elastic.co/t/changing-logstash-heap-size/69542/4 \r\n\r\n    LS_JAVA_OPTS=&quot;-Xmx2g -Xms1g&quot; bin/logstash -e &quot;&quot;\r\n\r\n","title":"Heap space error while executing logstash with a large dictionary (translate filter)","body":"<p>I had a very large conf file and this solution worked in my case : <a href=\"https://discuss.elastic.co/t/changing-logstash-heap-size/69542/4\" rel=\"nofollow noreferrer\">https://discuss.elastic.co/t/changing-logstash-heap-size/69542/4</a></p>\n<pre><code>LS_JAVA_OPTS=&quot;-Xmx2g -Xms1g&quot; bin/logstash -e &quot;&quot;\n</code></pre>\n"}],"owner":{"account_id":5204361,"reputation":605,"user_id":4162799,"accept_rate":50,"display_name":"Fares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31459156,"answer_count":3,"score":1,"last_activity_date":1688441235,"creation_date":1417025544,"question_id":27156145,"body_markdown":"I get an error \r\n\r\n    java.lang.OutOfMemoryError: Java heap space while executing logstash with a \r\n    large dictionary of 353 mega bytes in translate filter. \r\n\r\nI use it to do a lookup on my input data.\r\n\r\nI tried to allow the JVM to use more memory (with java -Xmx2048m). suppose i do it wrong because it has no effect.\r\n\r\nI tested my config file with &quot;smaller&quot; dictionary and it worked fine. Any help please ? how to give logstash enough RAM to not die ?\r\n\r\nMy config file looks like that :\r\n\r\n    input {  \r\n    file {\r\n      type =&gt; &quot;MERGED DATA&quot;\r\n      path =&gt; &quot;C:\\logstash-1.4.1\\bin\\...&quot;\r\n      start_position =&gt; &quot;beginning&quot;\r\n    \tsincedb_path =&gt; &quot;/dev/null&quot;}} \r\n    \r\n     filter {\r\n    grok {\r\n        match =&gt; [ &quot;message&quot;, &quot;...&quot; ]} \r\n    \r\n    if (...&quot;) {\r\n    translate {dictionary_path =&gt; &quot;C:\\logstash-1.4.1\\bin\\DICTIONARY.yaml&quot;  field =&gt; &quot;Contact_ID&quot;  destination =&gt; &quot;DATA&quot; fallback =&gt; &quot;no match&quot; refresh_interval =&gt; 60  }\r\n    \r\n    grok {match =&gt; [ &quot;DATA&quot;, &quot;...&quot; ]}\r\n    \r\n    mutate {remove_field =&gt; ...}\r\n    \r\n    else if ...\r\n    \r\n    else if ...\r\n     \r\n    mutate {   ... }\r\n    }\r\n    output { if [rabbit] == &quot;INFO&quot; {\r\n      elasticsearch {\r\n        host =&gt; &quot;localhost&quot;\r\n                }\r\n      stdout {}\r\n    }}\r\n","title":"Heap space error while executing logstash with a large dictionary (translate filter)","body":"<p>I get an error</p>\n<pre><code>java.lang.OutOfMemoryError: Java heap space while executing logstash with a \nlarge dictionary of 353 mega bytes in translate filter. \n</code></pre>\n<p>I use it to do a lookup on my input data.</p>\n<p>I tried to allow the JVM to use more memory (with java -Xmx2048m). suppose i do it wrong because it has no effect.</p>\n<p>I tested my config file with &quot;smaller&quot; dictionary and it worked fine. Any help please ? how to give logstash enough RAM to not die ?</p>\n<p>My config file looks like that :</p>\n<pre><code>input {  \nfile {\n  type =&gt; &quot;MERGED DATA&quot;\n  path =&gt; &quot;C:\\logstash-1.4.1\\bin\\...&quot;\n  start_position =&gt; &quot;beginning&quot;\n    sincedb_path =&gt; &quot;/dev/null&quot;}} \n\n filter {\ngrok {\n    match =&gt; [ &quot;message&quot;, &quot;...&quot; ]} \n\nif (...&quot;) {\ntranslate {dictionary_path =&gt; &quot;C:\\logstash-1.4.1\\bin\\DICTIONARY.yaml&quot;  field =&gt; &quot;Contact_ID&quot;  destination =&gt; &quot;DATA&quot; fallback =&gt; &quot;no match&quot; refresh_interval =&gt; 60  }\n\ngrok {match =&gt; [ &quot;DATA&quot;, &quot;...&quot; ]}\n\nmutate {remove_field =&gt; ...}\n\nelse if ...\n\nelse if ...\n \nmutate {   ... }\n}\noutput { if [rabbit] == &quot;INFO&quot; {\n  elasticsearch {\n    host =&gt; &quot;localhost&quot;\n            }\n  stdout {}\n}}\n</code></pre>\n"},{"tags":["java","arrays","join","separator"],"answers":[{"tags":[],"owner":{"account_id":8666113,"reputation":3275,"user_id":6486583,"display_name":"spirit"},"down_vote_count":1,"up_vote_count":89,"is_accepted":true,"score":88,"last_activity_date":1688438686,"creation_date":1468787100,"answer_id":38425624,"question_id":38425623,"body_markdown":"Here&#39;s what I came up with. There are several ways to do this and they depend on the tools you are using.\r\n\r\n---\r\n\r\nUsing `StringUtils` and `ArrayUtils` from [Commons Lang][1]:\r\n\r\n    int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\r\n    String result = StringUtils.join(ArrayUtils.toObject(arr), &quot; - &quot;);\r\n\r\nYou can&#39;t just use `StringUtils.join(arr, &quot; - &quot;);` because `StringUtils` doesn&#39;t have that overloaded version of method. Though, it has method `StringUtils.join(int[], char)`.\r\n\r\nWorks at any Java version, from 1.2.\r\n\r\n---\r\n\r\nUsing Java 8 streams:\r\n\r\nSomething like this:\r\n\r\n    int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\r\n\tString result = Arrays.stream(arr)\r\n\t\t\t.mapToObj(String::valueOf)\r\n\t\t\t.collect(Collectors.joining(&quot; - &quot;));\r\n\r\nIn fact, there are lot of variations to achieve it using streams.\r\n\r\nJava 8&#39;s method `String.join()` works only with strings, so to use it you still have to convert `int[]` to `String[]`.\r\n\r\n    String[] sarr = Arrays.stream(arr).mapToObj(String::valueOf).toArray(String[]::new);\r\n    String result = String.join(&quot; - &quot;, sarr);\r\n\r\n---\r\nIf you&#39;re stuck using Java 7 or earlier with no libraries, you could write your own utility method:\r\n\r\n\tpublic static String myJoin(int[] arr, String separator) {\r\n\t\tif (null == arr || 0 == arr.length) return &quot;&quot;;\r\n\r\n\t\tStringBuilder sb = new StringBuilder(256);\r\n\t\tsb.append(arr[0]);\r\n\r\n\t\t//if (arr.length == 1) return sb.toString();\r\n\r\n\t\tfor (int i = 1; i &lt; arr.length; i++) sb.append(separator).append(arr[i]);\r\n\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\nThen you can do:\r\n\r\n    int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\r\n    String result = myJoin(arr, &quot; - &quot;);\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/","title":"Java: join array of primitives with separator","body":"<p>Here's what I came up with. There are several ways to do this and they depend on the tools you are using.</p>\n<hr />\n<p>Using <code>StringUtils</code> and <code>ArrayUtils</code> from <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Commons Lang</a>:</p>\n<pre><code>int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\nString result = StringUtils.join(ArrayUtils.toObject(arr), &quot; - &quot;);\n</code></pre>\n<p>You can't just use <code>StringUtils.join(arr, &quot; - &quot;);</code> because <code>StringUtils</code> doesn't have that overloaded version of method. Though, it has method <code>StringUtils.join(int[], char)</code>.</p>\n<p>Works at any Java version, from 1.2.</p>\n<hr />\n<p>Using Java 8 streams:</p>\n<p>Something like this:</p>\n<pre><code>int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\nString result = Arrays.stream(arr)\n        .mapToObj(String::valueOf)\n        .collect(Collectors.joining(&quot; - &quot;));\n</code></pre>\n<p>In fact, there are lot of variations to achieve it using streams.</p>\n<p>Java 8's method <code>String.join()</code> works only with strings, so to use it you still have to convert <code>int[]</code> to <code>String[]</code>.</p>\n<pre><code>String[] sarr = Arrays.stream(arr).mapToObj(String::valueOf).toArray(String[]::new);\nString result = String.join(&quot; - &quot;, sarr);\n</code></pre>\n<hr />\n<p>If you're stuck using Java 7 or earlier with no libraries, you could write your own utility method:</p>\n<pre><code>public static String myJoin(int[] arr, String separator) {\n    if (null == arr || 0 == arr.length) return &quot;&quot;;\n\n    StringBuilder sb = new StringBuilder(256);\n    sb.append(arr[0]);\n\n    //if (arr.length == 1) return sb.toString();\n\n    for (int i = 1; i &lt; arr.length; i++) sb.append(separator).append(arr[i]);\n\n    return sb.toString();\n}\n</code></pre>\n<p>Then you can do:</p>\n<pre><code>int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\nString result = myJoin(arr, &quot; - &quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1453902,"reputation":3608,"user_id":1370062,"accept_rate":96,"display_name":"RMachnik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1468788187,"creation_date":1468787548,"answer_id":38425673,"question_id":38425623,"body_markdown":"You can use Guava for joining elements. More examples and docs you can find there. https://github.com/google/guava/wiki/StringsExplained\r\n\r\n    Joiner.on(&quot;-&quot;)\r\n          .join(texts);\r\n\r\nTo be more precise you should firstly wrap your array into a `List` with [`Arrays.asList()`][1] or Guava&#39;s [primitive-friendly][2] equivalents.\r\n\r\n    Joiner.on(&quot;-&quot;)\r\n          .join(Arrays.asList(1, 2, 3, 4, 5, 6, 7));\r\n\r\n    Joiner.on(&quot;-&quot;)\r\n          .join(Ints.asList(arr));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-\r\n  [2]: https://github.com/google/guava/wiki/PrimitivesExplained#primitive-array-utilities","title":"Java: join array of primitives with separator","body":"<p>You can use Guava for joining elements. More examples and docs you can find there. <a href=\"https://github.com/google/guava/wiki/StringsExplained\" rel=\"nofollow\">https://github.com/google/guava/wiki/StringsExplained</a></p>\n\n<pre><code>Joiner.on(\"-\")\n      .join(texts);\n</code></pre>\n\n<p>To be more precise you should firstly wrap your array into a <code>List</code> with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-\" rel=\"nofollow\"><code>Arrays.asList()</code></a> or Guava's <a href=\"https://github.com/google/guava/wiki/PrimitivesExplained#primitive-array-utilities\" rel=\"nofollow\">primitive-friendly</a> equivalents.</p>\n\n<pre><code>Joiner.on(\"-\")\n      .join(Arrays.asList(1, 2, 3, 4, 5, 6, 7));\n\nJoiner.on(\"-\")\n      .join(Ints.asList(arr));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1468788289,"creation_date":1468788289,"answer_id":38425780,"question_id":38425623,"body_markdown":"In Java 8+ you could use an [`IntStream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html) and a [`StringJoiner`](https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html). Something like,\r\n\r\n\tint[] arr = new int[] { 1, 2, 3, 4, 5, 6, 7 };\r\n\tStringJoiner sj = new StringJoiner(&quot; - &quot;);\r\n\tIntStream.of(arr).forEach(x -&gt; sj.add(String.valueOf(x)));\r\n\tSystem.out.println(sj.toString());\r\n\r\nOutput is (as requested)\r\n\r\n    1 - 2 - 3 - 4 - 5 - 6 - 7\r\n\r\n","title":"Java: join array of primitives with separator","body":"<p>In Java 8+ you could use an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\"><code>IntStream</code></a> and a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"noreferrer\"><code>StringJoiner</code></a>. Something like,</p>\n\n<pre><code>int[] arr = new int[] { 1, 2, 3, 4, 5, 6, 7 };\nStringJoiner sj = new StringJoiner(\" - \");\nIntStream.of(arr).forEach(x -&gt; sj.add(String.valueOf(x)));\nSystem.out.println(sj.toString());\n</code></pre>\n\n<p>Output is (as requested)</p>\n\n<pre><code>1 - 2 - 3 - 4 - 5 - 6 - 7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8092089,"reputation":151,"user_id":6097713,"display_name":"engAnt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468789508,"creation_date":1468788309,"answer_id":38425786,"question_id":38425623,"body_markdown":"I&#39;m sure there&#39;s a way to do this in Kotlin/Scala or other JVM languages as well but you could always stick to keeping things simple for a small set of values like you have above:\r\n\r\n    int i, arrLen = arr.length;\r\n\t StringBuilder tmp = new StringBuilder();\r\n\t for (i=0; i&lt;arrLen-1; i++)\r\n\t\ttmp.append(arr[i] +&quot; - &quot;);\r\n\t tmp.append(arr[arrLen-1]);\r\n\t\t\r\n\t System.out.println( tmp.toString() );\r\n\r\n","title":"Java: join array of primitives with separator","body":"<p>I'm sure there's a way to do this in Kotlin/Scala or other JVM languages as well but you could always stick to keeping things simple for a small set of values like you have above:</p>\n\n<pre><code>int i, arrLen = arr.length;\n StringBuilder tmp = new StringBuilder();\n for (i=0; i&lt;arrLen-1; i++)\n    tmp.append(arr[i] +\" - \");\n tmp.append(arr[arrLen-1]);\n\n System.out.println( tmp.toString() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5156984,"reputation":289,"user_id":4129966,"display_name":"Lin W"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543587415,"creation_date":1511732887,"answer_id":47501361,"question_id":38425623,"body_markdown":"    int[] arr = new int[] { 1, 2, 3, 4, 5, 6, 7 };\r\n\r\n    IntStream.of(arr).mapToObj(i -&gt; String.valueOf(i)).collect(Collectors.joining(&quot;,&quot;)) ;","title":"Java: join array of primitives with separator","body":"<pre><code>int[] arr = new int[] { 1, 2, 3, 4, 5, 6, 7 };\n\nIntStream.of(arr).mapToObj(i -&gt; String.valueOf(i)).collect(Collectors.joining(\",\")) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6577590,"reputation":121,"user_id":5082991,"display_name":"bourne2program"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534963640,"creation_date":1534963640,"answer_id":51973332,"question_id":38425623,"body_markdown":"I&#39;ve been looking for a way to join primitives in a Stream without first instantiating strings for each one of them. I&#39;ve come to this but it still requires boxing them.\r\n\r\n    LongStream.range(0, 500).boxed().collect(Collector.of(StringBuilder::new, (sb, v) -&gt; {\r\n        if (sb.length() != 0)\r\n            sb.append(&#39;,&#39;);\r\n        sb.append(v.longValue());\r\n    }, (a, b) -&gt; a.length() == 0 ? b : b.length() != 0 ? a.append(&#39;,&#39;).append(b) : a, StringBuilder::toString));","title":"Java: join array of primitives with separator","body":"<p>I've been looking for a way to join primitives in a Stream without first instantiating strings for each one of them. I've come to this but it still requires boxing them.</p>\n\n<pre><code>LongStream.range(0, 500).boxed().collect(Collector.of(StringBuilder::new, (sb, v) -&gt; {\n    if (sb.length() != 0)\n        sb.append(',');\n    sb.append(v.longValue());\n}, (a, b) -&gt; a.length() == 0 ? b : b.length() != 0 ? a.append(',').append(b) : a, StringBuilder::toString));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3510770,"reputation":157,"user_id":2935131,"display_name":"user2935131"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1550826519,"creation_date":1550823941,"answer_id":54822860,"question_id":38425623,"body_markdown":"Java 8 Solution would be like this:\r\n\r\n    Stream.of(1,2,3,4).map(String::valueOf).collect(Collectors.joining(&quot;-&quot;))","title":"Java: join array of primitives with separator","body":"<p>Java 8 Solution would be like this:</p>\n\n<pre><code>Stream.of(1,2,3,4).map(String::valueOf).collect(Collectors.joining(\"-\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2233181,"reputation":3805,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570503894,"creation_date":1570501938,"answer_id":58279497,"question_id":38425623,"body_markdown":"**For Java 7 or earlier.** \r\n\r\n    public static StringBuilder join(CharSequence delimiter, int... arr) {\r\n        if (null == delimiter || null == arr) throw new NullPointerException();\r\n\r\n        StringBuilder sb = new StringBuilder(String.valueOf(arr[0]));\r\n        for (int i = 1; i &lt; arr.length; i++) sb.append(delimiter).append(arr[i]);\r\n\r\n        return sb;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        StringBuilder sb = join(&quot; - &quot;, 1, 2, 3, 4);\r\n        System.out.println(sb.toString());//you could pass sb also coz println automatically call toString method within it\r\n        System.out.println(sb.insert(0, &quot;[&quot;).append(&quot;]&quot;));\r\n    }\r\n\r\n&gt; Output:\r\n\r\n&gt; 1 - 2 - 3 - 4\r\n\r\n&gt;[1 - 2 - 3 - 4]","title":"Java: join array of primitives with separator","body":"<p><strong>For Java 7 or earlier.</strong> </p>\n\n<pre><code>public static StringBuilder join(CharSequence delimiter, int... arr) {\n    if (null == delimiter || null == arr) throw new NullPointerException();\n\n    StringBuilder sb = new StringBuilder(String.valueOf(arr[0]));\n    for (int i = 1; i &lt; arr.length; i++) sb.append(delimiter).append(arr[i]);\n\n    return sb;\n}\n\npublic static void main(String[] args) {\n    StringBuilder sb = join(\" - \", 1, 2, 3, 4);\n    System.out.println(sb.toString());//you could pass sb also coz println automatically call toString method within it\n    System.out.println(sb.insert(0, \"[\").append(\"]\"));\n}\n</code></pre>\n\n<blockquote>\n  <p>Output:</p>\n  \n  <p>1 - 2 - 3 - 4</p>\n  \n  <p>[1 - 2 - 3 - 4]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4162561,"reputation":1412,"user_id":3412316,"accept_rate":20,"display_name":"Kiruahxh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596452075,"creation_date":1596444678,"answer_id":63226396,"question_id":38425623,"body_markdown":"If your delimiter is a **single char** you can use [StringUtils][1] from Common Lang:\r\n\r\n    int[] arr = {1, 2, 3, 4, 5, 6, 7};\r\n    String result = StringUtils.join(arr, &#39;-&#39;);\r\n\r\nHowever, if the delimiter is a String, you should use an alternative because StringUtils is behaving badly ([see this ticket][2]).\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\r\n  [2]: https://issues.apache.org/jira/browse/LANG-1593","title":"Java: join array of primitives with separator","body":"<p>If your delimiter is a <strong>single char</strong> you can use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a> from Common Lang:</p>\n<pre><code>int[] arr = {1, 2, 3, 4, 5, 6, 7};\nString result = StringUtils.join(arr, '-');\n</code></pre>\n<p>However, if the delimiter is a String, you should use an alternative because StringUtils is behaving badly (<a href=\"https://issues.apache.org/jira/browse/LANG-1593\" rel=\"nofollow noreferrer\">see this ticket</a>).</p>\n"}],"owner":{"account_id":8666113,"reputation":3275,"user_id":6486583,"display_name":"spirit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73413,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":38425624,"answer_count":9,"score":43,"last_activity_date":1688438686,"creation_date":1468787100,"question_id":38425623,"body_markdown":"Suppose, I have an array:\r\n\r\n    int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\r\n\r\nAnd I need to join its elements using separator, for example, `&quot; - &quot;`, so as the result I should get string like this:\r\n\r\n    &quot;1 - 2 - 3 - 4 - 5 - 6 - 7&quot;\r\n\r\nHow could I do this?\r\n\r\n**PS:** yes, I know about [this][1] and [this][2] posts, but its solutions won&#39;t work with an array of primitives.\r\n\r\n  [1]: https://stackoverflow.com/questions/1978933/a-quick-and-easy-way-to-join-array-elements-with-a-separator-the-opposite-of-sp\r\n  [2]: https://stackoverflow.com/questions/1515437/java-function-for-arrays-like-phps-join","title":"Java: join array of primitives with separator","body":"<p>Suppose, I have an array:</p>\n\n<pre><code>int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\n</code></pre>\n\n<p>And I need to join its elements using separator, for example, <code>\" - \"</code>, so as the result I should get string like this:</p>\n\n<pre><code>\"1 - 2 - 3 - 4 - 5 - 6 - 7\"\n</code></pre>\n\n<p>How could I do this?</p>\n\n<p><strong>PS:</strong> yes, I know about <a href=\"https://stackoverflow.com/questions/1978933/a-quick-and-easy-way-to-join-array-elements-with-a-separator-the-opposite-of-sp\">this</a> and <a href=\"https://stackoverflow.com/questions/1515437/java-function-for-arrays-like-phps-join\">this</a> posts, but its solutions won't work with an array of primitives.</p>\n"},{"tags":["java","protocol-buffers","avro"],"answers":[{"tags":[],"owner":{"account_id":2909719,"reputation":19935,"user_id":2494262,"accept_rate":64,"display_name":"MrE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668022519,"creation_date":1668022519,"answer_id":74380456,"question_id":74380074,"body_markdown":"So it seems like this Protobuf Object embeds multiple messages and picking a message type within the class helped get through this error.","title":"Convert Protobuf to Avro in Java: FileDescriptor can&#39;t be cast to Descriptor","body":"<p>So it seems like this Protobuf Object embeds multiple messages and picking a message type within the class helped get through this error.</p>\n"},{"tags":[],"owner":{"account_id":28945198,"reputation":1,"user_id":22170928,"display_name":"zhengwenjie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688438494,"creation_date":1688438494,"answer_id":76609103,"question_id":74380074,"body_markdown":"I met the same problem and solved it . You need use the inner class of your proto class. like this com.cloud.log.proto.StaExpDetailProto$StaExpDetail ","title":"Convert Protobuf to Avro in Java: FileDescriptor can&#39;t be cast to Descriptor","body":"<p>I met the same problem and solved it . You need use the inner class of your proto class. like this com.cloud.log.proto.StaExpDetailProto$StaExpDetail</p>\n"}],"owner":{"account_id":2909719,"reputation":19935,"user_id":2494262,"accept_rate":64,"display_name":"MrE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688438494,"creation_date":1668020390,"question_id":74380074,"body_markdown":"Simply trying to get an Avro schema from a protobuf Java class with\r\n\r\n```java\r\nProtobufData model = ProtobufData.get();\r\nSchema schema = model.getSchema(MyProto);\r\n```\r\n\r\nthe MyProto class was generated from the `.proto` file with `protoc`\r\n\r\nbut on the `getSchema` call I get:\r\n\r\n```\r\njava.lang.ClassCastException: class com.google.protobuf.Descriptors$FileDescriptor \r\ncannot be cast to class com.google.protobuf.Descriptors$Descriptor\r\n```\r\nThe `org.apache.avro.protobuf.ProtobufData.getSchema` method looks like:\r\n\r\n```java\r\npublic Schema getSchema(Class c) {\r\n    Schema schema = schemaCache.get(c);\r\n\r\n    if (schema == null) {                         // cache miss\r\n      try {\r\n        Object descriptor = c.getMethod(&quot;getDescriptor&quot;).invoke(null);\r\n        if (c.isEnum())\r\n          schema = getSchema((EnumDescriptor)descriptor);\r\n        else\r\n          schema = getSchema((Descriptor)descriptor);  // &lt;-- fails here\r\n      } catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n      }\r\n      schemaCache.put(c, schema);                 // update cache\r\n    }\r\n    return schema;\r\n  }\r\n``` \r\n\r\nand it fails at the casting to Descriptor.\r\n\r\nSo, I&#39;m not sure what I can do about this. I&#39;m not sure why my protobuf object class returns a `FileDescriptor` and not a `Descriptor`.\r\n","title":"Convert Protobuf to Avro in Java: FileDescriptor can&#39;t be cast to Descriptor","body":"<p>Simply trying to get an Avro schema from a protobuf Java class with</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProtobufData model = ProtobufData.get();\nSchema schema = model.getSchema(MyProto);\n</code></pre>\n<p>the MyProto class was generated from the <code>.proto</code> file with <code>protoc</code></p>\n<p>but on the <code>getSchema</code> call I get:</p>\n<pre><code>java.lang.ClassCastException: class com.google.protobuf.Descriptors$FileDescriptor \ncannot be cast to class com.google.protobuf.Descriptors$Descriptor\n</code></pre>\n<p>The <code>org.apache.avro.protobuf.ProtobufData.getSchema</code> method looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Schema getSchema(Class c) {\n    Schema schema = schemaCache.get(c);\n\n    if (schema == null) {                         // cache miss\n      try {\n        Object descriptor = c.getMethod(&quot;getDescriptor&quot;).invoke(null);\n        if (c.isEnum())\n          schema = getSchema((EnumDescriptor)descriptor);\n        else\n          schema = getSchema((Descriptor)descriptor);  // &lt;-- fails here\n      } catch (Exception e) {\n        throw new RuntimeException(e);\n      }\n      schemaCache.put(c, schema);                 // update cache\n    }\n    return schema;\n  }\n</code></pre>\n<p>and it fails at the casting to Descriptor.</p>\n<p>So, I'm not sure what I can do about this. I'm not sure why my protobuf object class returns a <code>FileDescriptor</code> and not a <code>Descriptor</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1688434601,"post_id":76608918,"comment_id":135070626,"body_markdown":"Garbage collector runs as a thread. Event Dispatch Thread could also be running. The JVM has multiple threads itself.","body":"Garbage collector runs as a thread. Event Dispatch Thread could also be running. The JVM has multiple threads itself."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1688435331,"post_id":76608918,"comment_id":135070681,"body_markdown":"Can&#39;t reproduce: https://ideone.com/Ek01Y0","body":"Can&#39;t reproduce: <a href=\"https://ideone.com/Ek01Y0\" rel=\"nofollow noreferrer\">ideone.com/Ek01Y0</a>"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688437296,"creation_date":1688436994,"answer_id":76609035,"question_id":76608918,"body_markdown":"On Linux, Java uses a thread to monitor for ctrl-break being typed.\r\n\r\nIf you look at the implementation of `Thread.activeCount()`:\r\n\r\n```\r\n    /**\r\n     * Returns an estimate of the number of {@linkplain #isAlive() live}\r\n     * platform threads in the current thread&#39;s thread group and its subgroups.\r\n     * Virtual threads are not included in the estimate.\r\n     *\r\n     * &lt;p&gt; The value returned is only an estimate because the number of\r\n     * threads may change dynamically while this method traverses internal\r\n     * data structures, and might be affected by the presence of certain\r\n     * system threads. This method is intended primarily for debugging\r\n     * and monitoring purposes.\r\n     *\r\n     * @return  an estimate of the number of live platform threads in the\r\n     *          current thread&#39;s thread group and in any other thread group\r\n     *          that has the current thread&#39;s thread group as an ancestor\r\n     */\r\n    public static int activeCount() {\r\n        return currentThread().getThreadGroup().activeCount();\r\n    }\r\n```\r\nIt refers only to threads in the thread group of which the current thread (i.e. main) is a member.\r\n\r\nWe can print the threads in the current thread group to the console:\r\n\r\n```\r\n        Thread.currentThread().getThreadGroup().list();\r\n```\r\nWhich on GNU/Linux (WSL2 anyway) prints:\r\n```\r\njava.lang.ThreadGroup[name=main,maxpri=10]\r\n    Thread[#1,main,5,main]\r\n    Thread[#26,Monitor Ctrl-Break,5,main]\r\n```\r\n\r\nIf you want to find out more about current threads, use the `ThreadMXBean`:\r\n```\r\nimport java.lang.management.ManagementFactory;\r\nimport java.lang.management.ThreadInfo;\r\nimport java.lang.management.ThreadMXBean;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(Thread.activeCount());\r\n\r\n        System.out.println(Thread.currentThread().getName());\r\n        Thread.currentThread().getThreadGroup().list();\r\n        ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\r\n        long[] ids = threadMXBean.getAllThreadIds();\r\n        for (long id: ids) {\r\n            ThreadInfo threadInfo = threadMXBean.getThreadInfo(id);\r\n            System.out.println(threadInfo);\r\n        }\r\n    }\r\n}\r\n```","title":"Thread.activeCount is giving me back an active count of 2 threads instead of 1 thread why?","body":"<p>On Linux, Java uses a thread to monitor for ctrl-break being typed.</p>\n<p>If you look at the implementation of <code>Thread.activeCount()</code>:</p>\n<pre><code>    /**\n     * Returns an estimate of the number of {@linkplain #isAlive() live}\n     * platform threads in the current thread's thread group and its subgroups.\n     * Virtual threads are not included in the estimate.\n     *\n     * &lt;p&gt; The value returned is only an estimate because the number of\n     * threads may change dynamically while this method traverses internal\n     * data structures, and might be affected by the presence of certain\n     * system threads. This method is intended primarily for debugging\n     * and monitoring purposes.\n     *\n     * @return  an estimate of the number of live platform threads in the\n     *          current thread's thread group and in any other thread group\n     *          that has the current thread's thread group as an ancestor\n     */\n    public static int activeCount() {\n        return currentThread().getThreadGroup().activeCount();\n    }\n</code></pre>\n<p>It refers only to threads in the thread group of which the current thread (i.e. main) is a member.</p>\n<p>We can print the threads in the current thread group to the console:</p>\n<pre><code>        Thread.currentThread().getThreadGroup().list();\n</code></pre>\n<p>Which on GNU/Linux (WSL2 anyway) prints:</p>\n<pre><code>java.lang.ThreadGroup[name=main,maxpri=10]\n    Thread[#1,main,5,main]\n    Thread[#26,Monitor Ctrl-Break,5,main]\n</code></pre>\n<p>If you want to find out more about current threads, use the <code>ThreadMXBean</code>:</p>\n<pre><code>import java.lang.management.ManagementFactory;\nimport java.lang.management.ThreadInfo;\nimport java.lang.management.ThreadMXBean;\n\npublic class Test {\n\n    public static void main(String[] args) {\n\n        System.out.println(Thread.activeCount());\n\n        System.out.println(Thread.currentThread().getName());\n        Thread.currentThread().getThreadGroup().list();\n        ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\n        long[] ids = threadMXBean.getAllThreadIds();\n        for (long id: ids) {\n            ThreadInfo threadInfo = threadMXBean.getThreadInfo(id);\n            System.out.println(threadInfo);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27893064,"reputation":1,"user_id":21299003,"display_name":"NotAGoodCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688437296,"creation_date":1688434312,"question_id":76608918,"body_markdown":"&gt; public class Prac {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(Thread.activeCount());\r\n\r\n        System.out.println(Thread.currentThread().getName());\r\n\r\n    }\r\n}\r\n\r\n................................................................................................................................................................................................................................................................................................................................................................................................................................\r\n&gt; \r\n\r\nshould return 1 thread","title":"Thread.activeCount is giving me back an active count of 2 threads instead of 1 thread why?","body":"<blockquote>\n<p>public class Prac {</p>\n</blockquote>\n<pre><code>public static void main(String[] args) {\n\n    System.out.println(Thread.activeCount());\n\n    System.out.println(Thread.currentThread().getName());\n\n}\n</code></pre>\n<p>}</p>\n<p>................................................................................................................................................................................................................................................................................................................................................................................................................................</p>\n<blockquote>\n</blockquote>\n<p>should return 1 thread</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":13903,"reputation":393603,"user_id":28169,"accept_rate":88,"display_name":"unwind"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1298389460,"creation_date":1298389460,"answer_id":5080334,"question_id":5080308,"body_markdown":"You would have to use a &lt;code&gt;[BigInteger][1]&lt;/code&gt;, since IPv6 addresses are larger than Java&#39;s native integer datatypes support, at 128 bits.\r\n\r\nDepending on in which format you have the IPv6 address (raw byte array, hexadecimal string, ...) there might or might not be a &lt;code&gt;BigInteger&lt;/code&gt; constructor that&#39;s suitable.\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html","title":"how to convert ipv6 address into integer in Java programming language","body":"<p>You would have to use a <code><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html\" rel=\"nofollow\">BigInteger</a></code>, since IPv6 addresses are larger than Java's native integer datatypes support, at 128 bits.</p>\n\n<p>Depending on in which format you have the IPv6 address (raw byte array, hexadecimal string, ...) there might or might not be a <code>BigInteger</code> constructor that's suitable.</p>\n"},{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688434797,"creation_date":1553448875,"answer_id":55326573,"question_id":5080308,"body_markdown":"The [open-source IPAddress Java library](https://seancfoley.github.io/IPAddress/) can do the conversion.  Disclaimer: I am the project manager of the IPAddress library. \r\n\r\n    String str = &quot;2001:0db8:85a3:0000:0000:8a2e:0370:7334&quot;;\r\n\tIPAddressString addrStr = new IPAddressString(str);\r\n\tIPAddress addr  = addrStr.getAddress();\r\n\tBigInteger value = addr.getValue();\r\n\tSystem.out.println(value);\r\n\r\nOutput:\r\n\r\n    42540766452641154071740215577757643572\r\n\r\nAlso note the code works the same for IPv4 addresses.  \r\n\r\nThe library is also capable of doing the reverse conversion, constructing an IPv6Address instance from a BigInteger directly, or from an integer string as shown below.  The integer string must be a hexadecimal integer string with 32 digits.\r\n\r\nReverse conversion from a 32 digit hex integer string:\r\n\r\n    str = value.toString(16);\r\n\tint len = str.length();\r\n\tif(len &lt; 32) {\r\n\t\t// 32 zeros\r\n\t\tstr = &quot;00000000000000000000000000000000&quot;.substring(len) + str; \r\n\t}\r\n\taddrStr = new IPAddressString(str);\r\n\tSystem.out.println(addrStr.getAddress());\r\n\r\nOutput:\r\n\r\n    2001:db8:85a3::8a2e:370:7334","title":"how to convert ipv6 address into integer in Java programming language","body":"<p>The <a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow noreferrer\">open-source IPAddress Java library</a> can do the conversion.  Disclaimer: I am the project manager of the IPAddress library.</p>\n<pre><code>String str = &quot;2001:0db8:85a3:0000:0000:8a2e:0370:7334&quot;;\nIPAddressString addrStr = new IPAddressString(str);\nIPAddress addr  = addrStr.getAddress();\nBigInteger value = addr.getValue();\nSystem.out.println(value);\n</code></pre>\n<p>Output:</p>\n<pre><code>42540766452641154071740215577757643572\n</code></pre>\n<p>Also note the code works the same for IPv4 addresses.</p>\n<p>The library is also capable of doing the reverse conversion, constructing an IPv6Address instance from a BigInteger directly, or from an integer string as shown below.  The integer string must be a hexadecimal integer string with 32 digits.</p>\n<p>Reverse conversion from a 32 digit hex integer string:</p>\n<pre><code>str = value.toString(16);\nint len = str.length();\nif(len &lt; 32) {\n    // 32 zeros\n    str = &quot;00000000000000000000000000000000&quot;.substring(len) + str; \n}\naddrStr = new IPAddressString(str);\nSystem.out.println(addrStr.getAddress());\n</code></pre>\n<p>Output:</p>\n<pre><code>2001:db8:85a3::8a2e:370:7334\n</code></pre>\n"}],"owner":{"account_id":33157,"reputation":12921,"user_id":92568,"accept_rate":77,"display_name":"Avinash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5080334,"answer_count":2,"score":1,"last_activity_date":1688434797,"creation_date":1298389314,"question_id":5080308,"body_markdown":"how to convert ipv6 address into integer in Java programming language","title":"how to convert ipv6 address into integer in Java programming language","body":"<p>how to convert ipv6 address into integer in Java programming language</p>\n"},{"tags":["java","authentication","spring-security","jwt","roles"],"comments":[{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688420860,"post_id":76608125,"comment_id":135069434,"body_markdown":"can you show the request you are sending and response, screenshot of postman if possible","body":"can you show the request you are sending and response, screenshot of postman if possible"},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688422054,"post_id":76608125,"comment_id":135069574,"body_markdown":"Added the images @AhmedNabil","body":"Added the images @AhmedNabil"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688422814,"post_id":76608125,"comment_id":135069665,"body_markdown":"I am sorry, can you add this line to application.properties &quot;server.error.include-message=always&quot; and show stack trace of the error","body":"I am sorry, can you add this line to application.properties &quot;server.error.include-message=always&quot; and show stack trace of the error"},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688423316,"post_id":76608125,"comment_id":135069720,"body_markdown":"I already added it before","body":"I already added it before"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688423448,"post_id":76608125,"comment_id":135069741,"body_markdown":"where is the stack trace of spring ?","body":"where is the stack trace of spring ?"},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688423504,"post_id":76608125,"comment_id":135069750,"body_markdown":"It does not print nothing :(","body":"It does not print nothing :("},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688423904,"post_id":76608125,"comment_id":135069793,"body_markdown":"I will change it into a .yml file to see if logs someting","body":"I will change it into a .yml file to see if logs someting"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688423997,"post_id":76608125,"comment_id":135069804,"body_markdown":"this doesn&#39;t matter :D (yaml and properties do the same)","body":"this doesn&#39;t matter :D (yaml and properties do the same)"},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688424105,"post_id":76608125,"comment_id":135069815,"body_markdown":"Does it just not authorize the request?","body":"Does it just not authorize the request?"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688424366,"post_id":76608125,"comment_id":135069831,"body_markdown":"I think it&#39;s because something is not right with Roles configs, try removing the hasRole and preAuthorize to make sure everything else is right","body":"I think it&#39;s because something is not right with Roles configs, try removing the hasRole and preAuthorize to make sure everything else is right"},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688424672,"post_id":76608125,"comment_id":135069857,"body_markdown":"Yes, with the @PreAuthorize(&quot;hasAnyRole(&#39;ADMIN&#39;, &#39;CASHIER&#39;)&quot;) removed and with .permitAll() at this method matcher, worked fine, posting the return.","body":"Yes, with the @PreAuthorize(&quot;hasAnyRole(&#39;ADMIN&#39;, &#39;CASHIER&#39;)&quot;) removed and with .permitAll() at this method matcher, worked fine, posting the return."},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688425200,"post_id":76608125,"comment_id":135069905,"body_markdown":"this could&#39;ve something to do with your jwt generating you can check your jwt using this website https://jwt.io/ and this repo has almost the same code as yours, you can compare them and find what you got wrong https://github.com/ahmd-nabil/spring-security6-demo","body":"this could&#39;ve something to do with your jwt generating you can check your jwt using this website <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> and this repo has almost the same code as yours, you can compare them and find what you got wrong <a href=\"https://github.com/ahmd-nabil/spring-security6-demo\" rel=\"nofollow noreferrer\">github.com/ahmd-nabil/spring-security6-demo</a>"},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688425851,"post_id":76608125,"comment_id":135069947,"body_markdown":"The user at the token is the same decompiled in the website, I&#39;ll try to redo all the implementation step by step and see if I miss something.","body":"The user at the token is the same decompiled in the website, I&#39;ll try to redo all the implementation step by step and see if I miss something."},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688430884,"post_id":76608125,"comment_id":135070311,"body_markdown":"It worked!!! I finally found it!","body":"It worked!!! I finally found it!"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1688457649,"post_id":76608125,"comment_id":135073121,"body_markdown":"just remember, using JWTs as sessions is a security risk and makes your application susceptible for XSS attacks. JWTs were never meant to be used as sessions https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens read the owasp guidelines https://cheatsheetseries.owasp.org/cheatsheets/JSON_Web_Token_for_Java_Cheat_Sheet.html","body":"just remember, using JWTs as sessions is a security risk and makes your application susceptible for XSS attacks. JWTs were never meant to be used as sessions <a href=\"https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens\" rel=\"nofollow noreferrer\">developer.okta.com/blog/2017/08/17/&hellip;</a> read the owasp guidelines <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/JSON_Web_Token_for_Java_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">cheatsheetseries.owasp.org/cheatsheets/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1688431962,"creation_date":1688431962,"answer_id":76608825,"question_id":76608125,"body_markdown":"After a long search and documentation reading I finally find out what was my issue. I mapped the entities and the roles just by the prefixes &#39;**ADMIN**&#39;, &#39;**CASHIER**&#39;, ... But when using the function `hasAnyRoles`, the role should have the prefix role in their names like &#39;**ROLE_ADMIN**&#39;, &#39;**ROLE_CASHIER**&#39; and not just the name. But there already is a method to use without the prefixes &#39;**ROLE**&#39;, the `hasAuthority` method works with just the names!\r\n\r\nSo the solution was change the way I was mapping the chain filter method:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfigurations {\r\n    \r\n        private final JwtAuthenticationFilter jwtAuthFilter;\r\n        private final AuthenticationProvider authenticationProvider;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            return http\r\n                    .csrf(AbstractHttpConfigurer::disable)\r\n                    .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                    .authorizeHttpRequests(\r\n                            authorize -&gt; authorize\r\n                                    .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/register&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;CASHIER&quot;)\r\n                                    .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/authenticate&quot;).permitAll()\r\n                                    .anyRequest().authenticated()\r\n                    )\r\n                    .authenticationProvider(authenticationProvider)\r\n                    .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nIn this example I used the correct method for the approach. And worked fine!\r\n\r\n[![success][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3ia8B.png","title":"Implementing JWT acess and receiving Forbidden with all set up","body":"<p>After a long search and documentation reading I finally find out what was my issue. I mapped the entities and the roles just by the prefixes '<strong>ADMIN</strong>', '<strong>CASHIER</strong>', ... But when using the function <code>hasAnyRoles</code>, the role should have the prefix role in their names like '<strong>ROLE_ADMIN</strong>', '<strong>ROLE_CASHIER</strong>' and not just the name. But there already is a method to use without the prefixes '<strong>ROLE</strong>', the <code>hasAuthority</code> method works with just the names!</p>\n<p>So the solution was change the way I was mapping the chain filter method:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfigurations {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests(\n                        authorize -&gt; authorize\n                                .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/register&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;CASHIER&quot;)\n                                .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/authenticate&quot;).permitAll()\n                                .anyRequest().authenticated()\n                )\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n}\n</code></pre>\n<p>In this example I used the correct method for the approach. And worked fine!</p>\n<p><a href=\"https://i.stack.imgur.com/3ia8B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3ia8B.png\" alt=\"success\" /></a></p>\n"}],"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76608825,"answer_count":1,"score":-1,"last_activity_date":1688431962,"creation_date":1688418712,"question_id":76608125,"body_markdown":"I&#39;m building a login and register application with java and spring boot version 3.1.1, I implemented the entities:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    \r\n        @Id\r\n        @Column(name = &quot;user_id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String userName;\r\n        private String email;\r\n        private String password;\r\n        private LocalDate registrationDate;\r\n        @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n        @JoinTable(name = &quot;users_roles&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n        private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n        private Boolean locked = false;\r\n        private Boolean enabled = true;\r\n    \r\n        public User(String firstName, String lastName, String userName, String email, String password) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.userName = userName;\r\n            this.email = email;\r\n            this.password = password;\r\n            this.registrationDate = LocalDate.now();\r\n        }\r\n    }\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    @NoArgsConstructor\r\n    public class Role {\r\n    \r\n        @Id\r\n        @Column(name = &quot;role_id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Enumerated(EnumType.STRING)\r\n        private UserRole roleName;\r\n    }\r\n\r\n    public enum UserRole {\r\n        WAITER,\r\n        KITCHEN,\r\n        CASHIER,\r\n        ADMIN;\r\n    }\r\n\r\n    @Getter\r\n    @AllArgsConstructor\r\n    public class AppUserDetails implements UserDetails {\r\n    \r\n        private final User user;\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            List&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n            user.getRoles().forEach(role -&gt; {\r\n                authorities.add(new SimpleGrantedAuthority(role.getRoleName().name()));\r\n            });\r\n            return authorities;\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return user.getPassword();\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return user.getUserName();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return !user.getLocked();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return user.getEnabled();\r\n        }\r\n    }\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    public class UserService implements UserDetailsService {\r\n    \r\n        private final UserRepository userRepository;\r\n    \r\n        @Override\r\n        @Transactional(readOnly = true)\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            return new AppUserDetails(userRepository.findByUserName(username).orElseThrow(() -&gt;\r\n                    new UsernameNotFoundException(String.format(&quot;User %s not found&quot;, username))));\r\n        }\r\n    }\r\n\r\nAnd the JWT filter, configurations and so on:\r\n\r\n    @Service\r\n    public class JwtService {\r\n    \r\n        @Value(&quot;${api.security.token.secret}&quot;)\r\n        private String secretKey;\r\n    \r\n        public String extractUsername(String token) {\r\n            return extractClaim(token, Claims::getSubject);\r\n        }\r\n    \r\n        public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n            final Claims claims = extractAllClaims(token);\r\n            return claimsResolver.apply(claims);\r\n        }\r\n    \r\n        public String generateTokens(UserDetails userDetails) {\r\n            return generateToken(new HashMap&lt;&gt;(), userDetails);\r\n        }\r\n    \r\n        public String generateToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\r\n            return Jwts.builder()\r\n                    .setClaims(extraClaims)\r\n                    .setSubject(userDetails.getUsername())\r\n                    .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                    .setExpiration(new Date((System.currentTimeMillis() + 1000 * 60 * 24)))\r\n                    .signWith(getSignInKey(), SignatureAlgorithm.HS256)\r\n                    .compact();\r\n        }\r\n    \r\n        public boolean isTokenValid(String token, UserDetails userDetails) {\r\n            final String username = extractUsername(token);\r\n            return (username.equals(userDetails.getUsername())) &amp;&amp; !isTokenExpired(token);\r\n        }\r\n    \r\n        private boolean isTokenExpired(String token) {\r\n            return extractExpiration(token).before(new Date());\r\n        }\r\n    \r\n        private Date extractExpiration(String token) {\r\n            return extractClaim(token, Claims::getExpiration);\r\n        }\r\n    \r\n        private Claims extractAllClaims (String token) {\r\n            return Jwts.parserBuilder().setSigningKey(getSignInKey()).build().parseClaimsJws(token).getBody();\r\n        }\r\n    \r\n        private Key getSignInKey() {\r\n            byte [] keysBytes = Decoders.BASE64.decode(secretKey);\r\n            return Keys.hmacShaKeyFor(keysBytes);\r\n        }\r\n    }\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n    \r\n        private final JwtService jwtService;\r\n        private final UserService userDetailsService;\r\n    \r\n        @Override\r\n        protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull FilterChain filterChain) throws ServletException, IOException {\r\n            final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n            final String jwt;\r\n            final String userName;\r\n    \r\n            if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n                filterChain.doFilter(request, response);\r\n                return;\r\n            }\r\n    \r\n            jwt = authHeader.substring(7);\r\n            userName = jwtService.extractUsername(jwt);\r\n    \r\n            if (userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n                UserDetails userDetails = this.userDetailsService.loadUserByUsername(userName);\r\n                if (jwtService.isTokenValid(jwt, userDetails)) {\r\n                    UsernamePasswordAuthenticationToken authenticationToken =\r\n                            new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                    authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n                }\r\n            }\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfigurations {\r\n    \r\n        private final JwtAuthenticationFilter jwtAuthFilter;\r\n        private final AuthenticationProvider authenticationProvider;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            return http\r\n                    .csrf(AbstractHttpConfigurer::disable)\r\n                    .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                    .authorizeHttpRequests(\r\n                            authorize -&gt; authorize\r\n                                    .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/register&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;CASHIER&quot;)\r\n                                    .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/authenticate&quot;).permitAll()\r\n                                    .anyRequest().authenticated()\r\n                    )\r\n                    .authenticationProvider(authenticationProvider)\r\n                    .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nEverytime I try to authenticate the token is generated with success:\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(path = &quot;/api/v1/auth&quot;)\r\n    public class AuthenticationController {\r\n        \r\n        private final AuthenticationService authenticationService;\r\n    \r\n        @PostMapping(&quot;/register&quot;)\r\n        @PreAuthorize(&quot;hasAnyRole(&#39;ADMIN&#39;, &#39;CASHIER&#39;)&quot;)\r\n        public ResponseEntity&lt;AuthenticationResponse&gt; register(@RequestBody RegistrationRequest request) {\r\n            return new ResponseEntity&lt;&gt;(authenticationService.register(request), HttpStatus.CREATED);\r\n        }\r\n    \r\n        @PostMapping(&quot;/authenticate&quot;)\r\n        public ResponseEntity&lt;AuthenticationResponse&gt; authenticate(@RequestBody AuthenticationRequest request) {\r\n            return new ResponseEntity&lt;&gt;(authenticationService.authenticate(request), HttpStatus.OK);\r\n        }\r\n    }\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class AuthenticationService {\r\n    \r\n        private final JwtService jwtService;\r\n        private final UserRepository userRepository;\r\n        private final PasswordEncoder passwordEncoder;\r\n        private final RolesRepository rolesRepository;\r\n        private final AuthenticationManager authenticationManager;\r\n    \r\n        public AuthenticationResponse register(RegistrationRequest request) {\r\n            User user = new User(\r\n                    request.getFirstName(),\r\n                    request.getLastName(),\r\n                    request.getUserName(),\r\n                    request.getEmail(),\r\n                    passwordEncoder.encode(request.getPassword())\r\n            );\r\n    \r\n            request.getRoles().forEach(role -&gt; user.getRoles().add(rolesRepository.findByRoleName(role).orElseThrow(\r\n                    () -&gt; new NoSuchElementException(String.format(&quot;Role %s was not found at database&quot;, role.name()))\r\n            )));\r\n    \r\n            userRepository.save(user);\r\n            return AuthenticationResponse.builder().token(&quot;Testando assim&quot;).build();\r\n        }\r\n    \r\n        // TODO add some errors to return message to user\r\n        // TODO add a constraint into username field\r\n        public AuthenticationResponse authenticate(AuthenticationRequest request) {\r\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getUsername(), request.getPassword()));\r\n    \r\n            User user = userRepository.findByUserName(request.getUsername()).orElseThrow(\r\n                    () -&gt; new NoSuchElementException(String.format(&quot;Username %s not found&quot;, request.getUsername())));\r\n    \r\n            var jwtToken = jwtService.generateTokens(new AppUserDetails(user));\r\n            return AuthenticationResponse.builder().token(jwtToken).build();\r\n        }\r\n    }\r\n\r\nI registered a User directly at database with the admin role, but when I try to register another user at the system using the admin user generated token at the authenticate method, I receive the 403 message forbidden with not even acessing the register method, there is something I missed? \r\n\r\nI can make the repository public and post the link if will be better.\r\n\r\nAdded the requests. Login to get the token:\r\n\r\n[![login][1]][1]\r\n\r\nSetting the bearer token at the request header for register:\r\n\r\n[![auth][2]][2]\r\n\r\n[![register-authorization][3]][3]\r\n\r\nRequest body with the message:\r\n\r\n[![request-body][4]][4]\r\n\r\nProperties printscreen:\r\n\r\n[![properties][5]][5]\r\n\r\nSpring return for the method:\r\n\r\n[![intellij-screen][6]][6]\r\n\r\nReturn without @PreAuthorize(&quot;hasAnyRole(&#39;ADMIN&#39;, &#39;CASHIER&#39;)&quot;) and with .permitAll():\r\n\r\n[![return-succed][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2F3pI.png\r\n  [2]: https://i.stack.imgur.com/F7iLp.png\r\n  [3]: https://i.stack.imgur.com/JBmEb.png\r\n  [4]: https://i.stack.imgur.com/3AtkQ.png\r\n  [5]: https://i.stack.imgur.com/iFdaa.png\r\n  [6]: https://i.stack.imgur.com/CKHOo.png\r\n  [7]: https://i.stack.imgur.com/bYiVU.png","title":"Implementing JWT acess and receiving Forbidden with all set up","body":"<p>I'm building a login and register application with java and spring boot version 3.1.1, I implemented the entities:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@EqualsAndHashCode\n@NoArgsConstructor\n@Table(name = &quot;users&quot;)\npublic class User {\n\n    @Id\n    @Column(name = &quot;user_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String userName;\n    private String email;\n    private String password;\n    private LocalDate registrationDate;\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;users_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n    private Boolean locked = false;\n    private Boolean enabled = true;\n\n    public User(String firstName, String lastName, String userName, String email, String password) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.userName = userName;\n        this.email = email;\n        this.password = password;\n        this.registrationDate = LocalDate.now();\n    }\n}\n\n@Entity\n@Getter\n@Setter\n@EqualsAndHashCode\n@NoArgsConstructor\npublic class Role {\n\n    @Id\n    @Column(name = &quot;role_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Enumerated(EnumType.STRING)\n    private UserRole roleName;\n}\n\npublic enum UserRole {\n    WAITER,\n    KITCHEN,\n    CASHIER,\n    ADMIN;\n}\n\n@Getter\n@AllArgsConstructor\npublic class AppUserDetails implements UserDetails {\n\n    private final User user;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        List&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        user.getRoles().forEach(role -&gt; {\n            authorities.add(new SimpleGrantedAuthority(role.getRoleName().name()));\n        });\n        return authorities;\n    }\n\n    @Override\n    public String getPassword() {\n        return user.getPassword();\n    }\n\n    @Override\n    public String getUsername() {\n        return user.getUserName();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return !user.getLocked();\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return user.getEnabled();\n    }\n}\n\n@Service\n@AllArgsConstructor\npublic class UserService implements UserDetailsService {\n\n    private final UserRepository userRepository;\n\n    @Override\n    @Transactional(readOnly = true)\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        return new AppUserDetails(userRepository.findByUserName(username).orElseThrow(() -&gt;\n                new UsernameNotFoundException(String.format(&quot;User %s not found&quot;, username))));\n    }\n}\n</code></pre>\n<p>And the JWT filter, configurations and so on:</p>\n<pre><code>@Service\npublic class JwtService {\n\n    @Value(&quot;${api.security.token.secret}&quot;)\n    private String secretKey;\n\n    public String extractUsername(String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n\n    public String generateTokens(UserDetails userDetails) {\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\n    }\n\n    public String generateToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\n        return Jwts.builder()\n                .setClaims(extraClaims)\n                .setSubject(userDetails.getUsername())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date((System.currentTimeMillis() + 1000 * 60 * 24)))\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\n                .compact();\n    }\n\n    public boolean isTokenValid(String token, UserDetails userDetails) {\n        final String username = extractUsername(token);\n        return (username.equals(userDetails.getUsername())) &amp;&amp; !isTokenExpired(token);\n    }\n\n    private boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    private Date extractExpiration(String token) {\n        return extractClaim(token, Claims::getExpiration);\n    }\n\n    private Claims extractAllClaims (String token) {\n        return Jwts.parserBuilder().setSigningKey(getSignInKey()).build().parseClaimsJws(token).getBody();\n    }\n\n    private Key getSignInKey() {\n        byte [] keysBytes = Decoders.BASE64.decode(secretKey);\n        return Keys.hmacShaKeyFor(keysBytes);\n    }\n}\n\n@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n    private final UserService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull FilterChain filterChain) throws ServletException, IOException {\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userName;\n\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        jwt = authHeader.substring(7);\n        userName = jwtService.extractUsername(jwt);\n\n        if (userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userName);\n            if (jwtService.isTokenValid(jwt, userDetails)) {\n                UsernamePasswordAuthenticationToken authenticationToken =\n                        new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfigurations {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests(\n                        authorize -&gt; authorize\n                                .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/register&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;CASHIER&quot;)\n                                .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/authenticate&quot;).permitAll()\n                                .anyRequest().authenticated()\n                )\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n}\n</code></pre>\n<p>Everytime I try to authenticate the token is generated with success:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(path = &quot;/api/v1/auth&quot;)\npublic class AuthenticationController {\n    \n    private final AuthenticationService authenticationService;\n\n    @PostMapping(&quot;/register&quot;)\n    @PreAuthorize(&quot;hasAnyRole('ADMIN', 'CASHIER')&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; register(@RequestBody RegistrationRequest request) {\n        return new ResponseEntity&lt;&gt;(authenticationService.register(request), HttpStatus.CREATED);\n    }\n\n    @PostMapping(&quot;/authenticate&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticate(@RequestBody AuthenticationRequest request) {\n        return new ResponseEntity&lt;&gt;(authenticationService.authenticate(request), HttpStatus.OK);\n    }\n}\n\n@Service\n@RequiredArgsConstructor\npublic class AuthenticationService {\n\n    private final JwtService jwtService;\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n    private final RolesRepository rolesRepository;\n    private final AuthenticationManager authenticationManager;\n\n    public AuthenticationResponse register(RegistrationRequest request) {\n        User user = new User(\n                request.getFirstName(),\n                request.getLastName(),\n                request.getUserName(),\n                request.getEmail(),\n                passwordEncoder.encode(request.getPassword())\n        );\n\n        request.getRoles().forEach(role -&gt; user.getRoles().add(rolesRepository.findByRoleName(role).orElseThrow(\n                () -&gt; new NoSuchElementException(String.format(&quot;Role %s was not found at database&quot;, role.name()))\n        )));\n\n        userRepository.save(user);\n        return AuthenticationResponse.builder().token(&quot;Testando assim&quot;).build();\n    }\n\n    // TODO add some errors to return message to user\n    // TODO add a constraint into username field\n    public AuthenticationResponse authenticate(AuthenticationRequest request) {\n        authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getUsername(), request.getPassword()));\n\n        User user = userRepository.findByUserName(request.getUsername()).orElseThrow(\n                () -&gt; new NoSuchElementException(String.format(&quot;Username %s not found&quot;, request.getUsername())));\n\n        var jwtToken = jwtService.generateTokens(new AppUserDetails(user));\n        return AuthenticationResponse.builder().token(jwtToken).build();\n    }\n}\n</code></pre>\n<p>I registered a User directly at database with the admin role, but when I try to register another user at the system using the admin user generated token at the authenticate method, I receive the 403 message forbidden with not even acessing the register method, there is something I missed?</p>\n<p>I can make the repository public and post the link if will be better.</p>\n<p>Added the requests. Login to get the token:</p>\n<p><a href=\"https://i.stack.imgur.com/2F3pI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2F3pI.png\" alt=\"login\" /></a></p>\n<p>Setting the bearer token at the request header for register:</p>\n<p><a href=\"https://i.stack.imgur.com/F7iLp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F7iLp.png\" alt=\"auth\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JBmEb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JBmEb.png\" alt=\"register-authorization\" /></a></p>\n<p>Request body with the message:</p>\n<p><a href=\"https://i.stack.imgur.com/3AtkQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3AtkQ.png\" alt=\"request-body\" /></a></p>\n<p>Properties printscreen:</p>\n<p><a href=\"https://i.stack.imgur.com/iFdaa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iFdaa.png\" alt=\"properties\" /></a></p>\n<p>Spring return for the method:</p>\n<p><a href=\"https://i.stack.imgur.com/CKHOo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CKHOo.png\" alt=\"intellij-screen\" /></a></p>\n<p>Return without @PreAuthorize(&quot;hasAnyRole('ADMIN', 'CASHIER')&quot;) and with .permitAll():</p>\n<p><a href=\"https://i.stack.imgur.com/bYiVU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bYiVU.png\" alt=\"return-succed\" /></a></p>\n"},{"tags":["java","generics","compiler-errors"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1629517386,"post_id":68869932,"comment_id":121713374,"body_markdown":"Please show a [mcve]. What are all those `xxx` about?","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. What are all those <code>xxx</code> about?"}],"answers":[{"tags":[],"owner":{"account_id":4951627,"reputation":1332,"user_id":3985356,"accept_rate":74,"display_name":"CHANist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629518355,"creation_date":1629518355,"answer_id":68870013,"question_id":68869932,"body_markdown":"I am not sure what you exactly want. But what do you really want from \r\n```java\r\ninterface Client {\r\n    void create(String path);\r\n    void delete(String path);\r\n    List&lt;String&gt; getChildren(String path);\r\n    &lt;T&gt; T getChildListener(String path);\r\n}\r\n```\r\n\r\nIt seems a bit weird to specify in this way, as I don&#39;t think the interface by itself knows what T really is. \r\n\r\nA better interface setup may be the following: \r\n```java\r\ninterface Client&lt;T&gt; {\r\n    void create(String path);\r\n    void delete(String path);\r\n    List&lt;String&gt; getChildren(String path);\r\n    T getChildListener(String path);\r\n}\r\n\r\npublic class AbstractClient&lt;T&gt; implements Client&lt;T&gt; {\r\n   T getChildListener(String path) {\r\n       return xxx;\r\n   }\r\n}\r\n\r\npublic class MyClient extends AbstractClient&lt;PathWatcher&gt; {\r\n    ...\r\n}\r\n```\r\n\r\nNot sure, if this is what you want, though. ","title":"How to fix warning in extending a generic method in java?","body":"<p>I am not sure what you exactly want. But what do you really want from</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Client {\n    void create(String path);\n    void delete(String path);\n    List&lt;String&gt; getChildren(String path);\n    &lt;T&gt; T getChildListener(String path);\n}\n</code></pre>\n<p>It seems a bit weird to specify in this way, as I don't think the interface by itself knows what T really is.</p>\n<p>A better interface setup may be the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Client&lt;T&gt; {\n    void create(String path);\n    void delete(String path);\n    List&lt;String&gt; getChildren(String path);\n    T getChildListener(String path);\n}\n\npublic class AbstractClient&lt;T&gt; implements Client&lt;T&gt; {\n   T getChildListener(String path) {\n       return xxx;\n   }\n}\n\npublic class MyClient extends AbstractClient&lt;PathWatcher&gt; {\n    ...\n}\n</code></pre>\n<p>Not sure, if this is what you want, though.</p>\n"},{"tags":[],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630132578,"creation_date":1630132578,"answer_id":68961936,"question_id":68869932,"body_markdown":"A compromise : add `@SuppressWarnings(&quot;unchecked&quot;)` on MyClient class.","title":"How to fix warning in extending a generic method in java?","body":"<p>A compromise : add <code>@SuppressWarnings(&quot;unchecked&quot;)</code> on MyClient class.</p>\n"}],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688431417,"creation_date":1629516918,"question_id":68869932,"body_markdown":"There&#39;s a interface in third lib, which can not be modified. And I need to extend it. Code is like below:\r\n```\r\n// 3rd interface\r\ninterface Client {\r\n    void create(String path);\r\n    void delete(String path);\r\n    List&lt;String&gt; getChildren(String path);\r\n    &lt;T&gt; T getChildListener(String path);\r\n    xxxx\r\n}\r\n\r\n// 3rd abstract\r\nAbstractClient&lt;T&gt; implements Client {\r\n   xxx\r\n   T getChildListener(String path) {\r\n       return xxx;\r\n   }\r\n   xxx\r\n}\r\n```\r\n\r\nMy code like below:\r\n```\r\nclass MyClient extends AbstractClient&lt;PathWatcher&gt; {\r\n    ...\r\n}\r\n```\r\nCompiler warnings that:  \r\n\r\n&gt; return type requires unchecked conversion from xxx to T\r\n\r\nI try to add `@SuppressWarnings(xxx)` with cast, warning, all.  \r\nIt does not work. How can I fix this warning?  \r\nI **can not** modify the third lib.\r\n","title":"How to fix warning in extending a generic method in java?","body":"<p>There's a interface in third lib, which can not be modified. And I need to extend it. Code is like below:</p>\n<pre><code>// 3rd interface\ninterface Client {\n    void create(String path);\n    void delete(String path);\n    List&lt;String&gt; getChildren(String path);\n    &lt;T&gt; T getChildListener(String path);\n    xxxx\n}\n\n// 3rd abstract\nAbstractClient&lt;T&gt; implements Client {\n   xxx\n   T getChildListener(String path) {\n       return xxx;\n   }\n   xxx\n}\n</code></pre>\n<p>My code like below:</p>\n<pre><code>class MyClient extends AbstractClient&lt;PathWatcher&gt; {\n    ...\n}\n</code></pre>\n<p>Compiler warnings that:</p>\n<blockquote>\n<p>return type requires unchecked conversion from xxx to T</p>\n</blockquote>\n<p>I try to add <code>@SuppressWarnings(xxx)</code> with cast, warning, all.<br />\nIt does not work. How can I fix this warning?<br />\nI <strong>can not</strong> modify the third lib.</p>\n"},{"tags":["java","dynamodb-enhanced-client"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1688453012,"post_id":76608736,"comment_id":135072258,"body_markdown":"Does this help https://stackoverflow.com/questions/63786440/dynamodb-enhanced-how-to-query-using-secondaryindex-in-javaspring-boot","body":"Does this help <a href=\"https://stackoverflow.com/questions/63786440/dynamodb-enhanced-how-to-query-using-secondaryindex-in-javaspring-boot\" title=\"dynamodb enhanced how to query using secondaryindex in javaspring boot\">stackoverflow.com/questions/63786440/&hellip;</a>"}],"owner":{"account_id":3765824,"reputation":38,"user_id":3129407,"display_name":"adityagerrard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688429766,"creation_date":1688429766,"question_id":76608736,"body_markdown":"I&#39;ve a table structure, something like this\r\n\r\n```\r\naws dynamodb --endpoint-url=http://localhost:4566 create-table \\\r\n    --table-name localTable \\\r\n    --attribute-definitions \\\r\n        AttributeName=id,AttributeType=S \\\r\n        AttributeName=date,AttributeType=S \\\r\n    --key-schema \\\r\n        AttributeName=id,KeyType=HASH \\\r\n        AttributeName=date,KeyType=RANGE \\\r\n--provisioned-throughput \\\r\n        ReadCapacityUnits=10,WriteCapacityUnits=5\r\n```\r\nand some additional fields storing some json string,  time, process details etc.\r\n\r\nI want to query this table based on date rather than id (programmatically), but want to query single row for debug purposes using id ( like correlation-id, traceId etc).\r\nMy Program will pull 1k records use the data to some processing, but I&#39;m not able to come up with proper queryCondition as AWS sdk expects me to provide both PK, SK. \r\n\r\nThis is the code I played with, LMK if something I&#39;ve doing it incorrectly. \r\n\r\nI&#39;ve index too, but not sure how to use it using enhanced sdk, didn&#39;t mention\r\n\r\n```\r\n// sdk imports\r\nimport software.amazon.awssdk.enhanced.dynamodb.*;\r\nimport software.amazon.awssdk.enhanced.dynamodb.model.*;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.services.dynamodb.DynamoDbClient;\r\nimport software.amazon.awssdk.services.dynamodb.model.AttributeValue;\r\nimport software.amazon.awssdk.services.dynamodb.model.ReturnValue;\r\n\r\n....\r\n \r\n/**\r\n     * Get Documents between start date and end date\r\n     * @param primaryKey primary key\r\n     * @param secondaryKey sort key\r\n     * @return payload\r\n     */\r\n    @Override\r\n    public Payload read(String primaryKey, String secondaryKey) {\r\n        return productTable.getItem(Key.builder().partitionValue(primaryKey).sortValue(secondaryKey).build());\r\n    }\r\n\r\n    /**\r\n     * Read Record based on trace id\r\n     * @param sortKey primary identifier\r\n     * @return payload\r\n     */\r\n    @Override\r\n    public Collection&lt;Payload&gt; read(String sortKey) {\r\n        // tried enhanced query, but it expects partition.\r\n        QueryEnhancedRequest enhancedRequest = QueryEnhancedRequest.builder()\r\n                .queryConditional(QueryConditional.keyEqualTo(Key.builder().partitionValue(UUID.randomUUID().toString()).sortValue(sortKey).build()))\r\n                .scanIndexForward(false)\r\n                .consistentRead(false) // no need wait for updates\r\n                .build();\r\n\r\n        //Tried Expression\r\n \r\n        List&lt;Page&lt;Payload&gt;&gt; items = productTable.query(enhancedRequest).stream().collect(Collectors.toList());\r\n        //tried scan\r\n        Map&lt;String, AttributeValue&gt; start = (Map&lt;String, AttributeValue&gt;) new HashMap&lt;&gt;().put(&quot;createdAt&quot;, AttributeValue.builder().s(sortKey).build());\r\n        Iterator&lt;Page&lt;Payload&gt;&gt; a = productTable.scan(ScanEnhancedRequest.builder().exclusiveStartKey(start).build()).stream().iterator();\r\n    }\r\n\r\n    /**\r\n     * add item to dynamo db table\r\n     * @param payload input object\r\n     */\r\n    private void addItem(Payload payload) {\r\n        CompletableFuture.runAsync(()-&gt;productTable.putItemWithResponse(PutItemEnhancedRequest.builder(Payload.class).item(payload).returnValues(ReturnValue.ALL_OLD).build()))\r\n                .exceptionally(ex -&gt; {\r\n                    log.error(&quot;Unable to save item&quot;, ex);\r\n                    return null;\r\n                });\r\n     }\r\n```  \r\n\r\nI want to query this table based on date rather than id (programmatically), but want to query single row for debug purposes using id ( like correlation-id, traceId etc).\r\nMy Program will pull 1k records use the data to some processing, but I&#39;m not able to come up with proper queryCondition as AWS sdk expects me to provide both PK, SK. \r\n\r\nThis is the code I played with, LMK if something I&#39;ve doing it incorrectly. \r\n\r\nI&#39;ve index too, but not sure how to use it using enhanced sdk, didn&#39;t mention","title":"Is it possible to query dynamoDb table using only secondary key (SK)?","body":"<p>I've a table structure, something like this</p>\n<pre><code>aws dynamodb --endpoint-url=http://localhost:4566 create-table \\\n    --table-name localTable \\\n    --attribute-definitions \\\n        AttributeName=id,AttributeType=S \\\n        AttributeName=date,AttributeType=S \\\n    --key-schema \\\n        AttributeName=id,KeyType=HASH \\\n        AttributeName=date,KeyType=RANGE \\\n--provisioned-throughput \\\n        ReadCapacityUnits=10,WriteCapacityUnits=5\n</code></pre>\n<p>and some additional fields storing some json string,  time, process details etc.</p>\n<p>I want to query this table based on date rather than id (programmatically), but want to query single row for debug purposes using id ( like correlation-id, traceId etc).\nMy Program will pull 1k records use the data to some processing, but I'm not able to come up with proper queryCondition as AWS sdk expects me to provide both PK, SK.</p>\n<p>This is the code I played with, LMK if something I've doing it incorrectly.</p>\n<p>I've index too, but not sure how to use it using enhanced sdk, didn't mention</p>\n<pre><code>// sdk imports\nimport software.amazon.awssdk.enhanced.dynamodb.*;\nimport software.amazon.awssdk.enhanced.dynamodb.model.*;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.dynamodb.DynamoDbClient;\nimport software.amazon.awssdk.services.dynamodb.model.AttributeValue;\nimport software.amazon.awssdk.services.dynamodb.model.ReturnValue;\n\n....\n \n/**\n     * Get Documents between start date and end date\n     * @param primaryKey primary key\n     * @param secondaryKey sort key\n     * @return payload\n     */\n    @Override\n    public Payload read(String primaryKey, String secondaryKey) {\n        return productTable.getItem(Key.builder().partitionValue(primaryKey).sortValue(secondaryKey).build());\n    }\n\n    /**\n     * Read Record based on trace id\n     * @param sortKey primary identifier\n     * @return payload\n     */\n    @Override\n    public Collection&lt;Payload&gt; read(String sortKey) {\n        // tried enhanced query, but it expects partition.\n        QueryEnhancedRequest enhancedRequest = QueryEnhancedRequest.builder()\n                .queryConditional(QueryConditional.keyEqualTo(Key.builder().partitionValue(UUID.randomUUID().toString()).sortValue(sortKey).build()))\n                .scanIndexForward(false)\n                .consistentRead(false) // no need wait for updates\n                .build();\n\n        //Tried Expression\n \n        List&lt;Page&lt;Payload&gt;&gt; items = productTable.query(enhancedRequest).stream().collect(Collectors.toList());\n        //tried scan\n        Map&lt;String, AttributeValue&gt; start = (Map&lt;String, AttributeValue&gt;) new HashMap&lt;&gt;().put(&quot;createdAt&quot;, AttributeValue.builder().s(sortKey).build());\n        Iterator&lt;Page&lt;Payload&gt;&gt; a = productTable.scan(ScanEnhancedRequest.builder().exclusiveStartKey(start).build()).stream().iterator();\n    }\n\n    /**\n     * add item to dynamo db table\n     * @param payload input object\n     */\n    private void addItem(Payload payload) {\n        CompletableFuture.runAsync(()-&gt;productTable.putItemWithResponse(PutItemEnhancedRequest.builder(Payload.class).item(payload).returnValues(ReturnValue.ALL_OLD).build()))\n                .exceptionally(ex -&gt; {\n                    log.error(&quot;Unable to save item&quot;, ex);\n                    return null;\n                });\n     }\n</code></pre>\n<p>I want to query this table based on date rather than id (programmatically), but want to query single row for debug purposes using id ( like correlation-id, traceId etc).\nMy Program will pull 1k records use the data to some processing, but I'm not able to come up with proper queryCondition as AWS sdk expects me to provide both PK, SK.</p>\n<p>This is the code I played with, LMK if something I've doing it incorrectly.</p>\n<p>I've index too, but not sure how to use it using enhanced sdk, didn't mention</p>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1674548849,"post_id":75218976,"comment_id":132731814,"body_markdown":"`&quot;jdbc:sqlite:D:\\Clients\\Client1\\sqlite\\clientdb.db&quot;` you should escape those backslashes: `&quot;jdbc:sqlite:D:\\\\Clients\\\\Client1\\\\sqlite\\\\clientdb.db&quot;`","body":"<code>&quot;jdbc:sqlite:D:\\Clients\\Client1\\sqlite\\clientdb.db&quot;</code> you should escape those backslashes: <code>&quot;jdbc:sqlite:D:\\\\Clients\\\\Client1\\\\sqlite\\\\clientdb.db&quot;</code>"},{"owner":{"account_id":26336580,"reputation":1,"user_id":19996345,"display_name":"user19996345"},"score":0,"creation_date":1674550095,"post_id":75218976,"comment_id":132732219,"body_markdown":"But it&#39;s able to create table with same connection string","body":"But it&#39;s able to create table with same connection string"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1674550218,"post_id":75218976,"comment_id":132732254,"body_markdown":"That string doesn&#39;t even compile on my machine. So are you sure that&#39;s your actual code (or, even better, a [example])?","body":"That string doesn&#39;t even compile on my machine. So are you sure that&#39;s your actual code (or, even better, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)?"},{"owner":{"account_id":26336580,"reputation":1,"user_id":19996345,"display_name":"user19996345"},"score":0,"creation_date":1674551771,"post_id":75218976,"comment_id":132732727,"body_markdown":"I updated my code with connection string, &quot;jdbc:sqlite:D:/Clients/Client1/sqlite/clientDb.db&quot;","body":"I updated my code with connection string, &quot;jdbc:sqlite:D:/Clients/Client1/sqlite/clientDb.db&quot;"}],"owner":{"account_id":26336580,"reputation":1,"user_id":19996345,"display_name":"user19996345"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688429009,"creation_date":1674548644,"question_id":75218976,"body_markdown":"I use SQLite with Maven and Java8. I am able to create database and tables. But when I do a select query it is throwing exception on `PreaparedStatement`:\r\n\r\n&gt; org.sqlite.SQLiteException: [SQLITE_ERROR] SQL error or missing database (no such table: test_table)\r\n\r\nMy database file is in &quot;D:/Clients/Client1/sqlite/clientDb.db&quot;.\r\n\r\n```\r\npublic boolean testSelectQuery(String val1, String val2) {\r\n\t\r\n    String sql = &quot;SELECT  *FROM test_table WHERE col1 = ? and col2 = ? &quot;;\r\n\tConnection connection = null;\r\n\tResultSet rs = null;\r\n    PreparedStatement pstmt = null;\r\n\r\n    try {\r\n\t    connection = DriverManager.getConnection(&quot;jdbc:sqlite:D:/Clients/Client1/sqlite/clientDb.db&quot;);\r\n\t    pstmt = connection.prepareStatement(sql);**// Throwing exception**\r\n\t    // set the value\r\n\t    pstmt.setString(1, val1);\r\n\t    pstmt.setString(2, val2);\r\n\t    rs = pstmt.executeQuery(sql);\r\n\t    return rs.isBeforeFirst();\r\n\r\n    } catch (SQLException e) {\r\n\t    return false;\r\n    } finally {\r\n\t    //close resources\r\n    }          \r\n}\r\n```\r\n\r\nI tried adding database name before table like `database.table_name` but it&#39;s not working.","title":"org.sqlite.SQLiteException: [SQLITE_ERROR] SQL error or missing database (no such table: test_table)","body":"<p>I use SQLite with Maven and Java8. I am able to create database and tables. But when I do a select query it is throwing exception on <code>PreaparedStatement</code>:</p>\n<blockquote>\n<p>org.sqlite.SQLiteException: [SQLITE_ERROR] SQL error or missing database (no such table: test_table)</p>\n</blockquote>\n<p>My database file is in &quot;D:/Clients/Client1/sqlite/clientDb.db&quot;.</p>\n<pre><code>public boolean testSelectQuery(String val1, String val2) {\n    \n    String sql = &quot;SELECT  *FROM test_table WHERE col1 = ? and col2 = ? &quot;;\n    Connection connection = null;\n    ResultSet rs = null;\n    PreparedStatement pstmt = null;\n\n    try {\n        connection = DriverManager.getConnection(&quot;jdbc:sqlite:D:/Clients/Client1/sqlite/clientDb.db&quot;);\n        pstmt = connection.prepareStatement(sql);**// Throwing exception**\n        // set the value\n        pstmt.setString(1, val1);\n        pstmt.setString(2, val2);\n        rs = pstmt.executeQuery(sql);\n        return rs.isBeforeFirst();\n\n    } catch (SQLException e) {\n        return false;\n    } finally {\n        //close resources\n    }          \n}\n</code></pre>\n<p>I tried adding database name before table like <code>database.table_name</code> but it's not working.</p>\n"},{"tags":["java","android","react-native","gradle"],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688428705,"creation_date":1688428705,"answer_id":76608686,"question_id":76607268,"body_markdown":"There are two major problems in your setup.\r\n\r\n1. you are using a Java version to run Gradle with which your Gradle version is not compatible with. See https://docs.gradle.org/current/userguide/compatibility.html for detailed information.\r\n\r\n2. as the error tells you, you are using `-XX:MaxPermSize` in `org.gradle.jvmargs`. This option is not used anymore since Java 8 which also is the minimum supported version to run Gradle, so the option is totally useless. Additionally, in the meantime the option was removed and thus your try to start with that option fails with a hard error. Remove that option and all should be fine for this part, but point 1 stays valid.","title":"Unable to start the demon process in android studio (Unrecognized VM option &#39;MaxPermSize=512m&#39;)","body":"<p>There are two major problems in your setup.</p>\n<ol>\n<li><p>you are using a Java version to run Gradle with which your Gradle version is not compatible with. See <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a> for detailed information.</p>\n</li>\n<li><p>as the error tells you, you are using <code>-XX:MaxPermSize</code> in <code>org.gradle.jvmargs</code>. This option is not used anymore since Java 8 which also is the minimum supported version to run Gradle, so the option is totally useless. Additionally, in the meantime the option was removed and thus your try to start with that option fails with a hard error. Remove that option and all should be fine for this part, but point 1 stays valid.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":17541756,"reputation":111,"user_id":12723803,"display_name":"HendyCrcs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688492905,"answer_count":1,"score":0,"last_activity_date":1688428705,"creation_date":1688408168,"question_id":76607268,"body_markdown":"I just upgrading my android studio to\r\n\r\n```\r\nAndroid Studio Flamingo | 2022.2.1 Patch 2\r\nBuild #AI-222.4459.24.2221.10121639, built on May 12, 2023\r\nRuntime version: 17.0.6+0-17.0.6b802.4-9586694 aarch64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\nmacOS 12.5.1\r\nGC: G1 Young Generation, G1 Old Generation\r\nMemory: 3072M\r\nCores: 8\r\nMetal Rendering is ON\r\nRegistry:\r\n    external.system.auto.import.disabled=true\r\n    ide.text.editor.with.preview.show.floating.toolbar=false\r\n    gradle.version.catalogs.dynamic.support=true\r\n```\r\n\r\nbut suddenly my react native project was unable to start in android studio\r\n\r\nI got error when it&#39;s syncing to my project here is it looks like\r\n\r\n[![Unable to start the daemon process][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ISR9T.png\r\n\r\n```\r\nUnable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.2.1/userguide/gradle_daemon.html\r\nProcess command line: /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home/bin/java -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xmx2048m -Dfile.encoding=UTF-8 -Duser.country=ID -Duser.language=en -Duser.variant -cp /Users/mochammadhendy_l/.gradle/wrapper/dists/gradle-6.2.1-bin/5m14x4d33sfxbtkeo25s43l8q/gradle-6.2.1/lib/gradle-launcher-6.2.1.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.2.1\r\nPlease read the following process output to find out more:\r\n-----------------------\r\nUnrecognized VM option &#39;MaxPermSize=512m&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\n-----------------------\r\nCheck the JVM arguments defined for the gradle process in:\r\n - gradle.properties in project root directory\r\n\r\n```\r\n\r\ngradle.properties\r\n```\r\n# Project-wide Gradle settings.\r\n\r\n# IDE (e.g. Android Studio) users:\r\n# Gradle settings configured through the IDE *will override*\r\n# any settings specified in this file.\r\n\r\n# For more details on how to configure your build environment visit\r\n# http://www.gradle.org/docs/current/userguide/build_environment.html\r\n\r\n# Specifies the JVM arguments used for the daemon process.\r\n# The setting is particularly useful for tweaking memory settings.\r\n# Default value: -Xmx10248m -XX:MaxPermSize=256m\r\norg.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\r\n\r\n# When configured, Gradle will run in incubating parallel mode.\r\n# This option should only be used with decoupled projects. More details, visit\r\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\r\n# org.gradle.parallel=true\r\n\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\n```\r\n\r\nis there any way to make fix without downgrad","title":"Unable to start the demon process in android studio (Unrecognized VM option &#39;MaxPermSize=512m&#39;)","body":"<p>I just upgrading my android studio to</p>\n<pre><code>Android Studio Flamingo | 2022.2.1 Patch 2\nBuild #AI-222.4459.24.2221.10121639, built on May 12, 2023\nRuntime version: 17.0.6+0-17.0.6b802.4-9586694 aarch64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nmacOS 12.5.1\nGC: G1 Young Generation, G1 Old Generation\nMemory: 3072M\nCores: 8\nMetal Rendering is ON\nRegistry:\n    external.system.auto.import.disabled=true\n    ide.text.editor.with.preview.show.floating.toolbar=false\n    gradle.version.catalogs.dynamic.support=true\n</code></pre>\n<p>but suddenly my react native project was unable to start in android studio</p>\n<p>I got error when it's syncing to my project here is it looks like</p>\n<p><a href=\"https://i.stack.imgur.com/ISR9T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ISR9T.png\" alt=\"Unable to start the daemon process\" /></a></p>\n<pre><code>Unable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.2.1/userguide/gradle_daemon.html\nProcess command line: /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home/bin/java -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xmx2048m -Dfile.encoding=UTF-8 -Duser.country=ID -Duser.language=en -Duser.variant -cp /Users/mochammadhendy_l/.gradle/wrapper/dists/gradle-6.2.1-bin/5m14x4d33sfxbtkeo25s43l8q/gradle-6.2.1/lib/gradle-launcher-6.2.1.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.2.1\nPlease read the following process output to find out more:\n-----------------------\nUnrecognized VM option 'MaxPermSize=512m'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n-----------------------\nCheck the JVM arguments defined for the gradle process in:\n - gradle.properties in project root directory\n\n</code></pre>\n<p>gradle.properties</p>\n<pre><code># Project-wide Gradle settings.\n\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\n# Default value: -Xmx10248m -XX:MaxPermSize=256m\norg.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true\n\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>is there any way to make fix without downgrad</p>\n"},{"tags":["java","unit-testing","testing","jmockit","java-17"],"comments":[{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":0,"creation_date":1688126709,"post_id":76583119,"comment_id":135035677,"body_markdown":"Can you add the stacktrace?","body":"Can you add the stacktrace?"}],"answers":[{"tags":[],"owner":{"account_id":8065551,"reputation":303,"user_id":6079824,"accept_rate":85,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688428274,"creation_date":1688428274,"answer_id":76608672,"question_id":76583119,"body_markdown":"jmockit 1.49 doesn&#39;t support JDK 17. ","title":"Jmockit dependency with jdk17","body":"<p>jmockit 1.49 doesn't support JDK 17.</p>\n"}],"owner":{"account_id":8065551,"reputation":303,"user_id":6079824,"accept_rate":85,"display_name":"Patrick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76608672,"answer_count":1,"score":1,"last_activity_date":1688428274,"creation_date":1688057613,"question_id":76583119,"body_markdown":"Moving from JDK 8 to JDK 17.\r\n\r\njmockit 1.24 is working fine with JDK 8\r\n\r\nI tried the newest version jmockit 1.49 with JDK 17\r\nAnd having error &quot;Jmockit didn&#39;t get initialized&quot;\r\n\r\nDoes jmockit 1.49 support JDK 17? \r\n\r\n","title":"Jmockit dependency with jdk17","body":"<p>Moving from JDK 8 to JDK 17.</p>\n<p>jmockit 1.24 is working fine with JDK 8</p>\n<p>I tried the newest version jmockit 1.49 with JDK 17\nAnd having error &quot;Jmockit didn't get initialized&quot;</p>\n<p>Does jmockit 1.49 support JDK 17?</p>\n"},{"tags":["java","kotlin","pagination","http-headers","micronaut"],"owner":{"account_id":22379297,"reputation":31,"user_id":16593124,"display_name":"HoneTheRat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688427444,"creation_date":1688427444,"question_id":76608630,"body_markdown":"Have spent the better part of a day looking for a nice way to read `Link` header from Micronaut&#39;s `HttpResponse` using a declarative client. Have a working solution, but feels like there should be something better...\r\n\r\nPre-req:\r\n\r\n- Micronaut version 3.9.3\r\n- Api that returns paged data\r\n- `Link` header contains information on first, last, next, and prev pages\r\n- Micronaut declarative client to call said api\r\n- Wish to get all pages from api using declarative client\r\n\r\nExample api response `Link` header:\r\n`Link: &lt;my/api/path?page=1&amp;per_page=50&gt;; rel=&quot;first&quot;, &lt;my/api/path?page=2&amp;per_page=50&gt;; rel=&quot;next&quot;, &lt;my/api/path?page=3&amp;per_page=50&gt;; rel=&quot;prev&quot;, &lt;my/api/path?page=4&amp;per_page=50&gt;; rel=&quot;last&quot;`\r\n\r\nCurrent setup:\r\n\r\n- client:\r\n\r\n```kotlin\r\n@Client(&quot;my-client&quot;)\r\n@Headers(\r\n  value = [\r\n    Header(name = &quot;content-type&quot;, value = MediaType.APPLICATION_JSON),\r\n    Header(name = &quot;x-api-key&quot;, value = &quot;\\${api.key}&quot;),\r\n  ]\r\n)\r\ninterface TestClient {\r\n  // per page included in my-path value\r\n  @Get(&quot;\\${my-path}&quot;)\r\n  suspend fun getData(@QueryValue page: Int): HttpResponse&lt;List&lt;Any&gt;&gt;\r\n}\r\n```\r\n\r\n- service:\r\n\r\n```kotlin\r\n@Singleton\r\nclass TestService(private val testClient: TestClient) {\r\n  suspend fun getAllData(): List&lt;Any&gt; {\r\n    val results = mutableListOf&lt;Any&gt;()\r\n    var page = 1\r\n    var hasNextPage = true\r\n\r\n    // Want to replace this if possible\r\n    while (hasNextPage) {\r\n      val response = testClient.getData(page)\r\n      results.addAll(response.body()!!)\r\n      page++\r\n      hasNextPage = response.header(HttpHeaders.LINK)?.contains(&quot;next&quot;) == true\r\n    }\r\n\r\n    return results\r\n  }\r\n}\r\n```\r\n\r\nThis all works, but the `response.header(HttpHeaders.LINK)?.contains(&quot;next&quot;) == true` feels weird to say the least. Seeing as there are ways to make paginated endpoints, it feels like there should also be ways to make paginated clients in a more &quot;Micronauty&quot; way. Ideal solution would probably be some way to mark this client as pageable or be able to actually read the `Link` header into some data type that is already provided via Micronaut or somer other common dep and not need to parse it ourselves. Seems there are quite a handful of other threads/questions around deserializing `Link` headers as well, so something else to definitely look into...","title":"Paged Micronaut http client","body":"<p>Have spent the better part of a day looking for a nice way to read <code>Link</code> header from Micronaut's <code>HttpResponse</code> using a declarative client. Have a working solution, but feels like there should be something better...</p>\n<p>Pre-req:</p>\n<ul>\n<li>Micronaut version 3.9.3</li>\n<li>Api that returns paged data</li>\n<li><code>Link</code> header contains information on first, last, next, and prev pages</li>\n<li>Micronaut declarative client to call said api</li>\n<li>Wish to get all pages from api using declarative client</li>\n</ul>\n<p>Example api response <code>Link</code> header:\n<code>Link: &lt;my/api/path?page=1&amp;per_page=50&gt;; rel=&quot;first&quot;, &lt;my/api/path?page=2&amp;per_page=50&gt;; rel=&quot;next&quot;, &lt;my/api/path?page=3&amp;per_page=50&gt;; rel=&quot;prev&quot;, &lt;my/api/path?page=4&amp;per_page=50&gt;; rel=&quot;last&quot;</code></p>\n<p>Current setup:</p>\n<ul>\n<li>client:</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Client(&quot;my-client&quot;)\n@Headers(\n  value = [\n    Header(name = &quot;content-type&quot;, value = MediaType.APPLICATION_JSON),\n    Header(name = &quot;x-api-key&quot;, value = &quot;\\${api.key}&quot;),\n  ]\n)\ninterface TestClient {\n  // per page included in my-path value\n  @Get(&quot;\\${my-path}&quot;)\n  suspend fun getData(@QueryValue page: Int): HttpResponse&lt;List&lt;Any&gt;&gt;\n}\n</code></pre>\n<ul>\n<li>service:</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Singleton\nclass TestService(private val testClient: TestClient) {\n  suspend fun getAllData(): List&lt;Any&gt; {\n    val results = mutableListOf&lt;Any&gt;()\n    var page = 1\n    var hasNextPage = true\n\n    // Want to replace this if possible\n    while (hasNextPage) {\n      val response = testClient.getData(page)\n      results.addAll(response.body()!!)\n      page++\n      hasNextPage = response.header(HttpHeaders.LINK)?.contains(&quot;next&quot;) == true\n    }\n\n    return results\n  }\n}\n</code></pre>\n<p>This all works, but the <code>response.header(HttpHeaders.LINK)?.contains(&quot;next&quot;) == true</code> feels weird to say the least. Seeing as there are ways to make paginated endpoints, it feels like there should also be ways to make paginated clients in a more &quot;Micronauty&quot; way. Ideal solution would probably be some way to mark this client as pageable or be able to actually read the <code>Link</code> header into some data type that is already provided via Micronaut or somer other common dep and not need to parse it ourselves. Seems there are quite a handful of other threads/questions around deserializing <code>Link</code> headers as well, so something else to definitely look into...</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674281481,"creation_date":1674281481,"answer_id":75191474,"question_id":75191419,"body_markdown":"There are two main problems:\r\n\r\n(1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;` \r\n\r\n(2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\n//REMOVE THIS\r\n//import javafx.event.ActionEvent;\r\n\r\n//ADD THIS\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class MainFrame extends JFrame {\r\n    final private Font mainFont = new Font(&quot;Segoe print&quot;, Font.BOLD, 18);\r\n    JTexThere are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\r\nimport jThere are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.ava.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.tField tfFirstName, tfLastName;\r\n    JLabel lbWelcome;\r\n\r\n    public void initialize(){\r\n        /********** Form Panel ***************/\r\n        JLabel lbFirstName = new JLabel(&quot;First Name&quot;);\r\n        lbFirstName.setFont(mainFont);\r\n\r\n        There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.tfFirstName = new JTextField();\r\n        tfFirstName.setFont(mainFont);\r\n\r\n        JLabel lbLastName = new JLabel(&quot;Last Name&quot;);\r\n        lbLastName.setFont(mainFont);\r\n\r\n        tfLastName = new JTextField();\r\n        tfLastName.setFont(mainFont);\r\n\r\n        JPanel formPanel = new JPanel();\r\n        formPanel.setLayout(new GridLayout(4, 1, 5, 5));\r\n        formPanel.add(lbFirstName);\r\n        formPanel.add(tfFirstName);\r\n        formPanel.add(lbLastName);\r\n        formPanel.add(tfLastName);\r\n\r\n        /********** Welcome Label ***************/\r\n        lbWelcome = new JLabel();\r\n        lbWelcome.setFont(mainFont);\r\n\r\n        /********** Button Panel ***************/\r\n        JButton btnOK = new JButton(&quot;OK&quot;);\r\n        btnOK.setFont(mainFont);\r\n        btnOK.addActionListener(new ActionListener(){\r\n\r\n            @Overrideimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class MainFrame extends JFrame {\r\n    final private Font mainFont = new Font(&quot;Segoe print&quot;, Font.BOLD, 18);\r\n    JTextField tfFirstName, tfLastName;\r\n    JLabel lbWelcome;\r\n\r\n    public void initialize(){\r\n        /********** Form Panel ***************/\r\n        JLabel lbFirstName = new JLabel(&quot;First Name&quot;);\r\n        lbFirstName.setFont(mainFont);\r\n\r\n        tfFirstName = new JTextField();\r\n        tfFirstName.setFont(mainFont);\r\n\r\n        JLabel lbLastName = new JLabel(&quot;Last Name&quot;);\r\n        lbLastName.setFont(mainFont);\r\n\r\n        tfLastName = new JTextField();\r\n        tfLastName.setFont(mainFont);\r\n\r\n        JPanel formPanel = new JPanel();\r\n        formPanel.setLayout(new GridLayout(4, 1, 5, 5));\r\n        formPanel.add(lbFirstName);\r\n        formPanel.add(tfFirstName);\r\n        formPanel.add(lbLastName);\r\n        formPanel.add(tfLastName);\r\n\r\n        /********** Welcome Label ***************/\r\n        lbWelcome = new JLabel();\r\n        lbWelcome.setFont(mainFont);\r\n\r\n        /********** Button Panel ***************/\r\n        JButton btnOK = new JButton(&quot;OK&quot;);\r\n        btnOK.setFont(mainFont);\r\n        btnOK.addActionListener(new ActionListener(){\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e){\r\n                // TODO Auto-generated method stub\r\n                String firstName = tfFirstName.getText();\r\n                String lastName = tfLastName.getText();\r\n                lbWelcome.setText(&quot;Hello &quot; + firstName + &quot; &quot; + lastName);\r\n            }\r\n        });\r\n\r\n        JButton btnClear = new JButton(&quot;Clear&quot;);\r\n        btnClear.setFont(mainFont);\r\n        btnClear.addActionListener(new ActionListener(){\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e){\r\n                tfFirstName.setText(&quot;&quot;);\r\n                tfLastName.setText(&quot;&quot;);\r\n                lbWelcome.setText(&quot;&quot;);\r\n            }\r\n        });\r\n\r\n        JPanel buttonsPanel = new JPanel();\r\n        buttonsPanel.setLayout(new BorderLayout());\r\n\r\n//MOVE SEQUENCE JPanel mainPanel = new JPanel();\r\n        JPanel mainPanel = new JPanel();\r\n        mainPanel.setLayout(new BorderLayout());\r\n        mainPanel.setBackground(new Color(128, 128, 255));\r\n        mainPanel.add(formPanel, BorderLayout.NORTH);\r\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\r\n        mainPanel.setBackground(new Color(128, 128, 255));\r\n        mainPanel.add(formPanel, BorderLayout.NORTH);\r\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\r\n        mainPanel.add(buttonsPanel, BorderLayout.SOUTH);\r\n\r\n        add(mainPanel);\r\n\r\n\r\n\r\n        setTitle(&quot;Welcome&quot;);\r\n        setSize(500, 600);\r\n        setMinimumSize(new Dimension(300, 400));\r\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MainFrame myFrame = new MainFrame();\r\n        myFrame.initialize();\r\n    }\r\n}\r\n\r\n            public void actionPerformed(ActionEvent e){\r\n                // TODO Auto-generated method stub\r\n                String firstName = tfFirstName.getText();\r\n                String lastName = tfLastName.getText();\r\n                lbWelcome.setText(&quot;Hello &quot; + firstName + &quot; &quot; + lastName);\r\n            }\r\n        });\r\n\r\n        JButton btnClear = new JButton(&quot;Clear&quot;);\r\n        btnClear.setFont(mainFont);\r\n        btnClear.addActionListener(new ActionListener(){\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e){\r\n                tfFirstName.setText(&quot;&quot;);\r\n                tfLastName.setText(&quot;&quot;);\r\n                lbWelcome.setText(&quot;&quot;);\r\n            }\r\n        });\r\n\r\n        JPanel buttonsPanel = new JPanel();\r\n        buttonsPanel.setLayout(new BorderLayout());\r\n\r\n        JPanel mainPanel = new JPanel();\r\n        mainPanel.setLayout(new BorderLayout());\r\n        mainPanel.setBackground(new Color(128, 128, 255));\r\n        mainPanel.add(formPanel, BorderLayout.NORTH);\r\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\r\n        mainPanel.setBackground(new Color(128, 128, 255));\r\n        mainPanel.add(formPanel, BorderLayout.NORTH);\r\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\r\n        mainPanel.add(buttonsPanel, BorderLayout.SOUTH);\r\n\r\n        add(mainPanel);\r\n\r\n\r\n\r\n        setTitle(&quot;Welcome&quot;);\r\n        setSize(500, 600);\r\n        setMinimumSize(new Dimension(300, 400));\r\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MainFrame myFrame = new MainFrame();\r\n        myFrame.initialize();\r\n    }\r\n}\r\n```","title":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: at JavaProjectTest.src.MainFrame.main","body":"<p>There are two main problems:</p>\n<p>(1) <code>import javafx.event.ActionEvent;</code> should be changed to <code>import java.awt.event.ActionEvent; import java.awt.event.ActionListener;</code></p>\n<p>(2) The order of <code>JPanel mainPanel = new JPanel();</code> should be before using <code>mainPanel.setBackground(new Color(128, 128, 255));</code>.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\n//REMOVE THIS\n//import javafx.event.ActionEvent;\n\n//ADD THIS\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class MainFrame extends JFrame {\n    final private Font mainFont = new Font(&quot;Segoe print&quot;, Font.BOLD, 18);\n    JTexThere are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\nimport jThere are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.ava.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.tField tfFirstName, tfLastName;\n    JLabel lbWelcome;\n\n    public void initialize(){\n        /********** Form Panel ***************/\n        JLabel lbFirstName = new JLabel(&quot;First Name&quot;);\n        lbFirstName.setFont(mainFont);\n\n        There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.tfFirstName = new JTextField();\n        tfFirstName.setFont(mainFont);\n\n        JLabel lbLastName = new JLabel(&quot;Last Name&quot;);\n        lbLastName.setFont(mainFont);\n\n        tfLastName = new JTextField();\n        tfLastName.setFont(mainFont);\n\n        JPanel formPanel = new JPanel();\n        formPanel.setLayout(new GridLayout(4, 1, 5, 5));\n        formPanel.add(lbFirstName);\n        formPanel.add(tfFirstName);\n        formPanel.add(lbLastName);\n        formPanel.add(tfLastName);\n\n        /********** Welcome Label ***************/\n        lbWelcome = new JLabel();\n        lbWelcome.setFont(mainFont);\n\n        /********** Button Panel ***************/\n        JButton btnOK = new JButton(&quot;OK&quot;);\n        btnOK.setFont(mainFont);\n        btnOK.addActionListener(new ActionListener(){\n\n            @Overrideimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class MainFrame extends JFrame {\n    final private Font mainFont = new Font(&quot;Segoe print&quot;, Font.BOLD, 18);\n    JTextField tfFirstName, tfLastName;\n    JLabel lbWelcome;\n\n    public void initialize(){\n        /********** Form Panel ***************/\n        JLabel lbFirstName = new JLabel(&quot;First Name&quot;);\n        lbFirstName.setFont(mainFont);\n\n        tfFirstName = new JTextField();\n        tfFirstName.setFont(mainFont);\n\n        JLabel lbLastName = new JLabel(&quot;Last Name&quot;);\n        lbLastName.setFont(mainFont);\n\n        tfLastName = new JTextField();\n        tfLastName.setFont(mainFont);\n\n        JPanel formPanel = new JPanel();\n        formPanel.setLayout(new GridLayout(4, 1, 5, 5));\n        formPanel.add(lbFirstName);\n        formPanel.add(tfFirstName);\n        formPanel.add(lbLastName);\n        formPanel.add(tfLastName);\n\n        /********** Welcome Label ***************/\n        lbWelcome = new JLabel();\n        lbWelcome.setFont(mainFont);\n\n        /********** Button Panel ***************/\n        JButton btnOK = new JButton(&quot;OK&quot;);\n        btnOK.setFont(mainFont);\n        btnOK.addActionListener(new ActionListener(){\n\n            @Override\n            public void actionPerformed(ActionEvent e){\n                // TODO Auto-generated method stub\n                String firstName = tfFirstName.getText();\n                String lastName = tfLastName.getText();\n                lbWelcome.setText(&quot;Hello &quot; + firstName + &quot; &quot; + lastName);\n            }\n        });\n\n        JButton btnClear = new JButton(&quot;Clear&quot;);\n        btnClear.setFont(mainFont);\n        btnClear.addActionListener(new ActionListener(){\n\n            @Override\n            public void actionPerformed(ActionEvent e){\n                tfFirstName.setText(&quot;&quot;);\n                tfLastName.setText(&quot;&quot;);\n                lbWelcome.setText(&quot;&quot;);\n            }\n        });\n\n        JPanel buttonsPanel = new JPanel();\n        buttonsPanel.setLayout(new BorderLayout());\n\n//MOVE SEQUENCE JPanel mainPanel = new JPanel();\n        JPanel mainPanel = new JPanel();\n        mainPanel.setLayout(new BorderLayout());\n        mainPanel.setBackground(new Color(128, 128, 255));\n        mainPanel.add(formPanel, BorderLayout.NORTH);\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\n        mainPanel.setBackground(new Color(128, 128, 255));\n        mainPanel.add(formPanel, BorderLayout.NORTH);\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\n        mainPanel.add(buttonsPanel, BorderLayout.SOUTH);\n\n        add(mainPanel);\n\n\n\n        setTitle(&quot;Welcome&quot;);\n        setSize(500, 600);\n        setMinimumSize(new Dimension(300, 400));\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        MainFrame myFrame = new MainFrame();\n        myFrame.initialize();\n    }\n}\n\n            public void actionPerformed(ActionEvent e){\n                // TODO Auto-generated method stub\n                String firstName = tfFirstName.getText();\n                String lastName = tfLastName.getText();\n                lbWelcome.setText(&quot;Hello &quot; + firstName + &quot; &quot; + lastName);\n            }\n        });\n\n        JButton btnClear = new JButton(&quot;Clear&quot;);\n        btnClear.setFont(mainFont);\n        btnClear.addActionListener(new ActionListener(){\n\n            @Override\n            public void actionPerformed(ActionEvent e){\n                tfFirstName.setText(&quot;&quot;);\n                tfLastName.setText(&quot;&quot;);\n                lbWelcome.setText(&quot;&quot;);\n            }\n        });\n\n        JPanel buttonsPanel = new JPanel();\n        buttonsPanel.setLayout(new BorderLayout());\n\n        JPanel mainPanel = new JPanel();\n        mainPanel.setLayout(new BorderLayout());\n        mainPanel.setBackground(new Color(128, 128, 255));\n        mainPanel.add(formPanel, BorderLayout.NORTH);\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\n        mainPanel.setBackground(new Color(128, 128, 255));\n        mainPanel.add(formPanel, BorderLayout.NORTH);\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\n        mainPanel.add(buttonsPanel, BorderLayout.SOUTH);\n\n        add(mainPanel);\n\n\n\n        setTitle(&quot;Welcome&quot;);\n        setSize(500, 600);\n        setMinimumSize(new Dimension(300, 400));\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        MainFrame myFrame = new MainFrame();\n        myFrame.initialize();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75191474,"answer_count":1,"score":0,"last_activity_date":1688427103,"creation_date":1674280554,"question_id":75191419,"body_markdown":"I&#39;m working on simple Java GUI Frame creation with buttons, it should show the frame with two buttons &quot;OK&quot; and &quot;Clear&quot; respectively. And two lines for writing the First Name and Last Name. I&#39;m using VS Code editor.  Following code gives compilation error, any help would be appreciated:\r\n\r\n     import java.awt.*;\r\n     import javax.swing.*;\r\n     import javafx.event.ActionEvent;\r\n\r\n          public class MainFrame extends JFrame{\r\n               final private Font mainFont = new Font(&quot;Segoe print&quot;, Font.BOLD, 18);\r\n               JTextField tfFirstName, tfLastName;\r\n               JLabel lbWelcome;\r\n\r\n          public void initialize(){\r\n        /********** Form Panel ***************/\r\n        JLabel lbFirstName = new JLabel(&quot;First Name&quot;);\r\n        lbFirstName.setFont(mainFont);\r\n\r\n        tfFirstName = new JTextField();\r\n        tfFirstName.setFont(mainFont);\r\n\r\n        JLabel lbLastName = new JLabel(&quot;Last Name&quot;);\r\n        lbLastName.setFont(mainFont);\r\n\r\n        tfLastName = new JTextField();\r\n        tfLastName.setFont(mainFont);\r\n\r\n        JPanel formPanel = new JPanel();\r\n        formPanel.setLayout(new GridLayout(4, 1, 5, 5));\r\n        formPanel.add(lbFirstName);\r\n        formPanel.add(tfFirstName);\r\n        formPanel.add(lbLastName);\r\n        formPanel.add(tfLastName);\r\n\r\n        /********** Welcome Label ***************/\r\n        lbWelcome = new JLabel();\r\n        lbWelcome.setFont(mainFont);\r\n\r\n        /********** Button Panel ***************/\r\n        JButton btnOK = new JButton(&quot;OK&quot;);\r\n        btnOK.setFont(mainFont);\r\n        btnOK.addActionListener(new ActionListener(){\r\n              \r\n            @Override\r\n            public void actionPerformed(ActionEvent e){\r\n                // TODO Auto-generated method stub\r\n                String firstName = tfFirstName.getText();\r\n                String lastName = tfLastName.getText();\r\n                lbWelcome.setText(&quot;Hello &quot; + firstName + &quot; &quot; + lastName);\r\n            }\r\n        });\r\n\r\n        JButton btnClear = new JButton(&quot;Clear&quot;);\r\n        btnClear.setFont(mainFont);\r\n        btnClear.addActionListener(new ActionListener(){\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e){\r\n                tfFirstName.setText(&quot;&quot;);\r\n                tfLastName.setText(&quot;&quot;);\r\n                lbWelcome.setText(&quot;&quot;);\r\n            }\r\n        });\r\n\r\n        JPanel buttonsPanel = new JPanel();\r\n        buttonsPanel.setLayout(new BorderLayout());\r\n        mainPanel.setBackground(new Color(128, 128, 255));\r\n        mainPanel.add(formPanel, BorderLayout.NORTH);\r\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\r\n        mainPanel.add(buttonsPanel, BorderLayout.SOUTH);\r\n\r\n        add(mainPanel);\r\n\r\n        JPanel mainPanel = new JPanel();\r\n        mainPanel.setLayout(new BorderLayout());\r\n        mainPanel.setBackground(new Color(128, 128, 255));\r\n        mainPanel.add(formPanel, BorderLayout.NORTH);\r\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\r\n\r\n        setTitle(&quot;Welcome&quot;);\r\n        setSize(500, 600);\r\n        setMinimumSize(new Dimension(300, 400));\r\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MainFrame myFrame = new MainFrame();\r\n        myFrame.initialize();\r\n    }\r\n    }\r\n\r\n- Compilation error message: \r\n\r\n        Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n        at JavaProjectTest.src.MainFrame.main(MainFrame.java:83)\r\n\r\n- Output result after fix:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HhQU9.jpg","title":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: at JavaProjectTest.src.MainFrame.main","body":"<p>I'm working on simple Java GUI Frame creation with buttons, it should show the frame with two buttons &quot;OK&quot; and &quot;Clear&quot; respectively. And two lines for writing the First Name and Last Name. I'm using VS Code editor.  Following code gives compilation error, any help would be appreciated:</p>\n<pre><code> import java.awt.*;\n import javax.swing.*;\n import javafx.event.ActionEvent;\n\n      public class MainFrame extends JFrame{\n           final private Font mainFont = new Font(&quot;Segoe print&quot;, Font.BOLD, 18);\n           JTextField tfFirstName, tfLastName;\n           JLabel lbWelcome;\n\n      public void initialize(){\n    /********** Form Panel ***************/\n    JLabel lbFirstName = new JLabel(&quot;First Name&quot;);\n    lbFirstName.setFont(mainFont);\n\n    tfFirstName = new JTextField();\n    tfFirstName.setFont(mainFont);\n\n    JLabel lbLastName = new JLabel(&quot;Last Name&quot;);\n    lbLastName.setFont(mainFont);\n\n    tfLastName = new JTextField();\n    tfLastName.setFont(mainFont);\n\n    JPanel formPanel = new JPanel();\n    formPanel.setLayout(new GridLayout(4, 1, 5, 5));\n    formPanel.add(lbFirstName);\n    formPanel.add(tfFirstName);\n    formPanel.add(lbLastName);\n    formPanel.add(tfLastName);\n\n    /********** Welcome Label ***************/\n    lbWelcome = new JLabel();\n    lbWelcome.setFont(mainFont);\n\n    /********** Button Panel ***************/\n    JButton btnOK = new JButton(&quot;OK&quot;);\n    btnOK.setFont(mainFont);\n    btnOK.addActionListener(new ActionListener(){\n          \n        @Override\n        public void actionPerformed(ActionEvent e){\n            // TODO Auto-generated method stub\n            String firstName = tfFirstName.getText();\n            String lastName = tfLastName.getText();\n            lbWelcome.setText(&quot;Hello &quot; + firstName + &quot; &quot; + lastName);\n        }\n    });\n\n    JButton btnClear = new JButton(&quot;Clear&quot;);\n    btnClear.setFont(mainFont);\n    btnClear.addActionListener(new ActionListener(){\n\n        @Override\n        public void actionPerformed(ActionEvent e){\n            tfFirstName.setText(&quot;&quot;);\n            tfLastName.setText(&quot;&quot;);\n            lbWelcome.setText(&quot;&quot;);\n        }\n    });\n\n    JPanel buttonsPanel = new JPanel();\n    buttonsPanel.setLayout(new BorderLayout());\n    mainPanel.setBackground(new Color(128, 128, 255));\n    mainPanel.add(formPanel, BorderLayout.NORTH);\n    mainPanel.add(lbWelcome, BorderLayout.CENTER);\n    mainPanel.add(buttonsPanel, BorderLayout.SOUTH);\n\n    add(mainPanel);\n\n    JPanel mainPanel = new JPanel();\n    mainPanel.setLayout(new BorderLayout());\n    mainPanel.setBackground(new Color(128, 128, 255));\n    mainPanel.add(formPanel, BorderLayout.NORTH);\n    mainPanel.add(lbWelcome, BorderLayout.CENTER);\n\n    setTitle(&quot;Welcome&quot;);\n    setSize(500, 600);\n    setMinimumSize(new Dimension(300, 400));\n    setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    setVisible(true);\n}\n\npublic static void main(String[] args) {\n    MainFrame myFrame = new MainFrame();\n    myFrame.initialize();\n}\n}\n</code></pre>\n<ul>\n<li><p>Compilation error message:</p>\n<pre><code>  Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n  at JavaProjectTest.src.MainFrame.main(MainFrame.java:83)\n</code></pre>\n</li>\n<li><p>Output result after fix:</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/HhQU9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HhQU9.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["javascript","java","image","web-applications"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686910487,"post_id":76485303,"comment_id":134866628,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":5156519,"reputation":3345,"user_id":5272567,"display_name":"Matthias"},"score":0,"creation_date":1686911331,"post_id":76485303,"comment_id":134866825,"body_markdown":"have you console logged fileData to make sure it is not empty?","body":"have you console logged fileData to make sure it is not empty?"}],"answers":[{"tags":[],"owner":{"account_id":26606954,"reputation":7,"user_id":20227628,"display_name":"Edwin Tigor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688426632,"creation_date":1688426540,"answer_id":76608584,"question_id":76485303,"body_markdown":"You can&#39;t do like that. You have to convert filepath to uri. And get base 64 from uri on android process.\r\n\r\nDon&#39;t do convert base64 on front end. Just complete the base 64 string format by adding &quot;data:image/jpeg;base64,&quot; into base64 string that have been processed on android before.","title":"Why don&#39;t my images show up properly on the front end?","body":"<p>You can't do like that. You have to convert filepath to uri. And get base 64 from uri on android process.</p>\n<p>Don't do convert base64 on front end. Just complete the base 64 string format by adding &quot;data:image/jpeg;base64,&quot; into base64 string that have been processed on android before.</p>\n"}],"owner":{"account_id":28748711,"reputation":27,"user_id":22017236,"display_name":"Popo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688426632,"creation_date":1686860895,"question_id":76485303,"body_markdown":"I am developing a web application for a university project but I&#39;m having trouble displaying images on the front-end. The below Java code is being used to process images on the back-end:\r\n\r\n```java\r\nprivate byte[] getImageBytes(String directoryPath, String id) {\r\n   FilenameFilter filter = (dir, name) -&gt; name.matches(&quot;^&quot; + id + &quot;\\\\b.*&quot;);\r\n   File directory = new File(directoryPath);\r\n   File[] matchingFiles = directory.listFiles(filter);\r\n\r\n   if (matchingFiles == null) {\r\n      return null;\r\n   }\r\n\r\n  try (FileInputStream fis = new FileInputStream(matchingFiles[0])) {\r\n       byte[] fileData = new byte[(int) matchingFiles[0].length()];\r\n       fis.read(fileData);\r\n      return fileData;\r\n  } catch (IOException e) {\r\n       System.out.println(&quot;File could not be read: &quot; + e.getMessage());\r\n      return null;\r\n  }\r\n}\r\n```\r\nThe resulting byte[] is then given to an object annotated with @XmlRootElement and then returned to the front-end.\r\n\r\nOn the front-end, I use the following code to receive and process the images:\r\n\r\n```javascript\r\nlet imageElement = document.createElement(&quot;img&quot;);\r\nlet fileData = news.image;\r\nlet uint8Array = new Uint8Array(fileData);\r\nlet base64String = btoa(String.fromCharCode.apply(null, uint8Array));\r\nimageElement.src = &#39;data:image/jpeg;base64,&#39; + base64String;\r\n```\r\n\r\nThe `news` object is a JSON object with the `image` key, which contains the byte array generated from the earlier processing.\r\n\r\nHowever, when I append the `imageElement` to the designated location, the image is not displayed correctly. The image appears as shown:\r\n\r\n[image isn&#39;t displayed correctly](https://i.stack.imgur.com/DNGsF.png)\r\n\r\nCan anyone help me understand what I might be doing wrong or if there are any other pieces of code that I might be missing? Thank you very much for your help!","title":"Why don&#39;t my images show up properly on the front end?","body":"<p>I am developing a web application for a university project but I'm having trouble displaying images on the front-end. The below Java code is being used to process images on the back-end:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private byte[] getImageBytes(String directoryPath, String id) {\n   FilenameFilter filter = (dir, name) -&gt; name.matches(&quot;^&quot; + id + &quot;\\\\b.*&quot;);\n   File directory = new File(directoryPath);\n   File[] matchingFiles = directory.listFiles(filter);\n\n   if (matchingFiles == null) {\n      return null;\n   }\n\n  try (FileInputStream fis = new FileInputStream(matchingFiles[0])) {\n       byte[] fileData = new byte[(int) matchingFiles[0].length()];\n       fis.read(fileData);\n      return fileData;\n  } catch (IOException e) {\n       System.out.println(&quot;File could not be read: &quot; + e.getMessage());\n      return null;\n  }\n}\n</code></pre>\n<p>The resulting byte[] is then given to an object annotated with @XmlRootElement and then returned to the front-end.</p>\n<p>On the front-end, I use the following code to receive and process the images:</p>\n<pre class=\"lang-js prettyprint-override\"><code>let imageElement = document.createElement(&quot;img&quot;);\nlet fileData = news.image;\nlet uint8Array = new Uint8Array(fileData);\nlet base64String = btoa(String.fromCharCode.apply(null, uint8Array));\nimageElement.src = 'data:image/jpeg;base64,' + base64String;\n</code></pre>\n<p>The <code>news</code> object is a JSON object with the <code>image</code> key, which contains the byte array generated from the earlier processing.</p>\n<p>However, when I append the <code>imageElement</code> to the designated location, the image is not displayed correctly. The image appears as shown:</p>\n<p><a href=\"https://i.stack.imgur.com/DNGsF.png\" rel=\"nofollow noreferrer\">image isn't displayed correctly</a></p>\n<p>Can anyone help me understand what I might be doing wrong or if there are any other pieces of code that I might be missing? Thank you very much for your help!</p>\n"},{"tags":["java","visual-studio-code","javafx"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686897376,"creation_date":1686897376,"answer_id":76487508,"question_id":76486024,"body_markdown":"You better use the Java11 and above versions. And `vmArgs` is configured in *launch.json*, you need to use **Run and Debug** to debug, or `Start Debugging` or `Run Without Debugging` under the **Run** menu.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[*JavaFX and Visual Studio Code*][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DzTTn.png\r\n  [2]: https://openjfx.io/openjfx-docs/","title":"JavaFX in VScode. JavaFX runtime components are missing. Even though I have vmArgs","body":"<p>You better use the Java11 and above versions. And <code>vmArgs</code> is configured in <em>launch.json</em>, you need to use <strong>Run and Debug</strong> to debug, or <code>Start Debugging</code> or <code>Run Without Debugging</code> under the <strong>Run</strong> menu.</p>\n<p><a href=\"https://i.stack.imgur.com/DzTTn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DzTTn.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\"><em>JavaFX and Visual Studio Code</em></a></p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686941645,"creation_date":1686901530,"answer_id":76487998,"question_id":76486024,"body_markdown":"### The standard solution is:\r\n\r\n * Follow the openjfx.io instructions, entitled [Getting Started with JavaFX: JavaFX and Visual Studio Code][1]\r\n\r\nI recommend that (if you really want to use Visual Studio), not what is in the rest of this answer.\r\n\r\n-----\r\n\r\nAn alternate solution is to use a JDK which includes JavaFX.\r\n\r\nThese instructions worked for me.  I make no guarantee they will work for you or continue to work without modification in the future.  I also do not offer support for these instructions, they are presented &quot;as-is&quot;.  \r\n\r\n----\r\n\r\n### Visual Studio Code and Azul Zulu &quot;JDK FX&quot; distribution, which includes JavaFX\r\n\r\nDownload and install Azul Zulu &quot;JDK FX&quot; for your OS and architecture.\r\n\r\nHere is a link to an example download for Java 20, OS X, x64, JDK FX package, you can go to the link and change the settings for your system, then download and run the installer (I choose a `.dmg` installer for Mac).\r\n\r\n * https://www.azul.com/downloads/?version=java-20-sts&amp;os=macos&amp;architecture=x86-64-bit&amp;package=jdk-fx#zulu\r\n\r\nThat will install the JDK &quot;somewhere&quot; on your system.  On a Mac you can find out where by typing:\r\n\r\n    /usr/libexec/java_home -V\r\n\r\nThat shows me:\r\n\r\n    20.0.1 (x86_64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 20.30.11&quot; /Library/Java/JavaVirtualMachines/zulu-20.jdk/Contents/Home\r\n\r\nSo now I know where the JDK is installed.\r\n\r\nThen to setup the JDK in Visual Studio, go to &quot;Java: Getting Started&quot; on the Visual Studio site:\r\n\r\n * https://code.visualstudio.com/docs/java/java-tutorial\r\n\r\nChoose &quot;Install the Coding Pack for Java - macOS&quot; (use the Windows link instead if that is your OS).  \r\n\r\nOnce the VSCode installation is done, set up Zulu as your default JDK.  To do that you need to follow the instructions &quot;Configure Runtime for Projects&quot; in the Visual Studio documentation:\r\n\r\n * https://code.visualstudio.com/docs/java/java-project\r\n\r\nThis requires you to [edit setings][2]. Type &quot;Command+,&quot; (on a Mac) to open settings, in the settings field type:\r\n\r\n    java.configuration.runtimes\r\n\r\nClick on the link displayed: &quot;Edit in settings.json&quot;.\r\n\r\nThe json file should be edited and saved to include this section (inside the outer `{` and `}` json structure):\r\n\r\n    &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n           &quot;name&quot;: &quot;JavaSE-20&quot;,\r\n           &quot;path&quot;: &quot;/Library/Java/JavaVirtualMachines/zulu-20.jdk/Contents/Home&quot;,\r\n           &quot;default&quot;: true\r\n        }\r\n    ]\r\n \r\nThe name has to be one of `JavaSE-NN` where `NN` is a Java version.  I use `JavaSE-20`, because that is the version of the JDK which I got from Zulu.\r\n\r\nThe path is set to the path for the JDK that I got from the `java_home` command.\r\n\r\nOK, now you have your Java and IDE setup, you have to work on creating your project.  \r\n\r\nCreate a new folder on your machine (I used a terminal on a Mac to create a folder I named `hellofx`).  Then on the Visual Studio &quot;Welcome&quot; page, choose &quot;Open...&quot; and choose the new folder you just created.  It will prompt you if you trust the authors, choose &quot;Yes, I trust the authors&quot;, if you trust yourself.  In the Explorer on the left it will list your folder name in all caps, for me it says &quot;HELLOFX&quot;.  On the welcome screen choose &quot;New File...&quot;, choose &quot;New Java class&quot;.  Copy and paste the [HelloFX code from openjfx.io][3].\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class HelloFX extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            String javaVersion = System.getProperty(&quot;java.version&quot;);\r\n            String javafxVersion = System.getProperty(&quot;javafx.version&quot;);\r\n            Label l = new Label(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;, running on Java &quot; + javaVersion + &quot;.&quot;);\r\n            Scene scene = new Scene(new StackPane(l), 640, 480);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n    }\r\n\r\nChoose File | Save and enter the name &quot;HelloFX.java&quot;.\r\n\r\nClick the arrow icon on the left of the screen and press &quot;Run and Debug&quot; to run the app.\r\n\r\nYour app will run and display a window using JavaFX with text in a Label, similar to that below:\r\n\r\n    Hello, JavaFX 20.0.1, running on Java 20.0.1.\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#IDE-VSCode\r\n  [2]: https://code.visualstudio.com/docs/getstarted/settings\r\n  [3]: https://github.com/openjfx/samples/blob/master/HelloFX/CLI/hellofx/HelloFX.java","title":"JavaFX in VScode. JavaFX runtime components are missing. Even though I have vmArgs","body":"<h3>The standard solution is:</h3>\n<ul>\n<li>Follow the openjfx.io instructions, entitled <a href=\"https://openjfx.io/openjfx-docs/#IDE-VSCode\" rel=\"nofollow noreferrer\">Getting Started with JavaFX: JavaFX and Visual Studio Code</a></li>\n</ul>\n<p>I recommend that (if you really want to use Visual Studio), not what is in the rest of this answer.</p>\n<hr />\n<p>An alternate solution is to use a JDK which includes JavaFX.</p>\n<p>These instructions worked for me.  I make no guarantee they will work for you or continue to work without modification in the future.  I also do not offer support for these instructions, they are presented &quot;as-is&quot;.</p>\n<hr />\n<h3>Visual Studio Code and Azul Zulu &quot;JDK FX&quot; distribution, which includes JavaFX</h3>\n<p>Download and install Azul Zulu &quot;JDK FX&quot; for your OS and architecture.</p>\n<p>Here is a link to an example download for Java 20, OS X, x64, JDK FX package, you can go to the link and change the settings for your system, then download and run the installer (I choose a <code>.dmg</code> installer for Mac).</p>\n<ul>\n<li><a href=\"https://www.azul.com/downloads/?version=java-20-sts&amp;os=macos&amp;architecture=x86-64-bit&amp;package=jdk-fx#zulu\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/?version=java-20-sts&amp;os=macos&amp;architecture=x86-64-bit&amp;package=jdk-fx#zulu</a></li>\n</ul>\n<p>That will install the JDK &quot;somewhere&quot; on your system.  On a Mac you can find out where by typing:</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>That shows me:</p>\n<pre><code>20.0.1 (x86_64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 20.30.11&quot; /Library/Java/JavaVirtualMachines/zulu-20.jdk/Contents/Home\n</code></pre>\n<p>So now I know where the JDK is installed.</p>\n<p>Then to setup the JDK in Visual Studio, go to &quot;Java: Getting Started&quot; on the Visual Studio site:</p>\n<ul>\n<li><a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-tutorial</a></li>\n</ul>\n<p>Choose &quot;Install the Coding Pack for Java - macOS&quot; (use the Windows link instead if that is your OS).</p>\n<p>Once the VSCode installation is done, set up Zulu as your default JDK.  To do that you need to follow the instructions &quot;Configure Runtime for Projects&quot; in the Visual Studio documentation:</p>\n<ul>\n<li><a href=\"https://code.visualstudio.com/docs/java/java-project\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-project</a></li>\n</ul>\n<p>This requires you to <a href=\"https://code.visualstudio.com/docs/getstarted/settings\" rel=\"nofollow noreferrer\">edit setings</a>. Type &quot;Command+,&quot; (on a Mac) to open settings, in the settings field type:</p>\n<pre><code>java.configuration.runtimes\n</code></pre>\n<p>Click on the link displayed: &quot;Edit in settings.json&quot;.</p>\n<p>The json file should be edited and saved to include this section (inside the outer <code>{</code> and <code>}</code> json structure):</p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n    {\n       &quot;name&quot;: &quot;JavaSE-20&quot;,\n       &quot;path&quot;: &quot;/Library/Java/JavaVirtualMachines/zulu-20.jdk/Contents/Home&quot;,\n       &quot;default&quot;: true\n    }\n]\n</code></pre>\n<p>The name has to be one of <code>JavaSE-NN</code> where <code>NN</code> is a Java version.  I use <code>JavaSE-20</code>, because that is the version of the JDK which I got from Zulu.</p>\n<p>The path is set to the path for the JDK that I got from the <code>java_home</code> command.</p>\n<p>OK, now you have your Java and IDE setup, you have to work on creating your project.</p>\n<p>Create a new folder on your machine (I used a terminal on a Mac to create a folder I named <code>hellofx</code>).  Then on the Visual Studio &quot;Welcome&quot; page, choose &quot;Open...&quot; and choose the new folder you just created.  It will prompt you if you trust the authors, choose &quot;Yes, I trust the authors&quot;, if you trust yourself.  In the Explorer on the left it will list your folder name in all caps, for me it says &quot;HELLOFX&quot;.  On the welcome screen choose &quot;New File...&quot;, choose &quot;New Java class&quot;.  Copy and paste the <a href=\"https://github.com/openjfx/samples/blob/master/HelloFX/CLI/hellofx/HelloFX.java\" rel=\"nofollow noreferrer\">HelloFX code from openjfx.io</a>.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class HelloFX extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        String javaVersion = System.getProperty(&quot;java.version&quot;);\n        String javafxVersion = System.getProperty(&quot;javafx.version&quot;);\n        Label l = new Label(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;, running on Java &quot; + javaVersion + &quot;.&quot;);\n        Scene scene = new Scene(new StackPane(l), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<p>Choose File | Save and enter the name &quot;HelloFX.java&quot;.</p>\n<p>Click the arrow icon on the left of the screen and press &quot;Run and Debug&quot; to run the app.</p>\n<p>Your app will run and display a window using JavaFX with text in a Label, similar to that below:</p>\n<pre><code>Hello, JavaFX 20.0.1, running on Java 20.0.1.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28817475,"reputation":41,"user_id":22070765,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688425927,"creation_date":1687057799,"answer_id":76498902,"question_id":76486024,"body_markdown":"What I did is I deleted Java and everything, downloaded everything all over again, and followed this [Getting Started with JavaFX: JavaFX and Visual Studio Code][1].\r\nIt worked.\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#IDE-VSCode\r\n\r\nEdit: Sometimes it takes a long time to work, even though I have already saved my launch.json and setting.json files. Just make a copy of the whole file that works, it will save a lot of time.\r\n","title":"JavaFX in VScode. JavaFX runtime components are missing. Even though I have vmArgs","body":"<p>What I did is I deleted Java and everything, downloaded everything all over again, and followed this <a href=\"https://openjfx.io/openjfx-docs/#IDE-VSCode\" rel=\"nofollow noreferrer\">Getting Started with JavaFX: JavaFX and Visual Studio Code</a>.\nIt worked.</p>\n<p>Edit: Sometimes it takes a long time to work, even though I have already saved my launch.json and setting.json files. Just make a copy of the whole file that works, it will save a lot of time.</p>\n"}],"owner":{"account_id":28817475,"reputation":41,"user_id":22070765,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76498902,"answer_count":3,"score":1,"last_activity_date":1688425927,"creation_date":1686870541,"question_id":76486024,"body_markdown":"I am learning JavaFX using VScode, but I am continuously getting an error message stating, &quot;Error: JavaFX runtime components are missing and are required to run this application&quot;, despite having entered vmArgs in launch.json and adding JavaFX to the referenced library as shown in multiple tutorial videos. My vmArgs look something like this:\r\n\r\n```json\r\n&quot;vmArgs&quot;: &quot;--module-path C:/.../Desktop/javafx-sdk-20.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;, \r\n```\r\n\r\nI have tried multiple vmArgs, including having the JavaFX stored in the Download folder, but the error persists. I suspect that there may be an issue with my Configure Java Runtime, which appears to be empty, or something related to JAVA_HOME. Can someone help me resolve this issue? Thank you in advance.","title":"JavaFX in VScode. JavaFX runtime components are missing. Even though I have vmArgs","body":"<p>I am learning JavaFX using VScode, but I am continuously getting an error message stating, &quot;Error: JavaFX runtime components are missing and are required to run this application&quot;, despite having entered vmArgs in launch.json and adding JavaFX to the referenced library as shown in multiple tutorial videos. My vmArgs look something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;vmArgs&quot;: &quot;--module-path C:/.../Desktop/javafx-sdk-20.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;, \n</code></pre>\n<p>I have tried multiple vmArgs, including having the JavaFX stored in the Download folder, but the error persists. I suspect that there may be an issue with my Configure Java Runtime, which appears to be empty, or something related to JAVA_HOME. Can someone help me resolve this issue? Thank you in advance.</p>\n"},{"tags":["java","spring","classpath","banner"],"answers":[{"tags":[],"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1556093810,"creation_date":1556093810,"answer_id":55825370,"question_id":55825124,"body_markdown":"From Spring documentation \r\n\r\n&gt; The wildcard classpath relies on the getResources() method of the underlying classloader. As most application servers nowadays supply their own classloader implementation, the behavior might differ especially when dealing with jar files. A simple test to check if classpath* works is to use the classloader to load a file from within a jar on the classpath: getClass().getClassLoader().getResources(&quot;&lt;someFileInsideTheJar&gt;&quot;). Try this test with files that have the same name but are placed inside two different locations. In case an inappropriate result is returned, check the application server documentation for settings that might affect the classloader behavior.\r\n\r\nSo classPath is for load the resources from current class loader (simply for understanding will not read resources under jar or other project dependency)\r\n\r\nclasspath* will do the jar or other class loader resources.\r\n","title":"what&#39;s the difference between classpath and classpath* in spring boot?","body":"<p>From Spring documentation </p>\n\n<blockquote>\n  <p>The wildcard classpath relies on the getResources() method of the underlying classloader. As most application servers nowadays supply their own classloader implementation, the behavior might differ especially when dealing with jar files. A simple test to check if classpath* works is to use the classloader to load a file from within a jar on the classpath: getClass().getClassLoader().getResources(\"\"). Try this test with files that have the same name but are placed inside two different locations. In case an inappropriate result is returned, check the application server documentation for settings that might affect the classloader behavior.</p>\n</blockquote>\n\n<p>So classPath is for load the resources from current class loader (simply for understanding will not read resources under jar or other project dependency)</p>\n\n<p>classpath* will do the jar or other class loader resources.</p>\n"},{"tags":[],"owner":{"account_id":11642102,"reputation":11,"user_id":8526168,"display_name":"francis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556094925,"creation_date":1556094925,"answer_id":55825718,"question_id":55825124,"body_markdown":"First since Spring boot show banner in source.You can find the code in SpringApplication.class, printBanner  method is used for to show banner.Like \r\nmallikarjun said classPath is for load the resources from current class loader (simply for understanding will not read resources under jar or other project dependency) classpath* will do the jar or other class loader resources.\r\nIf you use  classpath*:banner.txt will find in the jar.","title":"what&#39;s the difference between classpath and classpath* in spring boot?","body":"<p>First since Spring boot show banner in source.You can find the code in SpringApplication.class, printBanner  method is used for to show banner.Like \nmallikarjun said classPath is for load the resources from current class loader (simply for understanding will not read resources under jar or other project dependency) classpath* will do the jar or other class loader resources.\nIf you use  classpath*:banner.txt will find in the jar.</p>\n"}],"owner":{"account_id":3006153,"reputation":630,"user_id":2550663,"display_name":"nimbus_debug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1074,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55825370,"answer_count":2,"score":0,"last_activity_date":1688425482,"creation_date":1556092987,"question_id":55825124,"body_markdown":"when I use spring boot banner configuration file, I find that: \r\n\r\n# it works:\r\n\r\n    spring.banner.location=classpath:banner.txt\r\n\r\n# not working:\r\n\r\n    spring.banner.location=classpath*:banner.txt\r\n\r\nSo what is the difference between `classpath:` and `classpath*:` ?","title":"what&#39;s the difference between classpath and classpath* in spring boot?","body":"<p>when I use spring boot banner configuration file, I find that:</p>\n<h1>it works:</h1>\n<pre><code>spring.banner.location=classpath:banner.txt\n</code></pre>\n<h1>not working:</h1>\n<pre><code>spring.banner.location=classpath*:banner.txt\n</code></pre>\n<p>So what is the difference between <code>classpath:</code> and <code>classpath*:</code> ?</p>\n"},{"tags":["java","spring","classpath"],"comments":[{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1550996927,"post_id":3294423,"comment_id":96472367,"body_markdown":"Future readers, also see this bug, with a &quot;status=declined&quot;.  https://github.com/spring-projects/spring-framework/issues/16017   Just in case the URL ever eventually fails, the title of the bug post is &quot; Import of an XML file from the root of a JAR file with wildcard classpath and wildcard path does not work [SPR-11390] &quot;","body":"Future readers, also see this bug, with a &quot;status=declined&quot;.  <a href=\"https://github.com/spring-projects/spring-framework/issues/16017\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/16017</a>   Just in case the URL ever eventually fails, the title of the bug post is &quot; Import of an XML file from the root of a JAR file with wildcard classpath and wildcard path does not work [SPR-11390] &quot;"}],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1279660980,"creation_date":1279660980,"answer_id":3294469,"question_id":3294423,"body_markdown":"The `classpath*:...` syntax is useful primarily when you want to build an application context from multiple bean definition files, using wildcard syntax.\r\n\r\nFor example, if you construct your context using `classpath*:appContext.xml`, the classpath will be scanned for every resource called `appContext.xml` in the classpath, and the bean definitions from all of them merged into a single context.\r\n\r\nIn contrast, `classpath:conf/appContext.xml` will obtain one and only one file called `appContext.xml` from the the classpath. If there is more than one, the others will be ignored.","title":"Spring classpath prefix difference","body":"<p>The <code>classpath*:...</code> syntax is useful primarily when you want to build an application context from multiple bean definition files, using wildcard syntax.</p>\n\n<p>For example, if you construct your context using <code>classpath*:appContext.xml</code>, the classpath will be scanned for every resource called <code>appContext.xml</code> in the classpath, and the bean definitions from all of them merged into a single context.</p>\n\n<p>In contrast, <code>classpath:conf/appContext.xml</code> will obtain one and only one file called <code>appContext.xml</code> from the the classpath. If there is more than one, the others will be ignored.</p>\n"},{"tags":[],"owner":{"account_id":39177,"reputation":17181,"user_id":112877,"display_name":"Eugene Ryzhikov"},"down_vote_count":0,"up_vote_count":230,"is_accepted":true,"score":230,"last_activity_date":1425478555,"creation_date":1279661275,"answer_id":3294506,"question_id":3294423,"body_markdown":"**SIMPLE DEFINITION**\r\n\r\nThe `classpath*:conf/appContext.xml` simply means that **all appContext.xml files** under `conf` folders in all your jars on the classpath  will be picked up and joined into one big application context.\r\n\r\nIn contrast, `classpath:conf/appContext.xml` will load **only one such file**... the first one found on your classpath.","title":"Spring classpath prefix difference","body":"<p><strong>SIMPLE DEFINITION</strong></p>\n\n<p>The <code>classpath*:conf/appContext.xml</code> simply means that <strong>all appContext.xml files</strong> under <code>conf</code> folders in all your jars on the classpath  will be picked up and joined into one big application context.</p>\n\n<p>In contrast, <code>classpath:conf/appContext.xml</code> will load <strong>only one such file</strong>... the first one found on your classpath.</p>\n"},{"tags":[],"owner":{"account_id":2599844,"reputation":8426,"user_id":2252572,"accept_rate":63,"display_name":"Bacteria"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1688425182,"creation_date":1426777292,"answer_id":29148037,"question_id":3294423,"body_markdown":"**classpath\\*:** It refers to a **list of resources** and **loads all** such files present in the classpath and _**list can be empty**_ and if _**no such file is present**_ in the classpath then application **does not throw any exception** (just ignores the error).\r\n\r\n**classpath:** It refers to a **certain resource** and **loads only the first** file found on the classpath and _**if no such file is present in the classpath**_ then **it will throw an exception** \r\n\r\n    java.io.FileNotFoundException: \r\n    class path resource [conf/appContext.xml] cannot be opened because it does not exist","title":"Spring classpath prefix difference","body":"<p><strong>classpath*:</strong> It refers to a <strong>list of resources</strong> and <strong>loads all</strong> such files present in the classpath and <em><strong>list can be empty</strong></em> and if <em><strong>no such file is present</strong></em> in the classpath then application <strong>does not throw any exception</strong> (just ignores the error).</p>\n<p><strong>classpath:</strong> It refers to a <strong>certain resource</strong> and <strong>loads only the first</strong> file found on the classpath and <em><strong>if no such file is present in the classpath</strong></em> then <strong>it will throw an exception</strong></p>\n<pre><code>java.io.FileNotFoundException: \nclass path resource [conf/appContext.xml] cannot be opened because it does not exist\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15568253,"reputation":11,"user_id":11231400,"display_name":"zzz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553077500,"creation_date":1553077500,"answer_id":55258482,"question_id":3294423,"body_markdown":"The source code of Spring:\r\n\r\n```\r\npublic Resource[] getResources(String locationPattern) throws IOException {\r\n   Assert.notNull(locationPattern, &quot;Location pattern must not be null&quot;);\r\n   //CLASSPATH_ALL_URL_PREFIX=&quot;classpath*:&quot;\r\n   if (locationPattern.startsWith(CLASSPATH_ALL_URL_PREFIX)) {\r\n      // a class path resource (multiple resources for same name possible)\r\n      if (getPathMatcher().isPattern(locationPattern.substring(CLASSPATH_ALL_URL_PREFIX.length()))) {\r\n         // a class path resource pattern\r\n         return findPathMatchingResources(locationPattern);\r\n      }\r\n      else {\r\n         // all class path resources with the given name\r\n         return findAllClassPathResources(locationPattern.substring(CLASSPATH_ALL_URL_PREFIX.length()));\r\n      }\r\n   }\r\n   else {\r\n      // Only look for a pattern after a prefix here\r\n      // (to not get fooled by a pattern symbol in a strange prefix).\r\n      int prefixEnd = locationPattern.indexOf(&quot;:&quot;) + 1;\r\n      if (getPathMatcher().isPattern(locationPattern.substring(prefixEnd))) {\r\n         // a file pattern\r\n         return findPathMatchingResources(locationPattern);\r\n      }\r\n      else {\r\n         // a single resource with the given name\r\n         return new Resource[] {getResourceLoader().getResource(locationPattern)};\r\n      }\r\n   }\r\n}  \r\n```","title":"Spring classpath prefix difference","body":"<p>The source code of Spring:</p>\n\n<pre><code>public Resource[] getResources(String locationPattern) throws IOException {\n   Assert.notNull(locationPattern, \"Location pattern must not be null\");\n   //CLASSPATH_ALL_URL_PREFIX=\"classpath*:\"\n   if (locationPattern.startsWith(CLASSPATH_ALL_URL_PREFIX)) {\n      // a class path resource (multiple resources for same name possible)\n      if (getPathMatcher().isPattern(locationPattern.substring(CLASSPATH_ALL_URL_PREFIX.length()))) {\n         // a class path resource pattern\n         return findPathMatchingResources(locationPattern);\n      }\n      else {\n         // all class path resources with the given name\n         return findAllClassPathResources(locationPattern.substring(CLASSPATH_ALL_URL_PREFIX.length()));\n      }\n   }\n   else {\n      // Only look for a pattern after a prefix here\n      // (to not get fooled by a pattern symbol in a strange prefix).\n      int prefixEnd = locationPattern.indexOf(\":\") + 1;\n      if (getPathMatcher().isPattern(locationPattern.substring(prefixEnd))) {\n         // a file pattern\n         return findPathMatchingResources(locationPattern);\n      }\n      else {\n         // a single resource with the given name\n         return new Resource[] {getResourceLoader().getResource(locationPattern)};\n      }\n   }\n}  \n</code></pre>\n"}],"owner":{"account_id":35017,"reputation":19333,"user_id":99033,"accept_rate":74,"display_name":"JavaRocky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73376,"favorite_count":0,"down_vote_count":0,"up_vote_count":159,"accepted_answer_id":3294506,"answer_count":4,"score":159,"last_activity_date":1688425182,"creation_date":1279660575,"question_id":3294423,"body_markdown":"Documented at [4.7.2.2 The classpath*: prefix][1] it states\r\n\r\n&gt; This special prefix specifies that all\r\n&gt; classpath resources that match the\r\n&gt; given name must be obtained\r\n&gt; (internally, this essentially happens\r\n&gt; via a ClassLoader.getResources(...)\r\n&gt; call), and then merged to form the\r\n&gt; final application context definition.\r\n\r\nCan someone explain this? \r\n\r\nWhat is the difference between using `classpath*:conf/appContext.xml` as opposed to `classpath:conf/appContext.xml` without the asterisk.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/resources.html#resources-classpath-wildcards","title":"Spring classpath prefix difference","body":"<p>Documented at <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/resources.html#resources-classpath-wildcards\" rel=\"nofollow noreferrer\">4.7.2.2 The classpath*: prefix</a> it states</p>\n<blockquote>\n<p>This special prefix specifies that all\nclasspath resources that match the\ngiven name must be obtained\n(internally, this essentially happens\nvia a ClassLoader.getResources(...)\ncall), and then merged to form the\nfinal application context definition.</p>\n</blockquote>\n<p>Can someone explain this?</p>\n<p>What is the difference between using <code>classpath*:conf/appContext.xml</code> as opposed to <code>classpath:conf/appContext.xml</code> without the asterisk.</p>\n"},{"tags":["java","concurrency"],"answers":[{"tags":[],"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1688424288,"creation_date":1337092266,"answer_id":10602987,"question_id":10591851,"body_markdown":"If you look at [`ReferenceQueue`][1] you will see that it explicitly supports threading inside the platform, because it states that the `remove()` method will block until a new entry is available.\r\n\r\nThe `synchronized` you see in `WeakHashMap` is about ensuring that multiple threads accessing a `ReferenceQueue` are properly synchronized.\r\n\r\nYou might find this [related bug][2] interesting.\r\n\r\nTo answer your question, I think external synchronization of the `ReferenceQueue` is not required if you ensure it is only accessed by a single thread.  I would not use (and can&#39;t think of a good reason) to use a single `ReferenceQueue` as a consumer from multiple threads.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/ref/ReferenceQueue.html\r\n  [2]: https://bugs.openjdk.org/browse/JDK-6425537","title":"Should I synchronize on a ReferenceQueue?","body":"<p>If you look at <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/ref/ReferenceQueue.html\" rel=\"nofollow noreferrer\"><code>ReferenceQueue</code></a> you will see that it explicitly supports threading inside the platform, because it states that the <code>remove()</code> method will block until a new entry is available.</p>\n<p>The <code>synchronized</code> you see in <code>WeakHashMap</code> is about ensuring that multiple threads accessing a <code>ReferenceQueue</code> are properly synchronized.</p>\n<p>You might find this <a href=\"https://bugs.openjdk.org/browse/JDK-6425537\" rel=\"nofollow noreferrer\">related bug</a> interesting.</p>\n<p>To answer your question, I think external synchronization of the <code>ReferenceQueue</code> is not required if you ensure it is only accessed by a single thread.  I would not use (and can't think of a good reason) to use a single <code>ReferenceQueue</code> as a consumer from multiple threads.</p>\n"}],"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1311,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":10602987,"answer_count":1,"score":13,"last_activity_date":1688424288,"creation_date":1337034213,"question_id":10591851,"body_markdown":"I was taking a look at the source code for `WeakHashMap` and stumbled across this:\r\n\r\n    private final ReferenceQueue&lt;Object&gt; queue = new ReferenceQueue&lt;&gt;();\r\n\r\n    private void expungeStaleEntries() {\r\n        for (Object x; (x = queue.poll()) != null; ) {\r\n            synchronized (queue) {\r\n               /* snip */\r\n            }\r\n        }\r\n    }\r\n\r\nWhy does this method synchronize on the `ReferenceQueue`? [`WeakHashMap`][1] itself does not make claims to be thread safe:\r\n\r\n&gt; Like most collection classes, this class is not synchronized. A\r\n&gt; synchronized WeakHashMap may be constructed using the\r\n&gt; Collections.synchronizedMap method.\r\n\r\nWhich led me to believe that this implementation detail is to, somehow, ensure the thread safety of the `ReferenceQueue` itself (since the GC will be modifying it from its own `Thread`). However, [the documentation for `ReferenceQueue`][2] does not mention anything about any concurrency concerns, and taking a look at the source code for `ReferenceQueue` reveals that it doesn&#39;t even synchronize on itself (it uses an internal lock). \r\n\r\nWhy is `WeakHashMap` synchronizing on its `ReferenceQueue`? Should I synchronize on a `ReferenceQueue` every time I use it?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/WeakHashMap.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/ref/ReferenceQueue.html","title":"Should I synchronize on a ReferenceQueue?","body":"<p>I was taking a look at the source code for <code>WeakHashMap</code> and stumbled across this:</p>\n\n<pre><code>private final ReferenceQueue&lt;Object&gt; queue = new ReferenceQueue&lt;&gt;();\n\nprivate void expungeStaleEntries() {\n    for (Object x; (x = queue.poll()) != null; ) {\n        synchronized (queue) {\n           /* snip */\n        }\n    }\n}\n</code></pre>\n\n<p>Why does this method synchronize on the <code>ReferenceQueue</code>? <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/WeakHashMap.html\" rel=\"noreferrer\"><code>WeakHashMap</code></a> itself does not make claims to be thread safe:</p>\n\n<blockquote>\n  <p>Like most collection classes, this class is not synchronized. A\n  synchronized WeakHashMap may be constructed using the\n  Collections.synchronizedMap method.</p>\n</blockquote>\n\n<p>Which led me to believe that this implementation detail is to, somehow, ensure the thread safety of the <code>ReferenceQueue</code> itself (since the GC will be modifying it from its own <code>Thread</code>). However, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ref/ReferenceQueue.html\" rel=\"noreferrer\">the documentation for <code>ReferenceQueue</code></a> does not mention anything about any concurrency concerns, and taking a look at the source code for <code>ReferenceQueue</code> reveals that it doesn't even synchronize on itself (it uses an internal lock). </p>\n\n<p>Why is <code>WeakHashMap</code> synchronizing on its <code>ReferenceQueue</code>? Should I synchronize on a <code>ReferenceQueue</code> every time I use it?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688450585,"post_id":76608477,"comment_id":135071893,"body_markdown":"Let me guess using Spring Boot 3.x? Remove the `persistence-api` dependency you choose to add. Fix compilation issues `javax` -&gt; `jakarta`, ditch the `@EnableJpaRepositories` and `@EntityScan` and restart your application. The error you get with the `jakarta` packates is the one to fix using `javax` packages isn&#39;t the solution.","body":"Let me guess using Spring Boot 3.x? Remove the <code>persistence-api</code> dependency you choose to add. Fix compilation issues <code>javax</code> -&gt; <code>jakarta</code>, ditch the <code>@EnableJpaRepositories</code> and <code>@EntityScan</code> and restart your application. The error you get with the <code>jakarta</code> packates is the one to fix using <code>javax</code> packages isn&#39;t the solution."},{"owner":{"account_id":11309024,"reputation":11,"user_id":8292652,"display_name":"Arjun Patel"},"score":0,"creation_date":1688478330,"post_id":76608477,"comment_id":135077562,"body_markdown":"Thank you @M.Deinum. I gave this a shot and was seeing some other errors and worked through those and now service is running. I&#39;m not sure why I am using jpx instead of jakarta, I believe the instructions i&#39;m following told me to do so. Is there any reason I should use jakarta instead of jpa for spring boot 3.x.x?","body":"Thank you @M.Deinum. I gave this a shot and was seeing some other errors and worked through those and now service is running. I&#39;m not sure why I am using jpx instead of jakarta, I believe the instructions i&#39;m following told me to do so. Is there any reason I should use jakarta instead of jpa for spring boot 3.x.x?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688478484,"post_id":76608477,"comment_id":135077607,"body_markdown":"Jakarta is JPA. Spring Boot before 3.x was JavaEE since Spring Boot 3 it is JakartaEE. Problem is most tutorials out there are outdated.","body":"Jakarta is JPA. Spring Boot before 3.x was JavaEE since Spring Boot 3 it is JakartaEE. Problem is most tutorials out there are outdated."}],"owner":{"account_id":11309024,"reputation":11,"user_id":8292652,"display_name":"Arjun Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688424102,"creation_date":1688424102,"question_id":76608477,"body_markdown":"Here is the entire error copied below:\r\n```\r\nError creating bean with name &#39;imagePropertiesController&#39;: Unsatisfied dependency expressed through field &#39;ImageService&#39;: Error creating bean with name &#39;imageService&#39;: Unsatisfied dependency expressed through field &#39;ImageRepository&#39;: Error creating bean with name &#39;imageRepository&#39; defined in com.example.imagequery.imageRepository defined in @EnableJpaRepositories declared on ImageQueryApplication: Not a managed type: class com.example.imagequery.imageProperties\r\n```\r\nI am attempting to run this spring boot api and am running into this error. I have tried any combination of entity and component scan to directly identify the Entity class to the application. None of that has worked so i&#39;m looking for another way to explicitly define the entity class. Is there an issue with my jpx use of entity annotation? I tried using jakarta as well and just had a different error. Any guidance is appreciated. I will copy the stack trace in if requested, I am leaving it out for now due to the length of this question. \r\n\r\nEDIT:\r\nAnother issue I&#39;ve seen commonly brought with this issue is to do with the file structure, all of these files are in the same folder and path (com.example.imagequery)\r\n\r\n\r\nHere is what my entity class looks like:\r\n```\r\npackage com.example.imagequery;\r\n\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\n\r\nimport javax.persistence.*;\r\n//Entity Model Class\r\n@Entity\r\n@Table(name = &quot;imageProperties&quot;)\r\n@EntityScan(basePackages = &quot;com.example.imagequery.imageProperties&quot;)\r\npublic class imageProperties {\r\n    private int id;\r\n    private String imageName;\r\n\r\n    public imageProperties(){\r\n    }\r\n\r\n    public imageProperties(int id, String imageName){\r\n        this.id = id;\r\n        this.imageName = imageName;\r\n    }\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nHere is my application class:\r\n```\r\npackage com.example.imagequery;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories(&quot;com.*&quot;)\r\n@EntityScan(&quot;com.example.imagequery.imageProperties&quot;)\r\npublic class ImageQueryApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ImageQueryApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\nHere is my service class:\r\n```\r\npackage com.example.imagequery;\r\nimport com.example.imagequery.imageProperties;\r\nimport com.example.imagequery.imageRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.List;\r\n@Service\r\n@Transactional\r\npublic class imageService {\r\n    @Autowired\r\n    private imageRepository ImageRepository;\r\n    public List&lt;imageProperties&gt; listAllImages(){\r\n        return ImageRepository.findAll();\r\n    }\r\n\r\n    public void saveImage(imageProperties ImageProperties){\r\n        ImageRepository.save(ImageProperties);\r\n    }\r\n\r\n    public imageProperties getImage(Integer id){\r\n        return ImageRepository.findById(id).get();\r\n    }\r\n/*\r\n    public void getImageByObject(String object){\r\n        return ImageRepository\r\n    }\r\n    */\r\n}\r\n```\r\nHere is my repository class:\r\n```package com.example.imagequery;\r\n//JPA Data repository\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport com.example.imagequery.imageProperties;\r\n\r\npublic interface imageRepository extends JpaRepository&lt;imageProperties, Integer&gt;{\r\n}\r\n```\r\n...and here is my controller class:\r\n```package com.example.imagequery;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.NoSuchElementException;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/imageProperties&quot;)\r\npublic class imagePropertiesController {\r\n    @Autowired\r\n    imageService ImageService;\r\n\r\n    @GetMapping(&quot;&quot;)\r\n    public List&lt;imageProperties&gt; list() {\r\n        return ImageService.listAllImages();\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;imageProperties&gt; get(@PathVariable Integer id) {\r\n        try {\r\n            imageProperties ImageProperties = ImageService.getImage(id);\r\n            return new ResponseEntity&lt;imageProperties&gt;(ImageProperties, HttpStatus.OK);\r\n        } catch (NoSuchElementException e) {\r\n            return new ResponseEntity&lt;imageProperties&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public void add(@RequestBody imageProperties ImageProperties) {\r\n        ImageService.saveImage(ImageProperties);\r\n    }\r\n}\r\n```\r\n","title":"Error creating bean with name &#39;imagePropertiesController&#39;: Unsatisfied dependency...Not a managed type: class com.example.imagequery.imageProperties","body":"<p>Here is the entire error copied below:</p>\n<pre><code>Error creating bean with name 'imagePropertiesController': Unsatisfied dependency expressed through field 'ImageService': Error creating bean with name 'imageService': Unsatisfied dependency expressed through field 'ImageRepository': Error creating bean with name 'imageRepository' defined in com.example.imagequery.imageRepository defined in @EnableJpaRepositories declared on ImageQueryApplication: Not a managed type: class com.example.imagequery.imageProperties\n</code></pre>\n<p>I am attempting to run this spring boot api and am running into this error. I have tried any combination of entity and component scan to directly identify the Entity class to the application. None of that has worked so i'm looking for another way to explicitly define the entity class. Is there an issue with my jpx use of entity annotation? I tried using jakarta as well and just had a different error. Any guidance is appreciated. I will copy the stack trace in if requested, I am leaving it out for now due to the length of this question.</p>\n<p>EDIT:\nAnother issue I've seen commonly brought with this issue is to do with the file structure, all of these files are in the same folder and path (com.example.imagequery)</p>\n<p>Here is what my entity class looks like:</p>\n<pre><code>package com.example.imagequery;\n\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\n\nimport javax.persistence.*;\n//Entity Model Class\n@Entity\n@Table(name = &quot;imageProperties&quot;)\n@EntityScan(basePackages = &quot;com.example.imagequery.imageProperties&quot;)\npublic class imageProperties {\n    private int id;\n    private String imageName;\n\n    public imageProperties(){\n    }\n\n    public imageProperties(int id, String imageName){\n        this.id = id;\n        this.imageName = imageName;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public int getId() {\n        return id;\n    }\n\n\n}\n</code></pre>\n<p>Here is my application class:</p>\n<pre><code>package com.example.imagequery;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories(&quot;com.*&quot;)\n@EntityScan(&quot;com.example.imagequery.imageProperties&quot;)\npublic class ImageQueryApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ImageQueryApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Here is my service class:</p>\n<pre><code>package com.example.imagequery;\nimport com.example.imagequery.imageProperties;\nimport com.example.imagequery.imageRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.List;\n@Service\n@Transactional\npublic class imageService {\n    @Autowired\n    private imageRepository ImageRepository;\n    public List&lt;imageProperties&gt; listAllImages(){\n        return ImageRepository.findAll();\n    }\n\n    public void saveImage(imageProperties ImageProperties){\n        ImageRepository.save(ImageProperties);\n    }\n\n    public imageProperties getImage(Integer id){\n        return ImageRepository.findById(id).get();\n    }\n/*\n    public void getImageByObject(String object){\n        return ImageRepository\n    }\n    */\n}\n</code></pre>\n<p>Here is my repository class:</p>\n<pre><code>//JPA Data repository\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport com.example.imagequery.imageProperties;\n\npublic interface imageRepository extends JpaRepository&lt;imageProperties, Integer&gt;{\n}\n</code></pre>\n<p>...and here is my controller class:</p>\n<pre><code>\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.NoSuchElementException;\n\n@RestController\n@RequestMapping(&quot;/imageProperties&quot;)\npublic class imagePropertiesController {\n    @Autowired\n    imageService ImageService;\n\n    @GetMapping(&quot;&quot;)\n    public List&lt;imageProperties&gt; list() {\n        return ImageService.listAllImages();\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;imageProperties&gt; get(@PathVariable Integer id) {\n        try {\n            imageProperties ImageProperties = ImageService.getImage(id);\n            return new ResponseEntity&lt;imageProperties&gt;(ImageProperties, HttpStatus.OK);\n        } catch (NoSuchElementException e) {\n            return new ResponseEntity&lt;imageProperties&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n\n    @PostMapping(&quot;/&quot;)\n    public void add(@RequestBody imageProperties ImageProperties) {\n        ImageService.saveImage(ImageProperties);\n    }\n}\n</code></pre>\n"},{"tags":["java","testing","rotation","binary-search-tree"],"answers":[{"tags":[],"owner":{"account_id":20256955,"reputation":1,"user_id":14890496,"display_name":"Moses O"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1688423309,"creation_date":1688423309,"answer_id":76608429,"question_id":74199020,"body_markdown":"It sounds like you are working on a programming assignment involving binary search trees and rotations. I’m not sure what language you are using, but I can try to give you some general tips on how to debug your left rotation algorithm.\r\n\r\nFirst, you should make sure that you are updating the pointers correctly when you perform a left rotation. A left rotation involves moving the right child of the current node to be the new parent, and making the current node the left child of the new parent. You also need to adjust the subtrees accordingly, so that the left subtree of the new parent becomes the right subtree of the current node, and vice versa.\r\nSecond, you should check if your algorithm handles edge cases correctly, such as when the current node or its right child is null, or when the current node is the root of the tree. In these cases, you may need to return a different node or update the reference to the root.\r\n\r\nThird, you should test your algorithm with different inputs and outputs, and compare them with the expected results. You can use print statements or a debugger to trace the execution of your algorithm and see where it goes wrong. You can also use online tools such as this one to visualize your binary search tree and its rotations...","title":"Binary Search Tree failing left rotation","body":"<p>It sounds like you are working on a programming assignment involving binary search trees and rotations. I’m not sure what language you are using, but I can try to give you some general tips on how to debug your left rotation algorithm.</p>\n<p>First, you should make sure that you are updating the pointers correctly when you perform a left rotation. A left rotation involves moving the right child of the current node to be the new parent, and making the current node the left child of the new parent. You also need to adjust the subtrees accordingly, so that the left subtree of the new parent becomes the right subtree of the current node, and vice versa.\nSecond, you should check if your algorithm handles edge cases correctly, such as when the current node or its right child is null, or when the current node is the root of the tree. In these cases, you may need to return a different node or update the reference to the root.</p>\n<p>Third, you should test your algorithm with different inputs and outputs, and compare them with the expected results. You can use print statements or a debugger to trace the execution of your algorithm and see where it goes wrong. You can also use online tools such as this one to visualize your binary search tree and its rotations...</p>\n"}],"owner":{"account_id":24370960,"reputation":1,"user_id":18413473,"display_name":"akj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688423309,"creation_date":1666724762,"question_id":74199020,"body_markdown":"All of my tests pass for my Binary Search tree rotation program except when gradescope runs a left test rotation. The data used is creating a search tree with level order: 2, 1, 4, 3, 6, 5, 7 to be rotated around 4 and 2 and the level order result expected: 4, 2, 6, 1, 3, 5, 7 but on my IDE I got 2, 1, 3 which I assume set some nodes into null. I think there is something wrong with my left rotation algorithm but I am not really sure what it is. Any ideas?\r\n\r\n\r\n`\r\n```\r\n// --== CS400 Rotation Implementation Activity File Header ==--\r\n// Name: Arber Jonuzi\r\n// CSL Username: arber\r\n// Email: akjonuzi@wisc.edu\r\n// Lecture #: 003 @2:25pm\r\n// Notes to Grader: N/A\r\n\r\n\r\n\r\nimport java.util.LinkedList;\r\nimport java.util.NoSuchElementException;\r\nimport java.util.Random;\r\nimport java.util.Stack;\r\n\r\n/**\r\n * Red-Black Tree implementation with a Node inner class for representing\r\n * the nodes of the tree. Currently, this implements a Binary Search Tree that\r\n * we will turn into a red black tree by modifying the insert functionality.\r\n * In this activity, we will start with implementing rotations for the binary\r\n * search tree insert algorithm. You can use this class&#39; insert method to build\r\n * a regular binary search tree, and its toString method to display a level-order\r\n * traversal of the tree.\r\n */\r\npublic class RedBlackTree&lt;T extends Comparable&lt;T&gt;&gt; {\r\n\r\n    /**\r\n     * This class represents a node holding a single value within a binary tree\r\n     * the parent, left, and right child references are always maintained.\r\n     */\r\n    protected static class Node&lt;T&gt; {\r\n        public T data;\r\n        public Node&lt;T&gt; parent; // null for root node\r\n        public Node&lt;T&gt; leftChild;\r\n        public Node&lt;T&gt; rightChild;\r\n        public Node(T data) { this.data = data; }\r\n        /**\r\n         * @return true when this node has a parent and is the left child of\r\n         * that parent, otherwise return false\r\n         */\r\n        public boolean isLeftChild() {\r\n            return parent != null &amp;&amp; parent.leftChild == this;\r\n        }\r\n        \r\n        public boolean isRightChild() {\r\n            return parent != null &amp;&amp; parent.rightChild == this;\r\n        }\r\n\r\n    }\r\n\r\n    protected Node&lt;T&gt; root; // reference to root node of tree, null when empty\r\n    protected int size = 0; // the number of values in the tree\r\n\r\n    /**\r\n     * Performs a naive insertion into a binary search tree: adding the input\r\n     * data value to a new node in a leaf position within the tree. After  \r\n     * this insertion, no attempt is made to restructure or balance the tree.\r\n     * This tree will not hold null references, nor duplicate data values.\r\n     * @param data to be added into this binary search tree\r\n     * @return true if the value was inserted, false if not\r\n     * @throws NullPointerException when the provided data argument is null\r\n     * @throws IllegalArgumentException when the newNode and subtree contain\r\n     *      equal data references\r\n     */\r\n    public boolean insert(T data) throws NullPointerException, IllegalArgumentException {\r\n        // null references cannot be stored within this tree\r\n        if(data == null) throw new NullPointerException(\r\n                &quot;This RedBlackTree cannot store null references.&quot;);\r\n\r\n        Node&lt;T&gt; newNode = new Node&lt;&gt;(data);\r\n        if(root == null) { root = newNode; size++; return true; } // add first node to an empty tree\r\n        else{\r\n            boolean returnValue = insertHelper(newNode,root); // recursively insert into subtree\r\n            if (returnValue) size++;\r\n            else throw new IllegalArgumentException(\r\n                    &quot;This RedBlackTree already contains that value.&quot;);\r\n            return returnValue;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Recursive helper method to find the subtree with a null reference in the\r\n     * position that the newNode should be inserted, and then extend this tree\r\n     * by the newNode in that position.\r\n     * @param newNode is the new node that is being added to this tree\r\n     * @param subtree is the reference to a node within this tree which the \r\n     *      newNode should be inserted as a descenedent beneath\r\n     * @return true is the value was inserted in subtree, false if not\r\n     */\r\n    private boolean insertHelper(Node&lt;T&gt; newNode, Node&lt;T&gt; subtree) {\r\n        int compare = newNode.data.compareTo(subtree.data);\r\n        // do not allow duplicate values to be stored within this tree\r\n        if(compare == 0) return false;\r\n\r\n            // store newNode within left subtree of subtree\r\n        else if(compare &lt; 0) {\r\n            if(subtree.leftChild == null) { // left subtree empty, add here\r\n                subtree.leftChild = newNode;\r\n                newNode.parent = subtree;\r\n                return true;\r\n                // otherwise continue recursive search for location to insert\r\n            } else return insertHelper(newNode, subtree.leftChild);\r\n        }\r\n\r\n        // store newNode within the right subtree of subtree\r\n        else {\r\n            if(subtree.rightChild == null) { // right subtree empty, add here\r\n                subtree.rightChild = newNode;\r\n                newNode.parent = subtree;\r\n                return true;\r\n                // otherwise continue recursive search for location to insert\r\n            } else return insertHelper(newNode, subtree.rightChild);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Performs the rotation operation on the provided nodes within this tree.\r\n     * When the provided child is a leftChild of the provided parent, this\r\n     * method will perform a right rotation. When the provided child is a\r\n     * rightChild of the provided parent, this method will perform a left rotation.\r\n     * When the provided nodes are not related in one of these ways, this method\r\n     * will throw an IllegalArgumentException.\r\n     * @param child is the node being rotated from child to parent position\r\n     *      (between these two node arguments)\r\n     * @param parent is the node being rotated from parent to child position\r\n     *      (between these two node arguments)\r\n     * @throws IllegalArgumentException when the provided child and parent\r\n     *      node references are not initially (pre-rotation) related that way\r\n     */\r\n    private void rotate(Node&lt;T&gt; child, Node&lt;T&gt; parent) throws IllegalArgumentException {\r\n        \r\n    \t//right rotation\r\n    \tif(child == parent.leftChild) {\r\n    \t\t\r\n    \t\tNode&lt;T&gt; left = null;\r\n        \tif(child.rightChild != null) {\r\n        \tleft = child.rightChild;}\r\n        \t\r\n        \tif(parent.isRightChild()) {\r\n        \t\tparent.parent.rightChild=child;\r\n        \t}\r\n    \t\t\r\n    \t\tparent.leftChild = left;\r\n    \t\t\r\n    \t\tparent.parent = child;\r\n    \t\tchild.parent = parent.parent;\r\n    \t\tchild.rightChild = parent;\r\n    \t\t\r\n    \t\tif(parent == root) {\r\n    \t\t\tchild.parent = null;\r\n    \t\t\troot = child;\r\n    \t\t}\r\n    \t\t\r\n\r\n        }\r\n    \t\r\n        //left rotation\r\n        else if(child == parent.rightChild) {\r\n        \t\r\n        \tNode&lt;T&gt; left = null;\r\n        \tif(child.leftChild!=null) {\r\n        \tleft = child.leftChild;}\r\n        \t\r\n\r\n        \tif(parent.isLeftChild()) {\r\n        \t\tparent.parent.leftChild=child;\r\n        \t}\r\n    \t\t\r\n    \t\tparent.rightChild = left;\r\n    \t\t\r\n    \t\tparent.parent = child;\r\n    \t\tchild.parent = parent.parent;\r\n    \t\tchild.leftChild = parent;\r\n    \t\t\r\n        }\r\n    \t\r\n    \t//exception\r\n        else {\r\n        \tthrow new IllegalArgumentException(&quot;Wrong left and right child&quot;);\r\n        }\r\n    \t\r\n    }\r\n    \r\n    /**\r\n     * Get the size of the tree (its number of nodes).\r\n     * @return the number of nodes in the tree\r\n     */\r\n    public int size() {\r\n        return size;\r\n    }\r\n\r\n    /**\r\n     * Method to check if the tree is empty (does not contain any node).\r\n     * @return true of this.size() return 0, false if this.size() &gt; 0\r\n     */\r\n    public boolean isEmpty() {\r\n        return this.size() == 0;\r\n    }\r\n\r\n    /**\r\n     * Checks whether the tree contains the value *data*.\r\n     * @param data the data value to test for\r\n     * @return true if *data* is in the tree, false if it is not in the tree\r\n     */\r\n    public boolean contains(T data) {\r\n        // null references will not be stored within this tree\r\n        if(data == null) throw new NullPointerException(\r\n                &quot;This RedBlackTree cannot store null references.&quot;);\r\n        return this.containsHelper(data, root);\r\n    }\r\n\r\n    /**\r\n     * Recursive helper method that recurses through the tree and looks\r\n     * for the value *data*.\r\n     * @param data the data value to look for\r\n     * @param subtree the subtree to search through\r\n     * @return true of the value is in the subtree, false if not\r\n     */\r\n    private boolean containsHelper(T data, Node&lt;T&gt; subtree) {\r\n        if (subtree == null) {\r\n            // we are at a null child, value is not in tree\r\n            return false;\r\n        } else {\r\n            int compare = data.compareTo(subtree.data);\r\n            if (compare &lt; 0) {\r\n                // go left in the tree\r\n                return containsHelper(data, subtree.leftChild);\r\n            } else if (compare &gt; 0) {\r\n                // go right in the tree\r\n                return containsHelper(data, subtree.rightChild);\r\n            } else {\r\n                // we found it :)\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * This method performs an inorder traversal of the tree. The string \r\n     * representations of each data value within this tree are assembled into a\r\n     * comma separated string within brackets (similar to many implementations \r\n     * of java.util.Collection, like java.util.ArrayList, LinkedList, etc).\r\n     * Note that this RedBlackTree class implementation of toString generates an\r\n     * inorder traversal. The toString of the Node class class above\r\n     * produces a level order traversal of the nodes / values of the tree.\r\n     * @return string containing the ordered values of this tree (in-order traversal)\r\n     */\r\n    public String toInOrderString() {\r\n        // generate a string of all values of the tree in (ordered) in-order\r\n        // traversal sequence\r\n        StringBuffer sb = new StringBuffer();\r\n        sb.append(&quot;[ &quot;);\r\n        sb.append(toInOrderStringHelper(&quot;&quot;, this.root));\r\n        if (this.root != null) {\r\n            sb.setLength(sb.length() - 2);\r\n        }\r\n        sb.append(&quot; ]&quot;);\r\n        return sb.toString();\r\n    }\r\n\r\n    private String toInOrderStringHelper(String str, Node&lt;T&gt; node){\r\n        if (node == null) {\r\n            return str;\r\n        }\r\n        str = toInOrderStringHelper(str, node.leftChild);\r\n        str += (node.data.toString() + &quot;, &quot;);\r\n        str = toInOrderStringHelper(str, node.rightChild);\r\n        return str;\r\n    }\r\n\r\n    /**\r\n     * This method performs a level order traversal of the tree rooted\r\n     * at the current node. The string representations of each data value\r\n     * within this tree are assembled into a comma separated string within\r\n     * brackets (similar to many implementations of java.util.Collection).\r\n     * Note that the Node&#39;s implementation of toString generates a level\r\n     * order traversal. The toString of the RedBlackTree class below\r\n     * produces an inorder traversal of the nodes / values of the tree.\r\n     * This method will be helpful as a helper for the debugging and testing\r\n     * of your rotation implementation.\r\n     * @return string containing the values of this tree in level order\r\n     */\r\n    public String toLevelOrderString() {\r\n        String output = &quot;[ &quot;;\r\n        if (this.root != null) {\r\n            LinkedList&lt;Node&lt;T&gt;&gt; q = new LinkedList&lt;&gt;();\r\n            q.add(this.root);\r\n            while(!q.isEmpty()) {\r\n                Node&lt;T&gt; next = q.removeFirst();\r\n                if(next.leftChild != null) q.add(next.leftChild);\r\n                if(next.rightChild != null) q.add(next.rightChild);\r\n                output += next.data.toString();\r\n                if(!q.isEmpty()) output += &quot;, &quot;;\r\n            }\r\n        }\r\n        return output + &quot; ]&quot;;\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;level order: &quot; + this.toLevelOrderString() +\r\n                &quot;\\nin order: &quot; + this.toInOrderString();\r\n    }\r\n\r\n    \r\n    // Implement at least 3 boolean test methods by using the method signatures below,\r\n    // removing the comments around them and addind your testing code to them. You can\r\n    // use your notes from lecture for ideas on concrete examples of rotation to test for.\r\n    // Make sure to include rotations within and at the root of a tree in your test cases.\r\n    // If you are adding additional tests, then name the method similar to the ones given below.\r\n    // Eg: public static boolean test4() {}\r\n    // Do not change the method name or return type of the existing tests.\r\n    // You can run your tests by commenting in the calls to the test methods \r\n\r\n    //pass\r\n    public static boolean test1() {\r\n        \r\n    \tRedBlackTree test = new RedBlackTree();\r\n        \r\n        try {\r\n        \ttest.insert(1);\r\n        \ttest.insert(10);\r\n        \ttest.insert(16);\r\n        \ttest.insert(43);\r\n        \ttest.insert(6);\r\n        \ttest.insert(11);\r\n        \ttest.insert(18);\r\n        \ttest.rotate(test.root.rightChild.rightChild.leftChild, test.root.rightChild.rightChild);\r\n        \tSystem.out.println(test.toString());\r\n            \r\n        }\r\n        catch(IllegalArgumentException e) {\r\n        \treturn false;\r\n        }\r\n    \r\n        return true;\r\n    }\r\n    \r\n\r\n    //pass\r\n    public static boolean test2() {\r\n    \tRedBlackTree test = new RedBlackTree();\r\n        \r\n        try {\r\n        \ttest.insert(4);\r\n        \ttest.insert(2);\r\n        \ttest.insert(6);\r\n        \ttest.insert(1);\r\n        \ttest.insert(3);\r\n        \ttest.insert(5);\r\n        \ttest.insert(7);\r\n        \ttest.rotate(test.root.rightChild.leftChild, test.root.rightChild );\r\n        \tSystem.out.println(test.toString());\r\n            \r\n        }\r\n        catch(IllegalArgumentException e) {\r\n        \treturn false;\r\n        }\r\n         \r\n        return true;\r\n    }\r\n    \r\n\r\n    //tests  null exception\r\n    public static boolean test3() {\r\n\t\r\n    \tRedBlackTree test = new RedBlackTree();\r\n        \r\n        try {\r\n        \ttest.insert(14);\r\n        \ttest.insert(32);\r\n        \ttest.insert(46);\r\n        \ttest.insert(15);\r\n        \ttest.insert(34);\r\n        \ttest.insert(55);\r\n        \ttest.insert(37);\r\n        \ttest.rotate(test.root.leftChild.rightChild, test.root.leftChild );\r\n        \tSystem.out.println(test.toString());\r\n            \r\n        }\r\n        catch(IllegalArgumentException e) {\r\n        \treturn false;\r\n        }\r\n    \r\n        return true;\r\n    }\r\n    \r\n    //pass\r\n    public static boolean test4() {\r\n    \tRedBlackTree test = new RedBlackTree();\r\n        \r\n        try {\r\n        \ttest.insert(2);\r\n        \ttest.insert(1);\r\n        \ttest.insert(4);\r\n        \ttest.insert(3);\r\n        \ttest.insert(6);\r\n        \ttest.insert(5);\r\n        \ttest.insert(7);\r\n        \ttest.rotate(test.root.rightChild, test.root);\r\n        \tSystem.out.println(test.toString());\r\n            \r\n        }\r\n        catch(IllegalArgumentException e) {\r\n        \treturn false;\r\n        }\r\n         \r\n        return true;\r\n    }\r\n    \r\n\r\n    /**\r\n     * Main method to run tests. Comment out the lines for each test\r\n     * to run them.\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) {\r\n        // System.out.println(&quot;Test 1 passed: &quot; + test1());\r\n        // System.out.println(&quot;Test 2 passed: &quot; + test2());\r\n        // System.out.println(&quot;Test 3 passed: &quot; + test3());\r\n         System.out.println(&quot;Test 4 passed: &quot; + test4());\r\n    }\r\n\r\n}\r\n```\r\n`\r\n\r\n\r\n\r\nI have tried creating other test cases to confirm and the left rotation still seems to be the issue.","title":"Binary Search Tree failing left rotation","body":"<p>All of my tests pass for my Binary Search tree rotation program except when gradescope runs a left test rotation. The data used is creating a search tree with level order: 2, 1, 4, 3, 6, 5, 7 to be rotated around 4 and 2 and the level order result expected: 4, 2, 6, 1, 3, 5, 7 but on my IDE I got 2, 1, 3 which I assume set some nodes into null. I think there is something wrong with my left rotation algorithm but I am not really sure what it is. Any ideas?</p>\n<p>`</p>\n<pre><code>// --== CS400 Rotation Implementation Activity File Header ==--\n// Name: Arber Jonuzi\n// CSL Username: arber\n// Email: akjonuzi@wisc.edu\n// Lecture #: 003 @2:25pm\n// Notes to Grader: N/A\n\n\n\nimport java.util.LinkedList;\nimport java.util.NoSuchElementException;\nimport java.util.Random;\nimport java.util.Stack;\n\n/**\n * Red-Black Tree implementation with a Node inner class for representing\n * the nodes of the tree. Currently, this implements a Binary Search Tree that\n * we will turn into a red black tree by modifying the insert functionality.\n * In this activity, we will start with implementing rotations for the binary\n * search tree insert algorithm. You can use this class' insert method to build\n * a regular binary search tree, and its toString method to display a level-order\n * traversal of the tree.\n */\npublic class RedBlackTree&lt;T extends Comparable&lt;T&gt;&gt; {\n\n    /**\n     * This class represents a node holding a single value within a binary tree\n     * the parent, left, and right child references are always maintained.\n     */\n    protected static class Node&lt;T&gt; {\n        public T data;\n        public Node&lt;T&gt; parent; // null for root node\n        public Node&lt;T&gt; leftChild;\n        public Node&lt;T&gt; rightChild;\n        public Node(T data) { this.data = data; }\n        /**\n         * @return true when this node has a parent and is the left child of\n         * that parent, otherwise return false\n         */\n        public boolean isLeftChild() {\n            return parent != null &amp;&amp; parent.leftChild == this;\n        }\n        \n        public boolean isRightChild() {\n            return parent != null &amp;&amp; parent.rightChild == this;\n        }\n\n    }\n\n    protected Node&lt;T&gt; root; // reference to root node of tree, null when empty\n    protected int size = 0; // the number of values in the tree\n\n    /**\n     * Performs a naive insertion into a binary search tree: adding the input\n     * data value to a new node in a leaf position within the tree. After  \n     * this insertion, no attempt is made to restructure or balance the tree.\n     * This tree will not hold null references, nor duplicate data values.\n     * @param data to be added into this binary search tree\n     * @return true if the value was inserted, false if not\n     * @throws NullPointerException when the provided data argument is null\n     * @throws IllegalArgumentException when the newNode and subtree contain\n     *      equal data references\n     */\n    public boolean insert(T data) throws NullPointerException, IllegalArgumentException {\n        // null references cannot be stored within this tree\n        if(data == null) throw new NullPointerException(\n                &quot;This RedBlackTree cannot store null references.&quot;);\n\n        Node&lt;T&gt; newNode = new Node&lt;&gt;(data);\n        if(root == null) { root = newNode; size++; return true; } // add first node to an empty tree\n        else{\n            boolean returnValue = insertHelper(newNode,root); // recursively insert into subtree\n            if (returnValue) size++;\n            else throw new IllegalArgumentException(\n                    &quot;This RedBlackTree already contains that value.&quot;);\n            return returnValue;\n        }\n    }\n\n    /**\n     * Recursive helper method to find the subtree with a null reference in the\n     * position that the newNode should be inserted, and then extend this tree\n     * by the newNode in that position.\n     * @param newNode is the new node that is being added to this tree\n     * @param subtree is the reference to a node within this tree which the \n     *      newNode should be inserted as a descenedent beneath\n     * @return true is the value was inserted in subtree, false if not\n     */\n    private boolean insertHelper(Node&lt;T&gt; newNode, Node&lt;T&gt; subtree) {\n        int compare = newNode.data.compareTo(subtree.data);\n        // do not allow duplicate values to be stored within this tree\n        if(compare == 0) return false;\n\n            // store newNode within left subtree of subtree\n        else if(compare &lt; 0) {\n            if(subtree.leftChild == null) { // left subtree empty, add here\n                subtree.leftChild = newNode;\n                newNode.parent = subtree;\n                return true;\n                // otherwise continue recursive search for location to insert\n            } else return insertHelper(newNode, subtree.leftChild);\n        }\n\n        // store newNode within the right subtree of subtree\n        else {\n            if(subtree.rightChild == null) { // right subtree empty, add here\n                subtree.rightChild = newNode;\n                newNode.parent = subtree;\n                return true;\n                // otherwise continue recursive search for location to insert\n            } else return insertHelper(newNode, subtree.rightChild);\n        }\n    }\n\n    /**\n     * Performs the rotation operation on the provided nodes within this tree.\n     * When the provided child is a leftChild of the provided parent, this\n     * method will perform a right rotation. When the provided child is a\n     * rightChild of the provided parent, this method will perform a left rotation.\n     * When the provided nodes are not related in one of these ways, this method\n     * will throw an IllegalArgumentException.\n     * @param child is the node being rotated from child to parent position\n     *      (between these two node arguments)\n     * @param parent is the node being rotated from parent to child position\n     *      (between these two node arguments)\n     * @throws IllegalArgumentException when the provided child and parent\n     *      node references are not initially (pre-rotation) related that way\n     */\n    private void rotate(Node&lt;T&gt; child, Node&lt;T&gt; parent) throws IllegalArgumentException {\n        \n        //right rotation\n        if(child == parent.leftChild) {\n            \n            Node&lt;T&gt; left = null;\n            if(child.rightChild != null) {\n            left = child.rightChild;}\n            \n            if(parent.isRightChild()) {\n                parent.parent.rightChild=child;\n            }\n            \n            parent.leftChild = left;\n            \n            parent.parent = child;\n            child.parent = parent.parent;\n            child.rightChild = parent;\n            \n            if(parent == root) {\n                child.parent = null;\n                root = child;\n            }\n            \n\n        }\n        \n        //left rotation\n        else if(child == parent.rightChild) {\n            \n            Node&lt;T&gt; left = null;\n            if(child.leftChild!=null) {\n            left = child.leftChild;}\n            \n\n            if(parent.isLeftChild()) {\n                parent.parent.leftChild=child;\n            }\n            \n            parent.rightChild = left;\n            \n            parent.parent = child;\n            child.parent = parent.parent;\n            child.leftChild = parent;\n            \n        }\n        \n        //exception\n        else {\n            throw new IllegalArgumentException(&quot;Wrong left and right child&quot;);\n        }\n        \n    }\n    \n    /**\n     * Get the size of the tree (its number of nodes).\n     * @return the number of nodes in the tree\n     */\n    public int size() {\n        return size;\n    }\n\n    /**\n     * Method to check if the tree is empty (does not contain any node).\n     * @return true of this.size() return 0, false if this.size() &gt; 0\n     */\n    public boolean isEmpty() {\n        return this.size() == 0;\n    }\n\n    /**\n     * Checks whether the tree contains the value *data*.\n     * @param data the data value to test for\n     * @return true if *data* is in the tree, false if it is not in the tree\n     */\n    public boolean contains(T data) {\n        // null references will not be stored within this tree\n        if(data == null) throw new NullPointerException(\n                &quot;This RedBlackTree cannot store null references.&quot;);\n        return this.containsHelper(data, root);\n    }\n\n    /**\n     * Recursive helper method that recurses through the tree and looks\n     * for the value *data*.\n     * @param data the data value to look for\n     * @param subtree the subtree to search through\n     * @return true of the value is in the subtree, false if not\n     */\n    private boolean containsHelper(T data, Node&lt;T&gt; subtree) {\n        if (subtree == null) {\n            // we are at a null child, value is not in tree\n            return false;\n        } else {\n            int compare = data.compareTo(subtree.data);\n            if (compare &lt; 0) {\n                // go left in the tree\n                return containsHelper(data, subtree.leftChild);\n            } else if (compare &gt; 0) {\n                // go right in the tree\n                return containsHelper(data, subtree.rightChild);\n            } else {\n                // we found it :)\n                return true;\n            }\n        }\n    }\n\n\n    /**\n     * This method performs an inorder traversal of the tree. The string \n     * representations of each data value within this tree are assembled into a\n     * comma separated string within brackets (similar to many implementations \n     * of java.util.Collection, like java.util.ArrayList, LinkedList, etc).\n     * Note that this RedBlackTree class implementation of toString generates an\n     * inorder traversal. The toString of the Node class class above\n     * produces a level order traversal of the nodes / values of the tree.\n     * @return string containing the ordered values of this tree (in-order traversal)\n     */\n    public String toInOrderString() {\n        // generate a string of all values of the tree in (ordered) in-order\n        // traversal sequence\n        StringBuffer sb = new StringBuffer();\n        sb.append(&quot;[ &quot;);\n        sb.append(toInOrderStringHelper(&quot;&quot;, this.root));\n        if (this.root != null) {\n            sb.setLength(sb.length() - 2);\n        }\n        sb.append(&quot; ]&quot;);\n        return sb.toString();\n    }\n\n    private String toInOrderStringHelper(String str, Node&lt;T&gt; node){\n        if (node == null) {\n            return str;\n        }\n        str = toInOrderStringHelper(str, node.leftChild);\n        str += (node.data.toString() + &quot;, &quot;);\n        str = toInOrderStringHelper(str, node.rightChild);\n        return str;\n    }\n\n    /**\n     * This method performs a level order traversal of the tree rooted\n     * at the current node. The string representations of each data value\n     * within this tree are assembled into a comma separated string within\n     * brackets (similar to many implementations of java.util.Collection).\n     * Note that the Node's implementation of toString generates a level\n     * order traversal. The toString of the RedBlackTree class below\n     * produces an inorder traversal of the nodes / values of the tree.\n     * This method will be helpful as a helper for the debugging and testing\n     * of your rotation implementation.\n     * @return string containing the values of this tree in level order\n     */\n    public String toLevelOrderString() {\n        String output = &quot;[ &quot;;\n        if (this.root != null) {\n            LinkedList&lt;Node&lt;T&gt;&gt; q = new LinkedList&lt;&gt;();\n            q.add(this.root);\n            while(!q.isEmpty()) {\n                Node&lt;T&gt; next = q.removeFirst();\n                if(next.leftChild != null) q.add(next.leftChild);\n                if(next.rightChild != null) q.add(next.rightChild);\n                output += next.data.toString();\n                if(!q.isEmpty()) output += &quot;, &quot;;\n            }\n        }\n        return output + &quot; ]&quot;;\n    }\n\n    public String toString() {\n        return &quot;level order: &quot; + this.toLevelOrderString() +\n                &quot;\\nin order: &quot; + this.toInOrderString();\n    }\n\n    \n    // Implement at least 3 boolean test methods by using the method signatures below,\n    // removing the comments around them and addind your testing code to them. You can\n    // use your notes from lecture for ideas on concrete examples of rotation to test for.\n    // Make sure to include rotations within and at the root of a tree in your test cases.\n    // If you are adding additional tests, then name the method similar to the ones given below.\n    // Eg: public static boolean test4() {}\n    // Do not change the method name or return type of the existing tests.\n    // You can run your tests by commenting in the calls to the test methods \n\n    //pass\n    public static boolean test1() {\n        \n        RedBlackTree test = new RedBlackTree();\n        \n        try {\n            test.insert(1);\n            test.insert(10);\n            test.insert(16);\n            test.insert(43);\n            test.insert(6);\n            test.insert(11);\n            test.insert(18);\n            test.rotate(test.root.rightChild.rightChild.leftChild, test.root.rightChild.rightChild);\n            System.out.println(test.toString());\n            \n        }\n        catch(IllegalArgumentException e) {\n            return false;\n        }\n    \n        return true;\n    }\n    \n\n    //pass\n    public static boolean test2() {\n        RedBlackTree test = new RedBlackTree();\n        \n        try {\n            test.insert(4);\n            test.insert(2);\n            test.insert(6);\n            test.insert(1);\n            test.insert(3);\n            test.insert(5);\n            test.insert(7);\n            test.rotate(test.root.rightChild.leftChild, test.root.rightChild );\n            System.out.println(test.toString());\n            \n        }\n        catch(IllegalArgumentException e) {\n            return false;\n        }\n         \n        return true;\n    }\n    \n\n    //tests  null exception\n    public static boolean test3() {\n    \n        RedBlackTree test = new RedBlackTree();\n        \n        try {\n            test.insert(14);\n            test.insert(32);\n            test.insert(46);\n            test.insert(15);\n            test.insert(34);\n            test.insert(55);\n            test.insert(37);\n            test.rotate(test.root.leftChild.rightChild, test.root.leftChild );\n            System.out.println(test.toString());\n            \n        }\n        catch(IllegalArgumentException e) {\n            return false;\n        }\n    \n        return true;\n    }\n    \n    //pass\n    public static boolean test4() {\n        RedBlackTree test = new RedBlackTree();\n        \n        try {\n            test.insert(2);\n            test.insert(1);\n            test.insert(4);\n            test.insert(3);\n            test.insert(6);\n            test.insert(5);\n            test.insert(7);\n            test.rotate(test.root.rightChild, test.root);\n            System.out.println(test.toString());\n            \n        }\n        catch(IllegalArgumentException e) {\n            return false;\n        }\n         \n        return true;\n    }\n    \n\n    /**\n     * Main method to run tests. Comment out the lines for each test\n     * to run them.\n     * @param args\n     */\n    public static void main(String[] args) {\n        // System.out.println(&quot;Test 1 passed: &quot; + test1());\n        // System.out.println(&quot;Test 2 passed: &quot; + test2());\n        // System.out.println(&quot;Test 3 passed: &quot; + test3());\n         System.out.println(&quot;Test 4 passed: &quot; + test4());\n    }\n\n}\n</code></pre>\n<p>`</p>\n<p>I have tried creating other test cases to confirm and the left rotation still seems to be the issue.</p>\n"},{"tags":["java","spring","spring-boot","recursion","spring-data"],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688423071,"creation_date":1688423071,"answer_id":76608411,"question_id":76608084,"body_markdown":"from hibernate [docs][1]\r\n&gt; It is recommended that you implement equals() and hashCode() using Business key equality. Business key equality means that the equals() method compares only the properties that form the business key. It is a key that would identify our instance in the real world (a natural candidate key): Immutable or unique properties are usually good candidates for a business key.\r\n\r\nso you would have to identify your business requirements and check if your entity has attributes that qualify to be natural key.\r\notherwise you would use the primary key which has some pitfalls if entity isn&#39;t persisted or if you detach and reattach entities you can read more [here][2]\r\n\r\nalso I recommend reading [this blogpost][3] by Vlad Mihalcea \r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/core/4.0/manual/en-US/html/persistent-classes.html#persistent-classes-equalshashcode:~:text=It%20is%20recommended%20that%20you%20implement%20equals()%20and%20hashCode()%20using%20Business%20key%20equality.%20Business%20key%20equality%20means%20that%20the%20equals()%20method%20compares%20only%20the%20properties%20that%20form%20the%20business%20key.%20It%20is%20a%20key%20that%20would%20identify%20our%20instance%20in%20the%20real%20world%20(a%20natural%20candidate%20key)%3A\r\n  [2]: https://docs.jboss.org/hibernate/core/4.0/manual/en-US/html/persistent-classes.html#persistent-classes-equalshashcode:~:text=The%20most%20obvious,identity%20and%20equality.\r\n  [3]: https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/","title":"Spring Boot recursion in code because of bidirectional relationships","body":"<p>from hibernate <a href=\"https://docs.jboss.org/hibernate/core/4.0/manual/en-US/html/persistent-classes.html#persistent-classes-equalshashcode:%7E:text=It%20is%20recommended%20that%20you%20implement%20equals()%20and%20hashCode()%20using%20Business%20key%20equality.%20Business%20key%20equality%20means%20that%20the%20equals()%20method%20compares%20only%20the%20properties%20that%20form%20the%20business%20key.%20It%20is%20a%20key%20that%20would%20identify%20our%20instance%20in%20the%20real%20world%20(a%20natural%20candidate%20key)%3A\" rel=\"nofollow noreferrer\">docs</a></p>\n<blockquote>\n<p>It is recommended that you implement equals() and hashCode() using Business key equality. Business key equality means that the equals() method compares only the properties that form the business key. It is a key that would identify our instance in the real world (a natural candidate key): Immutable or unique properties are usually good candidates for a business key.</p>\n</blockquote>\n<p>so you would have to identify your business requirements and check if your entity has attributes that qualify to be natural key.\notherwise you would use the primary key which has some pitfalls if entity isn't persisted or if you detach and reattach entities you can read more <a href=\"https://docs.jboss.org/hibernate/core/4.0/manual/en-US/html/persistent-classes.html#persistent-classes-equalshashcode:%7E:text=The%20most%20obvious,identity%20and%20equality.\" rel=\"nofollow noreferrer\">here</a></p>\n<p>also I recommend reading <a href=\"https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">this blogpost</a> by Vlad Mihalcea</p>\n"}],"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76608411,"answer_count":1,"score":0,"last_activity_date":1688423071,"creation_date":1688418170,"question_id":76608084,"body_markdown":"I have a pretty weird error I have been sitting on for a few days. After learning about the [importance of ```hashCode()``` and ```equals()```](https://stackoverflow.com/questions/76589233/is-it-a-good-idea-to-use-id-for-comparison-with-assertj) and remembering I tried to implement these methods, for which I first used Intellij&#39;s [generate feature](https://www.jetbrains.com/help/idea/generate-equals-and-hashcode-wizard.html) and then, at least for the ```hashCode()``` method, did some things myself. This all is for the following unit test:\r\n```java\r\n@Test\r\n@DisplayName(&quot;Should return correct Stundenplan Eintrag given Lehrer [deutschLehrer]&quot;)\r\nvoid findByLehrer() {\r\n    List&lt;StundenplanEintrag&gt; stundenplanEintrag = stundenplanEintragRepository.findByLehrer(deutschLehrer);\r\n    assertEquals(stundenplanEintrag.get(0).hashCode(), stundenplanEintragExpected.hashCode());\r\n}\r\n```\r\n**StundenplanEintrag.java:**\r\n```\r\n@Override\r\npublic int hashCode() {\r\n    int prime = 31;\r\n    int result = 1;\r\n    result = prime * result + Id;\r\n    result = prime * result + stunde;\r\n    result = prime * result + (klasse != null ? klasse.hashCode() : 0);\r\n    result = prime * result + (fach != null ? fach.hashCode() : 0);\r\n    result = prime * result + (lehrer != null ? lehrer.hashCode() : 0);\r\n    result = prime * result + (tag != null ? tag.hashCode() : 0);\r\n    return result;\r\n}\r\n```\r\n**Klasse.java:**\r\n```java\r\n@Override\r\npublic int hashCode() {\r\n    int prime = 31;\r\n    int result = 1;\r\n    result = prime * result + Id;\r\n    result = prime * result + ((name == null) ? 0 : name.hashCode());\r\n    result = prime * result + (schueler != null &amp;&amp; !schueler.isEmpty() ? schueler.hashCode() : 0);\r\n    // result = prime * result + (stundenplanEintrag != null &amp;&amp; !stundenplanEintrag.isEmpty() ? stundenplanEintrag.hashCode() : 0);\r\n    result = prime * result + (vertretungsplanEintrag != null &amp;&amp; !vertretungsplanEintrag.isEmpty() ? vertretungsplanEintrag.hashCode() : 0);\r\n    return result;\r\n}\r\n```\r\nHere the recursion occurs (this also is valid for the other classes Fach, Lehrer and Tag) because every class has a bidirectional relationship to **StundenplanEintrag.java**. So the recursion happens like this: ```StundenplanEintrag.java:hashCode -&gt; Klasse.java:hashCode -&gt; StundenplanEintrag.java:hashCode ...```. The only thing I found about this problem was this stackoverflow post: https://stackoverflow.com/questions/57932048/always-get-infinite-recursion-when-saving-onetomany-relation-already-used-json\r\n(And the other once are for infinite recursion in JSON responses, which is managable by annotations). Since I am implementing the methods on my own I can&#39;t use a annoation to do that for me. And simply excluding **EVERYTHING** that makes a recursion possible I also tried, which works and the test passes:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nStill, my ```hashCode()``` methods now look like this and I can&#39;t use any value that is in any relationship: \r\n```java\r\n@Override\r\npublic int hashCode() {\r\n    int prime = 31;\r\n    int result = 1;\r\n    result = prime * result + Id;\r\n    result = prime * result + ((name == null) ? 0 : name.hashCode());\r\n    // result = prime * result + (schueler != null &amp;&amp; !schueler.isEmpty() ? schueler.hashCode() : 0);\r\n    // result = prime * result + (stundenplanEintrag != null &amp;&amp; !stundenplanEintrag.isEmpty() ? stundenplanEintrag.hashCode() : 0);\r\n    // result = prime * result + (vertretungsplanEintrag != null &amp;&amp; !vertretungsplanEintrag.isEmpty() ? vertretungsplanEintrag.hashCode() : 0);\r\n    return result;\r\n}\r\n```\r\n\r\nBut I really want unique hashCodes for which I want to use every attribute and not exclude most of them. Also, this applies to the ```toString()``` method, and if I want to print info I want to print info, I can&#39;t just exclude everything besides to integers, or atleast that wouldn&#39;t be very useful info. I know the Id basically is unique, but I just want to know if there maybe is a cleaner solution for this instead of avoiding the problem through just deleting the code?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mFbCB.png","title":"Spring Boot recursion in code because of bidirectional relationships","body":"<p>I have a pretty weird error I have been sitting on for a few days. After learning about the <a href=\"https://stackoverflow.com/questions/76589233/is-it-a-good-idea-to-use-id-for-comparison-with-assertj\">importance of <code>hashCode()</code> and <code>equals()</code></a> and remembering I tried to implement these methods, for which I first used Intellij's <a href=\"https://www.jetbrains.com/help/idea/generate-equals-and-hashcode-wizard.html\" rel=\"nofollow noreferrer\">generate feature</a> and then, at least for the <code>hashCode()</code> method, did some things myself. This all is for the following unit test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@DisplayName(&quot;Should return correct Stundenplan Eintrag given Lehrer [deutschLehrer]&quot;)\nvoid findByLehrer() {\n    List&lt;StundenplanEintrag&gt; stundenplanEintrag = stundenplanEintragRepository.findByLehrer(deutschLehrer);\n    assertEquals(stundenplanEintrag.get(0).hashCode(), stundenplanEintragExpected.hashCode());\n}\n</code></pre>\n<p><strong>StundenplanEintrag.java:</strong></p>\n<pre><code>@Override\npublic int hashCode() {\n    int prime = 31;\n    int result = 1;\n    result = prime * result + Id;\n    result = prime * result + stunde;\n    result = prime * result + (klasse != null ? klasse.hashCode() : 0);\n    result = prime * result + (fach != null ? fach.hashCode() : 0);\n    result = prime * result + (lehrer != null ? lehrer.hashCode() : 0);\n    result = prime * result + (tag != null ? tag.hashCode() : 0);\n    return result;\n}\n</code></pre>\n<p><strong>Klasse.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int hashCode() {\n    int prime = 31;\n    int result = 1;\n    result = prime * result + Id;\n    result = prime * result + ((name == null) ? 0 : name.hashCode());\n    result = prime * result + (schueler != null &amp;&amp; !schueler.isEmpty() ? schueler.hashCode() : 0);\n    // result = prime * result + (stundenplanEintrag != null &amp;&amp; !stundenplanEintrag.isEmpty() ? stundenplanEintrag.hashCode() : 0);\n    result = prime * result + (vertretungsplanEintrag != null &amp;&amp; !vertretungsplanEintrag.isEmpty() ? vertretungsplanEintrag.hashCode() : 0);\n    return result;\n}\n</code></pre>\n<p>Here the recursion occurs (this also is valid for the other classes Fach, Lehrer and Tag) because every class has a bidirectional relationship to <strong>StundenplanEintrag.java</strong>. So the recursion happens like this: <code>StundenplanEintrag.java:hashCode -&gt; Klasse.java:hashCode -&gt; StundenplanEintrag.java:hashCode ...</code>. The only thing I found about this problem was this stackoverflow post: <a href=\"https://stackoverflow.com/questions/57932048/always-get-infinite-recursion-when-saving-onetomany-relation-already-used-json\">Always get infinite recursion when saving OneToMany relation (already used @JsonBackReference and @JsonManagedReference)</a>\n(And the other once are for infinite recursion in JSON responses, which is managable by annotations). Since I am implementing the methods on my own I can't use a annoation to do that for me. And simply excluding <strong>EVERYTHING</strong> that makes a recursion possible I also tried, which works and the test passes:</p>\n<p><a href=\"https://i.stack.imgur.com/mFbCB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mFbCB.png\" alt=\"enter image description here\" /></a></p>\n<p>Still, my <code>hashCode()</code> methods now look like this and I can't use any value that is in any relationship:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int hashCode() {\n    int prime = 31;\n    int result = 1;\n    result = prime * result + Id;\n    result = prime * result + ((name == null) ? 0 : name.hashCode());\n    // result = prime * result + (schueler != null &amp;&amp; !schueler.isEmpty() ? schueler.hashCode() : 0);\n    // result = prime * result + (stundenplanEintrag != null &amp;&amp; !stundenplanEintrag.isEmpty() ? stundenplanEintrag.hashCode() : 0);\n    // result = prime * result + (vertretungsplanEintrag != null &amp;&amp; !vertretungsplanEintrag.isEmpty() ? vertretungsplanEintrag.hashCode() : 0);\n    return result;\n}\n</code></pre>\n<p>But I really want unique hashCodes for which I want to use every attribute and not exclude most of them. Also, this applies to the <code>toString()</code> method, and if I want to print info I want to print info, I can't just exclude everything besides to integers, or atleast that wouldn't be very useful info. I know the Id basically is unique, but I just want to know if there maybe is a cleaner solution for this instead of avoiding the problem through just deleting the code?</p>\n"},{"tags":["java","android","android-layout","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688422187,"creation_date":1688404523,"answer_id":76606927,"question_id":76606583,"body_markdown":"A common error with using _RecyclerView_ is to set a value in the item view when some condition is met but not setting the value when the condition is not met. Remember that view holders are reused (recycled) by the _RecyclerView_.\r\n\r\nYour problem code is the following:\r\n\r\n     if (position &gt; 0)\r\n            {\r\n                if (messages.get(position - 1).isSent() != sent)\r\n                {\r\n                    RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) holder.messagesReceivedLayout.getRoot().getRootView().getLayoutParams();\r\n                    layoutParams.topMargin = 80;\r\n                    holder.messagesReceivedLayout.getRoot().getRootView().setLayoutParams(layoutParams);\r\n                }\r\n            }\r\n\r\nYou will always need to address the margin each time since you can&#39;t assume that it has the original value as defined in the layout file.","title":"Set margin between sent and received messages in RecyclerView","body":"<p>A common error with using <em>RecyclerView</em> is to set a value in the item view when some condition is met but not setting the value when the condition is not met. Remember that view holders are reused (recycled) by the <em>RecyclerView</em>.</p>\n<p>Your problem code is the following:</p>\n<pre><code> if (position &gt; 0)\n        {\n            if (messages.get(position - 1).isSent() != sent)\n            {\n                RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) holder.messagesReceivedLayout.getRoot().getRootView().getLayoutParams();\n                layoutParams.topMargin = 80;\n                holder.messagesReceivedLayout.getRoot().getRootView().setLayoutParams(layoutParams);\n            }\n        }\n</code></pre>\n<p>You will always need to address the margin each time since you can't assume that it has the original value as defined in the layout file.</p>\n"}],"owner":{"account_id":23934400,"reputation":27,"user_id":17928367,"display_name":"Zagro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76606927,"answer_count":1,"score":1,"last_activity_date":1688422187,"creation_date":1688401469,"question_id":76606583,"body_markdown":"I am currently working on a chat app and want to add an extra margin between sent and received messages which however is not between 2 sent or 2 received messages. My solution is currently sometimes adding margin incorrectly. It&#39;s always adding margin between a sent and received messages but it&#39;s also sometimes adding margin between 2 sent or 2 received messages and sometimes it adds margin when I scroll to a message, even though it wasn&#39;t there before (images at the bottom)\r\n\r\nMessageAdapter.Java:\r\n```\r\npublic class MessageAdapter extends RecyclerView.Adapter&lt;MessageAdapter.MyViewHolder&gt;{\r\n\r\n    private List&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\n\r\n    public MessageAdapter(List&lt;Message&gt; messages) {\r\n        this.messages = messages;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new MyViewHolder(MessagesBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        boolean sent = messages.get(position).isSent();\r\n        String currentMessageContent = messages.get(position).getMessage();\r\n        String currentMessageTime = messages.get(position).getTime();\r\n\r\n        if (sent)\r\n        {\r\n            holder.messagesReceivedLayout.getRoot().setVisibility(View.GONE);\r\n            holder.messagesSentLayout.getRoot().setVisibility(View.VISIBLE);\r\n\r\n            holder.messagesSentLayout.messageSentTextContent.setText(currentMessageContent);\r\n            holder.messagesSentLayout.messageSentTextTime.setText(currentMessageTime);\r\n        }\r\n        else\r\n        {\r\n            holder.messagesSentLayout.getRoot().setVisibility(View.GONE);\r\n            holder.messagesReceivedLayout.getRoot().setVisibility(View.VISIBLE);\r\n\r\n            holder.messagesReceivedLayout.messageReceivedTextContent.setText(currentMessageContent);\r\n            holder.messagesReceivedLayout.messageReceivedTextTime.setText(currentMessageTime);\r\n        }\r\n\r\n        if (position &gt; 0)\r\n        {\r\n            if (messages.get(position - 1).isSent() != sent)\r\n            {\r\n                RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) holder.messagesReceivedLayout.getRoot().getRootView().getLayoutParams();\r\n                layoutParams.topMargin = 80;\r\n                holder.messagesReceivedLayout.getRoot().getRootView().setLayoutParams(layoutParams);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return messages.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n        MessageSentBinding messagesSentLayout;\r\n        MessageReceivedBinding messagesReceivedLayout;\r\n        public MyViewHolder(@NonNull MessagesBinding itemView) {\r\n            super(itemView.getRoot());\r\n\r\n            messagesSentLayout = itemView.messagesSentLayout;\r\n            messagesReceivedLayout = itemView.messagesReceivedLayout;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nmessages.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;include\r\n        android:id=&quot;@+id/messages_sent_layout&quot;\r\n        layout=&quot;@layout/message_sent&quot;/&gt;\r\n\r\n    &lt;include\r\n        android:id=&quot;@+id/messages_received_layout&quot;\r\n        layout=&quot;@layout/message_received&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nmessage_received.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/message_received_bg_view&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;-8dp&quot;\r\n        android:background=&quot;@drawable/message_received_bg&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@id/message_received_text_time&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@id/message_received_text_content&quot;\r\n        app:layout_constraintWidth_percent=&quot;0.6&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/message_received_text_content&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:fontFamily=&quot;@font/dm_sans&quot;\r\n        android:text=&quot;Sample Text&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.4&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@id/message_received_bg_view&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@id/message_received_bg_view&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/message_received_text_time&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:fontFamily=&quot;@font/dm_sans_medium&quot;\r\n        android:text=&quot;12:02&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;#A9A9A9&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintDimensionRatio=&quot;2:1&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/message_received_text_content&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@id/message_received_bg_view&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/message_received_text_content&quot;\r\n        app:layout_constraintWidth_percent=&quot;0.12&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nmessage_sent.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/message_sent_bg_view&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;-8dp&quot;\r\n        android:background=&quot;@drawable/message_sent_bg&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@id/message_sent_text_time&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.95&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@id/message_sent_text_content&quot;\r\n        app:layout_constraintWidth_percent=&quot;0.6&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/message_sent_text_content&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:fontFamily=&quot;@font/dm_sans&quot;\r\n        android:text=&quot;Sample Text&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.4&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@id/message_sent_bg_view&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@id/message_sent_bg_view&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/message_sent_text_time&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:text=&quot;12:02&quot;\r\n        android:textColor=&quot;#A9A9A9&quot;\r\n        android:fontFamily=&quot;@font/dm_sans_medium&quot;\r\n        app:layout_constraintDimensionRatio=&quot;2:1&quot;\r\n        app:layout_constraintWidth_percent=&quot;0.12&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.15&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@id/message_sent_bg_view&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@id/message_sent_bg_view&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/message_sent_text_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/message_sent_tick&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:padding=&quot;1.5dp&quot;\r\n        android:src=&quot;@drawable/read_message_tick&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/message_sent_text_time&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/message_sent_text_time&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/message_sent_text_content&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/message_sent_text_time&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nChat.java:\r\n```\r\npublic class Chat extends Fragment {\r\n\r\n    private MaterialButton sendButton;\r\n    private EditText inputText;\r\n    private MaterialCardView bottomNavBg;\r\n    private FragmentChatBinding binding;\r\n\r\n    private List&lt;Message&gt; messageList;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        binding = FragmentChatBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        inputText = binding.inputBottomChat;\r\n        bottomNavBg = binding.barChatBottom;\r\n        sendButton = binding.sendBottomChat;\r\n\r\n        getArgs();\r\n\r\n        messageList = new ArrayList&lt;&gt;();\r\n        addMessages();\r\n        clearFocus();\r\n        sendMessage();\r\n    }\r\n\r\n    private void clearFocus()\r\n    {\r\n        View.OnClickListener clearFocusListener = new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                inputText.clearFocus();\r\n                InputMethodManager imm = (InputMethodManager) requireActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n                imm.hideSoftInputFromWindow(inputText.getWindowToken(), 0);\r\n            }\r\n        };\r\n\r\n        binding.getRoot().setOnClickListener(clearFocusListener);\r\n        binding.recyclerView.setOnClickListener(clearFocusListener);\r\n    }\r\n\r\n    private void addMessages()\r\n    {\r\n        messageList.add(new Message(&quot;Hello, how are you?&quot;, &quot;12:02&quot;, true));\r\n        messageList.add(new Message(&quot;I&#39;m fine?&quot;, &quot;12:03&quot;, false));\r\n        messageList.add(new Message(&quot;What are you doing?&quot;, &quot;12:03&quot;, false));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf?&quot;, &quot;12:03&quot;, false));\r\n        messageList.add(new Message(&quot;Nothing&quot;, &quot;12:04&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, false));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, false));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, false));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        loadMessages();\r\n    }\r\n\r\n    private void loadMessages()\r\n    {\r\n        MessageAdapter messageAdapter = new MessageAdapter(messageList);\r\n        binding.recyclerView.setAdapter(messageAdapter);\r\n        LinearLayoutManager manager = new LinearLayoutManager(requireActivity());\r\n        manager.setStackFromEnd(true);\r\n        binding.recyclerView.setLayoutManager(manager);\r\n        binding.recyclerView.scrollToPosition(messageAdapter.getItemCount()-1);\r\n    }\r\n```\r\n\r\nImages:\r\n[![Image1](https://i.stack.imgur.com/uXso7.jpg)](https://i.stack.imgur.com/uXso7.jpg)\r\n[![Image2](https://i.stack.imgur.com/vldTH.jpg)](https://i.stack.imgur.com/vldTH.jpg)\r\n[![Image3](https://i.stack.imgur.com/VUUar.jpg)](https://i.stack.imgur.com/VUUar.jpg)","title":"Set margin between sent and received messages in RecyclerView","body":"<p>I am currently working on a chat app and want to add an extra margin between sent and received messages which however is not between 2 sent or 2 received messages. My solution is currently sometimes adding margin incorrectly. It's always adding margin between a sent and received messages but it's also sometimes adding margin between 2 sent or 2 received messages and sometimes it adds margin when I scroll to a message, even though it wasn't there before (images at the bottom)</p>\n<p>MessageAdapter.Java:</p>\n<pre><code>public class MessageAdapter extends RecyclerView.Adapter&lt;MessageAdapter.MyViewHolder&gt;{\n\n    private List&lt;Message&gt; messages = new ArrayList&lt;&gt;();\n\n    public MessageAdapter(List&lt;Message&gt; messages) {\n        this.messages = messages;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new MyViewHolder(MessagesBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        boolean sent = messages.get(position).isSent();\n        String currentMessageContent = messages.get(position).getMessage();\n        String currentMessageTime = messages.get(position).getTime();\n\n        if (sent)\n        {\n            holder.messagesReceivedLayout.getRoot().setVisibility(View.GONE);\n            holder.messagesSentLayout.getRoot().setVisibility(View.VISIBLE);\n\n            holder.messagesSentLayout.messageSentTextContent.setText(currentMessageContent);\n            holder.messagesSentLayout.messageSentTextTime.setText(currentMessageTime);\n        }\n        else\n        {\n            holder.messagesSentLayout.getRoot().setVisibility(View.GONE);\n            holder.messagesReceivedLayout.getRoot().setVisibility(View.VISIBLE);\n\n            holder.messagesReceivedLayout.messageReceivedTextContent.setText(currentMessageContent);\n            holder.messagesReceivedLayout.messageReceivedTextTime.setText(currentMessageTime);\n        }\n\n        if (position &gt; 0)\n        {\n            if (messages.get(position - 1).isSent() != sent)\n            {\n                RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) holder.messagesReceivedLayout.getRoot().getRootView().getLayoutParams();\n                layoutParams.topMargin = 80;\n                holder.messagesReceivedLayout.getRoot().getRootView().setLayoutParams(layoutParams);\n            }\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return messages.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder\n    {\n        MessageSentBinding messagesSentLayout;\n        MessageReceivedBinding messagesReceivedLayout;\n        public MyViewHolder(@NonNull MessagesBinding itemView) {\n            super(itemView.getRoot());\n\n            messagesSentLayout = itemView.messagesSentLayout;\n            messagesReceivedLayout = itemView.messagesReceivedLayout;\n        }\n    }\n}\n</code></pre>\n<p>messages.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;include\n        android:id=&quot;@+id/messages_sent_layout&quot;\n        layout=&quot;@layout/message_sent&quot;/&gt;\n\n    &lt;include\n        android:id=&quot;@+id/messages_received_layout&quot;\n        layout=&quot;@layout/message_received&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>message_received.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;View\n        android:id=&quot;@+id/message_received_bg_view&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginTop=&quot;-8dp&quot;\n        android:background=&quot;@drawable/message_received_bg&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@id/message_received_text_time&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@id/message_received_text_content&quot;\n        app:layout_constraintWidth_percent=&quot;0.6&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/message_received_text_content&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:fontFamily=&quot;@font/dm_sans&quot;\n        android:text=&quot;Sample Text&quot;\n        android:textColor=&quot;@color/white&quot;\n        app:layout_constraintVertical_bias=&quot;0.4&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@id/message_received_bg_view&quot;\n        app:layout_constraintStart_toStartOf=&quot;@id/message_received_bg_view&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/message_received_text_time&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:fontFamily=&quot;@font/dm_sans_medium&quot;\n        android:text=&quot;12:02&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;#A9A9A9&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintDimensionRatio=&quot;2:1&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/message_received_text_content&quot;\n        app:layout_constraintHorizontal_bias=&quot;1&quot;\n        app:layout_constraintStart_toStartOf=&quot;@id/message_received_bg_view&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/message_received_text_content&quot;\n        app:layout_constraintWidth_percent=&quot;0.12&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>message_sent.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;View\n        android:id=&quot;@+id/message_sent_bg_view&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginTop=&quot;-8dp&quot;\n        android:background=&quot;@drawable/message_sent_bg&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@id/message_sent_text_time&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.95&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@id/message_sent_text_content&quot;\n        app:layout_constraintWidth_percent=&quot;0.6&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/message_sent_text_content&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:fontFamily=&quot;@font/dm_sans&quot;\n        android:text=&quot;Sample Text&quot;\n        android:textColor=&quot;@color/white&quot;\n        app:layout_constraintVertical_bias=&quot;0.4&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@id/message_sent_bg_view&quot;\n        app:layout_constraintStart_toStartOf=&quot;@id/message_sent_bg_view&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/message_sent_text_time&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:text=&quot;12:02&quot;\n        android:textColor=&quot;#A9A9A9&quot;\n        android:fontFamily=&quot;@font/dm_sans_medium&quot;\n        app:layout_constraintDimensionRatio=&quot;2:1&quot;\n        app:layout_constraintWidth_percent=&quot;0.12&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.15&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;@id/message_sent_bg_view&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@id/message_sent_bg_view&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/message_sent_text_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/message_sent_tick&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:padding=&quot;1.5dp&quot;\n        android:src=&quot;@drawable/read_message_tick&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/message_sent_text_time&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/message_sent_text_time&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/message_sent_text_content&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/message_sent_text_time&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Chat.java:</p>\n<pre><code>public class Chat extends Fragment {\n\n    private MaterialButton sendButton;\n    private EditText inputText;\n    private MaterialCardView bottomNavBg;\n    private FragmentChatBinding binding;\n\n    private List&lt;Message&gt; messageList;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        binding = FragmentChatBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        inputText = binding.inputBottomChat;\n        bottomNavBg = binding.barChatBottom;\n        sendButton = binding.sendBottomChat;\n\n        getArgs();\n\n        messageList = new ArrayList&lt;&gt;();\n        addMessages();\n        clearFocus();\n        sendMessage();\n    }\n\n    private void clearFocus()\n    {\n        View.OnClickListener clearFocusListener = new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                inputText.clearFocus();\n                InputMethodManager imm = (InputMethodManager) requireActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n                imm.hideSoftInputFromWindow(inputText.getWindowToken(), 0);\n            }\n        };\n\n        binding.getRoot().setOnClickListener(clearFocusListener);\n        binding.recyclerView.setOnClickListener(clearFocusListener);\n    }\n\n    private void addMessages()\n    {\n        messageList.add(new Message(&quot;Hello, how are you?&quot;, &quot;12:02&quot;, true));\n        messageList.add(new Message(&quot;I'm fine?&quot;, &quot;12:03&quot;, false));\n        messageList.add(new Message(&quot;What are you doing?&quot;, &quot;12:03&quot;, false));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf?&quot;, &quot;12:03&quot;, false));\n        messageList.add(new Message(&quot;Nothing&quot;, &quot;12:04&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, false));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, false));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, false));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        loadMessages();\n    }\n\n    private void loadMessages()\n    {\n        MessageAdapter messageAdapter = new MessageAdapter(messageList);\n        binding.recyclerView.setAdapter(messageAdapter);\n        LinearLayoutManager manager = new LinearLayoutManager(requireActivity());\n        manager.setStackFromEnd(true);\n        binding.recyclerView.setLayoutManager(manager);\n        binding.recyclerView.scrollToPosition(messageAdapter.getItemCount()-1);\n    }\n</code></pre>\n<p>Images:\n<a href=\"https://i.stack.imgur.com/uXso7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uXso7.jpg\" alt=\"Image1\" /></a>\n<a href=\"https://i.stack.imgur.com/vldTH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vldTH.jpg\" alt=\"Image2\" /></a>\n<a href=\"https://i.stack.imgur.com/VUUar.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VUUar.jpg\" alt=\"Image3\" /></a></p>\n"},{"tags":["java","amazon-s3","aws-sdk"],"answers":[{"tags":[],"owner":{"account_id":177610,"reputation":1980,"user_id":1664198,"accept_rate":88,"display_name":"mrog"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1571943058,"creation_date":1571943058,"answer_id":58547529,"question_id":58527920,"body_markdown":"There isn&#39;t a way to do it with the SDK yet, but [it might be available in the future][1].  In the meantime, you can write your own code using Java&#39;s `URI` class, or use `AmazonS3URI` from the old SDK and hope it keeps working.\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java-v2/issues/272","title":"How to get an S3 object using a URL and the 2.x Java SDK?","body":"<p>There isn't a way to do it with the SDK yet, but <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/272\" rel=\"noreferrer\">it might be available in the future</a>.  In the meantime, you can write your own code using Java's <code>URI</code> class, or use <code>AmazonS3URI</code> from the old SDK and hope it keeps working.</p>\n"},{"tags":[],"owner":{"account_id":7196478,"reputation":587,"user_id":5495142,"display_name":"Bao Pham"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1583112299,"creation_date":1583111853,"answer_id":60481383,"question_id":58527920,"body_markdown":"This is what I did using `URI` from `java.net`:\r\n\r\n```java\r\nURI uri = new URI(s3Url);\r\n\r\nString bucketName = uri.getHost();\r\n\r\n// remove the first &quot;/&quot;\r\nString prefix = uri.getPath().substring(1);\r\n```","title":"How to get an S3 object using a URL and the 2.x Java SDK?","body":"<p>This is what I did using <code>URI</code> from <code>java.net</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>URI uri = new URI(s3Url);\n\nString bucketName = uri.getHost();\n\n// remove the first \"/\"\nString prefix = uri.getPath().substring(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3737085,"reputation":8812,"user_id":3107798,"accept_rate":50,"display_name":"jjbskir"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1590176494,"creation_date":1590176494,"answer_id":61962699,"question_id":58527920,"body_markdown":"Expanding upon @Bao Pham&#39;s answer, using `new URI(s3Url)` requires adding a try/catch, while if you use URI.create(s3Url), you don&#39;t need it. I also found it useful to use a `S3ObjectId` out of the parsed parts for re-usability.\r\n\r\n    public class S3Url {\r\n        public static S3ObjectId decode(String urlStr) {\r\n            URI uri = URI.create(urlStr);\r\n            return new S3ObjectId(uri.getHost(), uri.getPath().substring(1));\r\n        }\r\n    }","title":"How to get an S3 object using a URL and the 2.x Java SDK?","body":"<p>Expanding upon @Bao Pham's answer, using <code>new URI(s3Url)</code> requires adding a try/catch, while if you use URI.create(s3Url), you don't need it. I also found it useful to use a <code>S3ObjectId</code> out of the parsed parts for re-usability.</p>\n\n<pre><code>public class S3Url {\n    public static S3ObjectId decode(String urlStr) {\n        URI uri = URI.create(urlStr);\n        return new S3ObjectId(uri.getHost(), uri.getPath().substring(1));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35712,"reputation":862,"user_id":101247,"display_name":"Jon Hoffman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663944401,"creation_date":1663944401,"answer_id":73829504,"question_id":58527920,"body_markdown":"If you want all the functionality of `AmazonS3URI`, but don&#39;t want to import the entire library, you can also copy the source code. It&#39;s apache licensed\r\n\r\nhttps://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3URI.java","title":"How to get an S3 object using a URL and the 2.x Java SDK?","body":"<p>If you want all the functionality of <code>AmazonS3URI</code>, but don't want to import the entire library, you can also copy the source code. It's apache licensed</p>\n<p><a href=\"https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3URI.java\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3URI.java</a></p>\n"},{"tags":[],"owner":{"account_id":28212647,"reputation":11,"user_id":21564637,"display_name":"user21564637"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680987605,"creation_date":1680610876,"answer_id":75929348,"question_id":58527920,"body_markdown":"This [pull request][1] adds this functionality to the SDK version 2.\r\n\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java-v2/pull/3874","title":"How to get an S3 object using a URL and the 2.x Java SDK?","body":"<p>This <a href=\"https://github.com/aws/aws-sdk-java-v2/pull/3874\" rel=\"nofollow noreferrer\">pull request</a> adds this functionality to the SDK version 2.</p>\n"},{"tags":[],"owner":{"account_id":875392,"reputation":1699,"user_id":925141,"display_name":"Ryan J. McDonough"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688421929,"creation_date":1688421929,"answer_id":76608345,"question_id":58527920,"body_markdown":"What you want is the `S3Uri` class. This allows you to extract the S3-specific elements of an S3 or HTTPS URI that identifies the S3 Bucket. It&#39;s pretty simple. In one of my projects, I needed to pass the S3 URI of a CDK [S3 Asset](https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_s3_assets.Asset.html) to the S3 [Transfer Manager](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/transfer-manager.html) in a CDK custom resource. The `S3Uri` class made it simple:\r\n\r\n    S3Client s3Client = S3Client.create();\r\n    S3Utilities s3Utilities = s3Client.utilities();\r\n    S3Uri s3Uri = s3Utilities.parseUri(URI.create(&quot;s3://bucket/key&quot;));\r\n    DownloadFileRequest downloadFileRequest =\r\n                DownloadFileRequest.builder()\r\n                        .getObjectRequest(b -&gt; \r\n                               b.bucket(s3Uri.bucket().orElseThrow())\r\n                                .key(s3Uri.key().orElseThrow()))\r\n                        .destination(downloadLocation)\r\n                        .build();\r\nYou can find [more details here](https://aws.amazon.com/blogs/devops/s3-uri-parsing-is-now-available-in-aws-sdk-for-java-2-x/).","title":"How to get an S3 object using a URL and the 2.x Java SDK?","body":"<p>What you want is the <code>S3Uri</code> class. This allows you to extract the S3-specific elements of an S3 or HTTPS URI that identifies the S3 Bucket. It's pretty simple. In one of my projects, I needed to pass the S3 URI of a CDK <a href=\"https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_s3_assets.Asset.html\" rel=\"nofollow noreferrer\">S3 Asset</a> to the S3 <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/transfer-manager.html\" rel=\"nofollow noreferrer\">Transfer Manager</a> in a CDK custom resource. The <code>S3Uri</code> class made it simple:</p>\n<pre><code>S3Client s3Client = S3Client.create();\nS3Utilities s3Utilities = s3Client.utilities();\nS3Uri s3Uri = s3Utilities.parseUri(URI.create(&quot;s3://bucket/key&quot;));\nDownloadFileRequest downloadFileRequest =\n            DownloadFileRequest.builder()\n                    .getObjectRequest(b -&gt; \n                           b.bucket(s3Uri.bucket().orElseThrow())\n                            .key(s3Uri.key().orElseThrow()))\n                    .destination(downloadLocation)\n                    .build();\n</code></pre>\n<p>You can find <a href=\"https://aws.amazon.com/blogs/devops/s3-uri-parsing-is-now-available-in-aws-sdk-for-java-2-x/\" rel=\"nofollow noreferrer\">more details here</a>.</p>\n"}],"owner":{"account_id":177610,"reputation":1980,"user_id":1664198,"accept_rate":88,"display_name":"mrog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11772,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":58547529,"answer_count":6,"score":8,"last_activity_date":1688421929,"creation_date":1571850808,"question_id":58527920,"body_markdown":"I&#39;m using the 2.x AWS Java SDK (https://docs.aws.amazon.com/sdk-for-java/index.html).  I need to get an S3 object using the friendly HTTP URL (e.g. `https://bucket.s3.region.amazonaws.com/key` or `https://s3.region.amazonaws.com/bucket/key`).\r\n\r\nThe old SDK included an `AmazonS3URI` class that could parse a URL and extract the bucket and key.  Does the 2.x SDK include similar functionality, or should I use Java&#39;s URI class to parse the URL?","title":"How to get an S3 object using a URL and the 2.x Java SDK?","body":"<p>I'm using the 2.x AWS Java SDK (<a href=\"https://docs.aws.amazon.com/sdk-for-java/index.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/sdk-for-java/index.html</a>).  I need to get an S3 object using the friendly HTTP URL (e.g. <code>https://bucket.s3.region.amazonaws.com/key</code> or <code>https://s3.region.amazonaws.com/bucket/key</code>).</p>\n\n<p>The old SDK included an <code>AmazonS3URI</code> class that could parse a URL and extract the bucket and key.  Does the 2.x SDK include similar functionality, or should I use Java's URI class to parse the URL?</p>\n"},{"tags":["java","android","kotlin","android-layout","android-view"],"comments":[{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1372486541,"post_id":17377245,"comment_id":25223961,"body_markdown":"try `textview.append()`.","body":"try <code>textview.append()</code>."}],"answers":[{"tags":[],"owner":{"account_id":2719286,"reputation":5496,"user_id":2345913,"display_name":"CRUSADER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372487982,"creation_date":1372487506,"answer_id":17377433,"question_id":17377245,"body_markdown":"If &#39;.&#39;(dots) is your basic requirement then you can try like this..\r\n\r\nMy suggestion, Use only I `TextView` to fit in Beer...10     (hitch)\r\n\r\ntry like this..\r\n\r\n   \r\n\r\n \r\n\r\n        int label_len = 10;//Edit as per your requirement\r\n         String MoneyValue = &quot;20&quot;;\r\n        TextView tv = (TextView)findViewById(your id);\r\n        tv.setText(&quot;Beer&quot;);\r\n            \r\n        if(tv.getText().length() &lt; label_len){\r\n            for(int i = tv.getText().length(); i &lt; label_len; i++){\r\n            \r\n               tv.setText(tv.getText()+&quot;.&quot;);\r\n            }\r\n        }\r\n    tv.setText(tv.getText() + MoneyValue);\r\n\r\n\r\nThis is a sample with hardcoded value, you can try to add dynamically...\r\n\r\nHope this helps...","title":"Add dots to a TextView like in a receipt","body":"<p>If '.'(dots) is your basic requirement then you can try like this..</p>\n\n<p>My suggestion, Use only I <code>TextView</code> to fit in Beer...10     (hitch)</p>\n\n<p>try like this..</p>\n\n<pre><code>    int label_len = 10;//Edit as per your requirement\n     String MoneyValue = \"20\";\n    TextView tv = (TextView)findViewById(your id);\n    tv.setText(\"Beer\");\n\n    if(tv.getText().length() &lt; label_len){\n        for(int i = tv.getText().length(); i &lt; label_len; i++){\n\n           tv.setText(tv.getText()+\".\");\n        }\n    }\ntv.setText(tv.getText() + MoneyValue);\n</code></pre>\n\n<p>This is a sample with hardcoded value, you can try to add dynamically...</p>\n\n<p>Hope this helps...</p>\n"},{"tags":[],"owner":{"account_id":483425,"reputation":6788,"user_id":898459,"accept_rate":17,"display_name":"Brijesh Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665002662,"creation_date":1372490166,"answer_id":17377741,"question_id":17377245,"body_markdown":"![enter image description here][1]You can achieve this by using layout.xml only. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;    \r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:![enter image description here][2]layout_height=&quot;fill_parent&quot;&gt;\r\n        &lt;LinearLayout android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;    \r\n            android:weightSum=&quot;1&quot;&gt;    \r\n            &lt;TextView android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_weight=&quot;0.9&quot;          \r\n              android:text=&quot;Milk..................................................................................................................................&quot; /&gt;\r\n            &lt;TextView android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_weight=&quot;0.1&quot;             \r\n                android:text=&quot;20&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nThis solution will work for all the device with different resolutions.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/FbTvL.png\r\n  [2]: http://i.stack.imgur.com/wqppN.png","title":"Add dots to a TextView like in a receipt","body":"<p><img src=\"https://i.stack.imgur.com/FbTvL.png\" alt=\"enter image description here\" />You can achieve this by using layout.xml only.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;    \n    android:layout_width=&quot;fill_parent&quot;\n    android:![enter image description here][2]layout_height=&quot;fill_parent&quot;&gt;\n    &lt;LinearLayout android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;    \n        android:weightSum=&quot;1&quot;&gt;    \n        &lt;TextView android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_weight=&quot;0.9&quot;          \n          android:text=&quot;Milk..................................................................................................................................&quot; /&gt;\n        &lt;TextView android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_weight=&quot;0.1&quot;             \n            android:text=&quot;20&quot; /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>This solution will work for all the device with different resolutions.</p>\n"},{"tags":[],"owner":{"account_id":978841,"reputation":3304,"user_id":999111,"display_name":"Jacek Milewski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1372494480,"creation_date":1372494480,"answer_id":17378269,"question_id":17377245,"body_markdown":"You should create THREE TextViews for each row, layed out one next to another:\r\n\r\n 1. TextView With product name (e.g. &#39;beer&#39;)\r\n 2. TextView with dots\r\n 3. TextView with number (e.g. &#39;20&#39;)\r\n\r\nThen put one product in one row. The Row should be relative layout where:\r\n\r\n - TextView no. 1 is aligned to left edge, with width set to wrap content\r\n - TextView no. 3 is aligneg to right edge, with width set to wrap content\r\n - TextView no. 2 is toLeftOf TV no. 3 and toRightOf TV no.1 and it should be filled with big amount of dots in XML file. this will never be changed. \r\n\r\nThis will work, since the TV no.2 will have width that will shrink and will always be fitted between product name and the price. believe me :)","title":"Add dots to a TextView like in a receipt","body":"<p>You should create THREE TextViews for each row, layed out one next to another:</p>\n\n<ol>\n<li>TextView With product name (e.g. 'beer')</li>\n<li>TextView with dots</li>\n<li>TextView with number (e.g. '20')</li>\n</ol>\n\n<p>Then put one product in one row. The Row should be relative layout where:</p>\n\n<ul>\n<li>TextView no. 1 is aligned to left edge, with width set to wrap content</li>\n<li>TextView no. 3 is aligneg to right edge, with width set to wrap content</li>\n<li>TextView no. 2 is toLeftOf TV no. 3 and toRightOf TV no.1 and it should be filled with big amount of dots in XML file. this will never be changed. </li>\n</ul>\n\n<p>This will work, since the TV no.2 will have width that will shrink and will always be fitted between product name and the price. believe me :)</p>\n"},{"tags":[],"owner":{"account_id":133259,"reputation":11947,"user_id":334493,"accept_rate":86,"display_name":"Benoit Duffez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372499585,"creation_date":1372499585,"answer_id":17378928,"question_id":17377245,"body_markdown":"Use a relative layout: \r\n\r\n    TextView View TextView\r\n\r\nThe first set the width to wrap content, and below the text view of the previous row.  \r\nThe second view, set to to right of first text view, and use a background drawable with dots that repeat horizontally. Set the width to match parent.  \r\nThe last view, set to right of middle view and width to wrap content and aligned to right of parent.","title":"Add dots to a TextView like in a receipt","body":"<p>Use a relative layout: </p>\n\n<pre><code>TextView View TextView\n</code></pre>\n\n<p>The first set the width to wrap content, and below the text view of the previous row.<br>\nThe second view, set to to right of first text view, and use a background drawable with dots that repeat horizontally. Set the width to match parent.<br>\nThe last view, set to right of middle view and width to wrap content and aligned to right of parent.</p>\n"},{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1518458362,"creation_date":1372519569,"answer_id":17381755,"question_id":17377245,"body_markdown":"**I have the solution. Maybe it will help someone.**&lt;br/&gt;\r\n\r\n 1. File check_info_item.xml:\r\n\r\n        &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;match_parent&quot;\r\n              android:orientation=&quot;horizontal&quot;&gt;\r\n        &lt;RelativeLayout android:layout_width=&quot;match_parent&quot;\r\n                  android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;TextView android:layout_height=&quot;wrap_content&quot;\r\n                  android:layout_width=&quot;wrap_content&quot;\r\n                  android:id=&quot;@+id/txt_fake_value&quot;\r\n                  android:textSize=&quot;18dp&quot;\r\n                  android:textColor=&quot;@android:color/transparent&quot;\r\n                  android:layout_alignParentRight=&quot;true&quot;/&gt;\r\n        &lt;example.com.CheckInfoTextView android:layout_height=&quot;wrap_content&quot;\r\n                  android:layout_width=&quot;match_parent&quot;\r\n                  android:id=&quot;@+id/txt_fake_info&quot;\r\n                  android:textSize=&quot;18dp&quot;\r\n                  android:textColor=&quot;@android:color/transparent&quot;\r\n                  android:layout_alignParentLeft=&quot;true&quot;\r\n                  android:layout_toLeftOf=&quot;@id/txt_fake_value&quot;/&gt;\r\n        &lt;TextView android:layout_height=&quot;wrap_content&quot;\r\n                  android:layout_width=&quot;wrap_content&quot;\r\n                  android:id=&quot;@+id/txt_check_info_value&quot;\r\n                  android:text=&quot;&quot;\r\n                  android:textSize=&quot;18dp&quot;\r\n                  android:textColor=&quot;#000&quot;\r\n                  android:layout_alignParentRight=&quot;true&quot;\r\n                  android:layout_alignBottom=&quot;@id/txt_fake_info&quot;/&gt;\r\n        &lt;example.com.CheckInfoTextView\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:textColor=&quot;#000&quot;\r\n                android:id=&quot;@+id/txt_check_info&quot;\r\n                android:text=&quot;&quot;\r\n                android:layout_alignParentLeft=&quot;true&quot;\r\n                android:layout_toLeftOf=&quot;@id/txt_check_info_value&quot;/&gt;\r\n        &lt;/RelativeLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n 2. Code to fill the info fields (in the Activity):\r\n\r\n            View row = getLayoutInflater().inflate(R.layout.check_info_item, null);\r\n            //Fake fields needed to align base fields in the xml file\r\n            TextView txtFakeValue = (TextView) row.findViewById(R.id.txt_fake_value);\r\n            txtFakeValue.setText(String.valueOf(pair.second));\r\n\r\n            TextView txtFake = (TextView) row.findViewById(R.id.txt_fake_info);\r\n            txtFake.setText(pair.first);\r\n\r\n            TextView txtValue = (TextView) row.findViewById(R.id.txt_check_info_value);\r\n            txtValue.setText(String.valueOf(pair.second));\r\n\r\n            TextView txtTitle = (TextView) row.findViewById(R.id.txt_check_info);\r\n            txtTitle.setText(pair.first);\r\n\r\n 3. And the CheckInfoTextView:\r\n\r\n        public class CheckInfoTextView extends TextView {\r\n\r\n\r\n            public CheckInfoTextView(Context context) {\r\n                super(context);\r\n            }\r\n\r\n            public CheckInfoTextView(Context context, AttributeSet attrs) {\r\n                super(context, attrs);\r\n            }\r\n\r\n            public CheckInfoTextView(Context context, AttributeSet attrs, int defStyle) {\r\n                super(context, attrs, defStyle);\r\n            }\r\n\r\n            @Override\r\n            public void onWindowFocusChanged(boolean hasWindowFocus) {\r\n                super.onWindowFocusChanged(hasWindowFocus);\r\n                if(!hasWindowFocus) return;\r\n\r\n                int requiredDots = getRequiredDotsNumber();\r\n                if(requiredDots == 0) {\r\n                    String text = getText().toString();\r\n                    StringBuilder result = new StringBuilder();\r\n                    result.append(text.substring(0, text.lastIndexOf(&#39; &#39;)));\r\n                    result.append(&quot;\\n&quot;);\r\n                    result.append(text.substring(text.lastIndexOf(&#39; &#39;) + 1));\r\n                    setText(result.toString());\r\n\r\n                    requiredDots = getRequiredDotsNumber();\r\n                }\r\n                String dots = &quot;&quot;;\r\n                for (int i = 0; i &lt; requiredDots; ++i) {\r\n                    dots += &quot; .&quot;;\r\n                }\r\n                setText(getText() + dots);\r\n            }\r\n\r\n            private int getRequiredDotsNumber() {\r\n                final int width = getWidth();\r\n                final int lastLineWidth = (int) getLayout().getLineWidth(getLineCount() - 1);\r\n                final int availableWidthForDots = width - lastLineWidth;\r\n                final int widthOfOneDot = getWidthOfOneDot();\r\n                final int widthOfTwoDotsWithSpace = getWidthOfTwoDotsWithSpace();\r\n                final int widthOfSpace = widthOfTwoDotsWithSpace - (widthOfOneDot * 2);\r\n                final int widthOfDotWithSpace = widthOfSpace + widthOfOneDot;\r\n                int numberOfDots = availableWidthForDots / widthOfDotWithSpace;\r\n                return numberOfDots;\r\n            }\r\n\r\n            private int getWidthOfTwoDotsWithSpace() {\r\n               return getStringWidth(&quot;. .&quot;);\r\n            }\r\n\r\n            private int getWidthOfOneDot() {\r\n               return getStringWidth(&quot;.&quot;);\r\n            }\r\n\r\n            private int getStringWidth(String text) {\r\n                Rect dotBounds = new Rect();\r\n                getPaint().getTextBounds(text,0,text.length(),dotBounds);\r\n                return dotBounds.width();\r\n            }\r\n        }","title":"Add dots to a TextView like in a receipt","body":"<p><strong>I have the solution. Maybe it will help someone.</strong><br/></p>\n\n<ol>\n<li><p>File check_info_item.xml:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      android:layout_width=\"match_parent\"\n      android:layout_height=\"match_parent\"\n      android:orientation=\"horizontal\"&gt;\n&lt;RelativeLayout android:layout_width=\"match_parent\"\n          android:layout_height=\"wrap_content\"&gt;\n\n&lt;TextView android:layout_height=\"wrap_content\"\n          android:layout_width=\"wrap_content\"\n          android:id=\"@+id/txt_fake_value\"\n          android:textSize=\"18dp\"\n          android:textColor=\"@android:color/transparent\"\n          android:layout_alignParentRight=\"true\"/&gt;\n&lt;example.com.CheckInfoTextView android:layout_height=\"wrap_content\"\n          android:layout_width=\"match_parent\"\n          android:id=\"@+id/txt_fake_info\"\n          android:textSize=\"18dp\"\n          android:textColor=\"@android:color/transparent\"\n          android:layout_alignParentLeft=\"true\"\n          android:layout_toLeftOf=\"@id/txt_fake_value\"/&gt;\n&lt;TextView android:layout_height=\"wrap_content\"\n          android:layout_width=\"wrap_content\"\n          android:id=\"@+id/txt_check_info_value\"\n          android:text=\"\"\n          android:textSize=\"18dp\"\n          android:textColor=\"#000\"\n          android:layout_alignParentRight=\"true\"\n          android:layout_alignBottom=\"@id/txt_fake_info\"/&gt;\n&lt;example.com.CheckInfoTextView\n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"match_parent\"\n        android:textSize=\"18dp\"\n        android:textColor=\"#000\"\n        android:id=\"@+id/txt_check_info\"\n        android:text=\"\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_toLeftOf=\"@id/txt_check_info_value\"/&gt;\n&lt;/RelativeLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre></li>\n<li><p>Code to fill the info fields (in the Activity):</p>\n\n<pre><code>    View row = getLayoutInflater().inflate(R.layout.check_info_item, null);\n    //Fake fields needed to align base fields in the xml file\n    TextView txtFakeValue = (TextView) row.findViewById(R.id.txt_fake_value);\n    txtFakeValue.setText(String.valueOf(pair.second));\n\n    TextView txtFake = (TextView) row.findViewById(R.id.txt_fake_info);\n    txtFake.setText(pair.first);\n\n    TextView txtValue = (TextView) row.findViewById(R.id.txt_check_info_value);\n    txtValue.setText(String.valueOf(pair.second));\n\n    TextView txtTitle = (TextView) row.findViewById(R.id.txt_check_info);\n    txtTitle.setText(pair.first);\n</code></pre></li>\n<li><p>And the CheckInfoTextView:</p>\n\n<pre><code>public class CheckInfoTextView extends TextView {\n\n\n    public CheckInfoTextView(Context context) {\n        super(context);\n    }\n\n    public CheckInfoTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public CheckInfoTextView(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n    }\n\n    @Override\n    public void onWindowFocusChanged(boolean hasWindowFocus) {\n        super.onWindowFocusChanged(hasWindowFocus);\n        if(!hasWindowFocus) return;\n\n        int requiredDots = getRequiredDotsNumber();\n        if(requiredDots == 0) {\n            String text = getText().toString();\n            StringBuilder result = new StringBuilder();\n            result.append(text.substring(0, text.lastIndexOf(' ')));\n            result.append(\"\\n\");\n            result.append(text.substring(text.lastIndexOf(' ') + 1));\n            setText(result.toString());\n\n            requiredDots = getRequiredDotsNumber();\n        }\n        String dots = \"\";\n        for (int i = 0; i &lt; requiredDots; ++i) {\n            dots += \" .\";\n        }\n        setText(getText() + dots);\n    }\n\n    private int getRequiredDotsNumber() {\n        final int width = getWidth();\n        final int lastLineWidth = (int) getLayout().getLineWidth(getLineCount() - 1);\n        final int availableWidthForDots = width - lastLineWidth;\n        final int widthOfOneDot = getWidthOfOneDot();\n        final int widthOfTwoDotsWithSpace = getWidthOfTwoDotsWithSpace();\n        final int widthOfSpace = widthOfTwoDotsWithSpace - (widthOfOneDot * 2);\n        final int widthOfDotWithSpace = widthOfSpace + widthOfOneDot;\n        int numberOfDots = availableWidthForDots / widthOfDotWithSpace;\n        return numberOfDots;\n    }\n\n    private int getWidthOfTwoDotsWithSpace() {\n       return getStringWidth(\". .\");\n    }\n\n    private int getWidthOfOneDot() {\n       return getStringWidth(\".\");\n    }\n\n    private int getStringWidth(String text) {\n        Rect dotBounds = new Rect();\n        getPaint().getTextBounds(text,0,text.length(),dotBounds);\n        return dotBounds.width();\n    }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":214634,"reputation":199,"user_id":468721,"accept_rate":47,"display_name":"Guedez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416505566,"creation_date":1416505566,"answer_id":27046140,"question_id":17377245,"body_markdown":"I&#39;ve changed Serg_&#39;s CheckinfoTextView class so that it both works in the eclipse layout editor, but also adds spaces if possible, to put the page number as close to the right side as possible. I&#39;ve also changed a bit how it is used.\r\n\r\nTo accomplish:\r\n\r\n    Milk...................23\r\n    Chocolate cookies......24\r\n\r\nset the text to &#39;Milk 23&#39; and &#39;Chocolate cookies 24&#39; respectively\r\n\r\nThe number of spaces is rounded to nearest rather than rounded down, so it&#39;s better to put the number a little bit over to the right rather than too much to the left\r\n\r\n    public class DotAutofillTextView extends TextView {\r\n\r\n\tprivate int availableWidthForDots;\r\n\tprivate int widthOfSpace;\r\n\tprivate int widthOfDotWithSpace;\r\n\r\n\tpublic DotAutofillTextView(Context context) {\r\n\t\tsuper(context);\r\n\t}\r\n\r\n\tpublic DotAutofillTextView(Context context, AttributeSet attrs) {\r\n\t\tsuper(context, attrs);\r\n\t}\r\n\r\n\tpublic DotAutofillTextView(Context context, AttributeSet attrs, int defStyle) {\r\n\t\tsuper(context, attrs, defStyle);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void onLayout(boolean changed, int left, int top, int right, int bottom) {\r\n\t\tint width = getWidth() - getPaddingLeft() - getPaddingRight();\r\n\t\tint lastLineWidth = (int) getLayout().getLineWidth(getLineCount() - 1);\r\n\t\tavailableWidthForDots = width - lastLineWidth;\r\n\t\tint widthOfOneDot = getWidthOfOneDot();\r\n\t\tint widthOfTwoDotsWithSpace = getWidthOfTwoDotsWithSpace();\r\n\t\twidthOfSpace = widthOfTwoDotsWithSpace - (widthOfOneDot * 2);\r\n\t\twidthOfDotWithSpace = widthOfSpace + widthOfOneDot;\r\n\t\tint requiredDots = getRequiredDotsNumber();\r\n\t\tif (requiredDots != 0) {\r\n\t\t\tint spaces = getRequiredSpacesNumber(requiredDots);\r\n\t\t\tStringBuilder result = new StringBuilder();\r\n\t\t\tString text = getText().toString();\r\n\t\t\tresult.append(text.substring(0, text.lastIndexOf(&#39; &#39;)));\r\n\t\t\tsetText(result.toString());\r\n\t\t\tStringBuilder dots = new StringBuilder();\r\n\t\t\tfor (int i = 0; i &lt; requiredDots; ++i) {\r\n\t\t\t\tdots.append(&quot; .&quot;);\r\n\t\t\t}\r\n\t\t\tfor (int i = 0; i &lt; spaces; ++i) {\r\n\t\t\t\tdots.append(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tresult.append(dots.toString());\r\n\t\t\tresult.append(text.substring(text.lastIndexOf(&#39; &#39;) + 1));\r\n\t\t\tsetText(result.toString());\r\n\t\t}\r\n\t\tsuper.onLayout(changed, left, top, right, bottom);\r\n\t}\r\n\r\n\tprivate int getRequiredSpacesNumber(int requiredDots) {\r\n\t\tfloat remain = (1f * availableWidthForDots) % (1f * widthOfDotWithSpace);\r\n\t\treturn (int) ((remain / widthOfSpace) + 0.5f);\r\n\t}\r\n\r\n\tprivate int getRequiredDotsNumber() {\r\n\t\tif (getLayout() == null) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tint numberOfDots = availableWidthForDots / widthOfDotWithSpace;\r\n\t\treturn numberOfDots;\r\n\t}\r\n\r\n\tprivate int getWidthOfTwoDotsWithSpace() {\r\n\t\treturn getStringWidth(&quot;. .&quot;);\r\n\t}\r\n\r\n\tprivate int getWidthOfOneDot() {\r\n\t\treturn getStringWidth(&quot;.&quot;);\r\n\t}\r\n\r\n\tprivate int getStringWidth(String text) {\r\n\t\tRect dotBounds = new Rect();\r\n\t\tgetPaint().getTextBounds(text, 0, text.length(), dotBounds);\r\n\t\treturn dotBounds.width();\r\n\t}\r\n}","title":"Add dots to a TextView like in a receipt","body":"<p>I've changed Serg_'s CheckinfoTextView class so that it both works in the eclipse layout editor, but also adds spaces if possible, to put the page number as close to the right side as possible. I've also changed a bit how it is used.</p>\n\n<p>To accomplish:</p>\n\n<pre><code>Milk...................23\nChocolate cookies......24\n</code></pre>\n\n<p>set the text to 'Milk 23' and 'Chocolate cookies 24' respectively</p>\n\n<p>The number of spaces is rounded to nearest rather than rounded down, so it's better to put the number a little bit over to the right rather than too much to the left</p>\n\n<pre><code>public class DotAutofillTextView extends TextView {\n\nprivate int availableWidthForDots;\nprivate int widthOfSpace;\nprivate int widthOfDotWithSpace;\n\npublic DotAutofillTextView(Context context) {\n    super(context);\n}\n\npublic DotAutofillTextView(Context context, AttributeSet attrs) {\n    super(context, attrs);\n}\n\npublic DotAutofillTextView(Context context, AttributeSet attrs, int defStyle) {\n    super(context, attrs, defStyle);\n}\n\n@Override\nprotected void onLayout(boolean changed, int left, int top, int right, int bottom) {\n    int width = getWidth() - getPaddingLeft() - getPaddingRight();\n    int lastLineWidth = (int) getLayout().getLineWidth(getLineCount() - 1);\n    availableWidthForDots = width - lastLineWidth;\n    int widthOfOneDot = getWidthOfOneDot();\n    int widthOfTwoDotsWithSpace = getWidthOfTwoDotsWithSpace();\n    widthOfSpace = widthOfTwoDotsWithSpace - (widthOfOneDot * 2);\n    widthOfDotWithSpace = widthOfSpace + widthOfOneDot;\n    int requiredDots = getRequiredDotsNumber();\n    if (requiredDots != 0) {\n        int spaces = getRequiredSpacesNumber(requiredDots);\n        StringBuilder result = new StringBuilder();\n        String text = getText().toString();\n        result.append(text.substring(0, text.lastIndexOf(' ')));\n        setText(result.toString());\n        StringBuilder dots = new StringBuilder();\n        for (int i = 0; i &lt; requiredDots; ++i) {\n            dots.append(\" .\");\n        }\n        for (int i = 0; i &lt; spaces; ++i) {\n            dots.append(\" \");\n        }\n        result.append(dots.toString());\n        result.append(text.substring(text.lastIndexOf(' ') + 1));\n        setText(result.toString());\n    }\n    super.onLayout(changed, left, top, right, bottom);\n}\n\nprivate int getRequiredSpacesNumber(int requiredDots) {\n    float remain = (1f * availableWidthForDots) % (1f * widthOfDotWithSpace);\n    return (int) ((remain / widthOfSpace) + 0.5f);\n}\n\nprivate int getRequiredDotsNumber() {\n    if (getLayout() == null) {\n        return 1;\n    }\n    int numberOfDots = availableWidthForDots / widthOfDotWithSpace;\n    return numberOfDots;\n}\n\nprivate int getWidthOfTwoDotsWithSpace() {\n    return getStringWidth(\". .\");\n}\n\nprivate int getWidthOfOneDot() {\n    return getStringWidth(\".\");\n}\n\nprivate int getStringWidth(String text) {\n    Rect dotBounds = new Rect();\n    getPaint().getTextBounds(text, 0, text.length(), dotBounds);\n    return dotBounds.width();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":15316666,"reputation":26,"user_id":11050372,"display_name":"Asuveroz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580332246,"creation_date":1580332246,"answer_id":59975635,"question_id":17377245,"body_markdown":"I&#39;ve had the same problem and found this solution using ConstraintLayout:\r\n\r\n       &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    &gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/item&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Phone&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                    /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:text=&quot;....................................................................................................&quot;\r\n                    android:maxLines=&quot;1&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:layout_constraintLeft_toRightOf=&quot;@id/item&quot;\r\n                    app:layout_constraintRight_toLeftOf=&quot;@id/price&quot;/&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/price&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;end&quot;\r\n                    android:text=&quot;100&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                    /&gt;\r\n       &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Add dots to a TextView like in a receipt","body":"<p>I've had the same problem and found this solution using ConstraintLayout:</p>\n\n<pre><code>   &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                &gt;\n\n            &lt;TextView\n                android:id=\"@+id/item\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Phone\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintLeft_toLeftOf=\"parent\"\n                /&gt;\n\n            &lt;TextView\n                android:layout_width=\"0dp\"\n                android:layout_height=\"match_parent\"\n                android:text=\"....................................................................................................\"\n                android:maxLines=\"1\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintLeft_toRightOf=\"@id/item\"\n                app:layout_constraintRight_toLeftOf=\"@id/price\"/&gt;\n\n            &lt;TextView\n                android:id=\"@+id/price\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:gravity=\"end\"\n                android:text=\"100\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintRight_toRightOf=\"parent\"\n                /&gt;\n   &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13320,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":17381755,"answer_count":7,"score":6,"last_activity_date":1688421885,"creation_date":1372486130,"question_id":17377245,"body_markdown":"I want to implement something like a product list in a receipt: &lt;br/&gt;\r\nBread ......................................... 20&lt;br/&gt;\r\nMilk ............................................ 10&lt;br/&gt;\r\nCookies with jam ...................... 15&lt;br/&gt;\r\nSmartphone 10GB 3GHz&lt;br/&gt; \r\n1GB RAM NFC 10MPx &lt;br/&gt;\r\ncamera .................................... 400\r\n\r\nItem name (Bread, Milk) I think it shoud be a `TextView`, which I need to fill with dots.&lt;br/&gt;\r\nMoney (20, 10) is another `TextView` which shoud be aligned to the right of a screen.\r\n\r\nAny ideas how to do this? Maybe I need to inherit the `TextView` class and override onDraw()?&lt;br/&gt;\r\nMany thanks in advance!","title":"Add dots to a TextView like in a receipt","body":"<p>I want to implement something like a product list in a receipt: <br/>\nBread ......................................... 20<br/>\nMilk ............................................ 10<br/>\nCookies with jam ...................... 15<br/>\nSmartphone 10GB 3GHz<br/>\n1GB RAM NFC 10MPx <br/>\ncamera .................................... 400</p>\n<p>Item name (Bread, Milk) I think it shoud be a <code>TextView</code>, which I need to fill with dots.<br/>\nMoney (20, 10) is another <code>TextView</code> which shoud be aligned to the right of a screen.</p>\n<p>Any ideas how to do this? Maybe I need to inherit the <code>TextView</code> class and override onDraw()?<br/>\nMany thanks in advance!</p>\n"},{"tags":["java","margin","libreoffice"],"comments":[{"owner":{"account_id":6602823,"reputation":13044,"user_id":5100564,"accept_rate":100,"display_name":"Jim K"},"score":0,"creation_date":1688420856,"post_id":76606559,"comment_id":135069432,"body_markdown":"Whoever downvoted, please explain how to improve the post.","body":"Whoever downvoted, please explain how to improve the post."}],"answers":[{"tags":[],"owner":{"account_id":6602823,"reputation":13044,"user_id":5100564,"accept_rate":100,"display_name":"Jim K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688421147,"creation_date":1688419963,"answer_id":76608217,"question_id":76606559,"body_markdown":"In my answer at https://stackoverflow.com/questions/47737160/python-libreoffice-set-margin-values-optimal-height-and-print-document-with-uno, there is Python code that sets the `LeftMargin` property as an example.\r\n\r\nHere is some C# code I haven&#39;t tried, but should hopefully give an idea of the specific UNO interfaces needed in Java: https://stackoverflow.com/questions/14356350/openoffice-3-text-document-set-page-size-and-margins/\r\n\r\nThe developer guide at https://wiki.documentfoundation.org/Documentation/DevGuide/Text_Documents#Page_Layout is informative:\r\n&gt; A page layout in LibreOffice is always a page style. A page can not be hard formatted. To change the current page layout, retrieve the current page style from the text cursor property PageStyleName and get this page style from the StyleFamily PageStyles.\r\n\r\nCheck out the API docs if you haven&#39;t yet: https://api.libreoffice.org/docs/idl/ref/servicecom_1_1sun_1_1star_1_1style_1_1PageProperties.html","title":"Set Margin on Pages - Java (LibreOffice)","body":"<p>In my answer at <a href=\"https://stackoverflow.com/questions/47737160/python-libreoffice-set-margin-values-optimal-height-and-print-document-with-uno\">Python libreoffice set margin values, optimal height and print document with uno</a>, there is Python code that sets the <code>LeftMargin</code> property as an example.</p>\n<p>Here is some C# code I haven't tried, but should hopefully give an idea of the specific UNO interfaces needed in Java: <a href=\"https://stackoverflow.com/questions/14356350/openoffice-3-text-document-set-page-size-and-margins/\">OpenOffice 3 text document - set page size and margins</a></p>\n<p>The developer guide at <a href=\"https://wiki.documentfoundation.org/Documentation/DevGuide/Text_Documents#Page_Layout\" rel=\"nofollow noreferrer\">https://wiki.documentfoundation.org/Documentation/DevGuide/Text_Documents#Page_Layout</a> is informative:</p>\n<blockquote>\n<p>A page layout in LibreOffice is always a page style. A page can not be hard formatted. To change the current page layout, retrieve the current page style from the text cursor property PageStyleName and get this page style from the StyleFamily PageStyles.</p>\n</blockquote>\n<p>Check out the API docs if you haven't yet: <a href=\"https://api.libreoffice.org/docs/idl/ref/servicecom_1_1sun_1_1star_1_1style_1_1PageProperties.html\" rel=\"nofollow noreferrer\">https://api.libreoffice.org/docs/idl/ref/servicecom_1_1sun_1_1star_1_1style_1_1PageProperties.html</a></p>\n"}],"owner":{"account_id":9760841,"reputation":11,"user_id":7235984,"display_name":"Oleg Burakov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1688421147,"creation_date":1688401225,"question_id":76606559,"body_markdown":"I have set PaperOrientation and PaperFormat but I can&#39;t find where to set right,left,page margin. xPageProps always equals null.\r\n\r\n```\r\nstatic void setPaper(Object oDoc_To_Store, com.sun.star.view.PaperOrientation paperOrientation,com.sun.star.view.PaperFormat paperFormat) {\r\n    com.sun.star.view.XPrintable xPrintable = \r\n            UnoRuntime.queryInterface(\r\n            com.sun.star.view.XPrintable.class, oDoc_To_Store);\r\n    com.sun.star.beans.PropertyValue[] pv = new com.sun.star.beans.PropertyValue[2];\r\n    pv[0] = new PropertyValue();\r\n    pv[0].Name=&quot;PaperOrientation&quot;;\r\n    pv[0].Value=paperOrientation;//com.sun.star.view.PaperOrientation.LANDSCAPE;\r\n   // pv[0].State=pv[0].State.DEFAULT_VALUE;\r\n    pv[1] = new PropertyValue();\r\n    pv[1].Name=&quot;PaperFormat&quot;;\r\n    pv[1].Value=paperFormat;//com.sun.star.view.PaperFormat.A4;\r\n  //  pv[1].State=pv[0].State.DEFAULT_VALUE;\r\n\r\n    xPrintable.setPrinter(pv)\r\n\r\n    com.sun.star.beans.XPropertySet xPageProps = (com.sun.star.beans.XPropertySet)\r\n        UnoRuntime.queryInterface(\r\n            com.sun.star.beans.XPropertySet.class, xDrawPage);\r\n    if ((xPageProps!=null)) {// Always = null,\r\n    \tSystem.out.println(&quot;++++++++ xPageProps!=null&quot;);\r\n    \tProperty[] pp = xPageProps.getPropertySetInfo().getProperties();// \r\n    \tint ii =pp.length;\r\n    \tfor (int i = 0; i &lt; pp.length; i++) {\r\n    \t\t  System.out.println(pp[i].Name+&quot; &quot;+pp[i].Attributes+&quot; &quot;+pp[i].Type);\r\n        }\r\n    }\r\n```","title":"Set Margin on Pages - Java (LibreOffice)","body":"<p>I have set PaperOrientation and PaperFormat but I can't find where to set right,left,page margin. xPageProps always equals null.</p>\n<pre><code>static void setPaper(Object oDoc_To_Store, com.sun.star.view.PaperOrientation paperOrientation,com.sun.star.view.PaperFormat paperFormat) {\n    com.sun.star.view.XPrintable xPrintable = \n            UnoRuntime.queryInterface(\n            com.sun.star.view.XPrintable.class, oDoc_To_Store);\n    com.sun.star.beans.PropertyValue[] pv = new com.sun.star.beans.PropertyValue[2];\n    pv[0] = new PropertyValue();\n    pv[0].Name=&quot;PaperOrientation&quot;;\n    pv[0].Value=paperOrientation;//com.sun.star.view.PaperOrientation.LANDSCAPE;\n   // pv[0].State=pv[0].State.DEFAULT_VALUE;\n    pv[1] = new PropertyValue();\n    pv[1].Name=&quot;PaperFormat&quot;;\n    pv[1].Value=paperFormat;//com.sun.star.view.PaperFormat.A4;\n  //  pv[1].State=pv[0].State.DEFAULT_VALUE;\n\n    xPrintable.setPrinter(pv)\n\n    com.sun.star.beans.XPropertySet xPageProps = (com.sun.star.beans.XPropertySet)\n        UnoRuntime.queryInterface(\n            com.sun.star.beans.XPropertySet.class, xDrawPage);\n    if ((xPageProps!=null)) {// Always = null,\n        System.out.println(&quot;++++++++ xPageProps!=null&quot;);\n        Property[] pp = xPageProps.getPropertySetInfo().getProperties();// \n        int ii =pp.length;\n        for (int i = 0; i &lt; pp.length; i++) {\n              System.out.println(pp[i].Name+&quot; &quot;+pp[i].Attributes+&quot; &quot;+pp[i].Type);\n        }\n    }\n</code></pre>\n"},{"tags":["java","recursion","fibonacci"],"comments":[{"owner":{"account_id":739104,"reputation":4630,"user_id":703236,"display_name":"Adam"},"score":11,"creation_date":1335671068,"post_id":8965006,"comment_id":13364404,"body_markdown":"Note that this is recursive and runs in exponential time. It&#39;s inefficient for large values of N. Using an iterative approach I was able to compute the first 10,000 numbers in the sequence. They can be found here - http://goo.gl/hnbF5","body":"Note that this is recursive and runs in exponential time. It&#39;s inefficient for large values of N. Using an iterative approach I was able to compute the first 10,000 numbers in the sequence. They can be found here - <a href=\"http://goo.gl/hnbF5\" rel=\"nofollow noreferrer\">goo.gl/hnbF5</a>"},{"owner":{"account_id":418169,"reputation":3113,"user_id":1906361,"accept_rate":47,"display_name":"Shumail"},"score":0,"creation_date":1382358196,"post_id":8965006,"comment_id":28914906,"body_markdown":"@AdamFisher: Can you please share the code you used for computing 10,000 numbers in sequence ? I am actually curios to know it.","body":"@AdamFisher: Can you please share the code you used for computing 10,000 numbers in sequence ? I am actually curios to know it."},{"owner":{"account_id":3181754,"reputation":2736,"user_id":2688283,"display_name":"Ifeoma"},"score":4,"creation_date":1428444547,"post_id":8965006,"comment_id":47162586,"body_markdown":"@AdamFisher The link you referred to is dead.","body":"@AdamFisher The link you referred to is dead."},{"owner":{"account_id":317802,"reputation":924,"user_id":634678,"accept_rate":50,"display_name":"Chathura Palihakkara"},"score":2,"creation_date":1442114682,"post_id":8965006,"comment_id":52948710,"body_markdown":"This video will explain to understand recursive function in 10 minuts https://www.youtube.com/watch?v=t4MSwiqfLaY","body":"This video will explain to understand recursive function in 10 minuts <a href=\"https://www.youtube.com/watch?v=t4MSwiqfLaY\" rel=\"nofollow noreferrer\">youtube.com/watch?v=t4MSwiqfLaY</a>"},{"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"score":0,"creation_date":1468495637,"post_id":8965006,"comment_id":64156347,"body_markdown":"Please have a look at mine solution.That is  optimized for recursive call I am bit surprised that nowhere this approach is mentioned on net","body":"Please have a look at mine solution.That is  optimized for recursive call I am bit surprised that nowhere this approach is mentioned on net"},{"owner":{"account_id":2019593,"reputation":7840,"user_id":1806099,"accept_rate":75,"display_name":"Skynet"},"score":0,"creation_date":1514538948,"post_id":8965006,"comment_id":83009344,"body_markdown":"For future readers, here is the holy grail of tracing double recursion: https://www.youtube.com/watch?v=PT0mS3thy6Q&amp;t=36s","body":"For future readers, here is the holy grail of tracing double recursion: <a href=\"https://www.youtube.com/watch?v=PT0mS3thy6Q&amp;t=36s\" rel=\"nofollow noreferrer\">youtube.com/watch?v=PT0mS3thy6Q&amp;t=36s</a>"},{"owner":{"account_id":7149330,"reputation":232,"user_id":5495300,"display_name":"JavaGoPro"},"score":2,"creation_date":1519751659,"post_id":8965006,"comment_id":85033339,"body_markdown":"There is also an Iterative approach which might be less difficult for you. Great article on both Recursive and Iterative with code here - http://codeflex.co/java-get-fibonacci-number-by-index/","body":"There is also an Iterative approach which might be less difficult for you. Great article on both Recursive and Iterative with code here - <a href=\"http://codeflex.co/java-get-fibonacci-number-by-index/\" rel=\"nofollow noreferrer\">codeflex.co/java-get-fibonacci-number-by-index</a>"},{"owner":{"account_id":14083808,"reputation":612,"user_id":10174059,"display_name":"K Man"},"score":0,"creation_date":1548290962,"post_id":8965006,"comment_id":95492672,"body_markdown":"You should also return -1 if n is less than 0, or you will get an error.","body":"You should also return -1 if n is less than 0, or you will get an error."},{"owner":{"account_id":4006340,"reputation":1493,"user_id":3300911,"accept_rate":56,"display_name":"raikumardipak"},"score":0,"creation_date":1579975683,"post_id":8965006,"comment_id":105949101,"body_markdown":"@ChathuraPalihakkara That&#39;s a great video. Explaining recursion!","body":"@ChathuraPalihakkara That&#39;s a great video. Explaining recursion!"}],"answers":[{"tags":[],"owner":{"account_id":90866,"reputation":8063,"user_id":249878,"accept_rate":90,"display_name":"yurib"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1327269072,"creation_date":1327269072,"answer_id":8965031,"question_id":8965006,"body_markdown":"in the [fibonacci][1] sequence, the first two items are 0 and 1, each other item is the sum of the two previous items. i.e:  \r\n0 1 1 2 3 5 8...\r\n\r\nso the 5th item is the sum of the 4th and the 3rd items.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Fibonacci_number","title":"Java recursive Fibonacci sequence","body":"<p>in the <a href=\"http://en.wikipedia.org/wiki/Fibonacci_number\" rel=\"nofollow\">fibonacci</a> sequence, the first two items are 0 and 1, each other item is the sum of the two previous items. i.e:<br>\n0 1 1 2 3 5 8...</p>\n\n<p>so the 5th item is the sum of the 4th and the 3rd items.</p>\n"},{"tags":[],"owner":{"account_id":406517,"reputation":48699,"user_id":776084,"accept_rate":79,"display_name":"RanRag"},"down_vote_count":0,"up_vote_count":176,"is_accepted":true,"score":176,"last_activity_date":1327270092,"creation_date":1327269397,"answer_id":8965075,"question_id":8965006,"body_markdown":"In fibonacci sequence each item is the sum of the previous two. So, you wrote a recursive algorithm.\r\n\r\nSo, \r\n\r\n    fibonacci(5) = fibonacci(4) + fibonacci(3)\r\n    \r\n    fibonacci(3) = fibonacci(2) + fibonacci(1)\r\n\r\n    fibonacci(4) = fibonacci(3) + fibonacci(2)\r\n\r\n    fibonacci(2) = fibonacci(1) + fibonacci(0)\r\n\r\nNow you already know `fibonacci(1)==1 and fibonacci(0) == 0`. So, you can subsequently calculate the other values.\r\n\r\nNow,\r\n\r\n    fibonacci(2) = 1+0 = 1\r\n    fibonacci(3) = 1+1 = 2\r\n    fibonacci(4) = 2+1 = 3\r\n    fibonacci(5) = 3+2 = 5\r\n\r\nAnd from fibonacci sequence `0,1,1,2,3,5,8,13,21....` we can see that for `5th element` the fibonacci sequence returns `5`.\r\n\r\nSee here for [Recursion Tutorial][1].\r\n\r\n\r\n  [1]: http://www.danzig.us/java_class/recursion.html","title":"Java recursive Fibonacci sequence","body":"<p>In fibonacci sequence each item is the sum of the previous two. So, you wrote a recursive algorithm.</p>\n\n<p>So, </p>\n\n<pre><code>fibonacci(5) = fibonacci(4) + fibonacci(3)\n\nfibonacci(3) = fibonacci(2) + fibonacci(1)\n\nfibonacci(4) = fibonacci(3) + fibonacci(2)\n\nfibonacci(2) = fibonacci(1) + fibonacci(0)\n</code></pre>\n\n<p>Now you already know <code>fibonacci(1)==1 and fibonacci(0) == 0</code>. So, you can subsequently calculate the other values.</p>\n\n<p>Now,</p>\n\n<pre><code>fibonacci(2) = 1+0 = 1\nfibonacci(3) = 1+1 = 2\nfibonacci(4) = 2+1 = 3\nfibonacci(5) = 3+2 = 5\n</code></pre>\n\n<p>And from fibonacci sequence <code>0,1,1,2,3,5,8,13,21....</code> we can see that for <code>5th element</code> the fibonacci sequence returns <code>5</code>.</p>\n\n<p>See here for <a href=\"http://www.danzig.us/java_class/recursion.html\" rel=\"noreferrer\">Recursion Tutorial</a>.</p>\n"},{"tags":[],"owner":{"account_id":351616,"reputation":3033,"user_id":688206,"display_name":"Dan Hardiker"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1327269749,"creation_date":1327269749,"answer_id":8965127,"question_id":8965006,"body_markdown":"In pseudo code, where n = 5, the following takes place:\r\n\r\n&gt; fibonacci(4) + fibonnacci(3)\r\n\r\nThis breaks down into:\r\n\r\n&gt; (fibonacci(3) + fibonnacci(2)) + (fibonacci(2) + fibonnacci(1))\r\n\r\nThis breaks down into:\r\n\r\n&gt; (((fibonacci(2) + fibonnacci(1)) + ((fibonacci(1) + fibonnacci(0))) + (((fibonacci(1) + fibonnacci(0)) + 1))\r\n\r\nThis breaks down into:\r\n\r\n&gt; ((((fibonacci(1) + fibonnacci(0)) + 1) + ((1 + 0)) + ((1 + 0) + 1))\r\n\r\nThis breaks down into:\r\n\r\n&gt; ((((1 + 0) + 1) + ((1 + 0)) + ((1 + 0) + 1))\r\n\r\nThis results in: **5**\r\n\r\nGiven the fibonnacci sequence is **1 1 2 3 5 8 ...**, the 5th element is 5. You can use the same methodology to figure out the other iterations. ","title":"Java recursive Fibonacci sequence","body":"<p>In pseudo code, where n = 5, the following takes place:</p>\n\n<blockquote>\n  <p>fibonacci(4) + fibonnacci(3)</p>\n</blockquote>\n\n<p>This breaks down into:</p>\n\n<blockquote>\n  <p>(fibonacci(3) + fibonnacci(2)) + (fibonacci(2) + fibonnacci(1))</p>\n</blockquote>\n\n<p>This breaks down into:</p>\n\n<blockquote>\n  <p>(((fibonacci(2) + fibonnacci(1)) + ((fibonacci(1) + fibonnacci(0))) + (((fibonacci(1) + fibonnacci(0)) + 1))</p>\n</blockquote>\n\n<p>This breaks down into:</p>\n\n<blockquote>\n  <p>((((fibonacci(1) + fibonnacci(0)) + 1) + ((1 + 0)) + ((1 + 0) + 1))</p>\n</blockquote>\n\n<p>This breaks down into:</p>\n\n<blockquote>\n  <p>((((1 + 0) + 1) + ((1 + 0)) + ((1 + 0) + 1))</p>\n</blockquote>\n\n<p>This results in: <strong>5</strong></p>\n\n<p>Given the fibonnacci sequence is <strong>1 1 2 3 5 8 ...</strong>, the 5th element is 5. You can use the same methodology to figure out the other iterations. </p>\n"},{"tags":[],"owner":{"account_id":1170788,"reputation":1999,"user_id":1148035,"accept_rate":88,"display_name":"tim"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1377811003,"creation_date":1327270079,"answer_id":8965171,"question_id":8965006,"body_markdown":"Recursion can be hard to grasp sometimes. Just evaluate it on a piece of paper for a small number:\r\n\r\n    fib(4)\r\n    -&gt; fib(3) + fib(2)\r\n    -&gt; fib(2) + fib(1) + fib(1) + fib(0)\r\n    -&gt; fib(1) + fib(0) + fib(1) + fib(1) + fib(0)\r\n    -&gt; 1 + 0 + 1 + 1 + 0\r\n    -&gt; 3\r\n\r\nI am not sure how Java actually evaluates this, but the result will be the same. ","title":"Java recursive Fibonacci sequence","body":"<p>Recursion can be hard to grasp sometimes. Just evaluate it on a piece of paper for a small number:</p>\n\n<pre><code>fib(4)\n-&gt; fib(3) + fib(2)\n-&gt; fib(2) + fib(1) + fib(1) + fib(0)\n-&gt; fib(1) + fib(0) + fib(1) + fib(1) + fib(0)\n-&gt; 1 + 0 + 1 + 1 + 0\n-&gt; 3\n</code></pre>\n\n<p>I am not sure how Java actually evaluates this, but the result will be the same. </p>\n"},{"tags":[],"owner":{"account_id":2773717,"reputation":1,"user_id":2387767,"display_name":"NorthYorker"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1368658354,"creation_date":1368657318,"answer_id":16576130,"question_id":8965006,"body_markdown":"    public long getFibonacci( int number) {\r\n        if ( number &lt;=2) {\r\n            return 1;\r\n        }\r\n        long lRet = 0;\r\n        lRet = getFibonacci( number -1) + getFibonacci( number -2);\r\n        return lRet;\r\n    }","title":"Java recursive Fibonacci sequence","body":"<pre><code>public long getFibonacci( int number) {\n    if ( number &lt;=2) {\n        return 1;\n    }\n    long lRet = 0;\n    lRet = getFibonacci( number -1) + getFibonacci( number -2);\n    return lRet;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2844990,"reputation":403,"user_id":2443646,"display_name":"Jaymelson Galang"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1370106165,"creation_date":1370105705,"answer_id":16874997,"question_id":8965006,"body_markdown":"It is a basic sequence that display or get a output of\r\n1 1 2 3 5 8\r\nit is a sequence that the sum of previous number the current number will be display next. \r\n\r\nTry to watch link below Java Recursive Fibonacci sequence Tutorial\r\n\r\n    public static long getFibonacci(int number){\r\n    if(number&lt;=1) return number;\r\n    else return getFibonacci(number-1) + getFibonacci(number-2);\r\n    }\r\n\r\nClick Here [Watch Java Recursive Fibonacci sequence Tutorial][1] for spoon feeding \r\n\r\n\r\n  [1]: http://youtu.be/ajJ3K6-_OgM","title":"Java recursive Fibonacci sequence","body":"<p>It is a basic sequence that display or get a output of\n1 1 2 3 5 8\nit is a sequence that the sum of previous number the current number will be display next. </p>\n\n<p>Try to watch link below Java Recursive Fibonacci sequence Tutorial</p>\n\n<pre><code>public static long getFibonacci(int number){\nif(number&lt;=1) return number;\nelse return getFibonacci(number-1) + getFibonacci(number-2);\n}\n</code></pre>\n\n<p>Click Here <a href=\"http://youtu.be/ajJ3K6-_OgM\" rel=\"nofollow\">Watch Java Recursive Fibonacci sequence Tutorial</a> for spoon feeding </p>\n"},{"tags":[],"owner":{"account_id":3221091,"reputation":71,"user_id":2718538,"display_name":"user2718538"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1377529328,"creation_date":1377529328,"answer_id":18447202,"question_id":8965006,"body_markdown":"This is the best video I have found that fully explains recursion and the Fibonacci sequence in Java.\r\n\r\n\r\nhttp://www.youtube.com/watch?v=dsmBRUCzS7k\r\n\r\nThis is his code for the sequence and his explanation is better than I could ever do trying to type it out.\r\n\r\n\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tint index = 0;\r\n\t\twhile (true)\r\n\t\t{\r\n\t\t\tSystem.out.println(fibonacci(index));\r\n\t\t\tindex++;\r\n\t\t}\r\n\t}\r\n\t\tpublic static long fibonacci (int i)\r\n\t\t{\r\n\t\t\tif (i == 0) return 0;\r\n\t\t\tif (i&lt;= 2) return 1;\r\n\t\t\t\r\n\t\t\tlong fibTerm = fibonacci(i - 1) + fibonacci(i - 2);\r\n\t\t\treturn fibTerm;\r\n\t\t}\r\n","title":"Java recursive Fibonacci sequence","body":"<p>This is the best video I have found that fully explains recursion and the Fibonacci sequence in Java.</p>\n\n<p><a href=\"http://www.youtube.com/watch?v=dsmBRUCzS7k\" rel=\"noreferrer\">http://www.youtube.com/watch?v=dsmBRUCzS7k</a></p>\n\n<p>This is his code for the sequence and his explanation is better than I could ever do trying to type it out.</p>\n\n<pre><code>public static void main(String[] args)\n{\n    int index = 0;\n    while (true)\n    {\n        System.out.println(fibonacci(index));\n        index++;\n    }\n}\n    public static long fibonacci (int i)\n    {\n        if (i == 0) return 0;\n        if (i&lt;= 2) return 1;\n\n        long fibTerm = fibonacci(i - 1) + fibonacci(i - 2);\n        return fibTerm;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1731999,"reputation":169,"user_id":1585411,"display_name":"Tiago Zortea"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1382727795,"creation_date":1382727795,"answer_id":19597559,"question_id":8965006,"body_markdown":"Just to complement, if you want to be able to calculate larger numbers, you should use BigInteger.\r\n\r\nAn iterative example.\r\n\r\n    import java.math.BigInteger;\r\n    class Fibonacci{\r\n        public static void main(String args[]){\r\n            int n=10000;\r\n            BigInteger[] vec = new BigInteger[n];\r\n            vec[0]=BigInteger.ZERO;\r\n            vec[1]=BigInteger.ONE;\r\n            // calculating\r\n            for(int i = 2 ; i&lt;n ; i++){\r\n                vec[i]=vec[i-1].add(vec[i-2]);\r\n            }\r\n            // printing\r\n            for(int i = vec.length-1 ; i&gt;=0 ; i--){\r\n                System.out.println(vec[i]);\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n        }\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>Just to complement, if you want to be able to calculate larger numbers, you should use BigInteger.</p>\n\n<p>An iterative example.</p>\n\n<pre><code>import java.math.BigInteger;\nclass Fibonacci{\n    public static void main(String args[]){\n        int n=10000;\n        BigInteger[] vec = new BigInteger[n];\n        vec[0]=BigInteger.ZERO;\n        vec[1]=BigInteger.ONE;\n        // calculating\n        for(int i = 2 ; i&lt;n ; i++){\n            vec[i]=vec[i-1].add(vec[i-2]);\n        }\n        // printing\n        for(int i = vec.length-1 ; i&gt;=0 ; i--){\n            System.out.println(vec[i]);\n            System.out.println(\"\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3637138,"reputation":11,"user_id":3032222,"display_name":"Deepu"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1410634354,"creation_date":1385629644,"answer_id":20261757,"question_id":8965006,"body_markdown":"    public class Fibonaci{    \t\r\n    \r\n    \tstatic void fibonacci() {\r\n    \t    int ptr1 = 1, ptr2 = 1, ptr3 = 0;\r\n    \t    int temp = 0;\r\n    \t    BufferedReader Data=new BufferedReader (new InputStreamReader(System.in));\r\n    \t    try {\r\n    \t    \tSystem.out.println(&quot;The Number Value&#39;s fib you required ? &quot;);\r\n    \t    \tptr3 = Integer.parseInt(Data.readLine());\r\n    \t    \r\n    \t        System.out.print(ptr1 + &quot; &quot; + ptr2 + &quot; &quot;);\r\n    \t        for (int i = 0; i &lt; ptr3; i++) {\r\n    \t            System.out.print(ptr1 + ptr2 + &quot; &quot;);\r\n    \t            temp = ptr1;\r\n    \t            ptr1 = ptr2;\r\n    \t            ptr2 = temp + ptr2;\r\n    \t        }\r\n    \t    } catch(IOException err) {\r\n                System.out.println(&quot;Error!&quot; + err);\r\n    \t    } catch(NumberFormatException err) {\r\n                System.out.println(&quot;Invald Input!&quot;);\r\n            }\r\n    \t}\r\n    \t\r\n        public static void main(String[]args)throws Exception{    \r\n        \t\tFibonaci.fibonacci();\r\n        }   \r\n     }\r\n\r\nYou can do like this.   ","title":"Java recursive Fibonacci sequence","body":"<pre><code>public class Fibonaci{      \n\n    static void fibonacci() {\n        int ptr1 = 1, ptr2 = 1, ptr3 = 0;\n        int temp = 0;\n        BufferedReader Data=new BufferedReader (new InputStreamReader(System.in));\n        try {\n            System.out.println(\"The Number Value's fib you required ? \");\n            ptr3 = Integer.parseInt(Data.readLine());\n\n            System.out.print(ptr1 + \" \" + ptr2 + \" \");\n            for (int i = 0; i &lt; ptr3; i++) {\n                System.out.print(ptr1 + ptr2 + \" \");\n                temp = ptr1;\n                ptr1 = ptr2;\n                ptr2 = temp + ptr2;\n            }\n        } catch(IOException err) {\n            System.out.println(\"Error!\" + err);\n        } catch(NumberFormatException err) {\n            System.out.println(\"Invald Input!\");\n        }\n    }\n\n    public static void main(String[]args)throws Exception{    \n            Fibonaci.fibonacci();\n    }   \n }\n</code></pre>\n\n<p>You can do like this.   </p>\n"},{"tags":[],"owner":{"account_id":95112,"reputation":2041,"user_id":259248,"accept_rate":75,"display_name":"Sergei Chicherin"},"down_vote_count":2,"up_vote_count":58,"is_accepted":false,"score":56,"last_activity_date":1688421132,"creation_date":1387593058,"answer_id":20714795,"question_id":8965006,"body_markdown":"There are 2 issues with your code:\r\n\r\n 1. The result is stored in int which can handle only a first 48 fibonacci numbers, after this the integer fill minus bit and result is wrong. But you never can run fibonacci(50).  \r\n 2. The code   `fibonacci(n - 1) + fibonacci(n - 2)`  is very inefficient. The problem is that the it calls fibonacci not 50 times but much more.  \r\n    - At first it calls fibonacci(49)+fibonacci(48),   \r\n    - next fibonacci(48)+fibonacci(47) and fibonacci(47)+fibonacci(46)...  \r\n    - Each time it became fibonacci(n) worse, so the **complexity is exponential**:\r\n![a visual &quot;call stack&quot; showing how calling fibonacci(7) will be inefficient][1]\r\n\r\n\r\nThe approach to non-recursive code:\r\n\r\n     double fibonacci(int n){\r\n    \tdouble prev=0d, next=1d, result=0d;\r\n    \tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tresult=prev+next;\r\n\t\t\tprev=next;\r\n\t\t\tnext=result;\r\n\t\t}\r\n    \treturn result;\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/keYhd.png","title":"Java recursive Fibonacci sequence","body":"<p>There are 2 issues with your code:</p>\n<ol>\n<li>The result is stored in int which can handle only a first 48 fibonacci numbers, after this the integer fill minus bit and result is wrong. But you never can run fibonacci(50).</li>\n<li>The code   <code>fibonacci(n - 1) + fibonacci(n - 2)</code>  is very inefficient. The problem is that the it calls fibonacci not 50 times but much more.\n<ul>\n<li>At first it calls fibonacci(49)+fibonacci(48),</li>\n<li>next fibonacci(48)+fibonacci(47) and fibonacci(47)+fibonacci(46)...</li>\n<li>Each time it became fibonacci(n) worse, so the <strong>complexity is exponential</strong>:\n<img src=\"https://i.stack.imgur.com/keYhd.png\" alt=\"a visual &quot;call stack&quot; showing how calling fibonacci(7) will be inefficient\" /></li>\n</ul>\n</li>\n</ol>\n<p>The approach to non-recursive code:</p>\n<pre><code> double fibonacci(int n){\n    double prev=0d, next=1d, result=0d;\n    for (int i = 0; i &lt; n; i++) {\n        result=prev+next;\n        prev=next;\n        next=result;\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4002474,"reputation":9,"user_id":3298135,"display_name":"vikas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1392138093,"creation_date":1392136939,"answer_id":21707775,"question_id":8965006,"body_markdown":"http://en.wikipedia.org/wiki/Fibonacci_number in more details\r\n\r\n\r\n    public class Fibonacci {\r\n    \r\n        public static long fib(int n) {\r\n            if (n &lt;= 1) return n;\r\n            else return fib(n-1) + fib(n-2);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int N = Integer.parseInt(args[0]);\r\n            for (int i = 1; i &lt;= N; i++)\r\n                System.out.println(i + &quot;: &quot; + fib(i));\r\n        }\r\n    \r\n    }\r\n\r\nMake it that as simple as needed no need to use while loop and other loop\r\n","title":"Java recursive Fibonacci sequence","body":"<p><a href=\"http://en.wikipedia.org/wiki/Fibonacci_number\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Fibonacci_number</a> in more details</p>\n\n<pre><code>public class Fibonacci {\n\n    public static long fib(int n) {\n        if (n &lt;= 1) return n;\n        else return fib(n-1) + fib(n-2);\n    }\n\n    public static void main(String[] args) {\n        int N = Integer.parseInt(args[0]);\n        for (int i = 1; i &lt;= N; i++)\n            System.out.println(i + \": \" + fib(i));\n    }\n\n}\n</code></pre>\n\n<p>Make it that as simple as needed no need to use while loop and other loop</p>\n"},{"tags":[],"owner":{"account_id":3874355,"reputation":275,"user_id":3208800,"accept_rate":10,"display_name":"Muthu"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1466039470,"creation_date":1392828406,"answer_id":21886898,"question_id":8965006,"body_markdown":"Fibonacci series is one simple code that shows the power of dynamic programming. All we learned from school days is to run it via iterative or max recursive code. Recursive code works fine till 20 or so, if you give numbers bigger than that you will see it takes a lot of time to compute. In dynamic programming you can code as follows and it takes secs to compute the answer.\r\n\r\n\tstatic double fib(int n) {\r\n        if (n &lt; 2)\r\n\t\t\treturn n;\r\n\t\tif (fib[n] != 0)\r\n\t\t\treturn fib[n];\r\n\t\tfib[n] = fib(n - 1) + fib(n - 2);\r\n\t\treturn fib[n];\r\n\t}\r\n\r\nYou store values in an array and proceed to fresh computation only when the array cannot provide you the answer.","title":"Java recursive Fibonacci sequence","body":"<p>Fibonacci series is one simple code that shows the power of dynamic programming. All we learned from school days is to run it via iterative or max recursive code. Recursive code works fine till 20 or so, if you give numbers bigger than that you will see it takes a lot of time to compute. In dynamic programming you can code as follows and it takes secs to compute the answer.</p>\n\n<pre><code>static double fib(int n) {\n    if (n &lt; 2)\n        return n;\n    if (fib[n] != 0)\n        return fib[n];\n    fib[n] = fib(n - 1) + fib(n - 2);\n    return fib[n];\n}\n</code></pre>\n\n<p>You store values in an array and proceed to fresh computation only when the array cannot provide you the answer.</p>\n"},{"tags":[],"owner":{"account_id":2922454,"reputation":161,"user_id":2504416,"display_name":"Amandeep Kamboj"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1393917441,"creation_date":1393917441,"answer_id":22165327,"question_id":8965006,"body_markdown":"                                    F(n)\r\n                                    /    \\\r\n                                F(n-1)   F(n-2)\r\n                                /   \\     /      \\\r\n                            F(n-2) F(n-3) F(n-3)  F(n-4)\r\n                           /    \\\r\n                         F(n-3) F(n-4)\r\n          \r\nImportant point to note is this algorithm is exponential because it does not store the result of previous calculated numbers. eg F(n-3) is called 3 times. \r\n\r\nFor more details refer algorithm by dasgupta chapter 0.2  ","title":"Java recursive Fibonacci sequence","body":"<pre><code>                                F(n)\n                                /    \\\n                            F(n-1)   F(n-2)\n                            /   \\     /      \\\n                        F(n-2) F(n-3) F(n-3)  F(n-4)\n                       /    \\\n                     F(n-3) F(n-4)\n</code></pre>\n\n<p>Important point to note is this algorithm is exponential because it does not store the result of previous calculated numbers. eg F(n-3) is called 3 times. </p>\n\n<p>For more details refer algorithm by dasgupta chapter 0.2  </p>\n"},{"tags":[],"owner":{"account_id":4678123,"reputation":27,"user_id":3787713,"display_name":"user3787713"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1404052079,"creation_date":1404045712,"answer_id":24476145,"question_id":8965006,"body_markdown":"I think this is a simple way:\r\n\r\n    public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            int number = input.nextInt();\r\n            long a = 0;\r\n            long b = 1;\r\n            for(int i = 1; i&lt;number;i++){\r\n                long c = a +b;\r\n                a=b;\r\n                b=c;\r\n                System.out.println(c);\r\n            }\r\n        }\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>I think this is a simple way:</p>\n\n<pre><code>public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int number = input.nextInt();\n        long a = 0;\n        long b = 1;\n        for(int i = 1; i&lt;number;i++){\n            long c = a +b;\n            a=b;\n            b=c;\n            System.out.println(c);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5243034,"reputation":1,"user_id":4189572,"display_name":"T.B.Nanda"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1414496741,"creation_date":1414496741,"answer_id":26607529,"question_id":8965006,"body_markdown":"        import java.util.*;\r\n    /*\r\n    @ Author 12CSE54\r\n    @ Date 28.10.14\r\n    */\r\n        public class cfibonacci\r\n        {\r\n        public void print(int p)\r\n        {\r\n        int a=0,b=1,c;\r\n        int q[]=new int[30];\r\n        q[0]=a;\r\n        q[1]=b;\r\n        for(int i=2;i&lt;p;i++)\r\n        {\r\n        c=a+b;\r\n        q[i]=c;\r\n        a=b;\r\n        b=c;\r\n        }\r\n        System.out.println(&quot;elements are....\\n&quot;);\r\n        for(int i=0;i&lt;q.length;i++)\r\n        System.out.println(q[i]);\r\n        }\r\n        public static void main(String ar[])throws Exception\r\n        {\r\n        Scanner s=new Scanner(System.in);\r\n        int n;\r\n        System.out.println(&quot;Enter the number of elements\\n&quot;);\r\n        n=sc.nextInt();\r\n        cfibonacci c=new cfibonacci();\r\n        c.printf(n);\r\n        \r\n        }\r\n        }","title":"Java recursive Fibonacci sequence","body":"<pre><code>    import java.util.*;\n/*\n@ Author 12CSE54\n@ Date 28.10.14\n*/\n    public class cfibonacci\n    {\n    public void print(int p)\n    {\n    int a=0,b=1,c;\n    int q[]=new int[30];\n    q[0]=a;\n    q[1]=b;\n    for(int i=2;i&lt;p;i++)\n    {\n    c=a+b;\n    q[i]=c;\n    a=b;\n    b=c;\n    }\n    System.out.println(\"elements are....\\n\");\n    for(int i=0;i&lt;q.length;i++)\n    System.out.println(q[i]);\n    }\n    public static void main(String ar[])throws Exception\n    {\n    Scanner s=new Scanner(System.in);\n    int n;\n    System.out.println(\"Enter the number of elements\\n\");\n    n=sc.nextInt();\n    cfibonacci c=new cfibonacci();\n    c.printf(n);\n\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4900509,"reputation":101,"user_id":3948962,"display_name":"Rae"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1424142151,"creation_date":1424140677,"answer_id":28553801,"question_id":8965006,"body_markdown":"Michael Goodrich et al provide a really clever algorithm in Data Structures and Algorithms in Java, for solving fibonacci recursively in linear time by returning an array of [fib(n), fib(n-1)].\r\n\r\n    public static long[] fibGood(int n) {\r\n        if (n &lt; = 1) {\r\n            long[] answer = {n,0};\r\n            return answer;\r\n        } else {\r\n            long[] tmp = fibGood(n-1);\r\n            long[] answer = {tmp[0] + tmp[1], tmp[0]};\r\n            return answer;\r\n        }\r\n    }\r\n\r\nThis yields fib(n) = fibGood(n)[0].","title":"Java recursive Fibonacci sequence","body":"<p>Michael Goodrich et al provide a really clever algorithm in Data Structures and Algorithms in Java, for solving fibonacci recursively in linear time by returning an array of [fib(n), fib(n-1)].</p>\n\n<pre><code>public static long[] fibGood(int n) {\n    if (n &lt; = 1) {\n        long[] answer = {n,0};\n        return answer;\n    } else {\n        long[] tmp = fibGood(n-1);\n        long[] answer = {tmp[0] + tmp[1], tmp[0]};\n        return answer;\n    }\n}\n</code></pre>\n\n<p>This yields fib(n) = fibGood(n)[0].</p>\n"},{"tags":[],"owner":{"account_id":5691381,"reputation":261,"user_id":4499365,"accept_rate":0,"display_name":"Amarjit Datta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1498113779,"creation_date":1432469629,"answer_id":30423376,"question_id":8965006,"body_markdown":"For fibonacci recursive solution, it is important to save the output of smaller fibonacci numbers, while retrieving the value of larger number. This is called &quot;Memoizing&quot;.\r\n\r\nHere is a code that use *memoizing* the smaller fibonacci values, while retrieving larger fibonacci number. This code is efficient and doesn&#39;t make multiple requests of same function.\r\n\r\n    import java.util.HashMap;\r\n    \r\n    public class Fibonacci {\r\n      private HashMap&lt;Integer, Integer&gt; map;\r\n      public Fibonacci() {\r\n        map = new HashMap&lt;&gt;();\r\n      }\r\n      public int findFibonacciValue(int number) {\r\n        if (number == 0 || number == 1) {\r\n          return number;\r\n        }\r\n        else if (map.containsKey(number)) {\r\n          return map.get(number);\r\n        }\r\n        else {\r\n          int fibonacciValue = findFibonacciValue(number - 2) + findFibonacciValue(number - 1);\r\n          map.put(number, fibonacciValue);\r\n          return fibonacciValue;\r\n        }\r\n      }\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>For fibonacci recursive solution, it is important to save the output of smaller fibonacci numbers, while retrieving the value of larger number. This is called \"Memoizing\".</p>\n\n<p>Here is a code that use <em>memoizing</em> the smaller fibonacci values, while retrieving larger fibonacci number. This code is efficient and doesn't make multiple requests of same function.</p>\n\n<pre><code>import java.util.HashMap;\n\npublic class Fibonacci {\n  private HashMap&lt;Integer, Integer&gt; map;\n  public Fibonacci() {\n    map = new HashMap&lt;&gt;();\n  }\n  public int findFibonacciValue(int number) {\n    if (number == 0 || number == 1) {\n      return number;\n    }\n    else if (map.containsKey(number)) {\n      return map.get(number);\n    }\n    else {\n      int fibonacciValue = findFibonacciValue(number - 2) + findFibonacciValue(number - 1);\n      map.put(number, fibonacciValue);\n      return fibonacciValue;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3525689,"reputation":357,"user_id":2946861,"accept_rate":55,"display_name":"taylordurden"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1433034316,"creation_date":1433034316,"answer_id":30552823,"question_id":8965006,"body_markdown":"@chro is spot on, but s/he doesn&#39;t show the correct way to do this recursively.  Here&#39;s the solution:\r\n\r\n    class Fib {\r\n    \tstatic int count;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlog(fibWrong(20));  // 6765\r\n    \t\tlog(&quot;Count: &quot; + count); // 21891\r\n    \t\tcount = 0;\r\n    \t\tlog(fibRight(20)); // 6765\r\n    \t\tlog(&quot;Count: &quot; + count); // 19\r\n    \t}\r\n    \r\n    \tstatic long fibRight(long n) {\r\n    \t\treturn calcFib(n-2, 1, 1);\r\n    \t}\r\n    \r\n    \tstatic long fibWrong(long n) {\r\n    \t\tcount++;\r\n    \t\tif (n == 0 || n == 1) {\r\n    \t\t\treturn n;\r\n    \t\t} else if (n &lt; 0) {\r\n    \t\t\tlog(&quot;Overflow!&quot;);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t\treturn n;\r\n    \t\t} else {\r\n    \t\t\treturn fibWrong(n-1) + fibWrong(n-2);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tstatic long calcFib(long nth, long prev, long next) {\r\n    \t\tcount++;\r\n    \t\tif (nth-- == 0)\r\n    \t\t\treturn next;\r\n    \t\tif (prev+next &lt; 0) {\r\n    \t\t\tlog(&quot;Overflow with &quot; + (nth+1) \r\n    \t\t\t\t+ &quot; combinations remaining&quot;);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t\treturn calcFib(nth, next, prev+next);\r\n    \t}\r\n    \r\n    \tstatic void log(Object o) {\r\n    \t\tSystem.out.println(o);\r\n    \t}\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>@chro is spot on, but s/he doesn't show the correct way to do this recursively.  Here's the solution:</p>\n\n<pre><code>class Fib {\n    static int count;\n\n    public static void main(String[] args) {\n        log(fibWrong(20));  // 6765\n        log(\"Count: \" + count); // 21891\n        count = 0;\n        log(fibRight(20)); // 6765\n        log(\"Count: \" + count); // 19\n    }\n\n    static long fibRight(long n) {\n        return calcFib(n-2, 1, 1);\n    }\n\n    static long fibWrong(long n) {\n        count++;\n        if (n == 0 || n == 1) {\n            return n;\n        } else if (n &lt; 0) {\n            log(\"Overflow!\");\n            System.exit(1);\n            return n;\n        } else {\n            return fibWrong(n-1) + fibWrong(n-2);\n        }\n\n    }\n\n    static long calcFib(long nth, long prev, long next) {\n        count++;\n        if (nth-- == 0)\n            return next;\n        if (prev+next &lt; 0) {\n            log(\"Overflow with \" + (nth+1) \n                + \" combinations remaining\");\n            System.exit(1);\n        }\n        return calcFib(nth, next, prev+next);\n    }\n\n    static void log(Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1713492,"reputation":43,"user_id":1571079,"accept_rate":60,"display_name":"Ian Mukunya Douglas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1436529711,"creation_date":1436529711,"answer_id":31340261,"question_id":8965006,"body_markdown":"     public static long fib(int n) {\r\n        long population = 0;\r\n       \r\n        if ((n == 0) || (n == 1)) // base cases\r\n        {\r\n            return n;\r\n        } else // recursion step\r\n        {\r\n            \r\n            population+=fib(n - 1) + fib(n - 2);\r\n        }\r\n        \r\n        return population;\r\n    }","title":"Java recursive Fibonacci sequence","body":"<pre><code> public static long fib(int n) {\n    long population = 0;\n\n    if ((n == 0) || (n == 1)) // base cases\n    {\n        return n;\n    } else // recursion step\n    {\n\n        population+=fib(n - 1) + fib(n - 2);\n    }\n\n    return population;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6943747,"reputation":833,"user_id":5329091,"display_name":"Otavio Ferreira"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1448401670,"creation_date":1448401044,"answer_id":33904296,"question_id":8965006,"body_markdown":"You can also simplify your function, as follows:\r\n\r\n    public int fibonacci(int n)  {\r\n        if (n &lt; 2) return n;\r\n        \r\n        return fibonacci(n - 1) + fibonacci(n - 2);\r\n    }\r\n","title":"Java recursive Fibonacci sequence","body":"<p>You can also simplify your function, as follows:</p>\n\n<pre><code>public int fibonacci(int n)  {\n    if (n &lt; 2) return n;\n\n    return fibonacci(n - 1) + fibonacci(n - 2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6839719,"reputation":45,"user_id":5507739,"accept_rate":0,"display_name":"Jenny"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1452955783,"creation_date":1450334113,"answer_id":34328079,"question_id":8965006,"body_markdown":"Instead of using an array and doing some fancy things just two add two values is waste of time, I have found an efficient way to display/print,the famous Fibonacci sequence.\r\n\r\n\r\n\r\n    public static void main(String args[]){\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;This program lists the Fibonacci sequence.&quot;);\r\n    \t\t\r\n    \t\tint answer = 0;\r\n    \t\tint startValue = 1;\r\n    \t\tint sum = 0;\r\n    \t\t\r\n    \t\twhile (answer &lt; 10000){\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(answer);\r\n    \t\t\t\t\r\n    \t\t\tsum = add(answer,startValue);\r\n    \t\t\t\r\n    \t    \tstartValue = answer;\r\n    \t\t    answer = sum;\t\t\t\t\r\n    \t\t}\t\r\n    \t}\r\n    \t//This method return the sum of addition \r\n    \tprivate static int add(int A,int B){\r\n    \t\t\treturn A+B;\r\n    \t}","title":"Java recursive Fibonacci sequence","body":"<p>Instead of using an array and doing some fancy things just two add two values is waste of time, I have found an efficient way to display/print,the famous Fibonacci sequence.</p>\n\n<pre><code>public static void main(String args[]){\n\n        System.out.println(\"This program lists the Fibonacci sequence.\");\n\n        int answer = 0;\n        int startValue = 1;\n        int sum = 0;\n\n        while (answer &lt; 10000){\n\n            System.out.println(answer);\n\n            sum = add(answer,startValue);\n\n            startValue = answer;\n            answer = sum;               \n        }   \n    }\n    //This method return the sum of addition \n    private static int add(int A,int B){\n            return A+B;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468493968,"creation_date":1468493968,"answer_id":38372425,"question_id":8965006,"body_markdown":"RanRag(accepted) answer will work fine but that&#39;s not optimized solution until and unless it is memorized as  explained in Anil answer.\r\n\r\nFor recursive consider below approach, method calls of `TestFibonacci ` are minimum\r\n\r\n    public class TestFibonacci {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint n = 10;\r\n    \r\n    \t\tif (n == 1) {\r\n    \t\t\tSystem.out.println(1);\r\n    \r\n    \t\t} else if (n == 2) {\r\n    \t\t\tSystem.out.println(1);\r\n    \t\t\tSystem.out.println(1);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(1);\r\n    \t\t\tSystem.out.println(1);\r\n    \t\t\tint currentNo = 3;\r\n    \t\t\tcalFibRec(n, 1, 1, currentNo);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void calFibRec(int n, int secondLast, int last,\r\n    \t\t\tint currentNo) {\r\n    \t\tif (currentNo &lt;= n) {\r\n    \r\n    \t\t\tint sum = secondLast + last;\r\n    \t\t\tSystem.out.println(sum);\r\n    \t\t\tcalFibRec(n, last, sum, ++currentNo);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>RanRag(accepted) answer will work fine but that's not optimized solution until and unless it is memorized as  explained in Anil answer.</p>\n\n<p>For recursive consider below approach, method calls of <code>TestFibonacci</code> are minimum</p>\n\n<pre><code>public class TestFibonacci {\n\n    public static void main(String[] args) {\n\n        int n = 10;\n\n        if (n == 1) {\n            System.out.println(1);\n\n        } else if (n == 2) {\n            System.out.println(1);\n            System.out.println(1);\n        } else {\n            System.out.println(1);\n            System.out.println(1);\n            int currentNo = 3;\n            calFibRec(n, 1, 1, currentNo);\n        }\n\n    }\n\n    public static void calFibRec(int n, int secondLast, int last,\n            int currentNo) {\n        if (currentNo &lt;= n) {\n\n            int sum = secondLast + last;\n            System.out.println(sum);\n            calFibRec(n, last, sum, ++currentNo);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468781512,"creation_date":1468781512,"answer_id":38424798,"question_id":8965006,"body_markdown":"Most of solutions offered here run in O(2^n) complexity. Recalculating identical nodes in recursive tree is inefficient and wastes CPU cycles.\r\n\r\nWe can use memoization to make fibonacci function run in O(n) time\r\n\r\n    public static int fibonacci(int n) {\r\n        return fibonacci(n, new int[n + 1]);\r\n    }\r\n\r\n    public static int fibonacci(int i, int[] memo) {\r\n\r\n        if (i == 0 || i == 1) {\r\n            return i;\r\n        }\r\n\r\n        if (memo[i] == 0) {\r\n            memo[i] = fibonacci(i - 1, memo) + fibonacci(i - 2, memo);\r\n        }\r\n        return memo[i];\r\n    }\r\n\r\nIf we follow Bottom-Up Dynamic Programming route, below code is simple enough to compute fibonacci:\r\n\r\n    public static int fibonacci1(int n) {\r\n        if (n == 0) {\r\n            return n;\r\n        } else if (n == 1) {\r\n            return n;\r\n        }\r\n        final int[] memo = new int[n];\r\n\r\n        memo[0] = 0;\r\n        memo[1] = 1;\r\n\r\n        for (int i = 2; i &lt; n; i++) {\r\n            memo[i] = memo[i - 1] + memo[i - 2];\r\n        }\r\n        return memo[n - 1] + memo[n - 2];\r\n    }\r\n\r\n","title":"Java recursive Fibonacci sequence","body":"<p>Most of solutions offered here run in O(2^n) complexity. Recalculating identical nodes in recursive tree is inefficient and wastes CPU cycles.</p>\n\n<p>We can use memoization to make fibonacci function run in O(n) time</p>\n\n<pre><code>public static int fibonacci(int n) {\n    return fibonacci(n, new int[n + 1]);\n}\n\npublic static int fibonacci(int i, int[] memo) {\n\n    if (i == 0 || i == 1) {\n        return i;\n    }\n\n    if (memo[i] == 0) {\n        memo[i] = fibonacci(i - 1, memo) + fibonacci(i - 2, memo);\n    }\n    return memo[i];\n}\n</code></pre>\n\n<p>If we follow Bottom-Up Dynamic Programming route, below code is simple enough to compute fibonacci:</p>\n\n<pre><code>public static int fibonacci1(int n) {\n    if (n == 0) {\n        return n;\n    } else if (n == 1) {\n        return n;\n    }\n    final int[] memo = new int[n];\n\n    memo[0] = 0;\n    memo[1] = 1;\n\n    for (int i = 2; i &lt; n; i++) {\n        memo[i] = memo[i - 1] + memo[i - 2];\n    }\n    return memo[n - 1] + memo[n - 2];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9259471,"reputation":19,"user_id":6877082,"display_name":"Marcxcx"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1498112018,"creation_date":1474789226,"answer_id":39684505,"question_id":8965006,"body_markdown":"Simple Fibonacci\r\n\t\r\n\tpublic static void main(String[]args){\r\n\t\t\r\n\t\tint i = 0;\r\n\t\tint u = 1;\r\n\t\t\r\n\t\twhile(i&lt;100){\r\n\t\t\tSystem.out.println(i);\r\n\t\t\ti = u+i;\r\n\t\t\tSystem.out.println(u);\r\n\t\t\tu = u+i;\r\n\t\t}\r\n\t  }\r\n    }\r\n","title":"Java recursive Fibonacci sequence","body":"<p>Simple Fibonacci</p>\n\n<pre><code>public static void main(String[]args){\n\n    int i = 0;\n    int u = 1;\n\n    while(i&lt;100){\n        System.out.println(i);\n        i = u+i;\n        System.out.println(u);\n        u = u+i;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1502436644,"creation_date":1498111995,"answer_id":44691479,"question_id":8965006,"body_markdown":"Most of the answers are good and explains how the recursion in fibonacci works. \r\n\r\nHere is an analysis on the three techniques which includes recursion as well: \r\n\r\n 1. *For Loop*\r\n 2. *Recursion*\r\n 3. *Memoization*\r\n\r\nHere is my code to test all three:\r\n\r\n    public class Fibonnaci {\r\n    \t// Output = 0 1 1 2 3 5 8 13\r\n    \r\n    \tstatic int fibMemo[];\r\n    \t\r\n    \tpublic static void main(String args[]) {\r\n    \t\tint num = 20;\r\n    \r\n    \t\tSystem.out.println(&quot;By For Loop&quot;);\r\n    \t\tLong startTimeForLoop = System.nanoTime();\r\n    \t\t// returns the fib series\r\n    \t\tint fibSeries[] = fib(num);\r\n    \t\tfor (int i = 0; i &lt; fibSeries.length; i++) {\r\n    \t\t\tSystem.out.print(&quot; &quot; + fibSeries[i] + &quot; &quot;);\r\n    \t\t}\r\n    \t\tLong stopTimeForLoop = System.nanoTime();\r\n    \t\tSystem.out.println(&quot;&quot;);\r\n    \t\tSystem.out.println(&quot;For Loop Time:&quot; + (stopTimeForLoop - startTimeForLoop));\r\n    \r\n    \t\t\r\n    \t\tSystem.out.println(&quot;By Using Recursion&quot;);\r\n    \t\tLong startTimeRecursion = System.nanoTime();\r\n    \t\t// uses recursion\r\n    \t\tint fibSeriesRec[] = fibByRec(num);\r\n    \r\n    \t\tfor (int i = 0; i &lt; fibSeriesRec.length; i++) {\r\n    \t\t\tSystem.out.print(&quot; &quot; + fibSeriesRec[i] + &quot; &quot;);\r\n    \t\t}\r\n    \t\tLong stopTimeRecursion = System.nanoTime();\r\n    \t\tSystem.out.println(&quot;&quot;);\r\n    \t\tSystem.out.println(&quot;Recursion Time:&quot; + (stopTimeRecursion -startTimeRecursion));\r\n    \r\n    \t\t\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;By Using Memoization Technique&quot;);\r\n    \t\tLong startTimeMemo = System.nanoTime();\r\n    \t\t// uses memoization\r\n    \t\tfibMemo = new int[num];\r\n    \t\tfibByRecMemo(num-1);\r\n    \t\tfor (int i = 0; i &lt; fibMemo.length; i++) {\r\n    \t\t\tSystem.out.print(&quot; &quot; + fibMemo[i] + &quot; &quot;);\r\n    \t\t}\r\n    \t\tLong stopTimeMemo = System.nanoTime();\r\n    \t\tSystem.out.println(&quot;&quot;);\r\n    \t\tSystem.out.println(&quot;Memoization Time:&quot; + (stopTimeMemo - startTimeMemo));\r\n    \r\n    \t}\r\n    \r\n    \t\r\n    \t//fib by memoization\r\n    \t\r\n    \tpublic static int fibByRecMemo(int num){\r\n    \t\t\r\n    \t\tif(num == 0){\r\n    \t\t\tfibMemo[0] = 0;\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(num ==1 || num ==2){\r\n    \t\t  fibMemo[num] = 1;\r\n    \t\t  return 1;\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(fibMemo[num] == 0){\r\n    \t\t\tfibMemo[num] = fibByRecMemo(num-1) + fibByRecMemo(num -2);\r\n    \t\t\treturn fibMemo[num];\r\n    \t\t}else{\r\n    \t\t\treturn fibMemo[num];\r\n    \t\t}\r\n    \t\t   \r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static int[] fibByRec(int num) {\r\n    \t\tint fib[] = new int[num];\r\n    \r\n    \t\tfor (int i = 0; i &lt; num; i++) {\r\n    \t\t\tfib[i] = fibRec(i);\r\n    \t\t}\r\n    \r\n    \t\treturn fib;\r\n    \t}\r\n    \r\n    \tpublic static int fibRec(int num) {\r\n    \t\tif (num == 0) {\r\n    \t\t\treturn 0;\r\n    \t\t} else if (num == 1 || num == 2) {\r\n    \t\t\treturn 1;\r\n    \t\t} else {\r\n    \t\t\treturn fibRec(num - 1) + fibRec(num - 2);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static int[] fib(int num) {\r\n    \t\tint fibSum[] = new int[num];\r\n    \t\tfor (int i = 0; i &lt; num; i++) {\r\n    \t\t\tif (i == 0) {\r\n    \t\t\t\tfibSum[i] = i;\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (i == 1 || i == 2) {\r\n    \t\t\t\tfibSum[i] = 1;\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \r\n    \t\t\tfibSum[i] = fibSum[i - 1] + fibSum[i - 2];\r\n    \r\n    \t\t}\r\n    \t\treturn fibSum;\r\n    \t}\r\n    \r\n    }\r\n\r\nHere are the results:\r\n\r\n    By For Loop\r\n     0  1  1  2  3  5  8  13  21  34  55  89  144  233  377  610  987  1597  2584  4181 \r\n    For Loop Time:347688\r\n    By Using Recursion\r\n     0  1  1  2  3  5  8  13  21  34  55  89  144  233  377  610  987  1597  2584  4181 \r\n    Recursion Time:767004\r\n    By Using Memoization Technique\r\n     0  1  1  2  3  5  8  13  21  34  55  89  144  233  377  610  987  1597  2584  4181 \r\n    Memoization Time:327031\r\n\r\nHence we can see memoization is the best *time wise* and for loop matches closely.\r\n\r\nBut recursion takes the longest and may be you should avoid in real life. Also if you are using recursion make sure that you optimize the solution.\r\n","title":"Java recursive Fibonacci sequence","body":"<p>Most of the answers are good and explains how the recursion in fibonacci works. </p>\n\n<p>Here is an analysis on the three techniques which includes recursion as well: </p>\n\n<ol>\n<li><em>For Loop</em></li>\n<li><em>Recursion</em></li>\n<li><em>Memoization</em></li>\n</ol>\n\n<p>Here is my code to test all three:</p>\n\n<pre><code>public class Fibonnaci {\n    // Output = 0 1 1 2 3 5 8 13\n\n    static int fibMemo[];\n\n    public static void main(String args[]) {\n        int num = 20;\n\n        System.out.println(\"By For Loop\");\n        Long startTimeForLoop = System.nanoTime();\n        // returns the fib series\n        int fibSeries[] = fib(num);\n        for (int i = 0; i &lt; fibSeries.length; i++) {\n            System.out.print(\" \" + fibSeries[i] + \" \");\n        }\n        Long stopTimeForLoop = System.nanoTime();\n        System.out.println(\"\");\n        System.out.println(\"For Loop Time:\" + (stopTimeForLoop - startTimeForLoop));\n\n\n        System.out.println(\"By Using Recursion\");\n        Long startTimeRecursion = System.nanoTime();\n        // uses recursion\n        int fibSeriesRec[] = fibByRec(num);\n\n        for (int i = 0; i &lt; fibSeriesRec.length; i++) {\n            System.out.print(\" \" + fibSeriesRec[i] + \" \");\n        }\n        Long stopTimeRecursion = System.nanoTime();\n        System.out.println(\"\");\n        System.out.println(\"Recursion Time:\" + (stopTimeRecursion -startTimeRecursion));\n\n\n\n        System.out.println(\"By Using Memoization Technique\");\n        Long startTimeMemo = System.nanoTime();\n        // uses memoization\n        fibMemo = new int[num];\n        fibByRecMemo(num-1);\n        for (int i = 0; i &lt; fibMemo.length; i++) {\n            System.out.print(\" \" + fibMemo[i] + \" \");\n        }\n        Long stopTimeMemo = System.nanoTime();\n        System.out.println(\"\");\n        System.out.println(\"Memoization Time:\" + (stopTimeMemo - startTimeMemo));\n\n    }\n\n\n    //fib by memoization\n\n    public static int fibByRecMemo(int num){\n\n        if(num == 0){\n            fibMemo[0] = 0;\n            return 0;\n        }\n\n        if(num ==1 || num ==2){\n          fibMemo[num] = 1;\n          return 1; \n        }\n\n        if(fibMemo[num] == 0){\n            fibMemo[num] = fibByRecMemo(num-1) + fibByRecMemo(num -2);\n            return fibMemo[num];\n        }else{\n            return fibMemo[num];\n        }\n\n    }\n\n\n    public static int[] fibByRec(int num) {\n        int fib[] = new int[num];\n\n        for (int i = 0; i &lt; num; i++) {\n            fib[i] = fibRec(i);\n        }\n\n        return fib;\n    }\n\n    public static int fibRec(int num) {\n        if (num == 0) {\n            return 0;\n        } else if (num == 1 || num == 2) {\n            return 1;\n        } else {\n            return fibRec(num - 1) + fibRec(num - 2);\n        }\n    }\n\n    public static int[] fib(int num) {\n        int fibSum[] = new int[num];\n        for (int i = 0; i &lt; num; i++) {\n            if (i == 0) {\n                fibSum[i] = i;\n                continue;\n            }\n\n            if (i == 1 || i == 2) {\n                fibSum[i] = 1;\n                continue;\n            }\n\n            fibSum[i] = fibSum[i - 1] + fibSum[i - 2];\n\n        }\n        return fibSum;\n    }\n\n}\n</code></pre>\n\n<p>Here are the results:</p>\n\n<pre><code>By For Loop\n 0  1  1  2  3  5  8  13  21  34  55  89  144  233  377  610  987  1597  2584  4181 \nFor Loop Time:347688\nBy Using Recursion\n 0  1  1  2  3  5  8  13  21  34  55  89  144  233  377  610  987  1597  2584  4181 \nRecursion Time:767004\nBy Using Memoization Technique\n 0  1  1  2  3  5  8  13  21  34  55  89  144  233  377  610  987  1597  2584  4181 \nMemoization Time:327031\n</code></pre>\n\n<p>Hence we can see memoization is the best <em>time wise</em> and for loop matches closely.</p>\n\n<p>But recursion takes the longest and may be you should avoid in real life. Also if you are using recursion make sure that you optimize the solution.</p>\n"},{"tags":[],"owner":{"display_name":"user6863325"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498681300,"creation_date":1498678471,"answer_id":44811131,"question_id":8965006,"body_markdown":"    public class febo \r\n    {\r\n     public static void main(String...a)\r\n     {\r\n      int x[]=new int[15];\t\r\n       x[0]=0;\r\n       x[1]=1;\r\n       for(int i=2;i&lt;x.length;i++)\r\n       {\r\n     \t  x[i]=x[i-1]+x[i-2];\r\n       }\r\n       for(int i=0;i&lt;x.length;i++)\r\n       {\r\n     \t  System.out.println(x[i]);\r\n       }\r\n     }\r\n    }\r\n\r\n","title":"Java recursive Fibonacci sequence","body":"<pre><code>public class febo \n{\n public static void main(String...a)\n {\n  int x[]=new int[15];  \n   x[0]=0;\n   x[1]=1;\n   for(int i=2;i&lt;x.length;i++)\n   {\n      x[i]=x[i-1]+x[i-2];\n   }\n   for(int i=0;i&lt;x.length;i++)\n   {\n      System.out.println(x[i]);\n   }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3904669,"reputation":37,"user_id":3231661,"display_name":"user3231661"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501580652,"creation_date":1501577645,"answer_id":45433244,"question_id":8965006,"body_markdown":"    public class FibonacciSeries {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tint N = scanner.nextInt();\r\n    \t\tfor (int i = 0; i &lt;= N; i++) {\r\n    \t\t\tint result = fibonacciSeries(i);\r\n    \t\t\tSystem.out.println(result);\r\n    \t\t}\r\n    \t\tscanner.close();\r\n    \t}\r\n    \r\n    \tprivate static int fibonacciSeries(int n) {\r\n    \t\tif (n &lt; 0) {\r\n    \t\t\treturn 1;\r\n    \t\t} else if (n &gt; 0) {\r\n    \t\t\treturn fibonacciSeries(n - 1) + fibonacciSeries(n - 2);\r\n    \t\t}\r\n    \t\treturn 0;\r\n    \t}\r\n    }","title":"Java recursive Fibonacci sequence","body":"<pre><code>public class FibonacciSeries {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int N = scanner.nextInt();\n        for (int i = 0; i &lt;= N; i++) {\n            int result = fibonacciSeries(i);\n            System.out.println(result);\n        }\n        scanner.close();\n    }\n\n    private static int fibonacciSeries(int n) {\n        if (n &lt; 0) {\n            return 1;\n        } else if (n &gt; 0) {\n            return fibonacciSeries(n - 1) + fibonacciSeries(n - 2);\n        }\n        return 0;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502415804,"creation_date":1502415804,"answer_id":45625707,"question_id":8965006,"body_markdown":"# Why this answer is different\r\n\r\nEvery other answer either:\r\n\r\n - Prints instead of returns\r\n - Makes 2 recursive calls per iteration\r\n - Ignores the question by using loops\r\n\r\n(aside: none of these is actually efficient; use [Binet&#39;s formula][1] to directly calculate the n&lt;sup&gt;th&lt;/sup&gt; term)\r\n\r\n# Tail Recursive Fib\r\n\r\nHere is a recursive approach that avoids a double-recursive call by passing both the previous answer AND the one before that.\r\n\r\n    private static final int FIB_0 = 0;\r\n    private static final int FIB_1 = 1;\r\n    \r\n    private int calcFibonacci(final int target) {\r\n        if (target == 0) { return FIB_0; }\r\n        if (target == 1) { return FIB_1; }\r\n\r\n        return calcFibonacci(target, 1, FIB_1, FIB_0);\r\n    }\r\n    \r\n    private int calcFibonacci(final int target, final int previous, final int fibPrevious, final int fibPreviousMinusOne) {\r\n        final int current = previous + 1;\r\n        final int fibCurrent = fibPrevious + fibPreviousMinusOne;\r\n        // If you want, print here / memoize for future calls\r\n    \r\n        if (target == current) { return fibCurrent; }\r\n\r\n        return calcFibonacci(target, current, fibCurrent, fibPrevious);\r\n    }\r\n\r\n\r\n  [1]: http://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fibonacci/fibFormula.html#section1.2","title":"Java recursive Fibonacci sequence","body":"<h1>Why this answer is different</h1>\n\n<p>Every other answer either:</p>\n\n<ul>\n<li>Prints instead of returns</li>\n<li>Makes 2 recursive calls per iteration</li>\n<li>Ignores the question by using loops</li>\n</ul>\n\n<p>(aside: none of these is actually efficient; use <a href=\"http://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fibonacci/fibFormula.html#section1.2\" rel=\"nofollow noreferrer\">Binet's formula</a> to directly calculate the n<sup>th</sup> term)</p>\n\n<h1>Tail Recursive Fib</h1>\n\n<p>Here is a recursive approach that avoids a double-recursive call by passing both the previous answer AND the one before that.</p>\n\n<pre><code>private static final int FIB_0 = 0;\nprivate static final int FIB_1 = 1;\n\nprivate int calcFibonacci(final int target) {\n    if (target == 0) { return FIB_0; }\n    if (target == 1) { return FIB_1; }\n\n    return calcFibonacci(target, 1, FIB_1, FIB_0);\n}\n\nprivate int calcFibonacci(final int target, final int previous, final int fibPrevious, final int fibPreviousMinusOne) {\n    final int current = previous + 1;\n    final int fibCurrent = fibPrevious + fibPreviousMinusOne;\n    // If you want, print here / memoize for future calls\n\n    if (target == current) { return fibCurrent; }\n\n    return calcFibonacci(target, current, fibCurrent, fibPrevious);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8687812,"reputation":271,"user_id":6501649,"display_name":"Jeffrey Ferreiras"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512486371,"creation_date":1512486371,"answer_id":47656759,"question_id":8965006,"body_markdown":"A Fibbonacci sequence is one that sums the result of a number when added to the previous result starting with 1.\r\n         \r\n          so.. 1 + 1 = 2\r\n               2 + 3 = 5\r\n               3 + 5 = 8\r\n               5 + 8 = 13\r\n               8 + 13 = 21\r\n              \r\nOnce we understand what Fibbonacci is, we can begin to break down the code.\r\n \r\n    public int fibonacci(int n)  {\r\n        if(n == 0)\r\n            return 0;\r\n        else if(n == 1)\r\n          return 1;\r\n       else\r\n          return fibonacci(n - 1) + fibonacci(n - 2);\r\n    }\r\n \r\nThe first if statment checks for a base case, where the loop can break out. The else if statement below that is doing the same, but it could be re-written like so...\r\n \r\n        public int fibonacci(int n)  {\r\n            if(n &lt; 2)\r\n                 return n;\r\n       \r\n            return fibonacci(n - 1) + fibonacci(n - 2);\r\n        }\r\n \r\nNow that a base case is establish we have to understand the call stack.Your first call to &quot;fibonacci&quot; will be the last to resolve on the stack (sequence of calls) as they resolve in the reverse order from which they were called. The last method called resolves first, then the last to be called before that one and so on...\r\n \r\nSo, all the calls are made first before anything is &quot;calculated&quot; with those results. With an input of 8 we expect an output of 21 (see table above).\r\n \r\nfibonacci(n - 1) keeps being called until it reaches the base case, then fibonacci(n - 2) is called until it reaches the base case. When the stack starts summing the result in reverse order, the result will be like so...\r\n \r\n    1 + 1 = 1        ---- last call of the stack (hits a base case).\r\n    2 + 1 = 3        ---- Next level of the stack (resolving backwards).\r\n    2 + 3 = 5        ---- Next level of the stack (continuing to resolve).\r\n \r\nThey keep bubbling (resolving backwards) up until the correct sum is returned to the first call in the stack and that&#39;s how you get your answer.\r\n \r\nHaving said that, this algorithm is very inefficient because it calculates the same result for each branch the code splits into. A much better approach is a &quot;bottom up&quot; one where no Memoization (caching) or recursion (deep call stack) is required.\r\n \r\nLike so...\r\n \r\n \r\n            static int BottomUpFib(int current)\r\n            {\r\n                if (current &lt; 2) return current;\r\n   \r\n                int fib = 1;\r\n                int last = 1;\r\n   \r\n                for (int i = 2; i &lt; current; i++)\r\n                {\r\n                    int temp = fib;\r\n                    fib += last;\r\n                    last = temp;\r\n                }\r\n   \r\n                return fib;\r\n            }","title":"Java recursive Fibonacci sequence","body":"<p>A Fibbonacci sequence is one that sums the result of a number when added to the previous result starting with 1.</p>\n\n<pre><code>      so.. 1 + 1 = 2\n           2 + 3 = 5\n           3 + 5 = 8\n           5 + 8 = 13\n           8 + 13 = 21\n</code></pre>\n\n<p>Once we understand what Fibbonacci is, we can begin to break down the code.</p>\n\n<pre><code>public int fibonacci(int n)  {\n    if(n == 0)\n        return 0;\n    else if(n == 1)\n      return 1;\n   else\n      return fibonacci(n - 1) + fibonacci(n - 2);\n}\n</code></pre>\n\n<p>The first if statment checks for a base case, where the loop can break out. The else if statement below that is doing the same, but it could be re-written like so...</p>\n\n<pre><code>    public int fibonacci(int n)  {\n        if(n &lt; 2)\n             return n;\n\n        return fibonacci(n - 1) + fibonacci(n - 2);\n    }\n</code></pre>\n\n<p>Now that a base case is establish we have to understand the call stack.Your first call to \"fibonacci\" will be the last to resolve on the stack (sequence of calls) as they resolve in the reverse order from which they were called. The last method called resolves first, then the last to be called before that one and so on...</p>\n\n<p>So, all the calls are made first before anything is \"calculated\" with those results. With an input of 8 we expect an output of 21 (see table above).</p>\n\n<p>fibonacci(n - 1) keeps being called until it reaches the base case, then fibonacci(n - 2) is called until it reaches the base case. When the stack starts summing the result in reverse order, the result will be like so...</p>\n\n<pre><code>1 + 1 = 1        ---- last call of the stack (hits a base case).\n2 + 1 = 3        ---- Next level of the stack (resolving backwards).\n2 + 3 = 5        ---- Next level of the stack (continuing to resolve).\n</code></pre>\n\n<p>They keep bubbling (resolving backwards) up until the correct sum is returned to the first call in the stack and that's how you get your answer.</p>\n\n<p>Having said that, this algorithm is very inefficient because it calculates the same result for each branch the code splits into. A much better approach is a \"bottom up\" one where no Memoization (caching) or recursion (deep call stack) is required.</p>\n\n<p>Like so...</p>\n\n<pre><code>        static int BottomUpFib(int current)\n        {\n            if (current &lt; 2) return current;\n\n            int fib = 1;\n            int last = 1;\n\n            for (int i = 2; i &lt; current; i++)\n            {\n                int temp = fib;\n                fib += last;\n                last = temp;\n            }\n\n            return fib;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3883758,"reputation":51,"user_id":3215663,"display_name":"George Curington"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515545728,"creation_date":1515543917,"answer_id":48178621,"question_id":8965006,"body_markdown":"By using an internal ConcurrentHashMap which theoretically might allow\r\nthis recursive implementation to properly operate in a multithreaded \r\nenvironment, I have implemented a fib function that uses both BigInteger\r\nand Recursion. Takes about 53ms to calculate the first 100 fib numbers.\r\n\r\n   \r\n    private final Map&lt;BigInteger,BigInteger&gt; cacheBig  \r\n        = new ConcurrentHashMap&lt;&gt;();\r\n    public BigInteger fibRecursiveBigCache(BigInteger n) {\r\n        BigInteger a = cacheBig.computeIfAbsent(n, this::fibBigCache);\r\n        return a;\r\n    }\r\n    public BigInteger fibBigCache(BigInteger n) {\r\n        if ( n.compareTo(BigInteger.ONE ) &lt;= 0 ){\r\n            return n;\r\n        } else if (cacheBig.containsKey(n)){\r\n            return cacheBig.get(n);\r\n        } else {\r\n            return      \r\n                fibBigCache(n.subtract(BigInteger.ONE))\r\n                .add(fibBigCache(n.subtract(TWO)));\r\n        }\r\n    }\r\n      \r\n\r\n\r\nThe test code is:\r\n\r\n\r\n   \r\n    @Test\r\n    public void testFibRecursiveBigIntegerCache() {\r\n    \tlong start = System.currentTimeMillis();\r\n    \tFibonacciSeries fib = new FibonacciSeries();\r\n    \tIntStream.rangeClosed(0,100).forEach(p -&amp;R {\r\n    \t\tBigInteger n = BigInteger.valueOf(p);\r\n    \t\tn = fib.fibRecursiveBigCache(n);\r\n    \t\tSystem.out.println(String.format(&quot;fib of %d is %d&quot;, p,n));\r\n    \t});\r\n    \tlong end = System.currentTimeMillis();\r\n    \tSystem.out.println(&quot;elapsed:&quot; + \r\n        (end - start) + &quot;,&quot; + \r\n        ((end - start)/1000));\r\n    }\r\n   \r\n\r\n&lt;pre&gt;\r\nand output from the test is:\r\n    .\r\n    .\r\n    .\r\n    .\r\n    .\r\n    fib of 93 is 12200160415121876738\r\n    fib of 94 is 19740274219868223167\r\n    fib of 95 is 31940434634990099905\r\n    fib of 96 is 51680708854858323072\r\n    fib of 97 is 83621143489848422977\r\n    fib of 98 is 135301852344706746049\r\n    fib of 99 is 218922995834555169026\r\n    fib of 100 is 354224848179261915075\r\n    elapsed:58,0\r\n&lt;/pre&gt;","title":"Java recursive Fibonacci sequence","body":"<p>By using an internal ConcurrentHashMap which theoretically might allow\nthis recursive implementation to properly operate in a multithreaded \nenvironment, I have implemented a fib function that uses both BigInteger\nand Recursion. Takes about 53ms to calculate the first 100 fib numbers.</p>\n\n<pre><code>private final Map&lt;BigInteger,BigInteger&gt; cacheBig  \n    = new ConcurrentHashMap&lt;&gt;();\npublic BigInteger fibRecursiveBigCache(BigInteger n) {\n    BigInteger a = cacheBig.computeIfAbsent(n, this::fibBigCache);\n    return a;\n}\npublic BigInteger fibBigCache(BigInteger n) {\n    if ( n.compareTo(BigInteger.ONE ) &lt;= 0 ){\n        return n;\n    } else if (cacheBig.containsKey(n)){\n        return cacheBig.get(n);\n    } else {\n        return      \n            fibBigCache(n.subtract(BigInteger.ONE))\n            .add(fibBigCache(n.subtract(TWO)));\n    }\n}\n</code></pre>\n\n<p>The test code is:</p>\n\n<pre><code>@Test\npublic void testFibRecursiveBigIntegerCache() {\n    long start = System.currentTimeMillis();\n    FibonacciSeries fib = new FibonacciSeries();\n    IntStream.rangeClosed(0,100).forEach(p -&amp;R {\n        BigInteger n = BigInteger.valueOf(p);\n        n = fib.fibRecursiveBigCache(n);\n        System.out.println(String.format(\"fib of %d is %d\", p,n));\n    });\n    long end = System.currentTimeMillis();\n    System.out.println(\"elapsed:\" + \n    (end - start) + \",\" + \n    ((end - start)/1000));\n}\n</code></pre>\n\n<pre>\nand output from the test is:\n    .\n    .\n    .\n    .\n    .\n    fib of 93 is 12200160415121876738\n    fib of 94 is 19740274219868223167\n    fib of 95 is 31940434634990099905\n    fib of 96 is 51680708854858323072\n    fib of 97 is 83621143489848422977\n    fib of 98 is 135301852344706746049\n    fib of 99 is 218922995834555169026\n    fib of 100 is 354224848179261915075\n    elapsed:58,0\n</pre>\n"},{"tags":[],"owner":{"account_id":7422340,"reputation":2446,"user_id":5646176,"accept_rate":50,"display_name":"RonTLV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518088878,"creation_date":1518088878,"answer_id":48684283,"question_id":8965006,"body_markdown":"Here is a one line febonacci recursive:\r\n\r\n    public long fib( long n ) {\r\n            return n &lt;= 0 ? 0 : n == 1 ? 1 : fib( n - 1 ) + fib( n - 2 );\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>Here is a one line febonacci recursive:</p>\n\n<pre><code>public long fib( long n ) {\n        return n &lt;= 0 ? 0 : n == 1 ? 1 : fib( n - 1 ) + fib( n - 2 );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11665644,"reputation":25,"user_id":8542449,"display_name":"Saurabh Agrawal"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1523015366,"creation_date":1523014636,"answer_id":49691941,"question_id":8965006,"body_markdown":"Yes, it&#39;s important to memorize your calculated return value from each recursion method call, so that you can display the series in calling method.\r\n\r\nThere are some refinement in the implementation provided. Please find below implementation which gives us more correct and versatile output:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.stream.Collectors;\r\n\r\n    public class Fibonacci {\r\n\tprivate static HashMap&lt;Long, Long&gt; map;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlong n = 50;\r\n\t\tmap = new HashMap&lt;&gt;();\r\n\t\tfindFibonacciValue(n);\r\n\t\tSystem.out.println(map.values().stream().collect(Collectors.toList()));\r\n\t}\r\n\r\n\tpublic static long findFibonacciValue(long number) {\r\n\t\tif (number &lt;= 1) {\r\n\t\t\tif (number == 0) {\r\n\t\t\t\tmap.put(number, 0L);\r\n\t\t\t\treturn 0L;\r\n\t\t\t}\r\n\t\t\tmap.put(number, 1L);\r\n\t\t\treturn 1L;\r\n\t\t} else if (map.containsKey(number)) {\r\n\t\t\treturn map.get(number);\r\n\t\t} else {\r\n\t\t\tlong fibonacciValue = findFibonacciValue(number - 1L) + findFibonacciValue(number - 2L);\r\n\t\t\tmap.put(number, fibonacciValue);\r\n\t\t\treturn fibonacciValue;\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n\r\nOutput for number 50 is:\r\n\r\n    [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584, 4181, 6765, 10946, 17711, 28657, 46368, 75025, 121393, 196418, 317811, 514229, 832040, 1346269, 2178309, 3524578, 5702887, 9227465, 14930352, 24157817, 39088169, 63245986, 102334155, 165580141, 267914296, 433494437, 701408733, 1134903170, 1836311903, 2971215073, 4807526976, 7778742049, 12586269025]","title":"Java recursive Fibonacci sequence","body":"<p>Yes, it's important to memorize your calculated return value from each recursion method call, so that you can display the series in calling method.</p>\n\n<p>There are some refinement in the implementation provided. Please find below implementation which gives us more correct and versatile output:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.stream.Collectors;\n\npublic class Fibonacci {\nprivate static HashMap&lt;Long, Long&gt; map;\n\npublic static void main(String[] args) {\n    long n = 50;\n    map = new HashMap&lt;&gt;();\n    findFibonacciValue(n);\n    System.out.println(map.values().stream().collect(Collectors.toList()));\n}\n\npublic static long findFibonacciValue(long number) {\n    if (number &lt;= 1) {\n        if (number == 0) {\n            map.put(number, 0L);\n            return 0L;\n        }\n        map.put(number, 1L);\n        return 1L;\n    } else if (map.containsKey(number)) {\n        return map.get(number);\n    } else {\n        long fibonacciValue = findFibonacciValue(number - 1L) + findFibonacciValue(number - 2L);\n        map.put(number, fibonacciValue);\n        return fibonacciValue;\n    }\n}\n}\n</code></pre>\n\n<p>Output for number 50 is:</p>\n\n<pre><code>[0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584, 4181, 6765, 10946, 17711, 28657, 46368, 75025, 121393, 196418, 317811, 514229, 832040, 1346269, 2178309, 3524578, 5702887, 9227465, 14930352, 24157817, 39088169, 63245986, 102334155, 165580141, 267914296, 433494437, 701408733, 1134903170, 1836311903, 2971215073, 4807526976, 7778742049, 12586269025]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7608029,"reputation":4455,"user_id":5770004,"display_name":"Gavriel Cohen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525692776,"creation_date":1525692776,"answer_id":50213235,"question_id":8965006,"body_markdown":"Use `while`:\r\n\r\n    public int fib(int index) {\r\n\t\tint tmp = 0, step1 = 0, step2 = 1, fibNumber = 0;\r\n\t\twhile (tmp &lt; index - 1) {\r\n\t\t\tfibNumber = step1 + step2;\r\n\t\t\tstep1 = step2;\r\n\t\t\tstep2 = fibNumber;\r\n\t\t\ttmp += 1;\r\n\t\t};\r\n\t\treturn fibNumber;\r\n\t}\r\n\r\nThe advantage of this solution is that it&#39;s easy to read the code and understand it, hoping it helps","title":"Java recursive Fibonacci sequence","body":"<p>Use <code>while</code>:</p>\n\n<pre><code>public int fib(int index) {\n    int tmp = 0, step1 = 0, step2 = 1, fibNumber = 0;\n    while (tmp &lt; index - 1) {\n        fibNumber = step1 + step2;\n        step1 = step2;\n        step2 = fibNumber;\n        tmp += 1;\n    };\n    return fibNumber;\n}\n</code></pre>\n\n<p>The advantage of this solution is that it's easy to read the code and understand it, hoping it helps</p>\n"},{"tags":[],"owner":{"account_id":3342882,"reputation":871,"user_id":2808740,"accept_rate":100,"display_name":"Mathias Stavrou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528227183,"creation_date":1528227183,"answer_id":50707660,"question_id":8965006,"body_markdown":"A Fibbonacci sequence is one that sums the result of a number\r\nthen we have added to the previous result, we should started from 1.\r\nI was trying to find a solution based on algorithm, so i build the recursive code, noticed that i keep the previous number and i changed the position. I&#39;m searching the Fibbonacci sequence from 1 to 15. \r\n\r\n    public static void main(String args[]) {\r\n        \r\n        numbers(1,1,15);\r\n    }\r\n    \r\n    \r\n    public static int numbers(int a, int temp, int target)\r\n    {\r\n        if(target &lt;= a)\r\n        {\r\n            return a;\r\n        }\r\n        \r\n        System.out.print(a + &quot; &quot;);\r\n        \r\n        a = temp + a;\r\n        \r\n        return numbers(temp,a,target);\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>A Fibbonacci sequence is one that sums the result of a number\nthen we have added to the previous result, we should started from 1.\nI was trying to find a solution based on algorithm, so i build the recursive code, noticed that i keep the previous number and i changed the position. I'm searching the Fibbonacci sequence from 1 to 15. </p>\n\n<pre><code>public static void main(String args[]) {\n\n    numbers(1,1,15);\n}\n\n\npublic static int numbers(int a, int temp, int target)\n{\n    if(target &lt;= a)\n    {\n        return a;\n    }\n\n    System.out.print(a + \" \");\n\n    a = temp + a;\n\n    return numbers(temp,a,target);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9168037,"reputation":140,"user_id":6816791,"accept_rate":60,"display_name":"markus rytter"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1579115162,"creation_date":1551984829,"answer_id":55050914,"question_id":8965006,"body_markdown":"Try this\r\n\r\n    private static int fibonacci(int n){\r\n        if(n &lt;= 1)\r\n            return n;\r\n        return fibonacci(n - 1) + fibonacci(n - 2);\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>Try this</p>\n\n<pre><code>private static int fibonacci(int n){\n    if(n &lt;= 1)\n        return n;\n    return fibonacci(n - 1) + fibonacci(n - 2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7051471,"reputation":703,"user_id":5400374,"display_name":"Samir"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578822417,"creation_date":1561234913,"answer_id":56718902,"question_id":8965006,"body_markdown":"Here is O(1) solution :\r\n\r\n     private static long fibonacci(int n) {\r\n        double pha = pow(1 + sqrt(5), n);\r\n        double phb = pow(1 - sqrt(5), n);\r\n        double div = pow(2, n) * sqrt(5);\r\n        \r\n        return (long) ((pha - phb) / div);\r\n    }\r\n \r\n [ Binet&#39;s Fibonacci number formula][1] used for above implementation.\r\n For large inputs `long` can be replaced with `BigDecimal`.\r\n\r\n\r\n  [1]: http://mathworld.wolfram.com/FibonacciNumber.html","title":"Java recursive Fibonacci sequence","body":"<p>Here is O(1) solution :</p>\n\n<pre><code> private static long fibonacci(int n) {\n    double pha = pow(1 + sqrt(5), n);\n    double phb = pow(1 - sqrt(5), n);\n    double div = pow(2, n) * sqrt(5);\n\n    return (long) ((pha - phb) / div);\n}\n</code></pre>\n\n<p><a href=\"http://mathworld.wolfram.com/FibonacciNumber.html\" rel=\"nofollow noreferrer\"> Binet's Fibonacci number formula</a> used for above implementation.\n For large inputs <code>long</code> can be replaced with <code>BigDecimal</code>.</p>\n"},{"tags":[],"owner":{"account_id":9958740,"reputation":124,"user_id":7368720,"display_name":"GarbageCollector"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635929966,"creation_date":1635929966,"answer_id":69822084,"question_id":8965006,"body_markdown":"I could not find a simple one liner with a ternary operator. So here is one:\r\n\r\n    public int fibonacci(int n) {\r\n        return (n &lt; 2) ? n : fibonacci(n - 2) + fibonacci(n - 1);\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>I could not find a simple one liner with a ternary operator. So here is one:</p>\n<pre><code>public int fibonacci(int n) {\n    return (n &lt; 2) ? n : fibonacci(n - 2) + fibonacci(n - 1);\n}\n</code></pre>\n"}],"owner":{"account_id":1191231,"reputation":2004,"user_id":1163968,"accept_rate":80,"display_name":"Index Hacker"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540383,"favorite_count":0,"down_vote_count":5,"up_vote_count":172,"accepted_answer_id":8965075,"answer_count":37,"score":167,"last_activity_date":1688421132,"creation_date":1327268876,"question_id":8965006,"body_markdown":"Please explain this simple code:\r\n\r\n    public int fibonacci(int n)  {\r\n    \tif(n == 0)\r\n        \treturn 0;\r\n    \telse if(n == 1)\r\n          return 1;\r\n       else\r\n          return fibonacci(n - 1) + fibonacci(n - 2);\r\n    }\r\n\r\nI&#39;m confused with the last line especially because if n = 5 for example, then fibonacci(4) + fibonacci(3) would be called and so on but I don&#39;t understand how this algorithm calculates the value at index 5 by this method. Please explain with a lot of detail! \r\n","title":"Java recursive Fibonacci sequence","body":"<p>Please explain this simple code:</p>\n\n<pre><code>public int fibonacci(int n)  {\n    if(n == 0)\n        return 0;\n    else if(n == 1)\n      return 1;\n   else\n      return fibonacci(n - 1) + fibonacci(n - 2);\n}\n</code></pre>\n\n<p>I'm confused with the last line especially because if n = 5 for example, then fibonacci(4) + fibonacci(3) would be called and so on but I don't understand how this algorithm calculates the value at index 5 by this method. Please explain with a lot of detail! </p>\n"},{"tags":["java","json","spring-boot","rest"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688243170,"post_id":76596436,"comment_id":135048774,"body_markdown":"Do not use entity classes at controller level. Learn about 3tier architecture.","body":"Do not use entity classes at controller level. Learn about 3tier architecture."},{"owner":{"account_id":9953964,"reputation":111,"user_id":7365579,"display_name":"svil"},"score":0,"creation_date":1688243917,"post_id":76596436,"comment_id":135048844,"body_markdown":"Yes. I know, this code without service, i use Repository, Entity, Controller only. But how to add nested class to question in json?","body":"Yes. I know, this code without service, i use Repository, Entity, Controller only. But how to add nested class to question in json?"}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688421108,"creation_date":1688421108,"answer_id":76608289,"question_id":76596436,"body_markdown":"You need to add @OneToMany mapping between Question and Answers","title":"How to get all json levels from different entities in one rest method?","body":"<p>You need to add @OneToMany mapping between Question and Answers</p>\n"}],"owner":{"account_id":9953964,"reputation":111,"user_id":7365579,"display_name":"svil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688421108,"creation_date":1688243031,"question_id":76596436,"body_markdown":"Java.String-boot.Rest api. There are three entities: media, question, answer. media and question are connected many-to-many. Question and answer are related one-to- many. Accordingly, media &quot;does not see&quot; the answers, that  &quot;sees&quot; only question.\r\n\r\n    public class Media {\r\n    ...\r\n    \r\n          @ManyToMany(fetch = FetchType.LAZY, cascade = { CascadeType.PERSIST, CascadeType.MERGE })\r\n          @JoinTable(name = &quot;media_question&quot;, joinColumns = { @JoinColumn(name = &quot;media_id&quot;) }, inverseJoinColumns = {\r\n              @JoinColumn(name = &quot;question_id&quot;) })\r\n          private Set&lt;Question&gt; questions = new HashSet&lt;&gt;();\r\n        ...\r\n        }   \r\n        \r\n    public class Question {\r\n    ...\r\n    @ManyToMany(fetch = FetchType.LAZY,\r\n          cascade = {\r\n              CascadeType.PERSIST,\r\n              CascadeType.MERGE\r\n          },\r\n          mappedBy = &quot;questions&quot;)\r\n    \r\n    \r\n      @JsonIgnore\r\n      private Set&lt;Media&gt; medias = new HashSet&lt;&gt;();\r\n    ...\r\n    }\r\n    \r\n    public class Answer {\r\n    ...\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;question_id&quot;, nullable = false)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        @JsonIgnore\r\n        private Question question;\r\n    ...\r\n    }\r\n\r\nController:\r\n\r\n    @GetMapping(&quot;/medias/{id}&quot;)\r\n      public ResponseEntity&lt;Media&gt; getMediaById(@PathVariable(&quot;id&quot;) long id) {\r\n        Media media= mediaRepository.findById(id)\r\n            .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Not found Media with id = &quot; + id));\r\n    \r\n        return new ResponseEntity&lt;&gt;(media, HttpStatus.OK);\r\n      }\r\n\r\nJSON must be with answers, but it doesn&#39;t :\r\n\r\n     [![{\r\n                  &quot;id&quot;: 5,\r\n                  &quot;title&quot;: &quot;test&quot;,\r\n                  &quot;description&quot;: &quot;so so&quot;,\r\n                  &quot;published&quot;: true,\r\n                  &quot;questions&quot;: [\r\n                    {\r\n                      &quot;id&quot;: 9,\r\n                      &quot;name&quot;: &quot;How many?&quot;\r\n                      &quot;answers&quot;:[\r\n                        {\r\n                          &quot;id&quot;: 1,\r\n                          &quot;name&quot;: &quot;5&quot;\r\n                        },\r\n                        {\r\n                          &quot;id&quot;: 2,\r\n                          &quot;name&quot;: &quot;2&quot;\r\n                        }\r\n                      ]\r\n                    }\r\n                  ]\r\n                }]","title":"How to get all json levels from different entities in one rest method?","body":"<p>Java.String-boot.Rest api. There are three entities: media, question, answer. media and question are connected many-to-many. Question and answer are related one-to- many. Accordingly, media &quot;does not see&quot; the answers, that  &quot;sees&quot; only question.</p>\n<pre><code>public class Media {\n...\n\n      @ManyToMany(fetch = FetchType.LAZY, cascade = { CascadeType.PERSIST, CascadeType.MERGE })\n      @JoinTable(name = &quot;media_question&quot;, joinColumns = { @JoinColumn(name = &quot;media_id&quot;) }, inverseJoinColumns = {\n          @JoinColumn(name = &quot;question_id&quot;) })\n      private Set&lt;Question&gt; questions = new HashSet&lt;&gt;();\n    ...\n    }   \n    \npublic class Question {\n...\n@ManyToMany(fetch = FetchType.LAZY,\n      cascade = {\n          CascadeType.PERSIST,\n          CascadeType.MERGE\n      },\n      mappedBy = &quot;questions&quot;)\n\n\n  @JsonIgnore\n  private Set&lt;Media&gt; medias = new HashSet&lt;&gt;();\n...\n}\n\npublic class Answer {\n...\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;question_id&quot;, nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonIgnore\n    private Question question;\n...\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@GetMapping(&quot;/medias/{id}&quot;)\n  public ResponseEntity&lt;Media&gt; getMediaById(@PathVariable(&quot;id&quot;) long id) {\n    Media media= mediaRepository.findById(id)\n        .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Not found Media with id = &quot; + id));\n\n    return new ResponseEntity&lt;&gt;(media, HttpStatus.OK);\n  }\n</code></pre>\n<p>JSON must be with answers, but it doesn't :</p>\n<pre><code> [![{\n              &quot;id&quot;: 5,\n              &quot;title&quot;: &quot;test&quot;,\n              &quot;description&quot;: &quot;so so&quot;,\n              &quot;published&quot;: true,\n              &quot;questions&quot;: [\n                {\n                  &quot;id&quot;: 9,\n                  &quot;name&quot;: &quot;How many?&quot;\n                  &quot;answers&quot;:[\n                    {\n                      &quot;id&quot;: 1,\n                      &quot;name&quot;: &quot;5&quot;\n                    },\n                    {\n                      &quot;id&quot;: 2,\n                      &quot;name&quot;: &quot;2&quot;\n                    }\n                  ]\n                }\n              ]\n            }]\n</code></pre>\n"},{"tags":["javascript","java","android","react-native","webview"],"owner":{"account_id":28889091,"reputation":1,"user_id":22126672,"display_name":"Zhang Wei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688420827,"creation_date":1687659178,"question_id":76548643,"body_markdown":"I am embedding webview(VueJS) in my react native app, on some devices it is fine but on some android models it is not. I have tried many ways on google and stackoverflow but it doesn&#39;t work.\r\n\r\nWhen i change the webview&#39;s path to google.com or any other page it&#39;s fine but for my vuejs page it throws an error. Here is the code in my react native:\r\n\r\n```javascript\r\nimport * as React from &#39;react&#39;;\r\nimport { Text, View, StyleSheet,Dimensions } from &#39;react-native&#39;;\r\nimport Constants from &#39;expo-constants&#39;;\r\nimport { WebView } from &#39;react-native-webview&#39;;\r\nimport { useRef } from &#39;react&#39;;\r\nexport default function App() {\r\n  return (\r\n   \r\n    \r\n    &lt;View style={styles.container}&gt;\r\n      &lt;WebView\r\n      setLayerType=&quot;software&quot;\r\n      mixedContentMode=&quot;always&quot;\r\n      ignoreSslError={true}\r\n        style = {{marginTop: 0, width: Dimensions.get(&#39;window&#39;).width, height: Dimensions.get(&#39;window&#39;).height}}\r\n        source={{ uri: &#39;mydomain&#39; }} \r\n        javaScriptEnabled={true}\r\n        domStorageEnabled={true}\r\n        // startInLoadingState={true}\r\n        mediaPlaybackRequiresUserAction={false}\r\n        nestedScrollEnabled={false}\r\n        setJavaScriptEnabled={false}\r\n        scalesPageToFit={true}\r\n        originWhitelist={[&#39;*&#39;]}\r\n      /&gt;\r\n       &lt;/View&gt;\r\n  );\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: &#39;center&#39;,\r\n    backgroundColor: &#39;#ecf0f1&#39;\r\n  },\r\n  webview:{\r\n    height: &#39;100%&#39;,\r\n  }\r\n});\r\n\r\n\r\n```\r\n\r\n\r\nHope to receive your support, thank you very much","title":"Why does the webview show a blank page(white screen) on some devices","body":"<p>I am embedding webview(VueJS) in my react native app, on some devices it is fine but on some android models it is not. I have tried many ways on google and stackoverflow but it doesn't work.</p>\n<p>When i change the webview's path to google.com or any other page it's fine but for my vuejs page it throws an error. Here is the code in my react native:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import * as React from 'react';\nimport { Text, View, StyleSheet,Dimensions } from 'react-native';\nimport Constants from 'expo-constants';\nimport { WebView } from 'react-native-webview';\nimport { useRef } from 'react';\nexport default function App() {\n  return (\n   \n    \n    &lt;View style={styles.container}&gt;\n      &lt;WebView\n      setLayerType=&quot;software&quot;\n      mixedContentMode=&quot;always&quot;\n      ignoreSslError={true}\n        style = {{marginTop: 0, width: Dimensions.get('window').width, height: Dimensions.get('window').height}}\n        source={{ uri: 'mydomain' }} \n        javaScriptEnabled={true}\n        domStorageEnabled={true}\n        // startInLoadingState={true}\n        mediaPlaybackRequiresUserAction={false}\n        nestedScrollEnabled={false}\n        setJavaScriptEnabled={false}\n        scalesPageToFit={true}\n        originWhitelist={['*']}\n      /&gt;\n       &lt;/View&gt;\n  );\n}\n\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    backgroundColor: '#ecf0f1'\n  },\n  webview:{\n    height: '100%',\n  }\n});\n\n\n</code></pre>\n<p>Hope to receive your support, thank you very much</p>\n"},{"tags":["java","xml","xsl-fo","apache-fop","xxe"],"comments":[{"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"score":0,"creation_date":1574682014,"post_id":59030909,"comment_id":104305738,"body_markdown":"These are all FOP errors. But you didn&#39;t provide the input files creating this FOP file and therefore your question is not answerable in the current state. Please provide the input files (XML + XSLT or at least the XML-FO output file).","body":"These are all FOP errors. But you didn&#39;t provide the input files creating this FOP file and therefore your question is not answerable in the current state. Please provide the input files (XML + XSLT or at least the XML-FO output file)."},{"owner":{"account_id":17171618,"reputation":33,"user_id":12428654,"display_name":"greggor"},"score":0,"creation_date":1574682930,"post_id":59030909,"comment_id":104306264,"body_markdown":"I edited my post and provided an XSL input file. I think an XML file is not really necessery. If I&#39;m wrong i can provide it too.","body":"I edited my post and provided an XSL input file. I think an XML file is not really necessery. If I&#39;m wrong i can provide it too."},{"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"score":0,"creation_date":1574688028,"post_id":59030909,"comment_id":104309009,"body_markdown":"I checked you code with the definition of [fo:simple-page-master](http://www.datypic.com/sc/fo11/e-fo_simple-page-master.html) and except for `initial-page-number=&quot;1&quot;`, it&#39;s all standard compliant. So, I guess, without the relevant part of the XML, I cannot  replicate the error.","body":"I checked you code with the definition of <a href=\"http://www.datypic.com/sc/fo11/e-fo_simple-page-master.html\" rel=\"nofollow noreferrer\">fo:simple-page-master</a> and except for <code>initial-page-number=&quot;1&quot;</code>, it&#39;s all standard compliant. So, I guess, without the relevant part of the XML, I cannot  replicate the error."},{"owner":{"account_id":17171618,"reputation":33,"user_id":12428654,"display_name":"greggor"},"score":0,"creation_date":1574690698,"post_id":59030909,"comment_id":104310580,"body_markdown":"XML input files can be these invoices: https://github.com/itplr-kosit/xrechnung-testsuite/tree/master/instances (or do You mean the FOP-Config XML?)\nI think my problem is the TransformerFactory that I use. When I change the implementing class, warnings disappear. Do you know, which implementation classes support this feature?","body":"XML input files can be these invoices: <a href=\"https://github.com/itplr-kosit/xrechnung-testsuite/tree/master/instances\" rel=\"nofollow noreferrer\">github.com/itplr-kosit/xrechnung-testsuite/tree/master/&hellip;</a> (or do You mean the FOP-Config XML?) I think my problem is the TransformerFactory that I use. When I change the implementing class, warnings disappear. Do you know, which implementation classes support this feature?"},{"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"score":0,"creation_date":1574697742,"post_id":59030909,"comment_id":104314396,"body_markdown":"I tried to reproduce your error with the first XML file from your link. Then I applied the XSLT and after that Apache FOP. The result is a PDF file containing two strings: `foo` and `bar`. The chain appears to work, but the output seems to need some improvement. However, I cannot reproduce the errors.","body":"I tried to reproduce your error with the first XML file from your link. Then I applied the XSLT and after that Apache FOP. The result is a PDF file containing two strings: <code>foo</code> and <code>bar</code>. The chain appears to work, but the output seems to need some improvement. However, I cannot reproduce the errors."},{"owner":{"account_id":17171618,"reputation":33,"user_id":12428654,"display_name":"greggor"},"score":0,"creation_date":1574752184,"post_id":59030909,"comment_id":104332278,"body_markdown":"Could you please tell me, which implementation class of TransformerFactory did you use? The chain works for me too as long as I don&#39;t set the secure processing feature. Thank you for help anyway.","body":"Could you please tell me, which implementation class of TransformerFactory did you use? The chain works for me too as long as I don&#39;t set the secure processing feature. Thank you for help anyway."},{"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"score":0,"creation_date":1574756534,"post_id":59030909,"comment_id":104334094,"body_markdown":"Actually, I did not use `TransformerFactory` at all. I just put the XML and the XSLT into an XSLT processor, and passed the result to _Apache FOP_ to transform it to a PDF file. Then I viewed the PDF using the standard PDF viewer of Ubuntu 18.04: `okular`. So, I used a different approach that&#39;s working as desired and made the point that your XML+XSLT seem to be OK. The problem must be somewhere else.","body":"Actually, I did not use <code>TransformerFactory</code> at all. I just put the XML and the XSLT into an XSLT processor, and passed the result to <i>Apache FOP</i> to transform it to a PDF file. Then I viewed the PDF using the standard PDF viewer of Ubuntu 18.04: <code>okular</code>. So, I used a different approach that&#39;s working as desired and made the point that your XML+XSLT seem to be OK. The problem must be somewhere else."}],"answers":[{"tags":[],"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688420467,"creation_date":1617237337,"answer_id":66897004,"question_id":59030909,"body_markdown":"This is due to xalan-2.7.2.\r\n\r\n[Here is the bug in Xalan-J](https://issues.apache.org/jira/browse/XALANJ-2591)\r\n\r\nSwitching to xalan-2.7.1 or earlier will solve your problem.\r\n\r\nYou may have to force exclusions for xalan on an Apache-FO dependency.\r\n\r\nYou can also overwrite with 2.7.2_3, which patches this problem.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\r\n    &lt;artifactId&gt;org.apache.servicemix.bundles.xalan&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.2_3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n&lt;/dependency&gt;\r\n```\r\nUse of `&lt;!--$NO-MVN-MAN-VER$--&gt;` prevents overrides.\r\n\r\n*Note:* this bugfix was not migrated to xalan-2.7.3 for unspecified reasons and at this time there is no servicemix for 2.7.3 with the bugfix.","title":"Setting secure processing in TransformerFactory leads to Problems in XSL","body":"<p>This is due to xalan-2.7.2.</p>\n<p><a href=\"https://issues.apache.org/jira/browse/XALANJ-2591\" rel=\"nofollow noreferrer\">Here is the bug in Xalan-J</a></p>\n<p>Switching to xalan-2.7.1 or earlier will solve your problem.</p>\n<p>You may have to force exclusions for xalan on an Apache-FO dependency.</p>\n<p>You can also overwrite with 2.7.2_3, which patches this problem.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\n    &lt;artifactId&gt;org.apache.servicemix.bundles.xalan&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2_3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Use of <code>&lt;!--$NO-MVN-MAN-VER$--&gt;</code> prevents overrides.</p>\n<p><em>Note:</em> this bugfix was not migrated to xalan-2.7.3 for unspecified reasons and at this time there is no servicemix for 2.7.3 with the bugfix.</p>\n"}],"owner":{"account_id":17171618,"reputation":33,"user_id":12428654,"display_name":"greggor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":985,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1688420467,"creation_date":1574681779,"question_id":59030909,"body_markdown":"I am generating a PDF document with XML file as input using Apache FOP 2.4.\r\nTo prevent XXE-Attacks I need to set the secure processing feature (FEATURE_SECURE_PROCESSING) in TransformerFactory:\r\n\r\n```\r\nInputStream xslTransformer = getClass().getClassLoader().getResourceAsStream(&quot;foo.xsl&quot;);\r\nTransformerFactory transformerFactory = TransformerFactory.newInstance();\r\ntransformerFactory.setFeature(FEATURE_SECURE_PROCESSING, true);\r\nTransformer transformer = transformerFactory.newTransformer(new StreamSource(xslTransformer));\r\ntransformer.transform(new DOMSource(), new SAXResult(fop.getDefaultHandler()));\r\n```\r\n\r\nAfter setting this feature I can&#39;t generate any PDF document and I&#39;m getting warnings:\r\n```\r\nSystemId Unknown; Line #49; Column #99; &quot;master-name&quot; attribute is not allowed on the fo:simple-page-master element!\r\nSystemId Unknown; Line #49; Column #99; &quot;initial-page-number&quot; attribute is not allowed on the fo:simple-page-master element!\r\nSystemId Unknown; Line #49; Column #99; &quot;page-height&quot; attribute is not allowed on the fo:simple-page-master element!\r\nSystemId Unknown; Line #49; Column #99; &quot;page-width&quot; attribute is not allowed on the fo:simple-page-master element!\r\netc ...\r\n```\r\n\r\nHere is a section of XSL file (foo.xsl):\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; version=&quot;2.0&quot;\r\n                xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;\r\n                xmlns:pdf=&quot;http://xmlgraphics.apache.org/fop/extensions/pdf&quot;&gt;\r\n\r\n    &lt;xsl:template match=&quot;/&quot;&gt;\r\n        &lt;fo:root&gt;\r\n            &lt;fo:layout-master-set&gt;\r\n                &lt;fo:simple-page-master master-name=&quot;A4-portrait&quot; initial-page-number=&quot;1&quot;\r\n                                       page-height=&quot;29.7cm&quot; page-width=&quot;21.0cm&quot; margin-top=&quot;0cm&quot;\r\n                                       margin-left=&quot;1cm&quot; margin-right=&quot;1.3cm&quot; margin-bottom=&quot;0cm&quot;&gt;\r\n                    &lt;fo:region-body margin-top=&quot;2.2cm&quot; margin-bottom=&quot;1.2cm&quot; margin-left=&quot;1.3cm&quot;/&gt;\r\n                    &lt;fo:region-before region-name=&quot;xsl-region-before&quot; extent=&quot;2.2cm&quot;/&gt;\r\n                    &lt;fo:region-after region-name=&quot;xsl-region-after&quot; extent=&quot;1.2cm&quot;/&gt;\r\n                    &lt;fo:region-start region-name=&quot;xsl-region-start&quot; extent=&quot;1.3cm&quot;/&gt;\r\n                &lt;/fo:simple-page-master&gt;\r\n            &lt;/fo:layout-master-set&gt;\r\n\r\n            &lt;fo:page-sequence master-reference=&quot;A4-portrait&quot; font-family=&quot;Consolas&quot; font-size=&quot;11&quot;&gt;\r\n                &lt;fo:flow flow-name=&quot;xsl-region-body&quot;&gt;\r\n                    &lt;fo:block linefeed-treatment=&quot;preserve&quot; font-weight=&quot;bold&quot;&gt;\r\n                        foo\r\n                    &lt;/fo:block&gt;\r\n\r\n                    &lt;fo:block linefeed-treatment=&quot;preserve&quot;&gt;\r\n                        bar\r\n                    &lt;/fo:block&gt;\r\n\r\n                &lt;/fo:flow&gt;\r\n            &lt;/fo:page-sequence&gt;\r\n\r\n        &lt;/fo:root&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nHow should I use this feature and make it work? Java version is 8.","title":"Setting secure processing in TransformerFactory leads to Problems in XSL","body":"<p>I am generating a PDF document with XML file as input using Apache FOP 2.4.\nTo prevent XXE-Attacks I need to set the secure processing feature (FEATURE_SECURE_PROCESSING) in TransformerFactory:</p>\n\n<pre><code>InputStream xslTransformer = getClass().getClassLoader().getResourceAsStream(\"foo.xsl\");\nTransformerFactory transformerFactory = TransformerFactory.newInstance();\ntransformerFactory.setFeature(FEATURE_SECURE_PROCESSING, true);\nTransformer transformer = transformerFactory.newTransformer(new StreamSource(xslTransformer));\ntransformer.transform(new DOMSource(), new SAXResult(fop.getDefaultHandler()));\n</code></pre>\n\n<p>After setting this feature I can't generate any PDF document and I'm getting warnings:</p>\n\n<pre><code>SystemId Unknown; Line #49; Column #99; \"master-name\" attribute is not allowed on the fo:simple-page-master element!\nSystemId Unknown; Line #49; Column #99; \"initial-page-number\" attribute is not allowed on the fo:simple-page-master element!\nSystemId Unknown; Line #49; Column #99; \"page-height\" attribute is not allowed on the fo:simple-page-master element!\nSystemId Unknown; Line #49; Column #99; \"page-width\" attribute is not allowed on the fo:simple-page-master element!\netc ...\n</code></pre>\n\n<p>Here is a section of XSL file (foo.xsl):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"2.0\"\n                xmlns:fo=\"http://www.w3.org/1999/XSL/Format\"\n                xmlns:pdf=\"http://xmlgraphics.apache.org/fop/extensions/pdf\"&gt;\n\n    &lt;xsl:template match=\"/\"&gt;\n        &lt;fo:root&gt;\n            &lt;fo:layout-master-set&gt;\n                &lt;fo:simple-page-master master-name=\"A4-portrait\" initial-page-number=\"1\"\n                                       page-height=\"29.7cm\" page-width=\"21.0cm\" margin-top=\"0cm\"\n                                       margin-left=\"1cm\" margin-right=\"1.3cm\" margin-bottom=\"0cm\"&gt;\n                    &lt;fo:region-body margin-top=\"2.2cm\" margin-bottom=\"1.2cm\" margin-left=\"1.3cm\"/&gt;\n                    &lt;fo:region-before region-name=\"xsl-region-before\" extent=\"2.2cm\"/&gt;\n                    &lt;fo:region-after region-name=\"xsl-region-after\" extent=\"1.2cm\"/&gt;\n                    &lt;fo:region-start region-name=\"xsl-region-start\" extent=\"1.3cm\"/&gt;\n                &lt;/fo:simple-page-master&gt;\n            &lt;/fo:layout-master-set&gt;\n\n            &lt;fo:page-sequence master-reference=\"A4-portrait\" font-family=\"Consolas\" font-size=\"11\"&gt;\n                &lt;fo:flow flow-name=\"xsl-region-body\"&gt;\n                    &lt;fo:block linefeed-treatment=\"preserve\" font-weight=\"bold\"&gt;\n                        foo\n                    &lt;/fo:block&gt;\n\n                    &lt;fo:block linefeed-treatment=\"preserve\"&gt;\n                        bar\n                    &lt;/fo:block&gt;\n\n                &lt;/fo:flow&gt;\n            &lt;/fo:page-sequence&gt;\n\n        &lt;/fo:root&gt;\n    &lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>How should I use this feature and make it work? Java version is 8.</p>\n"},{"tags":["java","xslt"],"answers":[{"tags":[],"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688420404,"creation_date":1617237231,"answer_id":66896980,"question_id":66896815,"body_markdown":"**Solved**.  \r\n\r\nThis is due to xalan-2.7.2.  [Here is the bug in Xalan-J](https://issues.apache.org/jira/browse/XALANJ-2591)\r\n\r\nSwitching to xalan-2.7.1 solved the problem, but I ended up moving to 2.7.2_3 with an embedded patch, pending a future release.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\r\n    &lt;artifactId&gt;org.apache.servicemix.bundles.xalan&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.2_3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nNote that this is **not** resolved with the Apache xalan-2.7.3 release and there is no servicemix at this time for 2.7.3.\r\n","title":"How to prevent a TransformerFactory with feature FEATURE_SECURE_PROCESSING set true from stripping attributes?","body":"<p><strong>Solved</strong>.</p>\n<p>This is due to xalan-2.7.2.  <a href=\"https://issues.apache.org/jira/browse/XALANJ-2591\" rel=\"nofollow noreferrer\">Here is the bug in Xalan-J</a></p>\n<p>Switching to xalan-2.7.1 solved the problem, but I ended up moving to 2.7.2_3 with an embedded patch, pending a future release.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\n    &lt;artifactId&gt;org.apache.servicemix.bundles.xalan&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2_3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note that this is <strong>not</strong> resolved with the Apache xalan-2.7.3 release and there is no servicemix at this time for 2.7.3.</p>\n"}],"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66896980,"answer_count":1,"score":1,"last_activity_date":1688420404,"creation_date":1617235567,"question_id":66896815,"body_markdown":"I have 2 `TransformerFactory` instances: one default, one with secure processing feature set `true`.  Each generates a `Templates` for the same XSL file.  When I apply a transformation to XML data for each, I receive different results.\r\n\r\nThe output generated from the secure `TransformerFactory` stripped the attributes from my elements.  \r\nThe console output identified: `SystemId Unknown; Line #xx; Column #yy; &quot;zzzz&quot; attribute is not allowed on the vvvv element!`\r\n\r\n**What is going on here, and how do I prevent this?**  \r\n\r\nI am required to set secure processing to true, going forward.  Note that if I apply the attribute using the `xsl:attribute` tag (`&lt;xsl:attribute name=&quot;variable&quot;&gt;value&lt;/xsl:attribute&gt;`), then it is not ignored by the transformation, however I have many XSL files that are much larger than the sample and changing this would require a massive effort.\r\nThere must be a setting to allow for secure processing, but also allow for the strict attributes.\r\n\r\n**RESEARCH SECTION**\r\n\r\n* [Similar question](https://stackoverflow.com/questions/59030909/setting-secure-processing-in-transformerfactory-leads-to-problems-in-xsl) unanswered because it got conflated with a focus on Apache-FO instead of the actual problem, which is the secure transformer.\r\n\r\n* According to [this question](https://stackoverflow.com/questions/25273763/execute-xslt-with-xalan-in-secure-mode-to-create-xhtml-throws-transformerconfigu), this may be an issue with xalan-2.7.1/xalan-2.7.2 library; I will research and update dependencies.\r\n\r\n**DATA SECTION**\r\n\r\n**Sample Code**\r\n\r\n``` lang-java\r\npackage test;\r\n\r\nimport java.io.File;\r\nimport java.io.StringReader;\r\nimport java.io.StringWriter;\r\nimport java.nio.charset.Charset;\r\n\r\nimport javax.xml.transform.Templates;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.stream.StreamResult;\r\nimport javax.xml.transform.stream.StreamSource;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\n\r\npublic class XformTest {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        try {\r\n\r\n            File BASE_FOLDER = new File(&quot;C:\\\\path-to-work-folder\\\\&quot;);\r\n                \r\n            File outFolder = new File(BASE_FOLDER, &quot;out_&quot; + System.currentTimeMillis());\r\n            outFolder.mkdirs();\r\n\r\n            String xmlData = FileUtils.readFileToString(new File(BASE_FOLDER, &quot;data.xml&quot;), Charset.defaultCharset());\r\n            File xslFile = new File(BASE_FOLDER, &quot;format.xsl&quot;);\r\n            \r\n            StreamSource dataSource = null;\r\n            StreamSource xslSource = null;\r\n            TransformerFactory factory = null;\r\n            Templates template = null;\r\n            Transformer transformer = null;\r\n            StringWriter writer = null;\r\n            File outFile = null;\r\n            String result = null;\r\n            \r\n            // DEFAULT\r\n            System.out.println(&quot;DEFAULT&quot;);\r\n            outFile = new File(outFolder, &quot;default.html&quot;);\r\n            dataSource = new StreamSource(new StringReader(xmlData));\r\n            xslSource = new StreamSource(FileUtils.openInputStream(xslFile));\r\n            factory = TransformerFactory.newInstance();\r\n            template = factory.newTemplates(xslSource);\r\n            transformer = template.newTransformer();\r\n            writer = new StringWriter();\r\n            transformer.transform(dataSource, new StreamResult(writer));\r\n            result = writer.toString();\r\n            FileUtils.writeStringToFile(outFile, result, Charset.defaultCharset());\r\n            \r\n            // SECURE\r\n            System.out.println(&quot;SECURE&quot;);\r\n            outFile = new File(outFolder, &quot;secure.html&quot;);\r\n            dataSource = new StreamSource(new StringReader(xmlData));\r\n            xslSource = new StreamSource(FileUtils.openInputStream(xslFile));\r\n            factory = TransformerFactory.newInstance();\r\n            factory.setFeature(&quot;http://javax.xml.XMLConstants/feature/secure-processing&quot;, true);\r\n            template = factory.newTemplates(xslSource);\r\n            transformer = template.newTransformer();\r\n            writer = new StringWriter();\r\n            transformer.transform(dataSource, new StreamResult(writer));\r\n            result = writer.toString();\r\n            FileUtils.writeStringToFile(outFile, result, Charset.defaultCharset());\r\n            \r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }     \r\n}\r\n```\r\n\r\n**Data File &quot;data.xml&quot;**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;page&gt;\r\n    &lt;record&gt;\r\n    &lt;data&gt;0&lt;/data&gt;\r\n    &lt;moredata&gt;888.88&lt;/moredata&gt;\r\n    &lt;info&gt;12345&lt;/info&gt;\r\n    &lt;name&gt;foo&lt;/name&gt;\r\n    &lt;/record&gt;\r\n    &lt;Address1&gt;123 ANY STREET&lt;/Address1&gt;\r\n    &lt;Address2&gt;SUITE 100&lt;/Address2&gt;\r\n    &lt;City&gt;ALBUQUERQUE&lt;/City&gt;\r\n    &lt;Country&gt;USA&lt;/Country&gt;\r\n    &lt;Fax&gt;1-(888)-686-8281&lt;/Fax&gt;\r\n    &lt;Name&gt;MISC 000000AA000CDDE&lt;/Name&gt;\r\n    &lt;State&gt;NM&lt;/State&gt;\r\n    &lt;Zip&gt;99999-999&lt;/Zip&gt;\r\n&lt;/page&gt;\r\n```\r\n\r\nXSL File **format.xsl**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n&lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; encoding=&quot;UTF-8&quot;/&gt;\r\n&lt;xsl:template match=&quot;/&quot;&gt;\r\n&lt;xsl:variable name=&quot;record&quot; select=&quot;page/record&quot;/&gt;\r\n&lt;html&gt;\r\n&lt;body&gt;\r\n&lt;form&gt;\r\n&lt;input type=&quot;hidden&quot; name=&quot;hiddenInputName&quot; value=&quot;SpecialValue&quot;/&gt;\r\n&lt;table width=&quot;100%&quot; border=&quot;0&quot;&gt;\r\n&lt;tr&gt;&lt;td width=&quot;100%&quot;&gt;&lt;center&gt;&lt;span class=&quot;Heading&quot;&gt;HELP ME FIGURE THIS OUT&lt;/span&gt;&lt;/center&gt;&lt;br/&gt;DATA: &lt;xsl:value-of select=&quot;page/City&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;\r\n&lt;tr&gt;&lt;td width=&quot;100%&quot;&gt;&lt;span class=&quot;BodyNormal&quot;&gt;&lt;b&gt;&lt;i&gt;The span should have said BodyNormal 100% and the hidden input should have a name and value of hiddenInputName and SpecialValue respectively&lt;/i&gt;&lt;/b&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;\r\n&lt;/table&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n&lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nDefault (expected) Output: **&quot;default.html&quot;**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;html&gt;\r\n&lt;body&gt;\r\n&lt;form&gt;\r\n&lt;input value=&quot;SpecialValue&quot; name=&quot;hiddenInputName&quot; type=&quot;hidden&quot;/&gt;\r\n&lt;table border=&quot;0&quot; width=&quot;100%&quot;&gt;\r\n&lt;tr&gt;\r\n&lt;td width=&quot;100%&quot;&gt;\r\n&lt;center&gt;\r\n&lt;span class=&quot;Heading&quot;&gt;HELP ME FIGURE THIS OUT&lt;/span&gt;\r\n&lt;/center&gt;\r\n&lt;br/&gt;DATA: ALBUQUERQUE&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td width=&quot;100%&quot;&gt;\r\n&lt;span class=&quot;BodyNormal&quot;&gt;\r\n&lt;b&gt;\r\n&lt;i&gt;The span should have said BodyNormal 100% and the hidden input should have a name and value of hiddenInputName and SpecialValue respectively&lt;/i&gt;\r\n&lt;/b&gt;\r\n&lt;/span&gt;\r\n&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;/table&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\nSecure (truncated) Output: **&quot;secure.html&quot;**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;html&gt;\r\n&lt;body&gt;\r\n&lt;form&gt;\r\n&lt;input/&gt;\r\n&lt;table&gt;\r\n&lt;tr&gt;\r\n&lt;td&gt;\r\n&lt;center&gt;\r\n&lt;span&gt;HELP ME FIGURE THIS OUT&lt;/span&gt;\r\n&lt;/center&gt;\r\n&lt;br/&gt;DATA: ALBUQUERQUE&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td&gt;\r\n&lt;span&gt;\r\n&lt;b&gt;\r\n&lt;i&gt;The span should have said BodyNormal 100% and the hidden input should have a name and value of hiddenInputName and SpecialValue respectively&lt;/i&gt;\r\n&lt;/b&gt;\r\n&lt;/span&gt;\r\n&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;/table&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nConsole Output\r\n```\r\nDEFAULT\r\nSECURE\r\nSystemId Unknown; Line #9; Column #67; &quot;type&quot; attribute is not allowed on the input element!\r\nSystemId Unknown; Line #9; Column #67; &quot;name&quot; attribute is not allowed on the input element!\r\nSystemId Unknown; Line #9; Column #67; &quot;value&quot; attribute is not allowed on the input element!\r\nSystemId Unknown; Line #10; Column #32; &quot;width&quot; attribute is not allowed on the table element!\r\nSystemId Unknown; Line #10; Column #32; &quot;border&quot; attribute is not allowed on the table element!\r\nSystemId Unknown; Line #11; Column #22; &quot;width&quot; attribute is not allowed on the td element!\r\nSystemId Unknown; Line #11; Column #52; &quot;class&quot; attribute is not allowed on the span element!\r\nSystemId Unknown; Line #12; Column #22; &quot;width&quot; attribute is not allowed on the td element!\r\nSystemId Unknown; Line #12; Column #47; &quot;class&quot; attribute is not allowed on the span element!\r\n```","title":"How to prevent a TransformerFactory with feature FEATURE_SECURE_PROCESSING set true from stripping attributes?","body":"<p>I have 2 <code>TransformerFactory</code> instances: one default, one with secure processing feature set <code>true</code>.  Each generates a <code>Templates</code> for the same XSL file.  When I apply a transformation to XML data for each, I receive different results.</p>\n<p>The output generated from the secure <code>TransformerFactory</code> stripped the attributes from my elements.<br />\nThe console output identified: <code>SystemId Unknown; Line #xx; Column #yy; &quot;zzzz&quot; attribute is not allowed on the vvvv element!</code></p>\n<p><strong>What is going on here, and how do I prevent this?</strong></p>\n<p>I am required to set secure processing to true, going forward.  Note that if I apply the attribute using the <code>xsl:attribute</code> tag (<code>&lt;xsl:attribute name=&quot;variable&quot;&gt;value&lt;/xsl:attribute&gt;</code>), then it is not ignored by the transformation, however I have many XSL files that are much larger than the sample and changing this would require a massive effort.\nThere must be a setting to allow for secure processing, but also allow for the strict attributes.</p>\n<p><strong>RESEARCH SECTION</strong></p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/59030909/setting-secure-processing-in-transformerfactory-leads-to-problems-in-xsl\">Similar question</a> unanswered because it got conflated with a focus on Apache-FO instead of the actual problem, which is the secure transformer.</p>\n</li>\n<li><p>According to <a href=\"https://stackoverflow.com/questions/25273763/execute-xslt-with-xalan-in-secure-mode-to-create-xhtml-throws-transformerconfigu\">this question</a>, this may be an issue with xalan-2.7.1/xalan-2.7.2 library; I will research and update dependencies.</p>\n</li>\n</ul>\n<p><strong>DATA SECTION</strong></p>\n<p><strong>Sample Code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\nimport java.io.File;\nimport java.io.StringReader;\nimport java.io.StringWriter;\nimport java.nio.charset.Charset;\n\nimport javax.xml.transform.Templates;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.stream.StreamResult;\nimport javax.xml.transform.stream.StreamSource;\n\nimport org.apache.commons.io.FileUtils;\n\npublic class XformTest {\n\n    public static void main(String[] args) {\n        \n        try {\n\n            File BASE_FOLDER = new File(&quot;C:\\\\path-to-work-folder\\\\&quot;);\n                \n            File outFolder = new File(BASE_FOLDER, &quot;out_&quot; + System.currentTimeMillis());\n            outFolder.mkdirs();\n\n            String xmlData = FileUtils.readFileToString(new File(BASE_FOLDER, &quot;data.xml&quot;), Charset.defaultCharset());\n            File xslFile = new File(BASE_FOLDER, &quot;format.xsl&quot;);\n            \n            StreamSource dataSource = null;\n            StreamSource xslSource = null;\n            TransformerFactory factory = null;\n            Templates template = null;\n            Transformer transformer = null;\n            StringWriter writer = null;\n            File outFile = null;\n            String result = null;\n            \n            // DEFAULT\n            System.out.println(&quot;DEFAULT&quot;);\n            outFile = new File(outFolder, &quot;default.html&quot;);\n            dataSource = new StreamSource(new StringReader(xmlData));\n            xslSource = new StreamSource(FileUtils.openInputStream(xslFile));\n            factory = TransformerFactory.newInstance();\n            template = factory.newTemplates(xslSource);\n            transformer = template.newTransformer();\n            writer = new StringWriter();\n            transformer.transform(dataSource, new StreamResult(writer));\n            result = writer.toString();\n            FileUtils.writeStringToFile(outFile, result, Charset.defaultCharset());\n            \n            // SECURE\n            System.out.println(&quot;SECURE&quot;);\n            outFile = new File(outFolder, &quot;secure.html&quot;);\n            dataSource = new StreamSource(new StringReader(xmlData));\n            xslSource = new StreamSource(FileUtils.openInputStream(xslFile));\n            factory = TransformerFactory.newInstance();\n            factory.setFeature(&quot;http://javax.xml.XMLConstants/feature/secure-processing&quot;, true);\n            template = factory.newTemplates(xslSource);\n            transformer = template.newTransformer();\n            writer = new StringWriter();\n            transformer.transform(dataSource, new StreamResult(writer));\n            result = writer.toString();\n            FileUtils.writeStringToFile(outFile, result, Charset.defaultCharset());\n            \n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }     \n}\n</code></pre>\n<p><strong>Data File &quot;data.xml&quot;</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;page&gt;\n    &lt;record&gt;\n    &lt;data&gt;0&lt;/data&gt;\n    &lt;moredata&gt;888.88&lt;/moredata&gt;\n    &lt;info&gt;12345&lt;/info&gt;\n    &lt;name&gt;foo&lt;/name&gt;\n    &lt;/record&gt;\n    &lt;Address1&gt;123 ANY STREET&lt;/Address1&gt;\n    &lt;Address2&gt;SUITE 100&lt;/Address2&gt;\n    &lt;City&gt;ALBUQUERQUE&lt;/City&gt;\n    &lt;Country&gt;USA&lt;/Country&gt;\n    &lt;Fax&gt;1-(888)-686-8281&lt;/Fax&gt;\n    &lt;Name&gt;MISC 000000AA000CDDE&lt;/Name&gt;\n    &lt;State&gt;NM&lt;/State&gt;\n    &lt;Zip&gt;99999-999&lt;/Zip&gt;\n&lt;/page&gt;\n</code></pre>\n<p>XSL File <strong>format.xsl</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; encoding=&quot;UTF-8&quot;/&gt;\n&lt;xsl:template match=&quot;/&quot;&gt;\n&lt;xsl:variable name=&quot;record&quot; select=&quot;page/record&quot;/&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;form&gt;\n&lt;input type=&quot;hidden&quot; name=&quot;hiddenInputName&quot; value=&quot;SpecialValue&quot;/&gt;\n&lt;table width=&quot;100%&quot; border=&quot;0&quot;&gt;\n&lt;tr&gt;&lt;td width=&quot;100%&quot;&gt;&lt;center&gt;&lt;span class=&quot;Heading&quot;&gt;HELP ME FIGURE THIS OUT&lt;/span&gt;&lt;/center&gt;&lt;br/&gt;DATA: &lt;xsl:value-of select=&quot;page/City&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td width=&quot;100%&quot;&gt;&lt;span class=&quot;BodyNormal&quot;&gt;&lt;b&gt;&lt;i&gt;The span should have said BodyNormal 100% and the hidden input should have a name and value of hiddenInputName and SpecialValue respectively&lt;/i&gt;&lt;/b&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>Default (expected) Output: <strong>&quot;default.html&quot;</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;html&gt;\n&lt;body&gt;\n&lt;form&gt;\n&lt;input value=&quot;SpecialValue&quot; name=&quot;hiddenInputName&quot; type=&quot;hidden&quot;/&gt;\n&lt;table border=&quot;0&quot; width=&quot;100%&quot;&gt;\n&lt;tr&gt;\n&lt;td width=&quot;100%&quot;&gt;\n&lt;center&gt;\n&lt;span class=&quot;Heading&quot;&gt;HELP ME FIGURE THIS OUT&lt;/span&gt;\n&lt;/center&gt;\n&lt;br/&gt;DATA: ALBUQUERQUE&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td width=&quot;100%&quot;&gt;\n&lt;span class=&quot;BodyNormal&quot;&gt;\n&lt;b&gt;\n&lt;i&gt;The span should have said BodyNormal 100% and the hidden input should have a name and value of hiddenInputName and SpecialValue respectively&lt;/i&gt;\n&lt;/b&gt;\n&lt;/span&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>Secure (truncated) Output: <strong>&quot;secure.html&quot;</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;html&gt;\n&lt;body&gt;\n&lt;form&gt;\n&lt;input/&gt;\n&lt;table&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;center&gt;\n&lt;span&gt;HELP ME FIGURE THIS OUT&lt;/span&gt;\n&lt;/center&gt;\n&lt;br/&gt;DATA: ALBUQUERQUE&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;span&gt;\n&lt;b&gt;\n&lt;i&gt;The span should have said BodyNormal 100% and the hidden input should have a name and value of hiddenInputName and SpecialValue respectively&lt;/i&gt;\n&lt;/b&gt;\n&lt;/span&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Console Output</p>\n<pre><code>DEFAULT\nSECURE\nSystemId Unknown; Line #9; Column #67; &quot;type&quot; attribute is not allowed on the input element!\nSystemId Unknown; Line #9; Column #67; &quot;name&quot; attribute is not allowed on the input element!\nSystemId Unknown; Line #9; Column #67; &quot;value&quot; attribute is not allowed on the input element!\nSystemId Unknown; Line #10; Column #32; &quot;width&quot; attribute is not allowed on the table element!\nSystemId Unknown; Line #10; Column #32; &quot;border&quot; attribute is not allowed on the table element!\nSystemId Unknown; Line #11; Column #22; &quot;width&quot; attribute is not allowed on the td element!\nSystemId Unknown; Line #11; Column #52; &quot;class&quot; attribute is not allowed on the span element!\nSystemId Unknown; Line #12; Column #22; &quot;width&quot; attribute is not allowed on the td element!\nSystemId Unknown; Line #12; Column #47; &quot;class&quot; attribute is not allowed on the span element!\n</code></pre>\n"},{"tags":["java","xslt","xalan"],"comments":[{"owner":{"account_id":2256518,"reputation":22293,"user_id":1987598,"accept_rate":80,"display_name":"Mathias M&#252;ller"},"score":0,"creation_date":1407919948,"post_id":25273763,"comment_id":39397492,"body_markdown":"Your stylesheet looks fine. Why do you need to run the transformation in secure processing mode?","body":"Your stylesheet looks fine. Why do you need to run the transformation in secure processing mode?"},{"owner":{"account_id":1119771,"reputation":329,"user_id":1108370,"accept_rate":75,"display_name":"kazvictor"},"score":0,"creation_date":1407952234,"post_id":25273763,"comment_id":39418016,"body_markdown":"I need to run the transformation in secure processing mode because our software can process stylesheets from an unknown (untrusted) source and so we need many of the secure mode protections.","body":"I need to run the transformation in secure processing mode because our software can process stylesheets from an unknown (untrusted) source and so we need many of the secure mode protections."},{"owner":{"account_id":2256518,"reputation":22293,"user_id":1987598,"accept_rate":80,"display_name":"Mathias M&#252;ller"},"score":0,"creation_date":1407953608,"post_id":25273763,"comment_id":39418790,"body_markdown":"Why not run this particular stylesheet in the less secure, normal mode? You have written it, so you know what to expect. Why do you have to process all stylesheets in the same mode?","body":"Why not run this particular stylesheet in the less secure, normal mode? You have written it, so you know what to expect. Why do you have to process all stylesheets in the same mode?"},{"owner":{"account_id":1119771,"reputation":329,"user_id":1108370,"accept_rate":75,"display_name":"kazvictor"},"score":0,"creation_date":1407966088,"post_id":25273763,"comment_id":39425633,"body_markdown":"The above stylesheet is an example stylesheet used to demonstrate the issue. In our application we allow a user to transform xml with a stylesheet they provide. Therefore, we cannot trust this stylesheet and so need to run the transformation in secure processing mode.","body":"The above stylesheet is an example stylesheet used to demonstrate the issue. In our application we allow a user to transform xml with a stylesheet they provide. Therefore, we cannot trust this stylesheet and so need to run the transformation in secure processing mode."},{"owner":{"account_id":945079,"reputation":2425,"user_id":972463,"display_name":"Sergey Ushakov"},"score":0,"creation_date":1408409749,"post_id":25273763,"comment_id":39568856,"body_markdown":"I wonder if Xalan complains on unknown attributes only or just on any attribute as Abel suggests in his answer? If only on unknown, then can&#39;t you make them known with a modified document type definition or whatever?","body":"I wonder if Xalan complains on unknown attributes only or just on any attribute as Abel suggests in his answer? If only on unknown, then can&#39;t you make them known with a modified document type definition or whatever?"},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":0,"creation_date":1688420322,"post_id":25273763,"comment_id":135069355,"body_markdown":"This was fixed in Apache Servicemix Xalan version 2.7.2_3, but the bugfix was not released with Apache Xalan version 2.7.3","body":"This was fixed in Apache Servicemix Xalan version 2.7.2_3, but the bugfix was not released with Apache Xalan version 2.7.3"}],"answers":[{"tags":[],"owner":{"account_id":38796,"reputation":56198,"user_id":111575,"accept_rate":96,"display_name":"Abel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1408299841,"creation_date":1408299841,"answer_id":25352274,"question_id":25273763,"body_markdown":"The offending line in the referred to version of the Xalan source is:\r\n\r\n    if(attrDef.getName().compareTo(&quot;*&quot;)==0 &amp;&amp; handler.getStylesheetProcessor().isSecureProcessing())\r\n\r\nI&#39;m not 100% sure what is in `attrDef`, but I would guess it&#39;s your attribute, which will never have the value of `*` (but from the documentation on `XSLTAttributeDef`, the value `*` is allowed, but I don&#39;t know how, as it is not a qname).\r\n\r\nThe [documentation on secure processing][1] only limits the amount of attributes on a single element, but the limit is high, 10,000.\r\n\r\nThe way I see it, you hit a bug of Xalan 2.7.1. It prevents you from using any attribute. If the limit is imposed because only known attributes can be used, it still seems to be a bug, because `th` is allowed to take `colspan` as an attribute in both HTML and XHTML. You might try, though, if you see the same behavior if you change your output from `HTML` to `XML`.\r\n\r\n\r\n  [1]: https://jaxp.java.net/1.4/JAXP-Compatibility.html#JAXP_security","title":"Execute XSLT with Xalan in secure mode to create XHTML throws TransformerConfigurationException on creating attributes","body":"<p>The offending line in the referred to version of the Xalan source is:</p>\n\n<pre><code>if(attrDef.getName().compareTo(\"*\")==0 &amp;&amp; handler.getStylesheetProcessor().isSecureProcessing())\n</code></pre>\n\n<p>I'm not 100% sure what is in <code>attrDef</code>, but I would guess it's your attribute, which will never have the value of <code>*</code> (but from the documentation on <code>XSLTAttributeDef</code>, the value <code>*</code> is allowed, but I don't know how, as it is not a qname).</p>\n\n<p>The <a href=\"https://jaxp.java.net/1.4/JAXP-Compatibility.html#JAXP_security\" rel=\"nofollow\">documentation on secure processing</a> only limits the amount of attributes on a single element, but the limit is high, 10,000.</p>\n\n<p>The way I see it, you hit a bug of Xalan 2.7.1. It prevents you from using any attribute. If the limit is imposed because only known attributes can be used, it still seems to be a bug, because <code>th</code> is allowed to take <code>colspan</code> as an attribute in both HTML and XHTML. You might try, though, if you see the same behavior if you change your output from <code>HTML</code> to <code>XML</code>.</p>\n"},{"tags":[],"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688420257,"creation_date":1617244974,"answer_id":66897769,"question_id":25273763,"body_markdown":"\r\nThis is a bug that is resolved in the Apache Servicemix build of Xalan-2.7.2_3.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\r\n    &lt;artifactId&gt;org.apache.servicemix.bundles.xalan&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.2_3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n&lt;/dependency&gt;\r\n```\r\nUse of `&lt;!--$NO-MVN-MAN-VER$--&gt;` prevents overrides.\r\n\r\n**NOTE** Beware, this bugfix was **NOT** added to Apache Xalan-2.7.3  \r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/xalan/xalan --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;xalan&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xalan&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Execute XSLT with Xalan in secure mode to create XHTML throws TransformerConfigurationException on creating attributes","body":"<p>This is a bug that is resolved in the Apache Servicemix build of Xalan-2.7.2_3.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\n    &lt;artifactId&gt;org.apache.servicemix.bundles.xalan&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2_3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Use of <code>&lt;!--$NO-MVN-MAN-VER$--&gt;</code> prevents overrides.</p>\n<p><strong>NOTE</strong> Beware, this bugfix was <strong>NOT</strong> added to Apache Xalan-2.7.3</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/xalan/xalan --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;xalan&lt;/groupId&gt;\n    &lt;artifactId&gt;xalan&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1119771,"reputation":329,"user_id":1108370,"accept_rate":75,"display_name":"kazvictor"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2068,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":25352274,"answer_count":2,"score":5,"last_activity_date":1688420257,"creation_date":1407876396,"question_id":25273763,"body_markdown":"I&#39;m trying to use the updated version of Xalan (2.7.2) in secure mode and Having issue with it not able to understand unknown attributes.\r\nThe problem is, it prevents you from using any stylesheet that emits XHTML (in secure processing mode) because it disallows things like “colspan” attributes of “th” elements.\r\n\r\nThe associated changed file is here: http://svn.apache.org/viewvc/xalan/java/branches/xalan-j_2_7_1_maint/src/org/apache/xalan/processor/XSLTElementProcessor.java?r1=1359736&amp;r2=1581058&amp;pathrev=1581058&amp;diff_format=h\r\n\r\nSee the following example:\r\n\r\n    import javax.xml.XMLConstants;\r\n    import javax.xml.transform.*;\r\n    import javax.xml.transform.stream.StreamSource;\r\n    import java.io.StringReader;\r\n    \r\n    public class XalanSecureAttributeRepro {\r\n        private static final String XSL =\r\n                &quot;&lt;xsl:stylesheet version=\\&quot;1.0\\&quot; xmlns:xsl=\\&quot;http://www.w3.org/1999/XSL/Transform\\&quot;&gt;\\n&quot; +\r\n                &quot;  &lt;xsl:output method=\\&quot;html\\&quot;/&gt;\\n&quot; +\r\n                &quot;  &lt;xsl:template match=\\&quot;/*\\&quot;&gt;\\n&quot; +\r\n                &quot;    &lt;th colspan=\\&quot;2\\&quot;/&gt;\\n&quot; +\r\n                &quot;  &lt;/xsl:template&gt;\\n&quot; +\r\n                &quot;&lt;/xsl:stylesheet&gt;&quot;;\r\n    \r\n        public static void main( String[] args ) throws Exception {\r\n            System.setProperty( &quot;javax.xml.transform.TransformerFactory&quot;, &quot;org.apache.xalan.processor.TransformerFactoryImpl&quot; );\r\n    \r\n            TransformerFactory tf = TransformerFactory.newInstance();\r\n            tf.setFeature( XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n            tf.setErrorListener( new DefaultErrorHandler( true ) );\r\n    \r\n            final Source source = new StreamSource( new StringReader( XSL ) );\r\n            Templates templates = tf.newTemplates( source ); // throws:\r\n                            // TransformerException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n        }\r\n    }\r\n\r\n\r\nIt returns this error:\r\n\r\n    Exception in thread &quot;main&quot; javax.xml.transform.TransformerConfigurationException: javax.xml.transform.TransformerException: org.xml.sax.SAXException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n    javax.xml.transform.TransformerException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n\t    at org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:933)\r\n\t    at com.l7tech.example.XalanSecureAttributeRepro.main(XalanSecureAttributeRepro.java:27)\r\n\t    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\t    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t    at java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\r\n    Caused by: javax.xml.transform.TransformerException: org.xml.sax.SAXException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n    javax.xml.transform.TransformerException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n    \tat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:925)\r\n    \t... 6 more\r\n    Caused by: org.xml.sax.SAXException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n    javax.xml.transform.TransformerException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n    \tat org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:919)\r\n    \tat org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:947)\r\n    \tat org.apache.xalan.processor.XSLTElementProcessor.setPropertiesFromAttributes(XSLTElementProcessor.java:347)\r\n    \tat org.apache.xalan.processor.XSLTElementProcessor.setPropertiesFromAttributes(XSLTElementProcessor.java:267)\r\n    \tat org.apache.xalan.processor.ProcessorLRE.startElement(ProcessorLRE.java:283)\r\n    \tat org.apache.xalan.processor.StylesheetHandler.startElement(StylesheetHandler.java:623)\r\n    \tat org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source)\r\n    \tat org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement(Unknown Source)\r\n    \tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)\r\n    \tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\r\n    \tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\r\n    \tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\r\n    \tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\r\n    \tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\r\n\t    at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\r\n    \tat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\r\n    \tat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:917)\r\n    \t... 6 more\r\n    Caused by: javax.xml.transform.TransformerException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n    \tat org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:904)\r\n    \t... 22 more\r\n\r\nAm I doing something wrong with the stylesheet or am I missing setting a feature on the transformer factory. How would you transform a stylesheet that emits (X)HTML in secure processing mode using Xalan?","title":"Execute XSLT with Xalan in secure mode to create XHTML throws TransformerConfigurationException on creating attributes","body":"<p>I'm trying to use the updated version of Xalan (2.7.2) in secure mode and Having issue with it not able to understand unknown attributes.\nThe problem is, it prevents you from using any stylesheet that emits XHTML (in secure processing mode) because it disallows things like “colspan” attributes of “th” elements.</p>\n\n<p>The associated changed file is here: <a href=\"http://svn.apache.org/viewvc/xalan/java/branches/xalan-j_2_7_1_maint/src/org/apache/xalan/processor/XSLTElementProcessor.java?r1=1359736&amp;r2=1581058&amp;pathrev=1581058&amp;diff_format=h\" rel=\"nofollow\">http://svn.apache.org/viewvc/xalan/java/branches/xalan-j_2_7_1_maint/src/org/apache/xalan/processor/XSLTElementProcessor.java?r1=1359736&amp;r2=1581058&amp;pathrev=1581058&amp;diff_format=h</a></p>\n\n<p>See the following example:</p>\n\n<pre><code>import javax.xml.XMLConstants;\nimport javax.xml.transform.*;\nimport javax.xml.transform.stream.StreamSource;\nimport java.io.StringReader;\n\npublic class XalanSecureAttributeRepro {\n    private static final String XSL =\n            \"&lt;xsl:stylesheet version=\\\"1.0\\\" xmlns:xsl=\\\"http://www.w3.org/1999/XSL/Transform\\\"&gt;\\n\" +\n            \"  &lt;xsl:output method=\\\"html\\\"/&gt;\\n\" +\n            \"  &lt;xsl:template match=\\\"/*\\\"&gt;\\n\" +\n            \"    &lt;th colspan=\\\"2\\\"/&gt;\\n\" +\n            \"  &lt;/xsl:template&gt;\\n\" +\n            \"&lt;/xsl:stylesheet&gt;\";\n\n    public static void main( String[] args ) throws Exception {\n        System.setProperty( \"javax.xml.transform.TransformerFactory\", \"org.apache.xalan.processor.TransformerFactoryImpl\" );\n\n        TransformerFactory tf = TransformerFactory.newInstance();\n        tf.setFeature( XMLConstants.FEATURE_SECURE_PROCESSING, true);\n        tf.setErrorListener( new DefaultErrorHandler( true ) );\n\n        final Source source = new StreamSource( new StringReader( XSL ) );\n        Templates templates = tf.newTemplates( source ); // throws:\n                        // TransformerException: \"colspan\" attribute is not allowed on the th element!\n    }\n}\n</code></pre>\n\n<p>It returns this error:</p>\n\n<pre><code>Exception in thread \"main\" javax.xml.transform.TransformerConfigurationException: javax.xml.transform.TransformerException: org.xml.sax.SAXException: \"colspan\" attribute is not allowed on the th element!\njavax.xml.transform.TransformerException: \"colspan\" attribute is not allowed on the th element!\n    at org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:933)\n    at com.l7tech.example.XalanSecureAttributeRepro.main(XalanSecureAttributeRepro.java:27)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\nCaused by: javax.xml.transform.TransformerException: org.xml.sax.SAXException: \"colspan\" attribute is not allowed on the th element!\njavax.xml.transform.TransformerException: \"colspan\" attribute is not allowed on the th element!\n    at org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:925)\n    ... 6 more\nCaused by: org.xml.sax.SAXException: \"colspan\" attribute is not allowed on the th element!\njavax.xml.transform.TransformerException: \"colspan\" attribute is not allowed on the th element!\n    at org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:919)\n    at org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:947)\n    at org.apache.xalan.processor.XSLTElementProcessor.setPropertiesFromAttributes(XSLTElementProcessor.java:347)\n    at org.apache.xalan.processor.XSLTElementProcessor.setPropertiesFromAttributes(XSLTElementProcessor.java:267)\n    at org.apache.xalan.processor.ProcessorLRE.startElement(ProcessorLRE.java:283)\n    at org.apache.xalan.processor.StylesheetHandler.startElement(StylesheetHandler.java:623)\n    at org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source)\n    at org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement(Unknown Source)\n    at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)\n    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n    at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n    at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\n    at org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:917)\n    ... 6 more\nCaused by: javax.xml.transform.TransformerException: \"colspan\" attribute is not allowed on the th element!\n    at org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:904)\n    ... 22 more\n</code></pre>\n\n<p>Am I doing something wrong with the stylesheet or am I missing setting a feature on the transformer factory. How would you transform a stylesheet that emits (X)HTML in secure processing mode using Xalan?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":958669,"reputation":9639,"user_id":983476,"accept_rate":98,"display_name":"Allan Chua"},"score":0,"creation_date":1688083997,"post_id":76585198,"comment_id":135030024,"body_markdown":"Are you using CDK to provision a bucket outside the app or SDK to create a bucket inside your app?","body":"Are you using CDK to provision a bucket outside the app or SDK to create a bucket inside your app?"},{"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"score":0,"creation_date":1688087282,"post_id":76585198,"comment_id":135030268,"body_markdown":"@jarmod I&#39;m trying to delete all objects in the S3 bucket. What other prefix do I specify for my use case??","body":"@jarmod I&#39;m trying to delete all objects in the S3 bucket. What other prefix do I specify for my use case??"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1688135960,"post_id":76585198,"comment_id":135037730,"body_markdown":"Interestingly, a reported [issue](https://github.com/aws/aws-sdk-java-v2/issues/1438) suggests that an empty filter should be supplied. It then suggests doing this with a filter predicate that has an empty prefix, much as you are doing. And [this doc](https://docs.aws.amazon.com/AmazonS3/latest/userguide/lifecycle-configuration-examples.html) also says to use an absent prefix while [this doc](https://docs.aws.amazon.com/AmazonS3/latest/userguide/intro-lifecycle-rules.html) says to specify an empty filter. Have you tried passing a null filter? Also, have you tried a null prefix instead of &quot;&quot;?","body":"Interestingly, a reported <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/1438\" rel=\"nofollow noreferrer\">issue</a> suggests that an empty filter should be supplied. It then suggests doing this with a filter predicate that has an empty prefix, much as you are doing. And <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/lifecycle-configuration-examples.html\" rel=\"nofollow noreferrer\">this doc</a> also says to use an absent prefix while <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/intro-lifecycle-rules.html\" rel=\"nofollow noreferrer\">this doc</a> says to specify an empty filter. Have you tried passing a null filter? Also, have you tried a null prefix instead of &quot;&quot;?"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1689856489,"post_id":76585198,"comment_id":135274408,"body_markdown":"@adityaViswanatham I added both v1 and v2 SDK solutions. Did either work for you?","body":"@adityaViswanatham I added both v1 and v2 SDK solutions. Did either work for you?"},{"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"score":0,"creation_date":1690584114,"post_id":76585198,"comment_id":135378952,"body_markdown":"@jarmod I&#39;m sorry for the late reply. The problem was having withExpiredObjectDeleteMarker() in the lifecycle rule. Instead setting .withExpiredNonCurrentVerions() to true helped fix the issue. Not sure why that&#39;s the case though.","body":"@jarmod I&#39;m sorry for the late reply. The problem was having withExpiredObjectDeleteMarker() in the lifecycle rule. Instead setting .withExpiredNonCurrentVerions() to true helped fix the issue. Not sure why that&#39;s the case though."}],"answers":[{"tags":[],"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688420256,"creation_date":1688155002,"answer_id":76591905,"question_id":76585198,"body_markdown":"I got this to work with the AWS Java SDK v1, as follows:\r\n\r\n    import com.amazonaws.AmazonClientException;\r\n    import com.amazonaws.regions.Regions;\r\n    import com.amazonaws.services.s3.AmazonS3;\r\n    import com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\n    import com.amazonaws.services.s3.model.BucketLifecycleConfiguration;\r\n    import com.amazonaws.services.s3.model.lifecycle.LifecycleFilter;\r\n    \r\n    public class App {\r\n    \r\n         public static void setLifecycle(AmazonS3 s3, String bucketName) {\r\n    \r\n            try {\r\n                // Create a rule to delete all objects after 30 days.\r\n                BucketLifecycleConfiguration.Rule rule = new BucketLifecycleConfiguration.Rule()\r\n                        .withId(&quot;Delete objects in 30 days&quot;)\r\n                        .withFilter(new LifecycleFilter())\r\n                        .withExpirationInDays(30)\r\n                        .withStatus(BucketLifecycleConfiguration.ENABLED);\r\n    \r\n                BucketLifecycleConfiguration configuration = new BucketLifecycleConfiguration()\r\n                        .withRules(rule);\r\n                s3.setBucketLifecycleConfiguration(bucketName, configuration);\r\n            } catch (AmazonClientException e) {\r\n                System.err.println(e.getMessage());\r\n                System.exit(1);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            AmazonS3 s3 = AmazonS3ClientBuilder.standard().withRegion(Regions.US_EAST_1).build();\r\n            setLifecycle(s3, &quot;mybucket&quot;);\r\n        }\r\n    }\r\n\r\n\r\nThe code basically creates a default, empty filter rule instead of a prefix filter on &quot;&quot;.\r\n\r\nI was also able to get this to work with the current Java SDK v2, as follows.\r\n\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.s3.S3Client;\r\n    import software.amazon.awssdk.services.s3.model.BucketLifecycleConfiguration;\r\n    import software.amazon.awssdk.services.s3.model.ExpirationStatus;\r\n    import software.amazon.awssdk.services.s3.model.LifecycleRuleFilter;\r\n    import software.amazon.awssdk.services.s3.model.LifecycleRule;\r\n    import software.amazon.awssdk.services.s3.model.LifecycleExpiration;\r\n    import software.amazon.awssdk.services.s3.model.S3Exception;\r\n    import software.amazon.awssdk.services.s3.model.PutBucketLifecycleConfigurationRequest;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    public class App {\r\n    \r\n         public static void setLifecycle(S3Client s3, String bucketName) {\r\n    \r\n            try {\r\n                // Create a rule to delete all objects after 30 days.\r\n                LifecycleRule rule = LifecycleRule.builder()\r\n                        .id(&quot;Delete after 30 days rule&quot;)\r\n                        .filter(LifecycleRuleFilter.builder().build())\r\n                        .expiration(LifecycleExpiration.builder().days(30).build())\r\n                        .status(ExpirationStatus.ENABLED)\r\n                        .build();\r\n    \r\n                BucketLifecycleConfiguration lifecycleConfiguration = BucketLifecycleConfiguration.builder()\r\n                        .rules(Collections.singletonList(rule))\r\n                        .build();\r\n    \r\n                PutBucketLifecycleConfigurationRequest request = PutBucketLifecycleConfigurationRequest.builder()\r\n                        .bucket(bucketName)\r\n                        .lifecycleConfiguration(lifecycleConfiguration)\r\n                        .build();\r\n    \r\n                s3.putBucketLifecycleConfiguration(request);\r\n            } catch (S3Exception e) {\r\n                System.err.println(e.awsErrorDetails().errorMessage());\r\n                System.exit(1);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Region region = Region.US_EAST_1;\r\n            S3Client s3 = S3Client.builder().region(region).build();\r\n            setLifecycle(s3, &quot;mybucket&quot;);\r\n            s3.close();\r\n        }\r\n    }\r\n\r\nI came to this conclusion because, after manually configuring a similar lifecycle in the AWS Console, the awscli description of that lifecycle configuration looked like this:\r\n\r\n    aws s3api get-bucket-lifecycle-configuration --bucket mybucket\r\n    {\r\n        &quot;Rules&quot;: [\r\n            {\r\n                &quot;Expiration&quot;: {\r\n                    &quot;Days&quot;: 30\r\n                },\r\n                &quot;ID&quot;: &quot;del30&quot;,\r\n                &quot;Filter&quot;: {},\r\n                &quot;Status&quot;: &quot;Enabled&quot;\r\n            }\r\n        ]\r\n    }","title":"Exception occurred when adding lifecycle rule to delete all objects from S3 bucket","body":"<p>I got this to work with the AWS Java SDK v1, as follows:</p>\n<pre><code>import com.amazonaws.AmazonClientException;\nimport com.amazonaws.regions.Regions;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport com.amazonaws.services.s3.model.BucketLifecycleConfiguration;\nimport com.amazonaws.services.s3.model.lifecycle.LifecycleFilter;\n\npublic class App {\n\n     public static void setLifecycle(AmazonS3 s3, String bucketName) {\n\n        try {\n            // Create a rule to delete all objects after 30 days.\n            BucketLifecycleConfiguration.Rule rule = new BucketLifecycleConfiguration.Rule()\n                    .withId(&quot;Delete objects in 30 days&quot;)\n                    .withFilter(new LifecycleFilter())\n                    .withExpirationInDays(30)\n                    .withStatus(BucketLifecycleConfiguration.ENABLED);\n\n            BucketLifecycleConfiguration configuration = new BucketLifecycleConfiguration()\n                    .withRules(rule);\n            s3.setBucketLifecycleConfiguration(bucketName, configuration);\n        } catch (AmazonClientException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        }\n    }\n\n    public static void main(String[] args) {\n        AmazonS3 s3 = AmazonS3ClientBuilder.standard().withRegion(Regions.US_EAST_1).build();\n        setLifecycle(s3, &quot;mybucket&quot;);\n    }\n}\n</code></pre>\n<p>The code basically creates a default, empty filter rule instead of a prefix filter on &quot;&quot;.</p>\n<p>I was also able to get this to work with the current Java SDK v2, as follows.</p>\n<pre><code>import software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3Client;\nimport software.amazon.awssdk.services.s3.model.BucketLifecycleConfiguration;\nimport software.amazon.awssdk.services.s3.model.ExpirationStatus;\nimport software.amazon.awssdk.services.s3.model.LifecycleRuleFilter;\nimport software.amazon.awssdk.services.s3.model.LifecycleRule;\nimport software.amazon.awssdk.services.s3.model.LifecycleExpiration;\nimport software.amazon.awssdk.services.s3.model.S3Exception;\nimport software.amazon.awssdk.services.s3.model.PutBucketLifecycleConfigurationRequest;\n\nimport java.util.Collections;\n\npublic class App {\n\n     public static void setLifecycle(S3Client s3, String bucketName) {\n\n        try {\n            // Create a rule to delete all objects after 30 days.\n            LifecycleRule rule = LifecycleRule.builder()\n                    .id(&quot;Delete after 30 days rule&quot;)\n                    .filter(LifecycleRuleFilter.builder().build())\n                    .expiration(LifecycleExpiration.builder().days(30).build())\n                    .status(ExpirationStatus.ENABLED)\n                    .build();\n\n            BucketLifecycleConfiguration lifecycleConfiguration = BucketLifecycleConfiguration.builder()\n                    .rules(Collections.singletonList(rule))\n                    .build();\n\n            PutBucketLifecycleConfigurationRequest request = PutBucketLifecycleConfigurationRequest.builder()\n                    .bucket(bucketName)\n                    .lifecycleConfiguration(lifecycleConfiguration)\n                    .build();\n\n            s3.putBucketLifecycleConfiguration(request);\n        } catch (S3Exception e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n    }\n\n    public static void main(String[] args) {\n        Region region = Region.US_EAST_1;\n        S3Client s3 = S3Client.builder().region(region).build();\n        setLifecycle(s3, &quot;mybucket&quot;);\n        s3.close();\n    }\n}\n</code></pre>\n<p>I came to this conclusion because, after manually configuring a similar lifecycle in the AWS Console, the awscli description of that lifecycle configuration looked like this:</p>\n<pre><code>aws s3api get-bucket-lifecycle-configuration --bucket mybucket\n{\n    &quot;Rules&quot;: [\n        {\n            &quot;Expiration&quot;: {\n                &quot;Days&quot;: 30\n            },\n            &quot;ID&quot;: &quot;del30&quot;,\n            &quot;Filter&quot;: {},\n            &quot;Status&quot;: &quot;Enabled&quot;\n        }\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76591905,"answer_count":1,"score":1,"last_activity_date":1688420256,"creation_date":1688082188,"question_id":76585198,"body_markdown":"I&#39;m looking to add a lifecycle rule to delete all objects inside an S3 bucket after a certain number of days. I get the following error when I execute my code. Could this be due to the target prefix being null??\r\n\r\nError:\r\n\r\n**com.amazonaws.services.s3.model.AmazonS3Exception: The XML you provided was not well-formed or did not validate against our published schema (Service: Amazon S3; Status Code: 400; Error Code: MalformedXML; Request ID: 4FR7C3BE85YVEW57; S3 Extended Request ID: fcYaw7u//7o843GjDtGGIQRjYxAMbn7f1iepEIas/Yt5bybM9BjDZ0JbG+SVz/vvE1k/KjaKadQ=; Proxy: null), S3 Extended Request ID: fcYaw7u//7o843GjDtGGIQRjYxAMbn7f1iepEIas/Yt5bybM9BjDZ0JbG+SVz/vvE1k/KjaKadQ=**\r\n\r\n\r\nCode used for creating and setting lifecycle rule to bucket configuration:\r\n```\r\n        try {\r\n            BucketLifecycleConfiguration configuration = s3Client.getBucketLifecycleConfiguration(bucketName);\r\n            if (configuration == null) {\r\n                BucketLifecycleConfiguration.Rule rule = new BucketLifecycleConfiguration.Rule()\r\n                        .withId(&quot;Delete objects in &quot; + expirationInDays + &quot; days&quot;)\r\n                        .withFilter(new LifecycleFilter())\r\n                        .withExpirationInDays(expirationInDays)\r\n                        .withExpiredObjectDeleteMarker(true)\r\n                        .withStatus(BucketLifecycleConfiguration.ENABLED);\r\n\r\n                configuration = new BucketLifecycleConfiguration()\r\n                        .withRules(rule);\r\n                s3Client.setBucketLifecycleConfiguration(bucketName, configuration);\r\n                configuration = s3Client.getBucketLifecycleConfiguration(bucketName);\r\n            } else {\r\n                log.info(&quot;addLifecycleConfiguration: Lifecycle rules found in configuration. Skipping.&quot;);\r\n            }\r\n        } catch (AmazonClientException ex) {\r\n            log.error(&quot;addLifecycleConfiguration: AmazonClientException. ex={}&quot;, ex.getMessage());\r\n        }\r\n```\r\n\r\n[![Debug output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PXNlk.png","title":"Exception occurred when adding lifecycle rule to delete all objects from S3 bucket","body":"<p>I'm looking to add a lifecycle rule to delete all objects inside an S3 bucket after a certain number of days. I get the following error when I execute my code. Could this be due to the target prefix being null??</p>\n<p>Error:</p>\n<p><strong>com.amazonaws.services.s3.model.AmazonS3Exception: The XML you provided was not well-formed or did not validate against our published schema (Service: Amazon S3; Status Code: 400; Error Code: MalformedXML; Request ID: 4FR7C3BE85YVEW57; S3 Extended Request ID: fcYaw7u//7o843GjDtGGIQRjYxAMbn7f1iepEIas/Yt5bybM9BjDZ0JbG+SVz/vvE1k/KjaKadQ=; Proxy: null), S3 Extended Request ID: fcYaw7u//7o843GjDtGGIQRjYxAMbn7f1iepEIas/Yt5bybM9BjDZ0JbG+SVz/vvE1k/KjaKadQ=</strong></p>\n<p>Code used for creating and setting lifecycle rule to bucket configuration:</p>\n<pre><code>        try {\n            BucketLifecycleConfiguration configuration = s3Client.getBucketLifecycleConfiguration(bucketName);\n            if (configuration == null) {\n                BucketLifecycleConfiguration.Rule rule = new BucketLifecycleConfiguration.Rule()\n                        .withId(&quot;Delete objects in &quot; + expirationInDays + &quot; days&quot;)\n                        .withFilter(new LifecycleFilter())\n                        .withExpirationInDays(expirationInDays)\n                        .withExpiredObjectDeleteMarker(true)\n                        .withStatus(BucketLifecycleConfiguration.ENABLED);\n\n                configuration = new BucketLifecycleConfiguration()\n                        .withRules(rule);\n                s3Client.setBucketLifecycleConfiguration(bucketName, configuration);\n                configuration = s3Client.getBucketLifecycleConfiguration(bucketName);\n            } else {\n                log.info(&quot;addLifecycleConfiguration: Lifecycle rules found in configuration. Skipping.&quot;);\n            }\n        } catch (AmazonClientException ex) {\n            log.error(&quot;addLifecycleConfiguration: AmazonClientException. ex={}&quot;, ex.getMessage());\n        }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PXNlk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PXNlk.png\" alt=\"Debug output\" /></a></p>\n"},{"tags":["java","coding-style","conventions"],"comments":[{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":0,"creation_date":1412469088,"post_id":3004710,"comment_id":41081577,"body_markdown":"related question - http://stackoverflow.com/questions/22914927/creating-a-src-main-java-folder-structur-in-eclipse-witout-maven","body":"related question - <a href=\"http://stackoverflow.com/questions/22914927/creating-a-src-main-java-folder-structur-in-eclipse-witout-maven\" title=\"creating a src main java folder structur in eclipse witout maven\">stackoverflow.com/questions/22914927/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1276077538,"creation_date":1276077199,"answer_id":3004715,"question_id":3004710,"body_markdown":"Yes, this is the Maven convention.\r\n\r\nEven if your project is 100% Java (as is typical with Maven btw), you often have resource files (which go to `src/main/resources` according to the Maven convention), or web app stuff, or ... all these fit into the Maven system easily.\r\n\r\nIf you are happy with your current build system (whatever it is), there is no reason to switch to Maven. Otherwise, or if starting a new project, you could evaluate your options, including Maven.","title":"What is the advantage of the &#39;src/main/java&#39;&#39; convention?","body":"<p>Yes, this is the Maven convention.</p>\n\n<p>Even if your project is 100% Java (as is typical with Maven btw), you often have resource files (which go to <code>src/main/resources</code> according to the Maven convention), or web app stuff, or ... all these fit into the Maven system easily.</p>\n\n<p>If you are happy with your current build system (whatever it is), there is no reason to switch to Maven. Otherwise, or if starting a new project, you could evaluate your options, including Maven.</p>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":1,"up_vote_count":68,"is_accepted":true,"score":67,"last_activity_date":1462319565,"creation_date":1276077716,"answer_id":3004775,"question_id":3004710,"body_markdown":"Main benefit is in having the `test` directory as subdirectory of `src` with the same directory structure as the one in `main`:\r\n\r\n - Project-A\r\n   - bin\r\n   - lib\r\n   - src\r\n     - main\r\n         - java\r\n             - RootLevelPackageClass.java\r\n         - resources\r\n     - test\r\n         - java\r\n             - TestRootLevelPackageClass.java\r\n         - resources\r\n\r\nAll package private methods of `RootLevelPackageClass` will be visible, i.e. testable from `TestRootLevelPackageClass`. Since the testing code is also source its place should be under `src` directory.\r\n       ","title":"What is the advantage of the &#39;src/main/java&#39;&#39; convention?","body":"<p>Main benefit is in having the <code>test</code> directory as subdirectory of <code>src</code> with the same directory structure as the one in <code>main</code>:</p>\n\n<ul>\n<li>Project-A\n\n<ul>\n<li>bin</li>\n<li>lib</li>\n<li>src\n\n<ul>\n<li>main\n\n<ul>\n<li>java\n\n<ul>\n<li>RootLevelPackageClass.java</li>\n</ul></li>\n<li>resources</li>\n</ul></li>\n<li>test\n\n<ul>\n<li>java\n\n<ul>\n<li>TestRootLevelPackageClass.java</li>\n</ul></li>\n<li>resources</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>All package private methods of <code>RootLevelPackageClass</code> will be visible, i.e. testable from <code>TestRootLevelPackageClass</code>. Since the testing code is also source its place should be under <code>src</code> directory.</p>\n"},{"tags":[],"owner":{"account_id":13627,"reputation":5160,"user_id":27507,"accept_rate":90,"display_name":"sourcerebels"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1276078136,"creation_date":1276078136,"answer_id":3004832,"question_id":3004710,"body_markdown":"Its a Maven convention.\r\n\r\nMaven is based on [Convention over configuration][1] paradigm. Thats means: if you dont follow this convention you must configure where the sources are located. Thats the main benefit IMHO.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Convention_over_configuration","title":"What is the advantage of the &#39;src/main/java&#39;&#39; convention?","body":"<p>Its a Maven convention.</p>\n\n<p>Maven is based on <a href=\"http://en.wikipedia.org/wiki/Convention_over_configuration\" rel=\"noreferrer\">Convention over configuration</a> paradigm. Thats means: if you dont follow this convention you must configure where the sources are located. Thats the main benefit IMHO.</p>\n"},{"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1276089856,"creation_date":1276089856,"answer_id":3006190,"question_id":3004710,"body_markdown":"Others have already told you it&#39;s a Maven convention, I&#39;m going to answer your question instead:\r\n\r\nAbsolutely none. Certainly it&#39;s beneficial to separate pieces of code to separate root folders, but usually you could achieve the same with\r\n\r\n - [root]\r\n   - src\r\n     - com.org.net\r\n         - Your.class\r\n   - test\r\n     - com.org.net\r\n         - YourTest.class\r\n   - lib\r\n   - bin\r\n   - resources\r\n\r\ninstead. In fact here&#39;s a big thing Maven does that&#39;s actually hugely **wrong**: It wants to add binary content to source code repository which is meant for textual content only! All binary content should be managed outside the source code repository, that includes images in web applications and whatnot.\r\n\r\nBut OK, lets assume that you&#39;ve decided to live in the somewhat smelly Maven ecosystem; then you should of course follow the Maven conventions as strictly as possible.","title":"What is the advantage of the &#39;src/main/java&#39;&#39; convention?","body":"<p>Others have already told you it's a Maven convention, I'm going to answer your question instead:</p>\n\n<p>Absolutely none. Certainly it's beneficial to separate pieces of code to separate root folders, but usually you could achieve the same with</p>\n\n<ul>\n<li>[root]\n\n<ul>\n<li>src\n\n<ul>\n<li>com.org.net\n\n<ul>\n<li>Your.class</li>\n</ul></li>\n</ul></li>\n<li>test\n\n<ul>\n<li>com.org.net\n\n<ul>\n<li>YourTest.class</li>\n</ul></li>\n</ul></li>\n<li>lib</li>\n<li>bin</li>\n<li>resources</li>\n</ul></li>\n</ul>\n\n<p>instead. In fact here's a big thing Maven does that's actually hugely <strong>wrong</strong>: It wants to add binary content to source code repository which is meant for textual content only! All binary content should be managed outside the source code repository, that includes images in web applications and whatnot.</p>\n\n<p>But OK, lets assume that you've decided to live in the somewhat smelly Maven ecosystem; then you should of course follow the Maven conventions as strictly as possible.</p>\n"},{"tags":[],"owner":{"account_id":39695,"reputation":21676,"user_id":114584,"accept_rate":100,"display_name":"ndp"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1276093235,"creation_date":1276093235,"answer_id":3006717,"question_id":3004710,"body_markdown":"Yes, this is a maven convention, but even if you&#39;re not using maven, there are benefits to using it:\r\n\r\n1. people new to the project will have an easier time coming up to speed, since it&#39;s a &quot;standard&quot;\r\n2. this convention is flexible and has a place for non-Java code and other things you don&#39;t have at this point. This is one reason it&#39;s popular and you may find it evolves better than a scheme you come up with on your own\r\n3. if you want to move to maven at some point it will be easy\r\n\r\nAlthough I wouldn&#39;t argue you should switch just to switch, when starting a new project there&#39;s really no reason to not use it-- unless you disagree philosophically with how it breaks the code up.","title":"What is the advantage of the &#39;src/main/java&#39;&#39; convention?","body":"<p>Yes, this is a maven convention, but even if you're not using maven, there are benefits to using it:</p>\n\n<ol>\n<li>people new to the project will have an easier time coming up to speed, since it's a \"standard\"</li>\n<li>this convention is flexible and has a place for non-Java code and other things you don't have at this point. This is one reason it's popular and you may find it evolves better than a scheme you come up with on your own</li>\n<li>if you want to move to maven at some point it will be easy</li>\n</ol>\n\n<p>Although I wouldn't argue you should switch just to switch, when starting a new project there's really no reason to not use it-- unless you disagree philosophically with how it breaks the code up.</p>\n"}],"owner":{"account_id":108005,"reputation":4460,"user_id":286881,"accept_rate":88,"display_name":"Chris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33234,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":3004775,"answer_count":5,"score":63,"last_activity_date":1688418317,"creation_date":1276077154,"question_id":3004710,"body_markdown":"I&#39;ve noticed that a lot of projects have the following structure:\r\n\r\n* Project-A\r\n  * bin\r\n  * lib\r\n  * src\r\n     * main\r\n         * java\r\n             * RootLevelPackageClass.java\r\n\r\nI currently use the following convention (as my projects are 100% java):\r\n\r\n* Project-A\r\n  * bin\r\n  * lib\r\n  * src\r\n     * RootLevelPackageClass.java\r\n\r\nI&#39;m not currently using Maven but am wondering if this is a Maven convention or not or if there is another reason. Can someone explain why the first version is so popular these days and if I should adopt this new convention or not?","title":"What is the advantage of the &#39;src/main/java&#39;&#39; convention?","body":"<p>I've noticed that a lot of projects have the following structure:</p>\n<ul>\n<li>Project-A\n<ul>\n<li>bin</li>\n<li>lib</li>\n<li>src\n<ul>\n<li>main\n<ul>\n<li>java\n<ul>\n<li>RootLevelPackageClass.java</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>I currently use the following convention (as my projects are 100% java):</p>\n<ul>\n<li>Project-A\n<ul>\n<li>bin</li>\n<li>lib</li>\n<li>src\n<ul>\n<li>RootLevelPackageClass.java</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>I'm not currently using Maven but am wondering if this is a Maven convention or not or if there is another reason. Can someone explain why the first version is so popular these days and if I should adopt this new convention or not?</p>\n"},{"tags":["java","swagger"],"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688417511,"creation_date":1688417511,"question_id":76608031,"body_markdown":"I am using Swagger, however, when I make my post call to the service I keep getting the following error and I am not sure what I am missing in terms of my properties/code.\r\n\r\n`Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.util.Map&#39; for property &#39;data&#39;; Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.Map&#39; for property`\r\n\r\n\r\n    public class Control {\r\n        @PostMapping(value = &quot;/upload&quot;, produces = { MediaType.APPLICATION_JSON_VALUE }, consumes = {\r\n                MediaType.MULTIPART_FORM_DATA_VALUE })\r\n        public ResponseEntity&lt;Response&gt; upload(@ModelAttribute final UploadModel model) {\r\n            var response = service.uploadFile(model);\r\n            return ResponseEntity.ok(response);\r\n        }\r\n    }\r\n    \t\r\n    public class UploadModel {\r\n    \r\n    \tprivate String id;\r\n        private MultipartFile file;\r\n        private Map&lt;String, Object&gt; data;\r\n    \r\n    }\r\n\r\n\r\nI pass the following in swagger to my map data type:\r\n\r\n    {\r\n      &quot;additionalProp1&quot;: {},\r\n      &quot;additionalProp2&quot;: {},\r\n      &quot;additionalProp3&quot;: {}\r\n    }","title":"Swagger is not able to take in a Map as a request type","body":"<p>I am using Swagger, however, when I make my post call to the service I keep getting the following error and I am not sure what I am missing in terms of my properties/code.</p>\n<p><code>Failed to convert property value of type 'java.lang.String' to required type 'java.util.Map' for property 'data'; Cannot convert value of type 'java.lang.String' to required type 'java.util.Map' for property</code></p>\n<pre><code>public class Control {\n    @PostMapping(value = &quot;/upload&quot;, produces = { MediaType.APPLICATION_JSON_VALUE }, consumes = {\n            MediaType.MULTIPART_FORM_DATA_VALUE })\n    public ResponseEntity&lt;Response&gt; upload(@ModelAttribute final UploadModel model) {\n        var response = service.uploadFile(model);\n        return ResponseEntity.ok(response);\n    }\n}\n    \npublic class UploadModel {\n\n    private String id;\n    private MultipartFile file;\n    private Map&lt;String, Object&gt; data;\n\n}\n</code></pre>\n<p>I pass the following in swagger to my map data type:</p>\n<pre><code>{\n  &quot;additionalProp1&quot;: {},\n  &quot;additionalProp2&quot;: {},\n  &quot;additionalProp3&quot;: {}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","automation","cucumber","appium"],"owner":{"account_id":28834492,"reputation":1,"user_id":22084173,"display_name":"Gina Meidina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688416498,"creation_date":1688344349,"question_id":76601263,"body_markdown":"Hi im newbie in springboot, i try to use this framework to my automation mobile project, the problem its on console the print statement and log print twice, why? how to solve this?\r\n\r\n\r\nThis my app class\r\n```\r\n@SpringBootApplication\r\npublic class Application {\r\n  public static void main(String[] args) {\r\n\r\n    SpringApplication.run(Application.class, args);\r\n  }\r\n}\r\n```\r\nThis my spring boot base test class\r\n```\r\n@CucumberContextConfiguration\r\n@SpringBootTest(classes = Application.class)\r\npublic class SpringBootBaseTest {\r\n\r\n}\r\n```\r\nThis my logback.xml \r\n\r\n```\r\n&lt;configuration&gt;\r\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;encoder&gt;\r\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;root level=&quot;info&quot;&gt;\r\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n  &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nThis my loginpagesteps class\r\n\r\n```\r\npublic class LoginPageSteps {\r\n  @Autowired\r\n  LoginPage loginPage;\r\n\r\n  @When(&quot;User click sign in button&quot;)\r\n  public void userClickSignInButtonInLoginPage() {\r\n    loginPage.testing();\r\n  }\r\n```\r\n\r\nThis my Login page class \r\n\r\n```\r\n@Slf4j\r\n@Component(&quot;com.mobile.automation.LoginPage&quot;)\r\npublic class LoginPage {\r\n  public void testing() {\r\n    System.out.println(&quot;hello&quot;);\r\n    log.info(&quot;hai&quot;);\r\n  }\r\n}\r\n```\r\n\r\nThis my cucumber feature class\r\n\r\n```\r\nFeature: Login\r\n  Scenario: Verify user can login with valid account\r\n    Given User click sign in button\r\n```\r\n\r\n\r\nWhen i run my code\r\n\r\n```\r\nhello\r\n07:19:50.900 [main] INFO  c.c.m.automation.pages.LoginPage - hai\r\nhello\r\n07:19:50.902 [main] INFO  c.c.m.automation.pages.LoginPage - hai\r\n```\r\n\r\n","title":"Print statement and logging spring boot cucumber print twice on console, how i avoid this? can i print only once?","body":"<p>Hi im newbie in springboot, i try to use this framework to my automation mobile project, the problem its on console the print statement and log print twice, why? how to solve this?</p>\n<p>This my app class</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n  public static void main(String[] args) {\n\n    SpringApplication.run(Application.class, args);\n  }\n}\n</code></pre>\n<p>This my spring boot base test class</p>\n<pre><code>@CucumberContextConfiguration\n@SpringBootTest(classes = Application.class)\npublic class SpringBootBaseTest {\n\n}\n</code></pre>\n<p>This my logback.xml</p>\n<pre><code>&lt;configuration&gt;\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>This my loginpagesteps class</p>\n<pre><code>public class LoginPageSteps {\n  @Autowired\n  LoginPage loginPage;\n\n  @When(&quot;User click sign in button&quot;)\n  public void userClickSignInButtonInLoginPage() {\n    loginPage.testing();\n  }\n</code></pre>\n<p>This my Login page class</p>\n<pre><code>@Slf4j\n@Component(&quot;com.mobile.automation.LoginPage&quot;)\npublic class LoginPage {\n  public void testing() {\n    System.out.println(&quot;hello&quot;);\n    log.info(&quot;hai&quot;);\n  }\n}\n</code></pre>\n<p>This my cucumber feature class</p>\n<pre><code>Feature: Login\n  Scenario: Verify user can login with valid account\n    Given User click sign in button\n</code></pre>\n<p>When i run my code</p>\n<pre><code>hello\n07:19:50.900 [main] INFO  c.c.m.automation.pages.LoginPage - hai\nhello\n07:19:50.902 [main] INFO  c.c.m.automation.pages.LoginPage - hai\n</code></pre>\n"},{"tags":["java","arrays","one-liner"],"comments":[{"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"score":1,"creation_date":1415730126,"post_id":26871663,"comment_id":42301791,"body_markdown":"It would help explaining why you don&#39;t want to use a `for` loop. Are `while` loops okay? Is hiding the loop in a helper method, library, the JDK okay?","body":"It would help explaining why you don&#39;t want to use a <code>for</code> loop. Are <code>while</code> loops okay? Is hiding the loop in a helper method, library, the JDK okay?"}],"answers":[{"tags":[],"owner":{"account_id":5279453,"reputation":884,"user_id":4215308,"accept_rate":55,"display_name":"Zerp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415729976,"creation_date":1415729976,"answer_id":26871706,"question_id":26871663,"body_markdown":"Edit: Why without a for loop?\r\n\r\nUse a StringBuilder\r\n\r\n\r\n    StringBuilder builder = new StringBuilder();\r\n    builder.append( myArray.remove(0));\r\n\r\n    for( String s : myArray) {\r\n        builder.append( &quot;&amp;&quot;);\r\n        builder.append( s);\r\n    }\r\n\r\n    String result = builder.toString();","title":"How to join Array to String (Java) in one line?","body":"<p>Edit: Why without a for loop?</p>\n\n<p>Use a StringBuilder</p>\n\n<pre><code>StringBuilder builder = new StringBuilder();\nbuilder.append( myArray.remove(0));\n\nfor( String s : myArray) {\n    builder.append( \"&amp;\");\n    builder.append( s);\n}\n\nString result = builder.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5156654,"reputation":10601,"user_id":4129726,"display_name":"Sergii Lagutin"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1688416156,"creation_date":1415730106,"answer_id":26871735,"question_id":26871663,"body_markdown":"Use Guava&#39;s [`Joiner`](https://github.com/google/guava/wiki/StringsExplained#joiner) or Java 8 [`StringJoiner`](https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html).","title":"How to join Array to String (Java) in one line?","body":"<p>Use Guava's <a href=\"https://github.com/google/guava/wiki/StringsExplained#joiner\" rel=\"nofollow noreferrer\"><code>Joiner</code></a> or Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"nofollow noreferrer\"><code>StringJoiner</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415730161,"creation_date":1415730161,"answer_id":26871761,"question_id":26871663,"body_markdown":"There&#39;s no way to do this job without some sort of iteration over the array.  Even languages that offer some form of a `join()` function (which do not include Java &lt; version 8) must internally perform some sort of iteration.\r\n\r\nAbout the simplest way to do it in Java &lt;= 7 is this:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    String result;\r\n\r\n    for (String s : myArray) {\r\n        sb.append(s).append(&#39;&amp;&#39;);\r\n    }\r\n    sb.deleteCharAt(sb.length() - 1);\r\n\r\n    result = sb.toString();\r\n\r\n","title":"How to join Array to String (Java) in one line?","body":"<p>There's no way to do this job without some sort of iteration over the array.  Even languages that offer some form of a <code>join()</code> function (which do not include Java &lt; version 8) must internally perform some sort of iteration.</p>\n\n<p>About the simplest way to do it in Java &lt;= 7 is this:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nString result;\n\nfor (String s : myArray) {\n    sb.append(s).append('&amp;');\n}\nsb.deleteCharAt(sb.length() - 1);\n\nresult = sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1688415803,"creation_date":1415730172,"answer_id":26871763,"question_id":26871663,"body_markdown":"Using Java 8, [`String.join(CharSequence delimiter, CharSequence... elements)`][1]:\r\n\r\n    String result = String.join(&quot;&amp;&quot;, myArray);\r\n\r\nUsing Java 7 or earlier, you either need a loop or recursion.  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-","title":"How to join Array to String (Java) in one line?","body":"<p>Using Java 8, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-\" rel=\"nofollow noreferrer\"><code>String.join(CharSequence delimiter, CharSequence... elements)</code></a>:</p>\n<pre><code>String result = String.join(&quot;&amp;&quot;, myArray);\n</code></pre>\n<p>Using Java 7 or earlier, you either need a loop or recursion.</p>\n"},{"tags":[],"owner":{"account_id":1446073,"reputation":1983,"user_id":1364499,"accept_rate":88,"display_name":"josivan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688416437,"creation_date":1415730539,"answer_id":26871878,"question_id":26871663,"body_markdown":"Use Apache Commons Lang, [`StringUtils.join(Object[] array, char separator)`][1].\r\n\r\nExample:\r\n```java\r\nString result = StringUtils.join(myArray, &#39;&amp;&#39;);\r\n```\r\n\r\nThis library is also compatible with Java 7 and earlier. Plus, it has a lot of overloaded methods.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#join(java.lang.Object[],%20char)","title":"How to join Array to String (Java) in one line?","body":"<p>Use Apache Commons Lang, <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#join(java.lang.Object%5B%5D,%20char)\" rel=\"nofollow noreferrer\"><code>StringUtils.join(Object[] array, char separator)</code></a>.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = StringUtils.join(myArray, '&amp;');\n</code></pre>\n<p>This library is also compatible with Java 7 and earlier. Plus, it has a lot of overloaded methods.</p>\n"}],"owner":{"account_id":2417303,"reputation":8587,"user_id":2111085,"accept_rate":64,"display_name":"Ernestas Gruodis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5480,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26871763,"answer_count":5,"score":4,"last_activity_date":1688416437,"creation_date":1415729838,"question_id":26871663,"body_markdown":"Let&#39;s assume there is an array:\r\n\r\n```java\r\nString[] myArray = new String[]{&quot;slim cat&quot;, &quot;fat cat&quot;, &quot;extremely fat cat&quot;};\r\n```\r\nNow I want to transform this array into a String joined with `&quot;&amp;&quot;`.\r\nSo that the output becomes:\r\n```\r\nslim cat&amp;fat cat&amp;extremely fat cat\r\n```\r\n\r\nI am trying to keep my code shorter and clean, without the need to manually type a `for` loop.\r\n\r\nI would like to have a short solution, like we use in reverse way with `someString.split();`.\r\n\r\nHow can I achieve this?","title":"How to join Array to String (Java) in one line?","body":"<p>Let's assume there is an array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] myArray = new String[]{&quot;slim cat&quot;, &quot;fat cat&quot;, &quot;extremely fat cat&quot;};\n</code></pre>\n<p>Now I want to transform this array into a String joined with <code>&quot;&amp;&quot;</code>.\nSo that the output becomes:</p>\n<pre><code>slim cat&amp;fat cat&amp;extremely fat cat\n</code></pre>\n<p>I am trying to keep my code shorter and clean, without the need to manually type a <code>for</code> loop.</p>\n<p>I would like to have a short solution, like we use in reverse way with <code>someString.split();</code>.</p>\n<p>How can I achieve this?</p>\n"},{"tags":["java","vaadin","junit5","vaadin-flow"],"comments":[{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":0,"creation_date":1688417487,"post_id":76607934,"comment_id":135068947,"body_markdown":"https://github.com/awaitility/awaitility Can help you to write asynchronous testing code.","body":"<a href=\"https://github.com/awaitility/awaitility\" rel=\"nofollow noreferrer\">github.com/awaitility/awaitility</a> Can help you to write asynchronous testing code."},{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":2,"creation_date":1688456225,"post_id":76607934,"comment_id":135072831,"body_markdown":"It kind of sounds like you&#39;re using the wrong testing methodology here. Unit tests are not integration tests, and it sounds like you&#39;re testing some integration that takes time to execute. Suitable integration testing tools like Selenium or Vaadin TestBench have built-in mechanisms for waiting that would be a natural fit for a case like this.","body":"It kind of sounds like you&#39;re using the wrong testing methodology here. Unit tests are not integration tests, and it sounds like you&#39;re testing some integration that takes time to execute. Suitable integration testing tools like Selenium or Vaadin TestBench have built-in mechanisms for waiting that would be a natural fit for a case like this."},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1688573999,"post_id":76607934,"comment_id":135092774,"body_markdown":"@Knobie awaitility had the same issue sadly.","body":"@Knobie awaitility had the same issue sadly."},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1688575203,"post_id":76607934,"comment_id":135093022,"body_markdown":"@ollitietavainen I&#39;m actually using TestBench (for some reason I thought I was using JUnit only - sometimes you forget the obvious when you&#39;ve been looking at a problem too long). Specifically vaadin-testbench-unit-junit5. That being said I don&#39;t see anything to wait for a component in Testbench. I&#39;m going to assume I&#39;m just not seeing something that is available.","body":"@ollitietavainen I&#39;m actually using TestBench (for some reason I thought I was using JUnit only - sometimes you forget the obvious when you&#39;ve been looking at a problem too long). Specifically vaadin-testbench-unit-junit5. That being said I don&#39;t see anything to wait for a component in Testbench. I&#39;m going to assume I&#39;m just not seeing something that is available."},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1688575454,"post_id":76607934,"comment_id":135093063,"body_markdown":"@ollitietavainen I&#39;ve gone through the Vaadin documentation again and there only seems to be 4 pages https://vaadin.com/docs/latest/testing/ui-unit with nothing about waiting. I suspect I have to be missing something or that it&#39;s not in the documentation. Any suggestions would be appreciated. Thank you.","body":"@ollitietavainen I&#39;ve gone through the Vaadin documentation again and there only seems to be 4 pages <a href=\"https://vaadin.com/docs/latest/testing/ui-unit\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/testing/ui-unit</a> with nothing about waiting. I suspect I have to be missing something or that it&#39;s not in the documentation. Any suggestions would be appreciated. Thank you."},{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1688584105,"post_id":76607934,"comment_id":135094752,"body_markdown":"The TestBench product includes browser testing (Selenium-based) and serverless UI Unit Testing. Sounds like you&#39;re using the latter while you should be using the former.","body":"The TestBench product includes browser testing (Selenium-based) and serverless UI Unit Testing. Sounds like you&#39;re using the latter while you should be using the former."}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688416254,"creation_date":1688416254,"question_id":76607934,"body_markdown":"Specifically I&#39;m using JUnit 5 with Vaadin Flow (version 24) and when I click on a button it fires off a thread that can take a while for the screen to be updated. I then use:\r\n\r\n    UI.getCurrent().access(() -&gt; {\r\n        someComponent.setValue(doneStatus);\r\n    });\r\n\r\nto update the UI when the thread is completed. With Junit I&#39;m trying to do something along the lines of (ignoring any exception handling) in my JUnit test code:\r\n\r\n    while(checkIfDoneStatus(view.someComponent.getValue())) {\r\n    \tThread.sleep(100);\r\n    }\r\n\r\nThe problem is that doing this causes the Vaadin thread to sleep meaning the code in `UI.getCurrent().access() { ... };` is never run because it&#39;s always sleeping that code and not the JUnit test code. \r\n\r\nHow do I get my test code to sleep while waiting for Vaadin to be done it&#39;s work?\r\n\r\n","title":"How do I sleep the JUnit test in Vaadin with a background thread running?","body":"<p>Specifically I'm using JUnit 5 with Vaadin Flow (version 24) and when I click on a button it fires off a thread that can take a while for the screen to be updated. I then use:</p>\n<pre><code>UI.getCurrent().access(() -&gt; {\n    someComponent.setValue(doneStatus);\n});\n</code></pre>\n<p>to update the UI when the thread is completed. With Junit I'm trying to do something along the lines of (ignoring any exception handling) in my JUnit test code:</p>\n<pre><code>while(checkIfDoneStatus(view.someComponent.getValue())) {\n    Thread.sleep(100);\n}\n</code></pre>\n<p>The problem is that doing this causes the Vaadin thread to sleep meaning the code in <code>UI.getCurrent().access() { ... };</code> is never run because it's always sleeping that code and not the JUnit test code.</p>\n<p>How do I get my test code to sleep while waiting for Vaadin to be done it's work?</p>\n"},{"tags":["java","java-8","resteasy","completable-future"],"comments":[{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":3,"creation_date":1429031104,"post_id":29633195,"comment_id":47409035,"body_markdown":"Can you show the code with the Resteasy code inside the runAsync?","body":"Can you show the code with the Resteasy code inside the runAsync?"},{"owner":{"account_id":1400550,"reputation":1059,"user_id":1329423,"accept_rate":67,"display_name":"m1416"},"score":0,"creation_date":1429084710,"post_id":29633195,"comment_id":47429988,"body_markdown":"Hi, I added the Resteasy code inside the runAsync, thanks for taking the time to look at it","body":"Hi, I added the Resteasy code inside the runAsync, thanks for taking the time to look at it"},{"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"score":0,"creation_date":1429084991,"post_id":29633195,"comment_id":47430153,"body_markdown":"Where do you run the code? Do you use an application server?","body":"Where do you run the code? Do you use an application server?"},{"owner":{"account_id":1400550,"reputation":1059,"user_id":1329423,"accept_rate":67,"display_name":"m1416"},"score":0,"creation_date":1429097902,"post_id":29633195,"comment_id":47438137,"body_markdown":"i use play framework, under the hood play uses netty","body":"i use play framework, under the hood play uses netty"},{"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"score":2,"creation_date":1429098588,"post_id":29633195,"comment_id":47438584,"body_markdown":"`CompleteableFuture` uses the common ForkJoinPool for selecting threads to ansychronously work in. Maybe there is some Context missing within those threads. I don&#39;t know the play framework/netty, but if one of them provides a ThreadFactory or a Threadpool with Threads in its context, you may try the runAsync(Runnable, Executor) method with those to provide the context.","body":"<code>CompleteableFuture</code> uses the common ForkJoinPool for selecting threads to ansychronously work in. Maybe there is some Context missing within those threads. I don&#39;t know the play framework/netty, but if one of them provides a ThreadFactory or a Threadpool with Threads in its context, you may try the runAsync(Runnable, Executor) method with those to provide the context."},{"owner":{"account_id":1400550,"reputation":1059,"user_id":1329423,"accept_rate":67,"display_name":"m1416"},"score":0,"creation_date":1429101093,"post_id":29633195,"comment_id":47440341,"body_markdown":"I thought the same and used a thredpoolexecutor (not from the framework but one I instantiated with new) it works with it, it also works if i just assign everything to a new runnable and then execute the run method. The problem is not that the code will not run inside a thread but that it will not run inside the completablefuture (with no threadpool) I would like to understand why","body":"I thought the same and used a thredpoolexecutor (not from the framework but one I instantiated with new) it works with it, it also works if i just assign everything to a new runnable and then execute the run method. The problem is not that the code will not run inside a thread but that it will not run inside the completablefuture (with no threadpool) I would like to understand why"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1429123934,"post_id":29633195,"comment_id":47456474,"body_markdown":"If using arbitrary threads/executors work, than it might not be the absence of associated information but the fact that the F/J default thread pool is shared and thus, wrongly associated information dangling from another, previous use of the same thread is present…","body":"If using arbitrary threads/executors work, than it might not be the absence of associated information but the fact that the F/J default thread pool is shared and thus, wrongly associated information dangling from another, previous use of the same thread is present…"},{"owner":{"account_id":2754470,"reputation":787,"user_id":2372992,"accept_rate":43,"display_name":"amritanshu"},"score":0,"creation_date":1522390690,"post_id":29633195,"comment_id":86146619,"body_markdown":"I tried your code with 3.5.0 RestEasy bits I was able to run your code without any problem, for 3.5.0 you need to use `AcceptEncodingGZIPFilter`","body":"I tried your code with 3.5.0 RestEasy bits I was able to run your code without any problem, for 3.5.0 you need to use <code>AcceptEncodingGZIPFilter</code>"}],"answers":[{"tags":[],"owner":{"account_id":3983739,"reputation":144,"user_id":3285000,"display_name":"kensei62"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688416048,"creation_date":1688145808,"answer_id":76591086,"question_id":29633195,"body_markdown":"I had this exact issue in Wildfly 26.1.3, which I believe uses RestEasy 4.7.7. If RestEasy was used in a &quot;normal&quot; method, it worked. If it was used in a thread created by CompletableFuture.runAsync, it failed with the &quot;Unable to find a MessageBodyReader&quot; error message.\r\n\r\nI used a debugger to see what was happening and I found that the RestEasy client was not properly configured when it was created in the thread. I was able to work around the problem by creating the client as follows:\r\n\r\n    Configuration configuration = LocalResteasyProviderFactory.getInstance().getConfiguration();\r\n    Client client = ClientBuilder.newClient(configuration);\r\n\r\nAdding this code resulted in a warning in the Wildfly server.log:\r\n\r\n    RESTEASY002155: Provider class org.jboss.resteasy.plugins.providers.jackson.PatchMethodFilter is already registered.  2nd registration is being ignored\r\n\r\nEDIT: after further research, the correct answer is to use `ManagedScheduledExecutorService` to execute the asynchronous task, not CompletableFuture. This ensures that the RestEasy configuration is correctly initialized.","title":"Java CompletableFuture + Resteasy","body":"<p>I had this exact issue in Wildfly 26.1.3, which I believe uses RestEasy 4.7.7. If RestEasy was used in a &quot;normal&quot; method, it worked. If it was used in a thread created by CompletableFuture.runAsync, it failed with the &quot;Unable to find a MessageBodyReader&quot; error message.</p>\n<p>I used a debugger to see what was happening and I found that the RestEasy client was not properly configured when it was created in the thread. I was able to work around the problem by creating the client as follows:</p>\n<pre><code>Configuration configuration = LocalResteasyProviderFactory.getInstance().getConfiguration();\nClient client = ClientBuilder.newClient(configuration);\n</code></pre>\n<p>Adding this code resulted in a warning in the Wildfly server.log:</p>\n<pre><code>RESTEASY002155: Provider class org.jboss.resteasy.plugins.providers.jackson.PatchMethodFilter is already registered.  2nd registration is being ignored\n</code></pre>\n<p>EDIT: after further research, the correct answer is to use <code>ManagedScheduledExecutorService</code> to execute the asynchronous task, not CompletableFuture. This ensures that the RestEasy configuration is correctly initialized.</p>\n"}],"owner":{"account_id":1400550,"reputation":1059,"user_id":1329423,"accept_rate":67,"display_name":"m1416"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1218,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1688416048,"creation_date":1429030677,"question_id":29633195,"body_markdown":"I have been using Java&#39;s CompletableFuture like this \r\n\r\n    CompletableFuture.runAsync(() -&gt; {//Some code here });\r\n\r\nWhen I try to use a Resteasy Client inside this block of code I get a \r\n\r\n    javax.ws.rs.ProcessingException: Unable to find a MessageBodyReader of content-type application/json;charset=utf-8 and type class java.lang.String\r\n\r\nIf i use the client outside of the completablefuture it works. The Resteasy code looks something like this \r\n\r\n            ResteasyClient client = new ResteasyClientBuilder().build();\r\n            client.register(new AcceptEncodingFilter(&quot;gzip&quot;));\r\n            ResteasyWebTarget target = client.target(exampleURL);\r\n\r\n            target = target.queryParam(&quot;1&quot;, 1)\r\n                    .queryParam(&quot;2&quot;, &quot;1&quot;)\r\n                    .queryParam(&quot;3&quot;, 3)\r\n                    .queryParam(&quot;4&quot;, 4)\r\n                    .queryParam(&quot;5&quot;, &quot;5&quot;);\r\n\r\n            Response response = target.request().get();\r\n            resultString = response.readEntity(String.class);\r\n\r\nI will run the resteasy code outisde of the completablefuture to &quot;fix&quot; the problem but would like to understand why this happens. \r\n\r\nThe resteasy code inside the CompletableFuture looks like this:\r\n\r\n \r\n\r\n    CompletableFuture.runAsync(() -&gt; {\r\n                try {\r\n                    ResteasyClient client = new ResteasyClientBuilder().build();\r\n                    client.register(new AcceptEncodingFilter(&quot;gzip&quot;));\r\n                    ResteasyWebTarget target = client.target(&quot;http://test.com&quot;);\r\n    \r\n                    target = target.queryParam(&quot;1&quot;, &quot;1&quot;)\r\n                            .queryParam(&quot;2&quot;, &quot;2&quot;)\r\n                            .queryParam(&quot;3&quot;, &quot;3&quot;)\r\n                            .queryParam(&quot;4&quot;, &quot;4&quot;)\r\n                            .queryParam(&quot;5&quot;, &quot;5&quot;);\r\n    \r\n                    Response response = target.request().get();\r\n                    String resultString = response.readEntity(String.class);\r\n    \r\n                    response.close();\r\n                    client.close();\r\n                } catch (Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\nthe same code outside the CompletableFuture works ","title":"Java CompletableFuture + Resteasy","body":"<p>I have been using Java's CompletableFuture like this </p>\n\n<pre><code>CompletableFuture.runAsync(() -&gt; {//Some code here });\n</code></pre>\n\n<p>When I try to use a Resteasy Client inside this block of code I get a </p>\n\n<pre><code>javax.ws.rs.ProcessingException: Unable to find a MessageBodyReader of content-type application/json;charset=utf-8 and type class java.lang.String\n</code></pre>\n\n<p>If i use the client outside of the completablefuture it works. The Resteasy code looks something like this </p>\n\n<pre><code>        ResteasyClient client = new ResteasyClientBuilder().build();\n        client.register(new AcceptEncodingFilter(\"gzip\"));\n        ResteasyWebTarget target = client.target(exampleURL);\n\n        target = target.queryParam(\"1\", 1)\n                .queryParam(\"2\", \"1\")\n                .queryParam(\"3\", 3)\n                .queryParam(\"4\", 4)\n                .queryParam(\"5\", \"5\");\n\n        Response response = target.request().get();\n        resultString = response.readEntity(String.class);\n</code></pre>\n\n<p>I will run the resteasy code outisde of the completablefuture to \"fix\" the problem but would like to understand why this happens. </p>\n\n<p>The resteasy code inside the CompletableFuture looks like this:</p>\n\n<pre><code>CompletableFuture.runAsync(() -&gt; {\n            try {\n                ResteasyClient client = new ResteasyClientBuilder().build();\n                client.register(new AcceptEncodingFilter(\"gzip\"));\n                ResteasyWebTarget target = client.target(\"http://test.com\");\n\n                target = target.queryParam(\"1\", \"1\")\n                        .queryParam(\"2\", \"2\")\n                        .queryParam(\"3\", \"3\")\n                        .queryParam(\"4\", \"4\")\n                        .queryParam(\"5\", \"5\");\n\n                Response response = target.request().get();\n                String resultString = response.readEntity(String.class);\n\n                response.close();\n                client.close();\n            } catch (Exception e){\n                e.printStackTrace();\n            }\n        });\n</code></pre>\n\n<p>the same code outside the CompletableFuture works </p>\n"},{"tags":["java","arrays","exception","file-io","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688415755,"creation_date":1688411315,"answer_id":76607510,"question_id":76607293,"body_markdown":"Change your input delimiter to\r\n```\r\ninput.useDelimiter(&quot;[,\\n\\r]+&quot;);\r\n```\r\nCarriage return and newline can sometimes be used together to signal end-of-line so you need to use the plus sign to use as many of the character class as required.\r\n\r\nAnd change `type = id.charAt(1);` to `type = id.charAt(0);` since the first character starts at `0` \r\n\r\n**Updated**\r\n\r\nI believe the problem is that if you get an invalid code,  you have not read in extra values so they are out of order. Doing the following may help but it depends on whether those extra values are there in the event the type is not found.\r\n```\r\n            if (type == &#39;B&#39;) {\r\n                rebeeps = input.nextInt();\r\n                likes = input.nextInt();\r\n            } else if (type == &#39;D&#39;) {\r\n                duration = input.nextInt();\r\n                shares = input.nextInt();\r\n            } else {\r\n                input.next(); // remove the lasts two values from the line\r\n                input.next();\r\n                System.out.println(&quot;Incorrect code:&quot;);\r\n            }\r\n```\r\nAnother solution would be to read in a line and then split on that line using commas and/or spaces as delimiters.  In this case, if there are any errors in input, the line is ignored.\r\n \r\n```\r\nwhile (input.hasNextLine()) {\r\n   String line = input.nextLine();\r\n   String[] tokens = line.split(&quot;[,\\\\s]+&quot;);\r\n   if (tokens.length != 5) {\r\n      // print error message and take action (continue loop)\r\n      continue;  // continue loop\r\n   }  else {\r\n      id = tokens[0];\r\n      type = id.charAt(0);\r\n      author = tokens[1];\r\n      views = Integer.parseInt(tokens[2]);\r\n    \r\n      if (type == &#39;B&#39;) {\r\n          rebeeps = Integer.parseInt(tokens[3]);\r\n          likes =   Integer.parseInt(tokens[4]);\r\n      } else if (type == &#39;D&#39;) {\r\n          duration = Integer.parseInt(tokens[3]);\r\n          shares = Integer.parseInt(tokens[4]);\r\n      } else {\r\n        System.out.println(&quot;Incorrect code:&quot;);\r\n      }\r\n}","title":"Java input.next() exception","body":"<p>Change your input delimiter to</p>\n<pre><code>input.useDelimiter(&quot;[,\\n\\r]+&quot;);\n</code></pre>\n<p>Carriage return and newline can sometimes be used together to signal end-of-line so you need to use the plus sign to use as many of the character class as required.</p>\n<p>And change <code>type = id.charAt(1);</code> to <code>type = id.charAt(0);</code> since the first character starts at <code>0</code></p>\n<p><strong>Updated</strong></p>\n<p>I believe the problem is that if you get an invalid code,  you have not read in extra values so they are out of order. Doing the following may help but it depends on whether those extra values are there in the event the type is not found.</p>\n<pre><code>            if (type == 'B') {\n                rebeeps = input.nextInt();\n                likes = input.nextInt();\n            } else if (type == 'D') {\n                duration = input.nextInt();\n                shares = input.nextInt();\n            } else {\n                input.next(); // remove the lasts two values from the line\n                input.next();\n                System.out.println(&quot;Incorrect code:&quot;);\n            }\n</code></pre>\n<p>Another solution would be to read in a line and then split on that line using commas and/or spaces as delimiters.  In this case, if there are any errors in input, the line is ignored.</p>\n<pre><code>while (input.hasNextLine()) {\n   String line = input.nextLine();\n   String[] tokens = line.split(&quot;[,\\\\s]+&quot;);\n   if (tokens.length != 5) {\n      // print error message and take action (continue loop)\n      continue;  // continue loop\n   }  else {\n      id = tokens[0];\n      type = id.charAt(0);\n      author = tokens[1];\n      views = Integer.parseInt(tokens[2]);\n    \n      if (type == 'B') {\n          rebeeps = Integer.parseInt(tokens[3]);\n          likes =   Integer.parseInt(tokens[4]);\n      } else if (type == 'D') {\n          duration = Integer.parseInt(tokens[3]);\n          shares = Integer.parseInt(tokens[4]);\n      } else {\n        System.out.println(&quot;Incorrect code:&quot;);\n      }\n}\n</code></pre>\n"}],"owner":{"account_id":28710505,"reputation":13,"user_id":21986087,"display_name":"JoubasaurusREX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76607510,"answer_count":1,"score":-2,"last_activity_date":1688415755,"creation_date":1688408485,"question_id":76607293,"body_markdown":"I have got the following code:\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.io.Serializable;\r\nimport java.io.*;\r\n\r\npublic class Application implements Serializable{\r\n\r\n    private static Scanner input;\r\n\r\n    public static void openInput()\r\n    {\r\n        try\r\n        {\r\n            input = new Scanner(new File(&quot;postings.txt&quot;));\r\n            input.useDelimiter(&quot;[,\\\\n\\\\r]&quot;);\r\n            System.out.println(&quot;File opened(message1)&quot;);\r\n        }\r\n        catch(IOException ioe)\r\n        {\r\n            System.out.println(&quot;File has not opened&quot; + ioe);\r\n            System.exit(1);\r\n        }\r\n        System.out.println(&quot;File opened (message 2)&quot;);\r\n    }\r\n\r\n    public static void closeInput()\r\n    {\r\n        input.close();\r\n        System.out.println();\r\n    }\r\n\r\n    public static void application()\r\n    {\r\n        Media[] arr = new Media[25];\r\n        char type;\r\n        String id, author;\r\n        int views, likes, rebeeps, duration, shares;\r\n        int numObjects = 0; \r\n        while(input.hasNext())\r\n        {\r\n            id = input.next();\r\n            type = id.charAt(1);\r\n            author = input.next();\r\n            views = input.nextInt();\r\n            if (type == &#39;B&#39;)\r\n            {\r\n                rebeeps = input.nextInt();\r\n                likes = input.nextInt();\r\n                arr[numObjects++] = new Beeper(type+id,author,views,rebeeps,likes);\r\n            }\r\n            else if(type == &#39;D&#39;)\r\n            {\r\n                duration = input.nextInt();\r\n                shares = input.nextInt();\r\n                arr[numObjects++] = new DingDong(type+id,author,views,duration,shares);\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Incorrect code: &quot; + arr[numObjects]);\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;List of postings&quot;);\r\n        for(int i = 0; i &lt;= numObjects; numObjects++)\r\n        {\r\n            System.out.println(arr[numObjects]);\r\n        }\r\n\r\n        System.out.println(&quot;Scores of postings&quot;);\r\n        for(int i = 0; i&lt;= numObjects; numObjects++)\r\n        {\r\n            System.out.printf(&quot;%-8%7.2f&quot;,arr[numObjects].getID() + arr[numObjects].getAuthor() + arr[numObjects].calculateScore());\r\n        }\r\n\r\n        System.out.printf(&quot;%-8%7.2f&quot;,arr[numObjects].getID() + arr[numObjects].author + arr[numObjects]);\r\n\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        openInput();\r\n        application();\r\n        closeInput();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have Three classes One superclass and two subclasses\r\nSuperclass: Media\r\nsubclasses: DingDong, Beeper\r\n\r\nI am trying to get information from inside a textfile such as this:\r\nD123456,JohnD,28123,154,8045\r\n\r\nand save it to the array according to their specific classes, But I get the following exception when I run Application:\r\n\r\n```\r\nFile opened(message1)\r\nFile opened (message 2)\r\nIncorrect code: null\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n        at Application.application(Application.java:44)\r\n        at Application.main(Application.java:82)\r\n```\r\nThe variables in the code for the class Application are the same, and right, types as it is in the super and subclasses.\r\nPlease help!\r\n","title":"Java input.next() exception","body":"<p>I have got the following code:</p>\n<pre><code>import java.util.Scanner;\nimport java.io.Serializable;\nimport java.io.*;\n\npublic class Application implements Serializable{\n\n    private static Scanner input;\n\n    public static void openInput()\n    {\n        try\n        {\n            input = new Scanner(new File(&quot;postings.txt&quot;));\n            input.useDelimiter(&quot;[,\\\\n\\\\r]&quot;);\n            System.out.println(&quot;File opened(message1)&quot;);\n        }\n        catch(IOException ioe)\n        {\n            System.out.println(&quot;File has not opened&quot; + ioe);\n            System.exit(1);\n        }\n        System.out.println(&quot;File opened (message 2)&quot;);\n    }\n\n    public static void closeInput()\n    {\n        input.close();\n        System.out.println();\n    }\n\n    public static void application()\n    {\n        Media[] arr = new Media[25];\n        char type;\n        String id, author;\n        int views, likes, rebeeps, duration, shares;\n        int numObjects = 0; \n        while(input.hasNext())\n        {\n            id = input.next();\n            type = id.charAt(1);\n            author = input.next();\n            views = input.nextInt();\n            if (type == 'B')\n            {\n                rebeeps = input.nextInt();\n                likes = input.nextInt();\n                arr[numObjects++] = new Beeper(type+id,author,views,rebeeps,likes);\n            }\n            else if(type == 'D')\n            {\n                duration = input.nextInt();\n                shares = input.nextInt();\n                arr[numObjects++] = new DingDong(type+id,author,views,duration,shares);\n            }\n            else\n            {\n                System.out.println(&quot;Incorrect code: &quot; + arr[numObjects]);\n            }\n        }\n\n        System.out.println(&quot;List of postings&quot;);\n        for(int i = 0; i &lt;= numObjects; numObjects++)\n        {\n            System.out.println(arr[numObjects]);\n        }\n\n        System.out.println(&quot;Scores of postings&quot;);\n        for(int i = 0; i&lt;= numObjects; numObjects++)\n        {\n            System.out.printf(&quot;%-8%7.2f&quot;,arr[numObjects].getID() + arr[numObjects].getAuthor() + arr[numObjects].calculateScore());\n        }\n\n        System.out.printf(&quot;%-8%7.2f&quot;,arr[numObjects].getID() + arr[numObjects].author + arr[numObjects]);\n\n    }\n\n    public static void main(String[] args)\n    {\n        openInput();\n        application();\n        closeInput();\n    }\n}\n\n</code></pre>\n<p>I have Three classes One superclass and two subclasses\nSuperclass: Media\nsubclasses: DingDong, Beeper</p>\n<p>I am trying to get information from inside a textfile such as this:\nD123456,JohnD,28123,154,8045</p>\n<p>and save it to the array according to their specific classes, But I get the following exception when I run Application:</p>\n<pre><code>File opened(message1)\nFile opened (message 2)\nIncorrect code: null\nException in thread &quot;main&quot; java.util.InputMismatchException\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n        at Application.application(Application.java:44)\n        at Application.main(Application.java:82)\n</code></pre>\n<p>The variables in the code for the class Application are the same, and right, types as it is in the super and subclasses.\nPlease help!</p>\n"},{"tags":["java","mongodb","codec"],"comments":[{"owner":{"account_id":3244518,"reputation":1040,"user_id":2736516,"accept_rate":78,"display_name":"vedi0boy"},"score":0,"creation_date":1484240485,"post_id":41618203,"comment_id":70439268,"body_markdown":"I just found out that it has to do with me using `Item[]`, apparently it&#39;s not possible with MongoDB to use arrays, that sucks.","body":"I just found out that it has to do with me using <code>Item[]</code>, apparently it&#39;s not possible with MongoDB to use arrays, that sucks."},{"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"score":0,"creation_date":1642217368,"post_id":41618203,"comment_id":125018971,"body_markdown":"For those that follow, the default Lists/ArrayLists work fine; and if you really need an array it can be done!","body":"For those that follow, the default Lists/ArrayLists work fine; and if you really need an array it can be done!"}],"answers":[{"tags":[],"owner":{"account_id":7577263,"reputation":2260,"user_id":5749217,"display_name":"Collin Krawll"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1547944826,"creation_date":1547944826,"answer_id":54272611,"question_id":41618203,"body_markdown":"You can do Mongo codecs for arrays using ArrayList as follows:\r\n\r\ncom.example.model.Order\r\n-------------------------\r\nThis is the class representing an Order. It includes an ArrayList of items.\r\n\r\n    package com.example.model;\r\n    \r\n    import java.util.ArrayList;\r\n    import org.bson.types.ObjectId;\r\n    \r\n    /**\r\n     * Class representing an Order.\r\n     */\r\n    public class Order\r\n    {\r\n        private ObjectId id;\r\n        private ArrayList&lt;Item&gt; items;\r\n    \r\n        /**\r\n         * Default constructor. Needed for testing.\r\n         */\r\n        public Order() {\r\n            this.items = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        /**\r\n         * Sets the id of the Order.\r\n         * @param id The new id of the Order.\r\n         */\r\n        public void setId(ObjectId id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        /**\r\n         * Gets the id of the Order.\r\n         * @return The id of the Order.\r\n         */\r\n        public ObjectId getId() {\r\n            return this.id;\r\n        }\r\n    \r\n        /**\r\n         * Sets the items for the Order.\r\n         * @param items The items for the Order.\r\n         */\r\n        public void setItems(ArrayList&lt;Item&gt; items) {\r\n            this.items = items;\r\n        }\r\n    \r\n        /**\r\n         * Gets the items for the Order.\r\n         * @return The items for the Order.\r\n         */\r\n        public ArrayList&lt;Item&gt; getItems() {\r\n            return items;\r\n        }\r\n    \r\n        /**\r\n         * Adds an item to the Order.\r\n         * @param item The new Item to add to the Order.\r\n         */\r\n        public void addItem(Item item) {\r\n            this.items.add(item);\r\n        }\r\n    }\r\n\r\ncom.example.model.Item\r\n----------------------\r\nThis is the class representing an Order Item. There can be any number of items that are a part of an order. Items are embedded within the Order document in Mongo.\r\n\r\n    package com.example.model;\r\n    \r\n    import org.bson.types.ObjectId;\r\n    \r\n    /**\r\n     * Class representing an order item.\r\n     */\r\n    public class Item\r\n    {\r\n        private ObjectId id;\r\n        private String name;\r\n    \r\n        /**\r\n         * Constructor.\r\n         */\r\n        public Item() {\r\n            //\r\n        }\r\n    \r\n        /**\r\n         * Sets the id of the Item.\r\n         * @param id The new id of the Item.\r\n         */\r\n        public void setId(ObjectId id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        /**\r\n         * Gets the id of the Item.\r\n         * @return The id of the Item.\r\n         */\r\n        public ObjectId getId() {\r\n            return this.id;\r\n        }\r\n    \r\n        /**\r\n         * Sets the name of the Item.\r\n         * @param name The new name of the Item.\r\n         */\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        /**\r\n         * Gets the name of the Item.\r\n         * @return The name of the Item.\r\n         */\r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n    }\r\n\r\ncom.example.mongo.ItemConverter\r\n-------------------------------\r\nSimple converter class that converts Items to/from Documents.\r\n\r\n    package com.example.mongo;\r\n    \r\n    import com.example.model.Item;\r\n    import org.bson.Document;\r\n    \r\n    /**\r\n     * Converts Mongo Documents to/from Items.\r\n     */\r\n    public class ItemConverter {\r\n        /**\r\n         * Convert the passed Item into a Mongo Document.\r\n         * @param item The Item that you want to convert into a Mongo Document.\r\n         * @return Returns the Document that was created from the passed Item.\r\n         */\r\n        public Document convert(Item item) {\r\n            Document document = new Document();\r\n            document.put(&quot;_id&quot;, item.getId());\r\n            document.put(&quot;name&quot;, item.getName());\r\n    \r\n            return document;\r\n        }\r\n    \r\n        /**\r\n         * Convert the passed Mongo Document into an Item.\r\n         * @param document The Document that you want to convert into an Item.\r\n         * @return Returns the Item that was created from the passed Mongo Document.\r\n         */\r\n        public Item convert(Document document) {\r\n            Item item = new Item();\r\n            item.setId(document.getObjectId(&quot;_id&quot;));\r\n            item.setName(document.getString(&quot;name&quot;));\r\n    \r\n            return item;\r\n        }\r\n    }\r\n\r\ncom.example.mongo.ItemCodec\r\n---------------------------\r\nCodec for encoding and decoding Items.\r\n\r\n    package com.example.mongo;\r\n    \r\n    import com.example.model.Item;\r\n    import com.mongodb.MongoClient;\r\n    import org.bson.BsonReader;\r\n    import org.bson.BsonString;\r\n    import org.bson.BsonValue;\r\n    import org.bson.BsonWriter;\r\n    import org.bson.Document;\r\n    import org.bson.codecs.Codec;\r\n    import org.bson.codecs.CollectibleCodec;\r\n    import org.bson.codecs.DecoderContext;\r\n    import org.bson.codecs.EncoderContext;\r\n    import org.bson.codecs.configuration.CodecRegistry;\r\n    import org.bson.types.ObjectId;\r\n    \r\n    /**\r\n     * Mongo Decoder for Items.\r\n     */\r\n    public class ItemCodec implements CollectibleCodec&lt;Item&gt; {\r\n    \r\n        private final CodecRegistry registry;\r\n        private final Codec&lt;Document&gt; documentCodec;\r\n        private final ItemConverter converter;\r\n    \r\n        /**\r\n         * Default constructor.\r\n         */\r\n        public ItemCodec() {\r\n            this.registry = MongoClient.getDefaultCodecRegistry();\r\n            this.documentCodec = this.registry.get(Document.class);\r\n            this.converter = new ItemConverter();\r\n        }\r\n    \r\n        /**\r\n         * Codec constructor.\r\n         * @param codec The existing codec to use.\r\n         */\r\n        public ItemCodec(Codec&lt;Document&gt; codec) {\r\n            this.documentCodec = codec;\r\n            this.registry = MongoClient.getDefaultCodecRegistry();\r\n            this.converter = new ItemConverter();\r\n        }\r\n    \r\n        /**\r\n         * Registry constructor.\r\n         * @param registry The CodecRegistry to use.\r\n         */\r\n        public ItemCodec(CodecRegistry registry) {\r\n            this.registry = registry;\r\n            this.documentCodec = this.registry.get(Document.class);\r\n            this.converter = new ItemConverter();\r\n        }\r\n    \r\n        /**\r\n         * Encode the passed Item into a Mongo/BSON document.\r\n         * @param writer The writer to use for encoding.\r\n         * @param item The Item to encode.\r\n         * @param encoderContext The EncoderContext to use for encoding.\r\n         */\r\n        @Override\r\n        public void encode(\r\n                        BsonWriter writer,\r\n                        Item item,\r\n                        EncoderContext encoderContext\r\n                    ) {\r\n            Document document = this.converter.convert(item);\r\n    \r\n            documentCodec.encode(writer, document, encoderContext);\r\n        }\r\n    \r\n        /**\r\n         * Get the class that this Codec works with.\r\n         * @return Returns the class that this Codec works with.\r\n         */\r\n        @Override\r\n        public Class&lt;Item&gt; getEncoderClass() {\r\n            return Item.class;\r\n        }\r\n    \r\n        /**\r\n         * Decodes a Mongo/BSON document into an Item.\r\n         * @param reader The reader containing the Document.\r\n         * @param decoderContext The DecoderContext to use for decoding.\r\n         * @return Returns the decoded Item.\r\n         */\r\n        @Override\r\n        public Item decode(BsonReader reader, DecoderContext decoderContext) {\r\n            Document document = documentCodec.decode(reader, decoderContext);\r\n            Item item = this.converter.convert(document);\r\n    \r\n            return item;\r\n        }\r\n    \r\n        /**\r\n         * Generates a new ObjectId for the passed Item (if absent).\r\n         * @param item The Item to work with.\r\n         * @return Returns the passed Item with a new id added if there\r\n         * was none.\r\n         */\r\n        @Override\r\n        public Item generateIdIfAbsentFromDocument(Item item) {\r\n            if (!documentHasId(item)) {\r\n                item.setId(new ObjectId());\r\n            }\r\n    \r\n            return item;\r\n        }\r\n    \r\n        /**\r\n         * Returns whether or not the passed Item has an id.\r\n         * @param Item The Item that you want to check for\r\n         * the presence of an id.\r\n         * @return Returns whether or not the passed Item has an id.\r\n         */\r\n        @Override\r\n        public boolean documentHasId(Item Item) {\r\n            return (Item.getName() != null);\r\n        }\r\n    \r\n        /**\r\n         * Gets the id of the passed Item. If there is no id, it will\r\n         * throw an IllegalStateException (RuntimeException).\r\n         * @param Item The Item whose id you want to get.\r\n         * @return Returns the id of the passed Item as a BsonValue.\r\n         */\r\n        @Override\r\n        public BsonValue getDocumentId(Item Item)\r\n        {\r\n            if (!documentHasId(Item)) {\r\n                throw new IllegalStateException(&quot;The document does not contain an _id&quot;);\r\n            }\r\n    \r\n            return new BsonString(Item.getName());\r\n        }\r\n    \r\n    }\r\n\r\ncom.example.mongo.OrderCodec\r\n----------------------------\r\nCodec for encoding/decoding Orders.\r\n\r\n    package com.example.mongo;\r\n    \r\n    import com.example.model.Item;\r\n    import com.example.model.Order;\r\n    import com.mongodb.MongoClient;\r\n    import java.util.ArrayList;\r\n    import org.bson.BsonReader;\r\n    import org.bson.BsonString;\r\n    import org.bson.BsonValue;\r\n    import org.bson.BsonWriter;\r\n    import org.bson.Document;\r\n    import org.bson.codecs.Codec;\r\n    import org.bson.codecs.CollectibleCodec;\r\n    import org.bson.codecs.DecoderContext;\r\n    import org.bson.codecs.EncoderContext;\r\n    import org.bson.codecs.configuration.CodecRegistry;\r\n    import org.bson.types.ObjectId;\r\n    \r\n    /**\r\n     * Mongo decoder for Orders.\r\n     */\r\n    public class OrderCodec implements CollectibleCodec&lt;Order&gt; {\r\n    \r\n        private final CodecRegistry registry;\r\n        private final Codec&lt;Document&gt; documentCodec;\r\n        private final ItemConverter itemConverter;\r\n    \r\n        /**\r\n         * Default constructor.\r\n         */\r\n        public OrderCodec() {\r\n            this.registry = MongoClient.getDefaultCodecRegistry();\r\n            this.documentCodec = this.registry.get(Document.class);\r\n            this.itemConverter = new ItemConverter();\r\n        }\r\n    \r\n        /**\r\n         * Codec constructor.\r\n         * @param codec The existing codec to use.\r\n         */\r\n        public OrderCodec(Codec&lt;Document&gt; codec) {\r\n            this.registry = MongoClient.getDefaultCodecRegistry();\r\n            this.documentCodec = codec;\r\n            this.itemConverter = new ItemConverter();\r\n        }\r\n    \r\n        /**\r\n         * Registry constructor.\r\n         * @param registry The CodecRegistry to use.\r\n         */\r\n        public OrderCodec(CodecRegistry registry) {\r\n            this.registry = registry;\r\n            this.documentCodec = this.registry.get(Document.class);\r\n            this.itemConverter = new ItemConverter();\r\n        }\r\n    \r\n        /**\r\n         * Encode the passed Order into a Mongo/BSON document.\r\n         * @param writer The writer to use for encoding.\r\n         * @param order The Order to encode.\r\n         * @param encoderContext The EncoderContext to use for encoding.\r\n         */\r\n        @Override\r\n        public void encode(\r\n                        BsonWriter writer,\r\n                        Order order,\r\n                        EncoderContext encoderContext\r\n                    ) {\r\n            Document document = new Document();\r\n            document.put(&quot;_id&quot;, order.getId());\r\n            document.put(&quot;items&quot;, order.getItems());\r\n    \r\n            documentCodec.encode(writer, document, encoderContext);\r\n        }\r\n    \r\n        /**\r\n         * Get the class that this Codec works with.\r\n         * @return Returns the class that this Codec works with.\r\n         */\r\n        @Override\r\n        public Class&lt;Order&gt; getEncoderClass() {\r\n            return Order.class;\r\n        }\r\n    \r\n        /**\r\n         * Decodes a Mongo/BSON document into an Order.\r\n         * @param reader The reader containing the Document.\r\n         * @param decoderContext The DecoderContext to use for decoding.\r\n         * @return Returns the decoded Order.\r\n         */\r\n        @Override\r\n        public Order decode(BsonReader reader, DecoderContext decoderContext) {\r\n            Document document = documentCodec.decode(reader, decoderContext);\r\n    \r\n            Order order = new Order();\r\n    \r\n            order.setId(document.getObjectId(&quot;_id&quot;));\r\n    \r\n            ArrayList&lt;Document&gt; docArr = (ArrayList) document.get(&quot;items&quot;);\r\n            for (Document doc : docArr) {\r\n                Item item = this.itemConverter.convert(doc);\r\n                order.addItem(item);\r\n            }\r\n    \r\n            return order;\r\n        }\r\n    \r\n        /**\r\n         * Generates a new ObjectId for the passed Order (if absent).\r\n         * @param order The Order to work with.\r\n         * @return Returns the passed Order with a new id added if there\r\n         * was none.\r\n         */\r\n        @Override\r\n        public Order generateIdIfAbsentFromDocument(Order order) {\r\n            if (!documentHasId(order)) {\r\n                order.setId(new ObjectId());\r\n            }\r\n    \r\n            return order;\r\n        }\r\n    \r\n        /**\r\n         * Returns whether or not the passed Order has an id.\r\n         * @param order The Order that you want to check for\r\n         * the presence of an id.\r\n         * @return Returns whether or not the passed Order has an id.\r\n         */\r\n        @Override\r\n        public boolean documentHasId(Order order) {\r\n            return (order.getId() != null);\r\n        }\r\n    \r\n        /**\r\n         * Gets the id of the passed Order. If there is no id, it will\r\n         * throw an IllegalStateException (RuntimeException).\r\n         * @param order The Order whose id you want to get.\r\n         * @return Returns the id of the passed Order as a BsonValue.\r\n         */\r\n        @Override\r\n        public BsonValue getDocumentId(Order order) {\r\n            if (!documentHasId(order)) {\r\n                throw new IllegalStateException(&quot;The document does not contain an _id&quot;);\r\n            }\r\n    \r\n            return new BsonString(order.getId().toHexString());\r\n        }\r\n    }\r\n\r\ncom.example.main.Main\r\n---------------------\r\nMain class for the app. Here we register the codecs and create our MongoClient.\r\n\r\n    package com.example.main;\r\n    \r\n    import com.example.model.Item;\r\n    import com.example.model.Order;\r\n    import com.example.mongo.ItemCodec;\r\n    import com.example.mongo.OrderCodec;\r\n    import com.mongodb.MongoClient;\r\n    import com.mongodb.MongoClientOptions;\r\n    import com.mongodb.ServerAddress;\r\n    import org.bson.Document;\r\n    import org.bson.codecs.Codec;\r\n    import org.bson.codecs.configuration.CodecRegistries;\r\n    import org.bson.codecs.configuration.CodecRegistry;\r\n    \r\n    /**\r\n     * Main class.\r\n     */\r\n    public class Main {\r\n    \r\n        /**\r\n         * Main function for the app.\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            CodecRegistry codecRegistry = MongoClient.getDefaultCodecRegistry();\r\n            Codec&lt;Document&gt; documentCodec = codecRegistry.get(Document.class);\r\n            Codec&lt;Item&gt; itemCodec = new ItemCodec(codecRegistry);\r\n            Codec&lt;Order&gt; orderCodec = new OrderCodec(codecRegistry);\r\n            codecRegistry = CodecRegistries.fromRegistries(\r\n                                                MongoClient.getDefaultCodecRegistry(),\r\n                                                CodecRegistries.fromCodecs(\r\n                                                    documentCodec,\r\n                                                    itemCodec,\r\n                                                    orderCodec\r\n                                                )\r\n                                            );\r\n    \r\n            MongoClientOptions options = MongoClientOptions.builder().codecRegistry(codecRegistry).build();\r\n            MongoClient mongo = new MongoClient(new ServerAddress(&quot;localhost&quot;, 27018), options);\r\n    \r\n            // Your code here.\r\n        }\r\n    }\r\n\r\nFrom there you can read/write orders and items to/from Mongo.","title":"MongoDB: Register codecs (Java)","body":"<p>You can do Mongo codecs for arrays using ArrayList as follows:</p>\n\n<h2>com.example.model.Order</h2>\n\n<p>This is the class representing an Order. It includes an ArrayList of items.</p>\n\n<pre><code>package com.example.model;\n\nimport java.util.ArrayList;\nimport org.bson.types.ObjectId;\n\n/**\n * Class representing an Order.\n */\npublic class Order\n{\n    private ObjectId id;\n    private ArrayList&lt;Item&gt; items;\n\n    /**\n     * Default constructor. Needed for testing.\n     */\n    public Order() {\n        this.items = new ArrayList&lt;&gt;();\n    }\n\n    /**\n     * Sets the id of the Order.\n     * @param id The new id of the Order.\n     */\n    public void setId(ObjectId id) {\n        this.id = id;\n    }\n\n    /**\n     * Gets the id of the Order.\n     * @return The id of the Order.\n     */\n    public ObjectId getId() {\n        return this.id;\n    }\n\n    /**\n     * Sets the items for the Order.\n     * @param items The items for the Order.\n     */\n    public void setItems(ArrayList&lt;Item&gt; items) {\n        this.items = items;\n    }\n\n    /**\n     * Gets the items for the Order.\n     * @return The items for the Order.\n     */\n    public ArrayList&lt;Item&gt; getItems() {\n        return items;\n    }\n\n    /**\n     * Adds an item to the Order.\n     * @param item The new Item to add to the Order.\n     */\n    public void addItem(Item item) {\n        this.items.add(item);\n    }\n}\n</code></pre>\n\n<h2>com.example.model.Item</h2>\n\n<p>This is the class representing an Order Item. There can be any number of items that are a part of an order. Items are embedded within the Order document in Mongo.</p>\n\n<pre><code>package com.example.model;\n\nimport org.bson.types.ObjectId;\n\n/**\n * Class representing an order item.\n */\npublic class Item\n{\n    private ObjectId id;\n    private String name;\n\n    /**\n     * Constructor.\n     */\n    public Item() {\n        //\n    }\n\n    /**\n     * Sets the id of the Item.\n     * @param id The new id of the Item.\n     */\n    public void setId(ObjectId id) {\n        this.id = id;\n    }\n\n    /**\n     * Gets the id of the Item.\n     * @return The id of the Item.\n     */\n    public ObjectId getId() {\n        return this.id;\n    }\n\n    /**\n     * Sets the name of the Item.\n     * @param name The new name of the Item.\n     */\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    /**\n     * Gets the name of the Item.\n     * @return The name of the Item.\n     */\n    public String getName() {\n        return this.name;\n    }\n}\n</code></pre>\n\n<h2>com.example.mongo.ItemConverter</h2>\n\n<p>Simple converter class that converts Items to/from Documents.</p>\n\n<pre><code>package com.example.mongo;\n\nimport com.example.model.Item;\nimport org.bson.Document;\n\n/**\n * Converts Mongo Documents to/from Items.\n */\npublic class ItemConverter {\n    /**\n     * Convert the passed Item into a Mongo Document.\n     * @param item The Item that you want to convert into a Mongo Document.\n     * @return Returns the Document that was created from the passed Item.\n     */\n    public Document convert(Item item) {\n        Document document = new Document();\n        document.put(\"_id\", item.getId());\n        document.put(\"name\", item.getName());\n\n        return document;\n    }\n\n    /**\n     * Convert the passed Mongo Document into an Item.\n     * @param document The Document that you want to convert into an Item.\n     * @return Returns the Item that was created from the passed Mongo Document.\n     */\n    public Item convert(Document document) {\n        Item item = new Item();\n        item.setId(document.getObjectId(\"_id\"));\n        item.setName(document.getString(\"name\"));\n\n        return item;\n    }\n}\n</code></pre>\n\n<h2>com.example.mongo.ItemCodec</h2>\n\n<p>Codec for encoding and decoding Items.</p>\n\n<pre><code>package com.example.mongo;\n\nimport com.example.model.Item;\nimport com.mongodb.MongoClient;\nimport org.bson.BsonReader;\nimport org.bson.BsonString;\nimport org.bson.BsonValue;\nimport org.bson.BsonWriter;\nimport org.bson.Document;\nimport org.bson.codecs.Codec;\nimport org.bson.codecs.CollectibleCodec;\nimport org.bson.codecs.DecoderContext;\nimport org.bson.codecs.EncoderContext;\nimport org.bson.codecs.configuration.CodecRegistry;\nimport org.bson.types.ObjectId;\n\n/**\n * Mongo Decoder for Items.\n */\npublic class ItemCodec implements CollectibleCodec&lt;Item&gt; {\n\n    private final CodecRegistry registry;\n    private final Codec&lt;Document&gt; documentCodec;\n    private final ItemConverter converter;\n\n    /**\n     * Default constructor.\n     */\n    public ItemCodec() {\n        this.registry = MongoClient.getDefaultCodecRegistry();\n        this.documentCodec = this.registry.get(Document.class);\n        this.converter = new ItemConverter();\n    }\n\n    /**\n     * Codec constructor.\n     * @param codec The existing codec to use.\n     */\n    public ItemCodec(Codec&lt;Document&gt; codec) {\n        this.documentCodec = codec;\n        this.registry = MongoClient.getDefaultCodecRegistry();\n        this.converter = new ItemConverter();\n    }\n\n    /**\n     * Registry constructor.\n     * @param registry The CodecRegistry to use.\n     */\n    public ItemCodec(CodecRegistry registry) {\n        this.registry = registry;\n        this.documentCodec = this.registry.get(Document.class);\n        this.converter = new ItemConverter();\n    }\n\n    /**\n     * Encode the passed Item into a Mongo/BSON document.\n     * @param writer The writer to use for encoding.\n     * @param item The Item to encode.\n     * @param encoderContext The EncoderContext to use for encoding.\n     */\n    @Override\n    public void encode(\n                    BsonWriter writer,\n                    Item item,\n                    EncoderContext encoderContext\n                ) {\n        Document document = this.converter.convert(item);\n\n        documentCodec.encode(writer, document, encoderContext);\n    }\n\n    /**\n     * Get the class that this Codec works with.\n     * @return Returns the class that this Codec works with.\n     */\n    @Override\n    public Class&lt;Item&gt; getEncoderClass() {\n        return Item.class;\n    }\n\n    /**\n     * Decodes a Mongo/BSON document into an Item.\n     * @param reader The reader containing the Document.\n     * @param decoderContext The DecoderContext to use for decoding.\n     * @return Returns the decoded Item.\n     */\n    @Override\n    public Item decode(BsonReader reader, DecoderContext decoderContext) {\n        Document document = documentCodec.decode(reader, decoderContext);\n        Item item = this.converter.convert(document);\n\n        return item;\n    }\n\n    /**\n     * Generates a new ObjectId for the passed Item (if absent).\n     * @param item The Item to work with.\n     * @return Returns the passed Item with a new id added if there\n     * was none.\n     */\n    @Override\n    public Item generateIdIfAbsentFromDocument(Item item) {\n        if (!documentHasId(item)) {\n            item.setId(new ObjectId());\n        }\n\n        return item;\n    }\n\n    /**\n     * Returns whether or not the passed Item has an id.\n     * @param Item The Item that you want to check for\n     * the presence of an id.\n     * @return Returns whether or not the passed Item has an id.\n     */\n    @Override\n    public boolean documentHasId(Item Item) {\n        return (Item.getName() != null);\n    }\n\n    /**\n     * Gets the id of the passed Item. If there is no id, it will\n     * throw an IllegalStateException (RuntimeException).\n     * @param Item The Item whose id you want to get.\n     * @return Returns the id of the passed Item as a BsonValue.\n     */\n    @Override\n    public BsonValue getDocumentId(Item Item)\n    {\n        if (!documentHasId(Item)) {\n            throw new IllegalStateException(\"The document does not contain an _id\");\n        }\n\n        return new BsonString(Item.getName());\n    }\n\n}\n</code></pre>\n\n<h2>com.example.mongo.OrderCodec</h2>\n\n<p>Codec for encoding/decoding Orders.</p>\n\n<pre><code>package com.example.mongo;\n\nimport com.example.model.Item;\nimport com.example.model.Order;\nimport com.mongodb.MongoClient;\nimport java.util.ArrayList;\nimport org.bson.BsonReader;\nimport org.bson.BsonString;\nimport org.bson.BsonValue;\nimport org.bson.BsonWriter;\nimport org.bson.Document;\nimport org.bson.codecs.Codec;\nimport org.bson.codecs.CollectibleCodec;\nimport org.bson.codecs.DecoderContext;\nimport org.bson.codecs.EncoderContext;\nimport org.bson.codecs.configuration.CodecRegistry;\nimport org.bson.types.ObjectId;\n\n/**\n * Mongo decoder for Orders.\n */\npublic class OrderCodec implements CollectibleCodec&lt;Order&gt; {\n\n    private final CodecRegistry registry;\n    private final Codec&lt;Document&gt; documentCodec;\n    private final ItemConverter itemConverter;\n\n    /**\n     * Default constructor.\n     */\n    public OrderCodec() {\n        this.registry = MongoClient.getDefaultCodecRegistry();\n        this.documentCodec = this.registry.get(Document.class);\n        this.itemConverter = new ItemConverter();\n    }\n\n    /**\n     * Codec constructor.\n     * @param codec The existing codec to use.\n     */\n    public OrderCodec(Codec&lt;Document&gt; codec) {\n        this.registry = MongoClient.getDefaultCodecRegistry();\n        this.documentCodec = codec;\n        this.itemConverter = new ItemConverter();\n    }\n\n    /**\n     * Registry constructor.\n     * @param registry The CodecRegistry to use.\n     */\n    public OrderCodec(CodecRegistry registry) {\n        this.registry = registry;\n        this.documentCodec = this.registry.get(Document.class);\n        this.itemConverter = new ItemConverter();\n    }\n\n    /**\n     * Encode the passed Order into a Mongo/BSON document.\n     * @param writer The writer to use for encoding.\n     * @param order The Order to encode.\n     * @param encoderContext The EncoderContext to use for encoding.\n     */\n    @Override\n    public void encode(\n                    BsonWriter writer,\n                    Order order,\n                    EncoderContext encoderContext\n                ) {\n        Document document = new Document();\n        document.put(\"_id\", order.getId());\n        document.put(\"items\", order.getItems());\n\n        documentCodec.encode(writer, document, encoderContext);\n    }\n\n    /**\n     * Get the class that this Codec works with.\n     * @return Returns the class that this Codec works with.\n     */\n    @Override\n    public Class&lt;Order&gt; getEncoderClass() {\n        return Order.class;\n    }\n\n    /**\n     * Decodes a Mongo/BSON document into an Order.\n     * @param reader The reader containing the Document.\n     * @param decoderContext The DecoderContext to use for decoding.\n     * @return Returns the decoded Order.\n     */\n    @Override\n    public Order decode(BsonReader reader, DecoderContext decoderContext) {\n        Document document = documentCodec.decode(reader, decoderContext);\n\n        Order order = new Order();\n\n        order.setId(document.getObjectId(\"_id\"));\n\n        ArrayList&lt;Document&gt; docArr = (ArrayList) document.get(\"items\");\n        for (Document doc : docArr) {\n            Item item = this.itemConverter.convert(doc);\n            order.addItem(item);\n        }\n\n        return order;\n    }\n\n    /**\n     * Generates a new ObjectId for the passed Order (if absent).\n     * @param order The Order to work with.\n     * @return Returns the passed Order with a new id added if there\n     * was none.\n     */\n    @Override\n    public Order generateIdIfAbsentFromDocument(Order order) {\n        if (!documentHasId(order)) {\n            order.setId(new ObjectId());\n        }\n\n        return order;\n    }\n\n    /**\n     * Returns whether or not the passed Order has an id.\n     * @param order The Order that you want to check for\n     * the presence of an id.\n     * @return Returns whether or not the passed Order has an id.\n     */\n    @Override\n    public boolean documentHasId(Order order) {\n        return (order.getId() != null);\n    }\n\n    /**\n     * Gets the id of the passed Order. If there is no id, it will\n     * throw an IllegalStateException (RuntimeException).\n     * @param order The Order whose id you want to get.\n     * @return Returns the id of the passed Order as a BsonValue.\n     */\n    @Override\n    public BsonValue getDocumentId(Order order) {\n        if (!documentHasId(order)) {\n            throw new IllegalStateException(\"The document does not contain an _id\");\n        }\n\n        return new BsonString(order.getId().toHexString());\n    }\n}\n</code></pre>\n\n<h2>com.example.main.Main</h2>\n\n<p>Main class for the app. Here we register the codecs and create our MongoClient.</p>\n\n<pre><code>package com.example.main;\n\nimport com.example.model.Item;\nimport com.example.model.Order;\nimport com.example.mongo.ItemCodec;\nimport com.example.mongo.OrderCodec;\nimport com.mongodb.MongoClient;\nimport com.mongodb.MongoClientOptions;\nimport com.mongodb.ServerAddress;\nimport org.bson.Document;\nimport org.bson.codecs.Codec;\nimport org.bson.codecs.configuration.CodecRegistries;\nimport org.bson.codecs.configuration.CodecRegistry;\n\n/**\n * Main class.\n */\npublic class Main {\n\n    /**\n     * Main function for the app.\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        CodecRegistry codecRegistry = MongoClient.getDefaultCodecRegistry();\n        Codec&lt;Document&gt; documentCodec = codecRegistry.get(Document.class);\n        Codec&lt;Item&gt; itemCodec = new ItemCodec(codecRegistry);\n        Codec&lt;Order&gt; orderCodec = new OrderCodec(codecRegistry);\n        codecRegistry = CodecRegistries.fromRegistries(\n                                            MongoClient.getDefaultCodecRegistry(),\n                                            CodecRegistries.fromCodecs(\n                                                documentCodec,\n                                                itemCodec,\n                                                orderCodec\n                                            )\n                                        );\n\n        MongoClientOptions options = MongoClientOptions.builder().codecRegistry(codecRegistry).build();\n        MongoClient mongo = new MongoClient(new ServerAddress(\"localhost\", 27018), options);\n\n        // Your code here.\n    }\n}\n</code></pre>\n\n<p>From there you can read/write orders and items to/from Mongo.</p>\n"},{"tags":[],"owner":{"account_id":2405743,"reputation":807,"user_id":2102275,"accept_rate":60,"display_name":"Tunde Pizzle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589747256,"creation_date":1589747256,"answer_id":61858329,"question_id":41618203,"body_markdown":"A better approach will be to implement your own CodecProvider. This way you can manage all used codec implementation. Using your case:\r\n\r\nCreate MyCodecProvider\r\n\r\n    public class MyCodecProvider implements CodecProvider {\r\n\r\n    private final BsonTypeClassMap bsonTypeClassMap;\r\n\r\n    public MyCodecProvider(final BsonTypeClassMap bsonTypeClassMap) {\r\n        this.bsonTypeClassMap = bsonTypeClassMap;\r\n    }\r\n\r\n    @Override\r\n    public &lt;T&gt; Codec&lt;T&gt; get(final Class&lt;T&gt; clazz, final CodecRegistry registry) {\r\n        if (clazz == Document.class) {\r\n            // construct DocumentCodec with a CodecRegistry and a BsonTypeClassMap\r\n            return (Codec&lt;T&gt;) new org.bson.codecs.DocumentCodec(registry, bsonTypeClassMap);\r\n        }\r\n        else if (clazz == Order.class) {\r\n            return (Codec&lt;T&gt;) new OrderCodec(registry);\r\n        }\r\n        else if (clazz == Item.class) {\r\n            return (Codec&lt;T&gt;) new ItemCodec(registry);\r\n        }\r\n\r\n        return null;\r\n      }\r\n    }\r\n\r\nNow you may simple do this in your main class.\r\n\r\n    Map&lt;BsonType, Class&lt;?&gt;&gt; replacements = new HashMap&lt;BsonType, Class&lt;?&gt;&gt;();\r\n        replacements.put(BsonType.DATE_TIME, Timestamp.class);\r\n//        replacements.put(BsonType.DATE_TIME, Timestamp.class); in case you have complex java type\r\n        \r\n        BsonTypeClassMap bsonTypeClassMap = new BsonTypeClassMap(replacements);\r\n\r\n\r\n        MyCodecProvider provider = new MyCodecProvider(bsonTypeClassMap);\r\n        CodecRegistry pojoCodecRegistry = fromRegistries(MongoClient.getDefaultCodecRegistry(),\r\n                fromProviders(PojoCodecProvider.builder().automatic(true).build()));\r\n        CodecRegistry codecRegistry = MongoClient.getDefaultCodecRegistry();\r\n        Codec&lt;Document&gt; documentCodec = codecRegistry.get(Document.class);\r\n\r\n        codecRegistry = CodecRegistries.fromRegistries(\r\n                CodecRegistries.fromProviders(provider),\r\n                CodecRegistries.fromRegistries(pojoCodecRegistry),\r\n                CodecRegistries.fromCodecs(documentCodec));\r\n    \r\n        MongoClientOptions options = MongoClientOptions.builder().codecRegistry(codecRegistry).build();\r\n        MongoClient mongo = new MongoClient(new ServerAddress(&quot;localhost&quot;, 27018), options);\r\n","title":"MongoDB: Register codecs (Java)","body":"<p>A better approach will be to implement your own CodecProvider. This way you can manage all used codec implementation. Using your case:</p>\n\n<p>Create MyCodecProvider</p>\n\n<pre><code>public class MyCodecProvider implements CodecProvider {\n\nprivate final BsonTypeClassMap bsonTypeClassMap;\n\npublic MyCodecProvider(final BsonTypeClassMap bsonTypeClassMap) {\n    this.bsonTypeClassMap = bsonTypeClassMap;\n}\n\n@Override\npublic &lt;T&gt; Codec&lt;T&gt; get(final Class&lt;T&gt; clazz, final CodecRegistry registry) {\n    if (clazz == Document.class) {\n        // construct DocumentCodec with a CodecRegistry and a BsonTypeClassMap\n        return (Codec&lt;T&gt;) new org.bson.codecs.DocumentCodec(registry, bsonTypeClassMap);\n    }\n    else if (clazz == Order.class) {\n        return (Codec&lt;T&gt;) new OrderCodec(registry);\n    }\n    else if (clazz == Item.class) {\n        return (Codec&lt;T&gt;) new ItemCodec(registry);\n    }\n\n    return null;\n  }\n}\n</code></pre>\n\n<p>Now you may simple do this in your main class.</p>\n\n<pre><code>Map&lt;BsonType, Class&lt;?&gt;&gt; replacements = new HashMap&lt;BsonType, Class&lt;?&gt;&gt;();\n    replacements.put(BsonType.DATE_TIME, Timestamp.class);\n</code></pre>\n\n<p>//        replacements.put(BsonType.DATE_TIME, Timestamp.class); in case you have complex java type</p>\n\n<pre><code>    BsonTypeClassMap bsonTypeClassMap = new BsonTypeClassMap(replacements);\n\n\n    MyCodecProvider provider = new MyCodecProvider(bsonTypeClassMap);\n    CodecRegistry pojoCodecRegistry = fromRegistries(MongoClient.getDefaultCodecRegistry(),\n            fromProviders(PojoCodecProvider.builder().automatic(true).build()));\n    CodecRegistry codecRegistry = MongoClient.getDefaultCodecRegistry();\n    Codec&lt;Document&gt; documentCodec = codecRegistry.get(Document.class);\n\n    codecRegistry = CodecRegistries.fromRegistries(\n            CodecRegistries.fromProviders(provider),\n            CodecRegistries.fromRegistries(pojoCodecRegistry),\n            CodecRegistries.fromCodecs(documentCodec));\n\n    MongoClientOptions options = MongoClientOptions.builder().codecRegistry(codecRegistry).build();\n    MongoClient mongo = new MongoClient(new ServerAddress(\"localhost\", 27018), options);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662469313,"creation_date":1642218788,"answer_id":70718741,"question_id":41618203,"body_markdown":"The other answers are overly complicated.  For the vast majority of the of the POJO classes you&#39;ll use, you do not need to write a codec at all.  Just register your object:\r\n```\r\n// Don&#39;t you hate it when sample code does not include references?\r\nimport static org.bson.codecs.configuration.CodecRegistries.fromProviders;\r\nimport static org.bson.codecs.configuration.CodecRegistries.fromRegistries;\r\nimport org.bson.codecs.configuration.CodecRegistries;\r\nimport org.bson.codecs.configuration.CodecRegistry;\r\nimport com.mongodb.MongoClientSettings;\r\n\r\n...\r\n{\r\n    CodecRegistry myRegistry = fromRegistries(\r\n\t\t\t\tMongoClientSettings.getDefaultCodecRegistry(),\r\n\t\t\t\tfromProviders(\r\n\t\t\t\t\tPojoCodecProvider.builder()\r\n\t\t\t\t\t\t.register(Item.class)\r\n\t\t\t\t\t\t.build()\r\n\t\t\t\t\t)\r\n\t\t\t\t));\r\n\r\n```\r\n\r\nThe above code makes a new registry by combining it with the default registry.  This is important because the default registry covers a ton of Java objects (lists, maps, etc.)\r\n\r\nWhat if you have a lot of model objects?  No problem: register an entire package of objects...\r\n\r\n```\r\n{\r\n    CodecRegistry myRegistry = fromRegistries(\r\n\t\t\t\tMongoClientSettings.getDefaultCodecRegistry(),\r\n\t\t\t\tfromProviders(\r\n\t\t\t\t\tPojoCodecProvider.builder()\r\n\t\t\t\t\t\t.register(&quot;com.funkytown.model.package&quot;)\r\n\t\t\t\t\t\t.build()\r\n\t\t\t\t\t)\r\n\t\t\t\t));\r\n\r\n```\r\n\r\nSo next, how do you use this registry?  You have 3 options.  \r\n1) Attach it to a MongoClient instance:\r\n```\r\nMongoClient mongoClient = new MongoClient(&quot;localhost&quot;, MongoClientOptions.builder().codecRegistry(myRegistry).build());\r\n\r\n```\r\n2. Use it with a specific database:\r\n```\r\nmyDatabase = mongoClient.getDatabase(&quot;FunkyTown&quot;).withCodecRegistry(myRegistry);\r\n```\r\n3. Use it with a specific collection:\r\n```\r\nmyCollection = mongoClient.getDatabase(&quot;FunkyTown&quot;).getCollection(&quot;Items&quot;).withCodecRegistry(myRegistry);\r\n```\r\n\r\nThe MongoDB Documentation isn&#39;t the greatest, but in my experience the POJO functionality is fast and flexible.\r\n","title":"MongoDB: Register codecs (Java)","body":"<p>The other answers are overly complicated.  For the vast majority of the of the POJO classes you'll use, you do not need to write a codec at all.  Just register your object:</p>\n<pre><code>// Don't you hate it when sample code does not include references?\nimport static org.bson.codecs.configuration.CodecRegistries.fromProviders;\nimport static org.bson.codecs.configuration.CodecRegistries.fromRegistries;\nimport org.bson.codecs.configuration.CodecRegistries;\nimport org.bson.codecs.configuration.CodecRegistry;\nimport com.mongodb.MongoClientSettings;\n\n...\n{\n    CodecRegistry myRegistry = fromRegistries(\n                MongoClientSettings.getDefaultCodecRegistry(),\n                fromProviders(\n                    PojoCodecProvider.builder()\n                        .register(Item.class)\n                        .build()\n                    )\n                ));\n\n</code></pre>\n<p>The above code makes a new registry by combining it with the default registry.  This is important because the default registry covers a ton of Java objects (lists, maps, etc.)</p>\n<p>What if you have a lot of model objects?  No problem: register an entire package of objects...</p>\n<pre><code>{\n    CodecRegistry myRegistry = fromRegistries(\n                MongoClientSettings.getDefaultCodecRegistry(),\n                fromProviders(\n                    PojoCodecProvider.builder()\n                        .register(&quot;com.funkytown.model.package&quot;)\n                        .build()\n                    )\n                ));\n\n</code></pre>\n<p>So next, how do you use this registry?  You have 3 options.</p>\n<ol>\n<li>Attach it to a MongoClient instance:</li>\n</ol>\n<pre><code>MongoClient mongoClient = new MongoClient(&quot;localhost&quot;, MongoClientOptions.builder().codecRegistry(myRegistry).build());\n\n</code></pre>\n<ol start=\"2\">\n<li>Use it with a specific database:</li>\n</ol>\n<pre><code>myDatabase = mongoClient.getDatabase(&quot;FunkyTown&quot;).withCodecRegistry(myRegistry);\n</code></pre>\n<ol start=\"3\">\n<li>Use it with a specific collection:</li>\n</ol>\n<pre><code>myCollection = mongoClient.getDatabase(&quot;FunkyTown&quot;).getCollection(&quot;Items&quot;).withCodecRegistry(myRegistry);\n</code></pre>\n<p>The MongoDB Documentation isn't the greatest, but in my experience the POJO functionality is fast and flexible.</p>\n"},{"tags":[],"owner":{"account_id":3507932,"reputation":172,"user_id":3069985,"accept_rate":43,"display_name":"Hritcu Andrei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649587183,"creation_date":1649587183,"answer_id":71815796,"question_id":41618203,"body_markdown":"    @Bean\r\n    public MongoClientSettings mongoClientSettings() {\r\n        MongoClientSettings mongoClientSettings = MongoClientSettings.builder()\r\n                .codecRegistry(createCustomCodecRegistry()).build();\r\n        return mongoClientSettings;\r\n    }\r\n\r\n    @Bean\r\n    public CodecRegistry createCustomCodecRegistry() {\r\n        return CodecRegistries.fromRegistries(\r\n                CodecRegistries.fromCodecs(\r\n                        new UuidCodec(UuidRepresentation.STANDARD),\r\n                        new ZonedDateTimeCodec()),\r\n                MongoClientSettings.getDefaultCodecRegistry()\r\n        );\r\n    }","title":"MongoDB: Register codecs (Java)","body":"<pre><code>@Bean\npublic MongoClientSettings mongoClientSettings() {\n    MongoClientSettings mongoClientSettings = MongoClientSettings.builder()\n            .codecRegistry(createCustomCodecRegistry()).build();\n    return mongoClientSettings;\n}\n\n@Bean\npublic CodecRegistry createCustomCodecRegistry() {\n    return CodecRegistries.fromRegistries(\n            CodecRegistries.fromCodecs(\n                    new UuidCodec(UuidRepresentation.STANDARD),\n                    new ZonedDateTimeCodec()),\n            MongoClientSettings.getDefaultCodecRegistry()\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3633832,"reputation":11,"user_id":3029448,"display_name":"RHanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688415719,"creation_date":1688415719,"answer_id":76607894,"question_id":41618203,"body_markdown":"&gt; I just found out that it has to do with me using Item[], apparently\r\n&gt; it&#39;s not possible with MongoDB to use arrays, that sucks. –  vedi0boy \r\n&gt; Jan 12, 2017 at 17:01\r\n\r\nThis is great advice.  I was working with [MongoDB Quickstart][1] and trying to get it to work w/ the Azure Emulator and kept crapping out on &#39;codec issues&#39;.  After a couple of days of googling/frustration I came upon this post while creating my codecs.  \r\n\r\nThe Quick start has a couple of classes that define some variables as Arrays which, as you mentioned, can&#39;t be converted via the MongoDB Codec registery.  \r\n\r\nAfter I flipped those variables to Lists I was good to go.\r\n\r\nThanks for the advice :)\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/cosmos-db/mongodb/quickstart-java","title":"MongoDB: Register codecs (Java)","body":"<blockquote>\n<p>I just found out that it has to do with me using Item[], apparently\nit's not possible with MongoDB to use arrays, that sucks. –  vedi0boy\nJan 12, 2017 at 17:01</p>\n</blockquote>\n<p>This is great advice.  I was working with <a href=\"https://learn.microsoft.com/en-us/azure/cosmos-db/mongodb/quickstart-java\" rel=\"nofollow noreferrer\">MongoDB Quickstart</a> and trying to get it to work w/ the Azure Emulator and kept crapping out on 'codec issues'.  After a couple of days of googling/frustration I came upon this post while creating my codecs.</p>\n<p>The Quick start has a couple of classes that define some variables as Arrays which, as you mentioned, can't be converted via the MongoDB Codec registery.</p>\n<p>After I flipped those variables to Lists I was good to go.</p>\n<p>Thanks for the advice :)</p>\n"}],"owner":{"account_id":3244518,"reputation":1040,"user_id":2736516,"accept_rate":78,"display_name":"vedi0boy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19699,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":54272611,"answer_count":5,"score":9,"last_activity_date":1688415719,"creation_date":1484238258,"question_id":41618203,"body_markdown":"I&#39;ve been trying for about an hour now to register a codec I made for one of my classes in a game I am working on. The class is called `Item`. I tried the code and suggestions from these 3 places:\r\n\r\n - https://mongodb.github.io/mongo-java-driver/3.0/bson/codecs/\r\n - https://matteosilvestri.blogspot.ca/2015/03/overview-of-pluggable-codecs-in-mongodb.html\r\n - https://gist.github.com/JaiHirsch/cada9eaac3e24ef5a62a\r\n\r\nand here is the code I cam up with:\r\n\r\n    CodecRegistry defaultCodecRegistry = MongoClient.getDefaultCodecRegistry();\r\n    MyCodecProvider myCodecProvider = new MyCodecProvider();\r\n    ItemCodec itemCodec = new ItemCodec(defaultCodecRegistry);\r\n    \t\t\t\r\n    CodecRegistry codecRegistry = CodecRegistries.fromRegistries(CodecRegistries.fromCodecs(itemCodec), CodecRegistries.fromProviders(myCodecProvider), defaultCodecRegistry);;\r\n \tMongoClientOptions options = MongoClientOptions.builder().codecRegistry(codecRegistry).build();\r\n    \t\t\t\r\n    client = new MongoClient(&quot;localhost:27017&quot;, options);\r\n\r\nSo I built a Codec and codec provider called `MyCodecProvider`, so what am I doing wrong, how can this be so complicated? Am I missing something? It seems more complicated than it needs to be. If you need more code please ask. Thanks.\r\n\r\nEdit: The exact error I get is `org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class [Lnet.hollowbit.archipeloserver.items.Item;.` Also, I am trying to parse an Item array, do I need to make a codec specifically for the array too?","title":"MongoDB: Register codecs (Java)","body":"<p>I've been trying for about an hour now to register a codec I made for one of my classes in a game I am working on. The class is called <code>Item</code>. I tried the code and suggestions from these 3 places:</p>\n\n<ul>\n<li><a href=\"https://mongodb.github.io/mongo-java-driver/3.0/bson/codecs/\" rel=\"noreferrer\">https://mongodb.github.io/mongo-java-driver/3.0/bson/codecs/</a></li>\n<li><a href=\"https://matteosilvestri.blogspot.ca/2015/03/overview-of-pluggable-codecs-in-mongodb.html\" rel=\"noreferrer\">https://matteosilvestri.blogspot.ca/2015/03/overview-of-pluggable-codecs-in-mongodb.html</a></li>\n<li><a href=\"https://gist.github.com/JaiHirsch/cada9eaac3e24ef5a62a\" rel=\"noreferrer\">https://gist.github.com/JaiHirsch/cada9eaac3e24ef5a62a</a></li>\n</ul>\n\n<p>and here is the code I cam up with:</p>\n\n<pre><code>CodecRegistry defaultCodecRegistry = MongoClient.getDefaultCodecRegistry();\nMyCodecProvider myCodecProvider = new MyCodecProvider();\nItemCodec itemCodec = new ItemCodec(defaultCodecRegistry);\n\nCodecRegistry codecRegistry = CodecRegistries.fromRegistries(CodecRegistries.fromCodecs(itemCodec), CodecRegistries.fromProviders(myCodecProvider), defaultCodecRegistry);;\nMongoClientOptions options = MongoClientOptions.builder().codecRegistry(codecRegistry).build();\n\nclient = new MongoClient(\"localhost:27017\", options);\n</code></pre>\n\n<p>So I built a Codec and codec provider called <code>MyCodecProvider</code>, so what am I doing wrong, how can this be so complicated? Am I missing something? It seems more complicated than it needs to be. If you need more code please ask. Thanks.</p>\n\n<p>Edit: The exact error I get is <code>org.bson.codecs.configuration.CodecConfigurationException: Can't find a codec for class [Lnet.hollowbit.archipeloserver.items.Item;.</code> Also, I am trying to parse an Item array, do I need to make a codec specifically for the array too?</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":461096,"reputation":59403,"user_id":862594,"accept_rate":83,"display_name":"nickb"},"score":2,"creation_date":1528246231,"post_id":50710346,"comment_id":88430621,"body_markdown":"That error message is pointing to your `AppConfig` class, not the `SampleIFImpl` class.","body":"That error message is pointing to your <code>AppConfig</code> class, not the <code>SampleIFImpl</code> class."},{"owner":{"account_id":8617695,"reputation":3256,"user_id":6453895,"accept_rate":83,"display_name":"Indraneel Bende"},"score":0,"creation_date":1528251809,"post_id":50710346,"comment_id":88431712,"body_markdown":"A sample reproducing the issue would be helpful.","body":"A sample reproducing the issue would be helpful."},{"owner":{"account_id":13720194,"reputation":11,"user_id":9900319,"display_name":"Andakun"},"score":0,"creation_date":1528256756,"post_id":50710346,"comment_id":88432712,"body_markdown":"@nickb: Agreed as I mentioned in exception 1, but will you plz help me on understanding why it fails...since when i ran from sts run as spirng boot app...the logs printed in the console was having the property value but when i try to execute through soap ui for the same property it is throughing exception.","body":"@nickb: Agreed as I mentioned in exception 1, but will you plz help me on understanding why it fails...since when i ran from sts run as spirng boot app...the logs printed in the console was having the property value but when i try to execute through soap ui for the same property it is throughing exception."},{"owner":{"account_id":13720194,"reputation":11,"user_id":9900319,"display_name":"Andakun"},"score":0,"creation_date":1528257849,"post_id":50710346,"comment_id":88432976,"body_markdown":"@Indraneel Bende: How do you want me to share the sample?","body":"@Indraneel Bende: How do you want me to share the sample?"},{"owner":{"account_id":8617695,"reputation":3256,"user_id":6453895,"accept_rate":83,"display_name":"Indraneel Bende"},"score":0,"creation_date":1528257889,"post_id":50710346,"comment_id":88432986,"body_markdown":"prefer github for samples.","body":"prefer github for samples."},{"owner":{"account_id":6117912,"reputation":2451,"user_id":4772331,"display_name":"Gaurav Srivastav"},"score":0,"creation_date":1528258029,"post_id":50710346,"comment_id":88433024,"body_markdown":"I think your property file name should be application.dev.properties","body":"I think your property file name should be application.dev.properties"}],"answers":[{"tags":[],"owner":{"account_id":11118669,"reputation":91,"user_id":8162229,"display_name":"ElChava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528311935,"creation_date":1528311935,"answer_id":50727836,"question_id":50710346,"body_markdown":"I reproduced the escenario but I did some changes in the implementation \r\n\r\nthis is my application.yml \r\n    \r\n    spring:\r\n      profiles:\r\n        active:\r\n        - dev\r\n\r\nAnd this is my application-dev.yml \r\n\r\n    welcome:\r\n      message: Development\r\n\r\n\r\nFinally I&#180;m using the variable directly from the class where the value is needed\r\n\r\n    @Value(&quot;${welcome.message}&quot;)\r\n    private String welcomeMsg;","title":"spring boot application(profile specific).properties returns null","body":"<p>I reproduced the escenario but I did some changes in the implementation </p>\n\n<p>this is my application.yml </p>\n\n<pre><code>spring:\n  profiles:\n    active:\n    - dev\n</code></pre>\n\n<p>And this is my application-dev.yml </p>\n\n<pre><code>welcome:\n  message: Development\n</code></pre>\n\n<p>Finally I´m using the variable directly from the class where the value is needed</p>\n\n<pre><code>@Value(\"${welcome.message}\")\nprivate String welcomeMsg;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26074342,"reputation":1,"user_id":19773484,"display_name":"Adithya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660992918,"creation_date":1660632997,"answer_id":73369894,"question_id":50710346,"body_markdown":"instead of `application.yml` try giving `application.yaml`\r\nIt worked for me for the same issue like your&#39;s one\r\n","title":"spring boot application(profile specific).properties returns null","body":"<p>instead of <code>application.yml</code> try giving <code>application.yaml</code>\nIt worked for me for the same issue like your's one</p>\n"},{"tags":[],"owner":{"account_id":28944054,"reputation":1,"user_id":22170026,"display_name":"Phạm Ph&#250; Phước"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688415548,"creation_date":1688415548,"answer_id":76607880,"question_id":50710346,"body_markdown":"try to open terminal, type mvn clean install and it worked for me","title":"spring boot application(profile specific).properties returns null","body":"<p>try to open terminal, type mvn clean install and it worked for me</p>\n"}],"owner":{"account_id":13720194,"reputation":11,"user_id":9900319,"display_name":"Andakun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1864,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1688415548,"creation_date":1528241821,"question_id":50710346,"body_markdown":"I am trying to load profile specific property file values using springboot to my @webservice class. I followed the below steps,\r\n\r\n1) \r\n\r\n    created application.properties with profile to be active\r\n    spring.profiles.active=dev\r\n2) \r\n\r\n    Created application-dev.properties with following values\r\n    username = XXXXXXX\r\n    password = XXXXXXX\r\n    host = XXXXXXX\r\n    port = XXXXXXX\r\n    welcome.message = Development\r\n\r\n3) \r\n    \r\n     Created @Springbootapplication class\r\n4) \r\n\r\n    Created @configuration class for appconfig\r\n\r\n5) Started reading values of application-dev.properties in the appconfig class using\r\n\r\ncode:\r\n\r\n\r\n    public class AppConfig {\r\n    @Value(&quot;${welcome.message}&quot;)\r\n     private String welcomeMsg;\r\n     @Profile(&quot;dev&quot;)\r\n    @Bean\r\n    public MessageSource messageSourceDev() {\r\n    System.out.println(&quot;****Dev Profile called*****&quot;+welcomeMsg);\r\n\r\nwhen i run from spring tool suite, for the first time welcome message printed successfully in console.\r\n\r\n&quot;****Dev Profile called*****Development&quot;\r\n\r\nBut when I try to read the property values from the @webservice class I created,through soap UI, \r\n\r\nCode:\r\n\r\n    @WebService(serviceName = &quot;SampleIF&quot;, endpointInterface   = &quot;com.tc.services.sample.cxf.SampleIF&quot;)\r\n    public class SampleIFImpl implements SampleIF {\r\n\t@Value(&quot;${welcome.message}&quot;)\r\n\tprivate String welcomeMsg;\r\n        @Override\r\n\tpublic Contact CreateContract(Details details) {\r\n        System.out.println(&quot;****Welcome Message Val*****&quot;+welcomeMsg);\r\n\r\n\r\n\r\nEither it fails at appconfig.class by throwing the following exception\r\n\r\n\r\n\r\n\r\n 1)     \r\n        \r\n       \r\n       org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;appConfig&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;welcome.message&#39; in value &quot;${welcome.message}&quot;\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:379)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1348)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:578)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n\tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:88)\r\n\r\n\r\n\r\n2) Or @webservice class with null value\r\n\r\nPlease help me in resolving the issue. ","title":"spring boot application(profile specific).properties returns null","body":"<p>I am trying to load profile specific property file values using springboot to my @webservice class. I followed the below steps,</p>\n\n<p>1) </p>\n\n<pre><code>created application.properties with profile to be active\nspring.profiles.active=dev\n</code></pre>\n\n<p>2) </p>\n\n<pre><code>Created application-dev.properties with following values\nusername = XXXXXXX\npassword = XXXXXXX\nhost = XXXXXXX\nport = XXXXXXX\nwelcome.message = Development\n</code></pre>\n\n<p>3) </p>\n\n<pre><code> Created @Springbootapplication class\n</code></pre>\n\n<p>4) </p>\n\n<pre><code>Created @configuration class for appconfig\n</code></pre>\n\n<p>5) Started reading values of application-dev.properties in the appconfig class using</p>\n\n<p>code:</p>\n\n<pre><code>public class AppConfig {\n@Value(\"${welcome.message}\")\n private String welcomeMsg;\n @Profile(\"dev\")\n@Bean\npublic MessageSource messageSourceDev() {\nSystem.out.println(\"****Dev Profile called*****\"+welcomeMsg);\n</code></pre>\n\n<p>when i run from spring tool suite, for the first time welcome message printed successfully in console.</p>\n\n<p>\"****Dev Profile called*****Development\"</p>\n\n<p>But when I try to read the property values from the @webservice class I created,through soap UI, </p>\n\n<p>Code:</p>\n\n<pre><code>@WebService(serviceName = \"SampleIF\", endpointInterface   = \"com.tc.services.sample.cxf.SampleIF\")\npublic class SampleIFImpl implements SampleIF {\n@Value(\"${welcome.message}\")\nprivate String welcomeMsg;\n    @Override\npublic Contact CreateContract(Details details) {\n    System.out.println(\"****Welcome Message Val*****\"+welcomeMsg);\n</code></pre>\n\n<p>Either it fails at appconfig.class by throwing the following exception</p>\n\n<p>1)     </p>\n\n<pre><code>   org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appConfig': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'welcome.message' in value \"${welcome.message}\"\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:379)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1348)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:578)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\nat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:88)\n</code></pre>\n\n<p>2) Or @webservice class with null value</p>\n\n<p>Please help me in resolving the issue. </p>\n"},{"tags":["java","generics","linked-list","nodes","doubly-linked-list"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688432286,"post_id":76605442,"comment_id":135070452,"body_markdown":"Why? Why not use one generic class for all three types?","body":"Why? Why not use one generic class for all three types?"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688413215,"creation_date":1688413215,"answer_id":76607669,"question_id":76605442,"body_markdown":"The problem is that your main code is not the same for integers as the other two types.\r\n\r\nFor integers you have this code:\r\n\r\n```\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                if (arr[i] &lt; 0) {\r\n                    break;\r\n                }\r\n                dll.insertItem(arr[i]);\r\n            } // int-input\r\n```\r\n\r\nYou don&#39;t have this `break` for the other two types, and so those loops try to insert 10000(!) entries. As soon as the loop hits the default value a second time, your linked list implementation will complain that you&#39;re trying to insert that same default value twice.\r\n\r\nI would change the logic to keep track of how many items were really read from the file (by making `i` not local to the loop, and using it to limit the above mentioned loop), or even better: use `ArrayList`.\r\n\r\nCorrected code section with `ArrayList`:\r\n\r\n```\r\n        if (str.equals(&quot;i&quot;)) {\r\n            System.out.println(&quot;int&quot;);\r\n            List&lt;Integer&gt;arr = new ArrayList&lt;&gt;(); // int-input\r\n            try {\r\n                Scanner sc = new Scanner(new File(fname));\r\n                while (sc.hasNextInt()) {\r\n                    arr.add(sc.nextInt());\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;File not found: &quot; + fname);\r\n                System.exit(1);\r\n            }\r\n            for (int value : arr) {\r\n                dll.insertItem(value);\r\n            }\r\n        }\r\n\r\n        else if (str.equals(&quot;s&quot;)) {\r\n            System.out.println(&quot;string&quot;);\r\n            List&lt;String&gt;arr = new ArrayList&lt;&gt;();\r\n            try {\r\n                Scanner sc = new Scanner(new File(fname));\r\n                while (sc.hasNextLine()) {\r\n                    arr.add(sc.nextLine());\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;File not found: &quot; + fname);\r\n                System.exit(1);\r\n            }\r\n            for (String value : arr) {\r\n                dll_s.insertItem(value);\r\n            }\r\n        }\r\n\r\n         else if (str.equals(&quot;d&quot;)) { // double input\r\n            System.out.println(&quot;double&quot;);\r\n            List&lt;Double&gt;arr = new ArrayList&lt;&gt;();\r\n            try {\r\n                Scanner sc = new Scanner(new File(fname));\r\n                while (sc.hasNextDouble()) {\r\n                    arr.add(sc.nextDouble());\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;File not found: &quot; + fname);\r\n                System.exit(1);\r\n            }\r\n            for (double value : arr) {\r\n                dll_d.insertItem(value);\r\n            }\r\n        }\r\n```\r\n \r\nIn `insertItem` there is also a little issue for when inserting in an empty list: in that case you should exit the function after having set `head` and `tail`:\r\n\r\n```\r\n    void insertItem(T item) {\r\n        Node&lt;T&gt; n = new Node&lt;&gt;();\r\n        n.data = item;\r\n        n.next = null;\r\n        n.back = null;\r\n        if (head == null) {\r\n            head = n;\r\n            tail = n;\r\n            return; // &lt;-- This was missing\r\n        }\r\n```\r\n","title":"Use generics to support three different types to make a doubly linked list","body":"<p>The problem is that your main code is not the same for integers as the other two types.</p>\n<p>For integers you have this code:</p>\n<pre><code>            for (int i = 0; i &lt; arr.length; i++) {\n                if (arr[i] &lt; 0) {\n                    break;\n                }\n                dll.insertItem(arr[i]);\n            } // int-input\n</code></pre>\n<p>You don't have this <code>break</code> for the other two types, and so those loops try to insert 10000(!) entries. As soon as the loop hits the default value a second time, your linked list implementation will complain that you're trying to insert that same default value twice.</p>\n<p>I would change the logic to keep track of how many items were really read from the file (by making <code>i</code> not local to the loop, and using it to limit the above mentioned loop), or even better: use <code>ArrayList</code>.</p>\n<p>Corrected code section with <code>ArrayList</code>:</p>\n<pre><code>        if (str.equals(&quot;i&quot;)) {\n            System.out.println(&quot;int&quot;);\n            List&lt;Integer&gt;arr = new ArrayList&lt;&gt;(); // int-input\n            try {\n                Scanner sc = new Scanner(new File(fname));\n                while (sc.hasNextInt()) {\n                    arr.add(sc.nextInt());\n                }\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;File not found: &quot; + fname);\n                System.exit(1);\n            }\n            for (int value : arr) {\n                dll.insertItem(value);\n            }\n        }\n\n        else if (str.equals(&quot;s&quot;)) {\n            System.out.println(&quot;string&quot;);\n            List&lt;String&gt;arr = new ArrayList&lt;&gt;();\n            try {\n                Scanner sc = new Scanner(new File(fname));\n                while (sc.hasNextLine()) {\n                    arr.add(sc.nextLine());\n                }\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;File not found: &quot; + fname);\n                System.exit(1);\n            }\n            for (String value : arr) {\n                dll_s.insertItem(value);\n            }\n        }\n\n         else if (str.equals(&quot;d&quot;)) { // double input\n            System.out.println(&quot;double&quot;);\n            List&lt;Double&gt;arr = new ArrayList&lt;&gt;();\n            try {\n                Scanner sc = new Scanner(new File(fname));\n                while (sc.hasNextDouble()) {\n                    arr.add(sc.nextDouble());\n                }\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;File not found: &quot; + fname);\n                System.exit(1);\n            }\n            for (double value : arr) {\n                dll_d.insertItem(value);\n            }\n        }\n</code></pre>\n<p>In <code>insertItem</code> there is also a little issue for when inserting in an empty list: in that case you should exit the function after having set <code>head</code> and <code>tail</code>:</p>\n<pre><code>    void insertItem(T item) {\n        Node&lt;T&gt; n = new Node&lt;&gt;();\n        n.data = item;\n        n.next = null;\n        n.back = null;\n        if (head == null) {\n            head = n;\n            tail = n;\n            return; // &lt;-- This was missing\n        }\n</code></pre>\n"}],"owner":{"account_id":28309993,"reputation":3,"user_id":21647393,"display_name":"tof"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688432256,"answer_count":1,"score":0,"last_activity_date":1688415448,"creation_date":1688392566,"question_id":76605442,"body_markdown":"I tried to make a doubly linked list class using generics, and make lists with three different data types (int, double, string).\r\n\r\nAs far as I know, `T` works just as a parameter for generics, and will get replaced by the datatype selected by the user. \r\n\r\nSo I created a list for the integer type first and checked that the program worked well when I used the integer data type. \r\n\r\nAfter checking it worked properly, I added two more lists which can support string and double, but I got an error. \r\n\r\n```\r\nclass DoublyLinkedList&lt;T extends Comparable&lt;T&gt;&gt; {\r\n    private Node&lt;T&gt; head;\r\n    private Node&lt;T&gt; tail;\r\n\r\n    DoublyLinkedList() {\r\n        head = null;\r\n        tail = null;\r\n    }\r\n\r\n    void insertItem(T item) {\r\n        Node&lt;T&gt; n = new Node&lt;&gt;();\r\n        n.data = item;\r\n        n.next = null;\r\n        n.back = null;\r\n        if (head == null) {\r\n            head = n;\r\n            tail = n;\r\n        }\r\n        if (item.compareTo(head.data) == 0) {\r\n            System.out.println(&quot;Item already exists&quot;);\r\n        }\r\n        if (item.compareTo(head.data) &lt; 0) {\r\n            n.next = head;\r\n            head.back = n;\r\n            head = n;\r\n            return;\r\n        }\r\n        if (item.compareTo(tail.data) &gt; 0) {\r\n            tail.next = n;\r\n            n.back = tail;\r\n            tail = n;\r\n            return;\r\n        }\r\n\r\n        Node&lt;T&gt; t = head; // t == currentPos\r\n\r\n        while (t != null &amp;&amp; item.compareTo(t.data) &gt; 0) {\r\n            t = t.next;\r\n        }\r\n        if (t.next != null &amp;&amp; item.compareTo(t.next.data) == 0) {\r\n            System.out.println(&quot;Sorry. You cannot insert the duplicate item&quot;);\r\n        } else {\r\n        Node&lt;T&gt; p = t.back;\r\n        p.next = n;\r\n        n.back = p;\r\n        n.next = t;\r\n        t.back = n;\r\n        }\r\n    }\r\n\r\n    void print() {\r\n        if (head == null) {\r\n            System.out.println(&quot;List is Empty!&quot;);\r\n        } else {\r\n            Node&lt;T&gt; t = head; // t == currentPos\r\n            while (t != null) {\r\n                System.out.print(t.data + &quot; &quot;);\r\n                t = t.next; // t == currentPos\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis  is Doubly linked list class, leaving out some unrelated methods.\r\n\r\nHere is the driver code:\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\n\r\npublic class Dlld {\r\n    public static void main(String[] args) {\r\n        DoublyLinkedList&lt;Integer&gt; dll = new DoublyLinkedList&lt;&gt;();\r\n        DoublyLinkedList&lt;Double&gt; dll_d = new DoublyLinkedList&lt;&gt;();\r\n        DoublyLinkedList&lt;String&gt; dll_s = new DoublyLinkedList&lt;&gt;();\r\n\r\n        System.out.print(&quot;Enter list type (i - integer, d - double, s - string) : &quot;);\r\n        Scanner sc_str = new Scanner (System.in);\r\n        String str = sc_str.next();\r\n        if (str.equals(&quot;i&quot;)) {\r\n            System.out.println(&quot;int&quot;);\r\n            int[] arr = new int[10000]; // int-input\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                arr[i] = -1;\r\n            }\r\n            try {\r\n                Scanner sc = new Scanner(new File(args[0]));\r\n                int i = 0;\r\n                while (sc.hasNextInt()) {\r\n                    arr[i++] = sc.nextInt();\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;File not found: &quot; + args[0]);\r\n                System.exit(1);\r\n            }\r\n\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                if (arr[i] &lt; 0) {\r\n                    break;\r\n                }\r\n                dll.insertItem(arr[i]);\r\n            } // int-input\r\n        }\r\n\r\n        else if (str.equals(&quot;s&quot;)) {\r\n            System.out.println(&quot;string&quot;);\r\n            String[] arr_s = new String[10000]; // string-input\r\n            for (int i = 0; i &lt; arr_s.length; i++) {\r\n                arr_s[i] = new String();\r\n            }\r\n            try {\r\n                Scanner sc = new Scanner(new File(args[0]));\r\n                int i = 0;\r\n                while (sc.hasNextLine()) {\r\n                    arr_s[i++] = sc.nextLine();\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;File not found: &quot; + args[0]);\r\n                System.exit(1);\r\n            }\r\n\r\n            for (int i = 0; i &lt; arr_s.length; i++) {\r\n                dll_s.insertItem(arr_s[i]);\r\n            } // string input\r\n        }\r\n\r\n         else if (str.equals(&quot;d&quot;)) { // double input\r\n            System.out.println(&quot;double&quot;);\r\n            Double[] arr_d = new Double[10000];\r\n            for (int i = 0; i &lt; arr_d.length; i++) {\r\n                arr_d[i] = -1.0;\r\n            }\r\n            try {\r\n                Scanner sc = new Scanner(new File(args[0]));\r\n                int i = 0;\r\n                while (sc.hasNextLine()) {\r\n                    arr_d[i++] = sc.nextDouble();\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;File not found: &quot; + args[0]);\r\n                System.exit(1);\r\n            }\r\n\r\n            for (int i = 0; i &lt; arr_d.length; i++) {\r\n                dll_d.insertItem(arr_d[i]);\r\n            } // double input\r\n        }\r\n\r\n        System.out.print(&quot;Enter a command:&quot;);\r\n        Scanner sc = new Scanner (System.in);\r\n        while (sc.hasNextLine()) {\r\n            String line = sc.nextLine();\r\n            String[] tokens = line.split(&quot; &quot;);\r\n            char c = tokens[0].charAt(0);\r\n\r\n            switch (c) {\r\n  \r\n                case &#39;p&#39;: {\r\n                    System.out.print(&quot;The list is : &quot;);\r\n                    if (str.equals(&quot;i&quot;)) {\r\n                        dll.print(); }\r\n\r\n                    else if (str.equals(&quot;s&quot;)) {\r\n                        dll_s.print(); }\r\n\r\n                     else if (str.equals(&quot;d&quot;)) {\r\n                        dll_d.print(); }\r\n                    System.out.println(&quot; &quot;);\r\n                    System.out.print(&quot;Enter a command:&quot;);\r\n                }\r\n                break;                \r\n\r\n                // ... other cases ... \r\n\r\n                default: {\r\n                    System.out.println(&quot;Command not found&quot;);\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n        sc.close();\r\n    }\r\n\r\n```\r\n\r\nHere, I made `if` statements to differentiate by the data type chosen by the user.\r\n\r\nAlso when the user enters &quot;p&quot; -- for &quot;print&quot; -- I used `if` statements to distinguish the three different data types.\r\n\r\nThe integer typed list (`dll`) is working fine, but for the other two types (`dll_s` and `dll_d`) the following output and error is produced:\r\n\r\n&gt; Item already exists&lt;br&gt;\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException:&lt;br&gt;\r\n&gt; Cannot assign field &quot;next&quot; because &quot;&lt;local4&gt;&quot; is null\r\n\r\nWhat is my mistake and how can I correct `insertItem()` to make it work? ","title":"Use generics to support three different types to make a doubly linked list","body":"<p>I tried to make a doubly linked list class using generics, and make lists with three different data types (int, double, string).</p>\n<p>As far as I know, <code>T</code> works just as a parameter for generics, and will get replaced by the datatype selected by the user.</p>\n<p>So I created a list for the integer type first and checked that the program worked well when I used the integer data type.</p>\n<p>After checking it worked properly, I added two more lists which can support string and double, but I got an error.</p>\n<pre><code>class DoublyLinkedList&lt;T extends Comparable&lt;T&gt;&gt; {\n    private Node&lt;T&gt; head;\n    private Node&lt;T&gt; tail;\n\n    DoublyLinkedList() {\n        head = null;\n        tail = null;\n    }\n\n    void insertItem(T item) {\n        Node&lt;T&gt; n = new Node&lt;&gt;();\n        n.data = item;\n        n.next = null;\n        n.back = null;\n        if (head == null) {\n            head = n;\n            tail = n;\n        }\n        if (item.compareTo(head.data) == 0) {\n            System.out.println(&quot;Item already exists&quot;);\n        }\n        if (item.compareTo(head.data) &lt; 0) {\n            n.next = head;\n            head.back = n;\n            head = n;\n            return;\n        }\n        if (item.compareTo(tail.data) &gt; 0) {\n            tail.next = n;\n            n.back = tail;\n            tail = n;\n            return;\n        }\n\n        Node&lt;T&gt; t = head; // t == currentPos\n\n        while (t != null &amp;&amp; item.compareTo(t.data) &gt; 0) {\n            t = t.next;\n        }\n        if (t.next != null &amp;&amp; item.compareTo(t.next.data) == 0) {\n            System.out.println(&quot;Sorry. You cannot insert the duplicate item&quot;);\n        } else {\n        Node&lt;T&gt; p = t.back;\n        p.next = n;\n        n.back = p;\n        n.next = t;\n        t.back = n;\n        }\n    }\n\n    void print() {\n        if (head == null) {\n            System.out.println(&quot;List is Empty!&quot;);\n        } else {\n            Node&lt;T&gt; t = head; // t == currentPos\n            while (t != null) {\n                System.out.print(t.data + &quot; &quot;);\n                t = t.next; // t == currentPos\n            }\n        }\n    }\n}\n</code></pre>\n<p>This  is Doubly linked list class, leaving out some unrelated methods.</p>\n<p>Here is the driver code:</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\npublic class Dlld {\n    public static void main(String[] args) {\n        DoublyLinkedList&lt;Integer&gt; dll = new DoublyLinkedList&lt;&gt;();\n        DoublyLinkedList&lt;Double&gt; dll_d = new DoublyLinkedList&lt;&gt;();\n        DoublyLinkedList&lt;String&gt; dll_s = new DoublyLinkedList&lt;&gt;();\n\n        System.out.print(&quot;Enter list type (i - integer, d - double, s - string) : &quot;);\n        Scanner sc_str = new Scanner (System.in);\n        String str = sc_str.next();\n        if (str.equals(&quot;i&quot;)) {\n            System.out.println(&quot;int&quot;);\n            int[] arr = new int[10000]; // int-input\n            for (int i = 0; i &lt; arr.length; i++) {\n                arr[i] = -1;\n            }\n            try {\n                Scanner sc = new Scanner(new File(args[0]));\n                int i = 0;\n                while (sc.hasNextInt()) {\n                    arr[i++] = sc.nextInt();\n                }\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;File not found: &quot; + args[0]);\n                System.exit(1);\n            }\n\n            for (int i = 0; i &lt; arr.length; i++) {\n                if (arr[i] &lt; 0) {\n                    break;\n                }\n                dll.insertItem(arr[i]);\n            } // int-input\n        }\n\n        else if (str.equals(&quot;s&quot;)) {\n            System.out.println(&quot;string&quot;);\n            String[] arr_s = new String[10000]; // string-input\n            for (int i = 0; i &lt; arr_s.length; i++) {\n                arr_s[i] = new String();\n            }\n            try {\n                Scanner sc = new Scanner(new File(args[0]));\n                int i = 0;\n                while (sc.hasNextLine()) {\n                    arr_s[i++] = sc.nextLine();\n                }\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;File not found: &quot; + args[0]);\n                System.exit(1);\n            }\n\n            for (int i = 0; i &lt; arr_s.length; i++) {\n                dll_s.insertItem(arr_s[i]);\n            } // string input\n        }\n\n         else if (str.equals(&quot;d&quot;)) { // double input\n            System.out.println(&quot;double&quot;);\n            Double[] arr_d = new Double[10000];\n            for (int i = 0; i &lt; arr_d.length; i++) {\n                arr_d[i] = -1.0;\n            }\n            try {\n                Scanner sc = new Scanner(new File(args[0]));\n                int i = 0;\n                while (sc.hasNextLine()) {\n                    arr_d[i++] = sc.nextDouble();\n                }\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;File not found: &quot; + args[0]);\n                System.exit(1);\n            }\n\n            for (int i = 0; i &lt; arr_d.length; i++) {\n                dll_d.insertItem(arr_d[i]);\n            } // double input\n        }\n\n        System.out.print(&quot;Enter a command:&quot;);\n        Scanner sc = new Scanner (System.in);\n        while (sc.hasNextLine()) {\n            String line = sc.nextLine();\n            String[] tokens = line.split(&quot; &quot;);\n            char c = tokens[0].charAt(0);\n\n            switch (c) {\n  \n                case 'p': {\n                    System.out.print(&quot;The list is : &quot;);\n                    if (str.equals(&quot;i&quot;)) {\n                        dll.print(); }\n\n                    else if (str.equals(&quot;s&quot;)) {\n                        dll_s.print(); }\n\n                     else if (str.equals(&quot;d&quot;)) {\n                        dll_d.print(); }\n                    System.out.println(&quot; &quot;);\n                    System.out.print(&quot;Enter a command:&quot;);\n                }\n                break;                \n\n                // ... other cases ... \n\n                default: {\n                    System.out.println(&quot;Command not found&quot;);\n                }\n            }\n            System.out.println();\n        }\n        sc.close();\n    }\n\n</code></pre>\n<p>Here, I made <code>if</code> statements to differentiate by the data type chosen by the user.</p>\n<p>Also when the user enters &quot;p&quot; -- for &quot;print&quot; -- I used <code>if</code> statements to distinguish the three different data types.</p>\n<p>The integer typed list (<code>dll</code>) is working fine, but for the other two types (<code>dll_s</code> and <code>dll_d</code>) the following output and error is produced:</p>\n<blockquote>\n<p>Item already exists<br>\nException in thread &quot;main&quot; java.lang.NullPointerException:<br>\nCannot assign field &quot;next&quot; because &quot;&quot; is null</p>\n</blockquote>\n<p>What is my mistake and how can I correct <code>insertItem()</code> to make it work?</p>\n"},{"tags":["java","android","google-play"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1688415990,"post_id":76607721,"comment_id":135068719,"body_markdown":"I would not rely on key tool, it is outdated. Use `apksigner` from Android SDK instead, it has also the option to display the signer certificate hashes.","body":"I would not rely on key tool, it is outdated. Use <code>apksigner</code> from Android SDK instead, it has also the option to display the signer certificate hashes."}],"owner":{"account_id":13304760,"reputation":53,"user_id":9605019,"display_name":"UnderCode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688413861,"creation_date":1688413861,"question_id":76607721,"body_markdown":"We need to upload our app to other app stores, so the signing key of our app must be the same in all of them so that users can update it.\r\n\r\nAt first we uploaded an app bundle and the Play Console signed it with its own key and we couldn&#39;t update it on other app stores.\r\n\r\nAt this stage, the App signing key certificate was different from the Upload key certificate.\r\n\r\nThen we generated a .zip file from the keystore file we generated with Android Studio using the pepk.jar tool and uploaded it to the Play Console in the App integrity &gt;&gt; Upgrade your app signing key section.\r\n\r\nWe generated this .zip file using the following command that was mentioned in the Play Console:\r\n\r\n$ java -jar pepk.jar --keystore=android_studio_keystore.jks --alias= android_studio_keystore_alias --output=output.zip  --signing-keystore= android_studio_keystore.jks --signing-key-alias= android_studio_keystore_alias --encryptionkey=*************\r\nTo do this, we set both keystore and signing-keystore entries to be the same as the .jks file we created with Android Studio.\r\n\r\nAt this stage, the App signing key certificate was the same as the Upload key certificate.\r\n\r\nThen we uploaded a new version of the app bundle and it was published. But we still can&#39;t update it with other apps store version because their signed key is different.\r\n\r\nWe downloaded the latest version APK from the App Bundle Explorer in the Play Console and found its certificate fingerprint using the keytool -printcert -jarfile apkfile.apk command, which was different from the certificate fingerprint displayed in the Play Console.\r\n\r\nThen, for comparison, we generated a signed APK using Android Studio and the keystore we created and viewed its certificate fingerprint with the same keytool... command. Its information is the same as the information displayed on the App integrity in the Play Console.\r\n\r\nIt seems after the upgrade signed key with java keystore, the Play Console app bundle didn&#39;t sign with the new upload key.\r\n\r\ni expecting same with java keystore","title":"App signed key did not change after Upgrade signed key playstore","body":"<p>We need to upload our app to other app stores, so the signing key of our app must be the same in all of them so that users can update it.</p>\n<p>At first we uploaded an app bundle and the Play Console signed it with its own key and we couldn't update it on other app stores.</p>\n<p>At this stage, the App signing key certificate was different from the Upload key certificate.</p>\n<p>Then we generated a .zip file from the keystore file we generated with Android Studio using the pepk.jar tool and uploaded it to the Play Console in the App integrity &gt;&gt; Upgrade your app signing key section.</p>\n<p>We generated this .zip file using the following command that was mentioned in the Play Console:</p>\n<p>$ java -jar pepk.jar --keystore=android_studio_keystore.jks --alias= android_studio_keystore_alias --output=output.zip  --signing-keystore= android_studio_keystore.jks --signing-key-alias= android_studio_keystore_alias --encryptionkey=*************\nTo do this, we set both keystore and signing-keystore entries to be the same as the .jks file we created with Android Studio.</p>\n<p>At this stage, the App signing key certificate was the same as the Upload key certificate.</p>\n<p>Then we uploaded a new version of the app bundle and it was published. But we still can't update it with other apps store version because their signed key is different.</p>\n<p>We downloaded the latest version APK from the App Bundle Explorer in the Play Console and found its certificate fingerprint using the keytool -printcert -jarfile apkfile.apk command, which was different from the certificate fingerprint displayed in the Play Console.</p>\n<p>Then, for comparison, we generated a signed APK using Android Studio and the keystore we created and viewed its certificate fingerprint with the same keytool... command. Its information is the same as the information displayed on the App integrity in the Play Console.</p>\n<p>It seems after the upgrade signed key with java keystore, the Play Console app bundle didn't sign with the new upload key.</p>\n<p>i expecting same with java keystore</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":20019973,"reputation":101,"user_id":14675131,"display_name":"Anonymous Atom"},"score":0,"creation_date":1688413755,"post_id":76607685,"comment_id":135068369,"body_markdown":"Does this answer your question? [Sort ArrayList of custom Objects by property](https://stackoverflow.com/questions/2784514/sort-arraylist-of-custom-objects-by-property)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2784514/sort-arraylist-of-custom-objects-by-property\">Sort ArrayList of custom Objects by property</a>"}],"answers":[{"tags":[],"owner":{"account_id":28906571,"reputation":4357,"user_id":22140496,"display_name":"Pluto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688413758,"creation_date":1688413758,"answer_id":76607711,"question_id":76607685,"body_markdown":"To sort a map by values in descending order, you can use the Java stream API and the Comparator interface. For example:\r\n\r\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n    for(char c : ch) {\r\n      if(map.get(c) == null) {\r\n          map.put(c, 1);\r\n      } else {\r\n        map.put(c, map.get(c)+1);\r\n      }\r\n    }\r\n    \r\n    Map&lt;Character, Integer&gt; sortedMap = map.entrySet()\r\n      .stream()\r\n      .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n      .collect(Collectors.toMap(\r\n        Map.Entry::getKey,\r\n        Map.Entry::getValue, \r\n        (e1, e2) -&gt; e1,\r\n        LinkedHashMap::new\r\n      ));\r\n    \r\n    for(Map.Entry entry : sortedMap.entrySet()) {\r\n      System.out.println(&quot;Key is  &quot;+ entry.getKey() + &quot;  Value is  &quot; + entry.getValue());\r\n    }","title":"Sort map based on values in decreasing order","body":"<p>To sort a map by values in descending order, you can use the Java stream API and the Comparator interface. For example:</p>\n<pre><code>Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\nfor(char c : ch) {\n  if(map.get(c) == null) {\n      map.put(c, 1);\n  } else {\n    map.put(c, map.get(c)+1);\n  }\n}\n\nMap&lt;Character, Integer&gt; sortedMap = map.entrySet()\n  .stream()\n  .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n  .collect(Collectors.toMap(\n    Map.Entry::getKey,\n    Map.Entry::getValue, \n    (e1, e2) -&gt; e1,\n    LinkedHashMap::new\n  ));\n\nfor(Map.Entry entry : sortedMap.entrySet()) {\n  System.out.println(&quot;Key is  &quot;+ entry.getKey() + &quot;  Value is  &quot; + entry.getValue());\n}\n</code></pre>\n"}],"owner":{"account_id":8085618,"reputation":422,"user_id":6093274,"accept_rate":33,"display_name":"priyanka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76607711,"answer_count":1,"score":0,"last_activity_date":1688413758,"creation_date":1688413386,"question_id":76607685,"body_markdown":"     Map&lt;Character, Integer&gt; map = new HashMap();\r\n            for(char c : ch) {\r\n                if(map.get(c) == null) {\r\n                    map.put(c, 1);\r\n                } else {\r\n                    map.put(c, map.get(c)+1);\r\n                }\r\n            }\r\n            for(Map.Entry entry : map.entrySet()) {\r\n                System.out.println(&quot;Key is  &quot;+ entry.getKey() + &quot;  Value is  &quot; + entry.getValue());\r\n            }\r\n\r\nI have a String str = &quot;PriyankaTaneja&quot;\r\n\r\nI want to count the frequency of characters in the String using map and i want to sort the map in decreasing order of values, that means the character repeating the max number of times should be the first to print. \r\n","title":"Sort map based on values in decreasing order","body":"<pre><code> Map&lt;Character, Integer&gt; map = new HashMap();\n        for(char c : ch) {\n            if(map.get(c) == null) {\n                map.put(c, 1);\n            } else {\n                map.put(c, map.get(c)+1);\n            }\n        }\n        for(Map.Entry entry : map.entrySet()) {\n            System.out.println(&quot;Key is  &quot;+ entry.getKey() + &quot;  Value is  &quot; + entry.getValue());\n        }\n</code></pre>\n<p>I have a String str = &quot;PriyankaTaneja&quot;</p>\n<p>I want to count the frequency of characters in the String using map and i want to sort the map in decreasing order of values, that means the character repeating the max number of times should be the first to print.</p>\n"},{"tags":["java","html","css","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688453407,"post_id":76607589,"comment_id":135072318,"body_markdown":"All URLs are secured but `/` and `/login` add the `/static/**` to the list of public accessible URLs as wsell.","body":"All URLs are secured but <code>&#47;</code> and <code>&#47;login</code> add the <code>&#47;static&#47;**</code> to the list of public accessible URLs as wsell."}],"owner":{"account_id":28943680,"reputation":1,"user_id":22169727,"display_name":"Michele"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688412263,"creation_date":1688412263,"question_id":76607589,"body_markdown":"Thank you for taking the time to read my message. I have experience with Java, but I&#39;m currently facing a new challenge with Spring and Thymeleaf. I&#39;ve been working on a login system and encountered a significant issue: I&#39;m unable to successfully call files, such as photos or CSS files, from the static folder within the HTML files located in the resources folder. The files don&#39;t load at all. I suspect that this problem might be related to login &quot;obfuscation&quot;, but I&#39;m uncertain. I&#39;ve tried various approaches to resolve it, but haven&#39;t found a solution yet. Could someone please assist me? For reference, I have provided the key classes from my project below.\r\n\r\n\r\nMvCConfig:\r\n\r\n```\r\n@Configuration\r\npublic class MvcConfig implements WebMvcConfigurer {\r\n\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;login&quot;);\r\n        registry.addViewController(&quot;/hello&quot;).setViewName(&quot;hello&quot;);\r\n        registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nWebSecConfig:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(&quot;/&quot;, &quot;/login&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .defaultSuccessUrl(&quot;/hello&quot;, true)\r\n                        .permitAll()\r\n                )\r\n                .logout((logout) -&gt; logout.permitAll());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails user =\r\n                User.withDefaultPasswordEncoder()\r\n                        .username(&quot;user&quot;)\r\n                        .password(&quot;password&quot;)\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n```\r\n\r\nLogin.html:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;EN&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Login&lt;/title&gt;\r\n  &lt;link rel=&quot;stylesheet&quot; href=&quot;../static/style/login.css&quot;\r\n        th:href=&quot;@{/style/login.css}&quot; /&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;div class=&quot;login-container&quot;&gt;\r\n  &lt;img src=&quot;../templates/imgs/bank.svg&quot; alt=&quot;TrueBank&quot;&gt;\r\n  &lt;h2&gt;TrueBank Login&lt;/h2&gt;\r\n  &lt;form id=&quot;login-form&quot; method=&quot;post&quot;&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot; placeholder=&quot;Username&quot; required&gt;\r\n    &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot; placeholder=&quot;Password&quot; required&gt;\r\n    &lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;\r\n  &lt;/form&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\n  document.getElementById(&#39;login-form&#39;).addEventListener(&#39;submit&#39;, async function(event) {\r\n    event.preventDefault();\r\n\r\n    const username = document.getElementById(&#39;username&#39;).value;\r\n    const password = document.getElementById(&#39;password&#39;).value;\r\n\r\n    try {\r\n      const response = await fetch(&#39;/login&#39;, {\r\n        method: &#39;POST&#39;,\r\n        headers: {\r\n          &#39;Content-Type&#39;: &#39;application/json&#39;\r\n        },\r\n        body: JSON.stringify({ username, password })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        // Login success\r\n        alert(data.message);\r\n        // Redirect to another page or perform other actions\r\n      } else {\r\n        // Login failure\r\n        alert(data.message);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(&#39;An error occurred&#39;);\r\n    }\r\n  });\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n[Project Structure](https://i.stack.imgur.com/mM7M9.png)\r\n\r\n\r\nI attempted to include `@{/static/style/login.css}` in my project, but unfortunately, it was incorrect. I also attempted to replace `th:href` with `href` to avoid using it, but that approach did not work either.","title":"I&#39;d like to know how to incorporate a CSS file into my Spring project that uses Thymeleaf while implementing a Login system","body":"<p>Thank you for taking the time to read my message. I have experience with Java, but I'm currently facing a new challenge with Spring and Thymeleaf. I've been working on a login system and encountered a significant issue: I'm unable to successfully call files, such as photos or CSS files, from the static folder within the HTML files located in the resources folder. The files don't load at all. I suspect that this problem might be related to login &quot;obfuscation&quot;, but I'm uncertain. I've tried various approaches to resolve it, but haven't found a solution yet. Could someone please assist me? For reference, I have provided the key classes from my project below.</p>\n<p>MvCConfig:</p>\n<pre><code>@Configuration\npublic class MvcConfig implements WebMvcConfigurer {\n\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;login&quot;);\n        registry.addViewController(&quot;/hello&quot;).setViewName(&quot;hello&quot;);\n        registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\n    }\n    \n}\n</code></pre>\n<p>WebSecConfig:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(&quot;/&quot;, &quot;/login&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .formLogin((form) -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .defaultSuccessUrl(&quot;/hello&quot;, true)\n                        .permitAll()\n                )\n                .logout((logout) -&gt; logout.permitAll());\n\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails user =\n                User.withDefaultPasswordEncoder()\n                        .username(&quot;user&quot;)\n                        .password(&quot;password&quot;)\n                        .roles(&quot;USER&quot;)\n                        .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n</code></pre>\n<p>Login.html:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;EN&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;Login&lt;/title&gt;\n  &lt;link rel=&quot;stylesheet&quot; href=&quot;../static/style/login.css&quot;\n        th:href=&quot;@{/style/login.css}&quot; /&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;div class=&quot;login-container&quot;&gt;\n  &lt;img src=&quot;../templates/imgs/bank.svg&quot; alt=&quot;TrueBank&quot;&gt;\n  &lt;h2&gt;TrueBank Login&lt;/h2&gt;\n  &lt;form id=&quot;login-form&quot; method=&quot;post&quot;&gt;\n    &lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot; placeholder=&quot;Username&quot; required&gt;\n    &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot; placeholder=&quot;Password&quot; required&gt;\n    &lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n  document.getElementById('login-form').addEventListener('submit', async function(event) {\n    event.preventDefault();\n\n    const username = document.getElementById('username').value;\n    const password = document.getElementById('password').value;\n\n    try {\n      const response = await fetch('/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ username, password })\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        // Login success\n        alert(data.message);\n        // Redirect to another page or perform other actions\n      } else {\n        // Login failure\n        alert(data.message);\n      }\n    } catch (error) {\n      console.error(error);\n      alert('An error occurred');\n    }\n  });\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mM7M9.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n<p>I attempted to include <code>@{/static/style/login.css}</code> in my project, but unfortunately, it was incorrect. I also attempted to replace <code>th:href</code> with <code>href</code> to avoid using it, but that approach did not work either.</p>\n"},{"tags":["java","json","spring","request"],"answers":[{"tags":[],"owner":{"account_id":10144817,"reputation":74,"user_id":9285431,"display_name":"Saurav Dudeja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687185103,"creation_date":1687185103,"answer_id":76507613,"question_id":76507550,"body_markdown":"You can explicitly mention request header and validate the same\r\n\r\ne.g. \r\n\r\n    @GetMapping(&quot;/action&quot;)\r\n    public ResponseEntity&lt;String&gt; doAction(@RequestHeader(&quot;Content-Type&quot;) String headerValue) {\r\n        if (!headerValue.equals(MediaType.APPLICATION_JSON_VALUE)) {\r\n            // Throw exception\r\n        }\r\n        return ResponseEntity.ok(&quot;Ok!&quot;);\r\n    }","title":"Is there a way in spring boot to override a request header on HttpServletRequest?","body":"<p>You can explicitly mention request header and validate the same</p>\n<p>e.g.</p>\n<pre><code>@GetMapping(&quot;/action&quot;)\npublic ResponseEntity&lt;String&gt; doAction(@RequestHeader(&quot;Content-Type&quot;) String headerValue) {\n    if (!headerValue.equals(MediaType.APPLICATION_JSON_VALUE)) {\n        // Throw exception\n    }\n    return ResponseEntity.ok(&quot;Ok!&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688411944,"creation_date":1687186556,"answer_id":76507825,"question_id":76507550,"body_markdown":"Create a new servlet filter that is applied before the one which troubles you. In this filter you do not pass down the original `request` instance the filter chain but instead wrap it in a `jakarta.servlet.http.HttpServletRequestWrapper` that you extend to provide your default headers if the original is missing such a header.\r\n\r\nSomething along the lines of:\r\n```\r\npublic class HeaderDefaultsRequestWrapper extends HttpServletRequestWrapper {\r\n\r\n    private final Map&lt;String, String&gt; headerDefaults;\r\n    \r\n    public HeaderDefaultsRequestWrapper(HttpServletRequest request, Map&lt;String, String&gt; headerDefaults) {\r\n        super(request);\r\n        this.headerDefaults = headerDefaults;\r\n    }\r\n    \r\n    @Override\r\n    public String getHeader(String name) {\r\n        String header = super.getHeader(name);\r\n        if (header == null) {\r\n            // Also mind header casing here\r\n            return headerDefaults.get(name);\r\n        }\r\n        return header;\r\n    }\r\n}\r\n```\r\nAlso be sure to override `getHeaderNames()` and other stuff to create a consistent extension of that wrapper class.","title":"Is there a way in spring boot to override a request header on HttpServletRequest?","body":"<p>Create a new servlet filter that is applied before the one which troubles you. In this filter you do not pass down the original <code>request</code> instance the filter chain but instead wrap it in a <code>jakarta.servlet.http.HttpServletRequestWrapper</code> that you extend to provide your default headers if the original is missing such a header.</p>\n<p>Something along the lines of:</p>\n<pre><code>public class HeaderDefaultsRequestWrapper extends HttpServletRequestWrapper {\n\n    private final Map&lt;String, String&gt; headerDefaults;\n    \n    public HeaderDefaultsRequestWrapper(HttpServletRequest request, Map&lt;String, String&gt; headerDefaults) {\n        super(request);\n        this.headerDefaults = headerDefaults;\n    }\n    \n    @Override\n    public String getHeader(String name) {\n        String header = super.getHeader(name);\n        if (header == null) {\n            // Also mind header casing here\n            return headerDefaults.get(name);\n        }\n        return header;\n    }\n}\n</code></pre>\n<p>Also be sure to override <code>getHeaderNames()</code> and other stuff to create a consistent extension of that wrapper class.</p>\n"}],"owner":{"account_id":23358723,"reputation":17,"user_id":17431300,"display_name":"Carry Flag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76507825,"answer_count":2,"score":0,"last_activity_date":1688411944,"creation_date":1687184634,"question_id":76507550,"body_markdown":"I&#39;m trying to validate when the user doesn&#39;t provide a content-type header as a header, I want to default it as application/json on the `HttpServletRequest`, is this possible? I don&#39;t see any methods that would suit that. ","title":"Is there a way in spring boot to override a request header on HttpServletRequest?","body":"<p>I'm trying to validate when the user doesn't provide a content-type header as a header, I want to default it as application/json on the <code>HttpServletRequest</code>, is this possible? I don't see any methods that would suit that.</p>\n"},{"tags":["java","html","jquery","freemarker"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688411927,"creation_date":1688411927,"answer_id":76607563,"question_id":76606820,"body_markdown":"You are on the right track and almost solved it. You need to replace `&amp;size=` with `&amp;amp;size=` (`&amp;amp;` is the HTML entity for the &quot;&amp;&quot; character).\r\n\r\nThose two lines will then become:\r\n\r\n      &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${p - 1}&amp;amp;size=${page.getSize()}&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\r\n      &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${page.getNumber()}&amp;amp;size=${c}&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;","title":"The reference to entity &quot;size&quot; must end with the &#39;;&#39; delimiter","body":"<p>You are on the right track and almost solved it. You need to replace <code>&amp;size=</code> with <code>&amp;amp;size=</code> (<code>&amp;amp;</code> is the HTML entity for the &quot;&amp;&quot; character).</p>\n<p>Those two lines will then become:</p>\n<pre><code>  &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${p - 1}&amp;amp;size=${page.getSize()}&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\n  &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${page.getNumber()}&amp;amp;size=${c}&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;\n</code></pre>\n"}],"owner":{"account_id":28141342,"reputation":1,"user_id":22068221,"display_name":"Display_name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688411927,"creation_date":1688403609,"question_id":76606820,"body_markdown":"I don&#39;t understand what the problem might be, it gives the error [Fatal error] :94:69: The reference to the &quot;size&quot; object should end with a separator &#39;;&#39;.\r\n\r\n```\r\n&lt;#macro pager url page&gt;\r\n    &lt;#if page.getTotalPages() gt 7&gt;\r\n        &lt;#assign\r\n        totalPages = page.getTotalPages()\r\n        pageNumber = page.getNumber() + 1\r\n\r\n        head = (pageNumber &gt; 4)?then([1, -1], [1, 2, 3])\r\n        tail = (pageNumber &lt; totalPages - 3)?then([-1, totalPages], [totalPages - 2, totalPages - 1, totalPages])\r\n        bodyBefore = (pageNumber &gt; 4 &amp;&amp; pageNumber &lt; totalPages - 1)?then([pageNumber - 2, pageNumber - 1], [])\r\n        bodyAfter = (pageNumber &gt; 2 &amp;&amp; pageNumber &lt; totalPages - 3)?then([pageNumber + 1, pageNumber + 2], [])\r\n\r\n        body = head + bodyBefore + (pageNumber &gt; 3 &amp;&amp; pageNumber &lt; totalPages - 2)?then([pageNumber], []) + bodyAfter + tail\r\n        &gt;\r\n    &lt;#else&gt;\r\n        &lt;#assign body = 1..page.getTotalPages()&gt;\r\n    &lt;/#if&gt;\r\n    &lt;div class=&quot;mt-3&quot;&gt;\r\n        &lt;ul class=&quot;pagination&quot;&gt;\r\n            &lt;li class=&quot;page-item disabled&quot;&gt;\r\n                &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;Страницы&lt;/a&gt;\r\n            &lt;/li&gt;\r\n            &lt;#list body as p&gt;\r\n                &lt;#if (p - 1) == page.getNumber()&gt;\r\n                    &lt;li class=&quot;page-item active&quot;&gt;\r\n                        &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                &lt;#elseif p == -1&gt;\r\n                    &lt;li class=&quot;page-item disabled&quot;&gt;\r\n                        &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;...&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                &lt;#else&gt;\r\n                    &lt;li class=&quot;page-item&quot;&gt;\r\n                        &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${p - 1}&amp;size=${page.getSize()}&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                &lt;/#if&gt;\r\n            &lt;/#list&gt;\r\n        &lt;/ul&gt;\r\n\r\n        &lt;ul class=&quot;pagination&quot;&gt;\r\n            &lt;li class=&quot;page-item disabled&quot;&gt;\r\n                &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;Элементов на странице&lt;/a&gt;\r\n            &lt;/li&gt;\r\n            &lt;#list [5, 10, 25, 50] as c&gt;\r\n                &lt;#if c == page.getSize()&gt;\r\n                    &lt;li class=&quot;page-item active&quot;&gt;\r\n                        &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                &lt;#else&gt;\r\n                    &lt;li class=&quot;page-item&quot;&gt;\r\n                        &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${page.getNumber()}&amp;size=${c}&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                &lt;/#if&gt;\r\n            &lt;/#list&gt;\r\n        &lt;/ul&gt;\r\n    &lt;/div&gt;\r\n&lt;/#macro&gt;\r\n```\r\n\r\n```\r\n\r\nimport com.example.Sweater.controller.MessageController;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.security.test.context.support.WithUserDetails;\r\nimport org.springframework.test.context.TestPropertySource;\r\nimport org.springframework.test.context.jdbc.Sql;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.request.MockHttpServletRequestBuilder;\r\n\r\nimport static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.csrf;\r\nimport static org.springframework.security.test.web.servlet.response.SecurityMockMvcResultMatchers.authenticated;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.multipart;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.xpath;\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n//@TestPropertySource(&quot;/application-test.properties&quot;)\r\n//@Sql(value = {&quot;/create-user-before.sql&quot;, &quot;/messages-list-before.sql&quot;}, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\r\n//@Sql(value = {&quot;/messages-list-after.sql&quot;, &quot;/create-user-after.sql&quot;}, executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\r\n@WithUserDetails(value = &quot;admin2&quot;)\r\npublic class MessageControllerTest {\r\n    @Autowired\r\n    private MessageController controller;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    public void mainPageTest() throws Exception {\r\n        this.mockMvc.perform(get(&quot;/main&quot;))\r\n                .andDo(print())\r\n                .andExpect(authenticated()) \r\n                .andExpect(xpath(&quot;//div[@id=&#39;navbarSupportedContent&#39;]/div&quot;).string(&quot;admin2&quot;));\r\n    }\r\n```\r\n\r\n\r\nThese are two lines in which size is used-----------&gt;&gt;&gt;&gt;&gt;\r\n```\r\n  &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${p - 1}&amp;size=${page.getSize()}&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\r\n&lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${page.getNumber()}&amp;size=${c}&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;\r\n```\r\n\r\n\r\n\r\nI noticed &amp; on &amp;amp, but it didn&#39;t help because it made me write the error [Fatal error] :94:69: The reference to the &quot;ampsize&quot; object should end with a separator &#39;;&#39;.","title":"The reference to entity &quot;size&quot; must end with the &#39;;&#39; delimiter","body":"<p>I don't understand what the problem might be, it gives the error [Fatal error] :94:69: The reference to the &quot;size&quot; object should end with a separator ';'.</p>\n<pre><code>&lt;#macro pager url page&gt;\n    &lt;#if page.getTotalPages() gt 7&gt;\n        &lt;#assign\n        totalPages = page.getTotalPages()\n        pageNumber = page.getNumber() + 1\n\n        head = (pageNumber &gt; 4)?then([1, -1], [1, 2, 3])\n        tail = (pageNumber &lt; totalPages - 3)?then([-1, totalPages], [totalPages - 2, totalPages - 1, totalPages])\n        bodyBefore = (pageNumber &gt; 4 &amp;&amp; pageNumber &lt; totalPages - 1)?then([pageNumber - 2, pageNumber - 1], [])\n        bodyAfter = (pageNumber &gt; 2 &amp;&amp; pageNumber &lt; totalPages - 3)?then([pageNumber + 1, pageNumber + 2], [])\n\n        body = head + bodyBefore + (pageNumber &gt; 3 &amp;&amp; pageNumber &lt; totalPages - 2)?then([pageNumber], []) + bodyAfter + tail\n        &gt;\n    &lt;#else&gt;\n        &lt;#assign body = 1..page.getTotalPages()&gt;\n    &lt;/#if&gt;\n    &lt;div class=&quot;mt-3&quot;&gt;\n        &lt;ul class=&quot;pagination&quot;&gt;\n            &lt;li class=&quot;page-item disabled&quot;&gt;\n                &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;Страницы&lt;/a&gt;\n            &lt;/li&gt;\n            &lt;#list body as p&gt;\n                &lt;#if (p - 1) == page.getNumber()&gt;\n                    &lt;li class=&quot;page-item active&quot;&gt;\n                        &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;#elseif p == -1&gt;\n                    &lt;li class=&quot;page-item disabled&quot;&gt;\n                        &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;...&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;#else&gt;\n                    &lt;li class=&quot;page-item&quot;&gt;\n                        &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${p - 1}&amp;size=${page.getSize()}&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;/#if&gt;\n            &lt;/#list&gt;\n        &lt;/ul&gt;\n\n        &lt;ul class=&quot;pagination&quot;&gt;\n            &lt;li class=&quot;page-item disabled&quot;&gt;\n                &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;Элементов на странице&lt;/a&gt;\n            &lt;/li&gt;\n            &lt;#list [5, 10, 25, 50] as c&gt;\n                &lt;#if c == page.getSize()&gt;\n                    &lt;li class=&quot;page-item active&quot;&gt;\n                        &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;#else&gt;\n                    &lt;li class=&quot;page-item&quot;&gt;\n                        &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${page.getNumber()}&amp;size=${c}&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;/#if&gt;\n            &lt;/#list&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/#macro&gt;\n</code></pre>\n<pre><code>\nimport com.example.Sweater.controller.MessageController;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.security.test.context.support.WithUserDetails;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.jdbc.Sql;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.request.MockHttpServletRequestBuilder;\n\nimport static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.csrf;\nimport static org.springframework.security.test.web.servlet.response.SecurityMockMvcResultMatchers.authenticated;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.multipart;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.xpath;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\n//@TestPropertySource(&quot;/application-test.properties&quot;)\n//@Sql(value = {&quot;/create-user-before.sql&quot;, &quot;/messages-list-before.sql&quot;}, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\n//@Sql(value = {&quot;/messages-list-after.sql&quot;, &quot;/create-user-after.sql&quot;}, executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\n@WithUserDetails(value = &quot;admin2&quot;)\npublic class MessageControllerTest {\n    @Autowired\n    private MessageController controller;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void mainPageTest() throws Exception {\n        this.mockMvc.perform(get(&quot;/main&quot;))\n                .andDo(print())\n                .andExpect(authenticated()) \n                .andExpect(xpath(&quot;//div[@id='navbarSupportedContent']/div&quot;).string(&quot;admin2&quot;));\n    }\n</code></pre>\n<p>These are two lines in which size is used-----------&gt;&gt;&gt;&gt;&gt;</p>\n<pre><code>  &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${p - 1}&amp;size=${page.getSize()}&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\n&lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${page.getNumber()}&amp;size=${c}&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;\n</code></pre>\n<p>I noticed &amp; on &amp;amp, but it didn't help because it made me write the error [Fatal error] :94:69: The reference to the &quot;ampsize&quot; object should end with a separator ';'.</p>\n"},{"tags":["java","maven","testng","extentreports","selenium-java"],"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688411907,"creation_date":1688399243,"question_id":76606328,"body_markdown":"I have a method called in my `@AfterMethod` in TestNG attempting to gather the counts of tests passed/failed/skipped, and in `@AfterSuite` printing out the counts. This also includes setting custom extent report status. When I run the Test Suite, I am getting a different count from `ITestResult` versus what is there in the logs (using maven surefire plugin).  See below the method and the difference in counts:\r\n\r\n`@AfterMethod`:\r\n```java\r\n@AfterMethod\r\npublic void closure(ITestResult res) {\r\n\tsuccess = 0;\r\n\tfailed = 0;\r\n\tskipped = 0;\r\n\r\n\tif (res.getStatus() == ITestResult.FAILURE) {\r\n\t\tString failScreenshotPath = ExtentCustom.getScreenshot(res.getName());\r\n\t\tExtentCustom.eachTest.log(Status.FAIL, ExtentCustom.getFailFont(&quot;Snapshot below : &quot; + res.getThrowable()),\r\n\t\t\t\tMediaEntityBuilder.createScreenCaptureFromPath(failScreenshotPath).build());\r\n\t\tfailed = res.getTestContext().getFailedTests().size();\r\n\t\tfailed++;\r\n\t} else if (res.getStatus() == ITestResult.SUCCESS) {\r\n\t\tString passScreenshotPath = ExtentCustom.getScreenshot(res.getName());\r\n\t\tExtentCustom.eachTest.log(Status.PASS, ExtentCustom.getPassFont(&quot;Snapshot below : &quot;),\r\n\t\t\t\tMediaEntityBuilder.createScreenCaptureFromPath(passScreenshotPath).build());\r\n\t\tsuccess = res.getTestContext().getPassedTests().size();\r\n\t\tsuccess++;\r\n\t} else {\r\n\t\tif (res.getStatus() == ITestResult.SKIP) {\r\n\t\t\tExtentCustom.eachTest.log(Status.SKIP, ExtentCustom.getInfoFont(&quot;Test Skipped&quot;));\r\n\t\t\tskipped = res.getTestContext().getSkippedTests().size();\r\n\t\t\tskipped++;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n`@AfterSuite` method:\r\n```java\r\n@AfterSuite\r\npublic void reportFlush() throws IOException, InterruptedException {\r\n\tExtentCustom.reportClosure();\r\n\tint total = success + failed + skipped;\r\n\tSystem.out.println(&quot;Total: &quot; + total + System.lineSeparator() + &quot;Passed: &quot; + success + System.lineSeparator()\r\n\t\t\t+ &quot;Failed: &quot; + failed + System.lineSeparator() + &quot;Skipped: &quot; + skipped);\r\n}\r\n```\r\n\r\nLogs:\r\n```\r\nTotal: 71\r\nPassed: 71\r\nFailed: 0\r\nSkipped: 0\r\n[ERROR] Tests run: 71, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 179.7 s &lt;&lt;&lt; FAILURE! -- in TestSuite\r\n```\r\n\r\nIs there a reason for the count difference?  The failure is coming from Selenium, but it seems to be disconnected from the TestNG result.  Please let me know for any suggestions.","title":"ITestResult Success/Failed/Skip Counts different from count in TestSuite","body":"<p>I have a method called in my <code>@AfterMethod</code> in TestNG attempting to gather the counts of tests passed/failed/skipped, and in <code>@AfterSuite</code> printing out the counts. This also includes setting custom extent report status. When I run the Test Suite, I am getting a different count from <code>ITestResult</code> versus what is there in the logs (using maven surefire plugin).  See below the method and the difference in counts:</p>\n<p><code>@AfterMethod</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AfterMethod\npublic void closure(ITestResult res) {\n    success = 0;\n    failed = 0;\n    skipped = 0;\n\n    if (res.getStatus() == ITestResult.FAILURE) {\n        String failScreenshotPath = ExtentCustom.getScreenshot(res.getName());\n        ExtentCustom.eachTest.log(Status.FAIL, ExtentCustom.getFailFont(&quot;Snapshot below : &quot; + res.getThrowable()),\n                MediaEntityBuilder.createScreenCaptureFromPath(failScreenshotPath).build());\n        failed = res.getTestContext().getFailedTests().size();\n        failed++;\n    } else if (res.getStatus() == ITestResult.SUCCESS) {\n        String passScreenshotPath = ExtentCustom.getScreenshot(res.getName());\n        ExtentCustom.eachTest.log(Status.PASS, ExtentCustom.getPassFont(&quot;Snapshot below : &quot;),\n                MediaEntityBuilder.createScreenCaptureFromPath(passScreenshotPath).build());\n        success = res.getTestContext().getPassedTests().size();\n        success++;\n    } else {\n        if (res.getStatus() == ITestResult.SKIP) {\n            ExtentCustom.eachTest.log(Status.SKIP, ExtentCustom.getInfoFont(&quot;Test Skipped&quot;));\n            skipped = res.getTestContext().getSkippedTests().size();\n            skipped++;\n        }\n    }\n}\n</code></pre>\n<p><code>@AfterSuite</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AfterSuite\npublic void reportFlush() throws IOException, InterruptedException {\n    ExtentCustom.reportClosure();\n    int total = success + failed + skipped;\n    System.out.println(&quot;Total: &quot; + total + System.lineSeparator() + &quot;Passed: &quot; + success + System.lineSeparator()\n            + &quot;Failed: &quot; + failed + System.lineSeparator() + &quot;Skipped: &quot; + skipped);\n}\n</code></pre>\n<p>Logs:</p>\n<pre><code>Total: 71\nPassed: 71\nFailed: 0\nSkipped: 0\n[ERROR] Tests run: 71, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 179.7 s &lt;&lt;&lt; FAILURE! -- in TestSuite\n</code></pre>\n<p>Is there a reason for the count difference?  The failure is coming from Selenium, but it seems to be disconnected from the TestNG result.  Please let me know for any suggestions.</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":6331664,"reputation":526,"user_id":4916419,"accept_rate":71,"display_name":"AyoubMK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688411784,"creation_date":1688399732,"question_id":76606388,"body_markdown":"I have an Interceptor to log the request of each HTTP request:\r\n\r\n    @ControllerAdvice\r\n    public class RequestBodyInterceptor extends RequestBodyAdviceAdapter {\r\n\r\n    @Autowired\r\n    LoggingService logService;\r\n\r\n    @Autowired\r\n    HttpServletRequest request;\r\n\r\n    @Override\r\n    public Object afterBodyRead(Object body, HttpInputMessage inputMessage, MethodParameter parameter, Type targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n        logService.displayReq(request,body);\r\n        return super.afterBodyRead(body, inputMessage, parameter, targetType, converterType);\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(MethodParameter methodParameter, Type targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\nTo configure which package can intercept, I added the `basePackages` attribute to `@ControllerAdvice` annotation with a value which I got from properties file:\r\n\r\n    @ControllerAdvice(basePackages = {&quot;${log.logged-packages}&quot;})\r\n\r\nWhen I put the package of my controllers it&#39;s work and I didn&#39;t see logs for the actuator/health endpoint :\r\n\r\n    log.logged-packages=com.my.package\r\n\r\nBut when I change the value to a list or just put the `org.springframework` package, I can&#39;t see any log of actuator calls :\r\n\r\n    log.logged-packages=org.springframework.boot.actuate\r\n\r\nOr \r\n\r\n    log.logged-packages=org.springframework.boot.actuate, com.my.package\r\n\r\nAny ideas, please?","title":"ControllerAdvice does not work with actuator/health","body":"<p>I have an Interceptor to log the request of each HTTP request:</p>\n<pre><code>@ControllerAdvice\npublic class RequestBodyInterceptor extends RequestBodyAdviceAdapter {\n\n@Autowired\nLoggingService logService;\n\n@Autowired\nHttpServletRequest request;\n\n@Override\npublic Object afterBodyRead(Object body, HttpInputMessage inputMessage, MethodParameter parameter, Type targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n    logService.displayReq(request,body);\n    return super.afterBodyRead(body, inputMessage, parameter, targetType, converterType);\n}\n\n@Override\npublic boolean supports(MethodParameter methodParameter, Type targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n    return true;\n}\n</code></pre>\n<p>}</p>\n<p>To configure which package can intercept, I added the <code>basePackages</code> attribute to <code>@ControllerAdvice</code> annotation with a value which I got from properties file:</p>\n<pre><code>@ControllerAdvice(basePackages = {&quot;${log.logged-packages}&quot;})\n</code></pre>\n<p>When I put the package of my controllers it's work and I didn't see logs for the actuator/health endpoint :</p>\n<pre><code>log.logged-packages=com.my.package\n</code></pre>\n<p>But when I change the value to a list or just put the <code>org.springframework</code> package, I can't see any log of actuator calls :</p>\n<pre><code>log.logged-packages=org.springframework.boot.actuate\n</code></pre>\n<p>Or</p>\n<pre><code>log.logged-packages=org.springframework.boot.actuate, com.my.package\n</code></pre>\n<p>Any ideas, please?</p>\n"},{"tags":["java","javafx","junit"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1688365418,"post_id":76599753,"comment_id":135059154,"body_markdown":"As far as I know, node-focus has no meaning in JavaFX without the context of a `Scene`. Have you considered adding your slider to a `Scene` for the test?","body":"As far as I know, node-focus has no meaning in JavaFX without the context of a <code>Scene</code>. Have you considered adding your slider to a <code>Scene</code> for the test?"},{"owner":{"account_id":8599275,"reputation":707,"user_id":7399705,"accept_rate":71,"display_name":"Limmy"},"score":0,"creation_date":1688376028,"post_id":76599753,"comment_id":135061087,"body_markdown":"you mean to create some TestScene in test code and add a myPane.getSlider() to a Scene directly?","body":"you mean to create some TestScene in test code and add a myPane.getSlider() to a Scene directly?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1688386382,"post_id":76599753,"comment_id":135063022,"body_markdown":"What are you really trying to test here? If you’re testing whether your `doSmth()` method works, just invoke it. If you’re testing whether your listener gets invoked when the focus changes, then that seems to be a test of the FX library code, which surely is not the job of your unit test.","body":"What are you really trying to test here? If you’re testing whether your <code>doSmth()</code> method works, just invoke it. If you’re testing whether your listener gets invoked when the focus changes, then that seems to be a test of the FX library code, which surely is not the job of your unit test."},{"owner":{"account_id":8599275,"reputation":707,"user_id":7399705,"accept_rate":71,"display_name":"Limmy"},"score":0,"creation_date":1688388807,"post_id":76599753,"comment_id":135063504,"body_markdown":"@JamesD, I&#39;m testing that this listener is present and it does call `doSmth()` (with Mockito, nevermind). But there&#39;s no way to fetch all listeners using the javaFX API, that&#39;s why i.e. for buttons we call fireEvent(MouseClickedEvent) in unit tests to verify .onMouseClick(...) does some specific login. Same idea for Slider but here we have no event listener but focusListener and it&#39;s hard to emulate in unit tests","body":"@JamesD, I&#39;m testing that this listener is present and it does call <code>doSmth()</code> (with Mockito, nevermind). But there&#39;s no way to fetch all listeners using the javaFX API, that&#39;s why i.e. for buttons we call fireEvent(MouseClickedEvent) in unit tests to verify .onMouseClick(...) does some specific login. Same idea for Slider but here we have no event listener but focusListener and it&#39;s hard to emulate in unit tests"}],"answers":[{"tags":[],"owner":{"account_id":8599275,"reputation":707,"user_id":7399705,"accept_rate":71,"display_name":"Limmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688411679,"creation_date":1688411679,"answer_id":76607539,"question_id":76599753,"body_markdown":"Seems there&#39;s no other way except to use the reflection here. Even when add a Slider to a Scene created in test method, and invoke `requestFocus()` later it indeed set slider as a focusOwner but doesn&#39;t trigger a focusProperty listener.\r\n\r\nSo I reached what I wanted with next code:\r\n\r\n    @Test\r\n        public void myTest() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n            List&lt;Node&gt; sliderList = myPane.getChildren().filtered(node -&gt; node.getClass().equals(Slider.class));\r\n            Assertions.assertEquals(1, sliderList.size());\r\n    \r\n            Slider slider = (Slider) sliderList.get(0);\r\n    \r\n            Method m = Node.class.getDeclaredMethod(&quot;setFocused&quot;, boolean.class);\r\n            m.setAccessible(true);\r\n            m.invoke(slider, true);\r\n    \r\n            double newXmxValue = 2 * slider.getValue(); //double the default value !=0\r\n            slider.setValue(newXmxValue);\r\n    \r\n            m.invoke(slider, false);\r\n    \r\n            Mockito.verify(controllerMock).doSmth();\r\n        }","title":"JavaFX manually trigger FocusLost event for testing Slider listener","body":"<p>Seems there's no other way except to use the reflection here. Even when add a Slider to a Scene created in test method, and invoke <code>requestFocus()</code> later it indeed set slider as a focusOwner but doesn't trigger a focusProperty listener.</p>\n<p>So I reached what I wanted with next code:</p>\n<pre><code>@Test\n    public void myTest() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n        List&lt;Node&gt; sliderList = myPane.getChildren().filtered(node -&gt; node.getClass().equals(Slider.class));\n        Assertions.assertEquals(1, sliderList.size());\n\n        Slider slider = (Slider) sliderList.get(0);\n\n        Method m = Node.class.getDeclaredMethod(&quot;setFocused&quot;, boolean.class);\n        m.setAccessible(true);\n        m.invoke(slider, true);\n\n        double newXmxValue = 2 * slider.getValue(); //double the default value !=0\n        slider.setValue(newXmxValue);\n\n        m.invoke(slider, false);\n\n        Mockito.verify(controllerMock).doSmth();\n    }\n</code></pre>\n"}],"owner":{"account_id":8599275,"reputation":707,"user_id":7399705,"accept_rate":71,"display_name":"Limmy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688411679,"creation_date":1688314021,"question_id":76599753,"body_markdown":"I have a Slider on my Pane with listener on focus property to do some logic only when value change is finished and focus is lost:\r\n\r\n\r\n    public class MyPane extends GridPane {\r\n        private Slider mySlider;\r\n        public MyPane () {\r\n            this.mySlider= new Slider(...);\r\n            this.mySlider.focusedProperty().addListener(e -&gt; {\r\n                if (!mySlider.isFocused()) {\r\n                    doSmth();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nIt works well but I don&#39;t see how to cover this logic with unit tests.\r\n\r\nSince the focusProperty is ReadOnly I don&#39;t see how to manually change it&#39;s value to trigger the listener in unit tests:\r\n\r\n    @Test\r\n        public void settingsPaneHasRAMSlider() {\r\n            List&lt;Node&gt; sliderList = myPane.getChildren().filtered(node -&gt; node.getClass().equals(Slider.class));\r\n            Assertions.assertEquals(1, sliderList.size());\r\n    \r\n            Slider slider = (Slider) sliderList.get(0);\r\n    \r\n            slider.fireEvent(/* FOCUS AND UNFOCUSSED EVENT? */);\r\n\r\n            Mockito.verify(myMock).doSmth();\r\n        }\r\n\r\nI tried with mouse click and manually change the slider value in test code, but it doesn&#39;t trigger the InvalidationListener I added to the focusProperty of my slider. Also I tried with `slider.requestFocus();` and `myPane.requestFocus()` later but since it&#39;s a unit test, there&#39;s no Stage/Scene and therefore requestFocus doesn&#39;t do anything.\r\n\r\n\r\nDo you know how to emulate the focus changed? ","title":"JavaFX manually trigger FocusLost event for testing Slider listener","body":"<p>I have a Slider on my Pane with listener on focus property to do some logic only when value change is finished and focus is lost:</p>\n<pre><code>public class MyPane extends GridPane {\n    private Slider mySlider;\n    public MyPane () {\n        this.mySlider= new Slider(...);\n        this.mySlider.focusedProperty().addListener(e -&gt; {\n            if (!mySlider.isFocused()) {\n                doSmth();\n            }\n        });\n    }\n}\n</code></pre>\n<p>It works well but I don't see how to cover this logic with unit tests.</p>\n<p>Since the focusProperty is ReadOnly I don't see how to manually change it's value to trigger the listener in unit tests:</p>\n<pre><code>@Test\n    public void settingsPaneHasRAMSlider() {\n        List&lt;Node&gt; sliderList = myPane.getChildren().filtered(node -&gt; node.getClass().equals(Slider.class));\n        Assertions.assertEquals(1, sliderList.size());\n\n        Slider slider = (Slider) sliderList.get(0);\n\n        slider.fireEvent(/* FOCUS AND UNFOCUSSED EVENT? */);\n\n        Mockito.verify(myMock).doSmth();\n    }\n</code></pre>\n<p>I tried with mouse click and manually change the slider value in test code, but it doesn't trigger the InvalidationListener I added to the focusProperty of my slider. Also I tried with <code>slider.requestFocus();</code> and <code>myPane.requestFocus()</code> later but since it's a unit test, there's no Stage/Scene and therefore requestFocus doesn't do anything.</p>\n<p>Do you know how to emulate the focus changed?</p>\n"},{"tags":["java","hibernate","jpa","transactions","rollback"],"owner":{"account_id":28781059,"reputation":11,"user_id":22042680,"display_name":"Adil Testelin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688411674,"creation_date":1688411244,"question_id":76607508,"body_markdown":"Given this top level function : \r\n\r\n```\r\n  @Override\r\n  @Transactional\r\n  public MoveAndBlockStockResponseDto moveAndBlock(final String locationId, final String userId, final String systemId,\r\n                                                   final MoveAndBlockStockRequestDto moveAndBlockStockRequestDto) {\r\n\r\n    final var movements = moveAndBlockStockRequestDto.getMovements();\r\n\r\n    // Address fetching from requestBody\r\n    final List&lt;String&gt; addressesSource = movements.stream()\r\n        .filter(it -&gt; BIN_SOURCE.equals(it.getSourceType()))\r\n        .map(MoveAndBlockRequestObjectDto::getSource).toList();\r\n\r\n    final List&lt;String&gt; addressesTarget = movements.stream()\r\n        .filter(it -&gt; BIN_TARGET.equals(it.getTargetType()))\r\n        .map(MoveAndBlockRequestObjectDto::getTarget).toList();\r\n\r\n    final var addresses = Stream.of(addressesSource, addressesTarget).flatMap(Collection::stream).toList();\r\n\r\n    // Container fetching from requestBody\r\n    final List&lt;String&gt; containerSource = movements.stream()\r\n        .filter(it -&gt; SSCC_SOURCE.equals(it.getSourceType()))\r\n        .map(MoveAndBlockRequestObjectDto::getSource).toList();\r\n\r\n    final List&lt;String&gt; containerTarget = movements.stream()\r\n        .filter(it -&gt; SSCC_TARGET.equals(it.getTargetType()))\r\n        .map(MoveAndBlockRequestObjectDto::getTarget).toList();\r\n\r\n    final var containers = Stream.of(containerSource, containerTarget).flatMap(Collection::stream).toList();\r\n\r\n    // Conversion to DTO\r\n    final Map&lt;String, AddressV2&gt; addressV2Map =\r\n        customAddressV2Repository.findAddressesWithAll(locationId, addresses).stream()\r\n            .collect(Collectors.toMap(addressV2 -&gt; addressV2.getId().getAddressId(), Function.identity()));\r\n\r\n    final Map&lt;String, ContainerV2&gt; containerV2Map =\r\n        customContainerV2Repository.findContainerWithAll(locationId, containers).stream()\r\n            .collect(Collectors.toMap(containerV2 -&gt; containerV2.getId().getSscc(), Function.identity()));\r\n\r\n    // Validation before performing update\r\n    final MoveAndBlockDto moveAndBlockDto =\r\n        validateMoveAndBlock(moveAndBlockStockRequestDto, addressV2Map, containerV2Map);\r\n\r\n    final MoveAndBlockStockResponseDto response =\r\n        performMoveAndBlock(locationId, userId, systemId, moveAndBlockDto, addressV2Map, containerV2Map);\r\n    moveAndBlockDto.getErrors().forEach(error -&gt; response.getErrors().add(error));\r\n\r\n    return stockMapper.toMoveAndBlockStockResponseDto(response);\r\n  }\r\n```\r\n\r\nThis method is calling performMoveAndBlock method, such as : \r\n           \r\n```\r\n  public MoveAndBlockStockResponseDto performMoveAndBlock(final String locationId, final String userId,\r\n                                                          final String systemId,\r\n                                                          final MoveAndBlockDto moveAndBlockDto,\r\n                                                          final Map&lt;String, AddressV2&gt; addresses,\r\n                                                          final Map&lt;String, ContainerV2&gt; containers) {\r\n\r\n    final MoveAndBlockStockResponseDto response = new MoveAndBlockStockResponseDto();\r\n    final List&lt;MoveAndBlockResponseObjectDto&gt; success = new ArrayList&lt;&gt;();\r\n    final List&lt;ErrorMoveAndBlockDto&gt; errors = new ArrayList&lt;&gt;();\r\n\r\n    moveAndBlockDto.getStocks().forEach(\r\n        stock -&gt; {\r\n          try {\r\n            updateStockClass.updateStock(locationId, userId, systemId, addresses, containers, success, errors, stock);\r\n          } catch (Exception e) {\r\n            errors.add(errorMoveAndBlockDtoMapper.setErrors(e.getClass().getSimpleName(), e.getMessage(), stock));          }\r\n        }\r\n    );\r\n\r\n    response.setStocks(success);\r\n    response.setErrors(errors);\r\n    return response;\r\n  }\r\n```\r\n\r\nWhich is calling this method, in another class so the @Transactional annotation can work : \r\n\r\n```\r\n@Transactional(propagation = Propagation.REQUIRES_NEW)\r\npublic void updateStock(String locationId, String userId, String systemId, Map&lt;String, AddressV2&gt; addresses,\r\n                   Map&lt;String, ContainerV2&gt; containers, List&lt;MoveAndBlockResponseObjectDto&gt; success,\r\n                   List&lt;ErrorMoveAndBlockDto&gt; errors, MoveAndBlockRequestObjectDto stock) {\r\n      // Case when source is an address &amp;&amp; target is an address\r\n      if (isSourceAnAddress(stock.getSourceType()) &amp;&amp; isTargetAnAddress(stock.getTargetType())) {\r\n        updateStockAtAddressSource(addresses, stock);\r\n        success.add(updateStockAtAddressTarget(locationId, userId, systemId, addresses, containers, stock));\r\n      }\r\n      // Case when source is a container &amp;&amp; target is an address\r\n      else if (isSourceAContainer(stock.getSourceType()) &amp;&amp; isTargetAnAddress(stock.getTargetType())) {\r\n        updateStockAtContainerSource(containers, stock);\r\n        success.add(updateStockAtAddressTarget(locationId, userId, systemId, addresses, containers, stock));\r\n      }\r\n      // Case when source is an address &amp;&amp; target is a container\r\n      else if (isSourceAnAddress(stock.getSourceType()) &amp;&amp; isTargetAContainer(stock.getTargetType())) {\r\n        updateStockAtAddressSource(addresses, stock);\r\n        success.add(updateStockAtContainerTarget(locationId, userId, systemId, containers, stock));\r\n      }\r\n      // Case when source is a container &amp;&amp; target os a container\r\n      else if (isSourceAContainer(stock.getSourceType()) &amp;&amp; isTargetAContainer(stock.getTargetType())) {\r\n        updateStockAtContainerSource(containers, stock);\r\n        success.add(updateStockAtContainerTarget(locationId, userId, systemId, containers, stock));\r\n      }\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nWhat I want is that if an exception occurs in one of the two methods of an if statement, it rollbacks the operations made in database ONLY for one stock processed into the forEach method. \r\n\r\nTo be honest, I don&#39;t understand why the rollback is not performed (I purposedly launched a NPE into the function `updateStockAtContainerTarget`, what I can see is that an error is thrown but the changes in database performed by the `updateStockAtAddressSource` is not rollback in database. ","title":"Transaction rollback management into forEach with nested try/catch","body":"<p>Given this top level function :</p>\n<pre><code>  @Override\n  @Transactional\n  public MoveAndBlockStockResponseDto moveAndBlock(final String locationId, final String userId, final String systemId,\n                                                   final MoveAndBlockStockRequestDto moveAndBlockStockRequestDto) {\n\n    final var movements = moveAndBlockStockRequestDto.getMovements();\n\n    // Address fetching from requestBody\n    final List&lt;String&gt; addressesSource = movements.stream()\n        .filter(it -&gt; BIN_SOURCE.equals(it.getSourceType()))\n        .map(MoveAndBlockRequestObjectDto::getSource).toList();\n\n    final List&lt;String&gt; addressesTarget = movements.stream()\n        .filter(it -&gt; BIN_TARGET.equals(it.getTargetType()))\n        .map(MoveAndBlockRequestObjectDto::getTarget).toList();\n\n    final var addresses = Stream.of(addressesSource, addressesTarget).flatMap(Collection::stream).toList();\n\n    // Container fetching from requestBody\n    final List&lt;String&gt; containerSource = movements.stream()\n        .filter(it -&gt; SSCC_SOURCE.equals(it.getSourceType()))\n        .map(MoveAndBlockRequestObjectDto::getSource).toList();\n\n    final List&lt;String&gt; containerTarget = movements.stream()\n        .filter(it -&gt; SSCC_TARGET.equals(it.getTargetType()))\n        .map(MoveAndBlockRequestObjectDto::getTarget).toList();\n\n    final var containers = Stream.of(containerSource, containerTarget).flatMap(Collection::stream).toList();\n\n    // Conversion to DTO\n    final Map&lt;String, AddressV2&gt; addressV2Map =\n        customAddressV2Repository.findAddressesWithAll(locationId, addresses).stream()\n            .collect(Collectors.toMap(addressV2 -&gt; addressV2.getId().getAddressId(), Function.identity()));\n\n    final Map&lt;String, ContainerV2&gt; containerV2Map =\n        customContainerV2Repository.findContainerWithAll(locationId, containers).stream()\n            .collect(Collectors.toMap(containerV2 -&gt; containerV2.getId().getSscc(), Function.identity()));\n\n    // Validation before performing update\n    final MoveAndBlockDto moveAndBlockDto =\n        validateMoveAndBlock(moveAndBlockStockRequestDto, addressV2Map, containerV2Map);\n\n    final MoveAndBlockStockResponseDto response =\n        performMoveAndBlock(locationId, userId, systemId, moveAndBlockDto, addressV2Map, containerV2Map);\n    moveAndBlockDto.getErrors().forEach(error -&gt; response.getErrors().add(error));\n\n    return stockMapper.toMoveAndBlockStockResponseDto(response);\n  }\n</code></pre>\n<p>This method is calling performMoveAndBlock method, such as :</p>\n<pre><code>  public MoveAndBlockStockResponseDto performMoveAndBlock(final String locationId, final String userId,\n                                                          final String systemId,\n                                                          final MoveAndBlockDto moveAndBlockDto,\n                                                          final Map&lt;String, AddressV2&gt; addresses,\n                                                          final Map&lt;String, ContainerV2&gt; containers) {\n\n    final MoveAndBlockStockResponseDto response = new MoveAndBlockStockResponseDto();\n    final List&lt;MoveAndBlockResponseObjectDto&gt; success = new ArrayList&lt;&gt;();\n    final List&lt;ErrorMoveAndBlockDto&gt; errors = new ArrayList&lt;&gt;();\n\n    moveAndBlockDto.getStocks().forEach(\n        stock -&gt; {\n          try {\n            updateStockClass.updateStock(locationId, userId, systemId, addresses, containers, success, errors, stock);\n          } catch (Exception e) {\n            errors.add(errorMoveAndBlockDtoMapper.setErrors(e.getClass().getSimpleName(), e.getMessage(), stock));          }\n        }\n    );\n\n    response.setStocks(success);\n    response.setErrors(errors);\n    return response;\n  }\n</code></pre>\n<p>Which is calling this method, in another class so the @Transactional annotation can work :</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic void updateStock(String locationId, String userId, String systemId, Map&lt;String, AddressV2&gt; addresses,\n                   Map&lt;String, ContainerV2&gt; containers, List&lt;MoveAndBlockResponseObjectDto&gt; success,\n                   List&lt;ErrorMoveAndBlockDto&gt; errors, MoveAndBlockRequestObjectDto stock) {\n      // Case when source is an address &amp;&amp; target is an address\n      if (isSourceAnAddress(stock.getSourceType()) &amp;&amp; isTargetAnAddress(stock.getTargetType())) {\n        updateStockAtAddressSource(addresses, stock);\n        success.add(updateStockAtAddressTarget(locationId, userId, systemId, addresses, containers, stock));\n      }\n      // Case when source is a container &amp;&amp; target is an address\n      else if (isSourceAContainer(stock.getSourceType()) &amp;&amp; isTargetAnAddress(stock.getTargetType())) {\n        updateStockAtContainerSource(containers, stock);\n        success.add(updateStockAtAddressTarget(locationId, userId, systemId, addresses, containers, stock));\n      }\n      // Case when source is an address &amp;&amp; target is a container\n      else if (isSourceAnAddress(stock.getSourceType()) &amp;&amp; isTargetAContainer(stock.getTargetType())) {\n        updateStockAtAddressSource(addresses, stock);\n        success.add(updateStockAtContainerTarget(locationId, userId, systemId, containers, stock));\n      }\n      // Case when source is a container &amp;&amp; target os a container\n      else if (isSourceAContainer(stock.getSourceType()) &amp;&amp; isTargetAContainer(stock.getTargetType())) {\n        updateStockAtContainerSource(containers, stock);\n        success.add(updateStockAtContainerTarget(locationId, userId, systemId, containers, stock));\n      }\n    }\n\n</code></pre>\n<p>What I want is that if an exception occurs in one of the two methods of an if statement, it rollbacks the operations made in database ONLY for one stock processed into the forEach method.</p>\n<p>To be honest, I don't understand why the rollback is not performed (I purposedly launched a NPE into the function <code>updateStockAtContainerTarget</code>, what I can see is that an error is thrown but the changes in database performed by the <code>updateStockAtAddressSource</code> is not rollback in database.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"score":1,"creation_date":1688384583,"post_id":76604049,"comment_id":135062666,"body_markdown":"Try these ones https://spring.io/projects/spring-data-redis\nand \nhttps://www.baeldung.com/spring-data-redis-tutorial","body":"Try these ones <a href=\"https://spring.io/projects/spring-data-redis\" rel=\"nofollow noreferrer\">spring.io/projects/spring-data-redis</a> and  <a href=\"https://www.baeldung.com/spring-data-redis-tutorial\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-redis-tutorial</a>"}],"answers":[{"tags":[],"owner":{"account_id":11410245,"reputation":121,"user_id":8364603,"display_name":"Himanshu Bhatnagar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688411171,"creation_date":1688411171,"answer_id":76607499,"question_id":76604049,"body_markdown":"Redis can be integrated into spring boot very easily without Spring Data Redis dependency.\r\n\r\nUse dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn Application create a bean of RedisClient/Helper\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class RedisClient {\r\n    \r\n    \tprivate JedisPool pool;\r\n    \r\n    \t@PostConstruct\r\n    \tpublic void initialize() {\r\n    \t\ttry {\r\n    \t\t\tJedisPoolConfig poolConfig = new JedisPoolConfig();\r\n                poolConfig.setMinIdle(ApplicationConstant.REDIS_MIN_IDLE);\r\n    \t\t\tpoolConfig.setMaxTotal(ApplicationConstant.REDIS_MAX_TOTAL);\r\n    \t\t\tpoolConfig.setMaxIdle(ApplicationConstant.REDIS_MAX_IDLE);\r\n    \t\t\tURI uri = URI.create(ApplicationConstant.REDIS_SERVER_URL);\r\n    \t\t\tpool = new JedisPool(poolConfig, uri);\r\n    \t\t\ttry (Jedis client = pool.getResource()){\r\n    \t\t\t\tif (client.isBroken()) throw new JedisConnectionException(&quot;Unable to create Jedis pool please check the configurations.&quot;);\r\n    \t\t\t}\r\n    \t\t\tlog.info(&quot;Redis connection established.&quot;);\r\n    \t\t} catch (JedisConnectionException e) {\r\n    \t\t\tlog.error(&quot;Error in creating jedis pool&quot;, e);\r\n    \t\t\tthrow e;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@PreDestroy\r\n    \tpublic void close() {\r\n    \t\tif (pool!=null &amp;&amp; !pool.isClosed()) {\r\n    \t\t\tpool.close();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic String get(String key) {\r\n    \t\ttry(Jedis jedis = pool.getResource()) {\r\n    \t\t\treturn jedis.get(key);\r\n    \t\t} \r\n    \t}\r\n    \r\n    \tpublic String set(String key, String value) {\r\n    \t\ttry(Jedis jedis = pool.getResource()) {\r\n    \t\t\treturn jedis.set(key, value);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nNow simply Autowire/inject the bean wherever you want.\r\n\r\n    @Repository\r\n    public class MyDao{\r\n    \r\n        @Autowired\r\n    \tprivate EntityManager em;\r\n        @Autowired\r\n    \tprivate RedisClient redisClient;\r\n    \r\n    \tpublic String getData(String key) {\r\n            String obj = redisClient.get(key);\r\n            if (obj != null) {\r\n               return obj;\r\n            }\r\n            String result= em.find(String.class, key);\r\n            redisClient.set(key, result);\r\n            return resp;\r\n    \t}\r\n    }\r\n\r\nReference- https://redis.io/docs/clients/java/, \r\nhttps://www.baeldung.com/jedis-java-redis-client-library","title":"Redis integration with spring boot JDBC Template","body":"<p>Redis can be integrated into spring boot very easily without Spring Data Redis dependency.</p>\n<p>Use dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In Application create a bean of RedisClient/Helper</p>\n<pre><code>@Component\n@Slf4j\npublic class RedisClient {\n\n    private JedisPool pool;\n\n    @PostConstruct\n    public void initialize() {\n        try {\n            JedisPoolConfig poolConfig = new JedisPoolConfig();\n            poolConfig.setMinIdle(ApplicationConstant.REDIS_MIN_IDLE);\n            poolConfig.setMaxTotal(ApplicationConstant.REDIS_MAX_TOTAL);\n            poolConfig.setMaxIdle(ApplicationConstant.REDIS_MAX_IDLE);\n            URI uri = URI.create(ApplicationConstant.REDIS_SERVER_URL);\n            pool = new JedisPool(poolConfig, uri);\n            try (Jedis client = pool.getResource()){\n                if (client.isBroken()) throw new JedisConnectionException(&quot;Unable to create Jedis pool please check the configurations.&quot;);\n            }\n            log.info(&quot;Redis connection established.&quot;);\n        } catch (JedisConnectionException e) {\n            log.error(&quot;Error in creating jedis pool&quot;, e);\n            throw e;\n        }\n    }\n\n    @PreDestroy\n    public void close() {\n        if (pool!=null &amp;&amp; !pool.isClosed()) {\n            pool.close();\n        }\n    }\n\n    public String get(String key) {\n        try(Jedis jedis = pool.getResource()) {\n            return jedis.get(key);\n        } \n    }\n\n    public String set(String key, String value) {\n        try(Jedis jedis = pool.getResource()) {\n            return jedis.set(key, value);\n        }\n    }\n}\n</code></pre>\n<p>Now simply Autowire/inject the bean wherever you want.</p>\n<pre><code>@Repository\npublic class MyDao{\n\n    @Autowired\n    private EntityManager em;\n    @Autowired\n    private RedisClient redisClient;\n\n    public String getData(String key) {\n        String obj = redisClient.get(key);\n        if (obj != null) {\n           return obj;\n        }\n        String result= em.find(String.class, key);\n        redisClient.set(key, result);\n        return resp;\n    }\n}\n</code></pre>\n<p>Reference- <a href=\"https://redis.io/docs/clients/java/\" rel=\"nofollow noreferrer\">https://redis.io/docs/clients/java/</a>,\n<a href=\"https://www.baeldung.com/jedis-java-redis-client-library\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jedis-java-redis-client-library</a></p>\n"}],"owner":{"account_id":15824498,"reputation":34,"user_id":11417866,"display_name":"Devdahcoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688411171,"creation_date":1688381527,"question_id":76604049,"body_markdown":"I&#39;m currently working on a CRUD application and aiming to incorporate industry-standard tools like AWS, MySQL, Docker, and more. For connecting with the database, I&#39;m using Spring&#39;s plain old Spring JDBC Templates. However, I&#39;ve noticed that many of Spring&#39;s tools are primarily built for Spring JPA.\r\n\r\nI&#39;d like to dive into the low-level details and utilize Redis as an in-memory database for caching. However, most tutorials I&#39;ve come across focus on using Redis with Spring JPA. Could someone please provide me with a resource or guide on how to integrate Redis with Spring&#39;s JDBC Templates? I would greatly appreciate any assistance. Thank you!\r\n\r\nI have googled a lot of resources and all of them seem to be pointing to use spring JPA.","title":"Redis integration with spring boot JDBC Template","body":"<p>I'm currently working on a CRUD application and aiming to incorporate industry-standard tools like AWS, MySQL, Docker, and more. For connecting with the database, I'm using Spring's plain old Spring JDBC Templates. However, I've noticed that many of Spring's tools are primarily built for Spring JPA.</p>\n<p>I'd like to dive into the low-level details and utilize Redis as an in-memory database for caching. However, most tutorials I've come across focus on using Redis with Spring JPA. Could someone please provide me with a resource or guide on how to integrate Redis with Spring's JDBC Templates? I would greatly appreciate any assistance. Thank you!</p>\n<p>I have googled a lot of resources and all of them seem to be pointing to use spring JPA.</p>\n"},{"tags":["java","android","screenshot","android-permissions","user-permissions"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1688359676,"post_id":76598912,"comment_id":135058542,"body_markdown":"`&quot;Image Storage Permission Granted&quot;,` Wrong. You got permission to read. Not to store/write.","body":"<code>&quot;Image Storage Permission Granted&quot;,</code> Wrong. You got permission to read. Not to store/write."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1688359785,"post_id":76598912,"comment_id":135058553,"body_markdown":"`When app open first time and permissions is denied` Which permission? Start naming it.","body":"<code>When app open first time and permissions is denied</code> Which permission? Start naming it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1688359839,"post_id":76598912,"comment_id":135058559,"body_markdown":"`image is save without user permission. I` What is a user permission?","body":"<code>image is save without user permission. I</code> What is a user permission?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1688359924,"post_id":76598912,"comment_id":135058562,"body_markdown":"`if app publish like this it will violate the privacy and Google may suspend the App.` ???? Unclear what would be violated. Please elaborate.","body":"<code>if app publish like this it will violate the privacy and Google may suspend the App.</code> ???? Unclear what would be violated. Please elaborate."},{"owner":{"account_id":1255240,"reputation":444,"user_id":1214848,"accept_rate":69,"display_name":"Rajeev Kumar"},"score":0,"creation_date":1688410018,"post_id":76598912,"comment_id":135067811,"body_markdown":"@blackapps 1. I want to have both read and write permission.                                      2. I asked user for `READ_MEDIA_IMAGES` permission as coded in manifest                                              3. When user denied the `READ_MEDIA_IMAGES` permission why screenshot is taken by app and store in folder.                                                                                                   4. Here app is stroing image wihtout even when user denied permssion to do so. Is this not violation of user data privacy?","body":"@blackapps 1. I want to have both read and write permission.                                      2. I asked user for <code>READ_MEDIA_IMAGES</code> permission as coded in manifest                                              3. When user denied the <code>READ_MEDIA_IMAGES</code> permission why screenshot is taken by app and store in folder.                                                                                                   4. Here app is stroing image wihtout even when user denied permssion to do so. Is this not violation of user data privacy?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1688410627,"post_id":76598912,"comment_id":135067904,"body_markdown":"No. Why do you think it is? And where is that image saved? Full path please. Android version of used device?","body":"No. Why do you think it is? And where is that image saved? Full path please. Android version of used device?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1688410836,"post_id":76598912,"comment_id":135067939,"body_markdown":"Please edit your post. You talk the whole time about permissions but dont name them. Name them! Write a readable post.","body":"Please edit your post. You talk the whole time about permissions but dont name them. Name them! Write a readable post."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1688410904,"post_id":76598912,"comment_id":135067955,"body_markdown":"`taken by app and store in folder` Name the folder! And full path.","body":"<code>taken by app and store in folder</code> Name the folder! And full path."},{"owner":{"account_id":1255240,"reputation":444,"user_id":1214848,"accept_rate":69,"display_name":"Rajeev Kumar"},"score":0,"creation_date":1688493590,"post_id":76598912,"comment_id":135080458,"body_markdown":"Hi app save the screenshot image in &#39;/storage/emulated/0/Pictures/TestFolder/Screenshot_2023-07-04_12_11_23.jpg&#39;","body":"Hi app save the screenshot image in &#39;/storage/emulated/0/Pictures/TestFolder/Screenshot_2023-07-&zwnj;&#8203;04_12_11_23.jpg&#39;"},{"owner":{"account_id":1255240,"reputation":444,"user_id":1214848,"accept_rate":69,"display_name":"Rajeev Kumar"},"score":0,"creation_date":1688493661,"post_id":76598912,"comment_id":135080468,"body_markdown":"Android version  of device where app tested is 13.","body":"Android version  of device where app tested is 13."},{"owner":{"account_id":1255240,"reputation":444,"user_id":1214848,"accept_rate":69,"display_name":"Rajeev Kumar"},"score":0,"creation_date":1688493739,"post_id":76598912,"comment_id":135080481,"body_markdown":"I have used `READ_MEDIA_IMAGES` permission as mentioned in Manifest code in the post as well in comments","body":"I have used <code>READ_MEDIA_IMAGES</code> permission as mentioned in Manifest code in the post as well in comments"},{"owner":{"account_id":1255240,"reputation":444,"user_id":1214848,"accept_rate":69,"display_name":"Rajeev Kumar"},"score":0,"creation_date":1688493764,"post_id":76598912,"comment_id":135080489,"body_markdown":"Sorry for my bad way for writing as English is my native language","body":"Sorry for my bad way for writing as English is my native language"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1688494176,"post_id":76598912,"comment_id":135080545,"body_markdown":"In an Android 13 device your app can write files in external public Pictures directory without any permission.","body":"In an Android 13 device your app can write files in external public Pictures directory without any permission."},{"owner":{"account_id":1255240,"reputation":444,"user_id":1214848,"accept_rate":69,"display_name":"Rajeev Kumar"},"score":0,"creation_date":1688589463,"post_id":76598912,"comment_id":135095552,"body_markdown":"ok thankyou so much","body":"ok thankyou so much"}],"owner":{"account_id":1255240,"reputation":444,"user_id":1214848,"accept_rate":69,"display_name":"Rajeev Kumar"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688410364,"creation_date":1688301088,"question_id":76598912,"body_markdown":"With reference to title, I have a small snippet for an Android app, in which the user clicks on a button to take a screenshot. I have used the user permission `READ_MEDIA_IMAGES` instead of `WRITE_EXTERNAL_STORAGE | READ_EXTERNAL_STORAGE` \r\n\r\nWhile testing the above-mentioned part of the app, I got two scenarios.\r\n\r\nThe only Permission required in the Program is to store(write) the screenshot taken into the folder and then read it for sharing.\r\n\r\n1. When the app opens the first time and permissions are denied\r\n\r\nIn this case, User has denied permission to the app but on clicking the button for taking a screenshot, the app is able to save the image to the internal storage.\r\n\r\n2. When the user has allowed the permission but later denied it by going to the app setting (App info)\r\n\r\nIn this case, the user is not asked again for permission and the app is able to save the image to internal storage though permission has been denied.\r\n\r\nPermmission Android Manifest - \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\r\n\r\nAsking for permission - \r\n\r\n    public void requestPermissions() {\r\n        if (ContextCompat.checkSelfPermission(this,required_permission[0]) ==\r\n                PackageManager.PERMISSION_GRANTED) {\r\n            permission_allowed = true;\r\n        } else {\r\n            required_permission_launcher_storage_image.launch(required_permission[0]);\r\n            permission_allowed = false;\r\n        }\r\n\r\n    }\r\n\r\n    private ActivityResultLauncher&lt;String&gt;required_permission_launcher_storage_image = \r\n            registerForActivityResult(new ActivityResultContracts.RequestPermission(),\r\n                    isGranted -&gt;{\r\n                        if (isGranted) {\r\n                            permission_allowed = true;\r\n                            Toast.makeText(this, &quot;Image Storage Permission Granted&quot;,\r\n                                    Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            Toast.makeText(this, &quot;Permission Denied&quot;,\r\n                                    Toast.LENGTH_SHORT).show();\r\n                            permission_allowed = false;\r\n                        }\r\n                    });\r\n\r\nActivity code - \r\n\r\n    boolean is_storage_image_permitted = false;\r\n    \r\n        String[] required_permission = new String[] {\r\n                Manifest.permission.READ_MEDIA_IMAGES\r\n        };\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            ActivityScreenshotTestingBinding binding = ActivityScreenshotTestingBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n            ConstraintLayout layout = binding.activityScreenshotTesting;//activitylayout\r\n    \r\n            if (!permission_allowed) {\r\n                requestPermissions();\r\n            }\r\n    \r\n    \r\n            binding.buttonTakeScreenshot.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    //Toast.makeText(ScreenshotTesting.this, &quot;ScreenShoot BUtton Clicked&quot;,Toast.LENGTH_SHORT).show();\r\n            Bitmap screenshot = captureScreenShot(layout);//function for screenshot\r\n                  \r\n                }\r\n            });\r\n\r\nWhere I am getting wrong?\r\nEverything is working smoothly, but the image is saved without user permission.\r\nIf the app is published like this, it will violate privacy and Google may suspend the App.","title":"Android Image still saving even User permission denied for image","body":"<p>With reference to title, I have a small snippet for an Android app, in which the user clicks on a button to take a screenshot. I have used the user permission <code>READ_MEDIA_IMAGES</code> instead of <code>WRITE_EXTERNAL_STORAGE | READ_EXTERNAL_STORAGE</code></p>\n<p>While testing the above-mentioned part of the app, I got two scenarios.</p>\n<p>The only Permission required in the Program is to store(write) the screenshot taken into the folder and then read it for sharing.</p>\n<ol>\n<li>When the app opens the first time and permissions are denied</li>\n</ol>\n<p>In this case, User has denied permission to the app but on clicking the button for taking a screenshot, the app is able to save the image to the internal storage.</p>\n<ol start=\"2\">\n<li>When the user has allowed the permission but later denied it by going to the app setting (App info)</li>\n</ol>\n<p>In this case, the user is not asked again for permission and the app is able to save the image to internal storage though permission has been denied.</p>\n<p>Permmission Android Manifest -</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\n</code></pre>\n<p>Asking for permission -</p>\n<pre><code>public void requestPermissions() {\n    if (ContextCompat.checkSelfPermission(this,required_permission[0]) ==\n            PackageManager.PERMISSION_GRANTED) {\n        permission_allowed = true;\n    } else {\n        required_permission_launcher_storage_image.launch(required_permission[0]);\n        permission_allowed = false;\n    }\n\n}\n\nprivate ActivityResultLauncher&lt;String&gt;required_permission_launcher_storage_image = \n        registerForActivityResult(new ActivityResultContracts.RequestPermission(),\n                isGranted -&gt;{\n                    if (isGranted) {\n                        permission_allowed = true;\n                        Toast.makeText(this, &quot;Image Storage Permission Granted&quot;,\n                                Toast.LENGTH_SHORT).show();\n                    } else {\n                        Toast.makeText(this, &quot;Permission Denied&quot;,\n                                Toast.LENGTH_SHORT).show();\n                        permission_allowed = false;\n                    }\n                });\n</code></pre>\n<p>Activity code -</p>\n<pre><code>boolean is_storage_image_permitted = false;\n\n    String[] required_permission = new String[] {\n            Manifest.permission.READ_MEDIA_IMAGES\n    };\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        ActivityScreenshotTestingBinding binding = ActivityScreenshotTestingBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        ConstraintLayout layout = binding.activityScreenshotTesting;//activitylayout\n\n        if (!permission_allowed) {\n            requestPermissions();\n        }\n\n\n        binding.buttonTakeScreenshot.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //Toast.makeText(ScreenshotTesting.this, &quot;ScreenShoot BUtton Clicked&quot;,Toast.LENGTH_SHORT).show();\n        Bitmap screenshot = captureScreenShot(layout);//function for screenshot\n              \n            }\n        });\n</code></pre>\n<p>Where I am getting wrong?\nEverything is working smoothly, but the image is saved without user permission.\nIf the app is published like this, it will violate privacy and Google may suspend the App.</p>\n"},{"tags":["java","jdbc","connection","prepared-statement","resultset"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688410433,"post_id":76607235,"comment_id":135067872,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688432469,"post_id":76607235,"comment_id":135070470,"body_markdown":"Closing the connection closes all resources that have been allocated from it. This includes `Statement`, `PreparedStatement`, and `ResultSet`. This is clearly stated in the Javadoc. However you should use try-with-resources to ensure that the resources are closed ASAP rather than deferring it all until `Connection.close()`. This is kinder to the database server, to your local computer, and to your own JVM.","body":"Closing the connection closes all resources that have been allocated from it. This includes <code>Statement</code>, <code>PreparedStatement</code>, and <code>ResultSet</code>. This is clearly stated in the Javadoc. However you should use try-with-resources to ensure that the resources are closed ASAP rather than deferring it all until <code>Connection.close()</code>. This is kinder to the database server, to your local computer, and to your own JVM."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1688409409,"creation_date":1688409409,"answer_id":76607359,"question_id":76607235,"body_markdown":"&gt; I found that PreparedStatement is not closed explicitly and also it is instantiated in try block and is not accessible in finally block where we have closed the Connection object. So will the rule that closing connection object will close the preparedstatement as well still applies here?\r\n\r\nThe prepared statement *in the database* will be cleaned up no later than when the database connection with which it is associated is closed.  This is a matter of the database&#39;s own resource management.\r\n\r\nJust like any other object, the `PreparedStatement` instance in the Java VM will be subject to garbage collection when it ceases to be accessible from any live thread.  This is ordinary Java memory management.\r\n\r\nBut whether the `close()` method of the `PreparedStatement` will ever be invoked under the circumstances you describe is a function of the JDBC driver providing the `Connection` and `PreparedStatement` implementations.  It is possible, for example, that the `Connection` maintains references to the `PreparedStatement` objects associated with it, and ensures that their `close()` methods are invoked when it is itself closed.  It is also possible that the PreparedStatement implementation has a finalizer or a reference-queue-based cleanup mechanism that ensures that its `close()` method is invoked.  But without something along these lines, no, the `close()` method will not be invoked if the reference is lost or abandoned first.\r\n\r\n&gt; We have code where preparedStatement is not closed explicitly. PreparedStatement is instantiated in try block and is not accessible in finally block. We are closing connection object in finally block. ideally we expect all resources to get closed once connection object is closed. But since preparedstatement is not even accessible in finally block, will the rule still remains same?\r\n\r\nTo the extent that what you describe is a rule that you can *rely on*, as opposed to one that you are obligated to *obey*, yes, you can still rely on it despite there not being a reference to the `PreparedStatement` accessible in the `finally` block where the connection is closed.  Having an accessible reference matters only if you want to do something that actually uses that reference.  That doesn&#39;t apply here because you are not explicitly closing the PS (or doing anything else with its reference) anyway.\r\n\r\nOverall, you should not be much concerned about a resource leak in the situation described.  But if there were one, then that would best be characterized as a bug in the JDBC driver, not in your code, though that distinction might be lost on your application&#39;s users.","title":"JDBC- Will the Prepared Statement instantiated in try block and not accessible in finally block be closed once Conn is closed in finally block","body":"<blockquote>\n<p>I found that PreparedStatement is not closed explicitly and also it is instantiated in try block and is not accessible in finally block where we have closed the Connection object. So will the rule that closing connection object will close the preparedstatement as well still applies here?</p>\n</blockquote>\n<p>The prepared statement <em>in the database</em> will be cleaned up no later than when the database connection with which it is associated is closed.  This is a matter of the database's own resource management.</p>\n<p>Just like any other object, the <code>PreparedStatement</code> instance in the Java VM will be subject to garbage collection when it ceases to be accessible from any live thread.  This is ordinary Java memory management.</p>\n<p>But whether the <code>close()</code> method of the <code>PreparedStatement</code> will ever be invoked under the circumstances you describe is a function of the JDBC driver providing the <code>Connection</code> and <code>PreparedStatement</code> implementations.  It is possible, for example, that the <code>Connection</code> maintains references to the <code>PreparedStatement</code> objects associated with it, and ensures that their <code>close()</code> methods are invoked when it is itself closed.  It is also possible that the PreparedStatement implementation has a finalizer or a reference-queue-based cleanup mechanism that ensures that its <code>close()</code> method is invoked.  But without something along these lines, no, the <code>close()</code> method will not be invoked if the reference is lost or abandoned first.</p>\n<blockquote>\n<p>We have code where preparedStatement is not closed explicitly. PreparedStatement is instantiated in try block and is not accessible in finally block. We are closing connection object in finally block. ideally we expect all resources to get closed once connection object is closed. But since preparedstatement is not even accessible in finally block, will the rule still remains same?</p>\n</blockquote>\n<p>To the extent that what you describe is a rule that you can <em>rely on</em>, as opposed to one that you are obligated to <em>obey</em>, yes, you can still rely on it despite there not being a reference to the <code>PreparedStatement</code> accessible in the <code>finally</code> block where the connection is closed.  Having an accessible reference matters only if you want to do something that actually uses that reference.  That doesn't apply here because you are not explicitly closing the PS (or doing anything else with its reference) anyway.</p>\n<p>Overall, you should not be much concerned about a resource leak in the situation described.  But if there were one, then that would best be characterized as a bug in the JDBC driver, not in your code, though that distinction might be lost on your application's users.</p>\n"}],"owner":{"account_id":10848773,"reputation":3,"user_id":7977287,"display_name":"Divya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76607359,"answer_count":1,"score":0,"last_activity_date":1688409409,"creation_date":1688407819,"question_id":76607235,"body_markdown":"It is said that when we close connection object, the preparedstatement, resultset everything gets closed. In existing project code I found that PreparedStatement is not closed explicitly and also it is instantiated in try block and is not accessible in finally block where we have closed the Connection object. So will the rule that closing connection object will close the preparedstatement as well still applies here?\r\n\r\nHelp will be appreciated :)\r\n\r\nNote- I do know that closing Preparedstatement explicitly is good practice from clean up point of view.\r\n\r\n\r\n\r\nWe have code where preparedStatement is not closed explicitly.\r\nPreparedStatement is instantiated in try block and is not accessible in finally block.\r\nWe are closing connection object in finally block. ideally we expect all resources to get closed once connection object is closed. But since preparedstatement is not even accessible in finally block, will the rule still remains same?","title":"JDBC- Will the Prepared Statement instantiated in try block and not accessible in finally block be closed once Conn is closed in finally block","body":"<p>It is said that when we close connection object, the preparedstatement, resultset everything gets closed. In existing project code I found that PreparedStatement is not closed explicitly and also it is instantiated in try block and is not accessible in finally block where we have closed the Connection object. So will the rule that closing connection object will close the preparedstatement as well still applies here?</p>\n<p>Help will be appreciated :)</p>\n<p>Note- I do know that closing Preparedstatement explicitly is good practice from clean up point of view.</p>\n<p>We have code where preparedStatement is not closed explicitly.\nPreparedStatement is instantiated in try block and is not accessible in finally block.\nWe are closing connection object in finally block. ideally we expect all resources to get closed once connection object is closed. But since preparedstatement is not even accessible in finally block, will the rule still remains same?</p>\n"},{"tags":["java","spring","hibernate"],"owner":{"account_id":7167789,"reputation":881,"user_id":5476352,"accept_rate":67,"display_name":"M.T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688409200,"creation_date":1688239068,"question_id":76596238,"body_markdown":"I am trying to map **jsonb** (postgresql type) in spring boot 3, spring data jpa 3.* and hibernate 6. \r\n\r\n    \r\n    @Entity\r\n    @Table(name = &quot;posts&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Post {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID id;\r\n\r\n    private String title;\r\n\r\n    // both of them work for jsonb. I thought JsonType only for json.\r\n    //@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class) \r\n    //@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType.class)\r\n    @Column(columnDefinition = &quot;jsonb&quot;)\r\n    private String content;\r\n\r\n    }\r\n\r\n\r\nI had experience with hypersistence-utils, I used to do   @Type(JsonType.class) for json type and   @Type(JsonBinaryType.class) for jsonb. \r\n\r\nRecently I tested jsonb with both of them and they are working properly, which is strange to me. when I worked with hibernate 5.* I had to explicitly define whether it is json type or jsonb.\r\n\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\r\n\r\nor for jsonb\r\n\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType.class)\r\n\r\nQuestion is, why @Type(JsonType.class) works for jsonb in hibernate 6?\r\n\r\nAnd Question in general, Do you guys still use hypersistence-utils or switched to @JdbcTypeCode which is new in hibernate 6?","title":"what is the difference between JsonType.class and JsonBinaryType.class in hypersistence-utils","body":"<p>I am trying to map <strong>jsonb</strong> (postgresql type) in spring boot 3, spring data jpa 3.* and hibernate 6.</p>\n<pre><code>@Entity\n@Table(name = &quot;posts&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Post {\n\n@Id\n@GeneratedValue(strategy = GenerationType.UUID)\nprivate UUID id;\n\nprivate String title;\n\n// both of them work for jsonb. I thought JsonType only for json.\n//@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class) \n//@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType.class)\n@Column(columnDefinition = &quot;jsonb&quot;)\nprivate String content;\n\n}\n</code></pre>\n<p>I had experience with hypersistence-utils, I used to do   @Type(JsonType.class) for json type and   @Type(JsonBinaryType.class) for jsonb.</p>\n<p>Recently I tested jsonb with both of them and they are working properly, which is strange to me. when I worked with hibernate 5.* I had to explicitly define whether it is json type or jsonb.</p>\n<pre><code>@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\n</code></pre>\n<p>or for jsonb</p>\n<pre><code>@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType.class)\n</code></pre>\n<p>Question is, why @Type(JsonType.class) works for jsonb in hibernate 6?</p>\n<p>And Question in general, Do you guys still use hypersistence-utils or switched to @JdbcTypeCode which is new in hibernate 6?</p>\n"},{"tags":["java","spring-boot","jpa","entity"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688404902,"post_id":76606685,"comment_id":135066994,"body_markdown":"Make sure the transaction has been committed.","body":"Make sure the transaction has been committed."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688405284,"post_id":76606685,"comment_id":135067056,"body_markdown":"You can do it by adding @Transactional annotation to the updateItem method.","body":"You can do it by adding @Transactional annotation to the updateItem method."}],"answers":[{"tags":[],"owner":{"account_id":25798368,"reputation":36,"user_id":19541194,"display_name":"Razmik Vardanyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688408820,"creation_date":1688408820,"answer_id":76607317,"question_id":76606685,"body_markdown":"If you want to make update action with Entity object you can use save(YourEntity entity) method provided by spring. It saves in db if that entity not exists and updates if it is already exists.\r\nYour mentioned case is for patch, for update specific fields for entity.","title":"Is it possible to update an Entity with jpaRepository, using the Entity as parameter? And how?","body":"<p>If you want to make update action with Entity object you can use save(YourEntity entity) method provided by spring. It saves in db if that entity not exists and updates if it is already exists.\nYour mentioned case is for patch, for update specific fields for entity.</p>\n"}],"owner":{"account_id":18638453,"reputation":246,"user_id":13584798,"display_name":"josanbaq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688408820,"creation_date":1688402287,"question_id":76606685,"body_markdown":"    @Modifying\r\n    @Query(value = &quot;UPDATE Item i &quot;\r\n        + &quot;SET i = :item &quot;\r\n        + &quot;WHERE i.id = :itemId&quot;\r\n    )\r\n    int updateItem(\r\n            @Param(&quot;item&quot;) Item item,\r\n            @Param(&quot;itemId&quot;) String itemId\r\n    );\r\n\r\nThis method returns 1, as if the update was succesfull, but when I check the Database, the item is not updated. If I pass specific column value, it can be updated, but I want to know if this is possible.","title":"Is it possible to update an Entity with jpaRepository, using the Entity as parameter? And how?","body":"<pre><code>@Modifying\n@Query(value = &quot;UPDATE Item i &quot;\n    + &quot;SET i = :item &quot;\n    + &quot;WHERE i.id = :itemId&quot;\n)\nint updateItem(\n        @Param(&quot;item&quot;) Item item,\n        @Param(&quot;itemId&quot;) String itemId\n);\n</code></pre>\n<p>This method returns 1, as if the update was succesfull, but when I check the Database, the item is not updated. If I pass specific column value, it can be updated, but I want to know if this is possible.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"score":0,"creation_date":1688410761,"post_id":76607311,"comment_id":135067924,"body_markdown":"Take a look at [this library](https://github.com/weblineindia/Android-Custom-Datepicker)","body":"Take a look at <a href=\"https://github.com/weblineindia/Android-Custom-Datepicker\" rel=\"nofollow noreferrer\">this library</a>"}],"owner":{"account_id":28943518,"reputation":1,"user_id":22169603,"display_name":"Rambabu Prajapati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688408760,"creation_date":1688408760,"question_id":76607311,"body_markdown":"[I want to this type of calendar view ](https://i.stack.imgur.com/uPBy3.jpg)\r\nPlease any body help  me .\r\n\r\n\r\nI am trying many time in google and github library also . I did not get. Please help me.\r\n\r\nNowadays in most of the apps, we see Calendar in most of the apps for displaying attendance dates using present date color and absent date color , we are going to make a custom calendar for our android application. In this custom calendar, we have highlighted the current date and other dates which seemed important to us.","title":"how to used Custom Calendar view in android java","body":"<p><a href=\"https://i.stack.imgur.com/uPBy3.jpg\" rel=\"nofollow noreferrer\">I want to this type of calendar view </a>\nPlease any body help  me .</p>\n<p>I am trying many time in google and github library also . I did not get. Please help me.</p>\n<p>Nowadays in most of the apps, we see Calendar in most of the apps for displaying attendance dates using present date color and absent date color , we are going to make a custom calendar for our android application. In this custom calendar, we have highlighted the current date and other dates which seemed important to us.</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1688398154,"post_id":76606078,"comment_id":135065666,"body_markdown":"[yahorbarkouski](https://stackoverflow.com/a/76606163/421195) is correct.  A HashMap (or, more generally, an &quot;associative array&quot; or  &quot;dictionary&quot;) is a data structure that allows fast access... but does *NOT* preserve &quot;order&quot;.  Please consider &quot;upvoting&quot; and/or &quot;accepting&quot; his response.","body":"<a href=\"https://stackoverflow.com/a/76606163/421195\">yahorbarkouski</a> is correct.  A HashMap (or, more generally, an &quot;associative array&quot; or  &quot;dictionary&quot;) is a data structure that allows fast access... but does <i>NOT</i> preserve &quot;order&quot;.  Please consider &quot;upvoting&quot; and/or &quot;accepting&quot; his response."}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688397963,"creation_date":1688397963,"answer_id":76606163,"question_id":76606078,"body_markdown":"The problem is not with the `Formatter` itself, but how you&#39;re storing the data before formatting it, using a `HashMap` which doesn&#39;t maintain any ordering. You could use a sortable collection instead, like:\r\n```java\r\nList&lt;Map.Entry&lt;String, Integer&gt;&gt; sortedList = new ArrayList&lt;&gt;(stringMap.entrySet());\r\nsortedList.sort(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed());\r\n\r\nformatter.format(&quot;%20s %20s\\n\\n&quot;, &quot;Word&quot;, &quot;Occurrence&quot;);\r\nfor (Map.Entry&lt;String, Integer&gt; mapEntry : sortedList) {\r\n    if (mapEntry.getKey().substring(0, 1).equals(&quot;1&quot;)) {\r\n        formatter.format(&quot;%20s %20s\\n&quot;, mapEntry.getKey(), mapEntry.getValue());\r\n    } else {\r\n        formatter.format(&quot;%20s %15s\\n&quot;, mapEntry.getKey(), mapEntry.getValue());\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to sort a table created with Formatter?","body":"<p>The problem is not with the <code>Formatter</code> itself, but how you're storing the data before formatting it, using a <code>HashMap</code> which doesn't maintain any ordering. You could use a sortable collection instead, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map.Entry&lt;String, Integer&gt;&gt; sortedList = new ArrayList&lt;&gt;(stringMap.entrySet());\nsortedList.sort(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed());\n\nformatter.format(&quot;%20s %20s\\n\\n&quot;, &quot;Word&quot;, &quot;Occurrence&quot;);\nfor (Map.Entry&lt;String, Integer&gt; mapEntry : sortedList) {\n    if (mapEntry.getKey().substring(0, 1).equals(&quot;1&quot;)) {\n        formatter.format(&quot;%20s %20s\\n&quot;, mapEntry.getKey(), mapEntry.getValue());\n    } else {\n        formatter.format(&quot;%20s %15s\\n&quot;, mapEntry.getKey(), mapEntry.getValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28425413,"reputation":19,"user_id":21746856,"display_name":"Gahatma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76606163,"answer_count":1,"score":0,"last_activity_date":1688408306,"creation_date":1688397427,"question_id":76606078,"body_markdown":"I made an application that reads text from a file, counts each word, and puts everything into a table created with Formatter. Now I would like to sort the table by the number Occurrences per word. Here is my code so far:\r\n\r\n\r\n**java**\r\n\r\n    package com.example.antonpaarapplication;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.*;\r\n    \r\n    public class Application {\r\n    \r\n        //Function for Initializing the Application.\r\n        public void run() {\r\n            System.out.println(&quot;Would you like to process the entire file(1) or just specific lines(2)?&quot;);\r\n            choice();\r\n        }\r\n    \r\n        //Function for choosing whether to process the entire file at once or only select specific files to be processed.\r\n        public void choice() {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int number = scanner.nextInt();\r\n            switch (number) {\r\n                case 1:\r\n                    System.out.println(&quot;\\nNumber 1 has been entered, processing whole file.\\n&quot;);\r\n                    processWholeFile();\r\n                    break;\r\n                case 2:\r\n                    System.out.println(&quot;\\nNumber 2 has been entered, please specify lines to be processed. \\n&quot;);\r\n                    processSpecificLines();\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid, please try again.&quot;);\r\n                    choice();\r\n            }\r\n        }\r\n    \r\n        //Function for processing the entire File.\r\n        public void processWholeFile() {\r\n            Map&lt;String, Integer&gt; stringMap = new HashMap&lt;String, Integer&gt;();\r\n            Formatter formatter = new Formatter();\r\n            List&lt;String&gt; lines = readFile();\r\n            String string = String.join(&quot; &quot;, lines);\r\n            String[] arr = string.split(&quot; &quot;);\r\n    \r\n            for (String s : arr) {\r\n                if (stringMap.containsKey(s)) {\r\n                    stringMap.put(s, stringMap.get(s) + 1);\r\n                } else {\r\n                    stringMap.put(s, 1);\r\n                }\r\n            }\r\n    \r\n            formatter.format(&quot;%20s %20s\\n\\n&quot;, &quot;Word&quot;, &quot;Occurence&quot;);\r\n            for (Map.Entry&lt;String, Integer&gt; mapEntry : stringMap.entrySet()) {\r\n                if (mapEntry.getKey().substring(0, 1).equals(&quot;1&quot;)) {\r\n                    formatter.format(&quot;%20s %20s\\n&quot;, mapEntry.getKey(), mapEntry.getValue());\r\n                } else {\r\n                    formatter.format(&quot;%20s %15s\\n&quot;, mapEntry.getKey(), mapEntry.getValue());\r\n                }\r\n            }\r\n            System.out.println(formatter);\r\n        }\r\n    \r\n        //Function for processing specific parts of the file.\r\n        public void processSpecificLines() {\r\n    \r\n        }\r\n    \r\n        //Reads the contents of the &quot;data.txt&quot;.\r\n        public List&lt;String&gt; readFile() {\r\n            List&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n            try {\r\n                lines = Files.readAllLines(Paths.get(System.getProperty(&quot;user.dir&quot;), &quot;src&quot;, &quot;main&quot;, &quot;resources&quot;, &quot;data.txt&quot;));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            return lines;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Application app = new Application();\r\n            app.run();\r\n        }\r\n    }\r\n\r\nI tried googling the problem, but it seems like this either not possible or nobody has every thought about it, as I can&#39;t find anything about it.\r\n","title":"How to sort a table created with Formatter?","body":"<p>I made an application that reads text from a file, counts each word, and puts everything into a table created with Formatter. Now I would like to sort the table by the number Occurrences per word. Here is my code so far:</p>\n<p><strong>java</strong></p>\n<pre><code>package com.example.antonpaarapplication;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.*;\n\npublic class Application {\n\n    //Function for Initializing the Application.\n    public void run() {\n        System.out.println(&quot;Would you like to process the entire file(1) or just specific lines(2)?&quot;);\n        choice();\n    }\n\n    //Function for choosing whether to process the entire file at once or only select specific files to be processed.\n    public void choice() {\n        Scanner scanner = new Scanner(System.in);\n        int number = scanner.nextInt();\n        switch (number) {\n            case 1:\n                System.out.println(&quot;\\nNumber 1 has been entered, processing whole file.\\n&quot;);\n                processWholeFile();\n                break;\n            case 2:\n                System.out.println(&quot;\\nNumber 2 has been entered, please specify lines to be processed. \\n&quot;);\n                processSpecificLines();\n                break;\n            default:\n                System.out.println(&quot;Invalid, please try again.&quot;);\n                choice();\n        }\n    }\n\n    //Function for processing the entire File.\n    public void processWholeFile() {\n        Map&lt;String, Integer&gt; stringMap = new HashMap&lt;String, Integer&gt;();\n        Formatter formatter = new Formatter();\n        List&lt;String&gt; lines = readFile();\n        String string = String.join(&quot; &quot;, lines);\n        String[] arr = string.split(&quot; &quot;);\n\n        for (String s : arr) {\n            if (stringMap.containsKey(s)) {\n                stringMap.put(s, stringMap.get(s) + 1);\n            } else {\n                stringMap.put(s, 1);\n            }\n        }\n\n        formatter.format(&quot;%20s %20s\\n\\n&quot;, &quot;Word&quot;, &quot;Occurence&quot;);\n        for (Map.Entry&lt;String, Integer&gt; mapEntry : stringMap.entrySet()) {\n            if (mapEntry.getKey().substring(0, 1).equals(&quot;1&quot;)) {\n                formatter.format(&quot;%20s %20s\\n&quot;, mapEntry.getKey(), mapEntry.getValue());\n            } else {\n                formatter.format(&quot;%20s %15s\\n&quot;, mapEntry.getKey(), mapEntry.getValue());\n            }\n        }\n        System.out.println(formatter);\n    }\n\n    //Function for processing specific parts of the file.\n    public void processSpecificLines() {\n\n    }\n\n    //Reads the contents of the &quot;data.txt&quot;.\n    public List&lt;String&gt; readFile() {\n        List&lt;String&gt; lines = new ArrayList&lt;&gt;();\n        try {\n            lines = Files.readAllLines(Paths.get(System.getProperty(&quot;user.dir&quot;), &quot;src&quot;, &quot;main&quot;, &quot;resources&quot;, &quot;data.txt&quot;));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        return lines;\n    }\n\n    public static void main(String[] args) {\n        Application app = new Application();\n        app.run();\n    }\n}\n</code></pre>\n<p>I tried googling the problem, but it seems like this either not possible or nobody has every thought about it, as I can't find anything about it.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1331468825,"creation_date":1331467603,"answer_id":9654765,"question_id":9654750,"body_markdown":"The default modifier (just don&#39;t write `public`/`private`/`protected`) gives access from inside the package only. (Take a look [here][1])\r\n\r\nBut as a rule, it is a good practice to avoid accessing variables directly.\r\n\r\n**Edit:**\r\n\r\nResponding the comments, if you want to access this variable without creating an object, then it should be static:\r\n\r\n    package com.some.package;\r\n    public class MyClass {\r\n        static int someInt = 1;\r\n    }\r\n\r\nThen to access it, you need to qualify it by the class:\r\n\r\n    package com.some.package;\r\n    public class AnotherClass {\r\n        public void someMethod() {\r\n            int i = MyClass.someInt;\r\n                  //^^^^^^^\r\n        }\r\n    }\r\n    \r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","title":"variable seen by all classes Java","body":"<p>The default modifier (just don't write <code>public</code>/<code>private</code>/<code>protected</code>) gives access from inside the package only. (Take a look <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"noreferrer\">here</a>)</p>\n\n<p>But as a rule, it is a good practice to avoid accessing variables directly.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Responding the comments, if you want to access this variable without creating an object, then it should be static:</p>\n\n<pre><code>package com.some.package;\npublic class MyClass {\n    static int someInt = 1;\n}\n</code></pre>\n\n<p>Then to access it, you need to qualify it by the class:</p>\n\n<pre><code>package com.some.package;\npublic class AnotherClass {\n    public void someMethod() {\n        int i = MyClass.someInt;\n              //^^^^^^^\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1036092,"reputation":8846,"user_id":1043352,"accept_rate":81,"display_name":"Jakub Zaverka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331467675,"creation_date":1331467675,"answer_id":9654776,"question_id":9654750,"body_markdown":"static &amp;lt;type&gt; &amp;lt;variable name&gt;;  \r\n\r\nIf you do not supply access modifier, it defaults to package-private. It means that the variable is visible only to members of the same package.","title":"variable seen by all classes Java","body":"<p>static &lt;type> &lt;variable name>;  </p>\n\n<p>If you do not supply access modifier, it defaults to package-private. It means that the variable is visible only to members of the same package.</p>\n"}],"owner":{"account_id":1290207,"reputation":221,"user_id":1261835,"accept_rate":44,"display_name":"Samiah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20346,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9654765,"answer_count":2,"score":4,"last_activity_date":1688408015,"creation_date":1331467460,"question_id":9654750,"body_markdown":"I&#39;m a beginner in java, so I don&#39;t know if there is any way to make a variable seen by all classes in same package?","title":"variable seen by all classes Java","body":"<p>I'm a beginner in java, so I don't know if there is any way to make a variable seen by all classes in same package?</p>\n"},{"tags":["java","camunda"],"answers":[{"tags":[],"owner":{"account_id":902946,"reputation":6443,"user_id":938573,"accept_rate":57,"display_name":"blackdrag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688109441,"creation_date":1688109441,"answer_id":76586794,"question_id":76581090,"body_markdown":"I can only guess, but most likely you have a transaction that got invalidated after/during task execution. Doing so makes Camunda repeat the execution of the failed task. But since the task did not fail itself, Camunda did not not register a failing job, that is to be re-executed to execute the task again. If during task execution, then your task is probably a service task and most likely you manually invalidated the transaction in the code called by the task. If that happens without throwing an exception that propagates to Camunda, then Camunda does not know how to handle the situation properly.\r\n\r\nSee also https://docs.camunda.org/manual/7.19/user-guide/process-engine/error-handling/ for how error handling is usually done in Camunda and https://docs.camunda.org/manual/7.19/user-guide/process-engine/transactions-in-processes/ for how transactions work in Camunda.","title":"Why cannot invoke impl.persistence.entity.TimerEntity.calculateRepeat ()?","body":"<p>I can only guess, but most likely you have a transaction that got invalidated after/during task execution. Doing so makes Camunda repeat the execution of the failed task. But since the task did not fail itself, Camunda did not not register a failing job, that is to be re-executed to execute the task again. If during task execution, then your task is probably a service task and most likely you manually invalidated the transaction in the code called by the task. If that happens without throwing an exception that propagates to Camunda, then Camunda does not know how to handle the situation properly.</p>\n<p>See also <a href=\"https://docs.camunda.org/manual/7.19/user-guide/process-engine/error-handling/\" rel=\"nofollow noreferrer\">https://docs.camunda.org/manual/7.19/user-guide/process-engine/error-handling/</a> for how error handling is usually done in Camunda and <a href=\"https://docs.camunda.org/manual/7.19/user-guide/process-engine/transactions-in-processes/\" rel=\"nofollow noreferrer\">https://docs.camunda.org/manual/7.19/user-guide/process-engine/transactions-in-processes/</a> for how transactions work in Camunda.</p>\n"}],"owner":{"account_id":22910996,"reputation":9,"user_id":17048263,"display_name":"stavatar202110"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688407657,"creation_date":1688041883,"question_id":76581090,"body_markdown":"I am getting the following error while working with the bmpn scheme on a timer every 15 minutes. What could be the reason for this and how can it be fixed?\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI haven&#39;t tried anything because I don&#39;t know what the problem is and how to fix it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ismMB.jpg","title":"Why cannot invoke impl.persistence.entity.TimerEntity.calculateRepeat ()?","body":"<p>I am getting the following error while working with the bmpn scheme on a timer every 15 minutes. What could be the reason for this and how can it be fixed?</p>\n<p><a href=\"https://i.stack.imgur.com/ismMB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ismMB.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I haven't tried anything because I don't know what the problem is and how to fix it.</p>\n"},{"tags":["java","spring-boot","jsessionid"],"comments":[{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":1,"creation_date":1411060461,"post_id":25918556,"comment_id":40571620,"body_markdown":"I&#39;m quite suspicious of your motives. If you change the cookie name you won&#39;t be able to take advantage of common load-balancing algorithms for instance. I can&#39;t really understand why it&#39;s necessary.","body":"I&#39;m quite suspicious of your motives. If you change the cookie name you won&#39;t be able to take advantage of common load-balancing algorithms for instance. I can&#39;t really understand why it&#39;s necessary."},{"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"score":0,"creation_date":1564834990,"post_id":25918556,"comment_id":101165190,"body_markdown":"@DaveSyer I&#39;m curious, How come it will affect LB algorithm? We are planning to change the cookie name to hide the tech stack details from attackers.","body":"@DaveSyer I&#39;m curious, How come it will affect LB algorithm? We are planning to change the cookie name to hide the tech stack details from attackers."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1565803724,"post_id":25918556,"comment_id":101468355,"body_markdown":"Sticky session load balancing usually relies on a cookie name, for instance.","body":"Sticky session load balancing usually relies on a cookie name, for instance."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1558690067,"creation_date":1411060612,"answer_id":25918673,"question_id":25918556,"body_markdown":"Declare a `ServletContextInitializer` bean in your application&#39;s configuration:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\t@Bean\r\n\tpublic ServletContextInitializer servletContextInitializer() {\r\n\t\treturn new ServletContextInitializer() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onStartup(ServletContext servletContext) throws ServletException {\r\n\t\t\t\tservletContext.getSessionCookieConfig().setName(&quot;yourCookieName&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}\r\n\r\nAlternatively, your application class itself can implement `ServletContextInitializer`:\r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    public class Application implements ServletContextInitializer {\r\n\r\n\t    public static void main(String[] args) throws Exception {\r\n\t\t    SpringApplication.run(Application.class, args);\r\n    \t}\r\n\r\n    \t@Override\r\n\t    public void onStartup(ServletContext servletContext) throws ServletException {\r\n    \t\tservletContext.getSessionCookieConfig().setName(&quot;yourCookieName&quot;);\r\n\t    }\r\n\r\n    }\r\n","title":"Spring boot configure custom jsessionid for embedded server","body":"<p>Declare a <code>ServletContextInitializer</code> bean in your application's configuration:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ServletContextInitializer servletContextInitializer() {\n    return new ServletContextInitializer() {\n\n        @Override\n        public void onStartup(ServletContext servletContext) throws ServletException {\n            servletContext.getSessionCookieConfig().setName(\"yourCookieName\");\n        }\n    };\n\n}\n</code></pre>\n\n<p>Alternatively, your application class itself can implement <code>ServletContextInitializer</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan\npublic class Application implements ServletContextInitializer {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        servletContext.getSessionCookieConfig().setName(\"yourCookieName\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":389224,"reputation":1742,"user_id":748560,"display_name":"JamieB"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1539872181,"creation_date":1450353561,"answer_id":34334070,"question_id":25918556,"body_markdown":"As of **Spring Boot 1.3** you can simply set a configuration property;\r\n\r\n**Spring Boot 1.3, 1.4, 1.5**\r\n\r\n    server.session.cookie.name = MYSESSIONID\r\n\r\n**Spring Boot 2.x**\r\n\r\n    server.servlet.session.cookie.name = MYSESSIONID\r\n\r\nA lot simpler than writing a configuration class.\r\n\r\nSee https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html for more session related properties.","title":"Spring boot configure custom jsessionid for embedded server","body":"<p>As of <strong>Spring Boot 1.3</strong> you can simply set a configuration property;</p>\n\n<p><strong>Spring Boot 1.3, 1.4, 1.5</strong></p>\n\n<pre><code>server.session.cookie.name = MYSESSIONID\n</code></pre>\n\n<p><strong>Spring Boot 2.x</strong></p>\n\n<pre><code>server.servlet.session.cookie.name = MYSESSIONID\n</code></pre>\n\n<p>A lot simpler than writing a configuration class.</p>\n\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html</a> for more session related properties.</p>\n"},{"tags":[],"owner":{"account_id":5313066,"reputation":41,"user_id":4238731,"display_name":"jozdoo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487129749,"creation_date":1487129749,"answer_id":42240245,"question_id":25918556,"body_markdown":"with spring session , if you want to change cookie name ,you can do this\r\n\r\n    @Bean\r\n    public DefaultCookieSerializer defaultCookieSerializer(){\r\n        DefaultCookieSerializer defaultCookieSerializer = new DefaultCookieSerializer();\r\n        defaultCookieSerializer.setCookieName(&quot;mySessionId&quot;);\r\n        return defaultCookieSerializer;\r\n    }\r\n\r\ni find this in spring session source\r\n\r\nspring-session-1.2.1.RELEASE-sources.jar!/org/springframework/session/config/annotation/web/http/SpringHttpSessionConfiguration.java\r\n\r\n    \t@Autowired(required = false)\r\n\tpublic void setCookieSerializer(CookieSerializer cookieSerializer) {\r\n\t\tthis.defaultHttpSessionStrategy.setCookieSerializer(cookieSerializer);\r\n\t}\r\n\r\n","title":"Spring boot configure custom jsessionid for embedded server","body":"<p>with spring session , if you want to change cookie name ,you can do this</p>\n\n<pre><code>@Bean\npublic DefaultCookieSerializer defaultCookieSerializer(){\n    DefaultCookieSerializer defaultCookieSerializer = new DefaultCookieSerializer();\n    defaultCookieSerializer.setCookieName(\"mySessionId\");\n    return defaultCookieSerializer;\n}\n</code></pre>\n\n<p>i find this in spring session source</p>\n\n<p>spring-session-1.2.1.RELEASE-sources.jar!/org/springframework/session/config/annotation/web/http/SpringHttpSessionConfiguration.java</p>\n\n<pre><code>    @Autowired(required = false)\npublic void setCookieSerializer(CookieSerializer cookieSerializer) {\n    this.defaultHttpSessionStrategy.setCookieSerializer(cookieSerializer);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13738159,"reputation":11,"user_id":9913946,"display_name":"bhagyashri S. I."},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1528461913,"creation_date":1528459567,"answer_id":50760302,"question_id":25918556,"body_markdown":"    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    \thttp\r\n    \t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.NEVER).and()\r\n    \t.csrf().disable();\t\r\n    }\r\n\r\nYou can try this as it removes jsession id from URL\r\n","title":"Spring boot configure custom jsessionid for embedded server","body":"<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.NEVER).and()\n    .csrf().disable();  \n}\n</code></pre>\n\n<p>You can try this as it removes jsession id from URL</p>\n"}],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46791,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"accepted_answer_id":34334070,"answer_count":4,"score":27,"last_activity_date":1688407496,"creation_date":1411060168,"question_id":25918556,"body_markdown":"I want to configure my servlet context, such as setting a custom jsessionId key (see https://stackoverflow.com/questions/877064/changing-cookie-jsessionid-name)\r\n\r\nI believe I can use the `SpringBootServletInitializer` when running a WAR file, manipulating the `servletContext` in `onStartup()`. However, when I run on an embedded application server, using\r\n`new SpringApplicationBuilder().run()`, I don&#39;t know the best place to manipulate the servlet context.","title":"Spring boot configure custom jsessionid for embedded server","body":"<p>I want to configure my servlet context, such as setting a custom jsessionId key (see <a href=\"https://stackoverflow.com/questions/877064/changing-cookie-jsessionid-name\">Changing cookie JSESSIONID name</a>)</p>\n\n<p>I believe I can use the <code>SpringBootServletInitializer</code> when running a WAR file, manipulating the <code>servletContext</code> in <code>onStartup()</code>. However, when I run on an embedded application server, using\n<code>new SpringApplicationBuilder().run()</code>, I don't know the best place to manipulate the servlet context.</p>\n"},{"tags":["java","spring-boot","macos","shell"],"answers":[{"tags":[],"owner":{"account_id":13870783,"reputation":351,"user_id":10013975,"display_name":"Mukul Bindal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688405536,"creation_date":1688404712,"answer_id":76606944,"question_id":76606743,"body_markdown":"You can also pass the environment variables in the script itself. You need to use `-D` appender for each variable. Refer the example below:\r\n```\r\njava -jar jarname.jar -Dlocal.file.path=/path/to/file -Done.more.var=ABCD\r\n```\r\n\r\nAnd in you application.yml file, you can reference these like below:\r\n```\r\nlocal:\r\n  file:\r\n    path: ${local.file.path}\r\none:\r\n  more:\r\n    var: ${one.more.var}\r\n```\r\n\r\n**PS:** The env variables you are passing in IntelliJ, that also works like above internally. Exporting variables in shell script will not make it visible to your java program, you need to pass it in command line arguments always.\r\n","title":"How to run spring boot jar from script file on Mac?","body":"<p>You can also pass the environment variables in the script itself. You need to use <code>-D</code> appender for each variable. Refer the example below:</p>\n<pre><code>java -jar jarname.jar -Dlocal.file.path=/path/to/file -Done.more.var=ABCD\n</code></pre>\n<p>And in you application.yml file, you can reference these like below:</p>\n<pre><code>local:\n  file:\n    path: ${local.file.path}\none:\n  more:\n    var: ${one.more.var}\n</code></pre>\n<p><strong>PS:</strong> The env variables you are passing in IntelliJ, that also works like above internally. Exporting variables in shell script will not make it visible to your java program, you need to pass it in command line arguments always.</p>\n"}],"owner":{"account_id":3386007,"reputation":647,"user_id":2841947,"accept_rate":50,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688405536,"creation_date":1688402911,"question_id":76606743,"body_markdown":"I have a Spring Boot application which I&#39;m running from Intellij. I&#39;m passing a lot of environment variables which are being referenced in application.yml.\r\n\r\nI&#39;m passing env variables in below section in Intellij:\r\n\r\nFor e.g.:\r\nLOCAL_FILE_PATH=\\Users\\ABC\\Documents\\files\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YPwIs.png\r\n\r\n\r\nThese are referenced in the application.yml as below:\r\n\r\nlocal:\r\n  file:\r\n    path: ${LOCAL_FILE_PATH}\r\n\r\n\r\nNow, I want to run the jar on Mac from a shell script.\r\nI have tried several things like setting up via export in script, passing them via spring_boot_json in script, etc. but it didn&#39;t work for me.\r\n\r\nCan someone please let me know what I&#39;m missing.\r\n\r\nThanks in Advance!","title":"How to run spring boot jar from script file on Mac?","body":"<p>I have a Spring Boot application which I'm running from Intellij. I'm passing a lot of environment variables which are being referenced in application.yml.</p>\n<p>I'm passing env variables in below section in Intellij:</p>\n<p>For e.g.:\nLOCAL_FILE_PATH=\\Users\\ABC\\Documents\\files</p>\n<p><a href=\"https://i.stack.imgur.com/YPwIs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YPwIs.png\" alt=\"enter image description here\" /></a></p>\n<p>These are referenced in the application.yml as below:</p>\n<p>local:\nfile:\npath: ${LOCAL_FILE_PATH}</p>\n<p>Now, I want to run the jar on Mac from a shell script.\nI have tried several things like setting up via export in script, passing them via spring_boot_json in script, etc. but it didn't work for me.</p>\n<p>Can someone please let me know what I'm missing.</p>\n<p>Thanks in Advance!</p>\n"},{"tags":["java","rest","web-services","post","httpurlconnection"],"comments":[{"owner":{"account_id":229749,"reputation":9415,"user_id":492918,"display_name":"Yilmaz Guleryuz"},"score":0,"creation_date":1687973157,"post_id":62615595,"comment_id":135012832,"body_markdown":"i know it is an old question, but we are facing similar problem while integration towards IDCS via OIDC these days.  have you found a solution? if yes, could you please share details?","body":"i know it is an old question, but we are facing similar problem while integration towards IDCS via OIDC these days.  have you found a solution? if yes, could you please share details?"}],"answers":[{"tags":[],"owner":{"account_id":18947060,"reputation":11,"user_id":13825683,"display_name":"Devansh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593297073,"creation_date":1593296497,"answer_id":62616161,"question_id":62615595,"body_markdown":"Possibly you are missing some header in your HTTP request, verify that you are passing all the headers required by the endpoint.","title":"Server returned HTTP response code: 400 for URL: https://idcs-82972921e42641b1bf08128c3d93a19c.identity.c9dev2.oc9qadev.com/oauth2/v1/token","body":"<p>Possibly you are missing some header in your HTTP request, verify that you are passing all the headers required by the endpoint.</p>\n"}],"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688404264,"creation_date":1593292130,"question_id":62615595,"body_markdown":"I am getting the error : \r\n\r\n    Server returned HTTP response code: 400 for URL: https://idcs-82972921e42641b1bf08128c3d93a19c.identity.c9dev2.oc9qadev.com/oauth2/v1/token\r\n    java.io.IOException: Server returned HTTP response code: 400 for URL: https://idcs-82972921e42641b1bf08128c3d93a19c.identity.c9dev2.oc9qadev.com/oauth2/v1/token\r\n    \tat \r\n\r\nwhen I call the `url` in postman this `url` return `access token`. But when I am consuming in `java` my java code is throwing `exception`.\r\n\r\n    package com.shruti.getapi;\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    public class NetClientPost {\r\n    \t\r\n    \tpublic static void main(String[] args)  {\r\n    \t\ttry\r\n    \t\t{\r\n    \t\tHttpURLConnection connection=null;\r\n    \t\t String targetUrl=&quot;https://idcs-82972921e42641b1bf08128c3d93a19c.identity.c9dev2.oc9qadev.com/oauth2/v1/token&quot;;\r\n    \t\t URL url=new URL(targetUrl);\r\n    \t\t connection=(HttpURLConnection) url.openConnection();\r\n    \t\t connection.setUseCaches (false);\r\n    \t      connection.setDoInput(true);\r\n    \t      connection.setDoOutput(true);\r\n    \t\t connection.setRequestMethod(&quot;POST&quot;);\r\n    \t\t connection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded&quot;);\r\n    \t\t connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic aWRjcy1vZGEtOTQxN2Y5MzU2MGI5NGViOGEyZTJhNGM5YWFjOWEzZmYtdDBfQVBQSUQ6MjQ0YWU4ZTItNmY3MS00YWYyLWI1Y2MtOTExMDg5MGQxNDU2&quot;);\r\n    \t\t connection.setRequestProperty(&quot;grant-type&quot;,&quot;client_credentials&quot;);\r\n    \t\t connection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    \t\t connection.setRequestProperty(&quot;Scope&quot;, &quot;https://idcs-oda-9417f93560b94eb8a2e2a4c9aac9a3ff-t0.data.digitalassistant.oci.oc-test.com/api/v1&quot;);\r\n             connection.connect();\r\n    \t\t InputStreamReader in=new InputStreamReader(connection.getInputStream());  //this line throwing exception. What i am missing?\r\n    \t     BufferedReader br =new BufferedReader(in);\r\n    \t     String output;\r\n    \t     while((output=br.readLine())!=null)\r\n    \t     {\r\n    \t    \t System.out.println(output);\r\n    \t     }\r\n    \t     connection.disconnect();\r\n         \r\n    \t\t System.out.println(&quot;Last line&quot;);\r\n    \t\t}\r\n    \t\tcatch(Exception e)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \r\n    }\r\n    \t\r\n    }\r\n\r\n\r\n","title":"Server returned HTTP response code: 400 for URL: https://idcs-82972921e42641b1bf08128c3d93a19c.identity.c9dev2.oc9qadev.com/oauth2/v1/token","body":"<p>I am getting the error :</p>\n<pre><code>Server returned HTTP response code: 400 for URL: https://idcs-82972921e42641b1bf08128c3d93a19c.identity.c9dev2.oc9qadev.com/oauth2/v1/token\njava.io.IOException: Server returned HTTP response code: 400 for URL: https://idcs-82972921e42641b1bf08128c3d93a19c.identity.c9dev2.oc9qadev.com/oauth2/v1/token\n    at \n</code></pre>\n<p>when I call the <code>url</code> in postman this <code>url</code> return <code>access token</code>. But when I am consuming in <code>java</code> my java code is throwing <code>exception</code>.</p>\n<pre><code>package com.shruti.getapi;\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\npublic class NetClientPost {\n    \n    public static void main(String[] args)  {\n        try\n        {\n        HttpURLConnection connection=null;\n         String targetUrl=&quot;https://idcs-82972921e42641b1bf08128c3d93a19c.identity.c9dev2.oc9qadev.com/oauth2/v1/token&quot;;\n         URL url=new URL(targetUrl);\n         connection=(HttpURLConnection) url.openConnection();\n         connection.setUseCaches (false);\n          connection.setDoInput(true);\n          connection.setDoOutput(true);\n         connection.setRequestMethod(&quot;POST&quot;);\n         connection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded&quot;);\n         connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic aWRjcy1vZGEtOTQxN2Y5MzU2MGI5NGViOGEyZTJhNGM5YWFjOWEzZmYtdDBfQVBQSUQ6MjQ0YWU4ZTItNmY3MS00YWYyLWI1Y2MtOTExMDg5MGQxNDU2&quot;);\n         connection.setRequestProperty(&quot;grant-type&quot;,&quot;client_credentials&quot;);\n         connection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n         connection.setRequestProperty(&quot;Scope&quot;, &quot;https://idcs-oda-9417f93560b94eb8a2e2a4c9aac9a3ff-t0.data.digitalassistant.oci.oc-test.com/api/v1&quot;);\n         connection.connect();\n         InputStreamReader in=new InputStreamReader(connection.getInputStream());  //this line throwing exception. What i am missing?\n         BufferedReader br =new BufferedReader(in);\n         String output;\n         while((output=br.readLine())!=null)\n         {\n             System.out.println(output);\n         }\n         connection.disconnect();\n     \n         System.out.println(&quot;Last line&quot;);\n        }\n        catch(Exception e)\n        {\n            System.out.println(e.getMessage());\n        }\n\n}\n    \n}\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":17489567,"reputation":1075,"user_id":12681984,"display_name":"sachin"},"score":1,"creation_date":1682835803,"post_id":76139539,"comment_id":134275801,"body_markdown":"What error/output you are getting when you run this command?","body":"What error/output you are getting when you run this command?"},{"owner":{"account_id":25564780,"reputation":11,"user_id":19346574,"display_name":"Khomendra"},"score":0,"creation_date":1682843707,"post_id":76139539,"comment_id":134276559,"body_markdown":"Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nSun Apr 30 09:37:55 IST 2023\nThere was an unexpected error (type=Not Found, status=404).\nNo message available\n\nThis is the Error","body":"Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback.  Sun Apr 30 09:37:55 IST 2023 There was an unexpected error (type=Not Found, status=404). No message available  This is the Error"},{"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"score":0,"creation_date":1682858055,"post_id":76139539,"comment_id":134278072,"body_markdown":"I’d start by removing the `.*` from the end of the `scanBasePackages` attribute on `@SpringBootApplication`. As the name suggests, it’s supposed to be the name of the *package* at the *base* of the hierarchy you want Spring to scan for beans. As far as I know it doesn’t support any sort of wildcard. That might explain why it’s not finding your controller class (if that’s indeed the problem).","body":"I’d start by removing the <code>.*</code> from the end of the <code>scanBasePackages</code> attribute on <code>@SpringBootApplication</code>. As the name suggests, it’s supposed to be the name of the <i>package</i> at the <i>base</i> of the hierarchy you want Spring to scan for beans. As far as I know it doesn’t support any sort of wildcard. That might explain why it’s not finding your controller class (if that’s indeed the problem)."},{"owner":{"account_id":25564780,"reputation":11,"user_id":19346574,"display_name":"Khomendra"},"score":0,"creation_date":1682960523,"post_id":76139539,"comment_id":134290836,"body_markdown":"So what should I write in here scanBasePackages={&quot;com.smart.*&quot;} ? SHould it be scanBasePackages={&quot;com.smart&quot;} like this. even this is not working.","body":"So what should I write in here scanBasePackages={&quot;com.smart.*&quot;} ? SHould it be scanBasePackages={&quot;com.smart&quot;} like this. even this is not working."},{"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"score":0,"creation_date":1683058249,"post_id":76139539,"comment_id":134307732,"body_markdown":"That ought to work, although you could also just remove the `scanBasePackages` attribute entirely, because it defaults to the package of the annotated class, which is `com.smart`.","body":"That ought to work, although you could also just remove the <code>scanBasePackages</code> attribute entirely, because it defaults to the package of the annotated class, which is <code>com.smart</code>."},{"owner":{"account_id":25564780,"reputation":11,"user_id":19346574,"display_name":"Khomendra"},"score":0,"creation_date":1683132275,"post_id":76139539,"comment_id":134320773,"body_markdown":"I removed the scanBasePackages completely, and made like @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class }) this. But getting same error.","body":"I removed the scanBasePackages completely, and made like @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class }) this. But getting same error."},{"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"score":0,"creation_date":1683752960,"post_id":76139539,"comment_id":134416914,"body_markdown":"OK, well that eliminates the possible issues that jumped out at me from looking at the code.  If you&#39;re still having the issue, can you post the logs from the application and also how exactly you were calling it?","body":"OK, well that eliminates the possible issues that jumped out at me from looking at the code.  If you&#39;re still having the issue, can you post the logs from the application and also how exactly you were calling it?"}],"answers":[{"tags":[],"owner":{"account_id":18683356,"reputation":23,"user_id":13619430,"display_name":"Hoang Phan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683000187,"creation_date":1682999834,"answer_id":76151630,"question_id":76139539,"body_markdown":"you need to add @RequestMapping on HomeController to identify the resource like this\r\n\r\n    @RestController\r\n    @RequestMapping \r\n    public class HomeController {\r\n    \r\n    ...\r\n    }\r\n\r\n","title":"I have created SpringBoot project which is not working","body":"<p>you need to add @RequestMapping on HomeController to identify the resource like this</p>\n<pre><code>@RestController\n@RequestMapping \npublic class HomeController {\n\n...\n}\n</code></pre>\n"}],"owner":{"account_id":25564780,"reputation":11,"user_id":19346574,"display_name":"Khomendra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688403974,"creation_date":1682828859,"question_id":76139539,"body_markdown":"I was following one tutorial to build the project using spring boot. However I am not pro or intermediate in spring boot. So I don&#39;t understand when and the problem occurs in my project. I tried to get the solution, but couldn&#39;t succeed. \r\n\r\nI have attached my code in here:\r\n\r\nSmartContactManagerApplication.java\r\n\r\n\r\n```\r\npackage com.smart;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class }, scanBasePackages={&quot;com.smart.*&quot;})\r\n@ComponentScan(&quot;com.smart.dao.UserRepository&quot;)\r\npublic class SmartContactManagerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SmartContactManagerApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nUser.java\r\n\r\n```\r\npackage com.smart.entities;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.Table;\r\nimport lombok.Data;\r\n\r\n//@Data\r\n@Entity\r\n@Table(name=&quot;User&quot;)\r\npublic class User {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate int id;\r\n\tprivate String name;\r\n\t\r\n\t@Column(unique = true)\r\n\tprivate String email;\r\n\tprivate String password;\r\n\tprivate String role;\r\n\tprivate boolean enable;\r\n\tprivate String imageUrl;\r\n\t\r\n\t@Column(length = 500)\r\n\tprivate String about;\r\n\t\r\n\t//one user can have many contacts\r\n\t@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy=&quot;user&quot;)\r\n\tprivate List&lt;Contact&gt; contactList = new ArrayList&lt;&gt;();\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getRole() {\r\n\t\treturn role;\r\n\t}\r\n\r\n\tpublic void setRole(String role) {\r\n\t\tthis.role = role;\r\n\t}\r\n\r\n\tpublic boolean isEnable() {\r\n\t\treturn enable;\r\n\t}\r\n\r\n\tpublic void setEnable(boolean enable) {\r\n\t\tthis.enable = enable;\r\n\t}\r\n\r\n\tpublic String getImageUrl() {\r\n\t\treturn imageUrl;\r\n\t}\r\n\r\n\tpublic void setImageUrl(String imageUrl) {\r\n\t\tthis.imageUrl = imageUrl;\r\n\t}\r\n\r\n\tpublic String getAbout() {\r\n\t\treturn about;\r\n\t}\r\n\r\n\tpublic void setAbout(String about) {\r\n\t\tthis.about = about;\r\n\t}\r\n\r\n\tpublic List&lt;Contact&gt; getContactList() {\r\n\t\treturn contactList;\r\n\t}\r\n\r\n\tpublic void setContactList(List&lt;Contact&gt; contactList) {\r\n\t\tthis.contactList = contactList;\r\n\t}\r\n\t\r\n\t\r\n\r\n}\r\n```\r\n \r\nUserRepository.java\r\n```\r\npackage com.smart.dao;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.smart.entities.User;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n}\r\n```\r\nHomeController.java\r\n\r\n```\r\npackage com.smart.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\nimport com.smart.dao.UserRepository;\r\nimport com.smart.entities.User;\r\n\r\n@Controller\r\npublic class HomeController {\r\n\t\r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n\t\r\n\t@GetMapping(&quot;/test&quot;) \r\n\t@ResponseBody\r\n\tpublic String test() {\r\n\t\t\r\n\t\tUser user = new User();\r\n\t\tuser.setName(&quot;Sanket Verma&quot;);\r\n\t\tuser.setEmail(&quot;Sanket@gmail.com&quot;);\r\n\t\tSystem.out.println(&quot;Testing&quot;);\r\n\t\t\r\n\t\tuserRepository.save(user);\r\n\t\t\r\n\t\treturn &quot;Working&quot;;\r\n\t}\r\n}\r\n```\r\napplication.properties\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/smartcontact?useSSL=false&amp;useTimezone=true&amp;serverTimezone=UTC\r\nspring.datasource.username=root\r\nspring.datasource.password=root@123\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.properties.hibernate.hbm2ddl.auto=update\r\n\r\n```\r\nContact.java\r\n\r\n```\r\npackage com.smart.entities;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.ManyToOne;\r\nimport jakarta.persistence.Table;\r\nimport lombok.Data;\r\n\r\n//@Data\r\n@Entity\r\n(name = &quot;contact&quot;)\r\npublic class Contact {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate int cId;\r\n\tprivate String fname;\r\n\tprivate String sname;\r\n\tprivate String work;\r\n\tprivate String email;\r\n\tprivate String phone;\r\n\tprivate String image;\r\n\t\r\n\t@Column(length = 1000)\r\n\tprivate String description;\r\n\t\r\n\tpublic int getcId() {\r\n\t\treturn cId;\r\n\t}\r\n\r\n\r\n\r\n\tpublic void setcId(int cId) {\r\n\t\tthis.cId = cId;\r\n\t}\r\n\r\n\r\n\r\n\tpublic String getFname() {\r\n\t\treturn fname;\r\n\t}\r\n\r\n\r\n\r\n\tpublic void setFname(String fname) {\r\n\t\tthis.fname = fname;\r\n\t}\r\n\r\n\r\n\r\n\tpublic String getSname() {\r\n\t\treturn sname;\r\n\t}\r\n\r\n\r\n\r\n\tpublic void setSname(String sname) {\r\n\t\tthis.sname = sname;\r\n\t}\r\n\r\n\r\n\r\n\tpublic String getWork() {\r\n\t\treturn work;\r\n\t}\r\n\r\n\r\n\r\n\tpublic void setWork(String work) {\r\n\t\tthis.work = work;\r\n\t}\r\n\r\n\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\r\n\r\n\tpublic String getPhone() {\r\n\t\treturn phone;\r\n\t}\r\n\r\n\r\n\r\n\tpublic void setPhone(String phone) {\r\n\t\tthis.phone = phone;\r\n\t}\r\n\r\n\r\n\r\n\tpublic String getImage() {\r\n\t\treturn image;\r\n\t}\r\n\r\n\r\n\r\n\tpublic void setImage(String image) {\r\n\t\tthis.image = image;\r\n\t}\r\n\r\n\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n\r\n\r\n\tpublic User getUser() {\r\n\t\treturn user;\r\n\t}\r\n\r\n\r\n\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\r\n\r\n\t//Many contacts can have to one user\r\n\t@ManyToOne\r\n\tprivate User user;\r\n}\r\n```\r\n\r\n\r\nThe Expected output should be that, the name and email will be saved in database when we run the program.","title":"I have created SpringBoot project which is not working","body":"<p>I was following one tutorial to build the project using spring boot. However I am not pro or intermediate in spring boot. So I don't understand when and the problem occurs in my project. I tried to get the solution, but couldn't succeed.</p>\n<p>I have attached my code in here:</p>\n<p>SmartContactManagerApplication.java</p>\n<pre><code>package com.smart;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class }, scanBasePackages={&quot;com.smart.*&quot;})\n@ComponentScan(&quot;com.smart.dao.UserRepository&quot;)\npublic class SmartContactManagerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SmartContactManagerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>User.java</p>\n<pre><code>package com.smart.entities;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\nimport lombok.Data;\n\n//@Data\n@Entity\n@Table(name=&quot;User&quot;)\npublic class User {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    private String name;\n    \n    @Column(unique = true)\n    private String email;\n    private String password;\n    private String role;\n    private boolean enable;\n    private String imageUrl;\n    \n    @Column(length = 500)\n    private String about;\n    \n    //one user can have many contacts\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy=&quot;user&quot;)\n    private List&lt;Contact&gt; contactList = new ArrayList&lt;&gt;();\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getRole() {\n        return role;\n    }\n\n    public void setRole(String role) {\n        this.role = role;\n    }\n\n    public boolean isEnable() {\n        return enable;\n    }\n\n    public void setEnable(boolean enable) {\n        this.enable = enable;\n    }\n\n    public String getImageUrl() {\n        return imageUrl;\n    }\n\n    public void setImageUrl(String imageUrl) {\n        this.imageUrl = imageUrl;\n    }\n\n    public String getAbout() {\n        return about;\n    }\n\n    public void setAbout(String about) {\n        this.about = about;\n    }\n\n    public List&lt;Contact&gt; getContactList() {\n        return contactList;\n    }\n\n    public void setContactList(List&lt;Contact&gt; contactList) {\n        this.contactList = contactList;\n    }\n    \n    \n\n}\n</code></pre>\n<p>UserRepository.java</p>\n<pre><code>package com.smart.dao;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.smart.entities.User;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n}\n</code></pre>\n<p>HomeController.java</p>\n<pre><code>package com.smart.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport com.smart.dao.UserRepository;\nimport com.smart.entities.User;\n\n@Controller\npublic class HomeController {\n    \n    @Autowired\n    private UserRepository userRepository;\n    \n    @GetMapping(&quot;/test&quot;) \n    @ResponseBody\n    public String test() {\n        \n        User user = new User();\n        user.setName(&quot;Sanket Verma&quot;);\n        user.setEmail(&quot;Sanket@gmail.com&quot;);\n        System.out.println(&quot;Testing&quot;);\n        \n        userRepository.save(user);\n        \n        return &quot;Working&quot;;\n    }\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/smartcontact?useSSL=false&amp;useTimezone=true&amp;serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=root@123\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.generate-ddl=true\nspring.jpa.properties.hibernate.hbm2ddl.auto=update\n\n</code></pre>\n<p>Contact.java</p>\n<pre><code>package com.smart.entities;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\nimport lombok.Data;\n\n//@Data\n@Entity\n(name = &quot;contact&quot;)\npublic class Contact {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int cId;\n    private String fname;\n    private String sname;\n    private String work;\n    private String email;\n    private String phone;\n    private String image;\n    \n    @Column(length = 1000)\n    private String description;\n    \n    public int getcId() {\n        return cId;\n    }\n\n\n\n    public void setcId(int cId) {\n        this.cId = cId;\n    }\n\n\n\n    public String getFname() {\n        return fname;\n    }\n\n\n\n    public void setFname(String fname) {\n        this.fname = fname;\n    }\n\n\n\n    public String getSname() {\n        return sname;\n    }\n\n\n\n    public void setSname(String sname) {\n        this.sname = sname;\n    }\n\n\n\n    public String getWork() {\n        return work;\n    }\n\n\n\n    public void setWork(String work) {\n        this.work = work;\n    }\n\n\n\n    public String getEmail() {\n        return email;\n    }\n\n\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n\n\n    public String getPhone() {\n        return phone;\n    }\n\n\n\n    public void setPhone(String phone) {\n        this.phone = phone;\n    }\n\n\n\n    public String getImage() {\n        return image;\n    }\n\n\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n\n\n\n    public String getDescription() {\n        return description;\n    }\n\n\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n\n\n    public User getUser() {\n        return user;\n    }\n\n\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n\n\n    //Many contacts can have to one user\n    @ManyToOne\n    private User user;\n}\n</code></pre>\n<p>The Expected output should be that, the name and email will be saved in database when we run the program.</p>\n"},{"tags":["java","jsp","java-8","jboss7.x","java-17"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1677540991,"post_id":75586087,"comment_id":133354755,"body_markdown":"Did you try top solution? at  https://stackoverflow.com/questions/19467397/eclipse-system-cannot-be-resolved","body":"Did you try top solution? at  <a href=\"https://stackoverflow.com/questions/19467397/eclipse-system-cannot-be-resolved\" title=\"eclipse system cannot be resolved\">stackoverflow.com/questions/19467397/&hellip;</a>"}],"owner":{"account_id":8827261,"reputation":913,"user_id":6595116,"accept_rate":95,"display_name":"TimeToCode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688403902,"creation_date":1677536264,"question_id":75586087,"body_markdown":"I&#39;m currently migrating my app from JBoss **7.3** to **7.4.1**, and Java **8** to **17**.\r\n\r\nThe app starts apparently ok, but in some jsp file are throwing a `JasperException : System cannot be resolved`.\r\n\r\nThis is what the log shows when the error occurs:\r\n\r\n    [# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2) org.apache.jasper.JasperException: JBWEB004062: Unable to compile class for JSP: #]\r\n    [# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2)  #]\r\n    [# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2) JBWEB004060: An error occurred at line: 469 in the jsp file: /someFile.jsp #]\r\n    [# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2) System cannot be resolved #]\r\n    [# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2) 466: var months = [&quot;Enero&quot;,&quot;Febrero&quot;,&quot;Marzo&quot;,&quot;Abril&quot;,&quot;Mayo&quot;,&quot;Junio&quot;,&quot;Julio&quot;,&quot;Agosto&quot;,&quot;Septiembre&quot;,&quot;Octubre&quot;,&quot;Noviembre&quot;,&quot;Diciembre&quot;]; #]\r\n    [# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2) 467: var myVar = window.setInterval(function(){ setTimerHeader() }, 60000); #]\r\n    [# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2) 468: var jsVar = &lt;%=java.util.Calendar.getInstance().getTimeInMillis()%&gt;; #]\r\n    [# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2) 469: var timeZoneOffset =&lt;%=java.util.TimeZone.getDefault().getOffset(System.currentTimeMillis())%&gt;; #]\r\n    [# 2023-02-27 13:57:48,904 ERROR [stderr] (default task-2) 470: jsVar = jsVar; #]\r\n    [# 2023-02-27 13:57:48,904 ERROR [stderr] (default task-2) 471: #]\r\n    [# 2023-02-27 13:57:48,904 ERROR [stderr] (default task-2) 472: var hours = &quot;&quot;; #]\r\n    [# 2023-02-27 13:57:48,905 ERROR [stderr] (default task-2) Stacktrace: #]\r\n    [# 2023-02-27 13:57:48,905 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:95) #]\r\n    [# 2023-02-27 13:57:48,905 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:198) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:455) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.compiler.Compiler.compile(Compiler.java:359) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.compiler.Compiler.compile(Compiler.java:334) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.compiler.Compiler.compile(Compiler.java:321) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:652) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:358) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:403) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.servlet.JspServlet.service(JspServlet.java:347) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at javax.servlet.api@2.0.0.Final-redhat-00001//javax.servlet.http.HttpServlet.service(HttpServlet.java:590) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:81) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) #]\r\n    [# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:262) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.dispatchToServlet(ServletInitialHandler.java:197) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.spec.RequestDispatcherImpl.includeImpl(RequestDispatcherImpl.java:391) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.spec.RequestDispatcherImpl.setupIncludeImpl(RequestDispatcherImpl.java:326) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.spec.RequestDispatcherImpl.include(RequestDispatcherImpl.java:290) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:907) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at org.apache.jsp.inicio_jsp._jspx_meth_logic_005fpresent_005f0(inicio_jsp.java:187) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at org.apache.jsp.inicio_jsp._jspService(inicio_jsp.java:116) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at javax.servlet.api@2.0.0.Final-redhat-00001//javax.servlet.http.HttpServlet.service(HttpServlet.java:590) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:433) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:403) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.servlet.JspServlet.service(JspServlet.java:347) #]\r\n    [# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at javax.servlet.api@2.0.0.Final-redhat-00001//javax.servlet.http.HttpServlet.service(HttpServlet.java:590) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at deployment.regional.war//com.elektra.regional.web.filters.AutenticationFilter.doFilter(AutenticationFilter.java:288) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\r\n    [# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) #]\r\n    [# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) #]\r\n    [# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) #]\r\n    [# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) #]\r\n    [# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50) #]\r\n    [# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) #]\r\n    [# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\r\n    [# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61) #]\r\n    [# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\r\n    [# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68) #]\r\n    [# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52) #]\r\n    [# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\r\n    [# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:280) #]\r\n    [# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79) #]\r\n    [# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:260) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35) #]\r\n    [# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990) #]\r\n    [# 2023-02-27 13:57:48,911 ERROR [stderr] (default task-2)      at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486) #]\r\n    [# 2023-02-27 13:57:48,911 ERROR [stderr] (default task-2)      at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377) #]\r\n    [# 2023-02-27 13:57:48,911 ERROR [stderr] (default task-2)      at org.jboss.xnio@3.8.4.Final-redhat-00001//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280) #]\r\n    [# 2023-02-27 13:57:48,911 ERROR [stderr] (default task-2)      at java.base/java.lang.Thread.run(Thread.java:833) #]\r\n\r\nI&#39;m working with Eclipse, I restarted it and reconfigured Java JDK in the Build Path, but without success.\r\n\r\nI also tried to import the `java.lang.System` class in the jsp file, but it keeps throwing `JasperExcepction`.","title":"JasperException JBWEB004062 Unable to compile class for JSP","body":"<p>I'm currently migrating my app from JBoss <strong>7.3</strong> to <strong>7.4.1</strong>, and Java <strong>8</strong> to <strong>17</strong>.</p>\n<p>The app starts apparently ok, but in some jsp file are throwing a <code>JasperException : System cannot be resolved</code>.</p>\n<p>This is what the log shows when the error occurs:</p>\n<pre><code>[# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2) org.apache.jasper.JasperException: JBWEB004062: Unable to compile class for JSP: #]\n[# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2)  #]\n[# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2) JBWEB004060: An error occurred at line: 469 in the jsp file: /someFile.jsp #]\n[# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2) System cannot be resolved #]\n[# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2) 466: var months = [&quot;Enero&quot;,&quot;Febrero&quot;,&quot;Marzo&quot;,&quot;Abril&quot;,&quot;Mayo&quot;,&quot;Junio&quot;,&quot;Julio&quot;,&quot;Agosto&quot;,&quot;Septiembre&quot;,&quot;Octubre&quot;,&quot;Noviembre&quot;,&quot;Diciembre&quot;]; #]\n[# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2) 467: var myVar = window.setInterval(function(){ setTimerHeader() }, 60000); #]\n[# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2) 468: var jsVar = &lt;%=java.util.Calendar.getInstance().getTimeInMillis()%&gt;; #]\n[# 2023-02-27 13:57:48,903 ERROR [stderr] (default task-2) 469: var timeZoneOffset =&lt;%=java.util.TimeZone.getDefault().getOffset(System.currentTimeMillis())%&gt;; #]\n[# 2023-02-27 13:57:48,904 ERROR [stderr] (default task-2) 470: jsVar = jsVar; #]\n[# 2023-02-27 13:57:48,904 ERROR [stderr] (default task-2) 471: #]\n[# 2023-02-27 13:57:48,904 ERROR [stderr] (default task-2) 472: var hours = &quot;&quot;; #]\n[# 2023-02-27 13:57:48,905 ERROR [stderr] (default task-2) Stacktrace: #]\n[# 2023-02-27 13:57:48,905 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:95) #]\n[# 2023-02-27 13:57:48,905 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:198) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:455) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.compiler.Compiler.compile(Compiler.java:359) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.compiler.Compiler.compile(Compiler.java:334) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.compiler.Compiler.compile(Compiler.java:321) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:652) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:358) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:403) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.servlet.JspServlet.service(JspServlet.java:347) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at javax.servlet.api@2.0.0.Final-redhat-00001//javax.servlet.http.HttpServlet.service(HttpServlet.java:590) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:81) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) #]\n[# 2023-02-27 13:57:48,906 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:262) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.dispatchToServlet(ServletInitialHandler.java:197) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.spec.RequestDispatcherImpl.includeImpl(RequestDispatcherImpl.java:391) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.spec.RequestDispatcherImpl.setupIncludeImpl(RequestDispatcherImpl.java:326) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.spec.RequestDispatcherImpl.include(RequestDispatcherImpl.java:290) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:907) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at org.apache.jsp.inicio_jsp._jspx_meth_logic_005fpresent_005f0(inicio_jsp.java:187) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at org.apache.jsp.inicio_jsp._jspService(inicio_jsp.java:116) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at javax.servlet.api@2.0.0.Final-redhat-00001//javax.servlet.http.HttpServlet.service(HttpServlet.java:590) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:433) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:403) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//org.apache.jasper.servlet.JspServlet.service(JspServlet.java:347) #]\n[# 2023-02-27 13:57:48,907 ERROR [stderr] (default task-2)      at javax.servlet.api@2.0.0.Final-redhat-00001//javax.servlet.http.HttpServlet.service(HttpServlet.java:590) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at deployment.regional.war//com.elektra.regional.web.filters.AutenticationFilter.doFilter(AutenticationFilter.java:288) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.jsp@2.0.9.Final-redhat-00001//io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\n[# 2023-02-27 13:57:48,908 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) #]\n[# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) #]\n[# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) #]\n[# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) #]\n[# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50) #]\n[# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) #]\n[# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\n[# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61) #]\n[# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\n[# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68) #]\n[# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52) #]\n[# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) #]\n[# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:280) #]\n[# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79) #]\n[# 2023-02-27 13:57:48,909 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at org.wildfly.extension.undertow@7.4.1.GA-redhat-00003//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:260) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.servlet@2.2.9.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at io.undertow.core@2.2.9.SP1-redhat-00001//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35) #]\n[# 2023-02-27 13:57:48,910 ERROR [stderr] (default task-2)      at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990) #]\n[# 2023-02-27 13:57:48,911 ERROR [stderr] (default task-2)      at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486) #]\n[# 2023-02-27 13:57:48,911 ERROR [stderr] (default task-2)      at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377) #]\n[# 2023-02-27 13:57:48,911 ERROR [stderr] (default task-2)      at org.jboss.xnio@3.8.4.Final-redhat-00001//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280) #]\n[# 2023-02-27 13:57:48,911 ERROR [stderr] (default task-2)      at java.base/java.lang.Thread.run(Thread.java:833) #]\n</code></pre>\n<p>I'm working with Eclipse, I restarted it and reconfigured Java JDK in the Build Path, but without success.</p>\n<p>I also tried to import the <code>java.lang.System</code> class in the jsp file, but it keeps throwing <code>JasperExcepction</code>.</p>\n"},{"tags":["java","spring","jpa","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":308815,"reputation":3962,"user_id":620908,"display_name":"Adrian Colomitchi"},"score":8,"creation_date":1475048970,"post_id":39741102,"comment_id":66779535,"body_markdown":"&quot;So currently there is no way to update an existing customer (except than deleting the entry in the DB and createing a new Cusomter with a new auto-generated id)&quot; [Say... what?](http://www.objectdb.com/java/jpa/persistence/update). How did you get to this idea?","body":"&quot;So currently there is no way to update an existing customer (except than deleting the entry in the DB and createing a new Cusomter with a new auto-generated id)&quot; <a href=\"http://www.objectdb.com/java/jpa/persistence/update\" rel=\"nofollow noreferrer\">Say... what?</a>. How did you get to this idea?"},{"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"score":0,"creation_date":1475049316,"post_id":39741102,"comment_id":66779749,"body_markdown":"if you are calling `save()` with the same ID and you havent overridden it, it will give you a Duplicate ID exception. If you have configured Spring Transactions properly , then whenever you have fetched a customer from the DB and simply setting the values you want, you could see that some queries will be written out in the logs. But still lets consider it without JPA , in your scenarios generally how you could update a customer row with simple sql ???? if you dont have the ID????","body":"if you are calling <code>save()</code> with the same ID and you havent overridden it, it will give you a Duplicate ID exception. If you have configured Spring Transactions properly , then whenever you have fetched a customer from the DB and simply setting the values you want, you could see that some queries will be written out in the logs. But still lets consider it without JPA , in your scenarios generally how you could update a customer row with simple sql ???? if you dont have the ID????"},{"owner":{"account_id":2436874,"reputation":1947,"user_id":2498301,"accept_rate":91,"display_name":"Lukas Makor"},"score":0,"creation_date":1475049436,"post_id":39741102,"comment_id":66779817,"body_markdown":"I will add some clarfications in a moment, thanks for your comments","body":"I will add some clarfications in a moment, thanks for your comments"},{"owner":{"account_id":2436874,"reputation":1947,"user_id":2498301,"accept_rate":91,"display_name":"Lukas Makor"},"score":0,"creation_date":1475049840,"post_id":39741102,"comment_id":66780065,"body_markdown":"I updated the question to make it somewhat clearer","body":"I updated the question to make it somewhat clearer"},{"owner":{"account_id":1133503,"reputation":3630,"user_id":1119043,"accept_rate":0,"display_name":"belgoros"},"score":0,"creation_date":1597673643,"post_id":39741102,"comment_id":112202642,"body_markdown":"You can remove `strategy = GenerationType.AUTO`as it is by default. The same for `@Column(name = &quot;id&quot;)` as it is exactly the same as `id` attribute.","body":"You can remove <code>strategy = GenerationType.AUTO</code>as it is by default. The same for <code>@Column(name = &quot;id&quot;)</code> as it is exactly the same as <code>id</code> attribute."}],"answers":[{"tags":[],"owner":{"account_id":3795830,"reputation":6437,"user_id":3150948,"accept_rate":70,"display_name":"Amer Qarabsa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475049411,"creation_date":1475049411,"answer_id":39741354,"question_id":39741102,"body_markdown":"This is more  an object initialzation question more than a jpa question, both methods work and you can have both of them at the same time , usually if the data member value is ready before the instantiation you use the constructor parameters, if this value could be updated after the instantiation you should have a setter. ","title":"How to beautifully update a JPA entity in Spring Data?","body":"<p>This is more  an object initialzation question more than a jpa question, both methods work and you can have both of them at the same time , usually if the data member value is ready before the instantiation you use the constructor parameters, if this value could be updated after the instantiation you should have a setter. </p>\n"},{"tags":[],"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475050037,"creation_date":1475050037,"answer_id":39741542,"question_id":39741102,"body_markdown":"If you need to work with DTOs rather than entities directly then you should retrieve the **existing** Customer instance and map the updated fields from the DTO to that.\r\n\r\n    Customer entity = //load from DB\r\n    //map fields from DTO to entity","title":"How to beautifully update a JPA entity in Spring Data?","body":"<p>If you need to work with DTOs rather than entities directly then you should retrieve the <strong>existing</strong> Customer instance and map the updated fields from the DTO to that.</p>\n\n<pre><code>Customer entity = //load from DB\n//map fields from DTO to entity\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1939703,"reputation":1882,"user_id":1746167,"accept_rate":62,"display_name":"Esty"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1475050184,"creation_date":1475050184,"answer_id":39741573,"question_id":39741102,"body_markdown":"Simple JPA update..  \r\n\r\n    Customer customer = em.find(id, Customer.class); //Consider em as JPA EntityManager\r\n    customer.setName(customerDto.getName);\r\n    em.merge(customer);","title":"How to beautifully update a JPA entity in Spring Data?","body":"<p>Simple JPA update..  </p>\n\n<pre><code>Customer customer = em.find(id, Customer.class); //Consider em as JPA EntityManager\ncustomer.setName(customerDto.getName);\nem.merge(customer);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"down_vote_count":5,"up_vote_count":143,"is_accepted":true,"score":138,"last_activity_date":1688403874,"creation_date":1475064215,"answer_id":39746931,"question_id":39741102,"body_markdown":"`T getById(ID id)` has been deprecated since 2.7. [Please use `T getReferenceById(ID id)` instead.][3] The idea is the same, it returns a reference only. But it is more self-explained, as &quot;getById&quot; maybe unclear and &quot;getReferenceById&quot; would be less ambiguous.\r\n\r\n    Customer customerToUpdate = customerRepository.getReferenceById(id);\r\n    customerToUpdate.setName(customerDto.getName);\r\n    customerRepository.save(customerToUpdate);\r\n---\r\n\r\nEven better then @Tanjim Rahman answer you can using Spring Data JPA use the method [`T getOne(ID id)`][1] \r\n\r\n\r\n    Customer customerToUpdate = customerRepository.getOne(id);\r\n    customerToUpdate.setName(customerDto.getName);\r\n    customerRepository.save(customerToUpdate);\r\n\r\n\r\nIs&#39;s better because `getOne(ID id)` [gets you only a reference][2] (proxy) object and does not fetch it from the DB. On this reference you can set what you want and on `save()` it will do just an SQL UPDATE statement like you expect it. In comparsion when you call `find()` like in @Tanjim Rahmans answer spring data JPA will do an SQL SELECT to physically fetch the entity from the DB, which you dont need, when you are just updating.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#getOne-ID-\r\n  [2]: http://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#getReference-java.lang.Class-java.lang.Object-\r\n  [3]: https://docs.spring.io/spring-data/jpa/docs/current/api/deprecated-list.html","title":"How to beautifully update a JPA entity in Spring Data?","body":"<p><code>T getById(ID id)</code> has been deprecated since 2.7. <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/deprecated-list.html\" rel=\"nofollow noreferrer\">Please use <code>T getReferenceById(ID id)</code> instead.</a> The idea is the same, it returns a reference only. But it is more self-explained, as &quot;getById&quot; maybe unclear and &quot;getReferenceById&quot; would be less ambiguous.</p>\n<pre><code>Customer customerToUpdate = customerRepository.getReferenceById(id);\ncustomerToUpdate.setName(customerDto.getName);\ncustomerRepository.save(customerToUpdate);\n</code></pre>\n<hr />\n<p>Even better then @Tanjim Rahman answer you can using Spring Data JPA use the method <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#getOne-ID-\" rel=\"nofollow noreferrer\"><code>T getOne(ID id)</code></a></p>\n<pre><code>Customer customerToUpdate = customerRepository.getOne(id);\ncustomerToUpdate.setName(customerDto.getName);\ncustomerRepository.save(customerToUpdate);\n</code></pre>\n<p>Is's better because <code>getOne(ID id)</code> <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#getReference-java.lang.Class-java.lang.Object-\" rel=\"nofollow noreferrer\">gets you only a reference</a> (proxy) object and does not fetch it from the DB. On this reference you can set what you want and on <code>save()</code> it will do just an SQL UPDATE statement like you expect it. In comparsion when you call <code>find()</code> like in @Tanjim Rahmans answer spring data JPA will do an SQL SELECT to physically fetch the entity from the DB, which you dont need, when you are just updating.</p>\n"},{"tags":[],"owner":{"account_id":2757491,"reputation":849,"user_id":2375159,"accept_rate":55,"display_name":"gorefest"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1577906937,"creation_date":1550147048,"answer_id":54690344,"question_id":39741102,"body_markdown":"In Spring Data you simply define an update query if you have the ID\r\n\r\n      @Repository\r\n      public interface CustomerRepository extends JpaRepository&lt;Customer , Long&gt; {\r\n\r\n         @Query(&quot;update Customer c set c.name = :name WHERE c.id = :customerId&quot;)\r\n         void setCustomerName(@Param(&quot;customerId&quot;) Long id, @Param(&quot;name&quot;) String name);\r\n         \r\n      }\r\n\r\nSome solutions claim to use Spring data and do JPA oldschool (even in a manner with lost updates) instead.\r\n\r\n","title":"How to beautifully update a JPA entity in Spring Data?","body":"<p>In Spring Data you simply define an update query if you have the ID</p>\n\n<pre><code>  @Repository\n  public interface CustomerRepository extends JpaRepository&lt;Customer , Long&gt; {\n\n     @Query(\"update Customer c set c.name = :name WHERE c.id = :customerId\")\n     void setCustomerName(@Param(\"customerId\") Long id, @Param(\"name\") String name);\n\n  }\n</code></pre>\n\n<p>Some solutions claim to use Spring data and do JPA oldschool (even in a manner with lost updates) instead.</p>\n"},{"tags":[],"owner":{"account_id":7844482,"reputation":1806,"user_id":5929974,"accept_rate":33,"display_name":"Andreas Gelever"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564128020,"creation_date":1564127689,"answer_id":57215555,"question_id":39741102,"body_markdown":"&gt; So now assume the Customer wants to change his name in the webui -\r\n&gt; then there will be some controller action, where there will be the\r\n&gt; updated DTO with the old ID and the new name.\r\n\r\nNormally, you have the following workflow:\r\n\r\n 1. User requests his data from server and obtains them in UI;\r\n 2. User corrects his data and sends it back to server with already present ID;\r\n 3. On server you obtain DTO with updated data by user, find it in DB by ID (otherwise throw exception) and transform DTO -&gt; Entity with all given data, foreign keys, etc...\r\n 4. Then you just **merge** it, or if using Spring Data invoke save(), which in turn will **merge** it (see this [thread][1]);\r\n\r\n**P.S.** This operation will inevitably issue 2 queries: select and update. Again, 2 queries, even if you wanna update a single field. However, if you utilize Hibernate&#39;s proprietary [@DynamicUpdate][2] annotation on top of entity class, it will help you not to include into update statement all the fields, but only those that actually changed.\r\n\r\n**P.S.** If you do not wanna pay for first select statement and prefer to use Spring Data&#39;s [@Modifying][3] query, be prepared to lose L2C cache region related to modifiable entity; even worse situation with native update queries (see this [thread][4]) and also of course be prepared to write those queries manually, test them and support them in the future.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38893831/spring-data-crudrepositorys-save-method-and-update\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/annotations/DynamicUpdate.html\r\n  [3]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries\r\n  [4]: https://stackoverflow.com/questions/6095173/does-hql-update-clear-2nd-level-cache","title":"How to beautifully update a JPA entity in Spring Data?","body":"<blockquote>\n  <p>So now assume the Customer wants to change his name in the webui -\n  then there will be some controller action, where there will be the\n  updated DTO with the old ID and the new name.</p>\n</blockquote>\n\n<p>Normally, you have the following workflow:</p>\n\n<ol>\n<li>User requests his data from server and obtains them in UI;</li>\n<li>User corrects his data and sends it back to server with already present ID;</li>\n<li>On server you obtain DTO with updated data by user, find it in DB by ID (otherwise throw exception) and transform DTO -> Entity with all given data, foreign keys, etc...</li>\n<li>Then you just <strong>merge</strong> it, or if using Spring Data invoke save(), which in turn will <strong>merge</strong> it (see this <a href=\"https://stackoverflow.com/questions/38893831/spring-data-crudrepositorys-save-method-and-update\">thread</a>);</li>\n</ol>\n\n<p><strong>P.S.</strong> This operation will inevitably issue 2 queries: select and update. Again, 2 queries, even if you wanna update a single field. However, if you utilize Hibernate's proprietary <a href=\"https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/annotations/DynamicUpdate.html\" rel=\"nofollow noreferrer\">@DynamicUpdate</a> annotation on top of entity class, it will help you not to include into update statement all the fields, but only those that actually changed.</p>\n\n<p><strong>P.S.</strong> If you do not wanna pay for first select statement and prefer to use Spring Data's <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries\" rel=\"nofollow noreferrer\">@Modifying</a> query, be prepared to lose L2C cache region related to modifiable entity; even worse situation with native update queries (see this <a href=\"https://stackoverflow.com/questions/6095173/does-hql-update-clear-2nd-level-cache\">thread</a>) and also of course be prepared to write those queries manually, test them and support them in the future.</p>\n"},{"tags":[],"owner":{"account_id":12464726,"reputation":107,"user_id":11823484,"display_name":"Neo_"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1564737652,"creation_date":1564737311,"answer_id":57323399,"question_id":39741102,"body_markdown":"I have encountered this issue!\r\n&lt;br&gt;\r\nLuckily, I determine ***2 ways*** and understand some things but the rest is not clear.\r\n&lt;br&gt; Hope someone discuss or support if you know.\r\n\r\n 1. Use **RepositoryExtendJPA.save(entity)**. &lt;br&gt;Example: \r\n&lt;br&gt;```List&lt;Person&gt; person = this.PersonRepository.findById(0)\r\n person.setName(&quot;Neo&quot;);\r\nThis.PersonReository.save(person);```\r\n&lt;br&gt;this block code updated new name for record which has id = 0;\r\n 2. Use **@Transactional** from javax or spring framework. &lt;br&gt; Let put @Transactional upon your class or specified function, both are ok. &lt;br&gt; I read at somewhere that this annotation do a &quot;commit&quot; action at the end your function flow. So, every things you modified at entity would be updated to database.\r\n\r\n","title":"How to beautifully update a JPA entity in Spring Data?","body":"<p>I have encountered this issue!\n<br>\nLuckily, I determine <strong><em>2 ways</em></strong> and understand some things but the rest is not clear.\n<br> Hope someone discuss or support if you know.</p>\n\n<ol>\n<li>Use <strong>RepositoryExtendJPA.save(entity)</strong>. <br>Example: \n<br><code>List&lt;Person&gt; person = this.PersonRepository.findById(0)\nperson.setName(\"Neo\");\nThis.PersonReository.save(person);</code>\n<br>this block code updated new name for record which has id = 0;</li>\n<li>Use <strong>@Transactional</strong> from javax or spring framework. <br> Let put @Transactional upon your class or specified function, both are ok. <br> I read at somewhere that this annotation do a \"commit\" action at the end your function flow. So, every things you modified at entity would be updated to database.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1428016,"reputation":346,"user_id":1351061,"display_name":"santik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641815362,"creation_date":1641815362,"answer_id":70651931,"question_id":39741102,"body_markdown":"There is a method in JpaRepository\r\n\r\n    getOne\r\n\r\nIt is deprecated at the moment in favor of \r\n\r\n    getById\r\n\r\nSo correct approach would be\r\n\r\n    Customer customerToUpdate = customerRepository.getById(id);\r\n    customerToUpdate.setName(customerDto.getName);\r\n    customerRepository.save(customerToUpdate);","title":"How to beautifully update a JPA entity in Spring Data?","body":"<p>There is a method in JpaRepository</p>\n<pre><code>getOne\n</code></pre>\n<p>It is deprecated at the moment in favor of</p>\n<pre><code>getById\n</code></pre>\n<p>So correct approach would be</p>\n<pre><code>Customer customerToUpdate = customerRepository.getById(id);\ncustomerToUpdate.setName(customerDto.getName);\ncustomerRepository.save(customerToUpdate);\n</code></pre>\n"}],"owner":{"account_id":2436874,"reputation":1947,"user_id":2498301,"accept_rate":91,"display_name":"Lukas Makor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312549,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":39746931,"answer_count":8,"score":72,"last_activity_date":1688403874,"creation_date":1475048699,"question_id":39741102,"body_markdown":"So I have looked at various tutorials about JPA with Spring Data and this has been done different on many occasions and I am no quite sure what the correct approach is.\r\n\r\nAssume there is the follwing entity:\r\n\r\n    package stackoverflowTest.dao;\r\n\r\n    import javax.persistence.*;\r\n\r\n    @Entity\r\n    @Table(name = &quot;customers&quot;)\r\n    public class Customer {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    public Customer(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Customer() {\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    }\r\n\r\n\r\nWe also have a DTO which is retrieved in the service layer and then handed to the controller/client side.\r\n\r\n    package stackoverflowTest.dto;\r\n\r\n    public class CustomerDto {\r\n    \r\n    private long id;\r\n    private String name;\r\n\r\n    public CustomerDto(long id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    }\r\n\r\n\r\nSo now assume the Customer wants to change his name in the webui - then there will be some controller action, where there will be the updated DTO with the old ID and the new name.\r\n\r\nNow I have to save this updated DTO to the database.\r\n\r\n\r\nUnluckily currently there is no way to update an existing customer (except than deleting the entry in the DB and creating a new Cusomter with a new auto-generated id)\r\n\r\nHowever as this is not feasible (especially considering such an entity could have hundreds of relations potentially) - so there come 2 straight forward solutions to my mind:\r\n\r\n1. make a setter for the id in the Customer class - and thus allow setting of the id and then save the Customer object via the corresponding repository.\r\n\r\nor\r\n\r\n2. add the id field to the constructor and whenever you want to update a customer you always create a new object with the old id, but the new values for the other fields (in this case only the name)\r\n\r\nSo my question is wether there is a general rule how to do this?\r\nAny maybe what the drawbacks of the 2 methods I explained are?","title":"How to beautifully update a JPA entity in Spring Data?","body":"<p>So I have looked at various tutorials about JPA with Spring Data and this has been done different on many occasions and I am no quite sure what the correct approach is.</p>\n\n<p>Assume there is the follwing entity:</p>\n\n<pre><code>package stackoverflowTest.dao;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = \"customers\")\npublic class Customer {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = \"id\")\nprivate long id;\n\n@Column(name = \"name\")\nprivate String name;\n\npublic Customer(String name) {\n    this.name = name;\n}\n\npublic Customer() {\n}\n\npublic long getId() {\n    return id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n}\n</code></pre>\n\n<p>We also have a DTO which is retrieved in the service layer and then handed to the controller/client side.</p>\n\n<pre><code>package stackoverflowTest.dto;\n\npublic class CustomerDto {\n\nprivate long id;\nprivate String name;\n\npublic CustomerDto(long id, String name) {\n    this.id = id;\n    this.name = name;\n}\n\npublic long getId() {\n    return id;\n}\n\npublic void setId(long id) {\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n}\n</code></pre>\n\n<p>So now assume the Customer wants to change his name in the webui - then there will be some controller action, where there will be the updated DTO with the old ID and the new name.</p>\n\n<p>Now I have to save this updated DTO to the database.</p>\n\n<p>Unluckily currently there is no way to update an existing customer (except than deleting the entry in the DB and creating a new Cusomter with a new auto-generated id)</p>\n\n<p>However as this is not feasible (especially considering such an entity could have hundreds of relations potentially) - so there come 2 straight forward solutions to my mind:</p>\n\n<ol>\n<li>make a setter for the id in the Customer class - and thus allow setting of the id and then save the Customer object via the corresponding repository.</li>\n</ol>\n\n<p>or</p>\n\n<ol start=\"2\">\n<li>add the id field to the constructor and whenever you want to update a customer you always create a new object with the old id, but the new values for the other fields (in this case only the name)</li>\n</ol>\n\n<p>So my question is wether there is a general rule how to do this?\nAny maybe what the drawbacks of the 2 methods I explained are?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9661,"page":331,"page_size":100}
