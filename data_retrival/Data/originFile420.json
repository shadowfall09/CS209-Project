{"items":[{"tags":["java","spring-boot","openstreetmap","graphhopper"],"owner":{"account_id":28620230,"reputation":1,"user_id":21913423,"display_name":"SVG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684707268,"creation_date":1684707268,"question_id":76302141,"body_markdown":"I have a local instance of graphhopper running on the back-end using java spring boot.\r\nthis is the code: \r\n\r\n\r\n\r\n```\r\npackage com.example.greenpathsbe.Services;\r\n\r\nimport com.graphhopper.GraphHopper;\r\nimport com.graphhopper.GraphHopperConfig;\r\nimport com.graphhopper.ResponsePath;\r\nimport com.graphhopper.reader.osm.GraphHopperOSM;\r\nimport com.graphhopper.config.Profile;\r\nimport com.graphhopper.util.Instruction;\r\nimport com.graphhopper.util.PointList;\r\nimport com.graphhopper.util.shapes.GHPoint;\r\nimport org.apache.commons.csv.CSVFormat;\r\nimport org.apache.commons.csv.CSVRecord;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.annotation.PostConstruct;\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\n@Service\r\npublic class GraphHopperService {\r\n\r\n    @Value(&quot;${graphhopper.data.path}&quot;)\r\n    private String dataPath;\r\n\r\n    @Value(&quot;${graphhopper.data.pathToCsv}&quot;)\r\n    private String path;\r\n    private String graphFolder = &quot;./graphFolder&quot;;\r\n\r\n    private List&lt;Profile&gt; profiles;\r\n    private GraphHopper graphHopper;\r\n\r\n\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        Profile profile = new Profile(&quot;my_profile&quot;)\r\n                .setVehicle(&quot;foot&quot;)\r\n                \r\n                .setWeighting(&quot;shortest&quot;);\r\n        profile.getHints().put(&quot;instructions&quot;, &quot;true&quot;);\r\n        profiles = new ArrayList&lt;&gt;();\r\n        profiles.add(profile);\r\n        graphHopper = new GraphHopperOSM();\r\n        graphHopper.setOSMFile(dataPath + &quot;eindhoven.osm.pbf&quot;);\r\n        graphHopper.init(new GraphHopperConfig().setProfiles(profiles));\r\n        graphHopper.setGraphHopperLocation(graphFolder);\r\n        graphHopper.getCHPreparationHandler();\r\n        graphHopper.importOrLoad();\r\n    }\r\n\r\n    public GraphHopper getGraphHopper() {\r\n        return graphHopper;\r\n    }\r\n    public List&lt;CustomPath&gt; createCustomPaths(List&lt;ResponsePath&gt; responsePaths) {\r\n        List&lt;CustomPath&gt; customPaths = new ArrayList&lt;&gt;();\r\n        for (ResponsePath responsePath : responsePaths) {\r\n            CustomPath customPath = new CustomPath();\r\n            List&lt;Coordinate&gt; coordinates = new ArrayList&lt;&gt;();\r\n            for (GHPoint point : responsePath.getPoints()) {\r\n                Coordinate coordinate = new Coordinate();\r\n                coordinate.setLatitude(point.getLat());\r\n                coordinate.setLongitude(point.getLon());\r\n                coordinates.add(coordinate);\r\n            }\r\n            customPath.setNodes(coordinates.size());\r\n            customPath.setCoordinates(coordinates);\r\n            List&lt;PathSegment&gt; pathSegments = new ArrayList&lt;&gt;();\r\n            for (Instruction instruction : responsePath.getInstructions()) {\r\n                PathSegment pathSegment = new PathSegment();\r\n                pathSegment.setId(instruction.getSign());\r\n                pathSegment.setName(instruction.getName());\r\n                pathSegment.setDistance(instruction.getDistance());\r\n                pathSegment.setTime(instruction.getTime());\r\n                pathSegments.add(pathSegment);\r\n            }\r\n            customPath.setPathSegments(pathSegments);\r\n            customPaths.add(customPath);\r\n        }\r\n        return customPaths;\r\n    }\r\n    public CustomPath createCustomPath(ResponsePath responsePath) {\r\n        CustomPath customPath = new CustomPath();\r\n        List&lt;Coordinate&gt; coordinates = new ArrayList&lt;&gt;();\r\n        for (GHPoint point : responsePath.getPoints()) {\r\n            Coordinate coordinate = new Coordinate();\r\n            coordinate.setLatitude(point.getLat());\r\n            coordinate.setLongitude(point.getLon());\r\n            coordinates.add(coordinate);\r\n        }\r\n        customPath.setNodes(coordinates.size());\r\n        customPath.setCoordinates(coordinates);\r\n        List&lt;PathSegment&gt; pathSegments = new ArrayList&lt;&gt;();\r\n        for (Instruction instruction : responsePath.getInstructions()) {\r\n            PathSegment pathSegment = new PathSegment();\r\n            pathSegment.setId(instruction.getSign());\r\n            pathSegment.setName(instruction.getName());\r\n            pathSegment.setDistance(instruction.getDistance());\r\n            pathSegment.setTime(instruction.getTime());\r\n            pathSegments.add(pathSegment);\r\n        }\r\n        customPath.setPathSegments(pathSegments);\r\n        return customPath;\r\n    }\r\n}\r\n\r\n\r\n```\r\nThis is the controller which I call in the front-end: \r\n\r\n\r\n```\r\npackage com.example.greenpathsbe.controller;\r\n\r\nimport com.example.greenpathsbe.Services.CustomPath;\r\nimport com.example.greenpathsbe.Services.ExtendedResponsePath;\r\nimport com.example.greenpathsbe.Services.GraphHopperService;\r\nimport com.graphhopper.GHRequest;\r\nimport com.graphhopper.GHResponse;\r\nimport com.graphhopper.ResponsePath;\r\nimport com.graphhopper.util.Parameters;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.converter.HttpMessageNotWritableException;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport com.graphhopper.routing.Path;\r\n\r\nimport java.lang.reflect.Parameter;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/routes&quot;)\r\n@AllArgsConstructor\r\n@CrossOrigin(origins = &quot;http://localhost:3000/&quot;)\r\npublic class RouteController {\r\n    @Autowired\r\n    private GraphHopperService graphHopperService;\r\n\r\n    @GetMapping\r\n    public List&lt;CustomPath&gt; getRoute(\r\n            @RequestParam(&quot;fromLat&quot;) double fromLat,\r\n            @RequestParam(&quot;fromLng&quot;) double fromLng,\r\n            @RequestParam(&quot;toLat&quot;) double toLat,\r\n            @RequestParam(&quot;toLng&quot;) double toLng) {\r\n\r\n            System.out.println(&quot;fromLat: &quot; + fromLat);\r\n            System.out.println(&quot;fromLng: &quot; + fromLng);\r\n            System.out.println(&quot;toLat: &quot; + toLat);\r\n            System.out.println(&quot;toLng: &quot; + toLng);\r\n            GHRequest request = new GHRequest(fromLat, fromLng, toLat, toLng).setProfile(&quot;my_profile&quot;).setAlgorithm(Parameters.Algorithms.ALT_ROUTE);\r\n            request.getHints().put(&quot;instructions&quot;, &quot;true&quot;);  // Might be useless\r\n            GHResponse response = graphHopperService.getGraphHopper().route(request);\r\n            List&lt;ResponsePath&gt; responsePaths = response.getAll();\r\n            System.out.println(&quot;response: &quot; + response);\r\n\r\n          //  return graphHopperService.createCustomPath(response.getBest());\r\n            return graphHopperService.createCustomPaths(responsePaths);\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI am trying to make it so it will return multiple routes between point A and B. Right now I get a maximum of 2 routes which is not sufficient for my needs. Any ideas what can I do?","title":"Return multiple routes using Graphhopper","body":"<p>I have a local instance of graphhopper running on the back-end using java spring boot.\nthis is the code:</p>\n<pre><code>package com.example.greenpathsbe.Services;\n\nimport com.graphhopper.GraphHopper;\nimport com.graphhopper.GraphHopperConfig;\nimport com.graphhopper.ResponsePath;\nimport com.graphhopper.reader.osm.GraphHopperOSM;\nimport com.graphhopper.config.Profile;\nimport com.graphhopper.util.Instruction;\nimport com.graphhopper.util.PointList;\nimport com.graphhopper.util.shapes.GHPoint;\nimport org.apache.commons.csv.CSVFormat;\nimport org.apache.commons.csv.CSVRecord;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.PostConstruct;\nimport java.io.*;\nimport java.util.*;\n\n@Service\npublic class GraphHopperService {\n\n    @Value(&quot;${graphhopper.data.path}&quot;)\n    private String dataPath;\n\n    @Value(&quot;${graphhopper.data.pathToCsv}&quot;)\n    private String path;\n    private String graphFolder = &quot;./graphFolder&quot;;\n\n    private List&lt;Profile&gt; profiles;\n    private GraphHopper graphHopper;\n\n\n\n    @PostConstruct\n    public void init() {\n        Profile profile = new Profile(&quot;my_profile&quot;)\n                .setVehicle(&quot;foot&quot;)\n                \n                .setWeighting(&quot;shortest&quot;);\n        profile.getHints().put(&quot;instructions&quot;, &quot;true&quot;);\n        profiles = new ArrayList&lt;&gt;();\n        profiles.add(profile);\n        graphHopper = new GraphHopperOSM();\n        graphHopper.setOSMFile(dataPath + &quot;eindhoven.osm.pbf&quot;);\n        graphHopper.init(new GraphHopperConfig().setProfiles(profiles));\n        graphHopper.setGraphHopperLocation(graphFolder);\n        graphHopper.getCHPreparationHandler();\n        graphHopper.importOrLoad();\n    }\n\n    public GraphHopper getGraphHopper() {\n        return graphHopper;\n    }\n    public List&lt;CustomPath&gt; createCustomPaths(List&lt;ResponsePath&gt; responsePaths) {\n        List&lt;CustomPath&gt; customPaths = new ArrayList&lt;&gt;();\n        for (ResponsePath responsePath : responsePaths) {\n            CustomPath customPath = new CustomPath();\n            List&lt;Coordinate&gt; coordinates = new ArrayList&lt;&gt;();\n            for (GHPoint point : responsePath.getPoints()) {\n                Coordinate coordinate = new Coordinate();\n                coordinate.setLatitude(point.getLat());\n                coordinate.setLongitude(point.getLon());\n                coordinates.add(coordinate);\n            }\n            customPath.setNodes(coordinates.size());\n            customPath.setCoordinates(coordinates);\n            List&lt;PathSegment&gt; pathSegments = new ArrayList&lt;&gt;();\n            for (Instruction instruction : responsePath.getInstructions()) {\n                PathSegment pathSegment = new PathSegment();\n                pathSegment.setId(instruction.getSign());\n                pathSegment.setName(instruction.getName());\n                pathSegment.setDistance(instruction.getDistance());\n                pathSegment.setTime(instruction.getTime());\n                pathSegments.add(pathSegment);\n            }\n            customPath.setPathSegments(pathSegments);\n            customPaths.add(customPath);\n        }\n        return customPaths;\n    }\n    public CustomPath createCustomPath(ResponsePath responsePath) {\n        CustomPath customPath = new CustomPath();\n        List&lt;Coordinate&gt; coordinates = new ArrayList&lt;&gt;();\n        for (GHPoint point : responsePath.getPoints()) {\n            Coordinate coordinate = new Coordinate();\n            coordinate.setLatitude(point.getLat());\n            coordinate.setLongitude(point.getLon());\n            coordinates.add(coordinate);\n        }\n        customPath.setNodes(coordinates.size());\n        customPath.setCoordinates(coordinates);\n        List&lt;PathSegment&gt; pathSegments = new ArrayList&lt;&gt;();\n        for (Instruction instruction : responsePath.getInstructions()) {\n            PathSegment pathSegment = new PathSegment();\n            pathSegment.setId(instruction.getSign());\n            pathSegment.setName(instruction.getName());\n            pathSegment.setDistance(instruction.getDistance());\n            pathSegment.setTime(instruction.getTime());\n            pathSegments.add(pathSegment);\n        }\n        customPath.setPathSegments(pathSegments);\n        return customPath;\n    }\n}\n\n\n</code></pre>\n<p>This is the controller which I call in the front-end:</p>\n<pre><code>package com.example.greenpathsbe.controller;\n\nimport com.example.greenpathsbe.Services.CustomPath;\nimport com.example.greenpathsbe.Services.ExtendedResponsePath;\nimport com.example.greenpathsbe.Services.GraphHopperService;\nimport com.graphhopper.GHRequest;\nimport com.graphhopper.GHResponse;\nimport com.graphhopper.ResponsePath;\nimport com.graphhopper.util.Parameters;\nimport lombok.AllArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.converter.HttpMessageNotWritableException;\nimport org.springframework.web.bind.annotation.*;\nimport com.graphhopper.routing.Path;\n\nimport java.lang.reflect.Parameter;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/routes&quot;)\n@AllArgsConstructor\n@CrossOrigin(origins = &quot;http://localhost:3000/&quot;)\npublic class RouteController {\n    @Autowired\n    private GraphHopperService graphHopperService;\n\n    @GetMapping\n    public List&lt;CustomPath&gt; getRoute(\n            @RequestParam(&quot;fromLat&quot;) double fromLat,\n            @RequestParam(&quot;fromLng&quot;) double fromLng,\n            @RequestParam(&quot;toLat&quot;) double toLat,\n            @RequestParam(&quot;toLng&quot;) double toLng) {\n\n            System.out.println(&quot;fromLat: &quot; + fromLat);\n            System.out.println(&quot;fromLng: &quot; + fromLng);\n            System.out.println(&quot;toLat: &quot; + toLat);\n            System.out.println(&quot;toLng: &quot; + toLng);\n            GHRequest request = new GHRequest(fromLat, fromLng, toLat, toLng).setProfile(&quot;my_profile&quot;).setAlgorithm(Parameters.Algorithms.ALT_ROUTE);\n            request.getHints().put(&quot;instructions&quot;, &quot;true&quot;);  // Might be useless\n            GHResponse response = graphHopperService.getGraphHopper().route(request);\n            List&lt;ResponsePath&gt; responsePaths = response.getAll();\n            System.out.println(&quot;response: &quot; + response);\n\n          //  return graphHopperService.createCustomPath(response.getBest());\n            return graphHopperService.createCustomPaths(responsePaths);\n\n    }\n\n\n}\n</code></pre>\n<p>I am trying to make it so it will return multiple routes between point A and B. Right now I get a maximum of 2 routes which is not sufficient for my needs. Any ideas what can I do?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa","factory-pattern"],"answers":[{"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1684707227,"creation_date":1684703301,"answer_id":76301927,"question_id":76301832,"body_markdown":"Some details that could be important are missing in your question (packages of the classes involved in your problem, for example) but I guess that, for any reason, the ApplicationContext you instantiate in your ProcessFileFactory does not discover the DoctorRepository class.\r\n\r\nI suggest to change your factory this way :\r\n\r\n```\r\n    @Component\r\n    public class ProcessFileFactory implements org.springframework.context.ApplicationContextAware {\r\n\r\n        private static ApplicationContext applicationContext;\r\n\r\n        public static ProcessImportFiles getInstance(String fileType) {\r\n            if (ImportTypes.DOCTORS.toString().equals(fileType)) {\r\n                return applicationContext.getBean(&quot;processDoctorFile&quot;, ProcessImportFiles.class);\r\n            }\r\n            if (ImportTypes.PATIENTS.toString().equals(fileType)) {\r\n                return applicationContext.getBean(&quot;processPatientFile&quot;, ProcessImportFiles.class);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n    \tpublic void setApplicationContext(ApplicationContext context)\r\n\t\t\tthrows BeansException {\r\n\t\t    this.applicationContext = context;\r\n\t    }\r\n    }\r\n```\r\n\r\nWhen you implement ApplicationContextAware interface, you ask Spring to inject into your class the existing application context.\r\n\r\nBut, to be honest, there is a solution that, I think, would be cleaner as it would just use Dependency Injection instead of getting beans from the application context.\r\n\r\nChange your `ProcessImportFiles` this way :\r\n\r\n```\r\n    public interface ProcessImportFiles {\r\n\r\n      String getManagedFileType();\r\n\r\n      void processImportFile(String fileName, Sheet sheet);\r\n\r\n    }\r\n```\r\n\r\nImplementation example of the interface for `ProcessPatientFile`:\r\n\r\n```\r\n@Service\r\npublic class ProcessPatientFile implements ProcessImportFiles {\r\n\r\n    @Override\r\n    public String getManagedFileType() {\r\n        return ImportTypes.PATIENTS.toString();\r\n    }\r\n\r\n    @Override\r\n    public void processImportFile(String fileName, Sheet sheet) {\r\n\r\n        System.out.println(&quot;I&#39;m processing a PATIENTS file&quot;);\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nThen change your `ProcessFileFactory` class this way :\r\n\r\n```\r\n    @Component\r\n    public class ProcessFileFactory {\r\n\r\n      private Map&lt;String, ProcessImportFiles&gt; importFileProcessorsByType;\r\n\r\n      public ProcessFileFactory(Collection&lt;ProcessImportFiles&gt; importFileProcessors) {\r\n\r\n        importFileProcessorsByType = importFileProcessors.stream().collect(Collectors.toMap(\r\n            ProcessImportFiles::getManagedFileType,\r\n            processor -&gt; processor\r\n        ));\r\n\r\n      }\r\n\r\n      public ProcessImportFiles getInstance(String fileType) {\r\n        return importFileProcessorsByType.get(fileType);\r\n      }\r\n\r\n    }\r\n```\r\n\r\nSpring will automatically inject all beans implementing your interface into your factory. The internal map of your factory will retrieve the expected implementation according to the fileType.\r\n\r\nBy the way, if one day, you need to code new implementations of the `ProcessImportFiles` interface, your factory will work without any change.","title":"Repository not injected in service class when initialized through a factory class","body":"<p>Some details that could be important are missing in your question (packages of the classes involved in your problem, for example) but I guess that, for any reason, the ApplicationContext you instantiate in your ProcessFileFactory does not discover the DoctorRepository class.</p>\n<p>I suggest to change your factory this way :</p>\n<pre><code>    @Component\n    public class ProcessFileFactory implements org.springframework.context.ApplicationContextAware {\n\n        private static ApplicationContext applicationContext;\n\n        public static ProcessImportFiles getInstance(String fileType) {\n            if (ImportTypes.DOCTORS.toString().equals(fileType)) {\n                return applicationContext.getBean(&quot;processDoctorFile&quot;, ProcessImportFiles.class);\n            }\n            if (ImportTypes.PATIENTS.toString().equals(fileType)) {\n                return applicationContext.getBean(&quot;processPatientFile&quot;, ProcessImportFiles.class);\n            }\n\n            return null;\n        }\n\n        @Override\n        public void setApplicationContext(ApplicationContext context)\n            throws BeansException {\n            this.applicationContext = context;\n        }\n    }\n</code></pre>\n<p>When you implement ApplicationContextAware interface, you ask Spring to inject into your class the existing application context.</p>\n<p>But, to be honest, there is a solution that, I think, would be cleaner as it would just use Dependency Injection instead of getting beans from the application context.</p>\n<p>Change your <code>ProcessImportFiles</code> this way :</p>\n<pre><code>    public interface ProcessImportFiles {\n\n      String getManagedFileType();\n\n      void processImportFile(String fileName, Sheet sheet);\n\n    }\n</code></pre>\n<p>Implementation example of the interface for <code>ProcessPatientFile</code>:</p>\n<pre><code>@Service\npublic class ProcessPatientFile implements ProcessImportFiles {\n\n    @Override\n    public String getManagedFileType() {\n        return ImportTypes.PATIENTS.toString();\n    }\n\n    @Override\n    public void processImportFile(String fileName, Sheet sheet) {\n\n        System.out.println(&quot;I'm processing a PATIENTS file&quot;);\n\n    }\n}\n</code></pre>\n<p>Then change your <code>ProcessFileFactory</code> class this way :</p>\n<pre><code>    @Component\n    public class ProcessFileFactory {\n\n      private Map&lt;String, ProcessImportFiles&gt; importFileProcessorsByType;\n\n      public ProcessFileFactory(Collection&lt;ProcessImportFiles&gt; importFileProcessors) {\n\n        importFileProcessorsByType = importFileProcessors.stream().collect(Collectors.toMap(\n            ProcessImportFiles::getManagedFileType,\n            processor -&gt; processor\n        ));\n\n      }\n\n      public ProcessImportFiles getInstance(String fileType) {\n        return importFileProcessorsByType.get(fileType);\n      }\n\n    }\n</code></pre>\n<p>Spring will automatically inject all beans implementing your interface into your factory. The internal map of your factory will retrieve the expected implementation according to the fileType.</p>\n<p>By the way, if one day, you need to code new implementations of the <code>ProcessImportFiles</code> interface, your factory will work without any change.</p>\n"},{"tags":[],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684705903,"creation_date":1684705903,"answer_id":76302063,"question_id":76301832,"body_markdown":"I rewrote your code and struct it again to look more readable, this is how I proceeded: \r\n\r\nFirst, this is the structure: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAssuming this is your ProcessDoctorFile service:\r\n\r\n    @Service\r\n    public class ProcessDoctorFileService implements ProcessImportFiles {\r\n        @Autowired\r\n        private DoctorRepository doctorRepository;\r\n    \r\n        @Override\r\n        public void processImportFile(String fileName, Sheet sheet) {\r\n            System.out.println(fileName + &quot; &gt; ProcessDoctorFileService&quot;);\r\n        }\r\n    }\r\n\r\nsame thing for the patient service:\r\n\r\n    @Service\r\n    public class ProcessPatientFileService implements ProcessImportFiles {\r\n        @Autowired\r\n        private PatientRepository doctorRepository;\r\n    \r\n        @Override\r\n        public void processImportFile(String fileName, Sheet sheet) {\r\n            System.out.println(fileName + &quot; &gt; ProcessPatientFileService&quot;);\r\n        }\r\n    }\r\n\r\nNow the factory: \r\n\r\n    public class ProcessFileFactory   {\r\n        public static ProcessImportFiles getInstance(String fileType) {\r\n            if (ImportTypes.DOCTORS.toString().equals(fileType)) {\r\n                return ApplicationContextProvider.getApplicationContext().getBean(&quot;processDoctorFileService&quot;, ProcessImportFiles.class);\r\n            }\r\n            if (ImportTypes.PATIENTS.toString().equals(fileType)) {\r\n                return ApplicationContextProvider.getApplicationContext().getBean(&quot;processPatientFileService&quot;, ProcessImportFiles.class);\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    }\r\n\r\nTo be sure that you don&#39;t get a null application context, you should get it in another class and then inject it into your factory, use ApplicationContextAware interface to make spring boot provide the application context for you:\r\n\r\n\r\n    @Component\r\n    public class ApplicationContextProvider implements ApplicationContextAware {\r\n    \r\n        private static ApplicationContext applicationContext;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) {\r\n            ApplicationContextProvider.applicationContext = applicationContext;\r\n        }\r\n    \r\n        public static ApplicationContext getApplicationContext() {\r\n            return applicationContext;\r\n        }\r\n    }\r\n\r\n\r\nlet&#39;s test what we did until now using a CommandLineRunner:\r\n\r\n    @SpringBootApplication\r\n    public class StackoverflowApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(StackoverflowApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        CommandLineRunner commandLineRunner(){\r\n            return args -&gt; {\r\n                Sheet sheet = new Sheet();\r\n                ProcessFileFactory.getInstance(ImportTypes.DOCTORS.name()).processImportFile(&quot;file name for doctors&quot;,sheet);\r\n                ProcessFileFactory.getInstance(ImportTypes.PATIENTS.name()).processImportFile(&quot;file name for patients&quot;,sheet);\r\n            };\r\n        }\r\n    \r\n    }\r\n\r\n \r\nResult in the console:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lb9gs.png\r\n  [2]: https://i.stack.imgur.com/Vm58Y.png","title":"Repository not injected in service class when initialized through a factory class","body":"<p>I rewrote your code and struct it again to look more readable, this is how I proceeded:</p>\n<p>First, this is the structure:</p>\n<p><a href=\"https://i.stack.imgur.com/Lb9gs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lb9gs.png\" alt=\"enter image description here\" /></a></p>\n<p>Assuming this is your ProcessDoctorFile service:</p>\n<pre><code>@Service\npublic class ProcessDoctorFileService implements ProcessImportFiles {\n    @Autowired\n    private DoctorRepository doctorRepository;\n\n    @Override\n    public void processImportFile(String fileName, Sheet sheet) {\n        System.out.println(fileName + &quot; &gt; ProcessDoctorFileService&quot;);\n    }\n}\n</code></pre>\n<p>same thing for the patient service:</p>\n<pre><code>@Service\npublic class ProcessPatientFileService implements ProcessImportFiles {\n    @Autowired\n    private PatientRepository doctorRepository;\n\n    @Override\n    public void processImportFile(String fileName, Sheet sheet) {\n        System.out.println(fileName + &quot; &gt; ProcessPatientFileService&quot;);\n    }\n}\n</code></pre>\n<p>Now the factory:</p>\n<pre><code>public class ProcessFileFactory   {\n    public static ProcessImportFiles getInstance(String fileType) {\n        if (ImportTypes.DOCTORS.toString().equals(fileType)) {\n            return ApplicationContextProvider.getApplicationContext().getBean(&quot;processDoctorFileService&quot;, ProcessImportFiles.class);\n        }\n        if (ImportTypes.PATIENTS.toString().equals(fileType)) {\n            return ApplicationContextProvider.getApplicationContext().getBean(&quot;processPatientFileService&quot;, ProcessImportFiles.class);\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>To be sure that you don't get a null application context, you should get it in another class and then inject it into your factory, use ApplicationContextAware interface to make spring boot provide the application context for you:</p>\n<pre><code>@Component\npublic class ApplicationContextProvider implements ApplicationContextAware {\n\n    private static ApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) {\n        ApplicationContextProvider.applicationContext = applicationContext;\n    }\n\n    public static ApplicationContext getApplicationContext() {\n        return applicationContext;\n    }\n}\n</code></pre>\n<p>let's test what we did until now using a CommandLineRunner:</p>\n<pre><code>@SpringBootApplication\npublic class StackoverflowApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(StackoverflowApplication.class, args);\n    }\n\n    @Bean\n    CommandLineRunner commandLineRunner(){\n        return args -&gt; {\n            Sheet sheet = new Sheet();\n            ProcessFileFactory.getInstance(ImportTypes.DOCTORS.name()).processImportFile(&quot;file name for doctors&quot;,sheet);\n            ProcessFileFactory.getInstance(ImportTypes.PATIENTS.name()).processImportFile(&quot;file name for patients&quot;,sheet);\n        };\n    }\n\n}\n</code></pre>\n<p>Result in the console:\n<a href=\"https://i.stack.imgur.com/Vm58Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vm58Y.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28649523,"reputation":13,"user_id":21936783,"display_name":"Bubbles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76301927,"answer_count":2,"score":1,"last_activity_date":1684707227,"creation_date":1684701466,"question_id":76301832,"body_markdown":"I have multiple implementations for a method, so I decided to use Factory design pattern for it. Here is the implementation for factory class:\r\n\r\n```\r\n@Component\r\npublic class ProcessFileFactory {\r\n\r\n    private static ApplicationContext applicationContext;\r\n\r\n    public ProcessFileFactory() {\r\n        applicationContext = new AnnotationConfigApplicationContext(\r\n                ProcessDoctorFile.class,\r\n                ProcessPatientFile.class\r\n        );\r\n    }\r\n\r\n    public static ProcessImportFiles getInstance(String fileType) {\r\n        if (ImportTypes.DOCTORS.toString().equals(fileType)) {\r\n            return applicationContext.getBean(&quot;processDoctorFile&quot;, ProcessImportFiles.class);\r\n        }\r\n        if (ImportTypes.PATIENTS.toString().equals(fileType)) {\r\n            return applicationContext.getBean(&quot;processPatientFile&quot;, ProcessImportFiles.class);\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nProcessImportFiles is the interface where I defined the method which has to be implemented differently. And here is one implementation of the method from the interface:\r\n\r\n\r\n```\r\n@Service\r\npublic class ProcessDoctorFile implements ProcessImportFiles {\r\n    @Autowired\r\n    private DoctorRepository doctorRepository;\r\n\r\n    @Override\r\n    public void processImportFile(String fileName, Sheet sheet) {\r\n        System.out.println(&quot;doctors&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAlso, this is how I call the the method in the rest controller:\r\n\r\n```\r\n ProcessFileFactory.getInstance(fileType).processImportFile(file.getName(), sheet);\r\n```\r\n\r\nBut I receive this error:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;processFileFactory&#39; defined in file [C:\\Workspace\\MedicalStatistics\\target\\classes\\app\\one\\MedicalStatistics\\importService\\ProcessFileFactory.class]: Failed to instantiate [app.one.MedicalStatistics.importService.ProcessFileFactory]: Constructor threw exception\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1306) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1198) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat app.one.MedicalStatistics.MedicalStatisticsApplication.main(MedicalStatisticsApplication.java:16) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [app.one.MedicalStatistics.importService.ProcessFileFactory]: Constructor threw exception\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1300) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\t... 17 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;processDoctorFile&#39;: Unsatisfied dependency expressed through field &#39;doctorRepository&#39;: No qualifying bean of type &#39;app.one.MedicalStatistics.repository.DoctorRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1408) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat app.one.MedicalStatistics.importService.ProcessFileFactory.&lt;init&gt;(ProcessFileFactory.java:24) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484) ~[na:na]\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\t... 19 common frames omitted\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;app.one.MedicalStatistics.repository.DoctorRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1812) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1371) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\t... 38 common frames omitted\r\n```\r\n\r\n\r\n\r\n\r\nIf I comment the declaration for DoctorRepository the application starts and design pattern works as expected. The problem appeared when I defined a repo in my service for updating data in DB. I tried to create a constructor to initialize the repository, also multiple annotations, but nothing works. Any idea how to fix it?","title":"Repository not injected in service class when initialized through a factory class","body":"<p>I have multiple implementations for a method, so I decided to use Factory design pattern for it. Here is the implementation for factory class:</p>\n<pre><code>@Component\npublic class ProcessFileFactory {\n\n    private static ApplicationContext applicationContext;\n\n    public ProcessFileFactory() {\n        applicationContext = new AnnotationConfigApplicationContext(\n                ProcessDoctorFile.class,\n                ProcessPatientFile.class\n        );\n    }\n\n    public static ProcessImportFiles getInstance(String fileType) {\n        if (ImportTypes.DOCTORS.toString().equals(fileType)) {\n            return applicationContext.getBean(&quot;processDoctorFile&quot;, ProcessImportFiles.class);\n        }\n        if (ImportTypes.PATIENTS.toString().equals(fileType)) {\n            return applicationContext.getBean(&quot;processPatientFile&quot;, ProcessImportFiles.class);\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>ProcessImportFiles is the interface where I defined the method which has to be implemented differently. And here is one implementation of the method from the interface:</p>\n<pre><code>@Service\npublic class ProcessDoctorFile implements ProcessImportFiles {\n    @Autowired\n    private DoctorRepository doctorRepository;\n\n    @Override\n    public void processImportFile(String fileName, Sheet sheet) {\n        System.out.println(&quot;doctors&quot;);\n    }\n}\n</code></pre>\n<p>Also, this is how I call the the method in the rest controller:</p>\n<pre><code> ProcessFileFactory.getInstance(fileType).processImportFile(file.getName(), sheet);\n</code></pre>\n<p>But I receive this error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processFileFactory' defined in file [C:\\Workspace\\MedicalStatistics\\target\\classes\\app\\one\\MedicalStatistics\\importService\\ProcessFileFactory.class]: Failed to instantiate [app.one.MedicalStatistics.importService.ProcessFileFactory]: Constructor threw exception\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1306) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1198) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\n    at app.one.MedicalStatistics.MedicalStatisticsApplication.main(MedicalStatisticsApplication.java:16) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [app.one.MedicalStatistics.importService.ProcessFileFactory]: Constructor threw exception\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1300) ~[spring-beans-6.0.6.jar:6.0.6]\n    ... 17 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processDoctorFile': Unsatisfied dependency expressed through field 'doctorRepository': No qualifying bean of type 'app.one.MedicalStatistics.repository.DoctorRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1408) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93) ~[spring-context-6.0.6.jar:6.0.6]\n    at app.one.MedicalStatistics.importService.ProcessFileFactory.&lt;init&gt;(ProcessFileFactory.java:24) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484) ~[na:na]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197) ~[spring-beans-6.0.6.jar:6.0.6]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'app.one.MedicalStatistics.repository.DoctorRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1812) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1371) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.6.jar:6.0.6]\n    ... 38 common frames omitted\n</code></pre>\n<p>If I comment the declaration for DoctorRepository the application starts and design pattern works as expected. The problem appeared when I defined a repo in my service for updating data in DB. I tried to create a constructor to initialize the repository, also multiple annotations, but nothing works. Any idea how to fix it?</p>\n"},{"tags":["java","google-kubernetes-engine","hashicorp-vault","vault","gke-networking"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633945350,"post_id":69523940,"comment_id":122886306,"body_markdown":"Can you `ping` host `vault.example.com` port 443 from that client host?","body":"Can you <code>ping</code> host <code>vault.example.com</code> port 443 from that client host?"},{"owner":{"account_id":2529794,"reputation":286,"user_id":7778447,"accept_rate":0,"display_name":"GTXBxaKgCANmT9D9"},"score":0,"creation_date":1633945965,"post_id":69523940,"comment_id":122886555,"body_markdown":"@user207421 ping has nothing to do with tcp port 443. telnet &amp; curl works ok :) As I&#39;ve mentioned vault works ok &amp; most part of request from same pod go through without any problems at all so it&#39;s not a firewall issue or smth like that otherwise it wouldn&#39;t work at all.","body":"@user207421 ping has nothing to do with tcp port 443. telnet &amp; curl works ok :) As I&#39;ve mentioned vault works ok &amp; most part of request from same pod go through without any problems at all so it&#39;s not a firewall issue or smth like that otherwise it wouldn&#39;t work at all."}],"answers":[{"tags":[],"owner":{"account_id":16628169,"reputation":21,"user_id":12016712,"display_name":"aaronhughes"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684706056,"creation_date":1684706056,"answer_id":76302068,"question_id":69523940,"body_markdown":"I ran into a similar (maybe even identical issue) of intermittent timeouts on requests to my vault server container irrespective of route (ingress, service, directly to pod).\r\n\r\n\r\nI believe in truth my issue was running Vault in dev mode, HA (high availability) mode saw the issue subside:\r\n\r\nhttps://support.hashicorp.com/hc/en-us/articles/4406662733587-HCP-Vault-Development-tier-intermittent-request-timeout-IO-errors\r\n\r\nBut I would love to know if you have found a more creative solution as it feels terribly wasteful running such a heavy instance of vault for each development bundle when it is pretty much entirely used for app startup in my organisation.","title":"Hashicorp Vault + &quot;java.net.SocketTimeoutException: connect timed out&quot; on GKE","body":"<p>I ran into a similar (maybe even identical issue) of intermittent timeouts on requests to my vault server container irrespective of route (ingress, service, directly to pod).</p>\n<p>I believe in truth my issue was running Vault in dev mode, HA (high availability) mode saw the issue subside:</p>\n<p><a href=\"https://support.hashicorp.com/hc/en-us/articles/4406662733587-HCP-Vault-Development-tier-intermittent-request-timeout-IO-errors\" rel=\"nofollow noreferrer\">https://support.hashicorp.com/hc/en-us/articles/4406662733587-HCP-Vault-Development-tier-intermittent-request-timeout-IO-errors</a></p>\n<p>But I would love to know if you have found a more creative solution as it feels terribly wasteful running such a heavy instance of vault for each development bundle when it is pretty much entirely used for app startup in my organisation.</p>\n"}],"owner":{"account_id":2529794,"reputation":286,"user_id":7778447,"accept_rate":0,"display_name":"GTXBxaKgCANmT9D9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684706056,"creation_date":1633944496,"question_id":69523940,"body_markdown":"I have a 3 node HA Hashicorp Vault deployed to GKE (tried both with Raft &amp; Consul backends).\r\n\r\nA pod with java app is also running in GKE.\r\n\r\nIntermittently I see `java.net.SocketTimeoutException: connect timed out` but mostly it works ok.\r\n\r\nI&#39;ve checked the Vault config, no resource quotas are configured, I&#39;ve tried using just internal service instead of ingress + google lb &amp; it&#39;s still the same.\r\n\r\nFull log entry looks like this:\r\n```\r\nmessage:Failed executing getCredentials using address https://vault.example.com:443, open timeout 30, read timeout 30 and credentials Credentials(id=0, tenantId=1, vendorName=fortinet, values={}) @timestamp:Oct 11, 2021 @ 12:02:29.386 @version:1 logger_name:com.example.secret.service.impl.SecretStoreServiceImpl thread_name:http-nio-8080-exec-24 level:ERROR level_value:40,000 stack_trace:com.bettercloud.vault.VaultException: com.bettercloud.vault.rest.RestException: java.net.SocketTimeoutException: connect timed out at com.bettercloud.vault.api.Logical.read(Logical.java:118) at com.bettercloud.vault.api.Logical.read(Logical.java:74) at com.example.secret.service.impl.SecretStoreServiceImpl.getCredentials(SecretStoreServiceImpl.java:49) at com.example.secret.service.impl.SecretStoreServiceImpl.getCredentials(SecretStoreServiceImpl.java:77) at com.example.secret.controller.SecretStoreController.getCredentials(SecretStoreController.java:32) at jdk.internal.reflect.GeneratedMethodAccessor46.invoke(Unknown Source) at\r\n```\r\n\r\nWhat could be the problem?\r\n\r\nI&#39;ve enabled metrics &amp; see no problems with resources &amp; etc &amp; no errors in audit logs (even though there&#39;re lots of logs in audit &amp; I may have missed smth)...","title":"Hashicorp Vault + &quot;java.net.SocketTimeoutException: connect timed out&quot; on GKE","body":"<p>I have a 3 node HA Hashicorp Vault deployed to GKE (tried both with Raft &amp; Consul backends).</p>\n<p>A pod with java app is also running in GKE.</p>\n<p>Intermittently I see <code>java.net.SocketTimeoutException: connect timed out</code> but mostly it works ok.</p>\n<p>I've checked the Vault config, no resource quotas are configured, I've tried using just internal service instead of ingress + google lb &amp; it's still the same.</p>\n<p>Full log entry looks like this:</p>\n<pre><code>message:Failed executing getCredentials using address https://vault.example.com:443, open timeout 30, read timeout 30 and credentials Credentials(id=0, tenantId=1, vendorName=fortinet, values={}) @timestamp:Oct 11, 2021 @ 12:02:29.386 @version:1 logger_name:com.example.secret.service.impl.SecretStoreServiceImpl thread_name:http-nio-8080-exec-24 level:ERROR level_value:40,000 stack_trace:com.bettercloud.vault.VaultException: com.bettercloud.vault.rest.RestException: java.net.SocketTimeoutException: connect timed out at com.bettercloud.vault.api.Logical.read(Logical.java:118) at com.bettercloud.vault.api.Logical.read(Logical.java:74) at com.example.secret.service.impl.SecretStoreServiceImpl.getCredentials(SecretStoreServiceImpl.java:49) at com.example.secret.service.impl.SecretStoreServiceImpl.getCredentials(SecretStoreServiceImpl.java:77) at com.example.secret.controller.SecretStoreController.getCredentials(SecretStoreController.java:32) at jdk.internal.reflect.GeneratedMethodAccessor46.invoke(Unknown Source) at\n</code></pre>\n<p>What could be the problem?</p>\n<p>I've enabled metrics &amp; see no problems with resources &amp; etc &amp; no errors in audit logs (even though there're lots of logs in audit &amp; I may have missed smth)...</p>\n"},{"tags":["java","microsoft-graph-api","microsoft-graph-sdks","microsoft-graph-edu"],"owner":{"account_id":7184196,"reputation":129,"user_id":5486863,"display_name":"Mark Rensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1684705552,"creation_date":1681479446,"question_id":76015698,"body_markdown":"I&#39;m trying to send feedback on a submission in my java application. \r\nIn teams I would submit it in the feedback box here: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is the request I&#39;m sending with `GraphClient`: \r\n\r\n```\r\n_userClient.education()\r\n  .classes(classId)\r\n  .assignments(assignmentsId)\r\n  .submissions(submissionID)\r\n  .outcomes()\r\n  .buildRequest()\r\n  .post(outcome);\r\n```\r\n\r\nAnd this is how I get the outcome:\r\n\r\n```\r\nEducationItemBody body = new EducationItemBody();\r\nbody.content = message;\r\nbody.contentType = BodyType.TEXT;\r\n\r\nEducationFeedback feedback = new EducationFeedback();\r\nfeedback.text = body;\r\n\r\nEducationFeedbackOutcome outcome = new EducationFeedbackOutcome();\r\noutcome.feedback = feedback;\r\noutcome.publishedFeedback = feedback;\r\n```\r\n\r\nI know that there are different types of `EducationOutcomes` as described in [the documentation][2]. I&#39;ve based my Graph request on [the request for posting an education outcome with a file-based resource][3], however I just want a text-based feedback, so I&#39;ve used the `EducationFeedbackOutcome` model. I tried using the `EducationFeedbackResourceOutcome` model as described in the example, but it doesn&#39;t exist in the Graph SDK\r\n\r\nNow when I send the request I get an error: \r\n\r\n```json\r\n{\r\n  &quot;error&quot;: {\r\n    &quot;code&quot;: &quot;20243&quot;,\r\n    &quot;message&quot;: &quot;Invalid request body. Resource cannot be null.&quot;,\r\n    &quot;innerError&quot;: {\r\n      &quot;date&quot;: &quot;2023-04-14T13:24:55&quot;,\r\n      &quot;request-id&quot;: &quot;6fdd2196-6d77-4414-93ae-b7d2ef92d14a&quot;,\r\n      &quot;client-request-id&quot;: &quot;3cf86b17-59b9-4c9e-9687-49af6e25626d&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIt seems that it expects a resource, but that is neither what I want, nor what I can give. I&#39;ve filled out all the fields in the EducationOutcome. There is no &quot;resource&quot;  field.\r\n\r\nHow can I submit feedback to an assignment using java? Maybe I need to use a different edpoint?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rkId1.png\r\n  [2]: https://learn.microsoft.com/en-us/graph/api/resources/educationoutcome?view=graph-rest-1.0\r\n  [3]: https://learn.microsoft.com/en-us/graph/api/educationfeedbackresourceoutcome-post-outcomes?view=graph-rest-1.0&amp;tabs=http","title":"How can I send feedback on a submitted assginment in java?","body":"<p>I'm trying to send feedback on a submission in my java application.\nIn teams I would submit it in the feedback box here:</p>\n<p><a href=\"https://i.stack.imgur.com/rkId1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rkId1.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the request I'm sending with <code>GraphClient</code>:</p>\n<pre><code>_userClient.education()\n  .classes(classId)\n  .assignments(assignmentsId)\n  .submissions(submissionID)\n  .outcomes()\n  .buildRequest()\n  .post(outcome);\n</code></pre>\n<p>And this is how I get the outcome:</p>\n<pre><code>EducationItemBody body = new EducationItemBody();\nbody.content = message;\nbody.contentType = BodyType.TEXT;\n\nEducationFeedback feedback = new EducationFeedback();\nfeedback.text = body;\n\nEducationFeedbackOutcome outcome = new EducationFeedbackOutcome();\noutcome.feedback = feedback;\noutcome.publishedFeedback = feedback;\n</code></pre>\n<p>I know that there are different types of <code>EducationOutcomes</code> as described in <a href=\"https://learn.microsoft.com/en-us/graph/api/resources/educationoutcome?view=graph-rest-1.0\" rel=\"nofollow noreferrer\">the documentation</a>. I've based my Graph request on <a href=\"https://learn.microsoft.com/en-us/graph/api/educationfeedbackresourceoutcome-post-outcomes?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">the request for posting an education outcome with a file-based resource</a>, however I just want a text-based feedback, so I've used the <code>EducationFeedbackOutcome</code> model. I tried using the <code>EducationFeedbackResourceOutcome</code> model as described in the example, but it doesn't exist in the Graph SDK</p>\n<p>Now when I send the request I get an error:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;error&quot;: {\n    &quot;code&quot;: &quot;20243&quot;,\n    &quot;message&quot;: &quot;Invalid request body. Resource cannot be null.&quot;,\n    &quot;innerError&quot;: {\n      &quot;date&quot;: &quot;2023-04-14T13:24:55&quot;,\n      &quot;request-id&quot;: &quot;6fdd2196-6d77-4414-93ae-b7d2ef92d14a&quot;,\n      &quot;client-request-id&quot;: &quot;3cf86b17-59b9-4c9e-9687-49af6e25626d&quot;\n    }\n  }\n}\n</code></pre>\n<p>It seems that it expects a resource, but that is neither what I want, nor what I can give. I've filled out all the fields in the EducationOutcome. There is no &quot;resource&quot;  field.</p>\n<p>How can I submit feedback to an assignment using java? Maybe I need to use a different edpoint?</p>\n"},{"tags":["java","synchronization","symmetricds"],"answers":[{"tags":[],"owner":{"account_id":41432,"reputation":6891,"user_id":120398,"accept_rate":80,"display_name":"David Fraser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291651189,"creation_date":1291651189,"answer_id":4368277,"question_id":4264569,"body_markdown":"Look at the [Project Reviews on sourceforge][2]: for example, [Miguel Angel Rasero Peral][1] reported using it in production between 30 Postgresql databases on the project reviews page but [later reported some foreign key issues][3]\r\n\r\n  [1]: https://sourceforge.net/users/skuda\r\n  [2]: https://sourceforge.net/projects/symmetricds/reviews/\r\n  [3]: https://sourceforge.net/projects/symmetricds/forums/forum/739235/topic/3760220?message=8525305","title":"SymmetricDS in the wild (production)?","body":"<p>Look at the <a href=\"https://sourceforge.net/projects/symmetricds/reviews/\" rel=\"nofollow\">Project Reviews on sourceforge</a>: for example, <a href=\"https://sourceforge.net/users/skuda\" rel=\"nofollow\">Miguel Angel Rasero Peral</a> reported using it in production between 30 Postgresql databases on the project reviews page but <a href=\"https://sourceforge.net/projects/symmetricds/forums/forum/739235/topic/3760220?message=8525305\" rel=\"nofollow\">later reported some foreign key issues</a></p>\n"},{"tags":[],"owner":{"account_id":89490,"reputation":1108,"user_id":246873,"display_name":"chenson42"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1344242128,"creation_date":1291931855,"answer_id":4403544,"question_id":4264569,"body_markdown":"Here is a [blog article][1] about SymmetricDS.  JumpMind is working on re-branding their website which will include case studies for SymmetricDS.  It should be live by the first of the year.\r\n\r\n\r\n  [1]: https://blogs.oracle.com/retail/entry/data_replication_for_stores","title":"SymmetricDS in the wild (production)?","body":"<p>Here is a <a href=\"https://blogs.oracle.com/retail/entry/data_replication_for_stores\" rel=\"nofollow\">blog article</a> about SymmetricDS.  JumpMind is working on re-branding their website which will include case studies for SymmetricDS.  It should be live by the first of the year.</p>\n"},{"tags":[],"owner":{"account_id":145430,"reputation":5284,"user_id":355232,"accept_rate":62,"display_name":"sbrattla"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1554843329,"creation_date":1313747438,"answer_id":7119841,"question_id":4264569,"body_markdown":"I ended up choosing SymmetricDS for my company after having investigated database replication/synchronization for quite some time. My main issue was that i have a database table which represents physical files that needs to be replicated along with the database. SymmetricDS even takes care of this.\r\n\r\nThe software is highly configurable, and the fact that you can plug in extension points (to take care of, for instance, file replication) makes it a powerful tool.\r\n\r\nI haven&#39;t had it up and running very long, but it appears to be working very well. Even though the learning curve is steep in the beginning (with regard to configuration), i&#39;d say that it is worth the time it takes to learn it!\r\n\r\nUPDATE : I&#39;ve had SymmetricDS running for almost 4 years now, and it has not failed a single time. It seems to be the [Toyota Hilux][1] of replication software : it just works. I&#39;m replicating a local internal database to a remote external database. We&#39;re not talking about a huge amount of data to be replicated, but still there&#39;s a fair amount of activity going on. Replication is fast (seconds). Also, if for some reason you&#39;d like to &quot;populate&quot; the external node from scratch, you can easily do this with SymmetricDS as well. Thus, you can use SymmetricDS from start and have it to first populate the external node from scratch as well as take care of continuous replication. \r\n\r\nI&#39;ve got replication set up both ways (for different tables, never tried same table), and this works very well as well.\r\n\nUPDATE 2 : 8 years later and it&#39;s still running stable. I have not made much changes to the setup it is replicating, but it is certainly doing its job\n\r\n\r\n  [1]: http://www.topgear.com/uk/tv-show/series-3/episode-5","title":"SymmetricDS in the wild (production)?","body":"<p>I ended up choosing SymmetricDS for my company after having investigated database replication/synchronization for quite some time. My main issue was that i have a database table which represents physical files that needs to be replicated along with the database. SymmetricDS even takes care of this.</p>\n\n<p>The software is highly configurable, and the fact that you can plug in extension points (to take care of, for instance, file replication) makes it a powerful tool.</p>\n\n<p>I haven't had it up and running very long, but it appears to be working very well. Even though the learning curve is steep in the beginning (with regard to configuration), i'd say that it is worth the time it takes to learn it!</p>\n\n<p>UPDATE : I've had SymmetricDS running for almost 4 years now, and it has not failed a single time. It seems to be the <a href=\"http://www.topgear.com/uk/tv-show/series-3/episode-5\" rel=\"noreferrer\">Toyota Hilux</a> of replication software : it just works. I'm replicating a local internal database to a remote external database. We're not talking about a huge amount of data to be replicated, but still there's a fair amount of activity going on. Replication is fast (seconds). Also, if for some reason you'd like to \"populate\" the external node from scratch, you can easily do this with SymmetricDS as well. Thus, you can use SymmetricDS from start and have it to first populate the external node from scratch as well as take care of continuous replication. </p>\n\n<p>I've got replication set up both ways (for different tables, never tried same table), and this works very well as well.</p>\n\n<p>UPDATE 2 : 8 years later and it's still running stable. I have not made much changes to the setup it is replicating, but it is certainly doing its job</p>\n"},{"tags":[],"owner":{"account_id":336475,"reputation":654,"user_id":664146,"display_name":"syserr0r"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1425944214,"creation_date":1425944214,"answer_id":28953694,"question_id":4264569,"body_markdown":"We are using SymmetricDS between a MySQL server and 2 PostgreSQL servers (one of which is on a poor [&lt;1Mbit] ADSL connection) fairly successfully on a small-ish database (pg_dump was 1.2G last week, ~15k rows INSERT/UPDATE&#39;ed a day) .\r\n\r\nConfiguration can be hard to wrap your head around and we have/have-had some foreign key issues (which *may* not be due to the way we apply schema updates for this application).\r\n\r\nPersonally I found the few issues we had non-trivial and somewhat frustrating to debug, but we have had significantly fewer issues since upgrading to the 3.x releases (of which the remainder could be attributed to operator error rather than faults in the application).\r\n\r\nMy main missing feature is sync of the PostgreSQL sequences, but we work around that by setting the increment to 10 on all servers and offsetting each server to a different value (the MySQL server is primarily read-only, so ymmv there)","title":"SymmetricDS in the wild (production)?","body":"<p>We are using SymmetricDS between a MySQL server and 2 PostgreSQL servers (one of which is on a poor [&lt;1Mbit] ADSL connection) fairly successfully on a small-ish database (pg_dump was 1.2G last week, ~15k rows INSERT/UPDATE'ed a day) .</p>\n\n<p>Configuration can be hard to wrap your head around and we have/have-had some foreign key issues (which <em>may</em> not be due to the way we apply schema updates for this application).</p>\n\n<p>Personally I found the few issues we had non-trivial and somewhat frustrating to debug, but we have had significantly fewer issues since upgrading to the 3.x releases (of which the remainder could be attributed to operator error rather than faults in the application).</p>\n\n<p>My main missing feature is sync of the PostgreSQL sequences, but we work around that by setting the increment to 10 on all servers and offsetting each server to a different value (the MySQL server is primarily read-only, so ymmv there)</p>\n"}],"owner":{"account_id":38908,"reputation":8308,"user_id":111991,"accept_rate":76,"display_name":"Ryan Fernandes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6390,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":4403544,"answer_count":4,"score":10,"last_activity_date":1684704994,"creation_date":1290585717,"question_id":4264569,"body_markdown":"I&#39;ve been looking at some options to synchronize data between a few POS (Point of Sales) devices and the server.\r\n\r\n[SymmetricDS][1] seems to be one of the options with a business friendly license.\r\nBeing a Codehaus project does guarantee a certain degree of quality, so I&#39;m ok with that.\r\n\r\nThey seem to have &#39;been there, done that, got the [T-Shirt][2]&#39;...but\r\nit would be nice if they had a &quot;who&#39;s using SymmetricDS&quot; page on their site.\r\n\r\nDoes anyone know of a production grade implementation of SymmetricDS?\r\n\r\n*I&#39;d be even happier to hear if a fellow Stacker has implemented SymmetricDS.*\r\n\r\n  [1]: http://symmetricds.codehaus.org/\r\n  [2]: http://www.cafepress.com/symmetricds","title":"SymmetricDS in the wild (production)?","body":"<p>I've been looking at some options to synchronize data between a few POS (Point of Sales) devices and the server.</p>\n\n<p><a href=\"http://symmetricds.codehaus.org/\" rel=\"noreferrer\">SymmetricDS</a> seems to be one of the options with a business friendly license.\nBeing a Codehaus project does guarantee a certain degree of quality, so I'm ok with that.</p>\n\n<p>They seem to have 'been there, done that, got the <a href=\"http://www.cafepress.com/symmetricds\" rel=\"noreferrer\">T-Shirt</a>'...but\nit would be nice if they had a \"who's using SymmetricDS\" page on their site.</p>\n\n<p>Does anyone know of a production grade implementation of SymmetricDS?</p>\n\n<p><em>I'd be even happier to hear if a fellow Stacker has implemented SymmetricDS.</em></p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1684694313,"post_id":76301358,"comment_id":134550795,"body_markdown":"If your method is declared to return something, you must return something (or throw an exception; a special kind of &quot;return value&quot;). `peek` without returning anything doesn&#39;t make sense (because then you are not peeking)","body":"If your method is declared to return something, you must return something (or throw an exception; a special kind of &quot;return value&quot;). <code>peek</code> without returning anything doesn&#39;t make sense (because then you are not peeking)"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1684697412,"post_id":76301358,"comment_id":134551186,"body_markdown":"Within the exception code block: `System.out.println(&quot;Stack is empty&quot;); return top;`. Remove the `return Integer.MIN_VALUE;` line.","body":"Within the exception code block: <code>System.out.println(&quot;Stack is empty&quot;); return top;</code>. Remove the <code>return Integer.MIN_VALUE;</code> line."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1684712589,"post_id":76301358,"comment_id":134552577,"body_markdown":"It would be better to let it throw the exception. The caller needs to know there was nothing there, as opposed to Integer.MIN_VALUE which could be a real value on the stack. But actually if the application calls `peek()` when there is nothing on the stack, that is an application bug.","body":"It would be better to let it throw the exception. The caller needs to know there was nothing there, as opposed to Integer.MIN_VALUE which could be a real value on the stack. But actually if the application calls <code>peek()</code> when there is nothing on the stack, that is an application bug."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684694312,"creation_date":1684694312,"answer_id":76301395,"question_id":76301358,"body_markdown":"Yes. Throw an `Exception`. You could simply throw the one you are currently catching.\r\n\r\n    public int peek() throws ArrayIndexOutOfBoundsException {\r\n        return arr[top];\r\n    }\r\n\r\nYou could return an `Optional&lt;Integer&gt;` like\r\n\r\n\tpublic Optional&lt;Integer&gt; peek() {\r\n\t\ttry {\r\n\t\t\treturn Optional.of(arr[top]);\r\n\t\t} catch (ArrayIndexOutOfBoundsException e) {\r\n\t\t\tSystem.out.println(&quot;Stack is empty&quot;);\r\n\t\t}\r\n\t\treturn Optional.empty();\r\n\t}\r\n\r\nOr you could return an `Integer` and make it `null`. Warning, this is possibly a **billion dollar mistake**&lt;sup&gt;1&lt;/sup&gt;. Like,\r\n\r\n\tpublic Integer peek() {\r\n\t\ttry {\r\n\t\t\treturn arr[top];\r\n\t\t} catch (ArrayIndexOutOfBoundsException e) {\r\n\t\t\tSystem.out.println(&quot;Stack is empty&quot;);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n&lt;sup&gt;1&lt;/sup&gt;&lt;sub&gt;[Null References The Billion Dollar Mistake](https://youtu.be/ybrQvs4x0Ps)&lt;/sub&gt;","title":"Any alternate way to implement the peek method?","body":"<p>Yes. Throw an <code>Exception</code>. You could simply throw the one you are currently catching.</p>\n<pre><code>public int peek() throws ArrayIndexOutOfBoundsException {\n    return arr[top];\n}\n</code></pre>\n<p>You could return an <code>Optional&lt;Integer&gt;</code> like</p>\n<pre><code>public Optional&lt;Integer&gt; peek() {\n    try {\n        return Optional.of(arr[top]);\n    } catch (ArrayIndexOutOfBoundsException e) {\n        System.out.println(&quot;Stack is empty&quot;);\n    }\n    return Optional.empty();\n}\n</code></pre>\n<p>Or you could return an <code>Integer</code> and make it <code>null</code>. Warning, this is possibly a <strong>billion dollar mistake</strong><sup>1</sup>. Like,</p>\n<pre><code>public Integer peek() {\n    try {\n        return arr[top];\n    } catch (ArrayIndexOutOfBoundsException e) {\n        System.out.println(&quot;Stack is empty&quot;);\n    }\n    return null;\n}\n</code></pre>\n<p><sup>1</sup><sub><a href=\"https://youtu.be/ybrQvs4x0Ps\" rel=\"nofollow noreferrer\">Null References The Billion Dollar Mistake</a></sub></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684704121,"creation_date":1684704121,"answer_id":76301973,"question_id":76301358,"body_markdown":"I see what you&#39;re saying; only return a value if there is one, otherwise print a message.\r\n\r\nThis is where exceptions are actually useful.\r\n\r\nHave your method throw an exception, and catch it wherever you are calling the `peek` method.\r\n\r\n```java\r\npublic int peek() throws ArrayIndexOutOfBoundsException {\r\n    return arr[top];\r\n}\r\n```\r\n\r\n```java\r\nvoid example() {\r\n    int value;\r\n    try {\r\n        value = stack.peek();\r\n    } catch (ArrayIndexOutOfBoundsException exception) {\r\n        System.out.println(&quot;stack is empty&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s a matter of re-ordering and re-thinking your control-flow.  \r\nWhich for a situation like this, is typically at ground-level, and easy to implement.","title":"Any alternate way to implement the peek method?","body":"<p>I see what you're saying; only return a value if there is one, otherwise print a message.</p>\n<p>This is where exceptions are actually useful.</p>\n<p>Have your method throw an exception, and catch it wherever you are calling the <code>peek</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int peek() throws ArrayIndexOutOfBoundsException {\n    return arr[top];\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>void example() {\n    int value;\n    try {\n        value = stack.peek();\n    } catch (ArrayIndexOutOfBoundsException exception) {\n        System.out.println(&quot;stack is empty&quot;);\n    }\n}\n</code></pre>\n<p>It's a matter of re-ordering and re-thinking your control-flow.<br />\nWhich for a situation like this, is typically at ground-level, and easy to implement.</p>\n"}],"owner":{"account_id":28648977,"reputation":35,"user_id":21936341,"display_name":"paneer_curry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76301395,"answer_count":2,"score":2,"last_activity_date":1684704121,"creation_date":1684693749,"question_id":76301358,"body_markdown":"I am learning data structures on my own and have been trying to implement them using Java. Currently I am attempting to implement a array based stack. In the `peek` method when the stack is empty I am currently catching `ArrayIndexOutOfBoundsException` and then returning `Integer.MIN_VALUE` to stop the program from quitting and getting it ready for further push operations. Is there any other way to implement the `peek` method so that it just prints the message inside the `catch` block without returning the Integer.MIN_VALUE.\r\n\r\n```\r\npublic class Stack {\r\n    int[] arr;\r\n    int top = -1;\r\n    int currSize = 10;\r\n\r\n    /* Constructor */\r\n    public Stack() {\r\n        arr = new int[10];\r\n    }\r\n\r\n    public void push(int data) {\r\n        if (top ==  arr.length - 1) {\r\n            resize();\r\n        }\r\n        top++;\r\n        arr[top] = data;\r\n    }\r\n\r\n    /*\r\n    public void pop() {\r\n        arr[top] = 0;\r\n        top--;\r\n    }\r\n    */\r\n\r\n    public int peek() {\r\n        try {\r\n            return arr[top];\r\n        } catch (ArrayIndexOutOfBoundsException e) {\r\n            System.out.println(&quot;Stack is empty&quot;);\r\n        }\r\n        return Integer.MIN_VALUE;\r\n    }\r\n\r\n    /* Resizes the array when space runs out */\r\n    public void resize() {\r\n        int[] newArr = new int[2 * currSize];\r\n        currSize = 2 * currSize;\r\n        for (int i = 0; i &lt; newArr.length / 2; i++) {\r\n            newArr[i] = arr[i];\r\n        }\r\n        arr = newArr;\r\n        newArr = null;\r\n    }\r\n\r\n    /* Show elements in stack */\r\n    public void show() {\r\n        for (int i = 0; i &lt;= top; i++) {\r\n            System.out.print(arr[i] + &quot; -&gt; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    /* Rturn the no of elements in stack */\r\n    public int getSize() {\r\n        return top + 1;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Stack st = new Stack();\r\n        System.out.println(st.peek());\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried omitting the `Integer.MIN_VALUE` return statement but the program wouldn&#39;t compile.\r\n\r\nI was expecting that after the message in `catch` block had been printed the control would return from the `peek` method to the `main` method and resume executing the other statements in main method (probably any push operations).\r\n\r\nA solution which occurs to me is the I change the `peek` method return type to void, print the top most value and the return `null` but I don&#39;t want to take this path because I may want to store the return value and use it in some other parts of program.","title":"Any alternate way to implement the peek method?","body":"<p>I am learning data structures on my own and have been trying to implement them using Java. Currently I am attempting to implement a array based stack. In the <code>peek</code> method when the stack is empty I am currently catching <code>ArrayIndexOutOfBoundsException</code> and then returning <code>Integer.MIN_VALUE</code> to stop the program from quitting and getting it ready for further push operations. Is there any other way to implement the <code>peek</code> method so that it just prints the message inside the <code>catch</code> block without returning the Integer.MIN_VALUE.</p>\n<pre><code>public class Stack {\n    int[] arr;\n    int top = -1;\n    int currSize = 10;\n\n    /* Constructor */\n    public Stack() {\n        arr = new int[10];\n    }\n\n    public void push(int data) {\n        if (top ==  arr.length - 1) {\n            resize();\n        }\n        top++;\n        arr[top] = data;\n    }\n\n    /*\n    public void pop() {\n        arr[top] = 0;\n        top--;\n    }\n    */\n\n    public int peek() {\n        try {\n            return arr[top];\n        } catch (ArrayIndexOutOfBoundsException e) {\n            System.out.println(&quot;Stack is empty&quot;);\n        }\n        return Integer.MIN_VALUE;\n    }\n\n    /* Resizes the array when space runs out */\n    public void resize() {\n        int[] newArr = new int[2 * currSize];\n        currSize = 2 * currSize;\n        for (int i = 0; i &lt; newArr.length / 2; i++) {\n            newArr[i] = arr[i];\n        }\n        arr = newArr;\n        newArr = null;\n    }\n\n    /* Show elements in stack */\n    public void show() {\n        for (int i = 0; i &lt;= top; i++) {\n            System.out.print(arr[i] + &quot; -&gt; &quot;);\n        }\n        System.out.println();\n    }\n\n    /* Rturn the no of elements in stack */\n    public int getSize() {\n        return top + 1;\n    }\n\n    public static void main(String[] args) {\n        Stack st = new Stack();\n        System.out.println(st.peek());\n    }\n}\n</code></pre>\n<p>I tried omitting the <code>Integer.MIN_VALUE</code> return statement but the program wouldn't compile.</p>\n<p>I was expecting that after the message in <code>catch</code> block had been printed the control would return from the <code>peek</code> method to the <code>main</code> method and resume executing the other statements in main method (probably any push operations).</p>\n<p>A solution which occurs to me is the I change the <code>peek</code> method return type to void, print the top most value and the return <code>null</code> but I don't want to take this path because I may want to store the return value and use it in some other parts of program.</p>\n"},{"tags":["java","regex","string","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684703550,"creation_date":1684703235,"answer_id":76301922,"question_id":75183769,"body_markdown":"First off, the timestamp and file extension is always going to be the same amount of characters, so you don&#39;t need a character class.\r\n\r\nSo, given `File_[TimeStamp:yyyyMMdd_HHmm].csv`.\r\n\r\nThe pattern `\\[TimeStamp(:[^\\[\\]]+)?\\]` can be reduced to the following.\r\n\r\n```regex\r\n\\[TimeStamp(.{14}).{5}\r\n```\r\n\r\nNow, you&#39;re saying that you&#39;d like to be able to match not only the text &quot;TimeStamp&quot;, but also other values.\r\n\r\nYou can place the text `TimeStamp` within a non-capturing group, and use the `|` specifier, to delimit a set of possible values.\r\n\r\n```regex\r\n\\[(?:TimeStamp|Asia/Tokyo)(.{14}).{5}\r\n```\r\n\r\nSo now, both of the following values will match.\r\n\r\n```none\r\nFile_[TimeStamp:yyyyMMdd_HHmm].csv\r\nFile_[Asia/Tokyo:yyyyMMdd_HHmm].csv\r\n```\r\n\r\nFurthermore, you&#39;re saying that you want it to match a ZoneId which is provided at runtime.\r\n\r\nYou can use the `String.format` for this, using the `%s` specifier to interpolate a `String` value into a `String`.\r\n\r\nConsider the following.  \r\nI&#39;ve excluded the ZoneId value, as I&#39;m not sure what your variable name will be.\r\n\r\n```java\r\nString regex = &quot;\\\\[(?:TimeStamp|%s)(.{14}).{5}&quot;;\r\nString zoneId = Pattern.quote(/* zoneId */);\r\nregex = regex.formatted(zoneId);\r\n```\r\n\r\nIf I used `America/Phoenix` as a ZoneId value, and we output the value of `regex`, we&#39;ll get the following.\r\n\r\n```none\r\n\\[(?:TimeStamp|\\QAmerica/Phoenix\\E)(.{14}).{5}\r\n```\r\n\r\nIn conclusion, you can re-factor you code, as follows.\r\n\r\n```java\r\nprivate static final String DEFAULT_FORMAT = &quot;yyyyMMddHHmmss&quot;;\r\nprivate static final String TIMESTAMP_REGEX = &quot;\\\\[TimeStamp(.{14}).{5}&quot;;\r\n\r\npublic static String processFileName(String value, String regex) {\r\n    LocalDateTime dateTime = LocalDateTime.now();\r\n    Matcher matcher = Pattern.compile(regex).matcher(value);\r\n    while (matcher.find()) {\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(DEFAULT_FORMAT);\r\n        if (matcher.group(1) != null)\r\n            dtf = DateTimeFormatter.ofPattern(matcher.group(1).substring(1));\r\n        value = value.replace(matcher.group(0), dtf.format(dateTime));\r\n    }\r\n    return value;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nFile_20230521_1711\r\n```","title":"Correct Regex for Passing Time Zone in Java","body":"<p>First off, the timestamp and file extension is always going to be the same amount of characters, so you don't need a character class.</p>\n<p>So, given <code>File_[TimeStamp:yyyyMMdd_HHmm].csv</code>.</p>\n<p>The pattern <code>\\[TimeStamp(:[^\\[\\]]+)?\\]</code> can be reduced to the following.</p>\n<pre><code>\\[TimeStamp(.{14}).{5}\n</code></pre>\n<p>Now, you're saying that you'd like to be able to match not only the text &quot;TimeStamp&quot;, but also other values.</p>\n<p>You can place the text <code>TimeStamp</code> within a non-capturing group, and use the <code>|</code> specifier, to delimit a set of possible values.</p>\n<pre><code>\\[(?:TimeStamp|Asia/Tokyo)(.{14}).{5}\n</code></pre>\n<p>So now, both of the following values will match.</p>\n<pre class=\"lang-none prettyprint-override\"><code>File_[TimeStamp:yyyyMMdd_HHmm].csv\nFile_[Asia/Tokyo:yyyyMMdd_HHmm].csv\n</code></pre>\n<p>Furthermore, you're saying that you want it to match a ZoneId which is provided at runtime.</p>\n<p>You can use the <code>String.format</code> for this, using the <code>%s</code> specifier to interpolate a <code>String</code> value into a <code>String</code>.</p>\n<p>Consider the following.<br />\nI've excluded the ZoneId value, as I'm not sure what your variable name will be.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;\\\\[(?:TimeStamp|%s)(.{14}).{5}&quot;;\nString zoneId = Pattern.quote(/* zoneId */);\nregex = regex.formatted(zoneId);\n</code></pre>\n<p>If I used <code>America/Phoenix</code> as a ZoneId value, and we output the value of <code>regex</code>, we'll get the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\[(?:TimeStamp|\\QAmerica/Phoenix\\E)(.{14}).{5}\n</code></pre>\n<p>In conclusion, you can re-factor you code, as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String DEFAULT_FORMAT = &quot;yyyyMMddHHmmss&quot;;\nprivate static final String TIMESTAMP_REGEX = &quot;\\\\[TimeStamp(.{14}).{5}&quot;;\n\npublic static String processFileName(String value, String regex) {\n    LocalDateTime dateTime = LocalDateTime.now();\n    Matcher matcher = Pattern.compile(regex).matcher(value);\n    while (matcher.find()) {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(DEFAULT_FORMAT);\n        if (matcher.group(1) != null)\n            dtf = DateTimeFormatter.ofPattern(matcher.group(1).substring(1));\n        value = value.replace(matcher.group(0), dtf.format(dateTime));\n    }\n    return value;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>File_20230521_1711\n</code></pre>\n"}],"owner":{"account_id":19090376,"reputation":15,"user_id":13940769,"display_name":"Biswajit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684703550,"creation_date":1674216212,"question_id":75183769,"body_markdown":"I am currently using a regex to interprete the below format.\r\n\r\nFile Name : File_[TimeStamp:yyyyMMdd_HHmm].csv and regex for interpreting the format is : &quot;\\\\[TimeStamp(:[^\\\\[\\\\]]+)?\\\\]&quot; .\r\nit will return a String with timestamp value : File_20230120_1716.csv\r\n\r\n\r\nThe sample code which support interpreting the timestamp format in the filename:\r\n```\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Test {\r\n\tprivate static final String DEFAULT_FORMAT= &quot;yyyyMMddHHmmss&quot;;\r\n\tprivate static final String TIMESTAMP_REGEX = &quot;\\\\[TimeStamp(:[^\\\\[\\\\]]+)?\\\\]&quot;;\r\n\tpublic  static String processFileName(String value, String regex ) {\r\n\t\tLocalDateTime dateTime=LocalDateTime.now();\r\n\t\tMatcher matcher=Pattern.compile(regex, Pattern.DOTALL).matcher(value);\r\n\t\twhile(matcher.find()) {\r\n\t\t\tDateTimeFormatter dtf=DateTimeFormatter.ofPattern(DEFAULT_FORMAT);\r\n\t\t\tif(matcher.group(1)!=null) {\r\n\t\t\t\tdtf=DateTimeFormatter.ofPattern(matcher.group(1).replaceFirst(&quot;:&quot;, &quot;&quot;));\r\n\t\t\t}\r\n\t\t\tvalue=value.replace(matcher.group(0), dtf.format(dateTime));\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tString str=processFileName(&quot;File_[TimeStamp:yyyyMMdd_HHmm].csv&quot;, TIMESTAMP_REGEX);\r\n\t\tSystem.out.println(str);\r\n\t   }\r\n}\r\n```\r\nOutput: File_20230120_1716.csv\r\nCurrently I can use File_[TimeStamp:yyyyMMdd_HHmm].csv or File_[TimeStamp].csv formats to interprete with above regex.\r\n\r\n\r\nBut I wanted to modify the above &quot;\\\\[TimeStamp(:[^\\\\[\\\\]]+)?\\\\]&quot; sothat it can interpret ZonId also in this format : File_[TimeStam|Asia\\Tokyo:yyyyMMdd_HHmm].csv.\r\nBased upon ZoneId from the input I will modify the LocalDateTime value.","title":"Correct Regex for Passing Time Zone in Java","body":"<p>I am currently using a regex to interprete the below format.</p>\n<p>File Name : File_[TimeStamp:yyyyMMdd_HHmm].csv and regex for interpreting the format is : &quot;\\[TimeStamp(:[^\\[\\]]+)?\\]&quot; .\nit will return a String with timestamp value : File_20230120_1716.csv</p>\n<p>The sample code which support interpreting the timestamp format in the filename:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Test {\n    private static final String DEFAULT_FORMAT= &quot;yyyyMMddHHmmss&quot;;\n    private static final String TIMESTAMP_REGEX = &quot;\\\\[TimeStamp(:[^\\\\[\\\\]]+)?\\\\]&quot;;\n    public  static String processFileName(String value, String regex ) {\n        LocalDateTime dateTime=LocalDateTime.now();\n        Matcher matcher=Pattern.compile(regex, Pattern.DOTALL).matcher(value);\n        while(matcher.find()) {\n            DateTimeFormatter dtf=DateTimeFormatter.ofPattern(DEFAULT_FORMAT);\n            if(matcher.group(1)!=null) {\n                dtf=DateTimeFormatter.ofPattern(matcher.group(1).replaceFirst(&quot;:&quot;, &quot;&quot;));\n            }\n            value=value.replace(matcher.group(0), dtf.format(dateTime));\n        }\n        return value;\n    }\n    public static void main(String args[]) {\n        \n        String str=processFileName(&quot;File_[TimeStamp:yyyyMMdd_HHmm].csv&quot;, TIMESTAMP_REGEX);\n        System.out.println(str);\n       }\n}\n</code></pre>\n<p>Output: File_20230120_1716.csv\nCurrently I can use File_[TimeStamp:yyyyMMdd_HHmm].csv or File_[TimeStamp].csv formats to interprete with above regex.</p>\n<p>But I wanted to modify the above &quot;\\[TimeStamp(:[^\\[\\]]+)?\\]&quot; sothat it can interpret ZonId also in this format : File_[TimeStam|Asia\\Tokyo:yyyyMMdd_HHmm].csv.\nBased upon ZoneId from the input I will modify the LocalDateTime value.</p>\n"},{"tags":["java","android","xml","button","android-activity"],"comments":[{"owner":{"account_id":1558119,"reputation":1333,"user_id":1448637,"accept_rate":67,"display_name":"DmitryK"},"score":1,"creation_date":1357616154,"post_id":14207392,"comment_id":19701967,"body_markdown":"Find your answer here: http://stackoverflow.com/questions/736571/using-intent-in-an-android-application-to-show-another-activity","body":"Find your answer here: <a href=\"http://stackoverflow.com/questions/736571/using-intent-in-an-android-application-to-show-another-activity\" title=\"using intent in an android application to show another activity\">stackoverflow.com/questions/736571/&hellip;</a>"},{"owner":{"account_id":1857124,"reputation":391,"user_id":1682454,"accept_rate":92,"display_name":"Androyds"},"score":2,"creation_date":1357616873,"post_id":14207392,"comment_id":19702119,"body_markdown":"please research more on tutorial regarding this. there are bunch on the web..","body":"please research more on tutorial regarding this. there are bunch on the web.."},{"owner":{"account_id":1980300,"reputation":28633,"user_id":1777090,"accept_rate":89,"display_name":"MysticMagic"},"score":1,"creation_date":1357621117,"post_id":14207392,"comment_id":19703029,"body_markdown":"Have you given android:onClick=&quot;click1&quot; property for button in activity_main.xml?","body":"Have you given android:onClick=&quot;click1&quot; property for button in activity_main.xml?"},{"owner":{"account_id":307669,"reputation":22223,"user_id":1466188,"accept_rate":69,"display_name":"Dipak Keshariya"},"score":0,"creation_date":1357649568,"post_id":14207392,"comment_id":19714540,"body_markdown":"@user1956735 Please see my answer, it will solve your problem.","body":"@user1956735 Please see my answer, it will solve your problem."},{"owner":{"account_id":1444109,"reputation":3612,"user_id":1363270,"accept_rate":60,"display_name":"Rob Avery IV"},"score":0,"creation_date":1357659545,"post_id":14207392,"comment_id":19720439,"body_markdown":"There is more than one way to do this.","body":"There is more than one way to do this."},{"owner":{"account_id":1444109,"reputation":3612,"user_id":1363270,"accept_rate":60,"display_name":"Rob Avery IV"},"score":0,"creation_date":1357660017,"post_id":14207392,"comment_id":19720739,"body_markdown":"FYI before you post a very simple and juvenile question on Stackoverflow, make sure to see if the question hasn&#39;t already been answered and to do some research before posting. A lack of research is frowned upon. Trust me, been there, done that.","body":"FYI before you post a very simple and juvenile question on Stackoverflow, make sure to see if the question hasn&#39;t already been answered and to do some research before posting. A lack of research is frowned upon. Trust me, been there, done that."}],"answers":[{"tags":[],"owner":{"account_id":1272135,"reputation":25812,"user_id":1228170,"display_name":"Bhavesh Patadiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1357620907,"creation_date":1357620907,"answer_id":14208420,"question_id":14207392,"body_markdown":"Change your FirstyActivity to: \r\n \r\n\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Button btn_go=(Button)findViewById(R.id.YOUR_BUTTON_ID);\r\n            \tbtn_go.setOnClickListener(new OnClickListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t  Log.i(&quot;clicks&quot;,&quot;You Clicked B1&quot;);\r\n                  Intent i=new Intent(\r\n                         MainActivity.this,\r\n                         MainActivity2.class);\r\n                  startActivity(i);\r\n                }\r\n    \t\t}\r\n    \t});\r\n     \r\n    }\r\n\r\nHope it will help you.","title":"Android Button click go to another xml page","body":"<p>Change your FirstyActivity to: </p>\n\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Button btn_go=(Button)findViewById(R.id.YOUR_BUTTON_ID);\n            btn_go.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n                  Log.i(\"clicks\",\"You Clicked B1\");\n              Intent i=new Intent(\n                     MainActivity.this,\n                     MainActivity2.class);\n              startActivity(i);\n            }\n        }\n    });\n\n}\n</code></pre>\n\n<p>Hope it will help you.</p>\n"},{"tags":[],"owner":{"account_id":307669,"reputation":22223,"user_id":1466188,"accept_rate":69,"display_name":"Dipak Keshariya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1357621589,"creation_date":1357621589,"answer_id":14208509,"question_id":14207392,"body_markdown":"Write below code in your MainActivity.java file instead of your code.\r\n\r\n    public class MainActivity extends Activity implements OnClickListener {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            Button mBtn1 = (Button) findViewById(R.id.mBtn1);\r\n            mBtn1.setOnClickListener(this);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.activity_main, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View v) {\r\n            Log.i(&quot;clicks&quot;,&quot;You Clicked B1&quot;);\r\n            Intent i=new Intent(MainActivity.this, MainActivity2.class);\r\n            startActivity(i);\r\n        }\r\n    }\r\n\r\nAnd Declare MainActivity2 into your Androidmanifest.xml file using below code.\r\n\r\n    &lt;activity\r\n        android:name=&quot;.MainActivity2&quot;\r\n        android:label=&quot;@string/title_activity_main&quot;&gt;\r\n    &lt;/activity&gt;","title":"Android Button click go to another xml page","body":"<p>Write below code in your MainActivity.java file instead of your code.</p>\n\n<pre><code>public class MainActivity extends Activity implements OnClickListener {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Button mBtn1 = (Button) findViewById(R.id.mBtn1);\n        mBtn1.setOnClickListener(this);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.activity_main, menu);\n        return true;\n    }\n\n    @Override\n    public void onClick(View v) {\n        Log.i(\"clicks\",\"You Clicked B1\");\n        Intent i=new Intent(MainActivity.this, MainActivity2.class);\n        startActivity(i);\n    }\n}\n</code></pre>\n\n<p>And Declare MainActivity2 into your Androidmanifest.xml file using below code.</p>\n\n<pre><code>&lt;activity\n    android:name=\".MainActivity2\"\n    android:label=\"@string/title_activity_main\"&gt;\n&lt;/activity&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1444109,"reputation":3612,"user_id":1363270,"accept_rate":60,"display_name":"Rob Avery IV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357659953,"creation_date":1357659953,"answer_id":14218738,"question_id":14207392,"body_markdown":"There is more than one way to do this.\r\n\r\nHere is a good resource straight from Google:\r\nhttp://developer.android.com/training/basics/firstapp/starting-activity.html\r\n\r\nAt developer.android.com, they have numerous tutorials explaining just about everything you need to know about android. They even provide detailed API for each class.\r\n\r\nIf that doesn&#39;t help, there are NUMEROUS different resources that can help you with this question and other android questions.","title":"Android Button click go to another xml page","body":"<p>There is more than one way to do this.</p>\n\n<p>Here is a good resource straight from Google:\n<a href=\"http://developer.android.com/training/basics/firstapp/starting-activity.html\" rel=\"nofollow\">http://developer.android.com/training/basics/firstapp/starting-activity.html</a></p>\n\n<p>At developer.android.com, they have numerous tutorials explaining just about everything you need to know about android. They even provide detailed API for each class.</p>\n\n<p>If that doesn't help, there are NUMEROUS different resources that can help you with this question and other android questions.</p>\n"}],"owner":{"account_id":2216229,"reputation":79,"user_id":1956735,"display_name":"Dmitry"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104830,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"accepted_answer_id":14208509,"answer_count":3,"score":2,"last_activity_date":1684702416,"creation_date":1357612604,"question_id":14207392,"body_markdown":"So what I&#39;ve done in Eclipse, in layouts I have: activity_main.xml  and activity_main2.xml. What I tried is to create a button in activity_main.xml and on click to go on screen of activity_main2.xml\r\n\r\nso in `com.example.myfirstapp` I have\r\n\r\nMainActivity.Java:\r\n\r\n    package com.example.myfirstapp;\r\n\r\n    import android.os.Bundle;\r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.util.Log;\r\n    import android.view.Menu;\r\n    import android.view.View;\r\n    \r\n    public class MainActivity extends Activity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.activity_main, menu);\r\n            return true;\r\n        }\r\n        \r\n        public void click1(View v) {\r\n        \tLog.i(&quot;clicks&quot;,&quot;You Clicked B1&quot;);\r\n          \tIntent i=new Intent(\r\n        \t             MainActivity.this,\r\n        \t             MainActivity2.class);\r\n        \tstartActivity(i);\r\n        }\r\n    }\r\n\r\nMainActivity2.java\r\n\r\n\r\n\r\n    package com.example.myfirstapp;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.app.Activity;\r\n    \r\n    public class MainActivity2 extends Activity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main2);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.activity_main, menu);\r\n            return true;\r\n        }\r\n    }","title":"Android Button click go to another xml page","body":"<p>So what I've done in Eclipse, in layouts I have: activity_main.xml  and activity_main2.xml. What I tried is to create a button in activity_main.xml and on click to go on screen of activity_main2.xml</p>\n\n<p>so in <code>com.example.myfirstapp</code> I have</p>\n\n<p>MainActivity.Java:</p>\n\n<pre><code>package com.example.myfirstapp;\n\nimport android.os.Bundle;\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.View;\n\npublic class MainActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.activity_main, menu);\n        return true;\n    }\n\n    public void click1(View v) {\n        Log.i(\"clicks\",\"You Clicked B1\");\n        Intent i=new Intent(\n                     MainActivity.this,\n                     MainActivity2.class);\n        startActivity(i);\n    }\n}\n</code></pre>\n\n<p>MainActivity2.java</p>\n\n<pre><code>package com.example.myfirstapp;\n\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.app.Activity;\n\npublic class MainActivity2 extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.activity_main, menu);\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","string","replace","character"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1674392559,"post_id":75200481,"comment_id":132700697,"body_markdown":"`expression = expression.replace(character, &#39; &#39;);` will replace *all* `character` occurances. So `&quot;11+&quot;.replace(&#39;1&#39;,&#39; &#39;)` will become `&quot;  +&quot;`. To replace *first* occurrence of that character you may want to use `replaceFirst`. Since it uses regex, you want to generate regex which represents that character (in case such character is regex metacharacter like `+`). To do that you can use `Pattern.quote` but it expects String. So you also need to convert your `character` to String first. Final version could look like `expression = expression.replaceFirst(Pattern.quote(&quot;&quot;+character), &quot;&quot;);`.","body":"<code>expression = expression.replace(character, &#39; &#39;);</code> will replace <i>all</i> <code>character</code> occurances. So <code>&quot;11+&quot;.replace(&#39;1&#39;,&#39; &#39;)</code> will become <code>&quot;  +&quot;</code>. To replace <i>first</i> occurrence of that character you may want to use <code>replaceFirst</code>. Since it uses regex, you want to generate regex which represents that character (in case such character is regex metacharacter like <code>+</code>). To do that you can use <code>Pattern.quote</code> but it expects String. So you also need to convert your <code>character</code> to String first. Final version could look like <code>expression = expression.replaceFirst(Pattern.quote(&quot;&quot;+character), &quot;&quot;);</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1674392679,"post_id":75200481,"comment_id":132700723,"body_markdown":"Same for player inventory. BTW replacing character with `&quot;&quot;` (empty string) instead of `&#39; &#39;` (space) also lets you avoid `inventoryPlayer1 = inventoryPlayer1.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);` since you are not adding any spaces now.","body":"Same for player inventory. BTW replacing character with <code>&quot;&quot;</code> (empty string) instead of <code>&#39; &#39;</code> (space) also lets you avoid <code>inventoryPlayer1 = inventoryPlayer1.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);</code> since you are not adding any spaces now."},{"owner":{"account_id":22773857,"reputation":69,"user_id":16930849,"display_name":"Noname"},"score":0,"creation_date":1674393237,"post_id":75200481,"comment_id":132700805,"body_markdown":"Thank you! I don&#39;t understand how to implement this still. But I will try to figure it out. Just replacing this &quot;expression = expression.replaceFirst...&quot; doesn&#39;t work. So I&#39;ll just see how you meant it and hopefully I&#39;ll get it. Thanks for your help","body":"Thank you! I don&#39;t understand how to implement this still. But I will try to figure it out. Just replacing this &quot;expression = expression.replaceFirst...&quot; doesn&#39;t work. So I&#39;ll just see how you meant it and hopefully I&#39;ll get it. Thanks for your help"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1674396175,"post_id":75200481,"comment_id":132701296,"body_markdown":"You are welcome. BTW if instead of String you can use other structures like List then you could use `yourList.remove(element)` which would remove *first* occurrence of that element from your list.","body":"You are welcome. BTW if instead of String you can use other structures like List then you could use <code>yourList.remove(element)</code> which would remove <i>first</i> occurrence of that element from your list."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684701623,"creation_date":1684701623,"answer_id":76301839,"question_id":75200481,"body_markdown":"It looks like you&#39;re trying to remove any repeated characters.\r\n\r\nThe following regular expression pattern will match any character that is immediately followed by the same character.\r\n\r\n```regex\r\n(.)\\1\r\n```\r\n\r\nYou can use this within a `String.replaceAll` method.\r\n\r\n```java\r\nString string = &quot;111234++&quot;\r\nwhile (string.matches(&quot;.*(.)\\\\1.*&quot;))\r\n    string = string.replaceAll(&quot;(.)\\\\1&quot;, &quot;$1&quot;);\r\n```\r\n\r\nThe `string.matches` call is asserting that `string` contains at least 1 repeated set.  \r\nAnd, the `string.replaceAll` call is replacing the double-occurrence with a single occurrence.","title":"Trying to remove unknown and specific characters once from a string","body":"<p>It looks like you're trying to remove any repeated characters.</p>\n<p>The following regular expression pattern will match any character that is immediately followed by the same character.</p>\n<pre><code>(.)\\1\n</code></pre>\n<p>You can use this within a <code>String.replaceAll</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;111234++&quot;\nwhile (string.matches(&quot;.*(.)\\\\1.*&quot;))\n    string = string.replaceAll(&quot;(.)\\\\1&quot;, &quot;$1&quot;);\n</code></pre>\n<p>The <code>string.matches</code> call is asserting that <code>string</code> contains at least 1 repeated set.<br />\nAnd, the <code>string.replaceAll</code> call is replacing the double-occurrence with a single occurrence.</p>\n"}],"owner":{"account_id":22773857,"reputation":69,"user_id":16930849,"display_name":"Noname"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684701623,"creation_date":1674391257,"question_id":75200481,"body_markdown":"I have a command line argument that looks like this:\r\n`&quot;111234++&quot;`. It is not hard-coded, so it could vary. Just for the sake of example, I&#39;ll stick to that specific input though.  \r\nThen there is going to be another expression, like this one: &quot;11+&quot;. My ultimate goal is the removal of these occurrences from the input string. This means, the following string: &quot;111234++&quot; should get converted into this the smaller one right here: &quot;1234+&quot;. For some reason I can&#39;t get this to work. Here is what I tried:\r\n\r\n    if (isExpressionInInventory(expression, inventoryPlayer1)) {\r\n        for (int i = 0; i &lt; expression.length(); i++) {\r\n            char character  = expression.charAt(i);\r\n            for (int j = 0; j &lt; inventoryPlayer1.length(); j++) {\r\n                if (inventoryPlayer1.charAt(j) == character) {\r\n                    inventoryPlayer1 = inventoryPlayer1.replace(character, &#39; &#39;);\r\n                    expression = expression.replace(character, &#39; &#39;);\r\n                }\r\n            }\r\n        }\r\n        inventoryPlayer1 = inventoryPlayer1.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n    }\r\n\r\n___\r\nI tried iterating over the string-expression and store the character consecutively. My first character should be &quot;1&quot; then.. The nested for loop iterates through the inventory &quot;111234++&quot; and replaces each occurrence of the character with an empty character. This is the moment where my program has its flaw. I only want to replace one occurrence of that character. Sadly, I have no idea how to tackle this issue.. \r\nThanks for any help in advance!\r\n","title":"Trying to remove unknown and specific characters once from a string","body":"<p>I have a command line argument that looks like this:\n<code>&quot;111234++&quot;</code>. It is not hard-coded, so it could vary. Just for the sake of example, I'll stick to that specific input though.<br />\nThen there is going to be another expression, like this one: &quot;11+&quot;. My ultimate goal is the removal of these occurrences from the input string. This means, the following string: &quot;111234++&quot; should get converted into this the smaller one right here: &quot;1234+&quot;. For some reason I can't get this to work. Here is what I tried:</p>\n<pre><code>if (isExpressionInInventory(expression, inventoryPlayer1)) {\n    for (int i = 0; i &lt; expression.length(); i++) {\n        char character  = expression.charAt(i);\n        for (int j = 0; j &lt; inventoryPlayer1.length(); j++) {\n            if (inventoryPlayer1.charAt(j) == character) {\n                inventoryPlayer1 = inventoryPlayer1.replace(character, ' ');\n                expression = expression.replace(character, ' ');\n            }\n        }\n    }\n    inventoryPlayer1 = inventoryPlayer1.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n}\n</code></pre>\n<hr />\n<p>I tried iterating over the string-expression and store the character consecutively. My first character should be &quot;1&quot; then.. The nested for loop iterates through the inventory &quot;111234++&quot; and replaces each occurrence of the character with an empty character. This is the moment where my program has its flaw. I only want to replace one occurrence of that character. Sadly, I have no idea how to tackle this issue..\nThanks for any help in advance!</p>\n"},{"tags":["java","eclipse","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1437736239,"creation_date":1407760481,"answer_id":25243438,"question_id":25243342,"body_markdown":"The real error is this:\r\n\r\n    Connection to http://repo1.maven.org refused\r\n\r\nGradle needs to download the dependencies listed in the error message to be able to compile the project.\r\n\r\nYou&#39;re probably behind a firewall or your Internet connection isn&#39;t working. You need to make sure Gradle can access `http://repo1.maven.org`.\r\n\r\nNote: Maven Central (http://repo1.maven.org) can be accessed with a browser. If you see the message &quot;Browsing for this directory has been disabled&quot; that means your browser could connect to the server (the error is a special message my Maven Central, not a standard HTTP error message).\r\n\r\nIf you see this but Maven or Gradle fail, then you need to check your browser&#39;s/OS&#39;s proxy settings and configure your tool accordingly.\r\n\r\nRelated:\r\n\r\n* https://stackoverflow.com/questions/1251192/how-do-i-use-maven-through-a-proxy\r\n* https://stackoverflow.com/questions/5991194/gradle-proxy-configuration","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>The real error is this:</p>\n\n<pre><code>Connection to http://repo1.maven.org refused\n</code></pre>\n\n<p>Gradle needs to download the dependencies listed in the error message to be able to compile the project.</p>\n\n<p>You're probably behind a firewall or your Internet connection isn't working. You need to make sure Gradle can access <code>http://repo1.maven.org</code>.</p>\n\n<p>Note: Maven Central (<a href=\"http://repo1.maven.org\">http://repo1.maven.org</a>) can be accessed with a browser. If you see the message \"Browsing for this directory has been disabled\" that means your browser could connect to the server (the error is a special message my Maven Central, not a standard HTTP error message).</p>\n\n<p>If you see this but Maven or Gradle fail, then you need to check your browser's/OS's proxy settings and configure your tool accordingly.</p>\n\n<p>Related:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1251192/how-do-i-use-maven-through-a-proxy\">How do I use Maven through a proxy?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5991194/gradle-proxy-configuration\">Gradle proxy configuration</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3101610,"reputation":488,"user_id":2625592,"display_name":"deveth0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407760713,"creation_date":1407760713,"answer_id":25243517,"question_id":25243342,"body_markdown":"It looks like you don&#39;t have a working internet connection or haven&#39;t configured your proxy/firewall. \r\nPlease check if you can access repo1.maven.org from commandline or a browser.","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>It looks like you don't have a working internet connection or haven't configured your proxy/firewall. \nPlease check if you can access repo1.maven.org from commandline or a browser.</p>\n"},{"tags":[],"owner":{"account_id":2315367,"reputation":8964,"user_id":2032561,"accept_rate":64,"display_name":"Bharatesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429867782,"creation_date":1429867782,"answer_id":29843753,"question_id":25243342,"body_markdown":"@Aaron Digulla said I have firewall problem.  \r\n\r\nI was having problem with __GSON dependency__, (hope it will solve other dependecy problems also) and this answer solved the problem. Stack Overflow [Could not resolve all dependencies for configuration &#39;:classpath&#39;](https://stackoverflow.com/a/26671662/2032561)\r\n\r\n@Kangars post :\r\nThis is what i have in my __gradle.build__ for build script and allprojects\r\n\r\n    buildscript {\r\n    repositories {\r\n        jcenter {\r\n            url &quot;http://jcenter.bintray.com/&quot;\r\n        }\r\n      }\r\n    }\r\n    \r\n    allprojects {\r\n    repositories {\r\n        jcenter {\r\n            url &quot;http://jcenter.bintray.com/&quot;\r\n        }\r\n      }\r\n    }\r\n","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>@Aaron Digulla said I have firewall problem.  </p>\n\n<p>I was having problem with <strong>GSON dependency</strong>, (hope it will solve other dependecy problems also) and this answer solved the problem. Stack Overflow <a href=\"https://stackoverflow.com/a/26671662/2032561\">Could not resolve all dependencies for configuration ':classpath'</a></p>\n\n<p>@Kangars post :\nThis is what i have in my <strong>gradle.build</strong> for build script and allprojects</p>\n\n<pre><code>buildscript {\nrepositories {\n    jcenter {\n        url \"http://jcenter.bintray.com/\"\n    }\n  }\n}\n\nallprojects {\nrepositories {\n    jcenter {\n        url \"http://jcenter.bintray.com/\"\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":110362,"reputation":1148,"user_id":292049,"accept_rate":45,"display_name":"user292049"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556218197,"creation_date":1448453073,"answer_id":33916077,"question_id":25243342,"body_markdown":"I used the steps below to fix it.\r\n\r\n1. Go to command prompt and set the java opts.\r\n\r\n        SET JAVA_OPTS=-Dhttp.proxyHost=your_proxy_server_name -Dhttp.proxyPort=your_proxy_port -Dhttp.nonProxyHosts=127.0.0.1\r\n\r\n2. Then build your Gradle application and all the connection refused errors no longer appear.\r\n\r\n `gradle clean build distZip`\r\n\r\n","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>I used the steps below to fix it.</p>\n\n<ol>\n<li><p>Go to command prompt and set the java opts.</p>\n\n<pre><code>SET JAVA_OPTS=-Dhttp.proxyHost=your_proxy_server_name -Dhttp.proxyPort=your_proxy_port -Dhttp.nonProxyHosts=127.0.0.1\n</code></pre></li>\n<li><p>Then build your Gradle application and all the connection refused errors no longer appear.</p>\n\n<p><code>gradle clean build distZip</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2398173,"reputation":607,"user_id":2096566,"accept_rate":83,"display_name":"phoenix"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1453398181,"creation_date":1453398181,"answer_id":34930698,"question_id":25243342,"body_markdown":"Using --refresh-dependencies switch with gradle, helped me to resolve this issue.","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>Using --refresh-dependencies switch with gradle, helped me to resolve this issue.</p>\n"},{"tags":[],"owner":{"account_id":7066261,"reputation":41,"user_id":5409502,"display_name":"george"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456141192,"creation_date":1456141192,"answer_id":35552666,"question_id":25243342,"body_markdown":"This is because of slow internet connection or you haven&#39;t configure proxy settings correctly. Gradle needs to download some dependencies , if it cant access the repository it fires this error. All you have to do is check your internet connection and make sure gradle can access the maven repository.","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>This is because of slow internet connection or you haven't configure proxy settings correctly. Gradle needs to download some dependencies , if it cant access the repository it fires this error. All you have to do is check your internet connection and make sure gradle can access the maven repository.</p>\n"},{"tags":[],"owner":{"account_id":93940,"reputation":5106,"user_id":256770,"accept_rate":31,"display_name":"Farrukh Najmi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532713451,"creation_date":1532713451,"answer_id":51563062,"question_id":25243342,"body_markdown":"In my case the problem was resolved when I changed my gradle version from 4.6 to 4.7.","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>In my case the problem was resolved when I changed my gradle version from 4.6 to 4.7.</p>\n"},{"tags":[],"owner":{"account_id":8218074,"reputation":784,"user_id":6183652,"display_name":"noob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571908890,"creation_date":1538915622,"answer_id":52688524,"question_id":25243342,"body_markdown":"The root cause\r\n`Connection to http://repo1.maven.org refused`\r\nindicates that the build is failing as gradle is not able to fetch some dependencies from the repository.\r\n\r\n\r\nHere is a list of causes and corresponding resolutions you might want to try:\r\n\r\n1. Internet connectivity issues - Have a good internet speed and connectivity\r\n2. Firewall (system or third party) - Ensure firewall is not blocking access to the repository\r\n3. Working behind a proxy - https://stackoverflow.com/questions/5991194/gradle-proxy-configuration\r\n4. Firewall or some random application meddling with proxy application&lt;sup&gt;1&lt;/sup&gt; - Kill the process meddling with the proxy application\r\n5. The proxy application causes certificate problems&lt;sup&gt;2&lt;/sup&gt; - Import proxy application&#39;s certificate\r\n\r\n*References:*\r\n\r\n1. [Telerik forum&#39;s answer on how to fix internet connectivity issue while using Fiddler](https://www.telerik.com/forums/fiddler-causes-my-internet-access-to-stop-working#2Q_DSu6nmE66fQo3ZYUiOw)\r\n2. [Telerik forum&#39;s answer on secure connection issue while using Fiddler](https://www.telerik.com/forums/your-connection-is-not-private-whenever-i-start-fiddler#Z6f4xKmGN0C-1SizhehzAw)","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>The root cause\n<code>Connection to http://repo1.maven.org refused</code>\nindicates that the build is failing as gradle is not able to fetch some dependencies from the repository.</p>\n\n<p>Here is a list of causes and corresponding resolutions you might want to try:</p>\n\n<ol>\n<li>Internet connectivity issues - Have a good internet speed and connectivity</li>\n<li>Firewall (system or third party) - Ensure firewall is not blocking access to the repository</li>\n<li>Working behind a proxy - <a href=\"https://stackoverflow.com/questions/5991194/gradle-proxy-configuration\">Gradle proxy configuration</a></li>\n<li>Firewall or some random application meddling with proxy application<sup>1</sup> - Kill the process meddling with the proxy application</li>\n<li>The proxy application causes certificate problems<sup>2</sup> - Import proxy application's certificate</li>\n</ol>\n\n<p><em>References:</em></p>\n\n<ol>\n<li><a href=\"https://www.telerik.com/forums/fiddler-causes-my-internet-access-to-stop-working#2Q_DSu6nmE66fQo3ZYUiOw\" rel=\"nofollow noreferrer\">Telerik forum's answer on how to fix internet connectivity issue while using Fiddler</a></li>\n<li><a href=\"https://www.telerik.com/forums/your-connection-is-not-private-whenever-i-start-fiddler#Z6f4xKmGN0C-1SizhehzAw\" rel=\"nofollow noreferrer\">Telerik forum's answer on secure connection issue while using Fiddler</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6696284,"reputation":332,"user_id":5164200,"display_name":"Fred"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661750645,"creation_date":1661750645,"answer_id":73524407,"question_id":25243342,"body_markdown":"For my case it was a poor connection issue so the IDE couldn&#39;t get resources online","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>For my case it was a poor connection issue so the IDE couldn't get resources online</p>\n"},{"tags":[],"owner":{"account_id":21579625,"reputation":11,"user_id":15911029,"display_name":"Vy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684701478,"creation_date":1684701478,"answer_id":76301833,"question_id":25243342,"body_markdown":"Mine worked after turning on the VPN. Although the build seems to take a long time and seems to stall at 85%, the service is actually building and I&#39;m able to load it","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>Mine worked after turning on the VPN. Although the build seems to take a long time and seems to stall at 85%, the service is actually building and I'm able to load it</p>\n"}],"owner":{"account_id":3347567,"reputation":397,"user_id":2812410,"accept_rate":33,"display_name":"Prajyod Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158847,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":10,"score":17,"last_activity_date":1684701478,"creation_date":1407760180,"question_id":25243342,"body_markdown":"I am trying for so many days to resolve this exception , followed many blogs and couldn&#39;t find  solution. when I run a bundle.gradle by giving jettyRun as command ![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/5E2OC.jpg\r\n\r\n    I am getting an exception \r\n    \r\n    \r\n       \r\n        **FAILURE: Build failed with an exception.\r\n        \r\n            * What went wrong:\r\n            Could not resolve all dependencies for configuration &#39;:compile&#39;.\r\n            &gt; Could not resolve javax.servlet:servlet-api:2.5.\r\n              Required by:\r\n                  :1-SimpleServlet:unspecified\r\n               &gt; Could not GET &#39;http://repo1.maven.org/maven2/javax/servlet/servlet-api/2.5/servlet-api-2.5.pom&#39;.\r\n                  &gt; Connection to http://repo1.maven.org refused\r\n            &gt; Could not resolve org.apache.commons:commons-io:1.3.2.\r\n              Required by:\r\n                  :1-SimpleServlet:unspecified\r\n               &gt; Could not GET &#39;http://repo1.maven.org/maven2/org/apache/commons/commons-io/1.3.2/commons-io-1.3.2.pom&#39;.\r\n                  &gt; Connection to http://repo1.maven.org refused**\r\n        \r\n      \r\n\r\n","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>I am trying for so many days to resolve this exception , followed many blogs and couldn't find  solution. when I run a bundle.gradle by giving jettyRun as command <img src=\"https://i.stack.imgur.com/5E2OC.jpg\" alt=\"enter image description here\"></p>\n\n<pre><code>I am getting an exception \n\n\n\n    **FAILURE: Build failed with an exception.\n\n        * What went wrong:\n        Could not resolve all dependencies for configuration ':compile'.\n        &gt; Could not resolve javax.servlet:servlet-api:2.5.\n          Required by:\n              :1-SimpleServlet:unspecified\n           &gt; Could not GET 'http://repo1.maven.org/maven2/javax/servlet/servlet-api/2.5/servlet-api-2.5.pom'.\n              &gt; Connection to http://repo1.maven.org refused\n        &gt; Could not resolve org.apache.commons:commons-io:1.3.2.\n          Required by:\n              :1-SimpleServlet:unspecified\n           &gt; Could not GET 'http://repo1.maven.org/maven2/org/apache/commons/commons-io/1.3.2/commons-io-1.3.2.pom'.\n              &gt; Connection to http://repo1.maven.org refused**\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","dependency-injection"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":5,"creation_date":1381781326,"post_id":19368378,"comment_id":28700772,"body_markdown":"You should certainly read this article - http://martinfowler.com/articles/injection.html","body":"You should certainly read this article - <a href=\"http://martinfowler.com/articles/injection.html\" rel=\"nofollow noreferrer\">martinfowler.com/articles/injection.html</a>"},{"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":1,"creation_date":1381781429,"post_id":19368378,"comment_id":28700825,"body_markdown":"Looks like you have read an old Spring in Action Book. Since Spring 3.0, there is not so much bean definition left in the xml.","body":"Looks like you have read an old Spring in Action Book. Since Spring 3.0, there is not so much bean definition left in the xml."},{"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"score":0,"creation_date":1381789999,"post_id":19368378,"comment_id":28704448,"body_markdown":"I did read Spring 3. You gotta help me by explaining how little xml configuration = inversion of control. How can that be?","body":"I did read Spring 3. You gotta help me by explaining how little xml configuration = inversion of control. How can that be?"},{"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"score":0,"creation_date":1381848013,"post_id":19368378,"comment_id":28727310,"body_markdown":"Ralph, could you explain? How the xml has decreased in spring 3. How does autowiring allow decoupling?","body":"Ralph, could you explain? How the xml has decreased in spring 3. How does autowiring allow decoupling?"}],"answers":[{"tags":[],"owner":{"account_id":1266527,"reputation":2643,"user_id":1223719,"accept_rate":95,"display_name":"aglassman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1381781599,"creation_date":1381781599,"answer_id":19368496,"question_id":19368378,"body_markdown":"You don&#39;t truly appreciate Spring until you&#39;ve had to do things the hard way.  The hard way being maintaining multiple large projects without a coherent framework.  If you have 4 big enterprise wide applications that all have their own way of starting themselves, and managing resources, you&#39;re in for a headache.  If you know that each application uses spring, then just look for the application context xml!  This also makes it incredibly easy to setup a new context for different environments, and test cases, all without mucking up your code base.","title":"What is the point of dependency injection as used in Spring?","body":"<p>You don't truly appreciate Spring until you've had to do things the hard way.  The hard way being maintaining multiple large projects without a coherent framework.  If you have 4 big enterprise wide applications that all have their own way of starting themselves, and managing resources, you're in for a headache.  If you know that each application uses spring, then just look for the application context xml!  This also makes it incredibly easy to setup a new context for different environments, and test cases, all without mucking up your code base.</p>\n"},{"tags":[],"owner":{"account_id":445968,"reputation":4827,"user_id":838733,"accept_rate":83,"display_name":"nietonfir"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1684701185,"creation_date":1381782386,"answer_id":19368689,"question_id":19368378,"body_markdown":"Three Words: **INVERSION OF CONTROL**\r\n\r\nIn a nutshell:\r\nAs soon as you instantiate &quot;the good old way&quot; you create tight coupling, e.g.: your controller depends on a specific template engine, your entities on a concrete database layer, etc. And that&#39;s something you want to prevent and where the dependency injection container (DIC) comes in very handy. It manages your services and you don&#39;t really have to care anymore about specific implementations as long as those implement the same interface.\r\n\r\nImagine a simple storage layer class called `InMemoryLayer` that gets instantiated by you when you need it. Now you want to switch it for an awesome new open-source GitHub solution called `SuperSecretRemoteCloudLayer`. Normally you would now hit &quot;Search and Replace&quot; in your IDE of choice and replace all occurrences of `InMemoryLayer` with the `SuperSecretRemoteCloudLayer`. But that&#39;s not handy and quite error-prone, why would you want to do all that hard work by hand? The DIC can do that for you and all *you* need to take care of, is that both `*Layer` implement the same interface (so your application won&#39;t break).","title":"What is the point of dependency injection as used in Spring?","body":"<p>Three Words: <strong>INVERSION OF CONTROL</strong></p>\n<p>In a nutshell:\nAs soon as you instantiate &quot;the good old way&quot; you create tight coupling, e.g.: your controller depends on a specific template engine, your entities on a concrete database layer, etc. And that's something you want to prevent and where the dependency injection container (DIC) comes in very handy. It manages your services and you don't really have to care anymore about specific implementations as long as those implement the same interface.</p>\n<p>Imagine a simple storage layer class called <code>InMemoryLayer</code> that gets instantiated by you when you need it. Now you want to switch it for an awesome new open-source GitHub solution called <code>SuperSecretRemoteCloudLayer</code>. Normally you would now hit &quot;Search and Replace&quot; in your IDE of choice and replace all occurrences of <code>InMemoryLayer</code> with the <code>SuperSecretRemoteCloudLayer</code>. But that's not handy and quite error-prone, why would you want to do all that hard work by hand? The DIC can do that for you and all <em>you</em> need to take care of, is that both <code>*Layer</code> implement the same interface (so your application won't break).</p>\n"},{"tags":[],"owner":{"display_name":"user41871"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1381787471,"creation_date":1381787471,"answer_id":19369886,"question_id":19368378,"body_markdown":"Spring&#39;s big deal is more about dependency injection, not XML-based configuration. As others have noted, Spring has been moving away from XML-based configuration. But DI is core to Spring.\r\n\r\nThe a-ha is that DI offers a different model for linking components together. Instead of components creating each other directly (and thus being tightly coupled), the components stop doing that, and you inject the linkages from a central location. It turns out that this helps with testing and transaction management in particular.\r\n","title":"What is the point of dependency injection as used in Spring?","body":"<p>Spring's big deal is more about dependency injection, not XML-based configuration. As others have noted, Spring has been moving away from XML-based configuration. But DI is core to Spring.</p>\n\n<p>The a-ha is that DI offers a different model for linking components together. Instead of components creating each other directly (and thus being tightly coupled), the components stop doing that, and you inject the linkages from a central location. It turns out that this helps with testing and transaction management in particular.</p>\n"}],"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5299,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":19368689,"answer_count":3,"score":14,"last_activity_date":1684701185,"creation_date":1381781174,"question_id":19368378,"body_markdown":"I have been reading the book Spring in Action for a few weeks now to learn about the spring framework. I have about 2 years of programming experience mostly in java with some distractions here and there in Ruby and Python.\r\n\r\nAfter reading the first few chapters, I didn&#39;t quite get what the big deal is about dependency injection in spring. I was expecting a AHAAA moment but didn&#39;t quite experience that yet. I&#39;m sure I&#39;m missing something important.\r\n\r\nWhy would I want to wire my beans in xml rather than instantiating them the good old way with the `= new myclass();`\r\n\r\nI understand I can wire beans in the xml via constructor args and properties as well as configure datasources in spring so that I can hide away connection details in an xml file. But  why? There is more to this especially when it comes to good software design. Can some one explain the big deal?","title":"What is the point of dependency injection as used in Spring?","body":"<p>I have been reading the book Spring in Action for a few weeks now to learn about the spring framework. I have about 2 years of programming experience mostly in java with some distractions here and there in Ruby and Python.</p>\n\n<p>After reading the first few chapters, I didn't quite get what the big deal is about dependency injection in spring. I was expecting a AHAAA moment but didn't quite experience that yet. I'm sure I'm missing something important.</p>\n\n<p>Why would I want to wire my beans in xml rather than instantiating them the good old way with the <code>= new myclass();</code></p>\n\n<p>I understand I can wire beans in the xml via constructor args and properties as well as configure datasources in spring so that I can hide away connection details in an xml file. But  why? There is more to this especially when it comes to good software design. Can some one explain the big deal?</p>\n"},{"tags":["java","string","file","file-handling"],"comments":[{"owner":{"account_id":27413892,"reputation":186,"user_id":20913415,"display_name":"Flavian Iuga"},"score":1,"creation_date":1674575041,"post_id":75223726,"comment_id":132740611,"body_markdown":"isn&#39;t this just: itemID[1] ? based on your stated desired output, no matter the split limit","body":"isn&#39;t this just: itemID[1] ? based on your stated desired output, no matter the split limit"},{"owner":{"account_id":18340378,"reputation":45,"user_id":13356804,"display_name":"Y3LLZ"},"score":0,"creation_date":1674575310,"post_id":75223726,"comment_id":132740720,"body_markdown":"@JohnnyMopp I overthought the output! This worked perfectly, thanks for simplifying it!","body":"@JohnnyMopp I overthought the output! This worked perfectly, thanks for simplifying it!"},{"owner":{"account_id":18340378,"reputation":45,"user_id":13356804,"display_name":"Y3LLZ"},"score":0,"creation_date":1674575382,"post_id":75223726,"comment_id":132740749,"body_markdown":"@FlavianIuga Yes it is, I overthought the output! Thank you!","body":"@FlavianIuga Yes it is, I overthought the output! Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":398248,"reputation":942,"user_id":762826,"accept_rate":80,"display_name":"Jako"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674575569,"creation_date":1674574940,"answer_id":75223829,"question_id":75223726,"body_markdown":"What about something using String.indexOf and String.substring functions (https://docs.oracle.com/javase/7/docs/api/java/lang/String.html)\r\n\r\n    int indexSecondOccurence = line.indexOf(&quot;,&quot;, line.indexOf(&quot;,&quot;) + 1);\r\n    System.out.println(line.substring(0, indexSecondOccurence + 1));\r\n\r\n","title":"Stop printing line of text from a file after a character appears a second time","body":"<p>What about something using String.indexOf and String.substring functions (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/String.html</a>)</p>\n<pre><code>int indexSecondOccurence = line.indexOf(&quot;,&quot;, line.indexOf(&quot;,&quot;) + 1);\nSystem.out.println(line.substring(0, indexSecondOccurence + 1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19290314,"reputation":1,"user_id":14100502,"display_name":"ToniKdao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674576209,"creation_date":1674576037,"answer_id":75224079,"question_id":75223726,"body_markdown":"I&#39;d suggest to modify your code as follows.\r\n```\r\n...\r\n        String[] itemID = line.split(&quot;,&quot;, 3); //attempt to use a regex limit\r\n        if(itemID[0].equals(test)) {\r\n            System.out.println(String.join (&quot;,&quot;, itemID[0],itemID[1]));\r\n        }\r\n...\r\n\r\n```\r\nThe split() call will produce an array with maximum 3 elements. First two will be the string pieces that you need. The last element is the remaining &quot;tail&quot; of the original string.\r\nNow we only need to merge the pieces back with the join() method.\r\nHope this helps.","title":"Stop printing line of text from a file after a character appears a second time","body":"<p>I'd suggest to modify your code as follows.</p>\n<pre><code>...\n        String[] itemID = line.split(&quot;,&quot;, 3); //attempt to use a regex limit\n        if(itemID[0].equals(test)) {\n            System.out.println(String.join (&quot;,&quot;, itemID[0],itemID[1]));\n        }\n...\n\n</code></pre>\n<p>The split() call will produce an array with maximum 3 elements. First two will be the string pieces that you need. The last element is the remaining &quot;tail&quot; of the original string.\nNow we only need to merge the pieces back with the join() method.\nHope this helps.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684701016,"creation_date":1684700568,"answer_id":76301787,"question_id":75223726,"body_markdown":"With `String.split`, the limit parameter is going to be the maximum number of `String` array values you want returned.  \r\nFor example, `&quot;A,B,C,D&quot;`, with a limit of 2 will return `[&quot;A&quot;, &quot;B,C,D&quot;]`.\r\n\r\nIn terms of the use of `String.split` on the data.  \r\nIf the quoted text item, in this case, &quot;Stanley #2 Philips Screwdriver&quot;, is guaranteed not to contain a `,`, then `split` is the method to go with.\r\nFrom there, your `0` index will contain `&quot;14&quot;`, and your `1` index will contain `&quot;Stanley #2 Philips Screwdriver&quot;`.\r\n\r\nIn regard to printing your data, just concatenate the values.\r\n\r\n```java\r\nString itemID[] = line.split(&quot;,&quot;, 5);\r\nSystem.out.println(itemID[0] + &quot;, &quot; + itemID[1]);\r\n```\r\n\r\nSo, in conclusion, you can do the following with the given data\r\n`14, &quot;Stanley #2 Philips Screwdriver&quot;, true, 6.95`.\r\n\r\n```java\r\nString string = &quot;14, \\&quot;Stanley #2 Philips Screwdriver\\&quot;, true, 6.95&quot;;\r\nString[] strings = string.split(&quot;, &quot;);\r\nString id = strings[0];\r\nString description = strings[1];\r\nSystem.out.println(id);\r\nSystem.out.println(description);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n14\r\n&quot;Stanley #2 Philips Screwdriver&quot;\r\n```","title":"Stop printing line of text from a file after a character appears a second time","body":"<p>With <code>String.split</code>, the limit parameter is going to be the maximum number of <code>String</code> array values you want returned.<br />\nFor example, <code>&quot;A,B,C,D&quot;</code>, with a limit of 2 will return <code>[&quot;A&quot;, &quot;B,C,D&quot;]</code>.</p>\n<p>In terms of the use of <code>String.split</code> on the data.<br />\nIf the quoted text item, in this case, &quot;Stanley #2 Philips Screwdriver&quot;, is guaranteed not to contain a <code>,</code>, then <code>split</code> is the method to go with.\nFrom there, your <code>0</code> index will contain <code>&quot;14&quot;</code>, and your <code>1</code> index will contain <code>&quot;Stanley #2 Philips Screwdriver&quot;</code>.</p>\n<p>In regard to printing your data, just concatenate the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String itemID[] = line.split(&quot;,&quot;, 5);\nSystem.out.println(itemID[0] + &quot;, &quot; + itemID[1]);\n</code></pre>\n<p>So, in conclusion, you can do the following with the given data\n<code>14, &quot;Stanley #2 Philips Screwdriver&quot;, true, 6.95</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;14, \\&quot;Stanley #2 Philips Screwdriver\\&quot;, true, 6.95&quot;;\nString[] strings = string.split(&quot;, &quot;);\nString id = strings[0];\nString description = strings[1];\nSystem.out.println(id);\nSystem.out.println(description);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>14\n&quot;Stanley #2 Philips Screwdriver&quot;\n</code></pre>\n"}],"owner":{"account_id":18340378,"reputation":45,"user_id":13356804,"display_name":"Y3LLZ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684701016,"creation_date":1674574408,"question_id":75223726,"body_markdown":"I am currently trying to stop printing a line of text after a ```,``` character is read on that line a second time from a text file. Example; ```14, &quot;Stanley #2 Philips Screwdriver&quot;, true, 6.95```. Stop reading and print out the text after the ```,``` character is read a second time. So the output text should look like ```14, &quot;Stanley #2 Philips Screwdriver&quot;```. I tried to use a limit on the regex to achieve this but, it just omits all the commas and prints out the entire text. This is what my code looks like so far; \r\n```\t\r\npublic static void fileReader() throws FileNotFoundException {\r\n\t\tFile file = new File(&quot;/Users/14077/Downloads/inventory.txt&quot;);\r\n\t\tScanner scan = new Scanner(file);\r\n\t\tString test = &quot;4452&quot;;\r\n\t\t\r\n\t\twhile (scan.hasNext()) {\r\n\t\t\tString line = scan.nextLine();\r\n\t\t\tString[] itemID = line.split(&quot;,&quot;, 5); //attempt to use a regex limit\r\n\t\t\tif(itemID[0].equals(test)) {\r\n\t\t\t\tfor(String a : itemID)\r\n                System.out.println(a);\r\n\t\t\t}//end if \r\n\t\t\t\r\n\t\t}//end while \t\r\n\t\t\r\n\t}//end fileReader\r\n```\r\n\r\nI also tried to print just part of the text up until the first comma like;\r\n```\r\nString itemID[] = line.split(&quot;,&quot;, 5);\r\n       System.out.println(itemID[0]);\r\n``` \r\nBut no luck, it just prints 14. Please any help will be appreciated. ","title":"Stop printing line of text from a file after a character appears a second time","body":"<p>I am currently trying to stop printing a line of text after a <code>,</code> character is read on that line a second time from a text file. Example; <code>14, &quot;Stanley #2 Philips Screwdriver&quot;, true, 6.95</code>. Stop reading and print out the text after the <code>,</code> character is read a second time. So the output text should look like <code>14, &quot;Stanley #2 Philips Screwdriver&quot;</code>. I tried to use a limit on the regex to achieve this but, it just omits all the commas and prints out the entire text. This is what my code looks like so far;</p>\n<pre><code>public static void fileReader() throws FileNotFoundException {\n        File file = new File(&quot;/Users/14077/Downloads/inventory.txt&quot;);\n        Scanner scan = new Scanner(file);\n        String test = &quot;4452&quot;;\n        \n        while (scan.hasNext()) {\n            String line = scan.nextLine();\n            String[] itemID = line.split(&quot;,&quot;, 5); //attempt to use a regex limit\n            if(itemID[0].equals(test)) {\n                for(String a : itemID)\n                System.out.println(a);\n            }//end if \n            \n        }//end while    \n        \n    }//end fileReader\n</code></pre>\n<p>I also tried to print just part of the text up until the first comma like;</p>\n<pre><code>String itemID[] = line.split(&quot;,&quot;, 5);\n       System.out.println(itemID[0]);\n</code></pre>\n<p>But no luck, it just prints 14. Please any help will be appreciated.</p>\n"},{"tags":["java","jenkins","groovy","continuous-integration","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":14305614,"reputation":72,"user_id":10333632,"display_name":"sagstetterC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684700724,"creation_date":1684700724,"answer_id":76301797,"question_id":76298736,"body_markdown":"you can use the `when` block for this see [Pipeline Syntax][1].\r\n\r\nexample:\r\n\r\n    stage(&#39;FC&#39;) {\r\n       when { expression { return params.Build_type == &#39;FC&#39; } }\r\n       steps {\r\n          echo &quot;D6-EPS EXECUTED&quot;}\r\n       }\r\n    }\r\n\r\n  [1]: https://www.jenkins.io/doc/book/pipeline/syntax/#when","title":"Implementing conditional execution of Jenkins pipeline stages based on the &#39;choice&#39; parameter","body":"<p>you can use the <code>when</code> block for this see <a href=\"https://www.jenkins.io/doc/book/pipeline/syntax/#when\" rel=\"nofollow noreferrer\">Pipeline Syntax</a>.</p>\n<p>example:</p>\n<pre><code>stage('FC') {\n   when { expression { return params.Build_type == 'FC' } }\n   steps {\n      echo &quot;D6-EPS EXECUTED&quot;}\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":28646123,"reputation":3,"user_id":21934074,"display_name":"Nikil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76301797,"answer_count":1,"score":0,"last_activity_date":1684700724,"creation_date":1684653743,"question_id":76298736,"body_markdown":"     pipeline {\r\n      parameters {\r\n    choice choices: [&#39;ME&#39;, &#39;FC&#39;, &#39;ME_and_FC&#39;], description: &#39;Pick Something&#39;, name: &#39;Build_type&#39;\r\n     }\r\n      agent {\r\n        node{\r\n            label &#39;Slave_APP_Train_32&#39;\r\n            customWorkspace &#39;App_WS&#39;\r\n        }\r\n     }\r\n    stages {\r\n        stage(&#39;FC&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n        stage(&#39;FC&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n        stage(&#39;FC&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n          stage(&#39;parallel&#39;){\r\n              parallel {\r\n                \r\n                stage(&#39;ME&#39;) {\r\n                    stages {\r\n                        stage(&#39;D6 SRA&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n                       \r\n                    }\r\n                }\r\n                stage(&#39;ME&#39;) {\r\n                    stages {\r\n                        stage(&#39;D6 EPS&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n                       \r\n                    }\r\n                }\r\n                stage(&#39;ME&#39;) {\r\n                    stages {\r\n                        stage(&#39;C3 EPS&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n                       \r\n                    }\r\n                }\r\n            }\r\n          }\r\n        \r\n        }\r\n      }`\r\n\r\n\r\n\r\n Need some conditional statement to call the ME and FC stages ,so that it runs based on the choices given in the choice parameter  \r\n\r\n This my script, i am not sure how to call the choice parameter with if condition \r\n    Say for FC all the FC stages should run , for ME all the ME stages should run \r\n\r\n\r\n    I tried by calling with this command if(${params.Build_type==&#39;ME&#39;}||${params.Build_type==&#39;ME_and_FC&#39;})\r\n     [ERROR](https://i.stack.imgur.com/x0BWA.png) it shows like not a valid syntax \r\n\r\n    Can someone help me to figure it out`","title":"Implementing conditional execution of Jenkins pipeline stages based on the &#39;choice&#39; parameter","body":"<pre><code> pipeline {\n  parameters {\nchoice choices: ['ME', 'FC', 'ME_and_FC'], description: 'Pick Something', name: 'Build_type'\n }\n  agent {\n    node{\n        label 'Slave_APP_Train_32'\n        customWorkspace 'App_WS'\n    }\n }\nstages {\n    stage('FC') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n    stage('FC') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n    stage('FC') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n      stage('parallel'){\n          parallel {\n            \n            stage('ME') {\n                stages {\n                    stage('D6 SRA') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n                   \n                }\n            }\n            stage('ME') {\n                stages {\n                    stage('D6 EPS') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n                   \n                }\n            }\n            stage('ME') {\n                stages {\n                    stage('C3 EPS') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n                   \n                }\n            }\n        }\n      }\n    \n    }\n  }`\n</code></pre>\n<p>Need some conditional statement to call the ME and FC stages ,so that it runs based on the choices given in the choice parameter</p>\n<p>This my script, i am not sure how to call the choice parameter with if condition\nSay for FC all the FC stages should run , for ME all the ME stages should run</p>\n<pre><code>I tried by calling with this command if(${params.Build_type=='ME'}||${params.Build_type=='ME_and_FC'})\n [ERROR](https://i.stack.imgur.com/x0BWA.png) it shows like not a valid syntax \n\nCan someone help me to figure it out`\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","embedded-mongodb"],"comments":[{"owner":{"account_id":8879412,"reputation":159,"user_id":6630210,"display_name":"jundev"},"score":0,"creation_date":1684705916,"post_id":76301758,"comment_id":134552007,"body_markdown":"Have you tried to Mock the UserRepository?","body":"Have you tried to Mock the UserRepository?"},{"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"score":0,"creation_date":1684710330,"post_id":76301758,"comment_id":134552416,"body_markdown":"I haven&#39;t wanted to Mock so far. My reasoning is that if my tests are failing because an embedded MongoDB instance can&#39;t be started, then even if I mock UserRepository, I might still run into the same problem with other parts of my application that interact with MongoDB. Why do you think I should Mock as opposed to using an embedded version of MongoDB?","body":"I haven&#39;t wanted to Mock so far. My reasoning is that if my tests are failing because an embedded MongoDB instance can&#39;t be started, then even if I mock UserRepository, I might still run into the same problem with other parts of my application that interact with MongoDB. Why do you think I should Mock as opposed to using an embedded version of MongoDB?"}],"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684700527,"creation_date":1684700045,"question_id":76301758,"body_markdown":"I have an experimental Spring Boot Service that uses MongoDB. I&#39;ve tried to write some unit tests with the `&#39;de.flapdoodle.embed:de.flapdoodle.embed.mongo&#39;` dependency. However, the tests are generating an error:\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext. \r\n```\r\nWhen running debug level logging the only additional info I see is\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;embeddedMongoServer&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Could not start process: &lt;EOF&gt;\r\n```\r\nHere is the unit test class:\r\n## UserRepositoryTest\r\n```java\r\npackage com.gitgrub.userservice.repository;\r\n\r\nimport com.gitgrub.userservice.model.User;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTest;\r\nimport org.springframework.test.context.ActiveProfiles;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n@DataMongoTest\r\n@ActiveProfiles(&quot;test&quot;)\r\nclass UserRepositoryTest {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Test\r\n    void findByUsername() {\r\n        String testUsername = &quot;testUser&quot;;\r\n        User user = new User(testUsername, &quot;test@example.com&quot;, &quot;password&quot;);\r\n        userRepository.save(user);\r\n\r\n        User foundUser = userRepository.findByUsername(testUsername);\r\n        assertNotNull(foundUser);\r\n        assertEquals(testUsername, foundUser.getUsername());\r\n    }\r\n\r\n    @Test\r\n    void findByEmail() {\r\n        String testEmail = &quot;test@example.com&quot;;\r\n        User user = new User(&quot;testUser&quot;, testEmail, &quot;password&quot;);\r\n        userRepository.save(user);\r\n\r\n        User foundUser = userRepository.findByEmail(testEmail);\r\n        assertNotNull(foundUser);\r\n        assertEquals(testEmail, foundUser.getEmail());\r\n    }\r\n\r\n    @Test\r\n    void findByUsernameOrEmail() {\r\n        String testUsername = &quot;testUser&quot;;\r\n        String testEmail = &quot;test@example.com&quot;;\r\n        User user1 = new User(testUsername, &quot;user1@example.com&quot;, &quot;password&quot;);\r\n        User user2 = new User(&quot;user2&quot;, testEmail, &quot;password&quot;);\r\n\r\n        userRepository.save(user1);\r\n        userRepository.save(user2);\r\n\r\n        User foundUser1 = userRepository.findByUsernameOrEmail(testUsername, &quot;&quot;);\r\n        assertNotNull(foundUser1);\r\n        assertEquals(testUsername, foundUser1.getUsername());\r\n\r\n        User foundUser2 = userRepository.findByUsernameOrEmail(&quot;&quot;, testEmail);\r\n        assertNotNull(foundUser2);\r\n        assertEquals(testEmail, foundUser2.getEmail());\r\n    }\r\n}\r\n```\r\n\r\nHere is the main project interface that&#39;s being tested:\r\n## UserRepository\r\n```java\r\n/**\r\n * UserRepository is an interface for a data access object (DAO) that handles User data.\r\n * It extends MongoRepository to leverage Spring Data MongoDB&#39;s functionality,\r\n * including CRUD operations and database queries.\r\n *\r\n * This repository provides methods for finding a user by username, by email,\r\n * or by either username or email.\r\n *\r\n * The repository is used by other components of the application (like services and controllers)\r\n * to interact with the User data in the database.\r\n *\r\n */\r\n\r\npackage com.gitgrub.userservice.repository;\r\n\r\nimport com.gitgrub.userservice.model.User;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\r\n    User findByUsername(String username);\r\n\r\n    User findByEmail(String email);\r\n\r\n    User findByUsernameOrEmail(String username, String email);\r\n\r\n}\r\n```","title":"Error creating bean with name &#39;embeddedMongoServer&#39;","body":"<p>I have an experimental Spring Boot Service that uses MongoDB. I've tried to write some unit tests with the <code>'de.flapdoodle.embed:de.flapdoodle.embed.mongo'</code> dependency. However, the tests are generating an error:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext. \n</code></pre>\n<p>When running debug level logging the only additional info I see is</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'embeddedMongoServer' defined in class path resource [org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Could not start process: &lt;EOF&gt;\n</code></pre>\n<p>Here is the unit test class:</p>\n<h2>UserRepositoryTest</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.gitgrub.userservice.repository;\n\nimport com.gitgrub.userservice.model.User;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTest;\nimport org.springframework.test.context.ActiveProfiles;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n@DataMongoTest\n@ActiveProfiles(&quot;test&quot;)\nclass UserRepositoryTest {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Test\n    void findByUsername() {\n        String testUsername = &quot;testUser&quot;;\n        User user = new User(testUsername, &quot;test@example.com&quot;, &quot;password&quot;);\n        userRepository.save(user);\n\n        User foundUser = userRepository.findByUsername(testUsername);\n        assertNotNull(foundUser);\n        assertEquals(testUsername, foundUser.getUsername());\n    }\n\n    @Test\n    void findByEmail() {\n        String testEmail = &quot;test@example.com&quot;;\n        User user = new User(&quot;testUser&quot;, testEmail, &quot;password&quot;);\n        userRepository.save(user);\n\n        User foundUser = userRepository.findByEmail(testEmail);\n        assertNotNull(foundUser);\n        assertEquals(testEmail, foundUser.getEmail());\n    }\n\n    @Test\n    void findByUsernameOrEmail() {\n        String testUsername = &quot;testUser&quot;;\n        String testEmail = &quot;test@example.com&quot;;\n        User user1 = new User(testUsername, &quot;user1@example.com&quot;, &quot;password&quot;);\n        User user2 = new User(&quot;user2&quot;, testEmail, &quot;password&quot;);\n\n        userRepository.save(user1);\n        userRepository.save(user2);\n\n        User foundUser1 = userRepository.findByUsernameOrEmail(testUsername, &quot;&quot;);\n        assertNotNull(foundUser1);\n        assertEquals(testUsername, foundUser1.getUsername());\n\n        User foundUser2 = userRepository.findByUsernameOrEmail(&quot;&quot;, testEmail);\n        assertNotNull(foundUser2);\n        assertEquals(testEmail, foundUser2.getEmail());\n    }\n}\n</code></pre>\n<p>Here is the main project interface that's being tested:</p>\n<h2>UserRepository</h2>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * UserRepository is an interface for a data access object (DAO) that handles User data.\n * It extends MongoRepository to leverage Spring Data MongoDB's functionality,\n * including CRUD operations and database queries.\n *\n * This repository provides methods for finding a user by username, by email,\n * or by either username or email.\n *\n * The repository is used by other components of the application (like services and controllers)\n * to interact with the User data in the database.\n *\n */\n\npackage com.gitgrub.userservice.repository;\n\nimport com.gitgrub.userservice.model.User;\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\n    User findByUsername(String username);\n\n    User findByEmail(String email);\n\n    User findByUsernameOrEmail(String username, String email);\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat","webserver"],"comments":[{"owner":{"account_id":2408344,"reputation":375,"user_id":2104151,"accept_rate":50,"display_name":"techprat"},"score":0,"creation_date":1684641352,"post_id":76297913,"comment_id":134545611,"body_markdown":"if you want to serve only static content why do you need a web application, you can deploy your static content in a http server. you dont need a servlet container.\nLook at this simple tutorial: https://dev.to/tikam02/deploying-static-website-in-apache24-1k63","body":"if you want to serve only static content why do you need a web application, you can deploy your static content in a http server. you dont need a servlet container. Look at this simple tutorial: <a href=\"https://dev.to/tikam02/deploying-static-website-in-apache24-1k63\" rel=\"nofollow noreferrer\">dev.to/tikam02/deploying-static-website-in-apache24-1k63</a>"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1684651230,"post_id":76297913,"comment_id":134546142,"body_markdown":"why dont u try creating your won embedded tomcat app to understand better how it works? https://devcenter.heroku.com/articles/create-a-java-web-application-using-embedded-tomcat","body":"why dont u try creating your won embedded tomcat app to understand better how it works? <a href=\"https://devcenter.heroku.com/articles/create-a-java-web-application-using-embedded-tomcat\" rel=\"nofollow noreferrer\">devcenter.heroku.com/articles/&hellip;</a>"},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":0,"creation_date":1684673843,"post_id":76297913,"comment_id":134548312,"body_markdown":"@techprat I am aware I don&#39;t need a web application, but I am interested in the ease it provides. All I need to do is hit package and spring-boot tooling will produce a web archive that can be immediately deployed anywhere with a JVM from a single file, serving my whole website. The concern for thinning out the dependencies is only because I know spring-boot will run other components automatically, and just a simple desire for a slightly more optimal solution. In short, I am using a servlet container because its easier to setup (spring-boot also provides default settings that work)","body":"@techprat I am aware I don&#39;t need a web application, but I am interested in the ease it provides. All I need to do is hit package and spring-boot tooling will produce a web archive that can be immediately deployed anywhere with a JVM from a single file, serving my whole website. The concern for thinning out the dependencies is only because I know spring-boot will run other components automatically, and just a simple desire for a slightly more optimal solution. In short, I am using a servlet container because its easier to setup (spring-boot also provides default settings that work)"},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":0,"creation_date":1684673924,"post_id":76297913,"comment_id":134548320,"body_markdown":"@JAsgarov I could create my own tomcat app, I even considered that. But as I mentioned in my other comment, I am interested in the help spring-boot provides to package everything as a simple web archive that can be deployed immediately anywhere with java, not setup or settings required","body":"@JAsgarov I could create my own tomcat app, I even considered that. But as I mentioned in my other comment, I am interested in the help spring-boot provides to package everything as a simple web archive that can be deployed immediately anywhere with java, not setup or settings required"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1684679087,"post_id":76297913,"comment_id":134548917,"body_markdown":"Tomcat can be embedded in a Java JAR-based project (no WAR is needed). Is that the piece of the jigsaw you are missing? Tomcat [provides](https://mvnrepository.com/search?q=tomcat-embed) `embed-core`, `embed-jasper`, `embed-websocket`, etc. to support this. You can instantiate the embedded Tomcat process in your own code: `Tomcat tomcat = new Tomcat();` and so on. I don&#39;t know the specific details - but I assume Spring uses these Tomcat classes in its Spring-Boot-Starter-Web (for example).","body":"Tomcat can be embedded in a Java JAR-based project (no WAR is needed). Is that the piece of the jigsaw you are missing? Tomcat <a href=\"https://mvnrepository.com/search?q=tomcat-embed\" rel=\"nofollow noreferrer\">provides</a> <code>embed-core</code>, <code>embed-jasper</code>, <code>embed-websocket</code>, etc. to support this. You can instantiate the embedded Tomcat process in your own code: <code>Tomcat tomcat = new Tomcat();</code> and so on. I don&#39;t know the specific details - but I assume Spring uses these Tomcat classes in its Spring-Boot-Starter-Web (for example)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1684679202,"post_id":76297913,"comment_id":134548932,"body_markdown":"&quot;_I am trying to create a war archive_&quot; - in other words, you don&#39;t create a WAR - you create a JAR to do this. See also frameworks such as [Javalin](https://javalin.io/), which do something similar. Javalin uses embedded Jetty, not embedded Tomcat. Maybe I have missed the point of your question?","body":"&quot;<i>I am trying to create a war archive</i>&quot; - in other words, you don&#39;t create a WAR - you create a JAR to do this. See also frameworks such as <a href=\"https://javalin.io/\" rel=\"nofollow noreferrer\">Javalin</a>, which do something similar. Javalin uses embedded Jetty, not embedded Tomcat. Maybe I have missed the point of your question?"},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":0,"creation_date":1684694196,"post_id":76297913,"comment_id":134550779,"body_markdown":"@andrewJames Perhaps I haven&#39;t explained myself, spring-boot automatically creates a WAR archive that includes all dependencies, a custom class loader, alongside the build output, such that the archive is effectively a runnable java application. I am unsure why spring-boot packages as war and not jar, but in essence it&#39;s not different. Although I should perhaps look deeper into the Tomcat classes, since you make it sound like it would require little effort to create a similar setup with Tomcat alone","body":"@andrewJames Perhaps I haven&#39;t explained myself, spring-boot automatically creates a WAR archive that includes all dependencies, a custom class loader, alongside the build output, such that the archive is effectively a runnable java application. I am unsure why spring-boot packages as war and not jar, but in essence it&#39;s not different. Although I should perhaps look deeper into the Tomcat classes, since you make it sound like it would require little effort to create a similar setup with Tomcat alone"},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":0,"creation_date":1684694376,"post_id":76297913,"comment_id":134550809,"body_markdown":"@andrewJames As per my other comments, the WAR is to all effects and purposes identical to a JAR, I am unsure why spring-boot packages the application as a war, but I can run it all the same through `java -jar archive.war`. In short, I was just wondering how does Spring achieve this behavior, in hopes of being able to just trim out the fat instead of having to replicate the behavior","body":"@andrewJames As per my other comments, the WAR is to all effects and purposes identical to a JAR, I am unsure why spring-boot packages the application as a war, but I can run it all the same through <code>java -jar archive.war</code>. In short, I was just wondering how does Spring achieve this behavior, in hopes of being able to just trim out the fat instead of having to replicate the behavior"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1684695040,"post_id":76297913,"comment_id":134550875,"body_markdown":"This is what confuses me: &quot;_spring-boot automatically creates a WAR_&quot;. Can you show how you are doing this? Maybe by editing your question? Spring Boot (for me) automatically creates a JAR, not a WAR, unless [I explicitly tell it to create a WAR](https://www.baeldung.com/spring-boot-war-tomcat-deploy).","body":"This is what confuses me: &quot;<i>spring-boot automatically creates a WAR</i>&quot;. Can you show how you are doing this? Maybe by editing your question? Spring Boot (for me) automatically creates a JAR, not a WAR, unless <a href=\"https://www.baeldung.com/spring-boot-war-tomcat-deploy\" rel=\"nofollow noreferrer\">I explicitly tell it to create a WAR</a>."},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":1,"creation_date":1684699828,"post_id":76297913,"comment_id":134551437,"body_markdown":"@andrewJames I actually just checked, funnily enough, I got confused reading the documentation and copied from the example for the war, under the impression that the jar option would produce a shaded jar, however, I just rechecked to source my claim and found out I completely misunderstood the article and both JAR and WAR can be used. However, the resulting archive is identical except for the folder containing compiled sources is BOOT-INF or WEB-INF depending on the packaging so jar or war shouldn&#39;t matter","body":"@andrewJames I actually just checked, funnily enough, I got confused reading the documentation and copied from the example for the war, under the impression that the jar option would produce a shaded jar, however, I just rechecked to source my claim and found out I completely misunderstood the article and both JAR and WAR can be used. However, the resulting archive is identical except for the folder containing compiled sources is BOOT-INF or WEB-INF depending on the packaging so jar or war shouldn&#39;t matter"}],"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684700118,"creation_date":1684631421,"question_id":76297913,"body_markdown":"As the title states, I wonder how is spring-boot internally using Tomcat to serve requests, specifically, static files located in certain folders.\r\n\r\nI am trying to create a war* archive that contains a deployable website and trying to get it to be as small as possible, since I only want it to serve static files, and I have managed the exact desired output with spring-boot-starter-web, but would like to rid myself of all unnecessary dependencies.\r\n\r\n\\* (EDIT: as a side note, I have found out that making it a war archive is irrelevant since spring-boot is able to produce a jar under the exact same mechanism, but otherwise, they should function all the same)\r\n\r\nHowever, I have been unable to find much (or really any) documentation on how this is achieved by spring-boot, not even by looking at the sources although I admit I am unfamiliar with spring-boot sources or non-boot spring projects in general.\r\n\r\nI haven&#39;t found a way to actually start the same sort of behavior without the web starter\r\n\r\n\r\nEDIT: For those wondering how the archive is created, here&#39;s a link to Spring&#39;s documentation on it: [&quot;The Executable Jar Format&quot;][1]\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html","title":"How is the embedded Tomcat behaviour in spring-boot-starter-web achieved?","body":"<p>As the title states, I wonder how is spring-boot internally using Tomcat to serve requests, specifically, static files located in certain folders.</p>\n<p>I am trying to create a war* archive that contains a deployable website and trying to get it to be as small as possible, since I only want it to serve static files, and I have managed the exact desired output with spring-boot-starter-web, but would like to rid myself of all unnecessary dependencies.</p>\n<p>* (EDIT: as a side note, I have found out that making it a war archive is irrelevant since spring-boot is able to produce a jar under the exact same mechanism, but otherwise, they should function all the same)</p>\n<p>However, I have been unable to find much (or really any) documentation on how this is achieved by spring-boot, not even by looking at the sources although I admit I am unfamiliar with spring-boot sources or non-boot spring projects in general.</p>\n<p>I haven't found a way to actually start the same sort of behavior without the web starter</p>\n<p>EDIT: For those wondering how the archive is created, here's a link to Spring's documentation on it: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\" rel=\"nofollow noreferrer\">&quot;The Executable Jar Format&quot;</a></p>\n"},{"tags":["java","string","recursion"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1674868517,"post_id":75264144,"comment_id":132812144,"body_markdown":"Idk why you included recursion in the title, this does not require it. All you have to do is iterate over each character in the string, cut it when you hit the start point letter, take the tail. Then iterate over the tail until you reach the end point letter, cut the string and fetch the head.","body":"Idk why you included recursion in the title, this does not require it. All you have to do is iterate over each character in the string, cut it when you hit the start point letter, take the tail. Then iterate over the tail until you reach the end point letter, cut the string and fetch the head."},{"owner":{"account_id":27639273,"reputation":11,"user_id":21096553,"display_name":"Anh Nghi&#234;m"},"score":0,"creation_date":1674870761,"post_id":75264144,"comment_id":132812398,"body_markdown":"I figured we could do it the easier way but the assisngment require me to do with recursion","body":"I figured we could do it the easier way but the assisngment require me to do with recursion"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1674871484,"post_id":75264144,"comment_id":132812477,"body_markdown":"Any iteration can be refactored into being a recursion.","body":"Any iteration can be refactored into being a recursion."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674923367,"creation_date":1674923367,"answer_id":75269144,"question_id":75264144,"body_markdown":"Try this:\r\n\r\npublic static String getmiddle(String s, char start, char end) {\r\n\r\n\tif (s.charAt(0) != start &amp;&amp; s.charAt(s.length() - 1) != end) {\r\n\r\n\t\treturn getmiddle(s.substring(1, s.length() - 2), start, end);\r\n\r\n\t} else if (s.charAt(0) != start) {\r\n\t\treturn getmiddle(s.substring(1), start, end);\r\n\t} else if (s.charAt(s.length() - 1) != end) {\r\n\t\treturn getmiddle(s.substring(0, s.length() - 2), start, end);\r\n\r\n\t} else {\r\n\t\treturn s.substring(1, s.length() - 1);\r\n\t}\r\n\r\n}\r\n\r\n","title":"Recursion of a string with 2 specific start and end point","body":"<p>Try this:</p>\n<p>public static String getmiddle(String s, char start, char end) {</p>\n<pre><code>if (s.charAt(0) != start &amp;&amp; s.charAt(s.length() - 1) != end) {\n\n    return getmiddle(s.substring(1, s.length() - 2), start, end);\n\n} else if (s.charAt(0) != start) {\n    return getmiddle(s.substring(1), start, end);\n} else if (s.charAt(s.length() - 1) != end) {\n    return getmiddle(s.substring(0, s.length() - 2), start, end);\n\n} else {\n    return s.substring(1, s.length() - 1);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684699686,"creation_date":1684699686,"answer_id":76301729,"question_id":75264144,"body_markdown":"Recursion is confusing, since there is not necessarily one way to derive the data.\r\n\r\nOne approach is to write your control-flow, as though all conditions have already been met.  \r\nWhich is the complete opposite of just basic control-flow.\r\n\r\nThe following method will return `ascr` for `javascript`, using `v` and `i`.\r\n\r\n```java\r\npublic static String getmiddle(String s, char start, char end) {\r\n    if (s.charAt(0) == start &amp;&amp; s.charAt(s.length() - 1) == end)\r\n        return s.substring(1, s.length() - 1);\r\n    else if (s.charAt(0) != start)\r\n        s = getmiddle(s.substring(1), start, end);\r\n    else if (s.charAt(s.length() - 1) != end)\r\n        s = getmiddle(s.substring(0, s.length() - 1), start, end);\r\n    return s;\r\n}\r\n```\r\n\r\nYour code deviated at the following conditional-statement, `if (str.charAt(0) != end)`.\r\n\r\nYou would want to be checking the last character, here, `s.length() - 1`, as opposed to the first, at `0`.","title":"Recursion of a string with 2 specific start and end point","body":"<p>Recursion is confusing, since there is not necessarily one way to derive the data.</p>\n<p>One approach is to write your control-flow, as though all conditions have already been met.<br />\nWhich is the complete opposite of just basic control-flow.</p>\n<p>The following method will return <code>ascr</code> for <code>javascript</code>, using <code>v</code> and <code>i</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getmiddle(String s, char start, char end) {\n    if (s.charAt(0) == start &amp;&amp; s.charAt(s.length() - 1) == end)\n        return s.substring(1, s.length() - 1);\n    else if (s.charAt(0) != start)\n        s = getmiddle(s.substring(1), start, end);\n    else if (s.charAt(s.length() - 1) != end)\n        s = getmiddle(s.substring(0, s.length() - 1), start, end);\n    return s;\n}\n</code></pre>\n<p>Your code deviated at the following conditional-statement, <code>if (str.charAt(0) != end)</code>.</p>\n<p>You would want to be checking the last character, here, <code>s.length() - 1</code>, as opposed to the first, at <code>0</code>.</p>\n"}],"owner":{"account_id":27639273,"reputation":11,"user_id":21096553,"display_name":"Anh Nghi&#234;m"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684699686,"creation_date":1674860432,"question_id":75264144,"body_markdown":"I am stuck on the assignment which require to write a recursion method to return everything between 2 specific points.\r\nFor example, if the input is &quot;javascript&quot; with &quot;v&quot; as start point and &quot;i&quot; as end point, we have to return &quot;ascr&quot;\r\n\r\n\r\n    public static String getmiddle(String s, char start, char end) {\r\n        if (s.charAt(0)!=start) {\r\n            getmiddle(s.substring(1), start, end);  \r\n        }\r\n\r\n        str = str.substring(1);\r\n\r\n        if (str.charAt(0) != end) {\r\n            return s.substring(0,1) + getmiddle(s.substring(1), start, end);\r\n        } else {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\nThis is what I did. The first if method I try to remove the first part before the start point, but I couldn&#39;t figure out my 2nd part.","title":"Recursion of a string with 2 specific start and end point","body":"<p>I am stuck on the assignment which require to write a recursion method to return everything between 2 specific points.\nFor example, if the input is &quot;javascript&quot; with &quot;v&quot; as start point and &quot;i&quot; as end point, we have to return &quot;ascr&quot;</p>\n<pre><code>public static String getmiddle(String s, char start, char end) {\n    if (s.charAt(0)!=start) {\n        getmiddle(s.substring(1), start, end);  \n    }\n\n    str = str.substring(1);\n\n    if (str.charAt(0) != end) {\n        return s.substring(0,1) + getmiddle(s.substring(1), start, end);\n    } else {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>This is what I did. The first if method I try to remove the first part before the start point, but I couldn't figure out my 2nd part.</p>\n"},{"tags":["java","postgresql","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":5475023,"reputation":90,"user_id":4353227,"accept_rate":100,"display_name":"Suresh Kumar"},"score":0,"creation_date":1684699091,"post_id":76301581,"comment_id":134551365,"body_markdown":"Refer this https://stackoverflow.com/questions/1795649/jpa-persisting-a-one-to-many-relationship","body":"Refer this <a href=\"https://stackoverflow.com/questions/1795649/jpa-persisting-a-one-to-many-relationship\" title=\"jpa persisting a one to many relationship\">stackoverflow.com/questions/1795649/&hellip;</a>"}],"owner":{"account_id":7544112,"reputation":565,"user_id":5727808,"display_name":"TrollBearPig"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684699575,"creation_date":1684697286,"question_id":76301581,"body_markdown":"**Context:**\r\n\r\nLets say I have 3 entities. Entity A (Portfolio) which contains a list of Entity B (Categories) which contains a list of Entity C (CategoryItems)\r\n\r\nLet&#39;s say I already have a Portfolio with some categories and category items persisted.\r\n\r\n**Problem**: \r\n\r\nIf I have a list of Categories and nested CategoryItems. Some of which have ID&#39;s as they have already been persisted, and some which are new objects and have null ID&#39;s. And maybe some of the category items have been updated and are now nested under a different category. \r\n\r\nIs their any easy way to persist this using Hibernate? \r\n\r\nOr do we need to manually handle the merge by iterating through the new updated Categories and Items and handle the updates / create the new items. \r\n\r\n\r\n","title":"Spring JPA how to persist a nested object","body":"<p><strong>Context:</strong></p>\n<p>Lets say I have 3 entities. Entity A (Portfolio) which contains a list of Entity B (Categories) which contains a list of Entity C (CategoryItems)</p>\n<p>Let's say I already have a Portfolio with some categories and category items persisted.</p>\n<p><strong>Problem</strong>:</p>\n<p>If I have a list of Categories and nested CategoryItems. Some of which have ID's as they have already been persisted, and some which are new objects and have null ID's. And maybe some of the category items have been updated and are now nested under a different category.</p>\n<p>Is their any easy way to persist this using Hibernate?</p>\n<p>Or do we need to manually handle the merge by iterating through the new updated Categories and Items and handle the updates / create the new items.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1674909476,"post_id":75267477,"comment_id":132816881,"body_markdown":"Welcome to SO.  Let&#39;s clarify your question before writing any code.  Are you taking a list of words and filtering them, separating them in two groups?  Or are you modifying the words?","body":"Welcome to SO.  Let&#39;s clarify your question before writing any code.  Are you taking a list of words and filtering them, separating them in two groups?  Or are you modifying the words?"}],"answers":[{"tags":[],"owner":{"account_id":25516174,"reputation":36,"user_id":19306998,"display_name":"Aditya Punetha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674907812,"creation_date":1674907812,"answer_id":75267538,"question_id":75267477,"body_markdown":"```\r\n\r\n    String[] words = {&quot;Ants&quot;, &quot;Bears&quot;, &quot;Cats&quot;, &quot;Dogs&quot;, &quot;Falcons&quot;};\r\n\r\n    System.out.println(&quot;Without plurals\\tWith plurals&quot;);\r\n    for (String word : words) {\r\n        String withoutS = word.replaceAll(&quot;s$&quot;, &quot;&quot;);\r\n        System.out.println(withoutS + &quot;\\t\\t\\t&quot; + word);\r\n    }\r\n\r\n```\r\n\r\nOutput:\r\n```\r\nWithout plurals\tWith plurals\r\nAnt\t\t\tAnts\r\nBear\t\t\tBears\r\nCat\t\t\tCats\r\nDog\t\t\tDogs\r\nFalcon\t\t\tFalcons\r\n```","title":"How to separate this into 2 separate columns?","body":"<pre><code>\n    String[] words = {&quot;Ants&quot;, &quot;Bears&quot;, &quot;Cats&quot;, &quot;Dogs&quot;, &quot;Falcons&quot;};\n\n    System.out.println(&quot;Without plurals\\tWith plurals&quot;);\n    for (String word : words) {\n        String withoutS = word.replaceAll(&quot;s$&quot;, &quot;&quot;);\n        System.out.println(withoutS + &quot;\\t\\t\\t&quot; + word);\n    }\n\n</code></pre>\n<p>Output:</p>\n<pre><code>Without plurals With plurals\nAnt         Ants\nBear            Bears\nCat         Cats\nDog         Dogs\nFalcon          Falcons\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684698941,"creation_date":1684698357,"answer_id":76301643,"question_id":75267477,"body_markdown":"Here is a basic implementation, to generate 2 columns of `String` values.\r\n\r\n```java\r\nString columns(String string) {\r\n    String[] strings = string.split(&quot; &quot;);\r\n    int widthA = 0;\r\n    for (int index = 0; index &lt; strings.length; index += 2) {\r\n        if (strings[index].length() &gt; widthA)\r\n            widthA = strings[index].length();\r\n    }\r\n    int widthB = 0;\r\n    for (int index = 0; index &lt; strings.length; index += 2) {\r\n        if (strings[index + 1].length() &gt; widthB)\r\n            widthB = strings[index + 1].length();\r\n    }\r\n    StringBuilder columns = new StringBuilder();\r\n    for (int index = 0; index &lt; strings.length; index += 2) {\r\n        columns.append((&quot;%-&quot; + widthB + &quot;s &quot;).formatted(strings[index + 1]));\r\n        columns.append((&quot;%-&quot; + widthA + &quot;s%n&quot;).formatted(strings[index]));\r\n    }\r\n    return columns.toString();\r\n}\r\n```\r\n\r\nOutput using the data you provided, is as follows.\r\n\r\n```none\r\nAnt    AntS   \r\nBear   BearS  \r\nCat    CatS   \r\nDog    DogS   \r\nFalcon FalconS\r\n```\r\n\r\nAlternately, if you are looking for two arrays, as opposed to two text columns, you can use the following method.\r\n\r\n```java\r\nString[][] columns(String string) {\r\n    String[] strings = string.split(&quot; &quot;);\r\n    String[][] columns = new String[2][strings.length / 2];\r\n    for (int indexA = 0, indexB = 0; indexA &lt; strings.length; indexA += 2, indexB++) {\r\n        columns[0][indexB] = strings[indexA + 1];\r\n        columns[1][indexB] = strings[indexA];\r\n    }\r\n    return columns;\r\n}\r\n```\r\n\r\nIf we printed the data, we&#39;d get the following output.\r\n\r\n```none\r\n[Ant, Bear, Cat, Dog, Falcon]\r\n[AntS, BearS, CatS, DogS, FalconS]\r\n```","title":"How to separate this into 2 separate columns?","body":"<p>Here is a basic implementation, to generate 2 columns of <code>String</code> values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String columns(String string) {\n    String[] strings = string.split(&quot; &quot;);\n    int widthA = 0;\n    for (int index = 0; index &lt; strings.length; index += 2) {\n        if (strings[index].length() &gt; widthA)\n            widthA = strings[index].length();\n    }\n    int widthB = 0;\n    for (int index = 0; index &lt; strings.length; index += 2) {\n        if (strings[index + 1].length() &gt; widthB)\n            widthB = strings[index + 1].length();\n    }\n    StringBuilder columns = new StringBuilder();\n    for (int index = 0; index &lt; strings.length; index += 2) {\n        columns.append((&quot;%-&quot; + widthB + &quot;s &quot;).formatted(strings[index + 1]));\n        columns.append((&quot;%-&quot; + widthA + &quot;s%n&quot;).formatted(strings[index]));\n    }\n    return columns.toString();\n}\n</code></pre>\n<p>Output using the data you provided, is as follows.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Ant    AntS   \nBear   BearS  \nCat    CatS   \nDog    DogS   \nFalcon FalconS\n</code></pre>\n<p>Alternately, if you are looking for two arrays, as opposed to two text columns, you can use the following method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] columns(String string) {\n    String[] strings = string.split(&quot; &quot;);\n    String[][] columns = new String[2][strings.length / 2];\n    for (int indexA = 0, indexB = 0; indexA &lt; strings.length; indexA += 2, indexB++) {\n        columns[0][indexB] = strings[indexA + 1];\n        columns[1][indexB] = strings[indexA];\n    }\n    return columns;\n}\n</code></pre>\n<p>If we printed the data, we'd get the following output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Ant, Bear, Cat, Dog, Falcon]\n[AntS, BearS, CatS, DogS, FalconS]\n</code></pre>\n"}],"owner":{"account_id":27642511,"reputation":11,"user_id":21099176,"display_name":"mightyboshy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684698941,"creation_date":1674907225,"question_id":75267477,"body_markdown":"AntS\r\nAnt \r\nBearS\r\nBear \r\nCatS\r\nCat \r\nDogS\r\nDog \r\nFalconS\r\nFalcon \r\n\r\n    String five = word;\r\n    String Sremove = five.replace(&quot;s&quot;, &quot;S&quot;);\r\n                \r\n    System.out.println(Sremove);\r\n        \r\n            \r\n    //Display without plurals\r\n    String remove = word;\r\n    String withoutS = remove.replace(&quot;s&quot;,&quot; &quot;);\r\n      \r\n    System.out.println(withoutS);\r\n\r\nWhat I want is the 1st column are the words without plurals, and the 2nd column are the one with plurals.\r\n\r\nI can&#39;t find solutions so I went here","title":"How to separate this into 2 separate columns?","body":"<p>AntS\nAnt\nBearS\nBear\nCatS\nCat\nDogS\nDog\nFalconS\nFalcon</p>\n<pre><code>String five = word;\nString Sremove = five.replace(&quot;s&quot;, &quot;S&quot;);\n            \nSystem.out.println(Sremove);\n    \n        \n//Display without plurals\nString remove = word;\nString withoutS = remove.replace(&quot;s&quot;,&quot; &quot;);\n  \nSystem.out.println(withoutS);\n</code></pre>\n<p>What I want is the 1st column are the words without plurals, and the 2nd column are the one with plurals.</p>\n<p>I can't find solutions so I went here</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684633205,"post_id":76295701,"comment_id":134545203,"body_markdown":"Perhaps something is calling `DataSource.getDataSource()` before junit calls `setup()`. You can add some logging to check this. It isn&#39;t clear why you have written the `init` method. Why do you think that `init` will have any effect? Do you understand how your `DataSource.getDataSource()` method works? That `ds` is `static` and that it will only call `initdatabase()` once?","body":"Perhaps something is calling <code>DataSource.getDataSource()</code> before junit calls <code>setup()</code>. You can add some logging to check this. It isn&#39;t clear why you have written the <code>init</code> method. Why do you think that <code>init</code> will have any effect? Do you understand how your <code>DataSource.getDataSource()</code> method works? That <code>ds</code> is <code>static</code> and that it will only call <code>initdatabase()</code> once?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684593592,"creation_date":1684593592,"answer_id":76295772,"question_id":76295701,"body_markdown":"Instead of using system properties to configure the database make your classore easily configurable and testable. You could implement a singleton pattern and an initializing method for example.\r\n\r\nHaving said that, using a different database for production than for testing may not reproduce the exact behavior.","title":"Implementation of BeforeEach within a single method","body":"<p>Instead of using system properties to configure the database make your classore easily configurable and testable. You could implement a singleton pattern and an initializing method for example.</p>\n<p>Having said that, using a different database for production than for testing may not reproduce the exact behavior.</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684594417,"creation_date":1684594417,"answer_id":76295831,"question_id":76295701,"body_markdown":"I understand that you want to configure a different datasource for tests. This can be done without any code just by providing a different `application.properties` file.\r\n\r\nAssuming your `application.properties` are in the `src/main/resources`. Make a copy of it and put it in the folder `src/test/resources`. In this file you can modify the properties for the tests. They will be found only by the tests. Application will still use the original file.","title":"Implementation of BeforeEach within a single method","body":"<p>I understand that you want to configure a different datasource for tests. This can be done without any code just by providing a different <code>application.properties</code> file.</p>\n<p>Assuming your <code>application.properties</code> are in the <code>src/main/resources</code>. Make a copy of it and put it in the folder <code>src/test/resources</code>. In this file you can modify the properties for the tests. They will be found only by the tests. Application will still use the original file.</p>\n"}],"owner":{"account_id":19575528,"reputation":25,"user_id":14325679,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76295772,"answer_count":2,"score":0,"last_activity_date":1684698037,"creation_date":1684592603,"question_id":76295701,"body_markdown":"My project has a DataSource class that implements the database connection parameters, as well as the initialization of the database connection:\r\n\r\n    public class DataSource {\r\n        private static HikariConfig config = new HikariConfig();\r\n        private static HikariDataSource ds;\r\n     \r\n        public static HikariDataSource getDataSource() {\r\n            if (ds == null) {\r\n                config.setJdbcUrl(System.getProperty(&quot;jdbcUrl&quot;,&quot;jdbc:postgresql://localhost:5433/postgres&quot;));\r\n                config.setUsername(System.getProperty(&quot;jdbcUser&quot;,&quot;postgres&quot;));\r\n                config.setPassword(System.getProperty(&quot;jdbcPassword&quot;,&quot;postgres&quot;));\r\n                ds = new HikariDataSource(config);\r\n     \r\n                initDatabase();\r\n            }\r\n            return ds;\r\n        }\r\n     \r\n        private static void initDatabase() {\r\n            try {\r\n                DatabaseConnection connection = new JdbcConnection(ds.getConnection());\r\n                Database database = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(connection);\r\n                Liquibase liquibase = new Liquibase(\r\n                        System.getProperty(&quot;liquibaseFile&quot;,&quot;liquibase.xml&quot;),\r\n                        new ClassLoaderResourceAccessor(),\r\n                        database);\r\n                liquibase.update(new Contexts());\r\n            } catch (SQLException | LiquibaseException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n     \r\n        public static Connection getConnection() throws SQLException {\r\n            return ds.getConnection();\r\n        }\r\n    }\r\n\r\nThe JUnit library is used to develop unit tests for project dao methods. A base class has been created with the help of which the parameters for connecting to the database are redefined (in this case, to H2):\r\n\r\n    public class Base {\r\n     \r\n        @BeforeAll\r\n        static void setup() {\r\n            System.setProperty(&quot;jdbcUrl&quot;, &quot;jdbc:h2:mem:test_&quot; + UUID.randomUUID());\r\n            System.setProperty(&quot;jdbcUser&quot;, &quot;sa&quot;);\r\n            System.setProperty(&quot;jdbcPassword&quot;, &quot;&quot;);\r\n            System.setProperty(&quot;liquibaseFile&quot;, &quot;liquibase_test.xml&quot;);\r\n        }\r\n     \r\n        @BeforeEach\r\n        void init() {\r\n            setup();\r\n        }\r\n    }\r\n\r\nHow can I make sure that System.setProperty properties are redefined within a single method? It is important that the behavior of the method is similar to that of @BeforeEach instead of the @BeforeAll annotation.\r\nI tried to put @BeforeEach instead of @BeforeAll, removing static, but when the test is executed, the postgress database is accessed, and not H2, as required by the condition.\r\n","title":"Implementation of BeforeEach within a single method","body":"<p>My project has a DataSource class that implements the database connection parameters, as well as the initialization of the database connection:</p>\n<pre><code>public class DataSource {\n    private static HikariConfig config = new HikariConfig();\n    private static HikariDataSource ds;\n \n    public static HikariDataSource getDataSource() {\n        if (ds == null) {\n            config.setJdbcUrl(System.getProperty(&quot;jdbcUrl&quot;,&quot;jdbc:postgresql://localhost:5433/postgres&quot;));\n            config.setUsername(System.getProperty(&quot;jdbcUser&quot;,&quot;postgres&quot;));\n            config.setPassword(System.getProperty(&quot;jdbcPassword&quot;,&quot;postgres&quot;));\n            ds = new HikariDataSource(config);\n \n            initDatabase();\n        }\n        return ds;\n    }\n \n    private static void initDatabase() {\n        try {\n            DatabaseConnection connection = new JdbcConnection(ds.getConnection());\n            Database database = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(connection);\n            Liquibase liquibase = new Liquibase(\n                    System.getProperty(&quot;liquibaseFile&quot;,&quot;liquibase.xml&quot;),\n                    new ClassLoaderResourceAccessor(),\n                    database);\n            liquibase.update(new Contexts());\n        } catch (SQLException | LiquibaseException e) {\n            throw new RuntimeException(e);\n        }\n    }\n \n    public static Connection getConnection() throws SQLException {\n        return ds.getConnection();\n    }\n}\n</code></pre>\n<p>The JUnit library is used to develop unit tests for project dao methods. A base class has been created with the help of which the parameters for connecting to the database are redefined (in this case, to H2):</p>\n<pre><code>public class Base {\n \n    @BeforeAll\n    static void setup() {\n        System.setProperty(&quot;jdbcUrl&quot;, &quot;jdbc:h2:mem:test_&quot; + UUID.randomUUID());\n        System.setProperty(&quot;jdbcUser&quot;, &quot;sa&quot;);\n        System.setProperty(&quot;jdbcPassword&quot;, &quot;&quot;);\n        System.setProperty(&quot;liquibaseFile&quot;, &quot;liquibase_test.xml&quot;);\n    }\n \n    @BeforeEach\n    void init() {\n        setup();\n    }\n}\n</code></pre>\n<p>How can I make sure that System.setProperty properties are redefined within a single method? It is important that the behavior of the method is similar to that of @BeforeEach instead of the @BeforeAll annotation.\nI tried to put @BeforeEach instead of @BeforeAll, removing static, but when the test is executed, the postgress database is accessed, and not H2, as required by the condition.</p>\n"},{"tags":["java","docker","selenium"],"comments":[{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1606901796,"post_id":65105218,"comment_id":115100761,"body_markdown":"You say you have verified the file is available. Have you verified the file is available **inside the docker container**?","body":"You say you have verified the file is available. Have you verified the file is available <b>inside the docker container</b>?"},{"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"score":0,"creation_date":1606902430,"post_id":65105218,"comment_id":115101022,"body_markdown":"I printed the files that are available in that specific location. And from logs verified the file is available but the driver is unable to upload.","body":"I printed the files that are available in that specific location. And from logs verified the file is available but the driver is unable to upload."},{"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1606906230,"post_id":65105218,"comment_id":115102790,"body_markdown":"What you mean by run it on a docker container ? Docker container as the hub ?","body":"What you mean by run it on a docker container ? Docker container as the hub ?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1606907709,"post_id":65105218,"comment_id":115103511,"body_markdown":"Docker container file system is isolated from host system. So you cannot just run your script in docker and expect it will access anything you have at your host. You need to mount a folder on your host to a folder inside the container or copy the file to container file system (both options are taken when build an image to run).","body":"Docker container file system is isolated from host system. So you cannot just run your script in docker and expect it will access anything you have at your host. You need to mount a folder on your host to a folder inside the container or copy the file to container file system (both options are taken when build an image to run)."},{"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"score":0,"creation_date":1606911065,"post_id":65105218,"comment_id":115104952,"body_markdown":"@PDHide, I ran in docker using the selenium stand alone chrome you can find the related info here https://github.com/SeleniumHQ/docker-selenium#standalone","body":"@PDHide, I ran in docker using the selenium stand alone chrome you can find the related info here <a href=\"https://github.com/SeleniumHQ/docker-selenium#standalone\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/docker-selenium#standalone</a>"},{"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"score":0,"creation_date":1606911331,"post_id":65105218,"comment_id":115105063,"body_markdown":"@AlexeyR. you are correct and yes I also did a volume mapping where I have mapped my required folder to the container, and to check if all the files are available I have printed the files that are in folders into logs and verified the required files are available and I am sure this issue is more related to selenium.","body":"@AlexeyR. you are correct and yes I also did a volume mapping where I have mapped my required folder to the container, and to check if all the files are available I have printed the files that are in folders into logs and verified the required files are available and I am sure this issue is more related to selenium."}],"answers":[{"tags":[],"owner":{"account_id":12888464,"reputation":155,"user_id":9321181,"display_name":"Karen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684697940,"creation_date":1606905675,"answer_id":65106461,"question_id":65105218,"body_markdown":"You need to add a path configuration. \r\nCreate a file browsers.json\r\nadd this script there\r\n```json\r\n{\r\n  &quot;chrome&quot;: {\r\n        &quot;default&quot;: &quot;85.0&quot;,\r\n        &quot;versions&quot;: {\r\n            &quot;85.0&quot;: {\r\n                &quot;image&quot;: &quot;selenoid/vnc:chrome_85.0&quot;,\r\n                &quot;port&quot;: &quot;4444&quot;,\r\n                &quot;volumes&quot;: [&quot;/home/ubuntu/your-project:/opt/docker&quot;]\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand run with this `--browsers-json browsers.json` argument\r\n\r\nthis example is for selenoid, but if you don&#39;t use selenoid, just add `&quot;volumes&quot;: [&quot;/home/ubuntu/your-project:/opt/docker&quot;]` to your selenium grid config. ","title":"Docker Selenium standalone server is Unable to upload a file to the grid browser in the container","body":"<p>You need to add a path configuration.\nCreate a file browsers.json\nadd this script there</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;chrome&quot;: {\n        &quot;default&quot;: &quot;85.0&quot;,\n        &quot;versions&quot;: {\n            &quot;85.0&quot;: {\n                &quot;image&quot;: &quot;selenoid/vnc:chrome_85.0&quot;,\n                &quot;port&quot;: &quot;4444&quot;,\n                &quot;volumes&quot;: [&quot;/home/ubuntu/your-project:/opt/docker&quot;]\n            }\n        }\n    }\n}\n</code></pre>\n<p>and run with this <code>--browsers-json browsers.json</code> argument</p>\n<p>this example is for selenoid, but if you don't use selenoid, just add <code>&quot;volumes&quot;: [&quot;/home/ubuntu/your-project:/opt/docker&quot;]</code> to your selenium grid config.</p>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1606912104,"creation_date":1606912104,"answer_id":65108101,"question_id":65105218,"body_markdown":"You mounted the volume to container where your test code is running. However you need to mount the volume to the container where the browser is running.\r\n\r\nThe thing is that when your code says to the web app &quot;hey, this is the file that you need to upload&quot;, the test code sends not a file itself but a path that is passed to the browser. Then browser tries to look up that file and build appropriate request to the server.\r\n\r\nSo the file hast to be within the container where the browser is running.","title":"Docker Selenium standalone server is Unable to upload a file to the grid browser in the container","body":"<p>You mounted the volume to container where your test code is running. However you need to mount the volume to the container where the browser is running.</p>\n<p>The thing is that when your code says to the web app &quot;hey, this is the file that you need to upload&quot;, the test code sends not a file itself but a path that is passed to the browser. Then browser tries to look up that file and build appropriate request to the server.</p>\n<p>So the file hast to be within the container where the browser is running.</p>\n"},{"tags":[],"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606916064,"creation_date":1606916064,"answer_id":65109139,"question_id":65105218,"body_markdown":"thank you all for the answer&#39;s so the working solution I found are two one is as @Alexey mentioned I should also volume map my script folder to the selenium container as well as below:\r\n\r\n    selenium:\r\n       volumes :\r\n         - .:/workspace\r\n\r\nAbove is a docker oriented solution,  the other one I found is with selenium grid where the grid can detect the files using a file detector, it can be done by adding the following snipet.\r\n\r\n    remoteDriver.setFileDetector(new LocalFileDetector());\r\n\r\nBoth the solutions are working and have solved my problem.\r\n\r\n\r\n","title":"Docker Selenium standalone server is Unable to upload a file to the grid browser in the container","body":"<p>thank you all for the answer's so the working solution I found are two one is as @Alexey mentioned I should also volume map my script folder to the selenium container as well as below:</p>\n<pre><code>selenium:\n   volumes :\n     - .:/workspace\n</code></pre>\n<p>Above is a docker oriented solution,  the other one I found is with selenium grid where the grid can detect the files using a file detector, it can be done by adding the following snipet.</p>\n<pre><code>remoteDriver.setFileDetector(new LocalFileDetector());\n</code></pre>\n<p>Both the solutions are working and have solved my problem.</p>\n"}],"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65108101,"answer_count":3,"score":1,"last_activity_date":1684697940,"creation_date":1606900776,"question_id":65105218,"body_markdown":"I have a selenium script that to upload an attachment runs on maven and java and is working fine when run from Local.\r\n\r\nWhen I run it on docker container using selenium standalone server receiving the following exception\r\n\r\n    org.openqa.selenium.InvalidArgumentException: invalid argument: File not found :\r\n\r\nNot sure how to resolve it inside the container, I have verified the file is available\r\n\r\nThe docker compose file Iam using is as follows:\r\n\r\n        version : &#39;3&#39;\r\n    services :\r\n      maven:\r\n        container_name : Maven-Java\r\n        image : maven:3.5.3-jdk-8-alpine\r\n        volumes :\r\n          - .:/workspace\r\n          - ~/.m2:/root/.m2\r\n        depends_on :\r\n          - selenium\r\n        command : mvn -f /workspace test\r\n      selenium:\r\n        container_name : selenium\r\n        image : selenium/standalone-chrome:latest\r\n        volumes:\r\n          - /dev/shm:/dev/shm\r\n        ports :\r\n          - 4444:4444\r\n\r\n","title":"Docker Selenium standalone server is Unable to upload a file to the grid browser in the container","body":"<p>I have a selenium script that to upload an attachment runs on maven and java and is working fine when run from Local.</p>\n<p>When I run it on docker container using selenium standalone server receiving the following exception</p>\n<pre><code>org.openqa.selenium.InvalidArgumentException: invalid argument: File not found :\n</code></pre>\n<p>Not sure how to resolve it inside the container, I have verified the file is available</p>\n<p>The docker compose file Iam using is as follows:</p>\n<pre><code>    version : '3'\nservices :\n  maven:\n    container_name : Maven-Java\n    image : maven:3.5.3-jdk-8-alpine\n    volumes :\n      - .:/workspace\n      - ~/.m2:/root/.m2\n    depends_on :\n      - selenium\n    command : mvn -f /workspace test\n  selenium:\n    container_name : selenium\n    image : selenium/standalone-chrome:latest\n    volumes:\n      - /dev/shm:/dev/shm\n    ports :\n      - 4444:4444\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684549204,"post_id":76293171,"comment_id":134537572,"body_markdown":"Debug with `mvn -X ...` and confirm your theory first.","body":"Debug with <code>mvn -X ...</code> and confirm your theory first."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1684549216,"post_id":76293171,"comment_id":134537574,"body_markdown":"Have you tried `mvn -U clean install ` ?","body":"Have you tried <code>mvn -U clean install </code> ?"},{"owner":{"account_id":2457081,"reputation":1393,"user_id":2142023,"accept_rate":68,"display_name":"DarkVision"},"score":0,"creation_date":1684550156,"post_id":76293171,"comment_id":134537630,"body_markdown":"you know that mvn clean install -o work in offline assuming you build the other project has -SNAPSHOT if not you can always do the ugly way build the Jar and define in dependency the systemPath to the jar himself","body":"you know that mvn clean install -o work in offline assuming you build the other project has -SNAPSHOT if not you can always do the ugly way build the Jar and define in dependency the systemPath to the jar himself"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1684572266,"post_id":76293171,"comment_id":134539091,"body_markdown":"I would recommend to take a deep look into https://maven.apache.org/resolver/remote-repository-filtering.html","body":"I would recommend to take a deep look into <a href=\"https://maven.apache.org/resolver/remote-repository-filtering.html\" rel=\"nofollow noreferrer\">maven.apache.org/resolver/remote-repository-filtering.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":21985741,"reputation":104,"user_id":16260040,"display_name":"Swapnil"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684594269,"creation_date":1684554257,"answer_id":76293429,"question_id":76293171,"body_markdown":"    &lt;dependency&gt;\r\n      &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n      &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\r\n      &lt;version&gt;version&lt;/version&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;systemPath&gt;file path/jar-file.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou can Add this into your `pom.xml` file then update your project. ","title":"Java/maven: how to force my project to use the local version of a dependency?","body":"<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;groupId&lt;/groupId&gt;\n  &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\n  &lt;version&gt;version&lt;/version&gt;\n  &lt;scope&gt;system&lt;/scope&gt;\n  &lt;systemPath&gt;file path/jar-file.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can Add this into your <code>pom.xml</code> file then update your project.</p>\n"},{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684576633,"creation_date":1684576633,"answer_id":76294563,"question_id":76293171,"body_markdown":"First of all: Version ranges like `(0,0),` are evil.\r\n\r\nSure, they are allowed in Maven, but they cause all kind of pain, and they are considered deprecated by many.\r\n\r\nSo, what should you do?\r\n\r\nIf your project Y and project X are so tightly coupled that project Y always needs the latest version of project X, you usually set up a multi-module project with both of them. Then you always build both together, problem solved.\r\n\r\nIf this is not the way for you to go, you can use a `-SNAPSHOT` version of project X in project Y while developing. This allows for easier updates because you do not always need to change the version of the dependency when you rebuild X. Beware, though, that if you build the same SNAPSHOT versions locally and on the build server, it might be confusing which one actually &quot;wins&quot; and is drawn, depending on the specified update policy.","title":"Java/maven: how to force my project to use the local version of a dependency?","body":"<p>First of all: Version ranges like <code>(0,0),</code> are evil.</p>\n<p>Sure, they are allowed in Maven, but they cause all kind of pain, and they are considered deprecated by many.</p>\n<p>So, what should you do?</p>\n<p>If your project Y and project X are so tightly coupled that project Y always needs the latest version of project X, you usually set up a multi-module project with both of them. Then you always build both together, problem solved.</p>\n<p>If this is not the way for you to go, you can use a <code>-SNAPSHOT</code> version of project X in project Y while developing. This allows for easier updates because you do not always need to change the version of the dependency when you rebuild X. Beware, though, that if you build the same SNAPSHOT versions locally and on the build server, it might be confusing which one actually &quot;wins&quot; and is drawn, depending on the specified update policy.</p>\n"}],"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684697837,"creation_date":1684544691,"question_id":76293171,"body_markdown":"Might be best explained with an example:\r\n\r\n- I have 2 custom maven projects (let&#39;s call them projectX and projectY).\r\n- projectY is dependent on projectX. projectX has been added to projectY via\r\n\r\n  ```\r\n  &lt;dependency&gt;\r\n      &lt;groupId&gt;com.projectx.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;projectx.core&lt;/artifactId&gt;\r\n      &lt;version&gt;(0.0),&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  ```\r\n- In projectX, I made some changes to Constants.java and added a new public constant.\r\n- I&#39;m trying to access this new constant in projectY, but it&#39;s not working. I&#39;m getting this error =&gt; &quot;cannot find symbol: insert-constant-name-here&quot;\r\n- It seems to me that projectY is still referencing an older version of projectX. I believe projectY is still referencing whatever the latest version of projectX is that&#39;s available in our remote mvn repo.\r\n- I have a feeling that if I build projectX and push it to the remote mvn repo, everything will work fine. I cannot do this yet as I need to make more changes to projectX.\r\n","title":"Java/maven: how to force my project to use the local version of a dependency?","body":"<p>Might be best explained with an example:</p>\n<ul>\n<li><p>I have 2 custom maven projects (let's call them projectX and projectY).</p>\n</li>\n<li><p>projectY is dependent on projectX. projectX has been added to projectY via</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.projectx.core&lt;/groupId&gt;\n    &lt;artifactId&gt;projectx.core&lt;/artifactId&gt;\n    &lt;version&gt;(0.0),&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>In projectX, I made some changes to Constants.java and added a new public constant.</p>\n</li>\n<li><p>I'm trying to access this new constant in projectY, but it's not working. I'm getting this error =&gt; &quot;cannot find symbol: insert-constant-name-here&quot;</p>\n</li>\n<li><p>It seems to me that projectY is still referencing an older version of projectX. I believe projectY is still referencing whatever the latest version of projectX is that's available in our remote mvn repo.</p>\n</li>\n<li><p>I have a feeling that if I build projectX and push it to the remote mvn repo, everything will work fine. I cannot do this yet as I need to make more changes to projectX.</p>\n</li>\n</ul>\n"},{"tags":["java","string","sorting"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":3,"creation_date":1674949222,"post_id":75271649,"comment_id":132823777,"body_markdown":"You should create a class and put the id and value in the class.  Add each instance of the class to a list and sort the list as required.","body":"You should create a class and put the id and value in the class.  Add each instance of the class to a list and sort the list as required."},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":1,"creation_date":1674965258,"post_id":75271649,"comment_id":132825342,"body_markdown":"other options to consider: Records instead of classes to cut out on boiler plate code, or you could use Tuples (Pair)","body":"other options to consider: Records instead of classes to cut out on boiler plate code, or you could use Tuples (Pair)"}],"answers":[{"tags":[],"owner":{"account_id":16236257,"reputation":11,"user_id":11723691,"display_name":"Gudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674951521,"creation_date":1674951521,"answer_id":75271808,"question_id":75271649,"body_markdown":"Here is the full [snippet][2], but as WJS [commented][1], create a class:\r\n\r\n    public class Person {\r\n        private String id;\r\n        private int score;\r\n        ...\r\n    }\r\n\r\nThen add these to a List:\r\n\r\n    ...\r\n    String[] parts = s.split(&quot; &quot;);\r\n        \r\n    List&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; parts.length; i += 2) {\r\n        String id = parts[i];\r\n        int score = Integer.parseInt(parts[i+1]);\r\n        people.add(new Person(id, score));\r\n    }\r\n\r\nThen you sort the list by passing a comparator which compares `scores` and if you need it back in a String, join the list with spaces:\r\n\r\n    people.sort((p1, p2) -&gt; Integer.compare(p1.score, p2.score));    \r\n    String result = people.stream().map(Person::toString).collect(Collectors.joining(&quot;,&quot;));\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75271649/sort-specific-parts-in-string#comment132823777_75271649\r\n  [2]:  http://tpcg.io/_K8FBFS ","title":"Sort specific parts in String","body":"<p>Here is the full <a href=\"http://tpcg.io/_K8FBFS\" rel=\"nofollow noreferrer\">snippet</a>, but as WJS <a href=\"https://stackoverflow.com/questions/75271649/sort-specific-parts-in-string#comment132823777_75271649\">commented</a>, create a class:</p>\n<pre><code>public class Person {\n    private String id;\n    private int score;\n    ...\n}\n</code></pre>\n<p>Then add these to a List:</p>\n<pre><code>...\nString[] parts = s.split(&quot; &quot;);\n    \nList&lt;Person&gt; people = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; parts.length; i += 2) {\n    String id = parts[i];\n    int score = Integer.parseInt(parts[i+1]);\n    people.add(new Person(id, score));\n}\n</code></pre>\n<p>Then you sort the list by passing a comparator which compares <code>scores</code> and if you need it back in a String, join the list with spaces:</p>\n<pre><code>people.sort((p1, p2) -&gt; Integer.compare(p1.score, p2.score));    \nString result = people.stream().map(Person::toString).collect(Collectors.joining(&quot;,&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674960868,"creation_date":1674960868,"answer_id":75272336,"question_id":75271649,"body_markdown":"Ok, here is how I did it. I used a record instead of a class as it creates the getters implicitly.  No setters since a record is immutable.\r\n\r\nrecord and data string\r\n```\r\nrecord Data (int id, int score) {\r\n  @Override\r\n  public String toString() {\r\n      return&quot;id=%d, score=%d&quot;.formatted(id, score);\r\n  }\r\n}\r\nString data = &quot;1 456 2 100 3 600 1 400&quot;;\r\n```\r\n- create the list to hold the data\r\n- split on one or more white space characters\r\n- then for each `(id, score) pair`, create an instance of `Data` (I converted both to ints)\r\n- add the instance to the list\r\n- and sort the list\r\n```\r\nList&lt;Data&gt; list = new ArrayList&lt;&gt;();\r\nString[] items = data.split(&quot;\\\\s+&quot;);\r\nfor(int i = 0; i &lt; items.length; i+=2) {\r\n    list.add(new Data(Integer.parseInt(items[i]), Integer.parseInt(items[i+1])));\r\n}\r\nlist.sort(Comparator.comparingInt(Data::value));\r\nfor (Data d : list) {\r\n    System.out.println(d);\r\n}\r\n```\r\nprints\r\n```\r\nid=2, score=100\r\nid=1, score=400\r\nid=1, score=456\r\nid=3, score=600\r\n\r\n\r\n","title":"Sort specific parts in String","body":"<p>Ok, here is how I did it. I used a record instead of a class as it creates the getters implicitly.  No setters since a record is immutable.</p>\n<p>record and data string</p>\n<pre><code>record Data (int id, int score) {\n  @Override\n  public String toString() {\n      return&quot;id=%d, score=%d&quot;.formatted(id, score);\n  }\n}\nString data = &quot;1 456 2 100 3 600 1 400&quot;;\n</code></pre>\n<ul>\n<li>create the list to hold the data</li>\n<li>split on one or more white space characters</li>\n<li>then for each <code>(id, score) pair</code>, create an instance of <code>Data</code> (I converted both to ints)</li>\n<li>add the instance to the list</li>\n<li>and sort the list</li>\n</ul>\n<pre><code>List&lt;Data&gt; list = new ArrayList&lt;&gt;();\nString[] items = data.split(&quot;\\\\s+&quot;);\nfor(int i = 0; i &lt; items.length; i+=2) {\n    list.add(new Data(Integer.parseInt(items[i]), Integer.parseInt(items[i+1])));\n}\nlist.sort(Comparator.comparingInt(Data::value));\nfor (Data d : list) {\n    System.out.println(d);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>id=2, score=100\nid=1, score=400\nid=1, score=456\nid=3, score=600\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684697284,"creation_date":1684696905,"answer_id":76301555,"question_id":75271649,"body_markdown":"Great question.\r\n\r\nWhat you can do is use the score as the `key`, and use a list of id&#39;s at the `value`.\r\n\r\nConsider the following.\r\n\r\n```java\r\nMap&lt;Integer, List&lt;Integer&gt;&gt; parse(String string) {\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = new TreeMap&lt;&gt;();\r\n    String[] strings = string.split(&quot; &quot;);\r\n    int id, score;\r\n    for (int index = 0; index &lt; strings.length; index += 2) {\r\n        id = Integer.parseInt(strings[index]);\r\n        score = Integer.parseInt(strings[index + 1]);\r\n        if (map.containsKey(score)) map.get(score).add(id);\r\n        else map.put(score, new ArrayList(Arrays.asList(id)));\r\n    }\r\n    return map;\r\n}\r\n```\r\n\r\nIf we parsed a value of `&quot;1 456 2 100 3 600 1 400&quot;`, we get the following.\r\n\r\n```none\r\n{100=[2], 400=[1], 456=[1], 600=[3]}\r\n```\r\n\r\nAnd, as demonstration, if parsed a value of `&quot;1 456 2 100 3 600 1 400 5 456 6 600&quot;`, we would get this.\r\n\r\n```none\r\n{100=[2], 400=[1], 456=[1, 5], 600=[3, 6]}\r\n```\r\n\r\nThen, for access, you can implement a method similar to the following.\r\n\r\n```java\r\n/** @return null if not found */\r\nList&lt;Integer&gt; scores(int id, Map&lt;Integer, List&lt;Integer&gt;&gt; map) {\r\n    List&lt;Integer&gt; scores = new ArrayList&lt;&gt;();\r\n    for (Map.Entry&lt;Integer, List&lt;Integer&gt;&gt; entry : map.entrySet()) {\r\n        if (entry.getValue().contains(id))\r\n            scores.add(entry.getKey());\r\n    }\r\n    if (scores.isEmpty()) scores = null;\r\n    return scores;\r\n}\r\n```\r\n\r\nOutput for `scores(1, parse(&quot;1 456 2 100 3 600 1 400&quot;))` is the following.\r\n\r\n```none\r\n[400, 456]\r\n```","title":"Sort specific parts in String","body":"<p>Great question.</p>\n<p>What you can do is use the score as the <code>key</code>, and use a list of id's at the <code>value</code>.</p>\n<p>Consider the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, List&lt;Integer&gt;&gt; parse(String string) {\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = new TreeMap&lt;&gt;();\n    String[] strings = string.split(&quot; &quot;);\n    int id, score;\n    for (int index = 0; index &lt; strings.length; index += 2) {\n        id = Integer.parseInt(strings[index]);\n        score = Integer.parseInt(strings[index + 1]);\n        if (map.containsKey(score)) map.get(score).add(id);\n        else map.put(score, new ArrayList(Arrays.asList(id)));\n    }\n    return map;\n}\n</code></pre>\n<p>If we parsed a value of <code>&quot;1 456 2 100 3 600 1 400&quot;</code>, we get the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>{100=[2], 400=[1], 456=[1], 600=[3]}\n</code></pre>\n<p>And, as demonstration, if parsed a value of <code>&quot;1 456 2 100 3 600 1 400 5 456 6 600&quot;</code>, we would get this.</p>\n<pre class=\"lang-none prettyprint-override\"><code>{100=[2], 400=[1], 456=[1, 5], 600=[3, 6]}\n</code></pre>\n<p>Then, for access, you can implement a method similar to the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** @return null if not found */\nList&lt;Integer&gt; scores(int id, Map&lt;Integer, List&lt;Integer&gt;&gt; map) {\n    List&lt;Integer&gt; scores = new ArrayList&lt;&gt;();\n    for (Map.Entry&lt;Integer, List&lt;Integer&gt;&gt; entry : map.entrySet()) {\n        if (entry.getValue().contains(id))\n            scores.add(entry.getKey());\n    }\n    if (scores.isEmpty()) scores = null;\n    return scores;\n}\n</code></pre>\n<p>Output for <code>scores(1, parse(&quot;1 456 2 100 3 600 1 400&quot;))</code> is the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[400, 456]\n</code></pre>\n"}],"owner":{"account_id":20172033,"reputation":21,"user_id":14794638,"display_name":"Glandorf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684697284,"creation_date":1674948978,"question_id":75271649,"body_markdown":"Alright so, I have a String which contains:\r\n```1 456 2 100 3 600 1 400```\r\n\r\nThe 1 is the Id of a person which got a score of 456 and 400.\r\n2 is the Id of a person which got a score of 100 etc.\r\n\r\nI need the String to sort by **values** and not by **id&#39;s**. It should look like this: ```2 100 1 400 1 456 3 600```\r\n\r\nI already tried putting it into a hashmap and sorting it, but since a hashmap doesn&#39;t take identical keys, this is not an option.","title":"Sort specific parts in String","body":"<p>Alright so, I have a String which contains:\n<code>1 456 2 100 3 600 1 400</code></p>\n<p>The 1 is the Id of a person which got a score of 456 and 400.\n2 is the Id of a person which got a score of 100 etc.</p>\n<p>I need the String to sort by <strong>values</strong> and not by <strong>id's</strong>. It should look like this: <code>2 100 1 400 1 456 3 600</code></p>\n<p>I already tried putting it into a hashmap and sorting it, but since a hashmap doesn't take identical keys, this is not an option.</p>\n"},{"tags":["java","spring-boot","jwt","cryptography","oauth2resourceserver"],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684697146,"creation_date":1684697146,"question_id":76301568,"body_markdown":"I was going through **Symmetric and Assymetric Signatures for JWT** in Spring Security. I came accross this video by **Dan Vega**- https://www.youtube.com/watchv=66DtzkhBlSA&amp;list=PLZV0a2jwt22s5NCKOwSmHVagoDW8nflaC&amp;index=6&amp;ab_channel=DanVega  \r\nHere, in the **SecurityConfig.java**, **Jwt Encoder** and Jwt Decoder are created.\r\n```\r\n @Bean\r\n    public JwtEncoder jwtEncoder() {\r\n        return new NimbusJwtEncoder(new ImmutableSecret&lt;&gt;(jwtKey.getBytes()));\r\n    }\r\n    //Decoder\r\n    @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        byte[] bytes = jwtKey.getBytes();\r\n        SecretKeySpec originalKey = new SecretKeySpec(bytes, 0, bytes.length, &quot;RSA&quot;);\r\n        logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\r\n        return NimbusJwtDecoder.withSecretKey(originalKey).macAlgorithm(MacAlgorithm.HS512).build();\r\n    }\r\n```\r\n**Generating token-**  \r\n```\r\npackage com.ayushsingh.jwtsymmetric_keydemo.service;\r\n\r\nimport java.time.Instant;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.oauth2.jose.jws.MacAlgorithm;\r\nimport org.springframework.security.oauth2.jwt.JwsHeader;\r\nimport org.springframework.security.oauth2.jwt.JwtClaimsSet;\r\nimport org.springframework.security.oauth2.jwt.JwtEncoder;\r\nimport org.springframework.security.oauth2.jwt.JwtEncoderParameters;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class TokenService {\r\n\r\n    @Autowired\r\n    private JwtEncoder jwtEncoder;\r\n\r\n    // Method to generate the token\r\n    public String generateToken(Authentication authentication) {\r\n        Instant now = Instant.now(); \r\n        String scope = authentication.getAuthorities().stream()\r\n     \r\n                .map(GrantedAuthority::getAuthority)\r\n              \r\n                .filter(authority -&gt; !authority.startsWith(&quot;ROLE&quot;))\r\n                .collect(Collectors.joining(&quot; &quot;));\r\n        JwtClaimsSet claims = JwtClaimsSet.builder()\r\n                .issuer(&quot;self&quot;) \r\n                .issuedAt(now) \r\n                .expiresAt(now.plus(1, ChronoUnit.HOURS))\r\n                .subject(authentication.getName())\r\n                .claim(&quot;scope&quot;, scope)\r\n                .build();\r\n        var encodedParameters = JwtEncoderParameters.from(JwsHeader.with(MacAlgorithm.HS512).build(), claims); \r\n        return this.jwtEncoder.encode(encodedParameters).getTokenValue(); \r\n\r\n    }\r\n}\r\n\r\n```\r\n**My queries-**  \r\nI understand that we are using the same symmetric key for encryption here as explained in the video and here- https://www.pingidentity.com/en/resources/blog/post/jwt-security-nobody-talks-about.html#:~:text=using%20asymmetric%20signatures.-,Asymmetric%20JWT%20Signatures,verified%20with%20the%20public%20key.  \r\nBut, I am not able to understand why we require a **SecretKeySpec** in the **decoder-**  \r\n```\r\n @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        byte[] bytes = jwtKey.getBytes();\r\n        SecretKeySpec originalKey = new SecretKeySpec(bytes, 0, bytes.length, &quot;RSA&quot;);\r\n        logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\r\n        return NimbusJwtDecoder.withSecretKey(originalKey).macAlgorithm(MacAlgorithm.HS512).build();\r\n    }\r\n```\r\nWhat does SecretKeySpec exactly do and why we use RSA here? Here, **jwtKey** 9faa372517ac1d389758d3750fc07acf00f542277f26fec1ce4593e93f64e338. The output for \r\n```\r\nlogger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\r\n```\r\nis- \r\n```\r\n Original Key: [57, 102, 97, 97, 51, 55, 50, 53, 49, 55, 97, 99, 49, 100, 51, 56, 57, 55, 53, 56, 100, 51, 55, 53, 48, 102, 99, 48, 55, 97, 99, 102, 48, 48, 102, 53, 52, 50, 50, 55, 55, 102, 50, 54, 102, 101, 99, 49, 99, 101, 52, 53, 57, 51, 101, 57, 51, 102, 54, 52, 101, 51, 51, 56]\r\n\r\n```\r\nWhy are we using **RSA** in the decoder! It is not used anywhere else in the implementation. Please help me understand!","title":"Role of SecretKeySpec in NimbusJwtDecoder: Spring Security and JWT","body":"<p>I was going through <strong>Symmetric and Assymetric Signatures for JWT</strong> in Spring Security. I came accross this video by <strong>Dan Vega</strong>- <a href=\"https://www.youtube.com/watchv=66DtzkhBlSA&amp;list=PLZV0a2jwt22s5NCKOwSmHVagoDW8nflaC&amp;index=6&amp;ab_channel=DanVega\" rel=\"nofollow noreferrer\">https://www.youtube.com/watchv=66DtzkhBlSA&amp;list=PLZV0a2jwt22s5NCKOwSmHVagoDW8nflaC&amp;index=6&amp;ab_channel=DanVega</a><br />\nHere, in the <strong>SecurityConfig.java</strong>, <strong>Jwt Encoder</strong> and Jwt Decoder are created.</p>\n<pre><code> @Bean\n    public JwtEncoder jwtEncoder() {\n        return new NimbusJwtEncoder(new ImmutableSecret&lt;&gt;(jwtKey.getBytes()));\n    }\n    //Decoder\n    @Bean\n    public JwtDecoder jwtDecoder() {\n        byte[] bytes = jwtKey.getBytes();\n        SecretKeySpec originalKey = new SecretKeySpec(bytes, 0, bytes.length, &quot;RSA&quot;);\n        logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\n        return NimbusJwtDecoder.withSecretKey(originalKey).macAlgorithm(MacAlgorithm.HS512).build();\n    }\n</code></pre>\n<p><strong>Generating token-</strong></p>\n<pre><code>package com.ayushsingh.jwtsymmetric_keydemo.service;\n\nimport java.time.Instant;\nimport java.time.temporal.ChronoUnit;\nimport java.util.stream.Collectors;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.oauth2.jose.jws.MacAlgorithm;\nimport org.springframework.security.oauth2.jwt.JwsHeader;\nimport org.springframework.security.oauth2.jwt.JwtClaimsSet;\nimport org.springframework.security.oauth2.jwt.JwtEncoder;\nimport org.springframework.security.oauth2.jwt.JwtEncoderParameters;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class TokenService {\n\n    @Autowired\n    private JwtEncoder jwtEncoder;\n\n    // Method to generate the token\n    public String generateToken(Authentication authentication) {\n        Instant now = Instant.now(); \n        String scope = authentication.getAuthorities().stream()\n     \n                .map(GrantedAuthority::getAuthority)\n              \n                .filter(authority -&gt; !authority.startsWith(&quot;ROLE&quot;))\n                .collect(Collectors.joining(&quot; &quot;));\n        JwtClaimsSet claims = JwtClaimsSet.builder()\n                .issuer(&quot;self&quot;) \n                .issuedAt(now) \n                .expiresAt(now.plus(1, ChronoUnit.HOURS))\n                .subject(authentication.getName())\n                .claim(&quot;scope&quot;, scope)\n                .build();\n        var encodedParameters = JwtEncoderParameters.from(JwsHeader.with(MacAlgorithm.HS512).build(), claims); \n        return this.jwtEncoder.encode(encodedParameters).getTokenValue(); \n\n    }\n}\n\n</code></pre>\n<p><strong>My queries-</strong><br />\nI understand that we are using the same symmetric key for encryption here as explained in the video and here- <a href=\"https://www.pingidentity.com/en/resources/blog/post/jwt-security-nobody-talks-about.html#:%7E:text=using%20asymmetric%20signatures.-,Asymmetric%20JWT%20Signatures,verified%20with%20the%20public%20key\" rel=\"nofollow noreferrer\">https://www.pingidentity.com/en/resources/blog/post/jwt-security-nobody-talks-about.html#:~:text=using%20asymmetric%20signatures.-,Asymmetric%20JWT%20Signatures,verified%20with%20the%20public%20key</a>.<br />\nBut, I am not able to understand why we require a <strong>SecretKeySpec</strong> in the <strong>decoder-</strong></p>\n<pre><code> @Bean\n    public JwtDecoder jwtDecoder() {\n        byte[] bytes = jwtKey.getBytes();\n        SecretKeySpec originalKey = new SecretKeySpec(bytes, 0, bytes.length, &quot;RSA&quot;);\n        logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\n        return NimbusJwtDecoder.withSecretKey(originalKey).macAlgorithm(MacAlgorithm.HS512).build();\n    }\n</code></pre>\n<p>What does SecretKeySpec exactly do and why we use RSA here? Here, <strong>jwtKey</strong> 9faa372517ac1d389758d3750fc07acf00f542277f26fec1ce4593e93f64e338. The output for</p>\n<pre><code>logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\n</code></pre>\n<p>is-</p>\n<pre><code> Original Key: [57, 102, 97, 97, 51, 55, 50, 53, 49, 55, 97, 99, 49, 100, 51, 56, 57, 55, 53, 56, 100, 51, 55, 53, 48, 102, 99, 48, 55, 97, 99, 102, 48, 48, 102, 53, 52, 50, 50, 55, 55, 102, 50, 54, 102, 101, 99, 49, 99, 101, 52, 53, 57, 51, 101, 57, 51, 102, 54, 52, 101, 51, 51, 56]\n\n</code></pre>\n<p>Why are we using <strong>RSA</strong> in the decoder! It is not used anywhere else in the implementation. Please help me understand!</p>\n"},{"tags":["java","sorting","linked-list","insert","duplicates"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1506586519,"post_id":46464179,"comment_id":79883108,"body_markdown":"Why not just use a `Set`?","body":"Why not just use a <code>Set</code>?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":5,"creation_date":1506586526,"post_id":46464179,"comment_id":79883112,"body_markdown":"Just use `LinkedHashSet`.","body":"Just use <code>LinkedHashSet</code>."},{"owner":{"account_id":7334154,"reputation":873,"user_id":5586115,"display_name":"Frank"},"score":0,"creation_date":1506586578,"post_id":46464179,"comment_id":79883152,"body_markdown":"with set or other data structure don&#39;t forget to implement hashcode and equals for not primitive types","body":"with set or other data structure don&#39;t forget to implement hashcode and equals for not primitive types"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1506586618,"post_id":46464179,"comment_id":79883178,"body_markdown":"Where is `insertWord` defined?","body":"Where is <code>insertWord</code> defined?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1506586683,"post_id":46464179,"comment_id":79883227,"body_markdown":"Your logic fails if it duplicates the last element. You should `return` instead of `break`, and insert unconditionally at the end.","body":"Your logic fails if it duplicates the last element. You should <code>return</code> instead of <code>break</code>, and insert unconditionally at the end."},{"owner":{"account_id":11240701,"reputation":83,"user_id":8245121,"display_name":"William &#197;kerman"},"score":0,"creation_date":1506586721,"post_id":46464179,"comment_id":79883251,"body_markdown":"@shmosel In another main class.","body":"@shmosel In another main class."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1506586768,"post_id":46464179,"comment_id":79883291,"body_markdown":"What&#39;s the logic of scanning for `insertWord` when trying to insert `word`?","body":"What&#39;s the logic of scanning for <code>insertWord</code> when trying to insert <code>word</code>?"},{"owner":{"account_id":11240701,"reputation":83,"user_id":8245121,"display_name":"William &#197;kerman"},"score":0,"creation_date":1506587774,"post_id":46464179,"comment_id":79883938,"body_markdown":"@shmosel see edit, meant `insertWord` to be inserted.","body":"@shmosel see edit, meant <code>insertWord</code> to be inserted."},{"owner":{"account_id":10878617,"reputation":2606,"user_id":7998319,"display_name":"gati sahu"},"score":0,"creation_date":1506588303,"post_id":46464179,"comment_id":79884318,"body_markdown":"Any specific reason not using set.What I am seeing you need a collection which will contain unique word","body":"Any specific reason not using set.What I am seeing you need a collection which will contain unique word"},{"owner":{"account_id":11240701,"reputation":83,"user_id":8245121,"display_name":"William &#197;kerman"},"score":0,"creation_date":1506597222,"post_id":46464179,"comment_id":79890234,"body_markdown":"I used the `list.size()` method to see how large it was after the last time I used it during execution. Then I created a array with that size. Then the time reduced by 15 seconds! Memory ain&#39;t a concern for me.","body":"I used the <code>list.size()</code> method to see how large it was after the last time I used it during execution. Then I created a array with that size. Then the time reduced by 15 seconds! Memory ain&#39;t a concern for me."}],"answers":[{"tags":[],"owner":{"account_id":3245001,"reputation":1589,"user_id":2736843,"accept_rate":75,"display_name":"aUserHimself"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506589350,"creation_date":1506587918,"answer_id":46464644,"question_id":46464179,"body_markdown":"If you would still like to use a `LinkedList` data structure (not a `Set`) and do this with `Java8`, here it is an easy and faster solution:\r\n   \r\n    LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;&gt;();\r\n    \r\n    public void insert (WordInDocument insertWord) {\r\n        // try to find any matching element\r\n        Optional&lt;WordInDocument&gt; optionalExistingWord =\r\n            list\r\n            .stream()\r\n            .parallel()\r\n            .filter(element -&gt; element.word.equalsIgnoreCase(insertWord.word))\r\n            .findAny();\r\n        // if none is found, add the new element to the list\r\n        if(!optionalExistingWord.isPresent()) {\r\n            list.add(insertWord);\r\n        }\r\n    }\r\n    ","title":"No duplicates after insertion","body":"<p>If you would still like to use a <code>LinkedList</code> data structure (not a <code>Set</code>) and do this with <code>Java8</code>, here it is an easy and faster solution:</p>\n\n<pre><code>LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;&gt;();\n\npublic void insert (WordInDocument insertWord) {\n    // try to find any matching element\n    Optional&lt;WordInDocument&gt; optionalExistingWord =\n        list\n        .stream()\n        .parallel()\n        .filter(element -&gt; element.word.equalsIgnoreCase(insertWord.word))\n        .findAny();\n    // if none is found, add the new element to the list\n    if(!optionalExistingWord.isPresent()) {\n        list.add(insertWord);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506588759,"creation_date":1506588759,"answer_id":46464955,"question_id":46464179,"body_markdown":"You can remove duplicates via TreeSet:\r\n\r\n\t\tLinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;&gt;();\r\n\t\tTreeSet&lt;WordInDocument&gt; set = new TreeSet&lt;&gt;(\r\n\t\t\t\tnew Comparator&lt;WordInDocument&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic int compare(WordInDocument d1, WordInDocument d2) {\r\n\t\t\t\t\t\treturn d1.word.compareToIgnoreCase(d2.word);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\tset.addAll(list);\r\n\t\tlist = new LinkedList&lt;WordInDocument&gt;(set);\r\n\r\nthis should be faster","title":"No duplicates after insertion","body":"<p>You can remove duplicates via TreeSet:</p>\n\n<pre><code>    LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;&gt;();\n    TreeSet&lt;WordInDocument&gt; set = new TreeSet&lt;&gt;(\n            new Comparator&lt;WordInDocument&gt;() {\n                @Override\n                public int compare(WordInDocument d1, WordInDocument d2) {\n                    return d1.word.compareToIgnoreCase(d2.word);\n                }\n            });\n    set.addAll(list);\n    list = new LinkedList&lt;WordInDocument&gt;(set);\n</code></pre>\n\n<p>this should be faster</p>\n"}],"owner":{"account_id":11240701,"reputation":83,"user_id":8245121,"display_name":"William &#197;kerman"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684696690,"creation_date":1506586455,"question_id":46464179,"body_markdown":"I&#39;m (was) trying to make a LinkedList that removes duplicates during the insertion. This is my code:\r\n \r\n    LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;WordInDocument&gt;();\r\n    /**\r\n     * Insert a word.\r\n\t * \r\n\t * @param insertWord The word that&#39;ll be inserted for, the word and it&#39;s Part Of Speech. \r\n     * If you print &quot;insertWord.word&quot; you&#39;ll get the String of the word.\r\n\t */\r\n\tpublic void insert (Word insertWord) {\r\n\t\tListIterator&lt;WordInDocument&gt; listIt = list.listIterator();\r\n\t\tWordInDocument entry = new WordInDocument(insertWord);\r\n\t\tif (list.isEmpty()) {\r\n\t\t\tlistIt.add(entry);\r\n\t\t}\r\n\t\telse {\r\n\t\t\twhile (listIt.hasNext()) {\r\n                //the iterator iterate with this if-statement, \r\n                //if the iterator finds a equal word, then break\r\n\t\t\t\tif (listIt.next().wordInEntry.word.equalsIgnoreCase(insertWord.word)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//only true if an equal word wasn&#39;t found, then ad the word at the end\r\n\t\t\tif (!listIt.hasNext()) {\r\n\t\t\t\tlistIt.add (entry);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nBut if it&#39;s a lot of inputs then it takes a long time to execute this (around 1 minute). Is their any better way of removing duplicate values during insertion?\r\n\r\nEDIT:  \r\nThanks for the help. I solved it by using &quot;binary insertion&quot; as I call it. That way it also is sorted after every insertion which I intended to do after the last insertion. Here is my code:\r\n\r\n    WordInDocument[] list = new WordInDocument[MAX_INDEX];\r\n    int currentMaxIndex = 0;\r\n\t/**\r\n\t * Insert a word, it uses binary search to find where to put it, if the\r\n     * current word doesn&#39;t exists, then insert it, this can bee called &quot;Binary insert&quot;.\r\n\t * If the current word already exists, then ignore.\r\n\t * \r\n\t * @param insertword The word that&#39;ll be inserted for, the word and it&#39;s Part Of Speech. \r\n     * If you print &quot;insertWord.word&quot; you&#39;ll get the String of the word.\r\n\t */\r\n\tpublic void insert(Word insertword) { // put element into array\r\n\t\tWordInDocument entry = new WordInDocument(insertword);\r\n        //First element\r\n\t\tif (list[0] == null) {\r\n\t\t\tlist[0] = entry;\r\n\t\t\tcurrentMaxIndex++;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tint inputIndex = binaryInsert(insertword);\r\n\t\t//It&#39;s at the end\r\n\t\tif (list[inputIndex] == null) {\r\n\t\t\tlist[inputIndex] = entry;\r\n\t\t\tcurrentMaxIndex++; \r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//It&#39;s equal to another word\r\n\t\tif (list[inputIndex].wordInEntry.word.equalsIgnoreCase(word.word)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//It&#39;s between two entries\r\n\t\tfor (int i = currentMaxIndex; i &gt; inputIndex; i--) { // move bigger ones one up.\r\n\t\t\tlist[i] = list[i - 1];\r\n\t\t}\r\n\t\tlist[inputIndex] = entry;\r\n\t\tcurrentMaxIndex++;\r\n\t}\r\n\t\r\n\t private int binaryInsert(Word word) {\r\n\t\tint lowerBound = 0;\r\n\t\tint upperBound = currentMaxIndex - 1;\r\n        int compareStrings = list[mid].wordInEntry.word.compareToIgnoreCase(word.word);\r\n\t\twhile (true) {\r\n\t\t\tint mid = (upperBound + lowerBound) / 2;\r\n\t\t\tif (lowerBound == mid) {\r\n\t\t\t\tif (compareStrings &gt; 0) {\r\n\t\t\t\t\treturn mid;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (compareStrings &lt; 0) {\r\n\t\t\t\tlowerBound = mid + 1; // its in the upper\r\n\t\t\t\tif (lowerBound &gt; upperBound) {\r\n\t\t\t\t\treturn mid += 1;\r\n\t\t\t\t}\r\n\t\t\t} else if (lowerBound &gt; upperBound) {\r\n\t\t\t\treturn mid;\r\n\t\t\t} else {\r\n\t\t\t\tupperBound = mid - 1; // its in the lower\r\n\t\t\t}\r\n\t\t}\r\n\t }\r\n\r\nNow it takes 2 seconds instead of 45 seconds.","title":"No duplicates after insertion","body":"<p>I'm (was) trying to make a LinkedList that removes duplicates during the insertion. This is my code:</p>\n<pre><code>LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;WordInDocument&gt;();\n/**\n * Insert a word.\n * \n * @param insertWord The word that'll be inserted for, the word and it's Part Of Speech. \n * If you print &quot;insertWord.word&quot; you'll get the String of the word.\n */\npublic void insert (Word insertWord) {\n    ListIterator&lt;WordInDocument&gt; listIt = list.listIterator();\n    WordInDocument entry = new WordInDocument(insertWord);\n    if (list.isEmpty()) {\n        listIt.add(entry);\n    }\n    else {\n        while (listIt.hasNext()) {\n            //the iterator iterate with this if-statement, \n            //if the iterator finds a equal word, then break\n            if (listIt.next().wordInEntry.word.equalsIgnoreCase(insertWord.word)) {\n                break;\n            }\n        }\n        //only true if an equal word wasn't found, then ad the word at the end\n        if (!listIt.hasNext()) {\n            listIt.add (entry);\n        }\n    }\n}\n</code></pre>\n<p>But if it's a lot of inputs then it takes a long time to execute this (around 1 minute). Is their any better way of removing duplicate values during insertion?</p>\n<p>EDIT:<br />\nThanks for the help. I solved it by using &quot;binary insertion&quot; as I call it. That way it also is sorted after every insertion which I intended to do after the last insertion. Here is my code:</p>\n<pre><code>WordInDocument[] list = new WordInDocument[MAX_INDEX];\nint currentMaxIndex = 0;\n/**\n * Insert a word, it uses binary search to find where to put it, if the\n * current word doesn't exists, then insert it, this can bee called &quot;Binary insert&quot;.\n * If the current word already exists, then ignore.\n * \n * @param insertword The word that'll be inserted for, the word and it's Part Of Speech. \n * If you print &quot;insertWord.word&quot; you'll get the String of the word.\n */\npublic void insert(Word insertword) { // put element into array\n    WordInDocument entry = new WordInDocument(insertword);\n    //First element\n    if (list[0] == null) {\n        list[0] = entry;\n        currentMaxIndex++;\n        return;\n    }\n    int inputIndex = binaryInsert(insertword);\n    //It's at the end\n    if (list[inputIndex] == null) {\n        list[inputIndex] = entry;\n        currentMaxIndex++; \n        return;\n    }\n    //It's equal to another word\n    if (list[inputIndex].wordInEntry.word.equalsIgnoreCase(word.word)) {\n        return;\n    }\n    //It's between two entries\n    for (int i = currentMaxIndex; i &gt; inputIndex; i--) { // move bigger ones one up.\n        list[i] = list[i - 1];\n    }\n    list[inputIndex] = entry;\n    currentMaxIndex++;\n}\n\n private int binaryInsert(Word word) {\n    int lowerBound = 0;\n    int upperBound = currentMaxIndex - 1;\n    int compareStrings = list[mid].wordInEntry.word.compareToIgnoreCase(word.word);\n    while (true) {\n        int mid = (upperBound + lowerBound) / 2;\n        if (lowerBound == mid) {\n            if (compareStrings &gt; 0) {\n                return mid;\n            }\n        }\n        if (compareStrings &lt; 0) {\n            lowerBound = mid + 1; // its in the upper\n            if (lowerBound &gt; upperBound) {\n                return mid += 1;\n            }\n        } else if (lowerBound &gt; upperBound) {\n            return mid;\n        } else {\n            upperBound = mid - 1; // its in the lower\n        }\n    }\n }\n</code></pre>\n<p>Now it takes 2 seconds instead of 45 seconds.</p>\n"},{"tags":["javascript","java","string","object","properties"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":4,"creation_date":1675064706,"post_id":75281407,"comment_id":132840036,"body_markdown":"There is, if you&#39;re prepared to go down the dark road of [Java reflection](https://www.oracle.com/technical-resources/articles/java/javareflection.html).","body":"There is, if you&#39;re prepared to go down the dark road of <a href=\"https://www.oracle.com/technical-resources/articles/java/javareflection.html\" rel=\"nofollow noreferrer\">Java reflection</a>."},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1675064972,"post_id":75281407,"comment_id":132840092,"body_markdown":"For simple use cases though, you generally don&#39;t want to","body":"For simple use cases though, you generally don&#39;t want to"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684695215,"post_id":75281407,"comment_id":134550896,"body_markdown":"@RobbyCornelissen, lol, I agree to an extent.  There are some complexities with reflection, although the fundamentals aren&#39;t too extraneous.  It&#39;s incredibly abstract, in terms of how it&#39;s structured, in relation to the general portion of the JDK.","body":"@RobbyCornelissen, lol, I agree to an extent.  There are some complexities with reflection, although the fundamentals aren&#39;t too extraneous.  It&#39;s incredibly abstract, in terms of how it&#39;s structured, in relation to the general portion of the JDK."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675066379,"creation_date":1675066379,"answer_id":75281680,"question_id":75281407,"body_markdown":"You could use the [Apache OGNL language](https://commons.apache.org/proper/commons-ognl/language-guide.html), it is an external dependency that allows you to access properties with names in strings. \r\n\r\nIt has many more features, but you cannot expect that it simply expands your Java syntax - you will have to evaluate a String that contains an expression in that language.\r\n\r\nIn some cases you can embed it, like in Apache Camel, where it is &quot;just another expression language&quot;.","title":"Is there a way of accessing the properties of an object in java by using a string to represent the property&#39;s name, just like in JavaScript?","body":"<p>You could use the <a href=\"https://commons.apache.org/proper/commons-ognl/language-guide.html\" rel=\"nofollow noreferrer\">Apache OGNL language</a>, it is an external dependency that allows you to access properties with names in strings.</p>\n<p>It has many more features, but you cannot expect that it simply expands your Java syntax - you will have to evaluate a String that contains an expression in that language.</p>\n<p>In some cases you can embed it, like in Apache Camel, where it is &quot;just another expression language&quot;.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684695251,"creation_date":1684685591,"answer_id":76300816,"question_id":75281407,"body_markdown":"No, it&#39;s not part of the syntax.\r\n\r\n[Oracle, Chapter 18 - Syntax](https://docs.oracle.com/javase/specs/jls/se7/html/jls-18.html)\r\n\r\nYou could use reflection, if that suits your needs.  \r\nJava reflection offers the ability to access objects, fields, and methods via `String` values, and other methods, if need be.\r\n\r\nConsider the following class.\r\n\r\n```java\r\nclass Example {\r\n    String string = &quot;stack overflow&quot;;\r\n\r\n    int method(int valueA, int valueB) {\r\n        return valueA + valueB;\r\n    }\r\n}\r\n```\r\n\r\nIf you want to access the field `string`, you can use the following.\r\n\r\n```java\r\nExample example = new Example();\r\nField field = example.getClass().getDeclaredField(&quot;string&quot;);\r\nString string = field.get(example);\r\n```\r\n\r\nIf you want to call `method`, you can use the following.\r\n\r\n```java\r\nExample example = new Example();\r\nMethod method = example.getClass().getDeclaredMethod(&quot;method&quot;, int.class, int.class);\r\nint value = (int) method.invoke(example, 1, 2);\r\n```","title":"Is there a way of accessing the properties of an object in java by using a string to represent the property&#39;s name, just like in JavaScript?","body":"<p>No, it's not part of the syntax.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-18.html\" rel=\"nofollow noreferrer\">Oracle, Chapter 18 - Syntax</a></p>\n<p>You could use reflection, if that suits your needs.<br />\nJava reflection offers the ability to access objects, fields, and methods via <code>String</code> values, and other methods, if need be.</p>\n<p>Consider the following class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Example {\n    String string = &quot;stack overflow&quot;;\n\n    int method(int valueA, int valueB) {\n        return valueA + valueB;\n    }\n}\n</code></pre>\n<p>If you want to access the field <code>string</code>, you can use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Example example = new Example();\nField field = example.getClass().getDeclaredField(&quot;string&quot;);\nString string = field.get(example);\n</code></pre>\n<p>If you want to call <code>method</code>, you can use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Example example = new Example();\nMethod method = example.getClass().getDeclaredMethod(&quot;method&quot;, int.class, int.class);\nint value = (int) method.invoke(example, 1, 2);\n</code></pre>\n"}],"owner":{"account_id":14357818,"reputation":213,"user_id":10371141,"display_name":"Dark Rebellion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1684695251,"creation_date":1675064474,"question_id":75281407,"body_markdown":"In JavaScript you can access a property of an object in two ways:\r\n```\r\nobject.property\r\nobject[&quot;property&quot;]\r\n```\r\nIn Java, I am only aware of the first way. Is there a way to access a Java object&#39;s properties by using a string as well?","title":"Is there a way of accessing the properties of an object in java by using a string to represent the property&#39;s name, just like in JavaScript?","body":"<p>In JavaScript you can access a property of an object in two ways:</p>\n<pre><code>object.property\nobject[&quot;property&quot;]\n</code></pre>\n<p>In Java, I am only aware of the first way. Is there a way to access a Java object's properties by using a string as well?</p>\n"},{"tags":["java","string","recursion"],"comments":[{"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"score":0,"creation_date":1684679557,"post_id":76300384,"comment_id":134548973,"body_markdown":"Duplicate words or duplicate characters?","body":"Duplicate words or duplicate characters?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1684679633,"post_id":76300384,"comment_id":134548978,"body_markdown":"We can&#39;t run debugger on code which *doesn&#39;t compile*. Note that there is no *declaration of `i`* variable in your example. There is `idx`.","body":"We can&#39;t run debugger on code which <i>doesn&#39;t compile</i>. Note that there is no <i>declaration of <code>i</code></i> variable in your example. There is <code>idx</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1684679900,"post_id":76300384,"comment_id":134549010,"body_markdown":"Anyway as already mentioned in previous (now deleted) comment, at `DeDupe(s,idx++,s1);` the `idx++` returns original value of `idx`, not incremented one. You need `idx+1` or `++idx` instead.","body":"Anyway as already mentioned in previous (now deleted) comment, at <code>DeDupe(s,idx++,s1);</code> the <code>idx++</code> returns original value of <code>idx</code>, not incremented one. You need <code>idx+1</code> or <code>++idx</code> instead."},{"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"score":0,"creation_date":1684679989,"post_id":76300384,"comment_id":134549023,"body_markdown":"Assuming you want to deduplicate characters: The base case is that a single character is a deduplicated string. In case of 2 or more characters, deduplicate substring 0 to n-2 then check that if character n is contained in the deduplicated substring","body":"Assuming you want to deduplicate characters: The base case is that a single character is a deduplicated string. In case of 2 or more characters, deduplicate substring 0 to n-2 then check that if character n is contained in the deduplicated substring"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684680350,"creation_date":1684680350,"answer_id":76300461,"question_id":76300384,"body_markdown":"You are use the &quot;postfix&quot; unary operator on your recursive call to `DeDupe`.\r\n\r\n```java\r\nDeDupe(s,i++,s1);\r\n```\r\n\r\nSo, essentially, `i` stays at `0`, and loops indefinitely.\r\n\r\nChange it to a &quot;prefix&quot; operator, or just `i + 1`, to get a result.","title":"I am getting stack overflow error in the following code ... not sure what am i missing here?","body":"<p>You are use the &quot;postfix&quot; unary operator on your recursive call to <code>DeDupe</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DeDupe(s,i++,s1);\n</code></pre>\n<p>So, essentially, <code>i</code> stays at <code>0</code>, and loops indefinitely.</p>\n<p>Change it to a &quot;prefix&quot; operator, or just <code>i + 1</code>, to get a result.</p>\n"},{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684682422,"creation_date":1684682422,"answer_id":76300610,"question_id":76300384,"body_markdown":"I see that &quot;DeDupe&quot; method of yours is void,&lt;br&gt;\r\nbut even the String is an object in java,&lt;br&gt;\r\nit is not passed by a reference but as a value,&lt;br&gt;\r\nbecause String is immutable.&lt;br&gt;\r\nAnd after all the processing, no result is produced anyway.","title":"I am getting stack overflow error in the following code ... not sure what am i missing here?","body":"<p>I see that &quot;DeDupe&quot; method of yours is void,<br>\nbut even the String is an object in java,<br>\nit is not passed by a reference but as a value,<br>\nbecause String is immutable.<br>\nAnd after all the processing, no result is produced anyway.</p>\n"}],"owner":{"account_id":20645978,"reputation":11,"user_id":15157488,"display_name":"Yukta Jaiswal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684693906,"creation_date":1684679134,"question_id":76300384,"body_markdown":"\r\n````\r\nimport java.util.Scanner;\r\n\r\npublic class RemoveDuplicates {\r\n\tpublic static boolean ar[]=new boolean[26];\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\tString s=sc.nextLine();\r\n\t\tDeDupe(s,0,&quot;&quot;);\r\n\r\n\t}\r\n\tpublic static void DeDupe(String s,int idx,String s1)\r\n\t{\r\n\t\tif(idx==s.length())\r\n\t\t{\r\n\t\t\tSystem.out.println(s1);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(ar[s.charAt(idx)-&#39;a&#39;]==false)\r\n\t\t{\r\n\t\t\ts1+=s.charAt(idx);\r\n\t\t\t//System.out.print(s1);\r\n\t\t\tar[s.charAt(idx)-&#39;a&#39;]=true;\r\n\t\t}\r\n\t\tDeDupe(s,idx++,s1);\r\n\t}\r\n\r\n}\r\n````\r\n\r\n\r\n\r\n\r\nTrying to solve remove duplicates from string question using recursion... i am getting stack overflow error ..added the base condition not sure what am i missing","title":"I am getting stack overflow error in the following code ... not sure what am i missing here?","body":"<pre><code>import java.util.Scanner;\n\npublic class RemoveDuplicates {\n    public static boolean ar[]=new boolean[26];\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner sc=new Scanner(System.in);\n        String s=sc.nextLine();\n        DeDupe(s,0,&quot;&quot;);\n\n    }\n    public static void DeDupe(String s,int idx,String s1)\n    {\n        if(idx==s.length())\n        {\n            System.out.println(s1);\n            return;\n        }\n        if(ar[s.charAt(idx)-'a']==false)\n        {\n            s1+=s.charAt(idx);\n            //System.out.print(s1);\n            ar[s.charAt(idx)-'a']=true;\n        }\n        DeDupe(s,idx++,s1);\n    }\n\n}\n</code></pre>\n<p>Trying to solve remove duplicates from string question using recursion... i am getting stack overflow error ..added the base condition not sure what am i missing</p>\n"},{"tags":["java","sql","ms-access-2016","callable-statement","dynamic-queries"],"owner":{"account_id":24662153,"reputation":21,"user_id":18558259,"display_name":"AvivAvocado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684693070,"creation_date":1684693070,"question_id":76301311,"body_markdown":"I am trying to execute an append, delete and update query in my java code. I use mc access database and I have the queries prepeared in my database and they work just fine when I execute them from access directly.\r\nAlso, I have a few Select queries that work just fine from the code. The problem occurs only with the update/delete/etc.\r\n\r\nThe following is my Consts class that establishes the connection to the database and the consts that have the queries saved in them:\r\n\r\n```\r\npackage entity;\r\n\r\nimport java.net.URLDecoder;\r\n\r\n///**\r\n //* http://www.javapractices.com/topic/TopicAction.do?Id=2\r\n //*/\r\npublic final class Consts {\r\n\tprivate Consts() {\r\n\t\tthrow new AssertionError();\r\n\t}\r\n\r\n\tprotected static final String DB_FILEPATH = getDBPath();\r\n\tpublic static final String CONN_STR = &quot;jdbc:ucanaccess://&quot; + DB_FILEPATH + &quot;;COLUMNORDER=DISPLAY&quot;;\r\n\t\r\n\t\r\n\t//----------------------------------------- PARTICIPANT LIST QUERIES -----------------------------------------/\r\n\tpublic static final String SQL_SEL_APPROVED_PARTICIPANT = &quot;{ call qryFindApprovedFriends(?) }&quot;;\r\n\tpublic static final String SQL_SEL_WAITING_PARTICIPANT = &quot;{ call qryFindWaitingFriends(?) }&quot;;\r\n\tpublic static final String SQL_UPD_TO_APPROVED_PARTICIPANT = &quot;{ call qryUpdParticipantToApproved(?,?) }&quot;;// think how to find the friend and add to friendList maybe add find qry\r\n\tpublic static final String SQL_UPD_TO_DENIED_PARTICIPANT = &quot;{ call qryUpdParticipantToDenied(?,?) }&quot;;\r\n\tpublic static final String SQL_DEL_FRIEND = &quot;{ call qryDelFriend(?,?) }&quot;;\r\n\tpublic static final String SQL_INS_NEW_FRIEND_REQUEST = &quot;{ call qryInsNewFriend(?,?) }&quot;;\r\n\t\r\n\r\n\t/**\r\n\t * find the correct path of the DB file\r\n     * @return the path of the DB file (from eclipse or with runnable file)\r\n\t */\r\n\tprivate static String getDBPath() {\r\n\t\ttry {\r\n\t\t\tString path = Consts.class.getProtectionDomain().getCodeSource().getLocation().getPath();\r\n\t\t\tString decoded = URLDecoder.decode(path, &quot;UTF-8&quot;);\r\n\t\t\t// System.out.println(decoded) - Can help to check the returned path\r\n\t\t\tif (decoded.contains(&quot;.jar&quot;)) {\r\n\t\t\t\tdecoded = decoded.substring(0, decoded.lastIndexOf(&#39;/&#39;));\r\n\t\t\t\treturn decoded + &quot;/database/HW1_Database_211923158_207975632.accdb&quot;;\r\n\t\t\t} else {\r\n\t\t\t\tdecoded = decoded.substring(0, decoded.lastIndexOf(&quot;bin/&quot;));\r\n\t\t\t\tSystem.out.println(decoded);\r\n\t\t\t\treturn decoded + &quot;//HW1_Database_211923158_207975632.accdb&quot;;\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nNext, I have ParticipantLogic class that actually handels all the callings to the queries. The problem occurs in removeFriend, addFriend methods inside the try block, when the code tries to connect to the related queries in my database and throws this exception: UCAExc:::3.0.7 user lacks privilege or object not found: QRYINSNEWFRIEND.\r\n \r\n```\r\npackage control;\r\nimport entity.Participant;\r\nimport java.sql.CallableStatement;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport entity.Consts;\r\n\r\npublic class ParticipantLogic {\r\n\tprivate static ParticipantLogic _instance;\r\n\r\n\tprivate ParticipantLogic() {\r\n\t}\r\n\r\n\tpublic static ParticipantLogic getInstance() {\r\n\t\tif (_instance == null)\r\n\t\t\t_instance = new ParticipantLogic();\r\n\t\treturn _instance;\r\n\t}\r\n\t// select all approved participant\r\n\t\r\n\tpublic ArrayList&lt;Participant&gt; getApprovedParticipant(long firstPhone) {\r\n\t\tArrayList&lt;Participant&gt; results = new ArrayList&lt;Participant&gt;();\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\tPreparedStatement stmt = conn.prepareStatement(Consts.SQL_SEL_APPROVED_PARTICIPANT))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\tstmt.setLong(1, firstPhone);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tResultSet rs = stmt.executeQuery();\r\n\t\t\t\twhile (rs.next()) {\r\n\t\t\t\t\tint i = 1;\r\n\t\t\t\t\tresults.add(new Participant(rs.getLong(i++), rs.getString(i++), rs.getString(i++)));\r\n\t\t\t\t}\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n\t\r\n\t// select all waiting participant\r\n\t\r\n\tpublic ArrayList&lt;Participant&gt; getWaitingParticipant(Long phone) {\r\n\t\t\tArrayList&lt;Participant&gt; results = new ArrayList&lt;Participant&gt;();\r\n\t\t\ttry {\r\n\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\tPreparedStatement stmt = conn.prepareStatement(Consts.SQL_SEL_WAITING_PARTICIPANT))\r\n\t\t\t\t\t\t\t\t{\t\t\t\t\t\t\r\n\t\t\t\t\t\tstmt.setLong(1, phone);\r\n\t\t\t\t\t\tResultSet rs = stmt.executeQuery(); \r\n\t\t\t\t\twhile (rs.next()) {\r\n\t\t\t\t\t\tint i = 1;\r\n\t\t\t\t\t\tresults.add(new Participant(rs.getLong(i++), rs.getString(i++), rs.getString(i++)));\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn results;\r\n\t\t}\r\n\t\t//delete friend \r\n\t\t\r\n\t\tpublic boolean removeFriend(long firstPhone,long secondphone) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\t\t\tCallableStatement stmt = conn.prepareCall(Consts.SQL_DEL_FRIEND)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tstmt.setLong(1, firstPhone);\r\n\t\t\t\t\t\t\tstmt.setLong(2, secondphone);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tstmt.executeUpdate();\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t// new friend request\r\n\t\tpublic boolean addFriend(long firstPhone,long secondphone) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tSystem.out.println(&quot;test1&quot;);\r\n\t\t\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\t\t\tCallableStatement stmt = conn.prepareCall(Consts.SQL_INS_NEW_FRIEND_REQUEST)) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;test2&quot;);\r\n\t\t\t\t\t\t\tint i = 1;\r\n\t\t\t\t\t\t\tstmt.setLong(i++, firstPhone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setLong(i++, secondphone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.executeUpdate();\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;test3&quot;);\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t//accept friend \r\n\t\tpublic boolean acceptFriend(long firstPhone,long secondphone ) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\t\t\tCallableStatement stmt = conn.prepareCall(Consts.SQL_UPD_TO_APPROVED_PARTICIPANT)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tint i = 1;\r\n\t\t\t\t\t\t\tstmt.setLong(i++, firstPhone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setLong(i++, secondphone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setString(i++, &quot;APPROVED&quot;);\r\n\t\t\t\t\t\t\tstmt.executeUpdate();\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t//decline friend \r\n\t\tpublic boolean declineFriend(long firstPhone,long secondphone ) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\t\t\tCallableStatement stmt = conn.prepareCall(Consts. SQL_UPD_TO_DENIED_PARTICIPANT)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tint i = 1;\r\n\t\t\t\t\t\t\tstmt.setLong(i++, firstPhone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setLong(i++, secondphone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setString(i++, &quot;DENIED&quot;);\r\n\t\t\t\t\t\t\tstmt.executeUpdate();\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\t\r\n\r\n}\r\n```\r\nAlso, I don&#39;t know if this helps but here are the SQL for the queries:\r\nqryInsNewFriend:\r\n\r\n```\r\nINSERT INTO TblFriends ( ParticipantPhone, FriendPhone, Status )\r\nSELECT [1] AS Expr1, [2] AS Expr2, &quot;WAITING&quot; AS Expr3;\r\n\r\n```\r\nqryDelFriend:\r\n\r\n```\r\nDELETE TblFriends.ParticipantPhone, TblFriends.FriendPhone\r\nFROM TblFriends\r\nWHERE (((TblFriends.ParticipantPhone)=[1]) AND ((TblFriends.FriendPhone)=[2]));\r\n\r\n```\r\nI tried to check my security options and everything is fine. I tried to repair my database, also I created a new database with the same entries and connected that database to the code to see if the problem occurs again and it did. I tested this on a different computer and this happend again. I tried to change Callable to PrepearedStatement and it didn&#39;t work. Moreover, this code snnipet inside ParticipantLogic was given to us by our instructors in uni and other students used this same code with minor changes to variable names and everything worked fine for them. I can&#39;t find a reason for this code to not work.\r\nAlso, I didn&#39;t test the other two update queries but I assume they have the same problem as it seems it has something to do with the query type.\r\n\r\nThanks from advance.","title":"UCAExc:::3.0.7 user lacks privilege or object not found, when trying to execute specifically update/delete/append queries","body":"<p>I am trying to execute an append, delete and update query in my java code. I use mc access database and I have the queries prepeared in my database and they work just fine when I execute them from access directly.\nAlso, I have a few Select queries that work just fine from the code. The problem occurs only with the update/delete/etc.</p>\n<p>The following is my Consts class that establishes the connection to the database and the consts that have the queries saved in them:</p>\n<pre><code>package entity;\n\nimport java.net.URLDecoder;\n\n///**\n //* http://www.javapractices.com/topic/TopicAction.do?Id=2\n //*/\npublic final class Consts {\n    private Consts() {\n        throw new AssertionError();\n    }\n\n    protected static final String DB_FILEPATH = getDBPath();\n    public static final String CONN_STR = &quot;jdbc:ucanaccess://&quot; + DB_FILEPATH + &quot;;COLUMNORDER=DISPLAY&quot;;\n    \n    \n    //----------------------------------------- PARTICIPANT LIST QUERIES -----------------------------------------/\n    public static final String SQL_SEL_APPROVED_PARTICIPANT = &quot;{ call qryFindApprovedFriends(?) }&quot;;\n    public static final String SQL_SEL_WAITING_PARTICIPANT = &quot;{ call qryFindWaitingFriends(?) }&quot;;\n    public static final String SQL_UPD_TO_APPROVED_PARTICIPANT = &quot;{ call qryUpdParticipantToApproved(?,?) }&quot;;// think how to find the friend and add to friendList maybe add find qry\n    public static final String SQL_UPD_TO_DENIED_PARTICIPANT = &quot;{ call qryUpdParticipantToDenied(?,?) }&quot;;\n    public static final String SQL_DEL_FRIEND = &quot;{ call qryDelFriend(?,?) }&quot;;\n    public static final String SQL_INS_NEW_FRIEND_REQUEST = &quot;{ call qryInsNewFriend(?,?) }&quot;;\n    \n\n    /**\n     * find the correct path of the DB file\n     * @return the path of the DB file (from eclipse or with runnable file)\n     */\n    private static String getDBPath() {\n        try {\n            String path = Consts.class.getProtectionDomain().getCodeSource().getLocation().getPath();\n            String decoded = URLDecoder.decode(path, &quot;UTF-8&quot;);\n            // System.out.println(decoded) - Can help to check the returned path\n            if (decoded.contains(&quot;.jar&quot;)) {\n                decoded = decoded.substring(0, decoded.lastIndexOf('/'));\n                return decoded + &quot;/database/HW1_Database_211923158_207975632.accdb&quot;;\n            } else {\n                decoded = decoded.substring(0, decoded.lastIndexOf(&quot;bin/&quot;));\n                System.out.println(decoded);\n                return decoded + &quot;//HW1_Database_211923158_207975632.accdb&quot;;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>Next, I have ParticipantLogic class that actually handels all the callings to the queries. The problem occurs in removeFriend, addFriend methods inside the try block, when the code tries to connect to the related queries in my database and throws this exception: UCAExc:::3.0.7 user lacks privilege or object not found: QRYINSNEWFRIEND.</p>\n<pre><code>package control;\nimport entity.Participant;\nimport java.sql.CallableStatement;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport entity.Consts;\n\npublic class ParticipantLogic {\n    private static ParticipantLogic _instance;\n\n    private ParticipantLogic() {\n    }\n\n    public static ParticipantLogic getInstance() {\n        if (_instance == null)\n            _instance = new ParticipantLogic();\n        return _instance;\n    }\n    // select all approved participant\n    \n    public ArrayList&lt;Participant&gt; getApprovedParticipant(long firstPhone) {\n        ArrayList&lt;Participant&gt; results = new ArrayList&lt;Participant&gt;();\n        try {\n            Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n            try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                    PreparedStatement stmt = conn.prepareStatement(Consts.SQL_SEL_APPROVED_PARTICIPANT))\n                            {\n                    stmt.setLong(1, firstPhone);\n                    \n                    \n                    ResultSet rs = stmt.executeQuery();\n                while (rs.next()) {\n                    int i = 1;\n                    results.add(new Participant(rs.getLong(i++), rs.getString(i++), rs.getString(i++)));\n                }\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n        return results;\n    }\n    \n    // select all waiting participant\n    \n    public ArrayList&lt;Participant&gt; getWaitingParticipant(Long phone) {\n            ArrayList&lt;Participant&gt; results = new ArrayList&lt;Participant&gt;();\n            try {\n                Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                        PreparedStatement stmt = conn.prepareStatement(Consts.SQL_SEL_WAITING_PARTICIPANT))\n                                {                       \n                        stmt.setLong(1, phone);\n                        ResultSet rs = stmt.executeQuery(); \n                    while (rs.next()) {\n                        int i = 1;\n                        results.add(new Participant(rs.getLong(i++), rs.getString(i++), rs.getString(i++)));\n                    }\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            }\n            return results;\n        }\n        //delete friend \n        \n        public boolean removeFriend(long firstPhone,long secondphone) {\n                    try {\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts.SQL_DEL_FRIEND)) {\n                            \n                            stmt.setLong(1, firstPhone);\n                            stmt.setLong(2, secondphone);\n                        \n                            stmt.executeUpdate();\n                            return true;\n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }\n        // new friend request\n        public boolean addFriend(long firstPhone,long secondphone) {\n                    try {\n                        System.out.println(&quot;test1&quot;);\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts.SQL_INS_NEW_FRIEND_REQUEST)) {\n                            System.out.println(&quot;test2&quot;);\n                            int i = 1;\n                            stmt.setLong(i++, firstPhone); // can't be null\n                            stmt.setLong(i++, secondphone); // can't be null\n                            stmt.executeUpdate();\n                            System.out.println(&quot;test3&quot;);\n                            return true;\n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }\n                \n                \n                \n        //accept friend \n        public boolean acceptFriend(long firstPhone,long secondphone ) {\n                    try {\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts.SQL_UPD_TO_APPROVED_PARTICIPANT)) {\n                            \n                            int i = 1;\n                            stmt.setLong(i++, firstPhone); // can't be null\n                            stmt.setLong(i++, secondphone); // can't be null\n                            stmt.setString(i++, &quot;APPROVED&quot;);\n                            stmt.executeUpdate();\n                            return true;\n                            \n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }\n        //decline friend \n        public boolean declineFriend(long firstPhone,long secondphone ) {\n                    try {\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts. SQL_UPD_TO_DENIED_PARTICIPANT)) {\n                            \n                            int i = 1;\n                            stmt.setLong(i++, firstPhone); // can't be null\n                            stmt.setLong(i++, secondphone); // can't be null\n                            stmt.setString(i++, &quot;DENIED&quot;);\n                            stmt.executeUpdate();\n                            return true;\n                            \n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }   \n\n}\n</code></pre>\n<p>Also, I don't know if this helps but here are the SQL for the queries:\nqryInsNewFriend:</p>\n<pre><code>INSERT INTO TblFriends ( ParticipantPhone, FriendPhone, Status )\nSELECT [1] AS Expr1, [2] AS Expr2, &quot;WAITING&quot; AS Expr3;\n\n</code></pre>\n<p>qryDelFriend:</p>\n<pre><code>DELETE TblFriends.ParticipantPhone, TblFriends.FriendPhone\nFROM TblFriends\nWHERE (((TblFriends.ParticipantPhone)=[1]) AND ((TblFriends.FriendPhone)=[2]));\n\n</code></pre>\n<p>I tried to check my security options and everything is fine. I tried to repair my database, also I created a new database with the same entries and connected that database to the code to see if the problem occurs again and it did. I tested this on a different computer and this happend again. I tried to change Callable to PrepearedStatement and it didn't work. Moreover, this code snnipet inside ParticipantLogic was given to us by our instructors in uni and other students used this same code with minor changes to variable names and everything worked fine for them. I can't find a reason for this code to not work.\nAlso, I didn't test the other two update queries but I assume they have the same problem as it seems it has something to do with the query type.</p>\n<p>Thanks from advance.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":106337,"reputation":30941,"user_id":283311,"accept_rate":76,"display_name":"Ken"},"score":0,"creation_date":1315544233,"post_id":1407442,"comment_id":8877149,"body_markdown":"&quot;what options do we have in querying and displaying tens of thousands of rows of data in Android?&quot; --&gt; eh? I can&#39;t even think why you might want to do that.","body":"&quot;what options do we have in querying and displaying tens of thousands of rows of data in Android?&quot; --&gt; eh? I can&#39;t even think why you might want to do that."},{"owner":{"account_id":11037,"reputation":12285,"user_id":21126,"accept_rate":76,"display_name":"MattC"},"score":1,"creation_date":1315578827,"post_id":1407442,"comment_id":8885308,"body_markdown":"@SK9 This was for porting a medical reference app from iPhone to Android. They literally had tens of thousands of records in these SQLite databases. Any sane person would start entering a search term to narrow down the list but the iPhone app supported manually scrolling through all of the data perfectly fine too. Thus they expected the Android app to behave the same way.","body":"@SK9 This was for porting a medical reference app from iPhone to Android. They literally had tens of thousands of records in these SQLite databases. Any sane person would start entering a search term to narrow down the list but the iPhone app supported manually scrolling through all of the data perfectly fine too. Thus they expected the Android app to behave the same way."},{"owner":{"account_id":99023,"reputation":7906,"user_id":267702,"accept_rate":61,"display_name":"gonzobrains"},"score":0,"creation_date":1405092216,"post_id":1407442,"comment_id":38305170,"body_markdown":"I have a similar requirement.  One would be amazed at how many organizations use specialized apps in this manner.","body":"I have a similar requirement.  One would be amazed at how many organizations use specialized apps in this manner."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1252623059,"creation_date":1252623059,"answer_id":1408132,"question_id":1407442,"body_markdown":"&gt; what options do we have in querying\r\n&gt; and displaying tens of thousands of\r\n&gt; rows of data in Android?\r\n\r\nYou mean besides telling you that reading 20,000+ rows on a 3.5&quot; LCD is bat-guano crazy? ;-)\r\n\r\nIt looks like `CursorWindow`, which is used somewhere under the covers, is having issues managing &gt;17,000 rows. That could be one of two things:\r\n\r\n 1. You are out of heap space. With a 16MB non-compacting heap, and the fact that a `Cursor` holds the entire result set in the heap, that is not out of the question.\r\n 2. `CursorWindow` only supports 1MB of data, which is what the error message suggests more directly.\r\n\r\nIf there is a logical way to divide your queries into discrete chunks, you could do incremental queries and use `CursorJoiner` to stitch them together, and see if that helps.\r\n\r\nBut, in all seriousness, 20,000+ rows in a 3.5&quot; screen, on a device that most closely resembles a 12-year-old PC in horsepower, is really asking a lot.","title":"Android SQLite and huge data sets","body":"<blockquote>\n  <p>what options do we have in querying\n  and displaying tens of thousands of\n  rows of data in Android?</p>\n</blockquote>\n\n<p>You mean besides telling you that reading 20,000+ rows on a 3.5\" LCD is bat-guano crazy? ;-)</p>\n\n<p>It looks like <code>CursorWindow</code>, which is used somewhere under the covers, is having issues managing >17,000 rows. That could be one of two things:</p>\n\n<ol>\n<li>You are out of heap space. With a 16MB non-compacting heap, and the fact that a <code>Cursor</code> holds the entire result set in the heap, that is not out of the question.</li>\n<li><code>CursorWindow</code> only supports 1MB of data, which is what the error message suggests more directly.</li>\n</ol>\n\n<p>If there is a logical way to divide your queries into discrete chunks, you could do incremental queries and use <code>CursorJoiner</code> to stitch them together, and see if that helps.</p>\n\n<p>But, in all seriousness, 20,000+ rows in a 3.5\" screen, on a device that most closely resembles a 12-year-old PC in horsepower, is really asking a lot.</p>\n"},{"tags":[],"owner":{"account_id":454784,"reputation":3086,"user_id":852582,"accept_rate":91,"display_name":"Aurelian Cotuna"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1332832802,"creation_date":1332832802,"answer_id":9884965,"question_id":1407442,"body_markdown":"If you really need that you can also split your data and read chunks like this:\r\n\r\n       int limit = 0;\r\n       while (limit + 100 &lt; numberOfRows) {\r\n           //Compose the statement\r\n           String statement = &quot;SELECT * FROM Table ORDER someField LIMIT &#39;&quot;+ limit+&quot;&#39;, 100&quot;;\r\n           //Execute the query\r\n           Cursor cursor = myDataBase.rawQuery(statement, null);\r\n           while (cursor.moveToNext()) {\r\n               Product product = new Product();\r\n               product.setAllValuesFromCursor(cursor);\r\n               productsArrayList.add(product);\r\n          }\r\n          cursor.close();\r\n          limit += 100;\r\n     }\r\n                    \r\n     //Compose the statement\r\n     String statement = &quot;SELECT * FROM Table ORDER someField LIMIT &#39;&quot;+  (numberOfRows - limit)+&quot;&#39;, 100&quot;;\r\n     //Execute the query\r\n     Cursor cursor = myDataBase.rawQuery(statement, null);\r\n\r\n     while (cursor.moveToNext()) {\r\n         Product product = new Product();\r\n         product.setAllValuesFromCursor(cursor);\r\n         productsArrayList.add(product);\r\n     }\r\n     cursor.close();\r\n\r\nIt&#39;s working under 2 s for 5k rows if you have indexed table.\r\n\r\nThanks,\r\nArkde","title":"Android SQLite and huge data sets","body":"<p>If you really need that you can also split your data and read chunks like this:</p>\n\n<pre><code>   int limit = 0;\n   while (limit + 100 &lt; numberOfRows) {\n       //Compose the statement\n       String statement = \"SELECT * FROM Table ORDER someField LIMIT '\"+ limit+\"', 100\";\n       //Execute the query\n       Cursor cursor = myDataBase.rawQuery(statement, null);\n       while (cursor.moveToNext()) {\n           Product product = new Product();\n           product.setAllValuesFromCursor(cursor);\n           productsArrayList.add(product);\n      }\n      cursor.close();\n      limit += 100;\n }\n\n //Compose the statement\n String statement = \"SELECT * FROM Table ORDER someField LIMIT '\"+  (numberOfRows - limit)+\"', 100\";\n //Execute the query\n Cursor cursor = myDataBase.rawQuery(statement, null);\n\n while (cursor.moveToNext()) {\n     Product product = new Product();\n     product.setAllValuesFromCursor(cursor);\n     productsArrayList.add(product);\n }\n cursor.close();\n</code></pre>\n\n<p>It's working under 2 s for 5k rows if you have indexed table.</p>\n\n<p>Thanks,\nArkde</p>\n"},{"tags":[],"owner":{"account_id":2036295,"reputation":1106,"user_id":2476537,"accept_rate":41,"display_name":"John61590"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463437003,"creation_date":1374105344,"answer_id":17712265,"question_id":1407442,"body_markdown":"In my experience, limiting queries makes it take a lot longer to get results because starting new cursors is expensive for low limits. I tried doing 62k rows with 1k and even 10k limit just now and it is very slow and unusable since I have to start more than 6 cursors. I&#39;ll just stick with not supporting 2.3.3.... It is the latest build that I get CursorWindow ERROR instead of WARN.\r\n\r\nHere is what I did though. This is probably the best algorithm I think. Don&#39;t have to do queries twice etc. However, it can get pretty slow with big queries and small limits so you have to test out what works best a lot. In my case, it&#39;s not fast enough for my purposes since it doesn&#39;t handle 62k rows well.\r\n\r\n    int cursorCount = 0;\r\n    int limit = 1000; //whatever you want\r\n    while (true)\r\n    {\r\n        Cursor cursor = builder.query(mDatabaseHelper.getReadableDatabase(), columns, selection, selectionArgs, null, null, null, Integer.toString(limit));\r\n        if (cursor == null) {\r\n            return null;\r\n        } else if (!cursor.moveToFirst()) { //if it is empty, return null\r\n            return null;\r\n        }\r\n        cursorCount = cursor.getCount();\r\n        if (cursorCount % limit != 0)\r\n        {\r\n            return cursor;\r\n        }\r\n        limit+=1000; //same amount as the one above\r\n    } ","title":"Android SQLite and huge data sets","body":"<p>In my experience, limiting queries makes it take a lot longer to get results because starting new cursors is expensive for low limits. I tried doing 62k rows with 1k and even 10k limit just now and it is very slow and unusable since I have to start more than 6 cursors. I'll just stick with not supporting 2.3.3.... It is the latest build that I get CursorWindow ERROR instead of WARN.</p>\n\n<p>Here is what I did though. This is probably the best algorithm I think. Don't have to do queries twice etc. However, it can get pretty slow with big queries and small limits so you have to test out what works best a lot. In my case, it's not fast enough for my purposes since it doesn't handle 62k rows well.</p>\n\n<pre><code>int cursorCount = 0;\nint limit = 1000; //whatever you want\nwhile (true)\n{\n    Cursor cursor = builder.query(mDatabaseHelper.getReadableDatabase(), columns, selection, selectionArgs, null, null, null, Integer.toString(limit));\n    if (cursor == null) {\n        return null;\n    } else if (!cursor.moveToFirst()) { //if it is empty, return null\n        return null;\n    }\n    cursorCount = cursor.getCount();\n    if (cursorCount % limit != 0)\n    {\n        return cursor;\n    }\n    limit+=1000; //same amount as the one above\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":28648910,"reputation":11,"user_id":21936289,"display_name":"Payman Hamrahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684692638,"creation_date":1684692638,"answer_id":76301279,"question_id":1407442,"body_markdown":"When cursor.getCount(); is an empty cursor, it will return 0 and the modulus operation `cursorCount % limit` will throw a `java.lang.ArithmeticException: divide by zero` error. Here are the updated codes:\r\n\r\n        int cursorCount = 0;\r\n        int limit = 1000; //whatever you want\r\n\r\n        while (true) {\r\n\r\n            //add codes for executing database query\r\n\r\n            cursorCount = cursor.getCount();\r\n            if (cursorCount &gt; 0 &amp;&amp; cursorCount % limit != 0) {\r\n                return cursor;\r\n            }\r\n            limit += 1000; //same amount as the one above\r\n\r\n            if (cursorCount == 0) {\r\n                cursor.close(); // close the cursor if it&#39;s empty\r\n                return null; // return null to indicate no suggestion found\r\n            }\r\n        }","title":"Android SQLite and huge data sets","body":"<p>When cursor.getCount(); is an empty cursor, it will return 0 and the modulus operation <code>cursorCount % limit</code> will throw a <code>java.lang.ArithmeticException: divide by zero</code> error. Here are the updated codes:</p>\n<pre><code>    int cursorCount = 0;\n    int limit = 1000; //whatever you want\n\n    while (true) {\n\n        //add codes for executing database query\n\n        cursorCount = cursor.getCount();\n        if (cursorCount &gt; 0 &amp;&amp; cursorCount % limit != 0) {\n            return cursor;\n        }\n        limit += 1000; //same amount as the one above\n\n        if (cursorCount == 0) {\n            cursor.close(); // close the cursor if it's empty\n            return null; // return null to indicate no suggestion found\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11037,"reputation":12285,"user_id":21126,"accept_rate":76,"display_name":"MattC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25476,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":1408132,"answer_count":4,"score":23,"last_activity_date":1684692638,"creation_date":1252613307,"question_id":1407442,"body_markdown":"We are creating an app for a client that has hundreds of megabytes of HTML in SQLite databases. We have implemented a way to query this data and scroll through it all in a reasonably fast manner. The issue is that some of the databases have very large queries (20,000+ rows) and we are seeing errors when we are growing the queries as the user is scrolling. So I guess the question is, what options do we have in querying and displaying tens of thousands of rows of data in Android?\r\n\r\nHere is the stacktrace we&#39;re seeing:\r\n\r\n    09-10 19:19:12.575: WARN/IInputConnectionWrapper(640): showStatusIcon on inactive InputConnection\r\n    09-10 19:19:18.226: DEBUG/dalvikvm(640): GC freed 446 objects / 16784 bytes in 330ms\r\n    09-10 19:19:32.886: ERROR/CursorWindow(19416): need to grow: mSize = 1048576, size = 36, freeSpace() = 30, numRows = 17717\r\n    09-10 19:19:32.896: ERROR/CursorWindow(19416): not growing since there are already 17717 row(s), max size 1048576\r\n    09-10 19:19:32.916: ERROR/CursorWindow(19416): The row failed, so back out the new row accounting from allocRowSlot 17716\r\n    09-10 19:19:33.005: ERROR/Cursor(19416): Failed allocating fieldDir at startPos 0 row 17716\r\n    09-10 19:19:35.596: DEBUG/Cursor(19416): finish_program_and_get_row_count row 24315\r\n    09-10 19:19:41.545: DEBUG/dalvikvm(698): GC freed 2288 objects / 126080 bytes in 260ms\r\n    09-10 19:19:43.705: WARN/KeyCharacterMap(19416): No keyboard for id 0\r\n    09-10 19:19:43.717: WARN/KeyCharacterMap(19416): Using default keymap: /system/usr/keychars/qwerty.kcm.bin\r\n    09-10 19:20:04.705: ERROR/CursorWindow(19416): need to grow: mSize = 1048576, size = 17, freeSpace() = 3, numRows = 17094\r\n    09-10 19:20:04.716: ERROR/CursorWindow(19416): not growing since there are already 17094 row(s), max size 1048576\r\n    09-10 19:20:04.726: ERROR/Cursor(19416): Failed allocating 17 bytes for text/blob at 17093,2\r\n    09-10 19:20:05.656: DEBUG/Cursor(19416): finish_program_and_get_row_count row 5257\r\n    09-10 19:24:54.685: DEBUG/dalvikvm(637): GC freed 9297 objects / 524176 bytes in 247ms\r\n    09-10 19:32:07.656: DEBUG/dalvikvm(19416): GC freed 9035 objects / 495840 bytes in 199ms\r\n\r\nHere is our CursorAdapter code:\r\n\r\n        private class MyAdapter extends ResourceCursorAdapter {\r\n\r\n        public MyAdapter(Context context, Cursor cursor) {\r\n            super(context, R.layout.my_row, cursor);        \r\n        }\r\n\r\n        public void bindView(View view, Context context, Cursor cursor) {                \r\n            RowData data = new RowData();\r\n            data.setName(cursor.getInt(cursor.getColumnIndex(&quot;name&quot;)));\r\n\r\n            TextView tvItemText = (TextView)view.findViewById(R.id.tvItemText);\r\n            tvItemText.setText(data.getName());\r\n\r\n            view.setTag(data);\r\n        }\r\n\r\n        @Override\r\n        public Cursor runQueryOnBackgroundThread(CharSequence constraint) {\r\n            /* Display the progress indicator */\r\n            updateHandler.post(onFilterStart);\r\n\r\n            /* Run the actual query */               \r\n            if (constraint == null) {\r\n                return myDbObject.getData(null);                     \r\n            }\r\n\r\n            return myDbObject.getData(constraint.toString());                \r\n        }            \r\n    }\r\n\r\n","title":"Android SQLite and huge data sets","body":"<p>We are creating an app for a client that has hundreds of megabytes of HTML in SQLite databases. We have implemented a way to query this data and scroll through it all in a reasonably fast manner. The issue is that some of the databases have very large queries (20,000+ rows) and we are seeing errors when we are growing the queries as the user is scrolling. So I guess the question is, what options do we have in querying and displaying tens of thousands of rows of data in Android?</p>\n\n<p>Here is the stacktrace we're seeing:</p>\n\n<pre><code>09-10 19:19:12.575: WARN/IInputConnectionWrapper(640): showStatusIcon on inactive InputConnection\n09-10 19:19:18.226: DEBUG/dalvikvm(640): GC freed 446 objects / 16784 bytes in 330ms\n09-10 19:19:32.886: ERROR/CursorWindow(19416): need to grow: mSize = 1048576, size = 36, freeSpace() = 30, numRows = 17717\n09-10 19:19:32.896: ERROR/CursorWindow(19416): not growing since there are already 17717 row(s), max size 1048576\n09-10 19:19:32.916: ERROR/CursorWindow(19416): The row failed, so back out the new row accounting from allocRowSlot 17716\n09-10 19:19:33.005: ERROR/Cursor(19416): Failed allocating fieldDir at startPos 0 row 17716\n09-10 19:19:35.596: DEBUG/Cursor(19416): finish_program_and_get_row_count row 24315\n09-10 19:19:41.545: DEBUG/dalvikvm(698): GC freed 2288 objects / 126080 bytes in 260ms\n09-10 19:19:43.705: WARN/KeyCharacterMap(19416): No keyboard for id 0\n09-10 19:19:43.717: WARN/KeyCharacterMap(19416): Using default keymap: /system/usr/keychars/qwerty.kcm.bin\n09-10 19:20:04.705: ERROR/CursorWindow(19416): need to grow: mSize = 1048576, size = 17, freeSpace() = 3, numRows = 17094\n09-10 19:20:04.716: ERROR/CursorWindow(19416): not growing since there are already 17094 row(s), max size 1048576\n09-10 19:20:04.726: ERROR/Cursor(19416): Failed allocating 17 bytes for text/blob at 17093,2\n09-10 19:20:05.656: DEBUG/Cursor(19416): finish_program_and_get_row_count row 5257\n09-10 19:24:54.685: DEBUG/dalvikvm(637): GC freed 9297 objects / 524176 bytes in 247ms\n09-10 19:32:07.656: DEBUG/dalvikvm(19416): GC freed 9035 objects / 495840 bytes in 199ms\n</code></pre>\n\n<p>Here is our CursorAdapter code:</p>\n\n<pre><code>    private class MyAdapter extends ResourceCursorAdapter {\n\n    public MyAdapter(Context context, Cursor cursor) {\n        super(context, R.layout.my_row, cursor);        \n    }\n\n    public void bindView(View view, Context context, Cursor cursor) {                \n        RowData data = new RowData();\n        data.setName(cursor.getInt(cursor.getColumnIndex(\"name\")));\n\n        TextView tvItemText = (TextView)view.findViewById(R.id.tvItemText);\n        tvItemText.setText(data.getName());\n\n        view.setTag(data);\n    }\n\n    @Override\n    public Cursor runQueryOnBackgroundThread(CharSequence constraint) {\n        /* Display the progress indicator */\n        updateHandler.post(onFilterStart);\n\n        /* Run the actual query */               \n        if (constraint == null) {\n            return myDbObject.getData(null);                     \n        }\n\n        return myDbObject.getData(constraint.toString());                \n    }            \n}\n</code></pre>\n"},{"tags":["java","spring","aop","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1489230205,"post_id":42733826,"comment_id":72587022,"body_markdown":"`inTry()` always throws an exception. Does that make any sense?","body":"<code>inTry()</code> always throws an exception. Does that make any sense?"},{"owner":{"account_id":1133457,"reputation":85,"user_id":1119003,"display_name":"George Zalizko"},"score":0,"creation_date":1489231325,"post_id":42733826,"comment_id":72587294,"body_markdown":"It&#39;s just for example. I have real project, where it needed. In case when some external resource is unavailable need to implement &#39;retry&#39; functionality.","body":"It&#39;s just for example. I have real project, where it needed. In case when some external resource is unavailable need to implement &#39;retry&#39; functionality."}],"answers":[{"tags":[],"owner":{"account_id":10344759,"reputation":672,"user_id":7630061,"display_name":"Matthias Danetzky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489228558,"creation_date":1489228558,"answer_id":42734123,"question_id":42733826,"body_markdown":"I&#39;ve had a similar problem and I managed to solve it using AspectJ:\r\n\r\nhttps://github.com/mdanetzky/tour-of-heroes-java\r\n\r\nAlso - it took me some time to find out, that my IDEA didn&#39;t rebuild aspects properly, so it might be worth trying to clean/rebuild the project before you try some more drastic measures.","title":"Spring AOP: aspect @Around doesn&#39;t work","body":"<p>I've had a similar problem and I managed to solve it using AspectJ:</p>\n\n<p><a href=\"https://github.com/mdanetzky/tour-of-heroes-java\" rel=\"nofollow noreferrer\">https://github.com/mdanetzky/tour-of-heroes-java</a></p>\n\n<p>Also - it took me some time to find out, that my IDEA didn't rebuild aspects properly, so it might be worth trying to clean/rebuild the project before you try some more drastic measures.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1489246403,"creation_date":1489236904,"answer_id":42735463,"question_id":42733826,"body_markdown":"You made a typical Spring AOP beginners&#39; mistake: You forgot that proxy-based AOP only works if proxy methods are called from outside, not via `this` (avoiding the proxy). But the internal call `inTry()` is the same as `this.inTry()`. Thus, the aspect never triggers for `inTry` and you have to rearrange your code like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package spring.aop;\r\n    \r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    @RestController(&quot;/&quot;)\r\n    public class HomeController {\r\n    \r\n        static int counter = 0;\r\n    \r\n        @RequestMapping\r\n        @RetryOnFailure(attempts = 3, delay = 2, unit = TimeUnit.SECONDS)\r\n        public String index() {\r\n            throw new RuntimeException(&quot;Exception in try &quot; + ++counter);\r\n        }\r\n    }\r\n\r\nI also changed the aspect a little bit so as to\r\n\r\n* avoid reflection and bind the annotation to an advice parameter directly via `@annotation()`,\r\n* log the joinpoint when the advice is triggered and\r\n* return &quot;OK&quot; on try #3 (just for fun, not necessary).\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package spring.aop;\r\n    \r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Aspect\r\n    @Component\r\n    public final class MethodRepeater {\r\n    \r\n        @Around(&quot;execution(* spring.aop..*(..)) &amp;&amp; @annotation(retryOnFailure)&quot;)\r\n        public Object wrap(final ProceedingJoinPoint joinPoint, RetryOnFailure retryOnFailure) throws Throwable {\r\n            System.out.println(joinPoint);\r\n            return proceed(joinPoint, retryOnFailure);\r\n        }\r\n    \r\n        private Object proceed(ProceedingJoinPoint joinPoint, RetryOnFailure retryOnFailure) throws Throwable {\r\n            int attempt = 1;\r\n            while (true) {\r\n                try {\r\n                    return joinPoint.proceed();\r\n                } catch (final Throwable ex) {\r\n                    System.out.println(&quot;Try #&quot; + attempt + &quot; failed: &quot; + ex);\r\n                    if (++attempt &gt;= retryOnFailure.attempts())\r\n                        return &quot;OK&quot;;\r\n                    if (retryOnFailure.delay() &gt; 0L)\r\n                        retryOnFailure.unit().sleep(retryOnFailure.delay());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nNow it works and the console log says:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    execution(String spring.aop.HomeController.index())\r\n    Try #1 failed: java.lang.RuntimeException: Exception in try 1\r\n    Try #2 failed: java.lang.RuntimeException: Exception in try 2\r\n","title":"Spring AOP: aspect @Around doesn&#39;t work","body":"<p>You made a typical Spring AOP beginners' mistake: You forgot that proxy-based AOP only works if proxy methods are called from outside, not via <code>this</code> (avoiding the proxy). But the internal call <code>inTry()</code> is the same as <code>this.inTry()</code>. Thus, the aspect never triggers for <code>inTry</code> and you have to rearrange your code like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package spring.aop;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.concurrent.TimeUnit;\n\n@RestController(\"/\")\npublic class HomeController {\n\n    static int counter = 0;\n\n    @RequestMapping\n    @RetryOnFailure(attempts = 3, delay = 2, unit = TimeUnit.SECONDS)\n    public String index() {\n        throw new RuntimeException(\"Exception in try \" + ++counter);\n    }\n}\n</code></pre>\n\n<p>I also changed the aspect a little bit so as to</p>\n\n<ul>\n<li>avoid reflection and bind the annotation to an advice parameter directly via <code>@annotation()</code>,</li>\n<li>log the joinpoint when the advice is triggered and</li>\n<li>return \"OK\" on try #3 (just for fun, not necessary).</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>package spring.aop;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic final class MethodRepeater {\n\n    @Around(\"execution(* spring.aop..*(..)) &amp;&amp; @annotation(retryOnFailure)\")\n    public Object wrap(final ProceedingJoinPoint joinPoint, RetryOnFailure retryOnFailure) throws Throwable {\n        System.out.println(joinPoint);\n        return proceed(joinPoint, retryOnFailure);\n    }\n\n    private Object proceed(ProceedingJoinPoint joinPoint, RetryOnFailure retryOnFailure) throws Throwable {\n        int attempt = 1;\n        while (true) {\n            try {\n                return joinPoint.proceed();\n            } catch (final Throwable ex) {\n                System.out.println(\"Try #\" + attempt + \" failed: \" + ex);\n                if (++attempt &gt;= retryOnFailure.attempts())\n                    return \"OK\";\n                if (retryOnFailure.delay() &gt; 0L)\n                    retryOnFailure.unit().sleep(retryOnFailure.delay());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Now it works and the console log says:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>execution(String spring.aop.HomeController.index())\nTry #1 failed: java.lang.RuntimeException: Exception in try 1\nTry #2 failed: java.lang.RuntimeException: Exception in try 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684691408,"creation_date":1684691408,"answer_id":76301195,"question_id":42733826,"body_markdown":"**5/2023** `for AspectJ`\r\n\r\n  MyApplication.java\r\n    \r\n\r\n    @SpringBootApplication\r\n    public class AopjApplication {\r\n\t  public static void main(String[] args) {\r\n\t\tConfigurableApplicationContext cntx = SpringApplication.run(AopjApplication.class, args);\r\n\t\tA a=cntx.getBean(A.class);\r\n\t\ta.chirp();\t\t\r\n\t  }\r\n    }\r\nadding AspectJ to *build.gradle*\r\n\r\n    \r\n    dependencies {\r\n\t  implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\t  implementation &#39;org.aspectj:aspectjweaver:1.9.19&#39;  //currently last version\r\n\t  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n\r\nA.java :\r\n\r\n    public class A {\r\n      public void chirp() {\r\n\t    System.out.print(11111);\r\n      }\r\n    }\r\nMyConfig.java\r\n\r\n    \r\n    @Configuration\r\n    @EnableAspectJAutoProxy\r\n    public class MyConfig {\r\n      @Bean\r\n      public A a() {\r\n\t    return new A();\r\n      }\r\n      @Bean\r\n      public B b() {\r\n\t    return new B();\r\n      }\r\n    . . .\r\n      @Bean\r\n      public MyAspect myAspect() {\r\n\t    return new MyAspect();\r\n      }\r\n    }\r\nMyAspect.java\r\n\r\n    @Aspect\r\n    public class MyAspect {\r\n\t  @Before(&quot;execution(* mypackage.A.chirp())&quot;)\r\n\t  public void aa() {\r\n\t\tSystem.out.print(2222);\r\n\t\t}\t\r\n    }\r\n\r\nI ve run that and now  console shows : \r\n\r\n    2023-05-21T22:47:34.035+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : Starting AopjApplication using Java 17.0.6 with PID 9332 (C:\\Users\\erics\\eclipse-workspace\\aopj\\bin\\main started by erics in C:\\Users\\erics\\eclipse-workspace\\aopj)\r\n    2023-05-21T22:47:34.045+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-05-21T22:47:35.566+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : Started AopjApplication in 2.33 seconds (process running for 3.303)\r\n    2222\r\n    11111\r\n\r\n","title":"Spring AOP: aspect @Around doesn&#39;t work","body":"<p><strong>5/2023</strong> <code>for AspectJ</code></p>\n<p>MyApplication.java</p>\n<pre><code>@SpringBootApplication\npublic class AopjApplication {\n  public static void main(String[] args) {\n    ConfigurableApplicationContext cntx = SpringApplication.run(AopjApplication.class, args);\n    A a=cntx.getBean(A.class);\n    a.chirp();      \n  }\n}\n</code></pre>\n<p>adding AspectJ to <em>build.gradle</em></p>\n<pre><code>dependencies {\n  implementation 'org.springframework.boot:spring-boot-starter'\n  implementation 'org.aspectj:aspectjweaver:1.9.19'  //currently last version\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>A.java :</p>\n<pre><code>public class A {\n  public void chirp() {\n    System.out.print(11111);\n  }\n}\n</code></pre>\n<p>MyConfig.java</p>\n<pre><code>@Configuration\n@EnableAspectJAutoProxy\npublic class MyConfig {\n  @Bean\n  public A a() {\n    return new A();\n  }\n  @Bean\n  public B b() {\n    return new B();\n  }\n. . .\n  @Bean\n  public MyAspect myAspect() {\n    return new MyAspect();\n  }\n}\n</code></pre>\n<p>MyAspect.java</p>\n<pre><code>@Aspect\npublic class MyAspect {\n  @Before(&quot;execution(* mypackage.A.chirp())&quot;)\n  public void aa() {\n    System.out.print(2222);\n    }   \n}\n</code></pre>\n<p>I ve run that and now  console shows :</p>\n<pre><code>2023-05-21T22:47:34.035+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : Starting AopjApplication using Java 17.0.6 with PID 9332 (C:\\Users\\erics\\eclipse-workspace\\aopj\\bin\\main started by erics in C:\\Users\\erics\\eclipse-workspace\\aopj)\n2023-05-21T22:47:34.045+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-21T22:47:35.566+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : Started AopjApplication in 2.33 seconds (process running for 3.303)\n2222\n11111\n</code></pre>\n"}],"owner":{"account_id":1133457,"reputation":85,"user_id":1119003,"display_name":"George Zalizko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8374,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":42735463,"answer_count":3,"score":6,"last_activity_date":1684691408,"creation_date":1489226496,"question_id":42733826,"body_markdown":"I&#39;ve made a simple web application using Spring Boot and Spring Initializr and tried to write **@Aspect** with **@Around** advice.\r\n\r\nWhen I add my custom annotation **@RetryOnFailure** to the controllers&#39; endpoint method - it works, but when I add this annotation to the controllers&#39; method, that executed by controllers endpoint - it doesn&#39;t work. I spend a lot of time for understanding the reason for such behavior, but without any result. So please help.\r\n\r\nProject located here: https://github.com/zalizko/spring-aop-playground\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Aspect\r\n    @Component\r\n    public final class MethodRepeater {\r\n\r\n        @Around(&quot;execution(* *(..)) &amp;&amp; @annotation(RetryOnFailure)&quot;)\r\n        public Object wrap(final ProceedingJoinPoint joinPoint) throws Throwable {\r\n            // code is here\r\n        }\r\n    }\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\nSo, my goal is that:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @RequestMapping\r\n    public String index() {\r\n        inTry();\r\n        return &quot;OK&quot;;\r\n    }\r\n\r\n\r\n    @RetryOnFailure(attempts = 3, delay = 2, unit = TimeUnit.SECONDS)\r\n    public void inTry() {\r\n        throw new RuntimeException(&quot;Exception in try &quot; + ++counter);\r\n    }\r\n\r\n  \r\n","title":"Spring AOP: aspect @Around doesn&#39;t work","body":"<p>I've made a simple web application using Spring Boot and Spring Initializr and tried to write <strong>@Aspect</strong> with <strong>@Around</strong> advice.</p>\n\n<p>When I add my custom annotation <strong>@RetryOnFailure</strong> to the controllers' endpoint method - it works, but when I add this annotation to the controllers' method, that executed by controllers endpoint - it doesn't work. I spend a lot of time for understanding the reason for such behavior, but without any result. So please help.</p>\n\n<p>Project located here: <a href=\"https://github.com/zalizko/spring-aop-playground\" rel=\"nofollow noreferrer\">https://github.com/zalizko/spring-aop-playground</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\npublic final class MethodRepeater {\n\n    @Around(\"execution(* *(..)) &amp;&amp; @annotation(RetryOnFailure)\")\n    public Object wrap(final ProceedingJoinPoint joinPoint) throws Throwable {\n        // code is here\n    }\n}\n</code></pre>\n\n<p>So, my goal is that:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping\npublic String index() {\n    inTry();\n    return \"OK\";\n}\n\n\n@RetryOnFailure(attempts = 3, delay = 2, unit = TimeUnit.SECONDS)\npublic void inTry() {\n    throw new RuntimeException(\"Exception in try \" + ++counter);\n}\n</code></pre>\n"},{"tags":["java","filter","java-8","spring-data-jpa","java-stream"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1577348087,"post_id":59483996,"comment_id":105146428,"body_markdown":"Can you add sample input with the corresponding expected output? It&#39;s hard to understand your description.","body":"Can you add sample input with the corresponding expected output? It&#39;s hard to understand your description."},{"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"score":0,"creation_date":1577349294,"post_id":59483996,"comment_id":105146773,"body_markdown":"@Eran added a sample i/p -&gt; o/p. right now this code only returns the first teamId for each employee. including the manager ID is optional. But is the filter and map combo format is correct? I am having issues with that. Filtering based on one column and taking a different column into the array.","body":"@Eran added a sample i/p -&gt; o/p. right now this code only returns the first teamId for each employee. including the manager ID is optional. But is the filter and map combo format is correct? I am having issues with that. Filtering based on one column and taking a different column into the array."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1577349494,"post_id":59483996,"comment_id":105146836,"body_markdown":"What should the type of the output be?","body":"What should the type of the output be?"},{"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"score":0,"creation_date":1577350325,"post_id":59483996,"comment_id":105147095,"body_markdown":"@Eran need it as `String[]`","body":"@Eran need it as <code>String[]</code>"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1577350465,"post_id":59483996,"comment_id":105147130,"body_markdown":"How can you store in a single String array the list of team IDs for each employee ID? It sounds like you need a `Map&lt;String,List&lt;String&gt;&gt;` or `Map&lt;String,String[]&gt;`.","body":"How can you store in a single String array the list of team IDs for each employee ID? It sounds like you need a <code>Map&lt;String,List&lt;String&gt;&gt;</code> or <code>Map&lt;String,String[]&gt;</code>."},{"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"score":0,"creation_date":1577351200,"post_id":59483996,"comment_id":105147359,"body_markdown":"@Eran each employeeid has a seperate `String[]`. So for a table with two distinct employees there would be three string arrays. One for list of employees and then two array of team member Ids for each employee Id.","body":"@Eran each employeeid has a seperate <code>String[]</code>. So for a table with two distinct employees there would be three string arrays. One for list of employees and then two array of team member Ids for each employee Id."},{"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"score":0,"creation_date":1577351294,"post_id":59483996,"comment_id":105147388,"body_markdown":"need to invoke a different function by passing a `String[]` as argument. for each employee I would invoke the function with their `team member Id` array","body":"need to invoke a different function by passing a <code>String[]</code> as argument. for each employee I would invoke the function with their <code>team member Id</code> array"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1577351315,"creation_date":1577351315,"answer_id":59486158,"question_id":59483996,"body_markdown":"Based on the question and comments, what you need is:\r\n\r\n    for (String id : allIds) {\r\n        String[] teamIds = list.parallelStream()\r\n                               .filter(row -&gt; row.getId().equals(id))\r\n                               .map(ViewData::getTeamId).distinct()\r\n                               .toArray(String[]::new);\r\n    \r\n        teamIds = Arrays.copyOf(teamIds, teamIds.length + 1);\r\n        teamIds[teamIds.length - 1] = list.parallelStream()\r\n                                          .filter(obj -&gt; obj.getId().equals(id))\r\n                                          .map(ViewData::getManagerId)\r\n                                          .findFirst()\r\n                                          .orElse(null);\r\n    \r\n        System.out.println(teamIds.length + &quot;\\n&quot;);\r\n    }","title":"Extracting db column data with filter and map in Java8","body":"<p>Based on the question and comments, what you need is:</p>\n\n<pre><code>for (String id : allIds) {\n    String[] teamIds = list.parallelStream()\n                           .filter(row -&gt; row.getId().equals(id))\n                           .map(ViewData::getTeamId).distinct()\n                           .toArray(String[]::new);\n\n    teamIds = Arrays.copyOf(teamIds, teamIds.length + 1);\n    teamIds[teamIds.length - 1] = list.parallelStream()\n                                      .filter(obj -&gt; obj.getId().equals(id))\n                                      .map(ViewData::getManagerId)\n                                      .findFirst()\n                                      .orElse(null);\n\n    System.out.println(teamIds.length + \"\\n\");\n}\n</code></pre>\n"}],"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1080,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59486158,"answer_count":1,"score":1,"last_activity_date":1684691303,"creation_date":1577336238,"question_id":59483996,"body_markdown":"A table about employees has following data: employee Id, employee name, their manager&#39;s Id and their team members&#39; Id. Each employee would have multiple entries based on their team size. Say an employee with 5 other members in their team would have five rows with the employee and manager id repeated each with one team member&#39;s id.\r\n\r\nSample table:\r\n```\r\nemployeeId | employeeName | managerId | teamEmployeeId |\r\n-------------------------------------------------------\r\n1000 \t   | Alex         | 4000      | 1101           |\r\n1200 \t   | Bran         | 4100      | 1301           |\r\n1200 \t   | Bran         | 4100      | 1302           |\r\n1000 \t   | Alex         | 4000      | 1102           |\r\n1200 \t   | Bran         | 4100      | 1303           |\r\n1000 \t   | Alex         | 4000      | 1103           |\r\n1200 \t   | Bran         | 4100      | 1304           |\r\n1200 \t   | Bran         | 4100      | 1305           |\r\n1000 \t   | Alex         | 4000      | 1104           |\r\n```\r\n\r\nThe goal is to split each employees&#39; team IDs (with the manager id too) into a separate array to be used later.\r\n\r\n\r\nExpected result:\r\n```\r\nallIds:\r\n1000\r\n1200\r\n\r\nteamIds for &quot;Alex&quot; :\r\n1101\r\n1102\r\n1103\r\n1104\r\n4000\r\n\r\nteamIds for &quot;Bran&quot; :\r\n1301\r\n1302\r\n1303\r\n1304\r\n1305\r\n4100\r\n```\r\n\r\nThe first part of getting unique employee ids is working (based on this [answer](https://stackoverflow.com/questions/59470049/create-an-array-of-string-with-an-element-from-a-list/59470099)). But trying to split the team members by using the employee id returns the first value, but the correct number of times. Say: a team with 5 returns an array of five with the first member&#39;s id in all. Manager&#39;s id isn&#39;t being added.\r\n\r\nThe code I am using:\r\n\r\n```java\r\nList&lt;ViewData&gt; list = getDataList();\r\n        \r\nString[] allIds = list.parallelStream()\r\n    .map(ViewData::getId).distinct().toArray(String[]::new);\r\n        \r\nSystem.out.println(allIds.length + &quot;\\n&quot;);\r\n        \r\nfor (String id : allIds) {\r\n            \r\n    String[] teamIds = list.parallelStream()\r\n        .filter(row -&gt; row.getId().equals(id))\r\n        .map(ViewData::getTeamId).distinct()\r\n        .toArray(String[]::new);\r\n            \r\n    teamIds = Arrays.copyOf(teamIds, teamIds.length+1 );\r\n    teamIds[teamIds.length] = list.parallelStream()\r\n        .filter(obj -&gt; obj.getId().equals(id))\r\n        .map(ViewData::getManagerId).toString();\r\n    System.out.println(teamIds.length + &quot;\\n&quot;);\r\n}\r\n```\r\n\r\nI understand this is a logical error. All the docs I have referred for filter() shows the syntax is correct. My understanding is the filter() returns the entire row whose id matches with the one I am looping through and the map() takes out the team member&#39;s id from that row and finally everything is returned as a string array.\r\n\r\nWhere have I gone wrong? Writing the code or understanding how these functions work?\r\n\r\n----\r\n\r\nedit:\r\n\r\n&gt; if a table like this causes duplicates/repeat rows(particularly the exact number of time it is supposed to be present):\r\n\r\na view without a primary key (i.e., no guaranteed unique column ) needs a composite primary key derived by combining two columns that would then be unique.\r\n\r\n* Create a separate `@Embeddable` class for composite key combo\r\n\r\n* Add it to main model class: \r\n`@EmbeddedId private UniqueId uniqueId;`\r\n\r\n* Proceed with the exisiting logic as in the answer:\r\n\r\n```java\r\nfor (String id : allIds) {\r\n    String[] teamIds = list.stream()\r\n        .filter(row -&gt; row.getUniqueId().getId().equals(id))\r\n        .map(obj -&gt; obj.getUniqueId().getTeamEmployeeId())\r\n        .toArray(String[]::new);\r\n\r\n    teamIds = Arrays.copyOf(teamIds, teamIds.length + 1);\r\n    teamIds[teamIds.length - 1] = list.stream()\r\n        .filter(obj -&gt; obj.getUniqueId().getId().equals(id))\r\n        .map(ViewData::getManagerId).findFirst().orElse(&quot;&quot;);            \r\n    \r\n    String empName = list.stream()\r\n        .filter(obj -&gt; obj.getUniqueId().getId().equals(id))\r\n        .map(ViewData::getName).findFirst().orElse(&quot;&quot;);\r\n}\r\n```\r\n\r\n___ \r\n\r\nUpdate: \r\n\r\nThis was a terribly complicated solution from a limited understanding of data structures. A simpler (slightly redundant) solution using Set&#39;s auto de-duplication:\r\n```java\r\nMap&lt;Integer, Set&lt;Integer&gt;&gt; res = new HashMap&lt;&gt;();\r\nemployeeDetails.forEach(o-&gt; {\r\n    Integer empId = o.empId;\r\n    if(!res.containsKey(empId)) res.put(empId, new HashSet&lt;&gt;());\r\n        res.get(empId).addAll(Set.of(o.teamMemberId, o.managerId));\r\n});\r\nreturn res;\r\n```\r\n\r\nEven this isn&#39;t a very optimal solution. It makes a lot of access and modification to the `res` map and its values. But in contrast to the previous approach this only goes through the list of records once. Some basic bench marking on both solutions shows the newer approach is 3-4 times faster for record of 1000 size and 10x for size in 100s.\r\n\r\nBut going 5000+ brings both closer as they both get bogged down by the number of objects created to store the results and their access.","title":"Extracting db column data with filter and map in Java8","body":"<p>A table about employees has following data: employee Id, employee name, their manager's Id and their team members' Id. Each employee would have multiple entries based on their team size. Say an employee with 5 other members in their team would have five rows with the employee and manager id repeated each with one team member's id.</p>\n<p>Sample table:</p>\n<pre><code>employeeId | employeeName | managerId | teamEmployeeId |\n-------------------------------------------------------\n1000       | Alex         | 4000      | 1101           |\n1200       | Bran         | 4100      | 1301           |\n1200       | Bran         | 4100      | 1302           |\n1000       | Alex         | 4000      | 1102           |\n1200       | Bran         | 4100      | 1303           |\n1000       | Alex         | 4000      | 1103           |\n1200       | Bran         | 4100      | 1304           |\n1200       | Bran         | 4100      | 1305           |\n1000       | Alex         | 4000      | 1104           |\n</code></pre>\n<p>The goal is to split each employees' team IDs (with the manager id too) into a separate array to be used later.</p>\n<p>Expected result:</p>\n<pre><code>allIds:\n1000\n1200\n\nteamIds for &quot;Alex&quot; :\n1101\n1102\n1103\n1104\n4000\n\nteamIds for &quot;Bran&quot; :\n1301\n1302\n1303\n1304\n1305\n4100\n</code></pre>\n<p>The first part of getting unique employee ids is working (based on this <a href=\"https://stackoverflow.com/questions/59470049/create-an-array-of-string-with-an-element-from-a-list/59470099\">answer</a>). But trying to split the team members by using the employee id returns the first value, but the correct number of times. Say: a team with 5 returns an array of five with the first member's id in all. Manager's id isn't being added.</p>\n<p>The code I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ViewData&gt; list = getDataList();\n        \nString[] allIds = list.parallelStream()\n    .map(ViewData::getId).distinct().toArray(String[]::new);\n        \nSystem.out.println(allIds.length + &quot;\\n&quot;);\n        \nfor (String id : allIds) {\n            \n    String[] teamIds = list.parallelStream()\n        .filter(row -&gt; row.getId().equals(id))\n        .map(ViewData::getTeamId).distinct()\n        .toArray(String[]::new);\n            \n    teamIds = Arrays.copyOf(teamIds, teamIds.length+1 );\n    teamIds[teamIds.length] = list.parallelStream()\n        .filter(obj -&gt; obj.getId().equals(id))\n        .map(ViewData::getManagerId).toString();\n    System.out.println(teamIds.length + &quot;\\n&quot;);\n}\n</code></pre>\n<p>I understand this is a logical error. All the docs I have referred for filter() shows the syntax is correct. My understanding is the filter() returns the entire row whose id matches with the one I am looping through and the map() takes out the team member's id from that row and finally everything is returned as a string array.</p>\n<p>Where have I gone wrong? Writing the code or understanding how these functions work?</p>\n<hr />\n<p>edit:</p>\n<blockquote>\n<p>if a table like this causes duplicates/repeat rows(particularly the exact number of time it is supposed to be present):</p>\n</blockquote>\n<p>a view without a primary key (i.e., no guaranteed unique column ) needs a composite primary key derived by combining two columns that would then be unique.</p>\n<ul>\n<li><p>Create a separate <code>@Embeddable</code> class for composite key combo</p>\n</li>\n<li><p>Add it to main model class:\n<code>@EmbeddedId private UniqueId uniqueId;</code></p>\n</li>\n<li><p>Proceed with the exisiting logic as in the answer:</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>for (String id : allIds) {\n    String[] teamIds = list.stream()\n        .filter(row -&gt; row.getUniqueId().getId().equals(id))\n        .map(obj -&gt; obj.getUniqueId().getTeamEmployeeId())\n        .toArray(String[]::new);\n\n    teamIds = Arrays.copyOf(teamIds, teamIds.length + 1);\n    teamIds[teamIds.length - 1] = list.stream()\n        .filter(obj -&gt; obj.getUniqueId().getId().equals(id))\n        .map(ViewData::getManagerId).findFirst().orElse(&quot;&quot;);            \n    \n    String empName = list.stream()\n        .filter(obj -&gt; obj.getUniqueId().getId().equals(id))\n        .map(ViewData::getName).findFirst().orElse(&quot;&quot;);\n}\n</code></pre>\n<hr />\n<p>Update:</p>\n<p>This was a terribly complicated solution from a limited understanding of data structures. A simpler (slightly redundant) solution using Set's auto de-duplication:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, Set&lt;Integer&gt;&gt; res = new HashMap&lt;&gt;();\nemployeeDetails.forEach(o-&gt; {\n    Integer empId = o.empId;\n    if(!res.containsKey(empId)) res.put(empId, new HashSet&lt;&gt;());\n        res.get(empId).addAll(Set.of(o.teamMemberId, o.managerId));\n});\nreturn res;\n</code></pre>\n<p>Even this isn't a very optimal solution. It makes a lot of access and modification to the <code>res</code> map and its values. But in contrast to the previous approach this only goes through the list of records once. Some basic bench marking on both solutions shows the newer approach is 3-4 times faster for record of 1000 size and 10x for size in 100s.</p>\n<p>But going 5000+ brings both closer as they both get bogged down by the number of objects created to store the results and their access.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"score":4,"creation_date":1684689311,"post_id":76301050,"comment_id":134550148,"body_markdown":"Did you check in the default maven dependency download location? .m2 folder?","body":"Did you check in the default maven dependency download location? .m2 folder?"},{"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"score":1,"creation_date":1684689596,"post_id":76301050,"comment_id":134550190,"body_markdown":"OMG you&#39;re right ! they are there ! We should probably search for a duplicate to close this question","body":"OMG you&#39;re right ! they are there ! We should probably search for a duplicate to close this question"},{"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"score":3,"creation_date":1684689734,"post_id":76301050,"comment_id":134550212,"body_markdown":"I voted to close my question as a duplicate","body":"I voted to close my question as a duplicate"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1684692934,"post_id":76301050,"comment_id":134550604,"body_markdown":"Aside: If you want to copy a project&#39;s JARs to a specific directory (e.g. so they are all in one place), you can use Maven&#39;s [copy-dependencies](https://stackoverflow.com/q/97640/12567365).","body":"Aside: If you want to copy a project&#39;s JARs to a specific directory (e.g. so they are all in one place), you can use Maven&#39;s <a href=\"https://stackoverflow.com/q/97640/12567365\">copy-dependencies</a>."}],"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684691190,"answer_count":0,"score":0,"last_activity_date":1684689135,"creation_date":1684689135,"question_id":76301050,"body_markdown":"When I use `mvn install`, it hides my downloaded files ! `[[mystery music]]`\r\n```java\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) {\r\n    Logger logger = LoggerFactory.getLogger(Main.class);\r\n    logger.info(&quot;Example log from {}&quot;, Main.class.getSimpleName());\r\n  }\r\n}\r\n```\r\nI can manually download the relevant jars, and everything is fine:\r\n```bash\r\n$ wget https://repo1.maven.org/maven2/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar\r\n$ wget https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar\r\n$ java -cp slf4j-api-2.0.7.jar:slf4j-simple-2.0.7.jar Main.java\r\n[main] INFO Main - Example log from Main\r\n```\r\nWhen I try using `pom.xml`, it doesn&#39;t work:\r\n```\r\n&lt;project&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n  &lt;version&gt;1&lt;/version&gt;\r\n  &lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.7&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.7&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nI *do* see the `*.jar` files get downloaded, but I have no idea where they end up\r\n```\r\n$ mvn install\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ----------------------&lt; com.mycompany.app:my-app &gt;----------------------\r\n[INFO] Building my-app 1\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\nDownloading from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.pom\r\nDownloaded from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.pom (1.1 kB at 2.4 kB/s)\r\nDownloading from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar\r\nDownloaded from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar (16 kB at 139 kB/s)\r\n```","title":"Using maven as a dependency tool","body":"<p>When I use <code>mvn install</code>, it hides my downloaded files ! <code>[[mystery music]]</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class Main {\n\n  public static void main(String[] args) {\n    Logger logger = LoggerFactory.getLogger(Main.class);\n    logger.info(&quot;Example log from {}&quot;, Main.class.getSimpleName());\n  }\n}\n</code></pre>\n<p>I can manually download the relevant jars, and everything is fine:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ wget https://repo1.maven.org/maven2/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar\n$ wget https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar\n$ java -cp slf4j-api-2.0.7.jar:slf4j-simple-2.0.7.jar Main.java\n[main] INFO Main - Example log from Main\n</code></pre>\n<p>When I try using <code>pom.xml</code>, it doesn't work:</p>\n<pre><code>&lt;project&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n  &lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n    &lt;version&gt;2.0.7&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.7&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I <em>do</em> see the <code>*.jar</code> files get downloaded, but I have no idea where they end up</p>\n<pre><code>$ mvn install\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ----------------------&lt; com.mycompany.app:my-app &gt;----------------------\n[INFO] Building my-app 1\n[INFO] --------------------------------[ jar ]---------------------------------\nDownloading from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.pom\nDownloaded from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.pom (1.1 kB at 2.4 kB/s)\nDownloading from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar\nDownloaded from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar (16 kB at 139 kB/s)\n</code></pre>\n"},{"tags":["java","ubuntu","elasticsearch","jupyter-notebook"],"owner":{"account_id":15248249,"reputation":400,"user_id":11002498,"display_name":"Skapis9999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684688350,"creation_date":1684688350,"question_id":76301006,"body_markdown":"I am trying to run [this](https://haystack.deepset.ai/tutorials/03_scalable_qa_system) google Colab example in a Jupyter notebook in visual code studio. (System: Ubuntu). When I try to Initialize the ElasticsearchDocumentStore, step 2 in the linked tutorial, I am getting the following error: `could not find java in bundled jdk at /home/user/Downloads/elasticsearch-7.9.2/jdk/bin/java`. \r\n\r\n\r\nI tried to implement the top (and accepted) reply on [this](https://stackoverflow.com/questions/64069739/elasticsearch-could-not-find-java-in-bundled-jdk-at-jdk-bin-java) question. Right now the `$JAVA_HOME` variable path is set correctly, `/usr/lib/jvm/java-11-openjdk-amd64`. When I am running a Java file with `/usr/lib/jvm/java-11-openjdk-amd64/bin/java` it runs perfectly. \r\n\r\n`/usr/lib/jvm/java-11-openjdk-amd64/bin` is shown in `PATH` when I run `printenv` **BUT** when I run `echo $JAVA_PATH` I get nothing back. \r\n\r\nWhen I run `java -version` I am getting this:\r\n\r\n`openjdk version &quot;11.0.19&quot; 2023-04-18\r\nOpenJDK Runtime Environment (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1)\r\nOpenJDK 64-Bit Server VM (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1, mixed mode, sharing)`\r\n","title":"Could not find java in bundled jdk running elastic search daemon","body":"<p>I am trying to run <a href=\"https://haystack.deepset.ai/tutorials/03_scalable_qa_system\" rel=\"nofollow noreferrer\">this</a> google Colab example in a Jupyter notebook in visual code studio. (System: Ubuntu). When I try to Initialize the ElasticsearchDocumentStore, step 2 in the linked tutorial, I am getting the following error: <code>could not find java in bundled jdk at /home/user/Downloads/elasticsearch-7.9.2/jdk/bin/java</code>.</p>\n<p>I tried to implement the top (and accepted) reply on <a href=\"https://stackoverflow.com/questions/64069739/elasticsearch-could-not-find-java-in-bundled-jdk-at-jdk-bin-java\">this</a> question. Right now the <code>$JAVA_HOME</code> variable path is set correctly, <code>/usr/lib/jvm/java-11-openjdk-amd64</code>. When I am running a Java file with <code>/usr/lib/jvm/java-11-openjdk-amd64/bin/java</code> it runs perfectly.</p>\n<p><code>/usr/lib/jvm/java-11-openjdk-amd64/bin</code> is shown in <code>PATH</code> when I run <code>printenv</code> <strong>BUT</strong> when I run <code>echo $JAVA_PATH</code> I get nothing back.</p>\n<p>When I run <code>java -version</code> I am getting this:</p>\n<p><code>openjdk version &quot;11.0.19&quot; 2023-04-18 OpenJDK Runtime Environment (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1) OpenJDK 64-Bit Server VM (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1, mixed mode, sharing)</code></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1684693906,"post_id":76300934,"comment_id":134550736,"body_markdown":"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx","body":"<a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\" title=\"applying mvc with javafx\">stackoverflow.com/questions/32342864/applying-mvc-with-javaf&zwnj;&#8203;x</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1684693996,"post_id":76300934,"comment_id":134550752,"body_markdown":"Ideas from MVC used @ https://stackoverflow.com/questions/55668795/javafx-2-independent-windows-at-once/55671730#55671730","body":"Ideas from MVC used @ <a href=\"https://stackoverflow.com/questions/55668795/javafx-2-independent-windows-at-once/55671730#55671730\" title=\"javafx 2 independent windows at once\">stackoverflow.com/questions/55668795/&hellip;</a>"}],"owner":{"account_id":28648588,"reputation":1,"user_id":21936048,"display_name":"Raghav Pottabathini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684703093,"answer_count":0,"score":0,"last_activity_date":1684687347,"creation_date":1684687347,"question_id":76300934,"body_markdown":"I making a productivity app for school. So I basically got a Scene switcher and it is reloading the .fxml file each time. So whatever values were stored in `taskListView` are now gone. I am new to java fx, and can someone help me fix this? \r\n\r\nHelloApplication.java:\r\n```\r\npackage com.example.newapp;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;scene2.fxml&quot;));\r\n        Parent root = loader.load();\r\n\r\n        String cssFile = Objects.requireNonNull(getClass().getResource(&quot;style.css&quot;)).toExternalForm();\r\n        root.getStylesheets().add(cssFile);\r\n\r\n        Pane pane = new Pane(root);\r\n\r\n        // Create a circle\r\n        Circle circle = new Circle(8, Color.BLACK);\r\n        circle.setMouseTransparent(true);\r\n        pane.getChildren().add(circle);\r\n\r\n        // Update the circle&#39;s position based on mouse movement\r\n        pane.setOnMouseMoved(event -&gt; {\r\n            circle.setCenterX(event.getX());\r\n            circle.setCenterY(event.getY());\r\n        });\r\n\r\n        primaryStage.setTitle(&quot;To-Do List&quot;);\r\n        primaryStage.setScene(new Scene(pane));\r\n        primaryStage.setResizable(false);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nHelloController.java code:\r\n```\r\npackage com.example.newapp;\r\n\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Objects;\r\n\r\npublic class HelloController {\r\n\r\n    private Stage primaryStage;\r\n    private Scene scene;\r\n    private Parent scene1Root;\r\n    private Parent scene2Root;\r\n\r\n    @FXML\r\n    private ListView&lt;String&gt; taskListView;\r\n\r\n    @FXML\r\n    private TextField taskTextField;\r\n\r\n    @FXML\r\n    private void addTask() {\r\n        String task = taskTextField.getText();\r\n        if (!task.isEmpty()) {\r\n            taskListView.getItems().add(task);\r\n            taskTextField.clear();\r\n        }\r\n    }\r\n\r\n    @FXML\r\n    private void removeTask() {\r\n        ObservableList&lt;String&gt; selectedTasks = taskListView.getSelectionModel().getSelectedItems();\r\n        taskListView.getItems().removeAll(selectedTasks);\r\n    }\r\n\r\n    public void switchToScene1(ActionEvent event) throws IOException {\r\n        if (scene1Root == null) {\r\n            scene1Root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;scene1.fxml&quot;)));\r\n        }\r\n        primaryStage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n        scene = new Scene(scene1Root);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public void switchToScene2(ActionEvent event) throws IOException {\r\n        if (scene2Root == null) {\r\n            scene2Root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;scene2.fxml&quot;)));\r\n        }\r\n        primaryStage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n        scene = new Scene(scene2Root);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have tried to load the .fxml separately, but it was not working for me it still kept clearing all the data in the `taskListView`.","title":"How to prevent reloading .fxml from clearing JavaFX taskListView values?","body":"<p>I making a productivity app for school. So I basically got a Scene switcher and it is reloading the .fxml file each time. So whatever values were stored in <code>taskListView</code> are now gone. I am new to java fx, and can someone help me fix this?</p>\n<p>HelloApplication.java:</p>\n<pre><code>package com.example.newapp;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\nimport java.util.Objects;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;scene2.fxml&quot;));\n        Parent root = loader.load();\n\n        String cssFile = Objects.requireNonNull(getClass().getResource(&quot;style.css&quot;)).toExternalForm();\n        root.getStylesheets().add(cssFile);\n\n        Pane pane = new Pane(root);\n\n        // Create a circle\n        Circle circle = new Circle(8, Color.BLACK);\n        circle.setMouseTransparent(true);\n        pane.getChildren().add(circle);\n\n        // Update the circle's position based on mouse movement\n        pane.setOnMouseMoved(event -&gt; {\n            circle.setCenterX(event.getX());\n            circle.setCenterY(event.getY());\n        });\n\n        primaryStage.setTitle(&quot;To-Do List&quot;);\n        primaryStage.setScene(new Scene(pane));\n        primaryStage.setResizable(false);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>HelloController.java code:</p>\n<pre><code>package com.example.newapp;\n\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.TextField;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class HelloController {\n\n    private Stage primaryStage;\n    private Scene scene;\n    private Parent scene1Root;\n    private Parent scene2Root;\n\n    @FXML\n    private ListView&lt;String&gt; taskListView;\n\n    @FXML\n    private TextField taskTextField;\n\n    @FXML\n    private void addTask() {\n        String task = taskTextField.getText();\n        if (!task.isEmpty()) {\n            taskListView.getItems().add(task);\n            taskTextField.clear();\n        }\n    }\n\n    @FXML\n    private void removeTask() {\n        ObservableList&lt;String&gt; selectedTasks = taskListView.getSelectionModel().getSelectedItems();\n        taskListView.getItems().removeAll(selectedTasks);\n    }\n\n    public void switchToScene1(ActionEvent event) throws IOException {\n        if (scene1Root == null) {\n            scene1Root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;scene1.fxml&quot;)));\n        }\n        primaryStage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n        scene = new Scene(scene1Root);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public void switchToScene2(ActionEvent event) throws IOException {\n        if (scene2Root == null) {\n            scene2Root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;scene2.fxml&quot;)));\n        }\n        primaryStage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n        scene = new Scene(scene2Root);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>I have tried to load the .fxml separately, but it was not working for me it still kept clearing all the data in the <code>taskListView</code>.</p>\n"},{"tags":["java","string","replace","replaceall"],"comments":[{"owner":{"account_id":16904098,"reputation":627,"user_id":12224743,"display_name":"Umeshwaran"},"score":0,"creation_date":1675058044,"post_id":75280607,"comment_id":132838805,"body_markdown":"You can use ```replaceAll()``` instead of ```replace()```.","body":"You can use <code>replaceAll()</code> instead of <code>replace()</code>."}],"answers":[{"tags":[],"owner":{"account_id":26437204,"reputation":11,"user_id":20082381,"display_name":"Ma Ti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675058131,"creation_date":1675058131,"answer_id":75280687,"question_id":75280607,"body_markdown":"Ok I find helpful and nice solution.\r\n\r\n    String line11 = line.replaceAll(&quot;[\\\\p{Punct}]&quot;, &quot;&quot;);","title":"Changing a few char for one the same","body":"<p>Ok I find helpful and nice solution.</p>\n<pre><code>String line11 = line.replaceAll(&quot;[\\\\p{Punct}]&quot;, &quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675058756,"creation_date":1675058756,"answer_id":75280762,"question_id":75280607,"body_markdown":"use replaceAll, and reg `[]`\r\n\r\n    String str = &quot;hellol,lol/,=o/l.o?ll\\no,llol&quot;;\r\n    str = str.replaceAll(&quot;[,=/\\\\n\\\\?\\\\.]&quot;, &quot;&quot;);\r\n    System.out.println(str);","title":"Changing a few char for one the same","body":"<p>use replaceAll, and reg <code>[]</code></p>\n<pre><code>String str = &quot;hellol,lol/,=o/l.o?ll\\no,llol&quot;;\nstr = str.replaceAll(&quot;[,=/\\\\n\\\\?\\\\.]&quot;, &quot;&quot;);\nSystem.out.println(str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27543947,"reputation":36,"user_id":21020237,"display_name":"Kavya Sree"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675061903,"creation_date":1675061903,"answer_id":75281072,"question_id":75280607,"body_markdown":"If we want to replace every punctuation mark then we can use the replaceAll() method in java to achieve that. replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;)), This line makes a java compiler to understand every character other than alphabets(both lowercase and uppercase) to be replaced by &quot;&quot; i.e,empty. with this we can replace every punctuation marks in a particular string.\r\n\r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            String line=&quot;Th@#is i*s a Ex()ample St!@ing!@&quot;;\r\n            System.out.println(line.replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;));\r\n\r\n        }\r\n    }","title":"Changing a few char for one the same","body":"<p>If we want to replace every punctuation mark then we can use the replaceAll() method in java to achieve that. replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;)), This line makes a java compiler to understand every character other than alphabets(both lowercase and uppercase) to be replaced by &quot;&quot; i.e,empty. with this we can replace every punctuation marks in a particular string.</p>\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        String line=&quot;Th@#is i*s a Ex()ample St!@ing!@&quot;;\n        System.out.println(line.replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684686480,"creation_date":1684686480,"answer_id":76300889,"question_id":75280607,"body_markdown":"`String.replace` is a builder method, so you can chain those calls.\r\n\r\n```java\r\nString line1 = line.replace(&quot;.&quot;, &quot;&quot;).replace(&quot;?&quot;, &quot;&quot;).replace(&quot;!&quot;, &quot;&quot;).replace(&quot;\\n&quot;, &quot;&quot;);\r\n```\r\n\r\nAlthough, using the `String.replaceAll` method is a better approach, if you know regular-expressions.\r\n\r\n```java\r\nString line1 = line.replaceAll(Pattern.quote(&quot;.?!&quot;) + &quot;\\\\n&quot;, &quot;&quot;);\r\n```","title":"Changing a few char for one the same","body":"<p><code>String.replace</code> is a builder method, so you can chain those calls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String line1 = line.replace(&quot;.&quot;, &quot;&quot;).replace(&quot;?&quot;, &quot;&quot;).replace(&quot;!&quot;, &quot;&quot;).replace(&quot;\\n&quot;, &quot;&quot;);\n</code></pre>\n<p>Although, using the <code>String.replaceAll</code> method is a better approach, if you know regular-expressions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String line1 = line.replaceAll(Pattern.quote(&quot;.?!&quot;) + &quot;\\\\n&quot;, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":26437204,"reputation":11,"user_id":20082381,"display_name":"Ma Ti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1684686480,"creation_date":1675057316,"question_id":75280607,"body_markdown":"I have question about String class in Java.\r\n\r\nI want remove every punctuation marks. To be exact I use replace() method and replace all marks for: &quot;&quot;;\r\n\r\nBut my question is can I do it more smoothly? Becouse now I replace every sign separately\r\n\r\n```\r\nString line1 = line.replace(&quot;.&quot;, &quot;&quot;);\r\nString line2 = line1.replace(&quot;?&quot;, &quot;&quot;);\r\nString line3 = line2.replace(&quot;!&quot;, &quot;&quot;);\r\nString line4 = line3.replace(&quot;\\n&quot;, &quot;&quot;);\r\n```","title":"Changing a few char for one the same","body":"<p>I have question about String class in Java.</p>\n<p>I want remove every punctuation marks. To be exact I use replace() method and replace all marks for: &quot;&quot;;</p>\n<p>But my question is can I do it more smoothly? Becouse now I replace every sign separately</p>\n<pre><code>String line1 = line.replace(&quot;.&quot;, &quot;&quot;);\nString line2 = line1.replace(&quot;?&quot;, &quot;&quot;);\nString line3 = line2.replace(&quot;!&quot;, &quot;&quot;);\nString line4 = line3.replace(&quot;\\n&quot;, &quot;&quot;);\n</code></pre>\n"},{"tags":["java","variables","initialization"],"comments":[{"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1684658753,"post_id":76299007,"comment_id":134546656,"body_markdown":"Can you share the complete method?","body":"Can you share the complete method?"},{"owner":{"account_id":28050289,"reputation":41,"user_id":21426307,"display_name":"efx"},"score":0,"creation_date":1684659060,"post_id":76299007,"comment_id":134546681,"body_markdown":"@Mureinik yup put it in just now.","body":"@Mureinik yup put it in just now."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1684659404,"post_id":76299007,"comment_id":134546715,"body_markdown":"&quot;Ongoing&quot; /&quot;Completed&quot; would definitely be improved by making them `enum`s.  You need to check your expectations, and/or do `if (projectProvince.getStage().equalsIgnoreCase(&quot;Ongoing&quot;))`","body":"&quot;Ongoing&quot; /&quot;Completed&quot; would definitely be improved by making them <code>enum</code>s.  You need to check your expectations, and/or do <code>if (projectProvince.getStage().equalsIgnoreCase(&quot;Ongoing&quot;))</code>"},{"owner":{"account_id":28050289,"reputation":41,"user_id":21426307,"display_name":"efx"},"score":0,"creation_date":1684659768,"post_id":76299007,"comment_id":134546750,"body_markdown":"@g00se I looked them up and they do look effective, but since we haven&#39;t covered them in our uni course just yet, we aren&#39;t allowed to use them for this assignment.","body":"@g00se I looked them up and they do look effective, but since we haven&#39;t covered them in our uni course just yet, we aren&#39;t allowed to use them for this assignment."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":2,"creation_date":1684660750,"post_id":76299007,"comment_id":134546848,"body_markdown":"@efx, if they are staying at `0`, then the `if` conditional-statements are not evaluating as `true`.  Are you positive the return value of either is that exact text; `equals` is case-sensative.","body":"@efx, if they are staying at <code>0</code>, then the <code>if</code> conditional-statements are not evaluating as <code>true</code>.  Are you positive the return value of either is that exact text; <code>equals</code> is case-sensative."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684660921,"post_id":76299007,"comment_id":134546862,"body_markdown":"@efx, I recommend placing a breakpoint on the first `if` statement, and using a debugging process to derive the value from the `getStage` method.","body":"@efx, I recommend placing a breakpoint on the first <code>if</code> statement, and using a debugging process to derive the value from the <code>getStage</code> method."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684663648,"post_id":76299007,"comment_id":134547124,"body_markdown":"btw I note the field `PROJECT_STAGE_EN` is missing even from one of the sample data lines you&#39;ve already posted in your other question","body":"btw I note the field <code>PROJECT_STAGE_EN</code> is missing even from one of the sample data lines you&#39;ve already posted in your other question"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684681495,"post_id":76299007,"comment_id":134549197,"body_markdown":"https://en.wikipedia.org/wiki/Debugger","body":"<a href=\"https://en.wikipedia.org/wiki/Debugger\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Debugger</a>"}],"answers":[{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684685484,"creation_date":1684685484,"answer_id":76300812,"question_id":76299007,"body_markdown":"There is nothing wrong with the increment of yours,&lt;br&gt;\r\nbut many other places can be improved.&lt;br&gt;\r\nYou can split a method into multiple ones,&lt;br&gt;\r\nand polish them, to decrease code complexity,&lt;br&gt;\r\nand improve maintainability. Like this way:\r\n\r\n    void printHelp() {\r\n      final var help = &quot;&quot;&quot;\r\n          1 &gt; Number of projects\r\n          2 &gt; Percentage of all projects located in this province/territory\r\n          3 &gt; Total number and percentage of ongoing projects\r\n          4 &gt; Total number and percentage of completed projects\r\n          5 &gt; All of the above statistics\r\n          0 &gt; Return to main menu\r\n          &quot;&quot;&quot;;\r\n      System.out.println(help);\r\n    }\r\n\r\n    void interactWithRegions(String projectRegion) {\r\n      Scanner input = new Scanner(System.in);\r\n      showProjectDetails(input);\r\n      input.close();\r\n    }\r\n\r\n\r\nAnd if you need to return two numbers from a method,&lt;br&gt;\r\nyou can either use List&lt;Integer&gt; or an array: int[].&lt;br&gt;\r\nAnd don&#39;t hesitate to use whole names for your variables,&lt;br&gt;\r\n&#39;userChoice&#39; is better than &#39;userCh&#39;.","title":"How to properly increment initialized variables in Java?","body":"<p>There is nothing wrong with the increment of yours,<br>\nbut many other places can be improved.<br>\nYou can split a method into multiple ones,<br>\nand polish them, to decrease code complexity,<br>\nand improve maintainability. Like this way:</p>\n<pre><code>void printHelp() {\n  final var help = &quot;&quot;&quot;\n      1 &gt; Number of projects\n      2 &gt; Percentage of all projects located in this province/territory\n      3 &gt; Total number and percentage of ongoing projects\n      4 &gt; Total number and percentage of completed projects\n      5 &gt; All of the above statistics\n      0 &gt; Return to main menu\n      &quot;&quot;&quot;;\n  System.out.println(help);\n}\n\nvoid interactWithRegions(String projectRegion) {\n  Scanner input = new Scanner(System.in);\n  showProjectDetails(input);\n  input.close();\n}\n</code></pre>\n<p>And if you need to return two numbers from a method,<br>\nyou can either use List or an array: int[].<br>\nAnd don't hesitate to use whole names for your variables,<br>\n'userChoice' is better than 'userCh'.</p>\n"}],"owner":{"account_id":28050289,"reputation":41,"user_id":21426307,"display_name":"efx"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684685484,"creation_date":1684658639,"question_id":76299007,"body_markdown":"In my dataset, I&#39;ve got a mixture of ongoing and completed projects. I want to make it so that each time &quot;Ongoing&quot; is found, the variable &quot;ongoing&quot; increases by 1, and the same for &quot;Completed&quot;. However, I had to initialize these variables, so I made them 0. Now, they stay zero, even though they&#39;re supposed to increase by 1. \r\n\r\n\r\n```\r\npublic static void regions(String pRegion) { // variable region is out of scope; passed into variable pRegion \r\n\t\r\n\tScanner input = new Scanner(System.in);\r\n\tint userCh;\r\n\tProject projectProvince = new Project();\r\n\tSystem.out.println(&quot;Please make a choice from the statistics below for &quot;+pRegion+&quot;.&quot;);\r\n\t\r\n\tSystem.out.println(&quot;1 &gt; Number of projects\\n2 &gt; Percentage of all projects located in this province/territory\\n3 &gt; Total number and percentage of ongoing projects\\n&quot;\r\n\t\t\t+ &quot;4 Total number and percentage of completed projects\\n5 &gt; All of the above statistics\\n00 &gt; Return to main menu\\n&quot;);\r\n\tuserCh = input.nextInt();\r\n\t\r\n\tint howManyProvince = countItemsForProvince(pRegion);\r\n\tdouble percentageProvince = ((double)howManyProvince/(double)linesInFileCount)*100;\r\n\t\r\n\tint ongoing = 0;\r\n\tint completed = 0;\r\n\tif (projectProvince.getStage().equals(&quot;Ongoing&quot;)) {\t\t\r\n\t\tongoing++;\r\n\t}\r\n\telse if (projectProvince.getStage().equals(&quot;Completed&quot;)) {\r\n\t\tcompleted++;\r\n\t}\r\n\t\r\n\tswitch (userCh) {\r\n\tcase 1:\t\r\n\t    System.out.println(&quot;Number of projects: &quot;+howManyProvince);\r\n\t    break;\r\n\tcase 2:\t\t\r\n\t\tSystem.out.println(&quot;Percentage of all projects in &quot;+pRegion+&quot;: &quot; +percentageProvince+&quot;%&quot;);\r\n\t\tbreak;\r\n\tcase 3:\r\n\t\tSystem.out.println(&quot;Number of ongoing projects: &quot;+ongoing);\r\n\t\tSystem.out.println(&quot;Percentage of ongoing projects: &quot;+ongoing/howManyProvince);\r\n\t\tbreak;\r\n\tcase 4:\r\n\t\tSystem.out.println(&quot;Number of ongoing projects: &quot;+completed);\r\n\t\tSystem.out.println(&quot;Percentage of ongoing projects: &quot;+completed/howManyProvince);\r\n\t\tbreak;\r\n\tcase 5:\r\n\t    System.out.println(&quot;Number of projects: &quot;+howManyProvince+&quot;\\n&quot;);\r\n\t    System.out.println(&quot;Percentage of all projects in &quot;+pRegion+&quot;: &quot; +percentageProvince+&quot;%\\n&quot;);\r\n\t    System.out.println(&quot;Number of ongoing projects: &quot;+ongoing);\r\n\t\tSystem.out.println(&quot;Percentage of ongoing projects: &quot;+ongoing/howManyProvince+&quot;\\n&quot;);\r\n\t\tSystem.out.println(&quot;Number of ongoing projects: &quot;+completed);\r\n\t\tSystem.out.println(&quot;Percentage of ongoing projects: &quot;+completed/howManyProvince+&quot;\\n&quot;);\r\n\t\tbreak;\r\n\t}\r\n\t\r\n\t\r\n//\tint ongoingCountForRegion = countItemsForProvinceAtStage(pRegion,&quot;Ongoing&quot;);\r\n//\t\r\n//    int howManyProvince = countItemsForProvince(pRegion);\r\n//    System.out.println(howManyProvince);\r\n//    \r\n\tinput.close();\r\n}\r\n```\r\n\r\n\r\nI tried to &#39;return&#39; the variables, but I couldn&#39;t, because the method is void. I also tried to place the initialized variables within the if-else block itself, but it didn&#39;t work, because I use these variables in a switch case immediately after\r\n\r\n\r\n\r\n\r\n","title":"How to properly increment initialized variables in Java?","body":"<p>In my dataset, I've got a mixture of ongoing and completed projects. I want to make it so that each time &quot;Ongoing&quot; is found, the variable &quot;ongoing&quot; increases by 1, and the same for &quot;Completed&quot;. However, I had to initialize these variables, so I made them 0. Now, they stay zero, even though they're supposed to increase by 1.</p>\n<pre><code>public static void regions(String pRegion) { // variable region is out of scope; passed into variable pRegion \n    \n    Scanner input = new Scanner(System.in);\n    int userCh;\n    Project projectProvince = new Project();\n    System.out.println(&quot;Please make a choice from the statistics below for &quot;+pRegion+&quot;.&quot;);\n    \n    System.out.println(&quot;1 &gt; Number of projects\\n2 &gt; Percentage of all projects located in this province/territory\\n3 &gt; Total number and percentage of ongoing projects\\n&quot;\n            + &quot;4 Total number and percentage of completed projects\\n5 &gt; All of the above statistics\\n00 &gt; Return to main menu\\n&quot;);\n    userCh = input.nextInt();\n    \n    int howManyProvince = countItemsForProvince(pRegion);\n    double percentageProvince = ((double)howManyProvince/(double)linesInFileCount)*100;\n    \n    int ongoing = 0;\n    int completed = 0;\n    if (projectProvince.getStage().equals(&quot;Ongoing&quot;)) {     \n        ongoing++;\n    }\n    else if (projectProvince.getStage().equals(&quot;Completed&quot;)) {\n        completed++;\n    }\n    \n    switch (userCh) {\n    case 1: \n        System.out.println(&quot;Number of projects: &quot;+howManyProvince);\n        break;\n    case 2:     \n        System.out.println(&quot;Percentage of all projects in &quot;+pRegion+&quot;: &quot; +percentageProvince+&quot;%&quot;);\n        break;\n    case 3:\n        System.out.println(&quot;Number of ongoing projects: &quot;+ongoing);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+ongoing/howManyProvince);\n        break;\n    case 4:\n        System.out.println(&quot;Number of ongoing projects: &quot;+completed);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+completed/howManyProvince);\n        break;\n    case 5:\n        System.out.println(&quot;Number of projects: &quot;+howManyProvince+&quot;\\n&quot;);\n        System.out.println(&quot;Percentage of all projects in &quot;+pRegion+&quot;: &quot; +percentageProvince+&quot;%\\n&quot;);\n        System.out.println(&quot;Number of ongoing projects: &quot;+ongoing);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+ongoing/howManyProvince+&quot;\\n&quot;);\n        System.out.println(&quot;Number of ongoing projects: &quot;+completed);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+completed/howManyProvince+&quot;\\n&quot;);\n        break;\n    }\n    \n    \n//  int ongoingCountForRegion = countItemsForProvinceAtStage(pRegion,&quot;Ongoing&quot;);\n//  \n//    int howManyProvince = countItemsForProvince(pRegion);\n//    System.out.println(howManyProvince);\n//    \n    input.close();\n}\n</code></pre>\n<p>I tried to 'return' the variables, but I couldn't, because the method is void. I also tried to place the initialized variables within the if-else block itself, but it didn't work, because I use these variables in a switch case immediately after</p>\n"},{"tags":["java","jvm","oolong"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1340264602,"post_id":11132377,"comment_id":14592086,"body_markdown":"See the [Java Virtual Machine Specification](http://docs.oracle.com/javase/specs/jvms/se7/html/index.html) - it specifies the Java bytecode instructions.","body":"See the <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/index.html\" rel=\"nofollow noreferrer\">Java Virtual Machine Specification</a> - it specifies the Java bytecode instructions."},{"owner":{"account_id":97325,"reputation":62285,"user_id":264052,"accept_rate":66,"display_name":"smwikipedia"},"score":0,"creation_date":1436257103,"post_id":11132377,"comment_id":50521717,"body_markdown":"@Sergey I am looking for the book `Programming for Java Virtual Machine`, do you have a pdf? Thx.","body":"@Sergey I am looking for the book <code>Programming for Java Virtual Machine</code>, do you have a pdf? Thx."}],"answers":[{"tags":[],"owner":{"account_id":1587150,"reputation":7,"user_id":1471217,"display_name":"Kenny Ho"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1340260723,"creation_date":1340260723,"answer_id":11132811,"question_id":11132377,"body_markdown":"Oolong is chinese tea and the name is not important.\r\nRemember that Java language is compiled by java compiler.\r\nJava Bytecode is not an assembly language but you can regard it as assembly language to (JVM)Java Virtual Machine.","title":"What is Oolong in terms of JVM?","body":"<p>Oolong is chinese tea and the name is not important.\nRemember that Java language is compiled by java compiler.\nJava Bytecode is not an assembly language but you can regard it as assembly language to (JVM)Java Virtual Machine.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1684685398,"creation_date":1340261620,"answer_id":11132993,"question_id":11132377,"body_markdown":"Joshua Engel&#39;s Oolong&lt;sup&gt;1&lt;/sup&gt; is an assembly language for the JVM.  \r\n\r\n&gt; ... why is it called assembly language?\r\n\r\nYou are best off looking up what &quot;assembly language&quot; means in (for example) [Wikipedia][1].  It is essentially a language that has a direct one-to-one mapping&lt;sup&gt;2&lt;/sup&gt; between &quot;statements&quot; and machine instructions for the target machine.  OOlong matches this description, if you view the JVM as the target machine.  (There is a one-to-one mapping between Oolong statements and JVM bytecode instructions.)\r\n\r\n&gt; The syntax of Jasmin files(which also have .j extension) looks like Oolong&#39;s syntax. Is it used there?\r\n\r\nI&#39;ve seen sources that say that Oolong&#39;s syntax is &quot;based on Jasmin&quot;, but I can&#39;t find any stand-alone documents describing the syntax in any detail.\r\n\r\nIf you are interested in looking at Oolong, this SO question has details on where to download it from: \r\n\r\n  * https://stackoverflow.com/questions/4505808/where-is-the-source-code-for-oolong-and-gnoloo\r\n\r\n-----------\r\n\r\n&lt;sup&gt;1 - There is another unrelated Oolong programming language; see https://github.com/thesquaregroot/oolong.  And then there is Castegren\r\n&amp; Wrigstad&#39;s [OOlong: An Extensible Concurrent Object Calculus](https://uu.diva-portal.org/smash/get/diva2:1161805/FULLTEXT01.pdf).&lt;br&gt;\r\n2 - I am oversimplifying.  Some assembly languages support &quot;macros&quot; where a single source statement can map to multiple target instructions.  Read the Wikipedia reference.&lt;/sup&gt;\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Assembly_language","title":"What is Oolong in terms of JVM?","body":"<p>Joshua Engel's Oolong<sup>1</sup> is an assembly language for the JVM.</p>\n<blockquote>\n<p>... why is it called assembly language?</p>\n</blockquote>\n<p>You are best off looking up what &quot;assembly language&quot; means in (for example) <a href=\"https://en.wikipedia.org/wiki/Assembly_language\" rel=\"nofollow noreferrer\">Wikipedia</a>.  It is essentially a language that has a direct one-to-one mapping<sup>2</sup> between &quot;statements&quot; and machine instructions for the target machine.  OOlong matches this description, if you view the JVM as the target machine.  (There is a one-to-one mapping between Oolong statements and JVM bytecode instructions.)</p>\n<blockquote>\n<p>The syntax of Jasmin files(which also have .j extension) looks like Oolong's syntax. Is it used there?</p>\n</blockquote>\n<p>I've seen sources that say that Oolong's syntax is &quot;based on Jasmin&quot;, but I can't find any stand-alone documents describing the syntax in any detail.</p>\n<p>If you are interested in looking at Oolong, this SO question has details on where to download it from:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4505808/where-is-the-source-code-for-oolong-and-gnoloo\">where is the source code for Oolong and Gnoloo?</a></li>\n</ul>\n<hr />\n<p><sup>1 - There is another unrelated Oolong programming language; see <a href=\"https://github.com/thesquaregroot/oolong\" rel=\"nofollow noreferrer\">https://github.com/thesquaregroot/oolong</a>.  And then there is Castegren\n&amp; Wrigstad's <a href=\"https://uu.diva-portal.org/smash/get/diva2:1161805/FULLTEXT01.pdf\" rel=\"nofollow noreferrer\">OOlong: An Extensible Concurrent Object Calculus</a>.<br>\n2 - I am oversimplifying.  Some assembly languages support &quot;macros&quot; where a single source statement can map to multiple target instructions.  Read the Wikipedia reference.</sup></p>\n"},{"tags":[],"owner":{"account_id":3263887,"reputation":1,"user_id":2748794,"display_name":"Mike Shapiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378338517,"creation_date":1378338517,"answer_id":18625610,"question_id":11132377,"body_markdown":"It uses a stack, stack frame, and has bytecodes that  correspond to real assembly language.  It also has higher level instructions that will retrieve fields from memory, but not directly.  You have to use getfield, putfield, invokespecial etc. Since JVM does not run in a true hardware environment(like the Unix Kernel) it does not do any of the heavy lifting that a real OS does like crafting processes, worrying about time slices and servicing interrupts, communicating with device drivers and on and on.  I would have to say JVM is middleware between Java and the native OS.  It is exactly what they call it .... a Virtual machine.","title":"What is Oolong in terms of JVM?","body":"<p>It uses a stack, stack frame, and has bytecodes that  correspond to real assembly language.  It also has higher level instructions that will retrieve fields from memory, but not directly.  You have to use getfield, putfield, invokespecial etc. Since JVM does not run in a true hardware environment(like the Unix Kernel) it does not do any of the heavy lifting that a real OS does like crafting processes, worrying about time slices and servicing interrupts, communicating with device drivers and on and on.  I would have to say JVM is middleware between Java and the native OS.  It is exactly what they call it .... a Virtual machine.</p>\n"}],"owner":{"account_id":286506,"reputation":11608,"user_id":585795,"accept_rate":89,"display_name":"Sergey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1797,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":11132993,"answer_count":3,"score":4,"last_activity_date":1684685398,"creation_date":1340258512,"question_id":11132377,"body_markdown":"I&#39;m reading &quot;Programming for Java Virtual Machine&quot; by Joshua Engel book where the author offers &quot;an assembly language for JVM&quot; called Oolong.\r\n\r\nAs far as I understand this is the language which is compiled into java bytecode and which is really similar to the original java bytecode(big number of bytecode opcodes are used there). If it&#39;s so then why is it called assembly language? Is that because it&#39;s low-level language and looks like a bytecode?\r\n\r\nAnother question is about Jasmin. As Wikipedia says it&#39;s &quot;a free open source assembler to create class files from human readable assembler-like syntax using the Java Virtual Machine instruction sets&quot;. The syntax of Jasmin files(which also have .j extension) looks like Oolong&#39;s syntax. Is it used there?","title":"What is Oolong in terms of JVM?","body":"<p>I'm reading \"Programming for Java Virtual Machine\" by Joshua Engel book where the author offers \"an assembly language for JVM\" called Oolong.</p>\n\n<p>As far as I understand this is the language which is compiled into java bytecode and which is really similar to the original java bytecode(big number of bytecode opcodes are used there). If it's so then why is it called assembly language? Is that because it's low-level language and looks like a bytecode?</p>\n\n<p>Another question is about Jasmin. As Wikipedia says it's \"a free open source assembler to create class files from human readable assembler-like syntax using the Java Virtual Machine instruction sets\". The syntax of Jasmin files(which also have .j extension) looks like Oolong's syntax. Is it used there?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"score":0,"creation_date":1675149614,"post_id":75293489,"comment_id":132860970,"body_markdown":"I added this condition to the filter of pattern matching,seemed to be working can anyone verify if its accurate:\nPattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}|S[a-zA-Z0-9]{4}&quot;);","body":"I added this condition to the filter of pattern matching,seemed to be working can anyone verify if its accurate: Pattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}|S[a-zA-Z0-9]{4}&quot;);"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1675150712,"post_id":75293489,"comment_id":132861231,"body_markdown":"that does look accurate.","body":"that does look accurate."}],"answers":[{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675149273,"creation_date":1675149273,"answer_id":75293753,"question_id":75293489,"body_markdown":"The way the question is phrased makes it hard to see what the requirements are. Are you just looking for help with creating another pattern which matches your second set of files? If so, you could use `Pattern.compile(&quot;S.{4}&quot;)`.","title":"Pattern matching in java with different pattern sets","body":"<p>The way the question is phrased makes it hard to see what the requirements are. Are you just looking for help with creating another pattern which matches your second set of files? If so, you could use <code>Pattern.compile(&quot;S.{4}&quot;)</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684685149,"creation_date":1684685149,"answer_id":76300784,"question_id":75293489,"body_markdown":"You can add the following pattern, to your current pattern using the `|` specifier.  \r\nThe `|` is equivalent to implying an &quot;or&quot; condition; e.g., `A|B` = A or B.\r\n\r\n```regex\r\nS.{4}\r\n```\r\n\r\nSo the full pattern will be the following.\r\n\r\n```regex\r\n[12]PR[K-Z]\\d{5}|S.{4}\r\n```\r\n\r\nFurthermore, you can simplify your code to a `String.matches` call, which is equivalent to your current code, it does the same thing.\r\n\r\n```java\r\nboolean matchFound = inputfield.matches(&quot;[12]PR[K-Z]\\\\d{5}|S.{4}&quot;);\r\n```","title":"Pattern matching in java with different pattern sets","body":"<p>You can add the following pattern, to your current pattern using the <code>|</code> specifier.<br />\nThe <code>|</code> is equivalent to implying an &quot;or&quot; condition; e.g., <code>A|B</code> = A or B.</p>\n<pre><code>S.{4}\n</code></pre>\n<p>So the full pattern will be the following.</p>\n<pre><code>[12]PR[K-Z]\\d{5}|S.{4}\n</code></pre>\n<p>Furthermore, you can simplify your code to a <code>String.matches</code> call, which is equivalent to your current code, it does the same thing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean matchFound = inputfield.matches(&quot;[12]PR[K-Z]\\\\d{5}|S.{4}&quot;);\n</code></pre>\n"}],"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684685149,"creation_date":1675147371,"question_id":75293489,"body_markdown":"I am trying to specify a pattern matching criteria in java for 2 set of filenames.One that begins like 1PRW12345 or 2PRZ32145 and other  set with SCA1W or SB1FC or any variant that starts with S and has a 5 character limit size\r\n\r\nEssentially one of them has been handled like below,how do i open up for other set of files that starts with S alphabet and has 5 characters in them like mentioned above to the existing pattern matching string\r\n\r\nIf the matchfound is true,i will perform a set of operations.But now i want to include S series with 5 characters limit to the existing pattern match,please advise\r\n\r\n```\r\nString inputfield=&quot;1PRW12345&quot;;\t\r\nPattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}&quot;); \r\n   Matcher matcher = pattern.matcher(inputfield); //String inputfield is defined elsewhere in the program\r\n         \t    boolean matchFound = matcher.find();\r\n```\r\n\r\n```\r\nString inputfield=&quot;1PRW12345&quot;;\t\r\nPattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}&quot;); \r\n   Matcher matcher = pattern.matcher(inputfield); //String inputfield is defined elsewhere in the program\r\n         \t    boolean matchFound = matcher.find();\r\n```","title":"Pattern matching in java with different pattern sets","body":"<p>I am trying to specify a pattern matching criteria in java for 2 set of filenames.One that begins like 1PRW12345 or 2PRZ32145 and other  set with SCA1W or SB1FC or any variant that starts with S and has a 5 character limit size</p>\n<p>Essentially one of them has been handled like below,how do i open up for other set of files that starts with S alphabet and has 5 characters in them like mentioned above to the existing pattern matching string</p>\n<p>If the matchfound is true,i will perform a set of operations.But now i want to include S series with 5 characters limit to the existing pattern match,please advise</p>\n<pre><code>String inputfield=&quot;1PRW12345&quot;;  \nPattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}&quot;); \n   Matcher matcher = pattern.matcher(inputfield); //String inputfield is defined elsewhere in the program\n                boolean matchFound = matcher.find();\n</code></pre>\n<pre><code>String inputfield=&quot;1PRW12345&quot;;  \nPattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}&quot;); \n   Matcher matcher = pattern.matcher(inputfield); //String inputfield is defined elsewhere in the program\n                boolean matchFound = matcher.find();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1684673936,"post_id":76299997,"comment_id":134548322,"body_markdown":"You have to call `http://localhost:8080/api/heroes/buscar/Pisicola` to hit the mentioned endpoint","body":"You have to call <code>http:&#47;&#47;localhost:8080&#47;api&#47;heroes&#47;buscar&#47;Pisicola</code> to hit the mentioned endpoint"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684684494,"creation_date":1684674874,"answer_id":76300079,"question_id":76299997,"body_markdown":"In your controller you are mixing the URL syntax for `PathVariable` and `RequestParameter`.\r\n\r\nFor `RequestParameter` should be:\r\n\r\n    @GetMapping(&quot;/buscar&quot;)\r\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\r\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\r\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\r\n    }\r\n\r\nAnd URL:\r\n\r\n    http://localhost:8080/api/heroes/buscar?name=Pisicola\r\n\r\nFor `PathVariable` should be:\r\n\r\n    @GetMapping(&quot;/buscar/{name}&quot;)\r\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@PathVariable String name) {\r\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\r\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\r\n    }\r\n\r\nAnd URL:\r\n\r\n    http://localhost:8080/api/heroes/buscar/Pisicola\r\n\r\nEDIT: the above examples are valid but won&#39;t fix the issue. You are using the `spring-boot-starter-data-rest` and your repository is annotated with `@RepositoryRestResource`. This cause some endpoints to be generated automatically by Spring. One of them is `/api/heroes/{id}` which takes a long as a path variable. This cause the issue when you are calling it with a string: `/api/heroes/buscar` You should avoid ambiguity when defining endpoints on top of the generated ones. \r\n","title":"Problem trying to get information using Spring boot","body":"<p>In your controller you are mixing the URL syntax for <code>PathVariable</code> and <code>RequestParameter</code>.</p>\n<p>For <code>RequestParameter</code> should be:</p>\n<pre><code>@GetMapping(&quot;/buscar&quot;)\npublic ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\n    List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n    return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n}\n</code></pre>\n<p>And URL:</p>\n<pre><code>http://localhost:8080/api/heroes/buscar?name=Pisicola\n</code></pre>\n<p>For <code>PathVariable</code> should be:</p>\n<pre><code>@GetMapping(&quot;/buscar/{name}&quot;)\npublic ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@PathVariable String name) {\n    List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n    return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n}\n</code></pre>\n<p>And URL:</p>\n<pre><code>http://localhost:8080/api/heroes/buscar/Pisicola\n</code></pre>\n<p>EDIT: the above examples are valid but won't fix the issue. You are using the <code>spring-boot-starter-data-rest</code> and your repository is annotated with <code>@RepositoryRestResource</code>. This cause some endpoints to be generated automatically by Spring. One of them is <code>/api/heroes/{id}</code> which takes a long as a path variable. This cause the issue when you are calling it with a string: <code>/api/heroes/buscar</code> You should avoid ambiguity when defining endpoints on top of the generated ones.</p>\n"},{"tags":[],"owner":{"account_id":18779514,"reputation":99,"user_id":13694486,"display_name":"Dox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684683779,"creation_date":1684683779,"answer_id":76300690,"question_id":76299997,"body_markdown":"I actually solved the error.\r\nThe problem was that I was declaring that the RequestMapping was &quot;/api/heroes/&quot;, but I was declaring in the application.properties file that the context.path is &quot;api&quot;.\r\n\r\n```\r\nserver.servlet.context-path=/api\r\n```\r\n\r\nSo the change is from:\r\n```\r\n@RequestMapping(&quot;/api/heroes/&quot;)\r\n```\r\n\r\nto\r\n\r\n```\r\n@RequestMapping(&quot;/heroes/&quot;)\r\n```\r\n\r\n","title":"Problem trying to get information using Spring boot","body":"<p>I actually solved the error.\nThe problem was that I was declaring that the RequestMapping was &quot;/api/heroes/&quot;, but I was declaring in the application.properties file that the context.path is &quot;api&quot;.</p>\n<pre><code>server.servlet.context-path=/api\n</code></pre>\n<p>So the change is from:</p>\n<pre><code>@RequestMapping(&quot;/api/heroes/&quot;)\n</code></pre>\n<p>to</p>\n<pre><code>@RequestMapping(&quot;/heroes/&quot;)\n</code></pre>\n"}],"owner":{"account_id":18779514,"reputation":99,"user_id":13694486,"display_name":"Dox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1684684494,"creation_date":1684673535,"question_id":76299997,"body_markdown":"I&#39;m trying to get a hero by his name with the next method in the controller:\r\n\r\n```\r\n@GetMapping(&quot;/buscar/{name}&quot;)\r\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\r\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\r\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\r\n    }\r\n```\r\n\r\nBut when I use POSTMAN to get the information with the next line:\r\n```\r\nhttp://localhost:8080/api/heroes/buscar?name=Pisicola\r\n```\r\n\r\nIt shows me this:\r\n\r\n```\r\n{\r\n    &quot;cause&quot;: {\r\n        &quot;cause&quot;: null,\r\n        &quot;message&quot;: &quot;For input string: \\&quot;buscar\\&quot;&quot;\r\n    },\r\n    &quot;message&quot;: &quot;Failed to convert from type [java.lang.String] to type [java.lang.Long] for value [buscar]&quot;\r\n}\r\n```\r\n\r\nInstead of the information of the Hero.\r\n\r\nThis is all the code I have related to the problem:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/heroes&quot;)\r\npublic class HeroController {\r\n\r\n    @Autowired\r\n    private HeroesRepository heroesRepository;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Heroe&gt; createHeroe(@RequestBody Heroe heroe) {\r\n        Heroe savedHeroe = heroesRepository.save(heroe);\r\n        return new ResponseEntity&lt;&gt;(savedHeroe, HttpStatus.CREATED);\r\n    }\r\n\r\n    public ResponseEntity&lt;Heroe&gt; getHeroeById(long id) {\r\n        Heroe heroe = heroesRepository.findById(id).orElseThrow();\r\n        return new ResponseEntity&lt;&gt;(heroe, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/buscar/{name}&quot;)\r\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\r\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\r\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\r\n    }\r\n\r\n    public ResponseEntity&lt;Heroe&gt; updateHeroe(long id, Heroe heroe) {\r\n        Heroe updatedHeroe = heroesRepository.save(heroe);\r\n        return new ResponseEntity&lt;&gt;(updatedHeroe, HttpStatus.OK);\r\n    }\r\n\r\n    public ResponseEntity&lt;Heroe&gt; deleteHeroe(long id) {\r\n        heroesRepository.deleteById(id);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n@RepositoryRestResource\r\npublic interface HeroesRepository extends JpaRepository&lt;Heroe, Long&gt; {\r\n\r\n    List&lt;Heroe&gt; findByName(String name);\r\n\r\n}\r\n```","title":"Problem trying to get information using Spring boot","body":"<p>I'm trying to get a hero by his name with the next method in the controller:</p>\n<pre><code>@GetMapping(&quot;/buscar/{name}&quot;)\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n    }\n</code></pre>\n<p>But when I use POSTMAN to get the information with the next line:</p>\n<pre><code>http://localhost:8080/api/heroes/buscar?name=Pisicola\n</code></pre>\n<p>It shows me this:</p>\n<pre><code>{\n    &quot;cause&quot;: {\n        &quot;cause&quot;: null,\n        &quot;message&quot;: &quot;For input string: \\&quot;buscar\\&quot;&quot;\n    },\n    &quot;message&quot;: &quot;Failed to convert from type [java.lang.String] to type [java.lang.Long] for value [buscar]&quot;\n}\n</code></pre>\n<p>Instead of the information of the Hero.</p>\n<p>This is all the code I have related to the problem:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/heroes&quot;)\npublic class HeroController {\n\n    @Autowired\n    private HeroesRepository heroesRepository;\n\n    @PostMapping\n    public ResponseEntity&lt;Heroe&gt; createHeroe(@RequestBody Heroe heroe) {\n        Heroe savedHeroe = heroesRepository.save(heroe);\n        return new ResponseEntity&lt;&gt;(savedHeroe, HttpStatus.CREATED);\n    }\n\n    public ResponseEntity&lt;Heroe&gt; getHeroeById(long id) {\n        Heroe heroe = heroesRepository.findById(id).orElseThrow();\n        return new ResponseEntity&lt;&gt;(heroe, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/buscar/{name}&quot;)\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n    }\n\n    public ResponseEntity&lt;Heroe&gt; updateHeroe(long id, Heroe heroe) {\n        Heroe updatedHeroe = heroesRepository.save(heroe);\n        return new ResponseEntity&lt;&gt;(updatedHeroe, HttpStatus.OK);\n    }\n\n    public ResponseEntity&lt;Heroe&gt; deleteHeroe(long id) {\n        heroesRepository.deleteById(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n    }\n}\n\n</code></pre>\n<pre><code>@RepositoryRestResource\npublic interface HeroesRepository extends JpaRepository&lt;Heroe, Long&gt; {\n\n    List&lt;Heroe&gt; findByName(String name);\n\n}\n</code></pre>\n"},{"tags":["java","c#","arrays","string","object"],"comments":[{"owner":{"account_id":6902424,"reputation":1394,"user_id":5301606,"display_name":"C. Helling"},"score":2,"creation_date":1675271475,"post_id":75313631,"comment_id":132894171,"body_markdown":"Looks like a homework help question, but the quickest (not cleanest) way to modify your code is to move the new Person() inside your loop, and instead of incrementing the array by one each time, increment it by `i += 3`, i.e. create your entire Person in one loop.","body":"Looks like a homework help question, but the quickest (not cleanest) way to modify your code is to move the new Person() inside your loop, and instead of incrementing the array by one each time, increment it by <code>i += 3</code>, i.e. create your entire Person in one loop."},{"owner":{"account_id":407442,"reputation":1238,"user_id":777522,"accept_rate":67,"display_name":"Ralf"},"score":1,"creation_date":1675271849,"post_id":75313631,"comment_id":132894309,"body_markdown":"Since you are asking for best. Start with not using a Flat Array to store object data in memory.","body":"Since you are asking for best. Start with not using a Flat Array to store object data in memory."},{"owner":{"account_id":15938416,"reputation":45,"user_id":11500927,"display_name":"Jesus Hamdi"},"score":0,"creation_date":1675272053,"post_id":75313631,"comment_id":132894381,"body_markdown":"@Ralf there are other restrictions, can&#39;t change the array type here","body":"@Ralf there are other restrictions, can&#39;t change the array type here"},{"owner":{"account_id":15938416,"reputation":45,"user_id":11500927,"display_name":"Jesus Hamdi"},"score":0,"creation_date":1675272122,"post_id":75313631,"comment_id":132894403,"body_markdown":"@C.Helling thanks for your suggestion. Still not sure how to go on after creating the first object tho.","body":"@C.Helling thanks for your suggestion. Still not sure how to go on after creating the first object tho."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675272151,"post_id":75313631,"comment_id":132894413,"body_markdown":"@C.Helling Actually your suggestion is the **cleanest**, considering the input(i assume it can&#39;t be changed, since it looks like homework). Incrementing the index by one, as it is now, would require a very awkward initialization of each new person.","body":"@C.Helling Actually your suggestion is the <b>cleanest</b>, considering the input(i assume it can&#39;t be changed, since it looks like homework). Incrementing the index by one, as it is now, would require a very awkward initialization of each new person."}],"answers":[{"tags":[],"owner":{"account_id":8719672,"reputation":32,"user_id":6523219,"display_name":"Nilesh Dhande"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1675272093,"creation_date":1675272093,"answer_id":75313910,"question_id":75313631,"body_markdown":"try below code this is worked you expected\r\n\r\n    for (int i = 0; i &lt;= myArray.Length; i++)\r\n    {\r\n    if (i == 0) p.ID = myArray[i];\r\n    if (i == 1) p.Name = myArray[i];\r\n    if (i == 2) p.Age = myArray[i];\r\n    if (i!=0 &amp;&amp; i % 2 == 0)\r\n    {\r\n        if (myArray.Length &gt; 0)\r\n        {\r\n            myArray = myArray.Skip(3).ToArray();\r\n        }\r\n        i = 0;\r\n    }\r\n    }","title":"How to create an object dynamically from a string array?","body":"<p>try below code this is worked you expected</p>\n<pre><code>for (int i = 0; i &lt;= myArray.Length; i++)\n{\nif (i == 0) p.ID = myArray[i];\nif (i == 1) p.Name = myArray[i];\nif (i == 2) p.Age = myArray[i];\nif (i!=0 &amp;&amp; i % 2 == 0)\n{\n    if (myArray.Length &gt; 0)\n    {\n        myArray = myArray.Skip(3).ToArray();\n    }\n    i = 0;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24220628,"reputation":65,"user_id":18175860,"display_name":"ThatGuy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675493395,"creation_date":1675493395,"answer_id":75343468,"question_id":75313631,"body_markdown":"You only take the first three values to create a Person object and then call `AddNewRecord` every 3rd iteration. Instead, every 3rd iteration you will need to set `p` to a new Person in order to prevent mutating the existing Person object already used to invoke `AddNewRecord`. To avoid only using the 3 first array elements, you want to % 3 on them too. 0 % 3 = 0, 1 % 3 = 1, 2 % 3 = 2, 3 % 3 = 0. Any number % 3 will tell you whether you&#39;re on the ID, Name or Age.\r\n\r\nI think it&#39;s worth asking why you have an array of strings containing object data. Why not create the Person before putting all of their info in an array to avoid this problem?","title":"How to create an object dynamically from a string array?","body":"<p>You only take the first three values to create a Person object and then call <code>AddNewRecord</code> every 3rd iteration. Instead, every 3rd iteration you will need to set <code>p</code> to a new Person in order to prevent mutating the existing Person object already used to invoke <code>AddNewRecord</code>. To avoid only using the 3 first array elements, you want to % 3 on them too. 0 % 3 = 0, 1 % 3 = 1, 2 % 3 = 2, 3 % 3 = 0. Any number % 3 will tell you whether you're on the ID, Name or Age.</p>\n<p>I think it's worth asking why you have an array of strings containing object data. Why not create the Person before putting all of their info in an array to avoid this problem?</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684684415,"creation_date":1684684415,"answer_id":76300741,"question_id":75313631,"body_markdown":"Here is a Java solution.\r\n\r\nYou can use a `record` to hold the values.  \r\nThen, use a for-loop which increments by 3 on each iteration, to create a `List`.\r\n\r\n```java\r\nrecord Person(String id, String name, String age) { }\r\n```\r\n\r\n```java\r\nList&lt;Person&gt; parse(String[] strings) {\r\n    List&lt;Person&gt; list = new ArrayList&lt;&gt;();\r\n    for (int index = 0; index &lt; strings.length; index += 3)\r\n        list.add(new Person(strings[index], strings[index + 1], strings[index + 2]));\r\n    return list;\r\n}\r\n```\r\n\r\nOutput\r\n```java\r\n[Person[id=1, name=Jack, age=18], Person[id=2, name=John, age=22], Person[id=3, name=Mark, age=29]]\r\n```","title":"How to create an object dynamically from a string array?","body":"<p>Here is a Java solution.</p>\n<p>You can use a <code>record</code> to hold the values.<br />\nThen, use a for-loop which increments by 3 on each iteration, to create a <code>List</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person(String id, String name, String age) { }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Person&gt; parse(String[] strings) {\n    List&lt;Person&gt; list = new ArrayList&lt;&gt;();\n    for (int index = 0; index &lt; strings.length; index += 3)\n        list.add(new Person(strings[index], strings[index + 1], strings[index + 2]));\n    return list;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-java prettyprint-override\"><code>[Person[id=1, name=Jack, age=18], Person[id=2, name=John, age=22], Person[id=3, name=Mark, age=29]]\n</code></pre>\n"}],"owner":{"account_id":15938416,"reputation":45,"user_id":11500927,"display_name":"Jesus Hamdi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1684684415,"creation_date":1675270690,"question_id":75313631,"body_markdown":"I have a String array in C# like below:\r\n\r\n    String[] myArray = {&quot;1&quot;,&quot;Jack&quot;,&quot;18&quot;,&quot;2&quot;,&quot;John&quot;,&quot;22&quot;,&quot;3&quot;,&quot;Mark&quot;,&quot;29&quot;}\r\n\r\nActually there are 3 objects in my array, first column is ID, second is Name and third is Age. So I need to insert 3 rows into my SQL table, each represents one person.\r\n\r\nWhat is the best way to handle it?\r\n\r\nI try:\r\n\r\n    Person p = new Person();\r\n    for (int i = 0; i &lt;= myArray.Length; i++)\r\n    {\r\n        if (i==0) p.Id = myArray[i];\r\n        if (i==1) p.Name = myArray[i];\r\n        if (i==2) p.Age = myArray[i];\r\n        if (i%3==0) AddNewRecord(p);\r\n    }\r\n\r\nBut then how can I remove the first object from my array and start from 0 again?\r\n\r\nThanks.\r\n\r\nPS. Couldn&#39;t find a proper title for my issue, sorry, appreciate if you may edit.\r\n\r\nEdit: Java or C# answer, both fine by me","title":"How to create an object dynamically from a string array?","body":"<p>I have a String array in C# like below:</p>\n<pre><code>String[] myArray = {&quot;1&quot;,&quot;Jack&quot;,&quot;18&quot;,&quot;2&quot;,&quot;John&quot;,&quot;22&quot;,&quot;3&quot;,&quot;Mark&quot;,&quot;29&quot;}\n</code></pre>\n<p>Actually there are 3 objects in my array, first column is ID, second is Name and third is Age. So I need to insert 3 rows into my SQL table, each represents one person.</p>\n<p>What is the best way to handle it?</p>\n<p>I try:</p>\n<pre><code>Person p = new Person();\nfor (int i = 0; i &lt;= myArray.Length; i++)\n{\n    if (i==0) p.Id = myArray[i];\n    if (i==1) p.Name = myArray[i];\n    if (i==2) p.Age = myArray[i];\n    if (i%3==0) AddNewRecord(p);\n}\n</code></pre>\n<p>But then how can I remove the first object from my array and start from 0 again?</p>\n<p>Thanks.</p>\n<p>PS. Couldn't find a proper title for my issue, sorry, appreciate if you may edit.</p>\n<p>Edit: Java or C# answer, both fine by me</p>\n"},{"tags":["java","heap","priority-queue"],"comments":[{"owner":{"account_id":17731032,"reputation":407,"user_id":12873636,"display_name":"sgtcortez"},"score":2,"creation_date":1618262015,"post_id":67058645,"comment_id":118544680,"body_markdown":"Does this answer your question? [Java. Is it possible to use a pair in a priority queue and then return a value using the key as a priority](https://stackoverflow.com/questions/61702224/java-is-it-possible-to-use-a-pair-in-a-priority-queue-and-then-return-a-value-u)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61702224/java-is-it-possible-to-use-a-pair-in-a-priority-queue-and-then-return-a-value-u\">Java. Is it possible to use a pair in a priority queue and then return a value using the key as a priority</a>"},{"owner":{"account_id":17731032,"reputation":407,"user_id":12873636,"display_name":"sgtcortez"},"score":0,"creation_date":1618262202,"post_id":67058645,"comment_id":118544735,"body_markdown":"You can not use the [Priority Key](https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html) with a pair.\n\nIf you want so, will need to write some code.","body":"You can not use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">Priority Key</a> with a pair.  If you want so, will need to write some code."},{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":0,"creation_date":1684674524,"post_id":67058645,"comment_id":134548390,"body_markdown":"Note that answers suggesting PriorityQueue do not address your question since you are asking for a heap implementation. That behind the scenes this priority queue is implemented using a binary heap is just a technical detail.","body":"Note that answers suggesting PriorityQueue do not address your question since you are asking for a heap implementation. That behind the scenes this priority queue is implemented using a binary heap is just a technical detail."}],"answers":[{"tags":[],"owner":{"account_id":16323583,"reputation":3284,"user_id":11788715,"display_name":"Ole Pannier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618262492,"creation_date":1618259928,"answer_id":67065381,"question_id":67058645,"body_markdown":"In `Java` you can use a `HashMap` for that:\r\n\r\n    import javafx.util.Pair;\r\n    import java.util.PriorityQueue;\r\n    \r\n    public class YourClass{\r\n\r\n        public static void main (String[] args){\r\n\r\n            int n = 3;\r\n\r\n    PriorityQueue&lt;Pair&lt;Integer,Integer&gt; &gt; pq = new PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt;(n, Comparator.comparing(Pair::getKey));\r\n\r\n      /*Adding elements to HashMap*/\r\n      pq.add(new Pair &lt;&gt; (10, 200));\r\n      pq.add(new Pair &lt;&gt; (20, 100));\r\n      pq.add(new Pair &lt;&gt; (15, 400));\r\n\r\n     System.out.println(l.poll().getValue()); \r\n        }\r\n    }\r\n     ","title":"How to implement max heap with pair using priority queue in java?","body":"<p>In <code>Java</code> you can use a <code>HashMap</code> for that:</p>\n<pre><code>import javafx.util.Pair;\nimport java.util.PriorityQueue;\n\npublic class YourClass{\n\n    public static void main (String[] args){\n\n        int n = 3;\n\nPriorityQueue&lt;Pair&lt;Integer,Integer&gt; &gt; pq = new PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt;(n, Comparator.comparing(Pair::getKey));\n\n  /*Adding elements to HashMap*/\n  pq.add(new Pair &lt;&gt; (10, 200));\n  pq.add(new Pair &lt;&gt; (20, 100));\n  pq.add(new Pair &lt;&gt; (15, 400));\n\n System.out.println(l.poll().getValue()); \n    }\n}\n \n</code></pre>\n"},{"tags":[],"owner":{"account_id":28647404,"reputation":21,"user_id":21935105,"display_name":"Rakhi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684674659,"creation_date":1684670229,"answer_id":76299793,"question_id":67058645,"body_markdown":"There is a discussion with examples [here][1].\r\n\r\nBriefly, you can set up the queue by providing key value pairs and specifying how pairs should be compared:\r\n\r\n``` \r\nPriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt; pq = \r\n    new PriorityQueue&lt;&gt;((a,b)-&gt; b.getValue() - a.getValue());\r\n```\r\n\r\n  [1]: https://www.geeksforgeeks.org/priority-queue-of-pair-in-java-with-examples/","title":"How to implement max heap with pair using priority queue in java?","body":"<p>There is a discussion with examples <a href=\"https://www.geeksforgeeks.org/priority-queue-of-pair-in-java-with-examples/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Briefly, you can set up the queue by providing key value pairs and specifying how pairs should be compared:</p>\n<pre><code>PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt; pq = \n    new PriorityQueue&lt;&gt;((a,b)-&gt; b.getValue() - a.getValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684684093,"creation_date":1684678406,"answer_id":76300328,"question_id":67058645,"body_markdown":"The Pair can be used for this use case which is from the `javafx.util` package.\r\n\r\nIf we need to sort it based on the value.\r\n\r\n```java\r\nimport javafx.util.Pair;\r\nimport java.util.*;\r\n\r\npublic class ExampleClass {\r\n    public static void main(String [] args) {\r\n          PriorityQueue&lt;Pair&lt;Integer, Integer&gt;&gt; maxHeap = new PriorityQueue&lt;&gt;((num1, num2) -&gt; Integer.compare(num2.getValue(), num1.getValue()));\r\n          maxHeap.offer(new Pair&lt;&gt;(10, 200));\r\n          maxHeap.offer(new Pair&lt;&gt;(20, 100));\r\n          maxHeap.offer(new Pair&lt;&gt;(15, 400));\r\n    }\r\n}\r\n```\r\n\r\nIf we need to sort it based on the key.\r\n\r\n```java\r\nimport javafx.util.Pair;\r\nimport java.util.*;\r\n\r\npublic class ExampleClass {\r\n    public static void main(String [] args) {\r\n          PriorityQueue&lt;Pair&lt;Integer, Integer&gt;&gt; maxHeap = new PriorityQueue&lt;&gt;((num1, num2) -&gt; Integer.compare(num2.getKey(), num1.getKey()));\r\n          maxHeap.offer(new Pair&lt;&gt;(10, 200));\r\n          maxHeap.offer(new Pair&lt;&gt;(20, 100));\r\n          maxHeap.offer(new Pair&lt;&gt;(15, 400));\r\n    }\r\n}\r\n```\r\n\r\nHere we are creating an instance of the priority queue by passing a simple [lambda][1] expression as a constructor parameter.\r\n\r\nWe can print the result using a while loop to check whether the `maxHeap` is empty or non-empty.\r\n\r\n```java\r\nwhile (!maxHeap.isEmpty()) {\r\n     Pair&lt;Integer, Integer&gt; topOfHeap = maxHeap.poll();\r\n     System.out.println(topOfHeap.getValue());\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","title":"How to implement max heap with pair using priority queue in java?","body":"<p>The Pair can be used for this use case which is from the <code>javafx.util</code> package.</p>\n<p>If we need to sort it based on the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.util.Pair;\nimport java.util.*;\n\npublic class ExampleClass {\n    public static void main(String [] args) {\n          PriorityQueue&lt;Pair&lt;Integer, Integer&gt;&gt; maxHeap = new PriorityQueue&lt;&gt;((num1, num2) -&gt; Integer.compare(num2.getValue(), num1.getValue()));\n          maxHeap.offer(new Pair&lt;&gt;(10, 200));\n          maxHeap.offer(new Pair&lt;&gt;(20, 100));\n          maxHeap.offer(new Pair&lt;&gt;(15, 400));\n    }\n}\n</code></pre>\n<p>If we need to sort it based on the key.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.util.Pair;\nimport java.util.*;\n\npublic class ExampleClass {\n    public static void main(String [] args) {\n          PriorityQueue&lt;Pair&lt;Integer, Integer&gt;&gt; maxHeap = new PriorityQueue&lt;&gt;((num1, num2) -&gt; Integer.compare(num2.getKey(), num1.getKey()));\n          maxHeap.offer(new Pair&lt;&gt;(10, 200));\n          maxHeap.offer(new Pair&lt;&gt;(20, 100));\n          maxHeap.offer(new Pair&lt;&gt;(15, 400));\n    }\n}\n</code></pre>\n<p>Here we are creating an instance of the priority queue by passing a simple <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda</a> expression as a constructor parameter.</p>\n<p>We can print the result using a while loop to check whether the <code>maxHeap</code> is empty or non-empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (!maxHeap.isEmpty()) {\n     Pair&lt;Integer, Integer&gt; topOfHeap = maxHeap.poll();\n     System.out.println(topOfHeap.getValue());\n}\n</code></pre>\n"}],"owner":{"account_id":20545235,"reputation":19,"user_id":15079261,"display_name":"SUCHITRA GIRI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1775,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1684684093,"creation_date":1618231575,"question_id":67058645,"body_markdown":"I am trying to implement Max heap with key value pair in java. As we know in C++ we can do that in this way..\r\n\r\n``` \r\n    priority_queue&lt;pair&lt;int, int&gt; &gt; pq;\r\n    pq.push(make_pair(10, 200));\r\n    pq.push(make_pair(20, 100));\r\n    pq.push(make_pair(15, 400));\r\n```\r\nBut I am unable to do this in java, please help me to do so.","title":"How to implement max heap with pair using priority queue in java?","body":"<p>I am trying to implement Max heap with key value pair in java. As we know in C++ we can do that in this way..</p>\n<pre><code>    priority_queue&lt;pair&lt;int, int&gt; &gt; pq;\n    pq.push(make_pair(10, 200));\n    pq.push(make_pair(20, 100));\n    pq.push(make_pair(15, 400));\n</code></pre>\n<p>But I am unable to do this in java, please help me to do so.</p>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1681294484,"post_id":75988239,"comment_id":134032206,"body_markdown":"Shouldn&#39;t those properties have `value=&quot;true&quot;`/`value=&quot;false&quot;` instead of `value=&quot;Boolean.TRUE&quot;`/`value=&quot;Boolean.FALSE&quot;`?","body":"Shouldn&#39;t those properties have <code>value=&quot;true&quot;</code>/<code>value=&quot;false&quot;</code> instead of <code>value=&quot;Boolean.TRUE&quot;</code>/<code>value=&quot;Boolean.FALSE&quot;</code>?"},{"owner":{"account_id":5627846,"reputation":339,"user_id":4455670,"display_name":"Vinz"},"score":0,"creation_date":1681404944,"post_id":75988239,"comment_id":134054707,"body_markdown":"also tried like you said, and same result, anyway both should work, this format is used throughout our reports for other parameters in other report and seem to work with this format...","body":"also tried like you said, and same result, anyway both should work, this format is used throughout our reports for other parameters in other report and seem to work with this format..."}],"answers":[{"tags":[],"owner":{"account_id":5627846,"reputation":339,"user_id":4455670,"display_name":"Vinz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684684061,"creation_date":1681915193,"answer_id":76055806,"question_id":75988239,"body_markdown":"I found this Jasper Reports spec :\r\n\r\nhttps://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/fill/TextMeasurer.html\r\n\r\nTalking about most ot the available parameters for wraping text , and added  the property :\r\n\r\n    &lt;property name=&quot;net.sf.jasperreports.text.truncate.at.char&quot; value=&quot;false&quot;/&gt;\r\n\r\nbased on what I could understand from the specs this tell jasper not to break at caracters, but only a words... And the issue is solved !\r\n\r\nfull Text field is now like this :\r\n\r\n\t\t\t\r\n\r\n    &lt;textField textAdjust=&quot;ScaleFont&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t&lt;reportElement stretchType=&quot;ElementGroupBottom&quot; x=&quot;10&quot; y=&quot;124&quot; width=&quot;771&quot; height=&quot;396&quot; isPrintInFirstWholeBand=&quot;true&quot; isPrintWhenDetailOverflows=&quot;true&quot; uuid=&quot;bb2d4ab6-fc46-4edd-87ad-18dc4d32d461&quot;&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;net.sf.jasperreports.print.keep.full.text&quot; value=&quot;false&quot;/&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;net.sf.jasperreports.text.save.line.breaks&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;net.sf.jasperreports.export.pdf.force.linebreak.policy&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;net.sf.jasperreports.text.truncate.at.char&quot; value=&quot;false&quot;/&gt;\r\n    \t\t\t\t&lt;/reportElement&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot; markup=&quot;html&quot;&gt;\r\n    \t\t\t\t\t&lt;font pdfFontName=&quot;Helvetica&quot; size=&quot;136&quot; isBold=&quot;true&quot; isPdfEmbedded=&quot;true&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{letrero}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t&lt;/textField&gt;\r\n\r\nHope this will help anyone with a similar issue !\r\n\r\n\r\nEDIT : This configuration solved the issue in some but not all situations, if the text fits on 2 lines by wrapping one carater of the first word Jasper will still prefer to do that than to slightly reduce the font, but now, at least, if the  one caracter wrapping was occuring on a second or third line the behaviour is now as expected and jasper will rather slighlty reduce font size than wrapping one single digit to a new line... I guess the &quot;ScaleFont&quot; algorithm and the &quot;Truncate&quot; policy are just having having  difficulties working together. So if anyone finds a better solution working always, I am still interested in a better answer than the one I found.\r\n\r\nEDIT 2 : Final Solution found, the issue was a font issue, adding : pdfFontName=&quot;Helvetica&quot; in the text element works so far. I think that without specifying a font Jasper sets the scaling required based on its default font, and then the if the pdf has the liberty to choose a slightly different font, the scaling defined by Jasper might not give the expected effect. Well just asuming this part...","title":"Jasper Report Java : Avoid breaking words when wrapping","body":"<p>I found this Jasper Reports spec :</p>\n<p><a href=\"https://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/fill/TextMeasurer.html\" rel=\"nofollow noreferrer\">https://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/fill/TextMeasurer.html</a></p>\n<p>Talking about most ot the available parameters for wraping text , and added  the property :</p>\n<pre><code>&lt;property name=&quot;net.sf.jasperreports.text.truncate.at.char&quot; value=&quot;false&quot;/&gt;\n</code></pre>\n<p>based on what I could understand from the specs this tell jasper not to break at caracters, but only a words... And the issue is solved !</p>\n<p>full Text field is now like this :</p>\n<pre><code>&lt;textField textAdjust=&quot;ScaleFont&quot; isBlankWhenNull=&quot;true&quot;&gt;\n                &lt;reportElement stretchType=&quot;ElementGroupBottom&quot; x=&quot;10&quot; y=&quot;124&quot; width=&quot;771&quot; height=&quot;396&quot; isPrintInFirstWholeBand=&quot;true&quot; isPrintWhenDetailOverflows=&quot;true&quot; uuid=&quot;bb2d4ab6-fc46-4edd-87ad-18dc4d32d461&quot;&gt;\n                    &lt;property name=&quot;net.sf.jasperreports.print.keep.full.text&quot; value=&quot;false&quot;/&gt;\n                    &lt;property name=&quot;net.sf.jasperreports.text.save.line.breaks&quot; value=&quot;true&quot;/&gt;\n                    &lt;property name=&quot;net.sf.jasperreports.export.pdf.force.linebreak.policy&quot; value=&quot;true&quot;/&gt;\n                    &lt;property name=&quot;net.sf.jasperreports.text.truncate.at.char&quot; value=&quot;false&quot;/&gt;\n                &lt;/reportElement&gt;\n                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot; markup=&quot;html&quot;&gt;\n                    &lt;font pdfFontName=&quot;Helvetica&quot; size=&quot;136&quot; isBold=&quot;true&quot; isPdfEmbedded=&quot;true&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{letrero}]]&gt;&lt;/textFieldExpression&gt;\n    &lt;/textField&gt;\n</code></pre>\n<p>Hope this will help anyone with a similar issue !</p>\n<p>EDIT : This configuration solved the issue in some but not all situations, if the text fits on 2 lines by wrapping one carater of the first word Jasper will still prefer to do that than to slightly reduce the font, but now, at least, if the  one caracter wrapping was occuring on a second or third line the behaviour is now as expected and jasper will rather slighlty reduce font size than wrapping one single digit to a new line... I guess the &quot;ScaleFont&quot; algorithm and the &quot;Truncate&quot; policy are just having having  difficulties working together. So if anyone finds a better solution working always, I am still interested in a better answer than the one I found.</p>\n<p>EDIT 2 : Final Solution found, the issue was a font issue, adding : pdfFontName=&quot;Helvetica&quot; in the text element works so far. I think that without specifying a font Jasper sets the scaling required based on its default font, and then the if the pdf has the liberty to choose a slightly different font, the scaling defined by Jasper might not give the expected effect. Well just asuming this part...</p>\n"}],"owner":{"account_id":5627846,"reputation":339,"user_id":4455670,"display_name":"Vinz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76055806,"answer_count":1,"score":0,"last_activity_date":1684684061,"creation_date":1681231045,"question_id":75988239,"body_markdown":"I have a Java project that compiles a Jasper XML on the fly and then exports to PDF.\r\n\r\nIn one of the text field I need JasperReports not to cut the words, and rather to adapt the font size. The font size change works fine, when text is large Jasper reduces the font and wraps the text, but the &quot;do not cut words&quot; part does not work, many times, the PDF will end up with the text over several lines, but the wrapping will cut words in very illogical part, even sometime just leaving one letter of a word on the next line. Can you tell me what I am doing wrong?\r\n\r\nI have added and tested all the parameters I found in the Jasper documentation and with Google about breaking words, but none, or any combination of them changes the results.\r\n\r\nThe text field culprit is here:\r\n\t\r\n```xml\r\n&lt;textField textAdjust=&quot;ScaleFont&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    &lt;reportElement stretchType=&quot;ElementGroupBottom&quot; x=&quot;10&quot; y=&quot;124&quot; width=&quot;771&quot;\r\n     height=&quot;396&quot; isPrintInFirstWholeBand=&quot;true&quot; isPrintWhenDetailOverflows=&quot;true&quot;\r\n     uuid=&quot;bb2d4ab6-fc46-4edd-87ad-18dc4d32d461&quot;&gt;\r\n    \t&lt;property name=&quot;net.sf.jasperreports.print.keep.full.text&quot; value=&quot;Boolean.TRUE&quot;/&gt;\r\n    \t&lt;property name=&quot;net.sf.jasperreports.print.html.wrap.break.word&quot; value=&quot;Boolean.FALSE&quot;/&gt;\r\n    \t&lt;property name=&quot;net.sf.jasperreports.text.save.line.breaks&quot; value=&quot;Boolean.FALSE&quot;/&gt;\r\n    &lt;/reportElement&gt;\r\n    &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot; markup=&quot;html&quot;&gt;\r\n    \t&lt;font size=&quot;140&quot; isBold=&quot;true&quot;/&gt;\r\n    &lt;/textElement&gt;\r\n    &lt;textFieldExpression&gt;&lt;![CDATA[$P{letrero}]]&gt;&lt;/textFieldExpression&gt;\r\n&lt;/textField&gt;\r\n```\r\n\r\nThe Java part that generate the report is here:\r\n\r\n```java\r\ntry {\r\n    parameters.put(JRJpaQueryExecuterFactory.PARAMETER_JPA_ENTITY_MANAGER, entityManager);\r\n    JasperReport report = JasperCompileManager.compileReport(Util.getFileInClassPathAsInputStream(&quot;/web/report/name-sign.jrxml&quot;));\r\n    \r\n    JasperPrint print = JasperFillManager.fillReport(report, parameters, new JREmptyDataSource());\r\n    \r\n    return JasperExportManager.exportReportToPdf(print);\r\n} catch (JRException ex) {\r\n    ex.printStackTrace();\r\n    logger.error( ex.getMessage());\r\n}\r\nreturn null;\r\n```","title":"Jasper Report Java : Avoid breaking words when wrapping","body":"<p>I have a Java project that compiles a Jasper XML on the fly and then exports to PDF.</p>\n<p>In one of the text field I need JasperReports not to cut the words, and rather to adapt the font size. The font size change works fine, when text is large Jasper reduces the font and wraps the text, but the &quot;do not cut words&quot; part does not work, many times, the PDF will end up with the text over several lines, but the wrapping will cut words in very illogical part, even sometime just leaving one letter of a word on the next line. Can you tell me what I am doing wrong?</p>\n<p>I have added and tested all the parameters I found in the Jasper documentation and with Google about breaking words, but none, or any combination of them changes the results.</p>\n<p>The text field culprit is here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;textField textAdjust=&quot;ScaleFont&quot; isBlankWhenNull=&quot;true&quot;&gt;\n    &lt;reportElement stretchType=&quot;ElementGroupBottom&quot; x=&quot;10&quot; y=&quot;124&quot; width=&quot;771&quot;\n     height=&quot;396&quot; isPrintInFirstWholeBand=&quot;true&quot; isPrintWhenDetailOverflows=&quot;true&quot;\n     uuid=&quot;bb2d4ab6-fc46-4edd-87ad-18dc4d32d461&quot;&gt;\n        &lt;property name=&quot;net.sf.jasperreports.print.keep.full.text&quot; value=&quot;Boolean.TRUE&quot;/&gt;\n        &lt;property name=&quot;net.sf.jasperreports.print.html.wrap.break.word&quot; value=&quot;Boolean.FALSE&quot;/&gt;\n        &lt;property name=&quot;net.sf.jasperreports.text.save.line.breaks&quot; value=&quot;Boolean.FALSE&quot;/&gt;\n    &lt;/reportElement&gt;\n    &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot; markup=&quot;html&quot;&gt;\n        &lt;font size=&quot;140&quot; isBold=&quot;true&quot;/&gt;\n    &lt;/textElement&gt;\n    &lt;textFieldExpression&gt;&lt;![CDATA[$P{letrero}]]&gt;&lt;/textFieldExpression&gt;\n&lt;/textField&gt;\n</code></pre>\n<p>The Java part that generate the report is here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    parameters.put(JRJpaQueryExecuterFactory.PARAMETER_JPA_ENTITY_MANAGER, entityManager);\n    JasperReport report = JasperCompileManager.compileReport(Util.getFileInClassPathAsInputStream(&quot;/web/report/name-sign.jrxml&quot;));\n    \n    JasperPrint print = JasperFillManager.fillReport(report, parameters, new JREmptyDataSource());\n    \n    return JasperExportManager.exportReportToPdf(print);\n} catch (JRException ex) {\n    ex.printStackTrace();\n    logger.error( ex.getMessage());\n}\nreturn null;\n</code></pre>\n"},{"tags":["java","arrays","string","stdin"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1675306846,"post_id":75318214,"comment_id":132902419,"body_markdown":"The `split` method creates and returns a `String[]` from a `String`.","body":"The <code>split</code> method creates and returns a <code>String[]</code> from a <code>String</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1675306997,"post_id":75318214,"comment_id":132902436,"body_markdown":"*&quot;Googling stdin for the last hour trying to find any documentation that helps me&quot;* - Try looking at the javadocs for the `String` class.  And look at what is says about `split`.   This is not a problem with &quot;stdin&quot; *per se* ... or even with `Scanner`.  It is about what you are doing with the line **after** you read it.  But if all you are doing is reading `size` strings separated by whitespace, you should be using `Scanner.next()` rather than `Scanner.nextLine()`.  (Again ... read the javadocs for `Scanner`.)","body":"<i>&quot;Googling stdin for the last hour trying to find any documentation that helps me&quot;</i> - Try looking at the javadocs for the <code>String</code> class.  And look at what is says about <code>split</code>.   This is not a problem with &quot;stdin&quot; <i>per se</i> ... or even with <code>Scanner</code>.  It is about what you are doing with the line <b>after</b> you read it.  But if all you are doing is reading <code>size</code> strings separated by whitespace, you should be using <code>Scanner.next()</code> rather than <code>Scanner.nextLine()</code>.  (Again ... read the javadocs for <code>Scanner</code>.)"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1675314570,"post_id":75318214,"comment_id":132903381,"body_markdown":"If each input is on its own line, you don&#39;t need `split`.","body":"If each input is on its own line, you don&#39;t need <code>split</code>."}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675346117,"creation_date":1675346117,"answer_id":75324194,"question_id":75318214,"body_markdown":"If you are using eclipse arguments separated by enter then your logic is wrong:\r\n\r\naccording to your logic get 1st element from the eclipse argument like **args[0]**\r\n\r\nanother Input is taken from the console.\r\n\r\nif you need to take all elements from the eclipse argument follow the below code:\r\n\r\n    public class A2P1 {\r\n        public static void main(String[] args) {\r\n            int size = Integer.parseInt(args[0]);\r\n            String[] str = new String[size];\r\n            int length=0;\r\n            String loggestString=&quot;&quot;;\r\n            \r\n            for (int i=1; i &lt; size; i++) {\r\n                str[i] = args[i];      \r\n                int strLen = str[i].length();\r\n                if(strLen&gt;length) {\r\n                \tlength=strLen;\r\n                \tloggestString=str[i];\r\n                }\r\n            }\r\n            System.out.println(loggestString);\r\n        } \r\n    }\r\n\r\n","title":"Java Stdin Cannot convert from String[] to String, but inputs are String?","body":"<p>If you are using eclipse arguments separated by enter then your logic is wrong:</p>\n<p>according to your logic get 1st element from the eclipse argument like <strong>args[0]</strong></p>\n<p>another Input is taken from the console.</p>\n<p>if you need to take all elements from the eclipse argument follow the below code:</p>\n<pre><code>public class A2P1 {\n    public static void main(String[] args) {\n        int size = Integer.parseInt(args[0]);\n        String[] str = new String[size];\n        int length=0;\n        String loggestString=&quot;&quot;;\n        \n        for (int i=1; i &lt; size; i++) {\n            str[i] = args[i];      \n            int strLen = str[i].length();\n            if(strLen&gt;length) {\n                length=strLen;\n                loggestString=str[i];\n            }\n        }\n        System.out.println(loggestString);\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684683948,"creation_date":1684683461,"answer_id":76300677,"question_id":75318214,"body_markdown":"Your assignment is incorrect, use the following.\r\n\r\n```java\r\nstr = sc.nextLine().split(&quot; &quot;);\r\n```\r\n\r\nYou were attempting to place the `String[]` within the `i` index.\r\n\r\n- `str[i]` is a `String`.\r\n- `split` returns a `String[]`\r\n\r\nI&#39;ve refactored your code, for reference, have it look.\r\n\r\n```java\r\nScanner sc = new Scanner(System.in);\r\nString[] str = sc.nextLine().split(&quot; &quot;);\r\nint maximum = 0;\r\nfor (String string : str) {\r\n    if (string.length() &gt; maximum)\r\n        maximum = string.length();\r\n}\r\nSystem.out.println(&quot;The longest input strings are:&quot;);\r\nfor (String string : str) {\r\n    if (string.length() == maximum)\r\n        System.out.println(string);\r\n}\r\n```\r\n\r\nOutput for &quot;3 a2 b3c 7&quot;.\r\n\r\n```none\r\nThe longest input strings are:\r\nb3c\r\n```","title":"Java Stdin Cannot convert from String[] to String, but inputs are String?","body":"<p>Your assignment is incorrect, use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>str = sc.nextLine().split(&quot; &quot;);\n</code></pre>\n<p>You were attempting to place the <code>String[]</code> within the <code>i</code> index.</p>\n<ul>\n<li><code>str[i]</code> is a <code>String</code>.</li>\n<li><code>split</code> returns a <code>String[]</code></li>\n</ul>\n<p>I've refactored your code, for reference, have it look.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\nString[] str = sc.nextLine().split(&quot; &quot;);\nint maximum = 0;\nfor (String string : str) {\n    if (string.length() &gt; maximum)\n        maximum = string.length();\n}\nSystem.out.println(&quot;The longest input strings are:&quot;);\nfor (String string : str) {\n    if (string.length() == maximum)\n        System.out.println(string);\n}\n</code></pre>\n<p>Output for &quot;3 a2 b3c 7&quot;.</p>\n<pre class=\"lang-none prettyprint-override\"><code>The longest input strings are:\nb3c\n</code></pre>\n"}],"owner":{"account_id":27065744,"reputation":11,"user_id":20617134,"display_name":"Gynzie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684683948,"creation_date":1675306487,"question_id":75318214,"body_markdown":"I am doing a programming assignment that takes all of its input from stdin. The first input is an int n to tell you how many strings will follow, and the next n inputs are strings of varying lengths. The goal is to find the longest string(s) and print them. \r\n\r\nI thought this was easy, but for the life of me, I cannot get the stdin to work with me. The eclipse arguments entered are (separated by enter):\r\n\r\n - 3 \r\n - a2 \r\n - b3c \r\n - 7\r\n\r\nYet I run the program, and it tells me it cannot convert from String[] to String. I do not understand how any of the above are String[]. The code is below:\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class A2P1 {\r\n\tpublic static void main(String[] args) {\r\n\t\tint size = Integer.parseInt(args[0]);\r\n\t\t\r\n\t\tString[] str = new String[size];\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\t\r\n\r\n\t\tfor (int i=0; i &lt; size; i++) {\r\n\t\t\tstr[i] = sc.nextLine().split(&quot; &quot;);              // The error\r\n\t\t\t//str[i] = sc.next();                         This line and the line below throw\r\n\t\t\t//str[i] = sc.nextLine();                    no errors, but also gives no output.\r\n\t\t}\r\n\t\t\r\n\t\tString[] longest = new String[size];\r\n\t\tString[] temp = new String[size];\r\n\t\tlongest[0] = str[0];\r\n\t\tint numToBeat = str[0].length();\r\n\t\tint k = 0;\r\n\t\tfor (int i=0; i &lt; size; i++) {\r\n\t\t\tif (str[i].length() &gt; numToBeat) {\r\n\t\t\t\tnumToBeat = str[i].length();\r\n\t\t\t\tk = 0;\r\n\t\t\t\tlongest = temp;\r\n\t\t\t\t\r\n\t\t\t\tlongest[k] = str[i];\r\n\t\t\t\tk++;\r\n\t\t\t}\r\n\t\t\telse if (str[i].length() == numToBeat) {\r\n\t\t\t\tlongest[k] = str[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tSystem.out.println(&quot;The longest input strings are:&quot;);\r\n\t\tfor (int i=0; i &lt; k; i++) {\r\n\t\t\tSystem.out.println(longest[i]);\r\n\t\t}\r\n\t\tsc.close();\r\n\t}\r\n}\r\n\r\n```\r\n\r\nTried:\r\n- Changing str[i] = sc.nextLine().split(&quot; &quot;); to its other variations in the code\r\n- Changing input values\r\n- Googling stdin for the last hour trying to find any documentation that helps me\r\n","title":"Java Stdin Cannot convert from String[] to String, but inputs are String?","body":"<p>I am doing a programming assignment that takes all of its input from stdin. The first input is an int n to tell you how many strings will follow, and the next n inputs are strings of varying lengths. The goal is to find the longest string(s) and print them.</p>\n<p>I thought this was easy, but for the life of me, I cannot get the stdin to work with me. The eclipse arguments entered are (separated by enter):</p>\n<ul>\n<li>3</li>\n<li>a2</li>\n<li>b3c</li>\n<li>7</li>\n</ul>\n<p>Yet I run the program, and it tells me it cannot convert from String[] to String. I do not understand how any of the above are String[]. The code is below:</p>\n<pre><code>import java.util.Scanner;\n\npublic class A2P1 {\n    public static void main(String[] args) {\n        int size = Integer.parseInt(args[0]);\n        \n        String[] str = new String[size];\n        Scanner sc = new Scanner(System.in);\n        \n\n        for (int i=0; i &lt; size; i++) {\n            str[i] = sc.nextLine().split(&quot; &quot;);              // The error\n            //str[i] = sc.next();                         This line and the line below throw\n            //str[i] = sc.nextLine();                    no errors, but also gives no output.\n        }\n        \n        String[] longest = new String[size];\n        String[] temp = new String[size];\n        longest[0] = str[0];\n        int numToBeat = str[0].length();\n        int k = 0;\n        for (int i=0; i &lt; size; i++) {\n            if (str[i].length() &gt; numToBeat) {\n                numToBeat = str[i].length();\n                k = 0;\n                longest = temp;\n                \n                longest[k] = str[i];\n                k++;\n            }\n            else if (str[i].length() == numToBeat) {\n                longest[k] = str[i];\n            }\n        }\n            \n        System.out.println(&quot;The longest input strings are:&quot;);\n        for (int i=0; i &lt; k; i++) {\n            System.out.println(longest[i]);\n        }\n        sc.close();\n    }\n}\n\n</code></pre>\n<p>Tried:</p>\n<ul>\n<li>Changing str[i] = sc.nextLine().split(&quot; &quot;); to its other variations in the code</li>\n<li>Changing input values</li>\n<li>Googling stdin for the last hour trying to find any documentation that helps me</li>\n</ul>\n"},{"tags":["java","jvm","heap-dump"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1567946404,"creation_date":1567943877,"answer_id":57841733,"question_id":57841372,"body_markdown":"If you can&#39;t run MAT on that server, then you might want to run a `jhat` utility.\r\n\r\nIt will run the web server on a port (that you can override) and will provide a web console and query language called OQL (object query language) that you can use to analyze the heap dump. It looks somewhat like SQL.\r\n\r\nHere is an example:\r\n\r\n    jhat -J-Xmx32g -port 7000 &lt;PATH_TO_HEAPDUMP&gt;\r\n\r\nAnd then access in browser:\r\n\r\n    http://&lt;IP&gt;:7000\r\n\r\nThere are many tutorials about OQL, [here][1] is one of them\r\n\r\n\r\n  [1]: https://blogs.oracle.com/sundararajan/querying-java-heap-with-oql","title":"Analyze remote large heap dump","body":"<p>If you can't run MAT on that server, then you might want to run a <code>jhat</code> utility.</p>\n\n<p>It will run the web server on a port (that you can override) and will provide a web console and query language called OQL (object query language) that you can use to analyze the heap dump. It looks somewhat like SQL.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>jhat -J-Xmx32g -port 7000 &lt;PATH_TO_HEAPDUMP&gt;\n</code></pre>\n\n<p>And then access in browser:</p>\n\n<pre><code>http://&lt;IP&gt;:7000\n</code></pre>\n\n<p>There are many tutorials about OQL, <a href=\"https://blogs.oracle.com/sundararajan/querying-java-heap-with-oql\" rel=\"nofollow noreferrer\">here</a> is one of them</p>\n"},{"tags":[],"owner":{"account_id":6662080,"reputation":103,"user_id":5140851,"display_name":"Vishy Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684683085,"creation_date":1684683085,"answer_id":76300653,"question_id":57841372,"body_markdown":"you can use headless MAT analyzer script to check top component ( using org.eclipse.mat.api:top_components ), that may help.\r\n\r\nIf Leak suspect doesn&#39;t tell enough then top components can give insight that which bean is occupying more space. So you can check the methods associated with that.\r\n\r\nhttps://stackoverflow.com/a/76298700/5140851","title":"Analyze remote large heap dump","body":"<p>you can use headless MAT analyzer script to check top component ( using org.eclipse.mat.api:top_components ), that may help.</p>\n<p>If Leak suspect doesn't tell enough then top components can give insight that which bean is occupying more space. So you can check the methods associated with that.</p>\n<p><a href=\"https://stackoverflow.com/a/76298700/5140851\">https://stackoverflow.com/a/76298700/5140851</a></p>\n"}],"owner":{"account_id":4012630,"reputation":1227,"user_id":3305603,"accept_rate":44,"display_name":"Aladdin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57841733,"answer_count":2,"score":3,"last_activity_date":1684683085,"creation_date":1567940900,"question_id":57841372,"body_markdown":"I&#39;m having Java heap dump with about 70 GB in remote Debian machine, I can&#39;t analyse it in my local machine using MAT, although I can get an overview and suspicious leak reports as HTML pages, but they are brief and there are href for the objects there that don&#39;t point to anything (maybe MAT doesn&#39;t mean to create actual links there but just for styling purposes).\r\n\r\nHowever, is there anyway to fully analyze a heap dump of that size? ","title":"Analyze remote large heap dump","body":"<p>I'm having Java heap dump with about 70 GB in remote Debian machine, I can't analyse it in my local machine using MAT, although I can get an overview and suspicious leak reports as HTML pages, but they are brief and there are href for the objects there that don't point to anything (maybe MAT doesn't mean to create actual links there but just for styling purposes).</p>\n\n<p>However, is there anyway to fully analyze a heap dump of that size? </p>\n"},{"tags":["java","string","performance","replace","palindrome"],"comments":[{"owner":{"account_id":86477,"reputation":192886,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"score":0,"creation_date":1675399399,"post_id":75331596,"comment_id":132925099,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551). Also, please make sure the question is self-contained; auxiliary links are welcome, but the question should be understandable even if the rest of the internet disappears.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>. Also, please make sure the question is self-contained; auxiliary links are welcome, but the question should be understandable even if the rest of the internet disappears."},{"owner":{"account_id":10588861,"reputation":13,"user_id":7800204,"display_name":"Cristian Perez"},"score":0,"creation_date":1675400756,"post_id":75331596,"comment_id":132925282,"body_markdown":"@Amadan Thanks!!. Just a Question: I dont know if put the entire question is correct or not because belongs to Codility.  I just add it but please confirme me if that ts ok or not to be tranquil with that.","body":"@Amadan Thanks!!. Just a Question: I dont know if put the entire question is correct or not because belongs to Codility.  I just add it but please confirme me if that ts ok or not to be tranquil with that."}],"answers":[{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675402456,"creation_date":1675402456,"answer_id":75331877,"question_id":75331596,"body_markdown":"You should reset `notAA`, `notBB` and `notCC` inside your loop.\r\n\r\nConsider, for example, `ABCCBA`.  In your first pass, `notAA` and `notBB` are set to true, leaving `ABBA`.  In the second pass, `notAA` and `notCC` are set to true, leaving `AA`.  Your program would then break out with an available pair because all three conditions are set to true.","title":"Big palindrome of even length - Wrong Answer","body":"<p>You should reset <code>notAA</code>, <code>notBB</code> and <code>notCC</code> inside your loop.</p>\n<p>Consider, for example, <code>ABCCBA</code>.  In your first pass, <code>notAA</code> and <code>notBB</code> are set to true, leaving <code>ABBA</code>.  In the second pass, <code>notAA</code> and <code>notCC</code> are set to true, leaving <code>AA</code>.  Your program would then break out with an available pair because all three conditions are set to true.</p>\n"},{"tags":[],"owner":{"account_id":86477,"reputation":192886,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675402551,"creation_date":1675402551,"answer_id":75331885,"question_id":75331596,"body_markdown":"You have to set `notAA`, `notBB` and `notCC` to `false` inside the loop, not before it. The way you are doing it, you find all three, you end the loop.\r\n\r\n* Say `S` is `ABCCBA`.\r\n* You set `notAA` and `notBB` to `true`, because `AA` and `BB` cannot be found; then you replace `CC`, giving you `ABBA`.\r\n* Next loop, you set `notAA` to `true` again, remove `BB`, producing `AA`, and set `notCC` to `true`. Now all three are `true` (since `notBB` remained `true` since the first iteration), and you break the loop.\r\n* The result is `AA`, which should have reduced further; but because the program thought there was no `AA`, but it appeared after `notAA` was set, you get the wrong value.\r\n\r\nIn fact, this can be simplified: you just need a single flag `changed`, which starts before the loop as `true`; then use `while (changed)`. At the top of the loop, set it to `false`, and set it to true every time you successfully replace a substring. You do not need three separate ones, since they all do effectively the same job.","title":"Big palindrome of even length - Wrong Answer","body":"<p>You have to set <code>notAA</code>, <code>notBB</code> and <code>notCC</code> to <code>false</code> inside the loop, not before it. The way you are doing it, you find all three, you end the loop.</p>\n<ul>\n<li>Say <code>S</code> is <code>ABCCBA</code>.</li>\n<li>You set <code>notAA</code> and <code>notBB</code> to <code>true</code>, because <code>AA</code> and <code>BB</code> cannot be found; then you replace <code>CC</code>, giving you <code>ABBA</code>.</li>\n<li>Next loop, you set <code>notAA</code> to <code>true</code> again, remove <code>BB</code>, producing <code>AA</code>, and set <code>notCC</code> to <code>true</code>. Now all three are <code>true</code> (since <code>notBB</code> remained <code>true</code> since the first iteration), and you break the loop.</li>\n<li>The result is <code>AA</code>, which should have reduced further; but because the program thought there was no <code>AA</code>, but it appeared after <code>notAA</code> was set, you get the wrong value.</li>\n</ul>\n<p>In fact, this can be simplified: you just need a single flag <code>changed</code>, which starts before the loop as <code>true</code>; then use <code>while (changed)</code>. At the top of the loop, set it to <code>false</code>, and set it to true every time you successfully replace a substring. You do not need three separate ones, since they all do effectively the same job.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684682983,"creation_date":1684682983,"answer_id":76300647,"question_id":75331596,"body_markdown":"You almost had it, great approach.\r\n\r\nThe error was, setting the boolean values to `true`.  \r\nInstead, you want to set them to whatever the inverted result of `S.contains` is.\r\n\r\nA few things I would fix.\r\n\r\nFirst, your while-loop condition includes a `|| true`, which will negate any need for `S.length()==0`.\r\n\r\nAdditionally, you can reduce the text of your control-flow by using an assignment and a conditional, as follows.\r\n\r\n```java\r\nnotAA = !S.contains(&quot;AA&quot;);\r\nif (!notAA) S = S.replace(&quot;AA&quot;, &quot;&quot;);\r\n```\r\n\r\nFurthermore, since the final statement within the loop is a conditional-statement that will break the loop, you can, instead, use a do-while loop, and place the conditional there.\r\n\r\n```java\r\npublic String solution(String S) {\r\n    boolean notAA, notBB, notCC;\r\n    do {\r\n        notAA = !S.contains(&quot;AA&quot;);\r\n        if (!notAA) S = S.replace(&quot;AA&quot;, &quot;&quot;);\r\n        notBB = !S.contains(&quot;BB&quot;);\r\n        if (!notBB) S = S.replace(&quot;BB&quot;, &quot;&quot;);\r\n        notCC = !S.contains(&quot;CC&quot;);\r\n        if (!notCC) S = S.replace(&quot;CC&quot;, &quot;&quot;);\r\n    } while (!notAA || !notBB || !notCC);\r\n    return S;\r\n}\r\n```\r\n\r\nIf you&#39;re familiar with regular expressions, you can reduce your code even further.\r\n\r\n```java\r\nString solution(String S) {\r\n    while (S.matches(&quot;.*?([ABC])\\\\1.*&quot;))\r\n        S = S.replaceAll(&quot;([ABC])\\\\1&quot;, &quot;&quot;);\r\n    return S;\r\n}\r\n```","title":"Big palindrome of even length - Wrong Answer","body":"<p>You almost had it, great approach.</p>\n<p>The error was, setting the boolean values to <code>true</code>.<br />\nInstead, you want to set them to whatever the inverted result of <code>S.contains</code> is.</p>\n<p>A few things I would fix.</p>\n<p>First, your while-loop condition includes a <code>|| true</code>, which will negate any need for <code>S.length()==0</code>.</p>\n<p>Additionally, you can reduce the text of your control-flow by using an assignment and a conditional, as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>notAA = !S.contains(&quot;AA&quot;);\nif (!notAA) S = S.replace(&quot;AA&quot;, &quot;&quot;);\n</code></pre>\n<p>Furthermore, since the final statement within the loop is a conditional-statement that will break the loop, you can, instead, use a do-while loop, and place the conditional there.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String solution(String S) {\n    boolean notAA, notBB, notCC;\n    do {\n        notAA = !S.contains(&quot;AA&quot;);\n        if (!notAA) S = S.replace(&quot;AA&quot;, &quot;&quot;);\n        notBB = !S.contains(&quot;BB&quot;);\n        if (!notBB) S = S.replace(&quot;BB&quot;, &quot;&quot;);\n        notCC = !S.contains(&quot;CC&quot;);\n        if (!notCC) S = S.replace(&quot;CC&quot;, &quot;&quot;);\n    } while (!notAA || !notBB || !notCC);\n    return S;\n}\n</code></pre>\n<p>If you're familiar with regular expressions, you can reduce your code even further.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String solution(String S) {\n    while (S.matches(&quot;.*?([ABC])\\\\1.*&quot;))\n        S = S.replaceAll(&quot;([ABC])\\\\1&quot;, &quot;&quot;);\n    return S;\n}\n</code></pre>\n"}],"owner":{"account_id":10588861,"reputation":13,"user_id":7800204,"display_name":"Cristian Perez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75331885,"answer_count":3,"score":0,"last_activity_date":1684682983,"creation_date":1675399260,"question_id":75331596,"body_markdown":"I have been taking the test on Codility, and trying this exercise: \r\n\r\nhttps://app.codility.com/programmers/trainings/4/disappearing_pairs/\r\n\r\nA string S containing only the letters &quot;A&quot;, &quot;B&quot; and &quot;C&quot; is given. The string can be transformed by removing one occurrence of &quot;AA&quot;, &quot;BB&quot; or &quot;CC&quot;.\r\n\r\nTransformation of the string is the process of removing letters from it, based on the rules described above. As long as at least one rule can be applied, the process should be repeated. If more than one rule can be used, any one of them could be chosen.\r\n\r\nWrite a function:\r\n\r\nclass Solution { public String solution(String S); }\r\n\r\nthat, given a string S consisting of N characters, returns any string that can result from a sequence of transformations as described above.\r\n\r\nFor example, given string S = &quot;ACCAABBC&quot; the function may return &quot;AC&quot;, because one of the possible sequences of transformations is as follows:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlso, given string S = &quot;ABCBBCBA&quot; the function may return &quot;&quot;, because one possible sequence of transformations is:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFinally, for string S = &quot;BABABA&quot; the function must return &quot;BABABA&quot;, because no rules can be applied to string S.\r\n\r\nWrite an efficient algorithm for the following assumptions:\r\n\r\nthe length of string S is within the range [0..50,000];\r\nstring S is made only of the following characters: &quot;A&quot;, &quot;B&quot; and/or &quot;C&quot;.\r\n\r\nHere is the code that I tried with a score of 83:\r\n\r\n    public String solution(String S) {\r\n        \r\n        boolean notAA = false;\r\n        boolean notBB = false;\r\n        boolean notCC = false;\r\n\r\n        while(S.length()==0 || true){\r\n            if (S.contains(&quot;AA&quot;)){\r\n                S = S.replace(&quot;AA&quot;, &quot;&quot;);\r\n            } else {\r\n               notAA = true;\r\n            }\r\n\r\n            if(S.contains(&quot;BB&quot;)){\r\n                S = S.replace(&quot;BB&quot;, &quot;&quot;);\r\n            } else {\r\n                notBB = true;\r\n            }\r\n\r\n            if(S.contains(&quot;CC&quot;)){\r\n                S = S.replace(&quot;CC&quot;, &quot;&quot;);\r\n            } else {\r\n                notCC = true;\r\n            }\r\n\r\n            if(notAA &amp;&amp; notBB &amp;&amp; notCC){\r\n                break;\r\n            }\r\n        }\r\n        return S;\r\n    }\r\n\r\n    \r\nI could not obtain the 100% score because of this:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/xqOFk.png)](https://i.stack.imgur.com/xqOFk.png)\r\n\r\neven_palindrome1   big palindrome of even length\r\n\r\nWRONG ANSWER got CACABACABABCBACBACBA.. expected &quot;&quot;\r\n\r\nCodility doesn&#39;t show me the string example or any other information.\r\n\r\nI was reading and reviewing but I still do not understand why I am not getting the right output. My assumption is when I delete the first combination of letters, the string needs to be in a specific state or a specific combination of letters to work correctly and the problem is the palindrome even string.\r\n\r\nBut, if my assumption is correct, I don&#39;t really understand the real cause or root reason for this.\r\n\r\nThanks in advance for your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VJz6E.png\r\n  [2]: https://i.stack.imgur.com/NoKTJ.png","title":"Big palindrome of even length - Wrong Answer","body":"<p>I have been taking the test on Codility, and trying this exercise:</p>\n<p><a href=\"https://app.codility.com/programmers/trainings/4/disappearing_pairs/\" rel=\"nofollow noreferrer\">https://app.codility.com/programmers/trainings/4/disappearing_pairs/</a></p>\n<p>A string S containing only the letters &quot;A&quot;, &quot;B&quot; and &quot;C&quot; is given. The string can be transformed by removing one occurrence of &quot;AA&quot;, &quot;BB&quot; or &quot;CC&quot;.</p>\n<p>Transformation of the string is the process of removing letters from it, based on the rules described above. As long as at least one rule can be applied, the process should be repeated. If more than one rule can be used, any one of them could be chosen.</p>\n<p>Write a function:</p>\n<p>class Solution { public String solution(String S); }</p>\n<p>that, given a string S consisting of N characters, returns any string that can result from a sequence of transformations as described above.</p>\n<p>For example, given string S = &quot;ACCAABBC&quot; the function may return &quot;AC&quot;, because one of the possible sequences of transformations is as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/VJz6E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VJz6E.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, given string S = &quot;ABCBBCBA&quot; the function may return &quot;&quot;, because one possible sequence of transformations is:</p>\n<p><a href=\"https://i.stack.imgur.com/NoKTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NoKTJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Finally, for string S = &quot;BABABA&quot; the function must return &quot;BABABA&quot;, because no rules can be applied to string S.</p>\n<p>Write an efficient algorithm for the following assumptions:</p>\n<p>the length of string S is within the range [0..50,000];\nstring S is made only of the following characters: &quot;A&quot;, &quot;B&quot; and/or &quot;C&quot;.</p>\n<p>Here is the code that I tried with a score of 83:</p>\n<pre><code>public String solution(String S) {\n    \n    boolean notAA = false;\n    boolean notBB = false;\n    boolean notCC = false;\n\n    while(S.length()==0 || true){\n        if (S.contains(&quot;AA&quot;)){\n            S = S.replace(&quot;AA&quot;, &quot;&quot;);\n        } else {\n           notAA = true;\n        }\n\n        if(S.contains(&quot;BB&quot;)){\n            S = S.replace(&quot;BB&quot;, &quot;&quot;);\n        } else {\n            notBB = true;\n        }\n\n        if(S.contains(&quot;CC&quot;)){\n            S = S.replace(&quot;CC&quot;, &quot;&quot;);\n        } else {\n            notCC = true;\n        }\n\n        if(notAA &amp;&amp; notBB &amp;&amp; notCC){\n            break;\n        }\n    }\n    return S;\n}\n</code></pre>\n<p>I could not obtain the 100% score because of this:</p>\n<p><a href=\"https://i.stack.imgur.com/xqOFk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xqOFk.png\" alt=\"enter image description here\" /></a></p>\n<p>even_palindrome1   big palindrome of even length</p>\n<p>WRONG ANSWER got CACABACABABCBACBACBA.. expected &quot;&quot;</p>\n<p>Codility doesn't show me the string example or any other information.</p>\n<p>I was reading and reviewing but I still do not understand why I am not getting the right output. My assumption is when I delete the first combination of letters, the string needs to be in a specific state or a specific combination of letters to work correctly and the problem is the palindrome even string.</p>\n<p>But, if my assumption is correct, I don't really understand the real cause or root reason for this.</p>\n<p>Thanks in advance for your help.</p>\n"},{"tags":["java","design-patterns","static","software-design"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1684661185,"post_id":76299162,"comment_id":134546890,"body_markdown":"Just &quot;a static map&quot; isn&#39;t a bad practice, there is a lot of cases where this is useful and the gool solution.","body":"Just &quot;a static map&quot; isn&#39;t a bad practice, there is a lot of cases where this is useful and the gool solution."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":2,"creation_date":1684661495,"post_id":76299162,"comment_id":134546915,"body_markdown":"I see a caveat in your example, as this is static, do not put the initialization into a public constructor.","body":"I see a caveat in your example, as this is static, do not put the initialization into a public constructor."},{"owner":{"account_id":3733623,"reputation":71,"user_id":3105186,"display_name":"gabrielsalvador"},"score":0,"creation_date":1684663361,"post_id":76299162,"comment_id":134547098,"body_markdown":"@PeterMmm why ?","body":"@PeterMmm why ?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1684665353,"post_id":76299162,"comment_id":134547299,"body_markdown":"Without knowing the rest of your code, to use  _globals (with values), you must instantiate an object of MainClass. Can be fine in your case. But in general, constructor are for constructing objects and their members, statics are bind to the class.","body":"Without knowing the rest of your code, to use  _globals (with values), you must instantiate an object of MainClass. Can be fine in your case. But in general, constructor are for constructing objects and their members, statics are bind to the class."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1684678478,"post_id":76299162,"comment_id":134548838,"body_markdown":"**Congratulations!** You have independently reinvented the little discussed [multiton pattern](https://en.wikipedia.org/wiki/Multiton_pattern). Personally, I think it has its uses. But be careful. One major disadvantage of global state is debugging and testing become more difficult.","body":"<b>Congratulations!</b> You have independently reinvented the little discussed <a href=\"https://en.wikipedia.org/wiki/Multiton_pattern\" rel=\"nofollow noreferrer\">multiton pattern</a>. Personally, I think it has its uses. But be careful. One major disadvantage of global state is debugging and testing become more difficult."},{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1684796443,"post_id":76299162,"comment_id":134566389,"body_markdown":"This is clearly not a _multiton_: the Map holds only one instance per class. It is the [Service Locator](https://blog.ploeh.dk/2010/02/03/ServiceLocatorisanAnti-Pattern/) anti-pattern... not because the field is static, but because of all the dependencies throughout a codebase that it hides. Dependency Injection is the modern solution to this problem.","body":"This is clearly not a <i>multiton</i>: the Map holds only one instance per class. It is the <a href=\"https://blog.ploeh.dk/2010/02/03/ServiceLocatorisanAnti-Pattern/\" rel=\"nofollow noreferrer\">Service Locator</a> anti-pattern... not because the field is static, but because of all the dependencies throughout a codebase that it hides. Dependency Injection is the modern solution to this problem."}],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684661974,"creation_date":1684661381,"answer_id":76299183,"question_id":76299162,"body_markdown":"Static variables, while not inherently problematic, can be classified as a code smell for a few significant reasons:\r\n\r\n**Global State:** Static variables are essentially global state in disguise. Their state is preserved across the application&#39;s lifetime and can be accessed or mutated from any portion of the code, making it difficult to reason about behavior, leading to side effects and bugs.\r\n\r\n**Concurrency Issues:** In multithreaded programming, static variables are shared among all threads. This can lead to race conditions and other synchronization problems unless handled carefully with locks, semaphores, etc.\r\n\r\n**Coupling:** Static variables increase the coupling between components in your code. Changing the state of a static variable affects all the code that accesses it, making it harder to understand, maintain, and evolve the software.\r\n\r\n**Testing:** Unit testing becomes more complicated when static variables are involved, as the shared state can persist between tests and cause tests to fail or pass unexpectedly. It can also make tests order-dependent.\r\n\r\n**OOP Principles:** Static variables, particularly public ones, violate the principles of encapsulation and instantiation in Object-Oriented Programming (OOP). They contradict the idea of each object carrying its own state.\r\n\r\nAs for \r\n&gt; The main purpose of _globals if to have it available for example in the class TextFieldController without having to pass it to the constructors, from the main class all the way to there, going through classes that might not need it.\r\n\r\nIt seems like you&#39;re intending to replace the IoC (Inversion of Control) container and establish singletons through the use of static variables. This approach, however, is not generally recommended as a best practice. If you&#39;re not interested in using IoC frameworks, I recommend exploring the factory pattern as a lightweight option.","title":"Is having a Static Map like this a bad practice?","body":"<p>Static variables, while not inherently problematic, can be classified as a code smell for a few significant reasons:</p>\n<p><strong>Global State:</strong> Static variables are essentially global state in disguise. Their state is preserved across the application's lifetime and can be accessed or mutated from any portion of the code, making it difficult to reason about behavior, leading to side effects and bugs.</p>\n<p><strong>Concurrency Issues:</strong> In multithreaded programming, static variables are shared among all threads. This can lead to race conditions and other synchronization problems unless handled carefully with locks, semaphores, etc.</p>\n<p><strong>Coupling:</strong> Static variables increase the coupling between components in your code. Changing the state of a static variable affects all the code that accesses it, making it harder to understand, maintain, and evolve the software.</p>\n<p><strong>Testing:</strong> Unit testing becomes more complicated when static variables are involved, as the shared state can persist between tests and cause tests to fail or pass unexpectedly. It can also make tests order-dependent.</p>\n<p><strong>OOP Principles:</strong> Static variables, particularly public ones, violate the principles of encapsulation and instantiation in Object-Oriented Programming (OOP). They contradict the idea of each object carrying its own state.</p>\n<p>As for</p>\n<blockquote>\n<p>The main purpose of _globals if to have it available for example in the class TextFieldController without having to pass it to the constructors, from the main class all the way to there, going through classes that might not need it.</p>\n</blockquote>\n<p>It seems like you're intending to replace the IoC (Inversion of Control) container and establish singletons through the use of static variables. This approach, however, is not generally recommended as a best practice. If you're not interested in using IoC frameworks, I recommend exploring the factory pattern as a lightweight option.</p>\n"},{"tags":[],"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684682657,"creation_date":1684682657,"answer_id":76300627,"question_id":76299162,"body_markdown":"IMO it would be totally ok, if this constant will provide immutability, e.g. \r\n I would use immutable map to avoid this constant modification after creation, for instance using Map.of() method since java 9.","title":"Is having a Static Map like this a bad practice?","body":"<p>IMO it would be totally ok, if this constant will provide immutability, e.g.\nI would use immutable map to avoid this constant modification after creation, for instance using Map.of() method since java 9.</p>\n"}],"owner":{"account_id":3733623,"reputation":71,"user_id":3105186,"display_name":"gabrielsalvador"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684682657,"creation_date":1684660962,"question_id":76299162,"body_markdown":"I want to have some important classes available through out the app, like so:\r\n\r\n```\r\nprivate static final HashMap&lt;Class&lt;?&gt;, Object&gt; _globals = new HashMap&lt;&gt;();\r\n\r\npublic MainClass(){\r\n     _stateManager = new StateManager();\r\n     _inputManager = new InputManager();\r\n     _toolManager = new ToolManager();\r\n     _viewManager = new ViewManager();\r\n     _globals.put(StateManager.class, _stateManager);\r\n     _globals.put(InputManager.class, _inputManager);\r\n     _globals.put(ToolManager.class, _toolManager);\r\n     _globals.put(ViewManager.class, _viewManager);\r\n}\r\n```\r\n\r\n\r\nFrom what I&#39;ve been researching, static vars are always discouraged, but I feel like this might be ok, because I&#39;m not actually keeping any static state. The main purpose of _globals if to have it available for example in the class `TextFieldController` without having to pass it to the constructors, from the main class all the way to there, going through classes that might not need it.\r\n\r\nIs this ok or is there any problems i&#39;m not seeing ?","title":"Is having a Static Map like this a bad practice?","body":"<p>I want to have some important classes available through out the app, like so:</p>\n<pre><code>private static final HashMap&lt;Class&lt;?&gt;, Object&gt; _globals = new HashMap&lt;&gt;();\n\npublic MainClass(){\n     _stateManager = new StateManager();\n     _inputManager = new InputManager();\n     _toolManager = new ToolManager();\n     _viewManager = new ViewManager();\n     _globals.put(StateManager.class, _stateManager);\n     _globals.put(InputManager.class, _inputManager);\n     _globals.put(ToolManager.class, _toolManager);\n     _globals.put(ViewManager.class, _viewManager);\n}\n</code></pre>\n<p>From what I've been researching, static vars are always discouraged, but I feel like this might be ok, because I'm not actually keeping any static state. The main purpose of _globals if to have it available for example in the class <code>TextFieldController</code> without having to pass it to the constructors, from the main class all the way to there, going through classes that might not need it.</p>\n<p>Is this ok or is there any problems i'm not seeing ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":4,"creation_date":1684683385,"post_id":76300618,"comment_id":134549418,"body_markdown":"It looks like this method was [added in Java 20](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#namedGroups()). Is your project configured to use Java 20?","body":"It looks like this method was <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#namedGroups()\" rel=\"nofollow noreferrer\">added in Java 20</a>. Is your project configured to use Java 20?"}],"owner":{"account_id":9147861,"reputation":159,"user_id":6803365,"display_name":"Hans FooBar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684682526,"creation_date":1684682526,"question_id":76300618,"body_markdown":"I have a pattern with named groups. \r\n\r\n```java\r\nimport java.util.regex.*;\r\n\r\nString regexp = &quot;(?&lt;test&gt;[a-z0-9]+)&quot;;\r\nPattern pattern = Pattern.compile(regexp);\r\nMatcher matcher = pattern.matcher(&quot;foobar&quot;);\r\nMap&lt;String, Integer&gt; groups = matcher.namedGroups();\r\n```\r\n\r\nBut when I try to get the groups with matcher.namedGroups(), I get the following error.\r\n\r\n```bash\r\njava: cannot find symbol\r\n    symbol:   method namedGroups()\r\n    location: variable matcher of type java.util.regex.Matcher\r\n```\r\n\r\nIf I remove the line with matcher.namedGroups() and check in Intellij with Evaluate, the function is available. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nDoes anyone have an idea what the problem is?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nUbwf.png","title":"matcher.namedGroups(): Cannot find symbol","body":"<p>I have a pattern with named groups.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.*;\n\nString regexp = &quot;(?&lt;test&gt;[a-z0-9]+)&quot;;\nPattern pattern = Pattern.compile(regexp);\nMatcher matcher = pattern.matcher(&quot;foobar&quot;);\nMap&lt;String, Integer&gt; groups = matcher.namedGroups();\n</code></pre>\n<p>But when I try to get the groups with matcher.namedGroups(), I get the following error.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java: cannot find symbol\n    symbol:   method namedGroups()\n    location: variable matcher of type java.util.regex.Matcher\n</code></pre>\n<p>If I remove the line with matcher.namedGroups() and check in Intellij with Evaluate, the function is available.</p>\n<p><a href=\"https://i.stack.imgur.com/nUbwf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nUbwf.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone have an idea what the problem is?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":408395,"reputation":1613,"user_id":779027,"accept_rate":100,"display_name":"Chris"},"score":1,"creation_date":1352807671,"post_id":13360021,"comment_id":18237849,"body_markdown":"So what is your problem/question with that code?","body":"So what is your problem/question with that code?"},{"owner":{"account_id":3052161,"reputation":200,"user_id":2586488,"accept_rate":60,"display_name":"user2586488"},"score":0,"creation_date":1374580693,"post_id":13360021,"comment_id":25985936,"body_markdown":"hey. were you able to solve the problem. I am facing a similar problem","body":"hey. were you able to solve the problem. I am facing a similar problem"}],"answers":[{"tags":[],"owner":{"account_id":1400403,"reputation":23304,"user_id":1329296,"display_name":"lenik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684681565,"creation_date":1352806753,"answer_id":13360105,"question_id":13360021,"body_markdown":"you have to change this part:\r\n\r\n      private int centerX;\r\n      private int centerY;\r\n      private int speedX = 50;\r\n      private int speedY = 40;\r\n\r\nand convert it to the\r\n\r\n    class Circle {\r\n      private int centerX;\r\n      private int centerY;\r\n      private int speedX = 50;\r\n      private int speedY = 40;\r\n      // add constructor here and other things\r\n    };\r\n\r\nthen make a collection of your circles: `ArrayList&lt;Circle&gt; circles`, and then instead of\r\n\r\n    centerX += speedX;\r\n    centerY += speedY;\r\n    int rightLimit = w - RADIUS;\r\n    int bottomLimit = h - RADIUS;\r\n\r\n    if (centerX &gt;= rightLimit) {\r\n      centerX = rightLimit;\r\n      speedX *= -1;\r\n    }\r\n    if (centerX &lt;= RADIUS) {\r\n      centerX = RADIUS;\r\n      speedX *= -1;\r\n    }\r\n    if (centerY &gt;= bottomLimit) {\r\n      centerY = bottomLimit;\r\n      speedY *= -1;\r\n    }\r\n    if (centerY &lt;= RADIUS) {\r\n      centerY = RADIUS;\r\n      speedY *= -1;\r\n    }\r\n\r\nyou have to do it for every circle, like\r\n\r\n    for( i=0; i&lt;circles.size(); i++) {\r\n        circles[i].centerX += circles[i].speedX;\r\n        circles[i].centerY += circles[i].speedY;\r\n\r\n        //   ...\r\n     }","title":"Moving circles in android","body":"<p>you have to change this part:</p>\n<pre><code>  private int centerX;\n  private int centerY;\n  private int speedX = 50;\n  private int speedY = 40;\n</code></pre>\n<p>and convert it to the</p>\n<pre><code>class Circle {\n  private int centerX;\n  private int centerY;\n  private int speedX = 50;\n  private int speedY = 40;\n  // add constructor here and other things\n};\n</code></pre>\n<p>then make a collection of your circles: <code>ArrayList&lt;Circle&gt; circles</code>, and then instead of</p>\n<pre><code>centerX += speedX;\ncenterY += speedY;\nint rightLimit = w - RADIUS;\nint bottomLimit = h - RADIUS;\n\nif (centerX &gt;= rightLimit) {\n  centerX = rightLimit;\n  speedX *= -1;\n}\nif (centerX &lt;= RADIUS) {\n  centerX = RADIUS;\n  speedX *= -1;\n}\nif (centerY &gt;= bottomLimit) {\n  centerY = bottomLimit;\n  speedY *= -1;\n}\nif (centerY &lt;= RADIUS) {\n  centerY = RADIUS;\n  speedY *= -1;\n}\n</code></pre>\n<p>you have to do it for every circle, like</p>\n<pre><code>for( i=0; i&lt;circles.size(); i++) {\n    circles[i].centerX += circles[i].speedX;\n    circles[i].centerY += circles[i].speedY;\n\n    //   ...\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2037280,"reputation":15,"user_id":1819332,"display_name":"Ss Ela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352806808,"creation_date":1352806808,"answer_id":13360118,"question_id":13360021,"body_markdown":"You will need to call draw circle 5 times with different centerx ,centerY ,Radius and p","title":"Moving circles in android","body":"<p>You will need to call draw circle 5 times with different centerx ,centerY ,Radius and p</p>\n"}],"owner":{"account_id":2033610,"reputation":19,"user_id":1816563,"display_name":"Igroid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4429,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1684681565,"creation_date":1352806374,"question_id":13360021,"body_markdown":"I have a task. It&#39;s to draw some (more than one) circles moving around the screen. They must start moving after click on them. I have the code only for one circle. Give me the way how to do this task, for example, 5 circles. Thanks in advance!\r\n\r\n    public class MainActivity extends Activity {\r\n\t\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(new MyView(this));\r\n        }\r\n\r\n        class MyView extends View {\r\n            //public\tPaint c;\r\n            public\tPaint p;\r\n       \r\n            private static final int RADIUS = 46;\r\n\t\r\n            private int centerX;\r\n            private int centerY;\r\n            private int speedX = 50;\r\n            private int speedY = 40;\r\n            //private Paint paint; //   -   \r\n        \t\r\n                  \r\n            public MyView(Context context) {\r\n                super(context);\r\n                p = new Paint();\r\n                p.setColor(Color.GREEN);\r\n            }\r\n        \r\n            @Override\r\n            protected void onSizeChanged(int w, int h, int oldW, int oldH) {\r\n                centerX = w / 2;\r\n                centerY = h / 2;\r\n            }\r\n       \r\n            protected void onDraw(Canvas c) {\r\n                int w = getWidth();\r\n                int h = getHeight();\r\n                centerX += speedX;\r\n                centerY += speedY;\r\n                int rightLimit = w - RADIUS;\r\n                int bottomLimit = h - RADIUS;\r\n        \r\n                if (centerX &gt;= rightLimit) {\r\n                    centerX = rightLimit;\r\n                    speedX *= -1;\r\n                }\r\n                if (centerX &lt;= RADIUS) {\r\n                    centerX = RADIUS;\r\n                    speedX *= -1;\r\n                }\r\n                if (centerY &gt;= bottomLimit) {\r\n                    centerY = bottomLimit;\r\n                    speedY *= -1;\r\n                }\r\n                if (centerY &lt;= RADIUS) {\r\n                    centerY = RADIUS;\r\n                    speedY *= -1;\r\n                }\r\n        \r\n                c.drawCircle(centerX, centerY, RADIUS, p);\r\n                postInvalidateDelayed(200);  \r\n            }\r\n        }\r\n    }","title":"Moving circles in android","body":"<p>I have a task. It's to draw some (more than one) circles moving around the screen. They must start moving after click on them. I have the code only for one circle. Give me the way how to do this task, for example, 5 circles. Thanks in advance!</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(new MyView(this));\n    }\n\n    class MyView extends View {\n        //public    Paint c;\n        public  Paint p;\n\n        private static final int RADIUS = 46;\n\n        private int centerX;\n        private int centerY;\n        private int speedX = 50;\n        private int speedY = 40;\n        //private Paint paint; //   -   \n\n\n        public MyView(Context context) {\n            super(context);\n            p = new Paint();\n            p.setColor(Color.GREEN);\n        }\n\n        @Override\n        protected void onSizeChanged(int w, int h, int oldW, int oldH) {\n            centerX = w / 2;\n            centerY = h / 2;\n        }\n\n        protected void onDraw(Canvas c) {\n            int w = getWidth();\n            int h = getHeight();\n            centerX += speedX;\n            centerY += speedY;\n            int rightLimit = w - RADIUS;\n            int bottomLimit = h - RADIUS;\n\n            if (centerX &gt;= rightLimit) {\n                centerX = rightLimit;\n                speedX *= -1;\n            }\n            if (centerX &lt;= RADIUS) {\n                centerX = RADIUS;\n                speedX *= -1;\n            }\n            if (centerY &gt;= bottomLimit) {\n                centerY = bottomLimit;\n                speedY *= -1;\n            }\n            if (centerY &lt;= RADIUS) {\n                centerY = RADIUS;\n                speedY *= -1;\n            }\n\n            c.drawCircle(centerX, centerY, RADIUS, p);\n            postInvalidateDelayed(200);  \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","string","parsing"],"comments":[{"owner":{"account_id":1707439,"reputation":236096,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":2,"creation_date":1676302456,"post_id":75429359,"comment_id":133105055,"body_markdown":"I don&#39;t do much Java, but why can&#39;t you just iterate over the location of each space, checking whether the before and after are both valid? (Pseudocode: `while (matcher.find()) { if (is_ident(s.substring(0, matcher.start())) &amp;&amp; is_ident(s.substring(matcher.end())) {...} }`)","body":"I don&#39;t do much Java, but why can&#39;t you just iterate over the location of each space, checking whether the before and after are both valid? (Pseudocode: <code>while (matcher.find()) { if (is_ident(s.substring(0, matcher.start())) &amp;&amp; is_ident(s.substring(matcher.end())) {...} }</code>)"},{"owner":{"account_id":1707439,"reputation":236096,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1676302953,"post_id":75429359,"comment_id":133105223,"body_markdown":"Although if the separators are always single space characters, using a regex to find them is overkill. You could just use String.indexOf.","body":"Although if the separators are always single space characters, using a regex to find them is overkill. You could just use String.indexOf."},{"owner":{"account_id":8466844,"reputation":941,"user_id":6350762,"display_name":"EagleRainbow"},"score":0,"creation_date":1676322040,"post_id":75429359,"comment_id":133110594,"body_markdown":"Would definitively be worth a SO answer :)\nExtension of the question: I have also further cases, where I have three (or more) identifiers to parse. Your approach definitively would work for two (so, it&#39;s a valid answer for the question here), but for three, it&#39;ll get more complicated.","body":"Would definitively be worth a SO answer :) Extension of the question: I have also further cases, where I have three (or more) identifiers to parse. Your approach definitively would work for two (so, it&#39;s a valid answer for the question here), but for three, it&#39;ll get more complicated."}],"answers":[{"tags":[],"owner":{"account_id":24639919,"reputation":58,"user_id":18538182,"display_name":"jojo2357"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676440578,"creation_date":1676440578,"answer_id":75455972,"question_id":75429359,"body_markdown":"Why not [`String.split(String)`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String))?\r\n\r\nIf you split your input, you can then scan through looking for which combinations of words is the identifier.\r\n\r\n```java\r\nString stringin; // value from somewhere\r\nString theWord; // the starting identifier\r\n\r\nString[] words = stringin.split(&quot; &quot;);\r\n\r\nfor (int width = 1; width &lt; words.length; width++) {\r\n    for (int start = 0; start + width - 1 &lt; words.length; start++) {\r\n        if (Arrays.copyOfRange(words, start, start + width - 1).join(&quot; &quot;) == theWord)\r\n            return Arrays.copyOfRange(words, start, start + width - 1).join(&quot; &quot;);\r\n    }\r\n}\r\n```","title":"How to parse multiple identifier within in a string using Java (Pattern), if the separator character is ambiguous? Return all variants","body":"<p>Why not <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String.split(String)</code></a>?</p>\n<p>If you split your input, you can then scan through looking for which combinations of words is the identifier.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String stringin; // value from somewhere\nString theWord; // the starting identifier\n\nString[] words = stringin.split(&quot; &quot;);\n\nfor (int width = 1; width &lt; words.length; width++) {\n    for (int start = 0; start + width - 1 &lt; words.length; start++) {\n        if (Arrays.copyOfRange(words, start, start + width - 1).join(&quot; &quot;) == theWord)\n            return Arrays.copyOfRange(words, start, start + width - 1).join(&quot; &quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684681456,"creation_date":1684681011,"answer_id":76300509,"question_id":75429359,"body_markdown":"There is no need for a `Pattern` object.\r\n\r\nYou can use the following code to derive a list of ids for a specified `String`.\r\n\r\n```java\r\nList&lt;String&gt; ids(String string) {\r\n    List&lt;String&gt; ids = new ArrayList&lt;&gt;();\r\n    int indexOf, offset = -1;\r\n    while ((indexOf = string.indexOf(&#39; &#39;, offset + 1)) != -1)\r\n        ids.add(string.substring(0, offset = indexOf));\r\n    return ids;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[abc, abc def, abc def uvw]\r\n```\r\n\r\nIn response to your inquery of regular-expression greediness.  \r\nIt&#39;s one or the other, it will either consume all matches, or the least possible matches.\r\n\r\nThe reason for this being that a regular-expression evaluation works at a minimum, simply reading left to right, attempting to match the parameters; there is no increment adjustment, or evaluation.\r\n\r\nI highly recommend reviewing the source code for `Matcher`.  \r\nIf you can&#39;t view it from your IDE, you can view it online, at GitHub.\r\n\r\nHere is the link.  \r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/regex/Matcher.java","title":"How to parse multiple identifier within in a string using Java (Pattern), if the separator character is ambiguous? Return all variants","body":"<p>There is no need for a <code>Pattern</code> object.</p>\n<p>You can use the following code to derive a list of ids for a specified <code>String</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; ids(String string) {\n    List&lt;String&gt; ids = new ArrayList&lt;&gt;();\n    int indexOf, offset = -1;\n    while ((indexOf = string.indexOf(' ', offset + 1)) != -1)\n        ids.add(string.substring(0, offset = indexOf));\n    return ids;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[abc, abc def, abc def uvw]\n</code></pre>\n<p>In response to your inquery of regular-expression greediness.<br />\nIt's one or the other, it will either consume all matches, or the least possible matches.</p>\n<p>The reason for this being that a regular-expression evaluation works at a minimum, simply reading left to right, attempting to match the parameters; there is no increment adjustment, or evaluation.</p>\n<p>I highly recommend reviewing the source code for <code>Matcher</code>.<br />\nIf you can't view it from your IDE, you can view it online, at GitHub.</p>\n<p>Here is the link.<br />\n<a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/regex/Matcher.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/regex/Matcher.java</a></p>\n"}],"owner":{"account_id":8466844,"reputation":941,"user_id":6350762,"display_name":"EagleRainbow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684681456,"creation_date":1676227732,"question_id":75429359,"body_markdown":"In a Java application (running JVM version 17), I have a communication protocol where each line has the following structure:\r\n```\r\n&lt;identifier&gt; &lt;space&gt; &lt;identifer&gt;\r\n```\r\nThe problem is that the identifiers themselves may contain (besides upper- and lowercase latin characters) (single) spaces so that it is unclear what purpose the space symbols have. Example:\r\n\r\nLet the communication on the wire be:\r\n```\r\nabc def uvw xyz\r\n```\r\nNow, the separating space could have three different positions:\r\n\r\n1. First identifier: `abc`, second identifier: `def uvw xyz`.\r\n2. First identifier: `abc def`, second identifer: `uvw xyz`.\r\n3. First identifier: `abc def uvw`, second identifier: `xyz`.\r\n\r\nIn the given case, technically this is not a problem: *After parsing* it is possible to verify each identifier, if it is valid (note that the set of identifier values is both &quot;huge&quot; - and hence you would not want to put it into a regular expression - and partially also unknown, but verifiable after the fact).\r\n\r\n[Background for the ambiguous protocol: At the other end, a human being is sitting - and based on his/her role and situation, that person isn&#39;t able to think about ambiguity of what they are sending. Moreover, if a human mind reads the text, due to semantics and the meaning of the identifiers, it is obvious where to make the cut.]\r\n\r\nThe challenge to solve is to create an algorithm which creates all these possible combinations based on an arbitrary input.\r\n\r\nFor brevity, it may be assumed that there is no &quot;prefix/suffix problem&quot; between the identifiers, i.e. the identifiers are cut in such a way that a suffix of the first identifier isn&#39;t a prefix of the second identifier.\r\n\r\n\r\nI already tried to start with a Java Pattern Regular Expression like \r\n```\r\n([A-Za-z ]+) ([A-Za-z ]+)\r\n``` \r\nbut here greediness always returns you the &quot;last&quot; variant from above, e.g.\r\n\r\n```\r\ngroup 1: abc def uvw\r\ngroup 2: xyz\r\n```\r\nI also looked around at the various Regex modifiers, including also those not supported by Java (e. g. &quot;Ungreedy&quot;). So I played around with making the quantifier lazy or possessive, but no avail. I also looked at the [JavaDoc API](https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html), playing around with `.find()` and `.results()`, but apparently backtracking has terminated and I cannot reinitiate it.\r\n\r\nDue to some additional factors, it would be preferrable to have this parsing done using `java.util.regex.Pattern`, but this is not mandatory.","title":"How to parse multiple identifier within in a string using Java (Pattern), if the separator character is ambiguous? Return all variants","body":"<p>In a Java application (running JVM version 17), I have a communication protocol where each line has the following structure:</p>\n<pre><code>&lt;identifier&gt; &lt;space&gt; &lt;identifer&gt;\n</code></pre>\n<p>The problem is that the identifiers themselves may contain (besides upper- and lowercase latin characters) (single) spaces so that it is unclear what purpose the space symbols have. Example:</p>\n<p>Let the communication on the wire be:</p>\n<pre><code>abc def uvw xyz\n</code></pre>\n<p>Now, the separating space could have three different positions:</p>\n<ol>\n<li>First identifier: <code>abc</code>, second identifier: <code>def uvw xyz</code>.</li>\n<li>First identifier: <code>abc def</code>, second identifer: <code>uvw xyz</code>.</li>\n<li>First identifier: <code>abc def uvw</code>, second identifier: <code>xyz</code>.</li>\n</ol>\n<p>In the given case, technically this is not a problem: <em>After parsing</em> it is possible to verify each identifier, if it is valid (note that the set of identifier values is both &quot;huge&quot; - and hence you would not want to put it into a regular expression - and partially also unknown, but verifiable after the fact).</p>\n<p>[Background for the ambiguous protocol: At the other end, a human being is sitting - and based on his/her role and situation, that person isn't able to think about ambiguity of what they are sending. Moreover, if a human mind reads the text, due to semantics and the meaning of the identifiers, it is obvious where to make the cut.]</p>\n<p>The challenge to solve is to create an algorithm which creates all these possible combinations based on an arbitrary input.</p>\n<p>For brevity, it may be assumed that there is no &quot;prefix/suffix problem&quot; between the identifiers, i.e. the identifiers are cut in such a way that a suffix of the first identifier isn't a prefix of the second identifier.</p>\n<p>I already tried to start with a Java Pattern Regular Expression like</p>\n<pre><code>([A-Za-z ]+) ([A-Za-z ]+)\n</code></pre>\n<p>but here greediness always returns you the &quot;last&quot; variant from above, e.g.</p>\n<pre><code>group 1: abc def uvw\ngroup 2: xyz\n</code></pre>\n<p>I also looked around at the various Regex modifiers, including also those not supported by Java (e. g. &quot;Ungreedy&quot;). So I played around with making the quantifier lazy or possessive, but no avail. I also looked at the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">JavaDoc API</a>, playing around with <code>.find()</code> and <code>.results()</code>, but apparently backtracking has terminated and I cannot reinitiate it.</p>\n<p>Due to some additional factors, it would be preferrable to have this parsing done using <code>java.util.regex.Pattern</code>, but this is not mandatory.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1684680894,"post_id":76300476,"comment_id":134549112,"body_markdown":"Do you know the first-level ID (`krZF9...`)?","body":"Do you know the first-level ID (<code>krZF9...</code>)?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684681064,"creation_date":1684681064,"answer_id":76300514,"question_id":76300476,"body_markdown":"If you know the first level ID (`krZF9...`), you can read all data under that node, and loop over the children with:\r\n\r\n```\r\nDatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Requests/krZF9AMNmwZO6cxuqZFaVJA8ZNg1&quot;);\r\nref.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot) {\r\n        for (DataSnapshot secondSnapshot: dataSnapshot.getChildren()) {\r\n            String key = secondSnapshot.getKey(); // x0PTLSiX61MGNfkfVVnjsn9VsZy1\r\n            String status = secondSnapshot.child(&quot;status&quot;).getValue(String.clasS);\r\n            ...\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(DatabaseError databaseError) {\r\n        throw databaseError.toException();\r\n    }\r\n});\r\n\r\n\r\n```","title":"How to extract the second ID from a Firebase Realtime Database path using Java?","body":"<p>If you know the first level ID (<code>krZF9...</code>), you can read all data under that node, and loop over the children with:</p>\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Requests/krZF9AMNmwZO6cxuqZFaVJA8ZNg1&quot;);\nref.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        for (DataSnapshot secondSnapshot: dataSnapshot.getChildren()) {\n            String key = secondSnapshot.getKey(); // x0PTLSiX61MGNfkfVVnjsn9VsZy1\n            String status = secondSnapshot.child(&quot;status&quot;).getValue(String.clasS);\n            ...\n        }\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        throw databaseError.toException();\n    }\n});\n\n\n</code></pre>\n"}],"owner":{"account_id":28548187,"reputation":5,"user_id":21853369,"display_name":"UserName"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76300514,"answer_count":1,"score":0,"last_activity_date":1684681064,"creation_date":1684680574,"question_id":76300476,"body_markdown":"Getting data from FireBase RealTime Database\r\n\r\nHow can I get the second id from the following path: `/Requests/krZF9AMNmwZO6cxuqZFaVJA8ZNg1/x0PTLSiX61MGNfkfVVnjsn9VsZy1`? if the first id is the user who sent the request and the second one should get it and output data from it. The first and second id were chosen as an example they may differ.\r\n\r\n![How it looks in RealTime Database](https://i.stack.imgur.com/kGUvl.png)","title":"How to extract the second ID from a Firebase Realtime Database path using Java?","body":"<p>Getting data from FireBase RealTime Database</p>\n<p>How can I get the second id from the following path: <code>/Requests/krZF9AMNmwZO6cxuqZFaVJA8ZNg1/x0PTLSiX61MGNfkfVVnjsn9VsZy1</code>? if the first id is the user who sent the request and the second one should get it and output data from it. The first and second id were chosen as an example they may differ.</p>\n<p><img src=\"https://i.stack.imgur.com/kGUvl.png\" alt=\"How it looks in RealTime Database\" /></p>\n"},{"tags":["java","executorservice","completable-future"],"answers":[{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1651773209,"creation_date":1651773209,"answer_id":72131633,"question_id":72131438,"body_markdown":"On completely CPU bound tasks you do not get additional performances by going with more threads than CPU cores. So in this scenario, 8 core / 8 thread CPU needs only 8 thread to maximize performances, and loses performance by going with more. IO tasks usually do gain performances by going with larger number of threads than CPU cores, as CPU time is available to do other stuff while waiting for IO. But even when CPU overhead of each thread is low there are limits to scaling as each thread eats into memory, and incurs caching/context switches..\r\n\r\nGiven that your task is IO limited, and you didn&#39;t provide any other constraints, you should probably just run different thread for each of your IO tasks. You can achieve this by either using fixed or cached thread pool.\r\n\r\nIf the number of your IO tasks is very large (thousands+), you should limit the maximum size of your thread pool, as you can have such thing as too many of threads. \r\n\r\nIf your task are CPU bound, you should again limit thread pool to even smaller size. Number of cores can be dynamically fetched by using:\r\n\r\n    int cores = Runtime.getRuntime().availableProcessors();\r\n\r\nAlso, just as your CPU has scaling limit, your IO device usually has a scaling limit too. You should not exceed that limit, but without measuring it is hard to say where limit is.","title":"Which ExecutorService is best for blocking IO tasks","body":"<p>On completely CPU bound tasks you do not get additional performances by going with more threads than CPU cores. So in this scenario, 8 core / 8 thread CPU needs only 8 thread to maximize performances, and loses performance by going with more. IO tasks usually do gain performances by going with larger number of threads than CPU cores, as CPU time is available to do other stuff while waiting for IO. But even when CPU overhead of each thread is low there are limits to scaling as each thread eats into memory, and incurs caching/context switches..</p>\n<p>Given that your task is IO limited, and you didn't provide any other constraints, you should probably just run different thread for each of your IO tasks. You can achieve this by either using fixed or cached thread pool.</p>\n<p>If the number of your IO tasks is very large (thousands+), you should limit the maximum size of your thread pool, as you can have such thing as too many of threads.</p>\n<p>If your task are CPU bound, you should again limit thread pool to even smaller size. Number of cores can be dynamically fetched by using:</p>\n<pre><code>int cores = Runtime.getRuntime().availableProcessors();\n</code></pre>\n<p>Also, just as your CPU has scaling limit, your IO device usually has a scaling limit too. You should not exceed that limit, but without measuring it is hard to say where limit is.</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651774149,"creation_date":1651774149,"answer_id":72131823,"question_id":72131438,"body_markdown":"If I understand your question properly, for above behaviour, irrespective of selection of  `executorService`, it is more important how you are calling your `executorService`.\r\n\r\nE.g.\r\n\r\n    ExecutorService executorService=Executors.newCachedThreadPool();\r\n    executorService.invokeAll(..);\r\n\r\nNow here, `invokeAll(..)` will block until all supplied tasks inside are completed.\r\nSo I feel selecting any ExecutorService &amp; calling `invokeAll(..)` will be suitable for your requirement.\r\n\r\nAlso please have a look at this [SE Question][1] which discusses new Java 8 introduction of [ExecutorCompletionService][2] &amp; `invokeAll`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11872520/executorcompletionservice-why-do-need-one-if-we-have-invokeall\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html","title":"Which ExecutorService is best for blocking IO tasks","body":"<p>If I understand your question properly, for above behaviour, irrespective of selection of  <code>executorService</code>, it is more important how you are calling your <code>executorService</code>.</p>\n<p>E.g.</p>\n<pre><code>ExecutorService executorService=Executors.newCachedThreadPool();\nexecutorService.invokeAll(..);\n</code></pre>\n<p>Now here, <code>invokeAll(..)</code> will block until all supplied tasks inside are completed.\nSo I feel selecting any ExecutorService &amp; calling <code>invokeAll(..)</code> will be suitable for your requirement.</p>\n<p>Also please have a look at this <a href=\"https://stackoverflow.com/questions/11872520/executorcompletionservice-why-do-need-one-if-we-have-invokeall\">SE Question</a> which discusses new Java 8 introduction of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html\" rel=\"nofollow noreferrer\">ExecutorCompletionService</a> &amp; <code>invokeAll</code>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684680658,"creation_date":1651776423,"answer_id":72132236,"question_id":72131438,"body_markdown":"# Project Loom\r\n\r\nYour situation is suited to using the new features being proposed for future versions of Java: [virtual threads][1] and [structured concurrency][2]. These are part of [*Project Loom*][3].\r\n\r\nTodays Java threads are mapped one-to-one onto host operating system threads. When Java code blocks, the host thread blocks. The host OS threads sits idle, waiting for execution to resume. Host OS threads are heavyweight, costly in terms of both CPU and memory. So this idling is not optimal. \r\n\r\nIn contrast, virtual threads in Project Loom are mapped many to one onto the host OS thread. When code in a virtual thread blocks, that task is parked, set aside to allow another virtual threads task some execution time. This parking of virtual threads is managed within the JVM, so it is highly optimized, very fast, very efficient both in CPU and in memory. As a result, Java apps running on common hardware can support thousands, even millions, of virtual threads at a time.\r\n\r\nThe `ExecutorService` is [`AutoCloseable`][4] in Loom. So we can use try-with-resources to contain your entire batch of tasks in a `try ( ExecutorService es = Executors.newVirtualThreadPerTaskExecutor() ) {  submit tasks  }`. Once completed, the flow of control exits from the try-with-resources block, and you know your tasks are done. Access the `Future` object returned for each task you submitted. No need for `CompletableFuture`. \r\n\r\nLoom features are now being previewed and incubated in Java 19 and 20. The virtual threads feature is [planned for release in Java 21][5]. \r\n\r\nFor more info, see the several articles, presentations, and interviews with members of the Project Loom team. These include Ron Pressler and Alan Bateman. And see relevant episodes of [JEP Caf&#233;](https://m.youtube.com/playlist?list=PLX8CzqL3ArzV4BpOzLanxd4bZr46x5e87). \r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/425\r\n  [2]: https://openjdk.java.net/jeps/8277129\r\n  [3]: https://wiki.openjdk.java.net/display/loom/Main\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html\r\n  [5]: https://openjdk.org/jeps/444","title":"Which ExecutorService is best for blocking IO tasks","body":"<h1>Project Loom</h1>\n<p>Your situation is suited to using the new features being proposed for future versions of Java: <a href=\"https://openjdk.java.net/jeps/425\" rel=\"nofollow noreferrer\">virtual threads</a> and <a href=\"https://openjdk.java.net/jeps/8277129\" rel=\"nofollow noreferrer\">structured concurrency</a>. These are part of <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"nofollow noreferrer\"><em>Project Loom</em></a>.</p>\n<p>Todays Java threads are mapped one-to-one onto host operating system threads. When Java code blocks, the host thread blocks. The host OS threads sits idle, waiting for execution to resume. Host OS threads are heavyweight, costly in terms of both CPU and memory. So this idling is not optimal.</p>\n<p>In contrast, virtual threads in Project Loom are mapped many to one onto the host OS thread. When code in a virtual thread blocks, that task is parked, set aside to allow another virtual threads task some execution time. This parking of virtual threads is managed within the JVM, so it is highly optimized, very fast, very efficient both in CPU and in memory. As a result, Java apps running on common hardware can support thousands, even millions, of virtual threads at a time.</p>\n<p>The <code>ExecutorService</code> is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a> in Loom. So we can use try-with-resources to contain your entire batch of tasks in a <code>try ( ExecutorService es = Executors.newVirtualThreadPerTaskExecutor() ) {  submit tasks  }</code>. Once completed, the flow of control exits from the try-with-resources block, and you know your tasks are done. Access the <code>Future</code> object returned for each task you submitted. No need for <code>CompletableFuture</code>.</p>\n<p>Loom features are now being previewed and incubated in Java 19 and 20. The virtual threads feature is <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">planned for release in Java 21</a>.</p>\n<p>For more info, see the several articles, presentations, and interviews with members of the Project Loom team. These include Ron Pressler and Alan Bateman. And see relevant episodes of <a href=\"https://m.youtube.com/playlist?list=PLX8CzqL3ArzV4BpOzLanxd4bZr46x5e87\" rel=\"nofollow noreferrer\">JEP Caf</a>.</p>\n"},{"tags":[],"owner":{"account_id":2417133,"reputation":427,"user_id":2110944,"accept_rate":75,"display_name":"theSemenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681573763,"creation_date":1681573763,"answer_id":76023298,"question_id":72131438,"body_markdown":"I found the optimal solution for this kind of task. All I nead to find the solution is to look at implementation of Executors.newCachedThreadPool() or Executors.newFixedThreadPool(30)\r\n```\r\n   public static ExecutorService newCachedThreadPool() {\r\n        return new ThreadPoolExecutor(0, Integer.MAX_VALUE,\r\n                                      60L, TimeUnit.SECONDS,\r\n                                      new SynchronousQueue&lt;Runnable&gt;());\r\n    }\r\n```\r\n\r\nMy decision is to instantiate ThreadPoolExecutor directly and set upper bound of threads that can be created by thread pool. And set timeout after unused threads can be terminated\r\n```java\r\nint nThread = 90;\r\nlong timeoutSec = 120;\r\nThreadFactory threadFactory = new ThreadFactoryBuilder()\r\n                .setNameFormat(&quot;Executor-Worker-%d&quot;)\r\n                .setDaemon(true)\r\n                .build();\r\nExecutor delegate = new ThreadPoolExecutor(\r\n    0,  // min number of thread in pool\r\n    nThread, // max number of thread in pool\r\n    timeoutSec, // terminate idle thread after\r\n    TimeUnit.SECONDS,\r\n    new SynchronousQueue&lt;Runnable&gt;(),\r\n    threadFactory\r\n);\r\n```","title":"Which ExecutorService is best for blocking IO tasks","body":"<p>I found the optimal solution for this kind of task. All I nead to find the solution is to look at implementation of Executors.newCachedThreadPool() or Executors.newFixedThreadPool(30)</p>\n<pre><code>   public static ExecutorService newCachedThreadPool() {\n        return new ThreadPoolExecutor(0, Integer.MAX_VALUE,\n                                      60L, TimeUnit.SECONDS,\n                                      new SynchronousQueue&lt;Runnable&gt;());\n    }\n</code></pre>\n<p>My decision is to instantiate ThreadPoolExecutor directly and set upper bound of threads that can be created by thread pool. And set timeout after unused threads can be terminated</p>\n<pre class=\"lang-java prettyprint-override\"><code>int nThread = 90;\nlong timeoutSec = 120;\nThreadFactory threadFactory = new ThreadFactoryBuilder()\n                .setNameFormat(&quot;Executor-Worker-%d&quot;)\n                .setDaemon(true)\n                .build();\nExecutor delegate = new ThreadPoolExecutor(\n    0,  // min number of thread in pool\n    nThread, // max number of thread in pool\n    timeoutSec, // terminate idle thread after\n    TimeUnit.SECONDS,\n    new SynchronousQueue&lt;Runnable&gt;(),\n    threadFactory\n);\n</code></pre>\n"}],"owner":{"account_id":2417133,"reputation":427,"user_id":2110944,"accept_rate":75,"display_name":"theSemenov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1736,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1684680658,"creation_date":1651772195,"question_id":72131438,"body_markdown":"Let&#39;s imagine that we have n independent blocking IO tasks e.g. tasks for rest-call to another server. Then all answer we need to combine. Every task can be processing over 10 second. \r\n1.  We can process it sequentially and spent ~n*10 second at the end:\r\n    ```\r\n    Task1Ans task1 = service1.doSomething();\r\n    Task2Ans task2 = service2.doSomething()\r\n    ...\r\n    return result;\r\n    ```\r\n\r\n2. Another strategy is to process it in parallel manner using CompletableFuture and spent ~ 10 second on all task:\r\n    ```\r\n    CompletableFuture&lt;Task1Ans&gt; task1Cs = CompletableFuture.supplyAsync(() -&gt; service1.doSomething(), bestExecutor);\r\n    CompletableFuture&lt;Task2Ans&gt; task2Cs = CompletableFuture.supplyAsync(() -&gt; service2.doSomething(), bestExecutor);\r\n    return CompletableFuture.allOf(task1Cs, task2Cs)\r\n       .thenApply(nothing -&gt; {\r\n           ...\r\n           // combine task1, task2 into result object\r\n           return result;\r\n       }).join();\r\n    ```\r\n\r\nThe second approach has benefits, but I can&#39;t understand which type of thread pool is the best for this kind of task:\r\n\r\n```\r\nExecutorService bestExecutor = Executors.newFixedThreadPool(30)   /// or Executors.newCachedThreadPool() or Executors.newWorkStealingPool()\r\n```\r\n\r\nMy question is which ExecutorService is best for process n-parallel blocking IO tasks.\r\n","title":"Which ExecutorService is best for blocking IO tasks","body":"<p>Let's imagine that we have n independent blocking IO tasks e.g. tasks for rest-call to another server. Then all answer we need to combine. Every task can be processing over 10 second.</p>\n<ol>\n<li><p>We can process it sequentially and spent ~n*10 second at the end:</p>\n<pre><code>Task1Ans task1 = service1.doSomething();\nTask2Ans task2 = service2.doSomething()\n...\nreturn result;\n</code></pre>\n</li>\n<li><p>Another strategy is to process it in parallel manner using CompletableFuture and spent ~ 10 second on all task:</p>\n<pre><code>CompletableFuture&lt;Task1Ans&gt; task1Cs = CompletableFuture.supplyAsync(() -&gt; service1.doSomething(), bestExecutor);\nCompletableFuture&lt;Task2Ans&gt; task2Cs = CompletableFuture.supplyAsync(() -&gt; service2.doSomething(), bestExecutor);\nreturn CompletableFuture.allOf(task1Cs, task2Cs)\n   .thenApply(nothing -&gt; {\n       ...\n       // combine task1, task2 into result object\n       return result;\n   }).join();\n</code></pre>\n</li>\n</ol>\n<p>The second approach has benefits, but I can't understand which type of thread pool is the best for this kind of task:</p>\n<pre><code>ExecutorService bestExecutor = Executors.newFixedThreadPool(30)   /// or Executors.newCachedThreadPool() or Executors.newWorkStealingPool()\n</code></pre>\n<p>My question is which ExecutorService is best for process n-parallel blocking IO tasks.</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684670002,"post_id":76299652,"comment_id":134547861,"body_markdown":"what does `here i tried use native entitymanager...` mean? it does not work either?","body":"what does <code>here i tried use native entitymanager...</code> mean? it does not work either?"},{"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"score":0,"creation_date":1684675367,"post_id":76299652,"comment_id":134548477,"body_markdown":"@AndreyB.Panfilov thats means I injected EntityManager into service (I thought thats bug of spring data jpa, and tried that with EM)","body":"@AndreyB.Panfilov thats means I injected EntityManager into service (I thought thats bug of spring data jpa, and tried that with EM)"},{"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"score":0,"creation_date":1684678333,"post_id":76299652,"comment_id":134548822,"body_markdown":"@AndreyB.Panfilov upd: and yes, does not work either","body":"@AndreyB.Panfilov upd: and yes, does not work either"}],"answers":[{"tags":[],"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684679150,"creation_date":1684679150,"answer_id":76300385,"question_id":76299652,"body_markdown":"Fixed by changing version of hibernate. I had 6.2.1, migrated to 6.2.3.\r\nAnd now i have query:\r\n```\r\n    select\r\n        l1_0.id,\r\n        l1_0.clicks_count,\r\n        l1_0.created,\r\n        l1_0.owner_id,\r\n        l1_0.url\r\n    from\r\n        link_info.link l1_0\r\n    where\r\n        l1_0.id=? for no key update\r\n```","title":"Hibernate: select for update after select entity","body":"<p>Fixed by changing version of hibernate. I had 6.2.1, migrated to 6.2.3.\nAnd now i have query:</p>\n<pre><code>    select\n        l1_0.id,\n        l1_0.clicks_count,\n        l1_0.created,\n        l1_0.owner_id,\n        l1_0.url\n    from\n        link_info.link l1_0\n    where\n        l1_0.id=? for no key update\n</code></pre>\n"}],"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76300385,"answer_count":1,"score":1,"last_activity_date":1684679150,"creation_date":1684668026,"question_id":76299652,"body_markdown":"Situation: the database stores URLs, and information on how many times they were clicked. Correspondingly, if there is a large load (for example, 100 requests at the same time), there is a great chance for a race condition, and we will, in fact, record a non-actual number of &quot;clicks&quot;.\r\nThe solution was the following: pessimistic blocking:\r\n```\r\n// entity\r\n@NamedQuery(\r\n    name = &quot;Link.findByIdForIncressClicks&quot;,\r\n    query = &quot;SELECT l FROM Link l WHERE l.id = :id&quot;,\r\n    lockMode = LockModeType.PESSIMISTIC_WRITE\r\n)\r\n\r\n// spring data jpa repository\r\n@Query(name = &quot;Link.findByIdForIncressClicks&quot;)\r\nOptional&lt;Link&gt; findByIdForIncressClicks(@Param(&quot;id&quot;) Long id);\r\n\r\n// service layer\r\n@Override\r\n@Transactional\r\npublic Link getLinkByShortCutURL(String shortUrl) {\r\n    Long id = encoder.decode(shortUrl);\r\n    // here i tried use native entitymanager...\r\n    // Link link = em.find(Link.class, id, PESSIMISTIC_WRITE);\r\n    Link link = linkRepository.findByIdForIncressClicks(id).get();\r\n    link.incressClicks();\r\n    return linkRepository.save(link);\r\n}\r\n```\r\n\r\nEverything seems to be ok. READ_COMMITTED level. But the wrong value is still being written to the database (tests via JMeter: 40 clicks, 35 saved)\r\nThe select of hibernate in console:\r\n```\r\nHibernate:\r\n    select\r\n        l1_0.id,\r\n        l1_0.clicks_count,\r\n        l1_0.created,\r\n        l1_0.owner_id,\r\n        l1_0.url\r\n    from\r\n        link_info.link l1_0\r\n    where\r\n        l1_0.id=?\r\nHibernate:\r\n    select\r\n        id\r\n    from\r\n        link_info.link\r\n    where\r\n        id=? for update\r\nHibernate:\r\n    update\r\n        link_info.link\r\n    set\r\n        clicks_count=?,\r\n        created=?,\r\n        owner_id=?\r\n    where\r\n        id=?\r\n```\r\nIdk, but hibernate doing first ```select entity```, \r\ninstead of ```select for update``` on ```id```.\r\n\r\nHow i can fix that? Maybe i have wrong using pessimistic locks in JPA?\r\n\r\nUPD. some details: spring-boot v3.1 (hibernate - 6.2.1.Final)","title":"Hibernate: select for update after select entity","body":"<p>Situation: the database stores URLs, and information on how many times they were clicked. Correspondingly, if there is a large load (for example, 100 requests at the same time), there is a great chance for a race condition, and we will, in fact, record a non-actual number of &quot;clicks&quot;.\nThe solution was the following: pessimistic blocking:</p>\n<pre><code>// entity\n@NamedQuery(\n    name = &quot;Link.findByIdForIncressClicks&quot;,\n    query = &quot;SELECT l FROM Link l WHERE l.id = :id&quot;,\n    lockMode = LockModeType.PESSIMISTIC_WRITE\n)\n\n// spring data jpa repository\n@Query(name = &quot;Link.findByIdForIncressClicks&quot;)\nOptional&lt;Link&gt; findByIdForIncressClicks(@Param(&quot;id&quot;) Long id);\n\n// service layer\n@Override\n@Transactional\npublic Link getLinkByShortCutURL(String shortUrl) {\n    Long id = encoder.decode(shortUrl);\n    // here i tried use native entitymanager...\n    // Link link = em.find(Link.class, id, PESSIMISTIC_WRITE);\n    Link link = linkRepository.findByIdForIncressClicks(id).get();\n    link.incressClicks();\n    return linkRepository.save(link);\n}\n</code></pre>\n<p>Everything seems to be ok. READ_COMMITTED level. But the wrong value is still being written to the database (tests via JMeter: 40 clicks, 35 saved)\nThe select of hibernate in console:</p>\n<pre><code>Hibernate:\n    select\n        l1_0.id,\n        l1_0.clicks_count,\n        l1_0.created,\n        l1_0.owner_id,\n        l1_0.url\n    from\n        link_info.link l1_0\n    where\n        l1_0.id=?\nHibernate:\n    select\n        id\n    from\n        link_info.link\n    where\n        id=? for update\nHibernate:\n    update\n        link_info.link\n    set\n        clicks_count=?,\n        created=?,\n        owner_id=?\n    where\n        id=?\n</code></pre>\n<p>Idk, but hibernate doing first <code>select entity</code>,\ninstead of <code>select for update</code> on <code>id</code>.</p>\n<p>How i can fix that? Maybe i have wrong using pessimistic locks in JPA?</p>\n<p>UPD. some details: spring-boot v3.1 (hibernate - 6.2.1.Final)</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","spring-security"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1684444424,"post_id":76284526,"comment_id":134522632,"body_markdown":"Please give your complete pom file. Also add your security config.","body":"Please give your complete pom file. Also add your security config."},{"owner":{"account_id":19511208,"reputation":1,"user_id":14275135,"display_name":"mkhbrn"},"score":0,"creation_date":1684482950,"post_id":76284526,"comment_id":134526830,"body_markdown":"@ch4mp Thanks for your comment. I added the requested files.","body":"@ch4mp Thanks for your comment. I added the requested files."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1684487404,"post_id":76284526,"comment_id":134527693,"body_markdown":"why are you building your own JWT handling when spring security already has full support for handling JWTs? whats the point of using a security framework if you not intend to use its features?","body":"why are you building your own JWT handling when spring security already has full support for handling JWTs? whats the point of using a security framework if you not intend to use its features?"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684489665,"creation_date":1684489665,"answer_id":76287904,"question_id":76284526,"body_markdown":"I designed the `jwt()` request post-processor for MockMvc that you are using in your test, to populate the test security context with a `JwtAuthenticationToken` instance.\r\n\r\nThis adapted when configuring your web-security with `http.resourceServer().jwt()`, and requires to have `spring-security-oauth2-resource-server` as dependency (which is a transient dependency of `spring-boot-starter-oauth2-resource-server`, not `spring-boot-starter-security`).\r\n\r\nTwo options for you:\r\n- change your security configuration to use spring-security for resource servers to validate access-tokens and populate the security context with `JwtAuthenticationToken` instances: this will require to replace what you did arround `io.jsonwebtoken` with `spring-security-oauth2-reource-server` standard configuration\r\n- use something else than the `jwt()` post-processor to populate your test security context. If the Authentication type at runtime is `UsernamePasswordAuthenticationToken`, maybe the `@WithMockUser` annotation?\r\n\r\nI would favor the first option. ","title":"SpringBoot Controller Test with JWT Token gets NoClassDefFoundError for JwtGrantedAuthoritiesConverter","body":"<p>I designed the <code>jwt()</code> request post-processor for MockMvc that you are using in your test, to populate the test security context with a <code>JwtAuthenticationToken</code> instance.</p>\n<p>This adapted when configuring your web-security with <code>http.resourceServer().jwt()</code>, and requires to have <code>spring-security-oauth2-resource-server</code> as dependency (which is a transient dependency of <code>spring-boot-starter-oauth2-resource-server</code>, not <code>spring-boot-starter-security</code>).</p>\n<p>Two options for you:</p>\n<ul>\n<li>change your security configuration to use spring-security for resource servers to validate access-tokens and populate the security context with <code>JwtAuthenticationToken</code> instances: this will require to replace what you did arround <code>io.jsonwebtoken</code> with <code>spring-security-oauth2-reource-server</code> standard configuration</li>\n<li>use something else than the <code>jwt()</code> post-processor to populate your test security context. If the Authentication type at runtime is <code>UsernamePasswordAuthenticationToken</code>, maybe the <code>@WithMockUser</code> annotation?</li>\n</ul>\n<p>I would favor the first option.</p>\n"}],"owner":{"account_id":19511208,"reputation":1,"user_id":14275135,"display_name":"mkhbrn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684678782,"creation_date":1684444262,"question_id":76284526,"body_markdown":"I&#39;m trying to write tests for controller methods. The application is secured with spring security and jwt-Token authentication. For the test I want to use requests to the controllers url and check if I get the responses I expect.\r\n\r\nThis is my current setup:\r\n\r\n```\r\n@WebMvcTest(MyController.class)\r\n@Import({ MyWebSecurityConfig.class })\r\nclass MyControllerTest\r\n{\r\n    @Autowired\r\n    private MockMvc                 mockMvc;\r\n\r\n    // Autowired in JWTAuthorizationFilter\r\n    // Throws &#39;FailedToLoadContext&#39; if its not mocked\r\n    @MockBean\r\n    JWTTokenUtils                   jwtTokenUtils;\r\n \r\n    // implementation of OncePerRequestFilter\r\n    @MockBean\r\n    JWTAuthorizationFilter          jwtAuthorizationFilter; \r\n\r\n    @MockBean\r\n    private MyService myService;\r\n\r\n    private final String            BASE_URL = &quot;/v1/endpoint&quot;;\r\n\r\n    @Test\r\n    void testGetByIdShouldReturnStatus200() throws Throwable\r\n    {\r\n\r\n        when(this.myService.getById(ArgumentMatchers.anyInt())).thenReturn(new TestBean());\r\n\r\n        ResultActions response = this.mockMvc.perform(\r\n             get(this.BASE_URL + &quot;/1&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .with(csrf())\r\n                .with(SecurityMockMvcRequestPostProcessors.jwt()\r\n                    /* .authorities(List.of(new SimpleGrantedAuthority(&quot;test&quot;))) */\r\n                )\r\n             );\r\n\r\n        response.andExpect(status().is2xxSuccessful()).andDo(print());\r\n\r\n    }\r\n```\r\nMy controller:\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/v1/endpoint&quot;)\r\npublic class MyController\r\n{\r\n    @Autowired\r\n    MyService     myService;\r\n\r\n    @GetMapping(value = &quot;/{id}&quot;)\r\n    public BlumeResultBean getById(@PathVariable int id, HttpServletResponse response)\r\n    {\r\n\r\n        logger.info(&quot;MyController.getById started&quot;);\r\n        try\r\n        {\r\n            return this.myService.getById(id);\r\n        } catch (UnknownBlumeException e)\r\n        {\r\n            response.setStatus(HttpServletResponse.SC_NOT_FOUND);\r\n        } catch (Exception e)\r\n        {\r\n            response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n        } finally\r\n        {\r\n            logger.info(&quot;MyController.getById ended&quot;);\r\n            MDC.clear();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\nMy pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.mkhbrn.blume&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Blume&lt;/artifactId&gt;\r\n\t&lt;version&gt;develop&lt;/version&gt;\r\n\t&lt;name&gt;Blume&lt;/name&gt;\r\n\t&lt;description&gt;Blume - Analyze the flower growthcycle&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2020.0.0&lt;/spring-cloud.version&gt;\r\n\t\t&lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-archiver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.5.10&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.26&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t    &lt;dependencies&gt;\r\n\t      &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t        &lt;type&gt;pom&lt;/type&gt;\r\n\t        &lt;scope&gt;import&lt;/scope&gt;\r\n\t      &lt;/dependency&gt;\r\n\t    &lt;/dependencies&gt;\r\n  \t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t        &lt;executable&gt;true&lt;/executable&gt;\r\n\t\t\t    &lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nMy SecurityConfiguration:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class MyWebSecurityConfig extends WebSecurityConfigurerAdapter\r\n{\r\n    @Bean\r\n    public JWTAuthorizationFilter authorizationJwtTokenFilter()\r\n    {\r\n        return new JWTAuthorizationFilter();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception\r\n    {\r\n        http\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .authorizeRequests()\r\n                    .anyRequest().permitAll();\r\n        http.addFilter(new UsernamePasswordAuthenticationFilter(authenticationManager()));\r\n    }\r\n\r\n}\r\n```\r\n\r\nI also tried adding authorities to `jwt()` but I get the following error message in SpringToolSuite.\r\n\r\n&gt; The type org.springframework.security.oauth2.jwt.Jwt cannot be\r\n&gt; resolved.  It is indirectly referenced from required .class files\r\n\r\nWith the same setup and the authorities I get the following in IntelliJ:\r\n\r\n&gt; java: cannot access org.springframework.security.oauth2.jwt.Jwt  \r\n&gt; class file for org.springframework.security.oauth2.jwt.Jwt not found\r\n\r\n**EDIT**\r\n\r\nAs per the first answer from @ch4amp I removed `.with(SecurityMockMvcRequestPostProcessors.jwt())` and tried adding `@WithMockUser` at class and method level but I did not work. I also tried to add a user to the request itself with `.with(user(&quot;user&quot;))` but that also did not work.\r\nEach time I get the following error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Attribute name must not be null\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\tat org.springframework.mock.web.MockHttpServletRequest.setAttribute(MockHttpServletRequest.java:762)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n\tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)\r\n\tat com.mkhbrn.blume.controller.MyControllerTest.testGetByIdShouldReturnStatus200(MyControllerTest.java:95)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\n\r\n```","title":"SpringBoot Controller Test with JWT Token gets NoClassDefFoundError for JwtGrantedAuthoritiesConverter","body":"<p>I'm trying to write tests for controller methods. The application is secured with spring security and jwt-Token authentication. For the test I want to use requests to the controllers url and check if I get the responses I expect.</p>\n<p>This is my current setup:</p>\n<pre><code>@WebMvcTest(MyController.class)\n@Import({ MyWebSecurityConfig.class })\nclass MyControllerTest\n{\n    @Autowired\n    private MockMvc                 mockMvc;\n\n    // Autowired in JWTAuthorizationFilter\n    // Throws 'FailedToLoadContext' if its not mocked\n    @MockBean\n    JWTTokenUtils                   jwtTokenUtils;\n \n    // implementation of OncePerRequestFilter\n    @MockBean\n    JWTAuthorizationFilter          jwtAuthorizationFilter; \n\n    @MockBean\n    private MyService myService;\n\n    private final String            BASE_URL = &quot;/v1/endpoint&quot;;\n\n    @Test\n    void testGetByIdShouldReturnStatus200() throws Throwable\n    {\n\n        when(this.myService.getById(ArgumentMatchers.anyInt())).thenReturn(new TestBean());\n\n        ResultActions response = this.mockMvc.perform(\n             get(this.BASE_URL + &quot;/1&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .with(csrf())\n                .with(SecurityMockMvcRequestPostProcessors.jwt()\n                    /* .authorities(List.of(new SimpleGrantedAuthority(&quot;test&quot;))) */\n                )\n             );\n\n        response.andExpect(status().is2xxSuccessful()).andDo(print());\n\n    }\n</code></pre>\n<p>My controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/v1/endpoint&quot;)\npublic class MyController\n{\n    @Autowired\n    MyService     myService;\n\n    @GetMapping(value = &quot;/{id}&quot;)\n    public BlumeResultBean getById(@PathVariable int id, HttpServletResponse response)\n    {\n\n        logger.info(&quot;MyController.getById started&quot;);\n        try\n        {\n            return this.myService.getById(id);\n        } catch (UnknownBlumeException e)\n        {\n            response.setStatus(HttpServletResponse.SC_NOT_FOUND);\n        } catch (Exception e)\n        {\n            response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n        } finally\n        {\n            logger.info(&quot;MyController.getById ended&quot;);\n            MDC.clear();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>My pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.mkhbrn.blume&lt;/groupId&gt;\n    &lt;artifactId&gt;Blume&lt;/artifactId&gt;\n    &lt;version&gt;develop&lt;/version&gt;\n    &lt;name&gt;Blume&lt;/name&gt;\n    &lt;description&gt;Blume - Analyze the flower growthcycle&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.0&lt;/spring-cloud.version&gt;\n        &lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-archiver&lt;/artifactId&gt;\n            &lt;version&gt;3.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>My SecurityConfiguration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MyWebSecurityConfig extends WebSecurityConfigurerAdapter\n{\n    @Bean\n    public JWTAuthorizationFilter authorizationJwtTokenFilter()\n    {\n        return new JWTAuthorizationFilter();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .authorizeRequests()\n                    .anyRequest().permitAll();\n        http.addFilter(new UsernamePasswordAuthenticationFilter(authenticationManager()));\n    }\n\n}\n</code></pre>\n<p>I also tried adding authorities to <code>jwt()</code> but I get the following error message in SpringToolSuite.</p>\n<blockquote>\n<p>The type org.springframework.security.oauth2.jwt.Jwt cannot be\nresolved.  It is indirectly referenced from required .class files</p>\n</blockquote>\n<p>With the same setup and the authorities I get the following in IntelliJ:</p>\n<blockquote>\n<p>java: cannot access org.springframework.security.oauth2.jwt.Jwt<br />\nclass file for org.springframework.security.oauth2.jwt.Jwt not found</p>\n</blockquote>\n<p><strong>EDIT</strong></p>\n<p>As per the first answer from @ch4amp I removed <code>.with(SecurityMockMvcRequestPostProcessors.jwt())</code> and tried adding <code>@WithMockUser</code> at class and method level but I did not work. I also tried to add a user to the request itself with <code>.with(user(&quot;user&quot;))</code> but that also did not work.\nEach time I get the following error:</p>\n<pre><code>java.lang.IllegalArgumentException: Attribute name must not be null\n    at org.springframework.util.Assert.notNull(Assert.java:201)\n    at org.springframework.mock.web.MockHttpServletRequest.setAttribute(MockHttpServletRequest.java:762)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)\n    at com.mkhbrn.blume.controller.MyControllerTest.testGetByIdShouldReturnStatus200(MyControllerTest.java:95)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","mybatis"],"comments":[{"owner":{"account_id":9063694,"reputation":399,"user_id":6749368,"display_name":"Kazuki Shimizu"},"score":0,"creation_date":1572364550,"post_id":58522647,"comment_id":103532542,"body_markdown":"If you use spring(spring-boot), I propose to use the `SqlSessionFactoryBean` provided by mybatis-spring.","body":"If you use spring(spring-boot), I propose to use the <code>SqlSessionFactoryBean</code> provided by mybatis-spring."},{"owner":{"account_id":1046317,"reputation":996,"user_id":1051228,"accept_rate":44,"display_name":"sandeep"},"score":0,"creation_date":1588677094,"post_id":58522647,"comment_id":108983886,"body_markdown":"@Chris did you got any solution?","body":"@Chris did you got any solution?"}],"answers":[{"tags":[],"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571839237,"creation_date":1571839237,"answer_id":58524622,"question_id":58522647,"body_markdown":"This is not provided out of the box in mybatis. The actual relation between mapper interface and mapper xml file is [hardcoded](https://github.com/mybatis/mybatis-3/blob/master/src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java#L169) in `MapperAnnotationBuilder` class:\r\n\r\n```\r\nString xmlResource = type.getName().replace(&#39;.&#39;, &#39;/&#39;) + &quot;.xml&quot;;\r\n```\r\n\r\nAnd there is no built-in way to override this. In order to change this you need to implement your own equivalent of the `MapperAnnotationBuilder` (you can inherit most of its functionality but would need to override `parse` method in order to change call the method that would replace `loadXmlResource`):\r\n\r\n```\r\nclass MyMapperAnnotationBuilder extends MapperAnnotationBuilder {\r\n  public void parse() {\r\n    String resource = type.toString();\r\n    if (!configuration.isResourceLoaded(resource)) {\r\n      loadXmlResourceFromCustomPlace();\r\n      // ... continue as MapperAnnotationBuilder.parse method\r\n    }\r\n  }\r\n  void private loadXmlResourceFromCustomPlace() {\r\n    // this should be similar to MapperAnnotationBuilder.loadXmlResource\r\n    // but load resource from some other place\r\n  }\r\n}\r\n```\r\n\r\nNow you need to make use of `MyMapperAnnotationBuilder` in your own implementation of the class similar to `org.apache.ibatis.binding.MapperRegistry` (let&#39;s say you call it `MyMapperRegister`). You need to inherit from it and override `addMapper(Class&lt;T&gt; type)` method to use `MyMapperAnnotationBuilder`.\r\n\r\nAnd the final step is to use your mapper registry implementation in the `Configuration`. There is no way to set it externally so you would need to inherit from `Configuration` and use you mapper registry:\r\n\r\n```\r\nclass MyConfiguration extends Configuration {\r\n  public MyConfiguration{Environment environment) {\r\n    super(environment);\r\n    this.mapperRegistry = new MyMapperRegister(this);\r\n  }\r\n```\r\n\r\nAfter this you use `MyConfiguration` the same way you use `Configuration` to configure mybatis and it will load xml mappers from the place defined by the logic implemented in `MyMapperAnnotationBuilder.loadXmlResourceFromCustomPlace`.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Add xml mapper to the configuration of myBatis in the java code with path different than the interface one","body":"<p>This is not provided out of the box in mybatis. The actual relation between mapper interface and mapper xml file is <a href=\"https://github.com/mybatis/mybatis-3/blob/master/src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java#L169\" rel=\"nofollow noreferrer\">hardcoded</a> in <code>MapperAnnotationBuilder</code> class:</p>\n\n<pre><code>String xmlResource = type.getName().replace('.', '/') + \".xml\";\n</code></pre>\n\n<p>And there is no built-in way to override this. In order to change this you need to implement your own equivalent of the <code>MapperAnnotationBuilder</code> (you can inherit most of its functionality but would need to override <code>parse</code> method in order to change call the method that would replace <code>loadXmlResource</code>):</p>\n\n<pre><code>class MyMapperAnnotationBuilder extends MapperAnnotationBuilder {\n  public void parse() {\n    String resource = type.toString();\n    if (!configuration.isResourceLoaded(resource)) {\n      loadXmlResourceFromCustomPlace();\n      // ... continue as MapperAnnotationBuilder.parse method\n    }\n  }\n  void private loadXmlResourceFromCustomPlace() {\n    // this should be similar to MapperAnnotationBuilder.loadXmlResource\n    // but load resource from some other place\n  }\n}\n</code></pre>\n\n<p>Now you need to make use of <code>MyMapperAnnotationBuilder</code> in your own implementation of the class similar to <code>org.apache.ibatis.binding.MapperRegistry</code> (let's say you call it <code>MyMapperRegister</code>). You need to inherit from it and override <code>addMapper(Class&lt;T&gt; type)</code> method to use <code>MyMapperAnnotationBuilder</code>.</p>\n\n<p>And the final step is to use your mapper registry implementation in the <code>Configuration</code>. There is no way to set it externally so you would need to inherit from <code>Configuration</code> and use you mapper registry:</p>\n\n<pre><code>class MyConfiguration extends Configuration {\n  public MyConfiguration{Environment environment) {\n    super(environment);\n    this.mapperRegistry = new MyMapperRegister(this);\n  }\n</code></pre>\n\n<p>After this you use <code>MyConfiguration</code> the same way you use <code>Configuration</code> to configure mybatis and it will load xml mappers from the place defined by the logic implemented in <code>MyMapperAnnotationBuilder.loadXmlResourceFromCustomPlace</code>.</p>\n"},{"tags":[],"owner":{"account_id":28647884,"reputation":1,"user_id":21935499,"display_name":"bayisehat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684678533,"creation_date":1684678533,"answer_id":76300337,"question_id":58522647,"body_markdown":"[MyBatis-spring](http://mybatis.org/spring/factorybean.html) supports mapper interface and mapper xml have different name. In this example, mapper interface `IMapper.java` is in package `com.example.myproject` and mapper xml is in `resources/mapper/mapper.xml`. An option is to use the `mapperLocations` property of the factory bean.\r\n\r\n    private DataSource dataSource(String driver, String url, String userName, String password) {\r\n        return new PooledDataSource(driver, url, userName, password);\r\n    }\r\n\r\n    public SqlSessionFactory createSqlSessionFactory(String driver, String url, String userName, String password) throws Exception {\r\n        SqlSessionFactoryBean factoryBean = new SqlSessionFactoryBean();\r\n        factoryBean.setTransactionFactory(new JdbcTransactionFactory());\r\n        factoryBean.setDataSource(dataSource(driver, url, userName, password));\r\n        factoryBean.setMapperLocations(\r\n                new PathMatchingResourcePatternResolver().getResources(&quot;classpath*:mapper/*.xml&quot;)\r\n        );\r\n\r\n        return factoryBean.getObject();\r\n    }\r\nNotice the method `setMapperLocations` accepts `Resource` as a parameter, and here the path (using pattern) is `mapper/*.xml`.\r\nYou can using mapper interface like this:\r\n\r\n     try (SqlSession session = sqlSessionFactory.openSession()) {\r\n            IMapper mapper = session.getMapper(IMapper.class);\r\n            //execute query here\r\n        }","title":"Add xml mapper to the configuration of myBatis in the java code with path different than the interface one","body":"<p><a href=\"http://mybatis.org/spring/factorybean.html\" rel=\"nofollow noreferrer\">MyBatis-spring</a> supports mapper interface and mapper xml have different name. In this example, mapper interface <code>IMapper.java</code> is in package <code>com.example.myproject</code> and mapper xml is in <code>resources/mapper/mapper.xml</code>. An option is to use the <code>mapperLocations</code> property of the factory bean.</p>\n<pre><code>private DataSource dataSource(String driver, String url, String userName, String password) {\n    return new PooledDataSource(driver, url, userName, password);\n}\n\npublic SqlSessionFactory createSqlSessionFactory(String driver, String url, String userName, String password) throws Exception {\n    SqlSessionFactoryBean factoryBean = new SqlSessionFactoryBean();\n    factoryBean.setTransactionFactory(new JdbcTransactionFactory());\n    factoryBean.setDataSource(dataSource(driver, url, userName, password));\n    factoryBean.setMapperLocations(\n            new PathMatchingResourcePatternResolver().getResources(&quot;classpath*:mapper/*.xml&quot;)\n    );\n\n    return factoryBean.getObject();\n}\n</code></pre>\n<p>Notice the method <code>setMapperLocations</code> accepts <code>Resource</code> as a parameter, and here the path (using pattern) is <code>mapper/*.xml</code>.\nYou can using mapper interface like this:</p>\n<pre><code> try (SqlSession session = sqlSessionFactory.openSession()) {\n        IMapper mapper = session.getMapper(IMapper.class);\n        //execute query here\n    }\n</code></pre>\n"}],"owner":{"account_id":1090652,"reputation":4072,"user_id":1085360,"accept_rate":73,"display_name":"Chris Sim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1748,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1684678533,"creation_date":1571832896,"question_id":58522647,"body_markdown":"I initialized my SqlSessionFactory in java code using an environment and datasource defined within the java code as below:\r\n\r\n    TransactionFactory trxFactory = new JdbcTransactionFactory();\r\n    Environment env = new Environment(&quot;development&quot;, trxFactory, dataSource);\r\n    Configuration config = new Configuration(env);\r\n    config.setJdbcTypeForNull(JdbcType.NULL);\r\n    TypeAliasRegistry aliases = config.getTypeAliasRegistry();\r\n    aliases.registerAlias(&quot;XXXAttempt&quot;, XXXAttemptDao.class);\r\n    config.addMapper(XXXAttemptMapper.class);\r\n    SqlSessionFactory factory = new SqlSessionFactoryBuilder().build(config);\r\n\r\nmy problem is that I need to add my xml mappers here but I couldn&#39;t:\r\nI tried to use:\r\n\r\n    config.addMappers(&quot;config/mybatis/xxx/*.xml&quot;);\r\nand\r\n\r\n    config.addMappers(&quot;config/mybatis/xxx/*.xml&quot;);\r\nwith no luck. note that config.addMapper accepts only java class\r\n\r\nThe only way that worked is to move the xml file to the same package like the interface example to ([REFERENCE][1]):\r\n\r\n    config/com/example/mappers/XXXAttemptMapper.xml\r\n\r\nbut what I need is to be consistent with other projects and put the xml file in the below path:\r\n\r\n    config/myBatis/myDb/XXXAttemptMapper.xml\r\n\r\nhow to add the path for my xml file in the above location?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25152281/mybatis-adding-mapper-xml-file-to-java-created-configuration","title":"Add xml mapper to the configuration of myBatis in the java code with path different than the interface one","body":"<p>I initialized my SqlSessionFactory in java code using an environment and datasource defined within the java code as below:</p>\n\n<pre><code>TransactionFactory trxFactory = new JdbcTransactionFactory();\nEnvironment env = new Environment(\"development\", trxFactory, dataSource);\nConfiguration config = new Configuration(env);\nconfig.setJdbcTypeForNull(JdbcType.NULL);\nTypeAliasRegistry aliases = config.getTypeAliasRegistry();\naliases.registerAlias(\"XXXAttempt\", XXXAttemptDao.class);\nconfig.addMapper(XXXAttemptMapper.class);\nSqlSessionFactory factory = new SqlSessionFactoryBuilder().build(config);\n</code></pre>\n\n<p>my problem is that I need to add my xml mappers here but I couldn't:\nI tried to use:</p>\n\n<pre><code>config.addMappers(\"config/mybatis/xxx/*.xml\");\n</code></pre>\n\n<p>and</p>\n\n<pre><code>config.addMappers(\"config/mybatis/xxx/*.xml\");\n</code></pre>\n\n<p>with no luck. note that config.addMapper accepts only java class</p>\n\n<p>The only way that worked is to move the xml file to the same package like the interface example to (<a href=\"https://stackoverflow.com/questions/25152281/mybatis-adding-mapper-xml-file-to-java-created-configuration\">REFERENCE</a>):</p>\n\n<pre><code>config/com/example/mappers/XXXAttemptMapper.xml\n</code></pre>\n\n<p>but what I need is to be consistent with other projects and put the xml file in the below path:</p>\n\n<pre><code>config/myBatis/myDb/XXXAttemptMapper.xml\n</code></pre>\n\n<p>how to add the path for my xml file in the above location?</p>\n"},{"tags":["java","dynamic-programming","knapsack-problem"],"answers":[{"tags":[],"owner":{"account_id":5730246,"reputation":2931,"user_id":4526012,"accept_rate":44,"display_name":"SomeStudent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437162342,"creation_date":1437160630,"answer_id":31483162,"question_id":31482546,"body_markdown":"If all you need is to select the item with the lowest weight, then why not have it loop through the options and compare the weight of an `object[i]` with the weight of an object at `[i + 1]` if it is lower then just compare it to the next one, otherwise, `object[i] = object[i + 1]`, and so on. Did I understand the question correctly? ","title":"Select items in 0/1 knapsack ,where two items have same benefits |maximize value and minimize weight","body":"<p>If all you need is to select the item with the lowest weight, then why not have it loop through the options and compare the weight of an <code>object[i]</code> with the weight of an object at <code>[i + 1]</code> if it is lower then just compare it to the next one, otherwise, <code>object[i] = object[i + 1]</code>, and so on. Did I understand the question correctly? </p>\n"},{"tags":[],"owner":{"account_id":5707064,"reputation":809,"user_id":4510219,"accept_rate":89,"display_name":"Shubham Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1437216845,"creation_date":1437200320,"answer_id":31488418,"question_id":31482546,"body_markdown":"If you mean to **maximise value** with minimising **Weight** . You can check that\r\n\r\nLet DP[i][j] be the maximal value that can be obtained! \r\n\r\nAnd W[i][j] the minimal weight that is to be used!!\r\n\r\nThen,\r\n\r\n    if(Current Weight &gt; Element&#39;s Weight)\r\n    {\r\n          if(DP[i-1][j-Weight[i]]+Value[i]&gt;DP[i-1][j]){\r\n                 DP[i][j]=DP[i-1][j-Weight[i]]+Value[i];\r\n                 Weight[i][j]= Weight[i-1][j-Weight[i]]+Value[i]\r\n          }\r\n          else if(DP[i-1][j-Weight[i]]+Value[i] &lt;  DP[i-1][j] ){\r\n                 DP[i][j]=DP[i-1][j];\r\n                 Weight[i][j]=Weight[i-1][j];\r\n          } \r\n          else{                   //Note this is the tricky part elsewise the \r\n                                  //Above conditions are simple Knapsack conditions\r\n\r\n                 DP[i][j]=DP[i-1][j];   //Both of them are equal We will get same Value . Thus we cannot maximise it in any other way!!\r\n                 Weight[i][j]=minimum ( Weight[i-1][j] ,Weight[i-1][j-Weight[i]]+A[i]);\r\n\r\n          }\r\n    }\r\n    else\r\n    {\r\n                 DP[i][j]=DP[i-1][j];\r\n                 Weight[i][j]=Weight[i-1][j];\r\n    }\r\n\r\n**Note** the solution is trivial unless the third condition in first if!\r\nWe need to maximise the fun at any cost! So we aren&#39;t Messing with it !\r\nBut when the fun from both cases is same , We need to pick the  one with lesser weight elsewise We will end up having more weight for same value of knapsack!\r\n\r\nI have assumed you know knapsack 0/1 problem that is why I haven&#39;t explained first and second conditions !!\r\n","title":"Select items in 0/1 knapsack ,where two items have same benefits |maximize value and minimize weight","body":"<p>If you mean to <strong>maximise value</strong> with minimising <strong>Weight</strong> . You can check that</p>\n\n<p>Let DP[i][j] be the maximal value that can be obtained! </p>\n\n<p>And W[i][j] the minimal weight that is to be used!!</p>\n\n<p>Then,</p>\n\n<pre><code>if(Current Weight &gt; Element's Weight)\n{\n      if(DP[i-1][j-Weight[i]]+Value[i]&gt;DP[i-1][j]){\n             DP[i][j]=DP[i-1][j-Weight[i]]+Value[i];\n             Weight[i][j]= Weight[i-1][j-Weight[i]]+Value[i]\n      }\n      else if(DP[i-1][j-Weight[i]]+Value[i] &lt;  DP[i-1][j] ){\n             DP[i][j]=DP[i-1][j];\n             Weight[i][j]=Weight[i-1][j];\n      } \n      else{                   //Note this is the tricky part elsewise the \n                              //Above conditions are simple Knapsack conditions\n\n             DP[i][j]=DP[i-1][j];   //Both of them are equal We will get same Value . Thus we cannot maximise it in any other way!!\n             Weight[i][j]=minimum ( Weight[i-1][j] ,Weight[i-1][j-Weight[i]]+A[i]);\n\n      }\n}\nelse\n{\n             DP[i][j]=DP[i-1][j];\n             Weight[i][j]=Weight[i-1][j];\n}\n</code></pre>\n\n<p><strong>Note</strong> the solution is trivial unless the third condition in first if!\nWe need to maximise the fun at any cost! So we aren't Messing with it !\nBut when the fun from both cases is same , We need to pick the  one with lesser weight elsewise We will end up having more weight for same value of knapsack!</p>\n\n<p>I have assumed you know knapsack 0/1 problem that is why I haven't explained first and second conditions !!</p>\n"},{"tags":[],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684678484,"creation_date":1684678484,"answer_id":76300334,"question_id":31482546,"body_markdown":"You can use `Branch and Bound Algorithm` for it.\r\n\r\nSample code-\r\n\r\nConsidering Item is your POJO with weight and price.\r\nIntroduce a method `byRatio()` as follows-\r\n\r\n     public static Comparator&lt;Item&gt; byRatio() {\r\n            return (i1, i2) -&gt; Double.compare(i2.calculateRatio(), i1.calculateRatio());\r\n        }\r\n\r\n    public double calculateRatio() {\r\n            return price / weight;\r\n        }\r\n\r\nThis will help in sorting the list of items by ratio.\r\n\r\nLet&#39;s write the core logic now -\r\n\r\n     public List&lt;Item&gt; buildOptimalPackageWithBBAlgo(List&lt;Item&gt; items, double maxWeight) {\r\n            items.sort(Item.byRatio());\r\n            Node optimal = fetchOptimalNode(items, maxWeight);\r\n            return optimal.items;\r\n        }\r\n\r\n     /**\r\n         * This method used Branch and bound algorithm to search for the\r\n         * optimal node.\r\n         *\r\n         * @param  items  sorted items by ratio of price to weight\r\n         * @param  maxWeight maximum weight the package is allowed to hold\r\n         * @return optimal node\r\n         */\r\n    private Node fetchOptimalNode(List&lt;Item&gt; items, double maxWeight) {\r\n        Node optimal = new Node();\r\n        Node root = new Node();\r\n        root.calculateBound(items, maxWeight);\r\n\r\n        PriorityQueue&lt;Node&gt; queue = new PriorityQueue&lt;&gt;();\r\n        queue.offer(root);\r\n\r\n        while (!queue.isEmpty()) {\r\n            Node node = queue.poll();\r\n\r\n            if (node.bound &gt; optimal.price &amp;&amp; node.height &lt; items.size() - 1) {\r\n\r\n                Node edgeNode = new Node(node);\r\n                Item item = items.get(node.height);\r\n                edgeNode.weight += item.getWeight();\r\n\r\n                if (edgeNode.weight &lt;= maxWeight) {\r\n\r\n                    edgeNode.items.add(items.get(node.height));\r\n                    edgeNode.price += item.getPrice();\r\n                    edgeNode.calculateBound(items, maxWeight);\r\n\r\n                    if (edgeNode.price &gt; optimal.price) {\r\n                        optimal = edgeNode;\r\n                    }\r\n                    if (edgeNode.bound &gt; optimal.price) {\r\n                        queue.offer(edgeNode);\r\n                    }\r\n                }\r\n\r\n                Node leafNode = new Node(node);\r\n                leafNode.calculateBound(items, maxWeight);\r\n\r\n                if (leafNode.bound &gt; optimal.price) {\r\n                    queue.offer(leafNode);\r\n                }\r\n            }\r\n        }\r\n        return optimal;\r\n    }\r\n\r\n    private class Node implements Comparable&lt;Node&gt; {\r\n\r\n        public int height;\r\n        List&lt;Item&gt; items;\r\n        public double bound;\r\n        public double price;\r\n        public double weight;\r\n\r\n        public Node() {\r\n            items = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        public Node(Node parent) {\r\n            height = parent.height + 1;\r\n            items = new ArrayList&lt;&gt;(parent.items);\r\n            bound = parent.bound;\r\n            price = parent.price;\r\n            weight = parent.weight;\r\n        }\r\n\r\n        public int compareTo(Node other) {\r\n            return (int) (other.bound - bound);\r\n        }\r\n\r\n        private void calculateBound(List&lt;Item&gt; items, double maxWeight) {\r\n            int i = height;\r\n            double w = weight;\r\n            bound = price;\r\n            Item item;\r\n            do {\r\n                item = items.get(i);\r\n                if (w + item.getWeight() &gt; maxWeight) break;\r\n                w += item.getWeight();\r\n                bound += item.getPrice();\r\n                i++;\r\n            } while (i &lt; items.size());\r\n            bound += (maxWeight - w) * (item.getPrice() / item.getWeight());\r\n        }\r\n    }\r\n\r\n**Limitations** - This logic works only for items more than 2.\r\nFor less than 2 items, this is over engineering with respect to Time complexity.\r\n\r\nJust use greedy algorithm approach for it.","title":"Select items in 0/1 knapsack ,where two items have same benefits |maximize value and minimize weight","body":"<p>You can use <code>Branch and Bound Algorithm</code> for it.</p>\n<p>Sample code-</p>\n<p>Considering Item is your POJO with weight and price.\nIntroduce a method <code>byRatio()</code> as follows-</p>\n<pre><code> public static Comparator&lt;Item&gt; byRatio() {\n        return (i1, i2) -&gt; Double.compare(i2.calculateRatio(), i1.calculateRatio());\n    }\n\npublic double calculateRatio() {\n        return price / weight;\n    }\n</code></pre>\n<p>This will help in sorting the list of items by ratio.</p>\n<p>Let's write the core logic now -</p>\n<pre><code> public List&lt;Item&gt; buildOptimalPackageWithBBAlgo(List&lt;Item&gt; items, double maxWeight) {\n        items.sort(Item.byRatio());\n        Node optimal = fetchOptimalNode(items, maxWeight);\n        return optimal.items;\n    }\n\n /**\n     * This method used Branch and bound algorithm to search for the\n     * optimal node.\n     *\n     * @param  items  sorted items by ratio of price to weight\n     * @param  maxWeight maximum weight the package is allowed to hold\n     * @return optimal node\n     */\nprivate Node fetchOptimalNode(List&lt;Item&gt; items, double maxWeight) {\n    Node optimal = new Node();\n    Node root = new Node();\n    root.calculateBound(items, maxWeight);\n\n    PriorityQueue&lt;Node&gt; queue = new PriorityQueue&lt;&gt;();\n    queue.offer(root);\n\n    while (!queue.isEmpty()) {\n        Node node = queue.poll();\n\n        if (node.bound &gt; optimal.price &amp;&amp; node.height &lt; items.size() - 1) {\n\n            Node edgeNode = new Node(node);\n            Item item = items.get(node.height);\n            edgeNode.weight += item.getWeight();\n\n            if (edgeNode.weight &lt;= maxWeight) {\n\n                edgeNode.items.add(items.get(node.height));\n                edgeNode.price += item.getPrice();\n                edgeNode.calculateBound(items, maxWeight);\n\n                if (edgeNode.price &gt; optimal.price) {\n                    optimal = edgeNode;\n                }\n                if (edgeNode.bound &gt; optimal.price) {\n                    queue.offer(edgeNode);\n                }\n            }\n\n            Node leafNode = new Node(node);\n            leafNode.calculateBound(items, maxWeight);\n\n            if (leafNode.bound &gt; optimal.price) {\n                queue.offer(leafNode);\n            }\n        }\n    }\n    return optimal;\n}\n\nprivate class Node implements Comparable&lt;Node&gt; {\n\n    public int height;\n    List&lt;Item&gt; items;\n    public double bound;\n    public double price;\n    public double weight;\n\n    public Node() {\n        items = new ArrayList&lt;&gt;();\n    }\n\n    public Node(Node parent) {\n        height = parent.height + 1;\n        items = new ArrayList&lt;&gt;(parent.items);\n        bound = parent.bound;\n        price = parent.price;\n        weight = parent.weight;\n    }\n\n    public int compareTo(Node other) {\n        return (int) (other.bound - bound);\n    }\n\n    private void calculateBound(List&lt;Item&gt; items, double maxWeight) {\n        int i = height;\n        double w = weight;\n        bound = price;\n        Item item;\n        do {\n            item = items.get(i);\n            if (w + item.getWeight() &gt; maxWeight) break;\n            w += item.getWeight();\n            bound += item.getPrice();\n            i++;\n        } while (i &lt; items.size());\n        bound += (maxWeight - w) * (item.getPrice() / item.getWeight());\n    }\n}\n</code></pre>\n<p><strong>Limitations</strong> - This logic works only for items more than 2.\nFor less than 2 items, this is over engineering with respect to Time complexity.</p>\n<p>Just use greedy algorithm approach for it.</p>\n"}],"owner":{"account_id":1622101,"reputation":197,"user_id":1498436,"accept_rate":50,"display_name":"Ankita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1686,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":31488418,"answer_count":3,"score":4,"last_activity_date":1684678484,"creation_date":1437158325,"question_id":31482546,"body_markdown":"In 0/1 knapsack problem, how do I select items, if two items have same value. The value with the lesser weight should be selected , how do I check that condition? I have the following function using Dynamic programming.\r\n\r\n\r\n    static int[] knapsack(int maxWeight, double[] weight, double[] value, int n) {\r\n    \t//n = no. if items\r\n        int i, w;\r\n     \r\n        double array[][] = new double[n + 1][maxWeight + 1];\r\n        for (i = 0; i &lt;= n; i++) {\r\n            for (w = 0; w &lt;= maxWeight; w++) {\r\n                if (i == 0 || w == 0)\r\n            \t\tarray[i][w] = 0;\r\n            \telse if (weight[i - 1] &lt;= w)\r\n                    array[i][w] = max(value[i - 1] + array[i - 1][(w -(int) weight[i - 1])], array[i - 1][w]);\r\n                else\r\n                    array[i][w] = array[i - 1][w];\r\n            \tif (i != 0 || w != 0)\r\n            \t    System.out.print(array[i][w] + &quot;\\t&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n            \t\r\n    \tint[] selected = new int[n + 1];\r\n    \tfor (int j = n, wt = maxWeight; j &gt; 0; j--) {\t\r\n    \t    if (array[j][wt] != array[j - 1][wt]) {\r\n    \t        if (array[j][wt] == array[j][wt - 1]) {\r\n    \t            selected[j] = 0;\r\n    \t            break;\r\n    \t        }\r\n    \t        selected[j] = 1;\r\n    \t        wt = wt - (int) weight[j - 1];\r\n    \t    }\r\n    \t    else\r\n    \t        selected[j] = 0;\r\n    \t}\r\n    \t/** Print finally selected items **/\r\n    \tSystem.out.println(&quot;\\nItems selected : &quot;);\r\n    \tfor (int k = 1; k &lt; n + 1; k++)\r\n    \t    if (selected[k] == 1)\r\n    \t        System.out.print(k +&quot; &quot;);\r\n    \t    System.out.println();\r\n    \t    \r\n    \t\treturn selected;\r\n    }\r\n\r\n\r\n\r\nFor this type of case : (i,v): (4,45)(3,20)(5,30)(2,45) ,maxWeight = 5;\r\n where item 1 and 4 have same value, it should select the item with lesser weight that is 4th. how do I implement this condition in above code.\r\nProblem statement :\r\n\r\n&gt;  Your goal is to determine which things to put into the\r\n&gt; package so that the total weight is less than or equal to the package\r\n&gt; limit and the total cost is as large as possible. You would prefer to\r\n&gt; send a package which weights less in case there is more than one\r\n&gt; package with the same price.","title":"Select items in 0/1 knapsack ,where two items have same benefits |maximize value and minimize weight","body":"<p>In 0/1 knapsack problem, how do I select items, if two items have same value. The value with the lesser weight should be selected , how do I check that condition? I have the following function using Dynamic programming.</p>\n\n<pre><code>static int[] knapsack(int maxWeight, double[] weight, double[] value, int n) {\n    //n = no. if items\n    int i, w;\n\n    double array[][] = new double[n + 1][maxWeight + 1];\n    for (i = 0; i &lt;= n; i++) {\n        for (w = 0; w &lt;= maxWeight; w++) {\n            if (i == 0 || w == 0)\n                array[i][w] = 0;\n            else if (weight[i - 1] &lt;= w)\n                array[i][w] = max(value[i - 1] + array[i - 1][(w -(int) weight[i - 1])], array[i - 1][w]);\n            else\n                array[i][w] = array[i - 1][w];\n            if (i != 0 || w != 0)\n                System.out.print(array[i][w] + \"\\t\");\n        }\n        System.out.println();\n    }\n\n    int[] selected = new int[n + 1];\n    for (int j = n, wt = maxWeight; j &gt; 0; j--) {   \n        if (array[j][wt] != array[j - 1][wt]) {\n            if (array[j][wt] == array[j][wt - 1]) {\n                selected[j] = 0;\n                break;\n            }\n            selected[j] = 1;\n            wt = wt - (int) weight[j - 1];\n        }\n        else\n            selected[j] = 0;\n    }\n    /** Print finally selected items **/\n    System.out.println(\"\\nItems selected : \");\n    for (int k = 1; k &lt; n + 1; k++)\n        if (selected[k] == 1)\n            System.out.print(k +\" \");\n        System.out.println();\n\n        return selected;\n}\n</code></pre>\n\n<p>For this type of case : (i,v): (4,45)(3,20)(5,30)(2,45) ,maxWeight = 5;\n where item 1 and 4 have same value, it should select the item with lesser weight that is 4th. how do I implement this condition in above code.\nProblem statement :</p>\n\n<blockquote>\n  <p>Your goal is to determine which things to put into the\n  package so that the total weight is less than or equal to the package\n  limit and the total cost is as large as possible. You would prefer to\n  send a package which weights less in case there is more than one\n  package with the same price.</p>\n</blockquote>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1684678052,"post_id":76300287,"comment_id":134548785,"body_markdown":"you probably would be better off with a `Map` where the key is the value in the original list and the value is it&#39;s frequency. Then you can loop over the `Map.entrySet()` and print each key and value from there.","body":"you probably would be better off with a <code>Map</code> where the key is the value in the original list and the value is it&#39;s frequency. Then you can loop over the <code>Map.entrySet()</code> and print each key and value from there."},{"owner":{"account_id":28647783,"reputation":11,"user_id":21935423,"display_name":"Alex "},"score":0,"creation_date":1684694367,"post_id":76300287,"comment_id":134550804,"body_markdown":"Oh yeah, I guess a map is better than a class whose the function is just the same. Thanks!","body":"Oh yeah, I guess a map is better than a class whose the function is just the same. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684678079,"creation_date":1684678079,"answer_id":76300303,"question_id":76300287,"body_markdown":"Using a list to represent the result sounds a bit strange to be. The textbook solution would be to create a frequency map, where the key is the sample and the value is its frequency:\r\n\r\n```java\r\nLinkedList&lt;Double&gt; sampleList = new LinkedList&lt;Double&gt;();\r\nMap&lt;Double, Long&gt; frequencies = \r\n    sampleList.stream()\r\n              .collect(Collectors.groupingBy(Function.identity(), Collectors.counting());\r\n```","title":"How to create a list with frequency from an existing list","body":"<p>Using a list to represent the result sounds a bit strange to be. The textbook solution would be to create a frequency map, where the key is the sample and the value is its frequency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinkedList&lt;Double&gt; sampleList = new LinkedList&lt;Double&gt;();\nMap&lt;Double, Long&gt; frequencies = \n    sampleList.stream()\n              .collect(Collectors.groupingBy(Function.identity(), Collectors.counting());\n</code></pre>\n"}],"owner":{"account_id":28647783,"reputation":11,"user_id":21935423,"display_name":"Alex "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684678079,"creation_date":1684677785,"question_id":76300287,"body_markdown":"I just started working on a project, its purpose is to be a tool for my statistics class, I&#39;m currently working on a console based so once I&#39;m done with it I can move on and use UI. But I&#39;m stuck in this problem, I want to create a new list based on my existing list.\r\n\r\n```\r\npublic class Main {\r\n\r\n\tclass ModifiedSample {\r\n\t\tdouble item;\r\n\t\tint frequency;\r\n\r\n\t\tModifiedSample(Double item, int frequency) {\r\n\t\t\tthis.item = item;\r\n\t\t\tthis.frequency = frequency;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tLinkedList&lt;Double&gt; sampleList = new LinkedList&lt;Double&gt;();\r\n\t\tLinkedList&lt;ModifiedSample&gt; modifiedSampleList = new LinkedList&lt;ModifiedSample&gt;();\r\n\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nThis is my simplified version of the class, I do have scanners and all that jazz.\r\n\r\nIf my sampleList = {2, 2, 3, 4, 5, 5, 5, 5, 6},\r\nhow can I make a modifiedSampleList = {sample1, sample2, sample3, sample4, sample5}\r\nso that if create a method like:\r\n\r\n```\r\nstatic void printSampleSpace(LinkedList&lt;ModifiedSample&gt; modifiedSampleList) {\r\n\tfor(ModifiedSample ms : modifiedSampleList) {\r\n\t\tSystem.out.println(&quot;item: &quot; + ms.item);\r\n\t\tSystem.out.println(&quot;frequency: &quot; + ms.frequency);\r\n\t}\r\n}\r\n```\r\n\r\nI can get\r\n\r\n```\r\nitem: 2                                                                          \r\nfrequency: 2                                                                     \r\nitem: 3                                                                   \r\nfrequency: 1                                                                          \r\nitem: 4                                                                               \r\nfrequency: 1                                                                          \r\nitem: 5                                                                       \r\nfrequency: 4                                                                          \r\nitem: 6                                                                               \r\nfrequency: 1  \r\n```\r\n\r\nSo I&#39;m stuck in finding a solution for this problem.","title":"How to create a list with frequency from an existing list","body":"<p>I just started working on a project, its purpose is to be a tool for my statistics class, I'm currently working on a console based so once I'm done with it I can move on and use UI. But I'm stuck in this problem, I want to create a new list based on my existing list.</p>\n<pre><code>public class Main {\n\n    class ModifiedSample {\n        double item;\n        int frequency;\n\n        ModifiedSample(Double item, int frequency) {\n            this.item = item;\n            this.frequency = frequency;\n        }\n    }\n\n    public static void main(String[] args) {\n        LinkedList&lt;Double&gt; sampleList = new LinkedList&lt;Double&gt;();\n        LinkedList&lt;ModifiedSample&gt; modifiedSampleList = new LinkedList&lt;ModifiedSample&gt;();\n\n    }\n    \n}\n</code></pre>\n<p>This is my simplified version of the class, I do have scanners and all that jazz.</p>\n<p>If my sampleList = {2, 2, 3, 4, 5, 5, 5, 5, 6},\nhow can I make a modifiedSampleList = {sample1, sample2, sample3, sample4, sample5}\nso that if create a method like:</p>\n<pre><code>static void printSampleSpace(LinkedList&lt;ModifiedSample&gt; modifiedSampleList) {\n    for(ModifiedSample ms : modifiedSampleList) {\n        System.out.println(&quot;item: &quot; + ms.item);\n        System.out.println(&quot;frequency: &quot; + ms.frequency);\n    }\n}\n</code></pre>\n<p>I can get</p>\n<pre><code>item: 2                                                                          \nfrequency: 2                                                                     \nitem: 3                                                                   \nfrequency: 1                                                                          \nitem: 4                                                                               \nfrequency: 1                                                                          \nitem: 5                                                                       \nfrequency: 4                                                                          \nitem: 6                                                                               \nfrequency: 1  \n</code></pre>\n<p>So I'm stuck in finding a solution for this problem.</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":380765,"reputation":1466,"user_id":735007,"accept_rate":83,"display_name":"idanakav"},"score":1,"creation_date":1361718005,"post_id":15052238,"comment_id":21161857,"body_markdown":"getX() should do the job..  did you try to move it and check ?","body":"getX() should do the job..  did you try to move it and check ?"}],"answers":[{"tags":[],"owner":{"account_id":930575,"reputation":24689,"user_id":960524,"accept_rate":89,"display_name":"P.T."},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1361739224,"creation_date":1361739224,"answer_id":15056534,"question_id":15052238,"body_markdown":"I believe `getX()` and `getY()` on an `Actor` are relative to their parent container, so you&#39;ll need to convert the coordinates to &quot;stage&quot; coordinates, and then from there to &quot;screen&quot; coordinates.  (I think there is an easier way to do this, so there may be a better answer out there).\r\n\r\n    Image myImage = ...;\r\n    Vector2 coords = new Vector2(myImage.getX(), myImage.getY());\r\n    myImage.localToStageCoordinates(/*in/out*/coords);\r\n    myImage.getStage().stageToScreenCoordinates(/*in/out*/coords);\r\n\r\n    System.out.println(&quot;Image X &quot; +myImage.get()+ &quot; maps to screen &quot; +coords.x);\r\n\r\n","title":"Get screen position of Image (or actor) in Libgdx Stage","body":"<p>I believe <code>getX()</code> and <code>getY()</code> on an <code>Actor</code> are relative to their parent container, so you'll need to convert the coordinates to \"stage\" coordinates, and then from there to \"screen\" coordinates.  (I think there is an easier way to do this, so there may be a better answer out there).</p>\n\n<pre><code>Image myImage = ...;\nVector2 coords = new Vector2(myImage.getX(), myImage.getY());\nmyImage.localToStageCoordinates(/*in/out*/coords);\nmyImage.getStage().stageToScreenCoordinates(/*in/out*/coords);\n\nSystem.out.println(\"Image X \" +myImage.get()+ \" maps to screen \" +coords.x);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2010539"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371639913,"creation_date":1371639913,"answer_id":17189565,"question_id":15052238,"body_markdown":"Just a guess!!! - Moving the image &amp; checking for position but getX() returning 0.0 might be because its the camera which moves &amp; produces the movement effect, image may havenot been moved at all &amp; tsayed at the initial position of 0.0 (i think this might be the thing you are missing) ","title":"Get screen position of Image (or actor) in Libgdx Stage","body":"<p>Just a guess!!! - Moving the image &amp; checking for position but getX() returning 0.0 might be because its the camera which moves &amp; produces the movement effect, image may havenot been moved at all &amp; tsayed at the initial position of 0.0 (i think this might be the thing you are missing) </p>\n"},{"tags":[],"owner":{"account_id":1363964,"reputation":703,"user_id":1300794,"display_name":"Emperor Orionii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684677434,"creation_date":1684677434,"answer_id":76300254,"question_id":15052238,"body_markdown":"Now `Actor`s have `localToScreenCoordinates` to get what you need in one call:\r\n\r\n    Vector2 screenPosition = myImage.localToScreenCoordinates(new Vector2(0f, 0f))","title":"Get screen position of Image (or actor) in Libgdx Stage","body":"<p>Now <code>Actor</code>s have <code>localToScreenCoordinates</code> to get what you need in one call:</p>\n<pre><code>Vector2 screenPosition = myImage.localToScreenCoordinates(new Vector2(0f, 0f))\n</code></pre>\n"}],"owner":{"account_id":1734517,"reputation":1285,"user_id":1587395,"accept_rate":85,"display_name":"Alf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7850,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":15056534,"answer_count":3,"score":4,"last_activity_date":1684677434,"creation_date":1361712841,"question_id":15052238,"body_markdown":"I have this piece of code:\r\n\r\n    Image myImage = new Image(new Texture(&quot;data/file.png&quot;));\r\n\r\nHow to get `myImage` position on a screen?  I tried `myImage.getX()` and `myImage.getImageX()` both always return 0.0. What&#39;s wrong?","title":"Get screen position of Image (or actor) in Libgdx Stage","body":"<p>I have this piece of code:</p>\n\n<pre><code>Image myImage = new Image(new Texture(\"data/file.png\"));\n</code></pre>\n\n<p>How to get <code>myImage</code> position on a screen?  I tried <code>myImage.getX()</code> and <code>myImage.getImageX()</code> both always return 0.0. What's wrong?</p>\n"},{"tags":["java","http","servlets","post"],"comments":[{"owner":{"account_id":1692834,"reputation":2228,"user_id":1554878,"accept_rate":0,"display_name":"justMe"},"score":0,"creation_date":1359131316,"post_id":14525982,"comment_id":20254416,"body_markdown":"you need to specify which parameter e.g. if you have keyword in the body use String keyword = request.getParameter(&quot;keyword&quot;);","body":"you need to specify which parameter e.g. if you have keyword in the body use String keyword = request.getParameter(&quot;keyword&quot;);"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1359131443,"post_id":14525982,"comment_id":20254496,"body_markdown":"It&#39;d be interesting to see the JavaScript code sending the request. It&#39;s apparently composing the request parameters in a wrong way.","body":"It&#39;d be interesting to see the JavaScript code sending the request. It&#39;s apparently composing the request parameters in a wrong way."},{"owner":{"account_id":1059184,"reputation":1891,"user_id":1061177,"accept_rate":86,"display_name":"Fasih Awan"},"score":0,"creation_date":1359131590,"post_id":14525982,"comment_id":20254578,"body_markdown":"@Razh well yes I know, I was just specifying which methods I was trying.\nBalusC I am using the resumable.js library to handle split file uploads","body":"@Razh well yes I know, I was just specifying which methods I was trying. BalusC I am using the resumable.js library to handle split file uploads"},{"owner":{"account_id":31998,"reputation":8736,"user_id":88252,"accept_rate":47,"display_name":"Jeach"},"score":4,"creation_date":1367358748,"post_id":14525982,"comment_id":23352043,"body_markdown":"If I&#39;m not mistaking, it&#39;s important that you do NOT use request.getParameter() prior to reading from the input stream otherwise no data will be available (already read).","body":"If I&#39;m not mistaking, it&#39;s important that you do NOT use request.getParameter() prior to reading from the input stream otherwise no data will be available (already read)."}],"answers":[{"tags":[],"owner":{"account_id":256980,"reputation":3763,"user_id":1071757,"display_name":"davidfrancis"},"down_vote_count":5,"up_vote_count":133,"is_accepted":true,"score":128,"last_activity_date":1558297326,"creation_date":1359131313,"answer_id":14526070,"question_id":14525982,"body_markdown":"Simple answer:  \r\nUse getReader() to read the body of the request\r\n\r\nMore info:  \r\nThere are two methods for reading the data in the body:\r\n\r\n1. [`getReader()`][1] returns a [BufferedReader][2] that will allow you to read the body of the request. \r\n\r\n1. [`getInputStream()`][3] returns a [ServletInputStream][4] if you need to read binary data. \r\n\r\nNote from the docs: &quot;[Either method] may be called to read the body, not both.&quot;\r\n\r\n\r\n  [1]: https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getReader--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html?is-external=true\r\n  [3]: https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getInputStream--\r\n  [4]: https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletInputStream.html","title":"Getting request payload from POST request in Java servlet","body":"<p>Simple answer:<br>\nUse getReader() to read the body of the request</p>\n\n<p>More info:<br>\nThere are two methods for reading the data in the body:</p>\n\n<ol>\n<li><p><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getReader--\" rel=\"noreferrer\"><code>getReader()</code></a> returns a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html?is-external=true\" rel=\"noreferrer\">BufferedReader</a> that will allow you to read the body of the request. </p></li>\n<li><p><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getInputStream--\" rel=\"noreferrer\"><code>getInputStream()</code></a> returns a <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletInputStream.html\" rel=\"noreferrer\">ServletInputStream</a> if you need to read binary data. </p></li>\n</ol>\n\n<p>Note from the docs: \"[Either method] may be called to read the body, not both.\"</p>\n"},{"tags":[],"owner":{"account_id":2368756,"reputation":867,"user_id":2073894,"display_name":"Adrian Ayala Torres"},"down_vote_count":2,"up_vote_count":87,"is_accepted":false,"score":85,"last_activity_date":1526994963,"creation_date":1360884474,"answer_id":14885950,"question_id":14525982,"body_markdown":"    String payloadRequest = getBody(request);\r\n\r\nUsing this method \r\n\r\n\tpublic static String getBody(HttpServletRequest request) throws IOException {\r\n\r\n\t\tString body = null;\r\n\t\tStringBuilder stringBuilder = new StringBuilder();\r\n\t\tBufferedReader bufferedReader = null;\r\n\r\n\t\ttry {\r\n\t\t\tInputStream inputStream = request.getInputStream();\r\n\t\t\tif (inputStream != null) {\r\n\t\t\t\tbufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n\t\t\t\tchar[] charBuffer = new char[128];\r\n\t\t\t\tint bytesRead = -1;\r\n\t\t\t\twhile ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\r\n\t\t\t\t\tstringBuilder.append(charBuffer, 0, bytesRead);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tstringBuilder.append(&quot;&quot;);\r\n\t\t\t}\r\n\t\t} catch (IOException ex) {\r\n\t\t\tthrow ex;\r\n\t\t} finally {\r\n\t\t\tif (bufferedReader != null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tbufferedReader.close();\r\n\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\tthrow ex;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbody = stringBuilder.toString();\r\n\t\treturn body;\r\n\t}","title":"Getting request payload from POST request in Java servlet","body":"<pre><code>String payloadRequest = getBody(request);\n</code></pre>\n\n<p>Using this method </p>\n\n<pre><code>public static String getBody(HttpServletRequest request) throws IOException {\n\n    String body = null;\n    StringBuilder stringBuilder = new StringBuilder();\n    BufferedReader bufferedReader = null;\n\n    try {\n        InputStream inputStream = request.getInputStream();\n        if (inputStream != null) {\n            bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n            char[] charBuffer = new char[128];\n            int bytesRead = -1;\n            while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\n                stringBuilder.append(charBuffer, 0, bytesRead);\n            }\n        } else {\n            stringBuilder.append(\"\");\n        }\n    } catch (IOException ex) {\n        throw ex;\n    } finally {\n        if (bufferedReader != null) {\n            try {\n                bufferedReader.close();\n            } catch (IOException ex) {\n                throw ex;\n            }\n        }\n    }\n\n    body = stringBuilder.toString();\n    return body;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1178999,"reputation":89297,"user_id":1154350,"accept_rate":66,"display_name":"Fizer Khan"},"down_vote_count":3,"up_vote_count":61,"is_accepted":false,"score":58,"last_activity_date":1602051079,"creation_date":1409640244,"answer_id":25617320,"question_id":14525982,"body_markdown":"You can use Buffer Reader from request to read \r\n\r\n        // Read from request\r\n        StringBuilder buffer = new StringBuilder();\r\n        BufferedReader reader = request.getReader();\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            buffer.append(line);\r\n            buffer.append(System.lineSeparator());\r\n        }\r\n        String data = buffer.toString()","title":"Getting request payload from POST request in Java servlet","body":"<p>You can use Buffer Reader from request to read</p>\n<pre><code>    // Read from request\n    StringBuilder buffer = new StringBuilder();\n    BufferedReader reader = request.getReader();\n    String line;\n    while ((line = reader.readLine()) != null) {\n        buffer.append(line);\n        buffer.append(System.lineSeparator());\n    }\n    String data = buffer.toString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1442344,"reputation":641,"user_id":1362074,"display_name":"bbviana"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1423268453,"creation_date":1423268453,"answer_id":28377010,"question_id":14525982,"body_markdown":"Java 8 streams\r\n\r\n    String body = request.getReader().lines()\r\n        .reduce(&quot;&quot;, (accumulator, actual) -&gt; accumulator + actual);","title":"Getting request payload from POST request in Java servlet","body":"<p>Java 8 streams</p>\n\n<pre><code>String body = request.getReader().lines()\n    .reduce(\"\", (accumulator, actual) -&gt; accumulator + actual);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1046905,"reputation":502,"user_id":1051709,"display_name":"Diji Adeyemo"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1475240667,"creation_date":1475240667,"answer_id":39792253,"question_id":14525982,"body_markdown":"With [Apache Commons IO][1] you can do this in one line.\r\n\r\n    IOUtils.toString(request.getReader())\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/","title":"Getting request payload from POST request in Java servlet","body":"<p>With <a href=\"https://commons.apache.org/proper/commons-io/\">Apache Commons IO</a> you can do this in one line.</p>\n\n<pre><code>IOUtils.toString(request.getReader())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9069495,"reputation":62,"user_id":6753251,"display_name":"Arol"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1508921870,"creation_date":1479121994,"answer_id":40587416,"question_id":14525982,"body_markdown":"You only need \r\n\r\n&gt; request.getParameterMap()\r\n\r\nfor getting the POST and GET - Parameters.\r\n\r\nThe Method returns a `Map&lt;String,String[]&gt;`.\r\n\r\nYou can read the parameters in the Map by\r\n\r\n\tMap&lt;String, String[]&gt; map = request.getParameterMap();\r\n\t//Reading the Map\r\n\t//Works for GET &amp;&amp; POST Method\r\n\tfor(String paramName:map.keySet()) {\r\n\t\tString[] paramValues = map.get(paramName);\r\n\t\t\r\n\t\t//Get Values of Param Name\r\n\t\tfor(String valueOfParam:paramValues) {\r\n\t\t\t//Output the Values\r\n\t\t\tSystem.out.println(&quot;Value of Param with Name &quot;+paramName+&quot;: &quot;+valueOfParam);\r\n\t\t}\r\n\t}","title":"Getting request payload from POST request in Java servlet","body":"<p>You only need </p>\n\n<blockquote>\n  <p>request.getParameterMap()</p>\n</blockquote>\n\n<p>for getting the POST and GET - Parameters.</p>\n\n<p>The Method returns a <code>Map&lt;String,String[]&gt;</code>.</p>\n\n<p>You can read the parameters in the Map by</p>\n\n<pre><code>Map&lt;String, String[]&gt; map = request.getParameterMap();\n//Reading the Map\n//Works for GET &amp;&amp; POST Method\nfor(String paramName:map.keySet()) {\n    String[] paramValues = map.get(paramName);\n\n    //Get Values of Param Name\n    for(String valueOfParam:paramValues) {\n        //Output the Values\n        System.out.println(\"Value of Param with Name \"+paramName+\": \"+valueOfParam);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6076633,"reputation":91,"user_id":4743787,"display_name":"Timothy Heider"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501526580,"creation_date":1501526580,"answer_id":45423137,"question_id":14525982,"body_markdown":"Using Java 8 try with resources:\r\n\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        try(BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(request.getInputStream()))) {\r\n            char[] charBuffer = new char[1024];\r\n            int bytesRead;\r\n            while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\r\n                stringBuilder.append(charBuffer, 0, bytesRead);\r\n            }\r\n        }\r\n","title":"Getting request payload from POST request in Java servlet","body":"<p>Using Java 8 try with resources:</p>\n\n<pre><code>    StringBuilder stringBuilder = new StringBuilder();\n    try(BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(request.getInputStream()))) {\n        char[] charBuffer = new char[1024];\n        int bytesRead;\n        while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\n            stringBuilder.append(charBuffer, 0, bytesRead);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6461801,"reputation":689,"user_id":5005311,"display_name":"Lloyd Rochester"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1508920721,"creation_date":1502455908,"answer_id":45635715,"question_id":14525982,"body_markdown":"If the contents of the body are a string in Java 8 you can do:\r\n\r\n```String body = request.getReader().lines().collect(Collectors.joining());\r\n```","title":"Getting request payload from POST request in Java servlet","body":"<p>If the contents of the body are a string in Java 8 you can do:</p>\n\n<p><code>String body = request.getReader().lines().collect(Collectors.joining());\n</code></p>\n"},{"tags":[],"owner":{"account_id":8866868,"reputation":280,"user_id":6621774,"accept_rate":60,"display_name":"Harry Developer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1516910093,"creation_date":1516910093,"answer_id":48450880,"question_id":14525982,"body_markdown":"If you are able to send the payload in JSON, this is a most convenient way to read the playload:\r\n\r\nExample data class:\r\n\r\n    public class Person {\r\n        String firstName;\r\n        String lastName;\r\n        // Getters and setters ...\r\n    }\r\n\r\nExample payload (request body):\r\n\r\n    { &quot;firstName&quot; : &quot;John&quot;, &quot;lastName&quot; : &quot;Doe&quot; }\r\n\r\nCode to read payload in servlet (requires com.google.gson.*):\r\n\r\n    Person person = new Gson().fromJson(request.getReader(), Person.class);\r\n\r\nThat&#39;s all. Nice, easy and clean. Don&#39;t forget to set the content-type header to application/json. \r\n\r\n","title":"Getting request payload from POST request in Java servlet","body":"<p>If you are able to send the payload in JSON, this is a most convenient way to read the playload:</p>\n\n<p>Example data class:</p>\n\n<pre><code>public class Person {\n    String firstName;\n    String lastName;\n    // Getters and setters ...\n}\n</code></pre>\n\n<p>Example payload (request body):</p>\n\n<pre><code>{ \"firstName\" : \"John\", \"lastName\" : \"Doe\" }\n</code></pre>\n\n<p>Code to read payload in servlet (requires com.google.gson.*):</p>\n\n<pre><code>Person person = new Gson().fromJson(request.getReader(), Person.class);\n</code></pre>\n\n<p>That's all. Nice, easy and clean. Don't forget to set the content-type header to application/json. </p>\n"}],"owner":{"account_id":1059184,"reputation":1891,"user_id":1061177,"accept_rate":86,"display_name":"Fasih Awan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373050,"favorite_count":0,"down_vote_count":0,"up_vote_count":134,"accepted_answer_id":14526070,"answer_count":9,"score":134,"last_activity_date":1684674113,"creation_date":1359131070,"question_id":14525982,"body_markdown":"I have a javascript library that is sending a POST request to my Java servlet, but in the `doPost` method, I can&#39;t seem to get the contents of the request payload. In chrome Developer Tools, all the content is in the Request Payload section in the headers tab, and the content is there, and I know that the POST is being received by the doPost method, but it just comes up blank.\r\n\r\nFor the `HttpServletRequest`\r\nobject, what way can I get the data in the request payload?\r\n\r\npublic class TestFilter implements Filter {\r\n\r\n\r\n\r\n\r\n","title":"Getting request payload from POST request in Java servlet","body":"<p>I have a javascript library that is sending a POST request to my Java servlet, but in the <code>doPost</code> method, I can't seem to get the contents of the request payload. In chrome Developer Tools, all the content is in the Request Payload section in the headers tab, and the content is there, and I know that the POST is being received by the doPost method, but it just comes up blank.</p>\n<p>For the <code>HttpServletRequest</code>\nobject, what way can I get the data in the request payload?</p>\n<p>public class TestFilter implements Filter {</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":439547,"reputation":1775,"user_id":828551,"accept_rate":63,"display_name":"joninx"},"score":1,"creation_date":1493279511,"post_id":43650443,"comment_id":74350935,"body_markdown":"You should  follow @LukeJanyga&#39;s advice and make use of java.time framework. Stop using raw java.util.Date objects and start using LocalDateTime, LocalDate, LocalTime, and so on.","body":"You should  follow @LukeJanyga&#39;s advice and make use of java.time framework. Stop using raw java.util.Date objects and start using LocalDateTime, LocalDate, LocalTime, and so on."},{"owner":{"account_id":10358227,"reputation":280,"user_id":7639458,"accept_rate":50,"display_name":"deepak rawat"},"score":0,"creation_date":1493284574,"post_id":43650443,"comment_id":74354465,"body_markdown":"could you tell me where is the mistake in my code why its not giving correct month difference and time difference?","body":"could you tell me where is the mistake in my code why its not giving correct month difference and time difference?"},{"owner":{"account_id":439547,"reputation":1775,"user_id":828551,"accept_rate":63,"display_name":"joninx"},"score":1,"creation_date":1493289633,"post_id":43650443,"comment_id":74358020,"body_markdown":"I haven&#39;t got spare time to take a look to your code right now. The best approach for you is to switch to java time: as you&#39;ll get it working faster resulting in lesser quantity of lines of code.","body":"I haven&#39;t got spare time to take a look to your code right now. The best approach for you is to switch to java time: as you&#39;ll get it working faster resulting in lesser quantity of lines of code."},{"owner":{"account_id":439547,"reputation":1775,"user_id":828551,"accept_rate":63,"display_name":"joninx"},"score":1,"creation_date":1493289739,"post_id":43650443,"comment_id":74358102,"body_markdown":"Take a look to the [java time javadoc](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) and to [this article](http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html).","body":"Take a look to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java time javadoc</a> and to <a href=\"http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html\" rel=\"nofollow noreferrer\">this article</a>."}],"answers":[{"tags":[],"owner":{"account_id":8834508,"reputation":400,"user_id":6599346,"accept_rate":50,"display_name":"Vignesh VRT"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1493275932,"creation_date":1493275932,"answer_id":43650573,"question_id":43650443,"body_markdown":"    String calculateTime(String strDate) throws ParseException {\r\n\r\n        String result = &quot;&quot;;\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;ddMMHHmm&quot;);\r\n        Date currDate = new Date();\r\n        String date = dateFormat.format(currDate);\r\n\r\n        currDate = dateFormat.parse(date);\r\n        Date postDate = dateFormat.parse(strDate);\r\n\r\n        //calculate day diff\r\n        long timeDiff = currDate.getTime() - postDate.getTime();\r\n        long daysDiff = TimeUnit.MILLISECONDS.toDays(timeDiff);\r\n        Calendar calendar = GregorianCalendar.getInstance();\r\n        calendar.setTime(postDate);\r\n\r\n        if (daysDiff == 1) {\r\n\r\n\r\n            result = &quot;yesterday&quot;;\r\n            result = result + &quot; at &quot; + getHour(calendar.get(Calendar.HOUR)) + &quot;:&quot;\r\n                    + setPrefix(calendar.get(Calendar.MINUTE))+ &quot; &quot; + getAM_PM(calendar.get(Calendar.AM_PM));\r\n\r\n        } else if (daysDiff &gt; 1) {\r\n\r\n            result = calendar.get(Calendar.DATE) + &quot; &quot; + getMonthForInt(calendar.get(Calendar.MONTH));\r\n            result = result + &quot; at &quot; + getHour(calendar.get(Calendar.HOUR)) + &quot;:&quot;\r\n                    + setPrefix(calendar.get(Calendar.MINUTE)) + &quot; &quot; + getAM_PM(calendar.get(Calendar.AM_PM));\r\n\r\n        } else {\r\n\r\n             long minDiff = TimeUnit.MILLISECONDS.toMinutes(timeDiff);\r\n\r\n\r\n            if (minDiff == 0) {\r\n\r\n                result = &quot;just now&quot;;\r\n            } else if (minDiff &lt; 60) {\r\n\r\n                if (minDiff == 1) {\r\n\r\n                    result = minDiff + &quot; min ago&quot;;\r\n                } else if(minDiff &gt; 1)  {\r\n                    result = minDiff + &quot; mins ago&quot;;\r\n                }\r\n\r\n            } else {\r\n\r\n                long hourDiff = TimeUnit.MILLISECONDS.toHours(timeDiff);\r\n\r\n                if (hourDiff == 1) {\r\n\r\n                    result = hourDiff + &quot; hr ago&quot;;\r\n                } else if(hourDiff &gt; 1){\r\n\r\n                    result = hourDiff + &quot; hrs ago&quot;;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        return result;\r\n    }","title":"Calculate month and time difference in java?","body":"<pre><code>String calculateTime(String strDate) throws ParseException {\n\n    String result = \"\";\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"ddMMHHmm\");\n    Date currDate = new Date();\n    String date = dateFormat.format(currDate);\n\n    currDate = dateFormat.parse(date);\n    Date postDate = dateFormat.parse(strDate);\n\n    //calculate day diff\n    long timeDiff = currDate.getTime() - postDate.getTime();\n    long daysDiff = TimeUnit.MILLISECONDS.toDays(timeDiff);\n    Calendar calendar = GregorianCalendar.getInstance();\n    calendar.setTime(postDate);\n\n    if (daysDiff == 1) {\n\n\n        result = \"yesterday\";\n        result = result + \" at \" + getHour(calendar.get(Calendar.HOUR)) + \":\"\n                + setPrefix(calendar.get(Calendar.MINUTE))+ \" \" + getAM_PM(calendar.get(Calendar.AM_PM));\n\n    } else if (daysDiff &gt; 1) {\n\n        result = calendar.get(Calendar.DATE) + \" \" + getMonthForInt(calendar.get(Calendar.MONTH));\n        result = result + \" at \" + getHour(calendar.get(Calendar.HOUR)) + \":\"\n                + setPrefix(calendar.get(Calendar.MINUTE)) + \" \" + getAM_PM(calendar.get(Calendar.AM_PM));\n\n    } else {\n\n         long minDiff = TimeUnit.MILLISECONDS.toMinutes(timeDiff);\n\n\n        if (minDiff == 0) {\n\n            result = \"just now\";\n        } else if (minDiff &lt; 60) {\n\n            if (minDiff == 1) {\n\n                result = minDiff + \" min ago\";\n            } else if(minDiff &gt; 1)  {\n                result = minDiff + \" mins ago\";\n            }\n\n        } else {\n\n            long hourDiff = TimeUnit.MILLISECONDS.toHours(timeDiff);\n\n            if (hourDiff == 1) {\n\n                result = hourDiff + \" hr ago\";\n            } else if(hourDiff &gt; 1){\n\n                result = hourDiff + \" hrs ago\";\n\n            }\n\n        }\n\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3419934,"reputation":1115,"user_id":2867886,"display_name":"LukeJanyga"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1493279273,"creation_date":1493279273,"answer_id":43651657,"question_id":43650443,"body_markdown":"Please use JSR-310 (known as ThreeTen) which is currently the standard for Java. It provides classes like `Duration` or `ChronoUnit` that contain all necessary tools.\r\n\r\nE.g. `ChronoUnit.MONTHS.between()` will calculate span between 2 dates in months","title":"Calculate month and time difference in java?","body":"<p>Please use JSR-310 (known as ThreeTen) which is currently the standard for Java. It provides classes like <code>Duration</code> or <code>ChronoUnit</code> that contain all necessary tools.</p>\n\n<p>E.g. <code>ChronoUnit.MONTHS.between()</code> will calculate span between 2 dates in months</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684644248,"creation_date":1684620978,"answer_id":76297551,"question_id":43650443,"body_markdown":"# tl;dr\r\n\r\n    Duration.between(\r\n        ZonedDateTime.of( \r\n            LocalDate.parse( input , DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) ) ,\r\n            LocalTime.of( 15 , 45 , 0 ) ,\r\n            ZoneId.of( &quot;Africa/Casablanca&quot; ) \r\n        ) ,\r\n        ZonedDateTime.now( ZoneId.of( &quot;Africa/Casablanca&quot; ) )  \r\n    )\r\n\r\n\r\n# *java.time*\r\n\r\nYou have posted way too much code for me to parse thoroughly. But if I get the gist of it, this might help you\r\n\r\nUse only *java.time* classes, never the terribly flawed legacy classes such as `Date`, `Calendar`, and `SimpleDateFormat`.\r\n\r\nUse `DateTimeFormatter` to define a formatting pattern matching your input.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) ;\r\n\r\nParse as a `LocalDate`.\r\n\r\n    LocalDate ld = LocalDate.parse( input , f ) ;\r\n\r\nGenerate text representing that value, in standard ISO 8601 format.\r\n\r\n    String output = ld.toString() ;\r\n\r\nGenerate text representing that value, in your custom format.\r\n\r\n    String output = ld.format( f ) ;\r\n\r\nAdd your time-of-day and a time zone to determine a moment, a specific point on the timeline.\r\n\r\n    LocalTime lt = LocalTime.of( 12 , 30 , 0 ) ;\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    ZonedDateTime zdt = ZonedDateTime.of( ld , lt , z ) ;\r\n\r\nCalculate elapsed time on a scale of hours-minutes-seconds.\r\n\r\n    Duration duration = Duration.between( zdt , ZonedDateTime.now( z ) ) ;\r\n\r\n","title":"Calculate month and time difference in java?","body":"<h1>tl;dr</h1>\n<pre><code>Duration.between(\n    ZonedDateTime.of( \n        LocalDate.parse( input , DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) ) ,\n        LocalTime.of( 15 , 45 , 0 ) ,\n        ZoneId.of( &quot;Africa/Casablanca&quot; ) \n    ) ,\n    ZonedDateTime.now( ZoneId.of( &quot;Africa/Casablanca&quot; ) )  \n)\n</code></pre>\n<h1><em>java.time</em></h1>\n<p>You have posted way too much code for me to parse thoroughly. But if I get the gist of it, this might help you</p>\n<p>Use only <em>java.time</em> classes, never the terribly flawed legacy classes such as <code>Date</code>, <code>Calendar</code>, and <code>SimpleDateFormat</code>.</p>\n<p>Use <code>DateTimeFormatter</code> to define a formatting pattern matching your input.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) ;\n</code></pre>\n<p>Parse as a <code>LocalDate</code>.</p>\n<pre><code>LocalDate ld = LocalDate.parse( input , f ) ;\n</code></pre>\n<p>Generate text representing that value, in standard ISO 8601 format.</p>\n<pre><code>String output = ld.toString() ;\n</code></pre>\n<p>Generate text representing that value, in your custom format.</p>\n<pre><code>String output = ld.format( f ) ;\n</code></pre>\n<p>Add your time-of-day and a time zone to determine a moment, a specific point on the timeline.</p>\n<pre><code>LocalTime lt = LocalTime.of( 12 , 30 , 0 ) ;\nZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdt = ZonedDateTime.of( ld , lt , z ) ;\n</code></pre>\n<p>Calculate elapsed time on a scale of hours-minutes-seconds.</p>\n<pre><code>Duration duration = Duration.between( zdt , ZonedDateTime.now( z ) ) ;\n</code></pre>\n"}],"owner":{"account_id":10358227,"reputation":280,"user_id":7639458,"accept_rate":50,"display_name":"deepak rawat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":43651657,"answer_count":3,"score":0,"last_activity_date":1684673652,"creation_date":1493275545,"question_id":43650443,"body_markdown":"  i have this code for calculate month and time difference but this code is giving wrong output \r\nits calculating 3 month even actual month difference is 1 when i test this code and same in time case please help where is the issue in this code....\r\n\r\n\r\n  \r\n        public static void updateLinkDownTimeDate(ObjectId TimeDateId, TimeDatePojo TimeDatePojo) {\r\n                try {\r\n                    List&lt;DBObject&gt; array = new ArrayList&lt;&gt;();\r\n                    BasicDBObject match = new BasicDBObject();\r\n                    match.put(&quot;_id&quot;, TimeDateId);\r\n                    DBCollection collection = new MongoSetup().getDBCollection(&quot;TimeDate&quot;);\r\n                    DBObject obj = TimeDatePojo.bsomFromPojo();\r\n                    String newId = (String) obj.get(&quot;linkId&quot;);\r\n                    SimpleDateFormat dates = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n                    String startDate = dates.format(obj.get(&quot;startDate&quot;));\r\n                    String endDate = dates.format(obj.get(&quot;endDate&quot;));\r\n                    Date SD = dates.parse(startDate);\r\n                    Date ED = dates.parse(endDate);\r\n                    Calendar cal = Calendar.getInstance();\r\n                    cal.setTime(SD);\r\n                    int month = cal.get(Calendar.MONTH);\r\n                    int year = cal.get(Calendar.YEAR);\r\n        \r\n                    String startTime = (String) obj.get(&quot;startTime&quot;); //present start time\r\n                    SimpleDateFormat forms = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n                    SimpleDateFormat form = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n                    Calendar currentStartDateCalendar = Calendar.getInstance();\r\n                    currentStartDateCalendar.setTime(SD);\r\n                    int currentSDate = currentStartDateCalendar.get(Calendar.DATE);\r\n                    int currentStartMonth = currentStartDateCalendar.get(Calendar.MONTH);\r\n                    int currentStartYear = currentStartDateCalendar.get(Calendar.YEAR);\r\n                    Date STs = form.parse(startTime);\r\n                    Calendar presentStartTime = Calendar.getInstance();\r\n                    presentStartTime.setTime(STs);\r\n                    int currentHour = presentStartTime.get(Calendar.HOUR);\r\n                    int currentMin = presentStartTime.get(Calendar.MINUTE);\r\n                    int currentSec = presentStartTime.get(Calendar.SECOND);\r\n                    currentStartDateCalendar.set(currentStartYear, currentStartMonth, currentSDate, currentHour, currentMin, currentSec);\r\n                    Date PSDate = currentStartDateCalendar.getTime();\r\n        \r\n                    String endTime = (String) obj.get(&quot;endTime&quot;);  //present end time\r\n                    Date ETs = form.parse(endTime);\r\n                    Calendar currentEndDateCalender = Calendar.getInstance();\r\n                    currentEndDateCalender.setTime(ED);\r\n                    int currentEDate = currentEndDateCalender.get(Calendar.DATE);\r\n                    int currentEndMonth = currentEndDateCalender.get(Calendar.MONTH);\r\n                    int currentEYear = currentEndDateCalender.get(Calendar.YEAR);\r\n                    Calendar presentEndTime = Calendar.getInstance();\r\n                    presentEndTime.setTime(ETs);\r\n                    int currentEndHour = presentEndTime.get(Calendar.HOUR);\r\n                    int currentEndMin = presentEndTime.get(Calendar.MINUTE);\r\n                    int currentEndSec = presentEndTime.get(Calendar.SECOND);\r\n                    currentEndDateCalender.set(currentEYear, currentEndMonth, currentEDate, currentEndHour, currentEndMin, currentEndSec);\r\n                    Date PEDate = currentEndDateCalender.getTime();\r\n                    BasicDBObject getSavedDate = new BasicDBObject();\r\n                    getSavedDate.append(&quot;_id&quot;, linkDownTimeDateId);\r\n                    getSavedDate.append(&quot;linkId&quot;, newId);\r\n                    DBObject seeSaved = collection.findOne(getSavedDate);\r\n                    Date savedSDate = (Date) seeSaved.get(&quot;startDate&quot;);\r\n                    Date savedEDate = (Date) seeSaved.get(&quot;endDate&quot;);\r\n                    String savedStartTime = (String) seeSaved.get(&quot;startTime&quot;);\r\n                    String savedEndTime = (String) seeSaved.get(&quot;endTime&quot;);\r\n                    Date SSD = null;\r\n                    Date SED = null;\r\n                    if (savedSDate.compareTo(SD) == 0 &amp;&amp; savedEDate.compareTo(ED) == 0) {\r\n                        Calendar saveStartTimeCalendar = Calendar.getInstance();\r\n                        saveStartTimeCalendar.setTime(savedSDate);\r\n                        int savedYear = saveStartTimeCalendar.get(Calendar.YEAR);\r\n                        int savedMonth = saveStartTimeCalendar.get(Calendar.MONTH);\r\n                        int savedDate = saveStartTimeCalendar.get(Calendar.DATE);\r\n                        Date SSTs = form.parse(savedStartTime);\r\n                        Calendar savedStartTimeCal = Calendar.getInstance();\r\n                        savedStartTimeCal.setTime(SSTs);\r\n                        int hour = savedStartTimeCal.get(Calendar.HOUR);\r\n                        int mins = savedStartTimeCal.get(Calendar.MINUTE);\r\n                        int secs = savedStartTimeCal.get(Calendar.SECOND);\r\n                        saveStartTimeCalendar.set(savedYear, savedMonth, savedDate, hour, mins, secs);\r\n                        SSD = saveStartTimeCalendar.getTime();\r\n                        Calendar saveEndTimeCalendar = Calendar.getInstance();\r\n                        saveStartTimeCalendar.setTime(savedEDate);\r\n                        int savedEndYear = saveEndTimeCalendar.get(Calendar.YEAR);\r\n                        int savedEndMonth = saveEndTimeCalendar.get(Calendar.MONTH);\r\n                        int savedEndDates = saveEndTimeCalendar.get(Calendar.DATE);\r\n                        Date ESTs = form.parse(savedEndTime);\r\n                        Calendar savedEndTimeCal = Calendar.getInstance();\r\n                        savedEndTimeCal.setTime(ESTs);\r\n                        int endhour = savedStartTimeCal.get(Calendar.HOUR);\r\n                        int endmins = savedStartTimeCal.get(Calendar.MINUTE);\r\n                        int endsecs = savedStartTimeCal.get(Calendar.SECOND);\r\n                        saveEndTimeCalendar.set(savedEndYear, savedEndMonth, savedEndDates, endhour, endmins, endsecs);\r\n                        SED = saveEndTimeCalendar.getTime();\r\n                    } else if (savedSDate.compareTo(SD) == -1 || savedEDate.compareTo(ED) == -1) {\r\n                        Calendar saveStartTimeCalendar = Calendar.getInstance();\r\n                        saveStartTimeCalendar.setTime(SD);\r\n                        int savedYear = saveStartTimeCalendar.get(Calendar.YEAR);\r\n                        int savedMonth = saveStartTimeCalendar.get(Calendar.MONTH);\r\n                        int savedDate = saveStartTimeCalendar.get(Calendar.DATE);\r\n                        Date SSTs = form.parse(savedStartTime);\r\n                        Calendar savedStartTimeCal = Calendar.getInstance();\r\n                        savedStartTimeCal.setTime(SSTs);\r\n                        int hour = savedStartTimeCal.get(Calendar.HOUR);\r\n                        int mins = savedStartTimeCal.get(Calendar.MINUTE);\r\n                        int secs = savedStartTimeCal.get(Calendar.SECOND);\r\n                        saveStartTimeCalendar.set(savedYear, savedMonth, savedDate, hour, mins, secs);\r\n                        SSD = saveStartTimeCalendar.getTime();\r\n                        Calendar saveEndTimeCalendar = Calendar.getInstance();\r\n                        saveStartTimeCalendar.setTime(ED);\r\n                        int savedEndYear = saveEndTimeCalendar.get(Calendar.YEAR);\r\n                        int savedEndMonth = saveEndTimeCalendar.get(Calendar.MONTH);\r\n                        int savedEndDates = saveEndTimeCalendar.get(Calendar.DATE);\r\n                        Date ESTs = form.parse(savedEndTime);\r\n                        Calendar savedEndTimeCal = Calendar.getInstance();\r\n                        savedEndTimeCal.setTime(ESTs);\r\n                        int endhour = savedStartTimeCal.get(Calendar.HOUR);\r\n                        int endmins = savedStartTimeCal.get(Calendar.MINUTE);\r\n                        int endsecs = savedStartTimeCal.get(Calendar.SECOND);\r\n                        saveEndTimeCalendar.set(savedEndYear, savedEndMonth, savedEndDates, endhour, endmins, endsecs);\r\n                        SED = saveEndTimeCalendar.getTime();\r\n                    }\r\n                    List&lt;DBObject&gt; lists = (List&lt;DBObject&gt;) seeSaved.get(&quot;linkDownTime&quot;);\r\n                    int down = 0;\r\n                    for (DBObject dating : lists) {\r\n                        down = (int) dating.get(&quot;downTime&quot;); //saved down time\r\n                    }\r\n                    String startHour = &quot;00:00:00&quot;;\r\n                    String endHour = &quot;24:00:00&quot;;\r\n                    long minutesInOneDay = 1440;\r\n                    int numberOfDays = 0;\r\n                    long dateDifference = 0l;\r\n                    int totalCalculatedMins = 0;\r\n                    try {\r\n                        dateDifference = ED.getTime() - SD.getTime();\r\n                        long days = dateDifference / (24 * 60 * 60 * 1000);\r\n                        numberOfDays = (int) days;\r\n                        if (numberOfDays == 0) {\r\n                            int min = (int) minutesInOneDay;\r\n                            SimpleDateFormat format2 = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n                            Date parsedStartTime = format2.parse(startTime);\r\n                            Date parsedEndTime = format2.parse(endTime);\r\n                            Date parsedOriginalStartHour = format2.parse(startHour);\r\n                            Date parsedOriginalEndHour = format2.parse(endHour);\r\n                            long excludeStartTime = parsedOriginalEndHour.getTime() - parsedStartTime.getTime();\r\n                            long excludedStartMins = minutesInOneDay - (excludeStartTime / (60 * 1000));\r\n                            int excludedMins = (int) excludedStartMins;\r\n                            long excludeEndTime = parsedEndTime.getTime() - parsedOriginalStartHour.getTime();\r\n                            long excludeEndMins = 1440 - (excludeEndTime / (60 * 1000));\r\n                            int excludeMins2 = (int) excludeEndMins;\r\n                            long calculation = min - excludedMins - excludeMins2;\r\n                            totalCalculatedMins = (int) calculation;\r\n                        } else {\r\n                            long minuetes = (minutesInOneDay * numberOfDays);\r\n                            int min = (int) minuetes;\r\n                            SimpleDateFormat format2 = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n                            Date parsedStartTime = format2.parse(startTime);\r\n                            Date parsedEndTime = format2.parse(endTime);\r\n                            Date parsedOriginalStartHour = format2.parse(startHour);\r\n                            Date parsedOriginalEndHour = format2.parse(endHour);\r\n                            long excludeStartTime = parsedOriginalEndHour.getTime() - parsedStartTime.getTime();\r\n                            long excludedStartMins = excludeStartTime / (60 * 1000);\r\n                            int excludedMins = (int) excludedStartMins;\r\n                            long excludeEndTime = parsedEndTime.getTime() - parsedOriginalStartHour.getTime();\r\n                            long excludeEndMins = 1440 + (-(excludeEndTime / (60 * 1000)));\r\n                            int excludeMins2 = (int) excludeEndMins;\r\n                            long calculation = min + excludedMins - excludeMins2;\r\n                            totalCalculatedMins = (int) calculation;\r\n                        }\r\n                    } catch (Exception e) {\r\n                        System.out.println(&quot;Exception being :-&quot; + e);\r\n                    }\r\n                    DBObject sub = new BasicDBObject();\r\n                    sub.put(&quot;linkId&quot;, newId);\r\n                    sub.put(&quot;year&quot;, year);\r\n                    sub.put(&quot;month&quot;, month);\r\n                    sub.put(&quot;downTime&quot;, totalCalculatedMins);\r\n                    array.add(sub);\r\n                    obj.put(&quot;linkDownTime&quot;, array);\r\n                    BasicDBObject update = new BasicDBObject();\r\n                    update.put(&quot;$set&quot;, obj);\r\n                    collection.update(match, update, true, false);\r\n                    BasicDBObject newQuery = new BasicDBObject(&quot;linkId&quot;, obj.get(&quot;linkId&quot;))\r\n                            .append(&quot;startDate&quot;, obj.get(&quot;startDate&quot;))\r\n                            .append(&quot;endDate&quot;, obj.get(&quot;endDate&quot;));\r\n                    DBObject findNewQuery = collection.findOne(newQuery);\r\n                    DBCollection collection2 = new MongoSetup().getDBCollection(&quot;linkTotalDownTime&quot;);\r\n                    List&lt;DBObject&gt; list = (List&lt;DBObject&gt;) findNewQuery.get(&quot;linkDownTime&quot;);\r\n                    for (DBObject data : list) {\r\n                        String linkId = (String) data.get(&quot;linkId&quot;);\r\n                        int years = (int) data.get(&quot;year&quot;);\r\n                        int months = (int) data.get(&quot;month&quot;);\r\n                        int downTime = (int) data.get(&quot;downTime&quot;); // current downTime \r\n        \r\n                        BasicDBObject look = new BasicDBObject();\r\n                        look.append(&quot;linkID&quot;, linkId).append(&quot;Year&quot;, year).append(&quot;month&quot;, month);\r\n                        DBObject findData = collection2.findOne(look);\r\n                        int dataget = (int) findData.get(&quot;totaldownTime&quot;); //totaldowntime \r\n                        int finalValue = 0;\r\n                        int finalTotalValue = 0;\r\n                        if (collection2.count() == 1) {\r\n                            if (PSDate.compareTo(SSD) == 1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                }\r\n                            } else if (PSDate.compareTo(SSD) == -1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = downTime - down;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                }\r\n                            } else if (PEDate.compareTo(SED) == 1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = downTime - down;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                }\r\n                            } else if (PEDate.compareTo(SED) == -1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = downTime - down;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                }\r\n                            }\r\n                        } else if (collection2.count() &gt; 1) {\r\n                            if (PSDate.compareTo(SSD) == 1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = downTime - down;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                }\r\n                            } else if (PSDate.compareTo(SSD) == -1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = downTime - down;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                }\r\n                            } else if (PEDate.compareTo(SED) == 1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = downTime - down;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                }\r\n                            } else if (PEDate.compareTo(SED) == -1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = downTime - down;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                }\r\n                            }\r\n                        }\r\n                        BasicDBObject update_two = new BasicDBObject();\r\n                        update_two.put(&quot;linkID&quot;, linkId);\r\n                        update_two.put(&quot;Year&quot;, years);\r\n                        update_two.put(&quot;month&quot;, months);\r\n                        update_two.put(&quot;totaldownTime&quot;, finalTotalValue);\r\n                        collection2.update(findData, update_two, true, false);\r\n                    }\r\n                    System.out.println(&quot;Updated Successfully ...&quot;);\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n\r\n","title":"Calculate month and time difference in java?","body":"<p>i have this code for calculate month and time difference but this code is giving wrong output \nits calculating 3 month even actual month difference is 1 when i test this code and same in time case please help where is the issue in this code....</p>\n\n<pre><code>    public static void updateLinkDownTimeDate(ObjectId TimeDateId, TimeDatePojo TimeDatePojo) {\n            try {\n                List&lt;DBObject&gt; array = new ArrayList&lt;&gt;();\n                BasicDBObject match = new BasicDBObject();\n                match.put(\"_id\", TimeDateId);\n                DBCollection collection = new MongoSetup().getDBCollection(\"TimeDate\");\n                DBObject obj = TimeDatePojo.bsomFromPojo();\n                String newId = (String) obj.get(\"linkId\");\n                SimpleDateFormat dates = new SimpleDateFormat(\"dd-MM-yyyy\");\n                String startDate = dates.format(obj.get(\"startDate\"));\n                String endDate = dates.format(obj.get(\"endDate\"));\n                Date SD = dates.parse(startDate);\n                Date ED = dates.parse(endDate);\n                Calendar cal = Calendar.getInstance();\n                cal.setTime(SD);\n                int month = cal.get(Calendar.MONTH);\n                int year = cal.get(Calendar.YEAR);\n\n                String startTime = (String) obj.get(\"startTime\"); //present start time\n                SimpleDateFormat forms = new SimpleDateFormat(\"dd-MM-yyyy\");\n                SimpleDateFormat form = new SimpleDateFormat(\"HH:mm:ss\");\n                Calendar currentStartDateCalendar = Calendar.getInstance();\n                currentStartDateCalendar.setTime(SD);\n                int currentSDate = currentStartDateCalendar.get(Calendar.DATE);\n                int currentStartMonth = currentStartDateCalendar.get(Calendar.MONTH);\n                int currentStartYear = currentStartDateCalendar.get(Calendar.YEAR);\n                Date STs = form.parse(startTime);\n                Calendar presentStartTime = Calendar.getInstance();\n                presentStartTime.setTime(STs);\n                int currentHour = presentStartTime.get(Calendar.HOUR);\n                int currentMin = presentStartTime.get(Calendar.MINUTE);\n                int currentSec = presentStartTime.get(Calendar.SECOND);\n                currentStartDateCalendar.set(currentStartYear, currentStartMonth, currentSDate, currentHour, currentMin, currentSec);\n                Date PSDate = currentStartDateCalendar.getTime();\n\n                String endTime = (String) obj.get(\"endTime\");  //present end time\n                Date ETs = form.parse(endTime);\n                Calendar currentEndDateCalender = Calendar.getInstance();\n                currentEndDateCalender.setTime(ED);\n                int currentEDate = currentEndDateCalender.get(Calendar.DATE);\n                int currentEndMonth = currentEndDateCalender.get(Calendar.MONTH);\n                int currentEYear = currentEndDateCalender.get(Calendar.YEAR);\n                Calendar presentEndTime = Calendar.getInstance();\n                presentEndTime.setTime(ETs);\n                int currentEndHour = presentEndTime.get(Calendar.HOUR);\n                int currentEndMin = presentEndTime.get(Calendar.MINUTE);\n                int currentEndSec = presentEndTime.get(Calendar.SECOND);\n                currentEndDateCalender.set(currentEYear, currentEndMonth, currentEDate, currentEndHour, currentEndMin, currentEndSec);\n                Date PEDate = currentEndDateCalender.getTime();\n                BasicDBObject getSavedDate = new BasicDBObject();\n                getSavedDate.append(\"_id\", linkDownTimeDateId);\n                getSavedDate.append(\"linkId\", newId);\n                DBObject seeSaved = collection.findOne(getSavedDate);\n                Date savedSDate = (Date) seeSaved.get(\"startDate\");\n                Date savedEDate = (Date) seeSaved.get(\"endDate\");\n                String savedStartTime = (String) seeSaved.get(\"startTime\");\n                String savedEndTime = (String) seeSaved.get(\"endTime\");\n                Date SSD = null;\n                Date SED = null;\n                if (savedSDate.compareTo(SD) == 0 &amp;&amp; savedEDate.compareTo(ED) == 0) {\n                    Calendar saveStartTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(savedSDate);\n                    int savedYear = saveStartTimeCalendar.get(Calendar.YEAR);\n                    int savedMonth = saveStartTimeCalendar.get(Calendar.MONTH);\n                    int savedDate = saveStartTimeCalendar.get(Calendar.DATE);\n                    Date SSTs = form.parse(savedStartTime);\n                    Calendar savedStartTimeCal = Calendar.getInstance();\n                    savedStartTimeCal.setTime(SSTs);\n                    int hour = savedStartTimeCal.get(Calendar.HOUR);\n                    int mins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int secs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveStartTimeCalendar.set(savedYear, savedMonth, savedDate, hour, mins, secs);\n                    SSD = saveStartTimeCalendar.getTime();\n                    Calendar saveEndTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(savedEDate);\n                    int savedEndYear = saveEndTimeCalendar.get(Calendar.YEAR);\n                    int savedEndMonth = saveEndTimeCalendar.get(Calendar.MONTH);\n                    int savedEndDates = saveEndTimeCalendar.get(Calendar.DATE);\n                    Date ESTs = form.parse(savedEndTime);\n                    Calendar savedEndTimeCal = Calendar.getInstance();\n                    savedEndTimeCal.setTime(ESTs);\n                    int endhour = savedStartTimeCal.get(Calendar.HOUR);\n                    int endmins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int endsecs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveEndTimeCalendar.set(savedEndYear, savedEndMonth, savedEndDates, endhour, endmins, endsecs);\n                    SED = saveEndTimeCalendar.getTime();\n                } else if (savedSDate.compareTo(SD) == -1 || savedEDate.compareTo(ED) == -1) {\n                    Calendar saveStartTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(SD);\n                    int savedYear = saveStartTimeCalendar.get(Calendar.YEAR);\n                    int savedMonth = saveStartTimeCalendar.get(Calendar.MONTH);\n                    int savedDate = saveStartTimeCalendar.get(Calendar.DATE);\n                    Date SSTs = form.parse(savedStartTime);\n                    Calendar savedStartTimeCal = Calendar.getInstance();\n                    savedStartTimeCal.setTime(SSTs);\n                    int hour = savedStartTimeCal.get(Calendar.HOUR);\n                    int mins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int secs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveStartTimeCalendar.set(savedYear, savedMonth, savedDate, hour, mins, secs);\n                    SSD = saveStartTimeCalendar.getTime();\n                    Calendar saveEndTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(ED);\n                    int savedEndYear = saveEndTimeCalendar.get(Calendar.YEAR);\n                    int savedEndMonth = saveEndTimeCalendar.get(Calendar.MONTH);\n                    int savedEndDates = saveEndTimeCalendar.get(Calendar.DATE);\n                    Date ESTs = form.parse(savedEndTime);\n                    Calendar savedEndTimeCal = Calendar.getInstance();\n                    savedEndTimeCal.setTime(ESTs);\n                    int endhour = savedStartTimeCal.get(Calendar.HOUR);\n                    int endmins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int endsecs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveEndTimeCalendar.set(savedEndYear, savedEndMonth, savedEndDates, endhour, endmins, endsecs);\n                    SED = saveEndTimeCalendar.getTime();\n                }\n                List&lt;DBObject&gt; lists = (List&lt;DBObject&gt;) seeSaved.get(\"linkDownTime\");\n                int down = 0;\n                for (DBObject dating : lists) {\n                    down = (int) dating.get(\"downTime\"); //saved down time\n                }\n                String startHour = \"00:00:00\";\n                String endHour = \"24:00:00\";\n                long minutesInOneDay = 1440;\n                int numberOfDays = 0;\n                long dateDifference = 0l;\n                int totalCalculatedMins = 0;\n                try {\n                    dateDifference = ED.getTime() - SD.getTime();\n                    long days = dateDifference / (24 * 60 * 60 * 1000);\n                    numberOfDays = (int) days;\n                    if (numberOfDays == 0) {\n                        int min = (int) minutesInOneDay;\n                        SimpleDateFormat format2 = new SimpleDateFormat(\"HH:mm:ss\");\n                        Date parsedStartTime = format2.parse(startTime);\n                        Date parsedEndTime = format2.parse(endTime);\n                        Date parsedOriginalStartHour = format2.parse(startHour);\n                        Date parsedOriginalEndHour = format2.parse(endHour);\n                        long excludeStartTime = parsedOriginalEndHour.getTime() - parsedStartTime.getTime();\n                        long excludedStartMins = minutesInOneDay - (excludeStartTime / (60 * 1000));\n                        int excludedMins = (int) excludedStartMins;\n                        long excludeEndTime = parsedEndTime.getTime() - parsedOriginalStartHour.getTime();\n                        long excludeEndMins = 1440 - (excludeEndTime / (60 * 1000));\n                        int excludeMins2 = (int) excludeEndMins;\n                        long calculation = min - excludedMins - excludeMins2;\n                        totalCalculatedMins = (int) calculation;\n                    } else {\n                        long minuetes = (minutesInOneDay * numberOfDays);\n                        int min = (int) minuetes;\n                        SimpleDateFormat format2 = new SimpleDateFormat(\"HH:mm:ss\");\n                        Date parsedStartTime = format2.parse(startTime);\n                        Date parsedEndTime = format2.parse(endTime);\n                        Date parsedOriginalStartHour = format2.parse(startHour);\n                        Date parsedOriginalEndHour = format2.parse(endHour);\n                        long excludeStartTime = parsedOriginalEndHour.getTime() - parsedStartTime.getTime();\n                        long excludedStartMins = excludeStartTime / (60 * 1000);\n                        int excludedMins = (int) excludedStartMins;\n                        long excludeEndTime = parsedEndTime.getTime() - parsedOriginalStartHour.getTime();\n                        long excludeEndMins = 1440 + (-(excludeEndTime / (60 * 1000)));\n                        int excludeMins2 = (int) excludeEndMins;\n                        long calculation = min + excludedMins - excludeMins2;\n                        totalCalculatedMins = (int) calculation;\n                    }\n                } catch (Exception e) {\n                    System.out.println(\"Exception being :-\" + e);\n                }\n                DBObject sub = new BasicDBObject();\n                sub.put(\"linkId\", newId);\n                sub.put(\"year\", year);\n                sub.put(\"month\", month);\n                sub.put(\"downTime\", totalCalculatedMins);\n                array.add(sub);\n                obj.put(\"linkDownTime\", array);\n                BasicDBObject update = new BasicDBObject();\n                update.put(\"$set\", obj);\n                collection.update(match, update, true, false);\n                BasicDBObject newQuery = new BasicDBObject(\"linkId\", obj.get(\"linkId\"))\n                        .append(\"startDate\", obj.get(\"startDate\"))\n                        .append(\"endDate\", obj.get(\"endDate\"));\n                DBObject findNewQuery = collection.findOne(newQuery);\n                DBCollection collection2 = new MongoSetup().getDBCollection(\"linkTotalDownTime\");\n                List&lt;DBObject&gt; list = (List&lt;DBObject&gt;) findNewQuery.get(\"linkDownTime\");\n                for (DBObject data : list) {\n                    String linkId = (String) data.get(\"linkId\");\n                    int years = (int) data.get(\"year\");\n                    int months = (int) data.get(\"month\");\n                    int downTime = (int) data.get(\"downTime\"); // current downTime \n\n                    BasicDBObject look = new BasicDBObject();\n                    look.append(\"linkID\", linkId).append(\"Year\", year).append(\"month\", month);\n                    DBObject findData = collection2.findOne(look);\n                    int dataget = (int) findData.get(\"totaldownTime\"); //totaldowntime \n                    int finalValue = 0;\n                    int finalTotalValue = 0;\n                    if (collection2.count() == 1) {\n                        if (PSDate.compareTo(SSD) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        } else if (PSDate.compareTo(SSD) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        }\n                    } else if (collection2.count() &gt; 1) {\n                        if (PSDate.compareTo(SSD) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        } else if (PSDate.compareTo(SSD) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        }\n                    }\n                    BasicDBObject update_two = new BasicDBObject();\n                    update_two.put(\"linkID\", linkId);\n                    update_two.put(\"Year\", years);\n                    update_two.put(\"month\", months);\n                    update_two.put(\"totaldownTime\", finalTotalValue);\n                    collection2.update(findData, update_two, true, false);\n                }\n                System.out.println(\"Updated Successfully ...\");\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n</code></pre>\n"},{"tags":["java","comparator","binary-search"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1541846402,"post_id":53238038,"comment_id":93362265,"body_markdown":"Just for the record: you understand that a prerequisite for binary search is that your array/list is already sorted? Is that the case here?","body":"Just for the record: you understand that a prerequisite for binary search is that your array/list is already sorted? Is that the case here?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1541846610,"post_id":53238038,"comment_id":93362298,"body_markdown":"&quot;I was too lazy&quot; you are supremely lazy if you can&#39;t be bothered to do s/eihcle/ehicle/g.","body":"&quot;I was too lazy&quot; you are supremely lazy if you can&#39;t be bothered to do s/eihcle/ehicle/g."},{"owner":{"display_name":"user10516751"},"score":0,"creation_date":1541847009,"post_id":53238038,"comment_id":93362382,"body_markdown":"@AndyTurner yes :)","body":"@AndyTurner yes :)"},{"owner":{"display_name":"user10516751"},"score":0,"creation_date":1541847026,"post_id":53238038,"comment_id":93362389,"body_markdown":"@GhostCat apologies, see the edited question.","body":"@GhostCat apologies, see the edited question."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684673205,"creation_date":1541846357,"answer_id":53238111,"question_id":53238038,"body_markdown":"[`Collections#binarySearch`](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#binarySearch-java.util.List-T-java.util.Comparator-) searches a `List` for the same type of value that the list holds. Here, you&#39;re trying to search a list of vehicles with a string, and thus getting the error your shared.&lt;br/&gt;\r\nOne approach is to create a fake vehicle just so its model can be searched:\r\n\r\n    Vehicle modelDummy = new Vehicle();\r\n    modelDummy.setModel(search);\r\n    int index = Collections.binarySearch(vehicles, modelDummy, comp);\r\n\r\nNote that in order to use `binarySearch` like that the list must be sorted according to the `Comparator` you provide (i.e., sorted according to the model in this case). If this assumption is not true, you&#39;ll have to use an O(n) search. E.g.:\r\n\r\n    Vehicle vehicle = vehicles.stream().filter(v -&gt; v.getModel().eqauls(search)).findFirst();","title":"How to use `Collections.binarySearch()` to do a binary search though an ArrayList of objects?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#binarySearch-java.util.List-T-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>Collections#binarySearch</code></a> searches a <code>List</code> for the same type of value that the list holds. Here, you're trying to search a list of vehicles with a string, and thus getting the error your shared.<br/>\nOne approach is to create a fake vehicle just so its model can be searched:</p>\n<pre><code>Vehicle modelDummy = new Vehicle();\nmodelDummy.setModel(search);\nint index = Collections.binarySearch(vehicles, modelDummy, comp);\n</code></pre>\n<p>Note that in order to use <code>binarySearch</code> like that the list must be sorted according to the <code>Comparator</code> you provide (i.e., sorted according to the model in this case). If this assumption is not true, you'll have to use an O(n) search. E.g.:</p>\n<pre><code>Vehicle vehicle = vehicles.stream().filter(v -&gt; v.getModel().eqauls(search)).findFirst();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541847226,"creation_date":1541847226,"answer_id":53238223,"question_id":53238038,"body_markdown":"Create a view of the list:\n\n    List&lt;String&gt; view = new AbstractList&lt;String&gt;() {\n      @Override public int size() {\n        return vehicles.size();\n      }\n\n      @Override public String get(int i) {\n        return vehicles.get(i).getModel();\n      }\n    };\n\nThen apply binary search to the view.\n\n    int index = Collections.binarySearch(view, search);\n\nNote that whilst it would work using an anonymous class, like this, it would be better to define a named class (e.g. a nested class, or even a local class), in order that it can both `extend AbstractList` and `implement RandomAccess`, so that the binary search knows it can access efficiently by index.","title":"How to use `Collections.binarySearch()` to do a binary search though an ArrayList of objects?","body":"<p>Create a view of the list:</p>\n\n<pre><code>List&lt;String&gt; view = new AbstractList&lt;String&gt;() {\n  @Override public int size() {\n    return vehicles.size();\n  }\n\n  @Override public String get(int i) {\n    return vehicles.get(i).getModel();\n  }\n};\n</code></pre>\n\n<p>Then apply binary search to the view.</p>\n\n<pre><code>int index = Collections.binarySearch(view, search);\n</code></pre>\n\n<p>Note that whilst it would work using an anonymous class, like this, it would be better to define a named class (e.g. a nested class, or even a local class), in order that it can both <code>extend AbstractList</code> and <code>implement RandomAccess</code>, so that the binary search knows it can access efficiently by index.</p>\n"},{"tags":[],"owner":{"account_id":28644032,"reputation":23,"user_id":21932511,"display_name":"rekki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684673177,"creation_date":1684672982,"answer_id":76299961,"question_id":53238038,"body_markdown":"Since this branch contains both correct solutions and it is both forbidden to use in my task, I will write my own, at the same time I will ask people to evaluate whether it is correct (the decision was made, tests passed)?\r\nIf you looking for vehicles by model(String model):\r\n\r\n    int index = Collections.binarySearch(vehicles, model, new Comparator&lt;Object&gt;(){\r\n            @Override\r\n            public int compare(Object o1, Object o2) {\r\n                Vehicle veh = (Vehicle)o1;\r\n                String str = (String) o2;\r\n                return veh.getModel().compareTo(str);\r\n            }\r\n        });\r\nWhat do you think?","title":"How to use `Collections.binarySearch()` to do a binary search though an ArrayList of objects?","body":"<p>Since this branch contains both correct solutions and it is both forbidden to use in my task, I will write my own, at the same time I will ask people to evaluate whether it is correct (the decision was made, tests passed)?\nIf you looking for vehicles by model(String model):</p>\n<pre><code>int index = Collections.binarySearch(vehicles, model, new Comparator&lt;Object&gt;(){\n        @Override\n        public int compare(Object o1, Object o2) {\n            Vehicle veh = (Vehicle)o1;\n            String str = (String) o2;\n            return veh.getModel().compareTo(str);\n        }\n    });\n</code></pre>\n<p>What do you think?</p>\n"}],"owner":{"display_name":"user10516751"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53238111,"answer_count":3,"score":2,"last_activity_date":1684673205,"creation_date":1541845708,"question_id":53238038,"body_markdown":"I have tried all the answers from the related questions, like following:\r\n\r\nhttps://stackoverflow.com/questions/40196002/implement-binary-search-using-the-collections-binarysearch-signature\r\n\r\nhttps://stackoverflow.com/questions/30743531/cant-use-binary-search-with-object-arraylist\r\n\r\nBut none of them have worked for me.\r\n\r\nThe thing is that I want to do `binarySearch()` to find an object with a particular attribute in an `ArrayList`.\r\n\r\nI am using the following code for this:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n\r\n    public class SearchingThread extends Thread {\r\n\r\n    \tprivate String search;\r\n    \tprivate ArrayList&lt;Vehicle&gt; vehicles;\r\n    \t\r\n    \tpublic SearchingThread(String search, ArrayList&lt;Vehicle&gt; vehicles) {\r\n    \t\tthis.search = search;\r\n    \t\tthis.vehicles = vehicles;\r\n    \t}\r\n    \t\r\n    \tpublic void run() {\r\n    \t\t\r\n    \t\tComparator&lt;Vehicle&gt; comp = new Comparator&lt;Vehicle&gt;() {\r\n\r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(Vehicle o1, Vehicle o2) {\r\n    \t\t\t\treturn o1.getModel().compareTo(o2.getModel());\r\n    \t\t\t}\r\n    \t\t\t\t\r\n    \t\t};\r\n    \t\t\r\n    \t\tint index = Collections.binarySearch(vehicles, search, comp);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nHere `search` is the variable with the `model` that I want to search in the ArrayList `vehicles`.\r\n\r\nI am getting the following error for this:\r\n\r\n&gt;The method binarySearch(List&lt;? extends T&gt;, T, Comparator&lt;? super T&gt;) in the type Collections is not applicable for the arguments (ArrayList&lt;Vehicle&gt;, String, Comparator&lt;Vehicle&gt;)\r\n\r\nI am not able to use it, can anyone help me understand the cause and solution to the error.\r\n\r\n**Edit:**\r\n\r\nSorry for not posting this before, sorting is not an issue. I have sorted the array list accordingly beforehand.","title":"How to use `Collections.binarySearch()` to do a binary search though an ArrayList of objects?","body":"<p>I have tried all the answers from the related questions, like following:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/40196002/implement-binary-search-using-the-collections-binarysearch-signature\">Implement binary search using the `Collections.binarySearch` signature</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/30743531/cant-use-binary-search-with-object-arraylist\">Can&#39;t use binary search with Object Arraylist?</a></p>\n\n<p>But none of them have worked for me.</p>\n\n<p>The thing is that I want to do <code>binarySearch()</code> to find an object with a particular attribute in an <code>ArrayList</code>.</p>\n\n<p>I am using the following code for this:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\n\npublic class SearchingThread extends Thread {\n\n    private String search;\n    private ArrayList&lt;Vehicle&gt; vehicles;\n\n    public SearchingThread(String search, ArrayList&lt;Vehicle&gt; vehicles) {\n        this.search = search;\n        this.vehicles = vehicles;\n    }\n\n    public void run() {\n\n        Comparator&lt;Vehicle&gt; comp = new Comparator&lt;Vehicle&gt;() {\n\n            @Override\n            public int compare(Vehicle o1, Vehicle o2) {\n                return o1.getModel().compareTo(o2.getModel());\n            }\n\n        };\n\n        int index = Collections.binarySearch(vehicles, search, comp);\n\n\n\n    }\n\n}\n</code></pre>\n\n<p>Here <code>search</code> is the variable with the <code>model</code> that I want to search in the ArrayList <code>vehicles</code>.</p>\n\n<p>I am getting the following error for this:</p>\n\n<blockquote>\n  <p>The method binarySearch(List, T, Comparator) in the type Collections is not applicable for the arguments (ArrayList, String, Comparator)</p>\n</blockquote>\n\n<p>I am not able to use it, can anyone help me understand the cause and solution to the error.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Sorry for not posting this before, sorting is not an issue. I have sorted the array list accordingly beforehand.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684672810,"creation_date":1684672810,"answer_id":76299948,"question_id":76299822,"body_markdown":"Wrong spelling of of the entity field `userName`.\r\n\r\n    &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\r\n\r\nShould be:\r\n\r\n    &lt;td th:text=&quot;${user.userName}&quot;&gt;&lt;/td&gt;","title":"html page can&#39;t read from model spring boot thymeleaf","body":"<p>Wrong spelling of of the entity field <code>userName</code>.</p>\n<pre><code>&lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\n</code></pre>\n<p>Should be:</p>\n<pre><code>&lt;td th:text=&quot;${user.userName}&quot;&gt;&lt;/td&gt;\n</code></pre>\n"}],"owner":{"account_id":27014594,"reputation":23,"user_id":20573680,"display_name":"negbi2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684672810,"creation_date":1684670670,"question_id":76299822,"body_markdown":"I have the following controller\r\n\r\n\r\n```\r\npackage com.website.school;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\n\r\n@Controller\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @GetMapping(&quot;/users&quot;)\r\n    public String index(Model model) {\r\n        model.addAttribute(&quot;listUsers&quot;, userService.getAllUsers());\r\n        return &quot;users&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nand a users.html file \r\n\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;title&gt;Manager Site&lt;/title&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}&quot;&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;div class=&quot;container-fluid text-center&quot;&gt;\r\n        &lt;h1&gt;ljk&#241;afs&#241;jafnjdfbhj&#241;sdbfj&#241;sdfvhjsdf&lt;/h1&gt;\r\n        &lt;table class=&quot;table&quot;&gt;\r\n            &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;ID&lt;/th&gt;\r\n                    &lt;th&gt;Email&lt;/th&gt;\r\n                    &lt;th&gt;Name&lt;/th&gt;\r\n                    &lt;th&gt;Username&lt;/th&gt;\r\n                    &lt;th&gt;Password&lt;/th&gt;\r\n                    &lt;th&gt;&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/thead&gt;\r\n            &lt;tbody&gt;\r\n                &lt;tr th:each=&quot;user : ${listUsers}&quot;&gt;\r\n                    &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${user.password}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n\r\n\r\nBut whenever I run my application and navigate to /users I get the following error\r\n\r\n\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nAn error happened during template parsing (template: &quot;class path resource [templates/users.html]&quot;)\r\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/users.html]&quot;)\r\n```\r\n\r\nIf I comment out the tbody the page loads as expected \r\nI also know that I have a connection with my database because I made a test class that is a RestController and it returns the json I expected\r\n\r\n\r\n\r\n### My service class\r\n\r\n\r\n```\r\npackage com.website.school;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class UserService {\r\n    \r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n}\r\n\r\n```\r\n\r\n### My Model class\r\n\r\n\r\n```\r\npackage com.website.school;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity\r\n@Data\r\n@Table(name = &quot;user&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;isAdmin&quot;)\r\n    private boolean isAdmin;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String userName;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n}\r\n\r\n```\r\n\r\n### My repository\r\n\r\n```\r\npackage com.website.school;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"html page can&#39;t read from model spring boot thymeleaf","body":"<p>I have the following controller</p>\n<pre><code>package com.website.school;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\n\n@Controller\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/users&quot;)\n    public String index(Model model) {\n        model.addAttribute(&quot;listUsers&quot;, userService.getAllUsers());\n        return &quot;users&quot;;\n    }\n}\n\n</code></pre>\n<p>and a users.html file</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Manager Site&lt;/title&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}&quot;&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=&quot;container-fluid text-center&quot;&gt;\n        &lt;h1&gt;ljkafsjafnjdfbhjsdbfjsdfvhjsdf&lt;/h1&gt;\n        &lt;table class=&quot;table&quot;&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;ID&lt;/th&gt;\n                    &lt;th&gt;Email&lt;/th&gt;\n                    &lt;th&gt;Name&lt;/th&gt;\n                    &lt;th&gt;Username&lt;/th&gt;\n                    &lt;th&gt;Password&lt;/th&gt;\n                    &lt;th&gt;&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr th:each=&quot;user : ${listUsers}&quot;&gt;\n                    &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.password}&quot;&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n\n</code></pre>\n<p>But whenever I run my application and navigate to /users I get the following error</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: &quot;class path resource [templates/users.html]&quot;)\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/users.html]&quot;)\n</code></pre>\n<p>If I comment out the tbody the page loads as expected\nI also know that I have a connection with my database because I made a test class that is a RestController and it returns the json I expected</p>\n<h3>My service class</h3>\n<pre><code>package com.website.school;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n    \n    @Autowired\n    private UserRepository userRepository;\n\n    public List&lt;User&gt; getAllUsers() {\n        return userRepository.findAll();\n    }\n}\n\n</code></pre>\n<h3>My Model class</h3>\n<pre><code>package com.website.school;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Data\n@Table(name = &quot;user&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;isAdmin&quot;)\n    private boolean isAdmin;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;username&quot;)\n    private String userName;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n}\n\n</code></pre>\n<h3>My repository</h3>\n<pre><code>package com.website.school;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n}\n\n</code></pre>\n"},{"tags":["java","selenium","selenium-chromedriver","cucumber"],"answers":[{"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636264764,"creation_date":1636264764,"answer_id":69870148,"question_id":69868702,"body_markdown":"The casting of the Webdriver interface with Chromedriver has only been declared in your @Before step (where it is not used), the other steps are unaware. Amend to the following:\r\n```\r\npublic class hotelBookingFormPage {\r\n\r\n    public WebDriver driver = new ChromeDriver();\r\n\r\n    @Before\r\n    public void startBrowser() {\r\n        WebDriverManager.chromedriver().setup();\r\n    }\r\n\r\n    @After\r\n    public void closeBrowser() {\r\n        driver.close();\r\n        driver.quit();\r\n    }\r\n\r\n    @Given(&quot;I navigate to the hotel booking form page&quot;)\r\n    public void iNavigateToTheHotelBookingFormPage() {\r\n        driver.get(&quot;http://hotel-test.equalexperts.io/&quot;);\r\n    }\r\n```\r\n","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null","body":"<p>The casting of the Webdriver interface with Chromedriver has only been declared in your @Before step (where it is not used), the other steps are unaware. Amend to the following:</p>\n<pre><code>public class hotelBookingFormPage {\n\n    public WebDriver driver = new ChromeDriver();\n\n    @Before\n    public void startBrowser() {\n        WebDriverManager.chromedriver().setup();\n    }\n\n    @After\n    public void closeBrowser() {\n        driver.close();\n        driver.quit();\n    }\n\n    @Given(&quot;I navigate to the hotel booking form page&quot;)\n    public void iNavigateToTheHotelBookingFormPage() {\n        driver.get(&quot;http://hotel-test.equalexperts.io/&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636277423,"creation_date":1636277423,"answer_id":69871192,"question_id":69868702,"body_markdown":"```\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\n```\r\n\r\nWith this you&#39;re importing the JUnit hook annotations, not the Cucumber ones. So Cucumber doesn&#39;t know you want to run the annotated methods before and after each scenario.\r\n\r\nCucumbers annotations are in a different package:\r\n\r\n```\r\nimport io.cucumber.java.en.Before;\r\nimport io.cucumber.java.en.After;\r\n```\r\n","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null","body":"<pre><code>import org.junit.After;\nimport org.junit.Before;\n</code></pre>\n<p>With this you're importing the JUnit hook annotations, not the Cucumber ones. So Cucumber doesn't know you want to run the annotated methods before and after each scenario.</p>\n<p>Cucumbers annotations are in a different package:</p>\n<pre><code>import io.cucumber.java.en.Before;\nimport io.cucumber.java.en.After;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28437065,"reputation":1,"user_id":21756998,"display_name":"Rutuja Mohite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684672729,"creation_date":1684672729,"answer_id":76299942,"question_id":69868702,"body_markdown":"public class BaseClass {\r\n\r\n\t//every time we need to open url and browser so we need to create variable for url an dbrowser \r\n\t//we have to read url and browser so in base class create object of ReadConfigue class\r\n\t\r\n\tReadConfigue readconfigue=new ReadConfigue();\r\n\t String url=readconfigue.getbaseurl();   //store getbaseurl and getbrowser in string \r\n\t String browser=readconfigue.getbrowser();\r\n\t public static WebDriver driver;\r\n\t public static Logger logger;\r\n\t \r\n\t \r\n\t //create method of launch broswer \r\n\t @BeforeClass\r\n\t public void setup() \r\n\t {\r\n\t\t String  browser=&quot;Chrome&quot;;\r\n\t\t switch(browser.toLowerCase())\r\n\t\t {\r\n\t\t case &quot;Chrome&quot;:\r\n\t\t\t WebDriverManager.chromedriver().setup();\r\n\t\t\t driver=new ChromeDriver();\r\n\t\t\t break;\r\n\t\t\t \r\n\t/*\t case &quot;msedge&quot;:\r\n\t\t\t WebDriverManager.edgedriver().setup();\r\n\t\t\t driver=new EdgeDriver();\r\n\t\t\t break;\r\n\r\n\t\t case &quot;firefox&quot;:\r\n\t\t\t WebDriverManager.firefoxdriver().setup();\r\n\t\t\t driver=new FirefoxDriver();\r\n\t\t\t break; */\r\n\t\t\t default:\r\n\t\t     driver=null;\r\n\t\t     break;\r\n\t\t     \r\n\t\t }\r\n\t     driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n        \r\n\t     // for logging create object of logger\r\n\t     //create static varible of logger  outside class and intitize here\r\n\t     logger =LogManager.getLogger(&quot;AutomationFramework&quot;);\r\n\t     \r\n\t }\r\n\r\n\t @AfterClass\r\n\t public void tearDown() \r\n\t {\r\n\t\t driver.close();\r\n\t\t driver.quit();\r\n\t }\r\n\t\r\n\t\r\n","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null","body":"<p>public class BaseClass {</p>\n<pre><code>//every time we need to open url and browser so we need to create variable for url an dbrowser \n//we have to read url and browser so in base class create object of ReadConfigue class\n\nReadConfigue readconfigue=new ReadConfigue();\n String url=readconfigue.getbaseurl();   //store getbaseurl and getbrowser in string \n String browser=readconfigue.getbrowser();\n public static WebDriver driver;\n public static Logger logger;\n \n \n //create method of launch broswer \n @BeforeClass\n public void setup() \n {\n     String  browser=&quot;Chrome&quot;;\n     switch(browser.toLowerCase())\n     {\n     case &quot;Chrome&quot;:\n         WebDriverManager.chromedriver().setup();\n         driver=new ChromeDriver();\n         break;\n         \n/*   case &quot;msedge&quot;:\n         WebDriverManager.edgedriver().setup();\n         driver=new EdgeDriver();\n         break;\n\n     case &quot;firefox&quot;:\n         WebDriverManager.firefoxdriver().setup();\n         driver=new FirefoxDriver();\n         break; */\n         default:\n         driver=null;\n         break;\n         \n     }\n     driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    \n     // for logging create object of logger\n     //create static varible of logger  outside class and intitize here\n     logger =LogManager.getLogger(&quot;AutomationFramework&quot;);\n     \n }\n\n @AfterClass\n public void tearDown() \n {\n     driver.close();\n     driver.quit();\n }\n</code></pre>\n"}],"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10936,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1684672729,"creation_date":1636241141,"question_id":69868702,"body_markdown":"I am getting the error below. I am new to Java and thus any help would be appreciated.\r\n\r\n```Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null```\r\n\r\nPlease see the code below:\r\n```\r\npackage steps;\r\n\r\nimport io.cucumber.java.en.Given;\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class hotelBookingFormPage {\r\n\r\n    public WebDriver driver;\r\n\r\n    @Before\r\n    public void startBrowser() {\r\n        WebDriverManager.chromedriver().setup();\r\n        driver = new ChromeDriver();\r\n    }\r\n\r\n    @After\r\n    public void closeBrowser() {\r\n        driver.close();\r\n        driver.quit();\r\n    }\r\n\r\n    @Given(&quot;I navigate to the hotel booking form page&quot;)\r\n    public void iNavigateToTheHotelBookingFormPage() {\r\n        driver.get(&quot;http://hotel-test.equalexperts.io/&quot;);\r\n    }\r\n```\r\n\r\nAny help would be appreciated.","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null","body":"<p>I am getting the error below. I am new to Java and thus any help would be appreciated.</p>\n<p><code>Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null</code></p>\n<p>Please see the code below:</p>\n<pre><code>package steps;\n\nimport io.cucumber.java.en.Given;\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class hotelBookingFormPage {\n\n    public WebDriver driver;\n\n    @Before\n    public void startBrowser() {\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n    }\n\n    @After\n    public void closeBrowser() {\n        driver.close();\n        driver.quit();\n    }\n\n    @Given(&quot;I navigate to the hotel booking form page&quot;)\n    public void iNavigateToTheHotelBookingFormPage() {\n        driver.get(&quot;http://hotel-test.equalexperts.io/&quot;);\n    }\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","memory-management","jvm"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1408508677,"post_id":25396664,"comment_id":39611104,"body_markdown":"No. You cannot access arbitrary memory in Java. But, you can share memory between two JVMs. Use JNI and ipcs. Or sockets over loopback.","body":"No. You cannot access arbitrary memory in Java. But, you can share memory between two JVMs. Use JNI and ipcs. Or sockets over loopback."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1408508732,"post_id":25396664,"comment_id":39611122,"body_markdown":"AFAIK, there&#39;s nothing built into the core API.  You could use `Socket`s to communicate between each other or even via a third party","body":"AFAIK, there&#39;s nothing built into the core API.  You could use <code>Socket</code>s to communicate between each other or even via a third party"},{"owner":{"account_id":83160,"reputation":5081,"user_id":233347,"accept_rate":87,"display_name":"prashant thakre"},"score":0,"creation_date":1408508735,"post_id":25396664,"comment_id":39611123,"body_markdown":"who JVMs or two JVMs??? please correct the question title.","body":"who JVMs or two JVMs??? please correct the question title."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1408508776,"post_id":25396664,"comment_id":39611136,"body_markdown":"No, even if this was one JVM you can not access a pre-defined memory location.  You can `share` memory space by using a multi-tenanted JVM like waratek","body":"No, even if this was one JVM you can not access a pre-defined memory location.  You can <code>share</code> memory space by using a multi-tenanted JVM like waratek"},{"owner":{"account_id":4862184,"reputation":1685,"user_id":3921464,"display_name":"Manjunath"},"score":0,"creation_date":1408509340,"post_id":25396664,"comment_id":39611284,"body_markdown":"You can think of serializing the objects into a file and refer it from the other jvm","body":"You can think of serializing the objects into a file and refer it from the other jvm"},{"owner":{"account_id":2098088,"reputation":1983,"user_id":1866426,"accept_rate":25,"display_name":"Siva Kumar"},"score":0,"creation_date":1408509583,"post_id":25396664,"comment_id":39611359,"body_markdown":"What is your purpose of doing. If you want to share info between two jvms , then you can go for a RMI.","body":"What is your purpose of doing. If you want to share info between two jvms , then you can go for a RMI."},{"owner":{"account_id":2109921,"reputation":1166,"user_id":1875393,"display_name":"Gustav Grusell"},"score":0,"creation_date":1408509665,"post_id":25396664,"comment_id":39611382,"body_markdown":"Depending on the use case, it may be possible to use memory mapped IO to achieve something roughly similar to shared memory. See http://www.javacodegeeks.com/2013/05/power-of-java-memorymapped-file.html","body":"Depending on the use case, it may be possible to use memory mapped IO to achieve something roughly similar to shared memory. See <a href=\"http://www.javacodegeeks.com/2013/05/power-of-java-memorymapped-file.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2013/05/power-of-java-memorymapped-file.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1408511018,"post_id":25396664,"comment_id":39611723,"body_markdown":"Why do you want to do this? If it&#39;s so performance-critical that a Unix socket won&#39;t work, Java is probably the wrong choice.","body":"Why do you want to do this? If it&#39;s so performance-critical that a Unix socket won&#39;t work, Java is probably the wrong choice."}],"answers":[{"tags":[],"owner":{"account_id":3148519,"reputation":3710,"user_id":2662475,"display_name":"Xabster"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1641689488,"creation_date":1408509945,"answer_id":25396866,"question_id":25396664,"body_markdown":"Yes,\r\n\r\nwith an intermediate program you can write to and read arbitrary memory locations. You cannot do it purely in Java.\r\n\r\nFor example you can write a piece of C++ code that can read an arbitrary memory location and call that via JNI. The same is true in reverse to write to a memory address.\r\n\r\nWrite a class definition first for the class that should handle this, for example:\r\n\r\n    public class MemTest {\r\n        public native byte[] readMemory(int address);\r\n        public native void writeMemory(int address, byte[] values);\r\n    }\r\n\r\nThen you compile it. Then you use javah.exe (or linux equivalent) to generate a header for it:\r\n\r\n    javah MemTest\r\n\r\nNow you write a .cpp file that includes that header and defines the methods. Compile to DLL. To load the .dll you either use the `-Djava.library.path` JVM parameter with appropriate value, or `System.loadLibrary()`.\r\n\r\nNote of caution: I do not recommend doing this. There are almost certainly better ways to do what you want to do.","title":"Shared Memory between two JVMs","body":"<p>Yes,</p>\n<p>with an intermediate program you can write to and read arbitrary memory locations. You cannot do it purely in Java.</p>\n<p>For example you can write a piece of C++ code that can read an arbitrary memory location and call that via JNI. The same is true in reverse to write to a memory address.</p>\n<p>Write a class definition first for the class that should handle this, for example:</p>\n<pre><code>public class MemTest {\n    public native byte[] readMemory(int address);\n    public native void writeMemory(int address, byte[] values);\n}\n</code></pre>\n<p>Then you compile it. Then you use javah.exe (or linux equivalent) to generate a header for it:</p>\n<pre><code>javah MemTest\n</code></pre>\n<p>Now you write a .cpp file that includes that header and defines the methods. Compile to DLL. To load the .dll you either use the <code>-Djava.library.path</code> JVM parameter with appropriate value, or <code>System.loadLibrary()</code>.</p>\n<p>Note of caution: I do not recommend doing this. There are almost certainly better ways to do what you want to do.</p>\n"},{"tags":[],"owner":{"account_id":4882426,"reputation":2088,"user_id":3935776,"display_name":"Smith_61"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1408513175,"creation_date":1408512326,"answer_id":25397240,"question_id":25396664,"body_markdown":"**Solution 1:**\r\n---------------\r\n\r\nThe best solution in my opinion is to use memory mapped files. This allows you to share a region of memory between any number of process, including other non java programs. You can&#39;t place java objects into a memory mapped file, unless you serialize them. The following example shows that you can communicate between two different process, but you would need to make it much more sophisticated to allow better communication between the processes. I suggest you look at Java&#39;s [NIO package][1], specifically the classes and methods used in the below examples.\r\n\r\n**Server:**\r\n    \r\n    public class Server {\r\n    \r\n    \tpublic static void main( String[] args ) throws Throwable {\r\n    \t\tFile f = new File( FILE_NAME );\r\n    \t\t\r\n    \t\tFileChannel channel = FileChannel.open( f.toPath(), StandardOpenOption.READ, StandardOpenOption.WRITE, StandardOpenOption.CREATE );\r\n    \r\n    \t    MappedByteBuffer b = channel.map( MapMode.READ_WRITE, 0, 4096 );\r\n    \t    CharBuffer charBuf = b.asCharBuffer();\r\n    \t    \r\n    \t    char[] string = &quot;Hello client\\0&quot;.toCharArray();\r\n    \t    charBuf.put( string );\r\n    \t    \r\n    \t    System.out.println( &quot;Waiting for client.&quot; );\r\n    \t    while( charBuf.get( 0 ) != &#39;\\0&#39; );\r\n    \t    System.out.println( &quot;Finished waiting.&quot; );\r\n    \t}\r\n    }\r\n\r\n**Client:**\r\n\r\n    public class Client {\r\n    \r\n    \tpublic static void main( String[] args ) throws Throwable {\r\n    \t\tFile f = new File( FILE_NAME );\r\n    \t\tFileChannel channel = FileChannel.open( f.toPath(), StandardOpenOption.READ, StandardOpenOption.WRITE, StandardOpenOption.CREATE );\r\n    \t\r\n    \t\tMappedByteBuffer b = channel.map( MapMode.READ_WRITE, 0, 4096 );\r\n    \t    CharBuffer charBuf = b.asCharBuffer();\r\n    \t    \r\n    \t    // Prints &#39;Hello server&#39;\r\n    \t    char c;\r\n    \t    while( ( c = charBuf.get() ) != 0 ) {\r\n    \t    \tSystem.out.print( c );\r\n    \t    }\r\n    \t    System.out.println();\r\n    \t    \r\n    \t    charBuf.put( 0, &#39;\\0&#39; );\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n**Solution 2:**\r\n---------------\r\n\r\nAnother solution is to use Java [Sockets][2] to communicate back and forth between processes. This has the added benefit of allowing communication over a network very easily. It could be argued that this is slower than using memory mapped files, but I do not have any benchmarks to back that statement up. I won&#39;t post code to implementing this solution, as it can become very complicated to implement a reliable network protocol and is fairly application specific. There are many good networking sites that can be found with quick searches.\r\n\r\n\r\n----------\r\n\r\n\r\nNow the above examples are if you want to share memory between two different process. If you just want to read/write to arbitrary memory in the current process, there are some warnings you should know first. This goes against the entire principle of the JVM and you really really should not do this in production code. You violate all safety and can very easily crash the JVM if you are not very careful. \r\n\r\nThat being said, it is quite fun to experiment with. To read/write to arbitrary memory in the current process you can use the `sun.misc.Unsafe` class. This is provided on all JVMs that I am aware of and have used. An example on how to use the class can be found [here][3].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/package-summary.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html\r\n  [3]: http://mishadoff.github.io/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/","title":"Shared Memory between two JVMs","body":"<h2><strong>Solution 1:</strong></h2>\n\n<p>The best solution in my opinion is to use memory mapped files. This allows you to share a region of memory between any number of process, including other non java programs. You can't place java objects into a memory mapped file, unless you serialize them. The following example shows that you can communicate between two different process, but you would need to make it much more sophisticated to allow better communication between the processes. I suggest you look at Java's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/package-summary.html\">NIO package</a>, specifically the classes and methods used in the below examples.</p>\n\n<p><strong>Server:</strong></p>\n\n<pre><code>public class Server {\n\n    public static void main( String[] args ) throws Throwable {\n        File f = new File( FILE_NAME );\n\n        FileChannel channel = FileChannel.open( f.toPath(), StandardOpenOption.READ, StandardOpenOption.WRITE, StandardOpenOption.CREATE );\n\n        MappedByteBuffer b = channel.map( MapMode.READ_WRITE, 0, 4096 );\n        CharBuffer charBuf = b.asCharBuffer();\n\n        char[] string = \"Hello client\\0\".toCharArray();\n        charBuf.put( string );\n\n        System.out.println( \"Waiting for client.\" );\n        while( charBuf.get( 0 ) != '\\0' );\n        System.out.println( \"Finished waiting.\" );\n    }\n}\n</code></pre>\n\n<p><strong>Client:</strong></p>\n\n<pre><code>public class Client {\n\n    public static void main( String[] args ) throws Throwable {\n        File f = new File( FILE_NAME );\n        FileChannel channel = FileChannel.open( f.toPath(), StandardOpenOption.READ, StandardOpenOption.WRITE, StandardOpenOption.CREATE );\n\n        MappedByteBuffer b = channel.map( MapMode.READ_WRITE, 0, 4096 );\n        CharBuffer charBuf = b.asCharBuffer();\n\n        // Prints 'Hello server'\n        char c;\n        while( ( c = charBuf.get() ) != 0 ) {\n            System.out.print( c );\n        }\n        System.out.println();\n\n        charBuf.put( 0, '\\0' );\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<h2><strong>Solution 2:</strong></h2>\n\n<p>Another solution is to use Java <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html\">Sockets</a> to communicate back and forth between processes. This has the added benefit of allowing communication over a network very easily. It could be argued that this is slower than using memory mapped files, but I do not have any benchmarks to back that statement up. I won't post code to implementing this solution, as it can become very complicated to implement a reliable network protocol and is fairly application specific. There are many good networking sites that can be found with quick searches.</p>\n\n<hr>\n\n<p>Now the above examples are if you want to share memory between two different process. If you just want to read/write to arbitrary memory in the current process, there are some warnings you should know first. This goes against the entire principle of the JVM and you really really should not do this in production code. You violate all safety and can very easily crash the JVM if you are not very careful. </p>\n\n<p>That being said, it is quite fun to experiment with. To read/write to arbitrary memory in the current process you can use the <code>sun.misc.Unsafe</code> class. This is provided on all JVMs that I am aware of and have used. An example on how to use the class can be found <a href=\"http://mishadoff.github.io/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/\">here</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user2982130"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1408515579,"creation_date":1408515579,"answer_id":25397943,"question_id":25396664,"body_markdown":"Honestly, you don&#39;t want to share the same memory. You should send only the data that you need to the other JVM. That being said, in the case you *do* need the shared memory, other solutions exist.\r\n\r\n**Sending Data**\r\nTwo JVMs do not share the same memory access points, so it is impossible to use a reference from one JVM to use in another. A new reference will simply be create because they don&#39;t know about each other. \r\n\r\nHowever, you may ship the data to the other JVM, and back in a variety of ways:\r\n\r\n1) Using [RMI][1], you can setup a remote server to parse data. I found it a bit of a hassle to set up because it requires security changes and that the data be `Serializable`. You can find out more at the link.\r\n\r\n2) Using a server is the age-old method of sending data to different places. One way to implement this is using a [`ServerSocket`][2] and connecting with a [`Socket`][3] on `localhost`. Objects still need to be `Serializable` if you want to use [`ObjectOutputStream`][4].\r\n\r\n----\r\n\r\n**Sharing Data**\r\nThis is very dangerous and volatile, low-level, and, well, unsafe (literally).\r\n\r\nIf you want to use Java code, you can take a look at using [`s.m.Unsafe`][5], using the correct memory addresses, you will be able to retrieve Objects stored by the backing C/C++ arrays in the OS.\r\n\r\nOtherwise, you can use `native` methods to access the C/C++ arrays yourself, although I have no clue how this could be implemented.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/rmi/designing.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html\r\n  [5]: https://stackoverflow.com/a/25257911/3308999","title":"Shared Memory between two JVMs","body":"<p>Honestly, you don't want to share the same memory. You should send only the data that you need to the other JVM. That being said, in the case you <em>do</em> need the shared memory, other solutions exist.</p>\n\n<p><strong>Sending Data</strong>\nTwo JVMs do not share the same memory access points, so it is impossible to use a reference from one JVM to use in another. A new reference will simply be create because they don't know about each other. </p>\n\n<p>However, you may ship the data to the other JVM, and back in a variety of ways:</p>\n\n<p>1) Using <a href=\"http://docs.oracle.com/javase/tutorial/rmi/designing.html\" rel=\"nofollow noreferrer\">RMI</a>, you can setup a remote server to parse data. I found it a bit of a hassle to set up because it requires security changes and that the data be <code>Serializable</code>. You can find out more at the link.</p>\n\n<p>2) Using a server is the age-old method of sending data to different places. One way to implement this is using a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html\" rel=\"nofollow noreferrer\"><code>ServerSocket</code></a> and connecting with a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html\" rel=\"nofollow noreferrer\"><code>Socket</code></a> on <code>localhost</code>. Objects still need to be <code>Serializable</code> if you want to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html\" rel=\"nofollow noreferrer\"><code>ObjectOutputStream</code></a>.</p>\n\n<hr>\n\n<p><strong>Sharing Data</strong>\nThis is very dangerous and volatile, low-level, and, well, unsafe (literally).</p>\n\n<p>If you want to use Java code, you can take a look at using <a href=\"https://stackoverflow.com/a/25257911/3308999\"><code>s.m.Unsafe</code></a>, using the correct memory addresses, you will be able to retrieve Objects stored by the backing C/C++ arrays in the OS.</p>\n\n<p>Otherwise, you can use <code>native</code> methods to access the C/C++ arrays yourself, although I have no clue how this could be implemented.</p>\n"},{"tags":[],"owner":{"account_id":326925,"reputation":14868,"user_id":648955,"accept_rate":62,"display_name":"leventov"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1468155443,"creation_date":1468143663,"answer_id":38290547,"question_id":25396664,"body_markdown":"There are some IPC libraries which facilitate use of shared memory via memory-mapped files in Java.\r\n\r\n### [Chronicle-Queue](https://github.com/OpenHFT/Chronicle-Queue)\r\n\r\nChronicle Queue is similar to a non-blocking Java `Queue`, except you could offer a message in one JVM and poll it in another JVM.\r\n\r\nIn both JVMs you should create a `ChronicleQueue` instance in the same FS directory (locate this directory in a memory-mounted FS if you don&#39;t need message persistence):\r\n\r\n    ChronicleQueue ipc = ChronicleQueueBuilder.single(&quot;/dev/shm/queue-ipc&quot;).build();\r\n\r\nWrite a message in one JVM:\r\n\r\n    ExcerptAppender appender = ipc.acquireAppender();\r\n    appender.writeDocument(w -&gt; {\r\n        w.getValueOut().object(message);\r\n    });\r\n\r\nRead a message in another JVM:\r\n\r\n    ExcerptTailer tailer = ipc.createTailer();\r\n    // If there is no message, the lambda, passed to the readDocument()\r\n    // method is not called.\r\n    tailer.readDocument(w -&gt; {\r\n        Message message = w.getValueIn().object(Message.class);\r\n        // process the message here\r\n    });\r\n    \r\n    // or avoid using lambdas\r\n    try (DocumentContext dc = tailer.readingDocument()) {\r\n        if (dc.isPresent()) {\r\n            Message message = dc.wire().getValueIn().object(Message.class);\r\n            // process the message here\r\n        } else {\r\n            // no message\r\n        }\r\n    }\r\n\r\n### [Aeron IPC](https://github.com/real-logic/Aeron)\r\n\r\nAeron is more than just IPC queue (it is a network communication framework), but it provides an IPC functionality as well. It is similar to Chronicle Queue, one important difference is that it uses [SBE](https://github.com/real-logic/simple-binary-encoding) library for message marshalling/demarshalling, while Chronicle Queue uses [Chronicle Wire](https://github.com/OpenHFT/Chronicle-Wire).\r\n\r\n### [Chronicle Map](https://github.com/OpenHFT/Chronicle-Map)\r\nChronicle Map allows IPC communication by some key. In both JVMs, you should create a map with identical configurations and persisted to the same file (the file should be localed in memory-mounted FS if you don&#39;t need actual disk persistence, e. g. in `/dev/shm/`):\r\n\r\n    Map&lt;Key, Message&gt; ipc = ChronicleMap\r\n        .of(Key.class, Message.class)\r\n        .averageKey(...).averageValue(...).entries(...)\r\n        .createPersistedTo(new File(&quot;/dev/shm/jvm-ipc.dat&quot;));\r\n\r\nThen in one JVM you could write:\r\n\r\n    ipc.put(key, message); // publish a message\r\n\r\nOn the reciever JVM:\r\n\r\n    Message message = ipc.remove(key);\r\n    if (message != null) {\r\n        // process the message here\r\n    }\r\n","title":"Shared Memory between two JVMs","body":"<p>There are some IPC libraries which facilitate use of shared memory via memory-mapped files in Java.</p>\n\n<h3><a href=\"https://github.com/OpenHFT/Chronicle-Queue\" rel=\"noreferrer\">Chronicle-Queue</a></h3>\n\n<p>Chronicle Queue is similar to a non-blocking Java <code>Queue</code>, except you could offer a message in one JVM and poll it in another JVM.</p>\n\n<p>In both JVMs you should create a <code>ChronicleQueue</code> instance in the same FS directory (locate this directory in a memory-mounted FS if you don't need message persistence):</p>\n\n<pre><code>ChronicleQueue ipc = ChronicleQueueBuilder.single(\"/dev/shm/queue-ipc\").build();\n</code></pre>\n\n<p>Write a message in one JVM:</p>\n\n<pre><code>ExcerptAppender appender = ipc.acquireAppender();\nappender.writeDocument(w -&gt; {\n    w.getValueOut().object(message);\n});\n</code></pre>\n\n<p>Read a message in another JVM:</p>\n\n<pre><code>ExcerptTailer tailer = ipc.createTailer();\n// If there is no message, the lambda, passed to the readDocument()\n// method is not called.\ntailer.readDocument(w -&gt; {\n    Message message = w.getValueIn().object(Message.class);\n    // process the message here\n});\n\n// or avoid using lambdas\ntry (DocumentContext dc = tailer.readingDocument()) {\n    if (dc.isPresent()) {\n        Message message = dc.wire().getValueIn().object(Message.class);\n        // process the message here\n    } else {\n        // no message\n    }\n}\n</code></pre>\n\n<h3><a href=\"https://github.com/real-logic/Aeron\" rel=\"noreferrer\">Aeron IPC</a></h3>\n\n<p>Aeron is more than just IPC queue (it is a network communication framework), but it provides an IPC functionality as well. It is similar to Chronicle Queue, one important difference is that it uses <a href=\"https://github.com/real-logic/simple-binary-encoding\" rel=\"noreferrer\">SBE</a> library for message marshalling/demarshalling, while Chronicle Queue uses <a href=\"https://github.com/OpenHFT/Chronicle-Wire\" rel=\"noreferrer\">Chronicle Wire</a>.</p>\n\n<h3><a href=\"https://github.com/OpenHFT/Chronicle-Map\" rel=\"noreferrer\">Chronicle Map</a></h3>\n\n<p>Chronicle Map allows IPC communication by some key. In both JVMs, you should create a map with identical configurations and persisted to the same file (the file should be localed in memory-mounted FS if you don't need actual disk persistence, e. g. in <code>/dev/shm/</code>):</p>\n\n<pre><code>Map&lt;Key, Message&gt; ipc = ChronicleMap\n    .of(Key.class, Message.class)\n    .averageKey(...).averageValue(...).entries(...)\n    .createPersistedTo(new File(\"/dev/shm/jvm-ipc.dat\"));\n</code></pre>\n\n<p>Then in one JVM you could write:</p>\n\n<pre><code>ipc.put(key, message); // publish a message\n</code></pre>\n\n<p>On the reciever JVM:</p>\n\n<pre><code>Message message = ipc.remove(key);\nif (message != null) {\n    // process the message here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1684672603,"creation_date":1468145206,"answer_id":38290745,"question_id":25396664,"body_markdown":"[Distributed_cache][1] is best solution to address your requirements.\r\n\r\n&gt; In computing, a distributed cache is an extension of the traditional concept of cache used in a single locale. A distributed cache may span multiple servers so that it can grow in size and in transnational capacity.\r\n\r\nFew options:\r\n \r\n[Terracotta][2] \r\n\r\n[Oracle_Coherence][3]   \r\n\r\n[Ehcache][4]  \r\n\r\n[Redis][5]  \r\n\r\n[Couchbase_Server][6]  \r\n\r\nUseful posts:\r\n\r\nhttps://stackoverflow.com/questions/2761168/what-is-terracotta\r\n\r\nhttps://stackoverflow.com/questions/2761177/is-terracotta-a-distributed-cache\r\n\r\nFor my use case with concurrent heavy writes and reads, Terracotta shown best performance compared to other alternatives. But this result may vary based on your business use cases.\r\n\r\n1. How many writes?\r\n2. How may reads?\r\n3. Cache Size.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Distributed_cache\r\n  [2]: https://www.terracotta.org/\r\n  [3]: https://en.wikipedia.org/wiki/Oracle_Coherence\r\n  [4]: https://en.wikipedia.org/wiki/Ehcache\r\n  [5]: https://en.wikipedia.org/wiki/Redis\r\n  [6]: https://en.wikipedia.org/wiki/Couchbase_Server\r\n  ","title":"Shared Memory between two JVMs","body":"<p><a href=\"https://en.wikipedia.org/wiki/Distributed_cache\" rel=\"nofollow noreferrer\">Distributed_cache</a> is best solution to address your requirements.</p>\n<blockquote>\n<p>In computing, a distributed cache is an extension of the traditional concept of cache used in a single locale. A distributed cache may span multiple servers so that it can grow in size and in transnational capacity.</p>\n</blockquote>\n<p>Few options:</p>\n<p><a href=\"https://www.terracotta.org/\" rel=\"nofollow noreferrer\">Terracotta</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Oracle_Coherence\" rel=\"nofollow noreferrer\">Oracle_Coherence</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Ehcache\" rel=\"nofollow noreferrer\">Ehcache</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Redis\" rel=\"nofollow noreferrer\">Redis</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Couchbase_Server\" rel=\"nofollow noreferrer\">Couchbase_Server</a></p>\n<p>Useful posts:</p>\n<p><a href=\"https://stackoverflow.com/questions/2761168/what-is-terracotta\">What is Terracotta?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/2761177/is-terracotta-a-distributed-cache\">Is Terracotta a distributed cache?</a></p>\n<p>For my use case with concurrent heavy writes and reads, Terracotta shown best performance compared to other alternatives. But this result may vary based on your business use cases.</p>\n<ol>\n<li>How many writes?</li>\n<li>How may reads?</li>\n<li>Cache Size.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":366370,"reputation":2002,"user_id":711855,"display_name":"juanmf"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1502157153,"creation_date":1502157153,"answer_id":45558112,"question_id":25396664,"body_markdown":"**Unsafe with pivot off-heap memory**\r\n\r\nWhat about using Unsafe to copy Object bytes to an off-head zone, then some how pass a cheap pointer and class name to the 2nd JVM that will use the pointer and class name to copy and cast the off-heap space to an in-heap object in 2nd JVM.\r\nIts not the same object instance but a fast copy, without serializing. \r\n\r\n    public static Unsafe getUnsafe() {\r\n        try {\r\n            Field f = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n            f.setAccessible(true);\r\n            return (Unsafe)f.get(null);\r\n        } catch (Exception e) { /* ... */ }\r\n    }\r\n\r\n    MyStructure structure = new MyStructure(); // create a test object\r\n    structure.x = 777;\r\n \r\n    long size = sizeOf(structure);\r\n    long offheapPointer = getUnsafe().allocateMemory(size);\r\n    getUnsafe().copyMemory(\r\n                structure,      // source object\r\n                0,              // source offset is zero - copy an entire object\r\n                null,           // destination is specified by absolute address, so destination object is null\r\n                offheapPointer, // destination address\r\n                size\r\n        ); // test object was copied to off-heap\r\n \r\n    Pointer p = new Pointer(); // Pointer is just a handler that stores address of some object\r\n    long pointerOffset = getUnsafe().objectFieldOffset(Pointer.class.getDeclaredField(&quot;pointer&quot;));\r\n    getUnsafe().putLong(p, pointerOffset, offheapPointer); // set pointer to off-heap copy of the test object\r\n \r\n    structure.x = 222; // rewrite x value in the original object\r\n    System.out.println(  ((MyStructure)p.pointer).x  ); // prints 777\r\n \r\n    ....\r\n \r\n    class Pointer {\r\n        Object pointer;\r\n    }\r\n\r\nso now you pass `MyStructure` and `p` from ((MyStructure)p.pointer).x to a 2nd JVM, and you should be able to:\r\n\r\n    \r\n    MyStructure locallyImported = (MyStructure)p.pointer;\r\n\r\nI can imagine a use case: suppose you have 2 Microservices that may or may not be running in same server, and a client strategy, maybe implemented in the container AppServer, that knows where the services are deployed, in case it detects the requested service is in local, it might use an Unsafe based service client to query the other service transparently. Nasty but interesting, I&#39;d like to see performance implications of not using network, bypassing WebAPI (calling directly handling controller) and not serializing. Apart from the controller parameters in this case the controler itself should be provided. Didn&#39;t even think about Security.\r\n\r\ncode snippets borrowed from https://highlyscalable.wordpress.com/2012/02/02/direct-memory-access-in-java/\r\n","title":"Shared Memory between two JVMs","body":"<p><strong>Unsafe with pivot off-heap memory</strong></p>\n\n<p>What about using Unsafe to copy Object bytes to an off-head zone, then some how pass a cheap pointer and class name to the 2nd JVM that will use the pointer and class name to copy and cast the off-heap space to an in-heap object in 2nd JVM.\nIts not the same object instance but a fast copy, without serializing. </p>\n\n<pre><code>public static Unsafe getUnsafe() {\n    try {\n        Field f = Unsafe.class.getDeclaredField(\"theUnsafe\");\n        f.setAccessible(true);\n        return (Unsafe)f.get(null);\n    } catch (Exception e) { /* ... */ }\n}\n\nMyStructure structure = new MyStructure(); // create a test object\nstructure.x = 777;\n\nlong size = sizeOf(structure);\nlong offheapPointer = getUnsafe().allocateMemory(size);\ngetUnsafe().copyMemory(\n            structure,      // source object\n            0,              // source offset is zero - copy an entire object\n            null,           // destination is specified by absolute address, so destination object is null\n            offheapPointer, // destination address\n            size\n    ); // test object was copied to off-heap\n\nPointer p = new Pointer(); // Pointer is just a handler that stores address of some object\nlong pointerOffset = getUnsafe().objectFieldOffset(Pointer.class.getDeclaredField(\"pointer\"));\ngetUnsafe().putLong(p, pointerOffset, offheapPointer); // set pointer to off-heap copy of the test object\n\nstructure.x = 222; // rewrite x value in the original object\nSystem.out.println(  ((MyStructure)p.pointer).x  ); // prints 777\n\n....\n\nclass Pointer {\n    Object pointer;\n}\n</code></pre>\n\n<p>so now you pass <code>MyStructure</code> and <code>p</code> from ((MyStructure)p.pointer).x to a 2nd JVM, and you should be able to:</p>\n\n<pre><code>MyStructure locallyImported = (MyStructure)p.pointer;\n</code></pre>\n\n<p>I can imagine a use case: suppose you have 2 Microservices that may or may not be running in same server, and a client strategy, maybe implemented in the container AppServer, that knows where the services are deployed, in case it detects the requested service is in local, it might use an Unsafe based service client to query the other service transparently. Nasty but interesting, I'd like to see performance implications of not using network, bypassing WebAPI (calling directly handling controller) and not serializing. Apart from the controller parameters in this case the controler itself should be provided. Didn't even think about Security.</p>\n\n<p>code snippets borrowed from <a href=\"https://highlyscalable.wordpress.com/2012/02/02/direct-memory-access-in-java/\" rel=\"nofollow noreferrer\">https://highlyscalable.wordpress.com/2012/02/02/direct-memory-access-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":463937,"reputation":81,"user_id":867136,"display_name":"pcdv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522394453,"creation_date":1522394453,"answer_id":49570142,"question_id":25396664,"body_markdown":"[Jocket][1], an experimental project I made a few years ago does exactly this.\r\n\r\nIt includes a drop-in replacement for `java.net.Socket` and `java.net.ServerSocket` if you want to use `Input/OutputStream`.\r\n\r\nEach directional channel uses a pair of circular buffers to post and get data (one for the &quot;packets&quot; and one for the address of packets). The buffers are obtained through a `RandomAccessFile`.\r\n\r\nIt includes a small JNI layer (linux) to implement IPC synchronization (i.e. notify the other process of availability of data) but this is not mandatory if you want to poll for data.\r\n\r\n\r\n  [1]: https://github.com/pcdv/jocket","title":"Shared Memory between two JVMs","body":"<p><a href=\"https://github.com/pcdv/jocket\" rel=\"nofollow noreferrer\">Jocket</a>, an experimental project I made a few years ago does exactly this.</p>\n\n<p>It includes a drop-in replacement for <code>java.net.Socket</code> and <code>java.net.ServerSocket</code> if you want to use <code>Input/OutputStream</code>.</p>\n\n<p>Each directional channel uses a pair of circular buffers to post and get data (one for the \"packets\" and one for the address of packets). The buffers are obtained through a <code>RandomAccessFile</code>.</p>\n\n<p>It includes a small JNI layer (linux) to implement IPC synchronization (i.e. notify the other process of availability of data) but this is not mandatory if you want to poll for data.</p>\n"}],"owner":{"account_id":2610416,"reputation":972,"user_id":2260620,"accept_rate":56,"display_name":"OneWorld"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59570,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":25397240,"answer_count":7,"score":51,"last_activity_date":1684672603,"creation_date":1408508406,"question_id":25396664,"body_markdown":"Is there a way in Java, for two JVMs (running on same physical machine), to use/share the same memory address space? Suppose a producer in JVM-1 puts messages at a particular pre-defined memory location, can the consumer on JVM-2 retrieve the message if it knows which memory location to look at?","title":"Shared Memory between two JVMs","body":"<p>Is there a way in Java, for two JVMs (running on same physical machine), to use/share the same memory address space? Suppose a producer in JVM-1 puts messages at a particular pre-defined memory location, can the consumer on JVM-2 retrieve the message if it knows which memory location to look at?</p>\n"},{"tags":["java","maven","sonarqube","sonarqube-plugin"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301834,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684326593,"creation_date":1684088992,"answer_id":76249080,"question_id":76229040,"body_markdown":"`java.lang.NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader`\r\n\r\nThat means the required class is not found in the classpath during runtime.\r\n\r\nIn your case, your custom SonarQube plugin is missing a dependency on the `sonar-analyzer-commons` library.  \r\nTry and add the dependency ([`org.sonarsource.analyzer-commons &#187; sonar-analyzer-commons`][1]) to your custom plugin&#39;s `pom.xml` file. \r\n\r\n``` xml\r\n&lt;dependencies&gt;\r\n    ...\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.sonarsource.analyzer.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0.1358&lt;/version&gt; &lt;!-- Use the appropriate version that matches your SonarQube version --&gt;\r\n    &lt;/dependency&gt;\r\n    ...\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nThat library does include [`RuleMetadataLoader.java`][2].\r\n\r\n----\r\n\r\nThe [OP RamGrg][3] confirms in [the comments][4]:\r\n\r\n&gt; I have these inside `&lt;dependencyManagement&gt; &lt;dependencies&gt;....&lt;/dependencies&gt;&lt;/dependencyManagement&gt;`. \r\n\r\nAnd that the root cause of your issue.  \r\nLet&#39;s clarify the differences between `&lt;dependencies&gt;` and `&lt;dependencyManagement&gt;`:\r\n\r\n1. `&lt;dependencies&gt;`: This section is used to declare the dependencies that your project needs. The libraries specified here will be included in the classpath during the build process.\r\n\r\n2. `&lt;dependencyManagement&gt;`: This section is used to manage the versions of dependencies in a multimodule project. When you declare dependencies inside the `&lt;dependencyManagement&gt;` tag, **you are not actually including them in your project**. Instead, you&#39;re specifying the versions that should be used if the project or its submodules were to include those dependencies.  \r\nIt&#39;s a way to ensure that all submodules use the same version of a dependency, thereby avoiding potential conflicts.\r\n\r\nThe issue in your case is likely due to the fact that the `sonar-analyzer-commons` dependency is declared inside `&lt;dependencyManagement&gt;`, but not in `&lt;dependencies&gt;`. This means that the dependency isn&#39;t actually being included in your build, leading to the `NoClassDefFoundError` you&#39;re seeing.\r\n\r\nTo resolve this, you should move the `sonar-analyzer-commons` dependency from `&lt;dependencyManagement&gt;` to `&lt;dependencies&gt;`.  \r\nHere&#39;s how you can do this:\r\n\r\n```xml\r\n&lt;project&gt;\r\n    ...\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- other dependencies can be managed here, for instance: --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sonar-plugin-api&lt;/artifactId&gt;\r\n                &lt;version&gt;9.4.0.54424&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- declare other managed dependencies here... --&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Here is where you should declare sonar-analyzer-commons dependency --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.sonarsource.analyzer.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0.1111&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- declare other direct dependencies here... --&gt;\r\n    &lt;/dependencies&gt;\r\n    ...\r\n&lt;/project&gt;\r\n```\r\n\r\nIn this `pom.xml`, the `sonar-analyzer-commons` dependency is declared outside the `&lt;dependencyManagement&gt;` section, meaning it will be included in the classpath during the build. \r\n\r\nIn the `&lt;dependencyManagement&gt;` section, you&#39;re managing the version of `sonar-plugin-api` (and possibly other dependencies) to ensure that all submodules (if any) use the same version. But these dependencies won&#39;t be included in the classpath unless they&#39;re also declared in the `&lt;dependencies&gt;` section.\r\n\r\n----\r\n\r\nYour `pom.xml` seems OK with respect to the `sonar-analyzer-commons` dependency. It is declared in the `&lt;dependencies&gt;` section, so it should be included in the classpath during the build. You might want to double-check your dependency versions to ensure compatibility, however.\r\n\r\nHere&#39;s an updated version of your `pom.xml`, with a potentially compatible `sonar-analyzer-commons` version. However, this is just a guess, since compatibility often involves more than one dependency. You might need to check the compatibility with other dependencies as well.\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;!-- ... rest of your pom.xml ... --&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;!-- ... rest of your dependencies ... --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.sonarsource.analyzer.commons&lt;/groupId&gt;\r\n      &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.0.1111&lt;/version&gt; &lt;!-- Ensure this version is compatible with your SonarQube version --&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- ... rest of your dependencies ... --&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;!-- ... rest of your pom.xml ... --&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nIn the updated version, I only changed the comment for the `sonar-analyzer-commons` dependency to highlight the need for compatibility with your SonarQube version.\r\n\r\nIf you&#39;re still encountering the same issue, the problem might not be with the `pom.xml`. It could be related to the way your custom plugin is interacting with the SonarQube API, or it might be a problem with the SonarQube setup itself.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.sonarsource.analyzer-commons/sonar-analyzer-commons\r\n  [2]: https://github.com/SonarSource/sonar-analyzer-commons/blob/master/commons/src/main/java/org/sonarsource/analyzer/commons/RuleMetadataLoader.java\r\n  [3]: https://stackoverflow.com/users/3202325/ramgrg\r\n  [4]: https://stackoverflow.com/questions/76229040/an-issue-occurred-while-starting-sonarqube-with-custom-java-maven-plugin/76249080#comment134472653_76249080","title":"An issue occurred while starting sonarqube with custom java maven plugin","body":"<p><code>java.lang.NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader</code></p>\n<p>That means the required class is not found in the classpath during runtime.</p>\n<p>In your case, your custom SonarQube plugin is missing a dependency on the <code>sonar-analyzer-commons</code> library.<br />\nTry and add the dependency (<a href=\"https://mvnrepository.com/artifact/org.sonarsource.analyzer-commons/sonar-analyzer-commons\" rel=\"nofollow noreferrer\"><code>org.sonarsource.analyzer-commons  sonar-analyzer-commons</code></a>) to your custom plugin's <code>pom.xml</code> file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    ...\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.sonarsource.analyzer.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0.1358&lt;/version&gt; &lt;!-- Use the appropriate version that matches your SonarQube version --&gt;\n    &lt;/dependency&gt;\n    ...\n&lt;/dependencies&gt;\n</code></pre>\n<p>That library does include <a href=\"https://github.com/SonarSource/sonar-analyzer-commons/blob/master/commons/src/main/java/org/sonarsource/analyzer/commons/RuleMetadataLoader.java\" rel=\"nofollow noreferrer\"><code>RuleMetadataLoader.java</code></a>.</p>\n<hr />\n<p>The <a href=\"https://stackoverflow.com/users/3202325/ramgrg\">OP RamGrg</a> confirms in <a href=\"https://stackoverflow.com/questions/76229040/an-issue-occurred-while-starting-sonarqube-with-custom-java-maven-plugin/76249080#comment134472653_76249080\">the comments</a>:</p>\n<blockquote>\n<p>I have these inside <code>&lt;dependencyManagement&gt; &lt;dependencies&gt;....&lt;/dependencies&gt;&lt;/dependencyManagement&gt;</code>.</p>\n</blockquote>\n<p>And that the root cause of your issue.<br />\nLet's clarify the differences between <code>&lt;dependencies&gt;</code> and <code>&lt;dependencyManagement&gt;</code>:</p>\n<ol>\n<li><p><code>&lt;dependencies&gt;</code>: This section is used to declare the dependencies that your project needs. The libraries specified here will be included in the classpath during the build process.</p>\n</li>\n<li><p><code>&lt;dependencyManagement&gt;</code>: This section is used to manage the versions of dependencies in a multimodule project. When you declare dependencies inside the <code>&lt;dependencyManagement&gt;</code> tag, <strong>you are not actually including them in your project</strong>. Instead, you're specifying the versions that should be used if the project or its submodules were to include those dependencies.<br />\nIt's a way to ensure that all submodules use the same version of a dependency, thereby avoiding potential conflicts.</p>\n</li>\n</ol>\n<p>The issue in your case is likely due to the fact that the <code>sonar-analyzer-commons</code> dependency is declared inside <code>&lt;dependencyManagement&gt;</code>, but not in <code>&lt;dependencies&gt;</code>. This means that the dependency isn't actually being included in your build, leading to the <code>NoClassDefFoundError</code> you're seeing.</p>\n<p>To resolve this, you should move the <code>sonar-analyzer-commons</code> dependency from <code>&lt;dependencyManagement&gt;</code> to <code>&lt;dependencies&gt;</code>.<br />\nHere's how you can do this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    ...\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- other dependencies can be managed here, for instance: --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-plugin-api&lt;/artifactId&gt;\n                &lt;version&gt;9.4.0.54424&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- declare other managed dependencies here... --&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Here is where you should declare sonar-analyzer-commons dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.sonarsource.analyzer.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0.1111&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- declare other direct dependencies here... --&gt;\n    &lt;/dependencies&gt;\n    ...\n&lt;/project&gt;\n</code></pre>\n<p>In this <code>pom.xml</code>, the <code>sonar-analyzer-commons</code> dependency is declared outside the <code>&lt;dependencyManagement&gt;</code> section, meaning it will be included in the classpath during the build.</p>\n<p>In the <code>&lt;dependencyManagement&gt;</code> section, you're managing the version of <code>sonar-plugin-api</code> (and possibly other dependencies) to ensure that all submodules (if any) use the same version. But these dependencies won't be included in the classpath unless they're also declared in the <code>&lt;dependencies&gt;</code> section.</p>\n<hr />\n<p>Your <code>pom.xml</code> seems OK with respect to the <code>sonar-analyzer-commons</code> dependency. It is declared in the <code>&lt;dependencies&gt;</code> section, so it should be included in the classpath during the build. You might want to double-check your dependency versions to ensure compatibility, however.</p>\n<p>Here's an updated version of your <code>pom.xml</code>, with a potentially compatible <code>sonar-analyzer-commons</code> version. However, this is just a guess, since compatibility often involves more than one dependency. You might need to check the compatibility with other dependencies as well.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;!-- ... rest of your pom.xml ... --&gt;\n  &lt;dependencies&gt;\n    &lt;!-- ... rest of your dependencies ... --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.sonarsource.analyzer.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n      &lt;version&gt;2.1.0.1111&lt;/version&gt; &lt;!-- Ensure this version is compatible with your SonarQube version --&gt;\n    &lt;/dependency&gt;\n    &lt;!-- ... rest of your dependencies ... --&gt;\n  &lt;/dependencies&gt;\n  &lt;!-- ... rest of your pom.xml ... --&gt;\n&lt;/project&gt;\n</code></pre>\n<p>In the updated version, I only changed the comment for the <code>sonar-analyzer-commons</code> dependency to highlight the need for compatibility with your SonarQube version.</p>\n<p>If you're still encountering the same issue, the problem might not be with the <code>pom.xml</code>. It could be related to the way your custom plugin is interacting with the SonarQube API, or it might be a problem with the SonarQube setup itself.</p>\n"},{"tags":[],"owner":{"account_id":28499565,"reputation":41,"user_id":21810958,"display_name":"qalokoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684622711,"creation_date":1684622711,"answer_id":76297607,"question_id":76229040,"body_markdown":"check $sonarqube_home/logs to get more info on this! I am sure you have tried common scenarios. Sometime I also delete contents of sonarqube/data in order to make sure any cached configuration is deleted (please take a backup before)--requires stopping of sq server. Hope this helps!","title":"An issue occurred while starting sonarqube with custom java maven plugin","body":"<p>check $sonarqube_home/logs to get more info on this! I am sure you have tried common scenarios. Sometime I also delete contents of sonarqube/data in order to make sure any cached configuration is deleted (please take a backup before)--requires stopping of sq server. Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":5321466,"reputation":676,"user_id":4244792,"display_name":"Yosef-at-Panaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684672233,"creation_date":1684672233,"answer_id":76299912,"question_id":76229040,"body_markdown":"following both dependencies are not compatible:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.sonarsource.analyzer-commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0.1111&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sonar-plugin-api-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;9.7.1.62043&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI see when I import your pom that the class you are getting the NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader\r\nthat this version of the artifact (2.1.0.1111) is not compatible with the org.sonarsource.sonarqube.sonar-plugin-api:sonar-plugin-api-9.4.0.54424.jar (version 9.4.0.54424)\r\nfor example one of the methods in RuleMetadataLoader (org.sonarsource.analyzer.commons.RuleMetadataLoader#addOwaspAsvs) use org.sonar.api.server.rule.RulesDefinition.NewRule (org.sonar.api.server.rule.RulesDefinition.NewRule is present in sonar-plugin-api-9.4.0.54424.jar but the method org.sonar.api.server.rule.RulesDefinition.NewRule.addOwaspAsvs is only present from version 9.9...).\r\n\r\nAs RuleMetadataLoader use non-existing method of already loaded classes, the initialization of the class RuleMetadataLoader failed and you get this error.\r\n\r\nYou must upgrade your sonar-plugin-api to at least 9.9 or downgrade your sonar-analyzer-commons to a lower version.","title":"An issue occurred while starting sonarqube with custom java maven plugin","body":"<p>following both dependencies are not compatible:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.sonarsource.analyzer-commons&lt;/groupId&gt;\n    &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0.1111&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\n    &lt;artifactId&gt;sonar-plugin-api-impl&lt;/artifactId&gt;\n    &lt;version&gt;9.7.1.62043&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I see when I import your pom that the class you are getting the NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader\nthat this version of the artifact (2.1.0.1111) is not compatible with the org.sonarsource.sonarqube.sonar-plugin-api:sonar-plugin-api-9.4.0.54424.jar (version 9.4.0.54424)\nfor example one of the methods in RuleMetadataLoader (org.sonarsource.analyzer.commons.RuleMetadataLoader#addOwaspAsvs) use org.sonar.api.server.rule.RulesDefinition.NewRule (org.sonar.api.server.rule.RulesDefinition.NewRule is present in sonar-plugin-api-9.4.0.54424.jar but the method org.sonar.api.server.rule.RulesDefinition.NewRule.addOwaspAsvs is only present from version 9.9...).</p>\n<p>As RuleMetadataLoader use non-existing method of already loaded classes, the initialization of the class RuleMetadataLoader failed and you get this error.</p>\n<p>You must upgrade your sonar-plugin-api to at least 9.9 or downgrade your sonar-analyzer-commons to a lower version.</p>\n"}],"owner":{"account_id":3865734,"reputation":296,"user_id":3202325,"accept_rate":33,"display_name":"RamGrg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1163,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1684672233,"creation_date":1683817229,"question_id":76229040,"body_markdown":"I am creating a custom sonarqube java plugin. After adding the plugin jar file inside ../extensions/plugins folder, I tried to start sonarqube in my device. But it is showing the following issues:\r\n\r\n```\r\nBackground initialization failed. Stopping SonarQube\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27-org.sonar.server.rule.RegisterRules&#39;: Initialization of bean failed; nested exception is java.lang.NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:187)\r\n\tat org.sonar.server.platform.platformlevel.PlatformLevel.start(PlatformLevel.java:80)\r\n\tat org.sonar.server.platform.platformlevel.PlatformLevelStartup.access$001(PlatformLevelStartup.java:55)\r\n\tat org.sonar.server.platform.platformlevel.PlatformLevelStartup$1.doPrivileged(PlatformLevelStartup.java:127)\r\n\tat org.sonar.server.user.DoPrivileged.execute(DoPrivileged.java:45)\r\n\tat org.sonar.server.platform.platformlevel.PlatformLevelStartup.start(PlatformLevelStartup.java:124)\r\n\tat org.sonar.server.platform.PlatformImpl.executeStartupTasks(PlatformImpl.java:183)\r\n\tat org.sonar.server.platform.PlatformImpl$AutoStarterRunnable.runIfNotAborted(PlatformImpl.java:344)\r\n\tat org.sonar.server.platform.PlatformImpl$1.doRun(PlatformImpl.java:107)\r\n\tat org.sonar.server.platform.PlatformImpl$AutoStarterRunnable.run(PlatformImpl.java:328)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader\r\n\tat com.plugins.sonar.java.SonarqubeJavaRulesDefinition.define(SonarqubeJavaRulesDefinition.java:44)\r\n\tat org.sonar.server.rule.RuleDefinitionsLoader.load(RuleDefinitionsLoader.java:56)\r\n\tat org.sonar.server.rule.RegisterRules.start(RegisterRules.java:125)\r\n\tat org.sonar.core.platform.StartableBeanPostProcessor.postProcessBeforeInitialization(StartableBeanPostProcessor.java:33)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.sonarsource.analyzer.commons.RuleMetadataLoader\r\n\tat org.sonar.classloader.ParentFirstStrategy.loadClass(ParentFirstStrategy.java:39)\r\n\tat org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:87)\r\n\tat org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:76)\r\n```\r\n\r\n\r\nThe line of code as mentioned in logs, (SonarqubeJavaRulesDefinition.java:44), is the following:\r\n`\r\nRuleMetadataLoader ruleMetadataLoader = new RuleMetadataLoader(RULES_BASE_PATH, runtime);\r\n`\r\n\r\nThe following is the pom.xml:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.sonar.project&lt;/groupId&gt;\r\n  &lt;artifactId&gt;static-java-code-analysis&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;StaticJavaCodeAnalysis&lt;/name&gt;\r\n  \r\n  &lt;description&gt;It defines the rules that detect energy smells in different loop types in java&lt;/description&gt;\r\n  &lt;packaging&gt;sonar-plugin&lt;/packaging&gt;\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;11&lt;/java.version&gt;\r\n    \r\n    &lt;!-- &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt; --&gt;\r\n    &lt;sonarqube.version&gt;9.4.0.54424&lt;/sonarqube.version&gt;\r\n    &lt;sonar.organization&gt;ramgrg&lt;/sonar.organization&gt;\r\n    &lt;sonar.host.url&gt;https://sonarcloud.io&lt;/sonar.host.url&gt;\r\n    &lt;sonarjava.version&gt;7.15.0.30507&lt;/sonarjava.version&gt; \r\n    &lt;sonar.skipDependenciesPackaging&gt;true&lt;/sonar.skipDependenciesPackaging&gt;\r\n   &lt;/properties&gt;\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n        &lt;version&gt;5.9.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n       &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n       &lt;version&gt;3.23.1&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\r\n         &lt;artifactId&gt;sonar-plugin-api&lt;/artifactId&gt;\r\n         &lt;version&gt;${sonarqube.version}&lt;/version&gt;\r\n         &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;org.sonarsource.analyzer-commons&lt;/groupId&gt;\r\n       &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\r\n       &lt;version&gt;2.1.0.1111&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\r\n       &lt;artifactId&gt;sonar-plugin-api-impl&lt;/artifactId&gt;\r\n       &lt;version&gt;9.7.1.62043&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;org.sonarsource.java&lt;/groupId&gt;\r\n       &lt;artifactId&gt;sonar-java-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;${sonarjava.version}&lt;/version&gt;\r\n       &lt;type&gt;sonar-plugin&lt;/type&gt;\r\n       &lt;scope&gt;provided&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;org.sonarsource.java&lt;/groupId&gt;\r\n       &lt;artifactId&gt;java-checks-testkit&lt;/artifactId&gt;\r\n       &lt;version&gt;${sonarjava.version}&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n   &lt;build&gt;\r\n      &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n             &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n             &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n             &lt;version&gt;3.0.0&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n             &lt;groupId&gt;org.sonarsource.sonar-packaging-maven-plugin&lt;/groupId&gt;\r\n             &lt;artifactId&gt;sonar-packaging-maven-plugin&lt;/artifactId&gt;\r\n             &lt;version&gt;1.21.0.505&lt;/version&gt;\r\n             &lt;extensions&gt;true&lt;/extensions&gt;\r\n             &lt;configuration&gt;\r\n                &lt;pluginKey&gt;staticjavacode&lt;/pluginKey&gt;\r\n                &lt;pluginName&gt;${project.name}&lt;/pluginName&gt;\r\n                &lt;pluginClass&gt;com.sonar.java.SonarqubeJavaplugin&lt;/pluginClass&gt;\r\n                &lt;sonarLintSupported&gt;true&lt;/sonarLintSupported&gt;\r\n             &lt;!--   &lt;skipDependenciesPackaging&gt;true&lt;/skipDependenciesPackaging&gt; --&gt;\r\n                &lt;sonarQubeMinVersion&gt;${sonarqube.version}&lt;/sonarQubeMinVersion&gt;\r\n                &lt;requirePlugins&gt;java:${sonarjava.version}&lt;/requirePlugins&gt;   \r\n             &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAny help is appreciated.\r\n","title":"An issue occurred while starting sonarqube with custom java maven plugin","body":"<p>I am creating a custom sonarqube java plugin. After adding the plugin jar file inside ../extensions/plugins folder, I tried to start sonarqube in my device. But it is showing the following issues:</p>\n<pre><code>Background initialization failed. Stopping SonarQube\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27-org.sonar.server.rule.RegisterRules': Initialization of bean failed; nested exception is java.lang.NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:187)\n    at org.sonar.server.platform.platformlevel.PlatformLevel.start(PlatformLevel.java:80)\n    at org.sonar.server.platform.platformlevel.PlatformLevelStartup.access$001(PlatformLevelStartup.java:55)\n    at org.sonar.server.platform.platformlevel.PlatformLevelStartup$1.doPrivileged(PlatformLevelStartup.java:127)\n    at org.sonar.server.user.DoPrivileged.execute(DoPrivileged.java:45)\n    at org.sonar.server.platform.platformlevel.PlatformLevelStartup.start(PlatformLevelStartup.java:124)\n    at org.sonar.server.platform.PlatformImpl.executeStartupTasks(PlatformImpl.java:183)\n    at org.sonar.server.platform.PlatformImpl$AutoStarterRunnable.runIfNotAborted(PlatformImpl.java:344)\n    at org.sonar.server.platform.PlatformImpl$1.doRun(PlatformImpl.java:107)\n    at org.sonar.server.platform.PlatformImpl$AutoStarterRunnable.run(PlatformImpl.java:328)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader\n    at com.plugins.sonar.java.SonarqubeJavaRulesDefinition.define(SonarqubeJavaRulesDefinition.java:44)\n    at org.sonar.server.rule.RuleDefinitionsLoader.load(RuleDefinitionsLoader.java:56)\n    at org.sonar.server.rule.RegisterRules.start(RegisterRules.java:125)\n    at org.sonar.core.platform.StartableBeanPostProcessor.postProcessBeforeInitialization(StartableBeanPostProcessor.java:33)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    ... 19 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.sonarsource.analyzer.commons.RuleMetadataLoader\n    at org.sonar.classloader.ParentFirstStrategy.loadClass(ParentFirstStrategy.java:39)\n    at org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:87)\n    at org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:76)\n</code></pre>\n<p>The line of code as mentioned in logs, (SonarqubeJavaRulesDefinition.java:44), is the following:\n<code>RuleMetadataLoader ruleMetadataLoader = new RuleMetadataLoader(RULES_BASE_PATH, runtime);</code></p>\n<p>The following is the pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.sonar.project&lt;/groupId&gt;\n  &lt;artifactId&gt;static-java-code-analysis&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;StaticJavaCodeAnalysis&lt;/name&gt;\n  \n  &lt;description&gt;It defines the rules that detect energy smells in different loop types in java&lt;/description&gt;\n  &lt;packaging&gt;sonar-plugin&lt;/packaging&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    \n    &lt;!-- &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt; --&gt;\n    &lt;sonarqube.version&gt;9.4.0.54424&lt;/sonarqube.version&gt;\n    &lt;sonar.organization&gt;ramgrg&lt;/sonar.organization&gt;\n    &lt;sonar.host.url&gt;https://sonarcloud.io&lt;/sonar.host.url&gt;\n    &lt;sonarjava.version&gt;7.15.0.30507&lt;/sonarjava.version&gt; \n    &lt;sonar.skipDependenciesPackaging&gt;true&lt;/sonar.skipDependenciesPackaging&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.9.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n       &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n       &lt;version&gt;3.23.1&lt;/version&gt;\n     &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\n         &lt;artifactId&gt;sonar-plugin-api&lt;/artifactId&gt;\n         &lt;version&gt;${sonarqube.version}&lt;/version&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.sonarsource.analyzer-commons&lt;/groupId&gt;\n       &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n       &lt;version&gt;2.1.0.1111&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\n       &lt;artifactId&gt;sonar-plugin-api-impl&lt;/artifactId&gt;\n       &lt;version&gt;9.7.1.62043&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.sonarsource.java&lt;/groupId&gt;\n       &lt;artifactId&gt;sonar-java-plugin&lt;/artifactId&gt;\n       &lt;version&gt;${sonarjava.version}&lt;/version&gt;\n       &lt;type&gt;sonar-plugin&lt;/type&gt;\n       &lt;scope&gt;provided&lt;/scope&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.sonarsource.java&lt;/groupId&gt;\n       &lt;artifactId&gt;java-checks-testkit&lt;/artifactId&gt;\n       &lt;version&gt;${sonarjava.version}&lt;/version&gt;\n       &lt;scope&gt;test&lt;/scope&gt;\n     &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n   &lt;build&gt;\n      &lt;plugins&gt;\n          &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n             &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n             &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n             &lt;version&gt;3.0.0&lt;/version&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n             &lt;groupId&gt;org.sonarsource.sonar-packaging-maven-plugin&lt;/groupId&gt;\n             &lt;artifactId&gt;sonar-packaging-maven-plugin&lt;/artifactId&gt;\n             &lt;version&gt;1.21.0.505&lt;/version&gt;\n             &lt;extensions&gt;true&lt;/extensions&gt;\n             &lt;configuration&gt;\n                &lt;pluginKey&gt;staticjavacode&lt;/pluginKey&gt;\n                &lt;pluginName&gt;${project.name}&lt;/pluginName&gt;\n                &lt;pluginClass&gt;com.sonar.java.SonarqubeJavaplugin&lt;/pluginClass&gt;\n                &lt;sonarLintSupported&gt;true&lt;/sonarLintSupported&gt;\n             &lt;!--   &lt;skipDependenciesPackaging&gt;true&lt;/skipDependenciesPackaging&gt; --&gt;\n                &lt;sonarQubeMinVersion&gt;${sonarqube.version}&lt;/sonarQubeMinVersion&gt;\n                &lt;requirePlugins&gt;java:${sonarjava.version}&lt;/requirePlugins&gt;   \n             &lt;/configuration&gt;\n          &lt;/plugin&gt;\n      &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","logging","log4j","javaoptions"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1684366592,"post_id":76276595,"comment_id":134509864,"body_markdown":"Because you upgraded Java. They are *required* in versions of Java &gt;9 to work with the module system. Java has changed significantly over the years. Why would you expect it to be constant?","body":"Because you upgraded Java. They are <i>required</i> in versions of Java &gt;9 to work with the module system. Java has changed significantly over the years. Why would you expect it to be constant?"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1684517311,"post_id":76276595,"comment_id":134533944,"body_markdown":"Where is the `userLog()` method used? Am I wrong assumint that you: 1. use `ProcessBuilder` or similar to spawn a new JVM, 2. Call `userLog()` on each line that the new JVM outputs? BTW: `Configurator.initialize` does not replace the Log4j config if one already exists (i.e. you called a `LogManager` static method), use `Configurator.reconfigure` in this case.","body":"Where is the <code>userLog()</code> method used? Am I wrong assumint that you: 1. use <code>ProcessBuilder</code> or similar to spawn a new JVM, 2. Call <code>userLog()</code> on each line that the new JVM outputs? BTW: <code>Configurator.initialize</code> does not replace the Log4j config if one already exists (i.e. you called a <code>LogManager</code> static method), use <code>Configurator.reconfigure</code> in this case."}],"answers":[{"tags":[],"owner":{"account_id":4578717,"reputation":41,"user_id":3716460,"display_name":"ScottD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684671645,"creation_date":1684633917,"answer_id":76297988,"question_id":76276595,"body_markdown":"I moved the logging function down into the Ant script that was being called. \r\n\r\nNo problem now.","title":"Picked up JDK_JAVA_OPTIONS: appearing in my servlets log file?","body":"<p>I moved the logging function down into the Ant script that was being called.</p>\n<p>No problem now.</p>\n"}],"owner":{"account_id":4578717,"reputation":41,"user_id":3716460,"display_name":"ScottD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1684736977,"answer_count":1,"score":1,"last_activity_date":1684671645,"creation_date":1684362753,"question_id":76276595,"body_markdown":"I have a servlet running in Tomcat on a server. One of the tasks the servlet does is transform documents using a translation library jar. Executing a java -jar &quot;...&quot; command.\r\n\r\nI use log4j to log the actions a sample below.\r\n\r\n    [echo] [init] Initialize build space \r\n    [echo] build.web.dir= /home/scott/workspace/mbel-work/tei2html/build/web teiFile=A10007 docName=A10007.xml\r\n    [echo] [tei-doc-to-html] Building html documents production=no\r\n    [echo] &quot;/home/scott/workspace/mbel-work/tei2html/build/web/A10007/A10007.html is up to date!&quot;\r\n    [echo] [tei-to-html] Build index.html, searchsite.html and solrsearch.html files\r\n\r\nI upgraded java and now I see this.\r\n\r\n    [echo] [init] Initialize build space \r\n    [echo] build.web.dir= /home/scott/workspace/mbel-work/tei2html/build/web teiFile=A10011\r\n    docName=A10011.xml\r\n    [echo] [tei-doc-to-html] Building html documents production=yes\r\n    [java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n    [echo] [tei-to-html] Build index.html, searchsite.html and solrsearch.html files \r\n    [java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n    [java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n    [java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n\r\nWhy is this showing up in my custom log file? \r\n \r\nHere is the code to create the logger and the call to log the message, the &quot;Picked up...&quot; is not in the message.\r\n\r\n    // create the new logger\r\n        builder.add(builder.newLogger(&quot;BuildLogger&quot;, Level.OFF)\r\n                .add(builder.newAppenderRef(&quot;rolling&quot;))\r\n                .addAttribute(&quot;additivity&quot;, false));\r\n\r\n        /*builder.add(builder.newRootLogger(Level.DEBUG)\r\n                .add(builder.newAppenderRef(&quot;rolling&quot;)));\r\n        */\r\n        ctx = Configurator.initialize(builder.build());\r\n        LOGGER = LogManager.getLogger(&quot;BuildLogger&quot;);\r\n        setup = true;\r\n        //System.out.println(&quot;BuildLog.init: exit&quot;);\r\n    }\r\n\r\n    public static void userLog(String message) {\r\n        if (setup == false) {\r\n            init();\r\n        }\r\n        LOGGER.info(message);\r\n    }\r\n\r\nAny way I can suppress this?\r\n\r\nI did notice the Tomcat is setting these in the run script\r\n\r\n    # Add the JAVA 9 specific start-up parameters required by Tomcat\r\n    JDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-opens=java.base/java.lang=ALL-UNNAMED&quot;\r\n    JDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-opens=java.base/java.io=ALL-UNNAMED&quot;\r\n    JDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED&quot;\r\n    export JDK_JAVA_OPTIONS\r\n\r\nI&#39;m sure its no coincidence that these are the same options now showing up in my log file. Though it didn&#39;t happen until I upgraded Java.\r\n\r\n\r\n","title":"Picked up JDK_JAVA_OPTIONS: appearing in my servlets log file?","body":"<p>I have a servlet running in Tomcat on a server. One of the tasks the servlet does is transform documents using a translation library jar. Executing a java -jar &quot;...&quot; command.</p>\n<p>I use log4j to log the actions a sample below.</p>\n<pre><code>[echo] [init] Initialize build space \n[echo] build.web.dir= /home/scott/workspace/mbel-work/tei2html/build/web teiFile=A10007 docName=A10007.xml\n[echo] [tei-doc-to-html] Building html documents production=no\n[echo] &quot;/home/scott/workspace/mbel-work/tei2html/build/web/A10007/A10007.html is up to date!&quot;\n[echo] [tei-to-html] Build index.html, searchsite.html and solrsearch.html files\n</code></pre>\n<p>I upgraded java and now I see this.</p>\n<pre><code>[echo] [init] Initialize build space \n[echo] build.web.dir= /home/scott/workspace/mbel-work/tei2html/build/web teiFile=A10011\ndocName=A10011.xml\n[echo] [tei-doc-to-html] Building html documents production=yes\n[java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n[echo] [tei-to-html] Build index.html, searchsite.html and solrsearch.html files \n[java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n[java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n[java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n</code></pre>\n<p>Why is this showing up in my custom log file?</p>\n<p>Here is the code to create the logger and the call to log the message, the &quot;Picked up...&quot; is not in the message.</p>\n<pre><code>// create the new logger\n    builder.add(builder.newLogger(&quot;BuildLogger&quot;, Level.OFF)\n            .add(builder.newAppenderRef(&quot;rolling&quot;))\n            .addAttribute(&quot;additivity&quot;, false));\n\n    /*builder.add(builder.newRootLogger(Level.DEBUG)\n            .add(builder.newAppenderRef(&quot;rolling&quot;)));\n    */\n    ctx = Configurator.initialize(builder.build());\n    LOGGER = LogManager.getLogger(&quot;BuildLogger&quot;);\n    setup = true;\n    //System.out.println(&quot;BuildLog.init: exit&quot;);\n}\n\npublic static void userLog(String message) {\n    if (setup == false) {\n        init();\n    }\n    LOGGER.info(message);\n}\n</code></pre>\n<p>Any way I can suppress this?</p>\n<p>I did notice the Tomcat is setting these in the run script</p>\n<pre><code># Add the JAVA 9 specific start-up parameters required by Tomcat\nJDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-opens=java.base/java.lang=ALL-UNNAMED&quot;\nJDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-opens=java.base/java.io=ALL-UNNAMED&quot;\nJDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED&quot;\nexport JDK_JAVA_OPTIONS\n</code></pre>\n<p>I'm sure its no coincidence that these are the same options now showing up in my log file. Though it didn't happen until I upgraded Java.</p>\n"},{"tags":["java","matrix"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1519768264,"post_id":49018462,"comment_id":85042239,"body_markdown":"I think you need to check the value of the cell first thing. Ex: `if (a[i][j] == 0) return 0;`","body":"I think you need to check the value of the cell first thing. Ex: <code>if (a[i][j] == 0) return 0;</code>"},{"owner":{"account_id":3180842,"reputation":1675,"user_id":2687589,"accept_rate":83,"display_name":"Brandon McKenzie"},"score":0,"creation_date":1519768405,"post_id":49018462,"comment_id":85042293,"body_markdown":"&quot;It doesn&#39;t work&quot; doesn&#39;t help us.  What does the program do as it fails, and how does it differ from the expected behavior?","body":"&quot;It doesn&#39;t work&quot; doesn&#39;t help us.  What does the program do as it fails, and how does it differ from the expected behavior?"},{"owner":{"account_id":6623404,"reputation":3712,"user_id":5114342,"display_name":"Aziuth"},"score":0,"creation_date":1519768406,"post_id":49018462,"comment_id":85042294,"body_markdown":"I agree with Johnny Mopp. If you are in a cell that has value 0 and is on the border, your code right now will proceed on that border instead of returning 0. How about creating a matrix that stores for which cell there are which amounts of ways from it and then print it as control?","body":"I agree with Johnny Mopp. If you are in a cell that has value 0 and is on the border, your code right now will proceed on that border instead of returning 0. How about creating a matrix that stores for which cell there are which amounts of ways from it and then print it as control?"},{"owner":{"account_id":7561163,"reputation":1380,"user_id":5738696,"display_name":"korolar"},"score":0,"creation_date":1519768561,"post_id":49018462,"comment_id":85042363,"body_markdown":"This kind of issue is best approached using a debugger (see here: https://stackoverflow.com/q/25385173).","body":"This kind of issue is best approached using a debugger (see here: <a href=\"https://stackoverflow.com/q/25385173\">stackoverflow.com/q/25385173</a>)."},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1519768644,"post_id":49018462,"comment_id":85042404,"body_markdown":"@JohnnyMopp, Thank you, it worked now, is there a way to improve the performance of this program?","body":"@JohnnyMopp, Thank you, it worked now, is there a way to improve the performance of this program?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1519769265,"post_id":49018462,"comment_id":85042677,"body_markdown":"You can ask at [codereview.se] for improvements.","body":"You can ask at <a href=\"https://codereview.stackexchange.com\">Code Review</a> for improvements."}],"answers":[{"tags":[],"owner":{"account_id":12733106,"reputation":592,"user_id":9249002,"display_name":"bebidek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1519772088,"creation_date":1519768721,"answer_id":49018630,"question_id":49018462,"body_markdown":"First if should check value of `a[i][j]`. It it&#39;s 0, you should return 0.\r\n\r\nAnd about performance, algorithm written this way is very slow, as you calculate the same value many times. Use memorisation (create second array and save every value you return and at the beginning of function check first if you haven&#39;t calculated it before) or solve it with dynamic programming.\r\n\r\nEDIT: You forgot about your modulo 10^9+7.\r\n\r\nSECOND EDIT (responding to your comment):\r\nIt would be something like that. I divided it to three loops so that main (third) loop has less operations to do and function is quite faster for big data. I also changed direction of computing but it&#39;s not important at all.\r\n\r\n    static int count_dp(int a[][]){\r\n        int rows = a.length;\r\n        int cols = a[0].length;\r\n        int[][] dp = new int[rows][cols];\r\n\r\n        dp[0][0] = a[0][0];\r\n\r\n        for(int i=1;i&lt;rows;i++)\r\n            if(dp[i-1][0]==1 &amp;&amp; a[i][0]==1)\r\n                dp[i][0] = 1;\r\n\r\n        for(int i=1;i&lt;cols;i++)\r\n            if(dp[0][i-1]==1 &amp;&amp; a[0][i]==1)\r\n                dp[0][i] = 1;\r\n\r\n        for(int i=1;i&lt;rows;i++)\r\n            for(int j=1;j&lt;cols;j++)\r\n                if(a[i][j]==1)\r\n                    dp[i][j] = (dp[i-1][j] + dp[i][j-1])%1000000007;\r\n\r\n        return dp[rows-1][cols-1];\r\n    }","title":"Find total number of paths in a matrix of 0&#39;s and 1&#39;s","body":"<p>First if should check value of <code>a[i][j]</code>. It it's 0, you should return 0.</p>\n\n<p>And about performance, algorithm written this way is very slow, as you calculate the same value many times. Use memorisation (create second array and save every value you return and at the beginning of function check first if you haven't calculated it before) or solve it with dynamic programming.</p>\n\n<p>EDIT: You forgot about your modulo 10^9+7.</p>\n\n<p>SECOND EDIT (responding to your comment):\nIt would be something like that. I divided it to three loops so that main (third) loop has less operations to do and function is quite faster for big data. I also changed direction of computing but it's not important at all.</p>\n\n<pre><code>static int count_dp(int a[][]){\n    int rows = a.length;\n    int cols = a[0].length;\n    int[][] dp = new int[rows][cols];\n\n    dp[0][0] = a[0][0];\n\n    for(int i=1;i&lt;rows;i++)\n        if(dp[i-1][0]==1 &amp;&amp; a[i][0]==1)\n            dp[i][0] = 1;\n\n    for(int i=1;i&lt;cols;i++)\n        if(dp[0][i-1]==1 &amp;&amp; a[0][i]==1)\n            dp[0][i] = 1;\n\n    for(int i=1;i&lt;rows;i++)\n        for(int j=1;j&lt;cols;j++)\n            if(a[i][j]==1)\n                dp[i][j] = (dp[i-1][j] + dp[i][j-1])%1000000007;\n\n    return dp[rows-1][cols-1];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19137391,"reputation":1,"user_id":13978108,"display_name":"Kiran Raghavendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598146196,"creation_date":1598146196,"answer_id":63542601,"question_id":49018462,"body_markdown":"    def path_finder(i,j,m,l,n):\r\n        if i==n-1 and j==n-1:\r\n            if m[i][j]==1:\r\n                l.append([i,j])\r\n                return 1\r\n            else:\r\n                return 0\r\n        if i==n or j==n:\r\n            return 0\r\n        if m[i][j]==0:\r\n            return 0\r\n        l.append([i,j])\r\n        fl=path_finder(i+1,j,m,l,n)   #vertical movement \r\n        fr=path_finder(i,j+1,m,l,n)   #horizontal movement \r\n        if not (fl or fr):\r\n            l.pop()\r\n            return 0\r\n        return 1\r\n\r\n    if __name__==&#39;__main__&#39;:\r\n        n=4   #size od matrix\r\n        i=0\r\n        j=0\r\n        m=[[1,1,1,0],\r\n           [1,0,1,1],\r\n           [1,1,0,1],\r\n           [1,1,0,1]]\r\n        l=[]  #empty list to store path indices\r\n        found=path_finder(i,j,m,l,n)\r\n        if found==1:\r\n            for i in l:\r\n                print(&#39;({0},{1})&#39;.format(*i),end=&#39; &#39;)\r\n        else:\r\n            print(-1)\r\n    # A recursive approach to the solution.\r\n    # Works for all values of n if we can move only right and \r\n    down. Fails if we have to move up or left,Eg: for matrix \r\n    shown below we have to move up in order to get to n, n\r\n    [[1 1 1 1 1], \r\n     [1 0 0 0 0], \r\n     [1 0 1 1 1], \r\n     [1 0 1 0 1], \r\n     [1 1 1 0 1]] ","title":"Find total number of paths in a matrix of 0&#39;s and 1&#39;s","body":"<pre><code>def path_finder(i,j,m,l,n):\n    if i==n-1 and j==n-1:\n        if m[i][j]==1:\n            l.append([i,j])\n            return 1\n        else:\n            return 0\n    if i==n or j==n:\n        return 0\n    if m[i][j]==0:\n        return 0\n    l.append([i,j])\n    fl=path_finder(i+1,j,m,l,n)   #vertical movement \n    fr=path_finder(i,j+1,m,l,n)   #horizontal movement \n    if not (fl or fr):\n        l.pop()\n        return 0\n    return 1\n\nif __name__=='__main__':\n    n=4   #size od matrix\n    i=0\n    j=0\n    m=[[1,1,1,0],\n       [1,0,1,1],\n       [1,1,0,1],\n       [1,1,0,1]]\n    l=[]  #empty list to store path indices\n    found=path_finder(i,j,m,l,n)\n    if found==1:\n        for i in l:\n            print('({0},{1})'.format(*i),end=' ')\n    else:\n        print(-1)\n# A recursive approach to the solution.\n# Works for all values of n if we can move only right and \ndown. Fails if we have to move up or left,Eg: for matrix \nshown below we have to move up in order to get to n, n\n[[1 1 1 1 1], \n [1 0 0 0 0], \n [1 0 1 1 1], \n [1 0 1 0 1], \n [1 1 1 0 1]] \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684671460,"creation_date":1684671460,"answer_id":76299868,"question_id":49018462,"body_markdown":"A little late to the party, but this problem can be easily solved using Dynamic Programming as follows -\r\n\r\n\r\n    static int mat[][] = new int[m][n]; //for e.g. m=3, n=3\r\n\r\n    public static int countPathUsingDp(int m, int n) {\r\n        for(int i=0;i&lt;m;i++)\r\n            mat[i][0] = 1;\r\n\r\n        for(int j=0;j&lt;n;j++)\r\n            mat[0][j] = 1;\r\n\r\n        for(int i=1;i&lt;m;i++)\r\n            for(int j=1;j&lt;n;j++)\r\n                mat[i][j] = mat[i-1][j] + mat[i][j-1];\r\n\r\n        return mat[m-1][n-1];\r\n    }\r\n\r\nThe **time complexity**: **O(m*n)**\r\n\r\n**Solution**: You assign path to base[0,0] from every element, as you traverse.","title":"Find total number of paths in a matrix of 0&#39;s and 1&#39;s","body":"<p>A little late to the party, but this problem can be easily solved using Dynamic Programming as follows -</p>\n<pre><code>static int mat[][] = new int[m][n]; //for e.g. m=3, n=3\n\npublic static int countPathUsingDp(int m, int n) {\n    for(int i=0;i&lt;m;i++)\n        mat[i][0] = 1;\n\n    for(int j=0;j&lt;n;j++)\n        mat[0][j] = 1;\n\n    for(int i=1;i&lt;m;i++)\n        for(int j=1;j&lt;n;j++)\n            mat[i][j] = mat[i-1][j] + mat[i][j-1];\n\n    return mat[m-1][n-1];\n}\n</code></pre>\n<p>The <strong>time complexity</strong>: <strong>O(m*n)</strong></p>\n<p><strong>Solution</strong>: You assign path to base[0,0] from every element, as you traverse.</p>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49018630,"answer_count":3,"score":1,"last_activity_date":1684671460,"creation_date":1519768001,"question_id":49018462,"body_markdown":"I am working on a program which states that:\r\n\r\nYou are given a 2-D matrix with M rows and N columns.You are initially positioned at (0,0) which is the top-left cell in the array. You are allowed to move either right or downwards. The array is filled with 1s and 0s. A 1 indicates that you can move through that cell, a 0 indicates that you cannot move through that cell. Return the number of paths from top-left cell to bottom-right cell.(i.e. (0,0)to(M-1,N-1)). Since answer can be large thus you have to return ans%(10^9+7).\r\n\r\nI tried to implement it and it is working for some scenarios but fails for some cases:\r\n\r\n\tstatic int count(int a[][], int i, int j) {\r\n\t\tint rows = a.length;\r\n\t\tint cols = a[0].length;\r\n\t\tif(a[i][j] == 0)  return 0;\r\n        if (i == rows - 1 &amp;&amp; j == cols - 1)\r\n\t\t\treturn a[i][j];\r\n\t\telse if (i == rows - 1)\r\n\t\t\treturn a[i][j + 1];\r\n\t\telse if (j == cols - 1)\r\n\t\t\treturn a[i + 1][j];\r\n\t\telse if (a[i][j] == 1)\r\n\t\t\treturn count(a, i + 1, j) + count(a, i, j + 1);\r\n\t\telse\r\n\t\t\treturn 0;\r\n\t}\r\n\r\nIt fails for below array:\r\n`{{1,1}, {0,1}}`\r\n\r\nCan you please help me what is the issue in this program?\r\n\r\n**Update:**\r\n\r\nThanks @Johnny Mopp, it solved the above test case. How can we improve the performance of this program?","title":"Find total number of paths in a matrix of 0&#39;s and 1&#39;s","body":"<p>I am working on a program which states that:</p>\n\n<p>You are given a 2-D matrix with M rows and N columns.You are initially positioned at (0,0) which is the top-left cell in the array. You are allowed to move either right or downwards. The array is filled with 1s and 0s. A 1 indicates that you can move through that cell, a 0 indicates that you cannot move through that cell. Return the number of paths from top-left cell to bottom-right cell.(i.e. (0,0)to(M-1,N-1)). Since answer can be large thus you have to return ans%(10^9+7).</p>\n\n<p>I tried to implement it and it is working for some scenarios but fails for some cases:</p>\n\n<pre><code>static int count(int a[][], int i, int j) {\n    int rows = a.length;\n    int cols = a[0].length;\n    if(a[i][j] == 0)  return 0;\n    if (i == rows - 1 &amp;&amp; j == cols - 1)\n        return a[i][j];\n    else if (i == rows - 1)\n        return a[i][j + 1];\n    else if (j == cols - 1)\n        return a[i + 1][j];\n    else if (a[i][j] == 1)\n        return count(a, i + 1, j) + count(a, i, j + 1);\n    else\n        return 0;\n}\n</code></pre>\n\n<p>It fails for below array:\n<code>{{1,1}, {0,1}}</code></p>\n\n<p>Can you please help me what is the issue in this program?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Thanks @Johnny Mopp, it solved the above test case. How can we improve the performance of this program?</p>\n"},{"tags":["java","picocli"],"comments":[{"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"score":0,"creation_date":1680763154,"post_id":74273941,"comment_id":133953865,"body_markdown":"Feature request https://github.com/remkop/picocli/issues/1993","body":"Feature request <a href=\"https://github.com/remkop/picocli/issues/1993\" rel=\"nofollow noreferrer\">github.com/remkop/picocli/issues/1993</a>"}],"answers":[{"tags":[],"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667314117,"creation_date":1667301076,"answer_id":74275000,"question_id":74273941,"body_markdown":"I suspect this is a bug/inconvenience. In method `consumeArguments`, at https://github.com/remkop/picocli/blob/main/src/main/java/picocli/CommandLine.java\r\n\r\n```\r\n            // now process the varargs if any\r\n            String fallback = consumed == 0 &amp;&amp; argSpec.isOption() &amp;&amp; !OptionSpec.DEFAULT_FALLBACK_VALUE.equals(((OptionSpec) argSpec).fallbackValue())\r\n                    ? ((OptionSpec) argSpec).fallbackValue()\r\n                    : null;\r\n            if (fallback != null &amp;&amp; (args.isEmpty() || !varargCanConsumeNextValue(argSpec, args.peek()))) {\r\n                args.push(fallback);\r\n            }\r\n```\r\n\r\nBecause `((OptionSpec) argSpec).fallbackValue()` returns `null`, it is understood as if there was no `fallbackValue`, and therefore the `if (fallback != null` does not push the fallback value to `args`.\r\n\r\n## Workaround\r\n\r\nDefine your own `fallbackValue` magic string and a `converter` that later converts it to `null`. The convertor runs after `consumeArguments` completes (with the `failbackValue`).\r\n\r\n```\r\npublic static final String MY_NULL_VALUE = &quot;MY_&quot; + CommandLine.Option.NULL_VALUE;\r\n\r\npublic class MyNullValueConvertor implements CommandLine.ITypeConverter&lt;String&gt; {\r\n    @Override\r\n    public String convert(String value) throws Exception {\r\n        if (value.equals(MY_NULL_VALUE)) {\r\n            return null;\r\n        }\r\n        return value;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n    @CommandLine.Option(\r\n        names = {&quot;--msg-content-list-item&quot;},\r\n        arity = &quot;0..1&quot;, fallbackValue = MY_NULL_VALUE,\r\n        converter = MyNullValueConvertor.class)\r\n    private List&lt;String&gt; msgContentListItem;\r\n```","title":"How do I get picocli to parse `&quot;--item --item foo&quot;` as `[null, &quot;foo&quot;]` `:List&lt;String&gt;`","body":"<p>I suspect this is a bug/inconvenience. In method <code>consumeArguments</code>, at <a href=\"https://github.com/remkop/picocli/blob/main/src/main/java/picocli/CommandLine.java\" rel=\"nofollow noreferrer\">https://github.com/remkop/picocli/blob/main/src/main/java/picocli/CommandLine.java</a></p>\n<pre><code>            // now process the varargs if any\n            String fallback = consumed == 0 &amp;&amp; argSpec.isOption() &amp;&amp; !OptionSpec.DEFAULT_FALLBACK_VALUE.equals(((OptionSpec) argSpec).fallbackValue())\n                    ? ((OptionSpec) argSpec).fallbackValue()\n                    : null;\n            if (fallback != null &amp;&amp; (args.isEmpty() || !varargCanConsumeNextValue(argSpec, args.peek()))) {\n                args.push(fallback);\n            }\n</code></pre>\n<p>Because <code>((OptionSpec) argSpec).fallbackValue()</code> returns <code>null</code>, it is understood as if there was no <code>fallbackValue</code>, and therefore the <code>if (fallback != null</code> does not push the fallback value to <code>args</code>.</p>\n<h2>Workaround</h2>\n<p>Define your own <code>fallbackValue</code> magic string and a <code>converter</code> that later converts it to <code>null</code>. The convertor runs after <code>consumeArguments</code> completes (with the <code>failbackValue</code>).</p>\n<pre><code>public static final String MY_NULL_VALUE = &quot;MY_&quot; + CommandLine.Option.NULL_VALUE;\n\npublic class MyNullValueConvertor implements CommandLine.ITypeConverter&lt;String&gt; {\n    @Override\n    public String convert(String value) throws Exception {\n        if (value.equals(MY_NULL_VALUE)) {\n            return null;\n        }\n        return value;\n    }\n}\n</code></pre>\n<pre><code>    @CommandLine.Option(\n        names = {&quot;--msg-content-list-item&quot;},\n        arity = &quot;0..1&quot;, fallbackValue = MY_NULL_VALUE,\n        converter = MyNullValueConvertor.class)\n    private List&lt;String&gt; msgContentListItem;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684671440,"creation_date":1680873378,"answer_id":75958776,"question_id":74273941,"body_markdown":"There was a [bug][1] which is now fixed.\r\n\r\nPrior to version 4.7.2, use the workaround in my other answer.\r\n\r\nAs of picocli 4.7.2, use the `fallbackValue` like this\r\n\r\n```java\r\n@Option(names = {&quot;--list&quot;}, arity = &quot;0..1&quot;, fallbackValue = CommandLine.Option.NULL_VALUE)\r\nList&lt;String&gt; list;\r\n```\r\n\r\nfrom https://github.com/remkop/picocli/blob/2944addb8ba34d2ee6f97564bd43128bb62ec382/src/test/java/picocli/FallbackTest.java#L192-L193\r\n\r\n\r\n  [1]: https://github.com/remkop/picocli/issues/1993","title":"How do I get picocli to parse `&quot;--item --item foo&quot;` as `[null, &quot;foo&quot;]` `:List&lt;String&gt;`","body":"<p>There was a <a href=\"https://github.com/remkop/picocli/issues/1993\" rel=\"nofollow noreferrer\">bug</a> which is now fixed.</p>\n<p>Prior to version 4.7.2, use the workaround in my other answer.</p>\n<p>As of picocli 4.7.2, use the <code>fallbackValue</code> like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Option(names = {&quot;--list&quot;}, arity = &quot;0..1&quot;, fallbackValue = CommandLine.Option.NULL_VALUE)\nList&lt;String&gt; list;\n</code></pre>\n<p>from <a href=\"https://github.com/remkop/picocli/blob/2944addb8ba34d2ee6f97564bd43128bb62ec382/src/test/java/picocli/FallbackTest.java#L192-L193\" rel=\"nofollow noreferrer\">https://github.com/remkop/picocli/blob/2944addb8ba34d2ee6f97564bd43128bb62ec382/src/test/java/picocli/FallbackTest.java#L192-L193</a></p>\n"}],"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75958776,"answer_count":2,"score":0,"last_activity_date":1684671440,"creation_date":1667295447,"question_id":74273941,"body_markdown":"I have a parameter named `--msg-content-list-item`\r\n\r\n```java\r\npublic class CliProtonJ2Sender implements Callable&lt;Integer&gt; {\r\n\r\n    @CommandLine.Option(\r\n        names = {&quot;--msg-content-list-item&quot;},\r\n        arity = &quot;0..1&quot;,\r\n        defaultValue = CommandLine.Option.NULL_VALUE)\r\n    private List&lt;String&gt; msgContentListItem;\r\n\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nI wish for the following test to pass\r\n\r\n```java\r\n    @Test\r\n    void test_msgContentListItem() {\r\n        CliProtonJ2Sender a = new CliProtonJ2Sender();\r\n        CommandLine b = new CommandLine(a);\r\n        CommandLine.ParseResult r = b.parseArgs(&quot;--msg-content-list-item&quot;, &quot;--msg-content-list-item&quot;, &quot;pepa&quot;);\r\n\r\n        // https://github.com/powermock/powermock/wiki/Bypass-Encapsulation\r\n        List&lt;String&gt; v = Whitebox.getInternalState(a, &quot;msgContentListItem&quot;, a.getClass());\r\n        assertThat(v).containsExactly(null, &quot;pepa&quot;);\r\n    }\r\n```\r\n\r\nBut it doesn&#39;t and I get\r\n\r\n```\r\nmissing (1): null\r\n---\r\nexpected   : [null, pepa]\r\nbut was    : [pepa]\r\n```\r\n\r\nHow do I define `@CommandLine.Option` to behave the way I want?","title":"How do I get picocli to parse `&quot;--item --item foo&quot;` as `[null, &quot;foo&quot;]` `:List&lt;String&gt;`","body":"<p>I have a parameter named <code>--msg-content-list-item</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CliProtonJ2Sender implements Callable&lt;Integer&gt; {\n\n    @CommandLine.Option(\n        names = {&quot;--msg-content-list-item&quot;},\n        arity = &quot;0..1&quot;,\n        defaultValue = CommandLine.Option.NULL_VALUE)\n    private List&lt;String&gt; msgContentListItem;\n\n\n    // ...\n}\n</code></pre>\n<p>I wish for the following test to pass</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void test_msgContentListItem() {\n        CliProtonJ2Sender a = new CliProtonJ2Sender();\n        CommandLine b = new CommandLine(a);\n        CommandLine.ParseResult r = b.parseArgs(&quot;--msg-content-list-item&quot;, &quot;--msg-content-list-item&quot;, &quot;pepa&quot;);\n\n        // https://github.com/powermock/powermock/wiki/Bypass-Encapsulation\n        List&lt;String&gt; v = Whitebox.getInternalState(a, &quot;msgContentListItem&quot;, a.getClass());\n        assertThat(v).containsExactly(null, &quot;pepa&quot;);\n    }\n</code></pre>\n<p>But it doesn't and I get</p>\n<pre><code>missing (1): null\n---\nexpected   : [null, pepa]\nbut was    : [pepa]\n</code></pre>\n<p>How do I define <code>@CommandLine.Option</code> to behave the way I want?</p>\n"},{"tags":["java","tomcat","certificate","keystore","keytool"],"comments":[{"owner":{"account_id":397924,"reputation":1022,"user_id":762326,"display_name":"vegaasen"},"score":0,"creation_date":1498753086,"post_id":44830270,"comment_id":76641091,"body_markdown":"If you&#39;re using `-passin file:.kp` as the password, you might want to try to supply that password as well :-): Right now you&#39;re performing `-srcstorepass:file .kp`","body":"If you&#39;re using <code>-passin file:.kp</code> as the password, you might want to try to supply that password as well :-): Right now you&#39;re performing <code>-srcstorepass:file .kp</code>"},{"owner":{"account_id":334953,"reputation":3321,"user_id":661740,"accept_rate":58,"display_name":"Greg Dougherty"},"score":2,"creation_date":1498753532,"post_id":44830270,"comment_id":76641330,"body_markdown":"I don&#39;t understand your comment :-(","body":"I don&#39;t understand your comment :-("}],"answers":[{"tags":[],"owner":{"account_id":10591336,"reputation":3484,"user_id":7801800,"display_name":"Anshul Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498753141,"creation_date":1498753141,"answer_id":44830386,"question_id":44830270,"body_markdown":"I have got this sorted out. I was using my password that is &#39;password&#39; to update cacerts keystore in JDK while default password for cacerts keystore is &#39;changeit&#39;","title":"keytool error: java.io.IOException: keystore password was incorrect","body":"<p>I have got this sorted out. I was using my password that is 'password' to update cacerts keystore in JDK while default password for cacerts keystore is 'changeit'</p>\n"},{"tags":[],"owner":{"account_id":334953,"reputation":3321,"user_id":661740,"accept_rate":58,"display_name":"Greg Dougherty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1498770608,"creation_date":1498755385,"answer_id":44831006,"question_id":44830270,"body_markdown":"Ok, so I have an answer.\r\n\r\n1: I had a non-ASCII character in the password.  openssl can handle that, keypass can&#39;t.\r\n\r\n2: Having created the private key with the non-ASCII password, I&#39;m stuck with it, so I renamed that file .kpkey, and created a new .kp file with a pure ASCII password\r\n\r\n3: This required a change to 5:C:\r\n\r\n    openssl pkcs12 -export -in mike_ike_com.cer -inkey mike.privateKey.pass.pem -passin file:.kpkey -out mike_ike.p12 -name tomcat -caname root -chain -CAfile Comodo.root.crt \r\n\r\nNote: when it asks &quot;Enter Export Password&quot; I give it the pw from .kp, NOT from .kpkey . The only change is **-passin file:.kpkey**\r\n\r\nEverything else remains the same, and works","title":"keytool error: java.io.IOException: keystore password was incorrect","body":"<p>Ok, so I have an answer.</p>\n\n<p>1: I had a non-ASCII character in the password.  openssl can handle that, keypass can't.</p>\n\n<p>2: Having created the private key with the non-ASCII password, I'm stuck with it, so I renamed that file .kpkey, and created a new .kp file with a pure ASCII password</p>\n\n<p>3: This required a change to 5:C:</p>\n\n<pre><code>openssl pkcs12 -export -in mike_ike_com.cer -inkey mike.privateKey.pass.pem -passin file:.kpkey -out mike_ike.p12 -name tomcat -caname root -chain -CAfile Comodo.root.crt \n</code></pre>\n\n<p>Note: when it asks \"Enter Export Password\" I give it the pw from .kp, NOT from .kpkey . The only change is <strong>-passin file:.kpkey</strong></p>\n\n<p>Everything else remains the same, and works</p>\n"},{"tags":[],"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644579721,"creation_date":1644579721,"answer_id":71079543,"question_id":44830270,"body_markdown":"I would like to add another possible cause:\r\n\r\nThis error message can be misleading because it also occurs when the keystore is in an unsupported format.","title":"keytool error: java.io.IOException: keystore password was incorrect","body":"<p>I would like to add another possible cause:</p>\n<p>This error message can be misleading because it also occurs when the keystore is in an unsupported format.</p>\n"},{"tags":[],"owner":{"account_id":208697,"reputation":526,"user_id":459349,"accept_rate":50,"display_name":"mahler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671015302,"creation_date":1671015302,"answer_id":74797128,"question_id":44830270,"body_markdown":"In our situation the Application Server was not opening the `Keystore.p12` that was supplied by the application, but the generated `KeyStore.p12` during startup. Both were in different (yet similar) paths but had different passwords.","title":"keytool error: java.io.IOException: keystore password was incorrect","body":"<p>In our situation the Application Server was not opening the <code>Keystore.p12</code> that was supplied by the application, but the generated <code>KeyStore.p12</code> during startup. Both were in different (yet similar) paths but had different passwords.</p>\n"},{"tags":[],"owner":{"account_id":22746552,"reputation":1,"user_id":16907274,"display_name":"Jonud XYMT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684670200,"creation_date":1684670200,"answer_id":76299791,"question_id":44830270,"body_markdown":"you just delete old keystore in User/upload_keystore.jsk\r\nand then reuse \r\nOn mac: \r\n\r\n    keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload\r\n\r\nOn Android: \r\n\r\n    keytool -genkey -v -keystore %userprofile%\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\r\n\r\n","title":"keytool error: java.io.IOException: keystore password was incorrect","body":"<p>you just delete old keystore in User/upload_keystore.jsk\nand then reuse\nOn mac:</p>\n<pre><code>keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload\n</code></pre>\n<p>On Android:</p>\n<pre><code>keytool -genkey -v -keystore %userprofile%\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\n</code></pre>\n"}],"owner":{"account_id":334953,"reputation":3321,"user_id":661740,"accept_rate":58,"display_name":"Greg Dougherty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35918,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44831006,"answer_count":5,"score":2,"last_activity_date":1684670200,"creation_date":1498752813,"question_id":44830270,"body_markdown":"Created a Certificate for Tomcat, trying to get it installed in new keystore, and getting error (Edit: ran it with -v option, now getting more info):\r\n\r\n    keytool error: java.io.IOException: keystore password was incorrect\r\n    java.io.IOException: keystore password was incorrect\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2015)\r\n    \tat java.security.KeyStore.load(KeyStore.java:1445)\r\n    \tat sun.security.tools.keytool.Main.loadSourceKeyStore(Main.java:1894)\r\n    \tat sun.security.tools.keytool.Main.doImportKeyStore(Main.java:1926)\r\n    \tat sun.security.tools.keytool.Main.doCommands(Main.java:1021)\r\n    \tat sun.security.tools.keytool.Main.run(Main.java:340)\r\n    \tat sun.security.tools.keytool.Main.main(Main.java:333)\r\n    Caused by: java.security.UnrecoverableKeyException: failed to decrypt safe contents entry: java.io.IOException: getSecretKey failed: Password is not ASCII\r\n\r\nSadly, it&#39;s correct, the passphrase has two &quot;&#174;&quot;.  So, given what I&#39;ve done (the private key has the non-ASCII password), how much of a pain will it be to recover from this?:\r\n\r\n    1: Create a passphrase file: vi .kp\r\n    2: Make CSR:\r\n    A: Generate a 2048 bit private key:\r\n    openssl genpkey -algorithm RSA -outform PEM -out mike.privateKey.pass.pem -pkeyopt rsa_keygen_bits:2048 -pass file:.kp\r\n    B: Make the CSR:\r\n    openssl req -new -sha256 -key mike.privateKey.pass.pem -out mike.ike.com.cert.csr\r\n    Note: CSR has different &quot;challenge password&quot; than in the passphrase file, if that matters\r\n    3: Submit CSR to Comodo\r\n    4: Get certificate file mike_ike_com.cer &amp; Comodo trust chain files: COMODORSAOrganizationValidationSecureServerCA.crt, COMODORSAAddTrustCA.crt, AddTrustExternalCARoot.crt\r\n    5: Convert the Certificates:\r\n    A: Convert to PEM:\r\n    openssl x509 -inform DER -in COMODORSAOrganizationValidationSecureServerCA.crt -out COMODORSAOrganizationValidationSecureServerCA.pem -outform PEM\r\n    openssl x509 -inform DER -in COMODORSAAddTrustCA.crt -out COMODORSAAddTrustCA.pem -outform PEM\r\n    openssl x509 -inform DER -in AddTrustExternalCARoot.crt -out AddTrustExternalCARoot.pem -outform PEM\r\n    B: Concat into a single file:\r\n    cat COMODORSAOrganizationValidationSecureServerCA.pem COMODORSAAddTrustCA.pem AddTrustExternalCARoot.pem &gt; Comodo.root.crt \r\n    C: Use openssl to create a pkcs12 file:\r\n    openssl pkcs12 -export -in mike_ike_com.cer -inkey mike.privateKey.pass.pem -passin file:.kp -out mike_ike.p12 -name tomcat -caname root -chain -CAfile Comodo.root.crt \r\n    Note: when it asks &quot;Enter Export Password&quot; I give it the pw from .kp\r\n    6: Use keytool to create the keystore file:\r\n    $JAVA_HOME/bin/keytool -importkeystore -deststorepass:file .kp -destkeypass:file .kp -destkeystore .keystore -srckeystore mike_ike.p12 -srcstoretype PKCS12 -srcstorepass:file .kp -alias tomcat\r\n\r\nThe file &quot;.keystore&quot; does not exist.  I am assuming that keytool will create it\r\n","title":"keytool error: java.io.IOException: keystore password was incorrect","body":"<p>Created a Certificate for Tomcat, trying to get it installed in new keystore, and getting error (Edit: ran it with -v option, now getting more info):</p>\n\n<pre><code>keytool error: java.io.IOException: keystore password was incorrect\njava.io.IOException: keystore password was incorrect\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2015)\n    at java.security.KeyStore.load(KeyStore.java:1445)\n    at sun.security.tools.keytool.Main.loadSourceKeyStore(Main.java:1894)\n    at sun.security.tools.keytool.Main.doImportKeyStore(Main.java:1926)\n    at sun.security.tools.keytool.Main.doCommands(Main.java:1021)\n    at sun.security.tools.keytool.Main.run(Main.java:340)\n    at sun.security.tools.keytool.Main.main(Main.java:333)\nCaused by: java.security.UnrecoverableKeyException: failed to decrypt safe contents entry: java.io.IOException: getSecretKey failed: Password is not ASCII\n</code></pre>\n\n<p>Sadly, it's correct, the passphrase has two \"\".  So, given what I've done (the private key has the non-ASCII password), how much of a pain will it be to recover from this?:</p>\n\n<pre><code>1: Create a passphrase file: vi .kp\n2: Make CSR:\nA: Generate a 2048 bit private key:\nopenssl genpkey -algorithm RSA -outform PEM -out mike.privateKey.pass.pem -pkeyopt rsa_keygen_bits:2048 -pass file:.kp\nB: Make the CSR:\nopenssl req -new -sha256 -key mike.privateKey.pass.pem -out mike.ike.com.cert.csr\nNote: CSR has different \"challenge password\" than in the passphrase file, if that matters\n3: Submit CSR to Comodo\n4: Get certificate file mike_ike_com.cer &amp; Comodo trust chain files: COMODORSAOrganizationValidationSecureServerCA.crt, COMODORSAAddTrustCA.crt, AddTrustExternalCARoot.crt\n5: Convert the Certificates:\nA: Convert to PEM:\nopenssl x509 -inform DER -in COMODORSAOrganizationValidationSecureServerCA.crt -out COMODORSAOrganizationValidationSecureServerCA.pem -outform PEM\nopenssl x509 -inform DER -in COMODORSAAddTrustCA.crt -out COMODORSAAddTrustCA.pem -outform PEM\nopenssl x509 -inform DER -in AddTrustExternalCARoot.crt -out AddTrustExternalCARoot.pem -outform PEM\nB: Concat into a single file:\ncat COMODORSAOrganizationValidationSecureServerCA.pem COMODORSAAddTrustCA.pem AddTrustExternalCARoot.pem &gt; Comodo.root.crt \nC: Use openssl to create a pkcs12 file:\nopenssl pkcs12 -export -in mike_ike_com.cer -inkey mike.privateKey.pass.pem -passin file:.kp -out mike_ike.p12 -name tomcat -caname root -chain -CAfile Comodo.root.crt \nNote: when it asks \"Enter Export Password\" I give it the pw from .kp\n6: Use keytool to create the keystore file:\n$JAVA_HOME/bin/keytool -importkeystore -deststorepass:file .kp -destkeypass:file .kp -destkeystore .keystore -srckeystore mike_ike.p12 -srcstoretype PKCS12 -srcstorepass:file .kp -alias tomcat\n</code></pre>\n\n<p>The file \".keystore\" does not exist.  I am assuming that keytool will create it</p>\n"},{"tags":["java","arrays","algorithm","sub-array"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666004200,"creation_date":1666000039,"answer_id":74095386,"question_id":74094646,"body_markdown":"# Iterative implementation\r\n\r\nHere&#39;s the algorithm for generating all non-empty subarrays of the given array iteratively:\r\n\r\n* Maintain two nested lists: one for subarrays that are in progress and the resulting list for subarrays that are already built.\r\n\r\n* At each iteration step, create a *copy* of each subarray that is still in progress and add the next element to it. Whilst the *original subarray* goes into the resulting list intact.\r\n\r\n* At the very end of the iteration, add a singleton list containing the next element into the list containing subarrays with we will continue to work, so that on the next iteration step this list would serve as a blueprint for a new subarray and immediately will go into the resulting list.\r\n\r\nThat&#39;s how it can be implemetned:\r\n\r\n    public static List&lt;List&lt;Integer&gt;&gt; getSubArrays(int[] arr) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        List&lt;List&lt;Integer&gt;&gt; inProgress = new ArrayList&lt;&gt;();\r\n        \r\n        for (int next: arr) {\r\n            List&lt;List&lt;Integer&gt;&gt; proceedWith = new ArrayList&lt;&gt;();\r\n            \r\n            for (List&lt;Integer&gt; subArray: inProgress) {\r\n                result.add(subArray); // we are done with this subarray\r\n                \r\n                List&lt;Integer&gt; copy = new ArrayList&lt;&gt;(subArray);\r\n                copy.add(next);\r\n                proceedWith.add(copy); // we should continue working with copy\r\n            }\r\n            \r\n            proceedWith.add(List.of(next)); // to avoid empty subarrays appear in the result\r\n            inProgress = proceedWith;\r\n        }\r\n        \r\n        result.addAll(inProgress);\r\n        \r\n        return result;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = {1, 2, 3};\r\n        \r\n        getSubArrays(arr).forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[1]\r\n[1, 2]\r\n[2]\r\n[1, 2, 3]\r\n[2, 3]\r\n[3]\r\n```\r\n\r\n# Recursive implementation\r\n\r\nThe main logic remains the same:\r\n\r\n* Every subarray serves as a blueprint for another subarray in case if there are some unused elements left.\r\n\r\n* Each single-element subarray produces a new branch of subarrays (if there are some unused elements left).\r\n\r\n**Base case** (the condition when recursion should terminate) - there are no elements to explore, i.e. current index is equal to array&#39;s length.\r\n\r\n**Recursive case:**\r\n* Create a copy of the subarray received as an argument and add the next element to, original subarray should go into the resulting list.\r\n\r\n* Then perform two recursive calls: one with the subarray&#39;s copy, another with a single-element subarray (containing the next element).\r\n\r\nThat&#39;s how recursive implementation might look like:\r\n\r\n    public static List&lt;List&lt;Integer&gt;&gt; getSubArraysRecursively(int[] arr) {\r\n        \r\n        if (arr.length == 0) return Collections.emptyList();\r\n        \r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; subarray = List.of(arr[0]);\r\n        generateSubArrays(result, subarray, arr, 1);\r\n        \r\n        return result;\r\n    }\r\n    \r\n    private static void generateSubArrays(List&lt;List&lt;Integer&gt;&gt; result,\r\n                                          List&lt;Integer&gt; subarray,\r\n                                          int[] arr, int i) {\r\n        \r\n        if (i == arr.length) { // base case\r\n            result.add(subarray);\r\n            return;\r\n        }\r\n        \r\n        // recursive case\r\n        result.add(subarray);\r\n\r\n        List&lt;Integer&gt; copy = new ArrayList&lt;&gt;(subarray);\r\n        copy.add(arr[i]);\r\n        \r\n        generateSubArrays(result, copy, arr, i + 1); // proceed working with the copy\r\n        \r\n        generateSubArrays(result, List.of(arr[i]), arr, i + 1); // start a new branch of subarrays\r\n    }","title":"Algorithm to generate all Subarrays from initial Array","body":"<h1>Iterative implementation</h1>\n<p>Here's the algorithm for generating all non-empty subarrays of the given array iteratively:</p>\n<ul>\n<li><p>Maintain two nested lists: one for subarrays that are in progress and the resulting list for subarrays that are already built.</p>\n</li>\n<li><p>At each iteration step, create a <em>copy</em> of each subarray that is still in progress and add the next element to it. Whilst the <em>original subarray</em> goes into the resulting list intact.</p>\n</li>\n<li><p>At the very end of the iteration, add a singleton list containing the next element into the list containing subarrays with we will continue to work, so that on the next iteration step this list would serve as a blueprint for a new subarray and immediately will go into the resulting list.</p>\n</li>\n</ul>\n<p>That's how it can be implemetned:</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; getSubArrays(int[] arr) {\n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n    List&lt;List&lt;Integer&gt;&gt; inProgress = new ArrayList&lt;&gt;();\n    \n    for (int next: arr) {\n        List&lt;List&lt;Integer&gt;&gt; proceedWith = new ArrayList&lt;&gt;();\n        \n        for (List&lt;Integer&gt; subArray: inProgress) {\n            result.add(subArray); // we are done with this subarray\n            \n            List&lt;Integer&gt; copy = new ArrayList&lt;&gt;(subArray);\n            copy.add(next);\n            proceedWith.add(copy); // we should continue working with copy\n        }\n        \n        proceedWith.add(List.of(next)); // to avoid empty subarrays appear in the result\n        inProgress = proceedWith;\n    }\n    \n    result.addAll(inProgress);\n    \n    return result;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    int[] arr = {1, 2, 3};\n    \n    getSubArrays(arr).forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1]\n[1, 2]\n[2]\n[1, 2, 3]\n[2, 3]\n[3]\n</code></pre>\n<h1>Recursive implementation</h1>\n<p>The main logic remains the same:</p>\n<ul>\n<li><p>Every subarray serves as a blueprint for another subarray in case if there are some unused elements left.</p>\n</li>\n<li><p>Each single-element subarray produces a new branch of subarrays (if there are some unused elements left).</p>\n</li>\n</ul>\n<p><strong>Base case</strong> (the condition when recursion should terminate) - there are no elements to explore, i.e. current index is equal to array's length.</p>\n<p><strong>Recursive case:</strong></p>\n<ul>\n<li><p>Create a copy of the subarray received as an argument and add the next element to, original subarray should go into the resulting list.</p>\n</li>\n<li><p>Then perform two recursive calls: one with the subarray's copy, another with a single-element subarray (containing the next element).</p>\n</li>\n</ul>\n<p>That's how recursive implementation might look like:</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; getSubArraysRecursively(int[] arr) {\n    \n    if (arr.length == 0) return Collections.emptyList();\n    \n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; subarray = List.of(arr[0]);\n    generateSubArrays(result, subarray, arr, 1);\n    \n    return result;\n}\n\nprivate static void generateSubArrays(List&lt;List&lt;Integer&gt;&gt; result,\n                                      List&lt;Integer&gt; subarray,\n                                      int[] arr, int i) {\n    \n    if (i == arr.length) { // base case\n        result.add(subarray);\n        return;\n    }\n    \n    // recursive case\n    result.add(subarray);\n\n    List&lt;Integer&gt; copy = new ArrayList&lt;&gt;(subarray);\n    copy.add(arr[i]);\n    \n    generateSubArrays(result, copy, arr, i + 1); // proceed working with the copy\n    \n    generateSubArrays(result, List.of(arr[i]), arr, i + 1); // start a new branch of subarrays\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666021858,"creation_date":1666000090,"answer_id":74095399,"question_id":74094646,"body_markdown":"[`List#subList`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-)\r\n--\r\n\r\nYou can do it with simple nested loops, a counter and some functions e.g. `Math#min`, `List#subList` etc. as shown below:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            int[] arr = { 1, 1, 1, 1 };\r\n            List&lt;Integer&gt; list = Arrays.stream(arr).boxed().toList();\r\n            List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n            int counter = 1;\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                for (int j = 0; j &lt; arr.length; j++) {\r\n                    List&lt;Integer&gt; sublist = list.subList(j, Math.min(j + counter, arr.length));\r\n                    if (sublist.size() == counter)\r\n                        result.add(sublist);\r\n                }\r\n                counter++;\r\n            }\r\n    \r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    [[1], [1], [1], [1], [1, 1], [1, 1], [1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1, 1]]","title":"Algorithm to generate all Subarrays from initial Array","body":"<h2><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-\" rel=\"nofollow noreferrer\"><code>List#subList</code></a></h2>\n<p>You can do it with simple nested loops, a counter and some functions e.g. <code>Math#min</code>, <code>List#subList</code> etc. as shown below:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String args[]) {\n        int[] arr = { 1, 1, 1, 1 };\n        List&lt;Integer&gt; list = Arrays.stream(arr).boxed().toList();\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        int counter = 1;\n        for (int i = 0; i &lt; arr.length; i++) {\n            for (int j = 0; j &lt; arr.length; j++) {\n                List&lt;Integer&gt; sublist = list.subList(j, Math.min(j + counter, arr.length));\n                if (sublist.size() == counter)\n                    result.add(sublist);\n            }\n            counter++;\n        }\n\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>[[1], [1], [1], [1], [1, 1], [1, 1], [1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1, 1]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28647031,"reputation":11,"user_id":21934815,"display_name":"Umesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684669877,"creation_date":1684669796,"answer_id":76299770,"question_id":74094646,"body_markdown":"Using List and stream we can get all SubArrays from an array.\r\n\r\n    public static void listSubArrays() {\r\n        int[] array = new int[] {1, 2, 3};\r\n        List&lt;List&lt;Integer&gt;&gt; subArrays = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; list =\r\n                Arrays.stream(array).boxed().collect(Collectors.toList());\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            for (int j = i; j &lt; array.length; j++){\r\n                subArrays.add(list.subList(i, j+1));\r\n            }\r\n        }\r\n        subArrays.stream().forEach(System.out::println);\r\n    }\r\n\r\n","title":"Algorithm to generate all Subarrays from initial Array","body":"<p>Using List and stream we can get all SubArrays from an array.</p>\n<pre><code>public static void listSubArrays() {\n    int[] array = new int[] {1, 2, 3};\n    List&lt;List&lt;Integer&gt;&gt; subArrays = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; list =\n            Arrays.stream(array).boxed().collect(Collectors.toList());\n    for (int i = 0; i &lt; array.length; i++) {\n        for (int j = i; j &lt; array.length; j++){\n            subArrays.add(list.subList(i, j+1));\n        }\n    }\n    subArrays.stream().forEach(System.out::println);\n}\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74095386,"answer_count":3,"score":1,"last_activity_date":1684669877,"creation_date":1665996275,"question_id":74094646,"body_markdown":"How to generate all subarrays from an initial array?\r\n\r\nLet&#39;s consider an array: `[1,1,1,1]`.\r\n\r\nI would like to generate all possible subarrays (in no particular order).\r\n\r\n*Expected result:*\r\n\r\n```\r\n[1], [1], [1], [1], \r\n[1, 1], [1, 1], [1, 1],\r\n[1, 1, 1], [1, 1, 1],\r\n[1, 1, 1, 1]\r\n```\r\n\r\n*My attempt:*\r\n\r\n```\r\nList&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\ngenerateAllSubArrays(nums, list, 0, 0);\r\n```\r\n```\r\nprivate void generateAllSubArrays(int[] nums, List&lt;List&lt;Integer&gt;&gt; list, int start, int end) {\r\n    if (end == nums.length) {\r\n        List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n        for (int n : nums) {\r\n            l.add(n);\r\n        }\r\n        list.add(l);\r\n    } else if (start &gt; end) {\r\n        generateAllSubArrays(nums, list, 0, end + 1);\r\n    } else {\r\n        List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n        for (int i = start; i &lt; end; i++) {\r\n            l.add(nums[i]);\r\n        }\r\n        list.add(l);\r\n        generateAllSubArrays(nums, list, start + 1, end);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m getting the following result:\r\n\r\n```\r\n[[], [1], [], [1, 1], [1], [], [1, 1, 1], [1, 1], [1], [], [1, 1, 1, 1]]\r\n```\r\n\r\n*Issues:*\r\n* Some empty lists `[]` are present in the result (which is undesired). Unfortunately, I failed to understand why they are here.\r\n\r\n* Some of the expected values are absent, making the result incorrect.\r\n\r\nWhat did I do wrong, and what should I do in order to get the correct computation?\r\n\r\nI believe what I tried is using some sort of recursion, increasing space and time complexity. What would be the algorithm with the best space and time complexity?","title":"Algorithm to generate all Subarrays from initial Array","body":"<p>How to generate all subarrays from an initial array?</p>\n<p>Let's consider an array: <code>[1,1,1,1]</code>.</p>\n<p>I would like to generate all possible subarrays (in no particular order).</p>\n<p><em>Expected result:</em></p>\n<pre><code>[1], [1], [1], [1], \n[1, 1], [1, 1], [1, 1],\n[1, 1, 1], [1, 1, 1],\n[1, 1, 1, 1]\n</code></pre>\n<p><em>My attempt:</em></p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\ngenerateAllSubArrays(nums, list, 0, 0);\n</code></pre>\n<pre><code>private void generateAllSubArrays(int[] nums, List&lt;List&lt;Integer&gt;&gt; list, int start, int end) {\n    if (end == nums.length) {\n        List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n        for (int n : nums) {\n            l.add(n);\n        }\n        list.add(l);\n    } else if (start &gt; end) {\n        generateAllSubArrays(nums, list, 0, end + 1);\n    } else {\n        List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n        for (int i = start; i &lt; end; i++) {\n            l.add(nums[i]);\n        }\n        list.add(l);\n        generateAllSubArrays(nums, list, start + 1, end);\n    }\n}\n</code></pre>\n<p>I'm getting the following result:</p>\n<pre><code>[[], [1], [], [1, 1], [1], [], [1, 1, 1], [1, 1], [1], [], [1, 1, 1, 1]]\n</code></pre>\n<p><em>Issues:</em></p>\n<ul>\n<li><p>Some empty lists <code>[]</code> are present in the result (which is undesired). Unfortunately, I failed to understand why they are here.</p>\n</li>\n<li><p>Some of the expected values are absent, making the result incorrect.</p>\n</li>\n</ul>\n<p>What did I do wrong, and what should I do in order to get the correct computation?</p>\n<p>I believe what I tried is using some sort of recursion, increasing space and time complexity. What would be the algorithm with the best space and time complexity?</p>\n"},{"tags":["java","android","bottom-sheet","bottom-sheet-behavior"],"comments":[{"owner":{"account_id":14181822,"reputation":1769,"user_id":10245125,"display_name":"mohammadReza Abiri"},"score":0,"creation_date":1573795207,"post_id":58870631,"comment_id":104009885,"body_markdown":"post your code!","body":"post your code!"},{"owner":{"account_id":3739449,"reputation":4187,"user_id":3109549,"accept_rate":87,"display_name":"Trn c T&#226;m"},"score":0,"creation_date":1573796165,"post_id":58870631,"comment_id":104010111,"body_markdown":"Could you prepare some picture that so your idea? Maybe that could help.","body":"Could you prepare some picture that so your idea? Maybe that could help."},{"owner":{"account_id":17104160,"reputation":21,"user_id":12376566,"display_name":"Rocks123"},"score":0,"creation_date":1573796329,"post_id":58870631,"comment_id":104010154,"body_markdown":"@TrncT&#226;m I already posted an image","body":"@TrncT&#226;m I already posted an image"},{"owner":{"account_id":14181822,"reputation":1769,"user_id":10245125,"display_name":"mohammadReza Abiri"},"score":0,"creation_date":1573797227,"post_id":58870631,"comment_id":104010401,"body_markdown":"post your xml file too","body":"post your xml file too"},{"owner":{"account_id":3739449,"reputation":4187,"user_id":3109549,"accept_rate":87,"display_name":"Trn c T&#226;m"},"score":0,"creation_date":1573797538,"post_id":58870631,"comment_id":104010490,"body_markdown":"I guest you problem is you set the peek height before the CordinatorLayout done it measure task. Let try the `post` method of the view. https://stackoverflow.com/questions/13840007/what-exactly-does-the-post-method-do","body":"I guest you problem is you set the peek height before the CordinatorLayout done it measure task. Let try the <code>post</code> method of the view. <a href=\"https://stackoverflow.com/questions/13840007/what-exactly-does-the-post-method-do\" title=\"what exactly does the post method do\">stackoverflow.com/questions/13840007/&hellip;</a>"},{"owner":{"account_id":17104160,"reputation":21,"user_id":12376566,"display_name":"Rocks123"},"score":0,"creation_date":1573797702,"post_id":58870631,"comment_id":104010560,"body_markdown":"@TrncT&#226;m I&#39;ve tried with the post method, but it hasnt worked","body":"@TrncT&#226;m I&#39;ve tried with the post method, but it hasnt worked"}],"answers":[{"tags":[],"owner":{"account_id":7556619,"reputation":349,"user_id":5735993,"display_name":"Saeid Mohammadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684667883,"creation_date":1684667883,"answer_id":76299636,"question_id":58870631,"body_markdown":"You can set the peek height of a BottomSheet to a specific view using the setPeekHeight method of the BottomSheetBehavior class. Here&#39;s an example:\r\n\r\n    ViewTreeObserver vto = target_view.getViewTreeObserver();\r\n        vto.addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\r\n            @Override\r\n            public void onGlobalLayout() {\r\n                target_view.getViewTreeObserver().removeOnGlobalLayoutListener(this);\r\n\r\n                // Get the height of the target view from the top of its parent view\r\n                int targetViewHeight = target_view.getTop();\r\n                // Set the peek height of the BottomSheet to the height of the target view\r\n                bottomSheetBehavior.setPeekHeight(targetViewHeight);\r\n                // Set the state of the BottomSheet to collapsed\r\n                bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\r\n\r\n            }\r\n        });\r\n\r\n","title":"How to set the bottomsheet peek height to below a view?","body":"<p>You can set the peek height of a BottomSheet to a specific view using the setPeekHeight method of the BottomSheetBehavior class. Here's an example:</p>\n<pre><code>ViewTreeObserver vto = target_view.getViewTreeObserver();\n    vto.addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n        @Override\n        public void onGlobalLayout() {\n            target_view.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n\n            // Get the height of the target view from the top of its parent view\n            int targetViewHeight = target_view.getTop();\n            // Set the peek height of the BottomSheet to the height of the target view\n            bottomSheetBehavior.setPeekHeight(targetViewHeight);\n            // Set the state of the BottomSheet to collapsed\n            bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\n\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":17104160,"reputation":21,"user_id":12376566,"display_name":"Rocks123"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684669256,"creation_date":1573794396,"question_id":58870631,"body_markdown":"I have a `bottomsheet behavior` in a `linear layout`. I need to set the `peak height` of the `bottom sheet` to below this `button`, so it works great on all screens instead of giving a constant value.\r\n\r\nThe `bottom sheet` is inside a `CoordinatorLayout` that has that weird transparent big space. I want the sheet to fill up that space    \r\nThe rounded bottom sheet&#39;s `peak height` should match up to below the Fireworks text\r\n\r\n![][1] \r\n  \r\nI have tried with `setPeekHeight(ContainerOfBottomSheet.getMeasuredHeight());` but it seems to return 0 or an extremely big value.\r\nHow can I do that?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bQxkE.png\r\n\r\n**UPDATE**    \r\nThis is my code:\r\n\r\n```java\r\n    private void SettingSheet(LinearLayout sheet, final CoordinatorLayout c) {\r\n      final BottomSheetBehavior beh = BottomSheetBehavior.from(sheet);\r\n        \r\n      c.measure(ActionBar.LayoutParams.WRAP_CONTENT, ActionBar.LayoutParams.WRAP_CONTENT);\r\n      CHeight = c.getMeasuredHeight();\r\n        \r\n      beh.setPeekHeight(CHeight);\r\n            }\r\n ```   \r\n//This is making the big value I have talked about.","title":"How to set the bottomsheet peek height to below a view?","body":"<p>I have a <code>bottomsheet behavior</code> in a <code>linear layout</code>. I need to set the <code>peak height</code> of the <code>bottom sheet</code> to below this <code>button</code>, so it works great on all screens instead of giving a constant value.</p>\n<p>The <code>bottom sheet</code> is inside a <code>CoordinatorLayout</code> that has that weird transparent big space. I want the sheet to fill up that space<br />\nThe rounded bottom sheet's <code>peak height</code> should match up to below the Fireworks text</p>\n<p><img src=\"https://i.stack.imgur.com/bQxkE.png\" alt=\"\" /></p>\n<p>I have tried with <code>setPeekHeight(ContainerOfBottomSheet.getMeasuredHeight());</code> but it seems to return 0 or an extremely big value.\nHow can I do that?</p>\n<p><strong>UPDATE</strong><br />\nThis is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void SettingSheet(LinearLayout sheet, final CoordinatorLayout c) {\n      final BottomSheetBehavior beh = BottomSheetBehavior.from(sheet);\n        \n      c.measure(ActionBar.LayoutParams.WRAP_CONTENT, ActionBar.LayoutParams.WRAP_CONTENT);\n      CHeight = c.getMeasuredHeight();\n        \n      beh.setPeekHeight(CHeight);\n            }\n</code></pre>\n<p>//This is making the big value I have talked about.</p>\n"},{"tags":["java","asynchttpclient"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1682197507,"post_id":75766485,"comment_id":134178358,"body_markdown":"This is an HTTP client, not a REST client.  Try okhttp, which allows construction of an url instead or jax-rs","body":"This is an HTTP client, not a REST client.  Try okhttp, which allows construction of an url instead or jax-rs"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1682197858,"post_id":75766485,"comment_id":134178383,"body_markdown":"or just `setUrl(v3_USER_DETAILS.replace(&quot;{userId}&quot;, userId))`","body":"or just <code>setUrl(v3_USER_DETAILS.replace(&quot;{userId}&quot;, userId))</code>"}],"answers":[{"tags":[],"owner":{"account_id":25167589,"reputation":340,"user_id":19010882,"display_name":"Prectron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684667834,"creation_date":1684667834,"answer_id":76299630,"question_id":75766485,"body_markdown":"I checked out the library&#39;s code, and it looks like it doesn&#39;t support inserting path parameters into URLs. You can easily add a query parameter using `addQueryParam(String name, String value)`, but there is no method to insert a path parameter as in your example. You have to prepare the whole path part another way, for example, using `String::replace()` as suggested in a comment.","title":"How to set a path parameter using the AsyncHttpClient library","body":"<p>I checked out the library's code, and it looks like it doesn't support inserting path parameters into URLs. You can easily add a query parameter using <code>addQueryParam(String name, String value)</code>, but there is no method to insert a path parameter as in your example. You have to prepare the whole path part another way, for example, using <code>String::replace()</code> as suggested in a comment.</p>\n"}],"owner":{"account_id":5129437,"reputation":401,"user_id":4110174,"accept_rate":60,"display_name":"Bharat Bhagat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76299630,"answer_count":1,"score":2,"last_activity_date":1684667834,"creation_date":1679048791,"question_id":75766485,"body_markdown":"I am using [AsyncHttpClient][1] for making HTTP calls. I am unable to find a solution to set a path parameter in a URL. Here is an example:\r\n```\r\nuserId = &quot;dmsask121&quot;\r\nString v3_USER_DETAILS = &quot;http://example.com/users/{userId}/details&quot;;\r\nRequest request = new RequestBuilder(HttpConstants.Methods.GET)\r\n        .setUrl(v3_USER_DETAILS)\r\n        // some way to set userId in the URL??\r\n        .build();\r\nreturn execute(request)\r\n```\r\n\r\nThanks in advance for your help.\r\n\r\n\r\n  [1]: https://github.com/AsyncHttpClient/async-http-client","title":"How to set a path parameter using the AsyncHttpClient library","body":"<p>I am using <a href=\"https://github.com/AsyncHttpClient/async-http-client\" rel=\"nofollow noreferrer\">AsyncHttpClient</a> for making HTTP calls. I am unable to find a solution to set a path parameter in a URL. Here is an example:</p>\n<pre><code>userId = &quot;dmsask121&quot;\nString v3_USER_DETAILS = &quot;http://example.com/users/{userId}/details&quot;;\nRequest request = new RequestBuilder(HttpConstants.Methods.GET)\n        .setUrl(v3_USER_DETAILS)\n        // some way to set userId in the URL??\n        .build();\nreturn execute(request)\n</code></pre>\n<p>Thanks in advance for your help.</p>\n"},{"tags":["java","gradle","minecraft-fabric","socket.io-java-client"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1684796439,"post_id":76299562,"comment_id":134566387,"body_markdown":"Java can&#39;t find io.socket.client.IO because it&#39;s not installed anywhere in your mod or in Minecraft apparently","body":"Java can&#39;t find io.socket.client.IO because it&#39;s not installed anywhere in your mod or in Minecraft apparently"}],"owner":{"account_id":27378912,"reputation":16,"user_id":20883793,"display_name":"DinoFeng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684667265,"creation_date":1684667265,"question_id":76299562,"body_markdown":"I&#39;m trying to use websocket.io-client java for my minecraft fabric mods so i added this code in my build.gradle file\r\n```\r\ndependencies {\r\n    // other implementation\r\n    implementation &#39;org.json:json:20211205&#39;\r\n    implementation (&#39;io.socket:engine.io-client:2.1.0&#39;) {\r\n        // excluding org.json which is provided by Android\r\n        exclude group: &#39;org.json&#39;, module: &#39;json&#39;\r\n    }\r\n    // Socket IO\r\n    implementation (&#39;io.socket:socket.io-client:2.1.0&#39;) {\r\n        // excluding org.json which is provided by Android\r\n        exclude group: &#39;org.json&#39;, module: &#39;json&#39;\r\n    }\r\n}\r\n```\r\n\r\nand its work well in my IDE. But after i built the mod and add it into my launcher, it crashed for \r\n```\r\njava.lang.RuntimeException: Could not execute entrypoint stage &#39;main&#39; due to errors, provided by &#39;cloudchat&#39;!\r\n\tat net.fabricmc.loader.impl.entrypoint.EntrypointUtils.lambda$invoke0$0(EntrypointUtils.java:51)\r\n\tat net.fabricmc.loader.impl.util.ExceptionUtil.gatherExceptions(ExceptionUtil.java:33)\r\n\tat net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:49)\r\n\tat net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke(EntrypointUtils.java:35)\r\n\tat net.fabricmc.loader.impl.game.minecraft.Hooks.startClient(Hooks.java:52)\r\n\tat net.minecraft.class_310.&lt;init&gt;(class_310.java:468)\r\n\tat net.minecraft.client.main.Main.main(Main.java:198)\r\n\tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:462)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.multimc.onesix.OneSixLauncher.launchWithMainClass(OneSixLauncher.java:210)\r\n\tat org.multimc.onesix.OneSixLauncher.launch(OneSixLauncher.java:245)\r\n\tat org.multimc.EntryPoint.listen(EntryPoint.java:143)\r\n\tat org.multimc.EntryPoint.main(EntryPoint.java:34)\r\n\tSuppressed: java.lang.BootstrapMethodError: java.lang.RuntimeException: Mixin transformation of net.minecraft.class_634 failed\r\n\t\tat de.keksuccino.fancymenu.networking.Packets.registerAll(Packets.java:25)\r\n\t\tat de.keksuccino.fancymenu.FancyMenu.onInitialize(FancyMenu.java:154)\r\n\t\tat net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:47)\r\n\t\t... 15 more\r\n\tCaused by: java.lang.RuntimeException: Mixin transformation of net.minecraft.class_634 failed\r\n\t\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:427)\r\n\t\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323)\r\n\t\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218)\r\n\t\tat net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t\t... 18 more\r\n\tCaused by: org.spongepowered.asm.mixin.transformer.throwables.MixinTransformerError: An unexpected critical error was encountered\r\n\t\tat org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:392)\r\n\t\tat org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234)\r\n\t\tat org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202)\r\n\t\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422)\r\n\t\t... 22 more\r\n\tCaused by: org.spongepowered.asm.mixin.transformer.throwables.MixinPreProcessorException: Attach error for CloudChat.mixins.json:ChatMixin from mod cloudchat during activity: [Transform -&gt; Method onSendChatMessage(Ljava/lang/String;Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;)V -&gt; INVOKEVIRTUAL -&gt; io/socket/client/Socket::disconnect:()Lio/socket/client/Socket;]\r\n\t\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:313)\r\n\t\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.createContextFor(MixinPreProcessorStandard.java:277)\r\n\t\tat org.spongepowered.asm.mixin.transformer.MixinInfo.createContextFor(MixinInfo.java:1289)\r\n\t\tat org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:294)\r\n\t\tat org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421)\r\n\t\tat org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403)\r\n\t\tat org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363)\r\n\t\t... 25 more\r\n\tCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: io.socket.client.Socket\r\n\t\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.transformMemberReference(MixinPreProcessorStandard.java:786)\r\n\t\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.transformMethod(MixinPreProcessorStandard.java:772)\r\n\t\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.transform(MixinPreProcessorStandard.java:738)\r\n\t\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:307)\r\n\t\t... 31 more\r\n\tCaused by: java.lang.ClassNotFoundException: io.socket.client.Socket\r\n\t\t... 35 more\r\nCaused by: java.lang.NoClassDefFoundError: io/socket/client/IO\r\n\tat dev.dinofeng.cloudchat.socket.SocketConnection.connect(SocketConnection.java:18)\r\n\tat dev.dinofeng.cloudchat.socket.SocketConnection.&lt;init&gt;(SocketConnection.java:14)\r\n\tat dev.dinofeng.cloudchat.CloudChat.initClient(CloudChat.java:44)\r\n\tat dev.dinofeng.cloudchat.CloudChatInitializer.onInitialize(CloudChatInitializer.java:16)\r\n\tat net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:47)\r\n\t... 15 more\r\nCaused by: java.lang.ClassNotFoundException: io.socket.client.IO\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:226)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 20 more\r\n\r\n\r\nA detailed walkthrough of the error, its code path and all known details is as follows:\r\n---------------------------------------------------------------------------------------\r\n```\r\n\r\n\r\nI had tried to download the source and put it into src/main/java but seems not working.\r\nHow to fix it?","title":"How to fix socket.io-java-client not work properly in fabric mods","body":"<p>I'm trying to use websocket.io-client java for my minecraft fabric mods so i added this code in my build.gradle file</p>\n<pre><code>dependencies {\n    // other implementation\n    implementation 'org.json:json:20211205'\n    implementation ('io.socket:engine.io-client:2.1.0') {\n        // excluding org.json which is provided by Android\n        exclude group: 'org.json', module: 'json'\n    }\n    // Socket IO\n    implementation ('io.socket:socket.io-client:2.1.0') {\n        // excluding org.json which is provided by Android\n        exclude group: 'org.json', module: 'json'\n    }\n}\n</code></pre>\n<p>and its work well in my IDE. But after i built the mod and add it into my launcher, it crashed for</p>\n<pre><code>java.lang.RuntimeException: Could not execute entrypoint stage 'main' due to errors, provided by 'cloudchat'!\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.lambda$invoke0$0(EntrypointUtils.java:51)\n    at net.fabricmc.loader.impl.util.ExceptionUtil.gatherExceptions(ExceptionUtil.java:33)\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:49)\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke(EntrypointUtils.java:35)\n    at net.fabricmc.loader.impl.game.minecraft.Hooks.startClient(Hooks.java:52)\n    at net.minecraft.class_310.&lt;init&gt;(class_310.java:468)\n    at net.minecraft.client.main.Main.main(Main.java:198)\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:462)\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\n    at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.multimc.onesix.OneSixLauncher.launchWithMainClass(OneSixLauncher.java:210)\n    at org.multimc.onesix.OneSixLauncher.launch(OneSixLauncher.java:245)\n    at org.multimc.EntryPoint.listen(EntryPoint.java:143)\n    at org.multimc.EntryPoint.main(EntryPoint.java:34)\n    Suppressed: java.lang.BootstrapMethodError: java.lang.RuntimeException: Mixin transformation of net.minecraft.class_634 failed\n        at de.keksuccino.fancymenu.networking.Packets.registerAll(Packets.java:25)\n        at de.keksuccino.fancymenu.FancyMenu.onInitialize(FancyMenu.java:154)\n        at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:47)\n        ... 15 more\n    Caused by: java.lang.RuntimeException: Mixin transformation of net.minecraft.class_634 failed\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:427)\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323)\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218)\n        at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 18 more\n    Caused by: org.spongepowered.asm.mixin.transformer.throwables.MixinTransformerError: An unexpected critical error was encountered\n        at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:392)\n        at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234)\n        at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202)\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422)\n        ... 22 more\n    Caused by: org.spongepowered.asm.mixin.transformer.throwables.MixinPreProcessorException: Attach error for CloudChat.mixins.json:ChatMixin from mod cloudchat during activity: [Transform -&gt; Method onSendChatMessage(Ljava/lang/String;Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;)V -&gt; INVOKEVIRTUAL -&gt; io/socket/client/Socket::disconnect:()Lio/socket/client/Socket;]\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:313)\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.createContextFor(MixinPreProcessorStandard.java:277)\n        at org.spongepowered.asm.mixin.transformer.MixinInfo.createContextFor(MixinInfo.java:1289)\n        at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:294)\n        at org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421)\n        at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403)\n        at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363)\n        ... 25 more\n    Caused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: io.socket.client.Socket\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.transformMemberReference(MixinPreProcessorStandard.java:786)\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.transformMethod(MixinPreProcessorStandard.java:772)\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.transform(MixinPreProcessorStandard.java:738)\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:307)\n        ... 31 more\n    Caused by: java.lang.ClassNotFoundException: io.socket.client.Socket\n        ... 35 more\nCaused by: java.lang.NoClassDefFoundError: io/socket/client/IO\n    at dev.dinofeng.cloudchat.socket.SocketConnection.connect(SocketConnection.java:18)\n    at dev.dinofeng.cloudchat.socket.SocketConnection.&lt;init&gt;(SocketConnection.java:14)\n    at dev.dinofeng.cloudchat.CloudChat.initClient(CloudChat.java:44)\n    at dev.dinofeng.cloudchat.CloudChatInitializer.onInitialize(CloudChatInitializer.java:16)\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:47)\n    ... 15 more\nCaused by: java.lang.ClassNotFoundException: io.socket.client.IO\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:226)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 20 more\n\n\nA detailed walkthrough of the error, its code path and all known details is as follows:\n---------------------------------------------------------------------------------------\n</code></pre>\n<p>I had tried to download the source and put it into src/main/java but seems not working.\nHow to fix it?</p>\n"},{"tags":["java","node.js","docker","docker-compose","dockerfile"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1584646661,"post_id":60763945,"comment_id":107508108,"body_markdown":"What have you researched so far?","body":"What have you researched so far?"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1584646821,"post_id":60763945,"comment_id":107508176,"body_markdown":"Besides @Thorbj&#248;rnRavnAndersen &#39;s comment, I would urge you to consider using two different docker containers.  One for your node.js application and one for your Elastic Search storage.  It looks like you&#39;re doing that with your Mongo container...  Btw, there should be Elastic Search containers already out there to use, but if you want to install it yourself, use one of the OpenJDK containers and then install Elastic Search on that container.","body":"Besides @Thorbj&#248;rnRavnAndersen &#39;s comment, I would urge you to consider using two different docker containers.  One for your node.js application and one for your Elastic Search storage.  It looks like you&#39;re doing that with your Mongo container...  Btw, there should be Elastic Search containers already out there to use, but if you want to install it yourself, use one of the OpenJDK containers and then install Elastic Search on that container."},{"owner":{"account_id":93029,"reputation":1491,"user_id":254694,"accept_rate":64,"display_name":"user254694"},"score":0,"creation_date":1584692938,"post_id":60763945,"comment_id":107519921,"body_markdown":"I would look at this https://stackoverflow.com/questions/49800652/run-java-in-docker-compose.","body":"I would look at this <a href=\"https://stackoverflow.com/questions/49800652/run-java-in-docker-compose\" title=\"run java in docker compose\">stackoverflow.com/questions/49800652/run-java-in-docker-comp&zwnj;&#8203;ose</a>."}],"answers":[{"tags":[],"owner":{"account_id":8468834,"reputation":460,"user_id":7216403,"accept_rate":0,"display_name":"D. Richard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584647277,"creation_date":1584647277,"answer_id":60764093,"question_id":60763945,"body_markdown":"Docker-compose is a tool used to launch multiple containers from a single .yaml file. \r\n\r\nAdd this line to your Dockerfile to install Java:\r\n\r\n    RUN apt-get update &amp;&amp; \\\r\n    apt-get install -y openjdk-8-jdk &amp;&amp; \\\r\n    apt-get install -y ant &amp;&amp; \\\r\n    apt-get clean;\r\n","title":"How to install java using docker compose?","body":"<p>Docker-compose is a tool used to launch multiple containers from a single .yaml file. </p>\n\n<p>Add this line to your Dockerfile to install Java:</p>\n\n<pre><code>RUN apt-get update &amp;&amp; \\\napt-get install -y openjdk-8-jdk &amp;&amp; \\\napt-get install -y ant &amp;&amp; \\\napt-get clean;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2671389,"reputation":91,"user_id":2308728,"display_name":"user2308728"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684666562,"creation_date":1684666562,"answer_id":76299516,"question_id":60763945,"body_markdown":"Just add directive **command** see example. my base image is alpine. Now i am starting my image with composer and installing java. This working for me\r\n\r\n&gt; command: apk add --update openjdk11\r\n\r\n    ---\r\n    \r\n    networks:\r\n      imaspc:\r\n        external: true\r\n    \r\n    services:\r\n      hello_world:\r\n        image: test1:latest\r\n        container_name: test1\r\n        hostname: test1\r\n        tty: true\r\n        env_file:\r\n          - postgr.env\r\n        command: apk add --update openjdk11\r\n        networks:\r\n          - imaspc\r\n        labels:\r\n            - &quot;dbengine=postgres&quot;\r\n            - &quot;dbversion=14&quot;\r\n\r\n","title":"How to install java using docker compose?","body":"<p>Just add directive <strong>command</strong> see example. my base image is alpine. Now i am starting my image with composer and installing java. This working for me</p>\n<blockquote>\n<p>command: apk add --update openjdk11</p>\n</blockquote>\n<pre><code>---\n\nnetworks:\n  imaspc:\n    external: true\n\nservices:\n  hello_world:\n    image: test1:latest\n    container_name: test1\n    hostname: test1\n    tty: true\n    env_file:\n      - postgr.env\n    command: apk add --update openjdk11\n    networks:\n      - imaspc\n    labels:\n        - &quot;dbengine=postgres&quot;\n        - &quot;dbversion=14&quot;\n</code></pre>\n"}],"owner":{"account_id":17183202,"reputation":51,"user_id":12438317,"display_name":"pradip kundu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4114,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1684666562,"creation_date":1584646543,"question_id":60763945,"body_markdown":"I am building an node mongo project.\r\nI am using docker compose for the project.\r\nhere is my dockerFile\r\n\r\n    FROM node:carbon\r\n    WORKDIR /usr/src/app\r\n    COPY package*.json ./\r\n    RUN npm install\r\n    COPY . .\r\n    EXPOSE 8080\r\n    CMD [ &quot;npm&quot;, &quot;start&quot; ]\r\n\r\nHere is docker-compose.yml\r\n\r\n    version: &quot;2&quot;\r\n    services:\r\n      app:\r\n        container_name: app\r\n        restart: always\r\n        build: .\r\n        ports:\r\n          - &quot;3000:3000&quot;\r\n        links:\r\n          - mongo\r\n      mongo:\r\n        container_name: mongo\r\n        image: mongo\r\n        volumes:\r\n          - ./data:/data/db\r\n        ports:\r\n          - &quot;27017:27017&quot;\r\n\r\nHere I also want to install java using docker-compose. As I will need java for elastic search and for other purposes. So can any one help about how to install java using docker-compose in this project.\r\n\r\n\r\n\r\n","title":"How to install java using docker compose?","body":"<p>I am building an node mongo project.\nI am using docker compose for the project.\nhere is my dockerFile</p>\n\n<pre><code>FROM node:carbon\nWORKDIR /usr/src/app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 8080\nCMD [ \"npm\", \"start\" ]\n</code></pre>\n\n<p>Here is docker-compose.yml</p>\n\n<pre><code>version: \"2\"\nservices:\n  app:\n    container_name: app\n    restart: always\n    build: .\n    ports:\n      - \"3000:3000\"\n    links:\n      - mongo\n  mongo:\n    container_name: mongo\n    image: mongo\n    volumes:\n      - ./data:/data/db\n    ports:\n      - \"27017:27017\"\n</code></pre>\n\n<p>Here I also want to install java using docker-compose. As I will need java for elastic search and for other purposes. So can any one help about how to install java using docker-compose in this project.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1292662,"reputation":8228,"user_id":1244442,"accept_rate":79,"display_name":"Swapnil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581144501,"creation_date":1581144501,"answer_id":60124589,"question_id":60124547,"body_markdown":"The problem is this piece of code -\r\n\r\n    int lotteryDigit1 = lottery % 100;\r\n\r\nFor `lottery` = 554, `lotteryDigit1` will be set to 54. Similarly, `guessDigit1` is set to 42. Instead, lottery % 10 should give you the least significant digit here.\r\n\r\nNote - It&#39;s probably easy to figure out this flaw easily in this case, but learning how to use a debugger will help you in similar issues in future.","title":"Three-Digit Lottery","body":"<p>The problem is this piece of code -</p>\n\n<pre><code>int lotteryDigit1 = lottery % 100;\n</code></pre>\n\n<p>For <code>lottery</code> = 554, <code>lotteryDigit1</code> will be set to 54. Similarly, <code>guessDigit1</code> is set to 42. Instead, lottery % 10 should give you the least significant digit here.</p>\n\n<p>Note - It's probably easy to figure out this flaw easily in this case, but learning how to use a debugger will help you in similar issues in future.</p>\n"},{"tags":[],"owner":{"account_id":12188387,"reputation":61,"user_id":8897131,"display_name":"W. Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581144679,"creation_date":1581144679,"answer_id":60124604,"question_id":60124547,"body_markdown":"So, in this case there&#39;s a couple very small bugs. When you&#39;re attempting to get digit 1, you modulo by 100. I believe you&#39;re meaning to modulo by 10 to get the digit in the 1s place. You can view this by putting in a debugger if you know how or simply printing out the values you have temporarily while you work out the bugs.\r\n\r\nOne thing you didn&#39;t mention, but I think you&#39;ll see later is that your code for determining if the 3 numbers match is slightly incorrect:\r\n```\r\n        else if (guessDigit2 == lotteryDigit1 \r\n                &amp;&amp; guessDigit1 == lotteryDigit2\r\n                &amp;&amp; guessDigit3 == lotteryDigit3)\r\n```\r\ndoesn&#39;t compare the correct pairs of digits.","title":"Three-Digit Lottery","body":"<p>So, in this case there's a couple very small bugs. When you're attempting to get digit 1, you modulo by 100. I believe you're meaning to modulo by 10 to get the digit in the 1s place. You can view this by putting in a debugger if you know how or simply printing out the values you have temporarily while you work out the bugs.</p>\n\n<p>One thing you didn't mention, but I think you'll see later is that your code for determining if the 3 numbers match is slightly incorrect:</p>\n\n<pre><code>        else if (guessDigit2 == lotteryDigit1 \n                &amp;&amp; guessDigit1 == lotteryDigit2\n                &amp;&amp; guessDigit3 == lotteryDigit3)\n</code></pre>\n\n<p>doesn't compare the correct pairs of digits.</p>\n"},{"tags":[],"owner":{"account_id":18414605,"reputation":11,"user_id":13413875,"display_name":"user13413875"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596547686,"creation_date":1596547686,"answer_id":63247959,"question_id":60124547,"body_markdown":"    public class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in); //make new scanner\r\n// Generate a random three-digit number\r\n\r\n        // Prompt the user to enter a three-digit number\r\n        //Generate random number with 3 diggits\r\n        int randomLottery = 100 + (int)(Math.random() * ((999 - 100)+1));\r\n        //Start scanner\r\n\r\n        //Prompt user to enter three digits\r\n        System.out.println(&quot; Enter the Guess number (three digit) integer&quot;);\r\n        int GuessUser = input.nextInt();\r\n\r\n        int GUESS1 = GuessUser /100;\r\n        int remainGuess = GuessUser % 100;\r\n\r\n        int guess2 = remainGuess /10;\r\n        int guess3= remainGuess % 10;\r\n\r\n\r\n        //Get  3 digits from lottery\r\n\r\n        int d1 = randomLottery /100;\r\n        int remainL = randomLottery % 100;\r\n\r\n        int d2 = remainL /10;\r\n        int d3= remainL % 10;\r\n\r\n        System.out.println(&quot; The lottery numbers are &quot; + d1 + &quot; &quot; + d2 + &quot; &quot; + d3 + &quot;!&quot;);\r\n\r\n        //**Check the guess and print out the award system.\r\n        /* if users input matches the lottery input in exact order price is 10000$*/\r\n\r\n        if (GuessUser == randomLottery ){\r\n            System.out.println(&quot;You have won $10000. HAMBALYO!!!!&quot;);\r\n\r\n            /* if all the DIGITS EQUAL $3000 */\r\n\r\n        }else if (((GUESS1 == d1) || (GUESS1 == d2) || (GUESS1 == d3)) &amp;&amp;\r\n                ((  guess2 == d1) || (guess2 == d2) || (guess2 == d3)) &amp;&amp;\r\n                ((guess3 == d1) || (guess3 == d2) || (guess3 == d3))){\r\n            System.out.println(&quot;ALL DIGITS MATCH! You have won $3000.&quot;);\r\n\r\n            /* if at least one digit matches the lottery number the award is 1000$ */\r\n\r\n        }else if (((GUESS1 == d1) || (GUESS1 == d2) || (GUESS1 == d3)) ||\r\n                ((guess2 == d1) || (guess2 == d2) || (guess2 == d3)) ||\r\n                ((guess3 == d1) || (guess3 == d2) || (guess3 == d3))){\r\n            System.out.println(&quot;At least one number is correct. You win $1000 &quot;);\r\n        }else\r\n            System.out.println (&quot;No match&quot;);\r\n    }\r\n}","title":"Three-Digit Lottery","body":"<pre><code>public class Main {\n\npublic static void main(String[] args) {\n    Scanner input = new Scanner(System.in); //make new scanner\n</code></pre>\n<p>// Generate a random three-digit number</p>\n<pre><code>    // Prompt the user to enter a three-digit number\n    //Generate random number with 3 diggits\n    int randomLottery = 100 + (int)(Math.random() * ((999 - 100)+1));\n    //Start scanner\n\n    //Prompt user to enter three digits\n    System.out.println(&quot; Enter the Guess number (three digit) integer&quot;);\n    int GuessUser = input.nextInt();\n\n    int GUESS1 = GuessUser /100;\n    int remainGuess = GuessUser % 100;\n\n    int guess2 = remainGuess /10;\n    int guess3= remainGuess % 10;\n\n\n    //Get  3 digits from lottery\n\n    int d1 = randomLottery /100;\n    int remainL = randomLottery % 100;\n\n    int d2 = remainL /10;\n    int d3= remainL % 10;\n\n    System.out.println(&quot; The lottery numbers are &quot; + d1 + &quot; &quot; + d2 + &quot; &quot; + d3 + &quot;!&quot;);\n\n    //**Check the guess and print out the award system.\n    /* if users input matches the lottery input in exact order price is 10000$*/\n\n    if (GuessUser == randomLottery ){\n        System.out.println(&quot;You have won $10000. HAMBALYO!!!!&quot;);\n\n        /* if all the DIGITS EQUAL $3000 */\n\n    }else if (((GUESS1 == d1) || (GUESS1 == d2) || (GUESS1 == d3)) &amp;&amp;\n            ((  guess2 == d1) || (guess2 == d2) || (guess2 == d3)) &amp;&amp;\n            ((guess3 == d1) || (guess3 == d2) || (guess3 == d3))){\n        System.out.println(&quot;ALL DIGITS MATCH! You have won $3000.&quot;);\n\n        /* if at least one digit matches the lottery number the award is 1000$ */\n\n    }else if (((GUESS1 == d1) || (GUESS1 == d2) || (GUESS1 == d3)) ||\n            ((guess2 == d1) || (guess2 == d2) || (guess2 == d3)) ||\n            ((guess3 == d1) || (guess3 == d2) || (guess3 == d3))){\n        System.out.println(&quot;At least one number is correct. You win $1000 &quot;);\n    }else\n        System.out.println (&quot;No match&quot;);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7399265,"reputation":508,"user_id":5630225,"display_name":"Martins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619408053,"creation_date":1619408053,"answer_id":67260524,"question_id":60124547,"body_markdown":"Well, here&#39;s a similar solution in `Javascript` I came up with:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    console.log(&#39;Program started...&#39;);\r\n\r\n    // Settings\r\n    const persist = true; // 1. Make sure the user inputs a number only, loop until the user inputs a number\r\n\r\n    // Function: Generates 3 random numbers, between 1 and 10 (inclusive)\r\n    const generateNumbers = () =&gt; {\r\n      var arr = [];\r\n      while (arr.length &lt; 3) {\r\n        var r = Math.floor(Math.random() * 10) + 1;\r\n        arr.push(r);\r\n      }\r\n      return arr;\r\n    };\r\n\r\n    const winningNumbers = generateNumbers(); // An array of the 3 winning numbers\r\n\r\n    // Function: Prompt user for a number\r\n    const getUserNumber = (type = &#39;&#39;, err = &#39;&#39;) =&gt; {\r\n      var q = &quot;&quot;;\r\n      if (err.trim() != &#39;&#39;) q = &quot;\\n&quot; + err + &quot;\\n&quot;;\r\n      q += &quot;Enter your &quot;;\r\n      q += type;\r\n      q += &quot; number&quot;;\r\n      var inp = prompt(q);\r\n      if (persist &amp;&amp; inp != null) {\r\n        if (inp.trim() == &#39;&#39; || isNaN(inp.trim())) getUserNumber(type, &quot;Error: Invalid input!&quot;);\r\n      }\r\n      return inp;\r\n    };\r\n\r\n    var userNumbers = []; // An array of the 3 user selected numbers\r\n\r\n    // Loop user input\r\n    [&#39;first&#39;, &#39;second&#39;, &#39;third&#39;].forEach((e, i) =&gt; {\r\n      let n = getUserNumber(e);\r\n      userNumbers.push(Number(n));\r\n    });\r\n\r\n    var correct = 0; // Store correct matches\r\n\r\n    var _winningNumbers = [...winningNumbers]; // Store winning numbers temporarily\r\n\r\n    // Process correct answers\r\n    userNumbers.forEach(n =&gt; {\r\n      let count = _winningNumbers.filter(num =&gt; {\r\n        return num == n\r\n      }).length;\r\n      if (count &gt;= 1) {\r\n        correct += 1;\r\n        _winningNumbers.splice(_winningNumbers.indexOf(n), 1);\r\n      }\r\n    });\r\n\r\n    // Process user winnings\r\n    const getWinnings = () =&gt; {\r\n      var winnings = &quot;&quot;;\r\n      switch (correct) {\r\n        case 1:\r\n          winnings = &quot;$100&quot;;\r\n          break;\r\n        case 2:\r\n          winnings = &quot;$200&quot;;\r\n          break;\r\n        case 3:\r\n          winnings = &quot;$500&quot;;\r\n          break;\r\n        default:\r\n          winnings = &quot;$0&quot;;\r\n          break;\r\n      }\r\n      return winnings;\r\n    }\r\n\r\n    // Alert winnings\r\n    var resp = &quot;&quot;;\r\n    resp += &quot;The computer&#39;s numbers are &quot;;\r\n    resp += winningNumbers.join(&quot; &quot;);\r\n    resp += &quot;\\n&quot;;\r\n    resp += &quot;Your guesses were &quot;;\r\n    resp += userNumbers.join(&quot; &quot;);\r\n    resp += &quot;\\n&quot;;\r\n    resp += &quot;You got &quot;;\r\n    resp += correct;\r\n    resp += &quot; right&quot;;\r\n    resp += &quot;\\n&quot;;\r\n    resp += &quot;You&#39;ve won &quot;;\r\n    resp += getWinnings();\r\n\r\n    // Function: Show response to user and prompt &#39;Play again?&#39;&#39;\r\n    const showResponse = (err = &#39;&#39;) =&gt; {\r\n      var q = resp;\r\n      q += &quot;\\n\\n&quot;;\r\n      if (err.trim() != &#39;&#39;) q += &quot;\\n&quot; + err + &quot;\\n&quot;;\r\n      q += &quot;Play Again? Y or N&quot;;\r\n      var inp = prompt(q);\r\n      if (persist &amp;&amp; inp != null) {\r\n        if (inp.trim() == &#39;&#39; || !isNaN(inp.trim())) showResponse(&quot;Error: Invalid input!&quot;);\r\n      }\r\n      if (inp.toLowerCase() == &#39;y&#39;) window.location.reload();\r\n    };\r\n\r\n    showResponse();\r\n\r\n    console.log(&#39;Winning numbers: &#39;, winningNumbers);\r\n    console.log(&#39;Selected numbers: &#39;, userNumbers);\r\n    console.log(&#39;Correct numbers: &#39;, correct);\r\n    console.log(&#39;Amount won: &#39;, getWinnings());\r\n\r\n    console.log(&#39;...program completed!&#39;);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHere&#39;s [the link][1] to the repo.\r\n\r\n\r\n  [1]: https://github.com/nzuqi/lottery","title":"Three-Digit Lottery","body":"<p>Well, here's a similar solution in <code>Javascript</code> I came up with:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log('Program started...');\n\n// Settings\nconst persist = true; // 1. Make sure the user inputs a number only, loop until the user inputs a number\n\n// Function: Generates 3 random numbers, between 1 and 10 (inclusive)\nconst generateNumbers = () =&gt; {\n  var arr = [];\n  while (arr.length &lt; 3) {\n    var r = Math.floor(Math.random() * 10) + 1;\n    arr.push(r);\n  }\n  return arr;\n};\n\nconst winningNumbers = generateNumbers(); // An array of the 3 winning numbers\n\n// Function: Prompt user for a number\nconst getUserNumber = (type = '', err = '') =&gt; {\n  var q = \"\";\n  if (err.trim() != '') q = \"\\n\" + err + \"\\n\";\n  q += \"Enter your \";\n  q += type;\n  q += \" number\";\n  var inp = prompt(q);\n  if (persist &amp;&amp; inp != null) {\n    if (inp.trim() == '' || isNaN(inp.trim())) getUserNumber(type, \"Error: Invalid input!\");\n  }\n  return inp;\n};\n\nvar userNumbers = []; // An array of the 3 user selected numbers\n\n// Loop user input\n['first', 'second', 'third'].forEach((e, i) =&gt; {\n  let n = getUserNumber(e);\n  userNumbers.push(Number(n));\n});\n\nvar correct = 0; // Store correct matches\n\nvar _winningNumbers = [...winningNumbers]; // Store winning numbers temporarily\n\n// Process correct answers\nuserNumbers.forEach(n =&gt; {\n  let count = _winningNumbers.filter(num =&gt; {\n    return num == n\n  }).length;\n  if (count &gt;= 1) {\n    correct += 1;\n    _winningNumbers.splice(_winningNumbers.indexOf(n), 1);\n  }\n});\n\n// Process user winnings\nconst getWinnings = () =&gt; {\n  var winnings = \"\";\n  switch (correct) {\n    case 1:\n      winnings = \"$100\";\n      break;\n    case 2:\n      winnings = \"$200\";\n      break;\n    case 3:\n      winnings = \"$500\";\n      break;\n    default:\n      winnings = \"$0\";\n      break;\n  }\n  return winnings;\n}\n\n// Alert winnings\nvar resp = \"\";\nresp += \"The computer's numbers are \";\nresp += winningNumbers.join(\" \");\nresp += \"\\n\";\nresp += \"Your guesses were \";\nresp += userNumbers.join(\" \");\nresp += \"\\n\";\nresp += \"You got \";\nresp += correct;\nresp += \" right\";\nresp += \"\\n\";\nresp += \"You've won \";\nresp += getWinnings();\n\n// Function: Show response to user and prompt 'Play again?''\nconst showResponse = (err = '') =&gt; {\n  var q = resp;\n  q += \"\\n\\n\";\n  if (err.trim() != '') q += \"\\n\" + err + \"\\n\";\n  q += \"Play Again? Y or N\";\n  var inp = prompt(q);\n  if (persist &amp;&amp; inp != null) {\n    if (inp.trim() == '' || !isNaN(inp.trim())) showResponse(\"Error: Invalid input!\");\n  }\n  if (inp.toLowerCase() == 'y') window.location.reload();\n};\n\nshowResponse();\n\nconsole.log('Winning numbers: ', winningNumbers);\nconsole.log('Selected numbers: ', userNumbers);\nconsole.log('Correct numbers: ', correct);\nconsole.log('Amount won: ', getWinnings());\n\nconsole.log('...program completed!');</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Here's <a href=\"https://github.com/nzuqi/lottery\" rel=\"nofollow noreferrer\">the link</a> to the repo.</p>\n"}],"owner":{"account_id":17708354,"reputation":7,"user_id":12856395,"display_name":"SamXeox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1684666547,"creation_date":1581144012,"question_id":60124547,"body_markdown":"Generate a lottery of a three digit number. The program prompts the user to enter a three-digit number and determines whether the user wins according to the following rules:\r\n\r\n* (RULE 1). If the user input matches the lottery number in the exact order, the award is $10,000.\r\n* (RULE 2). If all digits in the user input match all digits in the lottery number, the award is $3,000.\r\n* (RULE 3). If one digit in the user input matches a digit in the lottery number, the award is $1,000.\r\n\r\nI need help getting my program to function as intended with all that is seen in the code. No arrays, no strings, nothing other than what is already there. My issue is that at Rule 3 I am not understanding why it is not recognizing a winning digit. For example, My guess numbers will be 142 and the lottery numbers will be 554 and it will say &quot;No Match, Better Luck Next Time&quot; rather than &quot;Matched one number even though there is one correct number in my guess.\r\n\r\n    import java.util.Scanner;\r\n    public class Lottery {\r\n        public static void main(String[] args) {\r\n            \r\n            //generate random lottery numbers \r\n            int lottery = (int)(Math.random() * 1000);\r\n            \r\n            //ask user to enter a 3 digit integer and store those numbers\r\n            Scanner numbers = new Scanner(System.in);\r\n            System.out.println(&quot;Please enter your lottery pick. Three Digits Only&quot;);\r\n            int guess = numbers.nextInt();\r\n            \r\n            // numbers for lottery\r\n            int lotteryDigit1 = lottery % 100;\r\n            int lotteryDigit2 = lottery % 100 / 10;\r\n            int lotteryDigit3 = lottery / 100;\r\n            \r\n            //get digits from guess\r\n            int guessDigit1 = guess % 100; \r\n            int guessDigit2 = guess % 100 / 10; \r\n            int guessDigit3 = guess / 100; \r\n            \r\n            //print out lottery numbers\r\n            System.out.println(&quot;The lottery numbers are: &quot; + lottery);\r\n\r\n            if (guess == lottery)\r\n                System.out.println(&quot;Exact Match!!! 10,000$ Prize!!!&quot;);\r\n            else if (guessDigit2 == lotteryDigit1 \r\n                    &amp;&amp; guessDigit1 == lotteryDigit2\r\n                    &amp;&amp; guessDigit3 == lotteryDigit3)\r\n                System.out.println(&quot;Matched all numbers!!! 3,000$ Prize!!!&quot;);\r\n            //Rule 3\r\n            else if (guessDigit1 == lotteryDigit1\r\n                || guessDigit1 == lotteryDigit2\r\n                || guessDigit1 == lotteryDigit3\r\n                || guessDigit2 == lotteryDigit1\r\n                || guessDigit2 == lotteryDigit2\r\n                || guessDigit2 == lotteryDigit3\r\n                || guessDigit3 == lotteryDigit1\r\n                || guessDigit3 == lotteryDigit2\r\n                || guessDigit3 == lotteryDigit3)  \r\n                System.out.println(&quot;Mathed one number!!! 1,000$ Prize!!!&quot;);\r\n            else enter code here\r\n                System.out.println(&quot;No Match, Better Luck Next Time!&quot;);\r\n","title":"Three-Digit Lottery","body":"<p>Generate a lottery of a three digit number. The program prompts the user to enter a three-digit number and determines whether the user wins according to the following rules:</p>\n\n<ul>\n<li>(RULE 1). If the user input matches the lottery number in the exact order, the award is $10,000.</li>\n<li>(RULE 2). If all digits in the user input match all digits in the lottery number, the award is $3,000.</li>\n<li>(RULE 3). If one digit in the user input matches a digit in the lottery number, the award is $1,000.</li>\n</ul>\n\n<p>I need help getting my program to function as intended with all that is seen in the code. No arrays, no strings, nothing other than what is already there. My issue is that at Rule 3 I am not understanding why it is not recognizing a winning digit. For example, My guess numbers will be 142 and the lottery numbers will be 554 and it will say \"No Match, Better Luck Next Time\" rather than \"Matched one number even though there is one correct number in my guess.</p>\n\n<pre><code>import java.util.Scanner;\npublic class Lottery {\n    public static void main(String[] args) {\n\n        //generate random lottery numbers \n        int lottery = (int)(Math.random() * 1000);\n\n        //ask user to enter a 3 digit integer and store those numbers\n        Scanner numbers = new Scanner(System.in);\n        System.out.println(\"Please enter your lottery pick. Three Digits Only\");\n        int guess = numbers.nextInt();\n\n        // numbers for lottery\n        int lotteryDigit1 = lottery % 100;\n        int lotteryDigit2 = lottery % 100 / 10;\n        int lotteryDigit3 = lottery / 100;\n\n        //get digits from guess\n        int guessDigit1 = guess % 100; \n        int guessDigit2 = guess % 100 / 10; \n        int guessDigit3 = guess / 100; \n\n        //print out lottery numbers\n        System.out.println(\"The lottery numbers are: \" + lottery);\n\n        if (guess == lottery)\n            System.out.println(\"Exact Match!!! 10,000$ Prize!!!\");\n        else if (guessDigit2 == lotteryDigit1 \n                &amp;&amp; guessDigit1 == lotteryDigit2\n                &amp;&amp; guessDigit3 == lotteryDigit3)\n            System.out.println(\"Matched all numbers!!! 3,000$ Prize!!!\");\n        //Rule 3\n        else if (guessDigit1 == lotteryDigit1\n            || guessDigit1 == lotteryDigit2\n            || guessDigit1 == lotteryDigit3\n            || guessDigit2 == lotteryDigit1\n            || guessDigit2 == lotteryDigit2\n            || guessDigit2 == lotteryDigit3\n            || guessDigit3 == lotteryDigit1\n            || guessDigit3 == lotteryDigit2\n            || guessDigit3 == lotteryDigit3)  \n            System.out.println(\"Mathed one number!!! 1,000$ Prize!!!\");\n        else enter code here\n            System.out.println(\"No Match, Better Luck Next Time!\");\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684610830,"creation_date":1684609039,"answer_id":76296893,"question_id":76296874,"body_markdown":"I was able to match the second occurrence using the following.\r\n\r\n```regex\r\n(?&lt;=[A-Z]).*?([A-Z].)\r\n```\r\n\r\n- The first group is a positive look-behind, attempting to match any uppercase letter.  \r\n- The second group is a capture, for any uppercase letter, followed by a single character.  \r\n- Between the two groups is a `.*?` pattern, which will attempt to match any character, 0 or more.\r\n\r\nYou can then use the following method, to return the value.\r\n\r\n```java\r\nString secondOccurrence(String string) {\r\n    Pattern pattern = Pattern.compile(&quot;(?&lt;=[A-Z]).*?([A-Z].)&quot;);\r\n    Matcher matcher = pattern.matcher(string);\r\n    if (matcher.find()) \r\n        return matcher.group(1);\r\n    return null;\r\n}\r\n```\r\n\r\nAlternatively, you could create a for-loop, breaking when the second occurrence is found.\r\n\r\n```java\r\nString secondOccurrence(String string) {\r\n    int index = 0;\r\n    boolean first = false;\r\n    for (char character : string.toCharArray()) {\r\n        if (String.valueOf(character).matches(&quot;[A-Z]&quot;)) {\r\n            if (!first) first = true;\r\n            else break;\r\n        }\r\n        index++;\r\n    }\r\n    return string.substring(index, index + 2);\r\n}\r\n```","title":"Extract everything after second occurence of any kind of capital letter using regex","body":"<p>I was able to match the second occurrence using the following.</p>\n<pre><code>(?&lt;=[A-Z]).*?([A-Z].)\n</code></pre>\n<ul>\n<li>The first group is a positive look-behind, attempting to match any uppercase letter.</li>\n<li>The second group is a capture, for any uppercase letter, followed by a single character.</li>\n<li>Between the two groups is a <code>.*?</code> pattern, which will attempt to match any character, 0 or more.</li>\n</ul>\n<p>You can then use the following method, to return the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String secondOccurrence(String string) {\n    Pattern pattern = Pattern.compile(&quot;(?&lt;=[A-Z]).*?([A-Z].)&quot;);\n    Matcher matcher = pattern.matcher(string);\n    if (matcher.find()) \n        return matcher.group(1);\n    return null;\n}\n</code></pre>\n<p>Alternatively, you could create a for-loop, breaking when the second occurrence is found.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String secondOccurrence(String string) {\n    int index = 0;\n    boolean first = false;\n    for (char character : string.toCharArray()) {\n        if (String.valueOf(character).matches(&quot;[A-Z]&quot;)) {\n            if (!first) first = true;\n            else break;\n        }\n        index++;\n    }\n    return string.substring(index, index + 2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17253187,"reputation":15250,"user_id":12492890,"display_name":"lemon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684610601,"creation_date":1684609294,"answer_id":76296912,"question_id":76296874,"body_markdown":"You can match from the second uppercase letter onwards. Or you can match anything that comes before the second uppercase letter and replace it with blank.\r\n\r\nThe following regex will match the part that should be removed:\r\n\r\n    ^[^A-Z]*[A-Z][^A-Z]*\r\n\r\n**Regex Explanation**:\r\n- `^`: start of string\r\n- `[^A-Z]*`: any sequence of non-uppercase characters\r\n- `[A-Z]`: an uppercase character\r\n- `[^A-Z]*`: any sequence of non-uppercase characters\r\n\r\n_____\r\nIn your Java code:\r\n\r\n```\r\nString string = &quot;98A02D1&quot;;\r\nString pattern = &quot;^[^A-Z]*[A-Z][^A-Z]*&quot;;\r\n\r\nSystem.out.println(string.replaceFirst(pattern, &quot;&quot;));\r\n```\r\n\r\n**Output**:\r\n\r\n```\r\nD1\r\n```\r\n\r\nCheck the regex demo [here][1] and the java demo [here][2].\r\n\r\n\r\n  [1]: https://regex101.com/r/Brd6X8/1\r\n  [2]: https://www.mycompiler.io/view/F7c3anthiub","title":"Extract everything after second occurence of any kind of capital letter using regex","body":"<p>You can match from the second uppercase letter onwards. Or you can match anything that comes before the second uppercase letter and replace it with blank.</p>\n<p>The following regex will match the part that should be removed:</p>\n<pre><code>^[^A-Z]*[A-Z][^A-Z]*\n</code></pre>\n<p><strong>Regex Explanation</strong>:</p>\n<ul>\n<li><code>^</code>: start of string</li>\n<li><code>[^A-Z]*</code>: any sequence of non-uppercase characters</li>\n<li><code>[A-Z]</code>: an uppercase character</li>\n<li><code>[^A-Z]*</code>: any sequence of non-uppercase characters</li>\n</ul>\n<hr />\n<p>In your Java code:</p>\n<pre><code>String string = &quot;98A02D1&quot;;\nString pattern = &quot;^[^A-Z]*[A-Z][^A-Z]*&quot;;\n\nSystem.out.println(string.replaceFirst(pattern, &quot;&quot;));\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>D1\n</code></pre>\n<p>Check the regex demo <a href=\"https://regex101.com/r/Brd6X8/1\" rel=\"nofollow noreferrer\">here</a> and the java demo <a href=\"https://www.mycompiler.io/view/F7c3anthiub\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157110,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684663137,"creation_date":1684663137,"answer_id":76299295,"question_id":76296874,"body_markdown":"Using `[A-Z]){2}` matches 2 consecutive uppercase chars, which is different from &quot;the second occurrence&quot; as there can be other characters in between in that case.\r\n\r\nIf there has to be a second uppercase char present, you can use a capture group, and use that in the replacement with `$1`\r\n\r\nIf you don&#39;t want to cross newlines, you can exclude those in the negated character class.\r\n\r\n    ^[^A-Z\\r\\n]*[A-Z][^A-Z\\r\\n]*([A-Z])\r\n\r\n[Regex demo](https://regex101.com/r/vwHN5O/1) | [Java demo](https://ideone.com/6vCjif)\r\n\r\n    String pattern = &quot;(?m)^[^A-Z\\\\r\\\\n]*[A-Z][^A-Z\\\\r\\\\n]*([A-Z].*)&quot;;\r\n    String string = &quot;98A02D1\\n98A02&quot;;\r\n    System.out.println(string.replaceAll(pattern, &quot;$1&quot;));\r\n\r\nOutput\r\n\r\n    D1\r\n    98A02\r\n\r\n&lt;hr&gt;\r\n\r\nAn other option could be for example matching any uppercase letter using `\\p{Lu}`\r\n\r\n    ^[^\\p{Lu}]*[\\p{Lu}][^\\p{Lu}\\r\\n]*(\\p{Lu})\r\n\r\nOr asserting an uppercase char to the right, and in the replacement use an empty string instead of group 1:\r\n\r\n    ^[^A-Z\\r\\n]*[A-Z][^A-Z\\r\\n]*(?=[A-Z])\r\n\r\n","title":"Extract everything after second occurence of any kind of capital letter using regex","body":"<p>Using <code>[A-Z]){2}</code> matches 2 consecutive uppercase chars, which is different from &quot;the second occurrence&quot; as there can be other characters in between in that case.</p>\n<p>If there has to be a second uppercase char present, you can use a capture group, and use that in the replacement with <code>$1</code></p>\n<p>If you don't want to cross newlines, you can exclude those in the negated character class.</p>\n<pre><code>^[^A-Z\\r\\n]*[A-Z][^A-Z\\r\\n]*([A-Z])\n</code></pre>\n<p><a href=\"https://regex101.com/r/vwHN5O/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/6vCjif\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<pre><code>String pattern = &quot;(?m)^[^A-Z\\\\r\\\\n]*[A-Z][^A-Z\\\\r\\\\n]*([A-Z].*)&quot;;\nString string = &quot;98A02D1\\n98A02&quot;;\nSystem.out.println(string.replaceAll(pattern, &quot;$1&quot;));\n</code></pre>\n<p>Output</p>\n<pre><code>D1\n98A02\n</code></pre>\n<hr>\n<p>An other option could be for example matching any uppercase letter using <code>\\p{Lu}</code></p>\n<pre><code>^[^\\p{Lu}]*[\\p{Lu}][^\\p{Lu}\\r\\n]*(\\p{Lu})\n</code></pre>\n<p>Or asserting an uppercase char to the right, and in the replacement use an empty string instead of group 1:</p>\n<pre><code>^[^A-Z\\r\\n]*[A-Z][^A-Z\\r\\n]*(?=[A-Z])\n</code></pre>\n"}],"owner":{"account_id":1587251,"reputation":29,"user_id":1471306,"accept_rate":75,"display_name":"kido25"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76296912,"answer_count":3,"score":2,"last_activity_date":1684663137,"creation_date":1684608748,"question_id":76296874,"body_markdown":"I need help with building a regex with Java flavor, which extracts everything after second occurence of any kind of capital letter.\r\n\r\nFor example, for the sample string `&quot;98A02D1&quot;` the result should be `D1`. Doesn&#39;t matter what comes before the second occurence of a capital letter.\r\n\r\nWhat I came up with is this: `(?:.*?[A-Z]){2}(.*)`\r\n\r\nWhich doesn&#39;t work and only captures from the third occurence. Lowering the number in curly brackets doesn&#39;t help. Appreciate any help!","title":"Extract everything after second occurence of any kind of capital letter using regex","body":"<p>I need help with building a regex with Java flavor, which extracts everything after second occurence of any kind of capital letter.</p>\n<p>For example, for the sample string <code>&quot;98A02D1&quot;</code> the result should be <code>D1</code>. Doesn't matter what comes before the second occurence of a capital letter.</p>\n<p>What I came up with is this: <code>(?:.*?[A-Z]){2}(.*)</code></p>\n<p>Which doesn't work and only captures from the third occurence. Lowering the number in curly brackets doesn't help. Appreciate any help!</p>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684442153,"creation_date":1684442153,"answer_id":76284306,"question_id":76284047,"body_markdown":"I think by asserting the response body, you are ensuring that the controller is producing a non-empty response. But simply checking for the presence of a response body doesn&#39;t confirm that the correct data is being returned. \r\n\r\nBy also asserting the actual values in the response body, you can verify that the controller is returning the expected data in the correct format.\r\n\r\nOne more important consideration when writing unit tests for controllers is to ensure that you are testing the behavior of the controller in isolation from other components of your application. For example, if your controller relies on a database or external API, you may want to use mock objects to simulate those dependencies during testing.\r\n\r\nSo I Think asserting both the presence and the actual values in the response body is generally useful to follow for unit testing controllers in Spring Boot.\r\n\r\nI also found some useful notes [here][1]\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/testing-web/","title":"Best practices for testing Controllers in Spring Boot: Should I assert actual values in the response body or just its presence?","body":"<p>I think by asserting the response body, you are ensuring that the controller is producing a non-empty response. But simply checking for the presence of a response body doesn't confirm that the correct data is being returned.</p>\n<p>By also asserting the actual values in the response body, you can verify that the controller is returning the expected data in the correct format.</p>\n<p>One more important consideration when writing unit tests for controllers is to ensure that you are testing the behavior of the controller in isolation from other components of your application. For example, if your controller relies on a database or external API, you may want to use mock objects to simulate those dependencies during testing.</p>\n<p>So I Think asserting both the presence and the actual values in the response body is generally useful to follow for unit testing controllers in Spring Boot.</p>\n<p>I also found some useful notes <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":3908788,"reputation":29,"user_id":3234704,"display_name":"DevJV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684662539,"creation_date":1684662205,"answer_id":76299237,"question_id":76284047,"body_markdown":"I think that those tests are at service level, so these are blackbox tests. The meaning of this kind of tests is to validate the right response to a concrete input. I think that you are doing it right verifying the content of the response.\r\n\r\nSo, how we can reduce the effort to maintain that?\r\nThere are multiple ways, it depends on how the tests are structured, but in this case i think that the problem is that you have to repeat a lot of time this code in the same class:\r\n\r\n\r\n        @Test\r\n    void getBookTest() throws Exception {\r\n        // mock service method\r\n        when(bookService.getBook(anyLong())).thenReturn(new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;));\r\n    \r\n        // perform request and verify status\r\n        mockMvc.perform(get(&quot;/books/1&quot;))\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$.id&quot;).value(1L))\r\n                .andExpect(jsonPath(&quot;$.title&quot;).value(&quot;Title&quot;))\r\n                .andExpect(jsonPath(&quot;$.author&quot;).value(&quot;Author&quot;));\r\n    }\r\n\r\nSo you can covert it into this:\r\n\r\n        // No test annotation it&#39;s a private method in the class\r\n    private void getBookTest(BookDTO bookDto, String bookRequest) throws Exception { \r\n        // mock service method\r\n        when(bookService.getBook(anyLong())).thenReturn(bookDto);\r\n    \r\n        // perform request and verify status\r\n        mockMvc.perform(get(bookRequest))\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$.id&quot;).value(bookDto.getId()))\r\n                .andExpect(jsonPath(&quot;$.title&quot;).value(bookDto.getTitle()))\r\n                .andExpect(jsonPath(&quot;$.author&quot;).value(bookDto.getAuthor()));\r\n    }\r\n\r\nAnd then you only have to update one mehtod when you change the JSON. And call it from each test as following:\r\n\r\n    getBookTest(new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;), &quot;/books/1&quot;)\r\n    \r\nEven if you are using always the same BookDTO instance you can do it better, creating that instance at class level field and call it like this:\r\n\r\n    \r\n    private BookDTO bookDTO = new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;) //you better create the instance in a constructor\r\n    \r\n    .......\r\n    getBookTest(bookDto, &quot;/books/1&quot;)","title":"Best practices for testing Controllers in Spring Boot: Should I assert actual values in the response body or just its presence?","body":"<p>I think that those tests are at service level, so these are blackbox tests. The meaning of this kind of tests is to validate the right response to a concrete input. I think that you are doing it right verifying the content of the response.</p>\n<p>So, how we can reduce the effort to maintain that?\nThere are multiple ways, it depends on how the tests are structured, but in this case i think that the problem is that you have to repeat a lot of time this code in the same class:</p>\n<pre><code>    @Test\nvoid getBookTest() throws Exception {\n    // mock service method\n    when(bookService.getBook(anyLong())).thenReturn(new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;));\n\n    // perform request and verify status\n    mockMvc.perform(get(&quot;/books/1&quot;))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.id&quot;).value(1L))\n            .andExpect(jsonPath(&quot;$.title&quot;).value(&quot;Title&quot;))\n            .andExpect(jsonPath(&quot;$.author&quot;).value(&quot;Author&quot;));\n}\n</code></pre>\n<p>So you can covert it into this:</p>\n<pre><code>    // No test annotation it's a private method in the class\nprivate void getBookTest(BookDTO bookDto, String bookRequest) throws Exception { \n    // mock service method\n    when(bookService.getBook(anyLong())).thenReturn(bookDto);\n\n    // perform request and verify status\n    mockMvc.perform(get(bookRequest))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.id&quot;).value(bookDto.getId()))\n            .andExpect(jsonPath(&quot;$.title&quot;).value(bookDto.getTitle()))\n            .andExpect(jsonPath(&quot;$.author&quot;).value(bookDto.getAuthor()));\n}\n</code></pre>\n<p>And then you only have to update one mehtod when you change the JSON. And call it from each test as following:</p>\n<pre><code>getBookTest(new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;), &quot;/books/1&quot;)\n</code></pre>\n<p>Even if you are using always the same BookDTO instance you can do it better, creating that instance at class level field and call it like this:</p>\n<pre><code>private BookDTO bookDTO = new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;) //you better create the instance in a constructor\n\n.......\ngetBookTest(bookDto, &quot;/books/1&quot;)\n</code></pre>\n"}],"owner":{"account_id":12361682,"reputation":65,"user_id":9015656,"display_name":"Nathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1684662539,"creation_date":1684439619,"question_id":76284047,"body_markdown":"In my Spring Boot application, I have a layered architecture with Controllers, Services, and Repositories, each with their corresponding DTOs/Models. I am writing unit tests for my Controllers and am unsure about the extent to which I should assert the response body.\r\n\r\nHere&#39;s a simplified scenario to illustrate my question:\r\n\r\nSuppose I have a BookController with a GET /books/{id} endpoint that fetches a book&#39;s details. The response body contains a BookDTO with fields like id, title, author, etc.\r\n\r\n```\r\n@GetMapping(&quot;/books/{id}&quot;)\r\npublic ResponseEntity&lt;BookDTO&gt; getBook(@PathVariable Long id) {\r\n    BookDTO bookDTO = bookService.getBook(id);\r\n    return new ResponseEntity&lt;&gt;(bookDTO, HttpStatus.OK);\r\n}\r\n\r\n```\r\n\r\nWhen unit testing this GET endpoint, I am currently verifying the HTTP status and asserting the actual values in the BookDTO response body, like this:\r\n\r\n```\r\n@Test\r\nvoid getBookTest() throws Exception {\r\n    // mock service method\r\n    when(bookService.getBook(anyLong())).thenReturn(new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;));\r\n\r\n    // perform request and verify status\r\n    mockMvc.perform(get(&quot;/books/1&quot;))\r\n            .andExpect(status().isOk())\r\n            .andExpect(jsonPath(&quot;$.id&quot;).value(1L))\r\n            .andExpect(jsonPath(&quot;$.title&quot;).value(&quot;Title&quot;))\r\n            .andExpect(jsonPath(&quot;$.author&quot;).value(&quot;Author&quot;));\r\n}\r\n\r\n```\r\n\r\nWhile this test is thorough, it&#39;s also tightly coupled to the structure of BookDTO. If BookDTO changes (e.g., a field is added, removed, or renamed), I&#39;ll need to update all tests that assert its values, which seems not very maintainable.\r\n\r\nI am considering a different approach where I only assert the presence of the response body, not its exact contents. I would then write separate unit tests for BookDTO to ensure it behaves correctly.\r\n\r\nMy question is: In terms of best practices for unit testing Controllers in Spring Boot, should I assert the actual values in the response body, or just the presence of the body? I understand that it may depend on the specific context, but I&#39;d appreciate any general guidelines or considerations. Thanks!\r\n","title":"Best practices for testing Controllers in Spring Boot: Should I assert actual values in the response body or just its presence?","body":"<p>In my Spring Boot application, I have a layered architecture with Controllers, Services, and Repositories, each with their corresponding DTOs/Models. I am writing unit tests for my Controllers and am unsure about the extent to which I should assert the response body.</p>\n<p>Here's a simplified scenario to illustrate my question:</p>\n<p>Suppose I have a BookController with a GET /books/{id} endpoint that fetches a book's details. The response body contains a BookDTO with fields like id, title, author, etc.</p>\n<pre><code>@GetMapping(&quot;/books/{id}&quot;)\npublic ResponseEntity&lt;BookDTO&gt; getBook(@PathVariable Long id) {\n    BookDTO bookDTO = bookService.getBook(id);\n    return new ResponseEntity&lt;&gt;(bookDTO, HttpStatus.OK);\n}\n\n</code></pre>\n<p>When unit testing this GET endpoint, I am currently verifying the HTTP status and asserting the actual values in the BookDTO response body, like this:</p>\n<pre><code>@Test\nvoid getBookTest() throws Exception {\n    // mock service method\n    when(bookService.getBook(anyLong())).thenReturn(new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;));\n\n    // perform request and verify status\n    mockMvc.perform(get(&quot;/books/1&quot;))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.id&quot;).value(1L))\n            .andExpect(jsonPath(&quot;$.title&quot;).value(&quot;Title&quot;))\n            .andExpect(jsonPath(&quot;$.author&quot;).value(&quot;Author&quot;));\n}\n\n</code></pre>\n<p>While this test is thorough, it's also tightly coupled to the structure of BookDTO. If BookDTO changes (e.g., a field is added, removed, or renamed), I'll need to update all tests that assert its values, which seems not very maintainable.</p>\n<p>I am considering a different approach where I only assert the presence of the response body, not its exact contents. I would then write separate unit tests for BookDTO to ensure it behaves correctly.</p>\n<p>My question is: In terms of best practices for unit testing Controllers in Spring Boot, should I assert the actual values in the response body, or just the presence of the body? I understand that it may depend on the specific context, but I'd appreciate any general guidelines or considerations. Thanks!</p>\n"},{"tags":["java","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684658009,"creation_date":1684658009,"answer_id":76298965,"question_id":76298911,"body_markdown":"I solve the problem with a way described in https://stackoverflow.com/a/62120611/330457.\r\n\r\n```java\r\nfinal var loaded = new ByteBuddy()\r\n        .subclass(serviceClass)\r\n        .method(ElementMatchers.any())\r\n        .intercept(InvocationHandlerAdapter.of(handler))\r\n        .make()\r\n        .load(serviceClass.getClassLoader(),\r\n              ClassLoadingStrategy.Default.INJECTION.with(PackageDefinitionStrategy.Trivial.INSTANCE))\r\n        .getLoaded();\r\ntry {\r\n    return loaded.getConstructor().newInstance();\r\n} catch (final ReflectiveOperationException roe) {\r\n    throw new RuntimeException(&quot;failed to instantiate &quot; + loaded, roe);\r\n}\r\n```\r\n","title":"How can I make a proxy known to superclasses with Byte-Buddy?","body":"<p>I solve the problem with a way described in <a href=\"https://stackoverflow.com/a/62120611/330457\">https://stackoverflow.com/a/62120611/330457</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var loaded = new ByteBuddy()\n        .subclass(serviceClass)\n        .method(ElementMatchers.any())\n        .intercept(InvocationHandlerAdapter.of(handler))\n        .make()\n        .load(serviceClass.getClassLoader(),\n              ClassLoadingStrategy.Default.INJECTION.with(PackageDefinitionStrategy.Trivial.INSTANCE))\n        .getLoaded();\ntry {\n    return loaded.getConstructor().newInstance();\n} catch (final ReflectiveOperationException roe) {\n    throw new RuntimeException(&quot;failed to instantiate &quot; + loaded, roe);\n}\n</code></pre>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684662509,"creation_date":1684656966,"question_id":76298911,"body_markdown":"I just followed the way explained in https://stackoverflow.com/a/40300963/330457 and I need help.\r\n\r\nI have the following class hierarchy in the same package.\r\n\r\n```java\r\nabstract class __BaseEntityService&lt;T extends __BaseEntity&lt;U&gt;, U&gt; {\r\n}\r\n\r\nabstract class _BaseEntityService&lt;T extends _BaseEntity&lt;U&gt;, U&gt;\r\n        extends __BaseEntityService&lt;T, U&gt; {\r\n}\r\n\r\npublic class SomeEntityService\r\n        extends _BaseEntityService&lt;Some, Integer&gt; {\r\n}\r\n```\r\n\r\nAnd, in my test, same, package, I&#39;m trying to create a dynamic proxy form given concrete service class.\r\n\r\n```java\r\nclass SomeServiceTest {\r\n\r\n    void proxy() {\r\n        final var instance = new SomeService();\r\n        final var handler = new ValidationInvocationHandler(instance, validator);\r\n        // I want to create a proxy\r\n        // whose invocation handled with the handler\r\n        // on the instance.\r\n        final var loaded = new ByteBuddy()\r\n                .subclass(serviceClass)\r\n                .method(ElementMatchers.any())\r\n                .intercept(InvocationHandlerAdapter.of(handler))\r\n                .make()\r\n                .load(serviceClass.getClassLoader())\r\n                .getLoaded();\r\n        try {\r\n            return loaded.getConstructor().newInstance();\r\n        } catch (final ReflectiveOperationException roe) {\r\n            throw new RuntimeException(&quot;failed to instantiate &quot; + loaded, roe);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI got this.\r\n\r\n```\r\n java.lang.IllegalAccessError: failed to access class ....__BaseEntityService from class ....SomeService$ByteBuddy$3WcNUA2k (....__BaseEntityService is in unnamed module of loader &#39;app&#39;; ....SomeService$ByteBuddy$3WcNUA2k is in unnamed module of loader net.bytebuddy.dynamic.loading.ByteArrayClassLoader @1c0ec502)\r\n\tat ....SomeService$ByteBuddy$3WcNUA2k.&lt;clinit&gt;(Unknown Source)\r\n\tat java.base/jdk.internal.misc.Unsafe.ensureClassInitialized0(Native Method)\r\n\tat java.base/jdk.internal.misc.Unsafe.ensureClassInitialized(Unsafe.java:1155)\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorFactory.newFieldAccessor(UnsafeFieldAccessorFactory.java:42)\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newFieldAccessor(ReflectionFactory.java:185)\r\n\tat java.base/java.lang.reflect.Field.acquireFieldAccessor(Field.java:1132)\r\n\tat java.base/java.lang.reflect.Field.getFieldAccessor(Field.java:1113)\r\n\tat java.base/java.lang.reflect.Field.set(Field.java:799)\r\n\tat net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.onLoad(LoadedTypeInitializer.java:170)\r\n\tat net.bytebuddy.implementation.LoadedTypeInitializer$Compound.onLoad(LoadedTypeInitializer.java:234)\r\n\tat net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:103)\r\n\tat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6166)\r\n\tat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6154)\r\n```\r\n\r\nHow can I solve this?\r\n\r\nA working alternative code block using Javassist is this.\r\n\r\n```java\r\nfinal Proxy proxy;\r\n{\r\n    final var factory = new ProxyFactory();\r\n    factory.setSuperclass(serviceClass);\r\n    factory.setFilter(m -&gt; !m.getName().equals(&quot;finalize&quot;));\r\n    final var c = factory.createClass();\r\n    try {\r\n        proxy = (Proxy) c.getDeclaredConstructor().newInstance();\r\n    } catch (final ReflectiveOperationException roe) {\r\n        throw new RuntimeException(&quot;failed to instantiate the proxy class: &quot; + c, roe);\r\n    }\r\n    final MethodHandler mi = (self, thisMethod, proceed, args) -&gt; handler.invoke(instance, thisMethod, args);\r\n    proxy.setHandler(mi);\r\n    proxy.setHandler(mi);\r\n}\r\nreturn (T) proxy;\r\n}\r\n```\r\n\r\n\r\nHi, [@rafael-winterhalter](https://stackoverflow.com/users/1237575/rafael-winterhalter), by the way.","title":"How can I make a proxy known to superclasses with Byte-Buddy?","body":"<p>I just followed the way explained in <a href=\"https://stackoverflow.com/a/40300963/330457\">https://stackoverflow.com/a/40300963/330457</a> and I need help.</p>\n<p>I have the following class hierarchy in the same package.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class __BaseEntityService&lt;T extends __BaseEntity&lt;U&gt;, U&gt; {\n}\n\nabstract class _BaseEntityService&lt;T extends _BaseEntity&lt;U&gt;, U&gt;\n        extends __BaseEntityService&lt;T, U&gt; {\n}\n\npublic class SomeEntityService\n        extends _BaseEntityService&lt;Some, Integer&gt; {\n}\n</code></pre>\n<p>And, in my test, same, package, I'm trying to create a dynamic proxy form given concrete service class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SomeServiceTest {\n\n    void proxy() {\n        final var instance = new SomeService();\n        final var handler = new ValidationInvocationHandler(instance, validator);\n        // I want to create a proxy\n        // whose invocation handled with the handler\n        // on the instance.\n        final var loaded = new ByteBuddy()\n                .subclass(serviceClass)\n                .method(ElementMatchers.any())\n                .intercept(InvocationHandlerAdapter.of(handler))\n                .make()\n                .load(serviceClass.getClassLoader())\n                .getLoaded();\n        try {\n            return loaded.getConstructor().newInstance();\n        } catch (final ReflectiveOperationException roe) {\n            throw new RuntimeException(&quot;failed to instantiate &quot; + loaded, roe);\n        }\n    }\n}\n</code></pre>\n<p>I got this.</p>\n<pre><code> java.lang.IllegalAccessError: failed to access class ....__BaseEntityService from class ....SomeService$ByteBuddy$3WcNUA2k (....__BaseEntityService is in unnamed module of loader 'app'; ....SomeService$ByteBuddy$3WcNUA2k is in unnamed module of loader net.bytebuddy.dynamic.loading.ByteArrayClassLoader @1c0ec502)\n    at ....SomeService$ByteBuddy$3WcNUA2k.&lt;clinit&gt;(Unknown Source)\n    at java.base/jdk.internal.misc.Unsafe.ensureClassInitialized0(Native Method)\n    at java.base/jdk.internal.misc.Unsafe.ensureClassInitialized(Unsafe.java:1155)\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorFactory.newFieldAccessor(UnsafeFieldAccessorFactory.java:42)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newFieldAccessor(ReflectionFactory.java:185)\n    at java.base/java.lang.reflect.Field.acquireFieldAccessor(Field.java:1132)\n    at java.base/java.lang.reflect.Field.getFieldAccessor(Field.java:1113)\n    at java.base/java.lang.reflect.Field.set(Field.java:799)\n    at net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.onLoad(LoadedTypeInitializer.java:170)\n    at net.bytebuddy.implementation.LoadedTypeInitializer$Compound.onLoad(LoadedTypeInitializer.java:234)\n    at net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:103)\n    at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6166)\n    at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6154)\n</code></pre>\n<p>How can I solve this?</p>\n<p>A working alternative code block using Javassist is this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Proxy proxy;\n{\n    final var factory = new ProxyFactory();\n    factory.setSuperclass(serviceClass);\n    factory.setFilter(m -&gt; !m.getName().equals(&quot;finalize&quot;));\n    final var c = factory.createClass();\n    try {\n        proxy = (Proxy) c.getDeclaredConstructor().newInstance();\n    } catch (final ReflectiveOperationException roe) {\n        throw new RuntimeException(&quot;failed to instantiate the proxy class: &quot; + c, roe);\n    }\n    final MethodHandler mi = (self, thisMethod, proceed, args) -&gt; handler.invoke(instance, thisMethod, args);\n    proxy.setHandler(mi);\n    proxy.setHandler(mi);\n}\nreturn (T) proxy;\n}\n</code></pre>\n<p>Hi, <a href=\"https://stackoverflow.com/users/1237575/rafael-winterhalter\">@rafael-winterhalter</a>, by the way.</p>\n"},{"tags":["java","android","flutter","dart"],"answers":[{"tags":[],"owner":{"account_id":25395162,"reputation":111,"user_id":19205549,"display_name":"c Th&#224;nh L&#234;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684662401,"creation_date":1684662401,"answer_id":76299253,"question_id":76299137,"body_markdown":"You can listen the app state when app is from foreground (ex: user using the app) to background (user quit the app but not terminated yet). \r\n\r\nAfter listen to app state, you could add another shared_prefs to store the time remain when user pause app, and when app in resume, using shared_prefs previously as argument for the timer method\r\n\r\n```\r\nclass _MyScreenState extends State&lt;MyScreen&gt; with WidgetsBindingObserver{}\r\n//add the following inside our initState:\r\n\r\nWidgetsBinding.instance.addObserver(this);\r\n//didChangeAppLifecycleState will be:\r\n\r\n@override\r\n     void didChangeAppLifecycleState(AppLifecycleState state) {\r\n     super.didChangeAppLifecycleState(state);\r\n      if (state == AppLifecycleState.paused) {\r\n       // went to Background\r\n         }\r\n       if (state == AppLifecycleState.resumed) {\r\n       // came back to Foreground\r\n       }\r\n    }\r\n```","title":"Delete data after specified time","body":"<p>You can listen the app state when app is from foreground (ex: user using the app) to background (user quit the app but not terminated yet).</p>\n<p>After listen to app state, you could add another shared_prefs to store the time remain when user pause app, and when app in resume, using shared_prefs previously as argument for the timer method</p>\n<pre><code>class _MyScreenState extends State&lt;MyScreen&gt; with WidgetsBindingObserver{}\n//add the following inside our initState:\n\nWidgetsBinding.instance.addObserver(this);\n//didChangeAppLifecycleState will be:\n\n@override\n     void didChangeAppLifecycleState(AppLifecycleState state) {\n     super.didChangeAppLifecycleState(state);\n      if (state == AppLifecycleState.paused) {\n       // went to Background\n         }\n       if (state == AppLifecycleState.resumed) {\n       // came back to Foreground\n       }\n    }\n</code></pre>\n"}],"owner":{"account_id":25284339,"reputation":23,"user_id":19111658,"display_name":"Md. Samiul Islam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76299253,"answer_count":1,"score":0,"last_activity_date":1684662401,"creation_date":1684660584,"question_id":76299137,"body_markdown":"I have a flutter application. Where I am saving a data in shared_preferences. Now what I want to achieve is that when data is saved it will start a timer for 5 minutes. After 5 minutes the data will be removed and user will be taken to the LoginPage again. This is quite simple. But here the things that I have done again restarts the timer whenever I start the application. I want is that suppose after 2 mins 30 seconds user closes the app. After some time the user again opens the app. Then the app will start from 2 mins 31 seconds and remaining time will be 2 mins 29 seconds. That means the timer will not restart even when the app is opened again.\r\n\r\n    Future&lt;void&gt; initializePreferences() async {\r\n        final SharedPreferences prefs = await SharedPreferences.getInstance();\r\n        _data = await prefs.getString(&#39;myData&#39;);\r\n      \r\n        Timer(Duration(minutes: 5), () {\r\n          prefs.remove(&#39;myData&#39;);\r\n          setState(() {\r\n            _data = null;\r\n          });\r\n\r\n          ///navigate to splashscreen\r\n          Navigator.pushNamedAndRemoveUntil(\r\n            context,\r\n            &#39;/&#39;,\r\n                (route) =&gt; false,\r\n          );\r\n          print(&quot;Data is reremoved.&quot;);\r\n        });\r\n      }\r\n\r\nhere the timer starts for 5 mins. The remaining details what I want to achieve is given above. Thanks in advance.","title":"Delete data after specified time","body":"<p>I have a flutter application. Where I am saving a data in shared_preferences. Now what I want to achieve is that when data is saved it will start a timer for 5 minutes. After 5 minutes the data will be removed and user will be taken to the LoginPage again. This is quite simple. But here the things that I have done again restarts the timer whenever I start the application. I want is that suppose after 2 mins 30 seconds user closes the app. After some time the user again opens the app. Then the app will start from 2 mins 31 seconds and remaining time will be 2 mins 29 seconds. That means the timer will not restart even when the app is opened again.</p>\n<pre><code>Future&lt;void&gt; initializePreferences() async {\n    final SharedPreferences prefs = await SharedPreferences.getInstance();\n    _data = await prefs.getString('myData');\n  \n    Timer(Duration(minutes: 5), () {\n      prefs.remove('myData');\n      setState(() {\n        _data = null;\n      });\n\n      ///navigate to splashscreen\n      Navigator.pushNamedAndRemoveUntil(\n        context,\n        '/',\n            (route) =&gt; false,\n      );\n      print(&quot;Data is reremoved.&quot;);\n    });\n  }\n</code></pre>\n<p>here the timer starts for 5 mins. The remaining details what I want to achieve is given above. Thanks in advance.</p>\n"},{"tags":["java","gradle","jacoco","multi-module"],"answers":[{"tags":[],"owner":{"account_id":88629,"reputation":9961,"user_id":244993,"display_name":"Godin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626087331,"creation_date":1626077572,"answer_id":68344020,"question_id":68343660,"body_markdown":"Maybe `com.myProj.myApi` is a single directory? whereas it should be 3 directories nested into each other `com` / `myProj` / `myApi`","title":"Source file was not found during generation of report","body":"<p>Maybe <code>com.myProj.myApi</code> is a single directory? whereas it should be 3 directories nested into each other <code>com</code> / <code>myProj</code> / <code>myApi</code></p>\n"},{"tags":[],"owner":{"account_id":16776635,"reputation":90,"user_id":12127775,"display_name":"Chusya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1626184536,"creation_date":1626184536,"answer_id":68363834,"question_id":68343660,"body_markdown":"I&#39;ve fixed it when I changed work with files. I&#39;ve deleted all code from &#39;jacocoTestReport {&#39; to &#39;reports {&#39; (non include) and insert this:\r\n\r\n      for (proj in otherProjects) {\r\n        sourceSets project(module).sourceSets.main\r\n      }\r\n\r\nI don&#39;t understand why getAdditionalSourceDirs() and getAdditionalClassDirs() aren&#39;t working. Or, most likely, i don&#39;t know difference between these 2 methods of interaction with files. If you know, you can comment under this answer.","title":"Source file was not found during generation of report","body":"<p>I've fixed it when I changed work with files. I've deleted all code from 'jacocoTestReport {' to 'reports {' (non include) and insert this:</p>\n<pre><code>  for (proj in otherProjects) {\n    sourceSets project(module).sourceSets.main\n  }\n</code></pre>\n<p>I don't understand why getAdditionalSourceDirs() and getAdditionalClassDirs() aren't working. Or, most likely, i don't know difference between these 2 methods of interaction with files. If you know, you can comment under this answer.</p>\n"},{"tags":[],"owner":{"account_id":11318231,"reputation":31,"user_id":8299300,"display_name":"himan085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684662125,"creation_date":1684662125,"answer_id":76299232,"question_id":68343660,"body_markdown":"I was facing a similar issue. I was using some plugins which were generating source java files in the `build` folder. The coverage report (which included % coverage) for these source files generated in build folder was coming up but the exact source code file with coverage was not getting generated. \r\nI was getting the error: `source file com/abc/xyz/aop/LoggingAspect.java was not found during generation of report`.\r\n\r\nI found the solution to my issue in JaCoCo&#39;s FAQ page: https://www.jacoco.org/jacoco/trunk/doc/faq.html\r\n`Source files must be properly supplied at report generation time. I.e. specified source folders must be the direct parent of the folders that define the Java packages.`\r\n\r\n**The sourceSet that I added for the generated code in build directory was not the direct parent of the Java package**.\r\n\r\nProject structure:\r\n\r\n```\r\nproject-root\r\n- build\r\n-- generated\r\n--- sources\r\n---- com/abc/xyz (&#39;com.abc.xyz&#39; Java package)\r\n\r\n- src/main/java\r\n-- com/abc/xyz (&#39;com.abc.xyz&#39; Java package)\r\n\r\n-build.gradle\r\n```\r\n\r\nThe initial incorrect `build.gradle` file to add generated code to sourceSets:\r\n```\r\nsourceSets {\r\n  main {\r\n    java {\r\n      srcDirs += &#39;build/generated/sources/com&#39;\r\n    }\r\n  }\r\n  test {\r\n    java {\r\n      srcDirs += &#39;build/generated/test-sources/com&#39;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**I configured the source directory for generated code to `build/generated/sources` instead of `build/generated/sources/com` and it worked.** \r\n\r\nBecause `build/generated/sources` is a direct parent of `com.abc.xyz` but `build/generated/sources/com` isn&#39;t as it includes the path `com` in it.","title":"Source file was not found during generation of report","body":"<p>I was facing a similar issue. I was using some plugins which were generating source java files in the <code>build</code> folder. The coverage report (which included % coverage) for these source files generated in build folder was coming up but the exact source code file with coverage was not getting generated.\nI was getting the error: <code>source file com/abc/xyz/aop/LoggingAspect.java was not found during generation of report</code>.</p>\n<p>I found the solution to my issue in JaCoCo's FAQ page: <a href=\"https://www.jacoco.org/jacoco/trunk/doc/faq.html\" rel=\"nofollow noreferrer\">https://www.jacoco.org/jacoco/trunk/doc/faq.html</a>\n<code>Source files must be properly supplied at report generation time. I.e. specified source folders must be the direct parent of the folders that define the Java packages.</code></p>\n<p><strong>The sourceSet that I added for the generated code in build directory was not the direct parent of the Java package</strong>.</p>\n<p>Project structure:</p>\n<pre><code>project-root\n- build\n-- generated\n--- sources\n---- com/abc/xyz ('com.abc.xyz' Java package)\n\n- src/main/java\n-- com/abc/xyz ('com.abc.xyz' Java package)\n\n-build.gradle\n</code></pre>\n<p>The initial incorrect <code>build.gradle</code> file to add generated code to sourceSets:</p>\n<pre><code>sourceSets {\n  main {\n    java {\n      srcDirs += 'build/generated/sources/com'\n    }\n  }\n  test {\n    java {\n      srcDirs += 'build/generated/test-sources/com'\n    }\n  }\n}\n</code></pre>\n<p><strong>I configured the source directory for generated code to <code>build/generated/sources</code> instead of <code>build/generated/sources/com</code> and it worked.</strong></p>\n<p>Because <code>build/generated/sources</code> is a direct parent of <code>com.abc.xyz</code> but <code>build/generated/sources/com</code> isn't as it includes the path <code>com</code> in it.</p>\n"}],"owner":{"account_id":16776635,"reputation":90,"user_id":12127775,"display_name":"Chusya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68363834,"answer_count":3,"score":0,"last_activity_date":1684662125,"creation_date":1626075752,"question_id":68343660,"body_markdown":"help me understand what&#39;s wrong, please.\r\nI&#39;ve worked with multi-module project and faced one problem.\r\nMy architecture look like this:\r\n\r\n    proj1\r\n    -src\r\n    --main\r\n    ---java\r\n    ----com.myProj.myApi\r\n    -----directories containing .java files\r\n    \r\n    ... // same proj2 and proj3\r\n    \r\n    rootProject src\r\n    -main\r\n    --java\r\n    ---com.myProj.myApi\r\n    ----Application.java\r\n    -test\r\n    --test .java files\r\n\r\nIn the root gradle, I have defined the following:\r\n1. Variable with project names.\r\n2. After testing useTestNG(), the jacocoTestReport() task starts.\r\n3. Inside the jacocoTestReport(), I have determined which java files need to be loaded and checked.\r\nMy root build.gradle:\r\n\r\n```allprojects {\r\n  repositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n    tasks.withType(Javadoc).all { enabled = false }\r\n    tasks.withType(JavaCompile).all { options.encoding = &#39;UTF-8&#39;  }\r\n  }\r\n\r\n  group = &#39;com.myProj.myApi&#39;\r\n  version = &#39;1.0.0-SNAPSHOT&#39;\r\n\r\n  apply plugin: &#39;java&#39;\r\n  apply plugin: &#39;jacoco&#39;\r\n  apply plugin: &#39;java-library&#39;\r\n\r\n  jacoco {\r\n    toolVersion = &quot;0.8.5&quot;\r\n  }\r\n\r\n  def otherProjects = [&#39;:proj1&#39;, &#39;:proj2&#39;, &#39;:proj3&#39;]\r\n\r\ntest {\r\n  useTestNG()\r\n  finalizedBy jacocoTestReport\r\n}\r\n\r\notherProjects.each {\r\n  evaluationDependsOn it\r\n}\r\n\r\njacocoTestReport {\r\n  FileTree sourceTree = files().getAsFileTree()\r\n  FileTree classTree = files().getAsFileTree()\r\n\r\n  otherProjects.each {\r\n    sourceTree += project(it).sourceSets.main.allJava\r\n    classTree += project(it).sourceSets.main.output.asFileTree\r\n  }\r\n\r\n  sourceTree = sourceTree.matching {\r\n    exclude &#39;**/nonTestedClass.java&#39;\r\n  }\r\n\r\n  classTree = classTree.matching {\r\n    exclude &#39;**/nonTestedClass.class&#39;\r\n  }\r\n\r\n  getAdditionalSourceDirs().setFrom(sourceTree)\r\n  getAdditionalClassDirs().setFrom(classTree)\r\n  reports {\r\n    html.enabled = true\r\n    xml.enabled = true\r\n    csv.enabled = false\r\n  }\r\n}\r\n\r\ndependencies {\r\n  implementation project(&#39;:proj1&#39;)\r\n  implementation project(&#39;:proj2&#39;)\r\n  implementation project(&#39;:proj3&#39;)\r\n  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n  testImplementation &#39;org.testng:testng&#39;\r\n}\r\n```\r\nGradle version is 7.0.1. Java 11.\r\nI&#39;ve looked [this post][1], but my paths for each project are correct as you can see in architecture.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**EDIT 1**\r\nI found that in each subproject, the build directories contain class files only for those java files that are in a specific subproject. Maybe this is the problem? Maybe I need to send all class files to the root build directory or not?\r\nP.S. build.gradle of subprojects do not contain any jacoco settings.\r\n\r\n**EDIT 2**\r\nI&#39;ve added print for getAdditional...Dirs() and learned that all paths are correct and found.\r\nAlso terminal gives me this info:\r\n\r\n    &gt; Task :jacocoTestReport\r\n    [ant:jacocoReport] Classes in bundle &#39;myProj&#39; do no match with execution data. For report generation the same class files must be used as at runtime.\r\n\r\nBut it&#39;s very strange, because when i&#39;ve added this code\r\n\r\n    println(JavaVersion.current())\r\n\r\nI&#39;ve got this result: Java Version: 11. It&#39;s correct version of my Java:\r\n\r\n    $ java --version\r\n    openjdk 11.0.11 2021-04-20\r\n    OpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53829414/jacoco-not-generating-coverage-reports-based-on-source-file-method-names-not-c\r\n  [2]: https://i.stack.imgur.com/MB9hd.png","title":"Source file was not found during generation of report","body":"<p>help me understand what's wrong, please.\nI've worked with multi-module project and faced one problem.\nMy architecture look like this:</p>\n<pre><code>proj1\n-src\n--main\n---java\n----com.myProj.myApi\n-----directories containing .java files\n\n... // same proj2 and proj3\n\nrootProject src\n-main\n--java\n---com.myProj.myApi\n----Application.java\n-test\n--test .java files\n</code></pre>\n<p>In the root gradle, I have defined the following:</p>\n<ol>\n<li>Variable with project names.</li>\n<li>After testing useTestNG(), the jacocoTestReport() task starts.</li>\n<li>Inside the jacocoTestReport(), I have determined which java files need to be loaded and checked.\nMy root build.gradle:</li>\n</ol>\n<pre><code>  repositories {\n    mavenLocal()\n    mavenCentral()\n    tasks.withType(Javadoc).all { enabled = false }\n    tasks.withType(JavaCompile).all { options.encoding = 'UTF-8'  }\n  }\n\n  group = 'com.myProj.myApi'\n  version = '1.0.0-SNAPSHOT'\n\n  apply plugin: 'java'\n  apply plugin: 'jacoco'\n  apply plugin: 'java-library'\n\n  jacoco {\n    toolVersion = &quot;0.8.5&quot;\n  }\n\n  def otherProjects = [':proj1', ':proj2', ':proj3']\n\ntest {\n  useTestNG()\n  finalizedBy jacocoTestReport\n}\n\notherProjects.each {\n  evaluationDependsOn it\n}\n\njacocoTestReport {\n  FileTree sourceTree = files().getAsFileTree()\n  FileTree classTree = files().getAsFileTree()\n\n  otherProjects.each {\n    sourceTree += project(it).sourceSets.main.allJava\n    classTree += project(it).sourceSets.main.output.asFileTree\n  }\n\n  sourceTree = sourceTree.matching {\n    exclude '**/nonTestedClass.java'\n  }\n\n  classTree = classTree.matching {\n    exclude '**/nonTestedClass.class'\n  }\n\n  getAdditionalSourceDirs().setFrom(sourceTree)\n  getAdditionalClassDirs().setFrom(classTree)\n  reports {\n    html.enabled = true\n    xml.enabled = true\n    csv.enabled = false\n  }\n}\n\ndependencies {\n  implementation project(':proj1')\n  implementation project(':proj2')\n  implementation project(':proj3')\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n  testImplementation 'org.testng:testng'\n}\n</code></pre>\n<p>Gradle version is 7.0.1. Java 11.\nI've looked <a href=\"https://stackoverflow.com/questions/53829414/jacoco-not-generating-coverage-reports-based-on-source-file-method-names-not-c\">this post</a>, but my paths for each project are correct as you can see in architecture.</p>\n<p><a href=\"https://i.stack.imgur.com/MB9hd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MB9hd.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>EDIT 1</strong>\nI found that in each subproject, the build directories contain class files only for those java files that are in a specific subproject. Maybe this is the problem? Maybe I need to send all class files to the root build directory or not?\nP.S. build.gradle of subprojects do not contain any jacoco settings.</p>\n<p><strong>EDIT 2</strong>\nI've added print for getAdditional...Dirs() and learned that all paths are correct and found.\nAlso terminal gives me this info:</p>\n<pre><code>&gt; Task :jacocoTestReport\n[ant:jacocoReport] Classes in bundle 'myProj' do no match with execution data. For report generation the same class files must be used as at runtime.\n</code></pre>\n<p>But it's very strange, because when i've added this code</p>\n<pre><code>println(JavaVersion.current())\n</code></pre>\n<p>I've got this result: Java Version: 11. It's correct version of my Java:</p>\n<pre><code>$ java --version\nopenjdk 11.0.11 2021-04-20\nOpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","python","c++","c","hash"],"comments":[{"owner":{"account_id":4993527,"reputation":54665,"user_id":4014959,"display_name":"PM 2Ring"},"score":2,"creation_date":1415607288,"post_id":26838194,"comment_id":42243226,"body_markdown":"possible duplicate of [Persisting hashlib state](http://stackoverflow.com/questions/2130892/persisting-hashlib-state)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2130892/persisting-hashlib-state\">Persisting hashlib state</a>"},{"owner":{"account_id":4993527,"reputation":54665,"user_id":4014959,"display_name":"PM 2Ring"},"score":0,"creation_date":1415607436,"post_id":26838194,"comment_id":42243281,"body_markdown":"As you&#39;ve no doubt discovered you can&#39;t pickle hashlib&#39;s HASH objects; see [Persisting hashlib state](http://stackoverflow.com/q/2130892/4014959) for an explanation and some options. But you can speed up your hashing by using a larger blocksize, eg 64kB.","body":"As you&#39;ve no doubt discovered you can&#39;t pickle hashlib&#39;s HASH objects; see <a href=\"http://stackoverflow.com/q/2130892/4014959\">Persisting hashlib state</a> for an explanation and some options. But you can speed up your hashing by using a larger blocksize, eg 64kB."},{"owner":{"account_id":2814447,"reputation":567,"user_id":2419921,"accept_rate":60,"display_name":"Devesh Saini"},"score":0,"creation_date":1415608182,"post_id":26838194,"comment_id":42243572,"body_markdown":"@PM2Ring No answer is satisfying in your suggested question because I need something(SOME_CLASS) which can persist any Hash object from hashlib.","body":"@PM2Ring No answer is satisfying in your suggested question because I need something(SOME_CLASS) which can persist any Hash object from hashlib."},{"owner":{"account_id":4993527,"reputation":54665,"user_id":4014959,"display_name":"PM 2Ring"},"score":1,"creation_date":1415646852,"post_id":26838194,"comment_id":42264743,"body_markdown":"The main answer in the question I linked to explains why you **can&#39;t** persist Hash objects from hashlib. I agree that the options mentioned in those answers are unsatisfactory. If you _really_ need hash objects that can persist you&#39;ll need to write your own module. Have you tried my suggestion of using a larger block size? In my experiments 64 kilobytes (65536 bytes) works quite well.","body":"The main answer in the question I linked to explains why you <b>can&#39;t</b> persist Hash objects from hashlib. I agree that the options mentioned in those answers are unsatisfactory. If you <i>really</i> need hash objects that can persist you&#39;ll need to write your own module. Have you tried my suggestion of using a larger block size? In my experiments 64 kilobytes (65536 bytes) works quite well."},{"owner":{"account_id":4993527,"reputation":54665,"user_id":4014959,"display_name":"PM 2Ring"},"score":0,"creation_date":1415685255,"post_id":26838194,"comment_id":42278185,"body_markdown":"That question I linked to has links to pure Python implementations of sha256 and MD5 which can be used to make persistable hash objects, and [this answer](http://stackoverflow.com/a/5866304/4014959) shows how to do it for MD5. But I expect that on standard Python this approach will be *much* slower than hashlib, because most of the work in hashlib is done by the OpenSSL library, which is compiled C/C++ code.","body":"That question I linked to has links to pure Python implementations of sha256 and MD5 which can be used to make persistable hash objects, and <a href=\"http://stackoverflow.com/a/5866304/4014959\">this answer</a> shows how to do it for MD5. But I expect that on standard Python this approach will be <i>much</i> slower than hashlib, because most of the work in hashlib is done by the OpenSSL library, which is compiled C/C++ code."},{"owner":{"account_id":4993527,"reputation":54665,"user_id":4014959,"display_name":"PM 2Ring"},"score":0,"creation_date":1415788678,"post_id":26838194,"comment_id":42324712,"body_markdown":"My previous answer to this question has been migrated to [a new question](http://stackoverflow.com/questions/26880953/is-there-any-hash-function-which-have-following-properties/26881016#26881016), as suggested in a (deleted) comment by Devesh Saini.","body":"My previous answer to this question has been migrated to <a href=\"http://stackoverflow.com/questions/26880953/is-there-any-hash-function-which-have-following-properties/26881016#26881016\">a new question</a>, as suggested in a (deleted) comment by Devesh Saini."},{"owner":{"account_id":2814447,"reputation":567,"user_id":2419921,"accept_rate":60,"display_name":"Devesh Saini"},"score":0,"creation_date":1415789935,"post_id":26838194,"comment_id":42325445,"body_markdown":"@PM2Ring What do you want to indicate?","body":"@PM2Ring What do you want to indicate?"},{"owner":{"account_id":4993527,"reputation":54665,"user_id":4014959,"display_name":"PM 2Ring"},"score":0,"creation_date":1415790516,"post_id":26838194,"comment_id":42325753,"body_markdown":"I&#39;m just indicating the new location of my program in case anyone was wondering what happened to it. Why have you put a bounty on this question?","body":"I&#39;m just indicating the new location of my program in case anyone was wondering what happened to it. Why have you put a bounty on this question?"},{"owner":{"account_id":2814447,"reputation":567,"user_id":2419921,"accept_rate":60,"display_name":"Devesh Saini"},"score":0,"creation_date":1415791278,"post_id":26838194,"comment_id":42326141,"body_markdown":"I have put a bounty on it because it haven&#39;t got much attention. Also, If someone having the answer, feeling lazy to write SOME_CLASS for just few points then this small bounty may get his/her attention to write code for me. If I had more reputation, I would offered a greater bounty on it because I seriously need answer.","body":"I have put a bounty on it because it haven&#39;t got much attention. Also, If someone having the answer, feeling lazy to write SOME_CLASS for just few points then this small bounty may get his/her attention to write code for me. If I had more reputation, I would offered a greater bounty on it because I seriously need answer."},{"owner":{"account_id":4993527,"reputation":54665,"user_id":4014959,"display_name":"PM 2Ring"},"score":2,"creation_date":1415792688,"post_id":26838194,"comment_id":42326905,"body_markdown":"But as has already been explained, **it&#39;s simply not possible** to &quot;pause/resume md5 and sha256 hash object from standard &quot;hashlib&quot; module&quot;. The state data needed to make it possible is not accessible in any way via the Python hashlib and its hash objects. However, a new, functionally-equivalent, implementation of hashlib _could_ allow such pausing and resuming, since the `struct SHAstate_st` aka `SHA_CTX` _is_ accessible to C programs that use OpenSSL. See `&lt;openssl/sha.h&gt;` (on my system that header is in `/usr/include`).","body":"But as has already been explained, <b>it&#39;s simply not possible</b> to &quot;pause/resume md5 and sha256 hash object from standard &quot;hashlib&quot; module&quot;. The state data needed to make it possible is not accessible in any way via the Python hashlib and its hash objects. However, a new, functionally-equivalent, implementation of hashlib <i>could</i> allow such pausing and resuming, since the <code>struct SHAstate_st</code> aka <code>SHA_CTX</code> <i>is</i> accessible to C programs that use OpenSSL. See <code>&lt;openssl&#47;sha.h&gt;</code> (on my system that header is in <code>&#47;usr&#47;include</code>)."},{"owner":{"account_id":2814447,"reputation":567,"user_id":2419921,"accept_rate":60,"display_name":"Devesh Saini"},"score":0,"creation_date":1415793030,"post_id":26838194,"comment_id":42327096,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/64784/discussion-between-devesh-saini-and-pm-2ring).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/64784/discussion-between-devesh-saini-and-pm-2ring\">continue this discussion in chat</a>."},{"owner":{"account_id":3823438,"reputation":1079,"user_id":3170912,"display_name":"iwolf"},"score":0,"creation_date":1415923820,"post_id":26838194,"comment_id":42389765,"body_markdown":"hmm... write this code for +50 rep, or keep it to myself so that only MY bitcoin miner speeds up? You&#39;ve given us a tough choice.","body":"hmm... write this code for +50 rep, or keep it to myself so that only MY bitcoin miner speeds up? You&#39;ve given us a tough choice."},{"owner":{"account_id":4993527,"reputation":54665,"user_id":4014959,"display_name":"PM 2Ring"},"score":0,"creation_date":1415939764,"post_id":26838194,"comment_id":42393273,"body_markdown":"@iwolf : Hmmm. I know nothing about bitcoin. Maybe I shouldn&#39;t post my new code. OTOH, it runs at about the same speed as `sha256sum`, so maybe it gives no advantage... but what would _I_ know. :)","body":"@iwolf : Hmmm. I know nothing about bitcoin. Maybe I shouldn&#39;t post my new code. OTOH, it runs at about the same speed as <code>sha256sum</code>, so maybe it gives no advantage... but what would <i>I</i> know. :)"}],"answers":[{"tags":[],"owner":{"account_id":4993527,"reputation":54665,"user_id":4014959,"display_name":"PM 2Ring"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1415965799,"creation_date":1415758658,"answer_id":26878137,"question_id":26838194,"body_markdown":"It turned out to be easier than I thought to rewrite hashlib to be resumable, at least, the SHA-256 portion. I spent some time playing with C code that uses the OpenSSL crypto library, but then I realised that I don&#39;t need all that stuff, I can just use ctypes.\r\n\r\n\r\n**rehash.py**\r\n    \r\n    #! /usr/bin/env python\r\n    \r\n    &#39;&#39;&#39; A resumable implementation of SHA-256 using ctypes with the OpenSSL crypto library\r\n    \r\n        Written by PM 2Ring 2014.11.13\r\n    &#39;&#39;&#39;\r\n    \r\n    from ctypes import *\r\n    \r\n    SHA_LBLOCK = 16\r\n    SHA256_DIGEST_LENGTH = 32\r\n    \r\n    class SHA256_CTX(Structure):\r\n        _fields_ = [\r\n            (&quot;h&quot;, c_long * 8),\r\n            (&quot;Nl&quot;, c_long),\r\n            (&quot;Nh&quot;, c_long),\r\n            (&quot;data&quot;, c_long * SHA_LBLOCK),\r\n            (&quot;num&quot;, c_uint),\r\n            (&quot;md_len&quot;, c_uint)\r\n        ]\r\n    \r\n    HashBuffType = c_ubyte * SHA256_DIGEST_LENGTH\r\n    \r\n    #crypto = cdll.LoadLibrary(&quot;libcrypto.so&quot;)\r\n    crypto = cdll.LoadLibrary(&quot;libeay32.dll&quot; if os.name == &quot;nt&quot; else &quot;libssl.so&quot;)\r\n    \r\n    class sha256(object):\r\n        digest_size = SHA256_DIGEST_LENGTH\r\n    \r\n        def __init__(self, datastr=None):\r\n            self.ctx = SHA256_CTX()\r\n            crypto.SHA256_Init(byref(self.ctx))\r\n            if datastr:\r\n                self.update(datastr)\r\n    \r\n        def update(self, datastr):\r\n            crypto.SHA256_Update(byref(self.ctx), datastr, c_int(len(datastr)))\r\n    \r\n        #Clone the current context\r\n        def _copy_ctx(self):\r\n            ctx = SHA256_CTX()\r\n            pointer(ctx)[0] = self.ctx\r\n            return ctx\r\n    \r\n        def copy(self):\r\n            other = sha256()\r\n            other.ctx = self._copy_ctx()\r\n            return other\r\n    \r\n        def digest(self):\r\n            #Preserve context in case we get called before hashing is\r\n            # really finished, since SHA256_Final() clears the SHA256_CTX\r\n            ctx = self._copy_ctx()\r\n            hashbuff = HashBuffType()\r\n            crypto.SHA256_Final(hashbuff, byref(self.ctx))\r\n            self.ctx = ctx\r\n            return str(bytearray(hashbuff))\r\n    \r\n        def hexdigest(self):\r\n            return self.digest().encode(&#39;hex&#39;)\r\n    \r\n    #Tests\r\n    def main():\r\n        import cPickle\r\n        import hashlib\r\n    \r\n        data = (&quot;Nobody expects &quot;, &quot;the spammish &quot;, &quot;imposition!&quot;)\r\n    \r\n        print &quot;rehash\\n&quot;\r\n    \r\n        shaA = sha256(&#39;&#39;.join(data))\r\n        print shaA.hexdigest()\r\n        print repr(shaA.digest())\r\n        print &quot;digest size =&quot;, shaA.digest_size\r\n        print\r\n    \r\n        shaB = sha256()\r\n        shaB.update(data[0])\r\n        print shaB.hexdigest()\r\n    \r\n        #Test pickling\r\n        sha_pickle = cPickle.dumps(shaB, -1)\r\n        print &quot;Pickle length:&quot;, len(sha_pickle)\r\n        shaC = cPickle.loads(sha_pickle)\r\n    \r\n        shaC.update(data[1])\r\n        print shaC.hexdigest()\r\n    \r\n        #Test copying. Note that copy can be pickled\r\n        shaD = shaC.copy()\r\n    \r\n        shaC.update(data[2])\r\n        print shaC.hexdigest()\r\n    \r\n    \r\n        #Verify against hashlib.sha256()\r\n        print &quot;\\nhashlib\\n&quot;\r\n    \r\n        shaD = hashlib.sha256(&#39;&#39;.join(data))\r\n        print shaD.hexdigest()\r\n        print repr(shaD.digest())\r\n        print &quot;digest size =&quot;, shaD.digest_size\r\n        print\r\n    \r\n        shaE = hashlib.sha256(data[0])\r\n        print shaE.hexdigest()\r\n    \r\n        shaE.update(data[1])\r\n        print shaE.hexdigest()\r\n    \r\n        #Test copying. Note that hashlib copy can NOT be pickled\r\n        shaF = shaE.copy()\r\n        shaF.update(data[2])\r\n        print shaF.hexdigest()\r\n    \r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        main()\r\n    \r\n**resumable_SHA-256.py**\r\n    \r\n    #! /usr/bin/env python\r\n    \r\n    &#39;&#39;&#39; Resumable SHA-256 hash for large files using the OpenSSL crypto library\r\n    \r\n        The hashing process may be interrupted by Control-C (SIGINT) or SIGTERM.\r\n        When a signal is received, hashing continues until the end of the\r\n        current chunk, then the current file position, total file size, and\r\n        the sha object is saved to a file. The name of this file is formed by\r\n        appending &#39;.hash&#39; to the name of the file being hashed.\r\n    \r\n        Just re-run the program to resume hashing. The &#39;.hash&#39; file will be deleted\r\n        once hashing is completed.\r\n    \r\n        Written by PM 2Ring 2014.11.14\r\n    &#39;&#39;&#39;\r\n    \r\n    import cPickle as pickle\r\n    import os\r\n    import signal\r\n    import sys\r\n    \r\n    import rehash\r\n    \r\n    quit = False\r\n    \r\n    blocksize = 1&lt;&lt;16   # 64kB\r\n    blocksperchunk = 1&lt;&lt;8\r\n    \r\n    chunksize = blocksize * blocksperchunk\r\n    \r\n    def handler(signum, frame):\r\n        global quit\r\n        print &quot;\\nGot signal %d, cleaning up.&quot; % signum\r\n        quit = True\r\n    \r\n    \r\n    def do_hash(fname, filesize):\r\n        hashname = fname + &#39;.hash&#39;\r\n        if os.path.exists(hashname):\r\n            with open(hashname, &#39;rb&#39;) as f:\r\n                pos, fsize, sha = pickle.load(f)\r\n            if fsize != filesize:\r\n                print &quot;Error: file size of &#39;%s&#39; doesn&#39;t match size recorded in &#39;%s&#39;&quot; % (fname, hashname)\r\n                print &quot;%d != %d. Aborting&quot; % (fsize, filesize)\r\n                exit(1)\r\n        else:\r\n            pos, fsize, sha = 0, filesize, rehash.sha256()\r\n    \r\n        finished = False\r\n        with open(fname, &#39;rb&#39;) as f:\r\n            f.seek(pos)\r\n            while not (quit or finished):\r\n                for _ in xrange(blocksperchunk):\r\n                    block = f.read(blocksize)\r\n                    if block == &#39;&#39;:\r\n                        finished = True\r\n                        break\r\n                    sha.update(block)\r\n    \r\n                pos += chunksize\r\n                sys.stderr.write(&quot; %6.2f%% of %d\\r&quot; % (100.0 * pos / fsize, fsize))\r\n                if finished or quit:\r\n                    break\r\n    \r\n        if quit:\r\n            with open(hashname, &#39;wb&#39;) as f:\r\n                pickle.dump((pos, fsize, sha), f, -1)\r\n        elif os.path.exists(hashname):\r\n            os.remove(hashname)\r\n    \r\n        return (not quit), pos, sha.hexdigest()\r\n    \r\n    \r\n    def main():\r\n        if len(sys.argv) != 2:\r\n            print &quot;Resumable SHA-256 hash of a file.&quot;\r\n            print &quot;Usage:\\npython %s filename\\n&quot; % sys.argv[0]\r\n            exit(1)\r\n    \r\n        fname = sys.argv[1]\r\n        filesize = os.path.getsize(fname)\r\n    \r\n        signal.signal(signal.SIGINT, handler)\r\n        signal.signal(signal.SIGTERM, handler)\r\n    \r\n        finished, pos, hexdigest = do_hash(fname, filesize)\r\n        if finished:\r\n            print &quot;%s  %s&quot; % (hexdigest, fname)\r\n        else:\r\n            print &quot;sha-256 hash of &#39;%s&#39; incomplete&quot; % fname\r\n            print &quot;%s&quot; % hexdigest\r\n            print &quot;%d / %d bytes processed.&quot; % (pos, filesize)\r\n    \r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        main()\r\n\r\n**demo**\r\n\r\n    import rehash\r\n    import pickle\r\n    sha=rehash.sha256(&quot;Hello &quot;)\r\n    s=pickle.dumps(sha.ctx)\r\n    sha=rehash.sha256()\r\n    sha.ctx=pickle.loads(s)\r\n    sha.update(&quot;World&quot;)\r\n    print sha.hexdigest()\r\n\r\n**output**\r\n\r\n    a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e\r\n\r\n**edit**\r\n\r\nI&#39;ve just made a minor edit to allow `rehash` to work on Windows, too, although I&#39;ve only tested it on WinXP. The `libeay32.dll` can be in the current directory, or somewhere in the system library search path, eg `WINDOWS\\system32`. My rather ancient (and mostly unused) XP installation couldn&#39;t find the .dll, even though it&#39;s used by OpenOffice and Avira. So I just copied it from the Avira folder to system32. And now it works perfectly. :)","title":"Persisting sha256 hash objects?","body":"<p>It turned out to be easier than I thought to rewrite hashlib to be resumable, at least, the SHA-256 portion. I spent some time playing with C code that uses the OpenSSL crypto library, but then I realised that I don't need all that stuff, I can just use ctypes.</p>\n\n<p><strong>rehash.py</strong></p>\n\n<pre><code>#! /usr/bin/env python\n\n''' A resumable implementation of SHA-256 using ctypes with the OpenSSL crypto library\n\n    Written by PM 2Ring 2014.11.13\n'''\n\nfrom ctypes import *\n\nSHA_LBLOCK = 16\nSHA256_DIGEST_LENGTH = 32\n\nclass SHA256_CTX(Structure):\n    _fields_ = [\n        (\"h\", c_long * 8),\n        (\"Nl\", c_long),\n        (\"Nh\", c_long),\n        (\"data\", c_long * SHA_LBLOCK),\n        (\"num\", c_uint),\n        (\"md_len\", c_uint)\n    ]\n\nHashBuffType = c_ubyte * SHA256_DIGEST_LENGTH\n\n#crypto = cdll.LoadLibrary(\"libcrypto.so\")\ncrypto = cdll.LoadLibrary(\"libeay32.dll\" if os.name == \"nt\" else \"libssl.so\")\n\nclass sha256(object):\n    digest_size = SHA256_DIGEST_LENGTH\n\n    def __init__(self, datastr=None):\n        self.ctx = SHA256_CTX()\n        crypto.SHA256_Init(byref(self.ctx))\n        if datastr:\n            self.update(datastr)\n\n    def update(self, datastr):\n        crypto.SHA256_Update(byref(self.ctx), datastr, c_int(len(datastr)))\n\n    #Clone the current context\n    def _copy_ctx(self):\n        ctx = SHA256_CTX()\n        pointer(ctx)[0] = self.ctx\n        return ctx\n\n    def copy(self):\n        other = sha256()\n        other.ctx = self._copy_ctx()\n        return other\n\n    def digest(self):\n        #Preserve context in case we get called before hashing is\n        # really finished, since SHA256_Final() clears the SHA256_CTX\n        ctx = self._copy_ctx()\n        hashbuff = HashBuffType()\n        crypto.SHA256_Final(hashbuff, byref(self.ctx))\n        self.ctx = ctx\n        return str(bytearray(hashbuff))\n\n    def hexdigest(self):\n        return self.digest().encode('hex')\n\n#Tests\ndef main():\n    import cPickle\n    import hashlib\n\n    data = (\"Nobody expects \", \"the spammish \", \"imposition!\")\n\n    print \"rehash\\n\"\n\n    shaA = sha256(''.join(data))\n    print shaA.hexdigest()\n    print repr(shaA.digest())\n    print \"digest size =\", shaA.digest_size\n    print\n\n    shaB = sha256()\n    shaB.update(data[0])\n    print shaB.hexdigest()\n\n    #Test pickling\n    sha_pickle = cPickle.dumps(shaB, -1)\n    print \"Pickle length:\", len(sha_pickle)\n    shaC = cPickle.loads(sha_pickle)\n\n    shaC.update(data[1])\n    print shaC.hexdigest()\n\n    #Test copying. Note that copy can be pickled\n    shaD = shaC.copy()\n\n    shaC.update(data[2])\n    print shaC.hexdigest()\n\n\n    #Verify against hashlib.sha256()\n    print \"\\nhashlib\\n\"\n\n    shaD = hashlib.sha256(''.join(data))\n    print shaD.hexdigest()\n    print repr(shaD.digest())\n    print \"digest size =\", shaD.digest_size\n    print\n\n    shaE = hashlib.sha256(data[0])\n    print shaE.hexdigest()\n\n    shaE.update(data[1])\n    print shaE.hexdigest()\n\n    #Test copying. Note that hashlib copy can NOT be pickled\n    shaF = shaE.copy()\n    shaF.update(data[2])\n    print shaF.hexdigest()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p><strong>resumable_SHA-256.py</strong></p>\n\n<pre><code>#! /usr/bin/env python\n\n''' Resumable SHA-256 hash for large files using the OpenSSL crypto library\n\n    The hashing process may be interrupted by Control-C (SIGINT) or SIGTERM.\n    When a signal is received, hashing continues until the end of the\n    current chunk, then the current file position, total file size, and\n    the sha object is saved to a file. The name of this file is formed by\n    appending '.hash' to the name of the file being hashed.\n\n    Just re-run the program to resume hashing. The '.hash' file will be deleted\n    once hashing is completed.\n\n    Written by PM 2Ring 2014.11.14\n'''\n\nimport cPickle as pickle\nimport os\nimport signal\nimport sys\n\nimport rehash\n\nquit = False\n\nblocksize = 1&lt;&lt;16   # 64kB\nblocksperchunk = 1&lt;&lt;8\n\nchunksize = blocksize * blocksperchunk\n\ndef handler(signum, frame):\n    global quit\n    print \"\\nGot signal %d, cleaning up.\" % signum\n    quit = True\n\n\ndef do_hash(fname, filesize):\n    hashname = fname + '.hash'\n    if os.path.exists(hashname):\n        with open(hashname, 'rb') as f:\n            pos, fsize, sha = pickle.load(f)\n        if fsize != filesize:\n            print \"Error: file size of '%s' doesn't match size recorded in '%s'\" % (fname, hashname)\n            print \"%d != %d. Aborting\" % (fsize, filesize)\n            exit(1)\n    else:\n        pos, fsize, sha = 0, filesize, rehash.sha256()\n\n    finished = False\n    with open(fname, 'rb') as f:\n        f.seek(pos)\n        while not (quit or finished):\n            for _ in xrange(blocksperchunk):\n                block = f.read(blocksize)\n                if block == '':\n                    finished = True\n                    break\n                sha.update(block)\n\n            pos += chunksize\n            sys.stderr.write(\" %6.2f%% of %d\\r\" % (100.0 * pos / fsize, fsize))\n            if finished or quit:\n                break\n\n    if quit:\n        with open(hashname, 'wb') as f:\n            pickle.dump((pos, fsize, sha), f, -1)\n    elif os.path.exists(hashname):\n        os.remove(hashname)\n\n    return (not quit), pos, sha.hexdigest()\n\n\ndef main():\n    if len(sys.argv) != 2:\n        print \"Resumable SHA-256 hash of a file.\"\n        print \"Usage:\\npython %s filename\\n\" % sys.argv[0]\n        exit(1)\n\n    fname = sys.argv[1]\n    filesize = os.path.getsize(fname)\n\n    signal.signal(signal.SIGINT, handler)\n    signal.signal(signal.SIGTERM, handler)\n\n    finished, pos, hexdigest = do_hash(fname, filesize)\n    if finished:\n        print \"%s  %s\" % (hexdigest, fname)\n    else:\n        print \"sha-256 hash of '%s' incomplete\" % fname\n        print \"%s\" % hexdigest\n        print \"%d / %d bytes processed.\" % (pos, filesize)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p><strong>demo</strong></p>\n\n<pre><code>import rehash\nimport pickle\nsha=rehash.sha256(\"Hello \")\ns=pickle.dumps(sha.ctx)\nsha=rehash.sha256()\nsha.ctx=pickle.loads(s)\nsha.update(\"World\")\nprint sha.hexdigest()\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e\n</code></pre>\n\n<p><strong>edit</strong></p>\n\n<p>I've just made a minor edit to allow <code>rehash</code> to work on Windows, too, although I've only tested it on WinXP. The <code>libeay32.dll</code> can be in the current directory, or somewhere in the system library search path, eg <code>WINDOWS\\system32</code>. My rather ancient (and mostly unused) XP installation couldn't find the .dll, even though it's used by OpenOffice and Avira. So I just copied it from the Avira folder to system32. And now it works perfectly. :)</p>\n"},{"tags":[],"owner":{"account_id":380897,"reputation":1088,"user_id":735210,"accept_rate":79,"display_name":"acapola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684660986,"creation_date":1684603490,"answer_id":76296495,"question_id":26838194,"body_markdown":"A pure python that support import / export to python dict: https://pypi.org/project/sha256bit/\r\n\r\nDemo:\r\n\r\n    &gt;&gt;&gt; from sha256bit import Sha256bit\r\n    &gt;&gt;&gt; h1 = Sha256bit(&quot;a&quot;.encode())\r\n    &gt;&gt;&gt; state = h1.export_state()\r\n    &gt;&gt;&gt; h2 = Sha256bit.import_state(state)\r\n    &gt;&gt;&gt; h2.update(&quot;bc&quot;.encode())\r\n    &gt;&gt;&gt; h2.hexdigest()\r\n    &#39;ba7816bf8f01cfea414140de5dae2223b00361a396177a9cb410ff61f20015ad&#39;\r\n\r\n`state` is a regular python dict that can be persisted.","title":"Persisting sha256 hash objects?","body":"<p>A pure python that support import / export to python dict: <a href=\"https://pypi.org/project/sha256bit/\" rel=\"nofollow noreferrer\">https://pypi.org/project/sha256bit/</a></p>\n<p>Demo:</p>\n<pre><code>&gt;&gt;&gt; from sha256bit import Sha256bit\n&gt;&gt;&gt; h1 = Sha256bit(&quot;a&quot;.encode())\n&gt;&gt;&gt; state = h1.export_state()\n&gt;&gt;&gt; h2 = Sha256bit.import_state(state)\n&gt;&gt;&gt; h2.update(&quot;bc&quot;.encode())\n&gt;&gt;&gt; h2.hexdigest()\n'ba7816bf8f01cfea414140de5dae2223b00361a396177a9cb410ff61f20015ad'\n</code></pre>\n<p><code>state</code> is a regular python dict that can be persisted.</p>\n"}],"owner":{"account_id":2814447,"reputation":567,"user_id":2419921,"accept_rate":60,"display_name":"Devesh Saini"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2313,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":26878137,"answer_count":2,"score":8,"last_activity_date":1684660986,"creation_date":1415601837,"question_id":26838194,"body_markdown":"I need a Python/C/C++/Java implementation which can **pause hashing progress** and **store** that progress in a file in such a way that the progress is **recoverable** from that file at a later stage.\r\n\r\nNo matter in what language it is written from above listed, it should work properly in Python. It is recommended that you may provide that to work well with &quot;hashlib&quot; however it is not necessary. Also, if such a thing already exist, a link to that is sufficient.\r\n\r\n**For an idea**, what your implementation should achieve.\r\n\r\n    import hashlib\r\n    import hashpersist #THIS IS NEEDED.\r\n\r\n    sha256 = hashlib.sha256(&quot;Hello &quot;)\r\n    hashpersist.save_state(sha256, open(&#39;test_file&#39;, &#39;w&#39;))\r\n    \r\n    sha256_recovered = hashpersist.load_state(open(&#39;test_file&#39;, &#39;r&#39;))\r\n    sha256_recovered.update(&quot;World&quot;)\r\n    print sha256_recovered.hexdigest()\r\n\r\nThis should give the same output as we had done simple hashing of &quot;Hello World&quot; with standard sha256 function.\r\n\r\n    a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e\r\n\r\n    ","title":"Persisting sha256 hash objects?","body":"<p>I need a Python/C/C++/Java implementation which can <strong>pause hashing progress</strong> and <strong>store</strong> that progress in a file in such a way that the progress is <strong>recoverable</strong> from that file at a later stage.</p>\n\n<p>No matter in what language it is written from above listed, it should work properly in Python. It is recommended that you may provide that to work well with \"hashlib\" however it is not necessary. Also, if such a thing already exist, a link to that is sufficient.</p>\n\n<p><strong>For an idea</strong>, what your implementation should achieve.</p>\n\n<pre><code>import hashlib\nimport hashpersist #THIS IS NEEDED.\n\nsha256 = hashlib.sha256(\"Hello \")\nhashpersist.save_state(sha256, open('test_file', 'w'))\n\nsha256_recovered = hashpersist.load_state(open('test_file', 'r'))\nsha256_recovered.update(\"World\")\nprint sha256_recovered.hexdigest()\n</code></pre>\n\n<p>This should give the same output as we had done simple hashing of \"Hello World\" with standard sha256 function.</p>\n\n<pre><code>a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e\n</code></pre>\n"},{"tags":["java","garbage-collection","profiling","heap-dump"],"comments":[{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":1,"creation_date":1600713568,"post_id":63997436,"comment_id":113168717,"body_markdown":"I feel your pain -- the Eclipse heap analyser can use a truly colossal amount of heap. I&#39;ve not found a better way to use it, than to set a massive -Xmx value, and allocate a lot of swap to the system. It&#39;s very slow, though. I&#39;d also like to know if there&#39;s a better way.","body":"I feel your pain -- the Eclipse heap analyser can use a truly colossal amount of heap. I&#39;ve not found a better way to use it, than to set a massive -Xmx value, and allocate a lot of swap to the system. It&#39;s very slow, though. I&#39;d also like to know if there&#39;s a better way."}],"answers":[{"tags":[],"owner":{"account_id":1496697,"reputation":8191,"user_id":1402453,"display_name":"Alexey Ragozin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600754612,"creation_date":1600754612,"answer_id":64003891,"question_id":63997436,"body_markdown":"Processing large heap dump is a challenge. Both VisualVM and Eclipse Memory Analyzer required too much memory to process heap dumps in order of few dozen of GiB.\r\n\r\nCommercial profilers show better result (YourKit in particular) though I not sure of their practical limit.\r\n\r\nTo routinely process 100+ GiB, I came up you with headless solution [heaplib], which based on code base from VisualVM (Netbeans actually).\r\n\r\nHeaplib is neigther graphical, nor interactive. It is oriented to automated reporting.\r\nTool allows you to write code for heap analysis in OQL/JavaScript (or Java if you wish), though capabilities are limited to accommodate memory requirements. Processing of 100GiB could take hour, but for non interactive workflow it is acceptable.\r\n\r\n [heaplib]: https://github.com/aragozin/heaplib","title":"How can I analyse large size heap dump around of 35-40 GB","body":"<p>Processing large heap dump is a challenge. Both VisualVM and Eclipse Memory Analyzer required too much memory to process heap dumps in order of few dozen of GiB.</p>\n<p>Commercial profilers show better result (YourKit in particular) though I not sure of their practical limit.</p>\n<p>To routinely process 100+ GiB, I came up you with headless solution <a href=\"https://github.com/aragozin/heaplib\" rel=\"nofollow noreferrer\">heaplib</a>, which based on code base from VisualVM (Netbeans actually).</p>\n<p>Heaplib is neigther graphical, nor interactive. It is oriented to automated reporting.\nTool allows you to write code for heap analysis in OQL/JavaScript (or Java if you wish), though capabilities are limited to accommodate memory requirements. Processing of 100GiB could take hour, but for non interactive workflow it is acceptable.</p>\n"},{"tags":[],"owner":{"account_id":6662080,"reputation":103,"user_id":5140851,"display_name":"Vishy Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684660956,"creation_date":1684660956,"answer_id":76299160,"question_id":63997436,"body_markdown":"Challenge is that RAM should be larger than the heap dump hprof file. And usually our laptop hosting windows system has RAM &lt;=16 GB. Thus analyzing heap dump of 35-40 gb in local system is almost impossible.\r\n\r\nConfigure MAT in your remote unix server having enough RAM ( &gt; 35-40GB). And run it using command line. (GUI is always slower than command line anyway.)\r\n\r\nAssigning 8GB-10GB wont work. So Better to increase the heap assigned to java process.\r\n\r\n-vmargs\r\n-Xms40g\r\n-Xmx40g\r\n\r\nCheck by descriptive answer here.\r\nhttps://stackoverflow.com/a/76298700/5140851","title":"How can I analyse large size heap dump around of 35-40 GB","body":"<p>Challenge is that RAM should be larger than the heap dump hprof file. And usually our laptop hosting windows system has RAM &lt;=16 GB. Thus analyzing heap dump of 35-40 gb in local system is almost impossible.</p>\n<p>Configure MAT in your remote unix server having enough RAM ( &gt; 35-40GB). And run it using command line. (GUI is always slower than command line anyway.)</p>\n<p>Assigning 8GB-10GB wont work. So Better to increase the heap assigned to java process.</p>\n<p>-vmargs\n-Xms40g\n-Xmx40g</p>\n<p>Check by descriptive answer here.\n<a href=\"https://stackoverflow.com/a/76298700/5140851\">https://stackoverflow.com/a/76298700/5140851</a></p>\n"}],"owner":{"account_id":15327126,"reputation":41,"user_id":11057951,"display_name":"Prince Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1686,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1684660956,"creation_date":1600710141,"question_id":63997436,"body_markdown":"I have to analyse java heap dump of size 35-40GB, which can&#39;t be loaded on local machine except of remote servers of large memory.\r\n\r\nI found https://stackoverflow.com/questions/7254017/tool-for-analyzing-large-java-heap-dumps as the best link till now. But after configuring all the things and properly executing all the command lines, I was not able to get any report file.\r\n\r\nMy *ParseHeapDump.sh* file looks as\r\n\r\n    #!/bin/sh\r\n    #\r\n    # This script parses a heap dump.\r\n    #\r\n    # Usage: ParseHeapDump.sh &lt;path/to/dump.hprof&gt; [report]*\r\n    #\r\n    # The leak report has the id org.eclipse.mat.api:suspects\r\n    # The top component report has the id org.eclipse.mat.api:top_components\r\n    #\r\n    ./MemoryAnalyzer -consolelog -application org.eclipse.mat.api.parse &quot;$@&quot; -vmargs -Xms8g -Xmx10g -XX:-UseGCOverheadLimit\r\n\r\nand  *MemoryAnalyzer.ini* file looks as\r\n\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.5.0.v20180512-1130.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.700.v20180518-1200\r\n    java -Xmx8g -Xms10g -jar plugins/org.eclipse.equinox.launcher_1.5.0.v20180512-1130.jar -consoleLog -consolelog -application org.eclipse.mat.api.parse &quot;$@&quot;\r\n    -vmargs\r\n    -Xms8g\r\n    -Xmx10g\r\n\r\nPlease tell me If I&#39;m doing any mistake in configuration or suggest me any other tool available in the market.","title":"How can I analyse large size heap dump around of 35-40 GB","body":"<p>I have to analyse java heap dump of size 35-40GB, which can't be loaded on local machine except of remote servers of large memory.</p>\n<p>I found <a href=\"https://stackoverflow.com/questions/7254017/tool-for-analyzing-large-java-heap-dumps\">Tool for analyzing large Java heap dumps</a> as the best link till now. But after configuring all the things and properly executing all the command lines, I was not able to get any report file.</p>\n<p>My <em>ParseHeapDump.sh</em> file looks as</p>\n<pre><code>#!/bin/sh\n#\n# This script parses a heap dump.\n#\n# Usage: ParseHeapDump.sh &lt;path/to/dump.hprof&gt; [report]*\n#\n# The leak report has the id org.eclipse.mat.api:suspects\n# The top component report has the id org.eclipse.mat.api:top_components\n#\n./MemoryAnalyzer -consolelog -application org.eclipse.mat.api.parse &quot;$@&quot; -vmargs -Xms8g -Xmx10g -XX:-UseGCOverheadLimit\n</code></pre>\n<p>and  <em>MemoryAnalyzer.ini</em> file looks as</p>\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.5.0.v20180512-1130.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.700.v20180518-1200\njava -Xmx8g -Xms10g -jar plugins/org.eclipse.equinox.launcher_1.5.0.v20180512-1130.jar -consoleLog -consolelog -application org.eclipse.mat.api.parse &quot;$@&quot;\n-vmargs\n-Xms8g\n-Xmx10g\n</code></pre>\n<p>Please tell me If I'm doing any mistake in configuration or suggest me any other tool available in the market.</p>\n"},{"tags":["java","postgresql","jdbc","hikaricp"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1653696262,"post_id":72411539,"comment_id":127921386,"body_markdown":"I believe it should be `&quot;databaseName&quot;, &quot;[REDACTED]&quot;` not `&quot;database&quot;, &quot;[REDACTED]&quot;`.","body":"I believe it should be <code>&quot;databaseName&quot;, &quot;[REDACTED]&quot;</code> not <code>&quot;database&quot;, &quot;[REDACTED]&quot;</code>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1653696265,"post_id":72411539,"comment_id":127921387,"body_markdown":"See also the examples here: [How do I configure HikariCP for postgresql?](https://stackoverflow.com/questions/50213381/how-do-i-configure-hikaricp-for-postgresql)","body":"See also the examples here: <a href=\"https://stackoverflow.com/questions/50213381/how-do-i-configure-hikaricp-for-postgresql\">How do I configure HikariCP for postgresql?</a>"},{"owner":{"account_id":25409037,"reputation":33,"user_id":19217221,"display_name":"daferrecpr"},"score":0,"creation_date":1653697710,"post_id":72411539,"comment_id":127921587,"body_markdown":"Hello @andrewJames, is there a comprehensive list of property names somewhere? Sorry if this sounds idiotic.","body":"Hello @andrewJames, is there a comprehensive list of property names somewhere? Sorry if this sounds idiotic."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1653699390,"post_id":72411539,"comment_id":127921795,"body_markdown":"See the HikariCP web site for all the HikariCP settings. And see the relevant Postgres JDBC documentation for all the Postgres JDBC settings.","body":"See the HikariCP web site for all the HikariCP settings. And see the relevant Postgres JDBC documentation for all the Postgres JDBC settings."},{"owner":{"account_id":25409037,"reputation":33,"user_id":19217221,"display_name":"daferrecpr"},"score":0,"creation_date":1653705404,"post_id":72411539,"comment_id":127922369,"body_markdown":"I&#39;ve seen both sites, and sometimes the names don&#39;t correspond as in the case above - the Postgres JDBC driver says &quot;database&quot; is the name of the database name parameter.","body":"I&#39;ve seen both sites, and sometimes the names don&#39;t correspond as in the case above - the Postgres JDBC driver says &quot;database&quot; is the name of the database name parameter."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653709234,"post_id":72411539,"comment_id":127922790,"body_markdown":"Perhaps it would be easier to configure an object of type `PGSimpleDataSource` first. After that is done, pass to [`HikariConfig#setDataSource`](https://javadoc.io/static/com.zaxxer/HikariCP/5.0.1/com/zaxxer/hikari/HikariConfig.html#setDataSource(javax.sql.DataSource)).","body":"Perhaps it would be easier to configure an object of type <code>PGSimpleDataSource</code> first. After that is done, pass to <a href=\"https://javadoc.io/static/com.zaxxer/HikariCP/5.0.1/com/zaxxer/hikari/HikariConfig.html#setDataSource(javax.sql.DataSource)\" rel=\"nofollow noreferrer\"><code>HikariConfig#setDataSource</code></a>."},{"owner":{"account_id":25409037,"reputation":33,"user_id":19217221,"display_name":"daferrecpr"},"score":0,"creation_date":1653712150,"post_id":72411539,"comment_id":127923060,"body_markdown":"@BasilBourque Thanks for the suggestion. Didn&#39;t realize that was an option, and seems less ambiguous than the direct approach of adding properties using `addDataSourceProperty(&quot;something&quot;, &quot;the_other_thing&quot;)`.  I&#39;ll use that in the future.","body":"@BasilBourque Thanks for the suggestion. Didn&#39;t realize that was an option, and seems less ambiguous than the direct approach of adding properties using <code>addDataSourceProperty(&quot;something&quot;, &quot;the_other_thing&quot;)</code>.  I&#39;ll use that in the future."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1653721766,"post_id":72411539,"comment_id":127924166,"body_markdown":"@daferrecpr If my suggested approach works out, please come back here to draft, post, and accept an Answer to your own Question, for posterity.","body":"@daferrecpr If my suggested approach works out, please come back here to draft, post, and accept an Answer to your own Question, for posterity."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684659609,"creation_date":1653725231,"answer_id":72413985,"question_id":72411539,"body_markdown":"It gives that error because [`PGSimpleDataSource`][1] does not have a property `database` (i.e. it doesn&#39;t have a `setDatabase(String)` method). It does have a property `databaseName` ([`setDatabaseName`][2] defined in [`BaseDataSource`][3]). This property is specified in section _9.6.1 `DataSource` Properties_ of the JDBC 4.3 specification.\r\n\r\nReading the comments, it looks like you&#39;re confusing the documentation of the [JDBC URL format][4] (and connection properties) with the properties that are available on the data source implementations provided by the driver. To be clear, that documentation doesn&#39;t specify there is a property `database`, it only uses `database` as a placeholder in the JDBC URL syntax (as in jdbc:postgresql://_host_/_**database**_).\r\n\r\n\r\n  [1]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/PGSimpleDataSource.html\r\n  [2]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html#setDatabaseName-java.lang.String-\r\n  [3]: https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html\r\n  [4]: https://jdbc.postgresql.org/documentation/head/connect.html","title":"Why does HikariCP say &quot;Property database does not exist on target class org.postgresql.ds.PGSimpleDataSource&quot;?","body":"<p>It gives that error because <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/PGSimpleDataSource.html\" rel=\"nofollow noreferrer\"><code>PGSimpleDataSource</code></a> does not have a property <code>database</code> (i.e. it doesn't have a <code>setDatabase(String)</code> method). It does have a property <code>databaseName</code> (<a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html#setDatabaseName-java.lang.String-\" rel=\"nofollow noreferrer\"><code>setDatabaseName</code></a> defined in <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html\" rel=\"nofollow noreferrer\"><code>BaseDataSource</code></a>). This property is specified in section <em>9.6.1 <code>DataSource</code> Properties</em> of the JDBC 4.3 specification.</p>\n<p>Reading the comments, it looks like you're confusing the documentation of the <a href=\"https://jdbc.postgresql.org/documentation/head/connect.html\" rel=\"nofollow noreferrer\">JDBC URL format</a> (and connection properties) with the properties that are available on the data source implementations provided by the driver. To be clear, that documentation doesn't specify there is a property <code>database</code>, it only uses <code>database</code> as a placeholder in the JDBC URL syntax (as in jdbc:postgresql://<em>host</em>/<em><strong>database</strong></em>).</p>\n"}],"owner":{"account_id":25409037,"reputation":33,"user_id":19217221,"display_name":"daferrecpr"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1297,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72413985,"answer_count":1,"score":3,"last_activity_date":1684659609,"creation_date":1653689793,"question_id":72411539,"body_markdown":"I am attempting to set up various PostgreSQL JDBC driver [properties][1] to my HikariCP pool, but for some reason, it&#39;s stating that those properties don&#39;t exist. Why so? Am I using the wrong parameter names?\r\n\r\n    import com.zaxxer.hikari.HikariConfig;\r\n    import com.zaxxer.hikari.HikariDataSource\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.SQLException;\r\n    \r\n    public class HikariTest {\r\n        public static void main(String[] args) throws SQLException {\r\n            HikariConfig config = new HikariConfig();\r\n            config.setDataSourceClassName(&quot;org.postgresql.ds.PGSimpleDataSource&quot;);\r\n            config.setUsername(&quot;[REDACTED]&quot;);\r\n            config.setPassword(&quot;[REDACTED]&quot;);\r\n            config.addDataSourceProperty(&quot;host&quot;, &quot;[REDACTED&quot;);\r\n            config.addDataSourceProperty(&quot;database&quot;, &quot;[REDACTED]&quot;);\r\n            config.addDataSourceProperty(&quot;ssl&quot;, true);\r\n            config.addDataSourceProperty(&quot;sslcert&quot;, &quot;[REDACTED]&quot;);\r\n            HikariDataSource ds = new HikariDataSource(config);\r\n            Connection conn = ds.getConnection();\r\n        }\r\n    }\r\nOutput:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Property database does not exist on target class org.postgresql.ds.PGSimpleDataSource\r\n    \tat com.zaxxer.hikari.util.PropertyElf.setProperty(PropertyElf.java:127)\r\n    \tat com.zaxxer.hikari.util.PropertyElf.lambda$setTargetFromProperties$0(PropertyElf.java:51)\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.forEach(ConcurrentHashMap.java:1603)\r\n    \tat java.base/java.util.Properties.forEach(Properties.java:1422)\r\n    \tat com.zaxxer.hikari.util.PropertyElf.setTargetFromProperties(PropertyElf.java:46)\r\n    \tat com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:323)\r\n    \tat com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:112)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:93)\r\n    \tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\r\n    \tat HikariTest.main(HikariTest.java:21)\r\n\r\n  [1]: https://jdbc.postgresql.org/documentation/head/connect.html\r\n","title":"Why does HikariCP say &quot;Property database does not exist on target class org.postgresql.ds.PGSimpleDataSource&quot;?","body":"<p>I am attempting to set up various PostgreSQL JDBC driver <a href=\"https://jdbc.postgresql.org/documentation/head/connect.html\" rel=\"nofollow noreferrer\">properties</a> to my HikariCP pool, but for some reason, it's stating that those properties don't exist. Why so? Am I using the wrong parameter names?</p>\n<pre><code>import com.zaxxer.hikari.HikariConfig;\nimport com.zaxxer.hikari.HikariDataSource\n\nimport java.sql.Connection;\nimport java.sql.SQLException;\n\npublic class HikariTest {\n    public static void main(String[] args) throws SQLException {\n        HikariConfig config = new HikariConfig();\n        config.setDataSourceClassName(&quot;org.postgresql.ds.PGSimpleDataSource&quot;);\n        config.setUsername(&quot;[REDACTED]&quot;);\n        config.setPassword(&quot;[REDACTED]&quot;);\n        config.addDataSourceProperty(&quot;host&quot;, &quot;[REDACTED&quot;);\n        config.addDataSourceProperty(&quot;database&quot;, &quot;[REDACTED]&quot;);\n        config.addDataSourceProperty(&quot;ssl&quot;, true);\n        config.addDataSourceProperty(&quot;sslcert&quot;, &quot;[REDACTED]&quot;);\n        HikariDataSource ds = new HikariDataSource(config);\n        Connection conn = ds.getConnection();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Property database does not exist on target class org.postgresql.ds.PGSimpleDataSource\n    at com.zaxxer.hikari.util.PropertyElf.setProperty(PropertyElf.java:127)\n    at com.zaxxer.hikari.util.PropertyElf.lambda$setTargetFromProperties$0(PropertyElf.java:51)\n    at java.base/java.util.concurrent.ConcurrentHashMap.forEach(ConcurrentHashMap.java:1603)\n    at java.base/java.util.Properties.forEach(Properties.java:1422)\n    at com.zaxxer.hikari.util.PropertyElf.setTargetFromProperties(PropertyElf.java:46)\n    at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:323)\n    at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:112)\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:93)\n    at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\n    at HikariTest.main(HikariTest.java:21)\n</code></pre>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":2862360,"reputation":814,"user_id":2457352,"accept_rate":80,"display_name":"David SK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583183732,"creation_date":1583183732,"answer_id":60496778,"question_id":60496569,"body_markdown":"You need to declare what is the column on the document table that contains the request Id:\r\n\r\n    @JoinColumn(name = &quot;PARENT_REQUEST&quot;)\r\n\r\nwhere PARENT_REQUEST is the name of the column on your Document table","title":"Persist entity OneToMany Relationship","body":"<p>You need to declare what is the column on the document table that contains the request Id:</p>\n\n<pre><code>@JoinColumn(name = \"PARENT_REQUEST\")\n</code></pre>\n\n<p>where PARENT_REQUEST is the name of the column on your Document table</p>\n"},{"tags":[],"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583184009,"creation_date":1583184009,"answer_id":60496824,"question_id":60496569,"body_markdown":"While persisting new data into the database, you&#39;ve probably added documents to Request&#39;s list but forgot to set Request&#39;s object to all of your documents on the other side.\r\n\r\nCheck that you did both things (the following is the example):\r\n\r\n```\r\nRequest request = new Request();\r\n//initialization of request\r\nfor (...) { //iterate over all document candidates\r\n    Document document = new Document();\r\n    //initialization of document\r\n    document.setRequest(request); //check this!\r\n    request.getDocuments().add(document);\r\n}\r\n```\r\n\r\nAlso, it seems that you don&#39;t have a not-null constraint on `ID_REQUEST` column. Add this so you won&#39;t have this broken data with nullable `ID_REQUEST` field in the future (constraint violation exception will be raised instead in this kind of situations).","title":"Persist entity OneToMany Relationship","body":"<p>While persisting new data into the database, you've probably added documents to Request's list but forgot to set Request's object to all of your documents on the other side.</p>\n\n<p>Check that you did both things (the following is the example):</p>\n\n<pre><code>Request request = new Request();\n//initialization of request\nfor (...) { //iterate over all document candidates\n    Document document = new Document();\n    //initialization of document\n    document.setRequest(request); //check this!\n    request.getDocuments().add(document);\n}\n</code></pre>\n\n<p>Also, it seems that you don't have a not-null constraint on <code>ID_REQUEST</code> column. Add this so you won't have this broken data with nullable <code>ID_REQUEST</code> field in the future (constraint violation exception will be raised instead in this kind of situations).</p>\n"}],"owner":{"account_id":8796276,"reputation":1,"user_id":6574074,"display_name":"br.ala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684658991,"creation_date":1583182828,"question_id":60496569,"body_markdown":"I have a problem when I want to persist 2 objects in the database\r\n\r\nIn Request class:\r\n\r\n    @OneToMany(cascade = CascadeType.PERSIST, mappedBy = &quot;request&quot;)\r\n    private List&lt;Document&gt; documents;\r\n\r\nIn Document class:\r\n\r\n    @JoinColumn( referencedColumnName = &quot;ID_REQUEST&quot;)\r\n    @ManyToOne\r\n    Request request;\r\n\r\nThe problem is that when I add `request` the I find that the 2 objects are persisted but in the table Document lD_REQUEST IS ALWAYS NULL.\r\n\r\nTHANK YOU IN ADVANCE and sorry for my English \r\n\r\n\r\n\r\n\r\n","title":"Persist entity OneToMany Relationship","body":"<p>I have a problem when I want to persist 2 objects in the database</p>\n<p>In Request class:</p>\n<pre><code>@OneToMany(cascade = CascadeType.PERSIST, mappedBy = &quot;request&quot;)\nprivate List&lt;Document&gt; documents;\n</code></pre>\n<p>In Document class:</p>\n<pre><code>@JoinColumn( referencedColumnName = &quot;ID_REQUEST&quot;)\n@ManyToOne\nRequest request;\n</code></pre>\n<p>The problem is that when I add <code>request</code> the I find that the 2 objects are persisted but in the table Document lD_REQUEST IS ALWAYS NULL.</p>\n<p>THANK YOU IN ADVANCE and sorry for my English</p>\n"},{"tags":["java","spring","spring-boot","graphql-java","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":1001831,"reputation":4661,"user_id":1016512,"accept_rate":76,"display_name":"Sercan Ozdemir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684658143,"creation_date":1684484321,"answer_id":76287257,"question_id":76253140,"body_markdown":"I&#39;ve figured this out. There&#39;re two topics here first you must bind `WebClient.Builder` via Autowiring it since Spring handles the tracing itself.\r\n\r\nSecond there&#39;s a bug in the spring graphql https://github.com/spring-projects/spring-graphql/issues/675 So using `3.0.7-SNAPSHOT` for spring dependencies fixed it.\r\n\r\n    @Bean\r\n    public HttpGraphQlClient dataServiceHttpGraphQlClient(@Autowired WebClient.Builder webClientBuilder,\r\n                                                          @Value(&quot;${url}&quot;) String url) {\r\n        return HttpGraphQlClient.builder(webClientBuilder)\r\n                .url(url)\r\n                .build();\r\n    }\r\n\r\n\r\n**UPDATE** 3.0.7 is now released, you don&#39;t need to use SNAPSHOT anymore. ","title":"Does spring boot (Spring 3) graphql support tracing between microservices?","body":"<p>I've figured this out. There're two topics here first you must bind <code>WebClient.Builder</code> via Autowiring it since Spring handles the tracing itself.</p>\n<p>Second there's a bug in the spring graphql <a href=\"https://github.com/spring-projects/spring-graphql/issues/675\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-graphql/issues/675</a> So using <code>3.0.7-SNAPSHOT</code> for spring dependencies fixed it.</p>\n<pre><code>@Bean\npublic HttpGraphQlClient dataServiceHttpGraphQlClient(@Autowired WebClient.Builder webClientBuilder,\n                                                      @Value(&quot;${url}&quot;) String url) {\n    return HttpGraphQlClient.builder(webClientBuilder)\n            .url(url)\n            .build();\n}\n</code></pre>\n<p><strong>UPDATE</strong> 3.0.7 is now released, you don't need to use SNAPSHOT anymore.</p>\n"}],"owner":{"account_id":1001831,"reputation":4661,"user_id":1016512,"accept_rate":76,"display_name":"Sercan Ozdemir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76287257,"answer_count":1,"score":0,"last_activity_date":1684658143,"creation_date":1684146324,"question_id":76253140,"body_markdown":"I&#39;m using below micrometer dependencies along with spring boot graphql starter.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-observation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-tracing&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nWhen I use below graphqlclient to fetch data from one of my microservices I can see that traceId is being propagated for both services but unfortunately differently. \r\n\r\n        @Bean\r\n    public HttpGraphQlClient dataServiceHttpGraphQlClient(@Value(&quot;${url}&quot;) String dataServiceUrl) {\r\n        return HttpGraphQlClient.builder()\r\n                .url(url)\r\n                .header(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\r\n                .header(HttpHeaders.ACCEPT, &quot;application/json&quot;)\r\n                .build();\r\n    }\r\n\r\nThis&#39;s how I execute it:\r\n\r\n     public &lt;T&gt; Mono&lt;List&lt;T&gt;&gt; executeQuery(final String queryName,\r\n                                          final String path,\r\n                                          final Class&lt;T&gt; responseClass,\r\n                                          final Map&lt;String, Object&gt; variables) {\r\n        log.debug(&quot;Executing {} query: {}&quot;, path, queryName);\r\n\r\n        GraphQlClient.RequestSpec document = graphQlClient.documentName(queryName);\r\n        if (!CollectionUtils.isEmpty(variables)) document.variables(variables);\r\n\r\n        return document.execute()\r\n                .mapNotNull(response -&gt; response.field(path).toEntityList(responseClass))\r\n                .onErrorResume(error -&gt; Mono.error(new RuntimeException(&quot;Error &quot; + error.getMessage()))); //TODO custom exception\r\n\r\n    }\r\n\r\n\r\nWhen I check the headers in my requested service, I can see that no tracing header is added.\r\n\r\nAny help would be appreciated. ","title":"Does spring boot (Spring 3) graphql support tracing between microservices?","body":"<p>I'm using below micrometer dependencies along with spring boot graphql starter.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-observation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-tracing&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When I use below graphqlclient to fetch data from one of my microservices I can see that traceId is being propagated for both services but unfortunately differently.</p>\n<pre><code>    @Bean\npublic HttpGraphQlClient dataServiceHttpGraphQlClient(@Value(&quot;${url}&quot;) String dataServiceUrl) {\n    return HttpGraphQlClient.builder()\n            .url(url)\n            .header(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\n            .header(HttpHeaders.ACCEPT, &quot;application/json&quot;)\n            .build();\n}\n</code></pre>\n<p>This's how I execute it:</p>\n<pre><code> public &lt;T&gt; Mono&lt;List&lt;T&gt;&gt; executeQuery(final String queryName,\n                                      final String path,\n                                      final Class&lt;T&gt; responseClass,\n                                      final Map&lt;String, Object&gt; variables) {\n    log.debug(&quot;Executing {} query: {}&quot;, path, queryName);\n\n    GraphQlClient.RequestSpec document = graphQlClient.documentName(queryName);\n    if (!CollectionUtils.isEmpty(variables)) document.variables(variables);\n\n    return document.execute()\n            .mapNotNull(response -&gt; response.field(path).toEntityList(responseClass))\n            .onErrorResume(error -&gt; Mono.error(new RuntimeException(&quot;Error &quot; + error.getMessage()))); //TODO custom exception\n\n}\n</code></pre>\n<p>When I check the headers in my requested service, I can see that no tracing header is added.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","datetime","time","localdate","localdatetime"],"comments":[{"owner":{"account_id":26608091,"reputation":91,"user_id":20228611,"display_name":"buec95"},"score":0,"creation_date":1672912281,"post_id":75016407,"comment_id":132381325,"body_markdown":"How do you plan to handle lunchtime? Because when you say 8 working hours: 8am to 5pm this would be 9 hours of worktime?","body":"How do you plan to handle lunchtime? Because when you say 8 working hours: 8am to 5pm this would be 9 hours of worktime?"},{"owner":{"account_id":18686986,"reputation":45,"user_id":13622252,"display_name":"Saurabh Kohade"},"score":0,"creation_date":1672915043,"post_id":75016407,"comment_id":132382233,"body_markdown":"In this case i don&#39;t need to calculate the lunchtime \nbasically i am running a scheduler which only expires the value of date between interval of 8 hours in weekdays\n\nif you can suggest any code snippet for the same will be helpful \nThanks in advance @buec95","body":"In this case i don&#39;t need to calculate the lunchtime  basically i am running a scheduler which only expires the value of date between interval of 8 hours in weekdays  if you can suggest any code snippet for the same will be helpful  Thanks in advance @buec95"}],"answers":[{"tags":[],"owner":{"account_id":26608091,"reputation":91,"user_id":20228611,"display_name":"buec95"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672922274,"creation_date":1672922274,"answer_id":75018498,"question_id":75016407,"body_markdown":"For sure there are much more elegant solutions but this could be one. I also added a break during lunch(12 to 13 o&#39;clock) so for example if the start is at 12:30 the end will be at 13:30 (Lunchtime = no usage).\r\n\r\npublic static void main(String[] args) {\r\n\r\n    final int START_OF_DAY = 8;\r\n    final int END_OF_DAY = 17;\r\n    final int WORKING_HOURS = 8;\r\n    final int LUNCH = 1;\r\n    LocalDateTime endDateTime = LocalDateTime.now(ZoneOffset.UTC);\r\n    int startTime = endDateTime.getHour();\r\n    int startDay = endDateTime.getDayOfWeek().getValue();\r\n    int endTime = 0;\r\n    int startTimeEndDay = 0;\r\n\r\n    System.out.println(&quot;Start-Datetime: &quot; + endDateTime);\r\n\r\n    if (startTime &gt; START_OF_DAY &amp;&amp; startTime &lt;= 12) {\r\n        startTimeEndDay = (END_OF_DAY - startTime - LUNCH);\r\n    } else if (startTime &gt;= 13 &amp;&amp; startTime &lt;= END_OF_DAY) {\r\n        startTimeEndDay = END_OF_DAY - startTime;\r\n    }\r\n\r\n    endTime = START_OF_DAY + (WORKING_HOURS - startTimeEndDay);\r\n    if (startTimeEndDay == 4) {\r\n        endTime += LUNCH;\r\n    }\r\n\r\n    endDateTime = endDateTime.withHour(endTime);\r\n\r\n    if (startTime != START_OF_DAY) {\r\n        if (startDay != 5) {\r\n            endDateTime = endDateTime.plusDays(1);\r\n        } else {\r\n            endDateTime = endDateTime.plusDays(3);\r\n        }\r\n    }     \r\n\r\n    System.out.println(&quot;Expiry-Datetime: &quot; + endDateTime);\r\n\r\n    }\r\n\r\n\r\nFor example:  \r\nInput: 05.01.2023 15:32  \r\nOutput: 06.01.2023 16:32\r\n \r\nInput: 06.01.2023 08:37  \r\nOutput: 09.01.2023 09:37","title":"calculate the expiry in working hours and working days java","body":"<p>For sure there are much more elegant solutions but this could be one. I also added a break during lunch(12 to 13 o'clock) so for example if the start is at 12:30 the end will be at 13:30 (Lunchtime = no usage).</p>\n<p>public static void main(String[] args) {</p>\n<pre><code>final int START_OF_DAY = 8;\nfinal int END_OF_DAY = 17;\nfinal int WORKING_HOURS = 8;\nfinal int LUNCH = 1;\nLocalDateTime endDateTime = LocalDateTime.now(ZoneOffset.UTC);\nint startTime = endDateTime.getHour();\nint startDay = endDateTime.getDayOfWeek().getValue();\nint endTime = 0;\nint startTimeEndDay = 0;\n\nSystem.out.println(&quot;Start-Datetime: &quot; + endDateTime);\n\nif (startTime &gt; START_OF_DAY &amp;&amp; startTime &lt;= 12) {\n    startTimeEndDay = (END_OF_DAY - startTime - LUNCH);\n} else if (startTime &gt;= 13 &amp;&amp; startTime &lt;= END_OF_DAY) {\n    startTimeEndDay = END_OF_DAY - startTime;\n}\n\nendTime = START_OF_DAY + (WORKING_HOURS - startTimeEndDay);\nif (startTimeEndDay == 4) {\n    endTime += LUNCH;\n}\n\nendDateTime = endDateTime.withHour(endTime);\n\nif (startTime != START_OF_DAY) {\n    if (startDay != 5) {\n        endDateTime = endDateTime.plusDays(1);\n    } else {\n        endDateTime = endDateTime.plusDays(3);\n    }\n}     \n\nSystem.out.println(&quot;Expiry-Datetime: &quot; + endDateTime);\n\n}\n</code></pre>\n<p>For example:<br />\nInput: 05.01.2023 15:32<br />\nOutput: 06.01.2023 16:32</p>\n<p>Input: 06.01.2023 08:37<br />\nOutput: 09.01.2023 09:37</p>\n"}],"owner":{"account_id":18686986,"reputation":45,"user_id":13622252,"display_name":"Saurabh Kohade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1684657908,"creation_date":1672911608,"question_id":75016407,"body_markdown":"The expiry should be after 8 working hours (8 am to 5 pm UTC monday to Friday) for example the created date at 7 pm UTC time, the expiring time should be counted from next morning 8 am to 5 pm UTC time and expire. So it should expire at 4 pm UTC  . \r\n\r\nAnother example, if broadcast happened at 4 pm SA time then expiry should be counted as 1 hour from today and 7 hours from next day (8 am to 5 pm time) so it should expire at 3 pm SA time .  I have tried this solution but not working can anyone please help me out here\r\n\r\n\r\n    int workHourStartUtc = 6;\r\n    int workHourEndUtc = 15;\r\n    int expiryWindow = 8;\r\n    int currentHourUtc = LocalDateTime.now(ZoneOffset.UTC).getHour();\r\n    int hourCompletedToday = currentHourUtc - workHourStartUtc;\r\n    int offHours = LocalDate.now().getDayOfWeek() == 1 ? 72 : 24;\r\n    LocalDateTime yesterdayWorkEndUtc = LocalDateTime.now(ZoneOffset.UTC).toLocalDate().atTime(workHourEndUtc, 0).minusHours(offHours);\r\n    LocalDateTime expireDateBefore = hourCompletedToday &gt;= expiryWindow ? LocalDateTime.now(ZoneOffset.UTC).minusHours(expiryWindow): yesterdayWorkEndUtc.minusHours(expiryWindow - hourCompletedToday);","title":"calculate the expiry in working hours and working days java","body":"<p>The expiry should be after 8 working hours (8 am to 5 pm UTC monday to Friday) for example the created date at 7 pm UTC time, the expiring time should be counted from next morning 8 am to 5 pm UTC time and expire. So it should expire at 4 pm UTC  .</p>\n<p>Another example, if broadcast happened at 4 pm SA time then expiry should be counted as 1 hour from today and 7 hours from next day (8 am to 5 pm time) so it should expire at 3 pm SA time .  I have tried this solution but not working can anyone please help me out here</p>\n<pre><code>int workHourStartUtc = 6;\nint workHourEndUtc = 15;\nint expiryWindow = 8;\nint currentHourUtc = LocalDateTime.now(ZoneOffset.UTC).getHour();\nint hourCompletedToday = currentHourUtc - workHourStartUtc;\nint offHours = LocalDate.now().getDayOfWeek() == 1 ? 72 : 24;\nLocalDateTime yesterdayWorkEndUtc = LocalDateTime.now(ZoneOffset.UTC).toLocalDate().atTime(workHourEndUtc, 0).minusHours(offHours);\nLocalDateTime expireDateBefore = hourCompletedToday &gt;= expiryWindow ? LocalDateTime.now(ZoneOffset.UTC).minusHours(expiryWindow): yesterdayWorkEndUtc.minusHours(expiryWindow - hourCompletedToday);\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-data"],"answers":[{"tags":[],"owner":{"account_id":540192,"reputation":2586,"user_id":1877296,"display_name":"Miguel Cartagena"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1373032787,"creation_date":1373032787,"answer_id":17490688,"question_id":17484153,"body_markdown":"Unfortunately spring data doesn&#39;t provides any method to delete documents based on a query. And the `@Query` annotation is only for find documents.\r\n\r\nWhat you could do is implement a [custom repository][1] that deletes documents based on what you want.  \r\n\r\n\r\n  [1]: http://static.springsource.org/spring-data/mongodb/docs/current/reference/html/repositories.html#repositories.custom-implementations &quot;Custom Repositories&quot;","title":"How to delete items in MongoRepository using query annotation?","body":"<p>Unfortunately spring data doesn't provides any method to delete documents based on a query. And the <code>@Query</code> annotation is only for find documents.</p>\n\n<p>What you could do is implement a <a href=\"http://static.springsource.org/spring-data/mongodb/docs/current/reference/html/repositories.html#repositories.custom-implementations\" rel=\"nofollow\" title=\"Custom Repositories\">custom repository</a> that deletes documents based on what you want.  </p>\n"},{"tags":[],"owner":{"account_id":24655,"reputation":12535,"user_id":62848,"display_name":"Faisal Feroz"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1404232745,"creation_date":1404232745,"answer_id":24515369,"question_id":17484153,"body_markdown":"Maybe you can use repository delete queries. Here is an example from [documentation][1]:\r\n\r\n    public interface PersonRepository extends MongoRepository&lt;Person, String&gt; {\r\n      List &lt;Person&gt; deleteByLastname(String lastname);\r\n      \r\n      Long deletePersonByLastname(String lastname);  \t\t\r\n    }\r\n\r\nUsing return type List will retrieve and return all matching documents before actually deleting them. A numeric return type directly removes the matching documents returning the total number of documents removed.\r\n\r\n  [1]: http://docs.spring.io/spring-data/data-mongo/docs/1.5.1.RELEASE/reference/html/mongo.repositories.html#mongodb.repositories.queries.delete","title":"How to delete items in MongoRepository using query annotation?","body":"<p>Maybe you can use repository delete queries. Here is an example from <a href=\"http://docs.spring.io/spring-data/data-mongo/docs/1.5.1.RELEASE/reference/html/mongo.repositories.html#mongodb.repositories.queries.delete\" rel=\"noreferrer\">documentation</a>:</p>\n\n<pre><code>public interface PersonRepository extends MongoRepository&lt;Person, String&gt; {\n  List &lt;Person&gt; deleteByLastname(String lastname);\n\n  Long deletePersonByLastname(String lastname);         \n}\n</code></pre>\n\n<p>Using return type List will retrieve and return all matching documents before actually deleting them. A numeric return type directly removes the matching documents returning the total number of documents removed.</p>\n"},{"tags":[],"owner":{"account_id":2376705,"reputation":37054,"user_id":2079831,"accept_rate":100,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413544084,"creation_date":1413544084,"answer_id":26423701,"question_id":17484153,"body_markdown":"Repository:\r\n\r\n    @Component\r\n    public interface SomeRepository extends MongoRepository&lt;SomeObject, String&gt; {\r\n\r\n        @Query(&quot;{ &#39;_id&#39; : ?0 }&quot;)\r\n        SomeObject findById(String _id);\r\n    }\r\nCode in some class:\r\n\r\n    @Autowired\r\n    private SomeRepository pRepo;\r\n    \r\n    public void delete(String id) {\r\n\r\n        pRepo.delete(pRepo.findById(id));\r\n    }\r\n\r\n","title":"How to delete items in MongoRepository using query annotation?","body":"<p>Repository:</p>\n\n<pre><code>@Component\npublic interface SomeRepository extends MongoRepository&lt;SomeObject, String&gt; {\n\n    @Query(\"{ '_id' : ?0 }\")\n    SomeObject findById(String _id);\n}\n</code></pre>\n\n<p>Code in some class:</p>\n\n<pre><code>@Autowired\nprivate SomeRepository pRepo;\n\npublic void delete(String id) {\n\n    pRepo.delete(pRepo.findById(id));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5807327,"reputation":476,"user_id":4579569,"display_name":"Marcelo Pasut"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1586820458,"creation_date":1424263194,"answer_id":28583940,"question_id":17484153,"body_markdown":"    @Query(value=&quot;{&#39;id&#39; : $0}&quot;, delete = true)\r\n    public Person deleteById (String id);","title":"How to delete items in MongoRepository using query annotation?","body":"<pre><code>@Query(value=\"{'id' : $0}\", delete = true)\npublic Person deleteById (String id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8250527,"reputation":99,"user_id":6205341,"display_name":"Nilesh Suryawanshi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1603562247,"creation_date":1550829280,"answer_id":54824422,"question_id":17484153,"body_markdown":"Try this, it&#39;s work for me.    \r\n\r\n    @Repository\r\n    public interface DepartmentDao extends MongoRepository&lt;Department, String&gt; {\r\n      \t@DeleteQuery\r\n      \tvoid deleteByDepartment(String department);\r\n    }\r\nOR\r\n        \r\n    @Query(value=&quot;{&#39;_id&#39; : ?0}&quot;, delete = true)\r\n    public void deleteById(String id);\r\n\r\n","title":"How to delete items in MongoRepository using query annotation?","body":"<p>Try this, it's work for me.</p>\n<pre><code>@Repository\npublic interface DepartmentDao extends MongoRepository&lt;Department, String&gt; {\n    @DeleteQuery\n    void deleteByDepartment(String department);\n}\n</code></pre>\n<p>OR</p>\n<pre><code>@Query(value=&quot;{'_id' : ?0}&quot;, delete = true)\npublic void deleteById(String id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5979593,"reputation":139,"user_id":6059956,"display_name":"Vamsi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582876810,"creation_date":1582876663,"answer_id":60447467,"question_id":17484153,"body_markdown":"&gt; How to delete a list of ids in the query ?\r\n\r\n    @Query(value=&quot;{idList : $0}&quot;, delete = true)","title":"How to delete items in MongoRepository using query annotation?","body":"<blockquote>\n  <p>How to delete a list of ids in the query ?</p>\n</blockquote>\n\n<pre><code>@Query(value=\"{idList : $0}\", delete = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2188843,"reputation":155,"user_id":1936539,"display_name":"SherlockHomeless"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664546086,"creation_date":1664546086,"answer_id":73909875,"question_id":17484153,"body_markdown":"    @Repository\r\n    public interface DepartmentDao extends MongoRepository&lt;Department, String&gt; {\r\n        void deleteByDepartment(String department);\r\n    }\r\n\r\n\r\nis clean and shorter.","title":"How to delete items in MongoRepository using query annotation?","body":"<pre><code>@Repository\npublic interface DepartmentDao extends MongoRepository&lt;Department, String&gt; {\n    void deleteByDepartment(String department);\n}\n</code></pre>\n<p>is clean and shorter.</p>\n"},{"tags":[],"owner":{"account_id":21596581,"reputation":121,"user_id":15925446,"display_name":"Sajith dilshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684657153,"creation_date":1684657153,"answer_id":76298922,"question_id":17484153,"body_markdown":"Below code snippet show deletes all documents from the plan collection whose planId field matches any planId provided in the list.\r\n\r\n    @Repository\r\n    public interface PlanRepository extends MongoRepository&lt;Plan, String&gt; {\r\n    \r\n        @Query(value = &quot;{ &#39;planId&#39; : { $in : ?0 } }&quot;, delete = true)\r\n      void deleteAllByPlanIdIn(List&lt;String&gt; planIds);\r\n    }\r\n\r\nExplanation:\r\n\r\n - we can use the `@Query` annotation to define custom queries on MongoDB data stores in Spring\r\n\r\n - The &quot;`value`&quot; attribute specifies the MongoDB query in JSON-like syntax.\r\n\r\n - &quot;`planId`&quot; is a field in the plan document being queried.\r\n\r\n - &quot;`{ $in : ?0 }`&quot; is a query operator that checks if the value of the planId field is in the provided list of planIds (&quot;`?0`&quot; represents the first parameter of the method, which is the list of planIds).\r\n\r\n - &quot;`delete = true`&quot; is used to indicate that the query is intended to be deleted.","title":"How to delete items in MongoRepository using query annotation?","body":"<p>Below code snippet show deletes all documents from the plan collection whose planId field matches any planId provided in the list.</p>\n<pre><code>@Repository\npublic interface PlanRepository extends MongoRepository&lt;Plan, String&gt; {\n\n    @Query(value = &quot;{ 'planId' : { $in : ?0 } }&quot;, delete = true)\n  void deleteAllByPlanIdIn(List&lt;String&gt; planIds);\n}\n</code></pre>\n<p>Explanation:</p>\n<ul>\n<li><p>we can use the <code>@Query</code> annotation to define custom queries on MongoDB data stores in Spring</p>\n</li>\n<li><p>The &quot;<code>value</code>&quot; attribute specifies the MongoDB query in JSON-like syntax.</p>\n</li>\n<li><p>&quot;<code>planId</code>&quot; is a field in the plan document being queried.</p>\n</li>\n<li><p>&quot;<code>{ $in : ?0 }</code>&quot; is a query operator that checks if the value of the planId field is in the provided list of planIds (&quot;<code>?0</code>&quot; represents the first parameter of the method, which is the list of planIds).</p>\n</li>\n<li><p>&quot;<code>delete = true</code>&quot; is used to indicate that the query is intended to be deleted.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46423,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":28583940,"answer_count":8,"score":29,"last_activity_date":1684657153,"creation_date":1373012000,"question_id":17484153,"body_markdown":"I&#39;m using Spring Data with MongoDB using MongoRepository.\r\n\r\nI was wondering if it is possible do a delete by filter using query annotation. I have been looking here and google and I cannot find any documentation.","title":"How to delete items in MongoRepository using query annotation?","body":"<p>I'm using Spring Data with MongoDB using MongoRepository.</p>\n\n<p>I was wondering if it is possible do a delete by filter using query annotation. I have been looking here and google and I cannot find any documentation.</p>\n"},{"tags":["java","pdf","itext","openpdf"],"owner":{"account_id":3616818,"reputation":1,"user_id":3016465,"display_name":"Max Larsson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684657000,"creation_date":1683108604,"question_id":76162663,"body_markdown":"I&#39;m creating a PDF with OpenPDF 1.3.30, which gets a `PdfPTable` as header on every page. But the content of the document itself overwrites the the first cell (0,0). Which by the way has a rowspan.\r\n\r\nHere is my example code:\r\n\r\n```\r\nimport java.io.FileOutputStream;\r\n\r\nimport com.lowagie.text.Chunk;\r\nimport com.lowagie.text.Document;\r\nimport com.lowagie.text.Element;\r\nimport com.lowagie.text.Font;\r\nimport com.lowagie.text.PageSize;\r\nimport com.lowagie.text.Paragraph;\r\nimport com.lowagie.text.Phrase;\r\nimport com.lowagie.text.Rectangle;\r\nimport com.lowagie.text.pdf.BaseFont;\r\nimport com.lowagie.text.pdf.PdfPCell;\r\nimport com.lowagie.text.pdf.PdfPTable;\r\nimport com.lowagie.text.pdf.PdfPageEventHelper;\r\nimport com.lowagie.text.pdf.PdfWriter;\r\n\r\npublic class TableTest {\r\n\r\n  public static void main( final String[] args ) throws Throwable {\r\n    try( final FileOutputStream outputStream = new FileOutputStream( &quot;test.pdf&quot; ) ) {\r\n      final Document pdfDocument = new Document( PageSize.A4 );\r\n\r\n      final PdfWriter pdfWriter = PdfWriter.getInstance( pdfDocument,outputStream );\r\n      pdfWriter.setPdfVersion( PdfWriter.VERSION_1_7 );\r\n\r\n      final PdfPTable header = new PdfPTable( 5 );\r\n      header.setWidths( new int[] { 30,30,30,30,30 } );\r\n      header.setHeaderRows( 0 );\r\n      header.getDefaultCell().setPadding( 1 );\r\n      header.setSplitLate( false );\r\n      header.setSplitRows( true );\r\n\r\n      PdfPCell cell = new PdfPCell( new Phrase( &quot;Gets truncated&quot; ) );\r\n      cell.setColspan( 1 );\r\n      cell.setRowspan( 5 );\r\n      cell.setBorder( Rectangle.BOX );\r\n      cell.setPadding( 1 );\r\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\r\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\r\n      header.addCell( cell );\r\n\r\n      cell = new PdfPCell( new Phrase( &quot;Text A&quot; ) );\r\n      cell.setColspan( 1 );\r\n      cell.setRowspan( 1 );\r\n      cell.setBorder( Rectangle.BOX );\r\n      cell.setPadding( 1 );\r\n      cell.setHorizontalAlignment( Element.ALIGN_LEFT );\r\n      header.addCell( cell );\r\n\r\n      cell = new PdfPCell( new Phrase( &quot;Text B&quot; ) );\r\n      cell.setColspan( 2 );\r\n      cell.setRowspan( 1 );\r\n      cell.setBorder( Rectangle.BOX );\r\n      cell.setPadding( 1 );\r\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\r\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\r\n      header.addCell( cell );\r\n\r\n      cell = new PdfPCell( new Phrase( &quot;Text C&quot; ) );\r\n      cell.setColspan( 1 );\r\n      cell.setRowspan( 1 );\r\n      cell.setBorder( Rectangle.BOX );\r\n      cell.setPadding( 1 );\r\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\r\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\r\n      header.addCell( cell );\r\n      \r\n      cell = new PdfPCell( new Phrase( &quot;&quot; ) );\r\n      cell.setColspan( 4 );\r\n      cell.setRowspan( 1 );\r\n      cell.setBorder( Rectangle.BOTTOM );\r\n      cell.setPadding( 1 );\r\n      cell.setVerticalAlignment( Element.ALIGN_TOP );\r\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\r\n      header.addCell( cell );\r\n\r\n      Phrase phrase = new Phrase();\r\n      phrase.add( new Phrase( &quot;Text D&quot; ) );\r\n      phrase.add( Chunk.NEWLINE );\r\n      phrase.add( new Phrase( &quot;Text E&quot; ) );\r\n      phrase.add( Chunk.NEWLINE );\r\n\r\n      cell = new PdfPCell( phrase );\r\n      cell.setColspan( 3 );\r\n      cell.setRowspan( 1 );\r\n      cell.setBorder( Rectangle.BOX );\r\n      cell.setPadding( 1 );\r\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\r\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\r\n      header.addCell( cell );\r\n\r\n      cell = new PdfPCell( new Phrase( &quot;Text F&quot; ) );\r\n      cell.setColspan( 1 );\r\n      cell.setRowspan( 1 );\r\n      cell.setBorder( Rectangle.BOX );\r\n      cell.setPadding( 1 );\r\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\r\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\r\n      header.addCell( cell );\r\n\r\n      cell = new PdfPCell( new Phrase( &quot;&quot; ) );\r\n      cell.setColspan( 4 );\r\n      cell.setRowspan( 1 );\r\n      cell.setBorder( Rectangle.BOX );\r\n      cell.setPadding( 1 );\r\n      cell.setVerticalAlignment( Element.ALIGN_TOP );\r\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\r\n      header.addCell( cell );\r\n\r\n      cell = new PdfPCell( new Phrase( &quot;Text G&quot; ) );\r\n      cell.setColspan( 1 );\r\n      cell.setRowspan( 1 );\r\n      cell.setBorder( Rectangle.BOX );\r\n      cell.setPadding( 1 );\r\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\r\n      cell.setHorizontalAlignment( Element.ALIGN_LEFT );\r\n      header.addCell( cell );\r\n\r\n      cell = new PdfPCell( new Phrase( &quot;Text H&quot; ) );\r\n      cell.setColspan( 2 );\r\n      cell.setRowspan( 1 );\r\n      cell.setBorder( Rectangle.BOX );\r\n      cell.setPadding( 1 );\r\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\r\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\r\n      header.addCell( cell );\r\n\r\n      phrase = new Phrase();\r\n      phrase.add( new Phrase( &quot;Text I&quot; ) );\r\n      phrase.add( Chunk.NEWLINE );\r\n      phrase.add( new Phrase( &quot;Text J&quot; ) );\r\n      phrase.add( Chunk.NEWLINE );\r\n\r\n      cell = new PdfPCell( phrase );\r\n      cell.setColspan( 1 );\r\n      cell.setRowspan( 1 );\r\n      cell.setBorder( Rectangle.BOX );\r\n      cell.setPadding( 1 );\r\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\r\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\r\n      header.addCell( cell );\r\n\r\n      cell = new PdfPCell( new Phrase( &quot;&quot; ) );\r\n      cell.setColspan( 6 );\r\n      cell.setRowspan( 1 );\r\n      cell.setBorder( Rectangle.BOTTOM );\r\n      cell.setPadding( 1 );\r\n      cell.setVerticalAlignment( Element.ALIGN_TOP );\r\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\r\n      header.addCell( cell );\r\n\r\n      header.setTotalWidth( pdfWriter.getPageSize().getWidth() - pdfDocument.leftMargin() - pdfDocument.rightMargin() );\r\n\r\n      pdfDocument.setMargins( pdfDocument.leftMargin(),pdfDocument.rightMargin(),header.getTotalHeight() + pdfDocument.topMargin(),pdfDocument.bottomMargin() );\r\n\r\n      pdfWriter.setPageEvent( new PdfPageEventHelper() {\r\n\r\n        @Override\r\n        public void onStartPage( final PdfWriter writer,final Document document ) {\r\n          header.writeSelectedRows( 0,-1,document.left(),document.top() + header.getTotalHeight(),writer.getDirectContent() );\r\n        }\r\n      } );\r\n\r\n      pdfDocument.open();\r\n\r\n      final Paragraph paragraph = new Paragraph();\r\n      paragraph.add( new Phrase( &quot;Trucates&quot; ) );\r\n      paragraph.add( Chunk.NEWLINE );\r\n      paragraph.add( new Phrase( &quot;Cell(0,0)&quot; ) );\r\n\r\n      pdfDocument.add( paragraph );\r\n      pdfDocument.close();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe resulting PDF overwrites the text &#39;Gets replaced&#39; of the header table with text from the document paragraph content &#39;Replaces\\\\nLogo&#39;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAny idea what I did wrong?\r\n\r\nI even tried to use the `HeaderFooter` approach to set the header via `pdfDocument.setHeader`, but that gets somehow weird, because the header doesn&#39;t adopt to the size needed by the table.\r\n\r\n[1]: https://i.stack.imgur.com/tDcES.png","title":"OpenPDF document content gets written into header","body":"<p>I'm creating a PDF with OpenPDF 1.3.30, which gets a <code>PdfPTable</code> as header on every page. But the content of the document itself overwrites the the first cell (0,0). Which by the way has a rowspan.</p>\n<p>Here is my example code:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport com.lowagie.text.Chunk;\nimport com.lowagie.text.Document;\nimport com.lowagie.text.Element;\nimport com.lowagie.text.Font;\nimport com.lowagie.text.PageSize;\nimport com.lowagie.text.Paragraph;\nimport com.lowagie.text.Phrase;\nimport com.lowagie.text.Rectangle;\nimport com.lowagie.text.pdf.BaseFont;\nimport com.lowagie.text.pdf.PdfPCell;\nimport com.lowagie.text.pdf.PdfPTable;\nimport com.lowagie.text.pdf.PdfPageEventHelper;\nimport com.lowagie.text.pdf.PdfWriter;\n\npublic class TableTest {\n\n  public static void main( final String[] args ) throws Throwable {\n    try( final FileOutputStream outputStream = new FileOutputStream( &quot;test.pdf&quot; ) ) {\n      final Document pdfDocument = new Document( PageSize.A4 );\n\n      final PdfWriter pdfWriter = PdfWriter.getInstance( pdfDocument,outputStream );\n      pdfWriter.setPdfVersion( PdfWriter.VERSION_1_7 );\n\n      final PdfPTable header = new PdfPTable( 5 );\n      header.setWidths( new int[] { 30,30,30,30,30 } );\n      header.setHeaderRows( 0 );\n      header.getDefaultCell().setPadding( 1 );\n      header.setSplitLate( false );\n      header.setSplitRows( true );\n\n      PdfPCell cell = new PdfPCell( new Phrase( &quot;Gets truncated&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 5 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text A&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setHorizontalAlignment( Element.ALIGN_LEFT );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text B&quot; ) );\n      cell.setColspan( 2 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text C&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n      \n      cell = new PdfPCell( new Phrase( &quot;&quot; ) );\n      cell.setColspan( 4 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOTTOM );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_TOP );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      Phrase phrase = new Phrase();\n      phrase.add( new Phrase( &quot;Text D&quot; ) );\n      phrase.add( Chunk.NEWLINE );\n      phrase.add( new Phrase( &quot;Text E&quot; ) );\n      phrase.add( Chunk.NEWLINE );\n\n      cell = new PdfPCell( phrase );\n      cell.setColspan( 3 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text F&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;&quot; ) );\n      cell.setColspan( 4 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_TOP );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text G&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_LEFT );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text H&quot; ) );\n      cell.setColspan( 2 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      phrase = new Phrase();\n      phrase.add( new Phrase( &quot;Text I&quot; ) );\n      phrase.add( Chunk.NEWLINE );\n      phrase.add( new Phrase( &quot;Text J&quot; ) );\n      phrase.add( Chunk.NEWLINE );\n\n      cell = new PdfPCell( phrase );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;&quot; ) );\n      cell.setColspan( 6 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOTTOM );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_TOP );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      header.setTotalWidth( pdfWriter.getPageSize().getWidth() - pdfDocument.leftMargin() - pdfDocument.rightMargin() );\n\n      pdfDocument.setMargins( pdfDocument.leftMargin(),pdfDocument.rightMargin(),header.getTotalHeight() + pdfDocument.topMargin(),pdfDocument.bottomMargin() );\n\n      pdfWriter.setPageEvent( new PdfPageEventHelper() {\n\n        @Override\n        public void onStartPage( final PdfWriter writer,final Document document ) {\n          header.writeSelectedRows( 0,-1,document.left(),document.top() + header.getTotalHeight(),writer.getDirectContent() );\n        }\n      } );\n\n      pdfDocument.open();\n\n      final Paragraph paragraph = new Paragraph();\n      paragraph.add( new Phrase( &quot;Trucates&quot; ) );\n      paragraph.add( Chunk.NEWLINE );\n      paragraph.add( new Phrase( &quot;Cell(0,0)&quot; ) );\n\n      pdfDocument.add( paragraph );\n      pdfDocument.close();\n    }\n  }\n}\n</code></pre>\n<p>The resulting PDF overwrites the text 'Gets replaced' of the header table with text from the document paragraph content 'Replaces\\nLogo'.</p>\n<p><a href=\"https://i.stack.imgur.com/tDcES.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tDcES.png\" alt=\"enter image description here\" /></a></p>\n<p>Any idea what I did wrong?</p>\n<p>I even tried to use the <code>HeaderFooter</code> approach to set the header via <code>pdfDocument.setHeader</code>, but that gets somehow weird, because the header doesn't adopt to the size needed by the table.</p>\n"},{"tags":["java","cannot-find-symbol"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1684628130,"post_id":76297812,"comment_id":134544970,"body_markdown":"That&#39;s because you haven&#39;t compiled `Course`. If you are learning `spring-boot`, use Maven or Gradle too.","body":"That&#39;s because you haven&#39;t compiled <code>Course</code>. If you are learning <code>spring-boot</code>, use Maven or Gradle too."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1684628179,"post_id":76297812,"comment_id":134544974,"body_markdown":"Specify exactly **how** you are trying to compile. Nothing wrong with ant, maven, gradle, sbt or leningen.","body":"Specify exactly <b>how</b> you are trying to compile. Nothing wrong with ant, maven, gradle, sbt or leningen."},{"owner":{"account_id":25045102,"reputation":1,"user_id":18901602,"display_name":"nick nick"},"score":0,"creation_date":1684628274,"post_id":76297812,"comment_id":134544976,"body_markdown":"Than you tgdavies, i did compiled Course  and used Maven :)","body":"Than you tgdavies, i did compiled Course  and used Maven :)"},{"owner":{"account_id":25045102,"reputation":1,"user_id":18901602,"display_name":"nick nick"},"score":0,"creation_date":1684628982,"post_id":76297812,"comment_id":134545002,"body_markdown":"@ElliottFrisch , I&#39;m new here and not good at English. I&#39;ve pasted the compile steps i was using , could you pls help take a look?","body":"@ElliottFrisch , I&#39;m new here and not good at English. I&#39;ve pasted the compile steps i was using , could you pls help take a look?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1684630016,"post_id":76297812,"comment_id":134545046,"body_markdown":"Try `javac *.java` (use a build tool. Ant, Maven, Gradle, SBT or leningen. It will make your life much easier. Even more importantly, use ant IDE with support for one of the above. Maven is usually the most popular. Ant is old school. The others serve different needs. But all are superior to straight `javac`.)","body":"Try <code>javac *.java</code> (use a build tool. Ant, Maven, Gradle, SBT or leningen. It will make your life much easier. Even more importantly, use ant IDE with support for one of the above. Maven is usually the most popular. Ant is old school. The others serve different needs. But all are superior to straight <code>javac</code>.)"},{"owner":{"account_id":25045102,"reputation":1,"user_id":18901602,"display_name":"nick nick"},"score":0,"creation_date":1684631190,"post_id":76297812,"comment_id":134545101,"body_markdown":"@ElliottFrisch  I tried javac *.java , \n1. The compile starts from Main, i got another error package org.springframework.boot does not exist; but actually Maven has downloaded the package right in the lib.... I was following this tutorial. https://www.youtube.com/watch?v=zTAHY0SLQAg   I will try find another one to see if can skip this error...","body":"@ElliottFrisch  I tried javac *.java ,  1. The compile starts from Main, i got another error package org.springframework.boot does not exist; but actually Maven has downloaded the package right in the lib.... I was following this tutorial. <a href=\"https://www.youtube.com/watch?v=zTAHY0SLQAg\" rel=\"nofollow noreferrer\">youtube.com/watch?v=zTAHY0SLQAg</a>   I will try find another one to see if can skip this error..."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684631649,"post_id":76297812,"comment_id":134545116,"body_markdown":"Build with a maven command, e.g. `mvn package` rather than trying to use `javac` directly.","body":"Build with a maven command, e.g. <code>mvn package</code> rather than trying to use <code>javac</code> directly."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684628169,"creation_date":1684628169,"answer_id":76297821,"question_id":76297812,"body_markdown":"Compile Course first. The other class needs it to be compiled.","title":"cannot find symbol even the classes are in same package , same directory","body":"<p>Compile Course first. The other class needs it to be compiled.</p>\n"}],"owner":{"account_id":25045102,"reputation":1,"user_id":18901602,"display_name":"nick nick"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1684675041,"answer_count":1,"score":-1,"last_activity_date":1684656721,"creation_date":1684627848,"question_id":76297812,"body_markdown":"I have two classes, one is Course, another is CourseController.\r\nThey are in the same package , same path;\r\nBut when I compile javac CourseController.java, Intellij says :&quot;error: cannot find symbol&quot;\r\n\r\n\r\nCourse:\r\n\r\n```\r\npackage com.mjfirstSBv5.sprintboot.learnspringboot;\r\n\r\npublic class Course {\r\n    private int id;\r\n    private  String name;\r\n    private  String author;\r\n\r\n    public Course(int id, String name, String author)\r\n    {\r\n        super(); //why this?\r\n        this.author = author;\r\n        this.name =name;\r\n        this.id = id;\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Course{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, author=&#39;&quot; + author + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getAuthor() {\r\n        return author;\r\n    }\r\n}\r\n\r\n```\r\n\r\nCourseController\r\n\r\n```\r\npackage com.mjfirstSBv5.sprintboot.learnspringboot;\r\n\r\n\r\n//import org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n//@RestController\r\npublic class CourseController {\r\n\r\n    public List&lt;Course&gt; retrieveAllCourses()\r\n    {\r\n        return Arrays.asList(\r\n                new Course(1, &quot;learn aws&quot;, &quot;28min&quot;),\r\n                new Course(2, &quot;learn spring boot&quot;, &quot;28min&quot; )\r\n\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    PS D:\\AutoQA_Progress\\intg-mock-service\\learn-spring-boot\\src\\main\\java\\com\\mjfirstSBv5\\sprintboot\\learnspringboot&gt; javac Course.java\r\n    \r\n    PS D:\\AutoQA_Progress\\intg-mock-service\\learn-spring-boot\\src\\main\\java\\com\\mjfirstSBv5\\sprintboot\\learnspringboot&gt; javac CourseController.java  \r\n    CourseController.java:12: error: cannot find symbol\r\n        public List&lt;Course&gt; retrieveAllCourses()\r\n                    ^                           \r\n      symbol:   class Course                    \r\n      location: class CourseController  \r\n            \r\n    CourseController.java:15: error: cannot find symbol \r\n                    new Course(1, &quot;learn aws&quot;, &quot;28min&quot;),\r\n                        ^                               \r\n      symbol:   class Course\r\n      location: class CourseController\r\n    \r\n    CourseController.java:16: error: cannot find symbol\r\n                    new Course(2, &quot;learn spring boot&quot;, &quot;28min&quot; )\r\n                        ^\r\n      symbol:   class Course\r\n      location: class CourseController\r\n    \r\n    3 errors\r\n    PS D:\\AutoQA_Progress\\intg-mock-service\\learn-spring-boot\\src\\main\\java\\com\\mjfirstSBv5\\sprintboot\\learnspringboot&gt; \r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sUztY.png","title":"cannot find symbol even the classes are in same package , same directory","body":"<p>I have two classes, one is Course, another is CourseController.\nThey are in the same package , same path;\nBut when I compile javac CourseController.java, Intellij says :&quot;error: cannot find symbol&quot;</p>\n<p>Course:</p>\n<pre><code>package com.mjfirstSBv5.sprintboot.learnspringboot;\n\npublic class Course {\n    private int id;\n    private  String name;\n    private  String author;\n\n    public Course(int id, String name, String author)\n    {\n        super(); //why this?\n        this.author = author;\n        this.name =name;\n        this.id = id;\n\n\n\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Course{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, author='&quot; + author + '\\'' +\n                '}';\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n}\n\n</code></pre>\n<p>CourseController</p>\n<pre><code>package com.mjfirstSBv5.sprintboot.learnspringboot;\n\n\n//import org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Arrays;\nimport java.util.List;\n\n//@RestController\npublic class CourseController {\n\n    public List&lt;Course&gt; retrieveAllCourses()\n    {\n        return Arrays.asList(\n                new Course(1, &quot;learn aws&quot;, &quot;28min&quot;),\n                new Course(2, &quot;learn spring boot&quot;, &quot;28min&quot; )\n\n        );\n\n    }\n\n}\n\n</code></pre>\n<pre><code>PS D:\\AutoQA_Progress\\intg-mock-service\\learn-spring-boot\\src\\main\\java\\com\\mjfirstSBv5\\sprintboot\\learnspringboot&gt; javac Course.java\n\nPS D:\\AutoQA_Progress\\intg-mock-service\\learn-spring-boot\\src\\main\\java\\com\\mjfirstSBv5\\sprintboot\\learnspringboot&gt; javac CourseController.java  \nCourseController.java:12: error: cannot find symbol\n    public List&lt;Course&gt; retrieveAllCourses()\n                ^                           \n  symbol:   class Course                    \n  location: class CourseController  \n        \nCourseController.java:15: error: cannot find symbol \n                new Course(1, &quot;learn aws&quot;, &quot;28min&quot;),\n                    ^                               \n  symbol:   class Course\n  location: class CourseController\n\nCourseController.java:16: error: cannot find symbol\n                new Course(2, &quot;learn spring boot&quot;, &quot;28min&quot; )\n                    ^\n  symbol:   class Course\n  location: class CourseController\n\n3 errors\nPS D:\\AutoQA_Progress\\intg-mock-service\\learn-spring-boot\\src\\main\\java\\com\\mjfirstSBv5\\sprintboot\\learnspringboot&gt; \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/sUztY.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","maven","maven-2","dependencies","maven-3"],"comments":[{"owner":{"account_id":3228096,"reputation":8549,"user_id":2723943,"accept_rate":90,"display_name":"Imran Ali Khan"},"score":0,"creation_date":1387270881,"post_id":20629737,"comment_id":30877124,"body_markdown":"possible duplicate of [Converting a large Java project to use maven](http://stackoverflow.com/questions/5250536/converting-a-large-java-project-to-use-maven)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5250536/converting-a-large-java-project-to-use-maven\">Converting a large Java project to use maven</a>"},{"owner":{"account_id":2593681,"reputation":409,"user_id":2247782,"accept_rate":31,"display_name":"Sam"},"score":1,"creation_date":1387336387,"post_id":20629737,"comment_id":30912136,"body_markdown":"I find use eclipse with m2eclipse:(Java Convert Maven) Project---&gt;Configure---&gt;Convert to Maven Project , add src/main/java src/test/java  manually.(Maven convert Java)project---&gt;Maven---&gt;Disable Maven Nature, edit package manually.This way is easy way to do the work.","body":"I find use eclipse with m2eclipse:(Java Convert Maven) Project---&gt;Configure---&gt;Convert to Maven Project , add src/main/java src/test/java  manually.(Maven convert Java)project---&gt;Maven---&gt;Disable Maven Nature, edit package manually.This way is easy way to do the work."}],"answers":[{"tags":[],"owner":{"account_id":3228096,"reputation":8549,"user_id":2723943,"accept_rate":90,"display_name":"Imran Ali Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387270752,"creation_date":1387270752,"answer_id":20629793,"question_id":20629737,"body_markdown":"Please follow below steps to migrate from Java Project to Maven Java Project. \r\n\r\n1) Create new folder &quot;src/main/java&quot; using File&gt;New&gt;Folder option \r\n\r\n2) Enable Dependency Management from the context menu of project&gt;M2 MyEclipse Maven \r\n\r\n3) In the 2nd wizard,can add required Dependencies to your project if require. \r\n\r\n4) Move already existing packages under &quot;src&quot; folder to &quot;src/main/java&quot; folder \r\n\r\n5) Run &quot;Maven Install&quot; from the context menu of project, to install the created project in Maven local repository.\r\n\r\nAs well as visit :\r\n\r\nhttps://stackoverflow.com/questions/5250536/converting-a-large-java-project-to-use-maven\r\n\r\nhttps://stackoverflow.com/questions/11016120/how-to-convert-java-project-to-maven-project-or-similar","title":"How to convert a large Java Project to a Maven Project?","body":"<p>Please follow below steps to migrate from Java Project to Maven Java Project. </p>\n\n<p>1) Create new folder \"src/main/java\" using File>New>Folder option </p>\n\n<p>2) Enable Dependency Management from the context menu of project>M2 MyEclipse Maven </p>\n\n<p>3) In the 2nd wizard,can add required Dependencies to your project if require. </p>\n\n<p>4) Move already existing packages under \"src\" folder to \"src/main/java\" folder </p>\n\n<p>5) Run \"Maven Install\" from the context menu of project, to install the created project in Maven local repository.</p>\n\n<p>As well as visit :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5250536/converting-a-large-java-project-to-use-maven\">Using multiple source folders (as intermediate step in a conversion of a large Java project to Maven)</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/11016120/how-to-convert-java-project-to-maven-project-or-similar\">How to convert java project to Maven project or similar</a></p>\n"},{"tags":[],"owner":{"account_id":1592276,"reputation":6902,"user_id":1475346,"accept_rate":100,"display_name":"Martin Seeler"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387270761,"creation_date":1387270761,"answer_id":20629796,"question_id":20629737,"body_markdown":"If you use Eclipse, there is the possibility to convert an existing project into a maven project by `right-click on the root project folder &gt; Configure &gt; Convert to Maven Project`\r\n\r\nin IntelliJ, you can convert it too, by selecting everything you need in the project sturcture settings.","title":"How to convert a large Java Project to a Maven Project?","body":"<p>If you use Eclipse, there is the possibility to convert an existing project into a maven project by <code>right-click on the root project folder &gt; Configure &gt; Convert to Maven Project</code></p>\n\n<p>in IntelliJ, you can convert it too, by selecting everything you need in the project sturcture settings.</p>\n"},{"tags":[],"owner":{"account_id":3554556,"reputation":1334,"user_id":2968614,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387270778,"creation_date":1387270778,"answer_id":20629803,"question_id":20629737,"body_markdown":"You can convert it using [Integration for Apache Maven][1].&lt;br&gt;\r\nFor more info, check [here][2].\r\n\r\n\r\n  [1]: http://maven.apache.org/eclipse-plugin.html\r\n  [2]: http://wiki.eclipse.org/Converting_Eclipse_Java_Project_to_Maven_Project","title":"How to convert a large Java Project to a Maven Project?","body":"<p>You can convert it using <a href=\"http://maven.apache.org/eclipse-plugin.html\" rel=\"nofollow\">Integration for Apache Maven</a>.<br>\nFor more info, check <a href=\"http://wiki.eclipse.org/Converting_Eclipse_Java_Project_to_Maven_Project\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387271538,"creation_date":1387271538,"answer_id":20630079,"question_id":20629737,"body_markdown":"You can create an empty Maven project with archetype plugin http://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html or IDE. The rest of the job (copying files to proper folders, adding dependencies) needs to be done manually.","title":"How to convert a large Java Project to a Maven Project?","body":"<p>You can create an empty Maven project with archetype plugin <a href=\"http://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html\" rel=\"nofollow\">http://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html</a> or IDE. The rest of the job (copying files to proper folders, adding dependencies) needs to be done manually.</p>\n"},{"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387277036,"creation_date":1387273024,"answer_id":20630571,"question_id":20629737,"body_markdown":"In Intellij Idea, right click on the module to which you need to add Maven support:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4xiWc.png\r\n\r\nThere is also my screencast on how to quickly create a multi-module project with Idea: https://stackoverflow.com/questions/6328778/how-to-create-an-empty-multi-module-maven-project/20163892#20163892 The same technique could be used to manage modules.","title":"How to convert a large Java Project to a Maven Project?","body":"<p>In Intellij Idea, right click on the module to which you need to add Maven support:</p>\n\n<p><img src=\"https://i.stack.imgur.com/4xiWc.png\" alt=\"enter image description here\"></p>\n\n<p>There is also my screencast on how to quickly create a multi-module project with Idea: <a href=\"https://stackoverflow.com/questions/6328778/how-to-create-an-empty-multi-module-maven-project/20163892#20163892\">How to create an empty multi module Maven project?</a> The same technique could be used to manage modules.</p>\n"},{"tags":[],"owner":{"account_id":16256396,"reputation":94,"user_id":11738929,"display_name":"Shreyansh Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684654572,"creation_date":1684654572,"answer_id":76298792,"question_id":20629737,"body_markdown":"Using IntelliJ Idea 2022.3.3, here is how you can do it:\r\n- Right click on root of your project in Explorer on the left side.\r\n- Select &quot;Add framework support&quot; (3rd option from the last as shown in image)\r\n- Choose Maven\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QlaG7.png","title":"How to convert a large Java Project to a Maven Project?","body":"<p>Using IntelliJ Idea 2022.3.3, here is how you can do it:</p>\n<ul>\n<li>Right click on root of your project in Explorer on the left side.</li>\n<li>Select &quot;Add framework support&quot; (3rd option from the last as shown in image)</li>\n<li>Choose Maven</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/QlaG7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QlaG7.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2593681,"reputation":409,"user_id":2247782,"accept_rate":31,"display_name":"Sam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2923,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1684654572,"creation_date":1387270556,"question_id":20629737,"body_markdown":"If I create a Java Project at the beginning\r\n\r\nsome days later,the project becomes larger and the dependency is larger\r\n\r\nI want to use maven to manage dependency, what should I do?\r\n\r\nI should create (src/main/java  src/test/java   pom.xml) manually or is there some easy way to do it? \r\n\r\n\r\n\r\n","title":"How to convert a large Java Project to a Maven Project?","body":"<p>If I create a Java Project at the beginning</p>\n\n<p>some days later,the project becomes larger and the dependency is larger</p>\n\n<p>I want to use maven to manage dependency, what should I do?</p>\n\n<p>I should create (src/main/java  src/test/java   pom.xml) manually or is there some easy way to do it? </p>\n"},{"tags":["java","liferay","osgi"],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684654476,"creation_date":1684654476,"answer_id":76298784,"question_id":76298264,"body_markdown":"There seem to be several issues:\r\n\r\n* Fragment bundles can contain JSPs but not code, Components, etc.\r\n* Just because you implement a subclass of a portlet does not mean that it&#39;ll be wired instead of the superclass component\r\n\r\nInstead of providing a full tutorial how to do it: My recommendation is to check for a solution to the underlying problem. You have chosen a solution strategy (override a portlet), which [may or may not be the proper solution][1] for the underlying problem: Liferay&#39;s Search framework provides a lot of extension points that are meant for extention rather than code that needs to be replaced \r\n\r\nIf you want to stick with your solution, search for &quot;marketplace override&quot;, which basically allows you to replace built-in components. I&#39;d not recommend it though, as you&#39;ll have to do a three-way-merge any time you update and the original component has changed. That&#39;s a lot of maintenance burden, and I assume that there must be simpler solutions (I just don&#39;t know your underlying problem)\r\n\r\n\r\n  [1]: https://meta.stackexchange.com/a/66378","title":"I want to override some methods of SearchResultsPortlet.java. Liferay/dxp-7.4.13-u76","body":"<p>There seem to be several issues:</p>\n<ul>\n<li>Fragment bundles can contain JSPs but not code, Components, etc.</li>\n<li>Just because you implement a subclass of a portlet does not mean that it'll be wired instead of the superclass component</li>\n</ul>\n<p>Instead of providing a full tutorial how to do it: My recommendation is to check for a solution to the underlying problem. You have chosen a solution strategy (override a portlet), which <a href=\"https://meta.stackexchange.com/a/66378\">may or may not be the proper solution</a> for the underlying problem: Liferay's Search framework provides a lot of extension points that are meant for extention rather than code that needs to be replaced</p>\n<p>If you want to stick with your solution, search for &quot;marketplace override&quot;, which basically allows you to replace built-in components. I'd not recommend it though, as you'll have to do a three-way-merge any time you update and the original component has changed. That's a lot of maintenance burden, and I assume that there must be simpler solutions (I just don't know your underlying problem)</p>\n"}],"owner":{"account_id":25931293,"reputation":31,"user_id":19652323,"display_name":"John117"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684654476,"creation_date":1684642178,"question_id":76298264,"body_markdown":"I am trying to achieve this through liferay module fragment. Is it possible?\r\n\r\nI created a fragment and created the packages with exact names as they have in source code.\r\n\r\nI created a `public class CustomPortlet extends SearchResultsPortlet`. \r\n\r\nI implemented a `@Override public void render(RenderRequest rq,RenderResponse re ) throws IOException,PortletException {log.info(&quot;Overriden&quot;);\r\nSystem.out.println(&quot;Overriden&quot;); super.render(rq,re);} `\r\n\r\nI also tried with and without @Component annotation in my subclass. \r\nBut osgi is not registering my component.\r\nWhat am I doing wrong? Do I need to add properties inside  @Component annotation? Shouldn&#39;t the subclass inherit the superclass&#39;s annotations? I also made changes in a few jsp files, they are reflected in the portlet.","title":"I want to override some methods of SearchResultsPortlet.java. Liferay/dxp-7.4.13-u76","body":"<p>I am trying to achieve this through liferay module fragment. Is it possible?</p>\n<p>I created a fragment and created the packages with exact names as they have in source code.</p>\n<p>I created a <code>public class CustomPortlet extends SearchResultsPortlet</code>.</p>\n<p>I implemented a <code>@Override public void render(RenderRequest rq,RenderResponse re ) throws IOException,PortletException {log.info(&quot;Overriden&quot;); System.out.println(&quot;Overriden&quot;); super.render(rq,re);} </code></p>\n<p>I also tried with and without @Component annotation in my subclass.\nBut osgi is not registering my component.\nWhat am I doing wrong? Do I need to add properties inside  @Component annotation? Shouldn't the subclass inherit the superclass's annotations? I also made changes in a few jsp files, they are reflected in the portlet.</p>\n"},{"tags":["java","string","list","hql","regex-replace"],"owner":{"account_id":6593348,"reputation":11,"user_id":5093905,"display_name":"Daniel Burgess"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684654450,"creation_date":1676307450,"question_id":75438973,"body_markdown":"I have the query:\r\n\r\n`\r\n@Query(&quot;SELECT t FROM thing t WHERE t.code in :codes&quot;)\r\npublic List&lt;Thing&gt; getThingsByCodeList(@Param(&quot;codes&quot;) List&lt;String&gt; codes);\r\n`\r\n\r\nand now I need to ignore hyphens in the query so I remove all the hyphens from `t.codes` like:\r\n\r\n`\r\n@Query(&quot;SELECT t FROM thing t WHERE regexp_replace(t.code, &#39;-&#39;, &#39;&#39;) in :codes&quot;)\r\npublic List&lt;Thing&gt; getThingsByCodeList(@Param(&quot;codes&quot;) List&lt;String&gt; codes);\r\n`\r\n\r\nbut I am unsure how to also remove the hyphens from all Strings in the List `codes`\r\n\r\n\r\nI know I can remove the hyphens before calling the method but I want to make sure this solution is impossible first.","title":"How do I run a regex replace on all elements of a list of Strings in HQL?","body":"<p>I have the query:</p>\n<p><code>@Query(&quot;SELECT t FROM thing t WHERE t.code in :codes&quot;) public List&lt;Thing&gt; getThingsByCodeList(@Param(&quot;codes&quot;) List&lt;String&gt; codes);</code></p>\n<p>and now I need to ignore hyphens in the query so I remove all the hyphens from <code>t.codes</code> like:</p>\n<p><code>@Query(&quot;SELECT t FROM thing t WHERE regexp_replace(t.code, '-', '') in :codes&quot;) public List&lt;Thing&gt; getThingsByCodeList(@Param(&quot;codes&quot;) List&lt;String&gt; codes);</code></p>\n<p>but I am unsure how to also remove the hyphens from all Strings in the List <code>codes</code></p>\n<p>I know I can remove the hyphens before calling the method but I want to make sure this solution is impossible first.</p>\n"},{"tags":["java","string","integer","dayofweek"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677209514,"post_id":75552274,"comment_id":133297194,"body_markdown":"Dont use an integer. Use [the built-in `DayOfWeek` enum](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/DayOfWeek.html). It will also give you the math for free through its `plus` and `minus` methods.","body":"Dont use an integer. Use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\">the built-in <code>DayOfWeek</code> enum</a>. It will also give you the math for free through its <code>plus</code> and <code>minus</code> methods."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677209942,"post_id":75552274,"comment_id":133297239,"body_markdown":"If its not too advanced for you: Declare `private static final DateTimeFormatter DOW_FORMATTER = new DateTimeFormatterBuilder() .parseCaseInsensitive() .appendText(ChronoField.DAY_OF_WEEK, TextStyle.FULL) .toFormatter(Locale.ENGLISH);` Then for example `DOW_FORMATTER.parse(&quot;sunDAY&quot;, DayOfWeek::from)` will give you the `SUNDAY` enum constant (it accepts mixed case as shown). Use `try`-`cath` to catch a `DateTimeParseException` in case the user enters an invalid day of week.","body":"If its not too advanced for you: Declare <code>private static final DateTimeFormatter DOW_FORMATTER = new DateTimeFormatterBuilder() .parseCaseInsensitive() .appendText(ChronoField.DAY_OF_WEEK, TextStyle.FULL) .toFormatter(Locale.ENGLISH);</code> Then for example <code>DOW_FORMATTER.parse(&quot;sunDAY&quot;, DayOfWeek::from)</code> will give you the <code>SUNDAY</code> enum constant (it accepts mixed case as shown). Use <code>try</code>-<code>cath</code> to catch a <code>DateTimeParseException</code> in case the user enters an invalid day of week."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677210176,"post_id":75552274,"comment_id":133297265,"body_markdown":"Possibly simpler: `DayOfWeek.valueOf(&quot;sunDAY&quot;.toUpperCase(Locale.ENGLISH))`. Here you will get an `IllegalArgumentException` in case of invalid input.","body":"Possibly simpler: <code>DayOfWeek.valueOf(&quot;sunDAY&quot;.toUpperCase(Locale.ENGLISH))</code>. Here you will get an <code>IllegalArgumentException</code> in case of invalid input."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1678133341,"post_id":75552274,"comment_id":133471136,"body_markdown":"Is this homework? Then your tutor *may* require you to write this yourself. Otherwise, you should utilize `java.time.DayOfWeek`.","body":"Is this homework? Then your tutor <i>may</i> require you to write this yourself. Otherwise, you should utilize <code>java.time.DayOfWeek</code>."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677208402,"creation_date":1677208402,"answer_id":75552299,"question_id":75552274,"body_markdown":"You can create a `List` of days in order, then use `indexOf` after converting the input `String` to lowercase.\r\n\r\n```java\r\nList&lt;String&gt; days = List.of(&quot;sunday&quot;, &quot;monday&quot;, &quot;tuesday&quot;, &quot;wednesday&quot;, &quot;thursday&quot;, &quot;friday&quot;, &quot;saturday&quot;);\r\n// convert day to index:\r\nint b = days.indexOf(day.toLowerCase()) + 1;\r\n\r\n// convert index to day:\r\nString day = days.get(a - 1);\r\n// capitalize it:\r\nday = Character.toUpperCase(day.charAt(0)) + day.substring(1);\r\n```","title":"Is there a way to assign a user input string to an int value?","body":"<p>You can create a <code>List</code> of days in order, then use <code>indexOf</code> after converting the input <code>String</code> to lowercase.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; days = List.of(&quot;sunday&quot;, &quot;monday&quot;, &quot;tuesday&quot;, &quot;wednesday&quot;, &quot;thursday&quot;, &quot;friday&quot;, &quot;saturday&quot;);\n// convert day to index:\nint b = days.indexOf(day.toLowerCase()) + 1;\n\n// convert index to day:\nString day = days.get(a - 1);\n// capitalize it:\nday = Character.toUpperCase(day.charAt(0)) + day.substring(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Matea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677209223,"creation_date":1677209223,"answer_id":75552361,"question_id":75552274,"body_markdown":"While the above answer is clear and accurate, you could also use an `enum` containing all days of the week, mostly in case you also want to add more functionality to them.\r\n\r\n```\r\nenum DayOfWeek {\r\n    MONDAY(1), TUESDAY(2), WEDNESDAY(3), THURSDAY(4), FRIDAY(5), SATURDAY(6), SUNDAY(7);\r\n\r\n    private final int value;\r\n\r\n    private DayOfWeek(int value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n\r\n    public DayOfWeek getPreviousDay() {\r\n        if (value == 1) return DayOfWeek.SUNDAY;\r\n        if (value == 2) return DayOfWeek.MONDAY;\r\n        // Insert other checks here\r\n    }\r\n\r\n    public DayOfWeek getNextDay() {\r\n        if (value == 7) return DayOfWeek.MONDAY;\r\n        // Insert other checks here\r\n    }\r\n}\r\n```\r\n... while the user input part can look like this:\r\n```\r\nScanner scan = new Scanner(System.in);\r\n\r\nSystem.out.println(&quot;Please set the day of the week:&quot;);\r\nString day = scan.nextLine();\r\n\r\nDayOfWeek dayOfWeek = DayOfWeek.valueOf(day);\r\n```\r\n\r\nOf course, in this case, if the user inputs the correct value, but with wrong capitalization (e.g. `mondaY` or `Monday`), it will throw an `Exception`. User should type in `MONDAY`, as specified in `DayOfWeek`. You could convert `day` to uppercase pretty easy by just adding:\r\n```\r\nDayOfWeek dayOfWeek = DayOfWeek.valueOf(day.toUpperCase());\r\n```","title":"Is there a way to assign a user input string to an int value?","body":"<p>While the above answer is clear and accurate, you could also use an <code>enum</code> containing all days of the week, mostly in case you also want to add more functionality to them.</p>\n<pre><code>enum DayOfWeek {\n    MONDAY(1), TUESDAY(2), WEDNESDAY(3), THURSDAY(4), FRIDAY(5), SATURDAY(6), SUNDAY(7);\n\n    private final int value;\n\n    private DayOfWeek(int value) {\n        this.value = value;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    public DayOfWeek getPreviousDay() {\n        if (value == 1) return DayOfWeek.SUNDAY;\n        if (value == 2) return DayOfWeek.MONDAY;\n        // Insert other checks here\n    }\n\n    public DayOfWeek getNextDay() {\n        if (value == 7) return DayOfWeek.MONDAY;\n        // Insert other checks here\n    }\n}\n</code></pre>\n<p>... while the user input part can look like this:</p>\n<pre><code>Scanner scan = new Scanner(System.in);\n\nSystem.out.println(&quot;Please set the day of the week:&quot;);\nString day = scan.nextLine();\n\nDayOfWeek dayOfWeek = DayOfWeek.valueOf(day);\n</code></pre>\n<p>Of course, in this case, if the user inputs the correct value, but with wrong capitalization (e.g. <code>mondaY</code> or <code>Monday</code>), it will throw an <code>Exception</code>. User should type in <code>MONDAY</code>, as specified in <code>DayOfWeek</code>. You could convert <code>day</code> to uppercase pretty easy by just adding:</p>\n<pre><code>DayOfWeek dayOfWeek = DayOfWeek.valueOf(day.toUpperCase());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27950892,"reputation":1,"user_id":21344783,"display_name":"Milo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678132599,"creation_date":1678132599,"answer_id":75655279,"question_id":75552274,"body_markdown":"import java.util.Scanner;\r\n\r\npublic class DayOfWeek {\r\n    public static void main(String[] args) {\r\n        String[] daysOfWeek = {&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;};\r\n\r\n        // Ask the user to input a day of the week\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.print(&quot;Please enter a day of the week: &quot;);\r\n        String day = input.nextLine();\r\n\r\n        // Check if the input day is valid\r\n        boolean validDay = false;\r\n        for (String d : daysOfWeek) {\r\n            if (d.equalsIgnoreCase(day)) {\r\n                validDay = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!validDay) {\r\n            System.out.println(&quot;Invalid input. Please enter a valid day of the week.&quot;);\r\n        } else {\r\n            // Ask the user to select an option\r\n            System.out.println(&quot;Please select an option:&quot;);\r\n            System.out.println(&quot;1. Return the day&quot;);\r\n            System.out.println(&quot;2. Return the next day&quot;);\r\n            System.out.println(&quot;3. Return the previous day&quot;);\r\n            System.out.println(&quot;4. Add certain days to the day you set&quot;);\r\n            System.out.print(&quot;Option: &quot;);\r\n            int option = input.nextInt();\r\n\r\n            if (option == 1) {\r\n                System.out.println(&quot;The day is &quot; + day);\r\n            } else if (option == 2) {\r\n                int index = -1;\r\n                for (int i = 0; i &lt; daysOfWeek.length; i++) {\r\n                    if (daysOfWeek[i].equalsIgnoreCase(day)) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n                }\r\n                String nextDay = daysOfWeek[(index + 1) % 7];\r\n                System.out.println(&quot;The next day is &quot; + nextDay);\r\n            } else if (option == 3) {\r\n                int index = -1;\r\n                for (int i = 0; i &lt; daysOfWeek.length; i++) {\r\n                    if (daysOfWeek[i].equalsIgnoreCase(day)) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n                }\r\n                String prevDay = daysOfWeek[(index - 1 + 7) % 7];\r\n                System.out.println(&quot;The previous day is &quot; + prevDay);\r\n            } else if (option == 4) {\r\n                System.out.print(&quot;Enter the number of days to add: &quot;);\r\n                int numDays = input.nextInt();\r\n                int index = -1;\r\n                for (int i = 0; i &lt; daysOfWeek.length; i++) {\r\n                    if (daysOfWeek[i].equalsIgnoreCase(day)) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n                }\r\n                String newDay = daysOfWeek[(index + numDays) % 7];\r\n                System.out.println(&quot;The new day is &quot; + newDay);\r\n            } else {\r\n                System.out.println(&quot;Invalid option. Please select a valid option.&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n","title":"Is there a way to assign a user input string to an int value?","body":"<p>import java.util.Scanner;</p>\n<p>public class DayOfWeek {\npublic static void main(String[] args) {\nString[] daysOfWeek = {&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;};</p>\n<pre><code>    // Ask the user to input a day of the week\n    Scanner input = new Scanner(System.in);\n    System.out.print(&quot;Please enter a day of the week: &quot;);\n    String day = input.nextLine();\n\n    // Check if the input day is valid\n    boolean validDay = false;\n    for (String d : daysOfWeek) {\n        if (d.equalsIgnoreCase(day)) {\n            validDay = true;\n            break;\n        }\n    }\n    if (!validDay) {\n        System.out.println(&quot;Invalid input. Please enter a valid day of the week.&quot;);\n    } else {\n        // Ask the user to select an option\n        System.out.println(&quot;Please select an option:&quot;);\n        System.out.println(&quot;1. Return the day&quot;);\n        System.out.println(&quot;2. Return the next day&quot;);\n        System.out.println(&quot;3. Return the previous day&quot;);\n        System.out.println(&quot;4. Add certain days to the day you set&quot;);\n        System.out.print(&quot;Option: &quot;);\n        int option = input.nextInt();\n\n        if (option == 1) {\n            System.out.println(&quot;The day is &quot; + day);\n        } else if (option == 2) {\n            int index = -1;\n            for (int i = 0; i &lt; daysOfWeek.length; i++) {\n                if (daysOfWeek[i].equalsIgnoreCase(day)) {\n                    index = i;\n                    break;\n                }\n            }\n            String nextDay = daysOfWeek[(index + 1) % 7];\n            System.out.println(&quot;The next day is &quot; + nextDay);\n        } else if (option == 3) {\n            int index = -1;\n            for (int i = 0; i &lt; daysOfWeek.length; i++) {\n                if (daysOfWeek[i].equalsIgnoreCase(day)) {\n                    index = i;\n                    break;\n                }\n            }\n            String prevDay = daysOfWeek[(index - 1 + 7) % 7];\n            System.out.println(&quot;The previous day is &quot; + prevDay);\n        } else if (option == 4) {\n            System.out.print(&quot;Enter the number of days to add: &quot;);\n            int numDays = input.nextInt();\n            int index = -1;\n            for (int i = 0; i &lt; daysOfWeek.length; i++) {\n                if (daysOfWeek[i].equalsIgnoreCase(day)) {\n                    index = i;\n                    break;\n                }\n            }\n            String newDay = daysOfWeek[(index + numDays) % 7];\n            System.out.println(&quot;The new day is &quot; + newDay);\n        } else {\n            System.out.println(&quot;Invalid option. Please select a valid option.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":18319931,"reputation":11,"user_id":13340940,"display_name":"zamwon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678133430,"creation_date":1678133430,"answer_id":75655401,"question_id":75552274,"body_markdown":"You can also use `Map&lt;String, Integer&gt;` where key is String like &quot;Monday&quot; etc, and an Integer as your value that should be associated with it.\r\n\r\nThen you can call for exact value by calling `map.get(scanner.nextLine())`.\r\n\r\nLater on focus on cleaning up the if-&#39;ish&#39; approach - get acquainted with `switch`. \r\n\r\nFinal step would be to extract functionalities to separate methods:\r\none for retrieving day, then second for logic to deal with further processing, and last but not least for example the returning value method.\r\n\r\n\r\n ","title":"Is there a way to assign a user input string to an int value?","body":"<p>You can also use <code>Map&lt;String, Integer&gt;</code> where key is String like &quot;Monday&quot; etc, and an Integer as your value that should be associated with it.</p>\n<p>Then you can call for exact value by calling <code>map.get(scanner.nextLine())</code>.</p>\n<p>Later on focus on cleaning up the if-'ish' approach - get acquainted with <code>switch</code>.</p>\n<p>Final step would be to extract functionalities to separate methods:\none for retrieving day, then second for logic to deal with further processing, and last but not least for example the returning value method.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684654227,"creation_date":1684654227,"answer_id":76298767,"question_id":75552274,"body_markdown":"I adapted your code, utilizing an `enum` as the main reference point for your day values.\r\n\r\n```java\r\nint d;\r\n\r\nvoid userInput() {\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.print(&quot;Please enter a day of the week: &quot;);\r\n    String day = scanner.nextLine();\r\n    Day value;\r\n    try {\r\n        value = Day.valueOf(day.toUpperCase());\r\n        d = value.ordinal() + 1;\r\n    } catch (IllegalArgumentException exception) {\r\n        System.out.printf(&quot;Invalid input, &#39;%s&#39;%n&quot;, day);\r\n        return;\r\n    }\r\n\r\n    System.out.println(&quot;Enter 1 to return the day.\\nEnter 2 to return tomorrows day.\\nEnter 3 to return yesterdays day.\\nEnter 4 to add days to the current day.\\n&quot;);\r\n    switch (scanner.nextInt()) {\r\n        case 1 -&gt; System.out.println(value);\r\n        case 2 -&gt; System.out.println(value.next());\r\n        case 3 -&gt; System.out.println(value.previous());\r\n        case 4 -&gt; {\r\n            System.out.println(&quot;Enter the number of days you want to add&quot;);\r\n            int c = scanner.nextInt();\r\n            while (c-- &gt; 0)\r\n                value = value.next();\r\n            System.out.println(value);\r\n        }\r\n    }\r\n}\r\n\r\nenum Day {\r\n    SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY;\r\n\r\n    Day next() {\r\n        if (this == SATURDAY) return SUNDAY;\r\n        return values()[ordinal() + 1];\r\n    }\r\n\r\n    Day previous() {\r\n        if (this == SUNDAY) return SATURDAY;\r\n        return values()[ordinal() - 1];\r\n    }\r\n}\r\n```\r\n\r\nOutput.\r\n\r\n```none\r\nPlease enter a day of the week: saturday\r\nEnter 1 to return the day.\r\nEnter 2 to return tomorrows day.\r\nEnter 3 to return yesterdays day.\r\nEnter 4 to add days to the current day.\r\n\r\n4\r\nEnter the number of days you want to add\r\n6\r\nFRIDAY\r\n```","title":"Is there a way to assign a user input string to an int value?","body":"<p>I adapted your code, utilizing an <code>enum</code> as the main reference point for your day values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int d;\n\nvoid userInput() {\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(&quot;Please enter a day of the week: &quot;);\n    String day = scanner.nextLine();\n    Day value;\n    try {\n        value = Day.valueOf(day.toUpperCase());\n        d = value.ordinal() + 1;\n    } catch (IllegalArgumentException exception) {\n        System.out.printf(&quot;Invalid input, '%s'%n&quot;, day);\n        return;\n    }\n\n    System.out.println(&quot;Enter 1 to return the day.\\nEnter 2 to return tomorrows day.\\nEnter 3 to return yesterdays day.\\nEnter 4 to add days to the current day.\\n&quot;);\n    switch (scanner.nextInt()) {\n        case 1 -&gt; System.out.println(value);\n        case 2 -&gt; System.out.println(value.next());\n        case 3 -&gt; System.out.println(value.previous());\n        case 4 -&gt; {\n            System.out.println(&quot;Enter the number of days you want to add&quot;);\n            int c = scanner.nextInt();\n            while (c-- &gt; 0)\n                value = value.next();\n            System.out.println(value);\n        }\n    }\n}\n\nenum Day {\n    SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY;\n\n    Day next() {\n        if (this == SATURDAY) return SUNDAY;\n        return values()[ordinal() + 1];\n    }\n\n    Day previous() {\n        if (this == SUNDAY) return SATURDAY;\n        return values()[ordinal() - 1];\n    }\n}\n</code></pre>\n<p>Output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Please enter a day of the week: saturday\nEnter 1 to return the day.\nEnter 2 to return tomorrows day.\nEnter 3 to return yesterdays day.\nEnter 4 to add days to the current day.\n\n4\nEnter the number of days you want to add\n6\nFRIDAY\n</code></pre>\n"}],"owner":{"account_id":27865552,"reputation":11,"user_id":21277112,"display_name":"Leek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1684654227,"creation_date":1677207961,"question_id":75552274,"body_markdown":"\\`Im still learning and I sort of feel like Im doing this all wrong, but I could use some help. I have an assignment needs to have the user set a day of the week, then the program will make the user select an option that will either return the day, return the next day, return the previous day, or add certain days to the day they set(ex: If set the day as Monday and add 4 days, then it will return Friday). I really only need help with the adding days part but any advice on how to make the code better is appreciated.\r\n\r\n***\r\n\r\nIm wanting to know if I can assign a int value to a string. For example, if String day equals &quot;Sunday&quot;, then int a = 1. I want to assign each day of the week to an int value, then add whatever number the user inputs to the int value, then the sum would be the new day.\r\n\r\n***\r\n\r\nIf theres a better way to do this please let me know, heres my code(sorry if it looks bad).\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Main\r\n{\r\npublic static void main(String\\[\\] args)\r\n{\r\n\r\n        Day.userInput();\r\n    }\r\n\r\n}\r\n\r\nclass Day\r\n{\r\nstatic int b;\r\npublic static void userInput()\r\n{\r\nScanner scan = new Scanner(System.in);\r\n\r\n// set day of week\r\nSystem.out.println(&quot;Please set the day of the week:&quot;);\r\nString day = scan.nextLine();\r\n\r\n        if(day.equals(&quot;sunday&quot;) || (day.equals(&quot;Sunday&quot;)) )\r\n        {\r\n          b = 1;\r\n        }\r\n        if(day.equals(&quot;monday&quot;) || (day.equals(&quot;Monday&quot;)) )\r\n        {\r\n            b = 2;\r\n        }\r\n        if(day.equals(&quot;tuesday&quot;) || (day.equals(&quot;Tuesday&quot;)) )\r\n        {\r\n            b = 3;\r\n        }\r\n        if(day.equals(&quot;wednesday&quot;) || (day.equals(&quot;Wednesday&quot;)) )\r\n        {\r\n            b = 4;\r\n        }\r\n        if(day.equals(&quot;thursday&quot;) || (day.equals(&quot;Thursday&quot;)) )\r\n        {\r\n            b = 5;\r\n        }\r\n        if(day.equals(&quot;friday&quot;) || (day.equals(&quot;Friday&quot;)) )\r\n        {\r\n            b = 6;\r\n        }\r\n        if(day.equals(&quot;saturday&quot;) || (day.equals(&quot;Saturday&quot;)) )\r\n        {\r\n            b = 7;\r\n        }\r\n    \r\n    \r\n        System.out.println(&quot;Enter 1 to return the day.\\nEnter 2 to return tomorrows day.\\nEnter 3 to return yesterdays day.\\nEnter 4 to add days to the current day.\\n&quot;);\r\n        int a = scan.nextInt();\r\n\r\n// return day\r\nif(a == 1)\r\n{\r\nSystem.out.println(&quot;The day is &quot; + day);\r\n}\r\n//return next day\r\nif(a == 2)\r\n{\r\nif ( b == 1)\r\n{\r\nSystem.out.println(&quot;The next day is Monday.&quot;);\r\n}\r\nif (b == 2)\r\n{\r\nSystem.out.println(&quot;The next day is Tuesday.&quot;);\r\n}\r\nif (b == 3)\r\n{\r\nSystem.out.println(&quot;The next day is Wednesday.&quot;);\r\n}\r\nif (b == 4)\r\n{\r\nSystem.out.println(&quot;The next day is Thursday.&quot;);\r\n}\r\nif (b == 5)\r\n{\r\nSystem.out.println(&quot;The next day is Friday.&quot;);\r\n}\r\nif (b == 6)\r\n{\r\nSystem.out.println(&quot;The next day is Saturday.&quot;);\r\n}\r\nif (b == 7)\r\n{\r\nSystem.out.println(&quot;The next day is Sunday.&quot;);\r\n}\r\n\r\n        }\r\n\r\n//return previous day\r\nif(a == 3)\r\n{\r\nif( b == 1)\r\n{\r\nSystem.out.println(&quot;The previous day was Saturday.&quot;);\r\n}\r\nif (b == 2)\r\n{\r\nSystem.out.println(&quot;The previous day was Sunday.&quot;);\r\n}\r\nif (b == 3)\r\n{\r\nSystem.out.println(&quot;The previous day was Monday.&quot;);\r\n}\r\nif (b == 4)\r\n{\r\nSystem.out.println(&quot;The previous day was Tuesday.&quot;);\r\n}\r\nif (b == 5)\r\n{\r\nSystem.out.println(&quot;The previous day was Wednesday.&quot;);\r\n}\r\nif (b == 6)\r\n{\r\nSystem.out.println(&quot;The previous day was Thursday.&quot;);\r\n}\r\nif (b == 7)\r\n{\r\nSystem.out.println(&quot;The previous day was Friday.&quot;);\r\n}\r\n}\r\n// add days  \r\nif(a == 4 )\r\n{\r\nSystem.out.println(&quot;Enter the number of days you want to add&quot;);\r\nint c = scan.nextInt();\r\n\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n}\r\n```\r\nI know a way I can do this but it&#39;ll take a massive amount of lines and if statements. \\`","title":"Is there a way to assign a user input string to an int value?","body":"<p>`Im still learning and I sort of feel like Im doing this all wrong, but I could use some help. I have an assignment needs to have the user set a day of the week, then the program will make the user select an option that will either return the day, return the next day, return the previous day, or add certain days to the day they set(ex: If set the day as Monday and add 4 days, then it will return Friday). I really only need help with the adding days part but any advice on how to make the code better is appreciated.</p>\n<hr />\n<p>Im wanting to know if I can assign a int value to a string. For example, if String day equals &quot;Sunday&quot;, then int a = 1. I want to assign each day of the week to an int value, then add whatever number the user inputs to the int value, then the sum would be the new day.</p>\n<hr />\n<p>If theres a better way to do this please let me know, heres my code(sorry if it looks bad).</p>\n<pre><code>import java.util.Scanner;\npublic class Main\n{\npublic static void main(String\\[\\] args)\n{\n\n        Day.userInput();\n    }\n\n}\n\nclass Day\n{\nstatic int b;\npublic static void userInput()\n{\nScanner scan = new Scanner(System.in);\n\n// set day of week\nSystem.out.println(&quot;Please set the day of the week:&quot;);\nString day = scan.nextLine();\n\n        if(day.equals(&quot;sunday&quot;) || (day.equals(&quot;Sunday&quot;)) )\n        {\n          b = 1;\n        }\n        if(day.equals(&quot;monday&quot;) || (day.equals(&quot;Monday&quot;)) )\n        {\n            b = 2;\n        }\n        if(day.equals(&quot;tuesday&quot;) || (day.equals(&quot;Tuesday&quot;)) )\n        {\n            b = 3;\n        }\n        if(day.equals(&quot;wednesday&quot;) || (day.equals(&quot;Wednesday&quot;)) )\n        {\n            b = 4;\n        }\n        if(day.equals(&quot;thursday&quot;) || (day.equals(&quot;Thursday&quot;)) )\n        {\n            b = 5;\n        }\n        if(day.equals(&quot;friday&quot;) || (day.equals(&quot;Friday&quot;)) )\n        {\n            b = 6;\n        }\n        if(day.equals(&quot;saturday&quot;) || (day.equals(&quot;Saturday&quot;)) )\n        {\n            b = 7;\n        }\n    \n    \n        System.out.println(&quot;Enter 1 to return the day.\\nEnter 2 to return tomorrows day.\\nEnter 3 to return yesterdays day.\\nEnter 4 to add days to the current day.\\n&quot;);\n        int a = scan.nextInt();\n\n// return day\nif(a == 1)\n{\nSystem.out.println(&quot;The day is &quot; + day);\n}\n//return next day\nif(a == 2)\n{\nif ( b == 1)\n{\nSystem.out.println(&quot;The next day is Monday.&quot;);\n}\nif (b == 2)\n{\nSystem.out.println(&quot;The next day is Tuesday.&quot;);\n}\nif (b == 3)\n{\nSystem.out.println(&quot;The next day is Wednesday.&quot;);\n}\nif (b == 4)\n{\nSystem.out.println(&quot;The next day is Thursday.&quot;);\n}\nif (b == 5)\n{\nSystem.out.println(&quot;The next day is Friday.&quot;);\n}\nif (b == 6)\n{\nSystem.out.println(&quot;The next day is Saturday.&quot;);\n}\nif (b == 7)\n{\nSystem.out.println(&quot;The next day is Sunday.&quot;);\n}\n\n        }\n\n//return previous day\nif(a == 3)\n{\nif( b == 1)\n{\nSystem.out.println(&quot;The previous day was Saturday.&quot;);\n}\nif (b == 2)\n{\nSystem.out.println(&quot;The previous day was Sunday.&quot;);\n}\nif (b == 3)\n{\nSystem.out.println(&quot;The previous day was Monday.&quot;);\n}\nif (b == 4)\n{\nSystem.out.println(&quot;The previous day was Tuesday.&quot;);\n}\nif (b == 5)\n{\nSystem.out.println(&quot;The previous day was Wednesday.&quot;);\n}\nif (b == 6)\n{\nSystem.out.println(&quot;The previous day was Thursday.&quot;);\n}\nif (b == 7)\n{\nSystem.out.println(&quot;The previous day was Friday.&quot;);\n}\n}\n// add days  \nif(a == 4 )\n{\nSystem.out.println(&quot;Enter the number of days you want to add&quot;);\nint c = scan.nextInt();\n\n        }\n    \n    \n    }\n\n}\n</code></pre>\n<p>I know a way I can do this but it'll take a massive amount of lines and if statements. `</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1684601359,"post_id":76296160,"comment_id":134542312,"body_markdown":"What are you trying to do? Show `index.html` for all routes that don&#39;t match anything?","body":"What are you trying to do? Show <code>index.html</code> for all routes that don&#39;t match anything?"}],"answers":[{"tags":[],"owner":{"account_id":20116909,"reputation":26,"user_id":14752137,"display_name":"Issam El Orf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684600019,"creation_date":1684600019,"answer_id":76296224,"question_id":76296160,"body_markdown":"Update the file with the following content: html\r\n```\r\n    &lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;title&gt;Manager Site&lt;/title&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}&quot;&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;div class=&quot;container-fluid text-center&quot;&gt;\r\n        &lt;div&gt;\r\n            &lt;table class=&quot;table&quot;&gt;\r\n                &lt;thead&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;th&gt;ID&lt;/th&gt;\r\n                        &lt;th&gt;Email&lt;/th&gt;\r\n                        &lt;th&gt;Name&lt;/th&gt;\r\n                        &lt;th&gt;Username&lt;/th&gt;\r\n                        &lt;th&gt;Password&lt;/th&gt;\r\n                        &lt;th&gt;&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                    &lt;tr th:each=&quot;user : ${listUsers}&quot;&gt;\r\n                        &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${user.password}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td&gt;&lt;!-- additional actions if needed --&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```","title":"Can&#39;t access index file in spring boot project","body":"<p>Update the file with the following content: html</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Manager Site&lt;/title&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}&quot;&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=&quot;container-fluid text-center&quot;&gt;\n        &lt;div&gt;\n            &lt;table class=&quot;table&quot;&gt;\n                &lt;thead&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;ID&lt;/th&gt;\n                        &lt;th&gt;Email&lt;/th&gt;\n                        &lt;th&gt;Name&lt;/th&gt;\n                        &lt;th&gt;Username&lt;/th&gt;\n                        &lt;th&gt;Password&lt;/th&gt;\n                        &lt;th&gt;&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr th:each=&quot;user : ${listUsers}&quot;&gt;\n                        &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${user.password}&quot;&gt;&lt;/td&gt;\n                        &lt;td&gt;&lt;!-- additional actions if needed --&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20116909,"reputation":26,"user_id":14752137,"display_name":"Issam El Orf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684626017,"creation_date":1684626017,"answer_id":76297750,"question_id":76296160,"body_markdown":"I think i found the problem, The name of your file html should be the same name returned in your method AllUsers, so just replace index.html by users.html.\r\n","title":"Can&#39;t access index file in spring boot project","body":"<p>I think i found the problem, The name of your file html should be the same name returned in your method AllUsers, so just replace index.html by users.html.</p>\n"}],"owner":{"account_id":27014594,"reputation":23,"user_id":20573680,"display_name":"negbi2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76297750,"answer_count":2,"score":0,"last_activity_date":1684654138,"creation_date":1684599193,"question_id":76296160,"body_markdown":"I have the following controller.\r\n\r\n\r\n```\r\npackage com.school.project;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String AllUsers(Model model) {\r\n        model.addAttribute(&quot;listUsers&quot;, userService.getAllUsers());\r\n        return &quot;users&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nand an `index.html` file placed in my templates folder.\r\n\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;title&gt;Manager Site&lt;/title&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{webjars/bootstrap/5.2.3/css/bootstrap.min.css}&quot;&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;div class=&quot;container-fluid text-center&quot;&gt;\r\n        &lt;div&gt;\r\n            &lt;table&gt;\r\n                &lt;thead&gt;\r\n                    &lt;th&gt;ID&lt;/th&gt;\r\n                    &lt;th&gt;E-mail&lt;/th&gt;\r\n                    &lt;th&gt;name&lt;/th&gt;\r\n                    &lt;th&gt;username&lt;/th&gt;\r\n                    &lt;th&gt;password&lt;/th&gt;\r\n                    &lt;th&gt;&lt;/th&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                    \r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n\r\n\r\nBut whenever I launch my application, I get the following error.\r\n\r\n\r\n```\r\nSat May 20 18:57:06 IDT 2023\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nError resolving template [users], template might not exist or might not be accessible by any of the configured Template Resolvers\r\norg.thymeleaf.exceptions.TemplateInputException: Error resolving template [users], template might not exist or might not be accessible by any of the configured Template Resolvers\r\n```\r\n\r\nIf I change the routing of my index mapping, the html will load with no problem, but if I give them the same routing, I get that error.\r\n\r\nIt is the same error. I get if I try to go to a URL with no matching template file.\r\n\r\nI know this error has already been posted, but none of the solutions worked for me.\r\n\r\nMy service class is the following.\r\n\r\n```\r\npackage com.school.project;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class UserService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    public List&lt;User&gt; getAllUsers() {\r\n        List&lt;User&gt; users = userRepository.findAll();\r\n        return users;\r\n    }\r\n}\r\n\r\n```\r\n\r\nand my model class.\r\n\r\n```\r\npackage com.school.project;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity\r\n@Data\r\n@Table(name = &quot;user&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;isAdmin&quot;)\r\n    private boolean isAdmin;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String userName;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n}\r\n\r\n```\r\n","title":"Can&#39;t access index file in spring boot project","body":"<p>I have the following controller.</p>\n<pre><code>package com.school.project;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/&quot;)\n    public String AllUsers(Model model) {\n        model.addAttribute(&quot;listUsers&quot;, userService.getAllUsers());\n        return &quot;users&quot;;\n    }\n\n}\n</code></pre>\n<p>and an <code>index.html</code> file placed in my templates folder.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Manager Site&lt;/title&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{webjars/bootstrap/5.2.3/css/bootstrap.min.css}&quot;&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=&quot;container-fluid text-center&quot;&gt;\n        &lt;div&gt;\n            &lt;table&gt;\n                &lt;thead&gt;\n                    &lt;th&gt;ID&lt;/th&gt;\n                    &lt;th&gt;E-mail&lt;/th&gt;\n                    &lt;th&gt;name&lt;/th&gt;\n                    &lt;th&gt;username&lt;/th&gt;\n                    &lt;th&gt;password&lt;/th&gt;\n                    &lt;th&gt;&lt;/th&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    \n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n\n</code></pre>\n<p>But whenever I launch my application, I get the following error.</p>\n<pre><code>Sat May 20 18:57:06 IDT 2023\nThere was an unexpected error (type=Internal Server Error, status=500).\nError resolving template [users], template might not exist or might not be accessible by any of the configured Template Resolvers\norg.thymeleaf.exceptions.TemplateInputException: Error resolving template [users], template might not exist or might not be accessible by any of the configured Template Resolvers\n</code></pre>\n<p>If I change the routing of my index mapping, the html will load with no problem, but if I give them the same routing, I get that error.</p>\n<p>It is the same error. I get if I try to go to a URL with no matching template file.</p>\n<p>I know this error has already been posted, but none of the solutions worked for me.</p>\n<p>My service class is the following.</p>\n<pre><code>package com.school.project;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    public List&lt;User&gt; getAllUsers() {\n        List&lt;User&gt; users = userRepository.findAll();\n        return users;\n    }\n}\n\n</code></pre>\n<p>and my model class.</p>\n<pre><code>package com.school.project;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Data\n@Table(name = &quot;user&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;isAdmin&quot;)\n    private boolean isAdmin;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;username&quot;)\n    private String userName;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n}\n\n</code></pre>\n"},{"tags":["java","soap","utf-8","xml-parsing"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684654611,"post_id":76298608,"comment_id":134546333,"body_markdown":"What headers does the response have?","body":"What headers does the response have?"}],"answers":[{"tags":[],"owner":{"account_id":20181960,"reputation":166,"user_id":14802280,"display_name":"Ben Meehan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684654098,"creation_date":1684654098,"answer_id":76298758,"question_id":76298608,"body_markdown":"The garbled response you&#39;re receiving indicates that the response is compressed with gzip or deflate encoding. To properly handle this compressed response, you need to decode it before reading it as a readable XML.\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\nimport java.util.zip.GZIPInputStream;\r\n\r\nprivate List&lt;Guaranty&gt; getGuarantyList(String nationalId, String centerBankCode) throws IOException {\r\n    try {\r\n        fixHttpsHandler();\r\n    } catch (Exception ex) {\r\n        System.out.println(ex.getMessage());\r\n    }\r\n\r\n    String responseString = &quot;&quot;;\r\n    String outputString = &quot;&quot;;\r\n    String wsEndPoint = &quot;http://192.168.5.202/services/out.asmx&quot;;\r\n    URL url = new URL(wsEndPoint);\r\n    URLConnection connection = url.openConnection();\r\n    HttpURLConnection httpConn = (HttpURLConnection) connection;\r\n    ByteArrayOutputStream bout = new ByteArrayOutputStream();\r\n    String xmlInput = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:pos=\\&quot;http://postbank.ir/\\&quot;&gt;\\r\\n&quot; + \r\n            ...\r\n            &quot;&lt;/soapenv:Envelope&gt;&quot;;\r\n    byte[] buffer = new byte[xmlInput.length()];\r\n    buffer = xmlInput.getBytes();\r\n    bout.write(buffer);\r\n    byte[] b = bout.toByteArray();\r\n    String SOAPAction = &quot;http://postbank.ir/getGuaranty&quot;;\r\n    httpConn.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip,deflate&quot;);\r\n    httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml; charset=utf-8&quot;);\r\n    httpConn.setRequestProperty(&quot;SOAPAction&quot;, SOAPAction);\r\n    httpConn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(b.length));\r\n    httpConn.setRequestProperty(&quot;Host&quot;, &quot;192.168.5.202&quot;);\r\n    httpConn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n    httpConn.setRequestProperty(&quot;User-Agent&quot;, &quot;Apache-HttpClient/4.5.5 (Java/16.0.1)&quot;);\r\n    httpConn.setRequestMethod(&quot;POST&quot;);\r\n    httpConn.setDoOutput(true);\r\n    httpConn.setDoInput(true);\r\n    OutputStream out = httpConn.getOutputStream();\r\n    out.write(b);\r\n    out.close();\r\n\r\n    InputStream inputStream = httpConn.getInputStream();\r\n    String contentEncoding = httpConn.getContentEncoding();\r\n\r\n    if (contentEncoding != null &amp;&amp; contentEncoding.equalsIgnoreCase(&quot;gzip&quot;)) {\r\n        inputStream = new GZIPInputStream(inputStream);\r\n    } else if (contentEncoding != null &amp;&amp; contentEncoding.equalsIgnoreCase(&quot;deflate&quot;)) {\r\n        inputStream = new InflaterInputStream(inputStream);\r\n    }\r\n\r\n    InputStreamReader isr = new InputStreamReader(inputStream, Charset.forName(&quot;UTF-8&quot;));\r\n\r\n    BufferedReader in = new BufferedReader(isr);\r\n    while ((responseString = in.readLine()) != null) {\r\n        outputString = outputString + responseString;\r\n    }\r\n\r\n    String formattedSOAPResponse = formatXML(outputString);\r\n    return formattedSOAPResponse;\r\n}\r\n```\r\n\r\nI added logic to check the Content-Encoding header of the HTTP response. If it indicates gzip compression, the inputStream is wrapped in a GZIPInputStream for decompression. Similarly, if the encoding is deflate, it is wrapped in an InflaterInputStream.","title":"How to fix unreadable XML response when calling a SOAP web service with Java?","body":"<p>The garbled response you're receiving indicates that the response is compressed with gzip or deflate encoding. To properly handle this compressed response, you need to decode it before reading it as a readable XML.</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\nimport java.util.zip.GZIPInputStream;\n\nprivate List&lt;Guaranty&gt; getGuarantyList(String nationalId, String centerBankCode) throws IOException {\n    try {\n        fixHttpsHandler();\n    } catch (Exception ex) {\n        System.out.println(ex.getMessage());\n    }\n\n    String responseString = &quot;&quot;;\n    String outputString = &quot;&quot;;\n    String wsEndPoint = &quot;http://192.168.5.202/services/out.asmx&quot;;\n    URL url = new URL(wsEndPoint);\n    URLConnection connection = url.openConnection();\n    HttpURLConnection httpConn = (HttpURLConnection) connection;\n    ByteArrayOutputStream bout = new ByteArrayOutputStream();\n    String xmlInput = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:pos=\\&quot;http://postbank.ir/\\&quot;&gt;\\r\\n&quot; + \n            ...\n            &quot;&lt;/soapenv:Envelope&gt;&quot;;\n    byte[] buffer = new byte[xmlInput.length()];\n    buffer = xmlInput.getBytes();\n    bout.write(buffer);\n    byte[] b = bout.toByteArray();\n    String SOAPAction = &quot;http://postbank.ir/getGuaranty&quot;;\n    httpConn.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip,deflate&quot;);\n    httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml; charset=utf-8&quot;);\n    httpConn.setRequestProperty(&quot;SOAPAction&quot;, SOAPAction);\n    httpConn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(b.length));\n    httpConn.setRequestProperty(&quot;Host&quot;, &quot;192.168.5.202&quot;);\n    httpConn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\n    httpConn.setRequestProperty(&quot;User-Agent&quot;, &quot;Apache-HttpClient/4.5.5 (Java/16.0.1)&quot;);\n    httpConn.setRequestMethod(&quot;POST&quot;);\n    httpConn.setDoOutput(true);\n    httpConn.setDoInput(true);\n    OutputStream out = httpConn.getOutputStream();\n    out.write(b);\n    out.close();\n\n    InputStream inputStream = httpConn.getInputStream();\n    String contentEncoding = httpConn.getContentEncoding();\n\n    if (contentEncoding != null &amp;&amp; contentEncoding.equalsIgnoreCase(&quot;gzip&quot;)) {\n        inputStream = new GZIPInputStream(inputStream);\n    } else if (contentEncoding != null &amp;&amp; contentEncoding.equalsIgnoreCase(&quot;deflate&quot;)) {\n        inputStream = new InflaterInputStream(inputStream);\n    }\n\n    InputStreamReader isr = new InputStreamReader(inputStream, Charset.forName(&quot;UTF-8&quot;));\n\n    BufferedReader in = new BufferedReader(isr);\n    while ((responseString = in.readLine()) != null) {\n        outputString = outputString + responseString;\n    }\n\n    String formattedSOAPResponse = formatXML(outputString);\n    return formattedSOAPResponse;\n}\n</code></pre>\n<p>I added logic to check the Content-Encoding header of the HTTP response. If it indicates gzip compression, the inputStream is wrapped in a GZIPInputStream for decompression. Similarly, if the encoding is deflate, it is wrapped in an InflaterInputStream.</p>\n"}],"owner":{"account_id":26370523,"reputation":23,"user_id":20025284,"display_name":"Ahmad Yazdi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76298758,"answer_count":1,"score":2,"last_activity_date":1684654098,"creation_date":1684651179,"question_id":76298608,"body_markdown":"calling soap web service\r\n\r\nI have a soap web service to call, here is my code:\r\n\r\n\r\n\r\n```\r\nprivate List&lt;Guaranty&gt; getGuarantyList(String nationalId, String centerBankCode) throws IOException{\r\n\t\t\r\n\t\ttry {\r\n\t\t\tfixHttpsHandler();\r\n\t\t} catch (Exception ex) {\r\n\t\t\tSystem.out.println(ex.getMessage());\r\n\t\t}\r\n\r\n\t\t// Code to make a webservice HTTP request\r\n\t\tString responseString = &quot;&quot;;\r\n\t\tString outputString = &quot;&quot;;\r\n\t\tString wsEndPoint = &quot;http://192.168.5.202/services/out.asmx&quot;;\r\n\t\tURL url = new URL(wsEndPoint);\r\n\t\tURLConnection connection = url.openConnection();\r\n\t\tHttpURLConnection httpConn = (HttpURLConnection) connection;\r\n\t\tByteArrayOutputStream bout = new ByteArrayOutputStream();\r\n\t\tString xmlInput = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:pos=\\&quot;http://postbank.ir/\\&quot;&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;   &lt;soapenv:Header&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;      &lt;pos:PostbankAuth&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;         &lt;pos:UserName&gt;ebank&lt;/pos:UserName&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;         &lt;pos:Password&gt;qwer@123&lt;/pos:Password&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;      &lt;/pos:PostbankAuth&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;   &lt;/soapenv:Header&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;   &lt;soapenv:Body&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;      &lt;pos:getGuaranty&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;         &lt;pos:nationalCode&gt;&quot; + nationalId + &quot;&lt;/pos:nationalCode&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;         &lt;pos:centerBankCode&gt;&quot; + centerBankCode + &quot;&lt;/pos:centerBankCode&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;         &lt;pos:length&gt;10&lt;/pos:length&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;         &lt;pos:offset&gt;0&lt;/pos:offset&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;      &lt;/pos:getGuaranty&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;   &lt;/soapenv:Body&gt;\\r\\n&quot; + \r\n\t\t\t\t&quot;&lt;/soapenv:Envelope&gt;&quot;;\r\n\t\tbyte[] buffer = new byte[xmlInput.length()];\r\n\t\tbuffer = xmlInput.getBytes();\r\n\t\tbout.write(buffer);\r\n\t\tbyte[] b = bout.toByteArray();\r\n\t\tString SOAPAction = &quot;http://postbank.ir/getGuaranty&quot;;\r\n\t\thttpConn.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip,deflate&quot;);\r\n\t\thttpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml; charset=utf-8&quot;);\r\n\t\thttpConn.setRequestProperty(&quot;SOAPAction&quot;, SOAPAction);\r\n\t\thttpConn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(b.length));\r\n\t\thttpConn.setRequestProperty(&quot;Host&quot;, &quot;192.168.5.202&quot;);\r\n\t\thttpConn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n\t\thttpConn.setRequestProperty(&quot;User-Agent&quot;, &quot;Apache-HttpClient/4.5.5 (Java/16.0.1)&quot;);\r\n\t\thttpConn.setRequestMethod(&quot;POST&quot;);\r\n\t\thttpConn.setDoOutput(true);\r\n\t\thttpConn.setDoInput(true);\r\n\t\tOutputStream out = httpConn.getOutputStream();\r\n\t\t// Write the content of the request to the outputstream of the HTTP\r\n\t\t// Connection.\r\n\t\tout.write(b);\r\n\t\tout.close();\r\n\t\t// Ready with sending the request.\r\n\t\t// Read the response.\r\n\r\n\t\tInputStreamReader isr = new InputStreamReader(httpConn.getInputStream(), Charset.forName(&quot;UTF-8&quot;));\r\n\r\n\t\tBufferedReader in = new BufferedReader(isr);\r\n\t\t// Write the SOAP message response to a String.\r\n\t\twhile ((responseString = in.readLine()) != null) {\r\n\t\t\toutputString = outputString + responseString;\r\n\t\t}\r\n\t\t\t\r\n\t\tString formattedSOAPResponse = formatXML(outputString);\r\n\t\treturn formattedSOAPResponse ;\r\n\t\t\r\n\t}\r\n```\r\n\r\nbut i get this as response instead a readable xml:\r\n\r\n_________`_I%&amp;/m{_JJt_`_$@__iG#)*eVe]f_@{{;N&#39;?\\fd_lJ!_?~|_?&quot;___ezMQ-?hwQ/X^|=&gt;8zT2/U+_&gt;y_L&quot;k_&gt;_W]r7~k_7{_5_.M-{kv[_)O|~7j(_jI|;.n&#186;l__7Mv_Uo_5?~N|v]Y__$GE^&gt;1I~Q,eGG{;{{;hgG-^jKm_l5_f__=6_5kC wv?wpnR__nz6|V]7gNO_\\51ku_5iE^c(7_Xo_O_?&amp;___o?o_F_[_W[_7___u$__C_qaB2}_{G_TD;_?y09,B$_ooW,go5c~3q;{4=43v_?xs_:_B_7\t;4;;__t^ {ho1D#R&quot;_o4&quot;_A_t_;+?}@_uM__o2_er v_}C__^c_BL^zS~9z^y3__5__)+?8_oK?_mn_Q_o5_wN?G.q&quot;i_&#39;}iW_ZH\r\n\r\n\r\nthis way works for other web services but not this one. i tested the web service in soap-ui and it works correctly...\r\nthanks\r\n\r\n\r\n\r\n\r\n","title":"How to fix unreadable XML response when calling a SOAP web service with Java?","body":"<p>calling soap web service</p>\n<p>I have a soap web service to call, here is my code:</p>\n<pre><code>private List&lt;Guaranty&gt; getGuarantyList(String nationalId, String centerBankCode) throws IOException{\n        \n        try {\n            fixHttpsHandler();\n        } catch (Exception ex) {\n            System.out.println(ex.getMessage());\n        }\n\n        // Code to make a webservice HTTP request\n        String responseString = &quot;&quot;;\n        String outputString = &quot;&quot;;\n        String wsEndPoint = &quot;http://192.168.5.202/services/out.asmx&quot;;\n        URL url = new URL(wsEndPoint);\n        URLConnection connection = url.openConnection();\n        HttpURLConnection httpConn = (HttpURLConnection) connection;\n        ByteArrayOutputStream bout = new ByteArrayOutputStream();\n        String xmlInput = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:pos=\\&quot;http://postbank.ir/\\&quot;&gt;\\r\\n&quot; + \n                &quot;   &lt;soapenv:Header&gt;\\r\\n&quot; + \n                &quot;      &lt;pos:PostbankAuth&gt;\\r\\n&quot; + \n                &quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \n                &quot;         &lt;pos:UserName&gt;ebank&lt;/pos:UserName&gt;\\r\\n&quot; + \n                &quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \n                &quot;         &lt;pos:Password&gt;qwer@123&lt;/pos:Password&gt;\\r\\n&quot; + \n                &quot;      &lt;/pos:PostbankAuth&gt;\\r\\n&quot; + \n                &quot;   &lt;/soapenv:Header&gt;\\r\\n&quot; + \n                &quot;   &lt;soapenv:Body&gt;\\r\\n&quot; + \n                &quot;      &lt;pos:getGuaranty&gt;\\r\\n&quot; + \n                &quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \n                &quot;         &lt;pos:nationalCode&gt;&quot; + nationalId + &quot;&lt;/pos:nationalCode&gt;\\r\\n&quot; + \n                &quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \n                &quot;         &lt;pos:centerBankCode&gt;&quot; + centerBankCode + &quot;&lt;/pos:centerBankCode&gt;\\r\\n&quot; + \n                &quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \n                &quot;         &lt;pos:length&gt;10&lt;/pos:length&gt;\\r\\n&quot; + \n                &quot;         &lt;pos:offset&gt;0&lt;/pos:offset&gt;\\r\\n&quot; + \n                &quot;      &lt;/pos:getGuaranty&gt;\\r\\n&quot; + \n                &quot;   &lt;/soapenv:Body&gt;\\r\\n&quot; + \n                &quot;&lt;/soapenv:Envelope&gt;&quot;;\n        byte[] buffer = new byte[xmlInput.length()];\n        buffer = xmlInput.getBytes();\n        bout.write(buffer);\n        byte[] b = bout.toByteArray();\n        String SOAPAction = &quot;http://postbank.ir/getGuaranty&quot;;\n        httpConn.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip,deflate&quot;);\n        httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml; charset=utf-8&quot;);\n        httpConn.setRequestProperty(&quot;SOAPAction&quot;, SOAPAction);\n        httpConn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(b.length));\n        httpConn.setRequestProperty(&quot;Host&quot;, &quot;192.168.5.202&quot;);\n        httpConn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\n        httpConn.setRequestProperty(&quot;User-Agent&quot;, &quot;Apache-HttpClient/4.5.5 (Java/16.0.1)&quot;);\n        httpConn.setRequestMethod(&quot;POST&quot;);\n        httpConn.setDoOutput(true);\n        httpConn.setDoInput(true);\n        OutputStream out = httpConn.getOutputStream();\n        // Write the content of the request to the outputstream of the HTTP\n        // Connection.\n        out.write(b);\n        out.close();\n        // Ready with sending the request.\n        // Read the response.\n\n        InputStreamReader isr = new InputStreamReader(httpConn.getInputStream(), Charset.forName(&quot;UTF-8&quot;));\n\n        BufferedReader in = new BufferedReader(isr);\n        // Write the SOAP message response to a String.\n        while ((responseString = in.readLine()) != null) {\n            outputString = outputString + responseString;\n        }\n            \n        String formattedSOAPResponse = formatXML(outputString);\n        return formattedSOAPResponse ;\n        \n    }\n</code></pre>\n<p>but i get this as response instead a readable xml:</p>\n<p>_________<code>_I%&amp;/m{_JJt_</code><em>$@<em>_iG#)*eVe]f</em>@{{;N'?\\fd_lJ!</em>?~|<em>?&quot;<em>__ezMQ-?hwQ/X^|=&gt;8zT2/U+</em>&gt;y_L&quot;k</em>&gt;<em>W]r7~k_7{<em>5_.M-{kv[</em>)O|~7j(_jI|;.nl__7Mv_Uo_5?~N|v]Y__$GE^&gt;1I~Q,eGG{;{{;hgG-^jKm_l5_f_</em>=6_5kC wv?wpnR__nz6|V]7gNO_\\51ku_5iE^c(7_Xo_O_?&amp;___o?o_F_[_W[<em>7___u$<em><em>C_qaB2}<em>{G_TD;</em>?y09,B$<em>ooW,go5c~3q;{4=43v_?xs_:_B_7   ;4;;<em>_t^ {ho1D#R&quot;_o4&quot;_A_t</em>;+?}@_uM__o2_er v_}C</em></em>^c_BL^zS~9z^y3__5</em></em>)+?8_oK?_mn_Q_o5_wN?G.q&quot;i_'}iW_ZH</p>\n<p>this way works for other web services but not this one. i tested the web service in soap-ui and it works correctly...\nthanks</p>\n"},{"tags":["java","profiling"],"comments":[{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":0,"creation_date":1314777569,"post_id":7254017,"comment_id":8727178,"body_markdown":"Are you sure the dump is not corrupt and that you are using a more recent version of the DTFJ JARs? The `ArrayIndexOutOfBoundsException` features in atleast [two](https://bugs.eclipse.org/bugs/show_bug.cgi?id=294311) [bugs](https://bugs.eclipse.org/bugs/show_bug.cgi?id=307530). I&#39;m stating this because you haven&#39;t reported [an OOME when running MAT, which has a different fix](http://wiki.eclipse.org/MemoryAnalyzer/FAQ#Out_of_Memory_Error_while_Running_the_Memory_Analyzer).","body":"Are you sure the dump is not corrupt and that you are using a more recent version of the DTFJ JARs? The <code>ArrayIndexOutOfBoundsException</code> features in atleast <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=294311\" rel=\"nofollow noreferrer\">two</a> <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=307530\" rel=\"nofollow noreferrer\">bugs</a>. I&#39;m stating this because you haven&#39;t reported <a href=\"http://wiki.eclipse.org/MemoryAnalyzer/FAQ#Out_of_Memory_Error_while_Running_the_Memory_Analyzer\" rel=\"nofollow noreferrer\">an OOME when running MAT, which has a different fix</a>."},{"owner":{"account_id":37795,"reputation":1575,"user_id":108153,"accept_rate":25,"display_name":"codeDr"},"score":0,"creation_date":1368456252,"post_id":7254017,"comment_id":23728002,"body_markdown":"jhat uses heapMap to store the objects read, which grows exponentially with the number of objects stored in heap.  One option is to change the decl&#39;s from heapMap to TreeMap, and run the heap size of jhat as least as large as your process.","body":"jhat uses heapMap to store the objects read, which grows exponentially with the number of objects stored in heap.  One option is to change the decl&#39;s from heapMap to TreeMap, and run the heap size of jhat as least as large as your process."},{"owner":{"account_id":430236,"reputation":969,"user_id":813561,"display_name":"jasonk"},"score":1,"creation_date":1620266072,"post_id":7254017,"comment_id":119152266,"body_markdown":"I have drafted a proposal for a memory mapped backend for Eclipse MAT that would allow you to process much larger files than your local available heap, so long as you have sufficient local disk to spill to.  Feedback welcome https://bugs.eclipse.org/bugs/show_bug.cgi?id=572512","body":"I have drafted a proposal for a memory mapped backend for Eclipse MAT that would allow you to process much larger files than your local available heap, so long as you have sufficient local disk to spill to.  Feedback welcome <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=572512\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=572512</a>"},{"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"score":0,"creation_date":1620296378,"post_id":7254017,"comment_id":119161162,"body_markdown":"@codeDr I doubt that it grows exponentially. Maybe quadratic, and that would be bad enough already.","body":"@codeDr I doubt that it grows exponentially. Maybe quadratic, and that would be bad enough already."}],"answers":[{"tags":[],"owner":{"account_id":280211,"reputation":7358,"user_id":575766,"accept_rate":93,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1633970929,"creation_date":1314779180,"answer_id":7254398,"question_id":7254017,"body_markdown":"The accepted answer to this related question should provide a good start for you (if you have access to the running process, generates live jmap histograms instead of heap dumps, it&#39;s very fast):\r\n\r\nhttps://stackoverflow.com/questions/2511315/method-for-finding-memory-leak-in-large-java-heap-dumps\r\n\r\nMost other heap analysers (I use IBM http://www.alphaworks.ibm.com/tech/heapanalyzer) require at least a percentage of RAM more than the heap if you&#39;re expecting a nice GUI tool.\r\n\r\nOther than that, many developers use alternative approaches, like live stack analysis to get an idea of what&#39;s going on.\r\n\r\nAlthough I must question why your heaps are so large? The effect on allocation and garbage collection must be massive. I&#39;d bet a large percentage of what&#39;s in your heap should actually be stored in a database / a persistent cache etc etc.","title":"Tool for analyzing large Java heap dumps","body":"<p>The accepted answer to this related question should provide a good start for you (if you have access to the running process, generates live jmap histograms instead of heap dumps, it's very fast):</p>\n<p><a href=\"https://stackoverflow.com/questions/2511315/method-for-finding-memory-leak-in-large-java-heap-dumps\">Method for finding memory leak in large Java heap dumps</a></p>\n<p>Most other heap analysers (I use IBM <a href=\"http://www.alphaworks.ibm.com/tech/heapanalyzer\" rel=\"nofollow noreferrer\">http://www.alphaworks.ibm.com/tech/heapanalyzer</a>) require at least a percentage of RAM more than the heap if you're expecting a nice GUI tool.</p>\n<p>Other than that, many developers use alternative approaches, like live stack analysis to get an idea of what's going on.</p>\n<p>Although I must question why your heaps are so large? The effect on allocation and garbage collection must be massive. I'd bet a large percentage of what's in your heap should actually be stored in a database / a persistent cache etc etc.</p>\n"},{"tags":[],"owner":{"account_id":20893,"reputation":3302,"user_id":1343428,"accept_rate":61,"display_name":"Franz See"},"down_vote_count":0,"up_vote_count":103,"is_accepted":true,"score":103,"last_activity_date":1517955719,"creation_date":1314779758,"answer_id":7254494,"question_id":7254017,"body_markdown":"Normally, what I use is `ParseHeapDump.sh` included within [Eclipse Memory Analyzer][1] and described [here][2], and I do that  onto one our more beefed up servers (download and copy over the linux .zip distro, unzip there).  The shell script needs less resources than parsing the heap from the GUI, plus you can run it on your beefy server with more resources (you can allocate more resources by adding something like `-vmargs -Xmx40g -XX:-UseGCOverheadLimit` to the end of the last line of the script.\r\nFor instance, the last line of that file might look like this after modification\r\n\r\n    ./MemoryAnalyzer -consolelog -application org.eclipse.mat.api.parse &quot;$@&quot; -vmargs -Xmx40g -XX:-UseGCOverheadLimit\r\n\r\nRun it like `./path/to/ParseHeapDump.sh ../today_heap_dump/jvm.hprof`\r\n\r\nAfter that succeeds, it creates a number of &quot;index&quot; files next to the .hprof file.\r\n\r\nAfter creating the indices, I try to generate reports from that and scp those reports to my local machines and try to see if I can find the culprit just by that (not just the reports, not the indices).  Here&#39;s a tutorial on [creating the reports][3].\r\n\r\nExample report:\r\n\r\n    ./ParseHeapDump.sh ../today_heap_dump/jvm.hprof org.eclipse.mat.api:suspects\r\n\r\nOther report options: \r\n\r\n`org.eclipse.mat.api:overview` and `org.eclipse.mat.api:top_components` \r\n\r\nIf those reports are not enough and if I need some more digging (i.e. let&#39;s say via oql), I scp the indices as well as hprof file to my local machine, and then open the heap dump (with the indices in the same directory as the heap dump) with my Eclipse MAT GUI. From there, it does not need too much memory to run.\r\n\r\n**EDIT:** \r\nI just liked to add two notes :\r\n\r\n - As far as I know, only the generation of the indices is the memory intensive part of Eclipse MAT. After you have the indices, most of your processing from Eclipse MAT would not need that much memory. \r\n - Doing this on a shell script means I can do it on a headless server (and I normally do it on a headless server as well, because they&#39;re normally the most powerful ones). And if you have a server that can generate a heap dump of that size, chances are, you have another server out there that can process that much of a heap dump as well.\r\n\r\n\r\n  [1]: http://www.eclipse.org/mat/\r\n  [2]: http://wiki.eclipse.org/index.php/MemoryAnalyzer/FAQ\r\n  [3]: http://javaforu.blogspot.com/2013/11/analyzing-large-java-heap-dumps-when.html","title":"Tool for analyzing large Java heap dumps","body":"<p>Normally, what I use is <code>ParseHeapDump.sh</code> included within <a href=\"http://www.eclipse.org/mat/\" rel=\"noreferrer\">Eclipse Memory Analyzer</a> and described <a href=\"http://wiki.eclipse.org/index.php/MemoryAnalyzer/FAQ\" rel=\"noreferrer\">here</a>, and I do that  onto one our more beefed up servers (download and copy over the linux .zip distro, unzip there).  The shell script needs less resources than parsing the heap from the GUI, plus you can run it on your beefy server with more resources (you can allocate more resources by adding something like <code>-vmargs -Xmx40g -XX:-UseGCOverheadLimit</code> to the end of the last line of the script.\nFor instance, the last line of that file might look like this after modification</p>\n\n<pre><code>./MemoryAnalyzer -consolelog -application org.eclipse.mat.api.parse \"$@\" -vmargs -Xmx40g -XX:-UseGCOverheadLimit\n</code></pre>\n\n<p>Run it like <code>./path/to/ParseHeapDump.sh ../today_heap_dump/jvm.hprof</code></p>\n\n<p>After that succeeds, it creates a number of \"index\" files next to the .hprof file.</p>\n\n<p>After creating the indices, I try to generate reports from that and scp those reports to my local machines and try to see if I can find the culprit just by that (not just the reports, not the indices).  Here's a tutorial on <a href=\"http://javaforu.blogspot.com/2013/11/analyzing-large-java-heap-dumps-when.html\" rel=\"noreferrer\">creating the reports</a>.</p>\n\n<p>Example report:</p>\n\n<pre><code>./ParseHeapDump.sh ../today_heap_dump/jvm.hprof org.eclipse.mat.api:suspects\n</code></pre>\n\n<p>Other report options: </p>\n\n<p><code>org.eclipse.mat.api:overview</code> and <code>org.eclipse.mat.api:top_components</code> </p>\n\n<p>If those reports are not enough and if I need some more digging (i.e. let's say via oql), I scp the indices as well as hprof file to my local machine, and then open the heap dump (with the indices in the same directory as the heap dump) with my Eclipse MAT GUI. From there, it does not need too much memory to run.</p>\n\n<p><strong>EDIT:</strong> \nI just liked to add two notes :</p>\n\n<ul>\n<li>As far as I know, only the generation of the indices is the memory intensive part of Eclipse MAT. After you have the indices, most of your processing from Eclipse MAT would not need that much memory. </li>\n<li>Doing this on a shell script means I can do it on a headless server (and I normally do it on a headless server as well, because they're normally the most powerful ones). And if you have a server that can generate a heap dump of that size, chances are, you have another server out there that can process that much of a heap dump as well.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1314781731,"creation_date":1314781731,"answer_id":7254844,"question_id":7254017,"body_markdown":"I suggest trying YourKit. It usually needs a little less memory than the heap dump size (it indexes it and uses that information to retrieve what you want)","title":"Tool for analyzing large Java heap dumps","body":"<p>I suggest trying YourKit. It usually needs a little less memory than the heap dump size (it indexes it and uses that information to retrieve what you want)</p>\n"},{"tags":[],"owner":{"account_id":94109,"reputation":2168,"user_id":257122,"accept_rate":60,"display_name":"Ashwin Jayaprakash"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1427921189,"creation_date":1379024653,"answer_id":18775272,"question_id":7254017,"body_markdown":"A not so well known tool - http://dr-brenschede.de/bheapsampler/ works well for large heaps.  It works by sampling so it doesn&#39;t have to read the entire thing, though a bit finicky.","title":"Tool for analyzing large Java heap dumps","body":"<p>A not so well known tool - <a href=\"http://dr-brenschede.de/bheapsampler/\" rel=\"nofollow\">http://dr-brenschede.de/bheapsampler/</a> works well for large heaps.  It works by sampling so it doesn't have to read the entire thing, though a bit finicky.</p>\n"},{"tags":[],"owner":{"account_id":6628703,"reputation":81,"user_id":5118014,"display_name":"Michael Shvets"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1548807339,"creation_date":1436941476,"answer_id":31422903,"question_id":7254017,"body_markdown":"First step:  increase the amount of RAM you are allocating to MAT.  By default it&#39;s not very much and it can&#39;t open large files.\r\n\r\nIn case of using MAT on MAC (OSX) you&#39;ll have file MemoryAnalyzer.ini file in MemoryAnalyzer.app/Contents/MacOS. It wasn&#39;t working for me to make adjustments to that file and have them &quot;take&quot;. You can instead create a modified startup command/shell script based on content of this file and run it from that directory. In my case I wanted 20 GB heap:\r\n\r\n    ./MemoryAnalyzer -vmargs -Xmx20g --XX:-UseGCOverheadLimit ... other params desired\r\n\r\nJust run this command/script from Contents/MacOS directory via terminal, to start the GUI with more RAM available.","title":"Tool for analyzing large Java heap dumps","body":"<p>First step:  increase the amount of RAM you are allocating to MAT.  By default it's not very much and it can't open large files.</p>\n\n<p>In case of using MAT on MAC (OSX) you'll have file MemoryAnalyzer.ini file in MemoryAnalyzer.app/Contents/MacOS. It wasn't working for me to make adjustments to that file and have them \"take\". You can instead create a modified startup command/shell script based on content of this file and run it from that directory. In my case I wanted 20 GB heap:</p>\n\n<pre><code>./MemoryAnalyzer -vmargs -Xmx20g --XX:-UseGCOverheadLimit ... other params desired\n</code></pre>\n\n<p>Just run this command/script from Contents/MacOS directory via terminal, to start the GUI with more RAM available.</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1631730132,"creation_date":1477418575,"answer_id":40246695,"question_id":7254017,"body_markdown":"This person http://blog.ragozin.info/2015/02/programatic-heapdump-analysis.html\r\n\r\nwrote a custom &quot;heap analyzer&quot; that just exposes a &quot;query style&quot; interface through the heap dump file, instead of actually loading the file into memory.\r\n\r\nhttps://github.com/aragozin/heaplib\r\n\r\nThough I don&#39;t know if &quot;query language&quot; is better than the eclipse OQL mentioned in the accepted answer here.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24671898/32453","title":"Tool for analyzing large Java heap dumps","body":"<p>This person <a href=\"http://blog.ragozin.info/2015/02/programatic-heapdump-analysis.html\" rel=\"nofollow noreferrer\">http://blog.ragozin.info/2015/02/programatic-heapdump-analysis.html</a></p>\n<p>wrote a custom &quot;heap analyzer&quot; that just exposes a &quot;query style&quot; interface through the heap dump file, instead of actually loading the file into memory.</p>\n<p><a href=\"https://github.com/aragozin/heaplib\" rel=\"nofollow noreferrer\">https://github.com/aragozin/heaplib</a></p>\n<p>Though I don't know if &quot;query language&quot; is better than the eclipse OQL mentioned in the accepted answer here.</p>\n"},{"tags":[],"owner":{"account_id":3533121,"reputation":1545,"user_id":2952093,"accept_rate":88,"display_name":"kap"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548671101,"creation_date":1548671101,"answer_id":54399903,"question_id":7254017,"body_markdown":"This is not a command line solution, however I like the tools:\r\n\r\nCopy the heap dump to a server large enough to host it. It is very well possible that the original server can be used.\r\n\r\nEnter the server via `ssh -X` to run the graphical tool remotely and use `jvisualvm` from the Java binary directory to load the `.hprof` file of the heap dump.\r\n\r\nThe tool does not load the complete heap dump into memory at once, but loads parts when they are required. Of course, if you look around enough in the file the required memory will finally reach the size of the heap dump.","title":"Tool for analyzing large Java heap dumps","body":"<p>This is not a command line solution, however I like the tools:</p>\n\n<p>Copy the heap dump to a server large enough to host it. It is very well possible that the original server can be used.</p>\n\n<p>Enter the server via <code>ssh -X</code> to run the graphical tool remotely and use <code>jvisualvm</code> from the Java binary directory to load the <code>.hprof</code> file of the heap dump.</p>\n\n<p>The tool does not load the complete heap dump into memory at once, but loads parts when they are required. Of course, if you look around enough in the file the required memory will finally reach the size of the heap dump.</p>\n"},{"tags":[],"owner":{"account_id":5003112,"reputation":520,"user_id":4021490,"display_name":"Selvam M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631729469,"creation_date":1550212877,"answer_id":54703908,"question_id":7254017,"body_markdown":"Try using jprofiler , its works good in analyzing large .hprof, I have tried with file sized around 22 GB.\r\n\r\n    https://www.ej-technologies.com/products/jprofiler/overview.html\r\n\r\n$499/dev license but has a free 10 day evaluation","title":"Tool for analyzing large Java heap dumps","body":"<p>Try using jprofiler , its works good in analyzing large .hprof, I have tried with file sized around 22 GB.</p>\n<pre><code>https://www.ej-technologies.com/products/jprofiler/overview.html\n</code></pre>\n<p>$499/dev license but has a free 10 day evaluation</p>\n"},{"tags":[],"owner":{"account_id":6183339,"reputation":474,"user_id":4818139,"display_name":"Sankar Natarajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566370530,"creation_date":1566370530,"answer_id":57586030,"question_id":7254017,"body_markdown":"I came across an interesting tool called JXray. It provides limited evaluation trial license. Found it very useful to find memory leaks. You may give it a shot. ","title":"Tool for analyzing large Java heap dumps","body":"<p>I came across an interesting tool called JXray. It provides limited evaluation trial license. Found it very useful to find memory leaks. You may give it a shot. </p>\n"},{"tags":[],"owner":{"account_id":18866500,"reputation":431,"user_id":13762112,"display_name":"user13762112"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1631729141,"creation_date":1598625064,"answer_id":63635797,"question_id":7254017,"body_markdown":"The latest snapshot build of Eclipse Memory Analyzer has a facility to randomly discard a certain percentage of objects to reduce memory consumption and allow the remaining objects to be analyzed. See [Bug 563960][1] and the [nightly snapshot build][2] to test this facility before it is included in the next release of MAT.  Update: it is now included in released version 1.11.0.\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=563960\r\n  [2]: https://www.eclipse.org/mat/snapshotBuilds.php","title":"Tool for analyzing large Java heap dumps","body":"<p>The latest snapshot build of Eclipse Memory Analyzer has a facility to randomly discard a certain percentage of objects to reduce memory consumption and allow the remaining objects to be analyzed. See <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=563960\" rel=\"nofollow noreferrer\">Bug 563960</a> and the <a href=\"https://www.eclipse.org/mat/snapshotBuilds.php\" rel=\"nofollow noreferrer\">nightly snapshot build</a> to test this facility before it is included in the next release of MAT.  Update: it is now included in released version 1.11.0.</p>\n"},{"tags":[],"owner":{"account_id":483242,"reputation":915,"user_id":898154,"accept_rate":100,"display_name":"Alessandro S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643625781,"creation_date":1643625781,"answer_id":70924609,"question_id":7254017,"body_markdown":"When the problem can be &quot;easily&quot; reproduced, one unmentioned alternative is to take heap dumps before memory grows that big (_e.g._, `jmap -dump:format=b,file=heap.bin &lt;pid&gt;`).\r\n\r\nIn many cases you will already get an idea of what&#39;s going on without waiting for an OOM.\r\n\r\nIn addition, MAT provides a feature to compare different snapshots, which can come handy (see https://stackoverflow.com/a/55926302/898154 for instructions and a description).","title":"Tool for analyzing large Java heap dumps","body":"<p>When the problem can be &quot;easily&quot; reproduced, one unmentioned alternative is to take heap dumps before memory grows that big (<em>e.g.</em>, <code>jmap -dump:format=b,file=heap.bin &lt;pid&gt;</code>).</p>\n<p>In many cases you will already get an idea of what's going on without waiting for an OOM.</p>\n<p>In addition, MAT provides a feature to compare different snapshots, which can come handy (see <a href=\"https://stackoverflow.com/a/55926302/898154\">https://stackoverflow.com/a/55926302/898154</a> for instructions and a description).</p>\n"},{"tags":[],"owner":{"account_id":6662080,"reputation":103,"user_id":5140851,"display_name":"Vishy Anand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684652892,"creation_date":1684652892,"answer_id":76298700,"question_id":7254017,"body_markdown":" **Idea is that use the headless MAT option , as in windows system with limited RAM you cannot do the analysis of large heap dump files.**\r\n\r\n 1) Download the latest mat for unix env - eg. MemoryAnalyzer-1.14.0.20230315-linux.gtk.x86_64.zip\r\n    https://www.eclipse.org/mat/downloads.php , and extract in any directory of your server.\r\n    \r\n    Update the MAT config present in /MAT-folder-path/MemoryAnalyzer.ini :\r\n     - MAT tool requires min jdk-17 , set JVM path ( version &gt; java-17 )  \r\n     - Increase the heap memory eg -Xmx16384m as per heap dump size.  \r\n\r\n\t        -vm  \r\n\t        /path-to/jdk-17/bin  \r\n\t        -vmargs  \r\n\t        -Xmx16384m \r\n2) Useful to have a utility script for generating reports out of your heap dump file - heapAnalysis.sh  (Do keep the free disc space &gt; twice the heap dump size)\r\n\r\n           #!/bin/sh\r\n           heapFilePath=&quot;$1&quot;;\r\n           if [[ -z $heapFilePath ]]; then\r\n                echo &quot;The heapFilePath received : $heapFilePath&quot;;\r\n                if [ -f $heapFilePath ]; then\r\n\t\t\t\t    # MAT folder path : - ParseHeapDump.sh script\r\n                    matDirectory=&quot;/MAT-folder-path/mat&quot;\r\n                    matScript=&quot;ParseHeapDump.sh&quot;\r\n\r\n                    heapDumpParserScript=$matDirectory/$matScript\r\n\r\n                    # To parse the heap dump file and generate the html report in zip format.\r\n                    echo &quot;[1] Leak suspect report analysis started..&quot;;\r\n                    $heapDumpParserScript $heapFilePath org.eclipse.mat.api:suspects\r\n                    echo &quot;Analysis completed : Leak suspect report.&quot;;\r\n\r\n                    # You can comment out below [2] and [3] blocks. Usually LeakSuspect report helps in 80% of cases.\r\n\r\n                    echo &quot;[2] System overview report analysis started..&quot;;\r\n                    $heapDumpParserScript $heapFilePath org.eclipse.mat.api:overview\r\n                    echo &quot;Analysis completed : System overview report.&quot;;\r\n\r\n                    echo&quot; [3] Top Component report analysis started..&quot;;\r\n                    $heapDumpParserScript $heapFilePath org.eclipse.mat.api:top_components\r\n                    echo &quot;Analysis completed : Top Component report.&quot;;\r\n               else\r\n                    echo &quot;Provide the correct filepath of heap dump, $heapFilePath file doesn&#39;t exist.&quot;;\r\n               fi \r\n           else \r\n                echo &quot;Provide the mandatory argument of the script.&quot;; \r\n            fi \r\n\r\n\r\n3) To execute the script to analyze heap dump. ( Use screen utility to detach your session in unix terminal to avoid aborting the process. Because such analysis takes hours. )\r\n\r\n             source /script/heapAnalysis.sh /path-to/heapDumpFile.hprof\r\n\r\n4) Now you can download the html report (~few mb size) into your local system using winSCP tool.\r\n**If you want, you can transfer the indexed files (ParseHeapDump.sh creates indexed files ) into windows system and load using MAT**","title":"Tool for analyzing large Java heap dumps","body":"<p><strong>Idea is that use the headless MAT option , as in windows system with limited RAM you cannot do the analysis of large heap dump files.</strong></p>\n<ol>\n<li><p>Download the latest mat for unix env - eg. MemoryAnalyzer-1.14.0.20230315-linux.gtk.x86_64.zip\n<a href=\"https://www.eclipse.org/mat/downloads.php\" rel=\"nofollow noreferrer\">https://www.eclipse.org/mat/downloads.php</a> , and extract in any directory of your server.</p>\n<p>Update the MAT config present in /MAT-folder-path/MemoryAnalyzer.ini :</p>\n<ul>\n<li><p>MAT tool requires min jdk-17 , set JVM path ( version &gt; java-17 )</p>\n</li>\n<li><p>Increase the heap memory eg -Xmx16384m as per heap dump size.</p>\n<pre><code> -vm  \n /path-to/jdk-17/bin  \n -vmargs  \n -Xmx16384m \n</code></pre>\n</li>\n</ul>\n</li>\n<li><p>Useful to have a utility script for generating reports out of your heap dump file - heapAnalysis.sh  (Do keep the free disc space &gt; twice the heap dump size)</p>\n<pre><code>    #!/bin/sh\n    heapFilePath=&quot;$1&quot;;\n    if [[ -z $heapFilePath ]]; then\n         echo &quot;The heapFilePath received : $heapFilePath&quot;;\n         if [ -f $heapFilePath ]; then\n             # MAT folder path : - ParseHeapDump.sh script\n             matDirectory=&quot;/MAT-folder-path/mat&quot;\n             matScript=&quot;ParseHeapDump.sh&quot;\n\n             heapDumpParserScript=$matDirectory/$matScript\n\n             # To parse the heap dump file and generate the html report in zip format.\n             echo &quot;[1] Leak suspect report analysis started..&quot;;\n             $heapDumpParserScript $heapFilePath org.eclipse.mat.api:suspects\n             echo &quot;Analysis completed : Leak suspect report.&quot;;\n\n             # You can comment out below [2] and [3] blocks. Usually LeakSuspect report helps in 80% of cases.\n\n             echo &quot;[2] System overview report analysis started..&quot;;\n             $heapDumpParserScript $heapFilePath org.eclipse.mat.api:overview\n             echo &quot;Analysis completed : System overview report.&quot;;\n\n             echo&quot; [3] Top Component report analysis started..&quot;;\n             $heapDumpParserScript $heapFilePath org.eclipse.mat.api:top_components\n             echo &quot;Analysis completed : Top Component report.&quot;;\n        else\n             echo &quot;Provide the correct filepath of heap dump, $heapFilePath file doesn't exist.&quot;;\n        fi \n    else \n         echo &quot;Provide the mandatory argument of the script.&quot;; \n     fi \n</code></pre>\n</li>\n<li><p>To execute the script to analyze heap dump. ( Use screen utility to detach your session in unix terminal to avoid aborting the process. Because such analysis takes hours. )</p>\n<pre><code>      source /script/heapAnalysis.sh /path-to/heapDumpFile.hprof\n</code></pre>\n</li>\n<li><p>Now you can download the html report (~few mb size) into your local system using winSCP tool.\n<strong>If you want, you can transfer the indexed files (ParseHeapDump.sh creates indexed files ) into windows system and load using MAT</strong></p>\n</li>\n</ol>\n"}],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108059,"favorite_count":0,"down_vote_count":1,"up_vote_count":102,"accepted_answer_id":7254494,"answer_count":12,"score":101,"last_activity_date":1684652892,"creation_date":1314776955,"question_id":7254017,"body_markdown":"I have a HotSpot JVM heap dump that I would like to analyze. The VM ran with `-Xmx31g`, and the heap dump file is 48 GB large.\r\n\r\n* I won&#39;t even try `jhat`, as it requires about five times the heap memory (that would be 240 GB in my case) and is awfully slow.\r\n* Eclipse MAT crashes with an `ArrayIndexOutOfBoundsException` after analyzing the heap dump for several hours.\r\n\r\nWhat other tools are available for that task? A suite of command line tools would be best, consisting of one program that transforms the heap dump into efficient data structures for analysis, combined with several other tools that work on the pre-structured data.","title":"Tool for analyzing large Java heap dumps","body":"<p>I have a HotSpot JVM heap dump that I would like to analyze. The VM ran with <code>-Xmx31g</code>, and the heap dump file is 48 GB large.</p>\n\n<ul>\n<li>I won't even try <code>jhat</code>, as it requires about five times the heap memory (that would be 240 GB in my case) and is awfully slow.</li>\n<li>Eclipse MAT crashes with an <code>ArrayIndexOutOfBoundsException</code> after analyzing the heap dump for several hours.</li>\n</ul>\n\n<p>What other tools are available for that task? A suite of command line tools would be best, consisting of one program that transforms the heap dump into efficient data structures for analysis, combined with several other tools that work on the pre-structured data.</p>\n"},{"tags":["java","spring-boot","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684599186,"post_id":76296063,"comment_id":134542056,"body_markdown":"You should use Gradle to manage the dependencies of the project, both libraries and sub projects. You should not need to have jar files inside the folders.","body":"You should use Gradle to manage the dependencies of the project, both libraries and sub projects. You should not need to have jar files inside the folders."},{"owner":{"account_id":16527100,"reputation":141,"user_id":11941491,"display_name":"dhinchak developer"},"score":0,"creation_date":1684599570,"post_id":76296063,"comment_id":134542104,"body_markdown":"@aled i have some core business logic which i don&#39;t want to creates as subproject that way in want to keep the jar files in one place","body":"@aled i have some core business logic which i don&#39;t want to creates as subproject that way in want to keep the jar files in one place"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1684600032,"post_id":76296063,"comment_id":134542150,"body_markdown":"Then create a separate project and install the artifact in a repository, local or remote.","body":"Then create a separate project and install the artifact in a repository, local or remote."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684607387,"post_id":76296063,"comment_id":134543046,"body_markdown":"You might want to learn about &quot;multi-module&quot; projects in Gradle (similar in Maven). Each module is like a separate project, producing an &quot;artifact&quot; such as a JAR file, but with coordinated builds of the sibling modules. One module is the parent, controlling the other modules build. Not to be confused with [*Java Platform Module System*](https://en.wikipedia.org/wiki/Java_Platform_Module_System).","body":"You might want to learn about &quot;multi-module&quot; projects in Gradle (similar in Maven). Each module is like a separate project, producing an &quot;artifact&quot; such as a JAR file, but with coordinated builds of the sibling modules. One module is the parent, controlling the other modules build. Not to be confused with <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\"><i>Java Platform Module System</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":25326567,"reputation":69,"user_id":19147117,"display_name":"h1alexbel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684652462,"creation_date":1684652462,"answer_id":76298675,"question_id":76296063,"body_markdown":"In root dir you should have `settings.gradle` which describes the following:\r\n\r\n```groovy\r\nrootProject.name = &#39;gradle-example&#39;\r\n```\r\nto add child modules with names `foo` and `bar`:\r\n\r\n```groovy\r\ninclude &#39;foo&#39;, &#39;bar&#39;\r\n```","title":"Gradle how to setup project in child parent structure","body":"<p>In root dir you should have <code>settings.gradle</code> which describes the following:</p>\n<pre><code>rootProject.name = 'gradle-example'\n</code></pre>\n<p>to add child modules with names <code>foo</code> and <code>bar</code>:</p>\n<pre><code>include 'foo', 'bar'\n</code></pre>\n"}],"owner":{"account_id":16527100,"reputation":141,"user_id":11941491,"display_name":"dhinchak developer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684652462,"creation_date":1684597729,"question_id":76296063,"body_markdown":"I am very new to java. i want to setup Gradle project in such way so that all the project should refer to the internal folder for dependencies, and all project need to be in child-parent structure as below \r\n\r\n    root-folders\r\n        -main-project(root-project gradle)\r\n        -api(child-project)\r\n        -ui(child-project)\r\n        -cashflow(child-project)\r\n        -views(all html/css/js files)\r\n        -WEB-INF\r\n            -lib(all jar files)\r\n\r\nEverything is in Quarkus framework \r\n","title":"Gradle how to setup project in child parent structure","body":"<p>I am very new to java. i want to setup Gradle project in such way so that all the project should refer to the internal folder for dependencies, and all project need to be in child-parent structure as below</p>\n<pre><code>root-folders\n    -main-project(root-project gradle)\n    -api(child-project)\n    -ui(child-project)\n    -cashflow(child-project)\n    -views(all html/css/js files)\n    -WEB-INF\n        -lib(all jar files)\n</code></pre>\n<p>Everything is in Quarkus framework</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678093335,"post_id":75648494,"comment_id":133459816,"body_markdown":"Your question really doesn&#39;t have enough information to answer well, as is frequently the case with regex questions. Examples (especially just 1-2) are not enough information to write a good regex. We need to understand the underlying rules. For example, how do **you** know that the `04794` part of the second text isn&#39;t interesting? What makes the `-CEP` worth ignoring but not the `-58`? Could it also be `-ABC` or `-123`? All of these and more are likely necessary details to craft the correct regex for the use case.","body":"Your question really doesn&#39;t have enough information to answer well, as is frequently the case with regex questions. Examples (especially just 1-2) are not enough information to write a good regex. We need to understand the underlying rules. For example, how do <b>you</b> know that the <code>04794</code> part of the second text isn&#39;t interesting? What makes the <code>-CEP</code> worth ignoring but not the <code>-58</code>? Could it also be <code>-ABC</code> or <code>-123</code>? All of these and more are likely necessary details to craft the correct regex for the use case."},{"owner":{"account_id":21082640,"reputation":69,"user_id":15496597,"display_name":"Snehasis Rout"},"score":0,"creation_date":1678101494,"post_id":75648494,"comment_id":133462026,"body_markdown":"Hi Joachim,\n\nI have a set of strings and from that i have to identify these string which are usually in numeric value but these values can also have some special characters.. as i said in my first example i can get that particular string with my existing regex... but as in my second example it has -CEP added to the string   its not able to split it properly.. to be specific i want to split anything added after my string and hypen e.g 123456-2323-ABC  so here i want only 123456-2323","body":"Hi Joachim,  I have a set of strings and from that i have to identify these string which are usually in numeric value but these values can also have some special characters.. as i said in my first example i can get that particular string with my existing regex... but as in my second example it has -CEP added to the string   its not able to split it properly.. to be specific i want to split anything added after my string and hypen e.g 123456-2323-ABC  so here i want only 123456-2323"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678103952,"post_id":75648494,"comment_id":133462647,"body_markdown":"Again, I ask for precision: you said you &quot;want to split anything added after my string and hypen&quot;, so by those rules you **also** want to split of `-2323`. You assume that I somehow know that &quot;anything&quot; doesn&#39;t include numbers or that &quot;my string&quot; is some numbers and/or dashes combined. Regex need precision and if your requirements are not precise, then they can&#39;t just &quot;magic&quot; a solution up for you.","body":"Again, I ask for precision: you said you &quot;want to split anything added after my string and hypen&quot;, so by those rules you <b>also</b> want to split of <code>-2323</code>. You assume that I somehow know that &quot;anything&quot; doesn&#39;t include numbers or that &quot;my string&quot; is some numbers and/or dashes combined. Regex need precision and if your requirements are not precise, then they can&#39;t just &quot;magic&quot; a solution up for you."}],"answers":[{"tags":[],"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678091274,"creation_date":1678091274,"answer_id":75648548,"question_id":75648494,"body_markdown":"    String text1 = &quot;TAX ID - CNPJ+22.111.539/0003-58, CONTACT NAME&quot;;\r\n    String text2 = &quot;CNPJ:02886427000164-CEP:04794-000**&quot;;\r\n    \r\n    String regex = &quot;[\\r\\n +:,#-]+(?=(?:(?!CEP).)*$)&quot;;\r\n    \r\n    String[] parts1 = text1.split(regex);\r\n    String[] parts2 = text2.split(regex);\r\n    \r\n    System.out.println(parts1[1]); // Output: 22.111.539/0003-58\r\n    System.out.println(parts2[0]); // Output: 02886427000164\r\n\r\nUsing the following regex\r\n\r\n    [\\r\\n +:,#-]+(?=(?:(?!CEP).)*$)\r\nwe get two result, If we take second one then its your desire string\r\n","title":"Regular Expression","body":"<pre><code>String text1 = &quot;TAX ID - CNPJ+22.111.539/0003-58, CONTACT NAME&quot;;\nString text2 = &quot;CNPJ:02886427000164-CEP:04794-000**&quot;;\n\nString regex = &quot;[\\r\\n +:,#-]+(?=(?:(?!CEP).)*$)&quot;;\n\nString[] parts1 = text1.split(regex);\nString[] parts2 = text2.split(regex);\n\nSystem.out.println(parts1[1]); // Output: 22.111.539/0003-58\nSystem.out.println(parts2[0]); // Output: 02886427000164\n</code></pre>\n<p>Using the following regex</p>\n<pre><code>[\\r\\n +:,#-]+(?=(?:(?!CEP).)*$)\n</code></pre>\n<p>we get two result, If we take second one then its your desire string</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684652339,"creation_date":1684651783,"answer_id":76298643,"question_id":75648494,"body_markdown":"If you don&#39;t require splitting the data, and you are simply looking for those values, you can use the following.\r\n\r\n```regex\r\nCNPJ(?:\\+(.+),|:(.+?)-)\r\n```\r\n\r\nYou can use the following method to get the number from the `String` value.\r\n\r\n```java\r\nString cnpj(String string) {\r\n    Pattern pattern = Pattern.compile(&quot;CNPJ(?:\\\\+(.+),|:(.+?)-)&quot;);\r\n    Matcher matcher = pattern.matcher(string);\r\n    if (matcher.find()) {\r\n        if (matcher.group(1) != null) return matcher.group(1);\r\n        else if (matcher.group(2) != null) return matcher.group(2);\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nOutput, given the `String` values you provided.\r\n\r\n```none\r\n22.111.539/0003-58\r\n02886427000164\r\n```\r\n\r\nIf the pattern requires more conformity, for whatever reason, you can use the following.\r\n\r\n```regex\r\n(\\d\\d\\.\\d{3}\\.\\d{3}/\\d{4}-\\d\\d)|(\\d{14})\r\n```","title":"Regular Expression","body":"<p>If you don't require splitting the data, and you are simply looking for those values, you can use the following.</p>\n<pre><code>CNPJ(?:\\+(.+),|:(.+?)-)\n</code></pre>\n<p>You can use the following method to get the number from the <code>String</code> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String cnpj(String string) {\n    Pattern pattern = Pattern.compile(&quot;CNPJ(?:\\\\+(.+),|:(.+?)-)&quot;);\n    Matcher matcher = pattern.matcher(string);\n    if (matcher.find()) {\n        if (matcher.group(1) != null) return matcher.group(1);\n        else if (matcher.group(2) != null) return matcher.group(2);\n    }\n    return null;\n}\n</code></pre>\n<p>Output, given the <code>String</code> values you provided.</p>\n<pre class=\"lang-none prettyprint-override\"><code>22.111.539/0003-58\n02886427000164\n</code></pre>\n<p>If the pattern requires more conformity, for whatever reason, you can use the following.</p>\n<pre><code>(\\d\\d\\.\\d{3}\\.\\d{3}/\\d{4}-\\d\\d)|(\\d{14})\n</code></pre>\n"}],"owner":{"account_id":21082640,"reputation":69,"user_id":15496597,"display_name":"Snehasis Rout"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1684652339,"creation_date":1678090796,"question_id":75648494,"body_markdown":"I want to split a string based on regular expression to identify a number\r\n\r\ne.g.\r\n\r\n```none\r\nTAX ID - CNPJ+22.111.539/0003-58, CONTACT NAME\r\n```\r\n\r\nfrom this text i want `22.111.539/0003-58`  so i have used the regex `[\\r\\n +:,#]`.\r\n\r\nThis is working fine for me\r\n\r\nbut i also have a text e.g. \r\n```none\r\nCNPJ:02886427000164-CEP:04794-000**\r\n```\r\n\r\nfrom which i want `02886427000164`\r\n\r\nso how to split the text having -CEP in it.. \r\nso that the regex split should work for both the text\r\n","title":"Regular Expression","body":"<p>I want to split a string based on regular expression to identify a number</p>\n<p>e.g.</p>\n<pre class=\"lang-none prettyprint-override\"><code>TAX ID - CNPJ+22.111.539/0003-58, CONTACT NAME\n</code></pre>\n<p>from this text i want <code>22.111.539/0003-58</code>  so i have used the regex <code>[\\r\\n +:,#]</code>.</p>\n<p>This is working fine for me</p>\n<p>but i also have a text e.g.</p>\n<pre class=\"lang-none prettyprint-override\"><code>CNPJ:02886427000164-CEP:04794-000**\n</code></pre>\n<p>from which i want <code>02886427000164</code></p>\n<p>so how to split the text having -CEP in it..\nso that the regex split should work for both the text</p>\n"},{"tags":["java","swing","jtree"],"answers":[{"tags":[],"owner":{"account_id":43420,"reputation":4725,"user_id":126945,"accept_rate":85,"display_name":"Gnoupi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1684651411,"creation_date":1272468638,"answer_id":2730902,"question_id":2730851,"body_markdown":"Adding to the node only is not enough, the Tree needs to be notified. The correct way to do this is to let the model take care of adding/removing nodes, as it will notify correctly the Tree on the way.\r\n\r\nIn case of a DefaultTreeModel (which should be the one used in the JTree if you haven&#39;t made your own TreeModel), you have the method [insertNodeInto(MutableTreeNode newChild, MutableTreeNode parent, int index)][1], which you can use.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/javax/swing/tree/DefaultTreeModel.html#insertNodeInto(javax.swing.tree.MutableTreeNode,%20javax.swing.tree.MutableTreeNode,%20int)","title":"How to update JTree elements","body":"<p>Adding to the node only is not enough, the Tree needs to be notified. The correct way to do this is to let the model take care of adding/removing nodes, as it will notify correctly the Tree on the way.</p>\n<p>In case of a DefaultTreeModel (which should be the one used in the JTree if you haven't made your own TreeModel), you have the method <a href=\"https://docs.oracle.com/javase/6/docs/api/javax/swing/tree/DefaultTreeModel.html#insertNodeInto(javax.swing.tree.MutableTreeNode,%20javax.swing.tree.MutableTreeNode,%20int)\" rel=\"nofollow noreferrer\">insertNodeInto(MutableTreeNode newChild, MutableTreeNode parent, int index)</a>, which you can use.</p>\n"},{"tags":[],"owner":{"account_id":94674,"reputation":12840,"user_id":258355,"accept_rate":97,"display_name":"Summer_More_More_Tea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1272598959,"creation_date":1272470062,"answer_id":2731089,"question_id":2730851,"body_markdown":"Since Java use MVC to implement JTree component, your operation that add a node just change the model. Besides, you should notify representation of the tree some modifications have taken place. Try use fireTreeNodes*** methods of your tree model to notify the JTree object this kind of modification. Refer Java API for details. Good luck.","title":"How to update JTree elements","body":"<p>Since Java use MVC to implement JTree component, your operation that add a node just change the model. Besides, you should notify representation of the tree some modifications have taken place. Try use fireTreeNodes*** methods of your tree model to notify the JTree object this kind of modification. Refer Java API for details. Good luck.</p>\n"},{"tags":[],"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1272470595,"creation_date":1272470595,"answer_id":2731152,"question_id":2730851,"body_markdown":"Are you using `DefaultTreeModel`?\r\n\r\nIf so, when adding use [insertNodeInto][1] API so that appropriate events are generated.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/tree/DefaultTreeModel.html#insertNodeInto(javax.swing.tree.MutableTreeNode,%20javax.swing.tree.MutableTreeNode,%20int)","title":"How to update JTree elements","body":"<p>Are you using <code>DefaultTreeModel</code>?</p>\n\n<p>If so, when adding use <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/tree/DefaultTreeModel.html#insertNodeInto(javax.swing.tree.MutableTreeNode,%20javax.swing.tree.MutableTreeNode,%20int)\" rel=\"nofollow noreferrer\">insertNodeInto</a> API so that appropriate events are generated.</p>\n"},{"tags":[],"owner":{"account_id":111466,"reputation":1426,"user_id":294439,"accept_rate":89,"display_name":"NullPumpkinException"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1394574073,"creation_date":1278592556,"answer_id":3203587,"question_id":2730851,"body_markdown":"if you use DefaultTreeModel try to call its `reload()` method.\r\n\r\n    DefaultTreeModel model = (DefaultTreeModel) tree.getModel();\r\n    model.reload();\r\n\r\n    //or... model.reload(nodeUpdatedByYou);\r\n\r\nNever use `tree.updateUI()` as this is a look and feel operation (although it works).\r\n\r\n","title":"How to update JTree elements","body":"<p>if you use DefaultTreeModel try to call its <code>reload()</code> method.</p>\n\n<pre><code>DefaultTreeModel model = (DefaultTreeModel) tree.getModel();\nmodel.reload();\n\n//or... model.reload(nodeUpdatedByYou);\n</code></pre>\n\n<p>Never use <code>tree.updateUI()</code> as this is a look and feel operation (although it works).</p>\n"},{"tags":[],"owner":{"account_id":112208,"reputation":998,"user_id":296078,"accept_rate":44,"display_name":"Sergey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1295475689,"creation_date":1295475689,"answer_id":4741482,"question_id":2730851,"body_markdown":"Actually, it is enough to reload the parent node. Internally,\r\n\r\n    public void reload()\r\n\r\n\r\nis using \r\n\r\n    public void reload(TreeNode node)\r\n\r\nbut with root as its parameter, so, unless you are updating the direct root&#39;s leaf, you are better of using a more fine-grained version.","title":"How to update JTree elements","body":"<p>Actually, it is enough to reload the parent node. Internally,</p>\n\n<pre><code>public void reload()\n</code></pre>\n\n<p>is using </p>\n\n<pre><code>public void reload(TreeNode node)\n</code></pre>\n\n<p>but with root as its parameter, so, unless you are updating the direct root's leaf, you are better of using a more fine-grained version.</p>\n"}],"owner":{"account_id":40058,"reputation":18491,"user_id":115890,"accept_rate":76,"display_name":"ibrahimyilmaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16825,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":2730902,"answer_count":5,"score":1,"last_activity_date":1684651411,"creation_date":1272468301,"question_id":2730851,"body_markdown":"I use JTree with TreeNode which extending DefaultMutableTreeNode.when I add new node,i cant update JTree.Any help will be appreciated ","title":"How to update JTree elements","body":"<p>I use JTree with TreeNode which extending DefaultMutableTreeNode.when I add new node,i cant update JTree.Any help will be appreciated </p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1392222801,"post_id":21733811,"comment_id":32868861,"body_markdown":"Related: http://stackoverflow.com/q/16859973/1065197","body":"Related: <a href=\"http://stackoverflow.com/q/16859973/1065197\">stackoverflow.com/q/16859973/1065197</a>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1392222810,"post_id":21733811,"comment_id":32868868,"body_markdown":"Is `T` a type parameter for a generic type here? If so, you&#39;ll need a `Class&lt;T&gt;` somewhere due to type erasure.","body":"Is <code>T</code> a type parameter for a generic type here? If so, you&#39;ll need a <code>Class&lt;T&gt;</code> somewhere due to type erasure."},{"owner":{"account_id":4495,"reputation":335853,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"score":1,"creation_date":1392222909,"post_id":21733811,"comment_id":32868959,"body_markdown":"Google for &quot;java reflection API&quot;","body":"Google for &quot;java reflection API&quot;"},{"owner":{"account_id":903546,"reputation":2804,"user_id":939008,"accept_rate":25,"display_name":"Ashot Karakhanyan"},"score":0,"creation_date":1392223560,"post_id":21733811,"comment_id":32869452,"body_markdown":"Guys, T is not generics, T is USUAL class name :)","body":"Guys, T is not generics, T is USUAL class name :)"},{"owner":{"account_id":482279,"reputation":7803,"user_id":896588,"accept_rate":85,"display_name":"Andr&#233; Stannek"},"score":1,"creation_date":1392223630,"post_id":21733811,"comment_id":32869505,"body_markdown":"@AshotKarakhanyan we can&#39;t know that without confirmation from OP. If T was a usual class, `new T()` would have worked. (Assuming there is a default constructor)","body":"@AshotKarakhanyan we can&#39;t know that without confirmation from OP. If T was a usual class, <code>new T()</code> would have worked. (Assuming there is a default constructor)"},{"owner":{"account_id":451469,"reputation":13374,"user_id":847382,"accept_rate":93,"display_name":"PitaJ"},"score":2,"creation_date":1392223872,"post_id":21733811,"comment_id":32869692,"body_markdown":"T is a generic. Like Class&lt;T&gt;.","body":"T is a generic. Like Class&lt;T&gt;."},{"owner":{"account_id":903546,"reputation":2804,"user_id":939008,"accept_rate":25,"display_name":"Ashot Karakhanyan"},"score":0,"creation_date":1392224234,"post_id":21733811,"comment_id":32869963,"body_markdown":"OK, @PitaJ, so why just now you informed about it. It assumes that you are creating a class witaot name, just generic name only :)))","body":"OK, @PitaJ, so why just now you informed about it. It assumes that you are creating a class witaot name, just generic name only :)))"},{"owner":{"account_id":903546,"reputation":2804,"user_id":939008,"accept_rate":25,"display_name":"Ashot Karakhanyan"},"score":0,"creation_date":1392224337,"post_id":21733811,"comment_id":32870041,"body_markdown":"Also you have write &quot;Object of type T&quot; not &quot;Object of type F and with generic of type T&quot;, it is so dramatic :)","body":"Also you have write &quot;Object of type T&quot; not &quot;Object of type F and with generic of type T&quot;, it is so dramatic :)"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1392244330,"post_id":21733811,"comment_id":32882775,"body_markdown":"possible duplicate of [Instantiating a generic class in Java](http://stackoverflow.com/questions/1090458/instantiating-a-generic-class-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1090458/instantiating-a-generic-class-in-java\">Instantiating a generic class in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":482279,"reputation":7803,"user_id":896588,"accept_rate":85,"display_name":"Andr&#233; Stannek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1392223191,"creation_date":1392223191,"answer_id":21733995,"question_id":21733811,"body_markdown":"As Jon commented you explictly need the class due to [type erasure][1].\r\n\r\nE.g. if you have a generic method, you&#39;ll have to do it like this:\r\n\r\n    public void &lt;T&gt; myMethod(Class&lt;T&gt; clazz) {\r\n        T foo = clazz.newInstance();\r\n    }\r\n\r\nIf it&#39;s a generic class it basically works the same. You just have to pass the class object to the metod or even to the constructor.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"How to make a new Object of type T","body":"<p>As Jon commented you explictly need the class due to <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"noreferrer\">type erasure</a>.</p>\n\n<p>E.g. if you have a generic method, you'll have to do it like this:</p>\n\n<pre><code>public void &lt;T&gt; myMethod(Class&lt;T&gt; clazz) {\n    T foo = clazz.newInstance();\n}\n</code></pre>\n\n<p>If it's a generic class it basically works the same. You just have to pass the class object to the metod or even to the constructor.</p>\n"},{"tags":[],"owner":{"account_id":3997190,"reputation":830,"user_id":3294343,"accept_rate":60,"display_name":"HowYaDoing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392224472,"creation_date":1392223940,"answer_id":21734324,"question_id":21733811,"body_markdown":"You can also use the Prototype Pattern\r\n\r\n\tpublic E makeNew(E template) throws IllegalAccessException,InstantiationException{\r\n\t\tE newobject=(E)template.getClass().newInstance();\r\n\t\treturn newobject;\r\n\t}","title":"How to make a new Object of type T","body":"<p>You can also use the Prototype Pattern</p>\n\n<pre><code>public E makeNew(E template) throws IllegalAccessException,InstantiationException{\n    E newobject=(E)template.getClass().newInstance();\n    return newobject;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":346580,"reputation":11301,"user_id":746882,"display_name":"Frost"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392224157,"creation_date":1392224157,"answer_id":21734404,"question_id":21733811,"body_markdown":"You can only create instances of known types. `T` is not something that comes with Java, but it is often used as an internal type parameter in a class that takes a type parameter (java generics). \n\nAs an example, say that you are creating a type parameterized linked list, that is, a linked list that you can use with any one data type as contents. If you would want an instance of this class that could only contain `String`s, you would instantiate it like so:\n\n    MyLinkedList&lt;String&gt; list = new MyLinkedList&lt;String&gt;();\n\nThe definition of such a class needs a type parameter, that will represent whatever class it was instantiated with, and would look something like this:\n\n    class MyLinkedList&lt;T&gt; {\n        // implementation code\n    } \n\nInside that class, you can create instances of type T, and you would do it with `T t = new T();`, just like you&#39;d expect. T will however refer to some other class at runtime, since T is just a type parameter. \n\nThat `T` type will however not be accessible outside the class. \n\nIf you&#39;re not implementing a type parameterized class, you would have to create a class of type T in order to instantiate it, and make sure to include it into whatever scope you want to use it in. I wouldn&#39;t recommend doing that though, because it Isn&#39;t very descriptive. ","title":"How to make a new Object of type T","body":"<p>You can only create instances of known types. <code>T</code> is not something that comes with Java, but it is often used as an internal type parameter in a class that takes a type parameter (java generics). </p>\n\n<p>As an example, say that you are creating a type parameterized linked list, that is, a linked list that you can use with any one data type as contents. If you would want an instance of this class that could only contain <code>String</code>s, you would instantiate it like so:</p>\n\n<pre><code>MyLinkedList&lt;String&gt; list = new MyLinkedList&lt;String&gt;();\n</code></pre>\n\n<p>The definition of such a class needs a type parameter, that will represent whatever class it was instantiated with, and would look something like this:</p>\n\n<pre><code>class MyLinkedList&lt;T&gt; {\n    // implementation code\n} \n</code></pre>\n\n<p>Inside that class, you can create instances of type T, and you would do it with <code>T t = new T();</code>, just like you'd expect. T will however refer to some other class at runtime, since T is just a type parameter. </p>\n\n<p>That <code>T</code> type will however not be accessible outside the class. </p>\n\n<p>If you're not implementing a type parameterized class, you would have to create a class of type T in order to instantiate it, and make sure to include it into whatever scope you want to use it in. I wouldn't recommend doing that though, because it Isn't very descriptive. </p>\n"}],"owner":{"account_id":451469,"reputation":13374,"user_id":847382,"accept_rate":93,"display_name":"PitaJ"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8370,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":21733995,"answer_count":3,"score":4,"last_activity_date":1684651350,"creation_date":1392222744,"question_id":21733811,"body_markdown":"I&#39;m trying to make a new Object of type T.\r\n\r\nI tried:\r\n\r\n    T h = new T();\r\n    T h = T.newInstance();\r\nThose don&#39;t work. I also tried:\r\n\r\n    T h = (T)(new Object());\r\nThat works, but then `h.getClass().getName()` returns `java.lang.Object`\r\n\r\nIs there any way to make a default object of this class without knowing the class name?\r\n\r\nEDIT (from comments):\r\n\r\n`T` is a generic. Like `Class&lt;T&gt;`.\r\n","title":"How to make a new Object of type T","body":"<p>I'm trying to make a new Object of type T.</p>\n\n<p>I tried:</p>\n\n<pre><code>T h = new T();\nT h = T.newInstance();\n</code></pre>\n\n<p>Those don't work. I also tried:</p>\n\n<pre><code>T h = (T)(new Object());\n</code></pre>\n\n<p>That works, but then <code>h.getClass().getName()</code> returns <code>java.lang.Object</code></p>\n\n<p>Is there any way to make a default object of this class without knowing the class name?</p>\n\n<p>EDIT (from comments):</p>\n\n<p><code>T</code> is a generic. Like <code>Class&lt;T&gt;</code>.</p>\n"},{"tags":["java","spring","jmeter"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1684504085,"post_id":76289675,"comment_id":134531077,"body_markdown":"Can you try updating one step at a time? My first step would be updating to java 11, without changing the library versions (if that&#39;s possible)","body":"Can you try updating one step at a time? My first step would be updating to java 11, without changing the library versions (if that&#39;s possible)"},{"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1684504273,"post_id":76289675,"comment_id":134531128,"body_markdown":"@S&#246;ren i cant, the project was updated to java 17 ( so there are quite a few places that uses java 17 stuff ), some time ago and im to migrate the distributed tests that havent been looked at for a while.","body":"@S&#246;ren i cant, the project was updated to java 17 ( so there are quite a few places that uses java 17 stuff ), some time ago and im to migrate the distributed tests that havent been looked at for a while."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1684508251,"post_id":76289675,"comment_id":134532055,"body_markdown":"So, right now your tests are broken? If that&#39;s so, your first order of business should be to get back to a green state. Remove or revert code (locally!) until you have a working codebase again.","body":"So, right now your tests are broken? If that&#39;s so, your first order of business should be to get back to a green state. Remove or revert code (locally!) until you have a working codebase again."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684651292,"creation_date":1684504117,"answer_id":76289724,"question_id":76289675,"body_markdown":"If you are using [Java Object Serialization](https://docs.oracle.com/en/java/javase/11/docs/specs/serialization/) as implemented by `ObjectInputStream` and `ObjectOutputStream`, then there are no guarantees that serializations of Java SE classes and 3rd party classes (e.g. Spring classes) will be stable across different Java versions.\r\n\r\nThis is one of the drawbacks of using Java Object Serialization.\r\n\r\nWill you be able to work around the problem?  It depends on the nature of the incompatibility.   \r\n\r\nIn this case, if you can ensure that the `applicationContext` field is always `null` when you serialize, then serialization and deserialization should both work.   \r\n\r\nOther options are:\r\n\r\n- use a modified version of `AbstractTestNGSpringContextTests` in which the `applicationContext` field is declared as `transient`, or\r\n- use a different serialization scheme; e.g. JSON, XML, etc.\r\n\r\nNote: if you *need* to pass the `ApplicationContext` object to your jmeter service, solving this going to be difficult.  There are probably good reasons why the `ApplicationContext` interface and its implementation classes are not declared as `Serializable`.\r\n\r\n","title":"Upgrading from java 8 breaks serialization Jmeter","body":"<p>If you are using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/specs/serialization/\" rel=\"nofollow noreferrer\">Java Object Serialization</a> as implemented by <code>ObjectInputStream</code> and <code>ObjectOutputStream</code>, then there are no guarantees that serializations of Java SE classes and 3rd party classes (e.g. Spring classes) will be stable across different Java versions.</p>\n<p>This is one of the drawbacks of using Java Object Serialization.</p>\n<p>Will you be able to work around the problem?  It depends on the nature of the incompatibility.</p>\n<p>In this case, if you can ensure that the <code>applicationContext</code> field is always <code>null</code> when you serialize, then serialization and deserialization should both work.</p>\n<p>Other options are:</p>\n<ul>\n<li>use a modified version of <code>AbstractTestNGSpringContextTests</code> in which the <code>applicationContext</code> field is declared as <code>transient</code>, or</li>\n<li>use a different serialization scheme; e.g. JSON, XML, etc.</li>\n</ul>\n<p>Note: if you <em>need</em> to pass the <code>ApplicationContext</code> object to your jmeter service, solving this going to be difficult.  There are probably good reasons why the <code>ApplicationContext</code> interface and its implementation classes are not declared as <code>Serializable</code>.</p>\n"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684651292,"creation_date":1684503809,"question_id":76289675,"body_markdown":"I am migrating project from Java 8 to Java 17. In version 8, the project uses these libraries for serialization:\r\n\r\n```xml\r\n&lt;!-- Spring version --&gt;\r\n&lt;spring.version&gt;5.2.16.RELEASE&lt;/spring.version&gt;\r\n&lt;spring.autoconfig.version&gt;2.6.3&lt;/spring.autoconfig.version&gt;\r\n&lt;!-- Jmeter version --&gt; \r\n&lt;jmeter.version&gt;5.4.1&lt;/jmeter.version&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n   &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ApacheJMeter_core&lt;/artifactId&gt;\r\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ApacheJMeter_java&lt;/artifactId&gt;\r\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ApacheJMeter_http&lt;/artifactId&gt;\r\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nThe codebase is using distributed tests in jmeter -&gt; it serializes the objects and send them to remote engines (jmeter).\r\n\r\nIn Java 17, a new version of spring/jmeter is used (serialization libraries remain the same).\r\n```xml\r\n&lt;spring.boot.version&gt;3.0.2&lt;/spring.boot.version&gt;\r\n&lt;spring.version&gt;6.0.4&lt;/spring.version&gt;\r\n&lt;jmeter.version&gt;5.5&lt;/jmeter.version&gt;\r\n```\r\n\r\nThe test extends `AbstractTestNGSpringContextTests` class from spring. \r\n\r\nIn the Java 8 version, the class is serialized without problem, but in Java 17 the serialization fails on \r\n\r\n```none\r\nError in rconfigure() method java.rmi.MarshalException: error marshalling arguments; nested exception is: \r\n\tjava.io.NotSerializableException: org.springframework.context.support.GenericApplicationContext\r\n```\r\n\r\n`AbstractTestNGSpringContextTests` has \r\n\r\n    @Nullable\r\n    protected ApplicationContext applicationContext;\r\n\r\nfield that is probably the reason why it fails, but for Java 8/spring 5.2.16 version it works. What caused this? Is there any workaround in new spring version?","title":"Upgrading from java 8 breaks serialization Jmeter","body":"<p>I am migrating project from Java 8 to Java 17. In version 8, the project uses these libraries for serialization:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Spring version --&gt;\n&lt;spring.version&gt;5.2.16.RELEASE&lt;/spring.version&gt;\n&lt;spring.autoconfig.version&gt;2.6.3&lt;/spring.autoconfig.version&gt;\n&lt;!-- Jmeter version --&gt; \n&lt;jmeter.version&gt;5.4.1&lt;/jmeter.version&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.9.9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.9.9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;2.9.9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.9.9&lt;/version&gt;\n&lt;/dependency&gt;\n   &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\n        &lt;artifactId&gt;ApacheJMeter_core&lt;/artifactId&gt;\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\n        &lt;artifactId&gt;ApacheJMeter_java&lt;/artifactId&gt;\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\n        &lt;artifactId&gt;ApacheJMeter_http&lt;/artifactId&gt;\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The codebase is using distributed tests in jmeter -&gt; it serializes the objects and send them to remote engines (jmeter).</p>\n<p>In Java 17, a new version of spring/jmeter is used (serialization libraries remain the same).</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;spring.boot.version&gt;3.0.2&lt;/spring.boot.version&gt;\n&lt;spring.version&gt;6.0.4&lt;/spring.version&gt;\n&lt;jmeter.version&gt;5.5&lt;/jmeter.version&gt;\n</code></pre>\n<p>The test extends <code>AbstractTestNGSpringContextTests</code> class from spring.</p>\n<p>In the Java 8 version, the class is serialized without problem, but in Java 17 the serialization fails on</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error in rconfigure() method java.rmi.MarshalException: error marshalling arguments; nested exception is: \n    java.io.NotSerializableException: org.springframework.context.support.GenericApplicationContext\n</code></pre>\n<p><code>AbstractTestNGSpringContextTests</code> has</p>\n<pre><code>@Nullable\nprotected ApplicationContext applicationContext;\n</code></pre>\n<p>field that is probably the reason why it fails, but for Java 8/spring 5.2.16 version it works. What caused this? Is there any workaround in new spring version?</p>\n"},{"tags":["java","string","class","inheritance"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678160999,"post_id":75657838,"comment_id":133475519,"body_markdown":"Hint: look at the `DiscountTicket` constructor. What do you do with `s`?","body":"Hint: look at the <code>DiscountTicket</code> constructor. What do you do with <code>s</code>?"},{"owner":{"account_id":27546229,"reputation":1,"user_id":21022138,"display_name":"M_DS"},"score":0,"creation_date":1678161454,"post_id":75657838,"comment_id":133475576,"body_markdown":"tgdavies I&#39;ve been working on this for hours man help me please.","body":"tgdavies I&#39;ve been working on this for hours man help me please."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678161591,"post_id":75657838,"comment_id":133475591,"body_markdown":"Give `DiscountTicket` a `type` field and assign `s` to it in the constructor. Then you can use it in your `toString` function.","body":"Give <code>DiscountTicket</code> a <code>type</code> field and assign <code>s</code> to it in the constructor. Then you can use it in your <code>toString</code> function."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684651253,"creation_date":1684651253,"answer_id":76298611,"question_id":75657838,"body_markdown":"You can utilize a `StringBuilder` and a `Formatter` for this task.\r\n\r\nConsider the following.\r\n\r\n```java\r\n@Override\r\npublic String toString() {\r\n    StringBuilder string = new StringBuilder();\r\n    Formatter formatter = new Formatter(string);\r\n    formatter.format(&quot;Ticket: [ serial#: %d &quot;, number);\r\n    formatter.format(&quot;Price: %.0f &quot;, price);\r\n    formatter.format(&quot;Type: %s]&quot;, s);\r\n    formatter.flush();\r\n    return string.toString();\r\n}\r\n```\r\n\r\nOutput, given the desired output you provided.\r\n\r\n```none\r\nTicket: [ serial#: 3 Price: 20 Type: Student]\r\nTicket: [ serial#: 4 Price: 15 Type: Senior]\r\n```","title":"Initialization of string variables within class perimeters","body":"<p>You can utilize a <code>StringBuilder</code> and a <code>Formatter</code> for this task.</p>\n<p>Consider the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic String toString() {\n    StringBuilder string = new StringBuilder();\n    Formatter formatter = new Formatter(string);\n    formatter.format(&quot;Ticket: [ serial#: %d &quot;, number);\n    formatter.format(&quot;Price: %.0f &quot;, price);\n    formatter.format(&quot;Type: %s]&quot;, s);\n    formatter.flush();\n    return string.toString();\n}\n</code></pre>\n<p>Output, given the desired output you provided.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Ticket: [ serial#: 3 Price: 20 Type: Student]\nTicket: [ serial#: 4 Price: 15 Type: Senior]\n</code></pre>\n"}],"owner":{"account_id":27546229,"reputation":1,"user_id":21022138,"display_name":"M_DS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684651253,"creation_date":1678160189,"question_id":75657838,"body_markdown":"So, I&#39;m working on a application that counts tickets using inheritance and class perimeters.\r\nThis is my code for the class that is challenging. \r\n\r\n```\r\n\r\n\t// For formatting currency\r\n\tDecimalFormat currencyF = new DecimalFormat(&quot;#.00&quot;);\r\n\r\n\t// parameter constructor\r\n\tpublic DiscountTicket(int days, String s) {\r\n\t\tsuper(days);\r\n\t\t{\r\n\t\t\tsuper.daysInAdvance = days;\r\n\t\t\tgetPrice();\r\n\t\t}\r\n\t}\r\n\r\n\t// override getPrice()\r\n\tpublic double getPrice() {\r\n\t\tif (super.daysInAdvance &gt;= 10) {\r\n\t\t\tsuper.price = 15;\r\n\t\t}\r\n\t\tif (super.daysInAdvance &lt; 10 &amp;&amp; super.daysInAdvance &gt;= 1) {\r\n\t\t\tsuper.price = 20;\r\n\t\t}\r\n\t\treturn price;\r\n\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t//return &quot;Ticket number: &quot; + number + &quot;, Price: $&quot; + currencyF.format(price) + String s);\t\r\n\t}\r\n}\r\n```\r\n\r\nI need help forming a toString that can execute this class:\r\n\r\n\r\n```\r\npublic class TicketTest\r\n{\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\tint total_sales = 0;\r\n\r\n \t       \tTicket[] tickets = {\r\n        \t        new WebTicket(10),\r\n                \tnew WebTicket(5),\r\n\t                new CounterTicket(),\r\n        \t        new DiscountTicket(5, &quot;Student&quot;),\r\n                \tnew DiscountTicket(10, &quot;Senior&quot;),\r\n        \t};\r\n\r\n\t        for(int i=0; i&lt;tickets.length; i++) {\r\n            \t\tSystem.out.println( tickets[i] );\r\n        \t}\r\n\r\n\t        for(int i=0; i&lt;tickets.length; i++) {\r\n        \t\ttotal_sales += tickets[i].getPrice();\r\n        \t}  \r\n\r\n        \tSystem.out.println();\r\n        \tSystem.out.print(&quot;Total sales: &quot; + total_sales );\r\n\t}\r\n```\r\n\r\nThis toString should help produce the \r\n```\r\n new DiscountTicket(5, &quot;Student&quot;),\r\n new DiscountTicket(10, &quot;Senior&quot;),\r\n```\r\n\r\nWhat I really want to know is how to put the &quot;Student&quot; and &quot;Senior&quot; Strings in the DiscountTicket Class using the same variable in the Class&#39;s perimeters. It would really be helpful. Maybe I could use the 5 and 10 values to initialize the String values. \r\n\r\nMy desired output is:\r\n\r\n**Ticket: [ serial#: 3 Price: 20 Type: Student]  \r\nTicket: [ serial#: 4 Price: 15 Type: Senior]**","title":"Initialization of string variables within class perimeters","body":"<p>So, I'm working on a application that counts tickets using inheritance and class perimeters.\nThis is my code for the class that is challenging.</p>\n<pre><code>\n    // For formatting currency\n    DecimalFormat currencyF = new DecimalFormat(&quot;#.00&quot;);\n\n    // parameter constructor\n    public DiscountTicket(int days, String s) {\n        super(days);\n        {\n            super.daysInAdvance = days;\n            getPrice();\n        }\n    }\n\n    // override getPrice()\n    public double getPrice() {\n        if (super.daysInAdvance &gt;= 10) {\n            super.price = 15;\n        }\n        if (super.daysInAdvance &lt; 10 &amp;&amp; super.daysInAdvance &gt;= 1) {\n            super.price = 20;\n        }\n        return price;\n\n    }\n\n    public String toString() {\n    //return &quot;Ticket number: &quot; + number + &quot;, Price: $&quot; + currencyF.format(price) + String s);   \n    }\n}\n</code></pre>\n<p>I need help forming a toString that can execute this class:</p>\n<pre><code>public class TicketTest\n{\n    public static void main(String args[])\n    {\n        int total_sales = 0;\n\n            Ticket[] tickets = {\n                    new WebTicket(10),\n                    new WebTicket(5),\n                    new CounterTicket(),\n                    new DiscountTicket(5, &quot;Student&quot;),\n                    new DiscountTicket(10, &quot;Senior&quot;),\n            };\n\n            for(int i=0; i&lt;tickets.length; i++) {\n                    System.out.println( tickets[i] );\n            }\n\n            for(int i=0; i&lt;tickets.length; i++) {\n                total_sales += tickets[i].getPrice();\n            }  \n\n            System.out.println();\n            System.out.print(&quot;Total sales: &quot; + total_sales );\n    }\n</code></pre>\n<p>This toString should help produce the</p>\n<pre><code> new DiscountTicket(5, &quot;Student&quot;),\n new DiscountTicket(10, &quot;Senior&quot;),\n</code></pre>\n<p>What I really want to know is how to put the &quot;Student&quot; and &quot;Senior&quot; Strings in the DiscountTicket Class using the same variable in the Class's perimeters. It would really be helpful. Maybe I could use the 5 and 10 values to initialize the String values.</p>\n<p>My desired output is:</p>\n<p><strong>Ticket: [ serial#: 3 Price: 20 Type: Student]<br />\nTicket: [ serial#: 4 Price: 15 Type: Senior]</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9572,"page":420,"page_size":100}
