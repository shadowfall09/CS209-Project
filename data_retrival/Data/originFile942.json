{"items":[{"tags":["java","android","try-catch","google-play-console"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666373009,"post_id":74156785,"comment_id":130929753,"body_markdown":"`OutOfMemoryError` extends from `Error`, a subclass of `Throwable` which should _not_ be caught in almost all circumstances. If I saw that try-catch, particularly in the context you posted, I&#39;d be extremely wary of some other design or program flaw that caused it in the first place. Errors/exceptions are useful tools to detect problems in your code, not something to suppress (which at the very least, `#printStackTrace` still allows some visibility on the error occuring).","body":"<code>OutOfMemoryError</code> extends from <code>Error</code>, a subclass of <code>Throwable</code> which should <i>not</i> be caught in almost all circumstances. If I saw that try-catch, particularly in the context you posted, I&#39;d be extremely wary of some other design or program flaw that caused it in the first place. Errors/exceptions are useful tools to detect problems in your code, not something to suppress (which at the very least, <code>#printStackTrace</code> still allows some visibility on the error occuring)."},{"owner":{"account_id":26362930,"reputation":175,"user_id":20018861,"display_name":"Lechius"},"score":0,"creation_date":1666476793,"post_id":74156785,"comment_id":130947459,"body_markdown":"@Rogue according to your awnser, are you indirectly telling me that I souldn&#39;t use try catch in the example I posted as it is better to let the program crash and know the real exception as maybe if I use the try catch it will throw an OutOfMemoryError and there is a probability that it is not an OutOfMemoryError problem?","body":"@Rogue according to your awnser, are you indirectly telling me that I souldn&#39;t use try catch in the example I posted as it is better to let the program crash and know the real exception as maybe if I use the try catch it will throw an OutOfMemoryError and there is a probability that it is not an OutOfMemoryError problem?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666550931,"post_id":74156785,"comment_id":130958896,"body_markdown":"Moreso that if you have the error to begin with, there&#39;s likely an egregious problem elsewheres in the code, and this type of code would the medical equivalent of a bandaid for an amputation.","body":"Moreso that if you have the error to begin with, there&#39;s likely an egregious problem elsewheres in the code, and this type of code would the medical equivalent of a bandaid for an amputation."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666371516,"creation_date":1666371516,"answer_id":74156921,"question_id":74156785,"body_markdown":"Nothing will automatically go to the Google Play Console because this will never crash.  The catch will prevent the exception from crashing you and continue on.  Which makes this dangerous code, unless you know what you&#39;re doing.  Generally something like this would only be seen in code working with caches, where a failed allocation would cause you to kick data out of a cache and retry.\r\n\r\nAs for why you may want to do this-  for debugging purposes.  You may want to see when it happens and information about the allocation (such as how big it was) while debugging.  It will only be for your personal use, as you&#39;ll never see the logcat of other devices.","title":"What is the reason of making try catch OutOfMemoryError and printStackTrace()?","body":"<p>Nothing will automatically go to the Google Play Console because this will never crash.  The catch will prevent the exception from crashing you and continue on.  Which makes this dangerous code, unless you know what you're doing.  Generally something like this would only be seen in code working with caches, where a failed allocation would cause you to kick data out of a cache and retry.</p>\n<p>As for why you may want to do this-  for debugging purposes.  You may want to see when it happens and information about the allocation (such as how big it was) while debugging.  It will only be for your personal use, as you'll never see the logcat of other devices.</p>\n"}],"owner":{"account_id":26362930,"reputation":175,"user_id":20018861,"display_name":"Lechius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666372826,"creation_date":1666370725,"question_id":74156785,"body_markdown":"I undesrstand the try-catch statement, it means that it will try a piece of code and if it fails the catch section will be executed. What I don&#180;t undesrtand is to use printStackTrace of an error in the catch section. I mean, why it would be useful to make the following code:\r\n\r\n```\r\ntry{\r\n\r\n}\r\ncatch (OutOfMemoryError e) {\r\ne.printStackTrace();\r\n}\r\n```\r\n\r\nIf the code that is in the try section fails, an out of memory error will be printed according to the above code. What is the reason of making that? Won`t an error automatically be printed on the Google Play Console if the app crashes (the code of the try function)? I don&#180;t understand the reason of printing an error if the Google Play Console is actually printing the stack trace of errors without need of using the try catch function...  \r\n\r\nReal example of code that I don&#39;t understand why the try catch is used:\r\n\r\n    public void playMediaPlayer(int id) {\r\n                try {\r\n                    if (mediaPlayer != null || mediaPlayer.isPlaying()) {\r\n                        mediaPlayer.release();\r\n                        mediaPlayer = new MediaPlayer();\r\n                    }\r\n        \r\n                    if (id == 1) {\r\n                        mediaPlayer = MediaPlayer.create(getApplicationContext(), R.raw.sound1);\r\n                    } else if (id == 2) {\r\n                        mediaPlayer = MediaPlayer.create(getApplicationContext(), R.raw.sound2);\r\n        \r\n                    }\r\n                    if (PreferenceData.getSound(getApplicationContext())) {\r\n                        mediaPlayer.start();\r\n                    }\r\n                } catch (OutOfMemoryError e) {\r\n                    e.printStackTrace();\r\n                }\r\n        \r\n            }","title":"What is the reason of making try catch OutOfMemoryError and printStackTrace()?","body":"<p>I undesrstand the try-catch statement, it means that it will try a piece of code and if it fails the catch section will be executed. What I don´t undesrtand is to use printStackTrace of an error in the catch section. I mean, why it would be useful to make the following code:</p>\n<pre><code>try{\n\n}\ncatch (OutOfMemoryError e) {\ne.printStackTrace();\n}\n</code></pre>\n<p>If the code that is in the try section fails, an out of memory error will be printed according to the above code. What is the reason of making that? Won`t an error automatically be printed on the Google Play Console if the app crashes (the code of the try function)? I don´t understand the reason of printing an error if the Google Play Console is actually printing the stack trace of errors without need of using the try catch function...</p>\n<p>Real example of code that I don't understand why the try catch is used:</p>\n<pre><code>public void playMediaPlayer(int id) {\n            try {\n                if (mediaPlayer != null || mediaPlayer.isPlaying()) {\n                    mediaPlayer.release();\n                    mediaPlayer = new MediaPlayer();\n                }\n    \n                if (id == 1) {\n                    mediaPlayer = MediaPlayer.create(getApplicationContext(), R.raw.sound1);\n                } else if (id == 2) {\n                    mediaPlayer = MediaPlayer.create(getApplicationContext(), R.raw.sound2);\n    \n                }\n                if (PreferenceData.getSound(getApplicationContext())) {\n                    mediaPlayer.start();\n                }\n            } catch (OutOfMemoryError e) {\n                e.printStackTrace();\n            }\n    \n        }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14679090,"reputation":1359,"user_id":10601203,"display_name":"Jesse"},"score":1,"creation_date":1666371264,"post_id":74156833,"comment_id":130929192,"body_markdown":"&quot;it doesn&#39;t work&quot; is not a clear or valid explanation of behavior. What *does* it do? What are you expecting it to do? Can you give example output of what it does vs what you&#39;re expecting it to do? Are you receiving any errors? If so what are they?","body":"&quot;it doesn&#39;t work&quot; is not a clear or valid explanation of behavior. What <i>does</i> it do? What are you expecting it to do? Can you give example output of what it does vs what you&#39;re expecting it to do? Are you receiving any errors? If so what are they?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1666371396,"post_id":74156833,"comment_id":130929240,"body_markdown":"Also please [edit] your question to include sample input and expected and current output. See [ask].","body":"Also please <a href=\"https://stackoverflow.com/posts/74156833/edit\">edit</a> your question to include sample input and expected and current output. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1666371785,"post_id":74156833,"comment_id":130929352,"body_markdown":"You need to handle `null` here: `LinearNode&lt;T&gt;current=head.getNext();`","body":"You need to handle <code>null</code> here: <code>LinearNode&lt;T&gt;current=head.getNext();</code>"}],"answers":[{"tags":[],"owner":{"account_id":23265029,"reputation":128,"user_id":17350710,"display_name":"Ahmad Mtera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666372784,"creation_date":1666371686,"answer_id":74156956,"question_id":74156833,"body_markdown":"As for the error:\r\n\r\n&gt; ```none\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot\r\n&gt; invoke &quot;jsjf.LinearNode.getNext()&quot; because &quot;this.head&quot; is null at\r\n&gt; jsjf.LinkedOrderedList.add(LinkedOrderedList.java:36) at\r\n&gt; jsjf.LinkedListTester.main(LinkedListTester.java:8)\r\n&gt; ```\r\n\r\nThe error is due to line 4:\r\n\r\n&gt; ```\r\n&gt; LinearNode&lt;T&gt;current=head.getNext();\r\n&gt; ```\r\n\r\nYou should do a null check before accessing the head&#39;s contents. If the head is null, then simply insert at head:\r\n\r\n    if (head == null) {\r\n        head = comparableElement;\r\n        return;\r\n    }\r\n\r\n---\r\n**Explanation**:\r\n\r\nThere are four cases you need to consider when adding an element to an [ordered LinkedList][1]:\r\n1. When insertion happens at the beggining (you covered this case).\r\n2. When insertion happens to an empty LinkedList.\r\n3. When insertion happens at the end of the list (you covered this case).\r\n4. When insertion happens in the middle of the list.\r\n\r\nI&#39;ve edited your code and made the necessary additions for it to work:\r\n\r\n    public void add(T element) {\r\n        // Create new node and store data in it\r\n        LinearNode&lt;T&gt; comparableElement = new LinearNode&lt;&gt;(element);\r\n        LinearNode&lt;T&gt; prev = null, curr = head;\r\n    \r\n        if (!(element instanceof Comparable)) {\r\n            throw new NonComparableElementException(&quot;OrderList&quot;);\r\n        }\r\n    \r\n        // Decide where to add new node in LinkedList\r\n        while (curr != null &amp;&amp; curr.getData().compareTo(comparableElement.getData()) &lt; 0) {\r\n            prev = curr;\r\n            curr = curr.getNext();\r\n        }\r\n    \r\n        // Add node in LinkedList\r\n        if (head == null) {  // Case 0: Empty LinkedList\r\n            head = comparableElement;\r\n        } else if (prev == null) {   // Case 1: Insert at beginning\r\n            comparableElement.setNext(head);\r\n            head = comparableElement;\r\n        } else if (curr != null) {  // Case 2: Insert in between\r\n            prev.setNext(comparableElement);\r\n            comparableElement.setNext(curr);\r\n        } else // Case 3: Insert at the end\r\n            prev.setNext(comparableElement);\r\n    \r\n        count++;\r\n    }\r\n\r\nWhat the code essentially does is it loops to the correct insertion position and manipulates the pointers accordingly to insert the item.\r\n\r\n  [1]: https://www.geeksforgeeks.org/implementing-a-linked-list-in-java-using-class/","title":"I want to add a generic element to this linked list in an ordered way","body":"<p>As for the error:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot\ninvoke &quot;jsjf.LinearNode.getNext()&quot; because &quot;this.head&quot; is null at\njsjf.LinkedOrderedList.add(LinkedOrderedList.java:36) at\njsjf.LinkedListTester.main(LinkedListTester.java:8)\n</code></pre>\n</blockquote>\n<p>The error is due to line 4:</p>\n<blockquote>\n<pre><code>LinearNode&lt;T&gt;current=head.getNext();\n</code></pre>\n</blockquote>\n<p>You should do a null check before accessing the head's contents. If the head is null, then simply insert at head:</p>\n<pre><code>if (head == null) {\n    head = comparableElement;\n    return;\n}\n</code></pre>\n<hr />\n<p><strong>Explanation</strong>:</p>\n<p>There are four cases you need to consider when adding an element to an <a href=\"https://www.geeksforgeeks.org/implementing-a-linked-list-in-java-using-class/\" rel=\"nofollow noreferrer\">ordered LinkedList</a>:</p>\n<ol>\n<li>When insertion happens at the beggining (you covered this case).</li>\n<li>When insertion happens to an empty LinkedList.</li>\n<li>When insertion happens at the end of the list (you covered this case).</li>\n<li>When insertion happens in the middle of the list.</li>\n</ol>\n<p>I've edited your code and made the necessary additions for it to work:</p>\n<pre><code>public void add(T element) {\n    // Create new node and store data in it\n    LinearNode&lt;T&gt; comparableElement = new LinearNode&lt;&gt;(element);\n    LinearNode&lt;T&gt; prev = null, curr = head;\n\n    if (!(element instanceof Comparable)) {\n        throw new NonComparableElementException(&quot;OrderList&quot;);\n    }\n\n    // Decide where to add new node in LinkedList\n    while (curr != null &amp;&amp; curr.getData().compareTo(comparableElement.getData()) &lt; 0) {\n        prev = curr;\n        curr = curr.getNext();\n    }\n\n    // Add node in LinkedList\n    if (head == null) {  // Case 0: Empty LinkedList\n        head = comparableElement;\n    } else if (prev == null) {   // Case 1: Insert at beginning\n        comparableElement.setNext(head);\n        head = comparableElement;\n    } else if (curr != null) {  // Case 2: Insert in between\n        prev.setNext(comparableElement);\n        comparableElement.setNext(curr);\n    } else // Case 3: Insert at the end\n        prev.setNext(comparableElement);\n\n    count++;\n}\n</code></pre>\n<p>What the code essentially does is it loops to the correct insertion position and manipulates the pointers accordingly to insert the item.</p>\n"}],"owner":{"account_id":26618199,"reputation":23,"user_id":20237300,"display_name":"colonel bond"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1666372784,"creation_date":1666370991,"question_id":74156833,"body_markdown":"    public void add(T element)\r\n    {\r\n    \t\r\n    \t\r\n    \tLinearNode&lt;T&gt;previous=head;\r\n    \tLinearNode&lt;T&gt;current=head.getNext();\r\n    \tLinearNode&lt;T&gt;node= new LinearNode&lt;&gt;();\r\n    \r\n    \t\r\n    \tif(!(element instanceof Comparable))\r\n    \t{\r\n    \t\tthrow new NonComparableElementException(&quot;OrderList&quot;);\r\n    \t}\r\n    \r\n    \tComparable&lt;T&gt;comparableElement= (Comparable&lt;T&gt;)element;\r\n    \r\n    \tif(comparableElement.compareTo(head.getElement())&lt;0)\r\n    \t{\r\n    \t\thead=node;\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\twhile(current!=null &amp;&amp; comparableElement.compareTo(current.getElement())&gt;0)\r\n    \t\t{\r\n    \t\t\tprevious=current;\r\n    \t\t\tcurrent=current.getNext();\r\n    \t\t}\r\n    \t\tprevious.setNext(node);\r\n    \t}\r\n    \tcount++;\r\n    }\r\n\r\nI have been trying to write this add method which adds the specified element to this list at the location determined by the element&#39;s natural ordering but it gives an error: \r\n&lt;pre&gt;\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;jsjf.LinearNode.getNext()&quot; because &quot;this.head&quot; is null\r\n        at jsjf.LinkedOrderedList.add(LinkedOrderedList.java:36)\r\n        at jsjf.LinkedListTester.main(LinkedListTester.java:8)\r\n&lt;/pre&gt;\r\n\r\n","title":"I want to add a generic element to this linked list in an ordered way","body":"<pre><code>public void add(T element)\n{\n    \n    \n    LinearNode&lt;T&gt;previous=head;\n    LinearNode&lt;T&gt;current=head.getNext();\n    LinearNode&lt;T&gt;node= new LinearNode&lt;&gt;();\n\n    \n    if(!(element instanceof Comparable))\n    {\n        throw new NonComparableElementException(&quot;OrderList&quot;);\n    }\n\n    Comparable&lt;T&gt;comparableElement= (Comparable&lt;T&gt;)element;\n\n    if(comparableElement.compareTo(head.getElement())&lt;0)\n    {\n        head=node;\n    }\n    else\n    {\n        while(current!=null &amp;&amp; comparableElement.compareTo(current.getElement())&gt;0)\n        {\n            previous=current;\n            current=current.getNext();\n        }\n        previous.setNext(node);\n    }\n    count++;\n}\n</code></pre>\n<p>I have been trying to write this add method which adds the specified element to this list at the location determined by the element's natural ordering but it gives an error:</p>\n<pre>\nException in thread \"main\" java.lang.NullPointerException: Cannot invoke \"jsjf.LinearNode.getNext()\" because \"this.head\" is null\n        at jsjf.LinkedOrderedList.add(LinkedOrderedList.java:36)\n        at jsjf.LinkedListTester.main(LinkedListTester.java:8)\n</pre>\n"},{"tags":["java","serial-port","thermal-printer"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653479115,"post_id":72376963,"comment_id":127861257,"body_markdown":"Read the manual of the machine. Perhaps that extra data at the end is image data.","body":"Read the manual of the machine. Perhaps that extra data at the end is image data."},{"owner":{"account_id":23761543,"reputation":59,"user_id":17776870,"display_name":"Danilo Djurovic"},"score":0,"creation_date":1653479535,"post_id":72376963,"comment_id":127861421,"body_markdown":"Extra data is the image data, but I don&#39;t know how to show it as an image. There is nothing about this in the manual of the machine.","body":"Extra data is the image data, but I don&#39;t know how to show it as an image. There is nothing about this in the manual of the machine."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653480371,"post_id":72376963,"comment_id":127861757,"body_markdown":"It might be an idea, instead of pasting the result onto an external site, to save it with `FileOutputStream` to a file and post a link to it. That way, the actual data are not in question","body":"It might be an idea, instead of pasting the result onto an external site, to save it with <code>FileOutputStream</code> to a file and post a link to it. That way, the actual data are not in question"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653480704,"post_id":72376963,"comment_id":127861898,"body_markdown":"Also I&#39;m puzzled as to why textual info has been made into an image in one place and not in others.","body":"Also I&#39;m puzzled as to why textual info has been made into an image in one place and not in others."},{"owner":{"account_id":12359629,"reputation":4160,"user_id":9014308,"display_name":"kunif"},"score":0,"creation_date":1653518920,"post_id":72376963,"comment_id":127875437,"body_markdown":"It&#39;s not Java, but why not give these tools a try? [receipt-print-hq/escpos-tools](https://github.com/receipt-print-hq/escpos-tools), [kunif/EscPosUtils](https://github.com/kunif/EscPosUtils)","body":"It&#39;s not Java, but why not give these tools a try? <a href=\"https://github.com/receipt-print-hq/escpos-tools\" rel=\"nofollow noreferrer\">receipt-print-hq/escpos-tools</a>, <a href=\"https://github.com/kunif/EscPosUtils\" rel=\"nofollow noreferrer\">kunif/EscPosUtils</a>"},{"owner":{"account_id":23761543,"reputation":59,"user_id":17776870,"display_name":"Danilo Djurovic"},"score":0,"creation_date":1653550903,"post_id":72376963,"comment_id":127880673,"body_markdown":"I added new information in the post.","body":"I added new information in the post."},{"owner":{"account_id":23761543,"reputation":59,"user_id":17776870,"display_name":"Danilo Djurovic"},"score":0,"creation_date":1653551114,"post_id":72376963,"comment_id":127880724,"body_markdown":"@g00se Machine scans the S/N of banknote and does OCR of the scan and sends that OCR data in text form and that same data in picture format. \nI uploaded the file in the post.","body":"@g00se Machine scans the S/N of banknote and does OCR of the scan and sends that OCR data in text form and that same data in picture format.  I uploaded the file in the post."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653562963,"post_id":72376963,"comment_id":127884416,"body_markdown":"I see. That looks annoyingly proprietary in format. What is the hardware model btw?","body":"I see. That looks annoyingly proprietary in format. What is the hardware model btw?"},{"owner":{"account_id":23761543,"reputation":59,"user_id":17776870,"display_name":"Danilo Djurovic"},"score":0,"creation_date":1653563841,"post_id":72376963,"comment_id":127884681,"body_markdown":"It is a Hyundai Mib SB-9 machine. I posted some pictures explaining how to convert to picture, but I&#39;m not sure how to do it.","body":"It is a Hyundai Mib SB-9 machine. I posted some pictures explaining how to convert to picture, but I&#39;m not sure how to do it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653656085,"post_id":72376963,"comment_id":127909737,"body_markdown":"This is quite a fascinating mystery. How are you getting on?","body":"This is quite a fascinating mystery. How are you getting on?"},{"owner":{"account_id":12359629,"reputation":4160,"user_id":9014308,"display_name":"kunif"},"score":0,"creation_date":1653662569,"post_id":72376963,"comment_id":127912423,"body_markdown":"Looking at this page, is there a mode or model that sends image data and recognition results to the PC? Why not ask the vendor for those materials? [SB-9 Professional 2 Pocket Mixed Denomination Value Counter](https://www.hyundaimib.com/products/sb-9/)","body":"Looking at this page, is there a mode or model that sends image data and recognition results to the PC? Why not ask the vendor for those materials? <a href=\"https://www.hyundaimib.com/products/sb-9/\" rel=\"nofollow noreferrer\">SB-9 Professional 2 Pocket Mixed Denomination Value Counter</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653924534,"post_id":72376963,"comment_id":127964616,"body_markdown":"I&#39;m sort of hoping that the data you posted is a &#39;dummy&#39; that shows a striped pattern. If that&#39;s the case, I could have something ;)","body":"I&#39;m sort of hoping that the data you posted is a &#39;dummy&#39; that shows a striped pattern. If that&#39;s the case, I could have something ;)"},{"owner":{"account_id":23761543,"reputation":59,"user_id":17776870,"display_name":"Danilo Djurovic"},"score":0,"creation_date":1666372266,"post_id":72376963,"comment_id":130929488,"body_markdown":"Hello, sorry for the late reply. I didn&#39;t get the chance to work on this until the last few days.\nI managed to get the byte array from the com port and convert it to binaryString.\nI&#39;m not sure how to get the picture from the String that I got.\nPlease see the original question, as I will edit it with new data.","body":"Hello, sorry for the late reply. I didn&#39;t get the chance to work on this until the last few days. I managed to get the byte array from the com port and convert it to binaryString. I&#39;m not sure how to get the picture from the String that I got. Please see the original question, as I will edit it with new data."}],"owner":{"account_id":23761543,"reputation":59,"user_id":17776870,"display_name":"Danilo Djurovic"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666372767,"creation_date":1653478792,"question_id":72376963,"body_markdown":"I&#39;m reading print output from a money counter machine through a serial port using Java.\r\n\r\nThis is data that the machine sends when it finishes counting:\r\n\r\n[Machine print output][1]\r\n\r\n[Machhine print out file][2]\r\n\r\n\r\nAnd this is how it looks when its printed on a thermal POS printer:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nIts not the same banknote(different S/N) on both outputs, but you will probably understand what I&#39;m saying.\r\n\r\nI successfully extracted all the count data from this output, but my problem is with serial number of the banknote.\r\n\r\nMy question is how can I get the picture of ***the serial number*** to show on my screen, like it is shown when printed?\r\n\r\nIs there any protocol that the printer uses to print the picture that I can use in Java?\r\n\r\nThanks in advance\r\n\r\nEDIT:\r\n\r\nHere is the explanation I got, but I&#39;m still not sure how to get the picture in JAVA.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\nEDIT 2:\r\n\r\nI used the following code to get the byte array from Serial port and convert it to binaryString. I used one of the bytes that represents the new line and inserted the new line each time that value is found.\r\n\r\n    public void serialEvent(SerialPortEvent serialPortEvent) {\r\n\r\n                ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n                String s1 = new String();\r\n\r\n                if (serialPortEvent.getEventType() != SerialPort.LISTENING_EVENT_DATA_AVAILABLE) {\r\n                    return;\r\n                }\r\n                byte[] readBuffer = new byte[comPort.bytesAvailable()];\r\n                int numRead = comPort.readBytes(readBuffer, readBuffer.length);\r\n                //System.out.println(&quot;Read &quot; + numRead + &quot; bytes.&quot;);\r\n\r\n                for (Byte b : readBuffer) {\r\n\r\n                    //image is more than 500 bytes, all other data is less than 500\r\n                    if (numRead &lt;= 500) {\r\n                        break;\r\n                    }\r\n\r\n                    s1 = String.format(&quot;%8s&quot;, Integer.toBinaryString(b &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;);\r\n\r\n                    //new line byte, everytime it shows up I add a new \r\n                    line\r\n                    if (s1.equals(&quot;01000101&quot;)) {\r\n                        System.out.println();\r\n                        continue;\r\n                    }\r\n\r\n                    System.out.print(s1);\r\n\r\n\r\nI store everything in a String and print it out after I receive all the data. Here is the system out of the s1 String pasted in a text editor.\r\n\r\n[![binaryString image][6]][6]\r\n\r\nI dont know how well it can be seen in the image, but this is a copied String where picture is made from zeros and ones and you can clearly see the serial number.\r\n\r\nMy question now is how can I convert this to an image file?\r\n\r\n\r\n  [1]: https://justpaste.it/1u9kb\r\n  [2]: https://wetransfer.com/downloads/fe33f036e6accc0347758309d798a68320220526074736/9f96c0\r\n  [3]: https://i.stack.imgur.com/uKMdV.jpg\r\n  [4]: https://i.stack.imgur.com/Nrqj5.jpg\r\n  [5]: https://i.stack.imgur.com/aOyy2.jpg\r\n  [6]: https://i.stack.imgur.com/us115.png","title":"Serial port reading print output from a machine","body":"<p>I'm reading print output from a money counter machine through a serial port using Java.</p>\n<p>This is data that the machine sends when it finishes counting:</p>\n<p><a href=\"https://justpaste.it/1u9kb\" rel=\"nofollow noreferrer\">Machine print output</a></p>\n<p><a href=\"https://wetransfer.com/downloads/fe33f036e6accc0347758309d798a68320220526074736/9f96c0\" rel=\"nofollow noreferrer\">Machhine print out file</a></p>\n<p>And this is how it looks when its printed on a thermal POS printer:</p>\n<p><a href=\"https://i.stack.imgur.com/uKMdV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uKMdV.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Its not the same banknote(different S/N) on both outputs, but you will probably understand what I'm saying.</p>\n<p>I successfully extracted all the count data from this output, but my problem is with serial number of the banknote.</p>\n<p>My question is how can I get the picture of <em><strong>the serial number</strong></em> to show on my screen, like it is shown when printed?</p>\n<p>Is there any protocol that the printer uses to print the picture that I can use in Java?</p>\n<p>Thanks in advance</p>\n<p>EDIT:</p>\n<p>Here is the explanation I got, but I'm still not sure how to get the picture in JAVA.</p>\n<p><a href=\"https://i.stack.imgur.com/Nrqj5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nrqj5.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/aOyy2.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aOyy2.jpg\" alt=\"enter image description here\" /></a></p>\n<p>EDIT 2:</p>\n<p>I used the following code to get the byte array from Serial port and convert it to binaryString. I used one of the bytes that represents the new line and inserted the new line each time that value is found.</p>\n<pre><code>public void serialEvent(SerialPortEvent serialPortEvent) {\n\n            ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n            String s1 = new String();\n\n            if (serialPortEvent.getEventType() != SerialPort.LISTENING_EVENT_DATA_AVAILABLE) {\n                return;\n            }\n            byte[] readBuffer = new byte[comPort.bytesAvailable()];\n            int numRead = comPort.readBytes(readBuffer, readBuffer.length);\n            //System.out.println(&quot;Read &quot; + numRead + &quot; bytes.&quot;);\n\n            for (Byte b : readBuffer) {\n\n                //image is more than 500 bytes, all other data is less than 500\n                if (numRead &lt;= 500) {\n                    break;\n                }\n\n                s1 = String.format(&quot;%8s&quot;, Integer.toBinaryString(b &amp; 0xFF)).replace(' ', '0');\n\n                //new line byte, everytime it shows up I add a new \n                line\n                if (s1.equals(&quot;01000101&quot;)) {\n                    System.out.println();\n                    continue;\n                }\n\n                System.out.print(s1);\n</code></pre>\n<p>I store everything in a String and print it out after I receive all the data. Here is the system out of the s1 String pasted in a text editor.</p>\n<p><a href=\"https://i.stack.imgur.com/us115.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/us115.png\" alt=\"binaryString image\" /></a></p>\n<p>I dont know how well it can be seen in the image, but this is a copied String where picture is made from zeros and ones and you can clearly see the serial number.</p>\n<p>My question now is how can I convert this to an image file?</p>\n"},{"tags":["java","android","timeout","android-mediaplayer","crashlytics"],"owner":{"account_id":26362930,"reputation":175,"user_id":20018861,"display_name":"Lechius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666372715,"creation_date":1665350484,"question_id":74008437,"body_markdown":"I have used Firebase Crashlytics and the following ANR error is shown, I would appreciate any help as I have been trying to solve this error for many months ago and now I have added Crashlytics to my app to investigate more what could be generating the ANR error :\r\n\r\n```\r\nmain (native): tid=1 systid=7666 \r\n#00 pc 0x9a4a4 libc.so (__ioctl + 8)\r\n#01 pc 0x6754f libc.so (ioctl + 30)\r\n#02 pc 0x2f1b5 libbinder.so (android::IPCThreadState::talkWithDriver(bool) + 228)\r\n#03 pc 0x2ff39 libbinder.so (android::IPCThreadState::waitForResponse(android::Parcel*, int*) + 36)\r\n#04 pc 0x2fce3 libbinder.so (android::IPCThreadState::transact(int, unsigned int, android::Parcel const&amp;, android::Parcel*, unsigned int) + 134)\r\n#05 pc 0x2a577 libbinder.so (android::BpBinder::transact(unsigned int, android::Parcel const&amp;, android::Parcel*, unsigned int) + 118)\r\n#06 pc 0x4291f libmedia.so (android::BpMediaPlayerService::create(android::sp&lt;android::IMediaPlayerClient&gt; const&amp;, audio_session_t, android::content::AttributionSourceState const&amp;) + 430)\r\n#07 pc 0x38b69 libmedia.so (android::MediaPlayer::setDataSource(int, long long, long long) + 220)\r\n#08 pc 0x50e3f libmedia_jni.so (android_media_MediaPlayer_setDataSourceFD(_JNIEnv*, _jobject*, _jobject*, long long, long long) + 146)\r\n       at android.media.MediaPlayer._setDataSource(MediaPlayer.java)\r\n       at android.media.MediaPlayer.setDataSource(MediaPlayer.java:1354)\r\n       at android.media.MediaPlayer.create(MediaPlayer.java:1047)\r\n       at android.media.MediaPlayer.create(MediaPlayer.java:1015)\r\n       at com.dev.myapp.activityone.playMediaPlayer(activityone.java:65)\r\n       at com.dev.myapp.activityone$15.onFinish(activityone.java:10)\r\n       at android.os.CountDownTimer$1.handleMessage(CountDownTimer.java:142)\r\n       at android.os.Handler.dispatchMessage(Handler.java:106)\r\n       at android.os.Looper.loopOnce(Looper.java:226)\r\n       at android.os.Looper.loop(Looper.java:313)\r\n       at android.app.ActivityThread.main(ActivityThread.java:8751)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n\r\n\r\n\r\n\r\n    public void playMediaPlayer(int id) {\r\n            try {\r\n                if (mediaPlayer != null || mediaPlayer.isPlaying()) {\r\n                    mediaPlayer.release();\r\n                    mediaPlayer = new MediaPlayer();\r\n                }\r\n    \r\n                if (id == 1) {\r\n                    mediaPlayer = MediaPlayer.create(getApplicationContext(), R.raw.sound1);\r\n                } else if (id == 2) {\r\n                    mediaPlayer = MediaPlayer.create(getApplicationContext(), R.raw.sound2);\r\n    \r\n                }\r\n                if (PreferenceData.getSound(getApplicationContext())) {\r\n                    mediaPlayer.start();\r\n                }\r\n            } catch (OutOfMemoryError e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n\r\nThanks for the help","title":"ANR error related with MediaPlayer reported by Firebase Crashlytics","body":"<p>I have used Firebase Crashlytics and the following ANR error is shown, I would appreciate any help as I have been trying to solve this error for many months ago and now I have added Crashlytics to my app to investigate more what could be generating the ANR error :</p>\n<pre><code>main (native): tid=1 systid=7666 \n#00 pc 0x9a4a4 libc.so (__ioctl + 8)\n#01 pc 0x6754f libc.so (ioctl + 30)\n#02 pc 0x2f1b5 libbinder.so (android::IPCThreadState::talkWithDriver(bool) + 228)\n#03 pc 0x2ff39 libbinder.so (android::IPCThreadState::waitForResponse(android::Parcel*, int*) + 36)\n#04 pc 0x2fce3 libbinder.so (android::IPCThreadState::transact(int, unsigned int, android::Parcel const&amp;, android::Parcel*, unsigned int) + 134)\n#05 pc 0x2a577 libbinder.so (android::BpBinder::transact(unsigned int, android::Parcel const&amp;, android::Parcel*, unsigned int) + 118)\n#06 pc 0x4291f libmedia.so (android::BpMediaPlayerService::create(android::sp&lt;android::IMediaPlayerClient&gt; const&amp;, audio_session_t, android::content::AttributionSourceState const&amp;) + 430)\n#07 pc 0x38b69 libmedia.so (android::MediaPlayer::setDataSource(int, long long, long long) + 220)\n#08 pc 0x50e3f libmedia_jni.so (android_media_MediaPlayer_setDataSourceFD(_JNIEnv*, _jobject*, _jobject*, long long, long long) + 146)\n       at android.media.MediaPlayer._setDataSource(MediaPlayer.java)\n       at android.media.MediaPlayer.setDataSource(MediaPlayer.java:1354)\n       at android.media.MediaPlayer.create(MediaPlayer.java:1047)\n       at android.media.MediaPlayer.create(MediaPlayer.java:1015)\n       at com.dev.myapp.activityone.playMediaPlayer(activityone.java:65)\n       at com.dev.myapp.activityone$15.onFinish(activityone.java:10)\n       at android.os.CountDownTimer$1.handleMessage(CountDownTimer.java:142)\n       at android.os.Handler.dispatchMessage(Handler.java:106)\n       at android.os.Looper.loopOnce(Looper.java:226)\n       at android.os.Looper.loop(Looper.java:313)\n       at android.app.ActivityThread.main(ActivityThread.java:8751)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n\n\n\n\n    public void playMediaPlayer(int id) {\n            try {\n                if (mediaPlayer != null || mediaPlayer.isPlaying()) {\n                    mediaPlayer.release();\n                    mediaPlayer = new MediaPlayer();\n                }\n    \n                if (id == 1) {\n                    mediaPlayer = MediaPlayer.create(getApplicationContext(), R.raw.sound1);\n                } else if (id == 2) {\n                    mediaPlayer = MediaPlayer.create(getApplicationContext(), R.raw.sound2);\n    \n                }\n                if (PreferenceData.getSound(getApplicationContext())) {\n                    mediaPlayer.start();\n                }\n            } catch (OutOfMemoryError e) {\n                e.printStackTrace();\n            }\n    \n        }\n\nThanks for the help\n</code></pre>\n"},{"tags":["java","exception","numberformatexception"],"comments":[{"owner":{"account_id":26694784,"reputation":3,"user_id":20302815,"display_name":"kikjoan"},"score":0,"creation_date":1666460339,"post_id":74156683,"comment_id":130944443,"body_markdown":"All other data under index 0 in the spliData does not cause an exception.","body":"All other data under index 0 in the spliData does not cause an exception."}],"answers":[{"tags":[],"owner":{"account_id":22743949,"reputation":70,"user_id":16904968,"display_name":"Hardik Khandelwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666372548,"creation_date":1666372548,"answer_id":74157105,"question_id":74156683,"body_markdown":"The problem lies not with your code but with the input data.\r\n\r\nWas able to replicate your error with this sample input: \r\n&quot;\\&quot;1\\&quot;;FALSE;46200&quot;\r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        String s = &quot;\\&quot;1\\&quot;;FALSE;46200&quot;;\r\n        String[] splitData = s.split(&quot;;&quot;);\r\n        int foo = Integer.parseInt(splitData[0]);\r\n        System.out.println(foo);\r\n        if(splitData[2].equals(&quot;FALSE&quot;)){\r\n            System.out.println(&quot; - FALSE : &quot; + splitData[2]);\r\n        } else {\r\n            System.out.println(&quot; - TRUE : &quot; + splitData[2]);\r\n        }\r\n    }\r\n```\r\n\r\n* It seems you need to pre-process the data to remove &quot; from the start and end of the number string.","title":"NumberFormatException for input string: &quot;1&quot;","body":"<p>The problem lies not with your code but with the input data.</p>\n<p>Was able to replicate your error with this sample input:\n&quot;&quot;1&quot;;FALSE;46200&quot;</p>\n<pre><code>public static void main(String[] args) {\n        String s = &quot;\\&quot;1\\&quot;;FALSE;46200&quot;;\n        String[] splitData = s.split(&quot;;&quot;);\n        int foo = Integer.parseInt(splitData[0]);\n        System.out.println(foo);\n        if(splitData[2].equals(&quot;FALSE&quot;)){\n            System.out.println(&quot; - FALSE : &quot; + splitData[2]);\n        } else {\n            System.out.println(&quot; - TRUE : &quot; + splitData[2]);\n        }\n    }\n</code></pre>\n<ul>\n<li>It seems you need to pre-process the data to remove &quot; from the start and end of the number string.</li>\n</ul>\n"}],"owner":{"account_id":26694784,"reputation":3,"user_id":20302815,"display_name":"kikjoan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":914,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666372548,"creation_date":1666370118,"question_id":74156683,"body_markdown":"**NumberFormatException**\r\nAll values of splitData[0] are numbers. What could be the reason for the error? yearlyData is an ArrayList containing data separated by &quot;;&quot; . Example : 1;FALSE;46200\r\n```\r\nyearlyData.forEach((year, data) -&gt; {\r\n    System.out.println(&quot;Year - &quot; + year);\r\n    for (String s : data){\r\n        String[] splitData = s.split(&quot;;&quot;);\r\n        int foo = Integer.parseInt(splitData[0]);\r\n        System.out.println(foo);\r\n        if(splitData[2].equals(&quot;FALSE&quot;)){\r\n            System.out.println(&quot; - FALSE : &quot; + splitData[2]);\r\n        } else { \r\n            System.out.println(&quot; - TRUE : &quot; + splitData[2]);\r\n        }\r\n    }\r\n});\r\n```\r\nException:\r\n```\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;1&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:668)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n\tat YearlyReport.lambda$report$0(Main.java:166)\r\n\tat java.base/java.util.HashMap.forEach(HashMap.java:1421)\r\n\tat YearlyReport.report(Main.java:161)\r\n\tat CheckData.checkYearFileBeenRead(Main.java:235)\r\n\tat Main.main(Main.java:29)\r\n\r\nProcess finished with exit code 1\r\n```","title":"NumberFormatException for input string: &quot;1&quot;","body":"<p><strong>NumberFormatException</strong>\nAll values of splitData[0] are numbers. What could be the reason for the error? yearlyData is an ArrayList containing data separated by &quot;;&quot; . Example : 1;FALSE;46200</p>\n<pre><code>yearlyData.forEach((year, data) -&gt; {\n    System.out.println(&quot;Year - &quot; + year);\n    for (String s : data){\n        String[] splitData = s.split(&quot;;&quot;);\n        int foo = Integer.parseInt(splitData[0]);\n        System.out.println(foo);\n        if(splitData[2].equals(&quot;FALSE&quot;)){\n            System.out.println(&quot; - FALSE : &quot; + splitData[2]);\n        } else { \n            System.out.println(&quot; - TRUE : &quot; + splitData[2]);\n        }\n    }\n});\n</code></pre>\n<p>Exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;1&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:668)\n    at java.base/java.lang.Integer.parseInt(Integer.java:786)\n    at YearlyReport.lambda$report$0(Main.java:166)\n    at java.base/java.util.HashMap.forEach(HashMap.java:1421)\n    at YearlyReport.report(Main.java:161)\n    at CheckData.checkYearFileBeenRead(Main.java:235)\n    at Main.main(Main.java:29)\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","android","google-maps"],"answers":[{"tags":[],"owner":{"account_id":7200491,"reputation":3987,"user_id":5497874,"display_name":"Nikunj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666372527,"creation_date":1666372527,"answer_id":74157099,"question_id":74156757,"body_markdown":"It&#39;s because somehow before initializing `mMap` from the `onMapReady()`, it called `mMap.clear();`\r\n\r\nTo prevent the crash, make sure to null-check the `mMap` first and then access it. \r\n\r\nFor e.g.\r\n\r\n    if (mMap != null) {\r\n        ...\r\n        mMap.clear();\r\n        mMap.addMarker(...);\r\n        mMap. moveCamera(...);\r\n        ...\r\n    }","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.google.android.gms.maps.GoogleMap.clear()&#39; on a null object reference","body":"<p>It's because somehow before initializing <code>mMap</code> from the <code>onMapReady()</code>, it called <code>mMap.clear();</code></p>\n<p>To prevent the crash, make sure to null-check the <code>mMap</code> first and then access it.</p>\n<p>For e.g.</p>\n<pre><code>if (mMap != null) {\n    ...\n    mMap.clear();\n    mMap.addMarker(...);\n    mMap. moveCamera(...);\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":26694931,"reputation":11,"user_id":20302940,"display_name":"Shane Enriquez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2204,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74157099,"answer_count":1,"score":0,"last_activity_date":1666372527,"creation_date":1666370562,"question_id":74156757,"body_markdown":"When I try to open the Navigation Home the App crashes \r\n[Navigation Home image][1]\r\nI have tried initializing the mMap but the app still crashes. Please help me out\r\n\r\n\r\n My error &gt;\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.google.android.gms.maps.GoogleMap.clear()&#39; on a null object reference\r\n        at com.example.gpshelper.Activity.home$2.onLocationResult(home.java:138)\r\n\r\n\r\nHere&#39;s my Code\r\n\r\n    public class home extends AppCompatActivity implements OnMapReadyCallback, NavigationView.OnNavigationItemSelectedListener {\r\n\r\n        DrawerLayout drawerLayout;\r\n        Toolbar toolbar;\r\n        NavigationView navigationView;\r\n        ActionBarDrawerToggle actionBarDrawerToggle;\r\n        GoogleMap mMap;\r\n        LocationRequest locationRequest;\r\n        FusedLocationProviderClient fusedLocationProviderClient;\r\n        LatLng latLng;\r\n        FirebaseUser firebaseUser;\r\n        FirebaseAuth firebaseAuth;\r\n        TextView header_name, header_email;\r\n        DatabaseReference databaseReference;\r\n        String current_uid;\r\n        AlertDialog.Builder builder;\r\n\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_home);\r\n\r\n            drawerLayout = findViewById(R.id.drawerlayout);\r\n            toolbar = findViewById(R.id.home_toolbar);\r\n            setSupportActionBar(toolbar);\r\n            navigationView = findViewById(R.id.nev_view);\r\n            //navigationView.setNavigationItemSelectedListener(this);\r\n\r\n            actionBarDrawerToggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.app_name,R.string.app_name);\r\n            drawerLayout.addDrawerListener(actionBarDrawerToggle);\r\n            actionBarDrawerToggle.syncState();\r\n\r\n            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n            firebaseAuth = FirebaseAuth.getInstance();\r\n            firebaseUser = firebaseAuth.getCurrentUser();\r\n            current_uid = firebaseUser.getUid();\r\n\r\n            callpermissionlistener();\r\n            update_location();\r\n            dynamicheaderlistener();\r\n        }\r\n\r\n        private void dynamicheaderlistener() {\r\n\r\n            View header = navigationView.getHeaderView(0);\r\n\r\n            header_name = header.findViewById(R.id.header_name_text);\r\n            header_email = header.findViewById(R.id.header_email_text);\r\n\r\n            databaseReference.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    String current_name = dataSnapshot.child(current_uid).child(&quot;firstname&quot;).getValue(String.class);\r\n                    String current_email = dataSnapshot.child(current_uid).child(&quot;email&quot;).getValue(String.class);\r\n\r\n                    String s1 = &quot;Hi &quot;+current_name;\r\n                    header_name.setText(s1);\r\n                    header_email.setText(current_email);\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                }\r\n            });\r\n        }\r\n\r\n        private void update_location() {\r\n            if (ContextCompat.checkSelfPermission(this,Manifest.permission.ACCESS_FINE_LOCATION)== PermissionChecker.PERMISSION_GRANTED &amp;&amp;\r\n            ContextCompat.checkSelfPermission(this,Manifest.permission.ACCESS_COARSE_LOCATION)==PermissionChecker.PERMISSION_GRANTED)\r\n            {\r\n                fusedLocationProviderClient = new FusedLocationProviderClient(this);\r\n                locationRequest = new LocationRequest()\r\n                        .setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY)\r\n                        .setInterval(3000) //update interval\r\n                        .setFastestInterval(5000); //fastest interval\r\n\r\n                fusedLocationProviderClient.requestLocationUpdates(locationRequest, new LocationCallback(){\r\n                    @Override\r\n                    public void onLocationResult(LocationResult locationResult) {\r\n                        if (locationResult != null)\r\n                        {\r\n                            mMap.clear();\r\n                            final double lat = locationResult.getLastLocation().getLatitude();\r\n                            final double log = locationResult.getLastLocation().getLongitude();\r\n                            latLng = new LatLng(lat, log);\r\n                            mMap.addMarker(new MarkerOptions().position(latLng).title(&quot;your current location&quot;));\r\n                            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, 15F));\r\n\r\n                            //update latitude and longitude\r\n                            Map &lt;String, Object&gt; update = new HashMap&lt;&gt;();\r\n                            update.put(&quot;latitude&quot;, lat);\r\n                            update.put(&quot;longitude&quot;, log);\r\n                            databaseReference.child(current_uid).updateChildren(update).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                    //Toast.makeText(home.this, &quot;updated&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        }else {\r\n                            Toast.makeText(home.this,&quot;location not found&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                },getMainLooper());\r\n            }\r\n            else\r\n            {\r\n                callpermissionlistener();\r\n            }\r\n        }\r\n\r\n        private void callpermissionlistener() {\r\n            String[] permissions = {Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION};\r\n            String rationale = &quot;Please provide location permission so that you can ...&quot;;\r\n            Permissions.Options options = new Permissions.Options()\r\n                    .setRationaleDialogTitle(&quot;location permission&quot;)\r\n                    .setSettingsDialogTitle(&quot;warrning&quot;);\r\n\r\n            Permissions.check(this, permissions, rationale, options, new PermissionHandler() {\r\n                @Override\r\n                public void onGranted() {\r\n                    // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n                    SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                            .findFragmentById(R.id.fragment_container);\r\n                    mapFragment.getMapAsync(home.this);\r\n                    update_location();\r\n                }\r\n\r\n                @Override\r\n                public void onDenied(Context context, ArrayList&lt;String&gt; deniedPermissions) {\r\n                    callpermissionlistener();\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public void onBackPressed() {\r\n            if (drawerLayout.isDrawerOpen(GravityCompat.START)){\r\n                drawerLayout.closeDrawer(GravityCompat.START);\r\n            }\r\n            else {\r\n                backpressedwarrning();\r\n            }\r\n            //super.onBackPressed();\r\n        }\r\n        public void backpressedwarrning(){\r\n            builder = new AlertDialog.Builder(home.this);\r\n            builder.setMessage(R.string.dialog_message).setTitle(R.string.dialog_title);\r\n            builder.setMessage(&quot;Do you want to close this application ?&quot;)\r\n                    .setCancelable(false)\r\n                    .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            finish();\r\n                        }\r\n                    })\r\n                    .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            dialog.cancel();\r\n                        }\r\n                    });\r\n            AlertDialog alert = builder.create();\r\n            alert.setTitle(&quot;Exit&quot;);\r\n            alert.show();\r\n        }\r\n\r\n        @Override\r\n        public void onMapReady(GoogleMap googleMap) {\r\n            mMap = googleMap;\r\n\r\n            \r\n           // LatLng sydney = new LatLng(-34, 151);\r\n            //mMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\r\n            //.moveCamera(CameraUpdateFactory.newLatLng(sydney));\r\n        }\r\n\r\n        @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n            switch (menuItem.getItemId()){\r\n                case R.id.nev_home:\r\n                    \r\n                    startActivity(new Intent(home.this, home.class));\r\n                    finish();\r\n                    \r\n                    break;\r\n                case R.id.nev_profile:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                            new profilefagment()).commit();\r\n                    /*getSupportActionBar().setTitle(&quot;profile&quot;);\r\n                    getSupportActionBar().setDisplayHomeAsUpEnabled(true);*/\r\n                    break;\r\n                case R.id.nev_joiningc:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                            new joincirclefragment()).commit();\r\n                    break;\r\n                case R.id.nev_invite:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                            new invitecodefragment()).commit();\r\n                    break;\r\n                case R.id.nev_mycircle:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                            new mycirclefragment()).commit();\r\n                    break;\r\n                case R.id.nev_logout:\r\n\r\n                    firebaseUser = firebaseAuth.getCurrentUser();\r\n                    if (firebaseUser != null)\r\n                    {\r\n                        firebaseAuth.signOut();\r\n                        finish();\r\n                        startActivity(new Intent(home.this, login_screen.class));\r\n                    }\r\n                    break;\r\n            }\r\n            drawerLayout.closeDrawer(GravityCompat.START);\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NT1wV.png","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.google.android.gms.maps.GoogleMap.clear()&#39; on a null object reference","body":"<p>When I try to open the Navigation Home the App crashes\n<a href=\"https://i.stack.imgur.com/NT1wV.png\" rel=\"nofollow noreferrer\">Navigation Home image</a>\nI have tried initializing the mMap but the app still crashes. Please help me out</p>\n<p>My error &gt;\njava.lang.NullPointerException: Attempt to invoke virtual method 'void com.google.android.gms.maps.GoogleMap.clear()' on a null object reference\nat com.example.gpshelper.Activity.home$2.onLocationResult(home.java:138)</p>\n<p>Here's my Code</p>\n<pre><code>public class home extends AppCompatActivity implements OnMapReadyCallback, NavigationView.OnNavigationItemSelectedListener {\n\n    DrawerLayout drawerLayout;\n    Toolbar toolbar;\n    NavigationView navigationView;\n    ActionBarDrawerToggle actionBarDrawerToggle;\n    GoogleMap mMap;\n    LocationRequest locationRequest;\n    FusedLocationProviderClient fusedLocationProviderClient;\n    LatLng latLng;\n    FirebaseUser firebaseUser;\n    FirebaseAuth firebaseAuth;\n    TextView header_name, header_email;\n    DatabaseReference databaseReference;\n    String current_uid;\n    AlertDialog.Builder builder;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n\n        drawerLayout = findViewById(R.id.drawerlayout);\n        toolbar = findViewById(R.id.home_toolbar);\n        setSupportActionBar(toolbar);\n        navigationView = findViewById(R.id.nev_view);\n        //navigationView.setNavigationItemSelectedListener(this);\n\n        actionBarDrawerToggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.app_name,R.string.app_name);\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\n        actionBarDrawerToggle.syncState();\n\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n        firebaseAuth = FirebaseAuth.getInstance();\n        firebaseUser = firebaseAuth.getCurrentUser();\n        current_uid = firebaseUser.getUid();\n\n        callpermissionlistener();\n        update_location();\n        dynamicheaderlistener();\n    }\n\n    private void dynamicheaderlistener() {\n\n        View header = navigationView.getHeaderView(0);\n\n        header_name = header.findViewById(R.id.header_name_text);\n        header_email = header.findViewById(R.id.header_email_text);\n\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                String current_name = dataSnapshot.child(current_uid).child(&quot;firstname&quot;).getValue(String.class);\n                String current_email = dataSnapshot.child(current_uid).child(&quot;email&quot;).getValue(String.class);\n\n                String s1 = &quot;Hi &quot;+current_name;\n                header_name.setText(s1);\n                header_email.setText(current_email);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n            }\n        });\n    }\n\n    private void update_location() {\n        if (ContextCompat.checkSelfPermission(this,Manifest.permission.ACCESS_FINE_LOCATION)== PermissionChecker.PERMISSION_GRANTED &amp;&amp;\n        ContextCompat.checkSelfPermission(this,Manifest.permission.ACCESS_COARSE_LOCATION)==PermissionChecker.PERMISSION_GRANTED)\n        {\n            fusedLocationProviderClient = new FusedLocationProviderClient(this);\n            locationRequest = new LocationRequest()\n                    .setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY)\n                    .setInterval(3000) //update interval\n                    .setFastestInterval(5000); //fastest interval\n\n            fusedLocationProviderClient.requestLocationUpdates(locationRequest, new LocationCallback(){\n                @Override\n                public void onLocationResult(LocationResult locationResult) {\n                    if (locationResult != null)\n                    {\n                        mMap.clear();\n                        final double lat = locationResult.getLastLocation().getLatitude();\n                        final double log = locationResult.getLastLocation().getLongitude();\n                        latLng = new LatLng(lat, log);\n                        mMap.addMarker(new MarkerOptions().position(latLng).title(&quot;your current location&quot;));\n                        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, 15F));\n\n                        //update latitude and longitude\n                        Map &lt;String, Object&gt; update = new HashMap&lt;&gt;();\n                        update.put(&quot;latitude&quot;, lat);\n                        update.put(&quot;longitude&quot;, log);\n                        databaseReference.child(current_uid).updateChildren(update).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                //Toast.makeText(home.this, &quot;updated&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                    }else {\n                        Toast.makeText(home.this,&quot;location not found&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            },getMainLooper());\n        }\n        else\n        {\n            callpermissionlistener();\n        }\n    }\n\n    private void callpermissionlistener() {\n        String[] permissions = {Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION};\n        String rationale = &quot;Please provide location permission so that you can ...&quot;;\n        Permissions.Options options = new Permissions.Options()\n                .setRationaleDialogTitle(&quot;location permission&quot;)\n                .setSettingsDialogTitle(&quot;warrning&quot;);\n\n        Permissions.check(this, permissions, rationale, options, new PermissionHandler() {\n            @Override\n            public void onGranted() {\n                // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n                SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                        .findFragmentById(R.id.fragment_container);\n                mapFragment.getMapAsync(home.this);\n                update_location();\n            }\n\n            @Override\n            public void onDenied(Context context, ArrayList&lt;String&gt; deniedPermissions) {\n                callpermissionlistener();\n            }\n        });\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)){\n            drawerLayout.closeDrawer(GravityCompat.START);\n        }\n        else {\n            backpressedwarrning();\n        }\n        //super.onBackPressed();\n    }\n    public void backpressedwarrning(){\n        builder = new AlertDialog.Builder(home.this);\n        builder.setMessage(R.string.dialog_message).setTitle(R.string.dialog_title);\n        builder.setMessage(&quot;Do you want to close this application ?&quot;)\n                .setCancelable(false)\n                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        finish();\n                    }\n                })\n                .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialog.cancel();\n                    }\n                });\n        AlertDialog alert = builder.create();\n        alert.setTitle(&quot;Exit&quot;);\n        alert.show();\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n\n        \n       // LatLng sydney = new LatLng(-34, 151);\n        //mMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\n        //.moveCamera(CameraUpdateFactory.newLatLng(sydney));\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n        switch (menuItem.getItemId()){\n            case R.id.nev_home:\n                \n                startActivity(new Intent(home.this, home.class));\n                finish();\n                \n                break;\n            case R.id.nev_profile:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                        new profilefagment()).commit();\n                /*getSupportActionBar().setTitle(&quot;profile&quot;);\n                getSupportActionBar().setDisplayHomeAsUpEnabled(true);*/\n                break;\n            case R.id.nev_joiningc:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                        new joincirclefragment()).commit();\n                break;\n            case R.id.nev_invite:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                        new invitecodefragment()).commit();\n                break;\n            case R.id.nev_mycircle:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                        new mycirclefragment()).commit();\n                break;\n            case R.id.nev_logout:\n\n                firebaseUser = firebaseAuth.getCurrentUser();\n                if (firebaseUser != null)\n                {\n                    firebaseAuth.signOut();\n                    finish();\n                    startActivity(new Intent(home.this, login_screen.class));\n                }\n                break;\n        }\n        drawerLayout.closeDrawer(GravityCompat.START);\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666372331,"creation_date":1666372331,"answer_id":74157075,"question_id":74146030,"body_markdown":"Consider to use a `PublishSubscribeChannel` with an `Executor` configuration to let the same message to be sent to different parallel flows. This way you really can continue your main flow with one subscriber and do something else with other subscribers. With an `Executor` all of them are going to be executed in parallel.\r\n\r\nDocs: https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-implementations-publishsubscribechannel\r\n\r\nIf you still insist that main flow must be executed only on the same thread, then consider to use a `RecipientListRouter`, where one of the recipients could be an unconditional next direct channel in a main flow. The other recipient could be conditional on your `boolean` variable and it can be an `ExecutorChannel` to let its subscriber to be invoked in parallel.\r\n\r\nDocs: https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#router-implementations-recipientlistrouter\r\n\r\nFor waiting for both flows it is up to you to decide - `barrier`, an `aggregator` or more sophisticated `scatter-gather`. All of them will work for your &quot;wait-for-all&quot; requirements. Or you may implement some custom solution based on a `CountDownLatch` in some header. So, every time your parallel flow is done, you count it down. And this way you even will be able to determine the number according your boolean value. So, if no parallel, then just `1` and only main flow is going to be executed and only this one is going to count down that latch you are waiting for on original request.","title":"Multithreading in Spring Integration Sending To Different Channels","body":"<p>Consider to use a <code>PublishSubscribeChannel</code> with an <code>Executor</code> configuration to let the same message to be sent to different parallel flows. This way you really can continue your main flow with one subscriber and do something else with other subscribers. With an <code>Executor</code> all of them are going to be executed in parallel.</p>\n<p>Docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-implementations-publishsubscribechannel\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-implementations-publishsubscribechannel</a></p>\n<p>If you still insist that main flow must be executed only on the same thread, then consider to use a <code>RecipientListRouter</code>, where one of the recipients could be an unconditional next direct channel in a main flow. The other recipient could be conditional on your <code>boolean</code> variable and it can be an <code>ExecutorChannel</code> to let its subscriber to be invoked in parallel.</p>\n<p>Docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#router-implementations-recipientlistrouter\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#router-implementations-recipientlistrouter</a></p>\n<p>For waiting for both flows it is up to you to decide - <code>barrier</code>, an <code>aggregator</code> or more sophisticated <code>scatter-gather</code>. All of them will work for your &quot;wait-for-all&quot; requirements. Or you may implement some custom solution based on a <code>CountDownLatch</code> in some header. So, every time your parallel flow is done, you count it down. And this way you even will be able to determine the number according your boolean value. So, if no parallel, then just <code>1</code> and only main flow is going to be executed and only this one is going to count down that latch you are waiting for on original request.</p>\n"}],"owner":{"account_id":7129598,"reputation":872,"user_id":5451356,"accept_rate":73,"display_name":"terrabl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74157075,"answer_count":1,"score":2,"last_activity_date":1666372331,"creation_date":1666298021,"question_id":74146030,"body_markdown":"I&#39;m attempting to implement a spring integration flow that requires a multithreaded call if an input variable in true. If this variable is true then the flow with execute a multithreaded call and the main thread will continue it&#39;s flow. \r\n\r\nThen at the end it will be required to wait for both flows to finish before returning a response. \r\n\r\nI&#39;ve been successful at implementing a multithreaded spring integration flow using a splitter, but the splitter results in all of the messages going to the same channel, this is different since the multithreaded call requires calling a different channel than the main thread of execution. \r\n\r\nIs there a way to set up a splitter to send to different channels based on if the parameter is true or not? Or how would I set up an executor channel to spawn a new thread if that value is true while continuing the main flow at the same time. \r\n\r\nAs for waiting for both of the flows to finish execution would a spring integration barrier or an aggregator be a better approach for this use case? ","title":"Multithreading in Spring Integration Sending To Different Channels","body":"<p>I'm attempting to implement a spring integration flow that requires a multithreaded call if an input variable in true. If this variable is true then the flow with execute a multithreaded call and the main thread will continue it's flow.</p>\n<p>Then at the end it will be required to wait for both flows to finish before returning a response.</p>\n<p>I've been successful at implementing a multithreaded spring integration flow using a splitter, but the splitter results in all of the messages going to the same channel, this is different since the multithreaded call requires calling a different channel than the main thread of execution.</p>\n<p>Is there a way to set up a splitter to send to different channels based on if the parameter is true or not? Or how would I set up an executor channel to spawn a new thread if that value is true while continuing the main flow at the same time.</p>\n<p>As for waiting for both of the flows to finish execution would a spring integration barrier or an aggregator be a better approach for this use case?</p>\n"},{"tags":["java","spring-security","vaadin","vaadin-flow"],"answers":[{"tags":[],"owner":{"account_id":14832147,"reputation":339,"user_id":10711346,"display_name":"Robyn.D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665584937,"creation_date":1665584937,"answer_id":74043582,"question_id":73973746,"body_markdown":"Ok so I found out how to do it.\r\nVaadin has a special way to override the Route Not Found page, which is the target of @RolesAllowed when you do not have the right role (curiously).\r\n\r\nThe Route Not Found error is also used to handle the error when you try to navigate to a route which does not exist.\r\n\r\nSo it is basic, I just had to create a class which extends RouteNotFoundError, and do a forward to my AccessDenied.view\r\n\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import com.vaadin.flow.router.BeforeEnterEvent;\r\n    import com.vaadin.flow.router.ErrorParameter;\r\n    import com.vaadin.flow.router.NotFoundException;\r\n    import com.vaadin.flow.router.RouteNotFoundError;\r\n    \r\n    import project.vaadin.view.AccessDeniedView;\r\n    \r\n    \r\n    public class CustomNotFoundTarget extends RouteNotFoundError {\r\n    \r\n        private static final long serialVersionUID = 3337229943239284836L;\r\n    \r\n        @Override\r\n        public int setErrorParameter(final BeforeEnterEvent event, final ErrorParameter&lt;NotFoundException&gt; parameter) {\r\n            event.forwardTo(AccessDeniedView.class);\r\n            return HttpServletResponse.SC_NOT_FOUND;\r\n        }\r\n    }\r\n\r\nAnd voil&#224;, I didn&#39;t had to modify my HttpSecurity for this. And because my configuration auto redirect to the login view when a user is not logged, I will not encounter this view by mistake for an anonymous user. Perfect in my case.\r\n","title":"Redirect to custom error page from @RolesAllowed","body":"<p>Ok so I found out how to do it.\nVaadin has a special way to override the Route Not Found page, which is the target of @RolesAllowed when you do not have the right role (curiously).</p>\n<p>The Route Not Found error is also used to handle the error when you try to navigate to a route which does not exist.</p>\n<p>So it is basic, I just had to create a class which extends RouteNotFoundError, and do a forward to my AccessDenied.view</p>\n<pre><code>import javax.servlet.http.HttpServletResponse;\n\nimport com.vaadin.flow.router.BeforeEnterEvent;\nimport com.vaadin.flow.router.ErrorParameter;\nimport com.vaadin.flow.router.NotFoundException;\nimport com.vaadin.flow.router.RouteNotFoundError;\n\nimport project.vaadin.view.AccessDeniedView;\n\n\npublic class CustomNotFoundTarget extends RouteNotFoundError {\n\n    private static final long serialVersionUID = 3337229943239284836L;\n\n    @Override\n    public int setErrorParameter(final BeforeEnterEvent event, final ErrorParameter&lt;NotFoundException&gt; parameter) {\n        event.forwardTo(AccessDeniedView.class);\n        return HttpServletResponse.SC_NOT_FOUND;\n    }\n}\n</code></pre>\n<p>And voilà, I didn't had to modify my HttpSecurity for this. And because my configuration auto redirect to the login view when a user is not logged, I will not encounter this view by mistake for an anonymous user. Perfect in my case.</p>\n"},{"tags":[],"owner":{"account_id":9706128,"reputation":116,"user_id":7199529,"display_name":"Daniel Przybylowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666372311,"creation_date":1666372311,"answer_id":74157071,"question_id":73973746,"body_markdown":"I will share my solution, work around. \r\nI was able to return different page for not found and for not authorised / forbidden.\r\n\r\nSpring boot version: 2.7.5\r\n\r\nVaadin version: 23.2.5\r\n\r\nFirst create Annotation.\r\n\r\n    @Documented\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ElementType.TYPE, ElementType.METHOD})\r\n    public @interface RolesPermitted {\r\n        String[] value();\r\n    }\r\n\r\n\r\nAdd the annotation to the view.\r\n\r\n    @Route(&quot;/example&quot;)\r\n    @RolesAllowed(&quot;ADMIN&quot;)\r\n    @RolesPermitted(&quot;ADMIN&quot;)\r\n    public class ExampleView extends VerticalLayout {\r\n    \r\n        public ExampleView() {\r\n            add(new H1(&quot;Example view&quot;));\r\n        }\r\n    \r\n    }\r\n\r\nUnfortunately you will need to keep @RolesAllowed or @PermitAll as well.\r\n\r\nNext implement BeforeEnterListener.\r\n\r\n    @Component\r\n    public class CustomBeforeEnterListener implements BeforeEnterListener {\r\n    \r\n        @Override\r\n        public void beforeEnter(BeforeEnterEvent beforeEnterEvent) {\r\n            RolesPermitted annotation = beforeEnterEvent.getNavigationTarget().getAnnotation(RolesPermitted.class);\r\n    \r\n            if (annotation != null) {\r\n                boolean permitted = false;\r\n                String[] roles = annotation.value();\r\n                Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n                Collection&lt;? extends GrantedAuthority&gt; authorities = authentication.getAuthorities();\r\n    \r\n                for (String role : roles) {\r\n                    String authority = &quot;ROLE_&quot; + role;\r\n    \r\n                    if(authorities.contains(new SimpleGrantedAuthority(authority))) {\r\n                        permitted = true;\r\n                    }\r\n                }\r\n    \r\n                if (!permitted) {\r\n                    throw new AccessDeniedException(&quot;Forbidden&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThen you will need UIInitListener implemented.\r\n\r\n    @Component\r\n    public class CustomUIInitListener implements UIInitListener {\r\n    \r\n        private final CustomBeforeEnterListener customBeforeEnterListener;\r\n    \r\n        public CustomUIInitListener(CustomBeforeEnterListener customBeforeEnterListener) {\r\n            this.customBeforeEnterListener = customBeforeEnterListener;\r\n        }\r\n    \r\n        @Override\r\n        public void uiInit(UIInitEvent uiInitEvent) {\r\n            uiInitEvent.getUI().addBeforeEnterListener(customBeforeEnterListener);\r\n        }\r\n    }\r\n\r\nFinally you need to implement VaadinServiceInitListener.\r\n\r\n    @Component\r\n    public class CustomVaadinServiceInitListener implements VaadinServiceInitListener {\r\n    \r\n        private final CustomUIInitListener customUIInitListener;\r\n    \r\n        public CustomVaadinServiceInitListener(CustomUIInitListener customUIInitListener) {\r\n            this.customUIInitListener = customUIInitListener;\r\n        }\r\n    \r\n        @Override\r\n        public void serviceInit(ServiceInitEvent serviceInitEvent) {\r\n            serviceInitEvent.getSource().addUIInitListener(customUIInitListener);\r\n        }\r\n    }\r\n\r\nThe implementation of BeforeEnterListener will throw AccessDeniedException in case user hasn&#39;t got the required role. In order to catch that you need the following class.\r\n\r\n    @Tag(Tag.DIV)\r\n    @AnonymousAllowed\r\n    @DefaultErrorHandler\r\n    public class AccessDeniedExceptionHandler extends Component implements HasErrorParameter&lt;AccessDeniedException&gt; {\r\n        public AccessDeniedExceptionHandler() {\r\n        }\r\n    \r\n        @Override\r\n        public int setErrorParameter(BeforeEnterEvent event,\r\n                                     ErrorParameter&lt;AccessDeniedException&gt; parameter) {\r\n            getElement().setText(&quot;Tried to navigate to a view without correct access rights&quot;);\r\n            return HttpServletResponse.SC_FORBIDDEN;\r\n        }\r\n    }\r\n\r\nDespite the return statement return HttpServletResponse.SC_FORBIDDEN;\r\nYou might notice that the response code will be 200. It is an open issue in this version of Vaadin.\r\nhttps://github.com/vaadin/flow/issues/13421\r\n\r\nCredits:\r\n\r\nhttps://vaadin.com/docs/latest/routing/exceptions\r\n\r\nhttps://stackoverflow.com/questions/55412807/why-isnt-an-custom-implemented-vaadinserviceinitlistener-is-listening-in-vaadin\r\n","title":"Redirect to custom error page from @RolesAllowed","body":"<p>I will share my solution, work around.\nI was able to return different page for not found and for not authorised / forbidden.</p>\n<p>Spring boot version: 2.7.5</p>\n<p>Vaadin version: 23.2.5</p>\n<p>First create Annotation.</p>\n<pre><code>@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE, ElementType.METHOD})\npublic @interface RolesPermitted {\n    String[] value();\n}\n</code></pre>\n<p>Add the annotation to the view.</p>\n<pre><code>@Route(&quot;/example&quot;)\n@RolesAllowed(&quot;ADMIN&quot;)\n@RolesPermitted(&quot;ADMIN&quot;)\npublic class ExampleView extends VerticalLayout {\n\n    public ExampleView() {\n        add(new H1(&quot;Example view&quot;));\n    }\n\n}\n</code></pre>\n<p>Unfortunately you will need to keep @RolesAllowed or @PermitAll as well.</p>\n<p>Next implement BeforeEnterListener.</p>\n<pre><code>@Component\npublic class CustomBeforeEnterListener implements BeforeEnterListener {\n\n    @Override\n    public void beforeEnter(BeforeEnterEvent beforeEnterEvent) {\n        RolesPermitted annotation = beforeEnterEvent.getNavigationTarget().getAnnotation(RolesPermitted.class);\n\n        if (annotation != null) {\n            boolean permitted = false;\n            String[] roles = annotation.value();\n            Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n            Collection&lt;? extends GrantedAuthority&gt; authorities = authentication.getAuthorities();\n\n            for (String role : roles) {\n                String authority = &quot;ROLE_&quot; + role;\n\n                if(authorities.contains(new SimpleGrantedAuthority(authority))) {\n                    permitted = true;\n                }\n            }\n\n            if (!permitted) {\n                throw new AccessDeniedException(&quot;Forbidden&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then you will need UIInitListener implemented.</p>\n<pre><code>@Component\npublic class CustomUIInitListener implements UIInitListener {\n\n    private final CustomBeforeEnterListener customBeforeEnterListener;\n\n    public CustomUIInitListener(CustomBeforeEnterListener customBeforeEnterListener) {\n        this.customBeforeEnterListener = customBeforeEnterListener;\n    }\n\n    @Override\n    public void uiInit(UIInitEvent uiInitEvent) {\n        uiInitEvent.getUI().addBeforeEnterListener(customBeforeEnterListener);\n    }\n}\n</code></pre>\n<p>Finally you need to implement VaadinServiceInitListener.</p>\n<pre><code>@Component\npublic class CustomVaadinServiceInitListener implements VaadinServiceInitListener {\n\n    private final CustomUIInitListener customUIInitListener;\n\n    public CustomVaadinServiceInitListener(CustomUIInitListener customUIInitListener) {\n        this.customUIInitListener = customUIInitListener;\n    }\n\n    @Override\n    public void serviceInit(ServiceInitEvent serviceInitEvent) {\n        serviceInitEvent.getSource().addUIInitListener(customUIInitListener);\n    }\n}\n</code></pre>\n<p>The implementation of BeforeEnterListener will throw AccessDeniedException in case user hasn't got the required role. In order to catch that you need the following class.</p>\n<pre><code>@Tag(Tag.DIV)\n@AnonymousAllowed\n@DefaultErrorHandler\npublic class AccessDeniedExceptionHandler extends Component implements HasErrorParameter&lt;AccessDeniedException&gt; {\n    public AccessDeniedExceptionHandler() {\n    }\n\n    @Override\n    public int setErrorParameter(BeforeEnterEvent event,\n                                 ErrorParameter&lt;AccessDeniedException&gt; parameter) {\n        getElement().setText(&quot;Tried to navigate to a view without correct access rights&quot;);\n        return HttpServletResponse.SC_FORBIDDEN;\n    }\n}\n</code></pre>\n<p>Despite the return statement return HttpServletResponse.SC_FORBIDDEN;\nYou might notice that the response code will be 200. It is an open issue in this version of Vaadin.\n<a href=\"https://github.com/vaadin/flow/issues/13421\" rel=\"nofollow noreferrer\">https://github.com/vaadin/flow/issues/13421</a></p>\n<p>Credits:</p>\n<p><a href=\"https://vaadin.com/docs/latest/routing/exceptions\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/routing/exceptions</a></p>\n<p><a href=\"https://stackoverflow.com/questions/55412807/why-isnt-an-custom-implemented-vaadinserviceinitlistener-is-listening-in-vaadin\">Why isn&#39;t an custom implemented VaadinServiceInitListener is listening in vaadin 13.0.2?</a></p>\n"}],"owner":{"account_id":14832147,"reputation":339,"user_id":10711346,"display_name":"Robyn.D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74043582,"answer_count":2,"score":1,"last_activity_date":1666372311,"creation_date":1665059039,"question_id":73973746,"body_markdown":"I am using Vaadin 21 and I am trying to handle the error throwed by @RolesAllowed(&quot;myRole&quot;), to redirect the user to a custom error page.\r\n\r\nI tried to implement a custom AccessDeniedHandler and an AuthentificationEntryPoint, but it doesn&#39;t go through them if my user is already connected. \r\n\r\n     /**\r\n         * Require login to access internal pages and configure login form.\r\n         */\r\n        @Override\r\n        protected void configure(final HttpSecurity http) throws Exception {\r\n            http.authorizeRequests()...\r\n                            .and()\r\n                            .exceptionHandling().accessDeniedPage(&quot;/accessDenied&quot;)\r\n    ...\r\n            super.configure(http);\r\n    \r\n            ...\r\n        }\r\n\r\nI ended up on a white view with this error : \r\nCould not navigate to &#39;mypage&#39;\r\n\r\nWith Vaadin DEBUG activated, I have my list of routes, with the reason of the error &quot;Access Denied&quot;.\r\n\r\nFor more informations, my @Configuration class is implementing VaadinWebSecurityConfigurerAdapter.\r\n\r\nAny idea how can I redirect my users if they do no have access to a page protected by @RolesAllowed annotation?\r\n\r\nThank you ","title":"Redirect to custom error page from @RolesAllowed","body":"<p>I am using Vaadin 21 and I am trying to handle the error throwed by @RolesAllowed(&quot;myRole&quot;), to redirect the user to a custom error page.</p>\n<p>I tried to implement a custom AccessDeniedHandler and an AuthentificationEntryPoint, but it doesn't go through them if my user is already connected.</p>\n<pre><code> /**\n     * Require login to access internal pages and configure login form.\n     */\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        http.authorizeRequests()...\n                        .and()\n                        .exceptionHandling().accessDeniedPage(&quot;/accessDenied&quot;)\n...\n        super.configure(http);\n\n        ...\n    }\n</code></pre>\n<p>I ended up on a white view with this error :\nCould not navigate to 'mypage'</p>\n<p>With Vaadin DEBUG activated, I have my list of routes, with the reason of the error &quot;Access Denied&quot;.</p>\n<p>For more informations, my @Configuration class is implementing VaadinWebSecurityConfigurerAdapter.</p>\n<p>Any idea how can I redirect my users if they do no have access to a page protected by @RolesAllowed annotation?</p>\n<p>Thank you</p>\n"},{"tags":["java","logging","log4j"],"answers":[{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1355449198,"creation_date":1355448585,"answer_id":13871375,"question_id":13871337,"body_markdown":"The call to Logger.getLogger is from the log4j api.\r\n\r\n    Logger logger = Logger.getLogger(&quot;com.foo&quot;);\r\n\r\n[Documentation][1]\r\n\r\n\r\n----------\r\n\r\n\r\nThe call to LogFactory.getLog() is from the commons-logging api.\r\n\r\n    Log log = LogFactory.getLog(CLASS.class);\r\n\r\n[Documentation][2]\r\n\r\n\r\n\r\nlog4j is a logging framework, i.e. it provides the code to log messages. Commons-logging is an abstraction layer for logging frameworks, it doesn&#39;t log anything itself.\r\n\r\n  [1]: https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Logger.html\r\n  [2]: http://commons.apache.org/logging/commons-logging-1.1.1/apidocs/org/apache/commons/logging/Log.html","title":"Differences between Log and Logger?","body":"<p>The call to Logger.getLogger is from the log4j api.</p>\n\n<pre><code>Logger logger = Logger.getLogger(\"com.foo\");\n</code></pre>\n\n<p><a href=\"https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Logger.html\">Documentation</a></p>\n\n<hr>\n\n<p>The call to LogFactory.getLog() is from the commons-logging api.</p>\n\n<pre><code>Log log = LogFactory.getLog(CLASS.class);\n</code></pre>\n\n<p><a href=\"http://commons.apache.org/logging/commons-logging-1.1.1/apidocs/org/apache/commons/logging/Log.html\">Documentation</a></p>\n\n<p>log4j is a logging framework, i.e. it provides the code to log messages. Commons-logging is an abstraction layer for logging frameworks, it doesn't log anything itself.</p>\n"},{"tags":[],"owner":{"account_id":107117,"reputation":480,"user_id":973085,"display_name":"Evvo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666371740,"creation_date":1666371740,"answer_id":74156961,"question_id":13871337,"body_markdown":"One way to view it is that the &quot;logger&quot; does the work to write to the log stream/file. (Verb)\r\n\r\nThe &quot;log&quot; is the contents of that stream/file. (Noun)","title":"Differences between Log and Logger?","body":"<p>One way to view it is that the &quot;logger&quot; does the work to write to the log stream/file. (Verb)</p>\n<p>The &quot;log&quot; is the contents of that stream/file. (Noun)</p>\n"}],"owner":{"account_id":888003,"reputation":9435,"user_id":926958,"accept_rate":56,"display_name":"user926958"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8438,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1666371740,"creation_date":1355448171,"question_id":13871337,"body_markdown":"I have seen people use this way:\r\n\r\n    Logger logger = Logger.getLogger(&quot;com.foo&quot;);\r\n\r\nand I have seen the other way:\r\n\r\n    Log log = LogFactory.getLog(CLASS.class);\r\n\r\nWhat&#39;s the differences behind them? Thanks.","title":"Differences between Log and Logger?","body":"<p>I have seen people use this way:</p>\n\n<pre><code>Logger logger = Logger.getLogger(\"com.foo\");\n</code></pre>\n\n<p>and I have seen the other way:</p>\n\n<pre><code>Log log = LogFactory.getLog(CLASS.class);\n</code></pre>\n\n<p>What's the differences behind them? Thanks.</p>\n"},{"tags":["java","queue","apache-kafka"],"comments":[{"owner":{"account_id":1827414,"reputation":319,"user_id":1659746,"accept_rate":36,"display_name":"Yago"},"score":0,"creation_date":1474973973,"post_id":39718975,"comment_id":66743141,"body_markdown":"Consuming the message from windows console , I get a kafka.common.NotLeaderForPartitionException","body":"Consuming the message from windows console , I get a kafka.common.NotLeaderForPartitionException"},{"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1475022898,"post_id":39718975,"comment_id":66770502,"body_markdown":"I am not sure, what the exact problem is... Furthermore, I guess it&#39;s not an error, but just a warning: `WARN 13164`, right?","body":"I am not sure, what the exact problem is... Furthermore, I guess it&#39;s not an error, but just a warning: <code>WARN 13164</code>, right?"},{"owner":{"account_id":1827414,"reputation":319,"user_id":1659746,"accept_rate":36,"display_name":"Yago"},"score":0,"creation_date":1475071274,"post_id":39718975,"comment_id":66795674,"body_markdown":"Yes . it&#39;s not exactly an error . It&#39;s a warning , but the consumer stands without reading any message . On the other hand, when I try to consume the broker from the console, I get kafka.common.NotLeaderForPartitionException . If I use a well stablished topic , I have no error, and this warning doesn&#39;t appear .","body":"Yes . it&#39;s not exactly an error . It&#39;s a warning , but the consumer stands without reading any message . On the other hand, when I try to consume the broker from the console, I get kafka.common.NotLeaderForPartitionException . If I use a well stablished topic , I have no error, and this warning doesn&#39;t appear ."},{"owner":{"account_id":160724,"reputation":1930,"user_id":381004,"accept_rate":89,"display_name":"small_ticket"},"score":0,"creation_date":1480419355,"post_id":39718975,"comment_id":68945087,"body_markdown":"As the warning implies Kafka has not elected a leader yet. This is why you say there is no error in a well-established topic. Create the topic, then use the tool kafka-topics.sh with --describe option. If you see a leader in the output, you won&#39;t get any warnings.","body":"As the warning implies Kafka has not elected a leader yet. This is why you say there is no error in a well-established topic. Create the topic, then use the tool kafka-topics.sh with --describe option. If you see a leader in the output, you won&#39;t get any warnings."}],"answers":[{"tags":[],"owner":{"account_id":1681237,"reputation":1779,"user_id":1545425,"display_name":"Luca Tampellini"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1640203245,"creation_date":1536253368,"answer_id":52209029,"question_id":39718975,"body_markdown":"This happens when trying to produce messages to a topic that doesn&#39;t exist\r\n\r\n**PLEASE NOTE:** In some Kafka installations, the framework can automatically create the topic when it doesn&#39;t exist, that explains why you see the issue only once at the very beginning.\r\n","title":"Apache Kafka LEADER_NOT_AVAILABLE","body":"<p>This happens when trying to produce messages to a topic that doesn't exist</p>\n<p><strong>PLEASE NOTE:</strong> In some Kafka installations, the framework can automatically create the topic when it doesn't exist, that explains why you see the issue only once at the very beginning.</p>\n"},{"tags":[],"owner":{"account_id":8465716,"reputation":164,"user_id":6349941,"display_name":"RajashekharC"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1666371174,"creation_date":1565152013,"answer_id":57386960,"question_id":39718975,"body_markdown":"This error appears when your Topic name doesn&#39;t exist. \r\n\r\nTo list all topics execute following command:\r\n\r\n    kafka-topics --list --zookeeper localhost:2181","title":"Apache Kafka LEADER_NOT_AVAILABLE","body":"<p>This error appears when your Topic name doesn't exist.</p>\n<p>To list all topics execute following command:</p>\n<pre><code>kafka-topics --list --zookeeper localhost:2181\n</code></pre>\n"}],"owner":{"account_id":1827414,"reputation":319,"user_id":1659746,"accept_rate":36,"display_name":"Yago"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23423,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":52209029,"answer_count":2,"score":6,"last_activity_date":1666371174,"creation_date":1474962419,"question_id":39718975,"body_markdown":"I&#39;m running into an issue with apache Kafka that I don&#39;t understand . I subscribe to a topic in my broker called &quot;topic-received&quot; . This is the code : \r\n\r\n    protected String readResponse(final String idMessage) {\r\n        if (props != null) {\r\n            kafkaClient = new KafkaConsumer&lt;&gt;(props);\r\n            logger.debug(&quot;Subscribed to topic-received&quot;);\r\n            kafkaClient.subscribe(Arrays.asList(&quot;topic-received&quot;));\r\n            logger.debug(&quot;Waiting for reading : topic-received&quot;);\r\n            ConsumerRecords&lt;String, String&gt; records =    \r\n                           kafkaClient.poll(kafkaConfig.getRead_timeout());\r\n            \r\n            if (records != null) {\r\n                for (ConsumerRecord&lt;String, String&gt; record : records) {\r\n                    logger.debug(&quot;Resultado devuelto : &quot;+record.value());\r\n                    return record.value();\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n\r\nAs this is happening, I send a message to &quot;topic-received&quot; from another point . The code is the following one : \r\n\r\n\r\n    private void sendMessageToKafkaBroker(String idTopic, String value) {\r\n        Producer&lt;String, String&gt; producer = null;\r\n        try {\r\n            producer = new KafkaProducer&lt;String, String&gt;(mapProperties());\r\n            ProducerRecord&lt;String, String&gt; producerRecord = new \r\n                       ProducerRecord&lt;String, String&gt;(&quot;topic-received&quot;, value);\r\n            producer.send(producerRecord);\r\n            logger.info(&quot;Sended value &quot;+value+&quot; to topic-received&quot;);\r\n        } catch (ExceptionInInitializerError eix) {\r\n            eix.printStackTrace();\r\n        } catch (KafkaException ke) {\r\n            ke.printStackTrace();\r\n        } finally {\r\n            if (producer != null) {\r\n                producer.close();\r\n            }\r\n        }\r\n    }\r\n\r\nFirst time I try , with topic &quot;topic-received&quot;, I get a warning like this \r\n\r\n    &quot;WARN 13164 --- [nio-8085-exec-3] org.apache.kafka.clients.NetworkClient   :  \r\n     Error while fetching metadata with correlation id 1 : {topic-  \r\n     received=LEADER_NOT_AVAILABLE}&quot;\r\n\r\nBut if I try again, to this topic &quot;topic-received&quot;, works ok, and no warning is presented . Anyway, that&#39;s not useful for me, because I have to listen from a topic and send to a topic new each time ( referenced by an String identifier ex: .. 12Erw45-2345Saf-234DASDFasd )\r\n\r\nLooking for LEADER_NOT_AVAILABLE in google , some guys talk about adding to server.properties the next lines : \r\n\r\n    host.name=127.0.0.1\r\n    advertised.port=9092\r\n    advertised.host.name=127.0.0.1\r\n\r\nBut it&#39;s not working for me ( Don&#39;t know why ) . \r\n\r\nI have tried to create the topic before all this process with the following code:\r\n\r\n     private void createTopic(String idTopic) {\r\n        String zookeeperConnect = &quot;localhost:2181&quot;;\r\n        ZkClient zkClient = new ZkClient(zookeeperConnect,10000,10000, \r\n        ZKStringSerializer$.MODULE$);\r\n        ZkUtils zkUtils = new ZkUtils(zkClient, new \r\n        ZkConnection(zookeeperConnect),false);\r\n        if(!AdminUtils.topicExists(zkUtils,idTopic)) {\r\n            AdminUtils.createTopic(zkUtils, idTopic, 2, 1, new Properties(), \r\n        null);\r\n            logger.debug(&quot;Created topic &quot;+idTopic+&quot; by super user&quot;);\r\n        }\r\n        else{\r\n            logger.debug(&quot;topic &quot;+idTopic+&quot; already exists&quot;);\r\n        }\r\n      }\r\n\r\nNo error, but still, it stays listening till the timeout. \r\n\r\nI have reviewed the properties of the broker to check if there&#39;s any help, but I haven&#39;t found anything clear enough . The props that I have used for reading are : \r\n\r\n        props = new Properties();\r\n        props.put(&quot;bootstrap.servers&quot;, kafkaConfig.getBootstrap_servers());\r\n        props.put(&quot;key.deserializer&quot;, kafkaConfig.getKey_deserializer());\r\n        props.put(&quot;value.deserializer&quot;, kafkaConfig.getValue_deserializer());\r\n        props.put(&quot;key.serializer&quot;, kafkaConfig.getKey_serializer());\r\n        props.put(&quot;value.serializer&quot;, kafkaConfig.getValue_serializer());\r\n        props.put(&quot;group.id&quot;,kafkaConfig.getGroupId());\r\n\r\nand , for sending ...\r\n\r\n       Properties props = new Properties();\r\n        props.put(&quot;bootstrap.servers&quot;, kafkaConfig.getHost() + &quot;:&quot; + \r\n        kafkaConfig.getPort());\r\n        props.put(&quot;group.id&quot;, kafkaConfig.getGroup_id());\r\n        props.put(&quot;enable.auto.commit&quot;, kafkaConfig.getEnable_auto_commit());\r\n        props.put(&quot;auto.commit.interval.ms&quot;, \r\n        kafkaConfig.getAuto_commit_interval_ms());\r\n        props.put(&quot;session.timeout.ms&quot;, kafkaConfig.getSession_timeout_ms());\r\n        props.put(&quot;key.deserializer&quot;, kafkaConfig.getKey_deserializer());\r\n        props.put(&quot;value.deserializer&quot;, kafkaConfig.getValue_deserializer());\r\n        props.put(&quot;key.serializer&quot;, kafkaConfig.getKey_serializer());\r\n        props.put(&quot;value.serializer&quot;, kafkaConfig.getValue_serializer());\r\n\r\nAny clue ? Why , the only way that I have to consume messages from the broker and from the topic, is repeating the request after an error ?\r\n\r\nThanks in advance","title":"Apache Kafka LEADER_NOT_AVAILABLE","body":"<p>I'm running into an issue with apache Kafka that I don't understand . I subscribe to a topic in my broker called \"topic-received\" . This is the code : </p>\n\n<pre><code>protected String readResponse(final String idMessage) {\n    if (props != null) {\n        kafkaClient = new KafkaConsumer&lt;&gt;(props);\n        logger.debug(\"Subscribed to topic-received\");\n        kafkaClient.subscribe(Arrays.asList(\"topic-received\"));\n        logger.debug(\"Waiting for reading : topic-received\");\n        ConsumerRecords&lt;String, String&gt; records =    \n                       kafkaClient.poll(kafkaConfig.getRead_timeout());\n\n        if (records != null) {\n            for (ConsumerRecord&lt;String, String&gt; record : records) {\n                logger.debug(\"Resultado devuelto : \"+record.value());\n                return record.value();\n            }\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>As this is happening, I send a message to \"topic-received\" from another point . The code is the following one : </p>\n\n<pre><code>private void sendMessageToKafkaBroker(String idTopic, String value) {\n    Producer&lt;String, String&gt; producer = null;\n    try {\n        producer = new KafkaProducer&lt;String, String&gt;(mapProperties());\n        ProducerRecord&lt;String, String&gt; producerRecord = new \n                   ProducerRecord&lt;String, String&gt;(\"topic-received\", value);\n        producer.send(producerRecord);\n        logger.info(\"Sended value \"+value+\" to topic-received\");\n    } catch (ExceptionInInitializerError eix) {\n        eix.printStackTrace();\n    } catch (KafkaException ke) {\n        ke.printStackTrace();\n    } finally {\n        if (producer != null) {\n            producer.close();\n        }\n    }\n}\n</code></pre>\n\n<p>First time I try , with topic \"topic-received\", I get a warning like this </p>\n\n<pre><code>\"WARN 13164 --- [nio-8085-exec-3] org.apache.kafka.clients.NetworkClient   :  \n Error while fetching metadata with correlation id 1 : {topic-  \n received=LEADER_NOT_AVAILABLE}\"\n</code></pre>\n\n<p>But if I try again, to this topic \"topic-received\", works ok, and no warning is presented . Anyway, that's not useful for me, because I have to listen from a topic and send to a topic new each time ( referenced by an String identifier ex: .. 12Erw45-2345Saf-234DASDFasd )</p>\n\n<p>Looking for LEADER_NOT_AVAILABLE in google , some guys talk about adding to server.properties the next lines : </p>\n\n<pre><code>host.name=127.0.0.1\nadvertised.port=9092\nadvertised.host.name=127.0.0.1\n</code></pre>\n\n<p>But it's not working for me ( Don't know why ) . </p>\n\n<p>I have tried to create the topic before all this process with the following code:</p>\n\n<pre><code> private void createTopic(String idTopic) {\n    String zookeeperConnect = \"localhost:2181\";\n    ZkClient zkClient = new ZkClient(zookeeperConnect,10000,10000, \n    ZKStringSerializer$.MODULE$);\n    ZkUtils zkUtils = new ZkUtils(zkClient, new \n    ZkConnection(zookeeperConnect),false);\n    if(!AdminUtils.topicExists(zkUtils,idTopic)) {\n        AdminUtils.createTopic(zkUtils, idTopic, 2, 1, new Properties(), \n    null);\n        logger.debug(\"Created topic \"+idTopic+\" by super user\");\n    }\n    else{\n        logger.debug(\"topic \"+idTopic+\" already exists\");\n    }\n  }\n</code></pre>\n\n<p>No error, but still, it stays listening till the timeout. </p>\n\n<p>I have reviewed the properties of the broker to check if there's any help, but I haven't found anything clear enough . The props that I have used for reading are : </p>\n\n<pre><code>    props = new Properties();\n    props.put(\"bootstrap.servers\", kafkaConfig.getBootstrap_servers());\n    props.put(\"key.deserializer\", kafkaConfig.getKey_deserializer());\n    props.put(\"value.deserializer\", kafkaConfig.getValue_deserializer());\n    props.put(\"key.serializer\", kafkaConfig.getKey_serializer());\n    props.put(\"value.serializer\", kafkaConfig.getValue_serializer());\n    props.put(\"group.id\",kafkaConfig.getGroupId());\n</code></pre>\n\n<p>and , for sending ...</p>\n\n<pre><code>   Properties props = new Properties();\n    props.put(\"bootstrap.servers\", kafkaConfig.getHost() + \":\" + \n    kafkaConfig.getPort());\n    props.put(\"group.id\", kafkaConfig.getGroup_id());\n    props.put(\"enable.auto.commit\", kafkaConfig.getEnable_auto_commit());\n    props.put(\"auto.commit.interval.ms\", \n    kafkaConfig.getAuto_commit_interval_ms());\n    props.put(\"session.timeout.ms\", kafkaConfig.getSession_timeout_ms());\n    props.put(\"key.deserializer\", kafkaConfig.getKey_deserializer());\n    props.put(\"value.deserializer\", kafkaConfig.getValue_deserializer());\n    props.put(\"key.serializer\", kafkaConfig.getKey_serializer());\n    props.put(\"value.serializer\", kafkaConfig.getValue_serializer());\n</code></pre>\n\n<p>Any clue ? Why , the only way that I have to consume messages from the broker and from the topic, is repeating the request after an error ?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","netty"],"comments":[{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666347357,"post_id":74151782,"comment_id":130920780,"body_markdown":"What libraries are you using in the provided code? i.e what is ByteBuf, etc","body":"What libraries are you using in the provided code? i.e what is ByteBuf, etc"},{"owner":{"account_id":4777529,"reputation":110,"user_id":3860235,"display_name":"Alexander Popov"},"score":0,"creation_date":1666348329,"post_id":74151782,"comment_id":130921091,"body_markdown":"@mrkachariker Netty 4.1.82.Final","body":"@mrkachariker Netty 4.1.82.Final"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666359201,"post_id":74151782,"comment_id":130924817,"body_markdown":"Are you sure that the prefix in the case that its not equal to PING, is not equal to `null`?","body":"Are you sure that the prefix in the case that its not equal to PING, is not equal to <code>null</code>?"}],"answers":[{"tags":[],"owner":{"account_id":4777529,"reputation":110,"user_id":3860235,"display_name":"Alexander Popov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666361486,"creation_date":1666361486,"answer_id":74154957,"question_id":74151782,"body_markdown":"Found the solution by myself. I should send prefix as ByteBuf, not just byte:\r\n\r\n    protected void decode(ChannelHandlerContext ctx, ByteBuf in, List&lt;Object&gt; out) throws Exception {\r\n        byte prefix = in.readByte();\r\n        if (prefix == PING) {\r\n            log.debug(&quot;Ping&quot;);\r\n        } else {\r\n            byte[] buffer = new byte[1];\r\n            buffer[0] = prefix;\r\n            ByteBuf bb = Unpooled.wrappedBuffer(buffer);\r\n            out.add(bb);\r\n            if (in.isReadable()) {\r\n                out.add(in.readBytes(super.actualReadableBytes()));\r\n            }\r\n        }\r\n    }","title":"How to transfer data from first decoder to the second one?","body":"<p>Found the solution by myself. I should send prefix as ByteBuf, not just byte:</p>\n<pre><code>protected void decode(ChannelHandlerContext ctx, ByteBuf in, List&lt;Object&gt; out) throws Exception {\n    byte prefix = in.readByte();\n    if (prefix == PING) {\n        log.debug(&quot;Ping&quot;);\n    } else {\n        byte[] buffer = new byte[1];\n        buffer[0] = prefix;\n        ByteBuf bb = Unpooled.wrappedBuffer(buffer);\n        out.add(bb);\n        if (in.isReadable()) {\n            out.add(in.readBytes(super.actualReadableBytes()));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4777529,"reputation":110,"user_id":3860235,"display_name":"Alexander Popov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74154957,"answer_count":1,"score":0,"last_activity_date":1666371168,"creation_date":1666345529,"question_id":74151782,"body_markdown":"I have to decoders:\r\n1. PingDecoder\r\n2. HandshakeDecoder\r\n\r\nin PingDecoder I read 1 byte, if it is PING byte, I just log it, if it is not I want to transfer all data (with this byte) to the HandshakeDecoder:\r\n\r\n    public class PingDecoder extends ReplayingDecoder&lt;Void&gt; {\r\n      ...\r\n      @Override\r\n      protected void decode(ChannelHandlerContext ctx, ByteBuf in, List&lt;Object&gt; out) throws Exception {\r\n        byte prefix = in.readByte();\r\n        if (prefix == PING) {\r\n            log.debug(&quot;Ping&quot;);\r\n\r\n        } else {\r\n            out.add(prefix);\r\n            out.add(in.readBytes(super.actualReadableBytes()));\r\n        }\r\n      }\r\n    }\r\n\r\nMy problem is that HandshakeDecoder gets data without prefix.","title":"How to transfer data from first decoder to the second one?","body":"<p>I have to decoders:</p>\n<ol>\n<li>PingDecoder</li>\n<li>HandshakeDecoder</li>\n</ol>\n<p>in PingDecoder I read 1 byte, if it is PING byte, I just log it, if it is not I want to transfer all data (with this byte) to the HandshakeDecoder:</p>\n<pre><code>public class PingDecoder extends ReplayingDecoder&lt;Void&gt; {\n  ...\n  @Override\n  protected void decode(ChannelHandlerContext ctx, ByteBuf in, List&lt;Object&gt; out) throws Exception {\n    byte prefix = in.readByte();\n    if (prefix == PING) {\n        log.debug(&quot;Ping&quot;);\n\n    } else {\n        out.add(prefix);\n        out.add(in.readBytes(super.actualReadableBytes()));\n    }\n  }\n}\n</code></pre>\n<p>My problem is that HandshakeDecoder gets data without prefix.</p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":22946,"reputation":30978,"user_id":57095,"accept_rate":85,"display_name":"Alberto Zaccagni"},"score":0,"creation_date":1278316342,"post_id":3177847,"comment_id":3271550,"body_markdown":"Are you sure that it&#39;s `TestFIleAppender` with uppercase I? Also, did you try to print a test message at INFO level?","body":"Are you sure that it&#39;s <code>TestFIleAppender</code> with uppercase I? Also, did you try to print a test message at INFO level?"},{"owner":{"account_id":99700,"reputation":716,"user_id":269154,"accept_rate":50,"display_name":"sreejith"},"score":0,"creation_date":1278316397,"post_id":3177847,"comment_id":3271557,"body_markdown":"yes, info level traces are coming fine","body":"yes, info level traces are coming fine"},{"owner":{"account_id":22946,"reputation":30978,"user_id":57095,"accept_rate":85,"display_name":"Alberto Zaccagni"},"score":0,"creation_date":1278316471,"post_id":3177847,"comment_id":3271565,"body_markdown":"Mh... so i&#39;ts logging right? The problem might be something else if exceptions are not thrown.","body":"Mh... so i&#39;ts logging right? The problem might be something else if exceptions are not thrown."},{"owner":{"account_id":99700,"reputation":716,"user_id":269154,"accept_rate":50,"display_name":"sreejith"},"score":0,"creation_date":1278316773,"post_id":3177847,"comment_id":3271600,"body_markdown":"any known log4j problems like this","body":"any known log4j problems like this"}],"answers":[{"tags":[],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278316342,"creation_date":1278316342,"answer_id":3177866,"question_id":3177847,"body_markdown":"It is difficult to answer, why your logging is stopping.\r\n\r\nFirst, check the hard disk space, whether this is full.\r\n\r\nThan write a testcase in which a thread is polling a logging message of type INFO every second. Than you could check whether this is a space or memory issue.\r\n\r\nPlease notice: When you programm is waiting somewhere and no thread or action is working, you will not see any loging message. Please check, by debugging, whether a code line is executed in a loop (or as you expected to see messages) in which a logging message should be shown.\r\n\r\nThis is an example of my log4j properties file. May be is is helpful:\r\n\r\n    log4j.rootLogger=INFO, stdout, logfile\r\n    \r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d %p (%t) [%c] - %m%n\r\n    \r\n    log4j.appender.logfile=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.logfile.File=C:/log/client.log\r\n    log4j.appender.logfile.MaxFileSize=5MB\r\n    log4j.appender.logfile.MaxBackupIndex=0\r\n    log4j.appender.logfile.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.logfile.layout.ConversionPattern=%d %p [%c] - %m%n","title":"log4j stopped logging to the file,","body":"<p>It is difficult to answer, why your logging is stopping.</p>\n\n<p>First, check the hard disk space, whether this is full.</p>\n\n<p>Than write a testcase in which a thread is polling a logging message of type INFO every second. Than you could check whether this is a space or memory issue.</p>\n\n<p>Please notice: When you programm is waiting somewhere and no thread or action is working, you will not see any loging message. Please check, by debugging, whether a code line is executed in a loop (or as you expected to see messages) in which a logging message should be shown.</p>\n\n<p>This is an example of my log4j properties file. May be is is helpful:</p>\n\n<pre><code>log4j.rootLogger=INFO, stdout, logfile\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d %p (%t) [%c] - %m%n\n\nlog4j.appender.logfile=org.apache.log4j.RollingFileAppender\nlog4j.appender.logfile.File=C:/log/client.log\nlog4j.appender.logfile.MaxFileSize=5MB\nlog4j.appender.logfile.MaxBackupIndex=0\nlog4j.appender.logfile.layout=org.apache.log4j.PatternLayout\nlog4j.appender.logfile.layout.ConversionPattern=%d %p [%c] - %m%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278323005,"creation_date":1278323005,"answer_id":3178501,"question_id":3177847,"body_markdown":"Have you considered the possibility that log4j is still writing to a file, but that file has been unlinked from its parent directory by your custom appender?","title":"log4j stopped logging to the file,","body":"<p>Have you considered the possibility that log4j is still writing to a file, but that file has been unlinked from its parent directory by your custom appender?</p>\n"},{"tags":[],"owner":{"account_id":2063120,"reputation":41,"user_id":1839249,"display_name":"Don V"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1353426614,"creation_date":1353424646,"answer_id":13476265,"question_id":3177847,"body_markdown":"This happened to me. Working one day and then not working the next. I went back and realized I had changed the POM dependencies and did some googling. \r\n\r\nWhen I corrected this issue, my logging returned. I would make sure you have the following artifacts in sync: \r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\nhttp://www.slf4j.org/manual.html\r\n\r\n","title":"log4j stopped logging to the file,","body":"<p>This happened to me. Working one day and then not working the next. I went back and realized I had changed the POM dependencies and did some googling. </p>\n\n<p>When I corrected this issue, my logging returned. I would make sure you have the following artifacts in sync: </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><a href=\"http://www.slf4j.org/manual.html\" rel=\"nofollow\">http://www.slf4j.org/manual.html</a></p>\n"},{"tags":[],"owner":{"account_id":2720760,"reputation":2190,"user_id":2347107,"accept_rate":79,"display_name":"agad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428661163,"creation_date":1428661163,"answer_id":29558940,"question_id":3177847,"body_markdown":"It happened to me after adding *sardine* library to my dependencies. Then, from one of answers here I added *slf4j-log4j12* library to the dependencies and it started to work again.","title":"log4j stopped logging to the file,","body":"<p>It happened to me after adding <em>sardine</em> library to my dependencies. Then, from one of answers here I added <em>slf4j-log4j12</em> library to the dependencies and it started to work again.</p>\n"},{"tags":[],"owner":{"account_id":85074,"reputation":512,"user_id":237425,"accept_rate":43,"display_name":"hannesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447919494,"creation_date":1447919494,"answer_id":33798021,"question_id":3177847,"body_markdown":"Probably a very rare situation, but I once encountered a similar problem that was caused by use of a [Cloner][1]. After cloning an object with log4j logging enabled, the logging just stopped working. The solution was to exclude log4j classes from the cloning with:\r\n\r\n `cloner.dontClone(org.apache.log4j.Logger.class, org.apache.log4j.LogManager.class,)`\r\n\r\n\r\n\r\n\r\n  [1]: https://code.google.com/p/cloning/wiki/Usage","title":"log4j stopped logging to the file,","body":"<p>Probably a very rare situation, but I once encountered a similar problem that was caused by use of a <a href=\"https://code.google.com/p/cloning/wiki/Usage\" rel=\"nofollow\">Cloner</a>. After cloning an object with log4j logging enabled, the logging just stopped working. The solution was to exclude log4j classes from the cloning with:</p>\n\n<p><code>cloner.dontClone(org.apache.log4j.Logger.class, org.apache.log4j.LogManager.class,)</code></p>\n"}],"owner":{"account_id":99700,"reputation":716,"user_id":269154,"accept_rate":50,"display_name":"sreejith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7090,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1666371082,"creation_date":1278316109,"question_id":3177847,"body_markdown":"I am using log4j in my java application, but after some time without throwing any exception it stopped logging\r\n\r\nmy log4j configuration is as below.\r\n\r\n    log4j.rootLogger=INFO,FILE\r\n    log4j.appender.FILE=com.test.TestFIleAppender\r\n    log4j.appender.FILE.MaxFileSize=20MB\r\n    log4j.appender.FILE.MaxBackUpIndex=200\r\n\r\nMy file appender contains some code to do the zip operation and to specify the log file format and all.\r\n\r\nThis was logging fine for some time, but suddenly stopped logging , no exception also thrown\r\n\r\ncan any body tell me what can be the issue?\r\n\r\nany body know any log4j related issues like this?","title":"log4j stopped logging to the file,","body":"<p>I am using log4j in my java application, but after some time without throwing any exception it stopped logging</p>\n\n<p>my log4j configuration is as below.</p>\n\n<pre><code>log4j.rootLogger=INFO,FILE\nlog4j.appender.FILE=com.test.TestFIleAppender\nlog4j.appender.FILE.MaxFileSize=20MB\nlog4j.appender.FILE.MaxBackUpIndex=200\n</code></pre>\n\n<p>My file appender contains some code to do the zip operation and to specify the log file format and all.</p>\n\n<p>This was logging fine for some time, but suddenly stopped logging , no exception also thrown</p>\n\n<p>can any body tell me what can be the issue?</p>\n\n<p>any body know any log4j related issues like this?</p>\n"},{"tags":["java","spring-boot","nullpointerexception","autowired"],"comments":[{"owner":{"account_id":186461,"reputation":13643,"user_id":423868,"accept_rate":65,"display_name":"Georgy Gobozov"},"score":0,"creation_date":1666302834,"post_id":74146553,"comment_id":130911559,"body_markdown":"Are you trying to run Swing + Spring Boot app? Repo -&gt; Service -&gt; Controller it&#39;s a formal model of 3 layered app ( data -&gt; business logic -&gt; web) it&#39;s common for most of the apps but doesn&#39;t have to be this way all the time.","body":"Are you trying to run Swing + Spring Boot app? Repo -&gt; Service -&gt; Controller it&#39;s a formal model of 3 layered app ( data -&gt; business logic -&gt; web) it&#39;s common for most of the apps but doesn&#39;t have to be this way all the time."},{"owner":{"account_id":26528655,"reputation":145,"user_id":20161220,"display_name":"Lacie"},"score":0,"creation_date":1666360485,"post_id":74146553,"comment_id":130925309,"body_markdown":"Yes, I&#39;m trying to run Swing + Spring Boot. At first, the project was intended to run on a browser but then changed to Swing. Does that mean if we don&#39;t need a project to run on the web, I can simply do Repo -&gt; Service (and any Swing, JFreeChart codes are in Service)?","body":"Yes, I&#39;m trying to run Swing + Spring Boot. At first, the project was intended to run on a browser but then changed to Swing. Does that mean if we don&#39;t need a project to run on the web, I can simply do Repo -&gt; Service (and any Swing, JFreeChart codes are in Service)?"},{"owner":{"account_id":186461,"reputation":13643,"user_id":423868,"accept_rate":65,"display_name":"Georgy Gobozov"},"score":1,"creation_date":1666415424,"post_id":74146553,"comment_id":130936777,"body_markdown":"You can ignore web, look example here https://stackoverflow.com/questions/22864008/how-to-configure-spring-boot-with-swing-application","body":"You can ignore web, look example here <a href=\"https://stackoverflow.com/questions/22864008/how-to-configure-spring-boot-with-swing-application\" title=\"how to configure spring boot with swing application\">stackoverflow.com/questions/22864008/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26308422,"reputation":126,"user_id":19972444,"display_name":"Neos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666305896,"creation_date":1666305896,"answer_id":74147053,"question_id":74146553,"body_markdown":"Hello your logService Interface should be annotated with @service then you can verify is it&#39;s not longer null  , or included in your application context . you can explore  all the beans loaded in your application context.","title":"Spring Boot @Autowired null but did not initiate using new","body":"<p>Hello your logService Interface should be annotated with @service then you can verify is it's not longer null  , or included in your application context . you can explore  all the beans loaded in your application context.</p>\n"}],"owner":{"account_id":26528655,"reputation":145,"user_id":20161220,"display_name":"Lacie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666371066,"creation_date":1666301725,"question_id":74146553,"body_markdown":"I have an Entity-Repo-Service Spring Boot framework to simply visualize data in JFreeChart. Admitting that this is a common problem, but I&#39;ve spent too much time reading and trying solutions from the big thread https://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null \r\nthat it may be more efficient to ask for help. I&#39;m still learning Spring Boot, so I must have not understood the solutions thoroughly or overlooked some key points.\r\n\r\nRepo:\r\n```lang-java\r\npackage com.tool.logsview.repository;\r\nimport ...\r\n@Repository\r\n@ComponentScan(basePackages = {&quot;com.tool.logsview&quot;})\r\npublic interface LogRepository extends JpaRepository&lt;Log, Long&gt; {\r\n    @Override\r\n    List&lt;Log&gt; findAll();\r\n    List&lt;Log&gt; findByDept(String dept);\r\n}\r\n\r\n```\r\nService:\r\n```lang-java\r\npackage com.tool.logsview.service;\r\nimport ...\r\n@Service\r\npublic class LogServiceImp implements LogService{\r\n\r\n    @Autowired\r\n    private LogRepository logRepository;\r\n    \r\n    @Override\r\n    public List&lt;Log&gt; findByDept(String dept) {\r\n        return logRepository.findByDept(dept);\r\n    }\r\n}\r\n```\r\nController where I integrate with JFreeChart\r\n```lang-java\r\npackage com.tool.logsview.controller;\r\nimport ...\r\n\r\n@Component\r\n@Configurable\r\n@ComponentScan(basePackages = {&quot;com.tool.logsview&quot;})\r\npublic class GanttChartWithData extends JFrame {\r\n\r\n    @Autowired\r\n    LogServiceImp logServiceImp; // &lt;- null\r\n    \r\n    public GanttChartWithData(final String title) {\r\n        super(title);\r\n        // ...\r\n    }\r\n    private @NotNull IntervalCategoryDataset createDataset() {\r\n        List&lt;Log&gt; demoDept = logServiceImp.findByDept(&quot;Demo&quot;); // &lt;- npe, the only use of logServiceImp in this class\r\n        // ...\r\n    }\r\n\r\n    public static void main(final String[] args) {\r\n    // ... JFreeChart\r\n    }\r\n}\r\n\r\n```\r\n\r\nI tried:\r\n- Use annotation and no `new`\r\n- Add annotations `@Component`/`@Service`/`@Controller` for class `GanttChartWithData`\r\n- [Solution][1] Changing to @Service, then using construction injections.\r\n``` lang-java\r\npackage com.tool.logsview.controller;\r\n\r\nimport ...\r\n\r\n@Service\r\npublic class GanttChartWithData extends JFrame {\r\n\r\n    private static\r\n    LogRepository logRepository;\r\n\r\n    @Autowired\r\n    public GanttChartWithData(final String title, LogRepository logRepository) {\r\n        super(title);\r\n        // ...\r\n        this.logRepository = logRepository;\r\n    }\r\n\r\n    // Creates a sample dataset for a Gantt chart.\r\n    private @NotNull IntervalCategoryDataset createDataset() {\r\n        // ...\r\n        List&lt;Log&gt; demoDept = logRepository.findByDeptAndUsernameOrderByUsernameAsc(&quot;Demo&quot;, &quot;personA&quot;);\r\n    }\r\n\r\n    public static void main(final String[] args) {\r\n        final GanttChartWithData demo = new GanttChartWithData(&quot;Gantt Chart Demo&quot;, logRepository);\r\n    }\r\n\r\n}\r\n\r\n```\r\nNote that this works completely fine, but I don&#39;t want to bring a junk of code to `Application`\r\n``` lang-java\r\n@SpringBootApplication\r\npublic class LogsviewApplication {\r\n@Autowired\r\n\tprivate LogRepository logRepository; // &lt;- not null\r\n...}\r\n```\r\n\r\nAt this point, I&#39;m completely confused. Even to a point that I don&#39;t know why we should go Repo -&gt; Service -&gt; Controller while I used Repo directly and it works fine (In the Application, I used Repo instead of ServiceImplementation).\r\n\r\nAny enlightenment is much appreciated!\r\n\r\n**UPDATE**:\r\n- My use of Application Context following [this guide][2]:\r\n```lang-java\r\npackage com.tool.logsview.misc;\r\nimport ...\r\n\r\n@Controller\r\npublic class Dummy {\r\n    @RequestMapping(&quot;/dummy&quot;)\r\n    @ResponseBody\r\n    public List&lt;Log&gt; dummy() {\r\n        LogServiceImp logServiceImp = ApplicationContextHolder.getContext().getBean(LogServiceImp.class);\r\n        return logServiceImp.fetchLogList();\r\n    }\r\n}\r\n```\r\nThis proves that Application Context works, but I don&#39;t need a web Controller. I want to call logServiceImp for business service. Thus, attempting to change it to\r\n```lang-java\r\npackage com.tool.logsview.misc;\r\nimport ...\r\n\r\n@Service\r\npublic class Dummy {\r\n    public Dummy() { }\r\n    @Autowired\r\n    static LogServiceImp logServiceImp1; // null - the same problem\r\n\r\n    public static void main(String[] args) {\r\n        LogServiceImp logServiceImp = ApplicationContextHolder.getContext().getBean(LogServiceImp.class); // application context but still null\r\n        System.out.println(logServiceImp.fetchLogList());\r\n        System.out.println(logServiceImp1.fetchLogList());\r\n    }\r\n}\r\n```\r\nVery likely misunderstand the whole IOC concept?\r\n\r\nContext if it helps: At first, it was intended to visualize data on a browser, hence the Controller structure, but I switch to JFreeChart java lib to run with Swing, so I don&#39;t need @Controller and @RequestMapping. As @Georgy Gobozov points out, I may not need a Controller. But I do need @Service to do visualizing services.\r\n\r\n  [1]: https://stackoverflow.com/a/40028588/20161220\r\n  [2]: https://github.com/chrylis/spring_autowired_npe_example/tree/working-manual-lookup/spring-autowired-npe/src/main/java/com/chrylis/example/spring_autowired_npe","title":"Spring Boot @Autowired null but did not initiate using new","body":"<p>I have an Entity-Repo-Service Spring Boot framework to simply visualize data in JFreeChart. Admitting that this is a common problem, but I've spent too much time reading and trying solutions from the big thread <a href=\"https://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null\">Why is my Spring @Autowired field null?</a>\nthat it may be more efficient to ask for help. I'm still learning Spring Boot, so I must have not understood the solutions thoroughly or overlooked some key points.</p>\n<p>Repo:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.tool.logsview.repository;\nimport ...\n@Repository\n@ComponentScan(basePackages = {&quot;com.tool.logsview&quot;})\npublic interface LogRepository extends JpaRepository&lt;Log, Long&gt; {\n    @Override\n    List&lt;Log&gt; findAll();\n    List&lt;Log&gt; findByDept(String dept);\n}\n\n</code></pre>\n<p>Service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.tool.logsview.service;\nimport ...\n@Service\npublic class LogServiceImp implements LogService{\n\n    @Autowired\n    private LogRepository logRepository;\n    \n    @Override\n    public List&lt;Log&gt; findByDept(String dept) {\n        return logRepository.findByDept(dept);\n    }\n}\n</code></pre>\n<p>Controller where I integrate with JFreeChart</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.tool.logsview.controller;\nimport ...\n\n@Component\n@Configurable\n@ComponentScan(basePackages = {&quot;com.tool.logsview&quot;})\npublic class GanttChartWithData extends JFrame {\n\n    @Autowired\n    LogServiceImp logServiceImp; // &lt;- null\n    \n    public GanttChartWithData(final String title) {\n        super(title);\n        // ...\n    }\n    private @NotNull IntervalCategoryDataset createDataset() {\n        List&lt;Log&gt; demoDept = logServiceImp.findByDept(&quot;Demo&quot;); // &lt;- npe, the only use of logServiceImp in this class\n        // ...\n    }\n\n    public static void main(final String[] args) {\n    // ... JFreeChart\n    }\n}\n\n</code></pre>\n<p>I tried:</p>\n<ul>\n<li>Use annotation and no <code>new</code></li>\n<li>Add annotations <code>@Component</code>/<code>@Service</code>/<code>@Controller</code> for class <code>GanttChartWithData</code></li>\n<li><a href=\"https://stackoverflow.com/a/40028588/20161220\">Solution</a> Changing to @Service, then using construction injections.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>package com.tool.logsview.controller;\n\nimport ...\n\n@Service\npublic class GanttChartWithData extends JFrame {\n\n    private static\n    LogRepository logRepository;\n\n    @Autowired\n    public GanttChartWithData(final String title, LogRepository logRepository) {\n        super(title);\n        // ...\n        this.logRepository = logRepository;\n    }\n\n    // Creates a sample dataset for a Gantt chart.\n    private @NotNull IntervalCategoryDataset createDataset() {\n        // ...\n        List&lt;Log&gt; demoDept = logRepository.findByDeptAndUsernameOrderByUsernameAsc(&quot;Demo&quot;, &quot;personA&quot;);\n    }\n\n    public static void main(final String[] args) {\n        final GanttChartWithData demo = new GanttChartWithData(&quot;Gantt Chart Demo&quot;, logRepository);\n    }\n\n}\n\n</code></pre>\n<p>Note that this works completely fine, but I don't want to bring a junk of code to <code>Application</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class LogsviewApplication {\n@Autowired\n    private LogRepository logRepository; // &lt;- not null\n...}\n</code></pre>\n<p>At this point, I'm completely confused. Even to a point that I don't know why we should go Repo -&gt; Service -&gt; Controller while I used Repo directly and it works fine (In the Application, I used Repo instead of ServiceImplementation).</p>\n<p>Any enlightenment is much appreciated!</p>\n<p><strong>UPDATE</strong>:</p>\n<ul>\n<li>My use of Application Context following <a href=\"https://github.com/chrylis/spring_autowired_npe_example/tree/working-manual-lookup/spring-autowired-npe/src/main/java/com/chrylis/example/spring_autowired_npe\" rel=\"nofollow noreferrer\">this guide</a>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>package com.tool.logsview.misc;\nimport ...\n\n@Controller\npublic class Dummy {\n    @RequestMapping(&quot;/dummy&quot;)\n    @ResponseBody\n    public List&lt;Log&gt; dummy() {\n        LogServiceImp logServiceImp = ApplicationContextHolder.getContext().getBean(LogServiceImp.class);\n        return logServiceImp.fetchLogList();\n    }\n}\n</code></pre>\n<p>This proves that Application Context works, but I don't need a web Controller. I want to call logServiceImp for business service. Thus, attempting to change it to</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.tool.logsview.misc;\nimport ...\n\n@Service\npublic class Dummy {\n    public Dummy() { }\n    @Autowired\n    static LogServiceImp logServiceImp1; // null - the same problem\n\n    public static void main(String[] args) {\n        LogServiceImp logServiceImp = ApplicationContextHolder.getContext().getBean(LogServiceImp.class); // application context but still null\n        System.out.println(logServiceImp.fetchLogList());\n        System.out.println(logServiceImp1.fetchLogList());\n    }\n}\n</code></pre>\n<p>Very likely misunderstand the whole IOC concept?</p>\n<p>Context if it helps: At first, it was intended to visualize data on a browser, hence the Controller structure, but I switch to JFreeChart java lib to run with Swing, so I don't need @Controller and @RequestMapping. As @Georgy Gobozov points out, I may not need a Controller. But I do need @Service to do visualizing services.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1666364936,"post_id":74155408,"comment_id":130926961,"body_markdown":"`(char) Math.pow(A.get(i), 2)` is squaring the character code at `i`. If you want to square the value the character represents (ex, 2 for &#39;2&#39; and not 50) use `Character.getNumericValue(A.get(i))`.","body":"<code>(char) Math.pow(A.get(i), 2)</code> is squaring the character code at <code>i</code>. If you want to square the value the character represents (ex, 2 for &#39;2&#39; and not 50) use <code>Character.getNumericValue(A.get(i))</code>."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1666365046,"post_id":74155408,"comment_id":130926996,"body_markdown":"Also, `for (int i = 0 ; i&lt;A.size(); i++){` You modify the size of the list when you call `remove()`. You can iterate over the list backwards instead.","body":"Also, <code>for (int i = 0 ; i&lt;A.size(); i++){</code> You modify the size of the list when you call <code>remove()</code>. You can iterate over the list backwards instead."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1666371109,"post_id":74155408,"comment_id":130929140,"body_markdown":"It sounds like you actually want to work with numbers, so why use `ArrayList&lt;Character&gt;` and not a `ArrayList&lt;Integer&gt;`?","body":"It sounds like you actually want to work with numbers, so why use <code>ArrayList&lt;Character&gt;</code> and not a <code>ArrayList&lt;Integer&gt;</code>?"}],"owner":{"account_id":20189484,"reputation":17,"user_id":14808050,"display_name":"angryhorse"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666371057,"creation_date":1666363613,"question_id":74155408,"body_markdown":"I am trying to use an ArrayList of type Character in which I use integers. The code runs without any error but when printing I obtain:\r\n\r\n    [5, 9, 4, 6, 2]\r\n    [5, 9, 7, 6, 2]\r\n    [9, ?, ?, ?]\r\n\r\nThe third array being printed is after a call to method prime.\r\n\r\n    //Write a method which takes an ArrayList of integers and for each element in the list checks \r\n    //primality, if a number is prime remove it from the ArrayList and if it is not set it to its \r\n    squared value.\r\n\r\n    public static boolean isPrime(int n){\r\n        for (int i = 2 ; i &lt; n ; i++) {\r\n            if (n % i == 0) {\r\n                return false; \r\n            }\r\n        }\r\n        return true; \r\n    }\r\n\r\n    public static void prime(ArrayList&lt;Character&gt; A){\r\n        for (int i = 0 ; i&lt;A.size(); i++){\r\n            if (isPrime(A.get(i))){\r\n                A.remove(i);\r\n            } else {\r\n                A.set(i, (char) Math.pow(A.get(i), 2));\r\n            }\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Character&gt; A = new ArrayList&lt;Character&gt;();\r\n        A.add(&#39;5&#39;);\r\n        A.add(&#39;9&#39;);\r\n        A.add(&#39;4&#39;);\r\n        A.add(&#39;6&#39;);\r\n        A.add(&#39;2&#39;);\r\n        A.add(&#39;1&#39;);\r\n        removeChar(A, &#39;1&#39;);\r\n        System.out.println(A);\r\n        replacement(A, &#39;4&#39;, &#39;7&#39;);\r\n        System.out.println(A);\r\n        prime(A);\r\n        System.out.println(A);\r\n    }\r\n\r\n","title":"Java array list printing","body":"<p>I am trying to use an ArrayList of type Character in which I use integers. The code runs without any error but when printing I obtain:</p>\n<pre><code>[5, 9, 4, 6, 2]\n[5, 9, 7, 6, 2]\n[9, ?, ?, ?]\n</code></pre>\n<p>The third array being printed is after a call to method prime.</p>\n<pre><code>//Write a method which takes an ArrayList of integers and for each element in the list checks \n//primality, if a number is prime remove it from the ArrayList and if it is not set it to its \nsquared value.\n\npublic static boolean isPrime(int n){\n    for (int i = 2 ; i &lt; n ; i++) {\n        if (n % i == 0) {\n            return false; \n        }\n    }\n    return true; \n}\n\npublic static void prime(ArrayList&lt;Character&gt; A){\n    for (int i = 0 ; i&lt;A.size(); i++){\n        if (isPrime(A.get(i))){\n            A.remove(i);\n        } else {\n            A.set(i, (char) Math.pow(A.get(i), 2));\n        }\n    }\n}\npublic static void main(String[] args) {\n    ArrayList&lt;Character&gt; A = new ArrayList&lt;Character&gt;();\n    A.add('5');\n    A.add('9');\n    A.add('4');\n    A.add('6');\n    A.add('2');\n    A.add('1');\n    removeChar(A, '1');\n    System.out.println(A);\n    replacement(A, '4', '7');\n    System.out.println(A);\n    prime(A);\n    System.out.println(A);\n}\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1659081800,"post_id":73163378,"comment_id":129215090,"body_markdown":"I&#39;m not sure about the specifics of this inspection, but it seems an incorrect warning to me.","body":"I&#39;m not sure about the specifics of this inspection, but it seems an incorrect warning to me."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1659081824,"post_id":73163378,"comment_id":129215097,"body_markdown":"Do you still get the warning if you use `this.value = other.value.clone();` ?","body":"Do you still get the warning if you use <code>this.value = other.value.clone();</code> ?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1659082044,"post_id":73163378,"comment_id":129215167,"body_markdown":"One of the rare cases where &quot;android-studio&quot; is actually a relevant tag since this is neither a normal Java issue nor a android issue but actually an &quot;issue&quot; with the IDE and its generated warnings.","body":"One of the rare cases where &quot;android-studio&quot; is actually a relevant tag since this is neither a normal Java issue nor a android issue but actually an &quot;issue&quot; with the IDE and its generated warnings."},{"owner":{"account_id":2045726,"reputation":1580,"user_id":1825844,"display_name":"gvmani"},"score":0,"creation_date":1659083494,"post_id":73163378,"comment_id":129215671,"body_markdown":"copyOf method can throw exception, can it be because of that ?","body":"copyOf method can throw exception, can it be because of that ?"},{"owner":{"account_id":20569617,"reputation":128,"user_id":15098230,"display_name":"Frank Burkart"},"score":0,"creation_date":1659083665,"post_id":73163378,"comment_id":129215734,"body_markdown":"@khelwood yes, clone throws the warning, too.","body":"@khelwood yes, clone throws the warning, too."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1659083758,"post_id":73163378,"comment_id":129215767,"body_markdown":"Unless there is any more information available from the warning, it does not seem very helpful","body":"Unless there is any more information available from the warning, it does not seem very helpful"},{"owner":{"account_id":20569617,"reputation":128,"user_id":15098230,"display_name":"Frank Burkart"},"score":0,"creation_date":1659084373,"post_id":73163378,"comment_id":129215976,"body_markdown":"@khelwood Full inspection description is\n`Suspicious assignment in copy constructor of &#39;java.util.Arrays.copyOf(other.value, other.value.length)&#39; to field value \n Inspection info: Reports a warinng if not all fields are assigned correctly in a copy constructor.`","body":"@khelwood Full inspection description is <code>Suspicious assignment in copy constructor of &#39;java.util.Arrays.copyOf(other.value, other.value.length)&#39; to field value   Inspection info: Reports a warinng if not all fields are assigned correctly in a copy constructor.</code>"},{"owner":{"account_id":20569617,"reputation":128,"user_id":15098230,"display_name":"Frank Burkart"},"score":0,"creation_date":1659084520,"post_id":73163378,"comment_id":129216034,"body_markdown":"@gvmani surrounding with exception handler does not remove the warning.","body":"@gvmani surrounding with exception handler does not remove the warning."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1659084724,"post_id":73163378,"comment_id":129216107,"body_markdown":"I wonder what&#39;d happen if you added `else this.value = null`","body":"I wonder what&#39;d happen if you added <code>else this.value = null</code>"},{"owner":{"account_id":20569617,"reputation":128,"user_id":15098230,"display_name":"Frank Burkart"},"score":1,"creation_date":1659085122,"post_id":73163378,"comment_id":129216231,"body_markdown":"@PetrJaneček assignment throws `Suspicious assignment in copy constructor of &#39;null&#39; to field value `","body":"@PetrJaneček assignment throws <code>Suspicious assignment in copy constructor of &#39;null&#39; to field value </code>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1659085185,"post_id":73163378,"comment_id":129216255,"body_markdown":"Does `this.value = (other.value == null) ? null : other.value.clone();` still cause the warning to be emitted? It&#39;s essentially the same as the if-else approach, but perhaps the single LOC would satisfy the inspection. If not, then I suggest you just suppress the warning, as it seems like a false positive to me.","body":"Does <code>this.value = (other.value == null) ? null : other.value.clone();</code> still cause the warning to be emitted? It&#39;s essentially the same as the if-else approach, but perhaps the single LOC would satisfy the inspection. If not, then I suggest you just suppress the warning, as it seems like a false positive to me."},{"owner":{"account_id":20569617,"reputation":128,"user_id":15098230,"display_name":"Frank Burkart"},"score":0,"creation_date":1659086488,"post_id":73163378,"comment_id":129216714,"body_markdown":"@Slaw your suggestion throws warning, too","body":"@Slaw your suggestion throws warning, too"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1659085290,"creation_date":1659084054,"answer_id":73163884,"question_id":73163378,"body_markdown":"It is clearly a false positive.  There is nothing actually wrong with your constructor.\r\n\r\nI think that the code that produced this warning is based on [this code](https://github.com/jkovacs/CopyConstructorPlugin/blob/master/src/de/umass/idea/copyConstructor/inspection/IncompleteCopyConstructorInspection.java).  Note that this is not the real Android Studio code, but there are clues to suggest that Android Studio may have &quot;borrowed&quot; it via some path.\r\n\r\n\r\nIf you look at the `constructorAssignsAllFields` method (line 63), the intent of the code seems to be to look for code bugs where a copy constructor is copying the wrong fields; e.g. something like this:\r\n\r\n    MyClass(MyClass other) {\r\n       this.x = other.x;\r\n       this.y = other.x; // Ooops\r\n    }\r\n\r\nBut the method is not correctly dealing with the case where the copy constructor is transforming one of the fields.\r\n\r\nLooking at the code, you need to write `this.value = ` in a way that makes the checker not realize that it is assigning to a field.  For example, if you used a setter method something like this:\r\n\r\n    public CpuVariable(@NonNull CpuVariable other) {\r\n        super(other);\r\n        this.memoryType = other.memoryType;\r\n        this.value = other.value;  // Dummy\r\n        if (other.value != null) {\r\n            this.setValue(java.util.Arrays.copyOf(other.value, other.value.length));\r\n        }\r\n    }","title":"&quot;Suspicious assignment in copy constructor&quot; for byte[] - What is suspicious?","body":"<p>It is clearly a false positive.  There is nothing actually wrong with your constructor.</p>\n<p>I think that the code that produced this warning is based on <a href=\"https://github.com/jkovacs/CopyConstructorPlugin/blob/master/src/de/umass/idea/copyConstructor/inspection/IncompleteCopyConstructorInspection.java\" rel=\"nofollow noreferrer\">this code</a>.  Note that this is not the real Android Studio code, but there are clues to suggest that Android Studio may have &quot;borrowed&quot; it via some path.</p>\n<p>If you look at the <code>constructorAssignsAllFields</code> method (line 63), the intent of the code seems to be to look for code bugs where a copy constructor is copying the wrong fields; e.g. something like this:</p>\n<pre><code>MyClass(MyClass other) {\n   this.x = other.x;\n   this.y = other.x; // Ooops\n}\n</code></pre>\n<p>But the method is not correctly dealing with the case where the copy constructor is transforming one of the fields.</p>\n<p>Looking at the code, you need to write <code>this.value = </code> in a way that makes the checker not realize that it is assigning to a field.  For example, if you used a setter method something like this:</p>\n<pre><code>public CpuVariable(@NonNull CpuVariable other) {\n    super(other);\n    this.memoryType = other.memoryType;\n    this.value = other.value;  // Dummy\n    if (other.value != null) {\n        this.setValue(java.util.Arrays.copyOf(other.value, other.value.length));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666369918,"creation_date":1666369918,"answer_id":74156652,"question_id":73163378,"body_markdown":"It appears this can also happen if there&#39;s any other problem with the copy constructor, such as if the copy constructor is not copying all fields. I&#39;m also seeing this same error in IntelliJ in that case.","title":"&quot;Suspicious assignment in copy constructor&quot; for byte[] - What is suspicious?","body":"<p>It appears this can also happen if there's any other problem with the copy constructor, such as if the copy constructor is not copying all fields. I'm also seeing this same error in IntelliJ in that case.</p>\n"}],"owner":{"account_id":20569617,"reputation":128,"user_id":15098230,"display_name":"Frank Burkart"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":73163884,"answer_count":2,"score":7,"last_activity_date":1666370749,"creation_date":1659081307,"question_id":73163378,"body_markdown":"I have a copy constructor for class, but Android Studio code inspection throws a warning I don&#39;t understand:\r\n\r\n&gt; Suspicious assignment in copy constructor of\r\n&gt; &#39;java.util.Arrays.copyOf(other.value, other.value.length)&#39; to field\r\n&gt; value\r\n\r\n```\r\npublic class CpuVariable extends BaseIdentifier {\r\n    private int memoryType;\r\n    private byte[] value;\r\n\r\n    public CpuVariable(@NonNull CpuVariable other) {\r\n        super(other);\r\n        this.memoryType = other.memoryType;\r\n        if (other.value != null) {\r\n            this.value = java.util.Arrays.copyOf(other.value, other.value.length);\r\n        }\r\n    }\r\n}\r\n```\r\nChanging code to\r\n```\r\nthis.value = other.value\r\n```\r\nwould remove the warning, but this is not an option since I need to create a deep copy or a clone for the field.\r\n\r\nAm I coding something wrong or is it safe to ignore or suppress the warning?","title":"&quot;Suspicious assignment in copy constructor&quot; for byte[] - What is suspicious?","body":"<p>I have a copy constructor for class, but Android Studio code inspection throws a warning I don't understand:</p>\n<blockquote>\n<p>Suspicious assignment in copy constructor of\n'java.util.Arrays.copyOf(other.value, other.value.length)' to field\nvalue</p>\n</blockquote>\n<pre><code>public class CpuVariable extends BaseIdentifier {\n    private int memoryType;\n    private byte[] value;\n\n    public CpuVariable(@NonNull CpuVariable other) {\n        super(other);\n        this.memoryType = other.memoryType;\n        if (other.value != null) {\n            this.value = java.util.Arrays.copyOf(other.value, other.value.length);\n        }\n    }\n}\n</code></pre>\n<p>Changing code to</p>\n<pre><code>this.value = other.value\n</code></pre>\n<p>would remove the warning, but this is not an option since I need to create a deep copy or a clone for the field.</p>\n<p>Am I coding something wrong or is it safe to ignore or suppress the warning?</p>\n"},{"tags":["java","dynamic-binding","objectinstantiation"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666370700,"post_id":74156718,"comment_id":130929008,"body_markdown":"You can look at `ServiceLoader` and implement this as an SPI, but indirectly you would still be using reflection, just not in your own code.","body":"You can look at <code>ServiceLoader</code> and implement this as an SPI, but indirectly you would still be using reflection, just not in your own code."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1666371840,"post_id":74156718,"comment_id":130929368,"body_markdown":"There&#39;s [`Class.newInstance()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#newInstance--), but type erasure is working against you. You might need to parameterize things with `Class&lt;T&gt;` passed about. You&#39;re asking how to build a car without using an engine. Instantiating things based on runtime knowledge is a pretty good definition of reflection.","body":"There&#39;s <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#newInstance--\" rel=\"nofollow noreferrer\"><code>Class.newInstance()</code></a>, but type erasure is working against you. You might need to parameterize things with <code>Class&lt;T&gt;</code> passed about. You&#39;re asking how to build a car without using an engine. Instantiating things based on runtime knowledge is a pretty good definition of reflection."},{"owner":{"display_name":"user19938273"},"score":0,"creation_date":1666632005,"post_id":74156718,"comment_id":130978224,"body_markdown":"@Gene I was hoping there would be a way to use dynamic binding like you do on overwritten methods. My idea rather was building a car while deciding which engine to use in the process of factoring depending on what the next customer wants. But I understand what you mean.\n\nOverall one could say, what I want isn&#39;t possible with the current state of JDK, right?","body":"@Gene I was hoping there would be a way to use dynamic binding like you do on overwritten methods. My idea rather was building a car while deciding which engine to use in the process of factoring depending on what the next customer wants. But I understand what you mean.  Overall one could say, what I want isn&#39;t possible with the current state of JDK, right?"}],"owner":{"display_name":"user19938273"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666370657,"creation_date":1666370273,"question_id":74156718,"body_markdown":"I&#39;m implementing a board game for two players. Users are able to create their own AIs for the game and add them to the game. These AIs also can implement own, more efficient versions (data structures) of the board to save time when calculating the next move. The `HumanPlayer` and a simple `Board` are implemented by me.\r\n\r\nTo be able to make moves on the different boards from a central `Game` class and check moves in a given `Referee`, all classes which shall interact with the board have to inherit from the abstract class `Actor`.\r\n\r\n```lang-java\r\npublic abstract class Actor&lt;BoardClass extends IBoard&gt; {\r\n\r\n    protected BoardClass board;\r\n    \r\n    public void makeMove(Move move) {\r\n        board.movePiece(move);\r\n    }\r\n}\r\n```\r\n\r\nThe referenced interface `IBoard` has to be implemented by any board used in the program. That way, the game will always be able to inform all registered instances of `Actor` about the made move via following method.\r\n\r\n```lang-java\r\nprivate void informActors(Move move) {\r\n    for (Actor&lt;?&gt; actor : actors) {\r\n        actor.makeMove(move);\r\n    }\r\n}\r\n```\r\n\r\nAll implemented players - including the human player implemented by me - have to inherit from the abstract class `Player` which again has to inherit from the given class `Actor`.\r\n\r\n```lang-java\r\npublic abstract class Player&lt;BoardClass extends IBoard&gt; extends Actor&lt;BoardClass&gt; {\r\n    \r\n    //some game specific code\r\n}\r\n```\r\n\r\nThe `HumanPlayer` now inherits from `Player` and uses my `Board` class as the type that implements `IBoard`.\r\n\r\n```lang-java\r\npublic class HumanPlayer extends Player&lt;Board&gt; {\r\n\r\n    // some game specific code\r\n}\r\n```\r\n\r\nThe exact implementation of my simple `Board` class and the `Referee` class do not matter.\r\n\r\nTo keep redundant code at a minimum, I don&#39;t want to instantiate the implementation of `Board` as the `IBoard` inheriting type in both the `Referee` and the `Player` class, especially since I was able to use interfaces and inherited methods to implement every other &quot;interaction&quot; dynamically.\r\n\r\nSo, to be precise. I am searching for a dynamic way of instantiating an object from a class, which is only known during runtime, but **without using reflection**.\r\n\r\nI had the idea to create a static method in the `IBoard` interface which creates an object of that class and returns it and which gets overwritten by the implementing classes, but since static methods use static binding, they do not get bound dynamically during runtime.\r\n\r\nThe only other option I could think of was reflection, which I don&#39;t want to use.\r\n\r\nI do know I can use\r\n\r\n```lang-java\r\n// replace &#39;ClassConstructor&#39; with &#39;Referee&#39;, &#39;HumanPlayer&#39; or any other class inheriting from &#39;Actor&#39;.\r\n\r\npublic ClassConstructor() {\r\n    this.board = new Board();\r\n}\r\n```\r\n\r\nas the constructor of the `Referee` and the `HumanPlayer`, but again, it&#39;s bothering me to duplicate that line of code when its maybe possible via a better way.\r\n\r\n","title":"Using dynamic binding to create an instance of a class which implements an interface","body":"<p>I'm implementing a board game for two players. Users are able to create their own AIs for the game and add them to the game. These AIs also can implement own, more efficient versions (data structures) of the board to save time when calculating the next move. The <code>HumanPlayer</code> and a simple <code>Board</code> are implemented by me.</p>\n<p>To be able to make moves on the different boards from a central <code>Game</code> class and check moves in a given <code>Referee</code>, all classes which shall interact with the board have to inherit from the abstract class <code>Actor</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Actor&lt;BoardClass extends IBoard&gt; {\n\n    protected BoardClass board;\n    \n    public void makeMove(Move move) {\n        board.movePiece(move);\n    }\n}\n</code></pre>\n<p>The referenced interface <code>IBoard</code> has to be implemented by any board used in the program. That way, the game will always be able to inform all registered instances of <code>Actor</code> about the made move via following method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void informActors(Move move) {\n    for (Actor&lt;?&gt; actor : actors) {\n        actor.makeMove(move);\n    }\n}\n</code></pre>\n<p>All implemented players - including the human player implemented by me - have to inherit from the abstract class <code>Player</code> which again has to inherit from the given class <code>Actor</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Player&lt;BoardClass extends IBoard&gt; extends Actor&lt;BoardClass&gt; {\n    \n    //some game specific code\n}\n</code></pre>\n<p>The <code>HumanPlayer</code> now inherits from <code>Player</code> and uses my <code>Board</code> class as the type that implements <code>IBoard</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HumanPlayer extends Player&lt;Board&gt; {\n\n    // some game specific code\n}\n</code></pre>\n<p>The exact implementation of my simple <code>Board</code> class and the <code>Referee</code> class do not matter.</p>\n<p>To keep redundant code at a minimum, I don't want to instantiate the implementation of <code>Board</code> as the <code>IBoard</code> inheriting type in both the <code>Referee</code> and the <code>Player</code> class, especially since I was able to use interfaces and inherited methods to implement every other &quot;interaction&quot; dynamically.</p>\n<p>So, to be precise. I am searching for a dynamic way of instantiating an object from a class, which is only known during runtime, but <strong>without using reflection</strong>.</p>\n<p>I had the idea to create a static method in the <code>IBoard</code> interface which creates an object of that class and returns it and which gets overwritten by the implementing classes, but since static methods use static binding, they do not get bound dynamically during runtime.</p>\n<p>The only other option I could think of was reflection, which I don't want to use.</p>\n<p>I do know I can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>// replace 'ClassConstructor' with 'Referee', 'HumanPlayer' or any other class inheriting from 'Actor'.\n\npublic ClassConstructor() {\n    this.board = new Board();\n}\n</code></pre>\n<p>as the constructor of the <code>Referee</code> and the <code>HumanPlayer</code>, but again, it's bothering me to duplicate that line of code when its maybe possible via a better way.</p>\n"},{"tags":["java","curl","processbuilder","bearer-token"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1666335031,"post_id":74148984,"comment_id":130916721,"body_markdown":"It would help if you add the full error message or exception.","body":"It would help if you add the full error message or exception."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666376077,"post_id":74148984,"comment_id":130930613,"body_markdown":"I&#39;m wondering why you&#39;re using a third party app at all when the JRE now has quite a powerful http client..?","body":"I&#39;m wondering why you&#39;re using a third party app at all when the JRE now has quite a powerful http client..?"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666369302,"creation_date":1666334946,"answer_id":74149732,"question_id":74148984,"body_markdown":"The parameters passed to `ProcessBuilder` should not need quote characters. Your shell would strip them when passing on the command line to `curl`. Your last parameter has quotes so try without the quotes:\r\n\r\n    &quot;Authorization: Bearer &quot; + bearerToken\r\n    \r\nThe quotes are needed in shell so that it recognises spaces as continuation of a parameter value. They are unnecessary in Java as you can supply a value with spaces in the array of arguments.","title":"Executing curl command with ProcessBuilder and bearer token","body":"<p>The parameters passed to <code>ProcessBuilder</code> should not need quote characters. Your shell would strip them when passing on the command line to <code>curl</code>. Your last parameter has quotes so try without the quotes:</p>\n<pre><code>&quot;Authorization: Bearer &quot; + bearerToken\n</code></pre>\n<p>The quotes are needed in shell so that it recognises spaces as continuation of a parameter value. They are unnecessary in Java as you can supply a value with spaces in the array of arguments.</p>\n"}],"owner":{"account_id":26203229,"reputation":3,"user_id":19883228,"display_name":"SS123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74149732,"answer_count":1,"score":0,"last_activity_date":1666369302,"creation_date":1666328628,"question_id":74148984,"body_markdown":"I am trying to execute a curl PUT request which contains a bearer token for the authorization header, using ProcessBuilder. There is some issue with how ProcessBuilder is parsing the quotes for the header and I can&#39;t figure out how to write the curl command. \r\nThis is the command: \r\n\r\n    curl -H &quot;Authorization: Bearer &lt;token&gt;&quot; -T kubernetes.hpi -X PUT &quot;https://&lt;url&gt;&quot;\r\n\r\nI&#39;ve seen some solutions where not putting quotes was helpful, but in this case the header contains spaces so that doesn&#39;t work for me. For the header, I&#39;ve tried single quotes, escaping double quotes, no quotes, etc. \r\n\r\nI either get a 401 error \r\n\r\n    {\r\n      &quot;errors&quot; : [ {\r\n        &quot;status&quot; : 401,\r\n        &quot;message&quot; : &quot;Unauthorized&quot;\r\n    } ]\r\n\r\nor I get errors from curl\r\n\r\n    curl: (3) URL using bad/illegal format or missing URL\r\n\r\n\r\nHow can I write the command so that it works with ProcessBuilder? The command works in the command line, but I get errors from curl with ProcessBuilder.\r\n\r\n    String deployPath =\r\n        String.format(\r\n            &quot;%s%s/%s_%s/%s.hpi;ID=%s&quot;,\r\n            artifactoryLocalRepoUrl,\r\n            pluginName,\r\n            jenkinsPluginDetail.getPluginVersion(),\r\n            currUTCMillis,\r\n            pluginName,\r\n            jenkinsPluginDetail.getId().toString());\r\n    String[] deployArtifactCmd =\r\n            new String[] {\r\n              &quot;curl&quot;,\r\n              &quot;-T&quot;,\r\n              outputPath,\r\n                    &quot;-X&quot;,\r\n                    &quot;PUT&quot;,\r\n                    deployPath,\r\n                    &quot;-H&quot;,\r\n                    &quot;\\&#39;Authorization: Bearer &quot; + bearerToken + &quot;\\&#39;&quot;\r\n            };\r\n        \r\n        logger.info(&quot; Executing deploying plugin {}&quot;, pluginName);\r\n        ProcessBuilder processBuilder2 =\r\n            new ProcessBuilder().inheritIO().command(deployArtifactCmd).redirectErrorStream(true);\r\n        logger.info(processBuilder2.command().toString());\r\n        try {\r\n           Process process = processBuilder2.start();\r\n           ...\r\n\r\n","title":"Executing curl command with ProcessBuilder and bearer token","body":"<p>I am trying to execute a curl PUT request which contains a bearer token for the authorization header, using ProcessBuilder. There is some issue with how ProcessBuilder is parsing the quotes for the header and I can't figure out how to write the curl command.\nThis is the command:</p>\n<pre><code>curl -H &quot;Authorization: Bearer &lt;token&gt;&quot; -T kubernetes.hpi -X PUT &quot;https://&lt;url&gt;&quot;\n</code></pre>\n<p>I've seen some solutions where not putting quotes was helpful, but in this case the header contains spaces so that doesn't work for me. For the header, I've tried single quotes, escaping double quotes, no quotes, etc.</p>\n<p>I either get a 401 error</p>\n<pre><code>{\n  &quot;errors&quot; : [ {\n    &quot;status&quot; : 401,\n    &quot;message&quot; : &quot;Unauthorized&quot;\n} ]\n</code></pre>\n<p>or I get errors from curl</p>\n<pre><code>curl: (3) URL using bad/illegal format or missing URL\n</code></pre>\n<p>How can I write the command so that it works with ProcessBuilder? The command works in the command line, but I get errors from curl with ProcessBuilder.</p>\n<pre><code>String deployPath =\n    String.format(\n        &quot;%s%s/%s_%s/%s.hpi;ID=%s&quot;,\n        artifactoryLocalRepoUrl,\n        pluginName,\n        jenkinsPluginDetail.getPluginVersion(),\n        currUTCMillis,\n        pluginName,\n        jenkinsPluginDetail.getId().toString());\nString[] deployArtifactCmd =\n        new String[] {\n          &quot;curl&quot;,\n          &quot;-T&quot;,\n          outputPath,\n                &quot;-X&quot;,\n                &quot;PUT&quot;,\n                deployPath,\n                &quot;-H&quot;,\n                &quot;\\'Authorization: Bearer &quot; + bearerToken + &quot;\\'&quot;\n        };\n    \n    logger.info(&quot; Executing deploying plugin {}&quot;, pluginName);\n    ProcessBuilder processBuilder2 =\n        new ProcessBuilder().inheritIO().command(deployArtifactCmd).redirectErrorStream(true);\n    logger.info(processBuilder2.command().toString());\n    try {\n       Process process = processBuilder2.start();\n       ...\n</code></pre>\n"},{"tags":["java","maven","pom.xml","sonarlint"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666369061,"creation_date":1666369061,"answer_id":74156501,"question_id":74156471,"body_markdown":"Maven doesn&#39;t have a concept of a _project_ as a &quot;test project&quot;, only test dependencies. You&#39;ll need to specifically configure SonarLint to disable that rule for the module.","title":"Declare Maven Project as test project","body":"<p>Maven doesn't have a concept of a <em>project</em> as a &quot;test project&quot;, only test dependencies. You'll need to specifically configure SonarLint to disable that rule for the module.</p>\n"}],"owner":{"account_id":8597210,"reputation":1368,"user_id":6439899,"display_name":"Coding thermodynamist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74156501,"answer_count":1,"score":0,"last_activity_date":1666369061,"creation_date":1666368922,"question_id":74156471,"body_markdown":"I have a Maven project with the following structure:\r\n\r\n```\r\n- root\r\n  - pom.xml\r\n  - project1\r\n  - project2\r\n  - tck (test compatibility kit)\r\n    - pom.xml\r\n    - src\r\n      - main\r\n        - java\r\n```\r\n\r\nThe folder `tck` contains a package to test compatibility with requirements and are reused in the tests of project1 and project2 to show that those projects are compliant.\r\n`tck/pom.xml` follows the structure of https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html#the-preferred-way\r\n\r\nThe issue that I have, is that Maven identifies the `tck` package as a regular package with sources files. Indeed, when I open the Module Settings on IntelliJ, for the module `tck` it detects  `src/main/java` as a source folder and not as a test folder.\r\n\r\nIt is an issue as I use SonarLint on my project, and in the `tck` folder, they are tests using asserts. Asserts are not recommended in production code and are spotted by SonarLint. I asked a question on https://community.sonarsource.com/t/sonarlint-running-locally-does-not-catch-parent-pom-xml-rule-exclusion/74764/2, and SonarLint, unlike SonarCloud/Qube, picks its configuration from the Maven project and so if Maven identify it as a source folder and not a test folder, it will report false-positive.\r\n\r\nI was wondering if there was a way to declare it clearly on the maven side that this package is a test-package, in order to avoid have the Sonarlint misconfiguration I presented. (I tried the suggestion from the Sonarsource community to change the pom.xml so that the configuration is corrected for all contributors to the project)\r\n\r\nBest regards,\r\n\r\n\r\n\r\n","title":"Declare Maven Project as test project","body":"<p>I have a Maven project with the following structure:</p>\n<pre><code>- root\n  - pom.xml\n  - project1\n  - project2\n  - tck (test compatibility kit)\n    - pom.xml\n    - src\n      - main\n        - java\n</code></pre>\n<p>The folder <code>tck</code> contains a package to test compatibility with requirements and are reused in the tests of project1 and project2 to show that those projects are compliant.\n<code>tck/pom.xml</code> follows the structure of <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html#the-preferred-way\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html#the-preferred-way</a></p>\n<p>The issue that I have, is that Maven identifies the <code>tck</code> package as a regular package with sources files. Indeed, when I open the Module Settings on IntelliJ, for the module <code>tck</code> it detects  <code>src/main/java</code> as a source folder and not as a test folder.</p>\n<p>It is an issue as I use SonarLint on my project, and in the <code>tck</code> folder, they are tests using asserts. Asserts are not recommended in production code and are spotted by SonarLint. I asked a question on <a href=\"https://community.sonarsource.com/t/sonarlint-running-locally-does-not-catch-parent-pom-xml-rule-exclusion/74764/2\" rel=\"nofollow noreferrer\">https://community.sonarsource.com/t/sonarlint-running-locally-does-not-catch-parent-pom-xml-rule-exclusion/74764/2</a>, and SonarLint, unlike SonarCloud/Qube, picks its configuration from the Maven project and so if Maven identify it as a source folder and not a test folder, it will report false-positive.</p>\n<p>I was wondering if there was a way to declare it clearly on the maven side that this package is a test-package, in order to avoid have the Sonarlint misconfiguration I presented. (I tried the suggestion from the Sonarsource community to change the pom.xml so that the configuration is corrected for all contributors to the project)</p>\n<p>Best regards,</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666361176,"post_id":74154610,"comment_id":130925574,"body_markdown":"You are asking for an opinion, not a solution to a problem.","body":"You are asking for an opinion, not a solution to a problem."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1666368910,"post_id":74154610,"comment_id":130928475,"body_markdown":"I don&#39;t think it&#39;s asking for an opinion. There is certainly a reason the documentation doesn&#39;t recommend what looks like a simpler solution, and they&#39;re asking what that reason might be.","body":"I don&#39;t think it&#39;s asking for an opinion. There is certainly a reason the documentation doesn&#39;t recommend what looks like a simpler solution, and they&#39;re asking what that reason might be."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666368786,"creation_date":1666368786,"answer_id":74156451,"question_id":74154610,"body_markdown":"You must not use callbacks in that way. You are leaking the views to the ViewModel.\r\n\r\nLiveData used in this way is basically a glorified callback that will automatically be cancelled when the Fragment&#39;s view goes out of scope, so it&#39;s easier to use safely on the Fragment, and it avoids leaking the Fragment to the ViewModel. It saves you a lot of boilerplate that would be required to do it safely and without leaking the Fragmet.\r\n\r\n&gt; I always thought this is bad practice since it creates a Livedata object on every login attempt.\r\n\r\nI don&#39;t see what&#39;s bad about that. It&#39;s a lightweight object. Probably lighter weight than most of the Strings you work with in an app.","title":"LiveDataBuilder for one off events","body":"<p>You must not use callbacks in that way. You are leaking the views to the ViewModel.</p>\n<p>LiveData used in this way is basically a glorified callback that will automatically be cancelled when the Fragment's view goes out of scope, so it's easier to use safely on the Fragment, and it avoids leaking the Fragment to the ViewModel. It saves you a lot of boilerplate that would be required to do it safely and without leaking the Fragmet.</p>\n<blockquote>\n<p>I always thought this is bad practice since it creates a Livedata object on every login attempt.</p>\n</blockquote>\n<p>I don't see what's bad about that. It's a lightweight object. Probably lighter weight than most of the Strings you work with in an app.</p>\n"}],"owner":{"account_id":14012431,"reputation":608,"user_id":10120717,"display_name":"tscheppe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74156451,"answer_count":1,"score":0,"last_activity_date":1666368786,"creation_date":1666359977,"question_id":74154610,"body_markdown":"In the Android docs i found [this article about conditional navigation][1] where a login function returns `LiveData` to propagate the signIn result back from the viewmodel to the fragment. I assume the viewModel uses LiveDataBuilder to create the `LiveData`\r\n\r\n    //Fragment\r\n    fun login(username: String, password: String) {\r\n        userViewModel.login(username, password).observe(viewLifecycleOwner, Observer { result -&gt;\r\n            if (result.success) {\r\n                savedStateHandle.set(LOGIN_SUCCESSFUL, true)\r\n                findNavController().popBackStack()\r\n            } else {\r\n                showErrorMessage()\r\n            }\r\n        })\r\n    }\r\n\r\nI assume viewmodel does something like this.\r\n\r\n    fun login(username: String, password: String) = liveData {\r\n       //perform login\r\n    }\r\n\r\nI always thought this is bad practice since it creates a Livedata object on every login attempt. In this case i mostly use another `SingleLiveData` object to post the login result to. I also used callbacks quite often. Something like this:\r\n\r\n    fun login(username: String, password: String) {\r\n        userViewModel.login(username, password, \r\n               onSuccess = {\r\n                  //DO SOMETHING\r\n              }, onError = {\r\n                  //DO SOMETHING\r\n         })\r\n    }\r\n\r\nCan someone explain which is now the best approach and what is the reason the other appraoches should not be used?\r\n\r\n\r\n  [1]: https://developer.android.com/guide/navigation/navigation-conditional","title":"LiveDataBuilder for one off events","body":"<p>In the Android docs i found <a href=\"https://developer.android.com/guide/navigation/navigation-conditional\" rel=\"nofollow noreferrer\">this article about conditional navigation</a> where a login function returns <code>LiveData</code> to propagate the signIn result back from the viewmodel to the fragment. I assume the viewModel uses LiveDataBuilder to create the <code>LiveData</code></p>\n<pre><code>//Fragment\nfun login(username: String, password: String) {\n    userViewModel.login(username, password).observe(viewLifecycleOwner, Observer { result -&gt;\n        if (result.success) {\n            savedStateHandle.set(LOGIN_SUCCESSFUL, true)\n            findNavController().popBackStack()\n        } else {\n            showErrorMessage()\n        }\n    })\n}\n</code></pre>\n<p>I assume viewmodel does something like this.</p>\n<pre><code>fun login(username: String, password: String) = liveData {\n   //perform login\n}\n</code></pre>\n<p>I always thought this is bad practice since it creates a Livedata object on every login attempt. In this case i mostly use another <code>SingleLiveData</code> object to post the login result to. I also used callbacks quite often. Something like this:</p>\n<pre><code>fun login(username: String, password: String) {\n    userViewModel.login(username, password, \n           onSuccess = {\n              //DO SOMETHING\n          }, onError = {\n              //DO SOMETHING\n     })\n}\n</code></pre>\n<p>Can someone explain which is now the best approach and what is the reason the other appraoches should not be used?</p>\n"},{"tags":["spring","javax.validation","java"],"owner":{"account_id":12580633,"reputation":11,"user_id":9151465,"display_name":"Pavel Sk&#225;la"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666368412,"creation_date":1666368303,"question_id":74156344,"body_markdown":"The *ElementType.RECORD_COMPONENT*, when applied to annotation for constructor parameter of a record does not work as I would anticipate.\r\nI have this record:\r\n```\r\npublic record MyRecord (\r\n    MultipartFile document\r\n) {}\r\n```\r\n\r\n\r\nI want to ensure that *document* is file type *application/pdf*.\r\nSo I created the annotation:\r\n\r\n```\r\n@Documented\r\n@Target({ElementType.RECORD_COMPONENT})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = PdfValidator.class)\r\npublic @interface ValidPdf {\r\n    String message() default &quot;MultipartFile must be application/pdf type&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\nthe validator:\r\n```\r\npublic class PdfValidator implements ConstraintValidator&lt;ValidPdf, MultipartFile&gt; {\r\n    @Override\r\n    public boolean isValid(MultipartFile file, ConstraintValidatorContext context) {\r\n        if (file == null) {\r\n            return false;\r\n        }\r\n        return &quot;application/pdf&quot;.equals(file.getContentType());\r\n    }\r\n}\r\n```\r\nand applied it to the record:\r\n```\r\npublic record MyRecord (\r\n    @ValidPdf\r\n    MultipartFile document\r\n) {}\r\n```\r\nThis however doesn&#39;t work, the validator is never called. After a few tries I managed to make it work by changing the *@Target* in *PdfValid* interface from RECORD_COMPONENT to FIELD.\r\n```\r\n@Documented\r\n@Target({ElementType.FIELD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = PdfValidator.class)\r\npublic @interface ValidPdf {\r\n    String message() default &quot;MultipartFile must be application/pdf type&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\nNow it works. But why? Isn&#39;t document in MyRecord literally a record component? Why is FIELD the correct value here?","title":"Annotation for validating a parameter in a record constructor is not working when @Target is specified as RECORD_COMPONENT","body":"<p>The <em>ElementType.RECORD_COMPONENT</em>, when applied to annotation for constructor parameter of a record does not work as I would anticipate.\nI have this record:</p>\n<pre><code>public record MyRecord (\n    MultipartFile document\n) {}\n</code></pre>\n<p>I want to ensure that <em>document</em> is file type <em>application/pdf</em>.\nSo I created the annotation:</p>\n<pre><code>@Documented\n@Target({ElementType.RECORD_COMPONENT})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = PdfValidator.class)\npublic @interface ValidPdf {\n    String message() default &quot;MultipartFile must be application/pdf type&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>the validator:</p>\n<pre><code>public class PdfValidator implements ConstraintValidator&lt;ValidPdf, MultipartFile&gt; {\n    @Override\n    public boolean isValid(MultipartFile file, ConstraintValidatorContext context) {\n        if (file == null) {\n            return false;\n        }\n        return &quot;application/pdf&quot;.equals(file.getContentType());\n    }\n}\n</code></pre>\n<p>and applied it to the record:</p>\n<pre><code>public record MyRecord (\n    @ValidPdf\n    MultipartFile document\n) {}\n</code></pre>\n<p>This however doesn't work, the validator is never called. After a few tries I managed to make it work by changing the <em>@Target</em> in <em>PdfValid</em> interface from RECORD_COMPONENT to FIELD.</p>\n<pre><code>@Documented\n@Target({ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = PdfValidator.class)\npublic @interface ValidPdf {\n    String message() default &quot;MultipartFile must be application/pdf type&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>Now it works. But why? Isn't document in MyRecord literally a record component? Why is FIELD the correct value here?</p>\n"},{"tags":["java","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":25480289,"reputation":17,"user_id":19276770,"display_name":"Matrix4f"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666367725,"creation_date":1666367626,"answer_id":74156224,"question_id":74152247,"body_markdown":"Solved it!\r\n\r\nThe Problem was apparently that I was trying to Update the window and then Render stuff.\r\n\r\nNow its first\r\n```\r\nglClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\r\nshader.bind();\r\nmesh.render();\r\nshader.unbind();\r\n```\r\nand then \r\n```\r\n glfwPollEvents();\r\n```\r\nI also Upgraded to JDK-19, but I don&#39;t think that has made any difference.","title":"Java 17: EXCEPTION_ACCESS_VIOLATION","body":"<p>Solved it!</p>\n<p>The Problem was apparently that I was trying to Update the window and then Render stuff.</p>\n<p>Now its first</p>\n<pre><code>glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\nshader.bind();\nmesh.render();\nshader.unbind();\n</code></pre>\n<p>and then</p>\n<pre><code> glfwPollEvents();\n</code></pre>\n<p>I also Upgraded to JDK-19, but I don't think that has made any difference.</p>\n"}],"owner":{"account_id":25480289,"reputation":17,"user_id":19276770,"display_name":"Matrix4f"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":562,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666367806,"creation_date":1666347902,"question_id":74152247,"body_markdown":"I am trying to Code my own little Game Engine, using **LWJGL**. So I got my Test &quot;Game&quot; running and decided to clean it up a bit by moving some code around, it all worked until I moved the actual Game Code to another Class. There were no Compilation Errors, but after running it, I got this: \r\n\r\n\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffd5363cde9, pid=42452, tid=9012\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment (17.0.2+8) (build 17.0.2+8-LTS-86)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (17.0.2+8-LTS-86, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n# Problematic frame:\r\n# C  [nvoglv64.dll+0xcdcde9]\r\n#\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n#\r\n# An error report file with more information is saved as:\r\n# C:\\Users\\[my-name]\\Aspect\\hs_err_pid42452.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://bugreport.java.com/bugreport/crash.jsp\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n#\r\n```\r\n\r\n**hs_err_pid42452.log :**\r\n\r\nI uploaded the log file to github because of the post character limit: https://github.com/mat4f/aspect/blob/main/hs_err_pid42452.log\r\n\r\n\r\nI have no clue what any of that means. Does someone know what the Problem is? \r\n\r\nI Uploaded the Source Code to github:\r\nhttps://github.com/mat4f/aspect/tree/main/Aspect%20-%20The%20Broken%20One\r\n\r\nI also did some debuging and the line it crashes is:\r\n\r\n```java\r\nglDrawElements(GL_TRIANGLES, vertices.length, GL_UNSIGNED_INT, 0);\r\n```","title":"Java 17: EXCEPTION_ACCESS_VIOLATION","body":"<p>I am trying to Code my own little Game Engine, using <strong>LWJGL</strong>. So I got my Test &quot;Game&quot; running and decided to clean it up a bit by moving some code around, it all worked until I moved the actual Game Code to another Class. There were no Compilation Errors, but after running it, I got this:</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffd5363cde9, pid=42452, tid=9012\n#\n# JRE version: Java(TM) SE Runtime Environment (17.0.2+8) (build 17.0.2+8-LTS-86)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (17.0.2+8-LTS-86, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# Problematic frame:\n# C  [nvoglv64.dll+0xcdcde9]\n#\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n# An error report file with more information is saved as:\n# C:\\Users\\[my-name]\\Aspect\\hs_err_pid42452.log\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n</code></pre>\n<p><strong>hs_err_pid42452.log :</strong></p>\n<p>I uploaded the log file to github because of the post character limit: <a href=\"https://github.com/mat4f/aspect/blob/main/hs_err_pid42452.log\" rel=\"nofollow noreferrer\">https://github.com/mat4f/aspect/blob/main/hs_err_pid42452.log</a></p>\n<p>I have no clue what any of that means. Does someone know what the Problem is?</p>\n<p>I Uploaded the Source Code to github:\n<a href=\"https://github.com/mat4f/aspect/tree/main/Aspect%20-%20The%20Broken%20One\" rel=\"nofollow noreferrer\">https://github.com/mat4f/aspect/tree/main/Aspect%20-%20The%20Broken%20One</a></p>\n<p>I also did some debuging and the line it crashes is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>glDrawElements(GL_TRIANGLES, vertices.length, GL_UNSIGNED_INT, 0);\n</code></pre>\n"},{"tags":["java","json","jackson","akka"],"comments":[{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":1,"creation_date":1666265132,"post_id":74138564,"comment_id":130897795,"body_markdown":"You claim you understand the error message; how about the part `no Creators, like default constructor, exist`?","body":"You claim you understand the error message; how about the part <code>no Creators, like default constructor, exist</code>?"},{"owner":{"account_id":1792694,"reputation":2334,"user_id":1632752,"accept_rate":60,"display_name":"gervais.b"},"score":0,"creation_date":1666276536,"post_id":74138564,"comment_id":130902696,"body_markdown":"@Thomas as said, the example in https://doc.akka.io/docs/akka/current/serialization-jackson.html#usage looks similar to my use case. They also have one message without any default constructor.","body":"@Thomas as said, the example in <a href=\"https://doc.akka.io/docs/akka/current/serialization-jackson.html#usage\" rel=\"nofollow noreferrer\">doc.akka.io/docs/akka/current/serialization-jackson.html#usa&zwnj;&#8203;ge</a> looks similar to my use case. They also have one message without any default constructor."},{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1666287748,"post_id":74138564,"comment_id":130907094,"body_markdown":"Does this answer your question? [No Creators Exist: Cannot Deserialize](https://stackoverflow.com/questions/70690443/no-creators-exist-cannot-deserialize)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70690443/no-creators-exist-cannot-deserialize\">No Creators Exist: Cannot Deserialize</a>"},{"owner":{"account_id":1792694,"reputation":2334,"user_id":1632752,"accept_rate":60,"display_name":"gervais.b"},"score":0,"creation_date":1666296158,"post_id":74138564,"comment_id":130909749,"body_markdown":"I&#39;am afraid but no. I guess my question is not clear enough. I understand the cause and how to solve the deserialisation issue. However, I do not understand why Akka say it should work without annotations. Are they wrong in the doc or am I missing something to have the result that they describe .","body":"I&#39;am afraid but no. I guess my question is not clear enough. I understand the cause and how to solve the deserialisation issue. However, I do not understand why Akka say it should work without annotations. Are they wrong in the doc or am I missing something to have the result that they describe ."},{"owner":{"account_id":1260777,"reputation":11299,"user_id":1219125,"display_name":"johanandren"},"score":0,"creation_date":1667988160,"post_id":74138564,"comment_id":131296981,"body_markdown":"Did you add the -parameters compiler option to your build as mentioned in the end of the referenced doc section? I think that could potentially avoid the need for creator annotations.","body":"Did you add the -parameters compiler option to your build as mentioned in the end of the referenced doc section? I think that could potentially avoid the need for creator annotations."}],"answers":[{"tags":[],"owner":{"account_id":3432122,"reputation":1207,"user_id":2876231,"display_name":"Jos&#233; Gonz&#225;lez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666367716,"creation_date":1666358229,"answer_id":74154230,"question_id":74138564,"body_markdown":"**TL;DR**: Are you using Scala 3.x? Try using Scala 2.13.x\r\n\r\nI don&#39;t know if this is your case, but I had a similar error and finally got the culprit: I was trying to use Akka + Akka HTTP + Persistent actors (with event sourcing). As Akka HTTP doesn&#39;t yet have a Scala 3.x version I had to include all these dependencies using `CrossVersion`:\r\n```scala\r\n  libraryDependencies ++= {\r\n    ... // versions\r\n    Seq(\r\n      &quot;com.typesafe.akka&quot;  %% &quot;akka-http&quot;                   % akkaHttpVersion,\r\n      &quot;com.typesafe.akka&quot;  %% &quot;akka-http-spray-json&quot;        % akkaHttpVersion,\r\n      &quot;com.typesafe.akka&quot;  %% &quot;akka-actor-typed&quot;            % akkaVersion,\r\n      ... // you already get it\r\n    ).map(_.cross(CrossVersion.for3Use2_13)) ++ Seq(\r\n      ... // other dependencies\r\n    )\r\n```\r\nAs I guessed this could be causing the problem I migrated my code to Scala 2.13.x, after that it worked without any problem. &#128553;","title":"Akka, Jackson cannot deserialise &quot;ordinary classes&quot;","body":"<p><strong>TL;DR</strong>: Are you using Scala 3.x? Try using Scala 2.13.x</p>\n<p>I don't know if this is your case, but I had a similar error and finally got the culprit: I was trying to use Akka + Akka HTTP + Persistent actors (with event sourcing). As Akka HTTP doesn't yet have a Scala 3.x version I had to include all these dependencies using <code>CrossVersion</code>:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>  libraryDependencies ++= {\n    ... // versions\n    Seq(\n      &quot;com.typesafe.akka&quot;  %% &quot;akka-http&quot;                   % akkaHttpVersion,\n      &quot;com.typesafe.akka&quot;  %% &quot;akka-http-spray-json&quot;        % akkaHttpVersion,\n      &quot;com.typesafe.akka&quot;  %% &quot;akka-actor-typed&quot;            % akkaVersion,\n      ... // you already get it\n    ).map(_.cross(CrossVersion.for3Use2_13)) ++ Seq(\n      ... // other dependencies\n    )\n</code></pre>\n<p>As I guessed this could be causing the problem I migrated my code to Scala 2.13.x, after that it worked without any problem. 😩</p>\n"}],"owner":{"account_id":1792694,"reputation":2334,"user_id":1632752,"accept_rate":60,"display_name":"gervais.b"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666367716,"creation_date":1666262705,"question_id":74138564,"body_markdown":"Trying to deserialize my actor commands via the out of the box `jackson-json` serialiser. I am able to get the expected result with a lot of annotation while it should be much easier:\r\n\r\n&gt; In many cases ordinary classes can be serialized by Jackson without any additional hints, but sometimes annotations are needed to specify how to convert the objects to JSON/bytes.\r\n&gt;\r\n&gt; -- https://doc.akka.io/docs/akka/current/serialization-jackson.html#introduction\r\n\r\n---\r\n\r\nThe example is similar to my use case. However, if I do not put all annotations on my command, the serialisation fail.\r\n\r\n\r\n+ Class file (Java)\r\n\r\n```\r\n\r\n    package org.example;\r\n\r\n    // ...\r\n\r\n    class ExampleAR extends EventSourcedBehaviorWithEnforcedReplies&lt;ExampleAR.Command, ExampleAR.Event, ExampleAR.State&gt; {\r\n\r\n      // ...\r\n \r\n      interface Command { /* Nothing here */ }\r\n\r\n      public static class CreateExample implements Command {\r\n        final SecurityClaims claims;\r\n        final ExampleRef ref;\r\n        final String title;\r\n        final ActorRef&lt;StatusReply&lt;ExampleCreated&gt;&gt; replyTo;\r\n\r\n        public CreateExample(\r\n                SecurityClaims claims,\r\n                ExampleRef ref,\r\n                String title,\r\n                ActorRef&lt;StatusReply&lt;ExampleCreated&gt;&gt; replyTo) {\r\n            this.claims = claims;\r\n            this.ref = ref;\r\n            this.title = title;\r\n            this.replyTo = replyTo;\r\n        }\r\n      }\r\n\r\n      // ...\r\n\r\n    }\r\n```\r\n\r\n+ Configuration file\r\n```\r\n    akka.actor {\r\n      serialization-bindings {\r\n        &quot;org.example.ExampleAR$Command&quot; = jackson-json\r\n      }\r\n    }\r\n```\r\n\r\n&#128165; Message :\r\n\r\n```\r\njava.lang.IllegalArgumentException: Command [org.example.ExampleAR$CreateExample@20251fb0] isn&#39;t serializable.,\r\n...\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.example.ExampleAR$CreateExample` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n```\r\n\r\n\r\n---\r\nPlease, **note** that I do understand the error message. And I can decorate my commands my `@JsonCreator` and other `@JsonProperty` annotations. However, the documentation state that those will not be required for simple cases while it is not in my case.\r\n\r\nI may have missed a configuration or another dependency that will enable simple serialisation..","title":"Akka, Jackson cannot deserialise &quot;ordinary classes&quot;","body":"<p>Trying to deserialize my actor commands via the out of the box <code>jackson-json</code> serialiser. I am able to get the expected result with a lot of annotation while it should be much easier:</p>\n<blockquote>\n<p>In many cases ordinary classes can be serialized by Jackson without any additional hints, but sometimes annotations are needed to specify how to convert the objects to JSON/bytes.</p>\n<p>-- <a href=\"https://doc.akka.io/docs/akka/current/serialization-jackson.html#introduction\" rel=\"nofollow noreferrer\">https://doc.akka.io/docs/akka/current/serialization-jackson.html#introduction</a></p>\n</blockquote>\n<hr />\n<p>The example is similar to my use case. However, if I do not put all annotations on my command, the serialisation fail.</p>\n<ul>\n<li>Class file (Java)</li>\n</ul>\n<pre><code>\n    package org.example;\n\n    // ...\n\n    class ExampleAR extends EventSourcedBehaviorWithEnforcedReplies&lt;ExampleAR.Command, ExampleAR.Event, ExampleAR.State&gt; {\n\n      // ...\n \n      interface Command { /* Nothing here */ }\n\n      public static class CreateExample implements Command {\n        final SecurityClaims claims;\n        final ExampleRef ref;\n        final String title;\n        final ActorRef&lt;StatusReply&lt;ExampleCreated&gt;&gt; replyTo;\n\n        public CreateExample(\n                SecurityClaims claims,\n                ExampleRef ref,\n                String title,\n                ActorRef&lt;StatusReply&lt;ExampleCreated&gt;&gt; replyTo) {\n            this.claims = claims;\n            this.ref = ref;\n            this.title = title;\n            this.replyTo = replyTo;\n        }\n      }\n\n      // ...\n\n    }\n</code></pre>\n<ul>\n<li>Configuration file</li>\n</ul>\n<pre><code>    akka.actor {\n      serialization-bindings {\n        &quot;org.example.ExampleAR$Command&quot; = jackson-json\n      }\n    }\n</code></pre>\n<p>💥 Message :</p>\n<pre><code>java.lang.IllegalArgumentException: Command [org.example.ExampleAR$CreateExample@20251fb0] isn't serializable.,\n...\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.example.ExampleAR$CreateExample` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n</code></pre>\n<hr />\n<p>Please, <strong>note</strong> that I do understand the error message. And I can decorate my commands my <code>@JsonCreator</code> and other <code>@JsonProperty</code> annotations. However, the documentation state that those will not be required for simple cases while it is not in my case.</p>\n<p>I may have missed a configuration or another dependency that will enable simple serialisation..</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23265029,"reputation":128,"user_id":17350710,"display_name":"Ahmad Mtera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666366695,"creation_date":1666365594,"answer_id":74155831,"question_id":74155576,"body_markdown":"&gt; First concern: from my understanding, each elements of String[]\r\n&gt; contentsOfBag are added such as element &quot;A&quot; goes into a Node with the\r\n&gt; data &quot;A&quot;. Inside this same Node we have another Node where the next\r\n&gt; element &quot;_&quot; will be the data of this next Node and so on? Please\r\n&gt; correct me if I&#39;m wrong/not totally correct.\r\n\r\nThis is correct.\r\n\r\n&gt;aBag.add(entry); // trying to understand behind the scene of this line\r\n\r\nThis method call is of a method inside the LinkedBag class, which you haven&#39;t shown the implementation of, but it should traverse the LinkedBag list starting from the &#39;firstNode&#39; reference inside of LinkedBag, going through the &#39;next&#39; reference inside of Node class, until the loop reaches the last node (node.next == null). There, you set the &#39;next&#39; variable to this new &#39;entry&#39;. And that&#39;s how each entry in the array is inserted.\r\n\r\n&gt; It&#39;ll be very helpful for my understanding since I need to implement\r\n&gt; removeAllOccurences method. Ty\r\n\r\nTo remove all entries housed in the array, you need to loop the array element by element, and for each element you need to compare that element with each element in the LinkedBag. If that element matches anything in the LinkedBag chain of bags, then you break that reference by making the previous node point to the later node. This diagram should help you visualize the deletion process:\r\n\r\n    linkedBag (firstNode) -&gt; bag1 (data=&quot;chips&quot;,next=bag2) -&gt; bag2 (data=&quot;mayo&quot;,next=bag3) -&gt; bag3 (data=&quot;dip&quot;,next=null)\r\n\r\nIf the array passed to the removeAllOccurences method has a &quot;dip&quot; element, in order to remove it, the removeAllOccurences method would have to loop through the list and compare each element&#39;s data with &quot;dip&quot;. Once it reaches the bag3 object, it will find that it is in fact &quot;dip&quot;. In order to remove it, you&#39;d need to cut off the &#39;next&#39; reference inside of bag2 (make it null). To do that, you would need &#39;previous&#39; and &#39;current&#39; pointers. At that point, &#39;previous&#39; would be on bag2. So, you simply do:\r\n\r\n    previous.next = null;\r\n\r\nLastly, it would help you better understand LinkedList&#39;s add/remove methods if you visualize them. Draw on paper, watch some visualizations on YouTube, and read an article about it, like [this][1].\r\n\r\n\r\n  [1]: https://www.devglan.com/datastructure/linkedlist-implementation-java","title":"How adding element to Linked List","body":"<blockquote>\n<p>First concern: from my understanding, each elements of String[]\ncontentsOfBag are added such as element &quot;A&quot; goes into a Node with the\ndata &quot;A&quot;. Inside this same Node we have another Node where the next\nelement &quot;_&quot; will be the data of this next Node and so on? Please\ncorrect me if I'm wrong/not totally correct.</p>\n</blockquote>\n<p>This is correct.</p>\n<blockquote>\n<p>aBag.add(entry); // trying to understand behind the scene of this line</p>\n</blockquote>\n<p>This method call is of a method inside the LinkedBag class, which you haven't shown the implementation of, but it should traverse the LinkedBag list starting from the 'firstNode' reference inside of LinkedBag, going through the 'next' reference inside of Node class, until the loop reaches the last node (node.next == null). There, you set the 'next' variable to this new 'entry'. And that's how each entry in the array is inserted.</p>\n<blockquote>\n<p>It'll be very helpful for my understanding since I need to implement\nremoveAllOccurences method. Ty</p>\n</blockquote>\n<p>To remove all entries housed in the array, you need to loop the array element by element, and for each element you need to compare that element with each element in the LinkedBag. If that element matches anything in the LinkedBag chain of bags, then you break that reference by making the previous node point to the later node. This diagram should help you visualize the deletion process:</p>\n<pre><code>linkedBag (firstNode) -&gt; bag1 (data=&quot;chips&quot;,next=bag2) -&gt; bag2 (data=&quot;mayo&quot;,next=bag3) -&gt; bag3 (data=&quot;dip&quot;,next=null)\n</code></pre>\n<p>If the array passed to the removeAllOccurences method has a &quot;dip&quot; element, in order to remove it, the removeAllOccurences method would have to loop through the list and compare each element's data with &quot;dip&quot;. Once it reaches the bag3 object, it will find that it is in fact &quot;dip&quot;. In order to remove it, you'd need to cut off the 'next' reference inside of bag2 (make it null). To do that, you would need 'previous' and 'current' pointers. At that point, 'previous' would be on bag2. So, you simply do:</p>\n<pre><code>previous.next = null;\n</code></pre>\n<p>Lastly, it would help you better understand LinkedList's add/remove methods if you visualize them. Draw on paper, watch some visualizations on YouTube, and read an article about it, like <a href=\"https://www.devglan.com/datastructure/linkedlist-implementation-java\" rel=\"nofollow noreferrer\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666365662,"creation_date":1666365662,"answer_id":74155844,"question_id":74155576,"body_markdown":"To address your first concern: you are correct.\r\n\r\nTo address your second concern: the private constructors are to limit where Node can be created. \r\n\r\nlike so\r\n\r\n```\r\npublic class Test {\r\n    public Inner createInner(){\r\n        return new Inner();\r\n    }\r\n\r\n    public class Inner{\r\n        private Inner(){\r\n            System.out.println(&quot;creating inner&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\npublic class main{\r\n    public static void main(String[] args) {\r\n        //works\r\n        Test t = new Test();\r\n        t.createInner();\r\n\r\n        //wont work\r\n        main.Test.Inner inner = new Test.Inner();\r\n    }\r\n}\r\n```","title":"How adding element to Linked List","body":"<p>To address your first concern: you are correct.</p>\n<p>To address your second concern: the private constructors are to limit where Node can be created.</p>\n<p>like so</p>\n<pre><code>public class Test {\n    public Inner createInner(){\n        return new Inner();\n    }\n\n    public class Inner{\n        private Inner(){\n            System.out.println(&quot;creating inner&quot;);\n        }\n    }\n}\n</code></pre>\n<pre><code>public class main{\n    public static void main(String[] args) {\n        //works\n        Test t = new Test();\n        t.createInner();\n\n        //wont work\n        main.Test.Inner inner = new Test.Inner();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26691247,"reputation":28,"user_id":20299795,"display_name":"JaRek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74155844,"answer_count":2,"score":0,"last_activity_date":1666366695,"creation_date":1666364361,"question_id":74155576,"body_markdown":"I&#39;m trying to understand the behavior of on how the elements of a String[] contentsOfBag are added into a linkedbag which is csc220bag (for this programming case).\r\n\r\nFirst concern: from my understanding, each elements of String[] contentsOfBag are added such as element &quot;A&quot; goes into a Node with the data &quot;A&quot;. Inside this same Node we have another Node where the next element &quot;_&quot; will be the data of this next Node and so on? Please correct me if I&#39;m wrong/not totally correct.\r\n\r\nSecond concern is the purpose of constructor &quot;private Node(T dataPortion)&quot; &amp; &quot; private Node(T dataPortion, Node nextNode)&quot; ?\r\n\r\nIt&#39;ll be very helpful for my understanding since I need to implement removeAllOccurences method. Ty\r\n\r\nHere is the code :\r\nDriver Code\r\n\r\n    public class LinkedBagCSC220JavaDriver {\r\n \r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;=== LINKED BAG 220 JAVA ==========================================================&quot;);\r\n        System.out.println(&quot;[+] Creating a CSC220 LinkedBag...&quot;);\r\n        PrimaryDataStructureBagInterface&lt;String&gt; csc220Bag = new LinkedBag&lt;&gt;();\r\n        testAdd(csc220Bag);\r\n        testRemoveAllOccurrences(csc220Bag);\r\n        System.out.println(&quot;=== LINKED BAG 220 JAVA ==========================================================&quot;);\r\n    }\r\n \r\n    private static void displayBag(PrimaryDataStructureBagInterface&lt;String&gt; aBag) {\r\n        System.out.print(&quot;[&gt;] The bag now contains &quot; + aBag.getCurrentSize() + &quot; string(s): \\t&quot;);\r\n        Object[] bagArray = aBag.toArray();\r\n        for (Object bagArray1 : bagArray) {\r\n            System.out.print(bagArray1 + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n \r\n    private static void testRemoveAllOccurrences(PrimaryDataStructureBagInterface&lt;String&gt; aBag) {\r\n        // Removing all occurrences of the given entries from a bag\r\n        System.out.println(&quot;[+] Creating... a 2D test array with the below contents: \\t&quot;);\r\n        String[][] testArray = {\r\n                { &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot; },\r\n                { &quot;B&quot;, &quot;A&quot;, &quot;Bb&quot;, &quot;B&quot;, &quot;Bb&quot;, &quot;B&quot; },\r\n                { &quot;C&quot;, &quot;B&quot;, &quot;_&quot;, &quot;A&quot; },\r\n                { &quot;n&quot;, &quot;u&quot;, &quot;l&quot;, &quot;l&quot; }\r\n        };\r\n \r\n        for (String[] row : testArray) {\r\n            System.out.print(&quot;\\t\\t\\t\\t\\t&quot;);\r\n            for (String col : row) {\r\n                System.out.print(col + &quot; &quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n \r\n        aBag.removeAllOccurrences(testArray);\r\n        displayBag(aBag);\r\n    }\r\n \r\n    private static void testAdd(PrimaryDataStructureBagInterface&lt;String&gt; aBag) {\r\n        // Adding strings\r\n        String[] contentsOfBag = {\r\n                &quot;A&quot;, &quot;_&quot;, &quot;_&quot;, &quot;G&quot;, &quot;Bb&quot;, &quot;A&quot;, &quot;_&quot;, &quot;u&quot;, &quot;n&quot;,\r\n                &quot;o&quot;, &quot;A&quot;, &quot;o&quot;, &quot;d&quot;, &quot;Bb&quot;, &quot;A&quot;, &quot;A&quot;, &quot;l&quot;, &quot;l&quot;\r\n        };\r\n        System.out.print(&quot;[+] Adding.... these items to the bag: \\t&quot;);\r\n        for (String entry : contentsOfBag) {\r\n            aBag.add(entry); // trying to understand behind the scene of this line\r\n            System.out.print(entry + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n \r\n        displayBag(aBag);\r\n    }\r\n}\r\n\r\nLinkedbag\r\n\r\n    public final class LinkedBag&lt;T&gt; implements PrimaryDataStructureBagInterface&lt;T&gt; {\r\n \r\n    private Node firstNode;\r\n    private int numberOfEntries;\r\n \r\n    public LinkedBag() {\r\n        firstNode = null;\r\n        numberOfEntries = 0;\r\n    }\r\n \r\n    @Override\r\n    public boolean removeAllOccurrences(T[][] entries) {\r\n    }\r\n \r\n    private class Node {\r\n        private T data;\r\n        private Node next;\r\n \r\n        private Node(T dataPortion) {\r\n            this(dataPortion, null);\r\n        } // end constructor\r\n \r\n        private Node(T dataPortion, Node nextNode) {\r\n            data = dataPortion;\r\n            next = nextNode;\r\n        }\r\n    }\r\n}\r\n\r\nInterface class - PrimaryDataStructureBagInterface\r\n\r\n    public interface PrimaryDataStructureBagInterface&lt;T&gt; {\r\n \r\n    public int getCurrentSize();\r\n \r\n    public boolean isEmpty();\r\n \r\n    public boolean add(T newEntry);\r\n \r\n    public boolean removeAllOccurrences(T[][] entries);\r\n \r\n    public T[] toArray();\r\n}","title":"How adding element to Linked List","body":"<p>I'm trying to understand the behavior of on how the elements of a String[] contentsOfBag are added into a linkedbag which is csc220bag (for this programming case).</p>\n<p>First concern: from my understanding, each elements of String[] contentsOfBag are added such as element &quot;A&quot; goes into a Node with the data &quot;A&quot;. Inside this same Node we have another Node where the next element &quot;_&quot; will be the data of this next Node and so on? Please correct me if I'm wrong/not totally correct.</p>\n<p>Second concern is the purpose of constructor &quot;private Node(T dataPortion)&quot; &amp; &quot; private Node(T dataPortion, Node nextNode)&quot; ?</p>\n<p>It'll be very helpful for my understanding since I need to implement removeAllOccurences method. Ty</p>\n<p>Here is the code :\nDriver Code</p>\n<pre><code>public class LinkedBagCSC220JavaDriver {\n\npublic static void main(String[] args) {\n    System.out.println(&quot;=== LINKED BAG 220 JAVA ==========================================================&quot;);\n    System.out.println(&quot;[+] Creating a CSC220 LinkedBag...&quot;);\n    PrimaryDataStructureBagInterface&lt;String&gt; csc220Bag = new LinkedBag&lt;&gt;();\n    testAdd(csc220Bag);\n    testRemoveAllOccurrences(csc220Bag);\n    System.out.println(&quot;=== LINKED BAG 220 JAVA ==========================================================&quot;);\n}\n\nprivate static void displayBag(PrimaryDataStructureBagInterface&lt;String&gt; aBag) {\n    System.out.print(&quot;[&gt;] The bag now contains &quot; + aBag.getCurrentSize() + &quot; string(s): \\t&quot;);\n    Object[] bagArray = aBag.toArray();\n    for (Object bagArray1 : bagArray) {\n        System.out.print(bagArray1 + &quot; &quot;);\n    }\n    System.out.println();\n}\n\nprivate static void testRemoveAllOccurrences(PrimaryDataStructureBagInterface&lt;String&gt; aBag) {\n    // Removing all occurrences of the given entries from a bag\n    System.out.println(&quot;[+] Creating... a 2D test array with the below contents: \\t&quot;);\n    String[][] testArray = {\n            { &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot; },\n            { &quot;B&quot;, &quot;A&quot;, &quot;Bb&quot;, &quot;B&quot;, &quot;Bb&quot;, &quot;B&quot; },\n            { &quot;C&quot;, &quot;B&quot;, &quot;_&quot;, &quot;A&quot; },\n            { &quot;n&quot;, &quot;u&quot;, &quot;l&quot;, &quot;l&quot; }\n    };\n\n    for (String[] row : testArray) {\n        System.out.print(&quot;\\t\\t\\t\\t\\t&quot;);\n        for (String col : row) {\n            System.out.print(col + &quot; &quot;);\n        }\n        System.out.println(&quot;&quot;);\n    }\n\n    aBag.removeAllOccurrences(testArray);\n    displayBag(aBag);\n}\n\nprivate static void testAdd(PrimaryDataStructureBagInterface&lt;String&gt; aBag) {\n    // Adding strings\n    String[] contentsOfBag = {\n            &quot;A&quot;, &quot;_&quot;, &quot;_&quot;, &quot;G&quot;, &quot;Bb&quot;, &quot;A&quot;, &quot;_&quot;, &quot;u&quot;, &quot;n&quot;,\n            &quot;o&quot;, &quot;A&quot;, &quot;o&quot;, &quot;d&quot;, &quot;Bb&quot;, &quot;A&quot;, &quot;A&quot;, &quot;l&quot;, &quot;l&quot;\n    };\n    System.out.print(&quot;[+] Adding.... these items to the bag: \\t&quot;);\n    for (String entry : contentsOfBag) {\n        aBag.add(entry); // trying to understand behind the scene of this line\n        System.out.print(entry + &quot; &quot;);\n    }\n    System.out.println();\n\n    displayBag(aBag);\n}\n</code></pre>\n<p>}</p>\n<p>Linkedbag</p>\n<pre><code>public final class LinkedBag&lt;T&gt; implements PrimaryDataStructureBagInterface&lt;T&gt; {\n\nprivate Node firstNode;\nprivate int numberOfEntries;\n\npublic LinkedBag() {\n    firstNode = null;\n    numberOfEntries = 0;\n}\n\n@Override\npublic boolean removeAllOccurrences(T[][] entries) {\n}\n\nprivate class Node {\n    private T data;\n    private Node next;\n\n    private Node(T dataPortion) {\n        this(dataPortion, null);\n    } // end constructor\n\n    private Node(T dataPortion, Node nextNode) {\n        data = dataPortion;\n        next = nextNode;\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Interface class - PrimaryDataStructureBagInterface</p>\n<pre><code>public interface PrimaryDataStructureBagInterface&lt;T&gt; {\n\npublic int getCurrentSize();\n\npublic boolean isEmpty();\n\npublic boolean add(T newEntry);\n\npublic boolean removeAllOccurrences(T[][] entries);\n\npublic T[] toArray();\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","maven","jsp","spring-boot-configuration"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666139199,"post_id":74118628,"comment_id":130863460,"body_markdown":"Usually a webapp will have separate folders for java code and jsp e.g. &lt;projname&gt;/src/main/java/&lt;package&gt;/...  and  &lt;projname&gt;/src/main/webapp.\n\nIf you use an IDE I suggest that you use a wizard to generate the project, it will make the necessary paths for you.","body":"Usually a webapp will have separate folders for java code and jsp e.g. &lt;projname&gt;/src/main/java/&lt;package&gt;/...  and  &lt;projname&gt;/src/main/webapp.  If you use an IDE I suggest that you use a wizard to generate the project, it will make the necessary paths for you."},{"owner":{"account_id":22451370,"reputation":197,"user_id":17424390,"display_name":"Abdelrahman Nassar"},"score":0,"creation_date":1666139809,"post_id":74118628,"comment_id":130863530,"body_markdown":"@ScaryWombat\nif you mean that I need to create a folder with the name  webapp in the main folder and move my files to it, unfortunately it did not work also.\n\nCould you please suggest a wizard name to try?, since I do not know any, and I do not know which one is good","body":"@ScaryWombat if you mean that I need to create a folder with the name  webapp in the main folder and move my files to it, unfortunately it did not work also.  Could you please suggest a wizard name to try?, since I do not know any, and I do not know which one is good"}],"answers":[{"tags":[],"owner":{"account_id":15505570,"reputation":1,"user_id":11185827,"display_name":"jie Old"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666146329,"creation_date":1666146329,"answer_id":74119224,"question_id":74118628,"body_markdown":"Maybe you can try creating a webapp folder under the root and put your jsp inside","title":"404 error when trying to call .jsp file in spring boot","body":"<p>Maybe you can try creating a webapp folder under the root and put your jsp inside</p>\n"}],"owner":{"account_id":22451370,"reputation":197,"user_id":17424390,"display_name":"Abdelrahman Nassar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666366264,"creation_date":1666138299,"question_id":74118628,"body_markdown":"I just started learning spring boot, and I do have a problem with my first application.\r\n\r\nfirst, I will show the file structure, and then I will show my code and explain the problem and the solutions I tried.\r\n\r\n&gt;File Structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n&gt;&gt; The problem and the code\r\n\r\nso the problem was that I could not get mapped to the function ```users``` in the &quot;UsersLoginController.java&quot; file, and I was getting a 404 error. after searching, I found that both controller and the class with the main method should be in the same package, or I can use the ```@ComponentScan(&quot;My.Package.Name&quot;)```, so I did use it.\r\n\r\nso now I was able to get my request mapped to the correct function (as showen in the code section of the question.\r\nbut the problem with the jsp file was not done. I still get 404 error on it. I did add this dependency to my pom.xml file as a solution seen in YouTube and some other articles, but nothing changed.\r\n```\r\n&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;9.0.68&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\n\r\n\r\n&gt; class with the main method\r\n\r\n```\r\npackage AEINTech.CO.DevicesManager;\r\n\r\n\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(&quot;AEINTech.CO.DevicesManager.LoginPage&quot;)\r\npublic class DevicesManagerApplication {\r\n\r\n\t \r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DevicesManagerApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n&gt;Controller class\r\n```\r\npackage AEINTech.CO.DevicesManager.LoginPage;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n@Controller\r\npublic class UsersLoginController {\r\n\t\r\n\t@RequestMapping(&quot;/r&quot;)\r\n\tpublic String users() {\r\n\t\treturn &quot;LoginPage.jsp&quot;;\r\n\t}\r\n\t\r\n\t@RequestMapping(value = {&quot;/rr&quot;})\r\n\t@ResponseBody\r\n\tpublic String userse() {\r\n\t\treturn &quot;LoginPage&quot;;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n&gt; to pom.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;AEINTech.CO&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Devices-Manager&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Devices-Manager&lt;/name&gt;\r\n\t&lt;description&gt;A project for the devices management web system&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-jasper --&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;9.0.68&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\t\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nIn the &quot;application.properties&quot; file I configured the port to be 44444\r\n\r\nwhen I start the application This is printed to the console:\r\n```\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n[32m :: Spring Boot :: [39m     [2m (v2.7.5-SNAPSHOT)[0;39m\r\n\r\n[2m2022-10-19 02:51:34.519[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mA.C.D.DevicesManagerApplication         [0;39m [2m:[0;39m Starting DevicesManagerApplication using Java 17.0.2 on Abdelrahman-Nassar with PID 26704 (C:\\Users\\aenas\\Desktop\\Devices-Manager\\target\\classes started by aenas in C:\\Users\\aenas\\Desktop\\Devices-Manager)\r\n[2m2022-10-19 02:51:34.522[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mA.C.D.DevicesManagerApplication         [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n[2m2022-10-19 02:51:35.036[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mtrationDelegate$BeanPostProcessorChecker[0;39m [2m:[0;39m Bean &#39;org.springframework.ws.config.annotation.DelegatingWsConfiguration&#39; of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$a1174588] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[2m2022-10-19 02:51:35.090[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36m.w.s.a.s.AnnotationActionEndpointMapping[0;39m [2m:[0;39m Supporting [WS-Addressing August 2004, WS-Addressing 1.0]\r\n[2m2022-10-19 02:51:35.328[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 44444 (http)\r\n[2m2022-10-19 02:51:35.337[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\r\n[2m2022-10-19 02:51:35.337[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.apache.catalina.core.StandardEngine [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/9.0.68]\r\n[2m2022-10-19 02:51:35.511[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.apache.jasper.servlet.TldScanner    [0;39m [2m:[0;39m At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n[2m2022-10-19 02:51:35.527[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\r\n[2m2022-10-19 02:51:35.527[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 962 ms\r\n[2m2022-10-19 02:51:35.832[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 44444 (http) with context path &#39;&#39;\r\n[2m2022-10-19 02:51:35.840[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mA.C.D.DevicesManagerApplication         [0;39m [2m:[0;39m Started DevicesManagerApplication in 1.626 seconds (JVM running for 2.132)\r\n\r\n```\r\n\r\nwhen I use the url ```http://127.0.0.1:44444/rr``` the text &quot;LoginPage.jsp&quot; is printed to the screen (which means that the mappng is working fine).\r\n\r\nbut when I use the url ```http://127.0.0.1:44444/r``` the 404 (Whitelabel Error Page) error appears\r\n```\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nWed Oct 19 02:57:22 AST 2022\r\nThere was an unexpected error (type=Not Found, status=404).\r\n\r\n```\r\n\r\nand when I use any of the URLs I get the following printed to the console one time\r\n```\r\n2022-10-19 02:55:23.230[0;39m [32m INFO[0;39m [35m32628[0;39m [2m---[0;39m [2m[io-44444-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n[2m2022-10-19 02:55:23.230[0;39m [32m INFO[0;39m [35m32628[0;39m [2m---[0;39m [2m[io-44444-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet &#39;dispatcherServlet&#39;\r\n[2m2022-10-19 02:55:23.230[0;39m [32m INFO[0;39m [35m32628[0;39m [2m---[0;39m [2m[io-44444-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 0 ms\r\n\r\n```\r\n\r\n\r\nthe solution I tried was to change the file location (putting it in the same package with the controller or the class with main method) , or trying to access it using something like:\r\n```LoginPage.jsp```\r\n```./LoginPage.jsp```\r\n```../LoginPage.jsp```\r\n```/AEINTech/CO/DevicesManager/LoginPage/LoginPage.jsp```\r\n\r\nOne solution tried was to create a folder with the name &quot;webapp&quot; and put my .jsp folder in it, but that did not work also.\r\n\r\nI have been searching for a solution for so much time, unfortunately, it is either I did not understand what the problem really is, so I am searching in the wrong direction. Or I just could not find the solution for it yet.\r\nI will keep looking for solutions, and I will update the question if I find anything new\r\n\r\n  [1]: https://i.stack.imgur.com/1PQWS.jpg","title":"404 error when trying to call .jsp file in spring boot","body":"<p>I just started learning spring boot, and I do have a problem with my first application.</p>\n<p>first, I will show the file structure, and then I will show my code and explain the problem and the solutions I tried.</p>\n<blockquote>\n<p>File Structure</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/1PQWS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1PQWS.jpg\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<blockquote>\n<p>The problem and the code</p>\n</blockquote>\n</blockquote>\n<p>so the problem was that I could not get mapped to the function <code>users</code> in the &quot;UsersLoginController.java&quot; file, and I was getting a 404 error. after searching, I found that both controller and the class with the main method should be in the same package, or I can use the <code>@ComponentScan(&quot;My.Package.Name&quot;)</code>, so I did use it.</p>\n<p>so now I was able to get my request mapped to the correct function (as showen in the code section of the question.\nbut the problem with the jsp file was not done. I still get 404 error on it. I did add this dependency to my pom.xml file as a solution seen in YouTube and some other articles, but nothing changed.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n            &lt;version&gt;9.0.68&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<blockquote>\n<p>class with the main method</p>\n</blockquote>\n<pre><code>package AEINTech.CO.DevicesManager;\n\n\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(&quot;AEINTech.CO.DevicesManager.LoginPage&quot;)\npublic class DevicesManagerApplication {\n\n     \n    public static void main(String[] args) {\n        SpringApplication.run(DevicesManagerApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<blockquote>\n<p>Controller class</p>\n</blockquote>\n<pre><code>package AEINTech.CO.DevicesManager.LoginPage;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class UsersLoginController {\n    \n    @RequestMapping(&quot;/r&quot;)\n    public String users() {\n        return &quot;LoginPage.jsp&quot;;\n    }\n    \n    @RequestMapping(value = {&quot;/rr&quot;})\n    @ResponseBody\n    public String userse() {\n        return &quot;LoginPage&quot;;\n    }\n\n}\n\n</code></pre>\n<blockquote>\n<p>to pom.xml file</p>\n</blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;AEINTech.CO&lt;/groupId&gt;\n    &lt;artifactId&gt;Devices-Manager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Devices-Manager&lt;/name&gt;\n    &lt;description&gt;A project for the devices management web system&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-jasper --&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n            &lt;version&gt;9.0.68&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n    \n\n&lt;/project&gt;\n\n</code></pre>\n<p>In the &quot;application.properties&quot; file I configured the port to be 44444</p>\n<p>when I start the application This is printed to the console:</p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n[32m :: Spring Boot :: [39m     [2m (v2.7.5-SNAPSHOT)[0;39m\n\n[2m2022-10-19 02:51:34.519[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mA.C.D.DevicesManagerApplication         [0;39m [2m:[0;39m Starting DevicesManagerApplication using Java 17.0.2 on Abdelrahman-Nassar with PID 26704 (C:\\Users\\aenas\\Desktop\\Devices-Manager\\target\\classes started by aenas in C:\\Users\\aenas\\Desktop\\Devices-Manager)\n[2m2022-10-19 02:51:34.522[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mA.C.D.DevicesManagerApplication         [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\n[2m2022-10-19 02:51:35.036[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mtrationDelegate$BeanPostProcessorChecker[0;39m [2m:[0;39m Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$a1174588] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[2m2022-10-19 02:51:35.090[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36m.w.s.a.s.AnnotationActionEndpointMapping[0;39m [2m:[0;39m Supporting [WS-Addressing August 2004, WS-Addressing 1.0]\n[2m2022-10-19 02:51:35.328[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 44444 (http)\n[2m2022-10-19 02:51:35.337[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\n[2m2022-10-19 02:51:35.337[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.apache.catalina.core.StandardEngine [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/9.0.68]\n[2m2022-10-19 02:51:35.511[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.apache.jasper.servlet.TldScanner    [0;39m [2m:[0;39m At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n[2m2022-10-19 02:51:35.527[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\n[2m2022-10-19 02:51:35.527[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 962 ms\n[2m2022-10-19 02:51:35.832[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 44444 (http) with context path ''\n[2m2022-10-19 02:51:35.840[0;39m [32m INFO[0;39m [35m26704[0;39m [2m---[0;39m [2m[           main][0;39m [36mA.C.D.DevicesManagerApplication         [0;39m [2m:[0;39m Started DevicesManagerApplication in 1.626 seconds (JVM running for 2.132)\n\n</code></pre>\n<p>when I use the url <code>http://127.0.0.1:44444/rr</code> the text &quot;LoginPage.jsp&quot; is printed to the screen (which means that the mappng is working fine).</p>\n<p>but when I use the url <code>http://127.0.0.1:44444/r</code> the 404 (Whitelabel Error Page) error appears</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nWed Oct 19 02:57:22 AST 2022\nThere was an unexpected error (type=Not Found, status=404).\n\n</code></pre>\n<p>and when I use any of the URLs I get the following printed to the console one time</p>\n<pre><code>2022-10-19 02:55:23.230[0;39m [32m INFO[0;39m [35m32628[0;39m [2m---[0;39m [2m[io-44444-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'\n[2m2022-10-19 02:55:23.230[0;39m [32m INFO[0;39m [35m32628[0;39m [2m---[0;39m [2m[io-44444-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'\n[2m2022-10-19 02:55:23.230[0;39m [32m INFO[0;39m [35m32628[0;39m [2m---[0;39m [2m[io-44444-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 0 ms\n\n</code></pre>\n<p>the solution I tried was to change the file location (putting it in the same package with the controller or the class with main method) , or trying to access it using something like:\n<code>LoginPage.jsp</code>\n<code>./LoginPage.jsp</code>\n<code>../LoginPage.jsp</code>\n<code>/AEINTech/CO/DevicesManager/LoginPage/LoginPage.jsp</code></p>\n<p>One solution tried was to create a folder with the name &quot;webapp&quot; and put my .jsp folder in it, but that did not work also.</p>\n<p>I have been searching for a solution for so much time, unfortunately, it is either I did not understand what the problem really is, so I am searching in the wrong direction. Or I just could not find the solution for it yet.\nI will keep looking for solutions, and I will update the question if I find anything new</p>\n"},{"tags":["java","jpa","jdbc","plsql"],"answers":[{"tags":[],"owner":{"account_id":20971480,"reputation":44,"user_id":15408545,"display_name":"Roberto Shaba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644946995,"creation_date":1644944534,"answer_id":71130475,"question_id":71128562,"body_markdown":"You can try with `CallableStatement`, that comes with `java.sql` package.\r\n\r\nFirst of all you have to create and open the connection. For this I usually use an Sql2o instance for connecting to a specific database.\r\n\r\nSo:\r\n\r\n    Sql2o sql2o = new Sql2o(dbUrl, dbUser, dbPass);\r\n    Connection conn = sql2o.open();\r\n    CallableStatement cstmt = conn.getJdbcConnection().prepareCall(&quot;{call your_stored_procedure(?,?,?,?,?,?,?,?,?)}&quot;)\r\n\r\nThe questions marks are the number of IN/OUT arguments of your stored.\r\nTo set the arguments:\r\n\r\n    cstmt.setObject(1,your_value, Types.INTEGER);\r\n    cstmt.setObject(2, your_value, Types.DOUBLE);\r\n    ... // set all your arguments\r\n    cstmt.execute();\r\n\r\nif you have also out parameter in your stored you can register it with\r\n\r\n    cstmt.registerOutParameter(8, java.sql.Types.INTEGER);\r\n\r\nThe first argument of `cstmt.setObject()` is the parameter index of your stored procedure","title":"JDBC Stored Procedure Call IN Parameter Table of Records","body":"<p>You can try with <code>CallableStatement</code>, that comes with <code>java.sql</code> package.</p>\n<p>First of all you have to create and open the connection. For this I usually use an Sql2o instance for connecting to a specific database.</p>\n<p>So:</p>\n<pre><code>Sql2o sql2o = new Sql2o(dbUrl, dbUser, dbPass);\nConnection conn = sql2o.open();\nCallableStatement cstmt = conn.getJdbcConnection().prepareCall(&quot;{call your_stored_procedure(?,?,?,?,?,?,?,?,?)}&quot;)\n</code></pre>\n<p>The questions marks are the number of IN/OUT arguments of your stored.\nTo set the arguments:</p>\n<pre><code>cstmt.setObject(1,your_value, Types.INTEGER);\ncstmt.setObject(2, your_value, Types.DOUBLE);\n... // set all your arguments\ncstmt.execute();\n</code></pre>\n<p>if you have also out parameter in your stored you can register it with</p>\n<pre><code>cstmt.registerOutParameter(8, java.sql.Types.INTEGER);\n</code></pre>\n<p>The first argument of <code>cstmt.setObject()</code> is the parameter index of your stored procedure</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666366205,"creation_date":1666366205,"answer_id":74155961,"question_id":71128562,"body_markdown":"Since a recent version of ojdbc, and Oracle 18c, you can finally bind PL/SQL `TABLE OF RECORD` types just like a SQL `TABLE OF OBJECT` type, using standard JDBC API. For this, you have to implement a Java representation of your `RECORD`, which implements [`java.sql.SQLData`][1]:\r\n\r\n```java\r\nclass MyType implements SQLData {\r\n    // Constructors, getters, and setters\r\n\r\n    @Override\r\n    public String getSQLTypeName() throws SQLException {\r\n        return &quot;P.MY_TYPE&quot;;\r\n    }\r\n\r\n    @Override\r\n    public final void readSQL(SQLInput stream, String typeName)\r\n    throws SQLException {\r\n        this.val1 = stream.readInt();\r\n        // ...\r\n    }\r\n\r\n    @Override\r\n    public final void writeSQL(SQLOutput stream)\r\n    throws SQLException {\r\n        stream.writeInt(val1);\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nNow, assuming a package like the following:\r\n\r\n```java\r\nCREATE OR REPLACE PACKAGE p AS\r\n  TYPE my_type IS RECORD (i NUMBER);\r\n  TYPE my_type_table IS TABLE OF my_type;\r\n  FUNCTION f (i my_type_table) RETURN my_type_table;\r\nEND p;\r\n```\r\n\r\nyou can bind this type to the JDBC API like this:\r\n\r\n```java\r\ntry (CallableStatement s = c.prepareCall(&quot;{ ? = call p.f (?) }&quot;)) {\r\n    Array a = c.unwrap(OracleConnection.class)\r\n               .createARRAY(&quot;P.MY_TYPE_TABLE&quot;, new MyType[] { new MyType(1) });\r\n\r\n    try {\r\n        s.registerOutParameter(1, Types.ARRAY, &quot;P.MY_TYPE_TABLE&quot;);\r\n        s.setObject(2, a);\r\n        s.execute();\r\n        System.out.println(Arrays.asList((Object[])\r\n            s.getArray(1).getArray(Map.of(&quot;P.MY_TYPE_TABLE&quot;, MyType.class))\r\n        ));\r\n    }\r\n    finally {\r\n        a.free();\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s quite laborious, but you can do it. If using a third party library is an option, [jOOQ supports a code generator that can generate all of the above metadata for you][2], so your call will just be:\r\n\r\n```java\r\nMytypeTableRecord result = \r\n    P.f(configuration, new MyTypeTableRecord(new MyTypeRecord(1)));\r\n```\r\n\r\nDisclaimer: I work for the company behind jOOQ.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/SQLData.html\r\n  [2]: https://blog.jooq.org/painless-access-from-java-to-plsql-procedures-with-jooq/","title":"JDBC Stored Procedure Call IN Parameter Table of Records","body":"<p>Since a recent version of ojdbc, and Oracle 18c, you can finally bind PL/SQL <code>TABLE OF RECORD</code> types just like a SQL <code>TABLE OF OBJECT</code> type, using standard JDBC API. For this, you have to implement a Java representation of your <code>RECORD</code>, which implements <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/SQLData.html\" rel=\"nofollow noreferrer\"><code>java.sql.SQLData</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyType implements SQLData {\n    // Constructors, getters, and setters\n\n    @Override\n    public String getSQLTypeName() throws SQLException {\n        return &quot;P.MY_TYPE&quot;;\n    }\n\n    @Override\n    public final void readSQL(SQLInput stream, String typeName)\n    throws SQLException {\n        this.val1 = stream.readInt();\n        // ...\n    }\n\n    @Override\n    public final void writeSQL(SQLOutput stream)\n    throws SQLException {\n        stream.writeInt(val1);\n        // ...\n    }\n}\n</code></pre>\n<p>Now, assuming a package like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CREATE OR REPLACE PACKAGE p AS\n  TYPE my_type IS RECORD (i NUMBER);\n  TYPE my_type_table IS TABLE OF my_type;\n  FUNCTION f (i my_type_table) RETURN my_type_table;\nEND p;\n</code></pre>\n<p>you can bind this type to the JDBC API like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (CallableStatement s = c.prepareCall(&quot;{ ? = call p.f (?) }&quot;)) {\n    Array a = c.unwrap(OracleConnection.class)\n               .createARRAY(&quot;P.MY_TYPE_TABLE&quot;, new MyType[] { new MyType(1) });\n\n    try {\n        s.registerOutParameter(1, Types.ARRAY, &quot;P.MY_TYPE_TABLE&quot;);\n        s.setObject(2, a);\n        s.execute();\n        System.out.println(Arrays.asList((Object[])\n            s.getArray(1).getArray(Map.of(&quot;P.MY_TYPE_TABLE&quot;, MyType.class))\n        ));\n    }\n    finally {\n        a.free();\n    }\n}\n</code></pre>\n<p>It's quite laborious, but you can do it. If using a third party library is an option, <a href=\"https://blog.jooq.org/painless-access-from-java-to-plsql-procedures-with-jooq/\" rel=\"nofollow noreferrer\">jOOQ supports a code generator that can generate all of the above metadata for you</a>, so your call will just be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MytypeTableRecord result = \n    P.f(configuration, new MyTypeTableRecord(new MyTypeRecord(1)));\n</code></pre>\n<p>Disclaimer: I work for the company behind jOOQ.</p>\n"}],"owner":{"account_id":24265235,"reputation":11,"user_id":18214239,"display_name":"lenfits"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666366205,"creation_date":1644936817,"question_id":71128562,"body_markdown":"I want to call a stored procedure with a table of records type in java. The record contains just numbers, but I have to pass integers and decimals.\r\n\r\nI haven&#39;t found a proper solution for my problem (Neither for OracleCallableStatement nor \r\nStoredProcedureQuery).","title":"JDBC Stored Procedure Call IN Parameter Table of Records","body":"<p>I want to call a stored procedure with a table of records type in java. The record contains just numbers, but I have to pass integers and decimals.</p>\n<p>I haven't found a proper solution for my problem (Neither for OracleCallableStatement nor\nStoredProcedureQuery).</p>\n"},{"tags":["java","postgresql","intellij-idea","jdbc"],"comments":[{"owner":{"account_id":17644245,"reputation":1368,"user_id":12806294,"display_name":"Yuri Win"},"score":0,"creation_date":1610371655,"post_id":65646647,"comment_id":116103596,"body_markdown":"do you have proper permission setup in pg_hba.conf file? looks like insufficient access rights.","body":"do you have proper permission setup in pg_hba.conf file? looks like insufficient access rights."}],"answers":[{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1610374011,"creation_date":1610220456,"answer_id":65646751,"question_id":65646647,"body_markdown":"Try to connect with settings from this example\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI think you will set hostname wrongly\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4GNgM.png","title":"Cannot connect to database through Intellij&#39;s Data Sources and Drivers","body":"<p>Try to connect with settings from this example</p>\n<p><a href=\"https://i.stack.imgur.com/4GNgM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4GNgM.png\" alt=\"enter image description here\" /></a></p>\n<p>I think you will set hostname wrongly</p>\n"}],"owner":{"account_id":20204248,"reputation":115,"user_id":14819134,"display_name":"Lukas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83684,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":65646751,"answer_count":1,"score":4,"last_activity_date":1666365315,"creation_date":1610219859,"question_id":65646647,"body_markdown":"I have a problem with displaying my databse structure through Intellij&#39;s Data Sources and Drivers page. I can connect to my database which is hosted on a redhat server through using application.properties of my spring project:\r\n\r\n&gt; spring.datasource.url=jdbc:postgresql://192.168.0.38:5432/cms_database\r\n\r\nwhich works fine. Although, whenever I try to use Intellij&#39;s Data Sources and Drivers page I get an [Error Message][1]:\r\n\r\n\r\n&gt; [3D000] FATAL: database &quot;cms_database&quot; does not exist.\r\n\r\n\r\n\r\nI can test to connect to database &quot;postgres&quot; which returns a [Connection][2]:\r\n\r\n\r\n&gt; DBMS: PostgreSQL (ver. 13.0) Case sensitivity: plain=lower,\r\n&gt; delimited=exact Driver: PostgreSQL JDBC Driver (ver. 42.2.5, JDBC4.2)\r\n&gt; Ping: 16 ms SSL: no\r\n\r\nAny help would be appreciated. If you need any extra info I would be happy to post!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iT72h.png\r\n  [2]: https://i.stack.imgur.com/tA2JO.png","title":"Cannot connect to database through Intellij&#39;s Data Sources and Drivers","body":"<p>I have a problem with displaying my databse structure through Intellij's Data Sources and Drivers page. I can connect to my database which is hosted on a redhat server through using application.properties of my spring project:</p>\n<blockquote>\n<p>spring.datasource.url=jdbc:postgresql://192.168.0.38:5432/cms_database</p>\n</blockquote>\n<p>which works fine. Although, whenever I try to use Intellij's Data Sources and Drivers page I get an <a href=\"https://i.stack.imgur.com/iT72h.png\" rel=\"nofollow noreferrer\">Error Message</a>:</p>\n<blockquote>\n<p>[3D000] FATAL: database &quot;cms_database&quot; does not exist.</p>\n</blockquote>\n<p>I can test to connect to database &quot;postgres&quot; which returns a <a href=\"https://i.stack.imgur.com/tA2JO.png\" rel=\"nofollow noreferrer\">Connection</a>:</p>\n<blockquote>\n<p>DBMS: PostgreSQL (ver. 13.0) Case sensitivity: plain=lower,\ndelimited=exact Driver: PostgreSQL JDBC Driver (ver. 42.2.5, JDBC4.2)\nPing: 16 ms SSL: no</p>\n</blockquote>\n<p>Any help would be appreciated. If you need any extra info I would be happy to post!</p>\n"},{"tags":["java","java-stream","mapping","collectors","groupingby"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666365147,"creation_date":1666275010,"answer_id":74141339,"question_id":74139540,"body_markdown":"You can do it with streams but there would probably be some internal iterations or other streams required or perhaps having to write a custom collector. And I assure you it is not as easy as the following:\r\n\r\nHere I am using records to facilitate the demo.  They behave like immutable classes with getters auto-generated.  I modified the `toString()` of `NewView` for display.\r\n```\r\nrecord View(String getId, String getDocId, String getName) {\r\n}\r\n\r\nrecord NewView(String getId, String getName, List&lt;String&gt; getDocIds) {\r\n\t@Override\r\n\tpublic String toString() {\r\n\t    return getName + &quot;, &quot; + getId + &quot;, &quot; + getDocIds;\r\n\t}\r\n}\r\n```\r\nThe process creates a Map to hold the resulting NewView class with a common key.  I chose name, but `Id` would have also worked.  If the existing `key` is not present, a new NewValue instance is created.  That is then returned and the list is retrieved and the associated `docId` is added to the list.\r\n```\r\nList&lt;View&gt; viewList = new ArrayList&lt;&gt;();\r\nviewList.add(new View(&quot;1234&quot;, &quot;ab123&quot;, &quot;john&quot;));\r\nviewList.add(new View(&quot;1234&quot;, &quot;cd456&quot;, &quot;john&quot;));\r\nviewList.add(new View(&quot;1234&quot;, &quot;ef789&quot;, &quot;john&quot;));\r\nviewList.add(new View(&quot;5678&quot;, &quot;jh987&quot;, &quot;jack&quot;));\r\nviewList.add(new View(&quot;5678&quot;, &quot;ij654&quot;, &quot;jack&quot;));\r\nviewList.add(new View(&quot;5678&quot;, &quot;kl321&quot;, &quot;jack&quot;));\r\nviewList.add(new View(&quot;9876&quot;, &quot;mn123&quot;, &quot;ben&quot;));\r\nviewList.add(new View(&quot;9876&quot;, &quot;op456&quot;, &quot;ben&quot;));\r\n\r\nMap&lt;String, NewView&gt; results = new HashMap&lt;&gt;();\r\n\r\nfor (View view : viewList) {\r\n    results.computeIfAbsent(view.getName(),\r\n\t    v -&gt; new NewView(view.getId(), view.getName(),\r\n\t\t    new ArrayList&lt;&gt;()))\r\n\t    .getDocIds().add(view.getDocId());\r\n}\r\n```\r\nThe values are stored in a `Collection` and can be iterated as such to print.\r\n```\r\nfor (NewView v : results.values()) {\r\n    System.out.println(v);\r\n}\r\n```\r\nprints\r\n```\r\nben, 9876, [mn123, op456]\r\njohn, 1234, [ab123, cd456, ef789]\r\njack, 5678, [jh987, ij654, kl321]\r\n```\r\nFor index retrieval you would need to add them to `List&lt;NewView&gt;`\r\n```\r\nList&lt;NewView&gt; newViewList = new ArrayList&lt;&gt;(results.values());\r\nSystem.out.println(newViewList.get(1));\r\n```\r\nprints\r\n```\r\njohn, 1234, [ab123, cd456, ef789]","title":"Java-Stream - Create a List of aggregated Objects using Collector groupingBy","body":"<p>You can do it with streams but there would probably be some internal iterations or other streams required or perhaps having to write a custom collector. And I assure you it is not as easy as the following:</p>\n<p>Here I am using records to facilitate the demo.  They behave like immutable classes with getters auto-generated.  I modified the <code>toString()</code> of <code>NewView</code> for display.</p>\n<pre><code>record View(String getId, String getDocId, String getName) {\n}\n\nrecord NewView(String getId, String getName, List&lt;String&gt; getDocIds) {\n    @Override\n    public String toString() {\n        return getName + &quot;, &quot; + getId + &quot;, &quot; + getDocIds;\n    }\n}\n</code></pre>\n<p>The process creates a Map to hold the resulting NewView class with a common key.  I chose name, but <code>Id</code> would have also worked.  If the existing <code>key</code> is not present, a new NewValue instance is created.  That is then returned and the list is retrieved and the associated <code>docId</code> is added to the list.</p>\n<pre><code>List&lt;View&gt; viewList = new ArrayList&lt;&gt;();\nviewList.add(new View(&quot;1234&quot;, &quot;ab123&quot;, &quot;john&quot;));\nviewList.add(new View(&quot;1234&quot;, &quot;cd456&quot;, &quot;john&quot;));\nviewList.add(new View(&quot;1234&quot;, &quot;ef789&quot;, &quot;john&quot;));\nviewList.add(new View(&quot;5678&quot;, &quot;jh987&quot;, &quot;jack&quot;));\nviewList.add(new View(&quot;5678&quot;, &quot;ij654&quot;, &quot;jack&quot;));\nviewList.add(new View(&quot;5678&quot;, &quot;kl321&quot;, &quot;jack&quot;));\nviewList.add(new View(&quot;9876&quot;, &quot;mn123&quot;, &quot;ben&quot;));\nviewList.add(new View(&quot;9876&quot;, &quot;op456&quot;, &quot;ben&quot;));\n\nMap&lt;String, NewView&gt; results = new HashMap&lt;&gt;();\n\nfor (View view : viewList) {\n    results.computeIfAbsent(view.getName(),\n        v -&gt; new NewView(view.getId(), view.getName(),\n            new ArrayList&lt;&gt;()))\n        .getDocIds().add(view.getDocId());\n}\n</code></pre>\n<p>The values are stored in a <code>Collection</code> and can be iterated as such to print.</p>\n<pre><code>for (NewView v : results.values()) {\n    System.out.println(v);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>ben, 9876, [mn123, op456]\njohn, 1234, [ab123, cd456, ef789]\njack, 5678, [jh987, ij654, kl321]\n</code></pre>\n<p>For index retrieval you would need to add them to <code>List&lt;NewView&gt;</code></p>\n<pre><code>List&lt;NewView&gt; newViewList = new ArrayList&lt;&gt;(results.values());\nSystem.out.println(newViewList.get(1));\n</code></pre>\n<p>prints</p>\n<pre><code>john, 1234, [ab123, cd456, ef789]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666276206,"creation_date":1666275788,"answer_id":74141512,"question_id":74139540,"body_markdown":"It can be done by in a single stream statement.\r\n\r\nFor that we can define a custom Collector via static method [`Collector.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)) which would be used as a downstream of `groupingBy()` to perform mutable reduction of the `View` instances having the same `id` (*and consequently mapped to the same key*).\r\n\r\nIt would also require creating a custom accumulation type that would serve a mean of mutable reduction and eventually would be transformed into a `NewView`.\r\n\r\n***Note** that* `NewView` *can also serve as the accumulation type, in case if it&#39;s mutable (I would make a safe assumption, that it&#39;s not and create a separate class for that purpose).*\r\n\r\nThat&#39;s how the stream producing the resulting list might look like:\r\n\r\n```\r\nList&lt;View&gt; viewList = // initialing the list\r\n    \r\nList&lt;NewView&gt; newViewList = viewList.stream()\r\n    .collect(Collectors.groupingBy(\r\n        View::getId,\r\n        Collector.of(\r\n            ViewMerger::new,\r\n            ViewMerger::accept,\r\n            ViewMerger::merge,\r\n            ViewMerger::toNewView\r\n        )\r\n    ))\r\n    .values().stream().toList();\r\n```\r\n\r\nThat&#39;s how such accumulation type might look like. For convenience, I&#39;ve implemented the contract of [`Consumer`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html) interface:\r\n\r\n    public static class ViewMerger implements Consumer&lt;View&gt; {\r\n        private String id;\r\n        private String name;\r\n        private List&lt;String&gt; docIds = new ArrayList&lt;&gt;();\r\n        \r\n        // no args-constructor\r\n    \r\n        @Override\r\n        public void accept(View view) {\r\n            if (id == null) id = view.getId();\r\n            if (name == null) name = view.getName();\r\n            \r\n            docIds.add(view.getDocId());\r\n        }\r\n        \r\n        public ViewMerger merge(ViewMerger other) {\r\n            this.docIds.addAll(other.docIds);\r\n            return this;\r\n        }\r\n        \r\n        public NewView toNewView() {\r\n            return new NewView(id, name, docIds);\r\n        }\r\n    }","title":"Java-Stream - Create a List of aggregated Objects using Collector groupingBy","body":"<p>It can be done by in a single stream statement.</p>\n<p>For that we can define a custom Collector via static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a> which would be used as a downstream of <code>groupingBy()</code> to perform mutable reduction of the <code>View</code> instances having the same <code>id</code> (<em>and consequently mapped to the same key</em>).</p>\n<p>It would also require creating a custom accumulation type that would serve a mean of mutable reduction and eventually would be transformed into a <code>NewView</code>.</p>\n<p><em><strong>Note</strong> that</em> <code>NewView</code> <em>can also serve as the accumulation type, in case if it's mutable (I would make a safe assumption, that it's not and create a separate class for that purpose).</em></p>\n<p>That's how the stream producing the resulting list might look like:</p>\n<pre><code>List&lt;View&gt; viewList = // initialing the list\n    \nList&lt;NewView&gt; newViewList = viewList.stream()\n    .collect(Collectors.groupingBy(\n        View::getId,\n        Collector.of(\n            ViewMerger::new,\n            ViewMerger::accept,\n            ViewMerger::merge,\n            ViewMerger::toNewView\n        )\n    ))\n    .values().stream().toList();\n</code></pre>\n<p>That's how such accumulation type might look like. For convenience, I've implemented the contract of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html\" rel=\"nofollow noreferrer\"><code>Consumer</code></a> interface:</p>\n<pre><code>public static class ViewMerger implements Consumer&lt;View&gt; {\n    private String id;\n    private String name;\n    private List&lt;String&gt; docIds = new ArrayList&lt;&gt;();\n    \n    // no args-constructor\n\n    @Override\n    public void accept(View view) {\n        if (id == null) id = view.getId();\n        if (name == null) name = view.getName();\n        \n        docIds.add(view.getDocId());\n    }\n    \n    public ViewMerger merge(ViewMerger other) {\n        this.docIds.addAll(other.docIds);\n        return this;\n    }\n    \n    public NewView toNewView() {\n        return new NewView(id, name, docIds);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666282608,"creation_date":1666281943,"answer_id":74143008,"question_id":74139540,"body_markdown":"**Using groupingBy Multiple fields**\r\n\r\n*You can try the approach of `groupingBy` using multiple fields.*\r\n\r\n***Here,***\r\n\r\nI have grouped it by `id` and `name` and then iterate over it to prepare a `list` of `NewView Objects` as shown below:\r\n\r\n    List&lt;NewView&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n        viewList.stream()\r\n                    .collect(Collectors.groupingBy(View::getId,\r\n                             Collectors.groupingBy(View::getName,\r\n                      Collectors.mapping(View::getDocId,Collectors.toList()))))\r\n                                .forEach((k,v) -&gt; \r\n                           list.add(new NewView(k, (String) v.keySet().toArray()[0], \r\n                                  (List&lt;String&gt;) v.values().toArray()[0])));\r\n    \r\n            System.out.println(list);\r\n\r\n**Output::**\r\n\r\n     [NewView{id=&#39;9876&#39;, name=&#39;ben&#39;, docIds=[mn123, op456]}, \r\n      NewView{id=&#39;1234&#39;, name=&#39;john&#39;, docIds=[ab123, cd456, ef789]},\r\n      NewView{id=&#39;5678&#39;, name=&#39;jack&#39;, docIds=[jh987, ij654, kl321]}]\r\n\r\n","title":"Java-Stream - Create a List of aggregated Objects using Collector groupingBy","body":"<p><strong>Using groupingBy Multiple fields</strong></p>\n<p><em>You can try the approach of <code>groupingBy</code> using multiple fields.</em></p>\n<p><em><strong>Here,</strong></em></p>\n<p>I have grouped it by <code>id</code> and <code>name</code> and then iterate over it to prepare a <code>list</code> of <code>NewView Objects</code> as shown below:</p>\n<pre><code>List&lt;NewView&gt; list = new ArrayList&lt;&gt;();\n\n    viewList.stream()\n                .collect(Collectors.groupingBy(View::getId,\n                         Collectors.groupingBy(View::getName,\n                  Collectors.mapping(View::getDocId,Collectors.toList()))))\n                            .forEach((k,v) -&gt; \n                       list.add(new NewView(k, (String) v.keySet().toArray()[0], \n                              (List&lt;String&gt;) v.values().toArray()[0])));\n\n        System.out.println(list);\n</code></pre>\n<p><strong>Output::</strong></p>\n<pre><code> [NewView{id='9876', name='ben', docIds=[mn123, op456]}, \n  NewView{id='1234', name='john', docIds=[ab123, cd456, ef789]},\n  NewView{id='5678', name='jack', docIds=[jh987, ij654, kl321]}]\n</code></pre>\n"}],"owner":{"account_id":26681022,"reputation":33,"user_id":20290971,"display_name":"samolet2415"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74141512,"answer_count":3,"score":3,"last_activity_date":1666365147,"creation_date":1666267272,"question_id":74139540,"body_markdown":"I have a domain class `View`:\r\n\r\n    public class View {\r\n        private String id;\r\n        private String docId;\r\n        private String name;\r\n        \r\n        // constructor, getters, etc.\r\n    }\r\n\r\n\r\nAnd there&#39;s a list of `View` objects.\r\n\r\nElements having the same `id`, only differ in one field `docId` (the second attribute), example:\r\n\r\n```lang-java\r\nList&lt;View&gt; viewList = new ArrayList&lt;&gt;();\r\nviewList.add(new View(&quot;1234&quot;, &quot;ab123&quot;, &quot;john&quot;));\r\nviewList.add(new View(&quot;1234&quot;, &quot;cd456&quot;, &quot;john&quot;));\r\nviewList.add(new View(&quot;1234&quot;, &quot;ef789&quot;, &quot;john&quot;));\r\nviewList.add(new View(&quot;5678&quot;, &quot;jh987&quot;, &quot;jack&quot;));\r\nviewList.add(new View(&quot;5678&quot;, &quot;ij654&quot;, &quot;jack&quot;));\r\nviewList.add(new View(&quot;5678&quot;, &quot;kl321&quot;, &quot;jack&quot;));\r\nviewList.add(new View(&quot;9876&quot;, &quot;mn123&quot;, &quot;ben&quot;));\r\nviewList.add(new View(&quot;9876&quot;, &quot;op456&quot;, &quot;ben&quot;));\r\n}\r\n```\r\n\r\nA and I want to convert them into list of aggregated objects `NewView`.\r\n\r\n`NewView` class look like this:\r\n\r\n    public static class NewView {\r\n        private String id;\r\n        private String name;\r\n        private List&lt;String&gt; docId = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n***Expected Output*** for the sample data provided above would be:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: &quot;1234&quot;,\r\n  &quot;name&quot;: &quot;john&quot;,\r\n  &quot;docIds&quot;: [&quot;ab123&quot;, &quot;cd456&quot;, &quot;ef789&quot;]\r\n},\r\n{\r\n  &quot;id&quot;: &quot;5678&quot;,\r\n  &quot;name&quot;: &quot;jack&quot;,\r\n  &quot;docIds&quot;: [&quot;jh987&quot;, &quot;ij654&quot;, &quot;kl321&quot;]\r\n},\r\n{\r\n  &quot;id&quot;: &quot;9876&quot;,\r\n  &quot;name&quot;: &quot;ben&quot;,\r\n  &quot;docIds&quot;: [&quot;mn123&quot;, &quot;op456&quot;]\r\n}\r\n```\r\n\r\nI&#39;ve tried something like this:\r\n\r\n```lang-java\r\nMap&lt;String, List&lt;String&gt;&gt; docIdsById = viewList.stream()\r\n    .collect(groupingBy(\r\n        View::getId,\r\n        Collectors.mapping(View::getDocId, Collectors.toList())\r\n    ));\r\n\r\nMap&lt;String, List&lt;View&gt;&gt; views = viewList.stream()\r\n    .collect(groupingBy(View::getId));\r\n\r\nList&lt;NewView&gt; newViewList = new ArrayList&lt;&gt;();\r\n\r\nfor (Map.Entry&lt;String, List&lt;View&gt;&gt; stringListEntry : views.entrySet()) {\r\n    View view = stringListEntry.getValue().get(0);\r\n    newViewList.add(new NewView(\r\n            view.getId(),\r\n            view.getName(),\r\n            docIdsById.get(stringListEntry.getKey()))\r\n    );\r\n}\r\n```\r\n\r\nCan I create a list of `NewView` in only one Stream?","title":"Java-Stream - Create a List of aggregated Objects using Collector groupingBy","body":"<p>I have a domain class <code>View</code>:</p>\n<pre><code>public class View {\n    private String id;\n    private String docId;\n    private String name;\n    \n    // constructor, getters, etc.\n}\n</code></pre>\n<p>And there's a list of <code>View</code> objects.</p>\n<p>Elements having the same <code>id</code>, only differ in one field <code>docId</code> (the second attribute), example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;View&gt; viewList = new ArrayList&lt;&gt;();\nviewList.add(new View(&quot;1234&quot;, &quot;ab123&quot;, &quot;john&quot;));\nviewList.add(new View(&quot;1234&quot;, &quot;cd456&quot;, &quot;john&quot;));\nviewList.add(new View(&quot;1234&quot;, &quot;ef789&quot;, &quot;john&quot;));\nviewList.add(new View(&quot;5678&quot;, &quot;jh987&quot;, &quot;jack&quot;));\nviewList.add(new View(&quot;5678&quot;, &quot;ij654&quot;, &quot;jack&quot;));\nviewList.add(new View(&quot;5678&quot;, &quot;kl321&quot;, &quot;jack&quot;));\nviewList.add(new View(&quot;9876&quot;, &quot;mn123&quot;, &quot;ben&quot;));\nviewList.add(new View(&quot;9876&quot;, &quot;op456&quot;, &quot;ben&quot;));\n}\n</code></pre>\n<p>A and I want to convert them into list of aggregated objects <code>NewView</code>.</p>\n<p><code>NewView</code> class look like this:</p>\n<pre><code>public static class NewView {\n    private String id;\n    private String name;\n    private List&lt;String&gt; docId = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p><em><strong>Expected Output</strong></em> for the sample data provided above would be:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: &quot;1234&quot;,\n  &quot;name&quot;: &quot;john&quot;,\n  &quot;docIds&quot;: [&quot;ab123&quot;, &quot;cd456&quot;, &quot;ef789&quot;]\n},\n{\n  &quot;id&quot;: &quot;5678&quot;,\n  &quot;name&quot;: &quot;jack&quot;,\n  &quot;docIds&quot;: [&quot;jh987&quot;, &quot;ij654&quot;, &quot;kl321&quot;]\n},\n{\n  &quot;id&quot;: &quot;9876&quot;,\n  &quot;name&quot;: &quot;ben&quot;,\n  &quot;docIds&quot;: [&quot;mn123&quot;, &quot;op456&quot;]\n}\n</code></pre>\n<p>I've tried something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;String&gt;&gt; docIdsById = viewList.stream()\n    .collect(groupingBy(\n        View::getId,\n        Collectors.mapping(View::getDocId, Collectors.toList())\n    ));\n\nMap&lt;String, List&lt;View&gt;&gt; views = viewList.stream()\n    .collect(groupingBy(View::getId));\n\nList&lt;NewView&gt; newViewList = new ArrayList&lt;&gt;();\n\nfor (Map.Entry&lt;String, List&lt;View&gt;&gt; stringListEntry : views.entrySet()) {\n    View view = stringListEntry.getValue().get(0);\n    newViewList.add(new NewView(\n            view.getId(),\n            view.getName(),\n            docIdsById.get(stringListEntry.getKey()))\n    );\n}\n</code></pre>\n<p>Can I create a list of <code>NewView</code> in only one Stream?</p>\n"},{"tags":["java","jsf","rest","servlets","get"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1666365119,"creation_date":1317473869,"answer_id":7620339,"question_id":7619223,"body_markdown":"If you want a RESTful web service, use [JAX-RS][1] (e.g. [Jersey][2]) instead of JSF.\r\n\r\nOr, if you just want &quot;pretty&quot; (REST-like) URLs for JSF, use [PrettyFaces][3].\r\n\r\n\r\n  [1]: https://eclipse-ee4j.github.io/jakartaee-tutorial/#building-restful-web-services-with-jakarta-rest\r\n  [2]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/user-guide.html\r\n  [3]: https://www.ocpsoft.org/prettyfaces/","title":"JSF provide very basic REST get method","body":"<p>If you want a RESTful web service, use <a href=\"https://eclipse-ee4j.github.io/jakartaee-tutorial/#building-restful-web-services-with-jakarta-rest\" rel=\"nofollow noreferrer\">JAX-RS</a> (e.g. <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/user-guide.html\" rel=\"nofollow noreferrer\">Jersey</a>) instead of JSF.</p>\n<p>Or, if you just want &quot;pretty&quot; (REST-like) URLs for JSF, use <a href=\"https://www.ocpsoft.org/prettyfaces/\" rel=\"nofollow noreferrer\">PrettyFaces</a>.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1317481754,"creation_date":1317481754,"answer_id":7621028,"question_id":7619223,"body_markdown":"Assuming servlets...\r\n\r\nIf you&#39;re relying on the JSF [context][1], the trick will be to get the [`FacesServlet`][2] to execute the code. The `FacesServlet` is responsible for creating and destroying the request context.\r\n\r\nHere is the managed bean we want to invoke:\r\n\r\n    @ManagedBean @RequestScoped\r\n    public class Restlike {\r\n      public void respond() {\r\n       FacesContext context = FacesContext.getCurrentInstance();\r\n       ExternalContext ext = context.getExternalContext();\r\n       HttpServletResponse response = (HttpServletResponse) ext.getResponse();\r\n       response.setContentType(&quot;text/plain; charset=UTF-8&quot;);\r\n        try {\r\n          PrintWriter pw = response.getWriter();\r\n          pw.print(&quot;Hello, World!&quot;);\r\n        } catch (IOException ex) {\r\n          throw new FacesException(ex);\r\n        }\r\n        context.responseComplete();\r\n      }\r\n    }\r\n\r\nHere is the placeholder view that will execute the code. `resty.xhtml`:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n    &lt;metadata xmlns=&quot;http://java.sun.com/jsf/core&quot;&gt;\r\n      &lt;event type=&quot;preRenderView&quot; listener=&quot;#{restlike.respond}&quot;/&gt;\r\n    &lt;/metadata&gt;\r\n\r\nHitting `resty.faces` doesn&#39;t look very RESTful, but it is trivial to handle with a [filter][3]:\r\n\r\n    @WebFilter(&quot;/rest/*&quot;)\r\n    public class RestyFilter implements Filter {\r\n      @Override\r\n      public void doFilter(ServletRequest request, ServletResponse response,\r\n                           FilterChain chain) throws IOException, ServletException {\r\n        request.getRequestDispatcher(&quot;/resty.faces&quot;).forward(request, response);\r\n      }\r\n    \r\n      @Override\r\n      public void init(FilterConfig filterConfig) throws ServletException {}\r\n      \r\n      @Override\r\n      public void destroy() {} \r\n    }\r\n\r\nThe resultant URL will look something like `http://host/context/rest`\r\n\r\n----------\r\n\r\nThis solution is a bit of a hack and only applicable to servlet environments. A better approach might be to add a custom [`ResourceHandler`][4] but I haven&#39;t spent much time investigating that part of the API.\r\n\r\n\r\n  [1]: http://java.sun.com/javaee/6/docs/api/javax/faces/context/FacesContext.html\r\n  [2]: http://java.sun.com/javaee/6/docs/api/javax/faces/webapp/FacesServlet.html\r\n  [3]: http://java.sun.com/javaee/6/docs/api/javax/servlet/Filter.html\r\n  [4]: http://java.sun.com/javaee/6/docs/api/javax/faces/application/ResourceHandler.html","title":"JSF provide very basic REST get method","body":"<p>Assuming servlets...</p>\n\n<p>If you're relying on the JSF <a href=\"http://java.sun.com/javaee/6/docs/api/javax/faces/context/FacesContext.html\" rel=\"noreferrer\">context</a>, the trick will be to get the <a href=\"http://java.sun.com/javaee/6/docs/api/javax/faces/webapp/FacesServlet.html\" rel=\"noreferrer\"><code>FacesServlet</code></a> to execute the code. The <code>FacesServlet</code> is responsible for creating and destroying the request context.</p>\n\n<p>Here is the managed bean we want to invoke:</p>\n\n<pre><code>@ManagedBean @RequestScoped\npublic class Restlike {\n  public void respond() {\n   FacesContext context = FacesContext.getCurrentInstance();\n   ExternalContext ext = context.getExternalContext();\n   HttpServletResponse response = (HttpServletResponse) ext.getResponse();\n   response.setContentType(\"text/plain; charset=UTF-8\");\n    try {\n      PrintWriter pw = response.getWriter();\n      pw.print(\"Hello, World!\");\n    } catch (IOException ex) {\n      throw new FacesException(ex);\n    }\n    context.responseComplete();\n  }\n}\n</code></pre>\n\n<p>Here is the placeholder view that will execute the code. <code>resty.xhtml</code>:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;metadata xmlns=\"http://java.sun.com/jsf/core\"&gt;\n  &lt;event type=\"preRenderView\" listener=\"#{restlike.respond}\"/&gt;\n&lt;/metadata&gt;\n</code></pre>\n\n<p>Hitting <code>resty.faces</code> doesn't look very RESTful, but it is trivial to handle with a <a href=\"http://java.sun.com/javaee/6/docs/api/javax/servlet/Filter.html\" rel=\"noreferrer\">filter</a>:</p>\n\n<pre><code>@WebFilter(\"/rest/*\")\npublic class RestyFilter implements Filter {\n  @Override\n  public void doFilter(ServletRequest request, ServletResponse response,\n                       FilterChain chain) throws IOException, ServletException {\n    request.getRequestDispatcher(\"/resty.faces\").forward(request, response);\n  }\n\n  @Override\n  public void init(FilterConfig filterConfig) throws ServletException {}\n\n  @Override\n  public void destroy() {} \n}\n</code></pre>\n\n<p>The resultant URL will look something like <code>http://host/context/rest</code></p>\n\n<hr>\n\n<p>This solution is a bit of a hack and only applicable to servlet environments. A better approach might be to add a custom <a href=\"http://java.sun.com/javaee/6/docs/api/javax/faces/application/ResourceHandler.html\" rel=\"noreferrer\"><code>ResourceHandler</code></a> but I haven't spent much time investigating that part of the API.</p>\n"}],"owner":{"account_id":323621,"reputation":10723,"user_id":643742,"accept_rate":97,"display_name":"Franz Kafka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5564,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":7621028,"answer_count":2,"score":4,"last_activity_date":1666365119,"creation_date":1317459089,"question_id":7619223,"body_markdown":"Is there a way to have a doGet method in a `@ManagedBean` and define a URL on which this bean will react.\r\n\r\nI am using JSF and want to provide a really basic feed, but for this I need to react on a get request.\r\n\r\nI wrote it with normal servlets first, but now I noticed that I need information from another `ManagedBean` therefore I need a `@ManagedProperty` - hence JSF...\r\n\r\nMy questions:\r\n\r\n- Is there a URLPattern annotation or similar?\r\n\r\n- Is there a `doGet` method that is similar to the Servlet&#39;s `doGet`?","title":"JSF provide very basic REST get method","body":"<p>Is there a way to have a doGet method in a <code>@ManagedBean</code> and define a URL on which this bean will react.</p>\n\n<p>I am using JSF and want to provide a really basic feed, but for this I need to react on a get request.</p>\n\n<p>I wrote it with normal servlets first, but now I noticed that I need information from another <code>ManagedBean</code> therefore I need a <code>@ManagedProperty</code> - hence JSF...</p>\n\n<p>My questions:</p>\n\n<ul>\n<li><p>Is there a URLPattern annotation or similar?</p></li>\n<li><p>Is there a <code>doGet</code> method that is similar to the Servlet's <code>doGet</code>?</p></li>\n</ul>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666792591,"post_id":74153946,"comment_id":131019872,"body_markdown":"Show us the `AllRestauItem` and `HotelDetail` classes.","body":"Show us the <code>AllRestauItem</code> and <code>HotelDetail</code> classes."}],"answers":[{"tags":[],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666357901,"creation_date":1666357549,"answer_id":74154066,"question_id":74153946,"body_markdown":" 1. Add `AllRestauAdp.notifyDataSetChanged();` below recyclerRestorent.setAdapter(allRestauAdp);\r\n 2. Make sure you set the layout manager of your recyclerview like this: `recyclerRestorent.setLayoutManager(new LinearLayoutManager(getContext()));`\r\n","title":"how to read this firestore array to recyclerview android?","body":"<ol>\n<li>Add <code>AllRestauAdp.notifyDataSetChanged();</code> below recyclerRestorent.setAdapter(allRestauAdp);</li>\n<li>Make sure you set the layout manager of your recyclerview like this: <code>recyclerRestorent.setLayoutManager(new LinearLayoutManager(getContext()));</code></li>\n</ol>\n"}],"owner":{"account_id":26692045,"reputation":1,"user_id":20300487,"display_name":"bhuvi war"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666364741,"creation_date":1666356944,"question_id":74153946,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/61D19.jpg\r\n\r\nmy code example 1:\r\n\r\n    db.collection(&quot;UserHotel&quot;).document(&quot;hotelDetails&quot;).get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            DocumentSnapshot document = task.getResult();\r\n\r\n                            if (document.exists()) {\r\n\r\n                                List&lt;AllRestauItem&gt; trans = document.toObject(HotelDetail.class).transactions;\r\n\r\n                                List&lt;String&gt; amountArrayList = new ArrayList&lt;&gt;();\r\n                                for(AllRestauItem transaction : trans) {\r\n                                    String amount = transaction.getHotelName();\r\n                                    amountArrayList.add(amount);\r\n                                }\r\n\r\n                                Log.d(&quot;ARRAY&quot;, &quot;DocumentSnapshot data: &quot; + trans.toString());\r\n\r\n                                AllRestauAdp allRestauAdp = new AllRestauAdp(view.getContext(), amountArrayList);\r\n                                recyclerRestorent.setAdapter(allRestauAdp);\r\n\r\n\r\n                            } else {\r\n                                Log.d(&quot;TAG&quot;, &quot;No such document&quot;);\r\n                            }\r\n\r\n                        }else {\r\n                            Log.d(&quot;TAG&quot;, &quot;get failed with &quot;, task.getException());\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n\r\nmy code example 2:\r\n\r\n    ArrayList&lt;HotelDetail&gt; viewOrderModelList = new ArrayList&lt;HotelDetail&gt;();\r\n        db.collection(&quot;UserHotel&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                if (!queryDocumentSnapshots.isEmpty()){\r\n                    List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\r\n                    for (DocumentSnapshot docSnap : list) {\r\n                        HotelDetail orderModel = docSnap.toObject(HotelDetail.class);\r\n                        viewOrderModelList.add(orderModel);\r\n                        AllRestauAdp allRestauAdp = new AllRestauAdp(view.getContext(), viewOrderModelList);\r\n                        recyclerRestorent.setAdapter(allRestauAdp);\r\n                    }\r\n                    //viewOrderAdapter.notifyDataSetChanged();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\ni try the above two examples and tried more but can&#39;t fetch details in recyclerview. \r\n","title":"how to read this firestore array to recyclerview android?","body":"<p><a href=\"https://i.stack.imgur.com/61D19.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/61D19.jpg\" alt=\"enter image description here\" /></a></p>\n<p>my code example 1:</p>\n<pre><code>db.collection(&quot;UserHotel&quot;).document(&quot;hotelDetails&quot;).get()\n            .addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        DocumentSnapshot document = task.getResult();\n\n                        if (document.exists()) {\n\n                            List&lt;AllRestauItem&gt; trans = document.toObject(HotelDetail.class).transactions;\n\n                            List&lt;String&gt; amountArrayList = new ArrayList&lt;&gt;();\n                            for(AllRestauItem transaction : trans) {\n                                String amount = transaction.getHotelName();\n                                amountArrayList.add(amount);\n                            }\n\n                            Log.d(&quot;ARRAY&quot;, &quot;DocumentSnapshot data: &quot; + trans.toString());\n\n                            AllRestauAdp allRestauAdp = new AllRestauAdp(view.getContext(), amountArrayList);\n                            recyclerRestorent.setAdapter(allRestauAdp);\n\n\n                        } else {\n                            Log.d(&quot;TAG&quot;, &quot;No such document&quot;);\n                        }\n\n                    }else {\n                        Log.d(&quot;TAG&quot;, &quot;get failed with &quot;, task.getException());\n                    }\n                }\n            });\n</code></pre>\n<p>my code example 2:</p>\n<pre><code>ArrayList&lt;HotelDetail&gt; viewOrderModelList = new ArrayList&lt;HotelDetail&gt;();\n    db.collection(&quot;UserHotel&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n            if (!queryDocumentSnapshots.isEmpty()){\n                List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\n                for (DocumentSnapshot docSnap : list) {\n                    HotelDetail orderModel = docSnap.toObject(HotelDetail.class);\n                    viewOrderModelList.add(orderModel);\n                    AllRestauAdp allRestauAdp = new AllRestauAdp(view.getContext(), viewOrderModelList);\n                    recyclerRestorent.setAdapter(allRestauAdp);\n                }\n                //viewOrderAdapter.notifyDataSetChanged();\n            }\n        }\n    });\n</code></pre>\n<p>i try the above two examples and tried more but can't fetch details in recyclerview.</p>\n"},{"tags":["java","android","linux","android-studio"],"comments":[{"owner":{"account_id":1566290,"reputation":7744,"user_id":1455028,"accept_rate":95,"display_name":"Dayan"},"score":0,"creation_date":1510756901,"post_id":47310006,"comment_id":81570845,"body_markdown":"Did you try `Run with --stacktrace` to get a more detailed breakdown of what crashed.","body":"Did you try <code>Run with --stacktrace</code> to get a more detailed breakdown of what crashed."},{"owner":{"account_id":8671948,"reputation":509,"user_id":6490593,"accept_rate":0,"display_name":"NicoNex"},"score":0,"creation_date":1510766344,"post_id":47310006,"comment_id":81577905,"body_markdown":"@Dayan I&#39;ve edited the question including the output of the stacktrace, it doesn&#39;t help me much understanding the cause of the problem though","body":"@Dayan I&#39;ve edited the question including the output of the stacktrace, it doesn&#39;t help me much understanding the cause of the problem though"},{"owner":{"account_id":1168835,"reputation":1279,"user_id":1146487,"accept_rate":87,"display_name":"Mewel"},"score":0,"creation_date":1511539746,"post_id":47310006,"comment_id":81908290,"body_markdown":"Did you found a solution, i have the exact same problem?","body":"Did you found a solution, i have the exact same problem?"},{"owner":{"account_id":8671948,"reputation":509,"user_id":6490593,"accept_rate":0,"display_name":"NicoNex"},"score":0,"creation_date":1511609626,"post_id":47310006,"comment_id":81925811,"body_markdown":"Yes, I followed this guide and I managed to get it fixed\n\nhttps://coderwall.com/p/r09hoq/android-generate-release-debug-keystores","body":"Yes, I followed this guide and I managed to get it fixed  <a href=\"https://coderwall.com/p/r09hoq/android-generate-release-debug-keystores\" rel=\"nofollow noreferrer\">coderwall.com/p/r09hoq/android-generate-release-debug-keysto&zwnj;&#8203;res</a>"},{"owner":{"account_id":153802,"reputation":8942,"user_id":369317,"accept_rate":73,"display_name":"Denys Kniazhev-Support Ukraine"},"score":0,"creation_date":1515324935,"post_id":47310006,"comment_id":83250724,"body_markdown":"@Nicol&#242; so you didn&#39;t have a keystore at all? If that&#39;s the case, can you post an answer and accept it so that other people who find this question can learn from it?","body":"@Nicol&#242; so you didn&#39;t have a keystore at all? If that&#39;s the case, can you post an answer and accept it so that other people who find this question can learn from it?"},{"owner":{"account_id":8671948,"reputation":509,"user_id":6490593,"accept_rate":0,"display_name":"NicoNex"},"score":0,"creation_date":1515601043,"post_id":47310006,"comment_id":83363738,"body_markdown":"@DenisKniazhev what I did not have was a **debug** keystore, anyway I&#39;ve posted my answer.","body":"@DenisKniazhev what I did not have was a <b>debug</b> keystore, anyway I&#39;ve posted my answer."}],"answers":[{"tags":[],"owner":{"account_id":10879423,"reputation":110,"user_id":7998888,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510757675,"creation_date":1510757675,"answer_id":47310531,"question_id":47310006,"body_markdown":"It looks like you are running some Gradle stuff, just change from whatever you have there, and choose what to run: Application or whatever you have, but not gradle. [![run the app, not gradle][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oICiZ.png","title":"Android Studio - Failed to create keystore","body":"<p>It looks like you are running some Gradle stuff, just change from whatever you have there, and choose what to run: Application or whatever you have, but not gradle. <a href=\"https://i.stack.imgur.com/oICiZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oICiZ.png\" alt=\"run the app, not gradle\"></a></p>\n"},{"tags":[],"owner":{"account_id":8671948,"reputation":509,"user_id":6490593,"accept_rate":0,"display_name":"NicoNex"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1515600959,"creation_date":1515600959,"answer_id":48191724,"question_id":47310006,"body_markdown":"It turned out I didn&#39;t have a **debug keystore**. A debug keystore is used to sign Android apps during development, to generate it I just typed this command in the terminal:\r\n\r\n    $ keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000\r\n\r\nas stated in this guide:\r\nhttps://coderwall.com/p/r09hoq/android-generate-release-debug-keystores","title":"Android Studio - Failed to create keystore","body":"<p>It turned out I didn't have a <strong>debug keystore</strong>. A debug keystore is used to sign Android apps during development, to generate it I just typed this command in the terminal:</p>\n\n<pre><code>$ keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000\n</code></pre>\n\n<p>as stated in this guide:\n<a href=\"https://coderwall.com/p/r09hoq/android-generate-release-debug-keystores\" rel=\"noreferrer\">https://coderwall.com/p/r09hoq/android-generate-release-debug-keystores</a></p>\n"},{"tags":[],"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666364646,"creation_date":1666275407,"answer_id":74141422,"question_id":47310006,"body_markdown":"I kept getting this error too...to fix it:\r\n\r\n1. create a new project using the `Basic Activity` template (but any template probably works)\r\n    * in `Android Studio` &gt; `File` &gt; `New` &gt; `New Project...` &gt; `Basic Activity` &gt; `Next` &gt; re-name if needed &gt; `Finish`\r\n1. after builds, run the app on a device/emulator\r\n1. now, run broken project we are trying to fix, and it should be working (tada!)","title":"Android Studio - Failed to create keystore","body":"<p>I kept getting this error too...to fix it:</p>\n<ol>\n<li>create a new project using the <code>Basic Activity</code> template (but any template probably works)\n<ul>\n<li>in <code>Android Studio</code> &gt; <code>File</code> &gt; <code>New</code> &gt; <code>New Project...</code> &gt; <code>Basic Activity</code> &gt; <code>Next</code> &gt; re-name if needed &gt; <code>Finish</code></li>\n</ul>\n</li>\n<li>after builds, run the app on a device/emulator</li>\n<li>now, run broken project we are trying to fix, and it should be working (tada!)</li>\n</ol>\n"}],"owner":{"account_id":8671948,"reputation":509,"user_id":6490593,"accept_rate":0,"display_name":"NicoNex"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13166,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1666364646,"creation_date":1510756164,"question_id":47310006,"body_markdown":"I&#39;m trying to run my app from inside Android Studio, but every time I try i get this error:\r\n\r\n    FAILURE: Build failed with an exception.\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:android:validateSigningDebug&#39;.\r\n    &gt; java.util.concurrent.ExecutionException: \r\n    com.android.builder.utils.SynchronizedFile$ActionExecutionException: \r\n    com.android.ide.common.signing.KeytoolException: Failed to create \r\n    keystore.\r\n\r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n\r\n    * Get more help at https://help.gradle.org\r\n\r\n    BUILD FAILED in 2s\r\n\r\nSearching for a solution online did not lead me to a suitable one.\r\nRunning it with the --debug option gives me this result:    \r\n\r\n    15:21:41.278 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n    15:21:41.278 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] FAILURE: Build failed with an exception.\r\n    15:21:41.278 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n    15:21:41.278 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * What went wrong:\r\n    15:21:41.278 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Execution failed for task &#39;:android:validateSigningDebug&#39;.\r\n    15:21:41.278 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; java.util.concurrent.ExecutionException: com.android.builder.utils.SynchronizedFile$ActionExecutionException: com.android.ide.common.signing.KeytoolException: Failed to create keystore.\r\n    15:21:41.278 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n    15:21:41.279 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Try:\r\n    15:21:41.279 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Run with --stacktrace option to get the stack trace. \r\n    15:21:41.279 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n    15:21:41.279 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Get more help at https://help.gradle.org\r\n    15:21:41.279 [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] \r\n    15:21:41.279 [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] BUILD FAILED in 2s\r\n\r\nThe OS I&#39;m using is Archlinux and the permissions for the .android folder are:\r\n\r\n    $ ls -la\r\n    drwxr-xr-x  4 speedking speedking    4096 15 nov 11.59 .android\r\n\r\nCan anyone help me please?\r\n\r\nEdit:\r\nBuilding a signed apk does work, just running the app from Android Studio doesn&#39;t.\r\n\r\nRunning it with --stacktrace outputs this:\r\n\r\n    FAILURE: Build failed with an exception.\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:android:validateSigningDebug&#39;.\r\n    &gt; java.util.concurrent.ExecutionException: com.android.builder.utils.SynchronizedFile$ActionExecutionException: com.android.ide.common.signing.KeytoolException: Failed to create keystore.\r\n\r\n    * Try:\r\n    Run with --info or --debug option to get more log output.\r\n\r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:android:validateSigningDebug&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\r\n\tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n\tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n\tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    Caused by: org.gradle.internal.UncheckedException: java.util.concurrent.ExecutionException: com.android.builder.utils.SynchronizedFile$ActionExecutionException: com.android.ide.common.signing.KeytoolException: Failed to create keystore.\r\n\tat org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:63)\r\n\tat org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:40)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:76)\r\n\tat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.doExecute(DefaultTaskClassInfoStore.java:141)\r\n\tat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\r\n\tat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\r\n\tat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:731)\r\n\tat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:705)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\r\n\t... 27 more\r\n    Caused by: java.util.concurrent.ExecutionException: com.android.builder.utils.SynchronizedFile$ActionExecutionException: com.android.ide.common.signing.KeytoolException: Failed to create keystore.\r\n\tat com.android.builder.utils.SynchronizedFile.doActionWithMultiProcessLocking(SynchronizedFile.java:267)\r\n\tat com.android.builder.utils.SynchronizedFile.write(SynchronizedFile.java:232)\r\n\tat com.android.builder.utils.SynchronizedFile.createIfAbsent(SynchronizedFile.java:328)\r\n\tat com.android.build.gradle.internal.tasks.ValidateSigningTask.validate(ValidateSigningTask.java:90)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n\t... 39 more\r\n    Caused by: com.android.builder.utils.SynchronizedFile$ActionExecutionException: com.android.ide.common.signing.KeytoolException: Failed to create keystore.\r\n\tat com.android.builder.utils.SynchronizedFile.lambda$createIfAbsent$0(SynchronizedFile.java:336)\r\n\tat com.android.builder.utils.SynchronizedFile.doActionWithMultiProcessLocking(SynchronizedFile.java:265)\r\n\t... 43 more\r\n    Caused by: com.android.ide.common.signing.KeytoolException: Failed to create keystore.\r\n\tat com.android.ide.common.signing.KeystoreHelper.createNewStore(KeystoreHelper.java:158)\r\n\tat com.android.ide.common.signing.KeystoreHelper.createDebugStore(KeystoreHelper.java:105)\r\n\tat com.android.build.gradle.internal.tasks.ValidateSigningTask.lambda$validate$0(ValidateSigningTask.java:111)\r\n\tat com.android.builder.utils.SynchronizedFile.lambda$createIfAbsent$0(SynchronizedFile.java:334)\r\n\t... 44 more\r\n    Caused by: java.lang.SecurityException: class &quot;org.bouncycastle.jcajce.provider.symmetric.IDEA$Mappings&quot;&#39;s signer information does not match signer information of other classes in the same package\r\n\tat org.bouncycastle.jce.provider.BouncyCastleProvider.loadAlgorithms(Unknown Source)\r\n\tat org.bouncycastle.jce.provider.BouncyCastleProvider.setup(Unknown Source)\r\n\tat org.bouncycastle.jce.provider.BouncyCastleProvider.access$000(Unknown Source)\r\n\tat org.bouncycastle.jce.provider.BouncyCastleProvider$1.run(Unknown Source)\r\n\tat org.bouncycastle.jce.provider.BouncyCastleProvider.&lt;init&gt;(Unknown Source)\r\n\tat com.android.ide.common.signing.KeystoreHelper.generateKeyAndCertificate(KeystoreHelper.java:254)\r\n\tat com.android.ide.common.signing.KeystoreHelper.createNewStore(KeystoreHelper.java:143)\r\n\t... 47 more\r\n\r\n\r\n    * Get more help at https://help.gradle.org\r\n\r\n    BUILD FAILED in 1s\r\n","title":"Android Studio - Failed to create keystore","body":"<p>I'm trying to run my app from inside Android Studio, but every time I try i get this error:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':android:validateSigningDebug'.\n&gt; java.util.concurrent.ExecutionException: \ncom.android.builder.utils.SynchronizedFile$ActionExecutionException: \ncom.android.ide.common.signing.KeytoolException: Failed to create \nkeystore.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2s\n</code></pre>\n\n<p>Searching for a solution online did not lead me to a suitable one.\nRunning it with the --debug option gives me this result:    </p>\n\n<pre><code>15:21:41.278 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \n15:21:41.278 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] FAILURE: Build failed with an exception.\n15:21:41.278 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \n15:21:41.278 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * What went wrong:\n15:21:41.278 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Execution failed for task ':android:validateSigningDebug'.\n15:21:41.278 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; java.util.concurrent.ExecutionException: com.android.builder.utils.SynchronizedFile$ActionExecutionException: com.android.ide.common.signing.KeytoolException: Failed to create keystore.\n15:21:41.278 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \n15:21:41.279 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Try:\n15:21:41.279 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Run with --stacktrace option to get the stack trace. \n15:21:41.279 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \n15:21:41.279 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Get more help at https://help.gradle.org\n15:21:41.279 [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] \n15:21:41.279 [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] BUILD FAILED in 2s\n</code></pre>\n\n<p>The OS I'm using is Archlinux and the permissions for the .android folder are:</p>\n\n<pre><code>$ ls -la\ndrwxr-xr-x  4 speedking speedking    4096 15 nov 11.59 .android\n</code></pre>\n\n<p>Can anyone help me please?</p>\n\n<p>Edit:\nBuilding a signed apk does work, just running the app from Android Studio doesn't.</p>\n\n<p>Running it with --stacktrace outputs this:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':android:validateSigningDebug'.\n&gt; java.util.concurrent.ExecutionException: com.android.builder.utils.SynchronizedFile$ActionExecutionException: com.android.ide.common.signing.KeytoolException: Failed to create keystore.\n\n* Try:\nRun with --info or --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':android:validateSigningDebug'.\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\nat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\nat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\nat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\nat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\nat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\nat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\nat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.internal.UncheckedException: java.util.concurrent.ExecutionException: com.android.builder.utils.SynchronizedFile$ActionExecutionException: com.android.ide.common.signing.KeytoolException: Failed to create keystore.\nat org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:63)\nat org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:40)\nat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:76)\nat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.doExecute(DefaultTaskClassInfoStore.java:141)\nat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\nat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:731)\nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:705)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n... 27 more\nCaused by: java.util.concurrent.ExecutionException: com.android.builder.utils.SynchronizedFile$ActionExecutionException: com.android.ide.common.signing.KeytoolException: Failed to create keystore.\nat com.android.builder.utils.SynchronizedFile.doActionWithMultiProcessLocking(SynchronizedFile.java:267)\nat com.android.builder.utils.SynchronizedFile.write(SynchronizedFile.java:232)\nat com.android.builder.utils.SynchronizedFile.createIfAbsent(SynchronizedFile.java:328)\nat com.android.build.gradle.internal.tasks.ValidateSigningTask.validate(ValidateSigningTask.java:90)\nat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n... 39 more\nCaused by: com.android.builder.utils.SynchronizedFile$ActionExecutionException: com.android.ide.common.signing.KeytoolException: Failed to create keystore.\nat com.android.builder.utils.SynchronizedFile.lambda$createIfAbsent$0(SynchronizedFile.java:336)\nat com.android.builder.utils.SynchronizedFile.doActionWithMultiProcessLocking(SynchronizedFile.java:265)\n... 43 more\nCaused by: com.android.ide.common.signing.KeytoolException: Failed to create keystore.\nat com.android.ide.common.signing.KeystoreHelper.createNewStore(KeystoreHelper.java:158)\nat com.android.ide.common.signing.KeystoreHelper.createDebugStore(KeystoreHelper.java:105)\nat com.android.build.gradle.internal.tasks.ValidateSigningTask.lambda$validate$0(ValidateSigningTask.java:111)\nat com.android.builder.utils.SynchronizedFile.lambda$createIfAbsent$0(SynchronizedFile.java:334)\n... 44 more\nCaused by: java.lang.SecurityException: class \"org.bouncycastle.jcajce.provider.symmetric.IDEA$Mappings\"'s signer information does not match signer information of other classes in the same package\nat org.bouncycastle.jce.provider.BouncyCastleProvider.loadAlgorithms(Unknown Source)\nat org.bouncycastle.jce.provider.BouncyCastleProvider.setup(Unknown Source)\nat org.bouncycastle.jce.provider.BouncyCastleProvider.access$000(Unknown Source)\nat org.bouncycastle.jce.provider.BouncyCastleProvider$1.run(Unknown Source)\nat org.bouncycastle.jce.provider.BouncyCastleProvider.&lt;init&gt;(Unknown Source)\nat com.android.ide.common.signing.KeystoreHelper.generateKeyAndCertificate(KeystoreHelper.java:254)\nat com.android.ide.common.signing.KeystoreHelper.createNewStore(KeystoreHelper.java:143)\n... 47 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n</code></pre>\n"},{"tags":["java","swing","jbutton","jtextfield"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1665566937,"post_id":74039531,"comment_id":130728815,"body_markdown":"I don&#39;t understand: you think you&#39;ll have a button inside your textfield?","body":"I don&#39;t understand: you think you&#39;ll have a button inside your textfield?"},{"owner":{"account_id":3789362,"reputation":65,"user_id":3146393,"display_name":"Squerut"},"score":0,"creation_date":1665567726,"post_id":74039531,"comment_id":130729128,"body_markdown":"I have a JTextField with inside a JButton. See the code snippet","body":"I have a JTextField with inside a JButton. See the code snippet"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1665575089,"post_id":74039531,"comment_id":130731815,"body_markdown":"faintly remember that we used (in SwingX) a custom border containing the extra component and/or a custom layout to place everything correctly .. so it might not be entirely trivial, forgot the dirty details ;)","body":"faintly remember that we used (in SwingX) a custom border containing the extra component and/or a custom layout to place everything correctly .. so it might not be entirely trivial, forgot the dirty details ;)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1665581624,"post_id":74039531,"comment_id":130734466,"body_markdown":"Check out the [Component Border](https://tips4java.wordpress.com/2009/09/27/component-border/) which does what you want. *I have some limitations and this approach at the moment isn&#39;t feasible unfortunately* - what limitations? Why isn&#39;t it feasable?","body":"Check out the <a href=\"https://tips4java.wordpress.com/2009/09/27/component-border/\" rel=\"nofollow noreferrer\">Component Border</a> which does what you want. <i>I have some limitations and this approach at the moment isn&#39;t feasible unfortunately</i> - what limitations? Why isn&#39;t it feasable?"},{"owner":{"account_id":3789362,"reputation":65,"user_id":3146393,"display_name":"Squerut"},"score":0,"creation_date":1665642584,"post_id":74039531,"comment_id":130748677,"body_markdown":"@camickr Thank you for your suggestion, I&#39;ll give it a try! However I&#39;m working on a Swing library used in my company, so there&#39;re restrictions. Obviously those could be changed but... not now, this is a fix for a release","body":"@camickr Thank you for your suggestion, I&#39;ll give it a try! However I&#39;m working on a Swing library used in my company, so there&#39;re restrictions. Obviously those could be changed but... not now, this is a fix for a release"}],"answers":[{"tags":[],"owner":{"account_id":3789362,"reputation":65,"user_id":3146393,"display_name":"Squerut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666364526,"creation_date":1666364526,"answer_id":74155615,"question_id":74039531,"body_markdown":"I resolved using FlatLaf Look and Feel (https://www.formdev.com/flatlaf/). In this way setting a specific property on the JTextField text and icon aren&#39;t overlapping anymore. \r\nSpecifically I did:\r\n\r\n    class TextFieldWithIconLauncher {\r\n    \r\n        public static void main(String[] args) {\r\n            JTextField textField = new JTextField();\r\n            textField.setLayout(new BorderLayout());\r\n            JButton button = new JButton(&quot;click&quot;);\r\n            button.addActionListener(listener -&gt; System.err.println(&quot;clicked!&quot;));\r\n            textField.add(button, BorderLayout.EAST);\r\n    \r\n            //Property to set\r\n            textField.putClientProperty(FlatClientProperties.TEXT_FIELD_TRAILING_COMPONENT, button);\r\n    \r\n            JFrame frame = new JFrame();\r\n            frame.setSize(200, 100);\r\n            frame.add(modelFileTField);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setMinimumSize(new Dimension(200, 100));\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n            frame.setVisible(true);\r\n        }\r\n    }","title":"Is it possible to limit in a JTextField the area where characters can be inserted?","body":"<p>I resolved using FlatLaf Look and Feel (<a href=\"https://www.formdev.com/flatlaf/\" rel=\"nofollow noreferrer\">https://www.formdev.com/flatlaf/</a>). In this way setting a specific property on the JTextField text and icon aren't overlapping anymore.\nSpecifically I did:</p>\n<pre><code>class TextFieldWithIconLauncher {\n\n    public static void main(String[] args) {\n        JTextField textField = new JTextField();\n        textField.setLayout(new BorderLayout());\n        JButton button = new JButton(&quot;click&quot;);\n        button.addActionListener(listener -&gt; System.err.println(&quot;clicked!&quot;));\n        textField.add(button, BorderLayout.EAST);\n\n        //Property to set\n        textField.putClientProperty(FlatClientProperties.TEXT_FIELD_TRAILING_COMPONENT, button);\n\n        JFrame frame = new JFrame();\n        frame.setSize(200, 100);\n        frame.add(modelFileTField);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setMinimumSize(new Dimension(200, 100));\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3789362,"reputation":65,"user_id":3146393,"display_name":"Squerut"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74155615,"answer_count":1,"score":0,"last_activity_date":1666364526,"creation_date":1665566813,"question_id":74039531,"body_markdown":"I&#39;ve a JTextField with a JButton positioned inside of it on the east side. At the moment, when characters inserted reach the button the part of the text overlapping is inserted below of it.\r\n\r\nHere a snippet to reproduce the problem\r\n\r\n    class TextFieldWithIconLauncher {\r\n    \r\n        public static void main(String[] args) {\r\n            JTextField modelFileTField = new JTextField();\r\n            modelFileTField.setLayout(new BorderLayout());\r\n            JButton button = new JButton(&quot;click&quot;);\r\n            button.addActionListener(listener -&gt; System.err.println(&quot;clicked!&quot;));\r\n            modelFileTField.add(button, BorderLayout.EAST);\r\n    \r\n            JFrame frame = new JFrame();\r\n            frame.setSize(200, 100);\r\n            frame.add(modelFileTField);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setMinimumSize(new Dimension(200, 100));\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n\r\nThese, instead, are screenshots of the real situation\r\n\r\n[![Short text][1]][1]\r\n\r\n\r\n[![Long text][2]][2]\r\n\r\nI would like to avoid text overlapping with button without limiting the number of characters user can insert.\r\n\r\nPS: If I add the JTextField and the JButton in a JPanel it works like a charm but I have some limitations and this approach at the moment isn&#39;t feasible unfortunately\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SLRfk.png\r\n  [2]: https://i.stack.imgur.com/oETap.png","title":"Is it possible to limit in a JTextField the area where characters can be inserted?","body":"<p>I've a JTextField with a JButton positioned inside of it on the east side. At the moment, when characters inserted reach the button the part of the text overlapping is inserted below of it.</p>\n<p>Here a snippet to reproduce the problem</p>\n<pre><code>class TextFieldWithIconLauncher {\n\n    public static void main(String[] args) {\n        JTextField modelFileTField = new JTextField();\n        modelFileTField.setLayout(new BorderLayout());\n        JButton button = new JButton(&quot;click&quot;);\n        button.addActionListener(listener -&gt; System.err.println(&quot;clicked!&quot;));\n        modelFileTField.add(button, BorderLayout.EAST);\n\n        JFrame frame = new JFrame();\n        frame.setSize(200, 100);\n        frame.add(modelFileTField);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setMinimumSize(new Dimension(200, 100));\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>These, instead, are screenshots of the real situation</p>\n<p><a href=\"https://i.stack.imgur.com/SLRfk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SLRfk.png\" alt=\"Short text\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/oETap.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oETap.png\" alt=\"Long text\" /></a></p>\n<p>I would like to avoid text overlapping with button without limiting the number of characters user can insert.</p>\n<p>PS: If I add the JTextField and the JButton in a JPanel it works like a charm but I have some limitations and this approach at the moment isn't feasible unfortunately</p>\n"},{"tags":["java","rest","postman"],"comments":[{"owner":{"account_id":8522929,"reputation":33,"user_id":6389163,"display_name":"Balu"},"score":0,"creation_date":1666364189,"post_id":74155534,"comment_id":130926737,"body_markdown":"-----------------------------315944029337182016342480456440\n\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;Unnnn.json&quot;\nContent-Type: application/json\n\n\n{&quot;version&quot;:&quot;22.12&quot;,&quot;applications&quot;:&quot;89fdjh-8jja-2hbansb&quot;}\n\n-----------------------------315944029337182016342480456440--","body":"-----------------------------315944029337182016342480456440  Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;Unnnn.json&quot; Content-Type: application/json   {&quot;version&quot;:&quot;22.12&quot;,&quot;applications&quot;:&quot;89fdjh-8jja-2hbansb&quot;}  -----------------------------315944029337182016342480456440-&zwnj;&#8203;-"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1666378514,"post_id":74155534,"comment_id":130931315,"body_markdown":"Send a multipart request (a.k.a Form request), where it allows you to add key-value pairs and upload files. What you are showing is how a raw multipart request looks like. Postman will format it for you","body":"Send a multipart request (a.k.a Form request), where it allows you to add key-value pairs and upload files. What you are showing is how a raw multipart request looks like. Postman will format it for you"}],"owner":{"account_id":8522929,"reputation":33,"user_id":6389163,"display_name":"Balu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666364163,"creation_date":1666364163,"question_id":74155534,"body_markdown":"I have below request, I want to send the POST request from the postman.\r\n-----------------------------315944029337182016342480456440\r\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;Unnnn.json&quot;\r\nContent-Type: application/json\r\n\r\n{&quot;version&quot;:&quot;22.12&quot;,&quot;applications&quot;:&quot;89fdjh-8jja-2hbansb&quot;}\r\n-----------------------------315944029337182016342480456440--\r\n\r\n\r\nPlease guide me how to set these param in postman and get the response","title":"How to post Content-disposition with json request from Postman","body":"<p>I have below request, I want to send the POST request from the postman.\n-----------------------------315944029337182016342480456440\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;Unnnn.json&quot;\nContent-Type: application/json</p>\n<p>{&quot;version&quot;:&quot;22.12&quot;,&quot;applications&quot;:&quot;89fdjh-8jja-2hbansb&quot;}\n-----------------------------315944029337182016342480456440--</p>\n<p>Please guide me how to set these param in postman and get the response</p>\n"},{"tags":["java","hibernate","jpa","join","entity"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1666285662,"post_id":74143673,"comment_id":130906320,"body_markdown":"You&#39;ve got a few errors in what you&#39;ve posted for Address - I&#39;d suggest you make an Address.employee property that uses the ID_EMPLOYEE as a fk (join column), so you can have it auto set when you reference an employee - it is an immutable FK anyway. You then need to mark it And the cod_address with the ID annotation (see numerous articles on JPA derived and composite IDs, but you just need an ID class for use in find operations). From Employee, it is then just a OneToMany that is mapped by the address.employee relationship.","body":"You&#39;ve got a few errors in what you&#39;ve posted for Address - I&#39;d suggest you make an Address.employee property that uses the ID_EMPLOYEE as a fk (join column), so you can have it auto set when you reference an employee - it is an immutable FK anyway. You then need to mark it And the cod_address with the ID annotation (see numerous articles on JPA derived and composite IDs, but you just need an ID class for use in find operations). From Employee, it is then just a OneToMany that is mapped by the address.employee relationship."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666364060,"creation_date":1666285974,"answer_id":74143814,"question_id":74143673,"body_markdown":"Easier to show in code I guess:\r\n\r\n    @Entity\r\n    public class Employee{\r\n      @Id\r\n      @Column(name=&quot;ID_EMPLOYEE&quot;)\r\n      private int id_employee;\r\n    \r\n      @Column(name=&quot;NAME&quot;)\r\n      private String name\r\n    \r\n      @OneToMany(mappedBy = &quot;employee&quot;)\r\n      private List&lt;Address&gt; Addresses;\r\n    }\r\n    \r\n    @Entity\r\n    @IdClass(AddressId.class)\r\n    public class Address{\r\n      @Id\r\n      @ManyToOne\r\n      @JoinColumn(name=&quot;ID_EMPLOYEE&quot;)\r\n      private employee employee;\r\n    \r\n      @Id\r\n      @Column(name=&quot;COD_ADDRESS&quot;)//fixed the column name\r\n      private int cod_address;//wouldn&#39;t you want to use an ENUM?\r\n    \r\n      @Column(name=&quot;STREET&quot;)\r\n      private String street\r\n    \r\n    }\r\n\r\n    public class AddressId{\r\n      public int employee;//same as the id in Employee\r\n      public int cod_address;\r\n    }","title":"JPA PrimaryKeyJoinColumn Compound id","body":"<p>Easier to show in code I guess:</p>\n<pre><code>@Entity\npublic class Employee{\n  @Id\n  @Column(name=&quot;ID_EMPLOYEE&quot;)\n  private int id_employee;\n\n  @Column(name=&quot;NAME&quot;)\n  private String name\n\n  @OneToMany(mappedBy = &quot;employee&quot;)\n  private List&lt;Address&gt; Addresses;\n}\n\n@Entity\n@IdClass(AddressId.class)\npublic class Address{\n  @Id\n  @ManyToOne\n  @JoinColumn(name=&quot;ID_EMPLOYEE&quot;)\n  private employee employee;\n\n  @Id\n  @Column(name=&quot;COD_ADDRESS&quot;)//fixed the column name\n  private int cod_address;//wouldn't you want to use an ENUM?\n\n  @Column(name=&quot;STREET&quot;)\n  private String street\n\n}\n\npublic class AddressId{\n  public int employee;//same as the id in Employee\n  public int cod_address;\n}\n</code></pre>\n"}],"owner":{"account_id":21596306,"reputation":1,"user_id":15925212,"display_name":"Pab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666364060,"creation_date":1666285201,"question_id":74143673,"body_markdown":"I have a problem with the mapping in JPA of this situation:\r\n\r\n[![An employee with multiple address][1]][1]\r\n\r\nThe table Address has as primary key a compound key :\r\n - a code address (home, work, second home)\r\n - the id of employee as foreign key\r\n\r\nI want report this situation with JPA:\r\n\r\n  [1]: https://i.stack.imgur.com/h6am2.png\r\n\r\n``` java\r\npublic class Employee {\r\n\t@Id\r\n\t@Column(name=&quot;ID_EMPLOYEE&quot;)\r\n\tprivate int id_employee;\r\n\t\r\n\t@Column(name=&quot;NAME&quot;)\r\n\tprivate String name\r\n\t\r\n\t??join???\r\n}\r\n    \r\npublic class Address {\r\n\t@Id\r\n\t@Column(name=&quot;ID_EMPLOYEE&quot;)\r\n\tprivate int id_employee;\r\n\t\r\n\t@Column(name=&quot;COD_ADDRESS&quot;)\r\n\tprivate int cod_address;\r\n\t\r\n\t@Column(name=&quot;STREET&quot;)\r\n\tprivate String street\r\n\t\r\n\t??join???\r\n}\r\n```\r\n\r\nI used `@PrimaryKeyJoinColumn` with `OneToOne` case but, I don&#39;t know how to do it.\r\n\r\nCan you help me?\r\n","title":"JPA PrimaryKeyJoinColumn Compound id","body":"<p>I have a problem with the mapping in JPA of this situation:</p>\n<p><a href=\"https://i.stack.imgur.com/h6am2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h6am2.png\" alt=\"An employee with multiple address\" /></a></p>\n<p>The table Address has as primary key a compound key :</p>\n<ul>\n<li>a code address (home, work, second home)</li>\n<li>the id of employee as foreign key</li>\n</ul>\n<p>I want report this situation with JPA:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Employee {\n    @Id\n    @Column(name=&quot;ID_EMPLOYEE&quot;)\n    private int id_employee;\n    \n    @Column(name=&quot;NAME&quot;)\n    private String name\n    \n    ??join???\n}\n    \npublic class Address {\n    @Id\n    @Column(name=&quot;ID_EMPLOYEE&quot;)\n    private int id_employee;\n    \n    @Column(name=&quot;COD_ADDRESS&quot;)\n    private int cod_address;\n    \n    @Column(name=&quot;STREET&quot;)\n    private String street\n    \n    ??join???\n}\n</code></pre>\n<p>I used <code>@PrimaryKeyJoinColumn</code> with <code>OneToOne</code> case but, I don't know how to do it.</p>\n<p>Can you help me?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666364055,"creation_date":1666364055,"answer_id":74155510,"question_id":74152962,"body_markdown":"Thymeleaf is a rendering engine so it has no functionality it performs when you post something to your controller. which means basic form posting applies which in your case would be 1 field named `referencedate`\r\n\r\nAsuming your covid entity has this as variable with valid setter method the error would be in this `request.setAttribute(&quot;covidcases&quot;, service.showCases(&quot;referencedate&quot;));` line where it should be `request.setAttribute(&quot;covidcases&quot;, service.showCases(covid.getReferencedate()));`\r\n\r\nIf your covid entity does not include this parameter you have to either add it or seperatly add it to your controller function as a `@RequestParam String referencedate`","title":"Grab String Value from Thymeleaf Form then Pass It From Controller to Service Class and Finally as @Param in an @Query Method to Repo Class","body":"<p>Thymeleaf is a rendering engine so it has no functionality it performs when you post something to your controller. which means basic form posting applies which in your case would be 1 field named <code>referencedate</code></p>\n<p>Asuming your covid entity has this as variable with valid setter method the error would be in this <code>request.setAttribute(&quot;covidcases&quot;, service.showCases(&quot;referencedate&quot;));</code> line where it should be <code>request.setAttribute(&quot;covidcases&quot;, service.showCases(covid.getReferencedate()));</code></p>\n<p>If your covid entity does not include this parameter you have to either add it or seperatly add it to your controller function as a <code>@RequestParam String referencedate</code></p>\n"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74155510,"answer_count":1,"score":1,"last_activity_date":1666364055,"creation_date":1666351707,"question_id":74152962,"body_markdown":"In my Spring Boot Application, I have a HTML Thymeleaf form in which I grab a String Value from the user. I want to pass this value from my Controller Class, to my Service Class and finally in Repo Class. The latter has an ```@Query``` and the purpose of this whole implementation is to give users the ability to choose contents from my database based on their input. For example, I have records that vary in different dates. I want user to choose the date that their want and the proper records get displayed from my database.\r\n\r\nI have trouble in my controller class in which I need somehow to connect my model and pass it as parameter in my service class. Then the latter should communicate with the Repo Class to execute the query in the ```@Query``` and return my results. Until now, all I am getting is null values.\r\n\r\nWhat am I doing wrong???\r\n\r\n**CONTROLLER CLASS**\r\n```\r\npackage com.andrekreou.covid.gov.controller;\r\n\r\nimport com.andrekreou.covid.gov.model.Covid;\r\nimport com.andrekreou.covid.gov.service.Service;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.ui.ModelMap;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\n@Controller\r\npublic class WelcomePageController {\r\n\r\n    private final Service service;\r\n\r\n    @Autowired\r\n    public WelcomePageController(Service service) {\r\n        this.service = service;\r\n    }\r\n\r\n    @Value(&quot;${welcome.message}&quot;)\r\n    private String message;\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String main(Model model){\r\n        model.addAttribute(&quot;message&quot;, message);\r\n        return &quot;welcome&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String getLoginView() {\r\n        return &quot;login&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/date/insert&quot;)\r\n    public String getDateInsertView() {\r\n        return &quot;date-insert&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/show-contents&quot;)\r\n    public String showAllRates(HttpServletRequest request){\r\n        request.setAttribute(&quot;covidcases&quot;, service.showAllCases());\r\n        return &quot;databasecontents&quot;;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/dateInsertion&quot;, method = RequestMethod.POST)\r\n    public String submit(@ModelAttribute(&quot;covid&quot;) Covid covid,\r\n                         ModelMap model,\r\n                         HttpServletRequest request) {\r\n\r\n        model.addAttribute(&quot;referencedate&quot;, covid.getReferencedate());\r\n        request.setAttribute(&quot;covidcases&quot;, service.showCases(&quot;referencedate&quot;));\r\n        return &quot;databasecontents&quot;;\r\n    }\r\n}\r\n```\r\n**SERVICE CLASS**\r\n```\r\npackage com.andrekreou.covid.gov.service;\r\n\r\nimport com.andrekreou.covid.gov.model.Covid;\r\nimport com.andrekreou.covid.gov.repository.CovidRepo;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport javax.transaction.Transactional;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@org.springframework.stereotype.Service\r\n@Transactional\r\npublic class Service {\r\n\r\n    private final CovidRepo covidRepo;\r\n\r\n    @Autowired\r\n    public Service(CovidRepo covidRepo) {\r\n        this.covidRepo = covidRepo;\r\n    }\r\n\r\n    public List&lt;Covid&gt; showAllCases(){\r\n        return new ArrayList&lt;&gt;(covidRepo.findAll());\r\n    }\r\n\r\n    public List&lt;Covid&gt; showCases(String referencedate){\r\n        return new ArrayList&lt;&gt;(covidRepo.findByReferencedate(referencedate));\r\n    }\r\n}\r\n```\r\n\r\n**REPO CLASS**\r\n```\r\npackage com.andrekreou.covid.gov.repository;\r\n\r\nimport com.andrekreou.covid.gov.model.Covid;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.query.Param;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface CovidRepo\r\n        extends JpaRepository&lt;Covid,Integer&gt; {\r\n\r\n    @Query(&quot;select e from #{#entityName} e where e.referencedate = ?1&quot;)\r\n    List&lt;Covid&gt; findByReferencedate(@Param(&quot;referencedate&quot;) String referencedate);\r\n}\r\n\r\n```\r\n\r\n**THYMELEAF VIEW**\r\n```\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\r\n    &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;\r\n    &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;\r\n    &lt;title&gt;login&lt;/title&gt;\r\n    &lt;link href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;\r\n          integrity=&quot;sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;link href=&quot;https://getbootstrap.com/docs/4.0/examples/signin/signin.css&quot; rel=&quot;stylesheet&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;style&gt;\r\n        body {\r\n            background-color: #3e3e3e;\r\n            color: white;\r\n        }\r\n    &lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div class=&quot;container&quot;&gt;\r\n    &lt;form class=&quot;form-signin&quot; method=&quot;post&quot; action=&quot;/dateInsertion&quot; th:object=&quot;${covid}&quot;&gt;\r\n        &lt;h2 class=&quot;form-signin-heading&quot;&gt;Please Choose The Date&lt;/h2&gt;\r\n        &lt;p&gt;\r\n            &lt;label for=&quot;referencedate&quot; class=&quot;sr-only&quot;&gt;Username&lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; id=&quot;referencedate&quot; name=&quot;referencedate&quot; class=&quot;form-control&quot; placeholder=&quot;referencedate&quot; required=&quot;&quot;\r\n                   autofocus=&quot;&quot;&gt;\r\n        &lt;/p&gt;\r\n        &lt;button class=&quot;btn btn-lg btn-primary btn-block&quot; type=&quot;submit&quot;&gt;Set Date&lt;/button&gt;\r\n    &lt;/form&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"Grab String Value from Thymeleaf Form then Pass It From Controller to Service Class and Finally as @Param in an @Query Method to Repo Class","body":"<p>In my Spring Boot Application, I have a HTML Thymeleaf form in which I grab a String Value from the user. I want to pass this value from my Controller Class, to my Service Class and finally in Repo Class. The latter has an <code>@Query</code> and the purpose of this whole implementation is to give users the ability to choose contents from my database based on their input. For example, I have records that vary in different dates. I want user to choose the date that their want and the proper records get displayed from my database.</p>\n<p>I have trouble in my controller class in which I need somehow to connect my model and pass it as parameter in my service class. Then the latter should communicate with the Repo Class to execute the query in the <code>@Query</code> and return my results. Until now, all I am getting is null values.</p>\n<p>What am I doing wrong???</p>\n<p><strong>CONTROLLER CLASS</strong></p>\n<pre><code>package com.andrekreou.covid.gov.controller;\n\nimport com.andrekreou.covid.gov.model.Covid;\nimport com.andrekreou.covid.gov.service.Service;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\nimport javax.servlet.http.HttpServletRequest;\n\n@Controller\npublic class WelcomePageController {\n\n    private final Service service;\n\n    @Autowired\n    public WelcomePageController(Service service) {\n        this.service = service;\n    }\n\n    @Value(&quot;${welcome.message}&quot;)\n    private String message;\n\n    @GetMapping(&quot;/&quot;)\n    public String main(Model model){\n        model.addAttribute(&quot;message&quot;, message);\n        return &quot;welcome&quot;;\n    }\n\n    @GetMapping(&quot;/login&quot;)\n    public String getLoginView() {\n        return &quot;login&quot;;\n    }\n\n    @GetMapping(&quot;/date/insert&quot;)\n    public String getDateInsertView() {\n        return &quot;date-insert&quot;;\n    }\n\n    @GetMapping(&quot;/show-contents&quot;)\n    public String showAllRates(HttpServletRequest request){\n        request.setAttribute(&quot;covidcases&quot;, service.showAllCases());\n        return &quot;databasecontents&quot;;\n    }\n\n    @RequestMapping(value = &quot;/dateInsertion&quot;, method = RequestMethod.POST)\n    public String submit(@ModelAttribute(&quot;covid&quot;) Covid covid,\n                         ModelMap model,\n                         HttpServletRequest request) {\n\n        model.addAttribute(&quot;referencedate&quot;, covid.getReferencedate());\n        request.setAttribute(&quot;covidcases&quot;, service.showCases(&quot;referencedate&quot;));\n        return &quot;databasecontents&quot;;\n    }\n}\n</code></pre>\n<p><strong>SERVICE CLASS</strong></p>\n<pre><code>package com.andrekreou.covid.gov.service;\n\nimport com.andrekreou.covid.gov.model.Covid;\nimport com.andrekreou.covid.gov.repository.CovidRepo;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport javax.transaction.Transactional;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@org.springframework.stereotype.Service\n@Transactional\npublic class Service {\n\n    private final CovidRepo covidRepo;\n\n    @Autowired\n    public Service(CovidRepo covidRepo) {\n        this.covidRepo = covidRepo;\n    }\n\n    public List&lt;Covid&gt; showAllCases(){\n        return new ArrayList&lt;&gt;(covidRepo.findAll());\n    }\n\n    public List&lt;Covid&gt; showCases(String referencedate){\n        return new ArrayList&lt;&gt;(covidRepo.findByReferencedate(referencedate));\n    }\n}\n</code></pre>\n<p><strong>REPO CLASS</strong></p>\n<pre><code>package com.andrekreou.covid.gov.repository;\n\nimport com.andrekreou.covid.gov.model.Covid;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface CovidRepo\n        extends JpaRepository&lt;Covid,Integer&gt; {\n\n    @Query(&quot;select e from #{#entityName} e where e.referencedate = ?1&quot;)\n    List&lt;Covid&gt; findByReferencedate(@Param(&quot;referencedate&quot;) String referencedate);\n}\n\n</code></pre>\n<p><strong>THYMELEAF VIEW</strong></p>\n<pre><code>&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\n    &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;\n    &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;\n    &lt;title&gt;login&lt;/title&gt;\n    &lt;link href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;\n          integrity=&quot;sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;link href=&quot;https://getbootstrap.com/docs/4.0/examples/signin/signin.css&quot; rel=&quot;stylesheet&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;style&gt;\n        body {\n            background-color: #3e3e3e;\n            color: white;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container&quot;&gt;\n    &lt;form class=&quot;form-signin&quot; method=&quot;post&quot; action=&quot;/dateInsertion&quot; th:object=&quot;${covid}&quot;&gt;\n        &lt;h2 class=&quot;form-signin-heading&quot;&gt;Please Choose The Date&lt;/h2&gt;\n        &lt;p&gt;\n            &lt;label for=&quot;referencedate&quot; class=&quot;sr-only&quot;&gt;Username&lt;/label&gt;\n            &lt;input type=&quot;text&quot; id=&quot;referencedate&quot; name=&quot;referencedate&quot; class=&quot;form-control&quot; placeholder=&quot;referencedate&quot; required=&quot;&quot;\n                   autofocus=&quot;&quot;&gt;\n        &lt;/p&gt;\n        &lt;button class=&quot;btn btn-lg btn-primary btn-block&quot; type=&quot;submit&quot;&gt;Set Date&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","postgresql","mybatis","hikaricp"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1622990861,"post_id":67859160,"comment_id":119944635,"body_markdown":"See if answers help https://stackoverflow.com/questions/23172643/how-to-set-up-datasource-with-spring-for-hikaricp/24500712#24500712","body":"See if answers help <a href=\"https://stackoverflow.com/questions/23172643/how-to-set-up-datasource-with-spring-for-hikaricp/24500712#24500712\" title=\"how to set up datasource with spring for hikaricp\">stackoverflow.com/questions/23172643/&hellip;</a>"},{"owner":{"account_id":8560083,"reputation":199,"user_id":6414385,"accept_rate":71,"display_name":"yogas"},"score":0,"creation_date":1624091342,"post_id":67859160,"comment_id":120267370,"body_markdown":"nott using spring, so it doesnt help","body":"nott using spring, so it doesnt help"}],"answers":[{"tags":[],"owner":{"account_id":8560083,"reputation":199,"user_id":6414385,"accept_rate":71,"display_name":"yogas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624091165,"creation_date":1624091165,"answer_id":68044992,"question_id":67859160,"body_markdown":"i couldnt find a way to configure the hikariConfig in xml \r\nHere is the workaround i used that works well for me.\r\n\r\n      HikariDataSource hikariDataSource = null;\r\n      HikariConfig hikariConfig = new HikariConfig();\r\n      dataSource.copyStateTo(hikariConfig);\r\n      hikariDataSource = new HikariDataSource(hikariConfig);\r\n\r\nonce i get the dataSource object i copy the state to a hikariConfig object and create new dataSource object using it.\r\nAlso we can make it singleton so only one instance is created.","title":"Configure HikariCp dataSource with HikariConfig in mybatis in xml mapper configuration","body":"<p>i couldnt find a way to configure the hikariConfig in xml\nHere is the workaround i used that works well for me.</p>\n<pre><code>  HikariDataSource hikariDataSource = null;\n  HikariConfig hikariConfig = new HikariConfig();\n  dataSource.copyStateTo(hikariConfig);\n  hikariDataSource = new HikariDataSource(hikariConfig);\n</code></pre>\n<p>once i get the dataSource object i copy the state to a hikariConfig object and create new dataSource object using it.\nAlso we can make it singleton so only one instance is created.</p>\n"},{"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666363600,"creation_date":1666363205,"answer_id":74155336,"question_id":67859160,"body_markdown":"You need to implement [`DataSourceFactory`][1] and pass the properties you specified in your MyBatis XML Configuration file to the new data source:\r\n```java\r\npublic class HikariCPDataSourceFactory implements DataSourceFactory {\r\n    private HikariDataSource dataSource;\r\n\r\n    @Override\r\n    public void setProperties(Properties props) {\r\n        HikariConfig config = new HikariConfig(props);\r\n        this.dataSource = new HikariDataSource(config);\r\n    }\r\n\r\n    @Override\r\n    public DataSource getDataSource() {\r\n        return dataSource;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://mybatis.org/mybatis-3/apidocs/reference/org/apache/ibatis/datasource/DataSourceFactory.html","title":"Configure HikariCp dataSource with HikariConfig in mybatis in xml mapper configuration","body":"<p>You need to implement <a href=\"https://mybatis.org/mybatis-3/apidocs/reference/org/apache/ibatis/datasource/DataSourceFactory.html\" rel=\"nofollow noreferrer\"><code>DataSourceFactory</code></a> and pass the properties you specified in your MyBatis XML Configuration file to the new data source:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HikariCPDataSourceFactory implements DataSourceFactory {\n    private HikariDataSource dataSource;\n\n    @Override\n    public void setProperties(Properties props) {\n        HikariConfig config = new HikariConfig(props);\n        this.dataSource = new HikariDataSource(config);\n    }\n\n    @Override\n    public DataSource getDataSource() {\n        return dataSource;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8560083,"reputation":199,"user_id":6414385,"accept_rate":71,"display_name":"yogas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74155336,"answer_count":2,"score":0,"last_activity_date":1666363600,"creation_date":1622982741,"question_id":67859160,"body_markdown":"I am trying to configure HikariCp in MyBatis using XML configuration\r\n\r\nI want to know how to set the hikariCongig object in &lt;dataSource&gt; object in the mapper configuration.\r\n\r\nmy config looks like this : \r\n```xml\r\n&lt;environment id=&quot;development&quot;&gt;\r\n    &lt;transactionManager type=&quot;JDBC&quot; /&gt;\r\n    &lt;dataSource type=&quot;com.xyz.config.HikariCPDataSourceFactory&quot; &gt;\r\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:postgresql://localhost:5432/beta-prod-db&quot; /&gt;\r\n    \t&lt;property name=&quot;username&quot; value=&quot;postgres&quot; /&gt;\r\n    \t&lt;property name=&quot;password&quot; value=&quot;${password}&quot; /&gt;\r\n    \t&lt;property name=&quot;poolName&quot; value=&quot;test&quot;/&gt;\r\n    \t&lt;property name=&quot;maxPoolSize&quot; value=&quot;20&quot; /&gt;\r\n    \t&lt;property name=&quot;registerMbeans&quot; value=&quot;true&quot;/&gt;\r\n    \t&lt;property name=&quot;minimumIdle&quot; value=&quot;5&quot;/&gt;\r\n    &lt;/dataSource&gt;\r\n&lt;/environment&gt;\r\n```\r\nHikariCPDataSourceFactory.java\r\n\r\n```java\r\npublic class HikariCPDataSourceFactory extends PooledDataSourceFactory {\r\n    public HikariCPDataSourceFactory() {\r\n        // HikariConfig hikariConfig = new HikariConfig();\r\n        this.dataSource = new HikariDataSource();\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t find any online article that shows how to set the hikariConfig object in the hikariDataSource object through XML configuration.\r\n\r\nusing Spring I can create a bean for hikariConfig and pass it as a parameter in the hikariDataSource object, but here I am not using spring so need to find a way with XML.\r\n\r\nWithout the hikariConfig object, if I try to get the HikariPoolMXBean object from dataSource I get the exception\r\n`org.apache.ibatis.builder.BuilderException: Error parsing SQL Mapper Configuration. Cause: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.`\r\n\r\n\r\nhttps://stackoverflow.com/questions/24322737/hikaricp-1-4-0-mbean-instancenotfoundexception#comment86377889_24344847\r\n\r\nthis article says it only works when I set the hikariConfig Object","title":"Configure HikariCp dataSource with HikariConfig in mybatis in xml mapper configuration","body":"<p>I am trying to configure HikariCp in MyBatis using XML configuration</p>\n<p>I want to know how to set the hikariCongig object in  object in the mapper configuration.</p>\n<p>my config looks like this :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;environment id=&quot;development&quot;&gt;\n    &lt;transactionManager type=&quot;JDBC&quot; /&gt;\n    &lt;dataSource type=&quot;com.xyz.config.HikariCPDataSourceFactory&quot; &gt;\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:postgresql://localhost:5432/beta-prod-db&quot; /&gt;\n        &lt;property name=&quot;username&quot; value=&quot;postgres&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;${password}&quot; /&gt;\n        &lt;property name=&quot;poolName&quot; value=&quot;test&quot;/&gt;\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;20&quot; /&gt;\n        &lt;property name=&quot;registerMbeans&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;minimumIdle&quot; value=&quot;5&quot;/&gt;\n    &lt;/dataSource&gt;\n&lt;/environment&gt;\n</code></pre>\n<p>HikariCPDataSourceFactory.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HikariCPDataSourceFactory extends PooledDataSourceFactory {\n    public HikariCPDataSourceFactory() {\n        // HikariConfig hikariConfig = new HikariConfig();\n        this.dataSource = new HikariDataSource();\n    }\n}\n</code></pre>\n<p>I don't find any online article that shows how to set the hikariConfig object in the hikariDataSource object through XML configuration.</p>\n<p>using Spring I can create a bean for hikariConfig and pass it as a parameter in the hikariDataSource object, but here I am not using spring so need to find a way with XML.</p>\n<p>Without the hikariConfig object, if I try to get the HikariPoolMXBean object from dataSource I get the exception\n<code>org.apache.ibatis.builder.BuilderException: Error parsing SQL Mapper Configuration. Cause: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.</code></p>\n<p><a href=\"https://stackoverflow.com/questions/24322737/hikaricp-1-4-0-mbean-instancenotfoundexception#comment86377889_24344847\">HikariCP 1.4.0 MBean InstanceNotFoundException</a></p>\n<p>this article says it only works when I set the hikariConfig Object</p>\n"},{"tags":["java","maven","junit"],"comments":[{"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"score":0,"creation_date":1532775691,"post_id":51570630,"comment_id":90107438,"body_markdown":"This post helps you to change the LOG level of your Maven: [https://stackoverflow.com/questions/4782089/how-to-change-maven-logging-level-to-display-only-warning-and-errors](https://stackoverflow.com/questions/4782089/how-to-change-maven-logging-level-to-display-only-warning-and-errors)","body":"This post helps you to change the LOG level of your Maven: <a href=\"https://stackoverflow.com/questions/4782089/how-to-change-maven-logging-level-to-display-only-warning-and-errors\">https://stackoverflow.com/questions/4782089/how-to-change-ma&zwnj;&#8203;ven-logging-level-to&zwnj;&#8203;-display-only-warnin&zwnj;&#8203;g-and-errors</a>"},{"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"score":1,"creation_date":1532775732,"post_id":51570630,"comment_id":90107446,"body_markdown":"Possible duplicate of [How to change maven logging level to display only warning and errors?](https://stackoverflow.com/questions/4782089/how-to-change-maven-logging-level-to-display-only-warning-and-errors)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4782089/how-to-change-maven-logging-level-to-display-only-warning-and-errors\">How to change maven logging level to display only warning and errors?</a>"},{"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"score":0,"creation_date":1532777117,"post_id":51570630,"comment_id":90107827,"body_markdown":"@zappee Any way to do this programmatically in `pom.xml`?","body":"@zappee Any way to do this programmatically in <code>pom.xml</code>?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1532779420,"post_id":51570630,"comment_id":90108308,"body_markdown":"Is this project used as a test-jar only? Or as a test dependency ? Apart from that this has nothing to do with an empty main method...","body":"Is this project used as a test-jar only? Or as a test dependency ? Apart from that this has nothing to do with an empty main method..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1532927873,"post_id":51570630,"comment_id":90139882,"body_markdown":"If you simply move the code to `src/main/java`and `src/main/resources` and change the scope for this to `test` where you use it that will solve all the problems. This results in no supplemental configuration in pom file...","body":"If you simply move the code to <code>src&#47;main&#47;java</code>and <code>src&#47;main&#47;resources</code> and change the scope for this to <code>test</code> where you use it that will solve all the problems. This results in no supplemental configuration in pom file..."},{"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"score":0,"creation_date":1532928110,"post_id":51570630,"comment_id":90139937,"body_markdown":"Thanks for  the tip, this is a test framework and it would be best to honor the maven directory structure as intended.","body":"Thanks for  the tip, this is a test framework and it would be best to honor the maven directory structure as intended."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1532928857,"post_id":51570630,"comment_id":90140173,"body_markdown":"@silver you are exactly honoring the directory structure...?","body":"@silver you are exactly honoring the directory structure...?"},{"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"score":1,"creation_date":1532929631,"post_id":51570630,"comment_id":90140428,"body_markdown":"`src/main/*` pertains to application. `src/test/*` pertains to tests ([click](https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html)).","body":"<code>src&#47;main&#47;*</code> pertains to application. <code>src&#47;test&#47;*</code> pertains to tests (<a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">click</a>)."}],"answers":[{"tags":[],"owner":{"account_id":2004139,"reputation":10783,"user_id":1794485,"display_name":"df778899"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1532791564,"creation_date":1532791564,"answer_id":51572734,"question_id":51570630,"body_markdown":"The warning is actually based on whether it can find the configured `&lt;classesDirectory&gt;` - by default `target\\classes`.\r\n\r\nThis means one simple way to bypass the warning is to point it at another deliberately empty directory:\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;classesDirectory&gt;dummy&lt;/classesDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nAlternatively, to avoid the need for the empty directory, exclude everything from another directory:\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;classesDirectory&gt;src&lt;/classesDirectory&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;**&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n","title":"Maven - Suppress [WARNING] JAR will be empty - no content was marked for inclusion in pom.xml","body":"<p>The warning is actually based on whether it can find the configured <code>&lt;classesDirectory&gt;</code> - by default <code>target\\classes</code>.</p>\n\n<p>This means one simple way to bypass the warning is to point it at another deliberately empty directory:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;classesDirectory&gt;dummy&lt;/classesDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Alternatively, to avoid the need for the empty directory, exclude everything from another directory:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;classesDirectory&gt;src&lt;/classesDirectory&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1535809336,"creation_date":1532845226,"answer_id":51577785,"question_id":51570630,"body_markdown":"Both solutions suppressed the warning message programmatically.\r\n\r\nSolution 1:\r\n-----------\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-jar-plugin --&gt;\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t&lt;!-- Ignore src/main in JAR packaging --&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;classesDirectory&gt;src&lt;/classesDirectory&gt;\r\n    \t\t&lt;excludes&gt;\r\n    \t\t\t&lt;exclude&gt;main&lt;/exclude&gt;\r\n    \t\t&lt;/excludes&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nSolution 2:\r\n-----------\r\nSince the above essentially created an empty JAR (and I did not really want to include test classes and test resources), I opted to &quot;skip&quot; the JAR creation instead.\r\n\r\nhttps://stackoverflow.com/questions/2188746/what-is-the-best-way-to-avoid-maven-jar\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;default-jar&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;none&lt;/phase&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"Maven - Suppress [WARNING] JAR will be empty - no content was marked for inclusion in pom.xml","body":"<p>Both solutions suppressed the warning message programmatically.</p>\n\n<h2>Solution 1:</h2>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-jar-plugin --&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;!-- Ignore src/main in JAR packaging --&gt;\n    &lt;configuration&gt;\n        &lt;classesDirectory&gt;src&lt;/classesDirectory&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;main&lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<h2>Solution 2:</h2>\n\n<p>Since the above essentially created an empty JAR (and I did not really want to include test classes and test resources), I opted to \"skip\" the JAR creation instead.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2188746/what-is-the-best-way-to-avoid-maven-jar\">What is the best way to avoid maven-jar?</a></p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-jar&lt;/id&gt;\n            &lt;phase&gt;none&lt;/phase&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1535798988,"creation_date":1535798988,"answer_id":52127378,"question_id":51570630,"body_markdown":"The simply and best solution is to keep the test code in `src/main/java` yes this is not a typo. Furthermore if it is a test framework the test framework must have tests itself so it makes sense to locate the tests for the productive code from the user point of view into `src/main/java` and the tests in `src/test/java`.\r\n\r\nFrom the user point of view it will be simply jar file where you should define the `&lt;scope&gt;test&lt;/scope&gt;`.\r\n\r\nThis will solve all the issues without any supplemental configuration and changing any default and no violation of conventions.","title":"Maven - Suppress [WARNING] JAR will be empty - no content was marked for inclusion in pom.xml","body":"<p>The simply and best solution is to keep the test code in <code>src/main/java</code> yes this is not a typo. Furthermore if it is a test framework the test framework must have tests itself so it makes sense to locate the tests for the productive code from the user point of view into <code>src/main/java</code> and the tests in <code>src/test/java</code>.</p>\n\n<p>From the user point of view it will be simply jar file where you should define the <code>&lt;scope&gt;test&lt;/scope&gt;</code>.</p>\n\n<p>This will solve all the issues without any supplemental configuration and changing any default and no violation of conventions.</p>\n"},{"tags":[],"owner":{"account_id":14472570,"reputation":677,"user_id":10454072,"display_name":"John Camerin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540603438,"creation_date":1540603438,"answer_id":53017986,"question_id":51570630,"body_markdown":"If all you are trying to do is gather dependecies, you could add `&lt;packaging&gt;pom&lt;/packaging&gt;` to change from the default jar packaging.\r\n\r\nHowever, based on the context in your question, having src/test/java and src/test/resources folders leads me to believe you have a component that is just tests? Changing packaging to pom would stop the tests from being run from maven. If this is indeed your use case, it would seem that you are trying to skip the packaging. The best way to achieve that is to bind the plugin for the modules packaging to phase none, as there is no way to skip the package phase of the maven lifecycle. This is identified as Solution 1 above. ","title":"Maven - Suppress [WARNING] JAR will be empty - no content was marked for inclusion in pom.xml","body":"<p>If all you are trying to do is gather dependecies, you could add <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code> to change from the default jar packaging.</p>\n\n<p>However, based on the context in your question, having src/test/java and src/test/resources folders leads me to believe you have a component that is just tests? Changing packaging to pom would stop the tests from being run from maven. If this is indeed your use case, it would seem that you are trying to skip the packaging. The best way to achieve that is to bind the plugin for the modules packaging to phase none, as there is no way to skip the package phase of the maven lifecycle. This is identified as Solution 1 above. </p>\n"},{"tags":[],"owner":{"account_id":187950,"reputation":2035,"user_id":426371,"accept_rate":82,"display_name":"neXus"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1666363403,"creation_date":1571752690,"answer_id":58505990,"question_id":51570630,"body_markdown":"This is (according to me) the cleanest solution  \r\nfor projects that don&#39;t contain production code but do contain tests:\r\n\r\n```xml\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipIfEmpty&gt;true&lt;/skipIfEmpty&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nIt indicates what you want:\r\n\r\n - to skip trying to package &quot;no production code&quot; into a jar\r\n - don&#39;t try to install/deploy the non-existing jar\r\n\r\nleaving test execution untouched.\r\n\r\n---\r\n\r\nLike [@John Camerin][1] mentioned it is NOT advised to use `&lt;packaging&gt;pom&lt;/packaging&gt;`  \r\nunless the ONLY thing your pom should do is gather dependencies.  \r\nOtherwise, if you have tests, they would be skipped without warning, which is not what you want.\r\n\r\nA shorter alternative\r\n---\r\n\r\nSome of these configuration parameters are tied to **user properties**:\r\n- `maven-jar-plugin`&#39;s [`skipIfEmpty`][2] parameter sadly is not linked to any user property\r\n- `maven-install-plugin`&#39;s [`skip`][3] parameter gets its value from `maven.install.skip`\r\n- `maven-deploy-plugin`&#39;s [`skip`][4] parameter gets its value from `maven.deploy.skip`\r\n\r\nThis means the pom could be shortened to\r\n```xml\r\n    &lt;properties&gt;\r\n        &lt;maven.install.skip&gt;true&lt;/maven.install.skip&gt;\r\n        &lt;maven.deploy.skip&gt;true&lt;/maven.deploy.skip&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipIfEmpty&gt;true&lt;/skipIfEmpty&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/53017986/426371\r\n  [2]: https://maven.apache.org/plugins/maven-jar-plugin/jar-mojo.html#skipIfEmpty\r\n  [3]: https://maven.apache.org/plugins/maven-install-plugin/install-mojo.html#skip\r\n  [4]: https://maven.apache.org/plugins/maven-deploy-plugin/deploy-mojo.html#skip","title":"Maven - Suppress [WARNING] JAR will be empty - no content was marked for inclusion in pom.xml","body":"<p>This is (according to me) the cleanest solution<br />\nfor projects that don't contain production code but do contain tests:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skipIfEmpty&gt;true&lt;/skipIfEmpty&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>It indicates what you want:</p>\n<ul>\n<li>to skip trying to package &quot;no production code&quot; into a jar</li>\n<li>don't try to install/deploy the non-existing jar</li>\n</ul>\n<p>leaving test execution untouched.</p>\n<hr />\n<p>Like <a href=\"https://stackoverflow.com/a/53017986/426371\">@John Camerin</a> mentioned it is NOT advised to use <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code><br />\nunless the ONLY thing your pom should do is gather dependencies.<br />\nOtherwise, if you have tests, they would be skipped without warning, which is not what you want.</p>\n<h2>A shorter alternative</h2>\n<p>Some of these configuration parameters are tied to <strong>user properties</strong>:</p>\n<ul>\n<li><code>maven-jar-plugin</code>'s <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/jar-mojo.html#skipIfEmpty\" rel=\"nofollow noreferrer\"><code>skipIfEmpty</code></a> parameter sadly is not linked to any user property</li>\n<li><code>maven-install-plugin</code>'s <a href=\"https://maven.apache.org/plugins/maven-install-plugin/install-mojo.html#skip\" rel=\"nofollow noreferrer\"><code>skip</code></a> parameter gets its value from <code>maven.install.skip</code></li>\n<li><code>maven-deploy-plugin</code>'s <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/deploy-mojo.html#skip\" rel=\"nofollow noreferrer\"><code>skip</code></a> parameter gets its value from <code>maven.deploy.skip</code></li>\n</ul>\n<p>This means the pom could be shortened to</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;properties&gt;\n        &lt;maven.install.skip&gt;true&lt;/maven.install.skip&gt;\n        &lt;maven.deploy.skip&gt;true&lt;/maven.deploy.skip&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skipIfEmpty&gt;true&lt;/skipIfEmpty&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1115422,"reputation":9623,"user_id":1104870,"accept_rate":70,"display_name":"Alex Krauss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594304839,"creation_date":1594304839,"answer_id":62817162,"question_id":51570630,"body_markdown":"None of the other solutions seemed particularly attractive to me, so my solution was to add a file `src/main/resources/dummy` containing the explanation:\r\n\r\n    Dummy file to avoid empty jar warning from Maven.\r\n\r\nAt least this does not produce any noise in the `pom.xml`, and there cannot be any misunderstandings about the purpose of the file. It produces a jar with exactly that file, but this was no problem in my case.","title":"Maven - Suppress [WARNING] JAR will be empty - no content was marked for inclusion in pom.xml","body":"<p>None of the other solutions seemed particularly attractive to me, so my solution was to add a file <code>src/main/resources/dummy</code> containing the explanation:</p>\n<pre><code>Dummy file to avoid empty jar warning from Maven.\n</code></pre>\n<p>At least this does not produce any noise in the <code>pom.xml</code>, and there cannot be any misunderstandings about the purpose of the file. It produces a jar with exactly that file, but this was no problem in my case.</p>\n"}],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11754,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":51572734,"answer_count":6,"score":19,"last_activity_date":1666363403,"creation_date":1532775022,"question_id":51570630,"body_markdown":"My maven project _intentionally_ only needs `src/test/java` and `src/test/resources`. After removing `src/main/*` folders, the expected warning showed up upon `mvn verify`:\r\n\r\n    [WARNING] JAR will be empty - no content was marked for inclusion!\r\n    [INFO] Building jar: D:\\dev\\java\\my-project\\target\\my-project-0.0.1-SNAPSHOT.jar\r\n\r\nHow to suppress this warning apart from having a class with an empty `main()` method in `src/main/java`?\r\n\r\n**EDIT:**\r\n\r\nAs `-q` suppresses the warning, a followup would be if this can be done programmatically in the `pom.xml`?","title":"Maven - Suppress [WARNING] JAR will be empty - no content was marked for inclusion in pom.xml","body":"<p>My maven project <em>intentionally</em> only needs <code>src/test/java</code> and <code>src/test/resources</code>. After removing <code>src/main/*</code> folders, the expected warning showed up upon <code>mvn verify</code>:</p>\n\n<pre><code>[WARNING] JAR will be empty - no content was marked for inclusion!\n[INFO] Building jar: D:\\dev\\java\\my-project\\target\\my-project-0.0.1-SNAPSHOT.jar\n</code></pre>\n\n<p>How to suppress this warning apart from having a class with an empty <code>main()</code> method in <code>src/main/java</code>?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>As <code>-q</code> suppresses the warning, a followup would be if this can be done programmatically in the <code>pom.xml</code>?</p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":26572979,"reputation":151,"user_id":20198921,"display_name":"aa_nador"},"score":0,"creation_date":1666303809,"post_id":74146583,"comment_id":130911746,"body_markdown":"You can indeed speed up the algorithm to achieve a linear time complexity by utilizing the given constraints:\n1. All the 1&#39;s in any row should come before 0&#39;s. \n2. The number of 1&#39;s in any row i should be at least the number of 1&#39;s row i+1.\nFor example traversing only the rightmost 1s in the matrix and summing the column index + 1 together will give you an answer in linear time (if your algorithm is traversing optimally)","body":"You can indeed speed up the algorithm to achieve a linear time complexity by utilizing the given constraints: 1. All the 1&#39;s in any row should come before 0&#39;s.  2. The number of 1&#39;s in any row i should be at least the number of 1&#39;s row i+1. For example traversing only the rightmost 1s in the matrix and summing the column index + 1 together will give you an answer in linear time (if your algorithm is traversing optimally)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666304290,"post_id":74146583,"comment_id":130911852,"body_markdown":"@aa_nador isn&#39;t the posted code kind of doing that??","body":"@aa_nador isn&#39;t the posted code kind of doing that??"},{"owner":{"account_id":1532735,"reputation":1778,"user_id":1429535,"display_name":"Victor Wilson"},"score":2,"creation_date":1666311866,"post_id":74146583,"comment_id":130913060,"body_markdown":"This algorithm is O(n). You make, at most, a single pass through your input data.","body":"This algorithm is O(n). You make, at most, a single pass through your input data."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1666314451,"post_id":74146583,"comment_id":130913435,"body_markdown":"If the input is an `n`x`n` matrix, and we iterate over all elements, then by definition that&#39;s n^2 because that&#39;s how many elements there are?","body":"If the input is an <code>n</code>x<code>n</code> matrix, and we iterate over all elements, then by definition that&#39;s n^2 because that&#39;s how many elements there are?"},{"owner":{"account_id":462742,"reputation":17025,"user_id":865220,"accept_rate":23,"display_name":"ishandutta2007"},"score":0,"creation_date":1666322485,"post_id":74146583,"comment_id":130914611,"body_markdown":"Not sure if you can reduce the overall complexity but you can compress the data by encoding them as bits of a 64 bit integer. But that means space would become `n*n/64`. Now in c++ `__builtin__popcount` can be used to count number of set bits of a 64 bit numbers. Even though the theoretical complexity of `__builtin__popcount` is O(no_of_bits) but it would still be lot faster than then counting via looping over 64 numbers and random accessing 64 memory locations (I am not familiar with Java&#39;s `integer.bitcount()` but my guess is it would be similar to C++&#39;s `__builtin__popcount`).","body":"Not sure if you can reduce the overall complexity but you can compress the data by encoding them as bits of a 64 bit integer. But that means space would become <code>n*n&#47;64</code>. Now in c++ <code>__builtin__popcount</code> can be used to count number of set bits of a 64 bit numbers. Even though the theoretical complexity of <code>__builtin__popcount</code> is O(no_of_bits) but it would still be lot faster than then counting via looping over 64 numbers and random accessing 64 memory locations (I am not familiar with Java&#39;s <code>integer.bitcount()</code> but my guess is it would be similar to C++&#39;s <code>__builtin__popcount</code>)."},{"owner":{"account_id":462742,"reputation":17025,"user_id":865220,"accept_rate":23,"display_name":"ishandutta2007"},"score":0,"creation_date":1666322559,"post_id":74146583,"comment_id":130914625,"body_markdown":"Having said that how do you get this `n*n` data in the first place ? is it generated by another program which feeds into your desired one or are you reading the `n*n` data from console or file system? If i/o needed then even if you speed up the algorithm the program will be I/O bound ie I/O  time  will determine time of your program.","body":"Having said that how do you get this <code>n*n</code> data in the first place ? is it generated by another program which feeds into your desired one or are you reading the <code>n*n</code> data from console or file system? If i/o needed then even if you speed up the algorithm the program will be I/O bound ie I/O  time  will determine time of your program."},{"owner":{"account_id":462742,"reputation":17025,"user_id":865220,"accept_rate":23,"display_name":"ishandutta2007"},"score":0,"creation_date":1666322939,"post_id":74146583,"comment_id":130914668,"body_markdown":"BIT packing would help only if you need to do that several times(&gt;n) but read the data only once.","body":"BIT packing would help only if you need to do that several times(&gt;n) but read the data only once."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1666345199,"post_id":74146583,"comment_id":130920046,"body_markdown":"the code does NOT iterate over all elements (at most `n + (n-1)` elements - addition, not multiplication, that is `O(n)`) - please note that `col`, the *counter* of the inner loop, is **not** reset inside the outer loop","body":"the code does NOT iterate over all elements (at most <code>n + (n-1)</code> elements - addition, not multiplication, that is <code>O(n)</code>) - please note that <code>col</code>, the <i>counter</i> of the inner loop, is <b>not</b> reset inside the outer loop"},{"owner":{"account_id":24207428,"reputation":192,"user_id":18164421,"display_name":"useeeeer132"},"score":0,"creation_date":1666346483,"post_id":74146583,"comment_id":130920496,"body_markdown":"@ishandutta2007 the `n*n` array is not generated by any other program. At least for now. But even if it was generated this program would take the array as input. The array won&#39;t be created in the program but we will initialize it like in this example. So I only care about the complexity of the algorithm itself and not about how the array was produced.","body":"@ishandutta2007 the <code>n*n</code> array is not generated by any other program. At least for now. But even if it was generated this program would take the array as input. The array won&#39;t be created in the program but we will initialize it like in this example. So I only care about the complexity of the algorithm itself and not about how the array was produced."},{"owner":{"account_id":24207428,"reputation":192,"user_id":18164421,"display_name":"useeeeer132"},"score":0,"creation_date":1666347037,"post_id":74146583,"comment_id":130920678,"body_markdown":"@user16320675 Firstly the `col`  which is the counter in not reset inside the outer loop because we don&#39;t want the loop to start from the first column every time but from the one it stopped on the previous iteration. Secondly so can you explain a little bit more why we don&#39;t iterate through all the all elements. I get it somehow but I still have a difficulty to understand it completely. Thanks!","body":"@user16320675 Firstly the <code>col</code>  which is the counter in not reset inside the outer loop because we don&#39;t want the loop to start from the first column every time but from the one it stopped on the previous iteration. Secondly so can you explain a little bit more why we don&#39;t iterate through all the all elements. I get it somehow but I still have a difficulty to understand it completely. Thanks!"},{"owner":{"account_id":24207428,"reputation":192,"user_id":18164421,"display_name":"useeeeer132"},"score":0,"creation_date":1666347091,"post_id":74146583,"comment_id":130920697,"body_markdown":"@VictorWilson can you explain a little bit more why we make, at most, a single pass through the input data. Thanks!","body":"@VictorWilson can you explain a little bit more why we make, at most, a single pass through the input data. Thanks!"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666360081,"post_id":74146583,"comment_id":130925153,"body_markdown":"@m2r105 Firstly: and? How does that conflict with what I wrote?? (I understand the reason, but seems like some previous comments did not get it) Secondly: exactly because the counters are *going* in only one direction (up or right), it will at most get `n + (n-1)` elements (like Manhattan Distance) Or can you show a path going only up and right that traverses more elements? (other way: you at most go `n-1` **steps** up and `n-1` right, no matter of which sequence, adding `1` for the first element you get the same result)","body":"@m2r105 Firstly: and? How does that conflict with what I wrote?? (I understand the reason, but seems like some previous comments did not get it) Secondly: exactly because the counters are <i>going</i> in only one direction (up or right), it will at most get <code>n + (n-1)</code> elements (like Manhattan Distance) Or can you show a path going only up and right that traverses more elements? (other way: you at most go <code>n-1</code> <b>steps</b> up and <code>n-1</code> right, no matter of which sequence, adding <code>1</code> for the first element you get the same result)"},{"owner":{"account_id":24207428,"reputation":192,"user_id":18164421,"display_name":"useeeeer132"},"score":0,"creation_date":1666360310,"post_id":74146583,"comment_id":130925248,"body_markdown":"@user16320675 OK Thanks a lot! I think I get it know!!","body":"@user16320675 OK Thanks a lot! I think I get it know!!"},{"owner":{"account_id":1532735,"reputation":1778,"user_id":1429535,"display_name":"Victor Wilson"},"score":0,"creation_date":1666367868,"post_id":74146583,"comment_id":130928118,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans That&#39;s not how algorithmic complexity works.  `n` is not an actual variable. It&#39;s simply a representation of &quot;the input data&quot;.  &quot;Data Structures and Algorithms&quot; by Aho, Hopcroft, and Ullman, is an excellent resource here.","body":"@Mike&#39;Pomax&#39;Kamermans That&#39;s not how algorithmic complexity works.  <code>n</code> is not an actual variable. It&#39;s simply a representation of &quot;the input data&quot;.  &quot;Data Structures and Algorithms&quot; by Aho, Hopcroft, and Ullman, is an excellent resource here."},{"owner":{"account_id":1532735,"reputation":1778,"user_id":1429535,"display_name":"Victor Wilson"},"score":1,"creation_date":1666368049,"post_id":74146583,"comment_id":130928191,"body_markdown":"@m2r105 I think user16320675 explains it well, but put briefly, the algorithm in question will never access the same part of the array more than once. Consider the best and worst cases: a 2d array completely filled with 1s, and a 2d array completely filled with 0s. In both situations you&#39;re just making one pass through each row. And thus O(n) is achieved.","body":"@m2r105 I think user16320675 explains it well, but put briefly, the algorithm in question will never access the same part of the array more than once. Consider the best and worst cases: a 2d array completely filled with 1s, and a 2d array completely filled with 0s. In both situations you&#39;re just making one pass through each row. And thus O(n) is achieved."},{"owner":{"account_id":462742,"reputation":17025,"user_id":865220,"accept_rate":23,"display_name":"ishandutta2007"},"score":0,"creation_date":1666614200,"post_id":74146583,"comment_id":130971564,"body_markdown":"@m2r105 I think you are missing the point, you cann&#39;t say I dont care, you will have to care. If data itself is O(n*n) you can not have a algorithm less than O(n*n)","body":"@m2r105 I think you are missing the point, you cann&#39;t say I dont care, you will have to care. If data itself is O(n<i>n) you can not have a algorithm less than O(n</i>n)"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666363397,"creation_date":1666311179,"answer_id":74147503,"question_id":74146583,"body_markdown":"Your outer loop must *always* execute `n` times.  You can&#39;t alter that.  So as you compute the count by taking advantage of the relationship between rows, the inner while loop is governed by the `col` *and* if the current `row/col` has a `1`.  Based on the result of the `col to row` comparison, the inner loop may execute anywhere from `0 to n` times and no more.  So it is running at `O(n)`\r\n\r\nThe number of times, the inner loop is entered, and for which iteration of the outer loop, is dependent on the particular groupings of the 1&#39;s and 0&#39;s","title":"Counting 1&#39;s in a 2D array of 1&#39;s and 0&#39;s with O(n) complexity","body":"<p>Your outer loop must <em>always</em> execute <code>n</code> times.  You can't alter that.  So as you compute the count by taking advantage of the relationship between rows, the inner while loop is governed by the <code>col</code> <em>and</em> if the current <code>row/col</code> has a <code>1</code>.  Based on the result of the <code>col to row</code> comparison, the inner loop may execute anywhere from <code>0 to n</code> times and no more.  So it is running at <code>O(n)</code></p>\n<p>The number of times, the inner loop is entered, and for which iteration of the outer loop, is dependent on the particular groupings of the 1's and 0's</p>\n"}],"owner":{"account_id":24207428,"reputation":192,"user_id":18164421,"display_name":"useeeeer132"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74147503,"answer_count":1,"score":1,"last_activity_date":1666363397,"creation_date":1666302011,"question_id":74146583,"body_markdown":"Assume a 2D `[n][n]` matrix of 1&#39;s and 0&#39;s. All the 1&#39;s in any row should come before 0&#39;s. The number of 1&#39;s in any row `i` should be at least the number of 1&#39;s row `i+1`. Find a method and write a Java program with O(n) complexity to count the 1&#39;sin the array.\r\n\r\nFor example we have the following array: \r\n```\r\n{{1,1,1,1},\r\n {1,1,1,1},\r\n {1,1,0,0},\r\n {1,0,0,0}}\r\n```\r\n\r\nI have written a code that counts the 1&#39;s correctly but I am not sure if the complexity is O(n) or O(n^2).\r\n\r\nThe code is the following:\r\n\r\n```\r\npublic class SpecialMatrix {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[][] a = {{1,1,1,1},\r\n\t\t\t\t\t {1,1,1,1},\r\n\t\t\t\t\t {1,1,0,0},\r\n\t\t\t\t\t {1,0,0,0}};\r\n\t\t\r\n\t\tint n = 4;\r\n\t\tint cnt=0;\r\n\t\tint row; \r\n\t\tint col = 0;\r\n\t\tfor (row = n-1; row&gt;=0; row--)\r\n\t\t{\r\n\t\t\twhile(col&lt;n &amp;&amp; a[row][col]==1)\r\n\t\t\t{\r\n\t\t\t\tcnt = cnt + (row + 1);\r\n\t\t\t\tSystem.out.print(&quot;Row: &quot; + row + &quot; Col: &quot; + col + &quot; Cnt: &quot; + cnt);\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tcol++;\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\tSystem.out.print(cnt);\r\n\t\t\r\n\t}\r\n\t\t\r\n}\r\n\r\n```\r\n\r\nThe output looks like this:\r\n\r\n```\r\nRow: 3 Col: 0 Cnt: 4\r\n\r\nRow: 2 Col: 1 Cnt: 7\r\n\r\nRow: 1 Col: 2 Cnt: 9\r\nRow: 1 Col: 3 Cnt: 11\r\n\r\n\r\n11\r\n```\r\n\r\nI would like some help regarding the complexity of the code. Is it O(n) or O(n^2)?\r\n\r\nThanks!","title":"Counting 1&#39;s in a 2D array of 1&#39;s and 0&#39;s with O(n) complexity","body":"<p>Assume a 2D <code>[n][n]</code> matrix of 1's and 0's. All the 1's in any row should come before 0's. The number of 1's in any row <code>i</code> should be at least the number of 1's row <code>i+1</code>. Find a method and write a Java program with O(n) complexity to count the 1'sin the array.</p>\n<p>For example we have the following array:</p>\n<pre><code>{{1,1,1,1},\n {1,1,1,1},\n {1,1,0,0},\n {1,0,0,0}}\n</code></pre>\n<p>I have written a code that counts the 1's correctly but I am not sure if the complexity is O(n) or O(n^2).</p>\n<p>The code is the following:</p>\n<pre><code>public class SpecialMatrix {\n\n    public static void main(String[] args) {\n        int[][] a = {{1,1,1,1},\n                     {1,1,1,1},\n                     {1,1,0,0},\n                     {1,0,0,0}};\n        \n        int n = 4;\n        int cnt=0;\n        int row; \n        int col = 0;\n        for (row = n-1; row&gt;=0; row--)\n        {\n            while(col&lt;n &amp;&amp; a[row][col]==1)\n            {\n                cnt = cnt + (row + 1);\n                System.out.print(&quot;Row: &quot; + row + &quot; Col: &quot; + col + &quot; Cnt: &quot; + cnt);\n                System.out.println();\n                col++;\n            }\n            System.out.println();\n        }\n        System.out.print(cnt);\n        \n    }\n        \n}\n\n</code></pre>\n<p>The output looks like this:</p>\n<pre><code>Row: 3 Col: 0 Cnt: 4\n\nRow: 2 Col: 1 Cnt: 7\n\nRow: 1 Col: 2 Cnt: 9\nRow: 1 Col: 3 Cnt: 11\n\n\n11\n</code></pre>\n<p>I would like some help regarding the complexity of the code. Is it O(n) or O(n^2)?</p>\n<p>Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1666361495,"post_id":74154921,"comment_id":130925714,"body_markdown":"Are you just asking how to find an object in a `Collection&lt;&gt;` based on a value in that object&#39;s data fields?","body":"Are you just asking how to find an object in a <code>Collection&lt;&gt;</code> based on a value in that object&#39;s data fields?"},{"owner":{"account_id":26693619,"reputation":1,"user_id":20301823,"display_name":"Ambiguity"},"score":0,"creation_date":1666361713,"post_id":74154921,"comment_id":130925795,"body_markdown":"Sorry if my question is not that clear, The first thing that the user will do is to register a username and a password and after that he will try to login using that username and password that is store inside the collection&lt;&gt; but i can&#39;t seem to find a way to make it work, are there any ways to do that?","body":"Sorry if my question is not that clear, The first thing that the user will do is to register a username and a password and after that he will try to login using that username and password that is store inside the collection&lt;&gt; but i can&#39;t seem to find a way to make it work, are there any ways to do that?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1666361742,"post_id":74154921,"comment_id":130925808,"body_markdown":"The right place to start is by building your system without I/O (ie scanner) and creating a Test class to make sure it works. Once you&#39;ve tested the system, only then should you start adding I/O","body":"The right place to start is by building your system without I/O (ie scanner) and creating a Test class to make sure it works. Once you&#39;ve tested the system, only then should you start adding I/O"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1666362441,"post_id":74154921,"comment_id":130926058,"body_markdown":"You probably shouldn&#39;t be using two scanners when one would suffice. Are you doing that because after the scanner calls nextInt, then `nextLine` call to scanner returns immediately?","body":"You probably shouldn&#39;t be using two scanners when one would suffice. Are you doing that because after the scanner calls nextInt, then <code>nextLine</code> call to scanner returns immediately?"},{"owner":{"account_id":26693619,"reputation":1,"user_id":20301823,"display_name":"Ambiguity"},"score":0,"creation_date":1666362892,"post_id":74154921,"comment_id":130926255,"body_markdown":"That&#39;s right sir","body":"That&#39;s right sir"}],"answers":[{"tags":[],"owner":{"account_id":10426914,"reputation":614,"user_id":7687855,"display_name":"George Rylkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666361816,"creation_date":1666361816,"answer_id":74155043,"question_id":74154921,"body_markdown":"Collection might not be the best suited interface for the task given.\r\nI suggest to use Map with *username* serving as a key.\r\n\r\nNevertheless, if you are adamant on using Collection, you&#39;ll have to iterate through your collection of Users, call getUsername() on each item retrieved and compare the username stored to the username provided.","title":"I wanted to make a register and login system in console in java","body":"<p>Collection might not be the best suited interface for the task given.\nI suggest to use Map with <em>username</em> serving as a key.</p>\n<p>Nevertheless, if you are adamant on using Collection, you'll have to iterate through your collection of Users, call getUsername() on each item retrieved and compare the username stored to the username provided.</p>\n"},{"tags":[],"owner":{"account_id":17895044,"reputation":23,"user_id":13000645,"display_name":"mexslacker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666362983,"creation_date":1666362983,"answer_id":74155290,"question_id":74154921,"body_markdown":"You can intercept after catching the username and trying to find that in the list.\r\n\r\nwithout comments \r\n```\r\nCollection&lt;User&gt; c = new ArrayList&lt;User&gt;();\r\n\r\nSystem.out.println(&quot;Enter New Username:&quot;);\r\nString username = sc2.nextLine();\r\nUser temp = c.stream().filter(username.equals(c.getUsername()))\r\n   .findAny()\r\n   .orElse(null);\r\n\r\nif(temp != null){\r\n    System.out.println(&quot;This user already exists&quot;);\r\n}\r\n```\r\n\r\n// with comments\r\n```\r\nCollection&lt;User&gt; c = new ArrayList&lt;User&gt;();\r\n\r\nSystem.out.println(&quot;Enter New Username:&quot;);\r\nString username = sc2.nextLine();\r\n\r\n// these next lines are using streamApi and lambda\r\nUser temp = c.stream() //streams on all the list\r\n   .filter(\r\n      username.equals(c.getUsername()) // this filter is getting a user and comparing it to the input username\r\n    )\r\n   .findAny() // finds if any\r\n   .orElse(null);  // returns null if there is no user with this username\r\n\r\nif(temp != null){  // check if the top result returned something different than null\r\n    System.out.println(&quot;This user already exists&quot;);\r\n}\r\n```","title":"I wanted to make a register and login system in console in java","body":"<p>You can intercept after catching the username and trying to find that in the list.</p>\n<p>without comments</p>\n<pre><code>Collection&lt;User&gt; c = new ArrayList&lt;User&gt;();\n\nSystem.out.println(&quot;Enter New Username:&quot;);\nString username = sc2.nextLine();\nUser temp = c.stream().filter(username.equals(c.getUsername()))\n   .findAny()\n   .orElse(null);\n\nif(temp != null){\n    System.out.println(&quot;This user already exists&quot;);\n}\n</code></pre>\n<p>// with comments</p>\n<pre><code>Collection&lt;User&gt; c = new ArrayList&lt;User&gt;();\n\nSystem.out.println(&quot;Enter New Username:&quot;);\nString username = sc2.nextLine();\n\n// these next lines are using streamApi and lambda\nUser temp = c.stream() //streams on all the list\n   .filter(\n      username.equals(c.getUsername()) // this filter is getting a user and comparing it to the input username\n    )\n   .findAny() // finds if any\n   .orElse(null);  // returns null if there is no user with this username\n\nif(temp != null){  // check if the top result returned something different than null\n    System.out.println(&quot;This user already exists&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8596176,"reputation":186,"user_id":6439134,"display_name":"enesgonez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666363226,"creation_date":1666363226,"answer_id":74155341,"question_id":74154921,"body_markdown":"You can find the user on your collection.\r\nFor example : \r\n\r\n    case 2:\r\n                    System.out.println(&quot;Enter your Username:&quot;);\r\n                    String loginusername = sc2.nextLine();\r\n                    System.out.println(&quot;Enter your Password:&quot;);\r\n                    String loginpassword = sc2.nextLine();\r\n                    boolean isUserFound = c.stream().anyMatch(user -&gt; user.getUsername().equals(loginusername) &amp;&amp; user.getPass().equals(loginpassword));\r\n                    if (isUserFound) {\r\n                        System.out.println(&quot;Login success&quot;);\r\n                    } else {\r\n                        System.out.println(&quot;Wrong credentials!! Login Failed.&quot;);\r\n                    }\r\n\r\n\r\nOutput of above code\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hRaDp.png","title":"I wanted to make a register and login system in console in java","body":"<p>You can find the user on your collection.\nFor example :</p>\n<pre><code>case 2:\n                System.out.println(&quot;Enter your Username:&quot;);\n                String loginusername = sc2.nextLine();\n                System.out.println(&quot;Enter your Password:&quot;);\n                String loginpassword = sc2.nextLine();\n                boolean isUserFound = c.stream().anyMatch(user -&gt; user.getUsername().equals(loginusername) &amp;&amp; user.getPass().equals(loginpassword));\n                if (isUserFound) {\n                    System.out.println(&quot;Login success&quot;);\n                } else {\n                    System.out.println(&quot;Wrong credentials!! Login Failed.&quot;);\n                }\n</code></pre>\n<p>Output of above code</p>\n<p><a href=\"https://i.stack.imgur.com/hRaDp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hRaDp.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26693619,"reputation":1,"user_id":20301823,"display_name":"Ambiguity"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1666363226,"creation_date":1666361351,"question_id":74154921,"body_markdown":"I just made a program that makes you choose if you want to register or login to a user that is already in the collections or user array list that I made. What my problem is that i can&#39;t find a way where i put a username and password that is already registered and to verify it using the list that i made.\r\n\r\n\r\n\r\nThis is my Main Class:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.Scanner;\r\nimport java.time.LocalDate;\r\nimport java.util.stream.Collectors;\r\n\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n        Collection&lt;User&gt; c = new ArrayList&lt;User&gt;();\r\n        Scanner sc1 = new Scanner(System.in);\r\n        Scanner sc2 = new Scanner(System.in);\r\n        int ch;\r\n\r\n        do{\r\n            System.out.println(&quot;1. Register&quot;);\r\n            System.out.println(&quot;2. Login&quot;);\r\n            System.out.print(&quot;Enter your Choice: &quot;);\r\n            ch = sc1.nextInt();\r\n\r\n            switch(ch) {\r\n                case 1:\r\n                    System.out.println(&quot;Enter New Username:&quot;);\r\n                    String username = sc2.nextLine();\r\n                    System.out.println(&quot;Enter New Password:&quot;);\r\n                    String pass = sc2.nextLine();\r\n                    c.add(new User(username, pass));\r\n                    System.out.println(&quot;Your account has been registered to the system!&quot;);\r\n                    break;\r\n                case 2:\r\n                    System.out.println(&quot;Enter your Username:&quot;);\r\n                    String loginusername = sc2.nextLine();\r\n                    System.out.println(&quot;Enter your Password:&quot;);\r\n                    String loginpassword = sc2.nextLine();\r\n\r\n            }\r\n\r\n        }while(ch!=0);\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\nand this is my User class:\r\n\r\n```\r\npublic class User {\r\n\r\n    private String username;\r\n    private String pass;\r\n\r\n    User(String username, String pass){\r\n        this.username = username;\r\n        this.pass = pass;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n}\r\n\r\n","title":"I wanted to make a register and login system in console in java","body":"<p>I just made a program that makes you choose if you want to register or login to a user that is already in the collections or user array list that I made. What my problem is that i can't find a way where i put a username and password that is already registered and to verify it using the list that i made.</p>\n<p>This is my Main Class:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Scanner;\nimport java.time.LocalDate;\nimport java.util.stream.Collectors;\n\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n\n        Collection&lt;User&gt; c = new ArrayList&lt;User&gt;();\n        Scanner sc1 = new Scanner(System.in);\n        Scanner sc2 = new Scanner(System.in);\n        int ch;\n\n        do{\n            System.out.println(&quot;1. Register&quot;);\n            System.out.println(&quot;2. Login&quot;);\n            System.out.print(&quot;Enter your Choice: &quot;);\n            ch = sc1.nextInt();\n\n            switch(ch) {\n                case 1:\n                    System.out.println(&quot;Enter New Username:&quot;);\n                    String username = sc2.nextLine();\n                    System.out.println(&quot;Enter New Password:&quot;);\n                    String pass = sc2.nextLine();\n                    c.add(new User(username, pass));\n                    System.out.println(&quot;Your account has been registered to the system!&quot;);\n                    break;\n                case 2:\n                    System.out.println(&quot;Enter your Username:&quot;);\n                    String loginusername = sc2.nextLine();\n                    System.out.println(&quot;Enter your Password:&quot;);\n                    String loginpassword = sc2.nextLine();\n\n            }\n\n        }while(ch!=0);\n\n\n    }\n\n}\n</code></pre>\n<p>and this is my User class:</p>\n<pre><code>public class User {\n\n    private String username;\n    private String pass;\n\n    User(String username, String pass){\n        this.username = username;\n        this.pass = pass;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666364508,"post_id":74154513,"comment_id":130926875,"body_markdown":"Can you also add mock code on how steps 1 and 3 would look like?","body":"Can you also add mock code on how steps 1 and 3 would look like?"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666365182,"post_id":74154513,"comment_id":130927051,"body_markdown":"You are repeating the same thing twice. **&quot;1&quot; - If not duplicate (does not exist in any of queues), push task T1\n\n&quot;3&quot; - If not duplicate (does not exist in any of queues), push task T1**\nIs this intentional?","body":"You are repeating the same thing twice. <b>&quot;1&quot; - If not duplicate (does not exist in any of queues), push task T1  &quot;3&quot; - If not duplicate (does not exist in any of queues), push task T1</b> Is this intentional?"},{"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"score":0,"creation_date":1666367011,"post_id":74154513,"comment_id":130927801,"body_markdown":"Yes @mrkachariker I&#39;m trying to depict a scenario which causes inconsistency in my data (duplicate tasks in the system)","body":"Yes @mrkachariker I&#39;m trying to depict a scenario which causes inconsistency in my data (duplicate tasks in the system)"}],"answers":[{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666363212,"creation_date":1666360874,"answer_id":74154808,"question_id":74154513,"body_markdown":"You can synchromize on an Object uning wait() and notify()\r\n\r\n```lang-java\r\nimport java.util.ArrayDeque;\r\nimport java.util.HashSet;\r\nimport java.util.Queue;\r\nimport java.util.Set;\r\n\r\npublic class JobQueue {\r\n    private static final Object syncMon = new Object();\r\n\r\n    private static final Queue&lt;Object&gt; pending = new ArrayDeque&lt;&gt;();\r\n    private static final Set&lt;Object&gt; executing = new HashSet&lt;&gt;();\r\n\r\n    public void produce(Object o) {\r\n        synchronized (syncMon) {\r\n            if(pending.contains(o) || executing.contains(o))\r\n                return;\r\n\r\n            pending.add(o);\r\n            syncMon.notifyAll();\r\n        }\r\n    }\r\n\r\n    public Object consume() throws InterruptedException {\r\n        synchronized (syncMon) {\r\n            if(pending.isEmpty())\r\n                syncMon.wait();\r\n\r\n            Object task = pending.poll();\r\n            if(task != null) {\r\n                executing.add(task);\r\n            }\r\n            return task;\r\n        }\r\n    }\r\n\r\n    public void complete(Object task) {\r\n        synchronized (syncMon) {\r\n            executing.remove(task);\r\n        }\r\n    }\r\n}\r\n``` \r\n\r\nThe syncMon object is not necesarry. You could also use wait() and notify() on the Queue directly. \r\n\r\nlike `pending.notifyAll();`\r\n\r\n---\r\n\r\nTo explain this a litte: If you invoke wait() in a synchronized block the lock is released. So the producer can enter the synchronized while the consumer is waiting. If you call notify() or notifyAll() the waiting thread wakes up and takes the lock back, once the producer has exited the synchronized block.\r\n\r\n---\r\n\r\n**Update 1**: add execution set.","title":"Syncrhonization across two queues and threads","body":"<p>You can synchromize on an Object uning wait() and notify()</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayDeque;\nimport java.util.HashSet;\nimport java.util.Queue;\nimport java.util.Set;\n\npublic class JobQueue {\n    private static final Object syncMon = new Object();\n\n    private static final Queue&lt;Object&gt; pending = new ArrayDeque&lt;&gt;();\n    private static final Set&lt;Object&gt; executing = new HashSet&lt;&gt;();\n\n    public void produce(Object o) {\n        synchronized (syncMon) {\n            if(pending.contains(o) || executing.contains(o))\n                return;\n\n            pending.add(o);\n            syncMon.notifyAll();\n        }\n    }\n\n    public Object consume() throws InterruptedException {\n        synchronized (syncMon) {\n            if(pending.isEmpty())\n                syncMon.wait();\n\n            Object task = pending.poll();\n            if(task != null) {\n                executing.add(task);\n            }\n            return task;\n        }\n    }\n\n    public void complete(Object task) {\n        synchronized (syncMon) {\n            executing.remove(task);\n        }\n    }\n}\n</code></pre>\n<p>The syncMon object is not necesarry. You could also use wait() and notify() on the Queue directly.</p>\n<p>like <code>pending.notifyAll();</code></p>\n<hr />\n<p>To explain this a litte: If you invoke wait() in a synchronized block the lock is released. So the producer can enter the synchronized while the consumer is waiting. If you call notify() or notifyAll() the waiting thread wakes up and takes the lock back, once the producer has exited the synchronized block.</p>\n<hr />\n<p><strong>Update 1</strong>: add execution set.</p>\n"},{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666362632,"creation_date":1666361777,"answer_id":74155033,"question_id":74154513,"body_markdown":"This might not be a direct answer to your question. But if you are looking for a solution to queue tasks to process them with a number of threads you should have a look at the Executors from Java.\r\n\r\n\r\n```java-lang\r\n\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class JobQueue {\r\n    public static void main(String[] args) {\r\n        ThreadPoolExecutor executorService = (ThreadPoolExecutor) Executors.newFixedThreadPool(2);\r\n\r\n        executorService.submit(() -&gt; {\r\n            // do someting\r\n            return &quot;result&quot;;\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\n---\r\n\r\n**Update**: check queue:\r\n\r\n```java-lang\r\nimport java.util.concurrent.BlockingQueue;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ThreadPoolExecutor;\r\n\r\npublic class JobQueue {\r\n    public static void main(String[] args) {\r\n        ThreadPoolExecutor executorService = (ThreadPoolExecutor) Executors.newFixedThreadPool(2);\r\n\r\n        Runnable task = () -&gt; {\r\n            // do someting\r\n        };\r\n\r\n        BlockingQueue&lt;Runnable&gt; queue = executorService.getQueue();\r\n        if(!queue.contains(task)) {\r\n            executorService.submit(task);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Syncrhonization across two queues and threads","body":"<p>This might not be a direct answer to your question. But if you are looking for a solution to queue tasks to process them with a number of threads you should have a look at the Executors from Java.</p>\n<pre><code>\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class JobQueue {\n    public static void main(String[] args) {\n        ThreadPoolExecutor executorService = (ThreadPoolExecutor) Executors.newFixedThreadPool(2);\n\n        executorService.submit(() -&gt; {\n            // do someting\n            return &quot;result&quot;;\n        });\n    }\n}\n\n</code></pre>\n<hr />\n<p><strong>Update</strong>: check queue:</p>\n<pre><code>import java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ThreadPoolExecutor;\n\npublic class JobQueue {\n    public static void main(String[] args) {\n        ThreadPoolExecutor executorService = (ThreadPoolExecutor) Executors.newFixedThreadPool(2);\n\n        Runnable task = () -&gt; {\n            // do someting\n        };\n\n        BlockingQueue&lt;Runnable&gt; queue = executorService.getQueue();\n        if(!queue.contains(task)) {\n            executorService.submit(task);\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666363212,"creation_date":1666359500,"question_id":74154513,"body_markdown":"I have two concurrent threads (producer and consumer), and two queues (pending and execution).\r\n\r\nThis is a sample flow for producer:\r\n\r\n**&quot;1&quot;** - If not duplicate (does not exist in any of queues), push task T1\r\n\r\n**&quot;3&quot;** - If not duplicate (does not exist in any of queues), push task T1\r\n\r\nAnd this is a sample flow for consumer:\r\n\r\n**&quot;2&quot;** - Poll data from &quot;pending&quot; queue\r\n\r\n**&quot;4&quot;** - If found something, push it into &quot;execution&quot; queue and run it in a separate thread.\r\n\r\nNotice the numbering above:\r\n- If between steps 2 and 4, step 3 happens, it can insert a duplicate because the data is still in-memory and is not pushed into &quot;execution&quot; queue yet.\r\n\r\nHow can I prevent this? I can not put a lock on both queues because then the &quot;consumer&quot; thread will always keep the lock (it is an always running thread polling for data).\r\n\r\nP.S.\r\n\r\nThis is how my consumer looks like:\r\n```java\r\nwhile ( true ) {\r\n  var nextTask = pending.poll(100, MILLISECOND); //STEP 2\r\n  if ( nextTask != null ) {\r\n    executeQueue.add(nextTask); //STEP 4\r\n    executeInParallel(nextTask); \r\n  }\r\n}\r\n```","title":"Syncrhonization across two queues and threads","body":"<p>I have two concurrent threads (producer and consumer), and two queues (pending and execution).</p>\n<p>This is a sample flow for producer:</p>\n<p><strong>&quot;1&quot;</strong> - If not duplicate (does not exist in any of queues), push task T1</p>\n<p><strong>&quot;3&quot;</strong> - If not duplicate (does not exist in any of queues), push task T1</p>\n<p>And this is a sample flow for consumer:</p>\n<p><strong>&quot;2&quot;</strong> - Poll data from &quot;pending&quot; queue</p>\n<p><strong>&quot;4&quot;</strong> - If found something, push it into &quot;execution&quot; queue and run it in a separate thread.</p>\n<p>Notice the numbering above:</p>\n<ul>\n<li>If between steps 2 and 4, step 3 happens, it can insert a duplicate because the data is still in-memory and is not pushed into &quot;execution&quot; queue yet.</li>\n</ul>\n<p>How can I prevent this? I can not put a lock on both queues because then the &quot;consumer&quot; thread will always keep the lock (it is an always running thread polling for data).</p>\n<p>P.S.</p>\n<p>This is how my consumer looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while ( true ) {\n  var nextTask = pending.poll(100, MILLISECOND); //STEP 2\n  if ( nextTask != null ) {\n    executeQueue.add(nextTask); //STEP 4\n    executeInParallel(nextTask); \n  }\n}\n</code></pre>\n"},{"tags":["java","database","serialization","deserialization","rowmapper"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1666353275,"post_id":74153145,"comment_id":130922668,"body_markdown":"Is the file a text file? Is the image that you&#39;re showing an image of the text in the file? If so, then you cannot use an ObjectInputStream to extract data from the file. In fact, you can only use ObjectInputStream if the file was written using an ObjectOutputStream. Your question appears to be missing this key information. In other words, a file must contain properly serialized data if you are going to be able to unserialize it.","body":"Is the file a text file? Is the image that you&#39;re showing an image of the text in the file? If so, then you cannot use an ObjectInputStream to extract data from the file. In fact, you can only use ObjectInputStream if the file was written using an ObjectOutputStream. Your question appears to be missing this key information. In other words, a file must contain properly serialized data if you are going to be able to unserialize it."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666354146,"post_id":74153145,"comment_id":130922981,"body_markdown":"`EF BF BD EF BF BD 00 05` looks exactly like the sequence of [this answer](https://stackoverflow.com/a/10686702/2711488)…","body":"<code>EF BF BD EF BF BD 00 05</code> looks exactly like the sequence of <a href=\"https://stackoverflow.com/a/10686702/2711488\">this answer</a>…"},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1666356626,"post_id":74153145,"comment_id":130923871,"body_markdown":"@HovercraftFullOfEels It`s a column in database mysql. I have column &#39;SERIALIZATION&#39; with serialized objects but i want to deserialize them and get data.","body":"@HovercraftFullOfEels It`s a column in database mysql. I have column &#39;SERIALIZATION&#39; with serialized objects but i want to deserialize them and get data."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1666359352,"post_id":74153145,"comment_id":130924879,"body_markdown":"But again, how is the data saved to the database? Is it serialized with ObjectOutputStream? If not, then your attempt to use ObjectInputStream is doomed. Regardless, you will want to show your code that is used when storing the data.","body":"But again, how is the data saved to the database? Is it serialized with ObjectOutputStream? If not, then your attempt to use ObjectInputStream is doomed. Regardless, you will want to show your code that is used when storing the data."},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1666359895,"post_id":74153145,"comment_id":130925083,"body_markdown":"@HovercraftFullOfEels Sorry, forgot about &#39;addClient&#39; method. If we use this method we will have serialized object with header AC ED 00 05. But if you can see i have other header because i used old databaseDump with patch which stored this data for me. Holger gave a link where answer was that git changes headers. But nobody answers how to read this header. Updated code and question.","body":"@HovercraftFullOfEels Sorry, forgot about &#39;addClient&#39; method. If we use this method we will have serialized object with header AC ED 00 05. But if you can see i have other header because i used old databaseDump with patch which stored this data for me. Holger gave a link where answer was that git changes headers. But nobody answers how to read this header. Updated code and question."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1666367880,"post_id":74153145,"comment_id":130928123,"body_markdown":"I could not reproduce your problem with [this code](https://pastebin.com/qjhccVDw). Consider trying to isolate the code that is causing the problem and posting that.","body":"I could not reproduce your problem with <a href=\"https://pastebin.com/qjhccVDw\" rel=\"nofollow noreferrer\">this code</a>. Consider trying to isolate the code that is causing the problem and posting that."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666377739,"post_id":74153145,"comment_id":130931068,"body_markdown":"Are you by any chance trying to store that serialized data into a character-based column type?","body":"Are you by any chance trying to store that serialized data into a character-based column type?"}],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666362542,"creation_date":1666352750,"question_id":74153145,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vgaD5.png\r\nI need to get serialized object from this table(it`s not a file or image. Just a table with columns in database which stored client with serialized data), but when i try to read Object i have an Exception in thread &quot;main&quot; java.io.StreamCorruptedException: invalid stream header: EFBFBDEF. I know that when we have ObjectInputStream we need to have ObjectOutputStream. But I have data in table and not sure how to deserialize it properly.\r\n\r\nHere my class \r\n\r\n\r\n````\r\n@Component\r\n\r\npublic class ClassicClientsService implements ClientDetailsService {\r\n\r\n    private final JdbcTemplate dataTemplate;\r\n    private final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    public ClassicClientsService(DataSource dataSource) {\r\n        this.dataTemplate = new JdbcTemplate(dataSource);\r\n    }\r\n\r\n    @Override\r\n    public ClientDetails loadClientByClientId(String clientId) throws OAuth2Exception {\r\n\r\n        try {\r\n            ClientDetails details = dataTemplate.queryForObject(&quot;SELECT SERIALIZATION FROM OAUTH_CLIENTS WHERE CLIENTID = ?&quot;, new ClientDetailsMapper(), new Object[]{clientId});\r\n            return details;\r\n        } catch (EmptyResultDataAccessException ers) {\r\n            throw new EmptyResultDataAccessException(&quot;Client &quot; + clientId + &quot; was not found&quot;, 1);\r\n        }\r\n\r\n    }\r\n\r\n    private class ClientDetailsMapper implements RowMapper&lt;ClientDetails&gt; {\r\n\r\n        @SneakyThrows\r\n        @Override\r\n        public ClientDetails mapRow(ResultSet rs, int rowNum) {\r\n            byte[] temp = rs.getBytes(&quot;SERIALIZATION&quot;);\r\n            \r\n            return (ClientDetails) new ObjectInputStream(new ByteArrayInputStream(temp)).readObject();\r\n        }\r\n\r\n    }}\r\n\r\npublic boolean addClient(ClientDetails details) throws DataAccessException {\r\n        ByteArrayOutputStream outBytes = new ByteArrayOutputStream();\r\n        try {\r\n            ObjectOutputStream outObject = new ObjectOutputStream(outBytes);\r\n            outObject.writeObject(details);\r\n            outObject.flush();\r\n            outObject.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        byte[] szDetails = outBytes.toByteArray();\r\n        dataTemplate.update(&quot;INSERT INTO OAUTH_CLIENTS (CLIENTID, PROTOCOL, SERIALIZATION) VALUES(?,1,?)&quot;, new Object[]{details.getClientId(), szDetails});\r\n        return false;\r\n    }\r\n````\r\n\r\nWhen i call the method &quot;loadClientByCLientId&quot; i am getting my Exception\r\n````\r\n@Configuration\r\n@ComponentScan\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        migrateClients(args[0]);\r\n    }\r\n\r\n    private static void migrateClients(String clientId) {\r\n        if (clientId.isEmpty()) {\r\n            throw new RuntimeException(&quot;client id should be set as program argument&quot;);\r\n        }\r\n        ApplicationContext context = new AnnotationConfigApplicationContext(Application.class);\r\n        ClassicClientsService clientDetailsService = context.getBean(ClassicClientsService.class);\r\n        OauthClientsManager oauthClientsManager = context.getBean(OauthClientsManager.class);\r\n        clientDetailsService.loadClientByClientId(clientId);\r\n````\r\nLogs:\r\n````\r\n\r\n    NFO: Loaded JDBC driver: com.mysql.jdbc.Driver\r\nException in thread &quot;main&quot; java.io.StreamCorruptedException: invalid stream header: EFBFBDEF\r\n\tat java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:935)\r\n\tat java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:374)\r\n````\r\n","title":"invalid stream header: EFBFBDEF when trying to get data from serialized object in database","body":"<p><a href=\"https://i.stack.imgur.com/vgaD5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vgaD5.png\" alt=\"enter image description here\" /></a></p>\n<p>I need to get serialized object from this table(it`s not a file or image. Just a table with columns in database which stored client with serialized data), but when i try to read Object i have an Exception in thread &quot;main&quot; java.io.StreamCorruptedException: invalid stream header: EFBFBDEF. I know that when we have ObjectInputStream we need to have ObjectOutputStream. But I have data in table and not sure how to deserialize it properly.</p>\n<p>Here my class</p>\n<pre><code>@Component\n\npublic class ClassicClientsService implements ClientDetailsService {\n\n    private final JdbcTemplate dataTemplate;\n    private final ObjectMapper objectMapper = new ObjectMapper();\n\n    public ClassicClientsService(DataSource dataSource) {\n        this.dataTemplate = new JdbcTemplate(dataSource);\n    }\n\n    @Override\n    public ClientDetails loadClientByClientId(String clientId) throws OAuth2Exception {\n\n        try {\n            ClientDetails details = dataTemplate.queryForObject(&quot;SELECT SERIALIZATION FROM OAUTH_CLIENTS WHERE CLIENTID = ?&quot;, new ClientDetailsMapper(), new Object[]{clientId});\n            return details;\n        } catch (EmptyResultDataAccessException ers) {\n            throw new EmptyResultDataAccessException(&quot;Client &quot; + clientId + &quot; was not found&quot;, 1);\n        }\n\n    }\n\n    private class ClientDetailsMapper implements RowMapper&lt;ClientDetails&gt; {\n\n        @SneakyThrows\n        @Override\n        public ClientDetails mapRow(ResultSet rs, int rowNum) {\n            byte[] temp = rs.getBytes(&quot;SERIALIZATION&quot;);\n            \n            return (ClientDetails) new ObjectInputStream(new ByteArrayInputStream(temp)).readObject();\n        }\n\n    }}\n\npublic boolean addClient(ClientDetails details) throws DataAccessException {\n        ByteArrayOutputStream outBytes = new ByteArrayOutputStream();\n        try {\n            ObjectOutputStream outObject = new ObjectOutputStream(outBytes);\n            outObject.writeObject(details);\n            outObject.flush();\n            outObject.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        byte[] szDetails = outBytes.toByteArray();\n        dataTemplate.update(&quot;INSERT INTO OAUTH_CLIENTS (CLIENTID, PROTOCOL, SERIALIZATION) VALUES(?,1,?)&quot;, new Object[]{details.getClientId(), szDetails});\n        return false;\n    }\n</code></pre>\n<p>When i call the method &quot;loadClientByCLientId&quot; i am getting my Exception</p>\n<pre><code>@Configuration\n@ComponentScan\npublic class Application {\n\n    public static void main(String[] args) {\n        migrateClients(args[0]);\n    }\n\n    private static void migrateClients(String clientId) {\n        if (clientId.isEmpty()) {\n            throw new RuntimeException(&quot;client id should be set as program argument&quot;);\n        }\n        ApplicationContext context = new AnnotationConfigApplicationContext(Application.class);\n        ClassicClientsService clientDetailsService = context.getBean(ClassicClientsService.class);\n        OauthClientsManager oauthClientsManager = context.getBean(OauthClientsManager.class);\n        clientDetailsService.loadClientByClientId(clientId);\n</code></pre>\n<p>Logs:</p>\n<pre><code>\n    NFO: Loaded JDBC driver: com.mysql.jdbc.Driver\nException in thread &quot;main&quot; java.io.StreamCorruptedException: invalid stream header: EFBFBDEF\n    at java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:935)\n    at java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:374)\n</code></pre>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":18827263,"reputation":405,"user_id":14499516,"display_name":"hokwanhung"},"score":0,"creation_date":1666316057,"post_id":74147417,"comment_id":130913692,"body_markdown":"Perhaps this answer could help you: [Java custom annotation - calling methods with annotation](https://stackoverflow.com/questions/65157760/java-custom-annotation-calling-methods-with-annotation)","body":"Perhaps this answer could help you: <a href=\"https://stackoverflow.com/questions/65157760/java-custom-annotation-calling-methods-with-annotation\">Java custom annotation - calling methods with annotation</a>"}],"answers":[{"tags":[],"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666362508,"creation_date":1666362508,"answer_id":74155196,"question_id":74147417,"body_markdown":"You can&#39;t do it with plain annotations.\r\n\r\nYou would have to use some sort of aspect oriented programming to do that. See this similar question:\r\n\r\nhttps://stackoverflow.com/questions/24398260/how-can-i-use-aop-to-intercept-the-constructor-of-file-filereader-filewriter\r\n\r\nBut it is complicated and it might be easier to just add your own registration logic to the constructor, although this a little bit frowned upon as you are registering incomplete objects.\r\n","title":"How to create annotation to register instances of a class?","body":"<p>You can't do it with plain annotations.</p>\n<p>You would have to use some sort of aspect oriented programming to do that. See this similar question:</p>\n<p><a href=\"https://stackoverflow.com/questions/24398260/how-can-i-use-aop-to-intercept-the-constructor-of-file-filereader-filewriter\">How can I use AOP to intercept the constructor of File, FileReader, FileWriter, FileInputStream and FileOutputStream?</a></p>\n<p>But it is complicated and it might be easier to just add your own registration logic to the constructor, although this a little bit frowned upon as you are registering incomplete objects.</p>\n"}],"owner":{"account_id":26181927,"reputation":31,"user_id":19865178,"display_name":"Flo Flo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666362508,"creation_date":1666310180,"question_id":74147417,"body_markdown":"I&#39;ve never made annotations in java and I&#39;d like to create one to register all instances of annoted classes, like this :\r\n\r\n    @MyAnnotation\r\n    class A{}\r\n        \r\n    class B{\r\n        private List&lt;Object&gt; registeredInstances = new ArrayList&lt;&gt;();\r\n        \r\n        public void registeringMethod(Object instance){\r\n            registeredInstances.add(instance);\r\n        }\r\n    }\r\n\r\nsuch as each time a new A object is created registeringMethod is called with the instance.\r\nIs it possible ?\r\n\r\nThanks","title":"How to create annotation to register instances of a class?","body":"<p>I've never made annotations in java and I'd like to create one to register all instances of annoted classes, like this :</p>\n<pre><code>@MyAnnotation\nclass A{}\n    \nclass B{\n    private List&lt;Object&gt; registeredInstances = new ArrayList&lt;&gt;();\n    \n    public void registeringMethod(Object instance){\n        registeredInstances.add(instance);\n    }\n}\n</code></pre>\n<p>such as each time a new A object is created registeringMethod is called with the instance.\nIs it possible ?</p>\n<p>Thanks</p>\n"},{"tags":["java","selenium","webdriver","testng"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1665984085,"post_id":74087508,"comment_id":130818485,"body_markdown":"What&#39;s the failure output?","body":"What&#39;s the failure output?"},{"owner":{"account_id":26639449,"reputation":1,"user_id":20255387,"display_name":"Tariq"},"score":0,"creation_date":1665986154,"post_id":74087508,"comment_id":130818795,"body_markdown":"hi, i am getting null pointer exception","body":"hi, i am getting null pointer exception"},{"owner":{"account_id":26639449,"reputation":1,"user_id":20255387,"display_name":"Tariq"},"score":0,"creation_date":1665986410,"post_id":74087508,"comment_id":130818838,"body_markdown":"i have attached console image at bottom","body":"i have attached console image at bottom"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1666003756,"post_id":74087508,"comment_id":130824215,"body_markdown":"Dunno what&#39;s the line 30 in class `AddToCartTest`, but something is null. Put breakpoint direct before line 30 and debug your code.","body":"Dunno what&#39;s the line 30 in class <code>AddToCartTest</code>, but something is null. Put breakpoint direct before line 30 and debug your code."}],"answers":[{"tags":[],"owner":{"account_id":26315879,"reputation":36,"user_id":19978672,"display_name":"GabrielFethi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666361889,"creation_date":1666361889,"answer_id":74155059,"question_id":74087508,"body_markdown":"1- Try to do the setup with @BeforeSuite instead @BeforeTest. Usually this is a better practice. I use @BeforeSuite to set class variables such as browsername, environment etc and then I do the driver call always at a @BeforeClass level.\r\n\r\n2- Also am not sure from the code how you ever get to the inventory page. Is that the page you get after you login?","title":"how to write login code to application once instead of writing login in every testclass,in TestNG and selenium webdriver ? given below more details","body":"<p>1- Try to do the setup with @BeforeSuite instead @BeforeTest. Usually this is a better practice. I use @BeforeSuite to set class variables such as browsername, environment etc and then I do the driver call always at a @BeforeClass level.</p>\n<p>2- Also am not sure from the code how you ever get to the inventory page. Is that the page you get after you login?</p>\n"}],"owner":{"account_id":26639449,"reputation":1,"user_id":20255387,"display_name":"Tariq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666361889,"creation_date":1665926966,"question_id":74087508,"body_markdown":"**This is base class where i am opening browser and extending it to testclasses**\r\n\r\n\r\n```java\r\npublic class Base_Class{\r\n\r\n\tpublic WebDriver driver;\r\n\t@BeforeTest\r\n\t@Parameters(&quot;browsername&quot;)\r\n\tpublic void Start_Browser(String browsername) throws IOException {\r\n\t\tif (browsername.equals(&quot;chrome&quot;)) {\r\n\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,\r\n\t\t\t\t\tSystem.getProperty(&quot;user.dir&quot;) + &quot;//drivers//chromedriver.exe&quot;);\r\n\t\t\tdriver = new ChromeDriver();\r\n\r\n\t\t}\r\n\r\n\t\tif (browsername.equals(&quot;edge&quot;)) {\r\n\t\t\tSystem.setProperty(&quot;webdriver.edge.driver&quot;, System.getProperty(&quot;user.dir&quot;) + &quot;//drivers//edgedriver.exe&quot;);\r\n\t\t\tdriver = new EdgeDriver();\r\n\t\t}\r\n\r\n\t\tdriver.get(Utilities_Class.read_Prop_Filedata(&quot;url&quot;));\r\n\t\tdriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n\r\n\t}\r\n\r\n\t// @Aftertest\r\n\tpublic void Close_Browser() {\r\n\t\tdriver.quit();\r\n\t}\r\n\r\n}\r\n```\r\n-------------------------------------------------------------------------------------\r\n**this is first testclass where i am performing login**\r\n```java\r\npublic class LoginTest extends Base_Class {\r\n\t\r\nLoginPage lp;\r\n\t\r\n\t@BeforeClass\r\n\tpublic void setup() {\r\n\t\tlp = new LoginPage(driver);\r\n\t\r\n\t}\r\n\r\n\t@Test(priority = 1)\r\n\tpublic void Login_test() throws IOException {\r\n\t\tlp.inp_LoginPage_Uname(Utilities_Class.read_Prop_Filedata(&quot;username&quot;));\r\n\t\tlp.inp_LoginPage_Pass(Utilities_Class.read_Prop_Filedata(&quot;password&quot;));\r\n\t\tlp.click_LoginPage_lgnbtn();\r\n\t\tString title = driver.getCurrentUrl();\r\n\t\tAssert.assertEquals(title, &quot;https://www.saucedemo.com/inventory.html&quot;);\r\n\t}\r\n\r\n\t\r\n}\r\n```\r\n-------------------------------------------------------------------------------------\r\n**this is second testclass where i have mentioned post login activity**\r\n```java\r\npublic class AddToCartTest extends Base_Class\r\n{\r\n\r\n\r\n\tinventoryPage ip;\r\n\tcartPage cp;\r\n\r\n\t@BeforeClass\r\n\tpublic void setup()\r\n\t{\r\n\t\tip = new inventoryPage(driver);\r\n\t\tcp = new cartPage(driver);\r\n\r\n\t}\r\n\t\r\n\t@Test(priority = 2)\r\n\tpublic void Addtocarttest() throws InterruptedException {\r\n\t\tip.click_inventorypage_addtocartbtn();\r\n\t\tThread.sleep(2000);\r\n\t\tip.click_inventorypage_carticon();\r\n\t\tThread.sleep(2000);\r\n\t\tString acttext = cp.get_cartpage_firsteletext();\r\n\t\tString exptext = &quot;Sauce Labs Backpack&quot;;\r\n\t\tAssert.assertEquals(acttext, exptext);\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\n**now when i tryint to run both test classes in testng.xml file first testclass is getting passed but second testclass is getting failed. where i am making mistake please help me...thankyou**\r\n```\r\n     &lt;suite name=&quot;Suite&quot;&gt;\r\n    \r\n    &lt;listeners&gt;\r\n    \t\t&lt;listener class-name=&quot;com.sa.libraryfiles.ExtentReportManager&quot; /&gt;\r\n    \t&lt;/listeners&gt;\r\n    \t&lt;parameter name=&quot;browsername&quot; value=&quot;chrome&quot;/&gt;\r\n      &lt;test  name=&quot;Test&quot;&gt;\r\n        &lt;classes&gt;\r\n          &lt;class name=&quot;com.sa.testclass.LoginTest&quot;/&gt;\r\n          &lt;class name=&quot;com.sa.testclass.AddToCartTest&quot;/&gt;\r\n        &lt;/classes&gt;\r\n      &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n```\r\n[console output after running testng.xml file][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YelrV.png","title":"how to write login code to application once instead of writing login in every testclass,in TestNG and selenium webdriver ? given below more details","body":"<p><strong>This is base class where i am opening browser and extending it to testclasses</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Base_Class{\n\n    public WebDriver driver;\n    @BeforeTest\n    @Parameters(&quot;browsername&quot;)\n    public void Start_Browser(String browsername) throws IOException {\n        if (browsername.equals(&quot;chrome&quot;)) {\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,\n                    System.getProperty(&quot;user.dir&quot;) + &quot;//drivers//chromedriver.exe&quot;);\n            driver = new ChromeDriver();\n\n        }\n\n        if (browsername.equals(&quot;edge&quot;)) {\n            System.setProperty(&quot;webdriver.edge.driver&quot;, System.getProperty(&quot;user.dir&quot;) + &quot;//drivers//edgedriver.exe&quot;);\n            driver = new EdgeDriver();\n        }\n\n        driver.get(Utilities_Class.read_Prop_Filedata(&quot;url&quot;));\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n\n    }\n\n    // @Aftertest\n    public void Close_Browser() {\n        driver.quit();\n    }\n\n}\n</code></pre>\n<hr />\n<p><strong>this is first testclass where i am performing login</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LoginTest extends Base_Class {\n    \nLoginPage lp;\n    \n    @BeforeClass\n    public void setup() {\n        lp = new LoginPage(driver);\n    \n    }\n\n    @Test(priority = 1)\n    public void Login_test() throws IOException {\n        lp.inp_LoginPage_Uname(Utilities_Class.read_Prop_Filedata(&quot;username&quot;));\n        lp.inp_LoginPage_Pass(Utilities_Class.read_Prop_Filedata(&quot;password&quot;));\n        lp.click_LoginPage_lgnbtn();\n        String title = driver.getCurrentUrl();\n        Assert.assertEquals(title, &quot;https://www.saucedemo.com/inventory.html&quot;);\n    }\n\n    \n}\n</code></pre>\n<hr />\n<p><strong>this is second testclass where i have mentioned post login activity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AddToCartTest extends Base_Class\n{\n\n\n    inventoryPage ip;\n    cartPage cp;\n\n    @BeforeClass\n    public void setup()\n    {\n        ip = new inventoryPage(driver);\n        cp = new cartPage(driver);\n\n    }\n    \n    @Test(priority = 2)\n    public void Addtocarttest() throws InterruptedException {\n        ip.click_inventorypage_addtocartbtn();\n        Thread.sleep(2000);\n        ip.click_inventorypage_carticon();\n        Thread.sleep(2000);\n        String acttext = cp.get_cartpage_firsteletext();\n        String exptext = &quot;Sauce Labs Backpack&quot;;\n        Assert.assertEquals(acttext, exptext);\n    }\n\n\n}\n</code></pre>\n<p><strong>now when i tryint to run both test classes in testng.xml file first testclass is getting passed but second testclass is getting failed. where i am making mistake please help me...thankyou</strong></p>\n<pre><code>     &lt;suite name=&quot;Suite&quot;&gt;\n    \n    &lt;listeners&gt;\n            &lt;listener class-name=&quot;com.sa.libraryfiles.ExtentReportManager&quot; /&gt;\n        &lt;/listeners&gt;\n        &lt;parameter name=&quot;browsername&quot; value=&quot;chrome&quot;/&gt;\n      &lt;test  name=&quot;Test&quot;&gt;\n        &lt;classes&gt;\n          &lt;class name=&quot;com.sa.testclass.LoginTest&quot;/&gt;\n          &lt;class name=&quot;com.sa.testclass.AddToCartTest&quot;/&gt;\n        &lt;/classes&gt;\n      &lt;/test&gt;\n    &lt;/suite&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YelrV.png\" rel=\"nofollow noreferrer\">console output after running testng.xml file</a></p>\n"},{"tags":["java","redis","amazon-eks","redisson"],"comments":[{"owner":{"account_id":8273026,"reputation":525,"user_id":6220162,"accept_rate":75,"display_name":"Sunil Chauraha"},"score":0,"creation_date":1662565238,"post_id":73583736,"comment_id":130036808,"body_markdown":"Could anyone please help","body":"Could anyone please help"}],"answers":[{"tags":[],"owner":{"account_id":8273026,"reputation":525,"user_id":6220162,"accept_rate":75,"display_name":"Sunil Chauraha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666361856,"creation_date":1666361856,"answer_id":74155051,"question_id":73583736,"body_markdown":"If I se below property in redisson config, then it fixes the error.\r\nuseThreadClassLoader: false\r\n\r\nFor detail please see documentation.","title":"RuntimeException: class not found CLASSNAME while using parallel stream on EKS and reading data from redis cache using redisson","body":"<p>If I se below property in redisson config, then it fixes the error.\nuseThreadClassLoader: false</p>\n<p>For detail please see documentation.</p>\n"}],"owner":{"account_id":8273026,"reputation":525,"user_id":6220162,"accept_rate":75,"display_name":"Sunil Chauraha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666361856,"creation_date":1662127207,"question_id":73583736,"body_markdown":"I am trying to run parallel stream and each block of code under one execution makes hundreds of call to redis cluster (AWS Elasticache), but it&#39;s failing with below error on EKS cluster whereas same code works well on Windows VM.\r\n*java.io.IOException: java.lang.RuntimeException: class not found CLASSNAME*:com.mycomp.project.common.domain.Price\r\n\r\nCould I get a guide here. Thanks in advance.\r\n\r\nAttaching my redis-config.yaml and error log.\r\n\r\n    clusterServersConfig:\r\n      checkSlotsCoverage: true\r\n      idleConnectionTimeout: 30000\r\n      connectTimeout: 10000\r\n      timeout: 10000\r\n      retryAttempts: 3\r\n      retryInterval: 1500\r\n      failedSlaveReconnectionInterval: 3000\r\n      failedSlaveCheckInterval: 10000\r\n      subscriptionsPerConnection: 20  \r\n      subscriptionConnectionMinimumIdleSize: 5\r\n      subscriptionConnectionPoolSize: 150\r\n      slaveConnectionMinimumIdleSize: 30\r\n      slaveConnectionPoolSize: 150\r\n      masterConnectionMinimumIdleSize: 64\r\n      masterConnectionPoolSize: 64\r\n      readMode: &quot;SLAVE&quot;  #MASTER_SLAVE , SLAVE \r\n      subscriptionMode: &quot;SLAVE&quot;  #MASTER\r\n      scanInterval: 2000\r\n      pingConnectionInterval: 30000\r\n      keepAlive: true\r\n      tcpNoDelay: true\r\n    threads: 200\r\n    nettyThreads: 400\r\n    \r\n    codec: !&lt;org.redisson.codec.FstCodec&gt; {}\r\n    transportMode: &quot;NIO&quot; \r\n\r\n\r\n\r\n---\r\nError log:\r\n\r\n2022-09-02 07:22:46.529 [redisson-netty-2-126] ERROR o.r.client.handler.CommandDecoder - Unable to decode data. channel: [id: 0xccb087e8, L:/10.196.5.71:38250 - R:10.196.57.107/10.196.57.107:6379], reply: ReplayingDecoderByteBuf(ridx=66, widx=1225), command: (EVAL), promise: java.util.concurrent.CompletableFuture@69f0dc32[Not completed, 1 dependents], params: [local expireHead = redis.call(&#39;zrange&#39;, KEYS[2], 0, 0, &#39;withscores&#39;); local currentTime = tonumber(t..., 5, project_MARKET_DATA, redisson__timeout__set:{project_MARKET_DATA}, redisson__idle__set:{project_MARKET_DATA}, redisson__map_cache__last_access__set:{project_MARKET_DATA}, {project_MARKET_DATA}:redisson_options, 1662117766526, PooledUnsafeDirectByteBuf(ridx: 0, widx: 67, cap: 256), PooledUnsafeDirectByteBuf(ridx: 0, widx: 67, cap: 256), ...]\r\njava.io.IOException: java.lang.RuntimeException: class not found CLASSNAME:com.mycomp.project.common.domain.Price loader:jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\r\n\tat org.nustaq.serialization.FSTObjectInput.readObject(FSTObjectInput.java:247)\r\n\tat org.redisson.codec.FstCodec$1.decode(FstCodec.java:250)\r\n\tat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:383)\r\n\tat org.redisson.client.handler.CommandDecoder.decodeList(CommandDecoder.java:427)\r\n\tat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:392)\r\n\tat org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:198)\r\n\tat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:137)\r\n\tat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:113)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:503)\r\n\tat io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\r\n\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1478)\r\n\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1227)\r\n\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1274)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:503)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:442)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:700)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:635)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:552)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:514)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.RuntimeException: class not found CLASSNAME:com.mycomp.project.common.domain.Price loader:jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\r\n\tat org.nustaq.serialization.FSTClazzNameRegistry.classForName(FSTClazzNameRegistry.java:235)\r\n\tat org.nustaq.serialization.FSTClazzNameRegistry.classForName(FSTClazzNameRegistry.java:190)\r\n\tat org.nustaq.serialization.FSTClazzNameRegistry.decodeClass(FSTClazzNameRegistry.java:173)\r\n\tat org.nustaq.serialization.coders.FSTStreamDecoder.readClass(FSTStreamDecoder.java:478)\r\n\tat org.nustaq.serialization.FSTObjectInput.readClass(FSTObjectInput.java:939)\r\n\tat org.nustaq.serialization.FSTObjectInput.readObjectWithHeader(FSTObjectInput.java:347)\r\n\tat org.nustaq.serialization.FSTObjectInput.readObjectInternal(FSTObjectInput.java:331)\r\n\tat org.nustaq.serialization.FSTObjectInput.readObject(FSTObjectInput.java:311)\r\n\tat org.nustaq.serialization.FSTObjectInput.readObject(FSTObjectInput.java:245)\r\n\t... 35 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: com.mycomp.project.common.domain.Price\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:398)\r\n\tat org.nustaq.serialization.FSTClazzNameRegistry.classForName(FSTClazzNameRegistry.java:197)\r\n\t... 43 common frames omitted\r\n2022-09-02 07:22:46.529 [redisson-netty-2-126] ERROR o.r.c.handler.ErrorsLoggingHandler - Exception occured. Channel: [id: 0xccb087e8, L:/10.196.5.71:38250 - R:10.196.57.107/10.196.57.107:6379]\r\nio.netty.handler.codec.DecoderException: java.io.IOException: java.lang.RuntimeException: class not found CLASSNAME:com.mycomp.project.common.domain.Price loader:jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\r\n\tat io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\r\n\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1478)\r\n\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1227)\r\n\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1274)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:503)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:442)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:700)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:635)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:552)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:514)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.io.IOException: java.lang.RuntimeException: class not found CLASSNAME:com.mycomp.project.common.domain.Price loader:jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\r\n\tat org.nustaq.serialization.FSTObjectInput.readObject(FSTObjectInput.java:247)\r\n\tat org.redisson.codec.FstCodec$1.decode(FstCodec.java:250)\r\n\tat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:383)\r\n\tat org.redisson.client.handler.CommandDecoder.decodeList(CommandDecoder.java:427)\r\n\tat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:392)\r\n\tat org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:198)\r\n\tat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:137)\r\n\tat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:113)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:503)\r\n\tat io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)\r\n\t... 26 common frames omitted\r\nCaused by: java.lang.RuntimeException: class not found CLASSNAME:com.mycomp.project.common.domain.Price loader:jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\r\n\tat org.nustaq.serialization.FSTClazzNameRegistry.classForName(FSTClazzNameRegistry.java:235)\r\n\tat org.nustaq.serialization.FSTClazzNameRegistry.classForName(FSTClazzNameRegistry.java:190)\r\n\tat org.nustaq.serialization.FSTClazzNameRegistry.decodeClass(FSTClazzNameRegistry.java:173)\r\n\tat org.nustaq.serialization.coders.FSTStreamDecoder.readClass(FSTStreamDecoder.java:478)\r\n\tat org.nustaq.serialization.FSTObjectInput.readClass(FSTObjectInput.java:939)\r\n\tat org.nustaq.serialization.FSTObjectInput.readObjectWithHeader(FSTObjectInput.java:347)\r\n\tat org.nustaq.serialization.FSTObjectInput.readObjectInternal(FSTObjectInput.java:331)\r\n\tat org.nustaq.serialization.FSTObjectInput.readObject(FSTObjectInput.java:311)\r\n\tat org.nustaq.serialization.FSTObjectInput.readObject(FSTObjectInput.java:245)\r\n\t... 35 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: com.mycomp.project.common.domain.Price\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:398)\r\n\tat org.nustaq.serialization.FSTClazzNameRegistry.classForName(FSTClazzNameRegistry.java:197)\r\n\t... 43 common frames omitted","title":"RuntimeException: class not found CLASSNAME while using parallel stream on EKS and reading data from redis cache using redisson","body":"<p>I am trying to run parallel stream and each block of code under one execution makes hundreds of call to redis cluster (AWS Elasticache), but it's failing with below error on EKS cluster whereas same code works well on Windows VM.\n<em>java.io.IOException: java.lang.RuntimeException: class not found CLASSNAME</em>:com.mycomp.project.common.domain.Price</p>\n<p>Could I get a guide here. Thanks in advance.</p>\n<p>Attaching my redis-config.yaml and error log.</p>\n<pre><code>clusterServersConfig:\n  checkSlotsCoverage: true\n  idleConnectionTimeout: 30000\n  connectTimeout: 10000\n  timeout: 10000\n  retryAttempts: 3\n  retryInterval: 1500\n  failedSlaveReconnectionInterval: 3000\n  failedSlaveCheckInterval: 10000\n  subscriptionsPerConnection: 20  \n  subscriptionConnectionMinimumIdleSize: 5\n  subscriptionConnectionPoolSize: 150\n  slaveConnectionMinimumIdleSize: 30\n  slaveConnectionPoolSize: 150\n  masterConnectionMinimumIdleSize: 64\n  masterConnectionPoolSize: 64\n  readMode: &quot;SLAVE&quot;  #MASTER_SLAVE , SLAVE \n  subscriptionMode: &quot;SLAVE&quot;  #MASTER\n  scanInterval: 2000\n  pingConnectionInterval: 30000\n  keepAlive: true\n  tcpNoDelay: true\nthreads: 200\nnettyThreads: 400\n\ncodec: !&lt;org.redisson.codec.FstCodec&gt; {}\ntransportMode: &quot;NIO&quot; \n</code></pre>\n<hr />\n<p>Error log:</p>\n<p>2022-09-02 07:22:46.529 [redisson-netty-2-126] ERROR o.r.client.handler.CommandDecoder - Unable to decode data. channel: [id: 0xccb087e8, L:/10.196.5.71:38250 - R:10.196.57.107/10.196.57.107:6379], reply: ReplayingDecoderByteBuf(ridx=66, widx=1225), command: (EVAL), promise: java.util.concurrent.CompletableFuture@69f0dc32[Not completed, 1 dependents], params: [local expireHead = redis.call('zrange', KEYS[2], 0, 0, 'withscores'); local currentTime = tonumber(t..., 5, project_MARKET_DATA, redisson__timeout__set:{project_MARKET_DATA}, redisson__idle__set:{project_MARKET_DATA}, redisson__map_cache__last_access__set:{project_MARKET_DATA}, {project_MARKET_DATA}:redisson_options, 1662117766526, PooledUnsafeDirectByteBuf(ridx: 0, widx: 67, cap: 256), PooledUnsafeDirectByteBuf(ridx: 0, widx: 67, cap: 256), ...]\njava.io.IOException: java.lang.RuntimeException: class not found CLASSNAME:com.mycomp.project.common.domain.Price loader:jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\nat org.nustaq.serialization.FSTObjectInput.readObject(FSTObjectInput.java:247)\nat org.redisson.codec.FstCodec$1.decode(FstCodec.java:250)\nat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:383)\nat org.redisson.client.handler.CommandDecoder.decodeList(CommandDecoder.java:427)\nat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:392)\nat org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:198)\nat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:137)\nat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:113)\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:503)\nat io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:281)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\nat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1478)\nat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1227)\nat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1274)\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:503)\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:442)\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:281)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931)\nat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\nat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:700)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:635)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:552)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:514)\nat io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.RuntimeException: class not found CLASSNAME:com.mycomp.project.common.domain.Price loader:jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\nat org.nustaq.serialization.FSTClazzNameRegistry.classForName(FSTClazzNameRegistry.java:235)\nat org.nustaq.serialization.FSTClazzNameRegistry.classForName(FSTClazzNameRegistry.java:190)\nat org.nustaq.serialization.FSTClazzNameRegistry.decodeClass(FSTClazzNameRegistry.java:173)\nat org.nustaq.serialization.coders.FSTStreamDecoder.readClass(FSTStreamDecoder.java:478)\nat org.nustaq.serialization.FSTObjectInput.readClass(FSTObjectInput.java:939)\nat org.nustaq.serialization.FSTObjectInput.readObjectWithHeader(FSTObjectInput.java:347)\nat org.nustaq.serialization.FSTObjectInput.readObjectInternal(FSTObjectInput.java:331)\nat org.nustaq.serialization.FSTObjectInput.readObject(FSTObjectInput.java:311)\nat org.nustaq.serialization.FSTObjectInput.readObject(FSTObjectInput.java:245)\n... 35 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.mycomp.project.common.domain.Price\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:398)\nat org.nustaq.serialization.FSTClazzNameRegistry.classForName(FSTClazzNameRegistry.java:197)\n... 43 common frames omitted\n2022-09-02 07:22:46.529 [redisson-netty-2-126] ERROR o.r.c.handler.ErrorsLoggingHandler - Exception occured. Channel: [id: 0xccb087e8, L:/10.196.5.71:38250 - R:10.196.57.107/10.196.57.107:6379]\nio.netty.handler.codec.DecoderException: java.io.IOException: java.lang.RuntimeException: class not found CLASSNAME:com.mycomp.project.common.domain.Price loader:jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\nat io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:281)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\nat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1478)\nat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1227)\nat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1274)\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:503)\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:442)\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:281)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931)\nat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\nat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:700)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:635)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:552)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:514)\nat io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.io.IOException: java.lang.RuntimeException: class not found CLASSNAME:com.mycomp.project.common.domain.Price loader:jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\nat org.nustaq.serialization.FSTObjectInput.readObject(FSTObjectInput.java:247)\nat org.redisson.codec.FstCodec$1.decode(FstCodec.java:250)\nat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:383)\nat org.redisson.client.handler.CommandDecoder.decodeList(CommandDecoder.java:427)\nat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:392)\nat org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:198)\nat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:137)\nat org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:113)\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:503)\nat io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)\n... 26 common frames omitted\nCaused by: java.lang.RuntimeException: class not found CLASSNAME:com.mycomp.project.common.domain.Price loader:jdk.internal.loader.ClassLoaders$AppClassLoader@5cb0d902\nat org.nustaq.serialization.FSTClazzNameRegistry.classForName(FSTClazzNameRegistry.java:235)\nat org.nustaq.serialization.FSTClazzNameRegistry.classForName(FSTClazzNameRegistry.java:190)\nat org.nustaq.serialization.FSTClazzNameRegistry.decodeClass(FSTClazzNameRegistry.java:173)\nat org.nustaq.serialization.coders.FSTStreamDecoder.readClass(FSTStreamDecoder.java:478)\nat org.nustaq.serialization.FSTObjectInput.readClass(FSTObjectInput.java:939)\nat org.nustaq.serialization.FSTObjectInput.readObjectWithHeader(FSTObjectInput.java:347)\nat org.nustaq.serialization.FSTObjectInput.readObjectInternal(FSTObjectInput.java:331)\nat org.nustaq.serialization.FSTObjectInput.readObject(FSTObjectInput.java:311)\nat org.nustaq.serialization.FSTObjectInput.readObject(FSTObjectInput.java:245)\n... 35 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.mycomp.project.common.domain.Price\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:398)\nat org.nustaq.serialization.FSTClazzNameRegistry.classForName(FSTClazzNameRegistry.java:197)\n... 43 common frames omitted</p>\n"},{"tags":["java","linked-list","stack"],"comments":[{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1666142962,"post_id":74118930,"comment_id":130863961,"body_markdown":"what is your expected output","body":"what is your expected output"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666143463,"post_id":74118930,"comment_id":130864034,"body_markdown":"a) pop - Removes the object at the top of this stack and returns that object as the value of this function.\nb) need an inner loop I think","body":"a) pop - Removes the object at the top of this stack and returns that object as the value of this function. b) need an inner loop I think"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666361859,"post_id":74118930,"comment_id":130925854,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":162311,"reputation":625,"user_id":383687,"display_name":"Ian Fairman"},"score":0,"creation_date":1666363353,"post_id":74118930,"comment_id":130926435,"body_markdown":"This should tell you all you need to know: https://www.baeldung.com/java-lists-intersection","body":"This should tell you all you need to know: <a href=\"https://www.baeldung.com/java-lists-intersection\" rel=\"nofollow noreferrer\">baeldung.com/java-lists-intersection</a>"}],"answers":[{"tags":[],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666143754,"creation_date":1666143754,"answer_id":74119038,"question_id":74118930,"body_markdown":"Like wombat mentioned in the comment\r\n1) pop alters the content of stack and linkedlist\r\n2) you need to compare every element in stack to every other element in linked list like so\r\n```\r\n        for(int cont =0; cont &lt; pilha.size(); cont++) {\r\n            valor = pilha.get(cont);\r\n            for(int i =0; i &lt; lista.size(); i++) {\r\n                valorLista  = lista.get(i);\r\n                if(valor == valorLista){\r\n                    verd = valorLista;\r\n                    System.out.println(&quot;Os valores em comum da lista s&#227;o: &quot; + valorLista);\r\n                }\r\n            }\r\n        }\r\n```","title":"Compare common values ​between a stack and a list","body":"<p>Like wombat mentioned in the comment</p>\n<ol>\n<li>pop alters the content of stack and linkedlist</li>\n<li>you need to compare every element in stack to every other element in linked list like so</li>\n</ol>\n<pre><code>        for(int cont =0; cont &lt; pilha.size(); cont++) {\n            valor = pilha.get(cont);\n            for(int i =0; i &lt; lista.size(); i++) {\n                valorLista  = lista.get(i);\n                if(valor == valorLista){\n                    verd = valorLista;\n                    System.out.println(&quot;Os valores em comum da lista são: &quot; + valorLista);\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1068297,"reputation":633,"user_id":1068222,"accept_rate":33,"display_name":"y434y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666361821,"creation_date":1666361821,"answer_id":74155044,"question_id":74118930,"body_markdown":"*pop* method removes the element from list or stack (read more here: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Stack.html#pop()). \r\n\r\nIf you don&#39;t want to remove element, access it using *get* method:\r\n```        \r\n        for(int cont = 0; cont &lt; pilha.size(); cont++) {\r\n            valor = pilha.get(cont);\r\n            if(lista.contains(valor)) {\r\n                System.out.println(&quot;Os valores em comum da lista s&#227;o: &quot; + valor);\r\n            }\r\n        }\r\n```","title":"Compare common values ​between a stack and a list","body":"<p><em>pop</em> method removes the element from list or stack (read more here: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Stack.html#pop()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Stack.html#pop()</a>).</p>\n<p>If you don't want to remove element, access it using <em>get</em> method:</p>\n<pre><code>        for(int cont = 0; cont &lt; pilha.size(); cont++) {\n            valor = pilha.get(cont);\n            if(lista.contains(valor)) {\n                System.out.println(&quot;Os valores em comum da lista são: &quot; + valor);\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":26665792,"reputation":11,"user_id":20277894,"display_name":"Mary S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666361821,"creation_date":1666142440,"question_id":74118930,"body_markdown":"Good night, I&#39;m having trouble comparing the common values ​​of a list and a stack, could you help me to solve this problem? Thank you very much in advance.\r\n\r\n**Note: I&#39;m a beginner**\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Stack&lt;Integer&gt; pilha = new Stack&lt;Integer&gt;();\r\n        pilha.push(15);\r\n        pilha.push(20);\r\n        pilha.push(35);\r\n        pilha.push(45);\r\n\r\n        LinkedList&lt;Integer&gt; lista = new LinkedList&lt;&gt;();\r\n        lista.addLast(41);\r\n        lista.addLast(23);\r\n        lista.addLast(20);\r\n        lista.addLast(12);\r\n\r\n        System.out.println(&quot;Os numeros da Pilha s&#227;o:&quot; + pilha);\r\n        System.out.println(&quot;Os numeros da Pilha s&#227;o:&quot; + lista);\r\n\r\n\r\n        int sPilha = pilha.size();\r\n        int valor =0;\r\n        int valorLista = 0;\r\n        int verd = 0;\r\n        for(int cont =0; cont &lt; sPilha; cont++) {\r\n            valor = pilha.pop();\r\n            valorLista  = lista.pop();\r\n\r\n            if(valor == valorLista){\r\n                verd = valorLista;\r\n                System.out.println(&quot;Os valores em comum da lista s&#227;o: &quot; + valorLista);\r\n            }\r\n        }\r\n    }\r\n}\r\n","title":"Compare common values ​between a stack and a list","body":"<p>Good night, I'm having trouble comparing the common values ​​of a list and a stack, could you help me to solve this problem? Thank you very much in advance.</p>\n<p><strong>Note: I'm a beginner</strong></p>\n<pre><code>public static void main(String[] args) {\n\n    Stack&lt;Integer&gt; pilha = new Stack&lt;Integer&gt;();\n    pilha.push(15);\n    pilha.push(20);\n    pilha.push(35);\n    pilha.push(45);\n\n    LinkedList&lt;Integer&gt; lista = new LinkedList&lt;&gt;();\n    lista.addLast(41);\n    lista.addLast(23);\n    lista.addLast(20);\n    lista.addLast(12);\n\n    System.out.println(&quot;Os numeros da Pilha são:&quot; + pilha);\n    System.out.println(&quot;Os numeros da Pilha são:&quot; + lista);\n\n\n    int sPilha = pilha.size();\n    int valor =0;\n    int valorLista = 0;\n    int verd = 0;\n    for(int cont =0; cont &lt; sPilha; cont++) {\n        valor = pilha.pop();\n        valorLista  = lista.pop();\n\n        if(valor == valorLista){\n            verd = valorLista;\n            System.out.println(&quot;Os valores em comum da lista são: &quot; + valorLista);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","postgresql","spring-boot","jsonb"],"comments":[{"owner":{"account_id":13042702,"reputation":503,"user_id":9425556,"display_name":"jamesngyz"},"score":0,"creation_date":1643668692,"post_id":70933443,"comment_id":125397697,"body_markdown":"Does this answer your question? [how to store PostgreSQL jsonb using SpringBoot + JPA?](https://stackoverflow.com/questions/51276703/how-to-store-postgresql-jsonb-using-springboot-jpa)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51276703/how-to-store-postgresql-jsonb-using-springboot-jpa\">how to store PostgreSQL jsonb using SpringBoot + JPA?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666361734,"creation_date":1666361734,"answer_id":74155022,"question_id":70933443,"body_markdown":"I think the immediate problem you are having is casting the incoming field incorrectly.\r\n```Java\r\n@Transactional\r\n@Modifying\r\n@Query(value = &quot;UPDATE data_integration_report SET error_details = error_details || :errors ::jsonb WHERE id = :id&quot;, nativeQuery = true)\r\nvoid updateErrorDetail(@Param(&quot;id&quot;) Long id, @Param(&quot;errors&quot;) String errors);\r\n```\r\n`:errors ::jsonb` has a space, so it sees the `::` cast operation as a separate token. However, JPA will choke on `:errors::jsonb` (as I suspect you have discovered).\r\n\r\nThere are two ways to do a Postgres cast inside a query like this:\r\n1. Escape the colons: `:error\\\\:\\\\:jsonb`\r\n2. Use the `cast` function: `cast(:error as jsonb)`\r\n\r\n### However\r\nThere is an even better solution, and that is to use a hibernate type made for `jsonb` in your entity. The commonly accepted solution is this one: [ vladmihalcea /\r\nhibernate-types ](https://github.com/vladmihalcea/hibernate-types)","title":"Spring boot Spring Data JPA postgres jsonb column INSERT/UPDATE","body":"<p>I think the immediate problem you are having is casting the incoming field incorrectly.</p>\n<pre><code>@Transactional\n@Modifying\n@Query(value = &quot;UPDATE data_integration_report SET error_details = error_details || :errors ::jsonb WHERE id = :id&quot;, nativeQuery = true)\nvoid updateErrorDetail(@Param(&quot;id&quot;) Long id, @Param(&quot;errors&quot;) String errors);\n</code></pre>\n<p><code>:errors ::jsonb</code> has a space, so it sees the <code>::</code> cast operation as a separate token. However, JPA will choke on <code>:errors::jsonb</code> (as I suspect you have discovered).</p>\n<p>There are two ways to do a Postgres cast inside a query like this:</p>\n<ol>\n<li>Escape the colons: <code>:error\\\\:\\\\:jsonb</code></li>\n<li>Use the <code>cast</code> function: <code>cast(:error as jsonb)</code></li>\n</ol>\n<h3>However</h3>\n<p>There is an even better solution, and that is to use a hibernate type made for <code>jsonb</code> in your entity. The commonly accepted solution is this one: <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"nofollow noreferrer\"> vladmihalcea /\nhibernate-types </a></p>\n"}],"owner":{"account_id":14324174,"reputation":41,"user_id":10346734,"display_name":"Davide System"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2470,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666361734,"creation_date":1643667124,"question_id":70933443,"body_markdown":"i&#39;m struggling trying to update a record on a postgres table with a **jsonb** column.\r\n\r\nWhat i&#39;m trying to do with spring boot and JPA is running this statement that works great on postgres: \r\n\r\n    UPDATE data_report \r\n    SET error_details  = error_details || &#39;[{&quot;error&quot;: &quot;testError&quot;,&quot;record&quot;: {&quot;start&quot;:&quot;14:00&quot;,&quot;end&quot;:&quot;20:00&quot;,&quot;id&quot;:&quot;AAAA001&quot;,&quot;date&quot;:&quot;2022-01-31&quot;}}]&#39;::jsonb\r\n    WHERE id = 91;\r\nI&#39;ve tried with Native Query:\r\n\r\n       @Transactional\r\n       @Modifying\r\n       @Query(value = &quot;UPDATE data_integration_report SET error_details = error_details || :errors ::jsonb WHERE id = :id&quot;, nativeQuery = true)\r\n        void updateErrorDetail(@Param(&quot;id&quot;) Long id, @Param(&quot;errors&quot;) String errors);\r\n\r\nbut I&#39;m getting error saying that syntax is not correct because ::jsonb is not recognized\r\n\r\nI&#39;ve tried with EntityManager\r\n\r\n    entityManager.createNativeQuery(\r\n           &quot;UPDATE data_integration_report SET error_details = error_details || :errors ::jsonb WHERE id = :id&quot;\r\n            ).setParameter(&quot;id&quot;, 91L)\r\n            .setParameter(&quot;errors&quot;, data)\r\n            .executeUpdate();\r\nEven here i&#39;m getting error on syntax.\r\nI&#39;ve also tried to remove **::jsonb** cast, but I&#39;m receiving this error: &quot;column is of type jsonb but expression is of type text&quot;\r\n\r\nI&#39;m looking for some documentation or an example that can help me to find a solution.\r\nThanks in advance.","title":"Spring boot Spring Data JPA postgres jsonb column INSERT/UPDATE","body":"<p>i'm struggling trying to update a record on a postgres table with a <strong>jsonb</strong> column.</p>\n<p>What i'm trying to do with spring boot and JPA is running this statement that works great on postgres:</p>\n<pre><code>UPDATE data_report \nSET error_details  = error_details || '[{&quot;error&quot;: &quot;testError&quot;,&quot;record&quot;: {&quot;start&quot;:&quot;14:00&quot;,&quot;end&quot;:&quot;20:00&quot;,&quot;id&quot;:&quot;AAAA001&quot;,&quot;date&quot;:&quot;2022-01-31&quot;}}]'::jsonb\nWHERE id = 91;\n</code></pre>\n<p>I've tried with Native Query:</p>\n<pre><code>   @Transactional\n   @Modifying\n   @Query(value = &quot;UPDATE data_integration_report SET error_details = error_details || :errors ::jsonb WHERE id = :id&quot;, nativeQuery = true)\n    void updateErrorDetail(@Param(&quot;id&quot;) Long id, @Param(&quot;errors&quot;) String errors);\n</code></pre>\n<p>but I'm getting error saying that syntax is not correct because ::jsonb is not recognized</p>\n<p>I've tried with EntityManager</p>\n<pre><code>entityManager.createNativeQuery(\n       &quot;UPDATE data_integration_report SET error_details = error_details || :errors ::jsonb WHERE id = :id&quot;\n        ).setParameter(&quot;id&quot;, 91L)\n        .setParameter(&quot;errors&quot;, data)\n        .executeUpdate();\n</code></pre>\n<p>Even here i'm getting error on syntax.\nI've also tried to remove <strong>::jsonb</strong> cast, but I'm receiving this error: &quot;column is of type jsonb but expression is of type text&quot;</p>\n<p>I'm looking for some documentation or an example that can help me to find a solution.\nThanks in advance.</p>\n"},{"tags":["java","jboss","thorntail"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1666367070,"post_id":74154906,"comment_id":130927816,"body_markdown":"First of all, Thorntail has been long dead. The community project reached end of life more than 2 years ago, the Red Hat supported product more than a year ago. I strongly suggest you migrate to Quarkus or WildFly. That said, your question contains very little details that could be used to diagnose a possible problem. The error message even seems edited -- what&#39;s &quot;some class&quot;? Could you at least paste the full startup log of the application?","body":"First of all, Thorntail has been long dead. The community project reached end of life more than 2 years ago, the Red Hat supported product more than a year ago. I strongly suggest you migrate to Quarkus or WildFly. That said, your question contains very little details that could be used to diagnose a possible problem. The error message even seems edited -- what&#39;s &quot;some class&quot;? Could you at least paste the full startup log of the application?"},{"owner":{"account_id":6494580,"reputation":177,"user_id":5027575,"accept_rate":100,"display_name":"pouyan021"},"score":0,"creation_date":1666378637,"post_id":74154906,"comment_id":130931361,"body_markdown":"I know it&#39;s dead, but it&#39;s a legacy, and switching to other options is out of my hands. I can&#39;t share the full stack trace, but the class is an entity that was being found OK when we execute using java 8, but suddenly after migration to 11 we are getting this exception","body":"I know it&#39;s dead, but it&#39;s a legacy, and switching to other options is out of my hands. I can&#39;t share the full stack trace, but the class is an entity that was being found OK when we execute using java 8, but suddenly after migration to 11 we are getting this exception"},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1666420592,"post_id":74154906,"comment_id":130937307,"body_markdown":"Well if that redacted class is your entity class, then there&#39;s probably something horribly wrong in how class loading is set up, because the Hibernate Common Annotations module indeed is not supposed to see it. If migrating away from Thorntail is not an option right now, you can stay on Java 8 -- there are vendors who will release OpenJDK 8 updates for a few more years. Note that Thorntail and hence also the application is probably affected by multiple CVEs already, and it&#39;s only gonna get worse.","body":"Well if that redacted class is your entity class, then there&#39;s probably something horribly wrong in how class loading is set up, because the Hibernate Common Annotations module indeed is not supposed to see it. If migrating away from Thorntail is not an option right now, you can stay on Java 8 -- there are vendors who will release OpenJDK 8 updates for a few more years. Note that Thorntail and hence also the application is probably affected by multiple CVEs already, and it&#39;s only gonna get worse."}],"owner":{"account_id":6494580,"reputation":177,"user_id":5027575,"accept_rate":100,"display_name":"pouyan021"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666361263,"creation_date":1666361263,"question_id":74154906,"body_markdown":"After switching to java 11, the package generated using the latest thorntail version throws an error:\r\n\r\n     Caused by: java.lang.ClassNotFoundException: some class from [Module \\&quot;org.hibernate.commons-annotations\\&quot; version 5.0.5.Final-redhat-00002 from BootModuleLoader@62408c4 for finders [JDK Module Finder, BootstrapClasspathModuleFinder, BootstrapModuleFinder(org.wildfly.swarm.bootstrap), ClasspathModuleFinder, ContainerModuleFinder(swarm.container), ApplicationModuleFinder(thorntail.application), org.wildfly.swarm.bootstrap.modules.DynamicModuleFinder@75bedaca]]&quot;}}\r\n\r\nbefore that, it was working okay with java 8. adding multiple thorntail&#39;s hibernate fractions and the hibernate-commons-annotations jar to the package didn&#39;t help. ","title":"Error while deploying thorntail generated package in java 11 runtime","body":"<p>After switching to java 11, the package generated using the latest thorntail version throws an error:</p>\n<pre><code> Caused by: java.lang.ClassNotFoundException: some class from [Module \\&quot;org.hibernate.commons-annotations\\&quot; version 5.0.5.Final-redhat-00002 from BootModuleLoader@62408c4 for finders [JDK Module Finder, BootstrapClasspathModuleFinder, BootstrapModuleFinder(org.wildfly.swarm.bootstrap), ClasspathModuleFinder, ContainerModuleFinder(swarm.container), ApplicationModuleFinder(thorntail.application), org.wildfly.swarm.bootstrap.modules.DynamicModuleFinder@75bedaca]]&quot;}}\n</code></pre>\n<p>before that, it was working okay with java 8. adding multiple thorntail's hibernate fractions and the hibernate-commons-annotations jar to the package didn't help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1666361936,"post_id":74154849,"comment_id":130925872,"body_markdown":"Well for starters there&#39;s `assertFalse(arg)` instead of `assertEquals(false, arg)`. You could consider Hamcrest. It gives you declarative matchers like `assertThat(correct, containsNone(0, 1, 2, 3, 4))` (just pseudocode, but you get the idea).","body":"Well for starters there&#39;s <code>assertFalse(arg)</code> instead of <code>assertEquals(false, arg)</code>. You could consider Hamcrest. It gives you declarative matchers like <code>assertThat(correct, containsNone(0, 1, 2, 3, 4))</code> (just pseudocode, but you get the idea)."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1666362038,"post_id":74154849,"comment_id":130925902,"body_markdown":"Also just a standard for-loop works here. for i = 0 to 4, containing 2 assertions, one for correct, one for incorrect.","body":"Also just a standard for-loop works here. for i = 0 to 4, containing 2 assertions, one for correct, one for incorrect."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1666363077,"post_id":74154849,"comment_id":130926320,"body_markdown":"which method are you actually testing here? `.getLetter`? Maybe you should consider to use `Letter.equals` then (so `assertEquals(expectedLetter, letter)`) - and if you want to test something else, consider splitting it up into multiple tests.","body":"which method are you actually testing here? <code>.getLetter</code>? Maybe you should consider to use <code>Letter.equals</code> then (so <code>assertEquals(expectedLetter, letter)</code>) - and if you want to test something else, consider splitting it up into multiple tests."}],"owner":{"account_id":24787064,"reputation":11,"user_id":20015590,"display_name":"Lee Buhrmann"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666361017,"creation_date":1666361017,"question_id":74154849,"body_markdown":"I am currently writing a small program in java that scores a word guess against a word answer (Think Wordle). I am writing test cases in JUNIT and am finding I am repeating a lot of code. I thought to make a method, but realized it would be passing a lot of parameters for each testcase. I was wondering what the best practice would be. Do I keep the repetitive code, do I use a method with 10+ parameters, or is there a more elegant solution?\r\n\r\nExample code:\r\n```\r\n                Letter letter = g1.getLetter(&#39;A&#39;);\r\n                assertEquals(&#39;A&#39;, letter.getLett());\r\n                assertEquals(0, letter.getMinOcc());\r\n                assertEquals(0, letter.getMaxOcc());\r\n                correct = letter.getCorrect();\r\n                incorrect = letter.getIncorrect();\r\n\r\n                assertEquals(false, correct.contains(0));\r\n                assertEquals(false, correct.contains(1));\r\n                assertEquals(false, correct.contains(2));\r\n                assertEquals(false, correct.contains(3));\r\n                assertEquals(false, correct.contains(4));\r\n\r\n                assertEquals(false, incorrect.contains(0));\r\n                assertEquals(false, incorrect.contains(1));\r\n                assertEquals(false, incorrect.contains(2));\r\n                assertEquals(false, incorrect.contains(3));\r\n                assertEquals(false, incorrect.contains(4)); \r\n```\r\n\r\nAs you can see, I would have to pass many parameters. One for each boolean, the min value, max value, the character, and the Letter object itself.","title":"Java methods with large number of parameters","body":"<p>I am currently writing a small program in java that scores a word guess against a word answer (Think Wordle). I am writing test cases in JUNIT and am finding I am repeating a lot of code. I thought to make a method, but realized it would be passing a lot of parameters for each testcase. I was wondering what the best practice would be. Do I keep the repetitive code, do I use a method with 10+ parameters, or is there a more elegant solution?</p>\n<p>Example code:</p>\n<pre><code>                Letter letter = g1.getLetter('A');\n                assertEquals('A', letter.getLett());\n                assertEquals(0, letter.getMinOcc());\n                assertEquals(0, letter.getMaxOcc());\n                correct = letter.getCorrect();\n                incorrect = letter.getIncorrect();\n\n                assertEquals(false, correct.contains(0));\n                assertEquals(false, correct.contains(1));\n                assertEquals(false, correct.contains(2));\n                assertEquals(false, correct.contains(3));\n                assertEquals(false, correct.contains(4));\n\n                assertEquals(false, incorrect.contains(0));\n                assertEquals(false, incorrect.contains(1));\n                assertEquals(false, incorrect.contains(2));\n                assertEquals(false, incorrect.contains(3));\n                assertEquals(false, incorrect.contains(4)); \n</code></pre>\n<p>As you can see, I would have to pass many parameters. One for each boolean, the min value, max value, the character, and the Letter object itself.</p>\n"},{"tags":["java","android","google-play","app-store","google-play-console"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1648125362,"post_id":71602425,"comment_id":126548045,"body_markdown":"https://meta.stackoverflow.com/questions/255745/why-cant-i-ask-customer-service-related-questions","body":"<a href=\"https://meta.stackoverflow.com/questions/255745/why-cant-i-ask-customer-service-related-questions\" title=\"why cant i ask customer service related questions\">meta.stackoverflow.com/questions/255745/&hellip;</a>"},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":1,"creation_date":1666361680,"post_id":71602425,"comment_id":130925785,"body_markdown":"Or to put it differently, questions here are about programming (and closely related topics), but not legal problems.","body":"Or to put it differently, questions here are about programming (and closely related topics), but not legal problems."},{"owner":{"account_id":2080269,"reputation":890,"user_id":1852397,"display_name":"cosic"},"score":0,"creation_date":1671552858,"post_id":71602425,"comment_id":132121590,"body_markdown":"As I sow there is not requirements than your app must to provide account deletion. You only must to provide clerify description in your Privacy Policy how user can delete user data from your service. For example by request. See &quot;The developer’s data retention and deletion policy.&quot; section from https://support.google.com/googleplay/android-developer/answer/10144311?visit_id=638071488555400797-3932952839&amp;rd=1&amp;hl=en","body":"As I sow there is not requirements than your app must to provide account deletion. You only must to provide clerify description in your Privacy Policy how user can delete user data from your service. For example by request. See &quot;The developer’s data retention and deletion policy.&quot; section from <a href=\"https://support.google.com/googleplay/android-developer/answer/10144311?visit_id=638071488555400797-3932952839&amp;rd=1&amp;hl=en\" rel=\"nofollow noreferrer\">support.google.com/googleplay/android-developer/answer/&hellip;</a>"}],"owner":{"account_id":24673506,"reputation":41,"user_id":18568198,"display_name":"Raghav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2552,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1666360950,"creation_date":1648124347,"question_id":71602425,"body_markdown":"If your app supports account creation, you must also offer account deletion within the app. Is it compulsory to provide account deletion option for Android Apps on Play Store/Play Console ?\r\nI am sure that AppStore(Apple Store) makes its compulsory to provided account deletion option within the app.\r\nI am not sure whether this applies for Google Play Console/Google Play Store.\r\nPlease suggest a link where I can clarify my doubt.\r\n\r\nSearched for multiple google play console policies but didn&#39;t find any clue regarding this issue. Expecting a link to clarify my doubt.","title":"If your app supports account creation, you must also offer account deletion within the Android app available on Play Store/Play Console?","body":"<p>If your app supports account creation, you must also offer account deletion within the app. Is it compulsory to provide account deletion option for Android Apps on Play Store/Play Console ?\nI am sure that AppStore(Apple Store) makes its compulsory to provided account deletion option within the app.\nI am not sure whether this applies for Google Play Console/Google Play Store.\nPlease suggest a link where I can clarify my doubt.</p>\n<p>Searched for multiple google play console policies but didn't find any clue regarding this issue. Expecting a link to clarify my doubt.</p>\n"},{"tags":["java","spring","rabbitmq","spring-amqp","spring-rabbit"],"comments":[{"owner":{"account_id":479050,"reputation":9672,"user_id":891479,"accept_rate":79,"display_name":"L. G."},"score":0,"creation_date":1486720567,"post_id":25175448,"comment_id":71478109,"body_markdown":"See similar question &amp; answer here: http://stackoverflow.com/a/42001720/891479","body":"See similar question &amp; answer here: <a href=\"http://stackoverflow.com/a/42001720/891479\">stackoverflow.com/a/42001720/891479</a>"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1407407546,"creation_date":1407407546,"answer_id":25180226,"question_id":25175448,"body_markdown":"Well, `CachingConnectionFactory` has another costructor to apply a `com.rabbitmq.client.ConnectionFactory`.\r\n\r\nSo, it just enough to cofigure the last one as a an additional `@Bean` with appropriate options and inject it to the `CachingConnectionFactory`.\r\n\r\n","title":"Is there any option to set AutomaticRecoveryEnabled in RabbitMQ using Spring-AMQP?","body":"<p>Well, <code>CachingConnectionFactory</code> has another costructor to apply a <code>com.rabbitmq.client.ConnectionFactory</code>.</p>\n\n<p>So, it just enough to cofigure the last one as a an additional <code>@Bean</code> with appropriate options and inject it to the <code>CachingConnectionFactory</code>.</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1407767421,"creation_date":1407436103,"answer_id":25189578,"question_id":25175448,"body_markdown":"Just to clarify; Spring AMQP is __NOT compatible__ with `automaticRecoveryEnabled`.\r\n\r\nIt has its own recovery mechanisms and has no awareness of the underlying recovery being performed by the client. This leaves dangling connection(s) and Channel(s).\r\n\r\nI am working on a [temporary work-around](https://jira.spring.io/browse/AMQP-417) that will make it compatible (but will effectively disable the client recovery of any connections/channels used by Spring AMQP, while leaving the client recovery in place for other users of the same connection factory.\r\n\r\nA longer term fix will require a major rewrite of the listener container to utilize the client recovery code instead.","title":"Is there any option to set AutomaticRecoveryEnabled in RabbitMQ using Spring-AMQP?","body":"<p>Just to clarify; Spring AMQP is <strong>NOT compatible</strong> with <code>automaticRecoveryEnabled</code>.</p>\n\n<p>It has its own recovery mechanisms and has no awareness of the underlying recovery being performed by the client. This leaves dangling connection(s) and Channel(s).</p>\n\n<p>I am working on a <a href=\"https://jira.spring.io/browse/AMQP-417\" rel=\"noreferrer\">temporary work-around</a> that will make it compatible (but will effectively disable the client recovery of any connections/channels used by Spring AMQP, while leaving the client recovery in place for other users of the same connection factory.</p>\n\n<p>A longer term fix will require a major rewrite of the listener container to utilize the client recovery code instead.</p>\n"},{"tags":[],"owner":{"account_id":8725235,"reputation":26244,"user_id":6527049,"accept_rate":84,"display_name":"Vivek Nuna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666360941,"creation_date":1666360430,"answer_id":74154708,"question_id":25175448,"body_markdown":"As of version 4.0.0 of the Java client, [automatic recovery][1] is enabled by default. \r\n\r\nIt can be done like this,\r\n\r\n    ConnectionFactory factory = new ConnectionFactory();\r\n    factory.setAutomaticRecoveryEnabled(true);\r\n    // connection that will recover automatically\r\n    Connection conn = factory.newConnection();\r\n\r\n\r\n  [1]: https://www.rabbitmq.com/api-guide.html#connection-recovery","title":"Is there any option to set AutomaticRecoveryEnabled in RabbitMQ using Spring-AMQP?","body":"<p>As of version 4.0.0 of the Java client, <a href=\"https://www.rabbitmq.com/api-guide.html#connection-recovery\" rel=\"nofollow noreferrer\">automatic recovery</a> is enabled by default.</p>\n<p>It can be done like this,</p>\n<pre><code>ConnectionFactory factory = new ConnectionFactory();\nfactory.setAutomaticRecoveryEnabled(true);\n// connection that will recover automatically\nConnection conn = factory.newConnection();\n</code></pre>\n"}],"owner":{"account_id":1948547,"reputation":3575,"user_id":1753177,"accept_rate":68,"display_name":"lambodar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6551,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":25189578,"answer_count":3,"score":5,"last_activity_date":1666360941,"creation_date":1407392299,"question_id":25175448,"body_markdown":"Getting stocked while doing with RabbitMQ using Spring-AMQP.\r\n\r\nJust need to get a way to configure AutomaticRecoveryEnabled and NetworkRecoveryInterval using Spring-AMQP. There is a direct option to set these flages if you you developing using native RabbitMQ library. But i didn&#39;t find a workaround to do the same using spring \r\n\r\n[***Using RabbitMQ Native library(don&#39;t need any help)***][1]\r\n\r\n    factory.setAutomaticRecoveryEnabled(true);\r\n    factory.setNetworkRecoveryInterval(10000);\r\n\r\n***Using Spring-AMPQ(need help)***\r\n\r\nLike above i didn&#39;t find any such method while trying with Spring-AMPQ. This is what i am doing now.\r\n\r\n\r\n\t\r\n\t@Bean(name=&quot;listener&quot;)\r\n\tpublic SimpleMessageListenerContainer listenerContainer() \r\n\t{\r\n\t\tSimpleMessageListenerContainer container = new SimpleMessageListenerContainer();\r\n\t\tcontainer.setConnectionFactory(connectionFactory());\r\n\t\tcontainer.setQueueNames(env.getProperty(&quot;mb.queue&quot;));\r\n\t\tcontainer.setMessageListener(new MessageListenerAdapter(messageListener));\r\n\t\treturn container;\r\n\t}\r\n\r\nAny help in this regards is highly appreciable. Thanks in advance.\r\n  [1]: https://www.rabbitmq.com/api-guide.html","title":"Is there any option to set AutomaticRecoveryEnabled in RabbitMQ using Spring-AMQP?","body":"<p>Getting stocked while doing with RabbitMQ using Spring-AMQP.</p>\n\n<p>Just need to get a way to configure AutomaticRecoveryEnabled and NetworkRecoveryInterval using Spring-AMQP. There is a direct option to set these flages if you you developing using native RabbitMQ library. But i didn't find a workaround to do the same using spring </p>\n\n<p><a href=\"https://www.rabbitmq.com/api-guide.html\" rel=\"noreferrer\"><strong><em>Using RabbitMQ Native library(don't need any help)</em></strong></a></p>\n\n<pre><code>factory.setAutomaticRecoveryEnabled(true);\nfactory.setNetworkRecoveryInterval(10000);\n</code></pre>\n\n<p><strong><em>Using Spring-AMPQ(need help)</em></strong></p>\n\n<p>Like above i didn't find any such method while trying with Spring-AMPQ. This is what i am doing now.</p>\n\n<pre><code>@Bean(name=\"listener\")\npublic SimpleMessageListenerContainer listenerContainer() \n{\n    SimpleMessageListenerContainer container = new SimpleMessageListenerContainer();\n    container.setConnectionFactory(connectionFactory());\n    container.setQueueNames(env.getProperty(\"mb.queue\"));\n    container.setMessageListener(new MessageListenerAdapter(messageListener));\n    return container;\n}\n</code></pre>\n\n<p>Any help in this regards is highly appreciable. Thanks in advance.</p>\n"},{"tags":["java","sql","spring-boot","kotlin","spring-data-jpa"],"owner":{"account_id":12214453,"reputation":538,"user_id":8915326,"display_name":"Inspi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666360843,"creation_date":1666341698,"question_id":74151007,"body_markdown":"So, I already implemented composite foreign keys like:\r\n```kotlin\r\n@Embeddable\r\nclass Participant (\r\n    @ManyToOne\r\n    var event: Event,\r\n    @ManyToOne\r\n    var people: People,\r\n): Serializable\r\n\r\n@Embeddable\r\nclass Proposition (\r\n    @ManyToOne\r\n    var event: Event,\r\n    @ManyToOne\r\n    var place: Place,\r\n): Serializable\r\n```\r\nI know how to make a foreign key reference multiple columns from this answer\r\nhttps://stackoverflow.com/a/38066509/8915326\r\n```kotlin\r\n@ManyToOne\r\n@JoinColumn(name=&quot;gameid&quot;, referencedColumnName = &quot;gameid&quot;, insertable = false, updatable = false ),\r\n@JoinColumn(name=&quot;groupTag&quot;, referencedColumnName = &quot;grouptag&quot;, insertable = false, updatable = false)\r\nprivate Group group;\r\n```\r\n\r\nBut how can I write a table with 2 composite foreign keys that have a column in common ?\r\n\r\nIn my case I want to express something like this\r\n```sql\r\ncreate table if not exists place_vote (\r\n    event varchar(60),\r\n    place varchar(60),\r\n    participant varchar(60),\r\n    grade event not null,\r\n    foreign key (event, place) references place_entry(event, place),\r\n    foreign key (event, participant) references participation(event, participant),\r\n    primary key (event, place, participant)\r\n);\r\n```","title":"JPA 2 composite foreign keys with 1 common column","body":"<p>So, I already implemented composite foreign keys like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Embeddable\nclass Participant (\n    @ManyToOne\n    var event: Event,\n    @ManyToOne\n    var people: People,\n): Serializable\n\n@Embeddable\nclass Proposition (\n    @ManyToOne\n    var event: Event,\n    @ManyToOne\n    var place: Place,\n): Serializable\n</code></pre>\n<p>I know how to make a foreign key reference multiple columns from this answer\n<a href=\"https://stackoverflow.com/a/38066509/8915326\">https://stackoverflow.com/a/38066509/8915326</a></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@ManyToOne\n@JoinColumn(name=&quot;gameid&quot;, referencedColumnName = &quot;gameid&quot;, insertable = false, updatable = false ),\n@JoinColumn(name=&quot;groupTag&quot;, referencedColumnName = &quot;grouptag&quot;, insertable = false, updatable = false)\nprivate Group group;\n</code></pre>\n<p>But how can I write a table with 2 composite foreign keys that have a column in common ?</p>\n<p>In my case I want to express something like this</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table if not exists place_vote (\n    event varchar(60),\n    place varchar(60),\n    participant varchar(60),\n    grade event not null,\n    foreign key (event, place) references place_entry(event, place),\n    foreign key (event, participant) references participation(event, participant),\n    primary key (event, place, participant)\n);\n</code></pre>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666360668,"creation_date":1666360668,"answer_id":74154765,"question_id":74154584,"body_markdown":"It doesn’t work because an instance of `java.lang.reflect.Field` isn’t an instance of `java.awt.RenderingHints`. You need to get the *value* of the field:\r\n\r\n```\r\nfinal Object hint = hintField.get(null);\r\nrenderingHints.put(RenderingHints.KEY_ANTIALIASING, hint);\r\n```","title":"Setting RenderingHints from a String value","body":"<p>It doesn’t work because an instance of <code>java.lang.reflect.Field</code> isn’t an instance of <code>java.awt.RenderingHints</code>. You need to get the <em>value</em> of the field:</p>\n<pre><code>final Object hint = hintField.get(null);\nrenderingHints.put(RenderingHints.KEY_ANTIALIASING, hint);\n</code></pre>\n"}],"owner":{"account_id":2640149,"reputation":71,"user_id":2283986,"display_name":"user2283986"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74154765,"answer_count":1,"score":2,"last_activity_date":1666360668,"creation_date":1666359881,"question_id":74154584,"body_markdown":"I&#39;m trying to populate some RenderingHints from a value that will be set using a String (e.g. from a value in the application.properties file), but cannot get it to pass through the value when setting the field dynamically. \r\n\r\nIs there any easy way I can achieve this? I guess I&#39;m either missing a Cast statement, or just not understanding how reflection works. Thanks. \r\n\r\n\r\n\timport java.awt.RenderingHints;\r\n\timport java.lang.reflect.Field;\r\n\r\n\t...\r\n\r\n\t// create the string we want to populate the hint from\r\n\tString myHint = &quot;VALUE_ANTIALIAS_ON&quot;;\r\n\r\n\r\n\t// create the new hints that we want to populate\r\n\tRenderingHints renderingHints = new RenderingHints(null);\r\n\r\n\r\n\t// setting the value directly (like this) works:\r\n\trenderingHints.put(RenderingHints.KEY_ANTIALIASING, java.awt.RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n\r\n\t// but using reflection to retrieve the field:\r\n\tField hintField = RenderingHints.class.getField(myHint);\r\n\r\n\r\n\t// doesn&#39;t work...\r\n\trenderingHints.put(RenderingHints.KEY_ANTIALIASING, hintField);\r\n\r\n\r\n\t// and gives the error:\r\n\t// public static final java.lang.Object java.awt.RenderingHints.VALUE_ANTIALIAS_ON incompatible with Global antialiasing enable key\r\n","title":"Setting RenderingHints from a String value","body":"<p>I'm trying to populate some RenderingHints from a value that will be set using a String (e.g. from a value in the application.properties file), but cannot get it to pass through the value when setting the field dynamically.</p>\n<p>Is there any easy way I can achieve this? I guess I'm either missing a Cast statement, or just not understanding how reflection works. Thanks.</p>\n<pre><code>import java.awt.RenderingHints;\nimport java.lang.reflect.Field;\n\n...\n\n// create the string we want to populate the hint from\nString myHint = &quot;VALUE_ANTIALIAS_ON&quot;;\n\n\n// create the new hints that we want to populate\nRenderingHints renderingHints = new RenderingHints(null);\n\n\n// setting the value directly (like this) works:\nrenderingHints.put(RenderingHints.KEY_ANTIALIASING, java.awt.RenderingHints.VALUE_ANTIALIAS_ON);\n\n\n// but using reflection to retrieve the field:\nField hintField = RenderingHints.class.getField(myHint);\n\n\n// doesn't work...\nrenderingHints.put(RenderingHints.KEY_ANTIALIASING, hintField);\n\n\n// and gives the error:\n// public static final java.lang.Object java.awt.RenderingHints.VALUE_ANTIALIAS_ON incompatible with Global antialiasing enable key\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1615543596,"post_id":66597723,"comment_id":117728951,"body_markdown":"Do you have &quot;Project &gt; Build Automatically&quot; checked?","body":"Do you have &quot;Project &gt; Build Automatically&quot; checked?"},{"owner":{"account_id":20935122,"reputation":1,"user_id":15380443,"display_name":"Poop Fury"},"score":0,"creation_date":1615582687,"post_id":66597723,"comment_id":117745673,"body_markdown":"I do have &quot;Project &gt; Build Automatically&quot; on but I still have this problem.","body":"I do have &quot;Project &gt; Build Automatically&quot; on but I still have this problem."}],"answers":[{"tags":[],"owner":{"account_id":2659512,"reputation":410,"user_id":2299520,"display_name":"Xsasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666360639,"creation_date":1666360639,"answer_id":74154759,"question_id":66597723,"body_markdown":"For me, the fix was to disable Annotation Processing:\r\n\r\n 1. Open project properties\r\n 2. Java Compiler -&gt; Annotation Processing\r\n 3. Disable &quot;Enable annotation processing&quot;\r\n\r\n[![Project properties screenshot][1]][1]\r\n\r\nAfter disabling, warnings and errors are displayed immediatly (if &quot;Build automatically&quot; is checked, as mentioned by @greg-449). Also code completion, refactorings and quick fix etc. are much faster and smoother.\r\n\r\nThis also removes the .apt_generated folder in the project structure.\r\n\r\nI didn&#39;t face any problems after disabling it. If you face problems, like Annotations not beeing checked during compilation, you may have to enable annotation processing but specifing the options and provide the source containing the annotation in the &quot;Factory Path&quot; sub-option (Java Compiler &gt; Annotation Processing &gt; Factory Path).\r\n\r\n  [1]: https://i.stack.imgur.com/4bUI8.png","title":"Eclipse errors won&#39;t appear or disappear unless project is saved","body":"<p>For me, the fix was to disable Annotation Processing:</p>\n<ol>\n<li>Open project properties</li>\n<li>Java Compiler -&gt; Annotation Processing</li>\n<li>Disable &quot;Enable annotation processing&quot;</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/4bUI8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4bUI8.png\" alt=\"Project properties screenshot\" /></a></p>\n<p>After disabling, warnings and errors are displayed immediatly (if &quot;Build automatically&quot; is checked, as mentioned by @greg-449). Also code completion, refactorings and quick fix etc. are much faster and smoother.</p>\n<p>This also removes the .apt_generated folder in the project structure.</p>\n<p>I didn't face any problems after disabling it. If you face problems, like Annotations not beeing checked during compilation, you may have to enable annotation processing but specifing the options and provide the source containing the annotation in the &quot;Factory Path&quot; sub-option (Java Compiler &gt; Annotation Processing &gt; Factory Path).</p>\n"}],"owner":{"account_id":20935122,"reputation":1,"user_id":15380443,"display_name":"Poop Fury"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666360639,"creation_date":1615543043,"question_id":66597723,"body_markdown":"Errors in my code won&#39;t appear until I save the project. \r\nNot even warnings are popping up until I save.\r\nAll that it says whenever I type something in is &quot;1 changed line&quot;","title":"Eclipse errors won&#39;t appear or disappear unless project is saved","body":"<p>Errors in my code won't appear until I save the project.\nNot even warnings are popping up until I save.\nAll that it says whenever I type something in is &quot;1 changed line&quot;</p>\n"},{"tags":["java","awt","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":226469,"reputation":12047,"user_id":487534,"accept_rate":90,"display_name":"jabal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666360598,"creation_date":1666360598,"answer_id":74154750,"question_id":74154101,"body_markdown":"```\r\nBufferedImage toBufferedImageAbgr(int width, int height, byte[] abgrData) {\r\n\t\tDataBuffer dataBuffer = new DataBufferByte(abgrData, width * height * 4, 0);\r\n\t\tColorModel colorModel = new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_sRGB),\r\n\t\t\t\tnew int[] {8,8,8,8}, true, false, Transparency.OPAQUE, DataBuffer.TYPE_BYTE);\r\n\t\tWritableRaster raster = Raster.createInterleavedRaster(\r\n\t\t\t\tdataBuffer, width, height, width * 4, 4, new int[] {3, 2, 1, 0}, null);\r\n\t\tBufferedImage image = new BufferedImage(colorModel, raster, false, null);\r\n\t\treturn image;\r\n\t}\r\n```","title":"How to convert an ARGB byte[] to BufferedImage","body":"<pre><code>BufferedImage toBufferedImageAbgr(int width, int height, byte[] abgrData) {\n        DataBuffer dataBuffer = new DataBufferByte(abgrData, width * height * 4, 0);\n        ColorModel colorModel = new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_sRGB),\n                new int[] {8,8,8,8}, true, false, Transparency.OPAQUE, DataBuffer.TYPE_BYTE);\n        WritableRaster raster = Raster.createInterleavedRaster(\n                dataBuffer, width, height, width * 4, 4, new int[] {3, 2, 1, 0}, null);\n        BufferedImage image = new BufferedImage(colorModel, raster, false, null);\n        return image;\n    }\n</code></pre>\n"}],"owner":{"account_id":226469,"reputation":12047,"user_id":487534,"accept_rate":90,"display_name":"jabal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74154750,"answer_count":1,"score":1,"last_activity_date":1666360598,"creation_date":1666357701,"question_id":74154101,"body_markdown":"I have a `byte[]` that contains ARGB image data directly. I am trying to find the most performant way to transform this into a `BufferedImage` without unnecessary iterations, essentially I&#39;d like to configure the `BufferedImage` with the right raster and color model to use this memory area directly.\r\n\r\nMy current approach is this:\r\n\r\n```\r\nBufferedImage toBufferedImageAbgr(int width, int height, byte[] abgrData) {\r\n\t\tint bitMasks[] = new int[]{0xf};\r\n\t\tDataBuffer dataBuffer = new DataBufferByte(abgrData, width * height * 4, 0);\r\n\t\tint[] masks = new int[]{0xff, 0xff, 0xff, 0xff};\r\n\t\tDirectColorModel byteColorModel = new DirectColorModel(8,\r\n\t\t\t\t0xff,       // Red\r\n\t\t\t\t0xff,       // Green\r\n\t\t\t\t0xff,       // Blue\r\n\t\t\t\t0xff        // Alpha\r\n\t\t);\r\n\r\n\t\tSampleModel sampleModel = new SinglePixelPackedSampleModel(DataBuffer.TYPE_BYTE, width, height, masks);\r\n\t\tWritableRaster raster = Raster.createWritableRaster(sampleModel, dataBuffer, null);\r\n\r\n\t\tBufferedImage image = new BufferedImage(byteColorModel, raster, false, null);\r\n\t\treturn image;\r\n\t}\r\n```\r\n\r\nI keep playing around with the color model, the bands and all that but can&#39;t figure out what&#39;s the right configuration for this relatively simple problem.\r\n\r\nWhen I inspect the output image, it unfortunately looks bad, it&#39;s a grayscale image with patterns:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is the original image for reference:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wCvbg.png\r\n  [2]: https://i.stack.imgur.com/2syaj.png","title":"How to convert an ARGB byte[] to BufferedImage","body":"<p>I have a <code>byte[]</code> that contains ARGB image data directly. I am trying to find the most performant way to transform this into a <code>BufferedImage</code> without unnecessary iterations, essentially I'd like to configure the <code>BufferedImage</code> with the right raster and color model to use this memory area directly.</p>\n<p>My current approach is this:</p>\n<pre><code>BufferedImage toBufferedImageAbgr(int width, int height, byte[] abgrData) {\n        int bitMasks[] = new int[]{0xf};\n        DataBuffer dataBuffer = new DataBufferByte(abgrData, width * height * 4, 0);\n        int[] masks = new int[]{0xff, 0xff, 0xff, 0xff};\n        DirectColorModel byteColorModel = new DirectColorModel(8,\n                0xff,       // Red\n                0xff,       // Green\n                0xff,       // Blue\n                0xff        // Alpha\n        );\n\n        SampleModel sampleModel = new SinglePixelPackedSampleModel(DataBuffer.TYPE_BYTE, width, height, masks);\n        WritableRaster raster = Raster.createWritableRaster(sampleModel, dataBuffer, null);\n\n        BufferedImage image = new BufferedImage(byteColorModel, raster, false, null);\n        return image;\n    }\n</code></pre>\n<p>I keep playing around with the color model, the bands and all that but can't figure out what's the right configuration for this relatively simple problem.</p>\n<p>When I inspect the output image, it unfortunately looks bad, it's a grayscale image with patterns:</p>\n<p><a href=\"https://i.stack.imgur.com/wCvbg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wCvbg.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the original image for reference:</p>\n<p><a href=\"https://i.stack.imgur.com/2syaj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2syaj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","optimization","jdbc","resultset"],"comments":[{"owner":{"account_id":3906953,"reputation":11639,"user_id":3233398,"accept_rate":9,"display_name":"EliuX"},"score":0,"creation_date":1424282715,"post_id":186799,"comment_id":45487888,"body_markdown":"Is there any constants for using it? Something like &#39;ResultSet.CUSTOMER_ID&#39;","body":"Is there any constants for using it? Something like &#39;ResultSet.CUSTOMER_ID&#39;"}],"answers":[{"tags":[],"owner":{"account_id":12815,"reputation":1149,"user_id":25429,"display_name":"zloster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1223551460,"creation_date":1223551460,"answer_id":186812,"question_id":186799,"body_markdown":"The JDBC driver takes care for the column to index look-up. So if you extract values by column name each time the driver makes a look-up (usually in hash map) to check the corresponding index for the column name. ","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>The JDBC driver takes care for the column to index look-up. So if you extract values by column name each time the driver makes a look-up (usually in hash map) to check the corresponding index for the column name. </p>\n"},{"tags":[],"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"down_vote_count":1,"up_vote_count":60,"is_accepted":false,"score":59,"last_activity_date":1223551587,"creation_date":1223551587,"answer_id":186818,"question_id":186799,"body_markdown":"Warning: I&#39;m going to get bombastic here, because this drives me crazy.\r\n\r\n99%* of the time, it&#39;s a ridiculous micro-optimization that people have some vague idea makes things &#39;better&#39;. This completely ignores the fact that, unless you&#39;re in an extremely tight and busy loop over millions of SQL results *all the time*, which is hopefully rare, you&#39;ll never notice it. For everyone who&#39;s not doing that, the developer time cost of maintaing, updating, and fixing bugs in the column indexing are far greater than the incremental cost of hardware for your infinitesimally-worse-performing application.\r\n\r\nDon&#39;t code optimizations like this in. Code for the person maintaining it. Then observe, measure, analyse, and optimize. Observe again, measure again, analyse again, and optimize again.\r\n\r\nOptimization is pretty much the last step in development, not the first.\r\n\r\n\r\n\r\n\\* Figure is made up.","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>Warning: I'm going to get bombastic here, because this drives me crazy.</p>\n\n<p>99%* of the time, it's a ridiculous micro-optimization that people have some vague idea makes things 'better'. This completely ignores the fact that, unless you're in an extremely tight and busy loop over millions of SQL results <em>all the time</em>, which is hopefully rare, you'll never notice it. For everyone who's not doing that, the developer time cost of maintaing, updating, and fixing bugs in the column indexing are far greater than the incremental cost of hardware for your infinitesimally-worse-performing application.</p>\n\n<p>Don't code optimizations like this in. Code for the person maintaining it. Then observe, measure, analyse, and optimize. Observe again, measure again, analyse again, and optimize again.</p>\n\n<p>Optimization is pretty much the last step in development, not the first.</p>\n\n<p>* Figure is made up.</p>\n"},{"tags":[],"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1223551631,"creation_date":1223551631,"answer_id":186821,"question_id":186799,"body_markdown":"I don&#39;t think using the labels impacts performance by much. But there is another reason not to use `String`s. Or `int`s, for that matter.\r\n\r\nConsider using constants. Using an `int` constant makes the code more readably, but also less likely to have errors. \r\n\r\nBesides being more readable, the constant also prevents you from making typo&#39;s in the label names - the compiler will throw an error if you do. And any IDE worth anything will pick it up. This is not the case if you use `String`s or `ints`.","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>I don't think using the labels impacts performance by much. But there is another reason not to use <code>String</code>s. Or <code>int</code>s, for that matter.</p>\n\n<p>Consider using constants. Using an <code>int</code> constant makes the code more readably, but also less likely to have errors. </p>\n\n<p>Besides being more readable, the constant also prevents you from making typo's in the label names - the compiler will throw an error if you do. And any IDE worth anything will pick it up. This is not the case if you use <code>String</code>s or <code>ints</code>.</p>\n"},{"tags":[],"owner":{"account_id":13240,"reputation":38,"user_id":26475,"display_name":"Cha2lenger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1223554859,"creation_date":1223554859,"answer_id":187007,"question_id":186799,"body_markdown":"I agree with previous answers that performance is not something that can force us to select either of the approaches. It would be good to consider the following things instead:\r\n\r\n- Code readability: for every developer reading your code labels have much more sense than indexes.\r\n- Maintenance: think of the SQL query and the way it is maintained. What is more likely to happen in your case after fixing/improving/refactoring SQL query: changing the order of the columns extracted or changing result column names. It seems for me that changing the order of the columns extracted (as the results of adding/deleting new columns in result set) has greater probability to happen.\r\n- Encapsulation: in spite of the way you choose try to isolate the code where you run SQL query and parse result set in the same component and make only this component aware about the column names and their mapping to the indexes (if you decided to use them).","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>I agree with previous answers that performance is not something that can force us to select either of the approaches. It would be good to consider the following things instead:</p>\n\n<ul>\n<li>Code readability: for every developer reading your code labels have much more sense than indexes.</li>\n<li>Maintenance: think of the SQL query and the way it is maintained. What is more likely to happen in your case after fixing/improving/refactoring SQL query: changing the order of the columns extracted or changing result column names. It seems for me that changing the order of the columns extracted (as the results of adding/deleting new columns in result set) has greater probability to happen.</li>\n<li>Encapsulation: in spite of the way you choose try to isolate the code where you run SQL query and parse result set in the same component and make only this component aware about the column names and their mapping to the indexes (if you decided to use them).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5590,"reputation":6368,"user_id":9094,"display_name":"databyss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1223555357,"creation_date":1223555357,"answer_id":187035,"question_id":186799,"body_markdown":"Using the index is an attempt at optimization.\r\n\r\nThe time saved by this is wasted by the extra effort it takes the developer to look up the necessary data to check if their code will work properly after the changes.\r\n\r\nI think it&#39;s our built-in instinct to use numbers instead of text.","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>Using the index is an attempt at optimization.</p>\n\n<p>The time saved by this is wasted by the extra effort it takes the developer to look up the necessary data to check if their code will work properly after the changes.</p>\n\n<p>I think it's our built-in instinct to use numbers instead of text.</p>\n"},{"tags":[],"owner":{"account_id":1342,"reputation":7304,"user_id":1793,"accept_rate":90,"display_name":"Martin Klinke"},"down_vote_count":2,"up_vote_count":52,"is_accepted":true,"score":50,"last_activity_date":1579345903,"creation_date":1223561226,"answer_id":187425,"question_id":186799,"body_markdown":"You should use **string labels by default.**\r\n\r\n**Pros:**\r\n\r\n  - Independence of column order\r\n  - Better readability/maintainability\r\n\r\n**Cons:**\r\n\r\n  - You have no control over the column names (access via stored procedures)\r\n\r\n**Which would you prefer?**\r\n\r\nints?\r\n```\r\nint i = 1;  \r\ncustomerId = resultSet.getInt(i++);  \r\ncustomerName = resultSet.getString(i++);  \r\ncustomerAddress = resultSet.getString(i++);\r\n```\r\n\r\nor Strings?\r\n```\r\ncustomerId = resultSet.getInt(&quot;customer_id&quot;);  \r\ncustomerName = resultSet.getString(&quot;customer_name&quot;);  \r\ncustomerAddress = resultSet.getString(&quot;customer_address&quot;);\r\n```\r\n\r\nAnd what if there is a new column inserted at position 1? Which code would you prefer? Or if the order of the columns is changed, which code version would you need to change at all?\r\n\r\nThat&#39;s why you should use **string labels by default.**","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>You should use <strong>string labels by default.</strong></p>\n\n<p><strong>Pros:</strong></p>\n\n<ul>\n<li>Independence of column order</li>\n<li>Better readability/maintainability</li>\n</ul>\n\n<p><strong>Cons:</strong></p>\n\n<ul>\n<li>You have no control over the column names (access via stored procedures)</li>\n</ul>\n\n<p><strong>Which would you prefer?</strong></p>\n\n<p>ints?</p>\n\n<pre><code>int i = 1;  \ncustomerId = resultSet.getInt(i++);  \ncustomerName = resultSet.getString(i++);  \ncustomerAddress = resultSet.getString(i++);\n</code></pre>\n\n<p>or Strings?</p>\n\n<pre><code>customerId = resultSet.getInt(\"customer_id\");  \ncustomerName = resultSet.getString(\"customer_name\");  \ncustomerAddress = resultSet.getString(\"customer_address\");\n</code></pre>\n\n<p>And what if there is a new column inserted at position 1? Which code would you prefer? Or if the order of the columns is changed, which code version would you need to change at all?</p>\n\n<p>That's why you should use <strong>string labels by default.</strong></p>\n"},{"tags":[],"owner":{"account_id":20114,"reputation":138,"user_id":47704,"display_name":"Vinod Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1229678411,"creation_date":1229678411,"answer_id":380471,"question_id":186799,"body_markdown":"Besides the look up in Map for labels it also leads to an extra String creation. Though it will happens on stack but still it caries a cost with it.\r\n\r\nIt all depends on the individual choice and till date I have used only indexes :-)","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>Besides the look up in Map for labels it also leads to an extra String creation. Though it will happens on stack but still it caries a cost with it.</p>\n\n<p>It all depends on the individual choice and till date I have used only indexes :-)</p>\n"},{"tags":[],"owner":{"display_name":"Marko Ullgren"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1230714360,"creation_date":1230714360,"answer_id":402586,"question_id":186799,"body_markdown":"I did some performance profiling on this exact subject on an Oracle database. In our code we have a ResultSet with numerous colums and a huge number of rows. Of the 20 seconds (!) the request takes to execute method oracle.jdbc.driver.ScrollableResultSet.findColumn(String name) takes about 4 seconds.\r\n\r\nObviously there&#39;s something wrong with the overall design, but using indexes instead of the column names would probably take this 4 seconds away.","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>I did some performance profiling on this exact subject on an Oracle database. In our code we have a ResultSet with numerous colums and a huge number of rows. Of the 20 seconds (!) the request takes to execute method oracle.jdbc.driver.ScrollableResultSet.findColumn(String name) takes about 4 seconds.</p>\n\n<p>Obviously there's something wrong with the overall design, but using indexes instead of the column names would probably take this 4 seconds away.</p>\n"},{"tags":[],"owner":{"display_name":"user228462"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1628415366,"creation_date":1265259475,"answer_id":2197406,"question_id":186799,"body_markdown":"Sure, using column names increases readability and makes maintenance easy. But using column names has a flipside. As you know, SQL allows multiple column names with same name, there&#39;s no guarantee that the column name you typed in the getter method of resultSet actually points to the column name you intend to access. In theory, using index numbers instead of column names is preferred, but it reduces the readability.\r\n","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>Sure, using column names increases readability and makes maintenance easy. But using column names has a flipside. As you know, SQL allows multiple column names with same name, there's no guarantee that the column name you typed in the getter method of resultSet actually points to the column name you intend to access. In theory, using index numbers instead of column names is preferred, but it reduces the readability.</p>\n"},{"tags":[],"owner":{"account_id":76705,"reputation":8914,"user_id":219394,"display_name":"Kevin Brock"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1265260251,"creation_date":1265260251,"answer_id":2197441,"question_id":186799,"body_markdown":"The answer has been accepted, none-the-less, here is some additional information and personal experience that I have not seen put forward yet.\r\n\r\nUse column names (constants and not literals is preferred) in general and if possible. This is both clearer, is easier to maintain, and future changes are less likely to break the code.\r\n\r\nThere is, however, a use for column indexes. In some cases these are faster, but not sufficiently that this should override the above reasons for names*. These are very valuable when developing tools and general methods dealing with `ResultSet`s. Finally, an index may be required because the column does not have a name (such as an unnamed aggregate) or there are duplicate names so there is no easy way to reference both.\r\n\r\n*Note that I have written some JDBC drivers and looked inside some open sources one and internally these use column indexes to reference the result columns. In all cases I have worked with, the internal driver first maps a column name to an index. Thus, you can easily see that the column name, in all those cases, would always take longer. This may not be true for all drivers though.","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>The answer has been accepted, none-the-less, here is some additional information and personal experience that I have not seen put forward yet.</p>\n\n<p>Use column names (constants and not literals is preferred) in general and if possible. This is both clearer, is easier to maintain, and future changes are less likely to break the code.</p>\n\n<p>There is, however, a use for column indexes. In some cases these are faster, but not sufficiently that this should override the above reasons for names*. These are very valuable when developing tools and general methods dealing with <code>ResultSet</code>s. Finally, an index may be required because the column does not have a name (such as an unnamed aggregate) or there are duplicate names so there is no easy way to reference both.</p>\n\n<p>*Note that I have written some JDBC drivers and looked inside some open sources one and internally these use column indexes to reference the result columns. In all cases I have worked with, the internal driver first maps a column name to an index. Thus, you can easily see that the column name, in all those cases, would always take longer. This may not be true for all drivers though.</p>\n"},{"tags":[],"owner":{"account_id":679600,"reputation":41,"user_id":523198,"display_name":"Rick Post"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1290978009,"creation_date":1290978009,"answer_id":4299050,"question_id":186799,"body_markdown":"You can have the best of both! The speed of using indexes with the maintainability and security of using column names.\r\n\r\nFirst - unless you are looping thru a result set just use column names.\r\n\r\n1. Define a set of integer variables, one for each column you will access. The names of the variables can include the name of the column: e.g. iLast_Name.\r\n\r\n2. Before the result set loop iterate thru the column metadata and set the value of each integer variable to the column index of the corresponding column name. If the index of the &#39;Last_Name&#39; column is 3 then set the value of &#39;iLast_Name&#39; to 3.\r\n\r\n3. In the result set loop use the integer variable names in the GET/SET methods. The variable name is a visual clue to the developer/maintainer as to the actual column name being accessed but the value is the column index and will give the best performance.\r\n\r\nNOTE: the initial mapping (i.e. column name to index mapping) is only done once before the loop rather than for every record and column in the loop.\r\n ","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>You can have the best of both! The speed of using indexes with the maintainability and security of using column names.</p>\n\n<p>First - unless you are looping thru a result set just use column names.</p>\n\n<ol>\n<li><p>Define a set of integer variables, one for each column you will access. The names of the variables can include the name of the column: e.g. iLast_Name.</p></li>\n<li><p>Before the result set loop iterate thru the column metadata and set the value of each integer variable to the column index of the corresponding column name. If the index of the 'Last_Name' column is 3 then set the value of 'iLast_Name' to 3.</p></li>\n<li><p>In the result set loop use the integer variable names in the GET/SET methods. The variable name is a visual clue to the developer/maintainer as to the actual column name being accessed but the value is the column index and will give the best performance.</p></li>\n</ol>\n\n<p>NOTE: the initial mapping (i.e. column name to index mapping) is only done once before the loop rather than for every record and column in the loop.</p>\n"},{"tags":[],"owner":{"account_id":222568,"reputation":11754,"user_id":481248,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1372228046,"creation_date":1372228046,"answer_id":17312976,"question_id":186799,"body_markdown":"From the java documentation:\r\n\r\n&gt; The ResultSet interface provides getter methods (getBoolean, getLong, and so on) for retrieving column values from the current row. Values can be retrieved using either the index number of the column or the name of the column. In general, using the column index will be more efficient. Columns are numbered from 1. For maximum portability, result set columns within each row should be read in left-to-right order, and each column should be read only once.\r\n\r\nOf course each method (named or indexed) has its place. I agree that named columns should be the default. However, in cases where a huge number of loops are required, and where the SELECT statement is defined and maintained in the same section of code (or class), indexes should be ok - it is advisable to list the columns being selected, not just &quot;SELECT * FROM...&quot;, since any table change will break the code.","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>From the java documentation:</p>\n\n<blockquote>\n  <p>The ResultSet interface provides getter methods (getBoolean, getLong, and so on) for retrieving column values from the current row. Values can be retrieved using either the index number of the column or the name of the column. In general, using the column index will be more efficient. Columns are numbered from 1. For maximum portability, result set columns within each row should be read in left-to-right order, and each column should be read only once.</p>\n</blockquote>\n\n<p>Of course each method (named or indexed) has its place. I agree that named columns should be the default. However, in cases where a huge number of loops are required, and where the SELECT statement is defined and maintained in the same section of code (or class), indexes should be ok - it is advisable to list the columns being selected, not just \"SELECT * FROM...\", since any table change will break the code.</p>\n"},{"tags":[],"owner":{"account_id":7115239,"reputation":590,"user_id":5441783,"display_name":"Rober2D2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555339679,"creation_date":1555339679,"answer_id":55691772,"question_id":186799,"body_markdown":"As it is pointed out by other posters, I would stick to column names unless you have a really powerful reason not to do so. The impact in performance is negligible compared to, for example, query optimization. In this case, maintenance is much more important than an small optmization.","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>As it is pointed out by other posters, I would stick to column names unless you have a really powerful reason not to do so. The impact in performance is negligible compared to, for example, query optimization. In this case, maintenance is much more important than an small optmization.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666360365,"creation_date":1666360365,"answer_id":74154693,"question_id":186799,"body_markdown":"Other answers focused a lot on performance, when there&#39;s a correctness discussion to be had, first. Here&#39;s a simple case where column labels won&#39;t work but column indexes do:\r\n\r\n```sql\r\nCREATE TABLE author (\r\n  id BIGINT PRIMARY KEY,\r\n  first_name TEXT, ...\r\n);\r\n\r\nCREATE TABLE book (\r\n  id BIGINT PRIMARY KEY,\r\n  author_id BIGINT REFERENCES author,\r\n  title TEXT, ...\r\n);\r\n```\r\n\r\nThen query:\r\n\r\n```sql\r\nSELECT *\r\nFROM author\r\nJOIN book ON author.id = book.author_id\r\n```\r\n\r\nSeems like an every day case to me. Surrogate keys, joins, quite common. What&#39;s `ID` in this case? You can&#39;t read them both with labels. Of course, you could alias your columns, or design your schema to avoid any naming conflicts, but who does that all the time?\r\n\r\nIt depends on whether this is a problem for you, but for any non-trivial JDBC usage, you&#39;ll either create a wrapper around JDBC or use any off-the-shelf API that abstracts over JDBC anyway, which won&#39;t have this ambiguity anymore.\r\n\r\nI&#39;ve elaborated a bit more on why [jOOQ][1] uses column indexes behind the scenes [in this answer to a similar question][2]. That answer also shows why ORMs or JDBC wrappers like jOOQ or Hibernate better work with indexes than labels for mere performance reasons.\r\n\r\n\r\n  [1]: https://www.jooq.org\r\n  [2]: https://stackoverflow.com/a/72127206/521799","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>Other answers focused a lot on performance, when there's a correctness discussion to be had, first. Here's a simple case where column labels won't work but column indexes do:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE author (\n  id BIGINT PRIMARY KEY,\n  first_name TEXT, ...\n);\n\nCREATE TABLE book (\n  id BIGINT PRIMARY KEY,\n  author_id BIGINT REFERENCES author,\n  title TEXT, ...\n);\n</code></pre>\n<p>Then query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM author\nJOIN book ON author.id = book.author_id\n</code></pre>\n<p>Seems like an every day case to me. Surrogate keys, joins, quite common. What's <code>ID</code> in this case? You can't read them both with labels. Of course, you could alias your columns, or design your schema to avoid any naming conflicts, but who does that all the time?</p>\n<p>It depends on whether this is a problem for you, but for any non-trivial JDBC usage, you'll either create a wrapper around JDBC or use any off-the-shelf API that abstracts over JDBC anyway, which won't have this ambiguity anymore.</p>\n<p>I've elaborated a bit more on why <a href=\"https://www.jooq.org\" rel=\"nofollow noreferrer\">jOOQ</a> uses column indexes behind the scenes <a href=\"https://stackoverflow.com/a/72127206/521799\">in this answer to a similar question</a>. That answer also shows why ORMs or JDBC wrappers like jOOQ or Hibernate better work with indexes than labels for mere performance reasons.</p>\n"}],"owner":{"account_id":6892,"reputation":8853,"user_id":11732,"accept_rate":92,"display_name":"Rorick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108211,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":187425,"answer_count":14,"score":55,"last_activity_date":1666360365,"creation_date":1223551130,"question_id":186799,"body_markdown":"When using JDBC, I often come across constructs like  \r\n\r\n    ResultSet rs = ps.executeQuery();\r\n    while (rs.next()) {\r\n        int id = rs.getInt(1);\r\n        // Some other actions\r\n    }\r\n\r\nI asked myself (and authors of code too) why not to use labels for retrieving column values:  \r\n\r\n    int id = rs.getInt(&quot;CUSTOMER_ID&quot;);\r\n\r\nThe best explanation I&#39;ve heard is something concerning performance. But actually, does it make processing extremely fast? I don&#39;t believe so, though I have never performed measurements. Even if retrieving by label would be a bit slower, nevertheless, it provide better readability and flexibility, in my opinion.  \r\nSo could someone give me good explanation of avoiding to retrieve column values by column index instead of column label? What are pros and cons of both approaches (maybe, concerning certain DBMS)? ","title":"ResultSet: Retrieving column values by index versus retrieving by label","body":"<p>When using JDBC, I often come across constructs like  </p>\n\n<pre><code>ResultSet rs = ps.executeQuery();\nwhile (rs.next()) {\n    int id = rs.getInt(1);\n    // Some other actions\n}\n</code></pre>\n\n<p>I asked myself (and authors of code too) why not to use labels for retrieving column values:  </p>\n\n<pre><code>int id = rs.getInt(\"CUSTOMER_ID\");\n</code></pre>\n\n<p>The best explanation I've heard is something concerning performance. But actually, does it make processing extremely fast? I don't believe so, though I have never performed measurements. Even if retrieving by label would be a bit slower, nevertheless, it provide better readability and flexibility, in my opinion.<br>\nSo could someone give me good explanation of avoiding to retrieve column values by column index instead of column label? What are pros and cons of both approaches (maybe, concerning certain DBMS)? </p>\n"},{"tags":["java","java-8","sencha-touch","sencha-touch-2","sencha-cmd"],"answers":[{"tags":[],"owner":{"account_id":1297830,"reputation":3399,"user_id":1248436,"accept_rate":76,"display_name":"mtyurt"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1429270423,"creation_date":1429269727,"answer_id":29697813,"question_id":29697543,"body_markdown":"First you should have Java 7. If you don&#39;t have, install it first (I don&#39;t know what you are using, Linux, Mac, yum, apt, homebrew, you should find out yourself.)\r\n\r\nIf you already have Java 7, run:\r\n    \r\n    echo $JAVA_HOME\r\n\r\nOutput should be something like this:` /usr/lib/jvm/java-8-oracle`. Near this directory, you should see `java-7` directory. After you found it, run \r\n\r\n    export JAVA_HOME=${java-7-dir}\r\n\r\nChange `{java-7-dir}` with your directory path. Then you can run your command.\r\n\r\n**This is only a temporary solution.** To change it permanently, put the above command to your `~/.bashrc` file.\r\n\r\n**EDIT: If you are using Windows**, change environment variable of `JAVA_HOME` to your Java 7 installation directory path.\r\n\r\n\r\n\r\n\r\n","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>First you should have Java 7. If you don't have, install it first (I don't know what you are using, Linux, Mac, yum, apt, homebrew, you should find out yourself.)</p>\n\n<p>If you already have Java 7, run:</p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n\n<p>Output should be something like this:<code>/usr/lib/jvm/java-8-oracle</code>. Near this directory, you should see <code>java-7</code> directory. After you found it, run </p>\n\n<pre><code>export JAVA_HOME=${java-7-dir}\n</code></pre>\n\n<p>Change <code>{java-7-dir}</code> with your directory path. Then you can run your command.</p>\n\n<p><strong>This is only a temporary solution.</strong> To change it permanently, put the above command to your <code>~/.bashrc</code> file.</p>\n\n<p><strong>EDIT: If you are using Windows</strong>, change environment variable of <code>JAVA_HOME</code> to your Java 7 installation directory path.</p>\n"},{"tags":[],"owner":{"account_id":1494468,"reputation":5660,"user_id":1400755,"accept_rate":86,"display_name":"Anand Gupta"},"down_vote_count":1,"up_vote_count":324,"is_accepted":true,"score":323,"last_activity_date":1429611414,"creation_date":1429611414,"answer_id":29769311,"question_id":29697543,"body_markdown":"After trying more than hundred of tricks, finally got success.\r\n\r\nI removed all `java.exe`, `javaw.exe` and `javaws.exe` from my\r\n\r\n1. `Windows\\System32` and\r\n\r\n2. `Windows\\SysWOW64` \r\nfolder. [Try step 2 if you have x64 system (Win 7 64 bits)]\r\n","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>After trying more than hundred of tricks, finally got success.</p>\n\n<p>I removed all <code>java.exe</code>, <code>javaw.exe</code> and <code>javaws.exe</code> from my</p>\n\n<ol>\n<li><p><code>Windows\\System32</code> and</p></li>\n<li><p><code>Windows\\SysWOW64</code> \nfolder. [Try step 2 if you have x64 system (Win 7 64 bits)]</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6925965,"reputation":141,"user_id":5317047,"display_name":"Undigo Factory"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441801810,"creation_date":1441801810,"answer_id":32479614,"question_id":29697543,"body_markdown":"My short contribution, for sharing the same problem with Talend Open Studio 64 bit version.\r\n\r\n1. Launch ..\\TOS_DI-Win32-20150702_1326-V6.0.0\\TOS_DI-win-x86_64.exe manually (not link an startup Windows menu)\r\n2. and this registry error message appears\r\n\r\nTo resolve this, remove all java.exe, javaw.exe and javaws.exe files on c:\\ProgramData\\Oracle\\Java\\javapath\\\r\n\r\nand TOS start with 64 bits version correctly !","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>My short contribution, for sharing the same problem with Talend Open Studio 64 bit version.</p>\n\n<ol>\n<li>Launch ..\\TOS_DI-Win32-20150702_1326-V6.0.0\\TOS_DI-win-x86_64.exe manually (not link an startup Windows menu)</li>\n<li>and this registry error message appears</li>\n</ol>\n\n<p>To resolve this, remove all java.exe, javaw.exe and javaws.exe files on c:\\ProgramData\\Oracle\\Java\\javapath\\</p>\n\n<p>and TOS start with 64 bits version correctly !</p>\n"},{"tags":[],"owner":{"account_id":5678465,"reputation":115,"user_id":4490644,"display_name":"RJ_Singh"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1446375539,"creation_date":1446375539,"answer_id":33461449,"question_id":29697543,"body_markdown":"My experience: \r\n\r\nI am using windows **8.1** and i have downgraded JAVA version from 1.8 to 1.7 and i was getting the same error.\r\n\r\n**Error: Registry key &#39;Software\\JavaSoft\\Ja has value &#39;1.7&#39;, but &#39;1.8&#39; is required.**\r\n\r\nI have deleted **java.exe**, **javaw.exe** and **javaws.ex**e from **C:\\Windows\\System32** folder and it worked for me.","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>My experience: </p>\n\n<p>I am using windows <strong>8.1</strong> and i have downgraded JAVA version from 1.8 to 1.7 and i was getting the same error.</p>\n\n<p><strong>Error: Registry key 'Software\\JavaSoft\\Ja has value '1.7', but '1.8' is required.</strong></p>\n\n<p>I have deleted <strong>java.exe</strong>, <strong>javaw.exe</strong> and <strong>javaws.ex</strong>e from <strong>C:\\Windows\\System32</strong> folder and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1422699,"reputation":4139,"user_id":1346996,"display_name":"Ant&#243;nio Ribeiro"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1447758805,"creation_date":1447758805,"answer_id":33755487,"question_id":29697543,"body_markdown":"In my case (Windows 7 64-bit), I just did the following:\r\n\r\n - Removed the reference to **C:\\ProgramData\\Oracle\\Java\\javapath;** from the *Path* environment variable\r\n - Removed files **java**, **javaw** and **javaws** from the *C:\\Windows\\System32* folder\r\n\r\nAfterwards, I closed all open command line consoles, reopened them and ran *java -version*.","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>In my case (Windows 7 64-bit), I just did the following:</p>\n\n<ul>\n<li>Removed the reference to <strong>C:\\ProgramData\\Oracle\\Java\\javapath;</strong> from the <em>Path</em> environment variable</li>\n<li>Removed files <strong>java</strong>, <strong>javaw</strong> and <strong>javaws</strong> from the <em>C:\\Windows\\System32</em> folder</li>\n</ul>\n\n<p>Afterwards, I closed all open command line consoles, reopened them and ran <em>java -version</em>.</p>\n"},{"tags":[],"owner":{"account_id":7421029,"reputation":29,"user_id":5645373,"display_name":"user5645373"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1449369030,"creation_date":1449365875,"answer_id":34113012,"question_id":29697543,"body_markdown":"Remove it from the System path: \r\n\r\n    %SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem\r\n\r\nAnd it will fix the issue in upgrading java version from 1.7 to 1.8\r\n\r\n\r\n","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>Remove it from the System path: </p>\n\n<pre><code>%SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem\n</code></pre>\n\n<p>And it will fix the issue in upgrading java version from 1.7 to 1.8</p>\n"},{"tags":[],"owner":{"account_id":5619551,"reputation":653,"user_id":4449859,"display_name":"abdel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455642783,"creation_date":1455642783,"answer_id":35438857,"question_id":29697543,"body_markdown":"aribeiro answer has worked for me - with minor changes\r\n\r\n - I Removed the reference to C:\\ProgramData\\Oracle\\Java\\javapath; from the Path environment variable\r\n - I made /path/to/jdkhome as the first entry in my PATH environment variable. I think this alone is all that is needed.\r\n\r\n\r\n\r\n\r\n","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>aribeiro answer has worked for me - with minor changes</p>\n\n<ul>\n<li>I Removed the reference to C:\\ProgramData\\Oracle\\Java\\javapath; from the Path environment variable</li>\n<li>I made /path/to/jdkhome as the first entry in my PATH environment variable. I think this alone is all that is needed.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1999609,"reputation":680,"user_id":1790964,"accept_rate":25,"display_name":"pratikch"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1501047251,"creation_date":1456505087,"answer_id":35657234,"question_id":29697543,"body_markdown":"I&#39;ve had the same problem. Simple solution that worked for me is to rearrange the entries in the `PATH` for `JRE/JDK`. This problem started to appear after installing `JRE 8` whose installation has put some executable files in `System32 or SysWOW64` directories, these executable files are messing up. To resolve the problem:\r\n\r\n 1. Create environment variable pointing to JDK home as `JAVA_HOME`.\r\n\r\n    `set JAVA_HOME=C:\\Progra~1\\Java\\jdk1.8.0_45`\r\n\r\n 2. Put the entry `%JAVA_HOME%\\bin` at start in your PATH environment variable. Appending existing value of `PATH`. For example: \r\n\r\n    `path=C:\\Program Files\\Java\\jdk1.8.0_45\\bin;%path%`\r\n\r\n ","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>I've had the same problem. Simple solution that worked for me is to rearrange the entries in the <code>PATH</code> for <code>JRE/JDK</code>. This problem started to appear after installing <code>JRE 8</code> whose installation has put some executable files in <code>System32 or SysWOW64</code> directories, these executable files are messing up. To resolve the problem:</p>\n\n<ol>\n<li><p>Create environment variable pointing to JDK home as <code>JAVA_HOME</code>.</p>\n\n<p><code>set JAVA_HOME=C:\\Progra~1\\Java\\jdk1.8.0_45</code></p></li>\n<li><p>Put the entry <code>%JAVA_HOME%\\bin</code> at start in your PATH environment variable. Appending existing value of <code>PATH</code>. For example: </p>\n\n<p><code>path=C:\\Program Files\\Java\\jdk1.8.0_45\\bin;%path%</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4258197,"reputation":384,"user_id":3483277,"display_name":"lucken"},"down_vote_count":3,"up_vote_count":39,"is_accepted":false,"score":36,"last_activity_date":1457017157,"creation_date":1457016880,"answer_id":35775493,"question_id":29697543,"body_markdown":"1. open regedit\r\n2. go to `[HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment]`\r\n3. change value `CurrentVersion` from &quot;1.8&quot; to &quot;1.7&quot;","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<ol>\n<li>open regedit</li>\n<li>go to <code>[HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment]</code></li>\n<li>change value <code>CurrentVersion</code> from \"1.8\" to \"1.7\"</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8187784,"reputation":207,"user_id":6163058,"display_name":"Andrew"},"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1459887514,"creation_date":1459881948,"answer_id":36434593,"question_id":29697543,"body_markdown":"re: Windows users\r\n\r\nNo. Don&#39;t remove the Javapath environment reference from your PATH variable.\r\n\r\nThe reason why the registry didn&#39;t work is that the Oracle Javapath script needs to run in the PATH sequence ahead of the JRE &amp; JDK directories - it will sort out the current version:\r\n\r\nput this directory at the HEAD of your `%PATH%` variable:\r\n\r\n    C:\\ProgramData\\Oracle\\Java\\javapath\r\n\r\n[or wherever it is on your desktop]\r\n\r\nso your PATH will look something like this - mine for example\r\n\r\n    PATH=C:\\ProgramData\\Oracle\\Java\\javapath;&lt;other path directories&gt;;E:\\Program Files\\Java\\jdk1.8.0_77\\bin;E:\\Program Files\\Java\\jre1.8.0_77\\bin\r\n\r\nYou will then see the correct, current version:\r\n\r\n    C:\\&gt;java -version\r\n    java version &quot;1.8.0_77&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_77-b03)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.77-b03, mixed mode)\r\n\r\n","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>re: Windows users</p>\n\n<p>No. Don't remove the Javapath environment reference from your PATH variable.</p>\n\n<p>The reason why the registry didn't work is that the Oracle Javapath script needs to run in the PATH sequence ahead of the JRE &amp; JDK directories - it will sort out the current version:</p>\n\n<p>put this directory at the HEAD of your <code>%PATH%</code> variable:</p>\n\n<pre><code>C:\\ProgramData\\Oracle\\Java\\javapath\n</code></pre>\n\n<p>[or wherever it is on your desktop]</p>\n\n<p>so your PATH will look something like this - mine for example</p>\n\n<pre><code>PATH=C:\\ProgramData\\Oracle\\Java\\javapath;&lt;other path directories&gt;;E:\\Program Files\\Java\\jdk1.8.0_77\\bin;E:\\Program Files\\Java\\jre1.8.0_77\\bin\n</code></pre>\n\n<p>You will then see the correct, current version:</p>\n\n<pre><code>C:\\&gt;java -version\njava version \"1.8.0_77\"\nJava(TM) SE Runtime Environment (build 1.8.0_77-b03)\nJava HotSpot(TM) 64-Bit Server VM (build 25.77-b03, mixed mode)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8213794,"reputation":11,"user_id":6180925,"display_name":"user6180925"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1460204105,"creation_date":1460204105,"answer_id":36516620,"question_id":29697543,"body_markdown":"just did this and it worked\r\n\r\nHKLM &gt; SOFTWARE &gt; JavaSoft &gt; Java Runtime Environment\r\n\r\njust manually change current version to 1.7 .\r\n\r\nlol ... but it worked!","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>just did this and it worked</p>\n\n<p>HKLM > SOFTWARE > JavaSoft > Java Runtime Environment</p>\n\n<p>just manually change current version to 1.7 .</p>\n\n<p>lol ... but it worked!</p>\n"},{"tags":[],"owner":{"account_id":6598561,"reputation":4268,"user_id":5097539,"accept_rate":17,"display_name":"Francis Bacon"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1476886178,"creation_date":1462851478,"answer_id":37128865,"question_id":29697543,"body_markdown":"As for me on win7 64bit.\r\n\r\nCopy the java.exe javaw.exe javaws.exe in the folder `C:\\Program Files\\Java\\jre1.8.0_91\\bin to the C:\\Windows\\System32.`\r\n\r\nand then open cmd, type java -version.\r\n\r\n    C:\\Users\\HEcom&gt;java -version\r\n    java version &quot;1.8.0_91&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_91-b14)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.91-b14, mixed mode)\r\n\r\n\r\n\r\nBefore the above make sure the Registry&#39;s CurrentVersion is 1.8\r\n \r\nIn the START menu type &quot;regedit&quot; to open the Registry editor\r\n\r\n 1. Go to &quot;HKEY_LOCAL_MACHINE&quot; on the left-hand side registry\r\n    explorer/tree menu\r\n 2. Click &quot;SOFTWARE&quot; within the &quot;HKEY_LOCAL_MACHINE&quot; registries\r\n 3. Click &quot;JavaSoft&quot; within the &quot;SOFTWARE&quot; registries\r\n 4. Click &quot;Java Runtime Environment&quot; within the &quot;JavaSoft&quot; list of\r\n    registries here you can see different versions of installed java\r\n 5. Click &quot;Java Runtime Environment&quot;- On right hand side you will get\r\n    4-5 rows . Please select &quot;CurrentVersion&quot; and right Click( select\r\n    modify option) make sure the version is &quot;1.8&quot;","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>As for me on win7 64bit.</p>\n\n<p>Copy the java.exe javaw.exe javaws.exe in the folder <code>C:\\Program Files\\Java\\jre1.8.0_91\\bin to the C:\\Windows\\System32.</code></p>\n\n<p>and then open cmd, type java -version.</p>\n\n<pre><code>C:\\Users\\HEcom&gt;java -version\njava version \"1.8.0_91\"\nJava(TM) SE Runtime Environment (build 1.8.0_91-b14)\nJava HotSpot(TM) 64-Bit Server VM (build 25.91-b14, mixed mode)\n</code></pre>\n\n<p>Before the above make sure the Registry's CurrentVersion is 1.8</p>\n\n<p>In the START menu type \"regedit\" to open the Registry editor</p>\n\n<ol>\n<li>Go to \"HKEY_LOCAL_MACHINE\" on the left-hand side registry\nexplorer/tree menu</li>\n<li>Click \"SOFTWARE\" within the \"HKEY_LOCAL_MACHINE\" registries</li>\n<li>Click \"JavaSoft\" within the \"SOFTWARE\" registries</li>\n<li>Click \"Java Runtime Environment\" within the \"JavaSoft\" list of\nregistries here you can see different versions of installed java</li>\n<li>Click \"Java Runtime Environment\"- On right hand side you will get\n4-5 rows . Please select \"CurrentVersion\" and right Click( select\nmodify option) make sure the version is \"1.8\"</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8612877,"reputation":11,"user_id":6450804,"display_name":"nitish verma"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1465572754,"creation_date":1465572754,"answer_id":37752031,"question_id":29697543,"body_markdown":"Unistall Java 8 from your program list. BY following below steps:-\r\n\r\nFrom your desktop, click on the Start Menu (or Start ball) at the lower left of your screen. \r\nGo to the Control Panel.\r\nClick on Programs and Features.\r\nSelect Java8 and click Uninstall","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>Unistall Java 8 from your program list. BY following below steps:-</p>\n\n<p>From your desktop, click on the Start Menu (or Start ball) at the lower left of your screen. \nGo to the Control Panel.\nClick on Programs and Features.\nSelect Java8 and click Uninstall</p>\n"},{"tags":[],"owner":{"account_id":7320863,"reputation":332,"user_id":5576962,"accept_rate":100,"display_name":"turnip424"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1468076667,"creation_date":1468076667,"answer_id":38283140,"question_id":29697543,"body_markdown":"I didn&#39;t delete any of the java.exe files, but changed the ordering of my System - &quot;path&quot; variable - so that it reflected %JAVA_HOME%\\bin as the first entry.\r\nThat did the trick.","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>I didn't delete any of the java.exe files, but changed the ordering of my System - \"path\" variable - so that it reflected %JAVA_HOME%\\bin as the first entry.\nThat did the trick.</p>\n"},{"tags":[],"owner":{"account_id":9563119,"reputation":11,"user_id":7103215,"display_name":"masoudifar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478070548,"creation_date":1478070548,"answer_id":40374218,"question_id":29697543,"body_markdown":"There exist somewhere another java.exe from jre version 1.8 that it is in &quot;path&quot;\r\nyou should find and delete it if it is possible. it may be in user tempdata for applications that need jre. ","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>There exist somewhere another java.exe from jre version 1.8 that it is in \"path\"\nyou should find and delete it if it is possible. it may be in user tempdata for applications that need jre. </p>\n"},{"tags":[],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484736993,"creation_date":1484736993,"answer_id":41717549,"question_id":29697543,"body_markdown":"Please change JAVA_BIN and JAVA_HOME system variable, and then restart system or maybe relogin. You are having that error because it is still jdk1.7 path. On windows it is like this:\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/qzFvo.png","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>Please change JAVA_BIN and JAVA_HOME system variable, and then restart system or maybe relogin. You are having that error because it is still jdk1.7 path. On windows it is like this:\n<a href=\"https://i.stack.imgur.com/qzFvo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qzFvo.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":10455071,"reputation":21,"user_id":7707458,"display_name":"MikeG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489485161,"creation_date":1489480019,"answer_id":42781018,"question_id":29697543,"body_markdown":"My solution for this problem came after reading and trying all of the above.\r\n\r\nIn my case I tried to downgrade Java to use printouts in `Apache ActiveMQ`. After uninstalling all Java versions and cleaning the registry I was getting the same error\r\n\r\n&gt;Error: Registry key &#39;Software\\JavaSoft\\Java Runtime Environment&#39;\\CurrentVersion&#39;\r\nhas value &#39;1.7&#39;, but &#39;1.8&#39; is required.&quot;\r\n\r\nIn my case I needed to go to environment variables, edit path, open the javapath location (`C:\\ProgramData\\Oracle\\Java\\javapath`) and there it was - three files (`java.exe`, `javaw.exe`, `javaws.exe`) that remained from the JRE8 version.  \r\n\r\nAfter establishing this fact I simply switched them with the same files from `C:\\Windows\\SysWOW64` directory (those were from the `JRE7` version) and it all worked perfectly.","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>My solution for this problem came after reading and trying all of the above.</p>\n\n<p>In my case I tried to downgrade Java to use printouts in <code>Apache ActiveMQ</code>. After uninstalling all Java versions and cleaning the registry I was getting the same error</p>\n\n<blockquote>\n  <p>Error: Registry key 'Software\\JavaSoft\\Java Runtime Environment'\\CurrentVersion'\n  has value '1.7', but '1.8' is required.\"</p>\n</blockquote>\n\n<p>In my case I needed to go to environment variables, edit path, open the javapath location (<code>C:\\ProgramData\\Oracle\\Java\\javapath</code>) and there it was - three files (<code>java.exe</code>, <code>javaw.exe</code>, <code>javaws.exe</code>) that remained from the JRE8 version.  </p>\n\n<p>After establishing this fact I simply switched them with the same files from <code>C:\\Windows\\SysWOW64</code> directory (those were from the <code>JRE7</code> version) and it all worked perfectly.</p>\n"},{"tags":[],"owner":{"account_id":2210867,"reputation":29,"user_id":1952762,"display_name":"Ramesh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1494668879,"creation_date":1494584587,"answer_id":43935373,"question_id":29697543,"body_markdown":"I have had the similar problem. Moving the JDK and JRE path to the top of the path variable solved the problem (which takes first priority over what is present under System32)\r\n\r\nFor example, here is mine:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dGVhY.png","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>I have had the similar problem. Moving the JDK and JRE path to the top of the path variable solved the problem (which takes first priority over what is present under System32)</p>\n\n<p>For example, here is mine:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dGVhY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dGVhY.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6155706,"reputation":11,"user_id":4798791,"display_name":"Tenesi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499409665,"creation_date":1499409665,"answer_id":44964149,"question_id":29697543,"body_markdown":"Just Install Java SE Runtime Environment JRE 7 !\r\n\r\nNow you see &quot;java 7&quot; &amp; &quot;java 8&quot; in &quot;Programs and Features&quot; in the &quot;Control Panel&quot;\r\n\r\nIt worked for me.","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>Just Install Java SE Runtime Environment JRE 7 !</p>\n\n<p>Now you see \"java 7\" &amp; \"java 8\" in \"Programs and Features\" in the \"Control Panel\"</p>\n\n<p>It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":6411204,"reputation":33,"user_id":4970913,"display_name":"user20150603"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504822786,"creation_date":1501180503,"answer_id":45358600,"question_id":29697543,"body_markdown":"After the latest automatic Java update, I could not run Java from the command prompt.\r\n\r\nMy path variable had &#39;C:\\ProgramData\\Oracle\\Java\\javapath;&#39;\r\n\r\nI could not cd into &#39;C:\\ProgramData\\Oracle\\Java\\javapath;&#39; from the command prompt window, since it did not exist.\r\n\r\nI removed C:\\ProgramData\\Oracle\\Java\\javapath;&#39; from the path variable and replaced it with &#39;C:\\Program Files\\Java\\jre1.8.0_141\\bin;&#39;","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>After the latest automatic Java update, I could not run Java from the command prompt.</p>\n\n<p>My path variable had 'C:\\ProgramData\\Oracle\\Java\\javapath;'</p>\n\n<p>I could not cd into 'C:\\ProgramData\\Oracle\\Java\\javapath;' from the command prompt window, since it did not exist.</p>\n\n<p>I removed C:\\ProgramData\\Oracle\\Java\\javapath;' from the path variable and replaced it with 'C:\\Program Files\\Java\\jre1.8.0_141\\bin;'</p>\n"},{"tags":[],"owner":{"account_id":6192337,"reputation":621,"user_id":4824719,"display_name":"Brijesh Rana"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1503580352,"creation_date":1503580352,"answer_id":45862590,"question_id":29697543,"body_markdown":"Kill all applications related to java in task manager and then delete the Java.exe , Javaw.exe and Jawaws.exe from C:\\windows\\System32 \r\n \r\nThis should solve your problem... :)","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>Kill all applications related to java in task manager and then delete the Java.exe , Javaw.exe and Jawaws.exe from C:\\windows\\System32 </p>\n\n<p>This should solve your problem... :)</p>\n"},{"tags":[],"owner":{"account_id":8633104,"reputation":121,"user_id":6464144,"display_name":"El mehdi AZROUR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516023608,"creation_date":1516023608,"answer_id":48264165,"question_id":29697543,"body_markdown":"You have to define your jdk folder in variable JAVA_HOME, \r\nadd %JAVA_HOME% to your variable path\r\n\r\nDelete or change name of your java.exe, javaw.exe and javaws in your folder system32 \r\n\r\nexecute cmd.exe, java -version now take the new version that you define in JAVA_HOME.","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>You have to define your jdk folder in variable JAVA_HOME, \nadd %JAVA_HOME% to your variable path</p>\n\n<p>Delete or change name of your java.exe, javaw.exe and javaws in your folder system32 </p>\n\n<p>execute cmd.exe, java -version now take the new version that you define in JAVA_HOME.</p>\n"},{"tags":[],"owner":{"account_id":7758920,"reputation":558,"user_id":5872281,"display_name":"Adilson Cabral"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524559941,"creation_date":1524497138,"answer_id":49984665,"question_id":29697543,"body_markdown":"One possible solution to this problem is to add at Sencha CMD folder a bat file as sugested at this thread [Sencha Cmd 5 + Java 8 Error][1].\r\n\r\nThe batch will have the name &quot;sencha.bat&quot; with this code:\r\n\r\n    @echo off\r\n    set JAVA_HOME=&lt;YOUR JDK 7 HOME&gt;\r\n    set PATH=%JAVA_HOME%\\bin;%PATH%\r\n    set SENCHA_HOME=%~dp0\r\n    java -jar &quot;%SENCHA_HOME%\\sencha.jar&quot; %*\r\n\r\nPlace it at sencha folder, in my case is\r\n\r\n    C:\\Users\\&lt;YOUR USER&gt;\\bin\\Sencha\\Architect\\Cmd\\6.2.0.103\r\n\r\nThe following step is to change PATHEXT enviroment varible. Change at user variables to have the least impact possible.\r\n\r\nI change from\r\n\r\n    COM;.CMD;.EXE;.BAT;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\r\nto\r\n\r\n    COM;.BAT;.EXE;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\r\n\r\nThe idea is to make windows run .bat files first than .exe files.\r\nThis is important because in sencha folder there is already an &quot;sencha.exe&quot; file. And in the command line if you type &quot;sencha&quot; it will execute &quot;sencha.exe&quot; instead of &quot;sencha.bat&quot;.\r\n\r\nThis was the only solution that worked for because I&#39;m very restricted when it comes to permissions.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27786159/sencha-cmd-5-java-8-error","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>One possible solution to this problem is to add at Sencha CMD folder a bat file as sugested at this thread <a href=\"https://stackoverflow.com/questions/27786159/sencha-cmd-5-java-8-error\">Sencha Cmd 5 + Java 8 Error</a>.</p>\n\n<p>The batch will have the name \"sencha.bat\" with this code:</p>\n\n<pre><code>@echo off\nset JAVA_HOME=&lt;YOUR JDK 7 HOME&gt;\nset PATH=%JAVA_HOME%\\bin;%PATH%\nset SENCHA_HOME=%~dp0\njava -jar \"%SENCHA_HOME%\\sencha.jar\" %*\n</code></pre>\n\n<p>Place it at sencha folder, in my case is</p>\n\n<pre><code>C:\\Users\\&lt;YOUR USER&gt;\\bin\\Sencha\\Architect\\Cmd\\6.2.0.103\n</code></pre>\n\n<p>The following step is to change PATHEXT enviroment varible. Change at user variables to have the least impact possible.</p>\n\n<p>I change from</p>\n\n<pre><code>COM;.CMD;.EXE;.BAT;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\n</code></pre>\n\n<p>to</p>\n\n<pre><code>COM;.BAT;.EXE;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\n</code></pre>\n\n<p>The idea is to make windows run .bat files first than .exe files.\nThis is important because in sencha folder there is already an \"sencha.exe\" file. And in the command line if you type \"sencha\" it will execute \"sencha.exe\" instead of \"sencha.bat\".</p>\n\n<p>This was the only solution that worked for because I'm very restricted when it comes to permissions.</p>\n"},{"tags":[],"owner":{"account_id":13715324,"reputation":191,"user_id":9896584,"display_name":"Philip Dilip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532871890,"creation_date":1532871890,"answer_id":51580927,"question_id":29697543,"body_markdown":"My System:-\r\nWindows 8.1\r\n\r\nJava Environments\r\n\r\n - C:\\JavaEnvironment\\Java\\jdk1.8.0_161\r\n - C:\\JavaEnvironment\\Java\\jdk1.7.0_75\r\n\r\nI recently installed Oracle 11g XE and I received the mentioned error message when accessed &quot;java&quot; command at command prompt.\r\n\r\nI checked my environment variables, checked the sequence (as mentioned by previous replies) and detected that my system PATH variable had following entry as first entry:&lt;br&gt;&lt;br&gt;\r\nC:\\OracleDatabase\\oraclexe\\app\\oracle\\product\\11.2.0\\server\\bin; \r\n\r\nI changed the sequence and defined JDK path as first entry:&lt;br&gt;\r\n\r\n[![enter image description here][1]][1]&lt;br&gt;\r\n\r\nI replicated the same change to User Variable: Path\r\n\r\n[![enter image description here][2]][2]&lt;br&gt;\r\n\r\nAfter finishing the above activity, I restarted the command prompt and executed java -version command and the problem had vanished. It displayed Java 8 as the current version.\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AumGA.png\r\n  [2]: https://i.stack.imgur.com/lRbxS.png\r\n  [3]: https://i.stack.imgur.com/3AZvO.png","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>My System:-\nWindows 8.1</p>\n\n<p>Java Environments</p>\n\n<ul>\n<li>C:\\JavaEnvironment\\Java\\jdk1.8.0_161</li>\n<li>C:\\JavaEnvironment\\Java\\jdk1.7.0_75</li>\n</ul>\n\n<p>I recently installed Oracle 11g XE and I received the mentioned error message when accessed \"java\" command at command prompt.</p>\n\n<p>I checked my environment variables, checked the sequence (as mentioned by previous replies) and detected that my system PATH variable had following entry as first entry:<br><br>\nC:\\OracleDatabase\\oraclexe\\app\\oracle\\product\\11.2.0\\server\\bin; </p>\n\n<p>I changed the sequence and defined JDK path as first entry:<br></p>\n\n<p><a href=\"https://i.stack.imgur.com/AumGA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AumGA.png\" alt=\"enter image description here\"></a><br></p>\n\n<p>I replicated the same change to User Variable: Path</p>\n\n<p><a href=\"https://i.stack.imgur.com/lRbxS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lRbxS.png\" alt=\"enter image description here\"></a><br></p>\n\n<p>After finishing the above activity, I restarted the command prompt and executed java -version command and the problem had vanished. It displayed Java 8 as the current version.</p>\n"},{"tags":[],"owner":{"account_id":1524788,"reputation":3825,"user_id":1423507,"display_name":"masseyb"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1541607666,"creation_date":1541603432,"answer_id":53192247,"question_id":29697543,"body_markdown":"The error is explicit ...\r\n\r\n&gt; Error: Registry key &#39;Software\\JavaSoft\\Java Runtime Environment&#39;\\CurrentVersion&#39; has value &#39;1.8&#39;, but &#39;1.7&#39; is required.\r\n&gt; \r\n&gt; Error: could not find java.dll\r\n&gt; \r\n&gt; Error: Could not find Java SE Runtime Environment.\r\n\r\n... you are attempting to use the `java.exe` 1.7 executable while the `HKEY_LOCAL_MACHINE\\Software\\JavaSoft\\Java Runtime Environment` &gt; `CurrentVersion` registry key has the value 1.8.\r\n\r\nThe recurring theme to proposed solutions is that the error is a **configuration error**. The error can be solved in various different manners (e.g. reconfiguration of the users environment or removal of java executables with fingers-crossed and hope that there exists another fallback `java.exe` in the users `%PATH%` and that the fallback `java.exe` is the correct executable).\r\n\r\nThe *correct* solution depends on what you&#39;re trying to achieve: &quot;are you trying to downgrade from jdk-8 to jdk-7? Are trying to upgrade to jdk-8? ...&quot;\r\n\r\nReproduction steps\r\n------------------\r\n\r\n1. install jdk-7u80-windows-x64.exe\r\n\r\n&gt; notes:\r\n&gt;\r\n&gt; - the `java.exe` executable available in the users `%PATH%` is installed in `C:\\Windows\\System32`\r\n&gt; - the installation does not update the users `%PATH%`\r\n&gt; - the `HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment` &gt; `CurrentVersion` string registry entry is created (among others) with the value `1.7`\r\n\r\n2. install jdk-8u191-windows-x64.exe\r\n\r\n&gt; notes:\r\n&gt;\r\n&gt; - the users `%PATH%` is updated to include `C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath` as the first entry\r\n&gt; - the the `HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment` &gt; `CurrentVersion` string registry entries value is updated to `1.8`\r\n\r\n3. update the users `%PATH%` environment variable, remove `C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath`\r\n\r\n4. in a new command prompt `java -version`\r\n\r\n&gt; Error: Registry key &#39;Software\\JavaSoft\\Java Runtime Environment&#39;\\CurrentVersion&#39;\r\nhas value &#39;1.8&#39;, but &#39;1.7&#39; is required.\r\n&gt;\r\n&gt; Error: could not find java.dll\r\n&gt;\r\n&gt; Error: Could not find Java SE Runtime Environment.\r\n\r\nSolution(s)\r\n-----------\r\n\r\n1. OP&#39;s solution https://stackoverflow.com/a/29769311/1423507 is a &quot;fingers-crossed and hope that there exists a fallback `java.exe` in the users `%PATH%` and that the fallback executable is correct&quot; approach to the error. Given the reproduction steps, removing the `java.exe`, `javaw.exe` and `javaws.exe` executables from `C:\\Windows\\System32` (only in my case) will result in no longer having any `java.exe` present in the users `%PATH%` resulting in the error `&#39;java&#39; is not recognized as an internal or external command, operable program or batch file.` which is not so much of a solution.\r\n\r\n2. answers https://stackoverflow.com/a/35775493/1423507 and https://stackoverflow.com/a/36516620/1423507 work however you&#39;re reverting to using `java.exe` 1.7 (e.g. update the `CurrentVersion` registry key&#39;s value to match the `java.exe` version found in the users `%PATH%`).\r\n\r\n3. make sure`java.exe` 1.8 is the first found in the users `%PATH%` (how you do that is irrelevant) i.e.: \r\n\r\n- update the users `%PATH%` to include `C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath` first (ensure that the executables in that directory are correct)\r\n- update the users `%PATH%` to include the absolute path of your java binaries first (`set PATH=&quot;C:\\Program Files\\Java\\jre1.8.0_191\\bin;%PATH%&quot;`)\r\n- set java specific environment variables and update the users `%PATH%` with them (`set JAVA_HOME=&quot;C:\\Program Files\\Java&quot;`; `set JRE_HOME=%JAVA_HOME%\\jre1.8.0_191`; `set PATH=%JRE_HOME%\\bin;%PATH%`)","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>The error is explicit ...</p>\n\n<blockquote>\n  <p>Error: Registry key 'Software\\JavaSoft\\Java Runtime Environment'\\CurrentVersion' has value '1.8', but '1.7' is required.</p>\n  \n  <p>Error: could not find java.dll</p>\n  \n  <p>Error: Could not find Java SE Runtime Environment.</p>\n</blockquote>\n\n<p>... you are attempting to use the <code>java.exe</code> 1.7 executable while the <code>HKEY_LOCAL_MACHINE\\Software\\JavaSoft\\Java Runtime Environment</code> > <code>CurrentVersion</code> registry key has the value 1.8.</p>\n\n<p>The recurring theme to proposed solutions is that the error is a <strong>configuration error</strong>. The error can be solved in various different manners (e.g. reconfiguration of the users environment or removal of java executables with fingers-crossed and hope that there exists another fallback <code>java.exe</code> in the users <code>%PATH%</code> and that the fallback <code>java.exe</code> is the correct executable).</p>\n\n<p>The <em>correct</em> solution depends on what you're trying to achieve: \"are you trying to downgrade from jdk-8 to jdk-7? Are trying to upgrade to jdk-8? ...\"</p>\n\n<h2>Reproduction steps</h2>\n\n<ol>\n<li>install jdk-7u80-windows-x64.exe</li>\n</ol>\n\n<blockquote>\n  <p>notes:</p>\n  \n  <ul>\n  <li>the <code>java.exe</code> executable available in the users <code>%PATH%</code> is installed in <code>C:\\Windows\\System32</code></li>\n  <li>the installation does not update the users <code>%PATH%</code></li>\n  <li>the <code>HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment</code> > <code>CurrentVersion</code> string registry entry is created (among others) with the value <code>1.7</code></li>\n  </ul>\n</blockquote>\n\n<ol start=\"2\">\n<li>install jdk-8u191-windows-x64.exe</li>\n</ol>\n\n<blockquote>\n  <p>notes:</p>\n  \n  <ul>\n  <li>the users <code>%PATH%</code> is updated to include <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath</code> as the first entry</li>\n  <li>the the <code>HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment</code> > <code>CurrentVersion</code> string registry entries value is updated to <code>1.8</code></li>\n  </ul>\n</blockquote>\n\n<ol start=\"3\">\n<li><p>update the users <code>%PATH%</code> environment variable, remove <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath</code></p></li>\n<li><p>in a new command prompt <code>java -version</code></p></li>\n</ol>\n\n<blockquote>\n  <p>Error: Registry key 'Software\\JavaSoft\\Java Runtime Environment'\\CurrentVersion'\n  has value '1.8', but '1.7' is required.</p>\n  \n  <p>Error: could not find java.dll</p>\n  \n  <p>Error: Could not find Java SE Runtime Environment.</p>\n</blockquote>\n\n<h2>Solution(s)</h2>\n\n<ol>\n<li><p>OP's solution <a href=\"https://stackoverflow.com/a/29769311/1423507\">https://stackoverflow.com/a/29769311/1423507</a> is a \"fingers-crossed and hope that there exists a fallback <code>java.exe</code> in the users <code>%PATH%</code> and that the fallback executable is correct\" approach to the error. Given the reproduction steps, removing the <code>java.exe</code>, <code>javaw.exe</code> and <code>javaws.exe</code> executables from <code>C:\\Windows\\System32</code> (only in my case) will result in no longer having any <code>java.exe</code> present in the users <code>%PATH%</code> resulting in the error <code>'java' is not recognized as an internal or external command, operable program or batch file.</code> which is not so much of a solution.</p></li>\n<li><p>answers <a href=\"https://stackoverflow.com/a/35775493/1423507\">https://stackoverflow.com/a/35775493/1423507</a> and <a href=\"https://stackoverflow.com/a/36516620/1423507\">https://stackoverflow.com/a/36516620/1423507</a> work however you're reverting to using <code>java.exe</code> 1.7 (e.g. update the <code>CurrentVersion</code> registry key's value to match the <code>java.exe</code> version found in the users <code>%PATH%</code>).</p></li>\n<li><p>make sure<code>java.exe</code> 1.8 is the first found in the users <code>%PATH%</code> (how you do that is irrelevant) i.e.: </p>\n\n<ul>\n<li>update the users <code>%PATH%</code> to include <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath</code> first (ensure that the executables in that directory are correct)</li>\n<li>update the users <code>%PATH%</code> to include the absolute path of your java binaries first (<code>set PATH=\"C:\\Program Files\\Java\\jre1.8.0_191\\bin;%PATH%\"</code>)</li>\n<li>set java specific environment variables and update the users <code>%PATH%</code> with them (<code>set JAVA_HOME=\"C:\\Program Files\\Java\"</code>; <code>set JRE_HOME=%JAVA_HOME%\\jre1.8.0_191</code>; <code>set PATH=%JRE_HOME%\\bin;%PATH%</code>)</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1864571,"reputation":23718,"user_id":1688441,"accept_rate":82,"display_name":"Menelaos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1564940426,"creation_date":1564940426,"answer_id":57348863,"question_id":29697543,"body_markdown":"I had this error on some windows services running Java.\r\nIn the end, on my machine I tried to uninstall the other versions of java.\r\n\r\nI left only 1.8 and now everything is working.","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>I had this error on some windows services running Java.\nIn the end, on my machine I tried to uninstall the other versions of java.</p>\n\n<p>I left only 1.8 and now everything is working.</p>\n"},{"tags":[],"owner":{"account_id":14386691,"reputation":1895,"user_id":10392494,"display_name":"Sergey K."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585931529,"creation_date":1585931529,"answer_id":61016402,"question_id":29697543,"body_markdown":"In addition to Anand Gupta&#39;s answer, make sure no other java except for the one you need is used.\r\nRun `which java` (`where java` for Windows) and see which java executables are used.\r\nJust delete the ones you don&#39;t want to use and if the one you need is not present, add it to PATH.","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>In addition to Anand Gupta's answer, make sure no other java except for the one you need is used.\nRun <code>which java</code> (<code>where java</code> for Windows) and see which java executables are used.\nJust delete the ones you don't want to use and if the one you need is not present, add it to PATH.</p>\n"},{"tags":[],"owner":{"account_id":273386,"reputation":667,"user_id":564955,"accept_rate":67,"display_name":"akila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628303259,"creation_date":1628303259,"answer_id":68688977,"question_id":29697543,"body_markdown":"I faced this issue but this was because i opened the command prompt ( windows machine ) and by default it opened the command prompt at :\r\n\r\n    C:\\WINDOWS\\system32&gt;\r\n\r\ntrying to execute basic command such as java -version would give me this error :\r\n\r\n    Error: Registry key &#39;Software\\JavaSoft\\Java Runtime Environment&#39;\\CurrentVersion&#39;\r\n    has value &#39;1.8&#39;, but &#39;1.7&#39; is required.\r\n    Error: could not find java.dll\r\n    Error: Could not find Java SE Runtime Environment.\r\n\r\nSimply navigating out of system32 into C:\\ and voila ! things are working \r\n( guess in my case it was to do with being present inside system32 which would be a windows specific directory )","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>I faced this issue but this was because i opened the command prompt ( windows machine ) and by default it opened the command prompt at :</p>\n<pre><code>C:\\WINDOWS\\system32&gt;\n</code></pre>\n<p>trying to execute basic command such as java -version would give me this error :</p>\n<pre><code>Error: Registry key 'Software\\JavaSoft\\Java Runtime Environment'\\CurrentVersion'\nhas value '1.8', but '1.7' is required.\nError: could not find java.dll\nError: Could not find Java SE Runtime Environment.\n</code></pre>\n<p>Simply navigating out of system32 into C:\\ and voila ! things are working\n( guess in my case it was to do with being present inside system32 which would be a windows specific directory )</p>\n"},{"tags":[],"owner":{"account_id":7056776,"reputation":869,"user_id":6033457,"accept_rate":80,"display_name":"Vahag Chakhoyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653489651,"creation_date":1653489099,"answer_id":72379562,"question_id":29697543,"body_markdown":"I also found the following key in the Windows registry, changing it solved my problem:\r\n\r\n    Computer\\HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\JavaSoft\\Java Runtime Environment\\CurrentVersion","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>I also found the following key in the Windows registry, changing it solved my problem:</p>\n<pre><code>Computer\\HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\JavaSoft\\Java Runtime Environment\\CurrentVersion\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14754491,"reputation":3361,"user_id":10655543,"display_name":"Omkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666360018,"creation_date":1666360018,"answer_id":74154615,"question_id":29697543,"body_markdown":"\r\n1. Removed java.exe, javaw.exe and javaws.exe from Below folder,\r\n\t\r\n\r\n    C:\\Windows\\System32\r\n\r\n2. Also in Eclipse -&gt; Windows -&gt; Preferences -&gt; Java -&gt; Complier -&gt; Compiler Compliance level -&gt; 1.7(It was 1.8)\r\n","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<ol>\n<li><p>Removed java.exe, javaw.exe and javaws.exe from Below folder,</p>\n<p>C:\\Windows\\System32</p>\n</li>\n<li><p>Also in Eclipse -&gt; Windows -&gt; Preferences -&gt; Java -&gt; Complier -&gt; Compiler Compliance level -&gt; 1.7(It was 1.8)</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1494468,"reputation":5660,"user_id":1400755,"accept_rate":86,"display_name":"Anand Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230566,"favorite_count":0,"down_vote_count":0,"up_vote_count":102,"accepted_answer_id":29769311,"answer_count":30,"score":102,"last_activity_date":1666360018,"creation_date":1429268924,"question_id":29697543,"body_markdown":"While running \r\n\r\n    sencha app build production\r\nI am getting the following error:\r\n\r\n&gt; Error: Registry key &#39;Software\\JavaSoft\\Java Runtime\r\n&gt; Environment&#39;\\CurrentVersion&#39;\r\n&gt; \r\n&gt; has value &#39;1.8&#39;, but &#39;1.7&#39; is required. Error: could not find java.dll\r\n&gt; Error: Could not find Java SE Runtime Environment.\r\n\r\n `java -version` , command is showing following:\r\n\r\njava version &quot;1.8.0_40&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_40-b26)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.40-b25, mixed mode)\r\n\r\nNot able to find where path is going wrong. Any idea?\r\n\r\n----------------------- EDIT ------------------------------------------------\r\n\r\n**Note**: I am using Windows 7 (64 bit). \r\n\r\nI have tried uninstalling the sencha touch cmd and reinstalling. But still same error.\r\n\r\nI have uninstalled all the java version instances and reinstalled the latest one, Still the problem persist.","title":"Registry key Error: Java version has value &#39;1.8&#39;, but &#39;1.7&#39; is required","body":"<p>While running </p>\n\n<pre><code>sencha app build production\n</code></pre>\n\n<p>I am getting the following error:</p>\n\n<blockquote>\n  <p>Error: Registry key 'Software\\JavaSoft\\Java Runtime\n  Environment'\\CurrentVersion'</p>\n  \n  <p>has value '1.8', but '1.7' is required. Error: could not find java.dll\n  Error: Could not find Java SE Runtime Environment.</p>\n</blockquote>\n\n<p><code>java -version</code> , command is showing following:</p>\n\n<p>java version \"1.8.0_40\"\nJava(TM) SE Runtime Environment (build 1.8.0_40-b26)\nJava HotSpot(TM) 64-Bit Server VM (build 25.40-b25, mixed mode)</p>\n\n<p>Not able to find where path is going wrong. Any idea?</p>\n\n<p>----------------------- EDIT ------------------------------------------------</p>\n\n<p><strong>Note</strong>: I am using Windows 7 (64 bit). </p>\n\n<p>I have tried uninstalling the sencha touch cmd and reinstalling. But still same error.</p>\n\n<p>I have uninstalled all the java version instances and reinstalled the latest one, Still the problem persist.</p>\n"},{"tags":["java","unit-testing","junit5"],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642906655,"creation_date":1642903584,"answer_id":70818615,"question_id":70818397,"body_markdown":"After going through you code, these were few mistakes that I could figure out due to which your tests are failing.\r\n\r\n&gt; TEST 1 \r\n\r\n    @Test\r\n    @DisplayName(&quot;Contact address cannot have more than 30 characters&quot;)\r\n    void testContactAddressWithMoreThanThirtyCharacters() {\r\n    \t\r\n    Contact contact = new Contact(&quot;FirstName&quot;,&quot;LastName&quot;,&quot;PhoneNumbr&quot;,&quot;123456789 is nine characters long&quot;\r\n    + &quot;123456789 is another nine characters long&quot;);\r\n    System.out.println(&quot;contact address i ---------&quot; + contact.getAddress().length());\r\n    if(contact.getAddress().length() &gt; 30) {\r\n    fail(&quot;Address has more than 30 characters.&quot;);\r\n    }\r\n    }\r\n \r\n**REASON FOR FAILING :** \r\n\r\nWhen creating object contact, you have are not passing value for address as your constructor  has only these values : \r\n \r\n\r\n \r\n\r\n    public Contact(String contactID, String firstName, String lastName, String phoneNumber)\r\n\r\nThus, your address value is by default null only. When you apply any method call on a null object`(contact.getAddress().length())` , it gives Null Pointer Exception.\r\n\r\n&gt; TEST 2 \r\n\r\n    @Test\r\n    @DisplayName(&quot;Contact phone number is exactly 10 characters&quot;)\r\n    void testContactNumberWithMoreThanTenCharacters() {\r\n    Contact contact = new Contact(&quot;FirstName&quot;, &quot;LastName&quot;, &quot;5555555555&quot;,&quot;Address&quot;);\r\n    \r\n    if(contact.getPhoneNumber().length() != 10) {\r\n    fail(&quot;Phone number length does not equal 10.&quot;);\r\n    }\r\n    }\r\n\r\n**REASON FOR FAILING :** \r\n\r\nYou are passing the string address instead of your phone number : \r\nYou have to rectify your test to pass \r\n\r\n    @Test\r\n    @DisplayName(&quot;Contact phone number is exactly 10 characters&quot;)\r\n    void testContactNumberWithMoreThanTenCharacters() {\r\n    Contact contact = new Contact(&quot;FirstName&quot;, &quot;LastName&quot;, &quot;Address&quot;,&quot;5555555555&quot;);\r\n    System.out.println(&quot;contact digits  i ---------&quot; + contact.getPhoneNumber().length() );\r\n    if(contact.getPhoneNumber().length() != 10) {\r\n    fail(&quot;Phone number length does not equal 10.&quot;);\r\n    }\r\n    }\r\n\r\nAlso , if instead of creating a new object before running every test, you should actually use **@Before annotation** to create initialization condition before running each test. \r\n\r\n**RECTIFICATION**: \r\n\r\n    @Test\r\n    @DisplayName(&quot;Contact address cannot have more than 30 characters&quot;)\r\n    void testContactAddressWithMoreThanThirtyCharacters() {\r\n    \t\r\n    Contact c1 = new Contact(&quot;FirstName&quot;,&quot;LastName&quot;,&quot;value is&quot;,&quot;PhoneNumbr&quot;,&quot;address is longer than 30 characters &quot;);\r\n    System.out.println(&quot;contact address i ---------&quot; + c1.getAddress().length());\r\n    System.out.println(&quot;contact address i ---------&quot; + c1.getAddress());\r\n    System.out.println(c1);\r\n    assertTrue(c1.getAddress().length() &gt; 30);\r\n    }\r\n\r\nAfter doing these rectifications, all the tests pass \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V269Z.png","title":"What needs to be updated to make the JUnit5 test successful?","body":"<p>After going through you code, these were few mistakes that I could figure out due to which your tests are failing.</p>\n<blockquote>\n<p>TEST 1</p>\n</blockquote>\n<pre><code>@Test\n@DisplayName(&quot;Contact address cannot have more than 30 characters&quot;)\nvoid testContactAddressWithMoreThanThirtyCharacters() {\n    \nContact contact = new Contact(&quot;FirstName&quot;,&quot;LastName&quot;,&quot;PhoneNumbr&quot;,&quot;123456789 is nine characters long&quot;\n+ &quot;123456789 is another nine characters long&quot;);\nSystem.out.println(&quot;contact address i ---------&quot; + contact.getAddress().length());\nif(contact.getAddress().length() &gt; 30) {\nfail(&quot;Address has more than 30 characters.&quot;);\n}\n}\n</code></pre>\n<p><strong>REASON FOR FAILING :</strong></p>\n<p>When creating object contact, you have are not passing value for address as your constructor  has only these values :</p>\n<pre><code>public Contact(String contactID, String firstName, String lastName, String phoneNumber)\n</code></pre>\n<p>Thus, your address value is by default null only. When you apply any method call on a null object<code>(contact.getAddress().length())</code> , it gives Null Pointer Exception.</p>\n<blockquote>\n<p>TEST 2</p>\n</blockquote>\n<pre><code>@Test\n@DisplayName(&quot;Contact phone number is exactly 10 characters&quot;)\nvoid testContactNumberWithMoreThanTenCharacters() {\nContact contact = new Contact(&quot;FirstName&quot;, &quot;LastName&quot;, &quot;5555555555&quot;,&quot;Address&quot;);\n\nif(contact.getPhoneNumber().length() != 10) {\nfail(&quot;Phone number length does not equal 10.&quot;);\n}\n}\n</code></pre>\n<p><strong>REASON FOR FAILING :</strong></p>\n<p>You are passing the string address instead of your phone number :\nYou have to rectify your test to pass</p>\n<pre><code>@Test\n@DisplayName(&quot;Contact phone number is exactly 10 characters&quot;)\nvoid testContactNumberWithMoreThanTenCharacters() {\nContact contact = new Contact(&quot;FirstName&quot;, &quot;LastName&quot;, &quot;Address&quot;,&quot;5555555555&quot;);\nSystem.out.println(&quot;contact digits  i ---------&quot; + contact.getPhoneNumber().length() );\nif(contact.getPhoneNumber().length() != 10) {\nfail(&quot;Phone number length does not equal 10.&quot;);\n}\n}\n</code></pre>\n<p>Also , if instead of creating a new object before running every test, you should actually use <strong>@Before annotation</strong> to create initialization condition before running each test.</p>\n<p><strong>RECTIFICATION</strong>:</p>\n<pre><code>@Test\n@DisplayName(&quot;Contact address cannot have more than 30 characters&quot;)\nvoid testContactAddressWithMoreThanThirtyCharacters() {\n    \nContact c1 = new Contact(&quot;FirstName&quot;,&quot;LastName&quot;,&quot;value is&quot;,&quot;PhoneNumbr&quot;,&quot;address is longer than 30 characters &quot;);\nSystem.out.println(&quot;contact address i ---------&quot; + c1.getAddress().length());\nSystem.out.println(&quot;contact address i ---------&quot; + c1.getAddress());\nSystem.out.println(c1);\nassertTrue(c1.getAddress().length() &gt; 30);\n}\n</code></pre>\n<p>After doing these rectifications, all the tests pass\n<a href=\"https://i.stack.imgur.com/V269Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V269Z.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23621514,"reputation":69,"user_id":17654712,"display_name":"Mathew Dawson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1320,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70818615,"answer_count":1,"score":0,"last_activity_date":1666359970,"creation_date":1642899849,"question_id":70818397,"body_markdown":"I have created this Java project for my Computer Science course at SNHU and am getting tripped up and confused as to why I am getting these errors when running a JUnit5 test on the code. The errors that I am receiving when running the JUnit5 test are:\r\n\r\n```none\r\norg.opentest4j.AssertionFailedError: First name was not null. == &gt; expected: not &lt; null &gt; \r\n    at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java: 39)\r\n    at org.junit.jupiter.api.Assertions.fail(Assertions.java: 134)\r\n    at org.junit.jupiter.api.AssertNotNull.failNull(AssertNotNull.java: 47)\r\n    at org.junit.jupiter.api.AssertNotNull.assertNotNull(AssertNotNull.java: 36)\r\n    at org.junit.jupiter.api.Assertions.assertNotNull(Assertions.java: 308)\r\n    at module3.ContactTest.testContactFirstNameNotNull(ContactTest.java: 76)\r\n    at java.base / jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base / jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java: 64)\r\n    at java.base / jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java: 43)\r\n    at java.base / java.lang.reflect.Method.invoke(Method.java: 564)\r\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java: 725)\r\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java: 60)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java: 131)\r\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java: 149)\r\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java: 140)\r\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java: 84)\r\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java: 115)\r\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java: 105)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java: 106)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java: 64)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java: 45)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java: 37)\r\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java: 104)\r\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java: 98)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java: 214)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java: 73)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java: 210)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java: 135)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java: 66)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java: 151)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java: 73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java: 141)\r\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java: 137)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java: 139)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java: 73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java: 138)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java: 95)\r\n    at java.base / java.util.ArrayList.forEach(ArrayList.java: 1511)\r\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java: 41)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java: 155)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java: 73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java: 141)\r\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java: 137)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java: 139)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java: 73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java: 138)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java: 95)\r\n    at java.base / java.util.ArrayList.forEach(ArrayList.java: 1511)\r\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java: 41)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java: 155)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java: 73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java: 141)\r\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java: 137)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java: 139)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java: 73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java: 138)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java: 95)\r\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java: 35)\r\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java: 57)\r\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java: 54)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java: 107)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java: 88)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java: 54)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java: 67)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java: 52)\r\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java: 114)\r\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java: 95)\r\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java: 91)\r\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java: 60)\r\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java: 98)\r\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java: 40)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java: 529)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java: 756)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java: 452)\r\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java: 210)\r\n```\r\n\r\nI am running this project in Eclipse and it is up to date on software. Below are the instructions as well as the code for this assignment. \r\n\r\n**Instructions:**\r\n\r\n&gt; Overview\r\n&gt; \r\n&gt; As you have learned in Modules One and Two, various types of software\r\n&gt; testing can be employed for a given situation. For this assignment,\r\n&gt; you will be creating unit tests using code to uncover errors for a\r\n&gt; mobile application. You will develop the contact service and contact\r\n&gt; object.\r\n&gt; \r\n&gt; \r\n&gt; Prompt\r\n&gt; \r\n&gt; For Project One, which is due in Module Six, you are asked to develop\r\n&gt; a mobile application for a customer. The customer will provide you\r\n&gt; with the requirements. Your job is to code the application and provide\r\n&gt; unit tests to verify that the application meets the customer’s\r\n&gt; requirements. For this milestone, you will focus on delivering the\r\n&gt; contact services. The purpose of these services is to add, update, and\r\n&gt; delete contact objects within the application.\r\n&gt; \r\n&gt; The contact service uses in-memory data structures to support storing\r\n&gt; contacts (no database required). In addition, there is no user\r\n&gt; interface for this milestone. You will verify the contact service\r\n&gt; through JUnit tests. The contact service contains a contact object\r\n&gt; along with the contact service. The requirements are outlined below.\r\n&gt; \r\n&gt; Contact Class Requirements\r\n&gt; \r\n&gt;  - The contact object shall have a required unique contact ID string that cannot be longer than 10 characters. The contact ID shall not be\r\n&gt; null and shall not be updatable.\r\n&gt;  - The contact object shall have a required firstName String field that cannot be longer than 10 characters. The firstName field shall\r\n&gt; not be null.\r\n&gt;  - The contact object shall have a required lastName String field that cannot be longer than 10 characters. The lastName field shall not be\r\n&gt; null.\r\n&gt;  - The contact object shall have a required phone String field that must be exactly 10 digits. The phone field shall not be null.\r\n&gt;  - The contact object shall have a required address field that must be no longer than 30 characters. The address field shall not be null.\r\n&gt; \r\n&gt; Contact Service Requirements\r\n&gt; \r\n&gt;  - The contact service shall be able to add contacts with a unique ID.\r\n&gt;  - The contact service shall be able to delete contacts per contact ID.\r\n&gt;  - The contact service shall be able to delete contacts per contact ID.\r\n&gt;  - The contact service shall be able to update contact fields per contact ID. The following fields are updatable:\r\n&gt;  - firstName\r\n&gt;  - lastName\r\n&gt;  - Number\r\n&gt;  - Address\r\n\r\n**Contact.java**\r\n\r\n```java\r\n//Description: This is the contact class. It creates and stores contact information.\r\n\r\npackage module3;\r\n\r\npublic class Contact {\r\n\r\n    String contactID;\r\n    String firstName;\r\n    String lastName;\r\n    String phoneNumber;\r\n    String address;\r\n  \r\n    public Contact(String contactID, String firstName, String lastName, String phoneNumber) {\r\n        super();\r\n        this.contactID = contactID;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.phoneNumber = phoneNumber;\r\n        this.address = address;\r\n    }\r\n  \r\n    public String getContactID() {\r\n        return contactID;\r\n    }\r\n\r\n    public void setContactID(String contactID) {\r\n        this.contactID = contactID;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Contact [contactID=&quot; + contactID + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName\r\n               + &quot;, phoneNumber=&quot; + phoneNumber + &quot;, address=&quot; + address + &quot;]&quot;;\r\n    }\r\n  \r\n}\r\n```\r\n\r\n**ContactService.java:**\r\n\r\n```java\r\n//Description: This is the contact service. It maintains a list of contacts and has capabilities\r\n//for adding and deleting contacts, as well as updating first name, last name, phone number, and address.\r\n\r\npackage module3;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ContactService {\r\n    //will contain our list of contacts\r\n\r\n    private ArrayList&lt;Contact&gt; contacts;\r\n\r\n    public ContactService() {\r\n        //beginning call for the array list\r\n        contacts = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    //need to have an add contact, remove contact and update contact feature\r\n    //set add contact to have all values\r\n    public boolean addContact(Contact contact) {\r\n        boolean contactAlready = false;\r\n        //run through all the contacts in the list made\r\n        for (Contact contactList : contacts) {\r\n            //test to see if already a contact\r\n            //if so make contactAlready true\r\n            if (contactList.equals(contact)) {\r\n                contactAlready = true;\r\n            }\r\n        }\r\n        //if not a contact add it as one\r\n        if (!contactAlready) {\r\n            contacts.add(contact);\r\n            //after adding is now true\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    //delete needed via contactID\r\n    public boolean deleteContact(String string) {\r\n        //run through list of contacts\r\n        for (Contact contactList : contacts) {\r\n            //if equals to contactID will remove and return\r\n            if (contactList.getContactID().equals(string)) {\r\n                //remove and return true\r\n                contacts.remove(contactList);\r\n                return true;\r\n            }\r\n        }\r\n        //else return false\r\n        return false;\r\n    }\r\n\r\n    //update is trickiest due to needing to make sure still fits parameters\r\n    //nothing means no change\r\n    public boolean updateContact(String contactID, String firstName, String lastName, String phoneNumber,\r\n            String address) {\r\n        //run through loop again\r\n        for (Contact contactList : contacts) {\r\n            //if contactID matches, run through each with making sure not &quot;&quot; and meets requirements\r\n            //then return true as it did equal update.\r\n            if (contactList.getContactID().equals(contactID)) {\r\n                if (!firstName.equals(&quot;&quot;) &amp;&amp; !(firstName.length() &gt; 10)) {\r\n                    contactList.setFirstName(firstName);\r\n                }\r\n                if (!lastName.equals(&quot;&quot;) &amp;&amp; !(lastName.length() &gt; 10)) {\r\n                    contactList.setFirstName(lastName);\r\n                }\r\n                if (!phoneNumber.equals(&quot;&quot;) &amp;&amp; (phoneNumber.length() == 10)) {\r\n                    contactList.setFirstName(phoneNumber);\r\n                }\r\n                if (!address.equals(&quot;&quot;) &amp;&amp; !(address.length() &gt; 30)) {\r\n                    contactList.setFirstName(address);\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        //else return false\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\n**ContactTest.java:**\r\n\r\n```java\r\n//Description: This is the unit tests for the contact class (ContactTest).\r\n\r\npackage module3;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.DisplayName;\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\npublic class ContactTest {\r\n    /*\r\n     * The following tests exercise the Contact class.\r\n     * The first 5 tests to make sure the field does not become longer than the constraint\r\n     * (10 characters for first and last name, exactly 10 characters for phone number,\r\n     * and 30 characters for the address).\r\n     * The last 4 tests ensure that each field is not null.\r\n     * ContactID is not tested for being not null because there isn&#39;t a way to create\r\n     * a contact with a null contactID. Likewise it is not tested for being non-updateable\r\n     * because there is no way to update it.\r\n     */\r\n    @Test\r\n    @DisplayName(&quot;Contact ID cannot have more than 10 characters&quot;)\r\n    void testContactIDWithMoreThanTenCharacters() {\r\n        Contact contact = new Contact(&quot;FirstName&quot;, &quot;LastName&quot;, &quot;PhoneNumbr&quot;, &quot;Address&quot;);\r\n        if (contact.getContactID().length() &gt; 10) {\r\n            fail(&quot;Contact ID has more than 10 characters.&quot;);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Contact First Name cannot have more than 10 characters&quot;)\r\n    void testContactFirstNameWithMoreThanTenCharacters() {\r\n        Contact contact = new Contact(&quot;OllyOllyOxenFree&quot;, &quot;LastName&quot;, &quot;PhoneNumbr&quot;, &quot;Address&quot;);\r\n        if (contact.getFirstName().length() &gt; 10) {\r\n            fail(&quot;First Name has more than 10 characters.&quot;);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Contact Last Name cannot have more than 10 characters&quot;)\r\n    void testContactLastNameWithMoreThanTenCharacters() {\r\n        Contact contact = new Contact(&quot;FirstName&quot;, &quot;OllyOllyOxenFree&quot;, &quot;PhoneNumbr&quot;, &quot;Address&quot;);\r\n        if (contact.getLastName().length() &gt; 10) {\r\n            fail(&quot;Last Name has more than 10 characters.&quot;);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Contact phone number is exactly 10 characters&quot;)\r\n    void testContactNumberWithMoreThanTenCharacters() {\r\n        Contact contact = new Contact(&quot;FirstName&quot;, &quot;LastName&quot;, &quot;55555555555&quot;, &quot;Address&quot;);\r\n        if (contact.getPhoneNumber().length() != 10) {\r\n            fail(&quot;Phone number length does not equal 10.&quot;);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Contact address cannot have more than 30 characters&quot;)\r\n    void testContactAddressWithMoreThanThirtyCharacters() {\r\n        Contact contact = new Contact(&quot;FirstName&quot;, &quot;LastName&quot;, &quot;PhoneNumbr&quot;, &quot;123456789 is nine characters long&quot;\r\n                + &quot;123456789 is another nine characters long&quot;);\r\n        if (contact.getAddress().length() &gt; 30) {\r\n            fail(&quot;Address has more than 30 characters.&quot;);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Contact First Name shall not be null&quot;)\r\n    void testContactFirstNameNotNull() {\r\n        Contact contact = new Contact(null, null, null, null);\r\n        assertNotNull(contact.getFirstName(), &quot;First name was not null.&quot;);\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Contact Last Name shall not be null&quot;)\r\n    void testContactLastNameNotNull() {\r\n        Contact contact = new Contact(null, null, null, null);\r\n        assertNotNull(contact.getLastName(), &quot;Last name was null.&quot;);\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Contact Phone Number shall not be null&quot;)\r\n    void testContactPhoneNotNull() {\r\n        Contact contact = new Contact(&quot;FirstName&quot;, &quot;LastName&quot;, null, &quot;Address&quot;);\r\n        assertNotNull(contact.getPhoneNumber(), &quot;Phone number was null.&quot;);\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Contact Address shall not be null&quot;)\r\n    void testContactAddressNotNull() {\r\n        Contact contact = new Contact(null, null, null, null);\r\n        assertNotNull(contact.getAddress(), &quot;Address was null.&quot;);\r\n    }\r\n}\r\n```\r\n\r\n**ContactServiceTest.java:**\r\n\r\n```java\r\n//Description: This is the unit tests for the contact service (ContactServiceTest)\r\n\r\npackage module3;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\n\r\nimport org.junit.Test;\r\n\r\npublic class ContactServiceTest {\r\n\r\n    //need to test add, delete and update\r\n    //templates\r\n    /*\r\n    * Contact(&quot;1413252&quot;, &quot;Jane&quot;, &quot;Doe&quot;, &quot;4444444444&quot;, &quot;Sample 24 Drive&quot;);\r\n    Contact(&quot;1309403&quot;, &quot;Malleus&quot;, &quot;Draconia&quot;, &quot;2187123404&quot;, &quot;Valley of Thorns&quot;);\r\n    Contact(&quot;9752319&quot;, &quot;Vil&quot;, &quot;Schoenheit&quot;, &quot;9215501793&quot;, &quot;Land of Proxynee&quot;);\r\n    */\r\n\r\n    @Test\r\n    public void testAdd() {\r\n        ContactService cs = new ContactService();\r\n        Contact test1 = new Contact(&quot;1413252&quot;, &quot;Jane&quot;, &quot;Doe&quot;, &quot;4444444444&quot;);\r\n        assertEquals(true, cs.addContact(test1));\r\n    }\r\n\r\n    @Test\r\n    public void testDelete() {\r\n        ContactService cs = new ContactService();\r\n\r\n        Contact test1 = new Contact(&quot;1413252&quot;, &quot;Jane&quot;, &quot;Doe&quot;, &quot;4444444444&quot;);\r\n        Contact test2 = new Contact(&quot;1309403&quot;, &quot;Malleus&quot;, &quot;Draconia&quot;, &quot;2187123404&quot;);\r\n        Contact test3 = new Contact(&quot;9752319&quot;, &quot;Vil&quot;, &quot;Schoenheit&quot;, &quot;9215501793&quot;);\r\n\r\n        cs.addContact(test1);\r\n        cs.addContact(test2);\r\n        cs.addContact(test3);\r\n\r\n        assertEquals(true, cs.deleteContact(&quot;1309403&quot;));\r\n        assertEquals(false, cs.deleteContact(&quot;1309404&quot;));\r\n        assertEquals(false, cs.deleteContact(&quot;1309403&quot;));\r\n    }\r\n\r\n    @Test\r\n    public void testUpdate() {\r\n        ContactService cs = new ContactService();\r\n\r\n        Contact test1 = new Contact(&quot;1413252&quot;, &quot;Jane&quot;, &quot;Doe&quot;, &quot;4444444444&quot;);\r\n        Contact test2 = new Contact(&quot;1309403&quot;, &quot;Malleus&quot;, &quot;Draconia&quot;, &quot;2187123404&quot;);\r\n        Contact test3 = new Contact(&quot;9752319&quot;, &quot;Vil&quot;, &quot;Schoenheit&quot;, &quot;9215501793&quot;);\r\n\r\n        cs.addContact(test1);\r\n        cs.addContact(test2);\r\n        cs.addContact(test3);\r\n\r\n        assertEquals(true, cs.updateContact(&quot;9752319&quot;, &quot;VilFirst&quot;, &quot;SchoenheitLast&quot;, &quot;9215501793&quot;, &quot;Land of Proxynee&quot;));\r\n        assertEquals(false, cs.updateContact(&quot;9752322&quot;, &quot;VilFirst&quot;, &quot;SchoenheitLast&quot;, &quot;9215501793&quot;, &quot;Land of Proxynee&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"What needs to be updated to make the JUnit5 test successful?","body":"<p>I have created this Java project for my Computer Science course at SNHU and am getting tripped up and confused as to why I am getting these errors when running a JUnit5 test on the code. The errors that I am receiving when running the JUnit5 test are:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.opentest4j.AssertionFailedError: First name was not null. == &gt; expected: not &lt; null &gt; \n    at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java: 39)\n    at org.junit.jupiter.api.Assertions.fail(Assertions.java: 134)\n    at org.junit.jupiter.api.AssertNotNull.failNull(AssertNotNull.java: 47)\n    at org.junit.jupiter.api.AssertNotNull.assertNotNull(AssertNotNull.java: 36)\n    at org.junit.jupiter.api.Assertions.assertNotNull(Assertions.java: 308)\n    at module3.ContactTest.testContactFirstNameNotNull(ContactTest.java: 76)\n    at java.base / jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base / jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java: 64)\n    at java.base / jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java: 43)\n    at java.base / java.lang.reflect.Method.invoke(Method.java: 564)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java: 725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java: 60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java: 131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java: 149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java: 140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java: 84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java: 115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java: 105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java: 106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java: 64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java: 45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java: 37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java: 104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java: 98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java: 214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java: 73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java: 210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java: 135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java: 66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java: 151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java: 73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java: 141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java: 137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java: 139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java: 73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java: 138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java: 95)\n    at java.base / java.util.ArrayList.forEach(ArrayList.java: 1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java: 41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java: 155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java: 73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java: 141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java: 137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java: 139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java: 73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java: 138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java: 95)\n    at java.base / java.util.ArrayList.forEach(ArrayList.java: 1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java: 41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java: 155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java: 73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java: 141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java: 137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java: 139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java: 73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java: 138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java: 95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java: 35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java: 57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java: 54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java: 107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java: 88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java: 54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java: 67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java: 52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java: 114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java: 95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java: 91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java: 60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java: 98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java: 40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java: 529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java: 756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java: 452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java: 210)\n</code></pre>\n<p>I am running this project in Eclipse and it is up to date on software. Below are the instructions as well as the code for this assignment.</p>\n<p><strong>Instructions:</strong></p>\n<blockquote>\n<p>Overview</p>\n<p>As you have learned in Modules One and Two, various types of software\ntesting can be employed for a given situation. For this assignment,\nyou will be creating unit tests using code to uncover errors for a\nmobile application. You will develop the contact service and contact\nobject.</p>\n<p>Prompt</p>\n<p>For Project One, which is due in Module Six, you are asked to develop\na mobile application for a customer. The customer will provide you\nwith the requirements. Your job is to code the application and provide\nunit tests to verify that the application meets the customer’s\nrequirements. For this milestone, you will focus on delivering the\ncontact services. The purpose of these services is to add, update, and\ndelete contact objects within the application.</p>\n<p>The contact service uses in-memory data structures to support storing\ncontacts (no database required). In addition, there is no user\ninterface for this milestone. You will verify the contact service\nthrough JUnit tests. The contact service contains a contact object\nalong with the contact service. The requirements are outlined below.</p>\n<p>Contact Class Requirements</p>\n<ul>\n<li>The contact object shall have a required unique contact ID string that cannot be longer than 10 characters. The contact ID shall not be\nnull and shall not be updatable.</li>\n<li>The contact object shall have a required firstName String field that cannot be longer than 10 characters. The firstName field shall\nnot be null.</li>\n<li>The contact object shall have a required lastName String field that cannot be longer than 10 characters. The lastName field shall not be\nnull.</li>\n<li>The contact object shall have a required phone String field that must be exactly 10 digits. The phone field shall not be null.</li>\n<li>The contact object shall have a required address field that must be no longer than 30 characters. The address field shall not be null.</li>\n</ul>\n<p>Contact Service Requirements</p>\n<ul>\n<li>The contact service shall be able to add contacts with a unique ID.</li>\n<li>The contact service shall be able to delete contacts per contact ID.</li>\n<li>The contact service shall be able to delete contacts per contact ID.</li>\n<li>The contact service shall be able to update contact fields per contact ID. The following fields are updatable:</li>\n<li>firstName</li>\n<li>lastName</li>\n<li>Number</li>\n<li>Address</li>\n</ul>\n</blockquote>\n<p><strong>Contact.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>//Description: This is the contact class. It creates and stores contact information.\n\npackage module3;\n\npublic class Contact {\n\n    String contactID;\n    String firstName;\n    String lastName;\n    String phoneNumber;\n    String address;\n  \n    public Contact(String contactID, String firstName, String lastName, String phoneNumber) {\n        super();\n        this.contactID = contactID;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.phoneNumber = phoneNumber;\n        this.address = address;\n    }\n  \n    public String getContactID() {\n        return contactID;\n    }\n\n    public void setContactID(String contactID) {\n        this.contactID = contactID;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Contact [contactID=&quot; + contactID + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName\n               + &quot;, phoneNumber=&quot; + phoneNumber + &quot;, address=&quot; + address + &quot;]&quot;;\n    }\n  \n}\n</code></pre>\n<p><strong>ContactService.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>//Description: This is the contact service. It maintains a list of contacts and has capabilities\n//for adding and deleting contacts, as well as updating first name, last name, phone number, and address.\n\npackage module3;\n\nimport java.util.ArrayList;\n\npublic class ContactService {\n    //will contain our list of contacts\n\n    private ArrayList&lt;Contact&gt; contacts;\n\n    public ContactService() {\n        //beginning call for the array list\n        contacts = new ArrayList&lt;&gt;();\n    }\n\n    //need to have an add contact, remove contact and update contact feature\n    //set add contact to have all values\n    public boolean addContact(Contact contact) {\n        boolean contactAlready = false;\n        //run through all the contacts in the list made\n        for (Contact contactList : contacts) {\n            //test to see if already a contact\n            //if so make contactAlready true\n            if (contactList.equals(contact)) {\n                contactAlready = true;\n            }\n        }\n        //if not a contact add it as one\n        if (!contactAlready) {\n            contacts.add(contact);\n            //after adding is now true\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    //delete needed via contactID\n    public boolean deleteContact(String string) {\n        //run through list of contacts\n        for (Contact contactList : contacts) {\n            //if equals to contactID will remove and return\n            if (contactList.getContactID().equals(string)) {\n                //remove and return true\n                contacts.remove(contactList);\n                return true;\n            }\n        }\n        //else return false\n        return false;\n    }\n\n    //update is trickiest due to needing to make sure still fits parameters\n    //nothing means no change\n    public boolean updateContact(String contactID, String firstName, String lastName, String phoneNumber,\n            String address) {\n        //run through loop again\n        for (Contact contactList : contacts) {\n            //if contactID matches, run through each with making sure not &quot;&quot; and meets requirements\n            //then return true as it did equal update.\n            if (contactList.getContactID().equals(contactID)) {\n                if (!firstName.equals(&quot;&quot;) &amp;&amp; !(firstName.length() &gt; 10)) {\n                    contactList.setFirstName(firstName);\n                }\n                if (!lastName.equals(&quot;&quot;) &amp;&amp; !(lastName.length() &gt; 10)) {\n                    contactList.setFirstName(lastName);\n                }\n                if (!phoneNumber.equals(&quot;&quot;) &amp;&amp; (phoneNumber.length() == 10)) {\n                    contactList.setFirstName(phoneNumber);\n                }\n                if (!address.equals(&quot;&quot;) &amp;&amp; !(address.length() &gt; 30)) {\n                    contactList.setFirstName(address);\n                }\n                return true;\n            }\n        }\n        //else return false\n        return false;\n    }\n}\n</code></pre>\n<p><strong>ContactTest.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>//Description: This is the unit tests for the contact class (ContactTest).\n\npackage module3;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.DisplayName;\nimport static org.junit.jupiter.api.Assertions.*;\n\npublic class ContactTest {\n    /*\n     * The following tests exercise the Contact class.\n     * The first 5 tests to make sure the field does not become longer than the constraint\n     * (10 characters for first and last name, exactly 10 characters for phone number,\n     * and 30 characters for the address).\n     * The last 4 tests ensure that each field is not null.\n     * ContactID is not tested for being not null because there isn't a way to create\n     * a contact with a null contactID. Likewise it is not tested for being non-updateable\n     * because there is no way to update it.\n     */\n    @Test\n    @DisplayName(&quot;Contact ID cannot have more than 10 characters&quot;)\n    void testContactIDWithMoreThanTenCharacters() {\n        Contact contact = new Contact(&quot;FirstName&quot;, &quot;LastName&quot;, &quot;PhoneNumbr&quot;, &quot;Address&quot;);\n        if (contact.getContactID().length() &gt; 10) {\n            fail(&quot;Contact ID has more than 10 characters.&quot;);\n        }\n    }\n\n    @Test\n    @DisplayName(&quot;Contact First Name cannot have more than 10 characters&quot;)\n    void testContactFirstNameWithMoreThanTenCharacters() {\n        Contact contact = new Contact(&quot;OllyOllyOxenFree&quot;, &quot;LastName&quot;, &quot;PhoneNumbr&quot;, &quot;Address&quot;);\n        if (contact.getFirstName().length() &gt; 10) {\n            fail(&quot;First Name has more than 10 characters.&quot;);\n        }\n    }\n\n    @Test\n    @DisplayName(&quot;Contact Last Name cannot have more than 10 characters&quot;)\n    void testContactLastNameWithMoreThanTenCharacters() {\n        Contact contact = new Contact(&quot;FirstName&quot;, &quot;OllyOllyOxenFree&quot;, &quot;PhoneNumbr&quot;, &quot;Address&quot;);\n        if (contact.getLastName().length() &gt; 10) {\n            fail(&quot;Last Name has more than 10 characters.&quot;);\n        }\n    }\n\n    @Test\n    @DisplayName(&quot;Contact phone number is exactly 10 characters&quot;)\n    void testContactNumberWithMoreThanTenCharacters() {\n        Contact contact = new Contact(&quot;FirstName&quot;, &quot;LastName&quot;, &quot;55555555555&quot;, &quot;Address&quot;);\n        if (contact.getPhoneNumber().length() != 10) {\n            fail(&quot;Phone number length does not equal 10.&quot;);\n        }\n    }\n\n    @Test\n    @DisplayName(&quot;Contact address cannot have more than 30 characters&quot;)\n    void testContactAddressWithMoreThanThirtyCharacters() {\n        Contact contact = new Contact(&quot;FirstName&quot;, &quot;LastName&quot;, &quot;PhoneNumbr&quot;, &quot;123456789 is nine characters long&quot;\n                + &quot;123456789 is another nine characters long&quot;);\n        if (contact.getAddress().length() &gt; 30) {\n            fail(&quot;Address has more than 30 characters.&quot;);\n        }\n    }\n\n    @Test\n    @DisplayName(&quot;Contact First Name shall not be null&quot;)\n    void testContactFirstNameNotNull() {\n        Contact contact = new Contact(null, null, null, null);\n        assertNotNull(contact.getFirstName(), &quot;First name was not null.&quot;);\n    }\n\n    @Test\n    @DisplayName(&quot;Contact Last Name shall not be null&quot;)\n    void testContactLastNameNotNull() {\n        Contact contact = new Contact(null, null, null, null);\n        assertNotNull(contact.getLastName(), &quot;Last name was null.&quot;);\n    }\n\n    @Test\n    @DisplayName(&quot;Contact Phone Number shall not be null&quot;)\n    void testContactPhoneNotNull() {\n        Contact contact = new Contact(&quot;FirstName&quot;, &quot;LastName&quot;, null, &quot;Address&quot;);\n        assertNotNull(contact.getPhoneNumber(), &quot;Phone number was null.&quot;);\n    }\n\n    @Test\n    @DisplayName(&quot;Contact Address shall not be null&quot;)\n    void testContactAddressNotNull() {\n        Contact contact = new Contact(null, null, null, null);\n        assertNotNull(contact.getAddress(), &quot;Address was null.&quot;);\n    }\n}\n</code></pre>\n<p><strong>ContactServiceTest.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>//Description: This is the unit tests for the contact service (ContactServiceTest)\n\npackage module3;\n\nimport static org.junit.Assert.assertEquals;\n\nimport org.junit.Test;\n\npublic class ContactServiceTest {\n\n    //need to test add, delete and update\n    //templates\n    /*\n    * Contact(&quot;1413252&quot;, &quot;Jane&quot;, &quot;Doe&quot;, &quot;4444444444&quot;, &quot;Sample 24 Drive&quot;);\n    Contact(&quot;1309403&quot;, &quot;Malleus&quot;, &quot;Draconia&quot;, &quot;2187123404&quot;, &quot;Valley of Thorns&quot;);\n    Contact(&quot;9752319&quot;, &quot;Vil&quot;, &quot;Schoenheit&quot;, &quot;9215501793&quot;, &quot;Land of Proxynee&quot;);\n    */\n\n    @Test\n    public void testAdd() {\n        ContactService cs = new ContactService();\n        Contact test1 = new Contact(&quot;1413252&quot;, &quot;Jane&quot;, &quot;Doe&quot;, &quot;4444444444&quot;);\n        assertEquals(true, cs.addContact(test1));\n    }\n\n    @Test\n    public void testDelete() {\n        ContactService cs = new ContactService();\n\n        Contact test1 = new Contact(&quot;1413252&quot;, &quot;Jane&quot;, &quot;Doe&quot;, &quot;4444444444&quot;);\n        Contact test2 = new Contact(&quot;1309403&quot;, &quot;Malleus&quot;, &quot;Draconia&quot;, &quot;2187123404&quot;);\n        Contact test3 = new Contact(&quot;9752319&quot;, &quot;Vil&quot;, &quot;Schoenheit&quot;, &quot;9215501793&quot;);\n\n        cs.addContact(test1);\n        cs.addContact(test2);\n        cs.addContact(test3);\n\n        assertEquals(true, cs.deleteContact(&quot;1309403&quot;));\n        assertEquals(false, cs.deleteContact(&quot;1309404&quot;));\n        assertEquals(false, cs.deleteContact(&quot;1309403&quot;));\n    }\n\n    @Test\n    public void testUpdate() {\n        ContactService cs = new ContactService();\n\n        Contact test1 = new Contact(&quot;1413252&quot;, &quot;Jane&quot;, &quot;Doe&quot;, &quot;4444444444&quot;);\n        Contact test2 = new Contact(&quot;1309403&quot;, &quot;Malleus&quot;, &quot;Draconia&quot;, &quot;2187123404&quot;);\n        Contact test3 = new Contact(&quot;9752319&quot;, &quot;Vil&quot;, &quot;Schoenheit&quot;, &quot;9215501793&quot;);\n\n        cs.addContact(test1);\n        cs.addContact(test2);\n        cs.addContact(test3);\n\n        assertEquals(true, cs.updateContact(&quot;9752319&quot;, &quot;VilFirst&quot;, &quot;SchoenheitLast&quot;, &quot;9215501793&quot;, &quot;Land of Proxynee&quot;));\n        assertEquals(false, cs.updateContact(&quot;9752322&quot;, &quot;VilFirst&quot;, &quot;SchoenheitLast&quot;, &quot;9215501793&quot;, &quot;Land of Proxynee&quot;));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","docker","maven"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1666370061,"post_id":74154440,"comment_id":130928813,"body_markdown":"It seems like there&#39;s some sort of bug in your build process where it&#39;s incorrectly depending on an external database to produce a `.jar` file.  You can&#39;t access other services from within a Dockerfile, and getting a different `.jar` depending on the contents of one specific database seems like it&#39;s not going to get reproducible results.","body":"It seems like there&#39;s some sort of bug in your build process where it&#39;s incorrectly depending on an external database to produce a <code>.jar</code> file.  You can&#39;t access other services from within a Dockerfile, and getting a different <code>.jar</code> depending on the contents of one specific database seems like it&#39;s not going to get reproducible results."},{"owner":{"account_id":22712634,"reputation":334,"user_id":16878379,"display_name":"Louis Chopard"},"score":0,"creation_date":1666592720,"post_id":74154440,"comment_id":130964987,"body_markdown":"@DavidMaze do you know any alternative to help me? I didn&#39;t find any.","body":"@DavidMaze do you know any alternative to help me? I didn&#39;t find any."}],"owner":{"account_id":22712634,"reputation":334,"user_id":16878379,"display_name":"Louis Chopard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666359567,"creation_date":1666359127,"question_id":74154440,"body_markdown":"I have a backend that runs on Spring and I had to create a Docker container. \r\n\r\nTo do this, I created a `.jar` file using Maven by running this `mvn package` then I did the `docker run build` command to create my container.\r\n\r\nHere is the first content of my DockerFile.\r\n\r\n```\r\nFROM openjdk:17-jdk-alpine\r\nCOPY target/dwh_webservices-0.0.1-SNAPSHOT.jar app.jar\r\nEXPOSE 443\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\r\n```\r\n\r\nI want to point out that my Container is perfectly functional with this first method.\r\n\r\nHowever, it&#39;s a pain to have to run the command every time. Moreover, I would like to make pipelines and automate the creation of the `.JAR` with Maven. So I decided to integrate the creation of the `.JAR` in the Dockerfile.\r\n\r\nFor that, I followed [this][1] question that explains the Multi-stage and I created this Dockerfile :\r\n\r\n```\r\n#\r\n# Build stage\r\n#\r\nFROM maven:3.8.3-openjdk-17 as build\r\nCOPY src /home/app/src\r\nCOPY pom.xml /home/app\r\nRUN mvn -f /home/app/pom.xml clean package\r\n\r\n#\r\n# Package stage\r\n#\r\nFROM openjdk:17-jdk-alpine\r\nCOPY --from=build /home/app/target/dwh_webservices-0.0.1-SNAPSHOT.jar /usr/local/lib/app.jar\r\nEXPOSE 443\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\r\n```\r\n\r\nAnd when I run it, I have this error that appears:\r\n\r\n```\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host BACKENDSERV, port 1433 has failed. Error: &quot;BACKENDSERV Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.\r\n```\r\n\r\nSince it&#39;s the exact same source code plus the fact that the first `.jar` is working, then it should also work. Why, when using the second method, does the application fail to access the host? \r\n\r\nWhat causes this change? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27767264/how-to-dockerize-maven-project-and-how-many-ways-to-accomplish-it","title":"Why does my backend fail to access to the SQL server when I do a multi-stage builds on Docker?","body":"<p>I have a backend that runs on Spring and I had to create a Docker container.</p>\n<p>To do this, I created a <code>.jar</code> file using Maven by running this <code>mvn package</code> then I did the <code>docker run build</code> command to create my container.</p>\n<p>Here is the first content of my DockerFile.</p>\n<pre><code>FROM openjdk:17-jdk-alpine\nCOPY target/dwh_webservices-0.0.1-SNAPSHOT.jar app.jar\nEXPOSE 443\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\n</code></pre>\n<p>I want to point out that my Container is perfectly functional with this first method.</p>\n<p>However, it's a pain to have to run the command every time. Moreover, I would like to make pipelines and automate the creation of the <code>.JAR</code> with Maven. So I decided to integrate the creation of the <code>.JAR</code> in the Dockerfile.</p>\n<p>For that, I followed <a href=\"https://stackoverflow.com/questions/27767264/how-to-dockerize-maven-project-and-how-many-ways-to-accomplish-it\">this</a> question that explains the Multi-stage and I created this Dockerfile :</p>\n<pre><code>#\n# Build stage\n#\nFROM maven:3.8.3-openjdk-17 as build\nCOPY src /home/app/src\nCOPY pom.xml /home/app\nRUN mvn -f /home/app/pom.xml clean package\n\n#\n# Package stage\n#\nFROM openjdk:17-jdk-alpine\nCOPY --from=build /home/app/target/dwh_webservices-0.0.1-SNAPSHOT.jar /usr/local/lib/app.jar\nEXPOSE 443\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\n</code></pre>\n<p>And when I run it, I have this error that appears:</p>\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host BACKENDSERV, port 1433 has failed. Error: &quot;BACKENDSERV Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.\n</code></pre>\n<p>Since it's the exact same source code plus the fact that the first <code>.jar</code> is working, then it should also work. Why, when using the second method, does the application fail to access the host?</p>\n<p>What causes this change?</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1641781822,"post_id":70645254,"comment_id":124888696,"body_markdown":"In which method exactly is the error coming up from? It should be visible in the stack trace.","body":"In which method exactly is the error coming up from? It should be visible in the stack trace."}],"answers":[{"tags":[],"owner":{"account_id":19323802,"reputation":65,"user_id":14126932,"display_name":"Muhammad Adnan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641793270,"creation_date":1641793270,"answer_id":70648226,"question_id":70645254,"body_markdown":"As the error says ImageButton can&#39;t be cast to CardView. You are trying to get the image view button as cardview  in your OriginalViewHolder class where you initialising the views using findViewById please check you xml id&#39;s accordingly.","title":"androidx.appcompat.widget.AppCompatImageButton cannot be cast to androidx.cardview.widget.CardView","body":"<p>As the error says ImageButton can't be cast to CardView. You are trying to get the image view button as cardview  in your OriginalViewHolder class where you initialising the views using findViewById please check you xml id's accordingly.</p>\n"},{"tags":[],"owner":{"account_id":24059060,"reputation":1,"user_id":18036530,"display_name":"Aditya Simant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666359326,"creation_date":1666359326,"answer_id":74154476,"question_id":70645254,"body_markdown":"I got the same error, I later realized that I was initializing a Button in viewHolder but it was actually an ImageView. Make sure you check you xml file and and initialize\r\nthe views accordingly.  ","title":"androidx.appcompat.widget.AppCompatImageButton cannot be cast to androidx.cardview.widget.CardView","body":"<p>I got the same error, I later realized that I was initializing a Button in viewHolder but it was actually an ImageView. Make sure you check you xml file and and initialize\nthe views accordingly.</p>\n"}],"owner":{"account_id":17974099,"reputation":19,"user_id":13062141,"display_name":"Fiorella Gamarra Aguado"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666359326,"creation_date":1641760269,"question_id":70645254,"body_markdown":"I have a problem with an adapter on Android, I get the following error:\r\n\r\n     java.lang.ClassCastException: androidx.appcompat.widget.AppCompatImageButton cannot be cast to androidx.cardview.widget.CardView\r\n\r\n**My java file is:**\r\n\r\n    package com.mastersuaw.cuevana3premium.adapters;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.content.Context;\r\n    import android.content.res.Resources;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    import androidx.cardview.widget.CardView;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.mastersuaw.cuevana3premium.R;\r\n    import com.mastersuaw.cuevana3premium.models.NavigationModel;\r\n    import java.util.List;\r\n    \r\n    public class NavigationAdapter extends RecyclerView.Adapter&lt;NavigationAdapter.OriginalViewHolder&gt; {\r\n      final private Context ctx;\r\n      \r\n      final private List&lt;NavigationModel&gt; items;\r\n      \r\n      private OnItemClickListener mOnItemClickListener;\r\n      \r\n      final private String menuStyle;\r\n      \r\n      OriginalViewHolder viewHolder;\r\n      \r\n      public NavigationAdapter(Context paramContext, List&lt;NavigationModel&gt; paramList, String paramString) {\r\n        this.items = paramList;\r\n        this.ctx = paramContext;\r\n        this.menuStyle = paramString;\r\n      }\r\n      \r\n      public static int getImageId(Context paramContext, String paramString) {\r\n        Resources resources = paramContext.getResources();\r\n        String stringBuilder = &quot;drawable/&quot; +\r\n                paramString;\r\n        return resources.getIdentifier(stringBuilder, null, paramContext.getPackageName());\r\n      }\r\n    \r\n      public void chanColor(OriginalViewHolder paramOriginalViewHolder, int paramInt1, int paramInt2) {\r\n        if (paramInt1 != 0)\r\n          if (this.menuStyle.equals(&quot;grid&quot;)) {\r\n            this.viewHolder.cardView.setCardBackgroundColor(this.ctx.getResources().getColor(paramInt2));\r\n            this.viewHolder.name.setTextColor(this.ctx.getResources().getColor(R.color.grey_60));\r\n          } else {\r\n            this.viewHolder.name.setTextColor(this.ctx.getResources().getColor(R.color.default_text));\r\n            this.viewHolder.selectedLayout.setBackgroundColor(this.ctx.getResources().getColor(R.color.white));\r\n          }  \r\n        if (paramOriginalViewHolder != null)\r\n          if (this.menuStyle.equals(&quot;grid&quot;)) {\r\n            paramOriginalViewHolder.cardView.setCardBackgroundColor(this.ctx.getResources().getColor(paramInt2));\r\n            paramOriginalViewHolder.name.setTextColor(this.ctx.getResources().getColor(R.color.grey_60));\r\n          } else {\r\n            paramOriginalViewHolder.name.setTextColor(this.ctx.getResources().getColor(R.color.default_text));\r\n            paramOriginalViewHolder.selectedLayout.setBackgroundColor(this.ctx.getResources().getColor(R.color.white));\r\n          }  \r\n      }\r\n      \r\n      public int getItemCount() {\r\n        return this.items.size();\r\n      }\r\n    \r\n      public void onBindViewHolder(final OriginalViewHolder holder, final int position) {\r\n        NavigationModel navigationModel = this.items.get(position);\r\n        if (position == 0) {\r\n    \r\n          this.viewHolder = holder;\r\n    \r\n          if (this.menuStyle.equals(&quot;grid&quot;)) {\r\n            holder.cardView.setCardBackgroundColor(this.ctx.getResources().getColor(R.color.colorPrimary));\r\n            holder.name.setTextColor(this.ctx.getResources().getColor(R.color.white));\r\n          } else {\r\n            holder.selectedLayout.setBackground(this.ctx.getResources().getDrawable(R.drawable.round_grey_transparent));holder.name.setTextColor(this.ctx.getResources().getColor(R.color.colorPrimary));\r\n          }\r\n        } \r\n        holder.name.setText(navigationModel.getTitle());\r\n        holder.image.setImageResource(getImageId(this.ctx, navigationModel.getImg()));\r\n        if (this.menuStyle.equals(&quot;grid&quot;)) {\r\n          holder.cardView.setOnClickListener(param1View -&gt; {\r\n            if (NavigationAdapter.this.mOnItemClickListener != null)\r\n              NavigationAdapter.this.mOnItemClickListener.onItemClick(param1View, NavigationAdapter.this.items.get(position), position, holder);\r\n          });\r\n        } else {\r\n          holder.itemLayout.setOnClickListener(param1View -&gt; {\r\n            if (NavigationAdapter.this.mOnItemClickListener != null)\r\n              NavigationAdapter.this.mOnItemClickListener.onItemClick(param1View, NavigationAdapter.this.items.get(position), position, holder);\r\n          });\r\n        } \r\n      }\r\n    \r\n    \r\n      @Override\r\n      public OriginalViewHolder onCreateViewHolder(ViewGroup paramViewGroup, int paramInt) {\r\n        View view = null;\r\n        if (this.menuStyle.equals(&quot;grid&quot;)) {\r\n          view = LayoutInflater.from(paramViewGroup.getContext()).inflate(R.layout.card_nav_view, paramViewGroup, false);\r\n        } else {\r\n          view = LayoutInflater.from(view.getContext()).inflate(R.layout.card_nav_view, (ViewGroup)view, false);\r\n        } \r\n        return new OriginalViewHolder(view);\r\n      }\r\n      \r\n      public void setOnItemClickListener(OnItemClickListener paramOnItemClickListener) {\r\n        this.mOnItemClickListener = paramOnItemClickListener;\r\n      }\r\n      \r\n      public interface OnItemClickListener {\r\n        void onItemClick(View param1View, NavigationModel param1NavigationModel, int param1Int, OriginalViewHolder param1OriginalViewHolder);\r\n      }\r\n      public class OriginalViewHolder extends RecyclerView.ViewHolder {\r\n        public CardView cardView;\r\n        \r\n        public ImageView image;\r\n        \r\n        public LinearLayout itemLayout;\r\n        \r\n        public TextView name;\r\n        \r\n        public LinearLayout selectedLayout;\r\n    \r\n        public OriginalViewHolder(View param1View) {\r\n          super(param1View);\r\n          this.image = param1View.findViewById(R.id.image);\r\n          this.name = param1View.findViewById(R.id.name);\r\n    \r\n          if (NavigationAdapter.this.menuStyle.equals(&quot;grid&quot;)) {\r\n    \r\n            cardView = param1View.findViewById(R.id.card_view_home);\r\n          } else {\r\n            this.itemLayout = param1View.findViewById(R.id.item_layout);\r\n            this.selectedLayout = param1View.findViewById(R.id.selected_layout);\r\n          }\r\n    \r\n        }\r\n      }\r\n    }\r\n\r\n**And my res is:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.cardview.widget.CardView\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@id/card_view_home&quot;\r\n        android:layout_width=&quot;90.0dip&quot;\r\n        android:layout_height=&quot;70.0dip&quot;\r\n        android:layout_margin=&quot;10.0dip&quot;\r\n        android:padding=&quot;10.0dip&quot;\r\n        app:cardElevation=&quot;4.0dip&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;fill_parent&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/image&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@id/name&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:textAppearance=&quot;@style/TextAppearance.Medium.Bold&quot;\r\n                android:textColor=&quot;@color/grey_60&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\nI don&#39;t know why this is happening to me, let&#39;s see if someone can help me out, thank you!\r\n\r\nPD:\r\n\r\nI am trying to make a list of cards with images and text and it is rare that I get this error, I do not know how to correct it, thank you very much.","title":"androidx.appcompat.widget.AppCompatImageButton cannot be cast to androidx.cardview.widget.CardView","body":"<p>I have a problem with an adapter on Android, I get the following error:</p>\n<pre><code> java.lang.ClassCastException: androidx.appcompat.widget.AppCompatImageButton cannot be cast to androidx.cardview.widget.CardView\n</code></pre>\n<p><strong>My java file is:</strong></p>\n<pre><code>package com.mastersuaw.cuevana3premium.adapters;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.res.Resources;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport androidx.cardview.widget.CardView;\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.mastersuaw.cuevana3premium.R;\nimport com.mastersuaw.cuevana3premium.models.NavigationModel;\nimport java.util.List;\n\npublic class NavigationAdapter extends RecyclerView.Adapter&lt;NavigationAdapter.OriginalViewHolder&gt; {\n  final private Context ctx;\n  \n  final private List&lt;NavigationModel&gt; items;\n  \n  private OnItemClickListener mOnItemClickListener;\n  \n  final private String menuStyle;\n  \n  OriginalViewHolder viewHolder;\n  \n  public NavigationAdapter(Context paramContext, List&lt;NavigationModel&gt; paramList, String paramString) {\n    this.items = paramList;\n    this.ctx = paramContext;\n    this.menuStyle = paramString;\n  }\n  \n  public static int getImageId(Context paramContext, String paramString) {\n    Resources resources = paramContext.getResources();\n    String stringBuilder = &quot;drawable/&quot; +\n            paramString;\n    return resources.getIdentifier(stringBuilder, null, paramContext.getPackageName());\n  }\n\n  public void chanColor(OriginalViewHolder paramOriginalViewHolder, int paramInt1, int paramInt2) {\n    if (paramInt1 != 0)\n      if (this.menuStyle.equals(&quot;grid&quot;)) {\n        this.viewHolder.cardView.setCardBackgroundColor(this.ctx.getResources().getColor(paramInt2));\n        this.viewHolder.name.setTextColor(this.ctx.getResources().getColor(R.color.grey_60));\n      } else {\n        this.viewHolder.name.setTextColor(this.ctx.getResources().getColor(R.color.default_text));\n        this.viewHolder.selectedLayout.setBackgroundColor(this.ctx.getResources().getColor(R.color.white));\n      }  \n    if (paramOriginalViewHolder != null)\n      if (this.menuStyle.equals(&quot;grid&quot;)) {\n        paramOriginalViewHolder.cardView.setCardBackgroundColor(this.ctx.getResources().getColor(paramInt2));\n        paramOriginalViewHolder.name.setTextColor(this.ctx.getResources().getColor(R.color.grey_60));\n      } else {\n        paramOriginalViewHolder.name.setTextColor(this.ctx.getResources().getColor(R.color.default_text));\n        paramOriginalViewHolder.selectedLayout.setBackgroundColor(this.ctx.getResources().getColor(R.color.white));\n      }  \n  }\n  \n  public int getItemCount() {\n    return this.items.size();\n  }\n\n  public void onBindViewHolder(final OriginalViewHolder holder, final int position) {\n    NavigationModel navigationModel = this.items.get(position);\n    if (position == 0) {\n\n      this.viewHolder = holder;\n\n      if (this.menuStyle.equals(&quot;grid&quot;)) {\n        holder.cardView.setCardBackgroundColor(this.ctx.getResources().getColor(R.color.colorPrimary));\n        holder.name.setTextColor(this.ctx.getResources().getColor(R.color.white));\n      } else {\n        holder.selectedLayout.setBackground(this.ctx.getResources().getDrawable(R.drawable.round_grey_transparent));holder.name.setTextColor(this.ctx.getResources().getColor(R.color.colorPrimary));\n      }\n    } \n    holder.name.setText(navigationModel.getTitle());\n    holder.image.setImageResource(getImageId(this.ctx, navigationModel.getImg()));\n    if (this.menuStyle.equals(&quot;grid&quot;)) {\n      holder.cardView.setOnClickListener(param1View -&gt; {\n        if (NavigationAdapter.this.mOnItemClickListener != null)\n          NavigationAdapter.this.mOnItemClickListener.onItemClick(param1View, NavigationAdapter.this.items.get(position), position, holder);\n      });\n    } else {\n      holder.itemLayout.setOnClickListener(param1View -&gt; {\n        if (NavigationAdapter.this.mOnItemClickListener != null)\n          NavigationAdapter.this.mOnItemClickListener.onItemClick(param1View, NavigationAdapter.this.items.get(position), position, holder);\n      });\n    } \n  }\n\n\n  @Override\n  public OriginalViewHolder onCreateViewHolder(ViewGroup paramViewGroup, int paramInt) {\n    View view = null;\n    if (this.menuStyle.equals(&quot;grid&quot;)) {\n      view = LayoutInflater.from(paramViewGroup.getContext()).inflate(R.layout.card_nav_view, paramViewGroup, false);\n    } else {\n      view = LayoutInflater.from(view.getContext()).inflate(R.layout.card_nav_view, (ViewGroup)view, false);\n    } \n    return new OriginalViewHolder(view);\n  }\n  \n  public void setOnItemClickListener(OnItemClickListener paramOnItemClickListener) {\n    this.mOnItemClickListener = paramOnItemClickListener;\n  }\n  \n  public interface OnItemClickListener {\n    void onItemClick(View param1View, NavigationModel param1NavigationModel, int param1Int, OriginalViewHolder param1OriginalViewHolder);\n  }\n  public class OriginalViewHolder extends RecyclerView.ViewHolder {\n    public CardView cardView;\n    \n    public ImageView image;\n    \n    public LinearLayout itemLayout;\n    \n    public TextView name;\n    \n    public LinearLayout selectedLayout;\n\n    public OriginalViewHolder(View param1View) {\n      super(param1View);\n      this.image = param1View.findViewById(R.id.image);\n      this.name = param1View.findViewById(R.id.name);\n\n      if (NavigationAdapter.this.menuStyle.equals(&quot;grid&quot;)) {\n\n        cardView = param1View.findViewById(R.id.card_view_home);\n      } else {\n        this.itemLayout = param1View.findViewById(R.id.item_layout);\n        this.selectedLayout = param1View.findViewById(R.id.selected_layout);\n      }\n\n    }\n  }\n}\n</code></pre>\n<p><strong>And my res is:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@id/card_view_home&quot;\n    android:layout_width=&quot;90.0dip&quot;\n    android:layout_height=&quot;70.0dip&quot;\n    android:layout_margin=&quot;10.0dip&quot;\n    android:padding=&quot;10.0dip&quot;\n    app:cardElevation=&quot;4.0dip&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;fill_parent&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/image&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@id/name&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:textAppearance=&quot;@style/TextAppearance.Medium.Bold&quot;\n            android:textColor=&quot;@color/grey_60&quot; /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>I don't know why this is happening to me, let's see if someone can help me out, thank you!</p>\n<p>PD:</p>\n<p>I am trying to make a list of cards with images and text and it is rare that I get this error, I do not know how to correct it, thank you very much.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3480291,"reputation":1807,"user_id":2912553,"accept_rate":60,"display_name":"momvart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590832658,"creation_date":1590831778,"answer_id":62100641,"question_id":61545861,"body_markdown":"If you want to put files directly in your app package you should put them in the `assets` or the `raw` resource folder ([here][1] is a question for comparison).\r\nThen you can access them by [`AssetManager`][2] or [`Resources.openRawResource()`][3] or using an appropriate Uri.\r\n\r\nI don&#39;t know whether or not the `readNetFromDarknet` can accept `InputStream`s.\r\n\r\n - If true, the you can use `AssetManager.open(&quot;dnns/yolov3-tiny.cfg&quot;)` or `Resources.openRawResource(your_resource_id)` to get the stream.\r\n\r\n - If not, if it accepts Uri as input you can use `file:///android_asset/dnns/yolov3-tiny.cfg` or \r\n`android.resource://[package]/[res type]/[res name]` (based on [this][4]) to locate the files.\r\n - If non of those, you can copy them to your app files directory and then give the path to the function.\r\n\r\nIf you don&#39;t know how to put files in assets folder check [this][5].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9563373/when-should-i-use-the-assets-as-opposed-to-raw-resources-in-android\r\n  [2]: https://developer.android.com/reference/android/content/res/AssetManager\r\n  [3]: https://developer.android.com/reference/android/content/res/Resources#openRawResource(int)\r\n  [4]: https://stackoverflow.com/a/7979084/2912553\r\n  [5]: https://stackoverflow.com/questions/18302603/where-to-place-the-assets-folder-in-android-studio","title":"How can I use the files in the project files?","body":"<p>If you want to put files directly in your app package you should put them in the <code>assets</code> or the <code>raw</code> resource folder (<a href=\"https://stackoverflow.com/questions/9563373/when-should-i-use-the-assets-as-opposed-to-raw-resources-in-android\">here</a> is a question for comparison).\nThen you can access them by <a href=\"https://developer.android.com/reference/android/content/res/AssetManager\" rel=\"nofollow noreferrer\"><code>AssetManager</code></a> or <a href=\"https://developer.android.com/reference/android/content/res/Resources#openRawResource(int)\" rel=\"nofollow noreferrer\"><code>Resources.openRawResource()</code></a> or using an appropriate Uri.</p>\n\n<p>I don't know whether or not the <code>readNetFromDarknet</code> can accept <code>InputStream</code>s.</p>\n\n<ul>\n<li><p>If true, the you can use <code>AssetManager.open(\"dnns/yolov3-tiny.cfg\")</code> or <code>Resources.openRawResource(your_resource_id)</code> to get the stream.</p></li>\n<li><p>If not, if it accepts Uri as input you can use <code>file:///android_asset/dnns/yolov3-tiny.cfg</code> or \n<code>android.resource://[package]/[res type]/[res name]</code> (based on <a href=\"https://stackoverflow.com/a/7979084/2912553\">this</a>) to locate the files.</p></li>\n<li>If non of those, you can copy them to your app files directory and then give the path to the function.</li>\n</ul>\n\n<p>If you don't know how to put files in assets folder check <a href=\"https://stackoverflow.com/questions/18302603/where-to-place-the-assets-folder-in-android-studio\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":18567543,"reputation":1,"user_id":13530093,"display_name":"ThePhoenix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617018188,"creation_date":1617018188,"answer_id":66853600,"question_id":61545861,"body_markdown":"I had the same exact issue, what I did to fix this was I added the files in the asset folder, then I created two files and copied the content of the asset folder files there. make sure to use this path:\r\n\r\n    applicationContext.filesDir.absolutePath\r\nand create your files there!","title":"How can I use the files in the project files?","body":"<p>I had the same exact issue, what I did to fix this was I added the files in the asset folder, then I created two files and copied the content of the asset folder files there. make sure to use this path:</p>\n<pre><code>applicationContext.filesDir.absolutePath\n</code></pre>\n<p>and create your files there!</p>\n"},{"tags":[],"owner":{"account_id":24989147,"reputation":1,"user_id":18850562,"display_name":"alayan2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666359284,"creation_date":1666359090,"answer_id":74154435,"question_id":61545861,"body_markdown":"I ran into this issue and found a solution in this [pytorch repo](https://github.com/pytorch/android-demo-app/blob/master/ObjectDetection/app/src/main/java/org/pytorch/demo/objectdetection/MainActivity.java\r\n): \r\n\r\nJava:\r\n\r\n        public static String assetFilePath(Context context, String assetName) throws IOException {\r\n        File file = new File(context.getFilesDir(), assetName);\r\n        if (file.exists() &amp;&amp; file.length() &gt; 0) {\r\n            return file.getAbsolutePath();\r\n        }\r\n\r\n        try (InputStream is = context.getAssets().open(assetName)) {\r\n            try (OutputStream os = new FileOutputStream(file)) {\r\n                byte[] buffer = new byte[4 * 1024];\r\n                int read;\r\n                while ((read = is.read(buffer)) != -1) {\r\n                    os.write(buffer, 0, read);\r\n                }\r\n                os.flush();\r\n            }\r\n            return file.getAbsolutePath();\r\n        }\r\n    }\r\n\r\nKotlin:\r\n\r\n    @Throws(IOException::class)\r\n    fun assetFilePath(context: Context, assetName: String?): String? {\r\n        val file = File(context.filesDir, assetName)\r\n        if (file.exists() &amp;&amp; file.length() &gt; 0) {\r\n            return file.absolutePath\r\n        }\r\n        context.assets.open(assetName!!).use { `is` -&gt;\r\n            FileOutputStream(file).use { os -&gt;\r\n                val buffer = ByteArray(4 * 1024)\r\n                var read: Int\r\n                while (`is`.read(buffer).also { read = it } != -1) {\r\n                    os.write(buffer, 0, read)\r\n                }\r\n                os.flush()\r\n            }\r\n            return file.absolutePath\r\n        }\r\n    }\r\n\r\nI set my yoloConfigPath = assetFilePath(applicationContext, &quot;yolov4.cfg&quot;) and yoloWeights = assetFilePath(applicationContext, &quot;yolov4.weights&quot;) and that did the trick. \r\n\r\n\r\n","title":"How can I use the files in the project files?","body":"<p>I ran into this issue and found a solution in this <a href=\"https://github.com/pytorch/android-demo-app/blob/master/ObjectDetection/app/src/main/java/org/pytorch/demo/objectdetection/MainActivity.java\" rel=\"nofollow noreferrer\">pytorch repo</a>:</p>\n<p>Java:</p>\n<pre><code>    public static String assetFilePath(Context context, String assetName) throws IOException {\n    File file = new File(context.getFilesDir(), assetName);\n    if (file.exists() &amp;&amp; file.length() &gt; 0) {\n        return file.getAbsolutePath();\n    }\n\n    try (InputStream is = context.getAssets().open(assetName)) {\n        try (OutputStream os = new FileOutputStream(file)) {\n            byte[] buffer = new byte[4 * 1024];\n            int read;\n            while ((read = is.read(buffer)) != -1) {\n                os.write(buffer, 0, read);\n            }\n            os.flush();\n        }\n        return file.getAbsolutePath();\n    }\n}\n</code></pre>\n<p>Kotlin:</p>\n<pre><code>@Throws(IOException::class)\nfun assetFilePath(context: Context, assetName: String?): String? {\n    val file = File(context.filesDir, assetName)\n    if (file.exists() &amp;&amp; file.length() &gt; 0) {\n        return file.absolutePath\n    }\n    context.assets.open(assetName!!).use { `is` -&gt;\n        FileOutputStream(file).use { os -&gt;\n            val buffer = ByteArray(4 * 1024)\n            var read: Int\n            while (`is`.read(buffer).also { read = it } != -1) {\n                os.write(buffer, 0, read)\n            }\n            os.flush()\n        }\n        return file.absolutePath\n    }\n}\n</code></pre>\n<p>I set my yoloConfigPath = assetFilePath(applicationContext, &quot;yolov4.cfg&quot;) and yoloWeights = assetFilePath(applicationContext, &quot;yolov4.weights&quot;) and that did the trick.</p>\n"}],"owner":{"account_id":18124093,"reputation":13,"user_id":13179766,"display_name":"user13179766"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":887,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666359284,"creation_date":1588348096,"question_id":61545861,"body_markdown":"\r\nI make an object detection application with OpenCV in Android studio. I use yolo for object detection. I get the necessary yolo files from the phone&#39;s memory.\r\n```\r\nString tinyCfg =  Environment.getExternalStorageDirectory() + &quot;/dnns/yolov3-tiny.cfg&quot;;\r\nString tinyWeights = Environment.getExternalStorageDirectory() + &quot;/dnns/yolov3-tiny.weights&quot;;\r\ntinyYolo = Dnn.readNetFromDarknet(tinyCfg, tinyWeights);\r\n```\r\nI want to transfer these files to application files and use them from there. I am using this code for this.\r\n```\r\nString tinyCfg = &quot;dnns/yolov3-tiny.cfg&quot;;\r\nString tinyWeights = &quot;dnns/yolov3-tiny.weights&quot;;\r\ntinyYolo = Dnn.readNetFromDarknet(tinyCfg, tinyWeights);\r\n```\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mzErh.png\r\n\r\nBut I get this error\r\n```\r\nE/cv::error(): OpenCV(3.4.5) Error: Parsing error (Failed to parse NetParameter file: dnns/yolov3-tiny.cfg) in cv::dnn::experimental_dnn_34_v11::Net cv::dnn::experimental_dnn_34_v11::readNetFromDarknet(const cv::String&amp;, const cv::String&amp;), file /build/3_4_pack-android/opencv/modules/dnn/src/darknet/darknet_importer.cpp, line 207\r\nE/org.opencv.dnn: dnn::readNetFromDarknet_10() caught cv::Exception: OpenCV(3.4.5) /build/3_4_pack-android/opencv/modules/dnn/src/darknet/darknet_importer.cpp:207: error: (-212:Parsing error) Failed to parse NetParameter file: dnns/yolov3-tiny.cfg in function &#39;cv::dnn::experimental_dnn_34_v11::Net cv::dnn::experimental_dnn_34_v11::readNetFromDarknet(const cv::String&amp;, const cv::String&amp;)&#39;\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.vision, PID: 26157\r\n    CvException [org.opencv.core.CvException: cv::Exception: OpenCV(3.4.5) /build/3_4_pack-android/opencv/modules/dnn/src/darknet/darknet_importer.cpp:207: error: (-212:Parsing error) Failed to parse NetParameter file: dnns/yolov3-tiny.cfg in function &#39;cv::dnn::experimental_dnn_34_v11::Net cv::dnn::experimental_dnn_34_v11::readNetFromDarknet(const cv::String&amp;, const cv::String&amp;)&#39;]\r\n```","title":"How can I use the files in the project files?","body":"<p>I make an object detection application with OpenCV in Android studio. I use yolo for object detection. I get the necessary yolo files from the phone's memory.</p>\n\n<pre><code>String tinyCfg =  Environment.getExternalStorageDirectory() + \"/dnns/yolov3-tiny.cfg\";\nString tinyWeights = Environment.getExternalStorageDirectory() + \"/dnns/yolov3-tiny.weights\";\ntinyYolo = Dnn.readNetFromDarknet(tinyCfg, tinyWeights);\n</code></pre>\n\n<p>I want to transfer these files to application files and use them from there. I am using this code for this.</p>\n\n<pre><code>String tinyCfg = \"dnns/yolov3-tiny.cfg\";\nString tinyWeights = \"dnns/yolov3-tiny.weights\";\ntinyYolo = Dnn.readNetFromDarknet(tinyCfg, tinyWeights);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mzErh.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>But I get this error</p>\n\n<pre><code>E/cv::error(): OpenCV(3.4.5) Error: Parsing error (Failed to parse NetParameter file: dnns/yolov3-tiny.cfg) in cv::dnn::experimental_dnn_34_v11::Net cv::dnn::experimental_dnn_34_v11::readNetFromDarknet(const cv::String&amp;, const cv::String&amp;), file /build/3_4_pack-android/opencv/modules/dnn/src/darknet/darknet_importer.cpp, line 207\nE/org.opencv.dnn: dnn::readNetFromDarknet_10() caught cv::Exception: OpenCV(3.4.5) /build/3_4_pack-android/opencv/modules/dnn/src/darknet/darknet_importer.cpp:207: error: (-212:Parsing error) Failed to parse NetParameter file: dnns/yolov3-tiny.cfg in function 'cv::dnn::experimental_dnn_34_v11::Net cv::dnn::experimental_dnn_34_v11::readNetFromDarknet(const cv::String&amp;, const cv::String&amp;)'\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.vision, PID: 26157\n    CvException [org.opencv.core.CvException: cv::Exception: OpenCV(3.4.5) /build/3_4_pack-android/opencv/modules/dnn/src/darknet/darknet_importer.cpp:207: error: (-212:Parsing error) Failed to parse NetParameter file: dnns/yolov3-tiny.cfg in function 'cv::dnn::experimental_dnn_34_v11::Net cv::dnn::experimental_dnn_34_v11::readNetFromDarknet(const cv::String&amp;, const cv::String&amp;)']\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1666116950,"post_id":74113026,"comment_id":130858201,"body_markdown":"Where is your main class located? Can you please add it as well?","body":"Where is your main class located? Can you please add it as well?"},{"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"score":0,"creation_date":1666178378,"post_id":74113026,"comment_id":130872794,"body_markdown":"must extend JpaRepository your repository interface and remove @Repository annotation it doesn&#39;t necessary.","body":"must extend JpaRepository your repository interface and remove @Repository annotation it doesn&#39;t necessary."},{"owner":{"account_id":23058474,"reputation":3,"user_id":17193949,"display_name":"Kofuki"},"score":0,"creation_date":1666188176,"post_id":74113026,"comment_id":130876802,"body_markdown":"@debugmode I already tried extending JpaRepository but nothing changed.","body":"@debugmode I already tried extending JpaRepository but nothing changed."},{"owner":{"account_id":23058474,"reputation":3,"user_id":17193949,"display_name":"Kofuki"},"score":0,"creation_date":1666188259,"post_id":74113026,"comment_id":130876835,"body_markdown":"@Jo&#227;oDias I added a main class.","body":"@Jo&#227;oDias I added a main class."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666189965,"creation_date":1666189965,"answer_id":74127225,"question_id":74113026,"body_markdown":"I think you might need to add a dependency:\r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n   &lt;version&gt;2.7.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis also means you might be missing a couple of JPA annotations in `Passwc`. Take a look at https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa.","title":"org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;passwcController&#39; defined in file","body":"<p>I think you might need to add a dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n   &lt;version&gt;2.7.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This also means you might be missing a couple of JPA annotations in <code>Passwc</code>. Take a look at <a href=\"https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa\" rel=\"nofollow noreferrer\">https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa</a>.</p>\n"}],"owner":{"account_id":23058474,"reputation":3,"user_id":17193949,"display_name":"Kofuki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74127225,"answer_count":1,"score":0,"last_activity_date":1666359256,"creation_date":1666104589,"question_id":74113026,"body_markdown":"I am not sure what is wrong with my codes. I was trying to learn Spring Boot. But I am not able to run the application as i get the below error\r\n\r\n        org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;passwcController&#39; defined in file [D:\\ProjStpring+Java\\passwcontroller\\target\\classes\\com\\projects\\passwcontroller\\web\\PasswcController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;passwcRepository&#39; defined in com.projects.passwcontroller.data.PasswcRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.projects.passwcontroller.Passwc\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat com.projects.passwcontroller.PasswcontrollerApplication.main(PasswcontrollerApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;passwcRepository&#39; defined in com.projects.passwcontroller.data.PasswcRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.projects.passwcontroller.Passwc\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \t... 22 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.projects.passwcontroller.Passwc\r\n    \tat org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:583) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:75) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:66) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:233) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:182) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:165) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:76) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:325) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:231) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:115) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \t... 33 common frames omitted\r\n\r\n[Structure][1]\r\n  \r\npom.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.4&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.projects&lt;/groupId&gt;\r\n        &lt;artifactId&gt;passwcontroller&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;passwcontroller&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;19&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            \t\t&lt;dependency&gt;\r\n            \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            \t\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n            \t\t&lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n                &lt;version&gt;10.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;version&gt;3.12.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.13.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.23&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.7.4&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;18&lt;/source&gt;\r\n                        &lt;target&gt;18&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nmain.java.com.projects.passwcontroller.PasswcontrollerApplication.\r\n\r\n    package com.projects.passwcontroller;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class PasswcontrollerApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(PasswcontrollerApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nmain.java.com.projects.passwcontroller.data.PasswcRepository\r\n\r\n   \r\n\r\n \r\n\r\n        package com.projects.passwcontroller.data;\r\n    \r\n    import com.projects.passwcontroller.Passwc;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import java.util.List;\r\n    \r\n    public interface PasswcRepository extends JpaRepository&lt;Passwc, Long&gt; {\r\n        List&lt;Passwc&gt; findPasswd(long max, int count);\r\n    \r\n        Passwc findOne(long id);\r\n    }\r\n\r\nmain.java.com.projects.passwcontroller.web.PasswcController\r\n\r\n    \r\n\r\n   \r\n\r\n     package com.projects.passwcontroller.web;\r\n    \r\n    import com.projects.passwcontroller.Passwc;\r\n    import com.projects.passwcontroller.data.PasswcRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import java.util.List;\r\n    \r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/passwds&quot;)\r\n    public class PasswcController {\r\n    \r\n        private PasswcRepository passwcRepository;\r\n    \r\n        @Autowired\r\n        public PasswcController(PasswcRepository passwcRepository) {\r\n            this.passwcRepository = passwcRepository;\r\n        }\r\n    \r\n        @RequestMapping(method = RequestMethod.GET)\r\n        public List&lt;Passwc&gt; passwds(\r\n                @RequestParam(value = &quot;max&quot;, defaultValue = Long.MAX_VALUE + &quot;&quot;) long max,\r\n                @RequestParam(value = &quot;count&quot;, defaultValue = &quot;20&quot;) int count) {\r\n            return passwcRepository.findPasswd(max, count);\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/{passwdId}&quot;, method = RequestMethod.GET)\r\n        public String passwd(@PathVariable(&quot;passwdId&quot;) long passwdId, Model model){\r\n            model.addAttribute(passwcRepository.findOne(passwdId));\r\n            return &quot;passwd&quot;;\r\n        }\r\n    }\r\n\r\nmain.java.com.projects.passwcontroller.Passwc\r\n\r\n   \r\n\r\n \r\n\r\n        package com.projects.passwcontroller;\r\n    \r\n    import org.apache.commons.lang3.builder.EqualsBuilder;\r\n    import org.apache.commons.lang3.builder.HashCodeBuilder;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import java.util.Date;\r\n    \r\n    @EnableJpaRepositories(basePackages = &quot;com.projects.passwcontroller.data.PasswcRepository&quot;)\r\n    public class Passwc {\r\n        private final Long id;\r\n        private String name;\r\n        private final String passwd;\r\n        private final Date date;\r\n    \r\n        public Passwc(String name, String passwd) {\r\n            this.id = null;\r\n            this.name = name;\r\n            this.passwd = passwd;\r\n            this.date = new Date();\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public String getPasswd() {\r\n            return passwd;\r\n        }\r\n    \r\n        public Date getDate() {\r\n            return date;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            return EqualsBuilder.reflectionEquals(this, obj, &quot;id&quot;, &quot;date&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return HashCodeBuilder.reflectionHashCode(this, &quot;id&quot;, &quot;time&quot;);\r\n        }\r\n    }\r\n\r\ntest.java.com.projects.passwcontroller.web.PasswcControllerTest\r\n\r\n        package com.projects.passwcontroller.web;\r\n    \r\n    import com.projects.passwcontroller.Passwc;\r\n    import com.projects.passwcontroller.data.PasswcRepository;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    import org.springframework.web.servlet.view.InternalResourceView;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import static org.hamcrest.Matchers.hasItems;\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.when;\r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.model;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.view;\r\n    import static org.springframework.test.web.servlet.setup.MockMvcBuilders.standaloneSetup;\r\n    \r\n    \r\n    public class PasswcControllerTest {\r\n    \r\n        @Test\r\n        public void shouldShowRecentPasswds() throws Exception {\r\n            List&lt;Passwc&gt; expectedPasswd = createPassList(20);\r\n    \r\n            PasswcRepository mockRepository = mock(PasswcRepository.class);\r\n            when(mockRepository.findPasswd(Long.MAX_VALUE, 20))\r\n                    .thenReturn(expectedPasswd);\r\n    \r\n            PasswcController controller = new PasswcController(mockRepository);\r\n    \r\n            MockMvc mockMvc = standaloneSetup(controller)\r\n                    .setSingleView(\r\n                            new InternalResourceView(&quot;/WEB-INF/views/passwds.jsp&quot;))\r\n                    .build();\r\n    \r\n            mockMvc.perform(get(&quot;/passwds&quot;))\r\n                    .andExpect(view().name(&quot;passwds&quot;))\r\n                    .andExpect(model().attributeExists(&quot;passwdList&quot;))\r\n                    .andExpect(model().attribute(&quot;passwdList&quot;,\r\n                            hasItems(expectedPasswd.toArray())));\r\n        }\r\n    \r\n        private List&lt;Passwc&gt; createPassList(int count){\r\n            List&lt;Passwc&gt; passwds = new ArrayList&lt;Passwc&gt;();\r\n    \r\n            for (int i = 0; i &lt; count; i++) {\r\n                passwds.add(new Passwc(&quot;GitHub&quot;, &quot;new pass &quot; + i));\r\n            }\r\n            return passwds;\r\n        }\r\n    \r\n        @Test\r\n        public void shouldShowPagedPasswds() throws Exception{\r\n            List&lt;Passwc&gt; expectedPasswds = createPassList(50);\r\n    \r\n            PasswcRepository mockRepository = mock(PasswcRepository.class);\r\n            when(mockRepository.findPasswd(238900, 50))\r\n                    .thenReturn(expectedPasswds);\r\n    \r\n            PasswcController controller = new PasswcController(mockRepository);\r\n    \r\n            MockMvc mockMvc = standaloneSetup(controller)\r\n                    .setSingleView(\r\n                            new InternalResourceView(&quot;/WEB-INF/views/passwds.jsp&quot;))\r\n                    .build();\r\n    \r\n            mockMvc.perform(get(&quot;/passwds?max=238900&amp;count=50&quot;))\r\n                    .andExpect(view().name(&quot;passwds&quot;))\r\n                    .andExpect(model().attributeExists(&quot;passwdList&quot;))\r\n                    .andExpect(model().attribute(&quot;passwdList&quot;,\r\n                            hasItems(expectedPasswds.toArray())));\r\n        }\r\n    \r\n        @Test\r\n        public void testPasswd() throws Exception{\r\n            Passwc expectedPasswd = new Passwc(&quot;Googel&quot;, &quot;Qwerty123&quot;);\r\n    \r\n            PasswcRepository mockRepository = mock(PasswcRepository.class);\r\n            when(mockRepository.findOne(12345))\r\n                    .thenReturn(expectedPasswd);\r\n    \r\n            PasswcController controller = new PasswcController(mockRepository);\r\n    \r\n            MockMvc mockMvc = standaloneSetup(controller).build();\r\n    \r\n            mockMvc.perform(get(&quot;/passwds/12345&quot;))\r\n                    .andExpect(view().name(&quot;passwd&quot;))\r\n                    .andExpect(model().attributeExists(&quot;passwd&quot;))\r\n                    .andExpect(model().attribute(&quot;passwd&quot;, expectedPasswd));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sxpwt.png","title":"org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;passwcController&#39; defined in file","body":"<p>I am not sure what is wrong with my codes. I was trying to learn Spring Boot. But I am not able to run the application as i get the below error</p>\n<pre><code>    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'passwcController' defined in file [D:\\ProjStpring+Java\\passwcontroller\\target\\classes\\com\\projects\\passwcontroller\\web\\PasswcController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'passwcRepository' defined in com.projects.passwcontroller.data.PasswcRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.projects.passwcontroller.Passwc\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\n    at com.projects.passwcontroller.PasswcontrollerApplication.main(PasswcontrollerApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'passwcRepository' defined in com.projects.passwcontroller.data.PasswcRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.projects.passwcontroller.Passwc\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 22 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.projects.passwcontroller.Passwc\n    at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:583) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:75) ~[spring-data-jpa-2.7.5.jar:2.7.5]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:66) ~[spring-data-jpa-2.7.5.jar:2.7.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:233) ~[spring-data-jpa-2.7.5.jar:2.7.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:182) ~[spring-data-jpa-2.7.5.jar:2.7.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:165) ~[spring-data-jpa-2.7.5.jar:2.7.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:76) ~[spring-data-jpa-2.7.5.jar:2.7.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:325) ~[spring-data-commons-2.7.3.jar:2.7.3]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.7.3.jar:2.7.3]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:231) ~[spring-data-commons-2.7.3.jar:2.7.3]\n    at org.springframework.data.util.Lazy.get(Lazy.java:115) ~[spring-data-commons-2.7.3.jar:2.7.3]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.7.3.jar:2.7.3]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.7.5.jar:2.7.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 33 common frames omitted\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Sxpwt.png\" rel=\"nofollow noreferrer\">Structure</a></p>\n<p>pom.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.projects&lt;/groupId&gt;\n    &lt;artifactId&gt;passwcontroller&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;passwcontroller&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                    &lt;version&gt;2.7.4&lt;/version&gt;\n                &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;version&gt;10.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;5.3.23&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7.4&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;18&lt;/source&gt;\n                    &lt;target&gt;18&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>main.java.com.projects.passwcontroller.PasswcontrollerApplication.</p>\n<pre><code>package com.projects.passwcontroller;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class PasswcontrollerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(PasswcontrollerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>main.java.com.projects.passwcontroller.data.PasswcRepository</p>\n<pre><code>    package com.projects.passwcontroller.data;\n\nimport com.projects.passwcontroller.Passwc;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport java.util.List;\n\npublic interface PasswcRepository extends JpaRepository&lt;Passwc, Long&gt; {\n    List&lt;Passwc&gt; findPasswd(long max, int count);\n\n    Passwc findOne(long id);\n}\n</code></pre>\n<p>main.java.com.projects.passwcontroller.web.PasswcController</p>\n<pre><code> package com.projects.passwcontroller.web;\n\nimport com.projects.passwcontroller.Passwc;\nimport com.projects.passwcontroller.data.PasswcRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport java.util.List;\n\n\n@Controller\n@RequestMapping(&quot;/passwds&quot;)\npublic class PasswcController {\n\n    private PasswcRepository passwcRepository;\n\n    @Autowired\n    public PasswcController(PasswcRepository passwcRepository) {\n        this.passwcRepository = passwcRepository;\n    }\n\n    @RequestMapping(method = RequestMethod.GET)\n    public List&lt;Passwc&gt; passwds(\n            @RequestParam(value = &quot;max&quot;, defaultValue = Long.MAX_VALUE + &quot;&quot;) long max,\n            @RequestParam(value = &quot;count&quot;, defaultValue = &quot;20&quot;) int count) {\n        return passwcRepository.findPasswd(max, count);\n    }\n\n    @RequestMapping(value = &quot;/{passwdId}&quot;, method = RequestMethod.GET)\n    public String passwd(@PathVariable(&quot;passwdId&quot;) long passwdId, Model model){\n        model.addAttribute(passwcRepository.findOne(passwdId));\n        return &quot;passwd&quot;;\n    }\n}\n</code></pre>\n<p>main.java.com.projects.passwcontroller.Passwc</p>\n<pre><code>    package com.projects.passwcontroller;\n\nimport org.apache.commons.lang3.builder.EqualsBuilder;\nimport org.apache.commons.lang3.builder.HashCodeBuilder;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport java.util.Date;\n\n@EnableJpaRepositories(basePackages = &quot;com.projects.passwcontroller.data.PasswcRepository&quot;)\npublic class Passwc {\n    private final Long id;\n    private String name;\n    private final String passwd;\n    private final Date date;\n\n    public Passwc(String name, String passwd) {\n        this.id = null;\n        this.name = name;\n        this.passwd = passwd;\n        this.date = new Date();\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getPasswd() {\n        return passwd;\n    }\n\n    public Date getDate() {\n        return date;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        return EqualsBuilder.reflectionEquals(this, obj, &quot;id&quot;, &quot;date&quot;);\n    }\n\n    @Override\n    public int hashCode() {\n        return HashCodeBuilder.reflectionHashCode(this, &quot;id&quot;, &quot;time&quot;);\n    }\n}\n</code></pre>\n<p>test.java.com.projects.passwcontroller.web.PasswcControllerTest</p>\n<pre><code>    package com.projects.passwcontroller.web;\n\nimport com.projects.passwcontroller.Passwc;\nimport com.projects.passwcontroller.data.PasswcRepository;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.web.servlet.view.InternalResourceView;\nimport java.util.ArrayList;\nimport java.util.List;\nimport static org.hamcrest.Matchers.hasItems;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.when;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.model;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.view;\nimport static org.springframework.test.web.servlet.setup.MockMvcBuilders.standaloneSetup;\n\n\npublic class PasswcControllerTest {\n\n    @Test\n    public void shouldShowRecentPasswds() throws Exception {\n        List&lt;Passwc&gt; expectedPasswd = createPassList(20);\n\n        PasswcRepository mockRepository = mock(PasswcRepository.class);\n        when(mockRepository.findPasswd(Long.MAX_VALUE, 20))\n                .thenReturn(expectedPasswd);\n\n        PasswcController controller = new PasswcController(mockRepository);\n\n        MockMvc mockMvc = standaloneSetup(controller)\n                .setSingleView(\n                        new InternalResourceView(&quot;/WEB-INF/views/passwds.jsp&quot;))\n                .build();\n\n        mockMvc.perform(get(&quot;/passwds&quot;))\n                .andExpect(view().name(&quot;passwds&quot;))\n                .andExpect(model().attributeExists(&quot;passwdList&quot;))\n                .andExpect(model().attribute(&quot;passwdList&quot;,\n                        hasItems(expectedPasswd.toArray())));\n    }\n\n    private List&lt;Passwc&gt; createPassList(int count){\n        List&lt;Passwc&gt; passwds = new ArrayList&lt;Passwc&gt;();\n\n        for (int i = 0; i &lt; count; i++) {\n            passwds.add(new Passwc(&quot;GitHub&quot;, &quot;new pass &quot; + i));\n        }\n        return passwds;\n    }\n\n    @Test\n    public void shouldShowPagedPasswds() throws Exception{\n        List&lt;Passwc&gt; expectedPasswds = createPassList(50);\n\n        PasswcRepository mockRepository = mock(PasswcRepository.class);\n        when(mockRepository.findPasswd(238900, 50))\n                .thenReturn(expectedPasswds);\n\n        PasswcController controller = new PasswcController(mockRepository);\n\n        MockMvc mockMvc = standaloneSetup(controller)\n                .setSingleView(\n                        new InternalResourceView(&quot;/WEB-INF/views/passwds.jsp&quot;))\n                .build();\n\n        mockMvc.perform(get(&quot;/passwds?max=238900&amp;count=50&quot;))\n                .andExpect(view().name(&quot;passwds&quot;))\n                .andExpect(model().attributeExists(&quot;passwdList&quot;))\n                .andExpect(model().attribute(&quot;passwdList&quot;,\n                        hasItems(expectedPasswds.toArray())));\n    }\n\n    @Test\n    public void testPasswd() throws Exception{\n        Passwc expectedPasswd = new Passwc(&quot;Googel&quot;, &quot;Qwerty123&quot;);\n\n        PasswcRepository mockRepository = mock(PasswcRepository.class);\n        when(mockRepository.findOne(12345))\n                .thenReturn(expectedPasswd);\n\n        PasswcController controller = new PasswcController(mockRepository);\n\n        MockMvc mockMvc = standaloneSetup(controller).build();\n\n        mockMvc.perform(get(&quot;/passwds/12345&quot;))\n                .andExpect(view().name(&quot;passwd&quot;))\n                .andExpect(model().attributeExists(&quot;passwd&quot;))\n                .andExpect(model().attribute(&quot;passwd&quot;, expectedPasswd));\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1068297,"reputation":633,"user_id":1068222,"accept_rate":33,"display_name":"y434y"},"score":0,"creation_date":1666360939,"post_id":74154439,"comment_id":130925477,"body_markdown":"Can you post source code of your program? How do you run it? Also, do you have to use IBM JDK? What about Open JDK?","body":"Can you post source code of your program? How do you run it? Also, do you have to use IBM JDK? What about Open JDK?"}],"owner":{"account_id":26689355,"reputation":11,"user_id":20298162,"display_name":"Jaya sakthivel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666359125,"creation_date":1666359125,"question_id":74154439,"body_markdown":"I installed Eclipse IDE and try to run a simple Helloworld Java program. But I am facing a below unhandled exception. It happens once in a while when I try to run.  \r\n\r\n\r\n&gt; Unhandled exception  Type=Segmentation error vmState=0x00000000\r\n&gt; Windows_ExceptionCode=c0000139 J9Generic_Signal=00000004\r\n&gt; ExceptionAddress=00007FFA4A352856 ContextFlags=0010004f\r\n&gt; Handler1=00007FF9D51EC9F0 Handler2=00007FFA0EAEAA50\r\n&gt; RDI=00000161EA87AB78 RSI=00007FFA4A36D390 RAX=0000000000000000\r\n&gt; RBX=0000000000000001 RCX=0000000000000002 RDX=0000000000000000\r\n&gt; R8=00007FFA47AF6C4C R9=0000000000000000 R10=0000000000000000\r\n&gt; R11=0000003B3D3ED788 R12=0000000000000003 R13=0000000000000003\r\n&gt; R14=00007FFA17F1CE01 R15=0000000000000003 RIP=00007FFA4A352856\r\n&gt; RSP=0000003B3D3EC0F0 RBP=0000003B3D3EC790 EFLAGS=0000059800000206\r\n&gt; FS=0053 ES=002B DS=002B XMM0 00000161ec2395d0 (f: 3961755136.000000,\r\n&gt; d: 7.510219e-312) XMM1 0000000000000000 (f: 0.000000, d: 0.000000e+00)\r\n&gt; XMM2 0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM3\r\n&gt; 0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM4 0000000000000000\r\n&gt; (f: 0.000000, d: 0.000000e+00) XMM5 0000000000000000 (f: 0.000000, d:\r\n&gt; 0.000000e+00) XMM6 0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM7 0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM8\r\n&gt; 0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM9 0000000000000000\r\n&gt; (f: 0.000000, d: 0.000000e+00) XMM10 0000000000000000 (f: 0.000000, d:\r\n&gt; 0.000000e+00) XMM11 0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM12 0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM13\r\n&gt; 0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM14 0000000000000000\r\n&gt; (f: 0.000000, d: 0.000000e+00) XMM15 0000000000000000 (f: 0.000000, d:\r\n&gt; 0.000000e+00) Module=C:\\windows\\SYSTEM32\\ntdll.dll Module_base_address=00007FFA4A250000 Offset_in_DLL=0000000000102856\r\n&gt; Target=2_90_20220817_464 (Windows 10 10.0 build 19044) CPU=amd64 (16\r\n&gt; logical CPUs) (0x7eeec3000 RAM)\r\n&gt; ----------- Stack Backtrace -----------\r\n\r\n\r\nI have IBM_semeru_jdk_11 as default jdk and executing this project with IBM_semeru_jdk_8. Can anyone help me on this.  \r\n\r\n\r\nThanks,\r\nJay\r\n\r\n\r\n","title":"Type=Segmentation error Windows_ExceptionCode=c0000139 in Eclipse","body":"<p>I installed Eclipse IDE and try to run a simple Helloworld Java program. But I am facing a below unhandled exception. It happens once in a while when I try to run.</p>\n<blockquote>\n<p>Unhandled exception  Type=Segmentation error vmState=0x00000000\nWindows_ExceptionCode=c0000139 J9Generic_Signal=00000004\nExceptionAddress=00007FFA4A352856 ContextFlags=0010004f\nHandler1=00007FF9D51EC9F0 Handler2=00007FFA0EAEAA50\nRDI=00000161EA87AB78 RSI=00007FFA4A36D390 RAX=0000000000000000\nRBX=0000000000000001 RCX=0000000000000002 RDX=0000000000000000\nR8=00007FFA47AF6C4C R9=0000000000000000 R10=0000000000000000\nR11=0000003B3D3ED788 R12=0000000000000003 R13=0000000000000003\nR14=00007FFA17F1CE01 R15=0000000000000003 RIP=00007FFA4A352856\nRSP=0000003B3D3EC0F0 RBP=0000003B3D3EC790 EFLAGS=0000059800000206\nFS=0053 ES=002B DS=002B XMM0 00000161ec2395d0 (f: 3961755136.000000,\nd: 7.510219e-312) XMM1 0000000000000000 (f: 0.000000, d: 0.000000e+00)\nXMM2 0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM3\n0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM4 0000000000000000\n(f: 0.000000, d: 0.000000e+00) XMM5 0000000000000000 (f: 0.000000, d:\n0.000000e+00) XMM6 0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM7 0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM8\n0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM9 0000000000000000\n(f: 0.000000, d: 0.000000e+00) XMM10 0000000000000000 (f: 0.000000, d:\n0.000000e+00) XMM11 0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM12 0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM13\n0000000000000000 (f: 0.000000, d: 0.000000e+00) XMM14 0000000000000000\n(f: 0.000000, d: 0.000000e+00) XMM15 0000000000000000 (f: 0.000000, d:\n0.000000e+00) Module=C:\\windows\\SYSTEM32\\ntdll.dll Module_base_address=00007FFA4A250000 Offset_in_DLL=0000000000102856\nTarget=2_90_20220817_464 (Windows 10 10.0 build 19044) CPU=amd64 (16\nlogical CPUs) (0x7eeec3000 RAM)\n----------- Stack Backtrace -----------</p>\n</blockquote>\n<p>I have IBM_semeru_jdk_11 as default jdk and executing this project with IBM_semeru_jdk_8. Can anyone help me on this.</p>\n<p>Thanks,\nJay</p>\n"},{"tags":["java","scala","sorting","lucene"],"comments":[{"owner":{"account_id":355507,"reputation":781,"user_id":694494,"display_name":"Shazwazza"},"score":0,"creation_date":1600697024,"post_id":28717528,"comment_id":113160949,"body_markdown":"Isn&#39;t the val point = spatialCtx.makePoint(lat, lon) call backwards, it should be lon, lat since it&#39;s expecting x/y ?","body":"Isn&#39;t the val point = spatialCtx.makePoint(lat, lon) call backwards, it should be lon, lat since it&#39;s expecting x/y ?"}],"answers":[{"tags":[],"owner":{"account_id":952534,"reputation":192,"user_id":978398,"accept_rate":60,"display_name":"aboutgeo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424944525,"creation_date":1424944525,"answer_id":28739217,"question_id":28717528,"body_markdown":"Argh. Back to answering my own questions. In case someone stumbles across this again: the reason in my case was that my code used two different strategy objects for read and write - and those used different settings for the maxLevel parameter of the GeoHashPrefixTree. Never do that! ;-)","title":"Lucene Spatial: Sorting by Distance","body":"<p>Argh. Back to answering my own questions. In case someone stumbles across this again: the reason in my case was that my code used two different strategy objects for read and write - and those used different settings for the maxLevel parameter of the GeoHashPrefixTree. Never do that! ;-)</p>\n"},{"tags":[],"owner":{"account_id":1963537,"reputation":31,"user_id":1764354,"display_name":"tleaha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666358682,"creation_date":1666358682,"answer_id":74154327,"question_id":28717528,"body_markdown":"i was implement in lucene v6, my code below can sort from nearest and if you want to sort from farest change value in valueSource.getSortField(true)\r\n\r\n    \t\tSpatialContext ctx = SpatialContext.GEO;\r\n\t\t\tString[] c = cord.split(&quot;,&quot;);\r\n\t\t\tdouble lat = Double.parseDouble(prms.getValue(c[0],true));\r\n\t\t\tdouble lng = Double.parseDouble(prms.getValue(c[1], true));\r\n\t\t\tPoint currPt = ctx.makePoint(Double.valueOf(lng), Double.valueOf(lat));\r\n\t\t\t\r\n\t\t\tSpatialPrefixTree grid = new GeohashPrefixTree(ctx, 22);\r\n\t\t\tSpatialStrategy strategy = new RecursivePrefixTreeStrategy(grid, &quot;location&quot;);\r\n\t\t\tValueSource valueSource = strategy.makeDistanceValueSource(currPt);\r\n\r\n\t\t\tSort distanceSort = new Sort(valueSource.getSortField(false)).rewrite(searcher);\r\n\t\t\tTopDocs topDocs = searcher.search(baseQuery, Integer.MAX_VALUE,distanceSort);\r\n\t\t\tScoreDoc[] scoreDocs = topDocs.scoreDocs;\r\n\r\n","title":"Lucene Spatial: Sorting by Distance","body":"<p>i was implement in lucene v6, my code below can sort from nearest and if you want to sort from farest change value in valueSource.getSortField(true)</p>\n<pre><code>        SpatialContext ctx = SpatialContext.GEO;\n        String[] c = cord.split(&quot;,&quot;);\n        double lat = Double.parseDouble(prms.getValue(c[0],true));\n        double lng = Double.parseDouble(prms.getValue(c[1], true));\n        Point currPt = ctx.makePoint(Double.valueOf(lng), Double.valueOf(lat));\n        \n        SpatialPrefixTree grid = new GeohashPrefixTree(ctx, 22);\n        SpatialStrategy strategy = new RecursivePrefixTreeStrategy(grid, &quot;location&quot;);\n        ValueSource valueSource = strategy.makeDistanceValueSource(currPt);\n\n        Sort distanceSort = new Sort(valueSource.getSortField(false)).rewrite(searcher);\n        TopDocs topDocs = searcher.search(baseQuery, Integer.MAX_VALUE,distanceSort);\n        ScoreDoc[] scoreDocs = topDocs.scoreDocs;\n</code></pre>\n"}],"owner":{"account_id":952534,"reputation":192,"user_id":978398,"accept_rate":60,"display_name":"aboutgeo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":978,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1666358682,"creation_date":1424862762,"question_id":28717528,"body_markdown":"Maybe I&#39;m missing something here, but I can&#39;t get spatial sorting to work in Lucene Spatial (10.3), as documented in [SpatialExample.java][1]. Here&#39;s my code (Scala - but translates 1:1 into Java):\r\n\r\n    val searcher = placeSearcherManager.acquire()\r\n    \r\n    val point = spatialCtx.makePoint(lat, lon)\r\n\r\n    val args =\r\n      new SpatialArgs(SpatialOperation.Intersects,\r\n        spatialCtx.makeCircle(lon, lat, \r\n        DistanceUtils.dist2Degrees(100, DistanceUtils.EARTH_MEAN_RADIUS_KM)))\r\n\r\n    val filter = spatialStrategy.makeFilter(args)\r\n    \r\n    val valueSource = spatialStrategy.makeDistanceValueSource(point)\r\n\r\n    // Here&#39;s what&#39;s supposed to set up distance sorting\r\n    val distanceSort = new Sort(valueSource.getSortField(false)).rewrite(searcher)\r\n    \r\n    try {  \r\n      val topDocs = searcher.search(new MatchAllDocsQuery(), filter, limit, distanceSort) \r\n      val scoreDocs = topDocs.scoreDocs\r\n      \r\n      // Print the results\r\n      scoreDocs.foreach(scoreDoc =&gt; {\r\n        val doc = searcher.doc(scoreDoc.doc)\r\n        val docPoint = spatialCtx.readShape(doc.get(spatialStrategy.getFieldName())).asInstanceOf[Point]\r\n        val distance = spatialCtx.getDistCalc().distance(args.getShape.getCenter, docPoint)\r\n        val distanceKM = DistanceUtils.degrees2Dist(distance, DistanceUtils.EARTH_EQUATORIAL_RADIUS_KM)\r\n        Logger.info(&quot;distance: &quot; + distanceKM)\r\n      })\r\n    } finally {\r\n      placeSearcherManager.release(searcher)\r\n    }\r\n\r\nWhen I run the query, results don&#39;t seem to be affected by the sorting at all:\r\n\r\n    [info] application - distance: 406.01578203364323\r\n    [info] application - distance: 327.67269076509876\r\n    [info] application - distance: 218.94951150657565\r\n    [info] application - distance: 251.37927074183852\r\n    [info] application - distance: 140.6570939383426\r\n    [info] application - distance: 460.47502999630586\r\n    [info] application - distance: 462.37676932762116\r\n    [info] application - distance: 489.49001138999256\r\n    [info] application - distance: 392.0773262500455\r\n    [info] application - distance: 227.8864179949065\r\n\r\nChanging the sort order from ascending to descending has no effect either.  I can&#39;t see any difference between what I&#39;m doing and the offical example (except the use of the [SearcherManager][2], but I&#39;ve checked and that doesn&#39;t make a difference). Any hints appreciated!\r\n\r\n\r\n  [1]: https://github.com/apache/lucene-solr/blob/branch_4x/lucene/spatial/src/test/org/apache/lucene/spatial/SpatialExample.java\r\n  [2]: http://lucene.apache.org/core/4_10_3/core/index.html","title":"Lucene Spatial: Sorting by Distance","body":"<p>Maybe I'm missing something here, but I can't get spatial sorting to work in Lucene Spatial (10.3), as documented in <a href=\"https://github.com/apache/lucene-solr/blob/branch_4x/lucene/spatial/src/test/org/apache/lucene/spatial/SpatialExample.java\" rel=\"nofollow\">SpatialExample.java</a>. Here's my code (Scala - but translates 1:1 into Java):</p>\n\n<pre><code>val searcher = placeSearcherManager.acquire()\n\nval point = spatialCtx.makePoint(lat, lon)\n\nval args =\n  new SpatialArgs(SpatialOperation.Intersects,\n    spatialCtx.makeCircle(lon, lat, \n    DistanceUtils.dist2Degrees(100, DistanceUtils.EARTH_MEAN_RADIUS_KM)))\n\nval filter = spatialStrategy.makeFilter(args)\n\nval valueSource = spatialStrategy.makeDistanceValueSource(point)\n\n// Here's what's supposed to set up distance sorting\nval distanceSort = new Sort(valueSource.getSortField(false)).rewrite(searcher)\n\ntry {  \n  val topDocs = searcher.search(new MatchAllDocsQuery(), filter, limit, distanceSort) \n  val scoreDocs = topDocs.scoreDocs\n\n  // Print the results\n  scoreDocs.foreach(scoreDoc =&gt; {\n    val doc = searcher.doc(scoreDoc.doc)\n    val docPoint = spatialCtx.readShape(doc.get(spatialStrategy.getFieldName())).asInstanceOf[Point]\n    val distance = spatialCtx.getDistCalc().distance(args.getShape.getCenter, docPoint)\n    val distanceKM = DistanceUtils.degrees2Dist(distance, DistanceUtils.EARTH_EQUATORIAL_RADIUS_KM)\n    Logger.info(\"distance: \" + distanceKM)\n  })\n} finally {\n  placeSearcherManager.release(searcher)\n}\n</code></pre>\n\n<p>When I run the query, results don't seem to be affected by the sorting at all:</p>\n\n<pre><code>[info] application - distance: 406.01578203364323\n[info] application - distance: 327.67269076509876\n[info] application - distance: 218.94951150657565\n[info] application - distance: 251.37927074183852\n[info] application - distance: 140.6570939383426\n[info] application - distance: 460.47502999630586\n[info] application - distance: 462.37676932762116\n[info] application - distance: 489.49001138999256\n[info] application - distance: 392.0773262500455\n[info] application - distance: 227.8864179949065\n</code></pre>\n\n<p>Changing the sort order from ascending to descending has no effect either.  I can't see any difference between what I'm doing and the offical example (except the use of the <a href=\"http://lucene.apache.org/core/4_10_3/core/index.html\" rel=\"nofollow\">SearcherManager</a>, but I've checked and that doesn't make a difference). Any hints appreciated!</p>\n"},{"tags":["java","neo4j","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666358493,"creation_date":1666358493,"answer_id":74154282,"question_id":74139508,"body_markdown":"If you loaded `followHim` with its relationships, you have to check also the other direction for existence. In general, you should take care that you implement `equals()/hashCode()` in `ProfileNode` correct for you use-case.\r\nOtherwise the check will be based on `Object` equality.\r\n\r\n```java\r\nfollowHim.getFollowsOnUala().contains(user)\r\n```\r\n\r\nAlso adding a followed by `Direction.INCOMING` relationship definition with the same type might be helpful, if you want to traverse in both direction.\r\nUsually I do not advice to create bidirectional relationships everywhere but in this case it would make sense.\r\nBut still the check would be needed to into the right branch of your condition.","title":"Neo4jRepository on save adding multiple relationships","body":"<p>If you loaded <code>followHim</code> with its relationships, you have to check also the other direction for existence. In general, you should take care that you implement <code>equals()/hashCode()</code> in <code>ProfileNode</code> correct for you use-case.\nOtherwise the check will be based on <code>Object</code> equality.</p>\n<pre class=\"lang-java prettyprint-override\"><code>followHim.getFollowsOnUala().contains(user)\n</code></pre>\n<p>Also adding a followed by <code>Direction.INCOMING</code> relationship definition with the same type might be helpful, if you want to traverse in both direction.\nUsually I do not advice to create bidirectional relationships everywhere but in this case it would make sense.\nBut still the check would be needed to into the right branch of your condition.</p>\n"}],"owner":{"account_id":17329272,"reputation":3,"user_id":12552799,"display_name":"Syed Ali Umair Tirmizi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666358493,"creation_date":1666267081,"question_id":74139508,"body_markdown":"Hello I am beginner to neo4j and using Spring Data Neo4j to create relations follows_on_uala on the outgoing direction between NodeProfile model.\r\nIf a person is already attempting same action it should not be allowed and just be logged. The use case works if i am creating 1 relationship i.e `A -- follow -- B`  but I see that duplicate relationship are added whenever I try to make a reverse relation `(b--follows-A)`. The same thing happens when I try to add 3rd to the mix. I require only 1 unique relation between nodes.\r\n[This is what I get when 3rd node is added][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/imdLM.png\r\n\r\nHere is my ProfileNode Model \r\n```import java.util.HashSet;\r\nimport java.util.Set;\r\n@Getter\r\n@Setter\r\n@Node(&quot;Profile&quot;)\r\npublic class ProfileNode {\r\n\r\n    /*\r\n    *   ProfileNode is the node that represents a user profile\r\n    */\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    private String userId;\r\n    private String displayName;\r\n\r\n    public ProfileNode() {\r\n    }\r\n\r\n    public ProfileNode(String userId , String displayName) {\r\n        this.userId = userId;\r\n        this.displayName = displayName;\r\n    }\r\n\r\n    @Relationship(type = &quot;FOLLOW_ON_UALA&quot;, direction = Relationship.Direction.OUTGOING)\r\n    public Set&lt;ProfileNode&gt; followsOnUala;\r\n\r\n    public void addUalaFollow(ProfileNode person) {\r\n        if (followsOnUala == null) {\r\n            followsOnUala = new HashSet&lt;&gt;();\r\n        }\r\n        followsOnUala.add(person);\r\n    }\r\n}\r\n\r\n```\r\nHere is how I am trying to save relation using Neo4J repository \r\n```    @Override\r\n    public void addUalaFollow(ProfileNode user, ProfileNode followHim) {\r\n        if(user.getFollowsOnUala().contains(followHim)) {\r\n            log.info(&quot;Follow Relation Exist&quot;);\r\n        } else {\r\n            user.addUalaFollow(followHim);\r\n            repo.save(user);\r\n        }\r\n    }\r\n```","title":"Neo4jRepository on save adding multiple relationships","body":"<p>Hello I am beginner to neo4j and using Spring Data Neo4j to create relations follows_on_uala on the outgoing direction between NodeProfile model.\nIf a person is already attempting same action it should not be allowed and just be logged. The use case works if i am creating 1 relationship i.e <code>A -- follow -- B</code>  but I see that duplicate relationship are added whenever I try to make a reverse relation <code>(b--follows-A)</code>. The same thing happens when I try to add 3rd to the mix. I require only 1 unique relation between nodes.\n<a href=\"https://i.stack.imgur.com/imdLM.png\" rel=\"nofollow noreferrer\">This is what I get when 3rd node is added</a></p>\n<p>Here is my ProfileNode Model</p>\n<pre><code>import java.util.Set;\n@Getter\n@Setter\n@Node(&quot;Profile&quot;)\npublic class ProfileNode {\n\n    /*\n    *   ProfileNode is the node that represents a user profile\n    */\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String userId;\n    private String displayName;\n\n    public ProfileNode() {\n    }\n\n    public ProfileNode(String userId , String displayName) {\n        this.userId = userId;\n        this.displayName = displayName;\n    }\n\n    @Relationship(type = &quot;FOLLOW_ON_UALA&quot;, direction = Relationship.Direction.OUTGOING)\n    public Set&lt;ProfileNode&gt; followsOnUala;\n\n    public void addUalaFollow(ProfileNode person) {\n        if (followsOnUala == null) {\n            followsOnUala = new HashSet&lt;&gt;();\n        }\n        followsOnUala.add(person);\n    }\n}\n\n</code></pre>\n<p>Here is how I am trying to save relation using Neo4J repository</p>\n<pre><code>    public void addUalaFollow(ProfileNode user, ProfileNode followHim) {\n        if(user.getFollowsOnUala().contains(followHim)) {\n            log.info(&quot;Follow Relation Exist&quot;);\n        } else {\n            user.addUalaFollow(followHim);\n            repo.save(user);\n        }\n    }\n</code></pre>\n"},{"tags":["java","git","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655273808,"creation_date":1655273808,"answer_id":72626655,"question_id":72617925,"body_markdown":"The IDE shows the Git commit author here. So it seems that the commit&#39;s author name contains the password string. \r\n\r\nYou can click the author name in the editor to show the commit list in the editor&#39;s left gutter, then click that related commit in the editor&#39;s left gutter, check the detailed commit&#39;s user name there to see that some password was used in the commit author name there.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TG6Fw.png","title":"why the git author contains password in Intellij Idea","body":"<p>The IDE shows the Git commit author here. So it seems that the commit's author name contains the password string.</p>\n<p>You can click the author name in the editor to show the commit list in the editor's left gutter, then click that related commit in the editor's left gutter, check the detailed commit's user name there to see that some password was used in the commit author name there.</p>\n<p><a href=\"https://i.stack.imgur.com/TG6Fw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TG6Fw.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6113295,"reputation":128,"user_id":4769095,"accept_rate":42,"display_name":"pablo casanovas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666358458,"creation_date":1666358458,"answer_id":74154276,"question_id":72617925,"body_markdown":"You probably entered yor password instead your email address in the dialog for git. See same issue here: \r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/community/posts/115000169244-Clear-text-password-displayed-in-author-column\r\n\r\nI hope JetBrains changes that because it seems to be many people (including me) that had the same problem","title":"why the git author contains password in Intellij Idea","body":"<p>You probably entered yor password instead your email address in the dialog for git. See same issue here:</p>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000169244-Clear-text-password-displayed-in-author-column\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000169244-Clear-text-password-displayed-in-author-column</a></p>\n<p>I hope JetBrains changes that because it seems to be many people (including me) that had the same problem</p>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72626655,"answer_count":2,"score":0,"last_activity_date":1666358458,"creation_date":1655213640,"question_id":72617925,"body_markdown":"When I using Intellij Idea to develop, the author comment show the committer&#39;s password. Why the password show in the author comment when the author commit code? how to hide the password? The password looks like :\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthe red area was the committer&#39;s password.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5A3hI.png","title":"why the git author contains password in Intellij Idea","body":"<p>When I using Intellij Idea to develop, the author comment show the committer's password. Why the password show in the author comment when the author commit code? how to hide the password? The password looks like :</p>\n<p><a href=\"https://i.stack.imgur.com/5A3hI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5A3hI.png\" alt=\"enter image description here\" /></a></p>\n<p>the red area was the committer's password.</p>\n"},{"tags":["java","mysql","sql"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1629942325,"post_id":68931403,"comment_id":121822627,"body_markdown":"What exactly is your error message?","body":"What exactly is your error message?"},{"owner":{"account_id":22568448,"reputation":15,"user_id":16755029,"display_name":"Joseph"},"score":0,"creation_date":1629942713,"post_id":68931403,"comment_id":121822671,"body_markdown":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;this.this$0.con&quot; is null\nat loginSystem$2.actionPerformed(loginSystem.java:102)\nat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2308)\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)","body":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;this.this$0.con&quot; is null at loginSystem$2.actionPerformed(loginSystem.java:102) at java.desktop/javax.swing.AbstractButton.fireActionPerformed(&zwnj;&#8203;AbstractButton.java:&zwnj;&#8203;1967) \tat java.desktop/javax.swing.AbstractButton$Handler.actionPerfor&zwnj;&#8203;med(AbstractButton.j&zwnj;&#8203;ava:2308) \tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerfor&zwnj;&#8203;med(DefaultButtonMod&zwnj;&#8203;el.java:405)"},{"owner":{"account_id":22568448,"reputation":15,"user_id":16755029,"display_name":"Joseph"},"score":0,"creation_date":1629942754,"post_id":68931403,"comment_id":121822679,"body_markdown":"Line102:\npst = con.prepareStatement(&quot;select * from userdata where username=&#39;&quot; + getUserName+ &quot;&#39; and password=&#39;&quot; + getPassword + &quot;&#39;    &quot;);\n\nrs = pst.executeQuery();","body":"Line102: pst = con.prepareStatement(&quot;select * from userdata where username=&#39;&quot; + getUserName+ &quot;&#39; and password=&#39;&quot; + getPassword + &quot;&#39;    &quot;);  rs = pst.executeQuery();"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1629942925,"post_id":68931403,"comment_id":121822709,"body_markdown":"Clearly your connection is not instantiated. Check to see : 1- if you are able to access your database with an external client such as MySQL Workbench 2- if your connection string is valid 3- if your driver is correctly setup","body":"Clearly your connection is not instantiated. Check to see : 1- if you are able to access your database with an external client such as MySQL Workbench 2- if your connection string is valid 3- if your driver is correctly setup"},{"owner":{"account_id":22568448,"reputation":15,"user_id":16755029,"display_name":"Joseph"},"score":0,"creation_date":1629943257,"post_id":68931403,"comment_id":121822765,"body_markdown":"I used an external phpMyAdmin php file tried  to make connection with the web hosting database and it is successful .","body":"I used an external phpMyAdmin php file tried  to make connection with the web hosting database and it is successful ."}],"answers":[{"tags":[],"owner":{"account_id":16485112,"reputation":95,"user_id":11910713,"display_name":"Thang Hoang"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1629941350,"creation_date":1629941350,"answer_id":68931462,"question_id":68931403,"body_markdown":"I found this, maybe you use MySQL 8 dependency (com.mysql.cj.jdbc.Driver), try change dependency in pom.xml or change manual lib in your project to &#39;com.mysql.jdbc.Driver&#39; https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-usagenotes-connect-drivermanager.html","title":"How can I make connection by jdbc:mysql to siteground","body":"<p>I found this, maybe you use MySQL 8 dependency (com.mysql.cj.jdbc.Driver), try change dependency in pom.xml or change manual lib in your project to 'com.mysql.jdbc.Driver' <a href=\"https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-usagenotes-connect-drivermanager.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-usagenotes-connect-drivermanager.html</a></p>\n"},{"tags":[],"owner":{"account_id":22568448,"reputation":15,"user_id":16755029,"display_name":"Joseph"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1629950453,"creation_date":1629950453,"answer_id":68932357,"question_id":68931403,"body_markdown":"The reason is I only add the IPv6 address in the SiteGround webhosting manage site ,the solution is I have to entry IPv4 address.  ","title":"How can I make connection by jdbc:mysql to siteground","body":"<p>The reason is I only add the IPv6 address in the SiteGround webhosting manage site ,the solution is I have to entry IPv4 address.</p>\n"}],"owner":{"account_id":22568448,"reputation":15,"user_id":16755029,"display_name":"Joseph"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1542,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1666358209,"creation_date":1629940619,"question_id":68931403,"body_markdown":"I would like to connect my own GUI project to siteground MySQL server by jdbc:mysql protocol .\r\n\r\nThe host name is `sgp39.siteground.asia` and the port is `3306`.\r\n\r\nI tried using this command :\r\n\r\n    public void Connect() {\r\n            try {\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                con = DriverManager.getConnection(&quot;jdbc:mysql://sgp39.siteground.asia:3306/dbdyyh2gyaltys&quot;, &quot;username&quot;, &quot;password&quot;);\r\n            } catch (ClassNotFoundException ex) {\r\n    \r\n            } catch (SQLException ex) {\r\n    \r\n            }\r\n    }\r\n\r\nBut it doesn&#39;t work.\r\n\r\nMay I know what should I do next?\r\nHow can I find the correct path?\r\n\r\n","title":"How can I make connection by jdbc:mysql to siteground","body":"<p>I would like to connect my own GUI project to siteground MySQL server by jdbc:mysql protocol .</p>\n<p>The host name is <code>sgp39.siteground.asia</code> and the port is <code>3306</code>.</p>\n<p>I tried using this command :</p>\n<pre><code>public void Connect() {\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            con = DriverManager.getConnection(&quot;jdbc:mysql://sgp39.siteground.asia:3306/dbdyyh2gyaltys&quot;, &quot;username&quot;, &quot;password&quot;);\n        } catch (ClassNotFoundException ex) {\n\n        } catch (SQLException ex) {\n\n        }\n}\n</code></pre>\n<p>But it doesn't work.</p>\n<p>May I know what should I do next?\nHow can I find the correct path?</p>\n"},{"tags":["java","jaxb","java-7"],"answers":[{"tags":[],"owner":{"account_id":1891723,"reputation":5073,"user_id":1709621,"display_name":"Mirko Adari"},"down_vote_count":0,"up_vote_count":175,"is_accepted":false,"score":175,"last_activity_date":1484777729,"creation_date":1362001250,"answer_id":15122960,"question_id":15122890,"body_markdown":"Java 7 introduced stricter verification and changed the class format a bit&amp;mdash;to contain a stack map used to verify that code is correct. The exception you see means that some method doesn&#39;t have a valid stack map. \r\n\r\nJava version or bytecode instrumentation could both be to blame. Usually this means that a library used by the application generates invalid bytecode that doesn&#39;t pass the stricter verification. So nothing else than reporting it as a bug to the library can be done by the developer.\r\n\r\nAs a workaround you can add `-noverify` to the JVM arguments in order to disable verification. In Java 7 it was also possible to use `-XX:-UseSplitVerifier` to use the less strict verification method, but that option was removed in Java 8.","title":"java.lang.VerifyError: Expecting a stackmap frame at branch target JDK 1.7","body":"<p>Java 7 introduced stricter verification and changed the class format a bit&mdash;to contain a stack map used to verify that code is correct. The exception you see means that some method doesn't have a valid stack map. </p>\n\n<p>Java version or bytecode instrumentation could both be to blame. Usually this means that a library used by the application generates invalid bytecode that doesn't pass the stricter verification. So nothing else than reporting it as a bug to the library can be done by the developer.</p>\n\n<p>As a workaround you can add <code>-noverify</code> to the JVM arguments in order to disable verification. In Java 7 it was also possible to use <code>-XX:-UseSplitVerifier</code> to use the less strict verification method, but that option was removed in Java 8.</p>\n"},{"tags":[],"owner":{"account_id":1430365,"reputation":71,"user_id":1352899,"display_name":"yuxiaomin"},"down_vote_count":14,"up_vote_count":3,"is_accepted":false,"score":-11,"last_activity_date":1369287959,"creation_date":1369287959,"answer_id":16706395,"question_id":15122890,"body_markdown":"this link is helpful. \r\nhttps://stackoverflow.com/questions/8958267/java-lang-verifyerror-expecting-a-stackmap-frame\r\n\r\nthe simplest way is changing JRE to 6.","title":"java.lang.VerifyError: Expecting a stackmap frame at branch target JDK 1.7","body":"<p>this link is helpful. \n<a href=\"https://stackoverflow.com/questions/8958267/java-lang-verifyerror-expecting-a-stackmap-frame\">java.lang.VerifyError: Expecting a stackmap frame</a></p>\n\n<p>the simplest way is changing JRE to 6.</p>\n"},{"tags":[],"owner":{"account_id":376965,"reputation":13,"user_id":728762,"display_name":"scoro"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1381934282,"creation_date":1381934282,"answer_id":19406352,"question_id":15122890,"body_markdown":"Sorry for digging, but I met the same problem and found the simplier solution.\r\n\r\nIn Java compiler options you need to uncheck **&quot;Preserve unused (never read) local variables&quot;** so there is no need to change back target JVM version. \r\n\r\nIt seems to be a bug in an older Eclipe versions.","title":"java.lang.VerifyError: Expecting a stackmap frame at branch target JDK 1.7","body":"<p>Sorry for digging, but I met the same problem and found the simplier solution.</p>\n\n<p>In Java compiler options you need to uncheck <strong>\"Preserve unused (never read) local variables\"</strong> so there is no need to change back target JVM version. </p>\n\n<p>It seems to be a bug in an older Eclipe versions.</p>\n"},{"tags":[],"owner":{"account_id":2143953,"reputation":320,"user_id":1902014,"accept_rate":80,"display_name":"jrajp2184"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1407602506,"creation_date":1407602506,"answer_id":25220774,"question_id":15122890,"body_markdown":"If you are building the code yourself, then this issue could be overcome by giving &quot;-target 1.5&quot; to the java compiler (or by setting the corresponding option in your IDE or your build config).","title":"java.lang.VerifyError: Expecting a stackmap frame at branch target JDK 1.7","body":"<p>If you are building the code yourself, then this issue could be overcome by giving \"-target 1.5\" to the java compiler (or by setting the corresponding option in your IDE or your build config).</p>\n"},{"tags":[],"owner":{"account_id":5372879,"reputation":471,"user_id":4280826,"display_name":"Charan Raj"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1465969064,"creation_date":1422930094,"answer_id":28290300,"question_id":15122890,"body_markdown":"I ran into this problem and try using the flag `-noverify` which really works. It is because of the new bytecode verifier. So the flag should really work.\r\nI am using JDK 1.7. \r\n\r\nNote: This would not work if you are using JDK 1.8","title":"java.lang.VerifyError: Expecting a stackmap frame at branch target JDK 1.7","body":"<p>I ran into this problem and try using the flag <code>-noverify</code> which really works. It is because of the new bytecode verifier. So the flag should really work.\nI am using JDK 1.7. </p>\n\n<p>Note: This would not work if you are using JDK 1.8</p>\n"},{"tags":[],"owner":{"account_id":7720632,"reputation":169,"user_id":5846978,"display_name":"Anand Kumar K K"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1453982359,"creation_date":1453979768,"answer_id":35059995,"question_id":15122890,"body_markdown":"If you are using java 1.8, remove `XX:-UseSplitVerifier` and use `-noverify` in your JVM properties. ","title":"java.lang.VerifyError: Expecting a stackmap frame at branch target JDK 1.7","body":"<p>If you are using java 1.8, remove <code>XX:-UseSplitVerifier</code> and use <code>-noverify</code> in your JVM properties. </p>\n"},{"tags":[],"owner":{"account_id":1926150,"reputation":42835,"user_id":1736537,"display_name":"A Kunin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478070350,"creation_date":1478054480,"answer_id":40371647,"question_id":15122890,"body_markdown":"The only difference between files that causing the issue is the 8th byte of file\r\n\r\nCA FE BA BE 00 00 00 33 - Java 7\r\n\r\nvs.\r\n\r\nCA FE BA BE 00 00 00 32 - Java 6\r\n\r\nSetting `-XX:-UseSplitVerifier` resolves the issue. However, the cause of this issue is https://bugs.eclipse.org/bugs/show_bug.cgi?id=339388","title":"java.lang.VerifyError: Expecting a stackmap frame at branch target JDK 1.7","body":"<p>The only difference between files that causing the issue is the 8th byte of file</p>\n\n<p>CA FE BA BE 00 00 00 33 - Java 7</p>\n\n<p>vs.</p>\n\n<p>CA FE BA BE 00 00 00 32 - Java 6</p>\n\n<p>Setting <code>-XX:-UseSplitVerifier</code> resolves the issue. However, the cause of this issue is <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=339388\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=339388</a></p>\n"},{"tags":[],"owner":{"account_id":1435396,"reputation":121,"user_id":1356906,"display_name":"Leo"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1530839587,"creation_date":1530838273,"answer_id":51201688,"question_id":15122890,"body_markdown":"Pass `-noverify` JVM argument to your test task. If you are using gradle, in the `build.gradle` you can have something like:\r\n\r\n    test {\r\n      jvmArgs &quot;-noverify&quot;\r\n    }","title":"java.lang.VerifyError: Expecting a stackmap frame at branch target JDK 1.7","body":"<p>Pass <code>-noverify</code> JVM argument to your test task. If you are using gradle, in the <code>build.gradle</code> you can have something like:</p>\n\n<pre><code>test {\n  jvmArgs \"-noverify\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6873078,"reputation":9765,"user_id":5282585,"accept_rate":78,"display_name":"nhoxbypass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588594581,"creation_date":1588594581,"answer_id":61592041,"question_id":15122890,"body_markdown":"This ERROR can happen when you use Mockito to **mock final classes**.\r\n\r\nConsider using Mockito inline or Powermock instead.","title":"java.lang.VerifyError: Expecting a stackmap frame at branch target JDK 1.7","body":"<p>This ERROR can happen when you use Mockito to <strong>mock final classes</strong>.</p>\n\n<p>Consider using Mockito inline or Powermock instead.</p>\n"},{"tags":[],"owner":{"account_id":19372,"reputation":2711,"user_id":45364,"accept_rate":60,"display_name":"Sean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666357826,"creation_date":1666357826,"answer_id":74154139,"question_id":15122890,"body_markdown":"I had a similar issue that was caused by the `-preverify` flag. Removing that flag fixed the issue for me. JVM 1.7+ is incompatible with that option. https://www.guardsquare.com/manual/configuration/usage#dontpreverify","title":"java.lang.VerifyError: Expecting a stackmap frame at branch target JDK 1.7","body":"<p>I had a similar issue that was caused by the <code>-preverify</code> flag. Removing that flag fixed the issue for me. JVM 1.7+ is incompatible with that option. <a href=\"https://www.guardsquare.com/manual/configuration/usage#dontpreverify\" rel=\"nofollow noreferrer\">https://www.guardsquare.com/manual/configuration/usage#dontpreverify</a></p>\n"}],"owner":{"account_id":2394218,"reputation":973,"user_id":2093393,"display_name":"Sanguine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122923,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"answer_count":10,"score":91,"last_activity_date":1666357826,"creation_date":1362000939,"question_id":15122890,"body_markdown":"After upgrading to JDK 1.7 I am getting below exception:\r\n\r\n    java.lang.VerifyError: Expecting a stackmap frame at branch target 71 in method com.abc.domain.myPackage.MyClass$JaxbAccessorM_getDescription_setDescription_java_lang_String.get(Ljava/lang/Object;)Ljava/lang/Object; at offset 20\r\n    \tat java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredConstructors(Class.java:2413)\r\n    \tat java.lang.Class.getConstructor0(Class.java:2723)\r\n    \tat java.lang.Class.newInstance0(Class.java:345)\r\n    \tat java.lang.Class.newInstance(Class.java:327)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.instanciate(OptimizedAccessorFactory.java:184)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.get(OptimizedAccessorFactory.java:129)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.reflect.Accessor$GetterSetterReflection.optimize(Accessor.java:384)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.property.SingleElementLeafProperty.&lt;init&gt;(SingleElementLeafProperty.java:72)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:525)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:113)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.ClassBeanInfoImpl.&lt;init&gt;(ClassBeanInfoImpl.java:166)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.JAXBContextImpl.getOrCreate(JAXBContextImpl.java:494)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:311)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:126)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1148)\r\n    \tat com.sun.xml.internal.bind.v2.ContextFactory.createContext(ContextFactory.java:130)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:601)\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:248)\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:235)\r\n    \tat javax.xml.bind.ContextFinder.find(ContextFinder.java:445)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:637)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:584)\r\n    \tat com.abc.domain.myPackage.MyClass.marshalFacetsTest(MyClass.java:73)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:601)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)\r\n    \tat org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\r\n    \tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\r\n    \tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\r\n    \tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:128)\r\n    \tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:767)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:617)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:240)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1203)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1128)\r\n    \tat org.testng.TestNG.run(TestNG.java:1036)\r\n    \tat org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:111)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\r\n\r\n","title":"java.lang.VerifyError: Expecting a stackmap frame at branch target JDK 1.7","body":"<p>After upgrading to JDK 1.7 I am getting below exception:</p>\n\n<pre><code>java.lang.VerifyError: Expecting a stackmap frame at branch target 71 in method com.abc.domain.myPackage.MyClass$JaxbAccessorM_getDescription_setDescription_java_lang_String.get(Ljava/lang/Object;)Ljava/lang/Object; at offset 20\n    at java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2413)\n    at java.lang.Class.getConstructor0(Class.java:2723)\n    at java.lang.Class.newInstance0(Class.java:345)\n    at java.lang.Class.newInstance(Class.java:327)\n    at com.sun.xml.internal.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.instanciate(OptimizedAccessorFactory.java:184)\n    at com.sun.xml.internal.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.get(OptimizedAccessorFactory.java:129)\n    at com.sun.xml.internal.bind.v2.runtime.reflect.Accessor$GetterSetterReflection.optimize(Accessor.java:384)\n    at com.sun.xml.internal.bind.v2.runtime.property.SingleElementLeafProperty.&lt;init&gt;(SingleElementLeafProperty.java:72)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)\n    at com.sun.xml.internal.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:113)\n    at com.sun.xml.internal.bind.v2.runtime.ClassBeanInfoImpl.&lt;init&gt;(ClassBeanInfoImpl.java:166)\n    at com.sun.xml.internal.bind.v2.runtime.JAXBContextImpl.getOrCreate(JAXBContextImpl.java:494)\n    at com.sun.xml.internal.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:311)\n    at com.sun.xml.internal.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:126)\n    at com.sun.xml.internal.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1148)\n    at com.sun.xml.internal.bind.v2.ContextFactory.createContext(ContextFactory.java:130)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:248)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:235)\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:445)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:637)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:584)\n    at com.abc.domain.myPackage.MyClass.marshalFacetsTest(MyClass.java:73)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:128)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\n    at org.testng.TestRunner.privateRun(TestRunner.java:767)\n    at org.testng.TestRunner.run(TestRunner.java:617)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:240)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1203)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1128)\n    at org.testng.TestNG.run(TestNG.java:1036)\n    at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:111)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\n</code></pre>\n"},{"tags":["java","class","dictionary","hashmap"],"comments":[{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1666356440,"post_id":74153725,"comment_id":130923800,"body_markdown":"Class Name must start with a capital letter as per the java code convention.[coding  convention](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html#:~:text=Interface%20names%20should%20be%20capitalized%20like%20class%20names.&amp;text=Methods%20should%20be%20verbs%2C%20in,of%20each%20internal%20word%20capitalized.&amp;text=Except%20for%20variables%2C%20all%20instance,with%20a%20lowercase%20first%20letter.)","body":"Class Name must start with a capital letter as per the java code convention.<a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html#:~:text=Interface%20names%20should%20be%20capitalized%20like%20class%20names.&amp;text=Methods%20should%20be%20verbs%2C%20in,of%20each%20internal%20word%20capitalized.&amp;text=Except%20for%20variables%2C%20all%20instance,with%20a%20lowercase%20first%20letter.\" rel=\"nofollow noreferrer\">coding  convention</a>"}],"answers":[{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666357498,"creation_date":1666356136,"answer_id":74153802,"question_id":74153725,"body_markdown":"`new Map().getMap()`creates a new map. Hence its empty.\r\n\r\nYou have to store the map somewhere.\r\n```lang-java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class MapTest {\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;a&quot;, 1);\r\n        System.out.println(map.get(&quot;a&quot;));\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\n**Update:** pass map to different class\r\n\r\nYou have to keep track of the map somehow. So you can pass the Map to a different class if needed. But is has to be the same Object.\r\n\r\n```lang-java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class MapTest {\r\n    public static void main(String[] args) {\r\n        MapWrapper wrapper = new MapWrapper();\r\n        Adder adder = new Adder(wrapper);\r\n        adder.add();\r\n\r\n        System.out.println(wrapper.getHmap().get(&quot;a&quot;));\r\n    }\r\n\r\n    public static class Adder {\r\n        private final MapWrapper wrapper;\r\n\r\n        public Adder(MapWrapper wrapper) {\r\n            this.wrapper = wrapper;\r\n        }\r\n\r\n        public void add() {\r\n            wrapper.getHmap().put(&quot;a&quot;, 1);\r\n        }\r\n    }\r\n\r\n    public static class MapWrapper {\r\n        private final Map&lt;String, Integer&gt; hmap;\r\n\r\n        public MapWrapper() {\r\n            hmap = new HashMap&lt;&gt;();\r\n        }\r\n\r\n        public Map&lt;String, Integer&gt; getHmap() {\r\n            return hmap;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\n**Update:** simplified version without wrapper:\r\n\r\n```lang-java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class MapTest {\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n\r\n        Adder adder = new Adder(map);\r\n        adder.add();\r\n\r\n        System.out.println(map.get(&quot;a&quot;));\r\n    }\r\n\r\n    public static class Adder {\r\n        private final Map&lt;String, Integer&gt; map;\r\n\r\n        public Adder(Map&lt;String, Integer&gt; map) {\r\n            this.map = map;\r\n        }\r\n\r\n        public void add() {\r\n            map.put(&quot;a&quot;, 1);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Add a Key &amp; Value in a HashMap from a different Class","body":"<p><code>new Map().getMap()</code>creates a new map. Hence its empty.</p>\n<p>You have to store the map somewhere.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class MapTest {\n    public static void main(String[] args) {\n        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;a&quot;, 1);\n        System.out.println(map.get(&quot;a&quot;));\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Update:</strong> pass map to different class</p>\n<p>You have to keep track of the map somehow. So you can pass the Map to a different class if needed. But is has to be the same Object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class MapTest {\n    public static void main(String[] args) {\n        MapWrapper wrapper = new MapWrapper();\n        Adder adder = new Adder(wrapper);\n        adder.add();\n\n        System.out.println(wrapper.getHmap().get(&quot;a&quot;));\n    }\n\n    public static class Adder {\n        private final MapWrapper wrapper;\n\n        public Adder(MapWrapper wrapper) {\n            this.wrapper = wrapper;\n        }\n\n        public void add() {\n            wrapper.getHmap().put(&quot;a&quot;, 1);\n        }\n    }\n\n    public static class MapWrapper {\n        private final Map&lt;String, Integer&gt; hmap;\n\n        public MapWrapper() {\n            hmap = new HashMap&lt;&gt;();\n        }\n\n        public Map&lt;String, Integer&gt; getHmap() {\n            return hmap;\n        }\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Update:</strong> simplified version without wrapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class MapTest {\n    public static void main(String[] args) {\n        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n\n        Adder adder = new Adder(map);\n        adder.add();\n\n        System.out.println(map.get(&quot;a&quot;));\n    }\n\n    public static class Adder {\n        private final Map&lt;String, Integer&gt; map;\n\n        public Adder(Map&lt;String, Integer&gt; map) {\n            this.map = map;\n        }\n\n        public void add() {\n            map.put(&quot;a&quot;, 1);\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":12948896,"reputation":11,"user_id":9362357,"display_name":"Viknes Indiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1666357498,"creation_date":1666355801,"question_id":74153725,"body_markdown":"I created a hashmap class with its constructor, getter and setter. I need to add a key and value in the hashmap from a different class and print the hashmap in the Main class. \r\n\r\n```\r\nimport java.util.HashMap;\r\n\r\npublic class Map {\r\n    HashMap&lt;String, Integer&gt; hmap;\r\n    public Map() {\r\n        hmap= new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public HashMap&lt;String, Integer&gt; getMap()\r\n    {\r\n        return hmap;\r\n    }\r\n    public void setMap(String s, Integer i)\r\n    {\r\n        hmap.put(s,i);\r\n    }\r\n}\r\n\r\npublic class AddValue {\r\n    public void add(){\r\n        new Map().setMap(&quot;a&quot;,1);\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        new AddValue().add();\r\n        System.out.println(new Map().getMap());\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe Hashmap still shows empty when I add a value in a different class. How can I add the key &amp; value in this HashMap in a different class and print it in the Main class?","title":"Add a Key &amp; Value in a HashMap from a different Class","body":"<p>I created a hashmap class with its constructor, getter and setter. I need to add a key and value in the hashmap from a different class and print the hashmap in the Main class.</p>\n<pre><code>import java.util.HashMap;\n\npublic class Map {\n    HashMap&lt;String, Integer&gt; hmap;\n    public Map() {\n        hmap= new HashMap&lt;&gt;();\n    }\n\n    public HashMap&lt;String, Integer&gt; getMap()\n    {\n        return hmap;\n    }\n    public void setMap(String s, Integer i)\n    {\n        hmap.put(s,i);\n    }\n}\n\npublic class AddValue {\n    public void add(){\n        new Map().setMap(&quot;a&quot;,1);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        new AddValue().add();\n        System.out.println(new Map().getMap());\n    }\n}\n\n</code></pre>\n<p>The Hashmap still shows empty when I add a value in a different class. How can I add the key &amp; value in this HashMap in a different class and print it in the Main class?</p>\n"},{"tags":["java","docker","docker-compose","subdirectory","docker-machine"],"answers":[{"tags":[],"owner":{"account_id":17263784,"reputation":1860,"user_id":12501050,"display_name":"Muhammadzohir Rustamov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666357132,"creation_date":1666357132,"answer_id":74153982,"question_id":74153624,"body_markdown":"As documented in official [page][1] you can either override default path with: \r\n```bash\r\ndocker compose --env-file ./config/.env.dev config\r\n```\r\nor start container with:\r\n```bash\r\ndocker compose --env-file ./config/.env.dev up\r\n```\r\nThere is also an option to define it in ```docker-compose.yaml``` fila as:\r\n```\r\nxyz:\r\n  env_file:\r\n    - /path-to/web-variables.env\r\n```\r\n\r\n\r\n  [1]: https://docs.docker.com/compose/environment-variables/","title":"How can we run a docker compose with .env in another directory?","body":"<p>As documented in official <a href=\"https://docs.docker.com/compose/environment-variables/\" rel=\"nofollow noreferrer\">page</a> you can either override default path with:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker compose --env-file ./config/.env.dev config\n</code></pre>\n<p>or start container with:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker compose --env-file ./config/.env.dev up\n</code></pre>\n<p>There is also an option to define it in <code>docker-compose.yaml</code> fila as:</p>\n<pre><code>xyz:\n  env_file:\n    - /path-to/web-variables.env\n</code></pre>\n"}],"owner":{"account_id":26692628,"reputation":17,"user_id":20300985,"display_name":"Vikas 1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1753,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74153982,"answer_count":1,"score":1,"last_activity_date":1666357132,"creation_date":1666355259,"question_id":74153624,"body_markdown":"I am creating a **docker compose** file in a root directory with some **id** variable passing to it for volume creation using .env file, but one thing is I am creating a new directory for every **id** and placing **.env** in that directory, can we able to point this **.env** to pass parameters to the docker compose in root. Because I read some articles where that both need to reside in the same directory.\r\n\r\nMy docker-compose.yml\r\n\r\n    version: &quot;3.7&quot;\r\n    services:\r\n    xyz:\r\n      image: xyz\r\n      environment:\r\n        ID: &quot;${ID}&quot;\r\n\r\n\r\n     ports:\r\n        - &quot;XYZ:XYZ&quot;\r\n     volumes:\r\n        - /XYZ${ID}:/data\r\n\r\nWhich will be basically in sub directory example in 1234 directory\r\n\r\n.env file \r\n\r\n    ID=1234","title":"How can we run a docker compose with .env in another directory?","body":"<p>I am creating a <strong>docker compose</strong> file in a root directory with some <strong>id</strong> variable passing to it for volume creation using .env file, but one thing is I am creating a new directory for every <strong>id</strong> and placing <strong>.env</strong> in that directory, can we able to point this <strong>.env</strong> to pass parameters to the docker compose in root. Because I read some articles where that both need to reside in the same directory.</p>\n<p>My docker-compose.yml</p>\n<pre><code>version: &quot;3.7&quot;\nservices:\nxyz:\n  image: xyz\n  environment:\n    ID: &quot;${ID}&quot;\n\n\n ports:\n    - &quot;XYZ:XYZ&quot;\n volumes:\n    - /XYZ${ID}:/data\n</code></pre>\n<p>Which will be basically in sub directory example in 1234 directory</p>\n<p>.env file</p>\n<pre><code>ID=1234\n</code></pre>\n"},{"tags":["java","interface","hashmap"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666356571,"post_id":74153822,"comment_id":130923848,"body_markdown":"Why would you need that? I guess you might want to learn about the benefits of using abstractions. See [What does it mean to &quot;program to an interface&quot;?](https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface)","body":"Why would you need that? I guess you might want to learn about the benefits of using abstractions. See <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666356841,"post_id":74153822,"comment_id":130923951,"body_markdown":"@AlexanderIvanchenko what if they want to later modify that map?","body":"@AlexanderIvanchenko what if they want to later modify that map?"},{"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"score":0,"creation_date":1666515305,"post_id":74153822,"comment_id":130951600,"body_markdown":"@FedericoklezCulloca if i would like to later modify the map i would just declare an empty Map and later add the items using put but thats not the point here, here i just want to use the HashMap once only thats why declaring an empty map and using put to add items to the map just makes the code a little bit longer, yeah its negligible and it might not matter to you but it does to me","body":"@FedericoklezCulloca if i would like to later modify the map i would just declare an empty Map and later add the items using put but thats not the point here, here i just want to use the HashMap once only thats why declaring an empty map and using put to add items to the map just makes the code a little bit longer, yeah its negligible and it might not matter to you but it does to me"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666516590,"post_id":74153822,"comment_id":130951786,"body_markdown":"@EmmanuelNjorodongo my point was that if you did what Alexander Ivanchenko implied and simply declared `hashMap` as a map you would still have obtained an unmodifiable map from the `of` method and you couldn&#39;t add elements to it if you needed to. I was answering their &quot;Why would you need that?&quot;","body":"@EmmanuelNjorodongo my point was that if you did what Alexander Ivanchenko implied and simply declared <code>hashMap</code> as a map you would still have obtained an unmodifiable map from the <code>of</code> method and you couldn&#39;t add elements to it if you needed to. I was answering their &quot;Why would you need that?&quot;"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666357091,"creation_date":1666356603,"answer_id":74153881,"question_id":74153822,"body_markdown":"[`Map.of`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V)) doesn&#39;t return a `HashMap`, it returns an [unmodifiable map](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#unmodifiable) (what type that is exactly is implementation-dependent and not important), so you can&#39;t assign it to a `HashMap`.\r\n\r\nYou can work around that by using the [`HashMap`&#39;s constructor](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html#%3Cinit%3E(java.util.Map)) that accepts (and makes a copy of) another map as an argument.\r\n\r\n    HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;(Map.of(&quot;name&quot;, &quot;Murife&quot;));","title":"no instance(s) of type variable(s) K, V exist so that Map&lt;K, V&gt; conforms to HashMap&lt;String, String&gt;","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V)\" rel=\"nofollow noreferrer\"><code>Map.of</code></a> doesn't return a <code>HashMap</code>, it returns an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable map</a> (what type that is exactly is implementation-dependent and not important), so you can't assign it to a <code>HashMap</code>.</p>\n<p>You can work around that by using the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html#%3Cinit%3E(java.util.Map)\" rel=\"nofollow noreferrer\"><code>HashMap</code>'s constructor</a> that accepts (and makes a copy of) another map as an argument.</p>\n<pre><code>HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;(Map.of(&quot;name&quot;, &quot;Murife&quot;));\n</code></pre>\n"}],"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74153881,"answer_count":1,"score":0,"last_activity_date":1666357091,"creation_date":1666356252,"question_id":74153822,"body_markdown":"I am trying to initialize my `HashMap&lt;String, String&gt; hashMap` in a one liner.\r\n\r\nBelow is how i am initializing my  `Map&lt;String, String&gt; map` and its just working okay\r\n\r\n```\r\n\r\nMap&lt;String, String&gt; map = Map.of(&quot;name&quot;, &quot;Murife&quot;);\r\n\r\n```\r\n\r\nBelow is how i am initializing my hashMap \r\n\r\n```\r\nHashMap&lt;String, String&gt; hashMap = Map.of(&quot;name&quot;, &quot;Murife&quot;);\r\n\r\n```\r\n\r\nIs it possible to Initialize a HashMap using Map.of or it is only limited to Map\r\n\r\n","title":"no instance(s) of type variable(s) K, V exist so that Map&lt;K, V&gt; conforms to HashMap&lt;String, String&gt;","body":"<p>I am trying to initialize my <code>HashMap&lt;String, String&gt; hashMap</code> in a one liner.</p>\n<p>Below is how i am initializing my  <code>Map&lt;String, String&gt; map</code> and its just working okay</p>\n<pre><code>\nMap&lt;String, String&gt; map = Map.of(&quot;name&quot;, &quot;Murife&quot;);\n\n</code></pre>\n<p>Below is how i am initializing my hashMap</p>\n<pre><code>HashMap&lt;String, String&gt; hashMap = Map.of(&quot;name&quot;, &quot;Murife&quot;);\n\n</code></pre>\n<p>Is it possible to Initialize a HashMap using Map.of or it is only limited to Map</p>\n"},{"tags":["java","android","kotlin","random"],"comments":[{"owner":{"account_id":1771660,"reputation":8667,"user_id":1616317,"display_name":"karan"},"score":1,"creation_date":1548308814,"post_id":54340057,"comment_id":95496395,"body_markdown":"post your code what you have tried.","body":"post your code what you have tried."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1548309552,"post_id":54340057,"comment_id":95496631,"body_markdown":"I can just guess here: Did you really write `Random.nextInt()`? `nextInt` is not a static method. It needs to be called on an instance of class `Random`.","body":"I can just guess here: Did you really write <code>Random.nextInt()</code>? <code>nextInt</code> is not a static method. It needs to be called on an instance of class <code>Random</code>."},{"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":1,"creation_date":1548329194,"post_id":54340057,"comment_id":95506558,"body_markdown":"&quot;I even imported java.util.* to get the Random library imported.&quot; That&#39;s the problem, the video likely uses `kotlin.random.Random` (https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.random/-random/index.html) instead.","body":"&quot;I even imported java.util.* to get the Random library imported.&quot; That&#39;s the problem, the video likely uses <code>kotlin.random.Random</code> (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.random/-random/index.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.random/-random/&zwnj;&#8203;&hellip;</a>) instead."}],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1548311837,"creation_date":1548311837,"answer_id":54340664,"question_id":54340057,"body_markdown":"If you use `Random` class from `java.util` package you need to create an instance of `Random` class. Instances in Kotlin are created using **NameOfClass()** syntax:\r\n\r\n    java.util.Random().nextInt()\r\n\r\nIf you use `Random` class from `kotlin.random` package you don&#39;t need to create an instance of the class:\r\n\r\n    kotlin.random.Random.nextInt()","title":"First app - Random.nextInt() unresolved reference","body":"<p>If you use <code>Random</code> class from <code>java.util</code> package you need to create an instance of <code>Random</code> class. Instances in Kotlin are created using <strong>NameOfClass()</strong> syntax:</p>\n\n<pre><code>java.util.Random().nextInt()\n</code></pre>\n\n<p>If you use <code>Random</code> class from <code>kotlin.random</code> package you don't need to create an instance of the class:</p>\n\n<pre><code>kotlin.random.Random.nextInt()\n</code></pre>\n"}],"owner":{"account_id":949954,"reputation":468,"user_id":976299,"accept_rate":60,"display_name":"Casey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4857,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":54340664,"answer_count":1,"score":3,"last_activity_date":1666355893,"creation_date":1548308641,"question_id":54340057,"body_markdown":"I have followed this tutorial for building an android app. https://www.youtube.com/watch?v=EOfCEhWq8sg\r\n\r\nIt goes well up until the end, where we generate a random val using `Random.nextInt()`. In Android Studio (3.3), I get an error :\r\n\r\n&gt; an unresolved reference to nextInt.\r\n\r\n I have made sure I am using the right spelling. This program uses Kotlin, and I even imported `java.util.*` to get the Random library imported.\r\n\r\nPlease help me out, it is very discouraging not being able to get such a simple application built.\r\n\r\nThanks.","title":"First app - Random.nextInt() unresolved reference","body":"<p>I have followed this tutorial for building an android app. <a href=\"https://www.youtube.com/watch?v=EOfCEhWq8sg\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=EOfCEhWq8sg</a></p>\n\n<p>It goes well up until the end, where we generate a random val using <code>Random.nextInt()</code>. In Android Studio (3.3), I get an error :</p>\n\n<blockquote>\n  <p>an unresolved reference to nextInt.</p>\n</blockquote>\n\n<p>I have made sure I am using the right spelling. This program uses Kotlin, and I even imported <code>java.util.*</code> to get the Random library imported.</p>\n\n<p>Please help me out, it is very discouraging not being able to get such a simple application built.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","apache-spark","go","apache-beam","jackson-databind"],"comments":[{"owner":{"account_id":13758544,"reputation":5117,"user_id":9928809,"display_name":"Nick_Kh"},"score":0,"creation_date":1634560549,"post_id":69494877,"comment_id":123049923,"body_markdown":"Can you share more context about the Spark job runner(Standalone, YARN, Mesos) as well as the initial launching application spark command? Link for the Apache Beam Golang code example will help to replicate the issue.","body":"Can you share more context about the Spark job runner(Standalone, YARN, Mesos) as well as the initial launching application spark command? Link for the Apache Beam Golang code example will help to replicate the issue."},{"owner":{"account_id":20043652,"reputation":53,"user_id":14693857,"display_name":"lpad ze"},"score":0,"creation_date":1636536148,"post_id":69494877,"comment_id":123580485,"body_markdown":"@Wytrzymały Wiktor the question is updated.","body":"@Wytrzymały Wiktor the question is updated."},{"owner":{"account_id":4211621,"reputation":527,"user_id":3449149,"accept_rate":53,"display_name":"Mdumanoj"},"score":0,"creation_date":1648110103,"post_id":69494877,"comment_id":126542300,"body_markdown":"@Ipad Did you find any solution for this?","body":"@Ipad Did you find any solution for this?"},{"owner":{"account_id":20043652,"reputation":53,"user_id":14693857,"display_name":"lpad ze"},"score":0,"creation_date":1650976460,"post_id":69494877,"comment_id":127247153,"body_markdown":"@Mdumanoj no regrettably.","body":"@Mdumanoj no regrettably."}],"answers":[{"tags":[],"owner":{"account_id":5368982,"reputation":895,"user_id":4278032,"display_name":"Moritz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666355642,"creation_date":1666355642,"answer_id":74153696,"question_id":69494877,"body_markdown":"Sorry for the late answer, I was just looking into related issues.\r\n\r\nUnfortunately the Spark 2 job-server was broken when bumping the Jackson version used in Beam. By default Spark loads classes from its own system classpath first. And that classpath contains a very outdated version of Jackson which is not compatible with Beam anymore.\r\n\r\nWhile there is work-arounds to deal with that when submitting Beam Java apps to Spark, these - unfortunately - don&#39;t work for the Spark job-server. See \r\nhttps://github.com/apache/beam/issues/23568 for more details.\r\n\r\nAlso, Spark 2 support has been deprecated in Beam.\r\n\r\nI recommend running the job-server for Spark 3 instead.\r\n```\r\n./gradlew :runners:spark:3:job-server:runShadow -PsparkMasterUrl=spark://localhost:7077\r\n```","title":"java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.type. when running go example using apache beam spark runner","body":"<p>Sorry for the late answer, I was just looking into related issues.</p>\n<p>Unfortunately the Spark 2 job-server was broken when bumping the Jackson version used in Beam. By default Spark loads classes from its own system classpath first. And that classpath contains a very outdated version of Jackson which is not compatible with Beam anymore.</p>\n<p>While there is work-arounds to deal with that when submitting Beam Java apps to Spark, these - unfortunately - don't work for the Spark job-server. See\n<a href=\"https://github.com/apache/beam/issues/23568\" rel=\"nofollow noreferrer\">https://github.com/apache/beam/issues/23568</a> for more details.</p>\n<p>Also, Spark 2 support has been deprecated in Beam.</p>\n<p>I recommend running the job-server for Spark 3 instead.</p>\n<pre><code>./gradlew :runners:spark:3:job-server:runShadow -PsparkMasterUrl=spark://localhost:7077\n</code></pre>\n"}],"owner":{"account_id":20043652,"reputation":53,"user_id":14693857,"display_name":"lpad ze"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1666355642,"creation_date":1633691245,"question_id":69494877,"body_markdown":" I want to run [grades][1] example proposed by apache beam go sdk using spark runner on a spark cluster with one master and two slaves (spark2.4.5 version ). I start the job runner using ```./gradlew :runners:spark:2:job-server:runShadow -PsparkMasterUrl=spark://localhost:7077``` and run it using the following command : ```grades -runner=spark -endpoint=localhost:8099 -job_name=gradetest```\r\n\r\nHowever I get the following error.\r\n ``` Job state: RUNNING\r\n2021/10/08 11:42:34  (): org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.type.TypeBindings.emptyBindings()Lcom/fasterxml/jackson/databind/type/TypeBindings;\r\n\tat org.apache.beam.runners.spark.SparkPipelineResult.beamExceptionFrom(SparkPipelineResult.java:73)\r\n\tat org.apache.beam.runners.spark.SparkPipelineResult.waitUntilFinish(SparkPipelineResult.java:104)\r\n\tat org.apache.beam.runners.spark.SparkPipelineResult.waitUntilFinish(SparkPipelineResult.java:92)\r\n\tat org.apache.beam.runners.spark.SparkPipelineRunner.run(SparkPipelineRunner.java:199)\r\n```\r\nI assume that the problem can be from the spark job runner because i test another code using python and I get the same error. \r\nAny help would be gratefully appreciated  \r\n\r\n\r\n  [1]: https://github.com/apache/beam/tree/master/sdks/go/examples/grades","title":"java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.type. when running go example using apache beam spark runner","body":"<p>I want to run <a href=\"https://github.com/apache/beam/tree/master/sdks/go/examples/grades\" rel=\"nofollow noreferrer\">grades</a> example proposed by apache beam go sdk using spark runner on a spark cluster with one master and two slaves (spark2.4.5 version ). I start the job runner using <code>./gradlew :runners:spark:2:job-server:runShadow -PsparkMasterUrl=spark://localhost:7077</code> and run it using the following command : <code>grades -runner=spark -endpoint=localhost:8099 -job_name=gradetest</code></p>\n<p>However I get the following error.</p>\n<pre><code>2021/10/08 11:42:34  (): org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.type.TypeBindings.emptyBindings()Lcom/fasterxml/jackson/databind/type/TypeBindings;\n   at org.apache.beam.runners.spark.SparkPipelineResult.beamExceptionFrom(SparkPipelineResult.java:73)\n   at org.apache.beam.runners.spark.SparkPipelineResult.waitUntilFinish(SparkPipelineResult.java:104)\n   at org.apache.beam.runners.spark.SparkPipelineResult.waitUntilFinish(SparkPipelineResult.java:92)\n   at org.apache.beam.runners.spark.SparkPipelineRunner.run(SparkPipelineRunner.java:199)\n</code></pre>\n<p>I assume that the problem can be from the spark job runner because i test another code using python and I get the same error.\nAny help would be gratefully appreciated</p>\n"},{"tags":["java","arrays","char"],"comments":[{"owner":{"account_id":4441392,"reputation":3262,"user_id":3615862,"accept_rate":100,"display_name":"ThisaruG"},"score":0,"creation_date":1666345707,"post_id":74151678,"comment_id":130920215,"body_markdown":"What is the type of `a` and `b`? What happen if the `a` is an instance of `Double` and `b` is an instance of `Long`?","body":"What is the type of <code>a</code> and <code>b</code>? What happen if the <code>a</code> is an instance of <code>Double</code> and <code>b</code> is an instance of <code>Long</code>?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1666346798,"post_id":74151678,"comment_id":130920592,"body_markdown":"How these two chars came into the array? do you have some kind of scanner/lexical analyzer? why don&#39;t you use an enum type instead?","body":"How these two chars came into the array? do you have some kind of scanner/lexical analyzer? why don&#39;t you use an enum type instead?"},{"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"score":0,"creation_date":1666777634,"post_id":74151678,"comment_id":131014557,"body_markdown":"@MauricePerry Yes iterative of reading each char from string expression","body":"@MauricePerry Yes iterative of reading each char from string expression"}],"answers":[{"tags":[],"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666346023,"creation_date":1666346023,"answer_id":74151881,"question_id":74151678,"body_markdown":"Convert each one of these into [BiFunctions][1].\r\n\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = a.doubleValue() + b.doubleValue();\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = a.longValue() + b.longValue();\r\n        }\r\n\r\nAnd put them into a map using the operator as key. Your big if-else-switch statement becomes:\r\n\r\n    result = operatorMap.get(op.toString()).apply(a, b);\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html","title":"Java Convert two char Operator String to working Operator?","body":"<p>Convert each one of these into <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html\" rel=\"nofollow noreferrer\">BiFunctions</a>.</p>\n<pre><code>    if (a instanceof Double || b instanceof Double) {\n      result = a.doubleValue() + b.doubleValue();\n    } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n      result = a.longValue() + b.longValue();\n    }\n</code></pre>\n<p>And put them into a map using the operator as key. Your big if-else-switch statement becomes:</p>\n<pre><code>result = operatorMap.get(op.toString()).apply(a, b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666351144,"creation_date":1666351144,"answer_id":74152871,"question_id":74151678,"body_markdown":"As always, avoid repetition by moving common code into methods. The struggle seems to be with the passing of the actual operations as arguments. One solution could be\r\n\r\n```java\r\nswitch(operator.length == 1? operator[0]: operator[0] &lt;&lt; 16 | operator[1])\r\n{\r\n  case &#39;+&#39;: result = perform(a, b, Double::sum, Long::sum); break;\r\n  case &#39;-&#39;: result = perform(a, b, (d1, d2) -&gt; d1 - d2, (l1, l2) -&gt; l1 - l2); break;\r\n  case &#39;*&#39;: result = perform(a, b, (d1, d2) -&gt; d1 * d2, (l1, l2) -&gt; l1 * l2); break;\r\n  case &#39;/&#39;: result = perform(a, b, (d1, d2) -&gt; d1 / check(d2),(l1, l2) -&gt; l1 / l2);break;\r\n  case &#39;%&#39;: result = perform(a, b, (d1, d2) -&gt; d1 % check(d2),(l1, l2) -&gt; l1 % l2);break;\r\n  case &#39;^&#39;: result = perform(a, b, Math::pow, (l1, l2) -&gt; (long)Math.pow(l1, l2)); break;\r\n  case &#39;&gt;&#39;:\r\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &gt; d2, (l1, l2) -&gt; l1 &gt; l2);\r\n    break;\r\n  case &#39;&lt;&#39;:\r\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &lt; d2, (l1, l2) -&gt; l1 &lt; l2);\r\n    break;\r\n  case &#39;&lt;&#39; &lt;&lt; 16 | &#39;=&#39;:\r\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &lt;= d2, (l1, l2) -&gt; l1 &lt;= l2);\r\n    break;\r\n  case &#39;&gt;&#39; &lt;&lt; 16 | &#39;=&#39;:\r\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &gt;= d2, (l1, l2) -&gt; l1 &gt;= l2);\r\n    break;\r\n  case &#39;=&#39; &lt;&lt; 16 | &#39;=&#39;:\r\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n    result = performCmp(a, b, (d1, d2) -&gt; d1 == d2, (l1, l2) -&gt; l1 == l2);\r\n    break;\r\n  default: throw new ArithmeticException(&quot;unknown operator &quot; + new String(operator));\r\n}\r\n```\r\n```java\r\nstatic Number perform(\r\n    Number a, Number b, DoubleBinaryOperator dOp, LongBinaryOperator lOp)\r\n{\r\n  return a instanceof Double || b instanceof Double?\r\n      dOp.applyAsDouble(a.doubleValue(), b.doubleValue()):\r\n      lOp.applyAsLong(a.longValue(), b.longValue());\r\n}\r\n\r\n@FunctionalInterface interface BinaryDoublePredicate\r\n{\r\n  boolean test(double d1, double d2);\r\n}\r\n\r\n@FunctionalInterface interface BinaryLongPredicate\r\n{\r\n  boolean test(long d1, long d2);\r\n}\r\n\r\nstatic Number performCmp(\r\n    Number a, Number b, BinaryDoublePredicate dOp, BinaryLongPredicate lOp)\r\n{\r\n  return (a instanceof Double || b instanceof Double?\r\n      dOp.test(a.doubleValue(), b.doubleValue()):\r\n      lOp.test(a.longValue(), b.longValue()))? 1: 0;\r\n}\r\n\r\nstatic double check(double d2)\r\n{\r\n  if(d2 == 0) throw new ArithmeticException(&quot;/ by zero&quot;);\r\n  return d2;\r\n}\r\n```\r\n\r\nNote that when using the better suited `ArithmeticException` instead of `UnsupportedOperationException` for division by zero, you get it for free when performing `/` or `%` on `long`. Only for the `double` operation, an explicit check is needed when you want to get an exception rather than `NaN`.\r\n\r\nThe code above also handles the one-char and two-char values with a single `switch` statement as an `int` can easily contain two chars. The only drawback is that it would handle `&quot;\\0+&quot;` like `&quot;+&quot;` but such input should be ruled out by the preceding processing operation already.\r\n","title":"Java Convert two char Operator String to working Operator?","body":"<p>As always, avoid repetition by moving common code into methods. The struggle seems to be with the passing of the actual operations as arguments. One solution could be</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch(operator.length == 1? operator[0]: operator[0] &lt;&lt; 16 | operator[1])\n{\n  case '+': result = perform(a, b, Double::sum, Long::sum); break;\n  case '-': result = perform(a, b, (d1, d2) -&gt; d1 - d2, (l1, l2) -&gt; l1 - l2); break;\n  case '*': result = perform(a, b, (d1, d2) -&gt; d1 * d2, (l1, l2) -&gt; l1 * l2); break;\n  case '/': result = perform(a, b, (d1, d2) -&gt; d1 / check(d2),(l1, l2) -&gt; l1 / l2);break;\n  case '%': result = perform(a, b, (d1, d2) -&gt; d1 % check(d2),(l1, l2) -&gt; l1 % l2);break;\n  case '^': result = perform(a, b, Math::pow, (l1, l2) -&gt; (long)Math.pow(l1, l2)); break;\n  case '&gt;':\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &gt; d2, (l1, l2) -&gt; l1 &gt; l2);\n    break;\n  case '&lt;':\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &lt; d2, (l1, l2) -&gt; l1 &lt; l2);\n    break;\n  case '&lt;' &lt;&lt; 16 | '=':\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &lt;= d2, (l1, l2) -&gt; l1 &lt;= l2);\n    break;\n  case '&gt;' &lt;&lt; 16 | '=':\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &gt;= d2, (l1, l2) -&gt; l1 &gt;= l2);\n    break;\n  case '=' &lt;&lt; 16 | '=':\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n    result = performCmp(a, b, (d1, d2) -&gt; d1 == d2, (l1, l2) -&gt; l1 == l2);\n    break;\n  default: throw new ArithmeticException(&quot;unknown operator &quot; + new String(operator));\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>static Number perform(\n    Number a, Number b, DoubleBinaryOperator dOp, LongBinaryOperator lOp)\n{\n  return a instanceof Double || b instanceof Double?\n      dOp.applyAsDouble(a.doubleValue(), b.doubleValue()):\n      lOp.applyAsLong(a.longValue(), b.longValue());\n}\n\n@FunctionalInterface interface BinaryDoublePredicate\n{\n  boolean test(double d1, double d2);\n}\n\n@FunctionalInterface interface BinaryLongPredicate\n{\n  boolean test(long d1, long d2);\n}\n\nstatic Number performCmp(\n    Number a, Number b, BinaryDoublePredicate dOp, BinaryLongPredicate lOp)\n{\n  return (a instanceof Double || b instanceof Double?\n      dOp.test(a.doubleValue(), b.doubleValue()):\n      lOp.test(a.longValue(), b.longValue()))? 1: 0;\n}\n\nstatic double check(double d2)\n{\n  if(d2 == 0) throw new ArithmeticException(&quot;/ by zero&quot;);\n  return d2;\n}\n</code></pre>\n<p>Note that when using the better suited <code>ArithmeticException</code> instead of <code>UnsupportedOperationException</code> for division by zero, you get it for free when performing <code>/</code> or <code>%</code> on <code>long</code>. Only for the <code>double</code> operation, an explicit check is needed when you want to get an exception rather than <code>NaN</code>.</p>\n<p>The code above also handles the one-char and two-char values with a single <code>switch</code> statement as an <code>int</code> can easily contain two chars. The only drawback is that it would handle <code>&quot;\\0+&quot;</code> like <code>&quot;+&quot;</code> but such input should be ruled out by the preceding processing operation already.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666355486,"creation_date":1666355486,"answer_id":74153663,"question_id":74151678,"body_markdown":"You could use a table of binary operators. For instance, the following class could be used to model one of these binary operators:\r\n\r\n    public class Operator2&lt;T1 extends Number, T2 extends Number&gt; {\r\n        private final Class&lt;T1&gt; t1;\r\n        private final Class&lt;T2&gt; t2;\r\n        private final BiFunction&lt;T1,T2,?&gt; op;\r\n    \r\n        public Operator2(\r\n                Class&lt;T1&gt; t1, Class&lt;T2&gt; t2, BiFunction&lt;T1,T2,?&gt; op) {\r\n            this.t1 = t1;\r\n            this.t2 = t2;\r\n            this.op = op;\r\n        }\r\n    \r\n        public boolean canApplyTo(Number a, Number b) {\r\n            return canConvert(a.getClass(), t1) &amp;&amp; canConvert(b.getClass(), t2);\r\n        }\r\n    \r\n        public Object apply(Number a, Number b) {\r\n            return op.apply((T1)convert(a, t1), (T2)convert(b, t2));\r\n        }\r\n    \r\n        private static boolean canConvert(\r\n                Class&lt;? extends Number&gt; s, Class&lt;? extends Number&gt; t) {\r\n            if (s == t) {\r\n                return true;\r\n            }\r\n            if (t == Double.class) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private static Number convert(Number v, Class&lt;? extends Number&gt; t) {\r\n            if (v.getClass() == t) {\r\n                return v;\r\n            }\r\n            if (t == Double.class) {\r\n                return v.doubleValue();\r\n            }\r\n            return 0L;\r\n        }\r\n    }\r\n\r\nThe next class is a table of binary operators:\r\n\r\n\r\n    public class Operator2Table {\r\n        private final Map&lt;String,List&lt;Operator2&lt;?,?&gt;&gt;&gt; map = new HashMap&lt;&gt;();\r\n    \r\n        public Operator2Table() {\r\n            register(&quot;+&quot;, Long.class, Long.class, (a,b) -&gt; a+b);\r\n            register(&quot;+&quot;, Double.class, Double.class, (a,b) -&gt; a+b);\r\n            // ...\r\n        }\r\n    \r\n        public Object apply(String s, Number a, Number b) {\r\n            List&lt;Operator2&lt;?,?&gt;&gt; list = map.get(s);\r\n            if (list == null) {\r\n                throw new IllegalArgumentException(&quot;Unknown operator &quot; + s);\r\n            }\r\n            for (Operator2&lt;?,?&gt; op: list) {\r\n                if (op.canApplyTo(a, b)) {\r\n                    return op.apply(a, b);\r\n                }\r\n            }\r\n            throw new IllegalArgumentException(&quot;Cannot apply operator &quot; + s\r\n                    + &quot; to given argument&quot;);\r\n        }\r\n    \r\n        private &lt;T1 extends Number,T2 extends Number&gt;\r\n             void register(String s, Class&lt;T1&gt; t1, Class&lt;T2&gt; t2, BiFunction&lt;T1,T2,?&gt; op) {\r\n            List&lt;Operator2&lt;?,?&gt;&gt; list = map.get(s);\r\n            if (list == null) {\r\n                list = new ArrayList&lt;&gt;();\r\n                map.put(s, list);\r\n            }\r\n            list.add(new Operator2&lt;&gt;(t1, t2, op));\r\n        }\r\n    }\r\n\r\nNote that it is important that you register the `Long` version of a given operator before the `Double` version because the `Double` version can also be applied to two `Long`s whereas the `Long` version cannot be applied to two `Double`s.\r\n\r\nThese tables are very flexible, and you could easily extend the code to support `Int`s, `Short`s and `Float`s.\r\n","title":"Java Convert two char Operator String to working Operator?","body":"<p>You could use a table of binary operators. For instance, the following class could be used to model one of these binary operators:</p>\n<pre><code>public class Operator2&lt;T1 extends Number, T2 extends Number&gt; {\n    private final Class&lt;T1&gt; t1;\n    private final Class&lt;T2&gt; t2;\n    private final BiFunction&lt;T1,T2,?&gt; op;\n\n    public Operator2(\n            Class&lt;T1&gt; t1, Class&lt;T2&gt; t2, BiFunction&lt;T1,T2,?&gt; op) {\n        this.t1 = t1;\n        this.t2 = t2;\n        this.op = op;\n    }\n\n    public boolean canApplyTo(Number a, Number b) {\n        return canConvert(a.getClass(), t1) &amp;&amp; canConvert(b.getClass(), t2);\n    }\n\n    public Object apply(Number a, Number b) {\n        return op.apply((T1)convert(a, t1), (T2)convert(b, t2));\n    }\n\n    private static boolean canConvert(\n            Class&lt;? extends Number&gt; s, Class&lt;? extends Number&gt; t) {\n        if (s == t) {\n            return true;\n        }\n        if (t == Double.class) {\n            return true;\n        }\n        return false;\n    }\n\n    private static Number convert(Number v, Class&lt;? extends Number&gt; t) {\n        if (v.getClass() == t) {\n            return v;\n        }\n        if (t == Double.class) {\n            return v.doubleValue();\n        }\n        return 0L;\n    }\n}\n</code></pre>\n<p>The next class is a table of binary operators:</p>\n<pre><code>public class Operator2Table {\n    private final Map&lt;String,List&lt;Operator2&lt;?,?&gt;&gt;&gt; map = new HashMap&lt;&gt;();\n\n    public Operator2Table() {\n        register(&quot;+&quot;, Long.class, Long.class, (a,b) -&gt; a+b);\n        register(&quot;+&quot;, Double.class, Double.class, (a,b) -&gt; a+b);\n        // ...\n    }\n\n    public Object apply(String s, Number a, Number b) {\n        List&lt;Operator2&lt;?,?&gt;&gt; list = map.get(s);\n        if (list == null) {\n            throw new IllegalArgumentException(&quot;Unknown operator &quot; + s);\n        }\n        for (Operator2&lt;?,?&gt; op: list) {\n            if (op.canApplyTo(a, b)) {\n                return op.apply(a, b);\n            }\n        }\n        throw new IllegalArgumentException(&quot;Cannot apply operator &quot; + s\n                + &quot; to given argument&quot;);\n    }\n\n    private &lt;T1 extends Number,T2 extends Number&gt;\n         void register(String s, Class&lt;T1&gt; t1, Class&lt;T2&gt; t2, BiFunction&lt;T1,T2,?&gt; op) {\n        List&lt;Operator2&lt;?,?&gt;&gt; list = map.get(s);\n        if (list == null) {\n            list = new ArrayList&lt;&gt;();\n            map.put(s, list);\n        }\n        list.add(new Operator2&lt;&gt;(t1, t2, op));\n    }\n}\n</code></pre>\n<p>Note that it is important that you register the <code>Long</code> version of a given operator before the <code>Double</code> version because the <code>Double</code> version can also be applied to two <code>Long</code>s whereas the <code>Long</code> version cannot be applied to two <code>Double</code>s.</p>\n<p>These tables are very flexible, and you could easily extend the code to support <code>Int</code>s, <code>Short</code>s and <code>Float</code>s.</p>\n"}],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74151881,"answer_count":3,"score":1,"last_activity_date":1666355486,"creation_date":1666344960,"question_id":74151678,"body_markdown":"```java\r\nHave char[] operator = // &quot;+&quot; or &quot;&lt;&quot; or &quot;&lt;=&quot; etc\r\n  if(op.length == 1) {\r\n    switch (op[0]) {\r\n      case &#39;+&#39;:\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = a.doubleValue() + b.doubleValue();\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = a.longValue() + b.longValue();\r\n        }\r\n        break;\r\n      case &#39;-&#39;:\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = a.doubleValue() - b.doubleValue();\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = a.longValue() - b.longValue();\r\n        }\r\n        break;\r\n      case &#39;*&#39;:\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = a.doubleValue() * b.doubleValue();\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = a.longValue() * b.longValue();\r\n        }\r\n        break;\r\n      case &#39;^&#39;:\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = Double.valueOf(Math.pow(a.doubleValue(), b.doubleValue()));\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = (long) Math.pow(a.longValue(), b.longValue());\r\n        }\r\n        break;\r\n      case &#39;/&#39;:\r\n        if (b.doubleValue() == 0) {\r\n          throw new UnsupportedOperationException(&quot;Cannot divide by zero&quot;);\r\n        }\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = a.doubleValue() / b.doubleValue();\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = a.longValue() / b.longValue();\r\n        }\r\n        break;\r\n      case &#39;&gt;&#39;:\r\n        resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n      if (a instanceof Double || b instanceof Double) {\r\n        result = a.doubleValue() &gt; b.doubleValue()?1:0;\r\n      } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n        result = a.longValue() &gt; b.longValue()?1:0;\r\n      }\r\n      break;\r\n    case &#39;&lt;&#39;:\r\n      resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n      if (a instanceof Double || b instanceof Double) {\r\n        result = a.doubleValue() &lt; b.doubleValue()?1:0;\r\n      } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n        result = a.longValue() &lt; b.longValue()?1:0;\r\n      }\r\n      break;\r\n    }\r\n  } else if (op.length == 2) {\r\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n    switch (op.toString()) {\r\n      case &quot;&gt;=&quot;:\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = a.doubleValue() &gt;= b.doubleValue()?1:0;\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = a.longValue() &gt;= b.longValue()?1:0;\r\n        }\r\n        break;\r\n      case &quot;&lt;=&quot;:\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = a.doubleValue() &lt;= b.doubleValue()?1:0;\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = a.longValue() &lt;= b.longValue()?1:0;\r\n        }\r\n        break;\r\n          case &quot;==&quot;:\r\n            if (a instanceof Double || b instanceof Double) {\r\n              result = a.doubleValue() == b.doubleValue()?1:0;\r\n            } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n              result = a.longValue() == b.longValue()?1:0;\r\n            }\r\n            break;\r\n          }\r\n        }\r\n```\r\nWanted to avoid many comparison operations.\r\n\r\nI don&#39;t see a solution to covert string to literal I mean convert to working operator(single char operator or two char operator).\r\n\r\nCan it be achieved without using any lib?","title":"Java Convert two char Operator String to working Operator?","body":"<pre class=\"lang-java prettyprint-override\"><code>Have char[] operator = // &quot;+&quot; or &quot;&lt;&quot; or &quot;&lt;=&quot; etc\n  if(op.length == 1) {\n    switch (op[0]) {\n      case '+':\n        if (a instanceof Double || b instanceof Double) {\n          result = a.doubleValue() + b.doubleValue();\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n          result = a.longValue() + b.longValue();\n        }\n        break;\n      case '-':\n        if (a instanceof Double || b instanceof Double) {\n          result = a.doubleValue() - b.doubleValue();\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n          result = a.longValue() - b.longValue();\n        }\n        break;\n      case '*':\n        if (a instanceof Double || b instanceof Double) {\n          result = a.doubleValue() * b.doubleValue();\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n          result = a.longValue() * b.longValue();\n        }\n        break;\n      case '^':\n        if (a instanceof Double || b instanceof Double) {\n          result = Double.valueOf(Math.pow(a.doubleValue(), b.doubleValue()));\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n          result = (long) Math.pow(a.longValue(), b.longValue());\n        }\n        break;\n      case '/':\n        if (b.doubleValue() == 0) {\n          throw new UnsupportedOperationException(&quot;Cannot divide by zero&quot;);\n        }\n        if (a instanceof Double || b instanceof Double) {\n          result = a.doubleValue() / b.doubleValue();\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n          result = a.longValue() / b.longValue();\n        }\n        break;\n      case '&gt;':\n        resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n      if (a instanceof Double || b instanceof Double) {\n        result = a.doubleValue() &gt; b.doubleValue()?1:0;\n      } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n        result = a.longValue() &gt; b.longValue()?1:0;\n      }\n      break;\n    case '&lt;':\n      resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n      if (a instanceof Double || b instanceof Double) {\n        result = a.doubleValue() &lt; b.doubleValue()?1:0;\n      } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n        result = a.longValue() &lt; b.longValue()?1:0;\n      }\n      break;\n    }\n  } else if (op.length == 2) {\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n    switch (op.toString()) {\n      case &quot;&gt;=&quot;:\n        if (a instanceof Double || b instanceof Double) {\n          result = a.doubleValue() &gt;= b.doubleValue()?1:0;\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n          result = a.longValue() &gt;= b.longValue()?1:0;\n        }\n        break;\n      case &quot;&lt;=&quot;:\n        if (a instanceof Double || b instanceof Double) {\n          result = a.doubleValue() &lt;= b.doubleValue()?1:0;\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n          result = a.longValue() &lt;= b.longValue()?1:0;\n        }\n        break;\n          case &quot;==&quot;:\n            if (a instanceof Double || b instanceof Double) {\n              result = a.doubleValue() == b.doubleValue()?1:0;\n            } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n              result = a.longValue() == b.longValue()?1:0;\n            }\n            break;\n          }\n        }\n</code></pre>\n<p>Wanted to avoid many comparison operations.</p>\n<p>I don't see a solution to covert string to literal I mean convert to working operator(single char operator or two char operator).</p>\n<p>Can it be achieved without using any lib?</p>\n"},{"tags":["java","docker","docker-compose","microservices"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1666351369,"post_id":74152794,"comment_id":130922107,"body_markdown":"In the general case that&#39;s something you need to configure externally.  Is your machine running behind a load balancer, or a firewall service, such that external clients need to connect to something else that forwards requests on to you?  You can&#39;t tell that from just the local system, whether in a container or not.","body":"In the general case that&#39;s something you need to configure externally.  Is your machine running behind a load balancer, or a firewall service, such that external clients need to connect to something else that forwards requests on to you?  You can&#39;t tell that from just the local system, whether in a container or not."},{"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"score":0,"creation_date":1666352140,"post_id":74152794,"comment_id":130922332,"body_markdown":"@DavidMaze I understand what you mean. Currently what I expect is to run docker containers on my local host and resolve the url from browser of my machine , something similar to what I am currently doing to access swagger-ui using docker host ip.","body":"@DavidMaze I understand what you mean. Currently what I expect is to run docker containers on my local host and resolve the url from browser of my machine , something similar to what I am currently doing to access swagger-ui using docker host ip."},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1666352968,"post_id":74152794,"comment_id":130922580,"body_markdown":"Are you using docker on windows/macOS?\nIn this case you cannot access the docker IPs directly. \n\nFor windows/macOS the only option is a port-forward. (`-p 8080:80`) https://docs.docker.com/config/containers/container-networking/","body":"Are you using docker on windows/macOS? In this case you cannot access the docker IPs directly.   For windows/macOS the only option is a port-forward. (<code>-p 8080:80</code>) <a href=\"https://docs.docker.com/config/containers/container-networking/\" rel=\"nofollow noreferrer\">docs.docker.com/config/containers/container-networking</a>"},{"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"score":0,"creation_date":1666353526,"post_id":74152794,"comment_id":130922739,"body_markdown":"hey @SimGel , I am already exposing the ports in docker compose using below config \n` shorturl:\n    build: ./shorturl\n    restart: on-failure\n    ports:\n      - &quot;8080:8080&quot;`\nIs this what you mean or do you suggest something else.","body":"hey @SimGel , I am already exposing the ports in docker compose using below config  ` shorturl:     build: ./shorturl     restart: on-failure     ports:       - &quot;8080:8080&quot;` Is this what you mean or do you suggest something else."},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1666354059,"post_id":74152794,"comment_id":130922940,"body_markdown":"Okay. I assume you are exposing both services then? Shorturl on 8080 and Redirection on 8081 or someting like this? In this case the Shorturl service must generate the URL with localhost:8081.\nBut as @DavidMaze already stated you should set this externaly.\nThe containers can talk to each other with their internal IPs. But since you accessing the service via localhost the internal IPs are useless.","body":"Okay. I assume you are exposing both services then? Shorturl on 8080 and Redirection on 8081 or someting like this? In this case the Shorturl service must generate the URL with localhost:8081. But as @DavidMaze already stated you should set this externaly. The containers can talk to each other with their internal IPs. But since you accessing the service via localhost the internal IPs are useless."},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1666354225,"post_id":74152794,"comment_id":130923012,"body_markdown":"If you are using a port-forward your machine is creating a DNAT which forwards the traffic from localhost:8080-&gt;container:8080. But the container is not aware of the DNAT.","body":"If you are using a port-forward your machine is creating a DNAT which forwards the traffic from localhost:8080-&gt;container:8080. But the container is not aware of the DNAT."},{"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"score":0,"creation_date":1666354334,"post_id":74152794,"comment_id":130923046,"body_markdown":"@SimGel spot on. You are right. The thing is though , I am able to access swagger ui of both the services with docker-host-ip eg: http://192.168.99.100/swagger-ui/index.html , so is there a way that I can pass/access docker host ip which is 192.168.99.100 to my microservice ...","body":"@SimGel spot on. You are right. The thing is though , I am able to access swagger ui of both the services with docker-host-ip eg: <a href=\"http://192.168.99.100/swagger-ui/index.html\" rel=\"nofollow noreferrer\">192.168.99.100/swagger-ui/index.html</a> , so is there a way that I can pass/access docker host ip which is 192.168.99.100 to my microservice ..."}],"answers":[{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666355474,"creation_date":1666355110,"answer_id":74153595,"question_id":74152794,"body_markdown":"As @DavidMaze stated you should pass the external part of the URL to the container.\r\n\r\nOne option is using environment variables.\r\n\r\n* Via Docker run: https://docs.docker.com/config/containers/container-networking/\r\n* Docker compose: https://docs.docker.com/compose/environment-variables/\r\n\r\nSo in your case you have to pass an environment variable to the shorturl-service containing the host/port of the redirection service.\r\n\r\nexample:\r\n```lang-bash\r\ndocker run -it --env REDIRECTION_SVC=http://localhost:8081 debian\r\n```\r\n\r\nInside your container you can read the value from the environment of the process.\r\n\r\nin bash this would be:\r\n```lang-bash\r\necho $REDIRECTION_SVC\r\n```\r\n\r\n**Update:** read from java:\r\n```lang-java\r\nSystem.getenv(&quot;REDIRECTION_SVC&quot;);\r\n```","title":"Need docker host ip in order to resolve url to my microservice","body":"<p>As @DavidMaze stated you should pass the external part of the URL to the container.</p>\n<p>One option is using environment variables.</p>\n<ul>\n<li>Via Docker run: <a href=\"https://docs.docker.com/config/containers/container-networking/\" rel=\"nofollow noreferrer\">https://docs.docker.com/config/containers/container-networking/</a></li>\n<li>Docker compose: <a href=\"https://docs.docker.com/compose/environment-variables/\" rel=\"nofollow noreferrer\">https://docs.docker.com/compose/environment-variables/</a></li>\n</ul>\n<p>So in your case you have to pass an environment variable to the shorturl-service containing the host/port of the redirection service.</p>\n<p>example:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run -it --env REDIRECTION_SVC=http://localhost:8081 debian\n</code></pre>\n<p>Inside your container you can read the value from the environment of the process.</p>\n<p>in bash this would be:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>echo $REDIRECTION_SVC\n</code></pre>\n<p><strong>Update:</strong> read from java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.getenv(&quot;REDIRECTION_SVC&quot;);\n</code></pre>\n"}],"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74153595,"answer_count":1,"score":0,"last_activity_date":1666355474,"creation_date":1666350798,"question_id":74152794,"body_markdown":"I have 2 microservices 1) shortUrl service 2) redirection service. \r\nShortUrl service converts a longurl to short url like : http://redirection-service-ip:redirection-service-port/hash-for-long-url and stores (hash-for-long-url, longurl) to db.\r\n\r\nNow a user can just paste the generated shorturl to browser which is actually the call to redirection microservice with path param as hash-for-long-url. Redirection service simply fetches the long url from db using hash and redirects (302) the request to original long url of the user.\r\n\r\nThis setup works perfectly fine on localhost. I am fetching the ip address to generate short url using ```InetAddress.getLocalHost().hostAddress``` function in java. But this doesn&#39;t work when i deploy everything to docker because using above function docker can simply provide container ip address which is not accessible from browser. Even when I try to access swagger-ui for docker deployed services , I need to use docker host ip address (with respective ports of each service).\r\n\r\nI want to know if there is any solution so that I can pass docker host ip to my microservice which will make the generated short url to be accessed from browser just like swagger ui. Or is there a way that I can expose container ip address so that it can be accessed via browser.","title":"Need docker host ip in order to resolve url to my microservice","body":"<p>I have 2 microservices 1) shortUrl service 2) redirection service.\nShortUrl service converts a longurl to short url like : http://redirection-service-ip:redirection-service-port/hash-for-long-url and stores (hash-for-long-url, longurl) to db.</p>\n<p>Now a user can just paste the generated shorturl to browser which is actually the call to redirection microservice with path param as hash-for-long-url. Redirection service simply fetches the long url from db using hash and redirects (302) the request to original long url of the user.</p>\n<p>This setup works perfectly fine on localhost. I am fetching the ip address to generate short url using <code>InetAddress.getLocalHost().hostAddress</code> function in java. But this doesn't work when i deploy everything to docker because using above function docker can simply provide container ip address which is not accessible from browser. Even when I try to access swagger-ui for docker deployed services , I need to use docker host ip address (with respective ports of each service).</p>\n<p>I want to know if there is any solution so that I can pass docker host ip to my microservice which will make the generated short url to be accessed from browser just like swagger ui. Or is there a way that I can expose container ip address so that it can be accessed via browser.</p>\n"},{"tags":["java","localhost"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1436886762,"post_id":31408368,"comment_id":50794338,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/4969156/error-java-net-unknownhostexception","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/4969156/error-java-net-unknownhostexception\" title=\"error java net unknownhostexception\">stackoverflow.com/questions/4969156/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":329850,"reputation":3368,"user_id":653614,"accept_rate":79,"display_name":"ed_me"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436882064,"creation_date":1436881691,"answer_id":31408548,"question_id":31408368,"body_markdown":"You could just check: -\r\n\r\n    System.getProperty(&quot;os.name&quot;);\r\n\r\nThen use the correct environment variable for that operating system, i.e.\r\n\r\n**Windows**\r\n\r\n    System.getenv(&quot;COMPUTERNAME&quot;);\r\n\r\n**Linux**\r\n\r\n    System.getenv(&quot;HOSTNAME&quot;);\r\n\r\nThe problem with this approach is that when you start running on operating systems that are less common, you may have to dig for the environment variables.\r\n\r\n\r\nFor the reasons as to why it&#39;s failing, I believe your answer is probably found by looking at this post: -\r\n\r\nhttps://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java\r\n\r\n&gt; Any attempt to determine the hostname by an IP address like this\r\n&gt; \r\n&gt; `InetAddress.getLocalHost().getHostName()`\r\n&gt; \r\n&gt; is bound to fail in some circumstances:","title":"InetAddress.getLocalHost().getHostName() throws UnknownHostException","body":"<p>You could just check: -</p>\n\n<pre><code>System.getProperty(\"os.name\");\n</code></pre>\n\n<p>Then use the correct environment variable for that operating system, i.e.</p>\n\n<p><strong>Windows</strong></p>\n\n<pre><code>System.getenv(\"COMPUTERNAME\");\n</code></pre>\n\n<p><strong>Linux</strong></p>\n\n<pre><code>System.getenv(\"HOSTNAME\");\n</code></pre>\n\n<p>The problem with this approach is that when you start running on operating systems that are less common, you may have to dig for the environment variables.</p>\n\n<p>For the reasons as to why it's failing, I believe your answer is probably found by looking at this post: -</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java\">Recommended way to get hostname in Java</a></p>\n\n<blockquote>\n  <p>Any attempt to determine the hostname by an IP address like this</p>\n  \n  <p><code>InetAddress.getLocalHost().getHostName()</code></p>\n  \n  <p>is bound to fail in some circumstances:</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4405286,"reputation":5401,"user_id":3589897,"display_name":"Arthur Tsidkilov"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1436881851,"creation_date":1436881851,"answer_id":31408613,"question_id":31408368,"body_markdown":"try this:\r\n\r\n\r\n\timport java.net.InetAddress;\r\n\timport java.net.UnknownHostException;\r\n\t \r\n\t/**\r\n\t * @author Crunchify.com\r\n\t */\r\n\t \r\n\tpublic class CrunchifyGetIPHostname {\r\n\t \r\n\t\tpublic static void main(String[] args) {\r\n\t \r\n\t\t\tInetAddress ip;\r\n\t\t\tString hostname;\r\n\t\t\ttry {\r\n\t\t\t\tip = InetAddress.getLocalHost();\r\n\t\t\t\thostname = ip.getHostName();\r\n\t\t\t\tSystem.out.println(&quot;Your current IP address : &quot; + ip);\r\n\t\t\t\tSystem.out.println(&quot;Your current Hostname : &quot; + hostname);\r\n\t \r\n\t\t\t} catch (UnknownHostException e) {\r\n\t \r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nyou test this code online on http://www.browxy.com/\r\n\r\n\r\ni have taken it from http://crunchify.com/how-to-get-server-ip-address-and-hostname-in-java/","title":"InetAddress.getLocalHost().getHostName() throws UnknownHostException","body":"<p>try this:</p>\n\n<pre><code>import java.net.InetAddress;\nimport java.net.UnknownHostException;\n\n/**\n * @author Crunchify.com\n */\n\npublic class CrunchifyGetIPHostname {\n\n    public static void main(String[] args) {\n\n        InetAddress ip;\n        String hostname;\n        try {\n            ip = InetAddress.getLocalHost();\n            hostname = ip.getHostName();\n            System.out.println(\"Your current IP address : \" + ip);\n            System.out.println(\"Your current Hostname : \" + hostname);\n\n        } catch (UnknownHostException e) {\n\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>you test this code online on <a href=\"http://www.browxy.com/\" rel=\"nofollow\">http://www.browxy.com/</a></p>\n\n<p>i have taken it from <a href=\"http://crunchify.com/how-to-get-server-ip-address-and-hostname-in-java/\" rel=\"nofollow\">http://crunchify.com/how-to-get-server-ip-address-and-hostname-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":21425,"reputation":10691,"user_id":52070,"accept_rate":67,"display_name":"David Newcomb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666355300,"creation_date":1666355300,"answer_id":74153633,"question_id":31408368,"body_markdown":"This is a bit old but no one seemed to have spotted that you have commented out the entry for `ThinkPad-Edge-E430` in your hosts file. It also had a typo in the ip address.\r\n\r\nChange:\r\n\r\n    #127.0.1.1  ThinkPad-Edge-E430\r\n\r\nTo:\r\n\r\n    127.0.0.1  ThinkPad-Edge-E430\r\n\r\nand you should be ok.","title":"InetAddress.getLocalHost().getHostName() throws UnknownHostException","body":"<p>This is a bit old but no one seemed to have spotted that you have commented out the entry for <code>ThinkPad-Edge-E430</code> in your hosts file. It also had a typo in the ip address.</p>\n<p>Change:</p>\n<pre><code>#127.0.1.1  ThinkPad-Edge-E430\n</code></pre>\n<p>To:</p>\n<pre><code>127.0.0.1  ThinkPad-Edge-E430\n</code></pre>\n<p>and you should be ok.</p>\n"}],"owner":{"account_id":2822831,"reputation":691,"user_id":2426173,"accept_rate":69,"display_name":"Bishwarup Das"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9708,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":31408613,"answer_count":3,"score":2,"last_activity_date":1666355300,"creation_date":1436881253,"question_id":31408368,"body_markdown":"I am trying to get the host name off the server where it is running.\r\n\r\nJava code:    \r\n\r\n    import java.net.InetAddress; \r\n    System.out.println(&quot;Host Name: &quot; + InetAddress.getLocalHost().getHostName());\r\n    System.exit(0);\r\n\r\nOutput:\r\n\r\n    java.net.UnknownHostException: ThinkPad-Edge-E430: ThinkPad-Edge-E430: Name or service not known\r\n\tat java.net.InetAddress.getLocalHost(InetAddress.java:1473)\r\n\tat MailQ.main(MailQ.java:45)\r\n    Caused by: java.net.UnknownHostException: ThinkPad-Edge-E430: Name or service not known\r\n\tat java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\r\n\tat java.net.InetAddress$1.lookupAllHostAddr(InetAddress.java:901)\r\n\tat java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1293)\r\n\tat java.net.InetAddress.getLocalHost(InetAddress.java:1469)\r\n\t... 1 more\r\n\r\nHosts:\r\n\r\n    127.0.0.1\tlocalhost #admin.local.com\r\n    #127.0.1.1\tThinkPad-Edge-E430\r\n    192.168.81.238 admin.local.com\r\n    # The following lines are desirable for IPv6 capable hosts\r\n    ::1     ip6-localhost ip6-loopback\r\n    fe00::0 ip6-localnet\r\n    ff00::0 ip6-mcastprefix\r\n    ff02::1 ip6-allnodes\r\n    ff02::2 ip6-allrouters\r\n\r\nI cant find what is the issue here. Can some help me out?\r\n\r\n\r\n","title":"InetAddress.getLocalHost().getHostName() throws UnknownHostException","body":"<p>I am trying to get the host name off the server where it is running.</p>\n\n<p>Java code:    </p>\n\n<pre><code>import java.net.InetAddress; \nSystem.out.println(\"Host Name: \" + InetAddress.getLocalHost().getHostName());\nSystem.exit(0);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>java.net.UnknownHostException: ThinkPad-Edge-E430: ThinkPad-Edge-E430: Name or service not known\nat java.net.InetAddress.getLocalHost(InetAddress.java:1473)\nat MailQ.main(MailQ.java:45)\nCaused by: java.net.UnknownHostException: ThinkPad-Edge-E430: Name or service not known\nat java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\nat java.net.InetAddress$1.lookupAllHostAddr(InetAddress.java:901)\nat java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1293)\nat java.net.InetAddress.getLocalHost(InetAddress.java:1469)\n... 1 more\n</code></pre>\n\n<p>Hosts:</p>\n\n<pre><code>127.0.0.1   localhost #admin.local.com\n#127.0.1.1  ThinkPad-Edge-E430\n192.168.81.238 admin.local.com\n# The following lines are desirable for IPv6 capable hosts\n::1     ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n</code></pre>\n\n<p>I cant find what is the issue here. Can some help me out?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":4610741,"reputation":6070,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"score":0,"creation_date":1603692277,"post_id":64531905,"comment_id":114105905,"body_markdown":"What issue are you facing exactly?","body":"What issue are you facing exactly?"},{"owner":{"account_id":18901658,"reputation":39,"user_id":13789514,"display_name":"Arsalan Khan"},"score":0,"creation_date":1603696427,"post_id":64531905,"comment_id":114107024,"body_markdown":"I&#39;m unable to open the pdf file within the app because of the uri, getting the uri like this content://com.android.providers.downloads.documents/document/16 and when i try to get the real path, getting the path like this /document/16","body":"I&#39;m unable to open the pdf file within the app because of the uri, getting the uri like this content://com.android.providers.downloads.documents/document&zwnj;&#8203;/16 and when i try to get the real path, getting the path like this /document/16"},{"owner":{"account_id":4610741,"reputation":6070,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"score":0,"creation_date":1603696688,"post_id":64531905,"comment_id":114107101,"body_markdown":"Have you tried on a lower android version like Android 8 or 9? Is it working in the lower android version?","body":"Have you tried on a lower android version like Android 8 or 9? Is it working in the lower android version?"},{"owner":{"account_id":18901658,"reputation":39,"user_id":13789514,"display_name":"Arsalan Khan"},"score":0,"creation_date":1603700367,"post_id":64531905,"comment_id":114108334,"body_markdown":"yes, on lower upto 8 it is working fine but on android 10 and android 11 (api level 29 and 30) it is not working, on version 8 and lower than 8 getting real path from URI using this code https://gist.github.com/MeNiks/947b471b762f3b26178ef165a7f5558a and it working fine upto version 8 but it is not working on android 10 and android 11","body":"yes, on lower upto 8 it is working fine but on android 10 and android 11 (api level 29 and 30) it is not working, on version 8 and lower than 8 getting real path from URI using this code <a href=\"https://gist.github.com/MeNiks/947b471b762f3b26178ef165a7f5558a\" rel=\"nofollow noreferrer\">gist.github.com/MeNiks/947b471b762f3b26178ef165a7f5558a</a> and it working fine upto version 8 but it is not working on android 10 and android 11"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1603704053,"post_id":64531905,"comment_id":114109633,"body_markdown":"Do not try to get a &#39;real&#39; path from that nice uri. What you got is no real path too as you have seen. Use the obtained uri directly to open the file. Further it is unclear what you try to do if you wanna open a file.","body":"Do not try to get a &#39;real&#39; path from that nice uri. What you got is no real path too as you have seen. Use the obtained uri directly to open the file. Further it is unclear what you try to do if you wanna open a file."},{"owner":{"account_id":18901658,"reputation":39,"user_id":13789514,"display_name":"Arsalan Khan"},"score":0,"creation_date":1603721432,"post_id":64531905,"comment_id":114117739,"body_markdown":"It is file viewer app, try uri also to view the file but unable to achieve it and also from uri i&#39;m unable to get the file name, file extension etc","body":"It is file viewer app, try uri also to view the file but unable to achieve it and also from uri i&#39;m unable to get the file name, file extension etc"}],"answers":[{"tags":[],"owner":{"account_id":7452927,"reputation":9355,"user_id":5667051,"display_name":"rm8x"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1614293557,"creation_date":1614293557,"answer_id":66377680,"question_id":64531905,"body_markdown":"You can do this to get the data:\r\n\r\n`val inputStream = context.contentResolver.openInputStream(uri)`\r\n\r\nbut I am not sure you can get a usable file path from the uri.","title":"How to get Real path from Uri in android 11","body":"<p>You can do this to get the data:</p>\n<p><code>val inputStream = context.contentResolver.openInputStream(uri)</code></p>\n<p>but I am not sure you can get a usable file path from the uri.</p>\n"},{"tags":[],"owner":{"account_id":25252274,"reputation":1,"user_id":19084584,"display_name":"Freesia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666355000,"creation_date":1666354868,"answer_id":74153546,"question_id":64531905,"body_markdown":"We can&#39;t get _data in contentResolver.query(uri,...), so we need to find another way.\r\n\r\nThis is my code, based on table MediaStore.Files:\r\n\r\nBe careful to add \r\n\r\n&gt; android.permission.MANAGE_EXTERNAL_STORAGE\r\n\r\n\r\n```java\r\n    public static String Uri2Path(Context context, Uri uri) {\r\n        if (uri == null) {\r\n            return null;\r\n        }\r\n\r\n        if(ContentResolver.SCHEME_FILE.equals(uri.getScheme())) {\r\n            return uri.getPath();\r\n        }\r\n        else if(ContentResolver.SCHEME_CONTENT.equals(uri.getScheme())) {\r\n            String authority = uri.getAuthority();\r\n\r\n            if(authority.startsWith(&quot;com.android.externalstorage&quot;)) {\r\n                return Environment.getExternalStorageDirectory() + &quot;/&quot; + uri.getPath().split(&quot;:&quot;)[1];\r\n            }\r\n            else {\r\n                String idStr = &quot;&quot;;\r\n                if(authority.equals(&quot;media&quot;)) {\r\n                    idStr = uri.toString().substring(uri.toString().lastIndexOf(&#39;/&#39;) + 1);\r\n                }\r\n                else if(authority.startsWith(&quot;com.android.providers&quot;)) {\r\n                    idStr = DocumentsContract.getDocumentId(uri).split(&quot;:&quot;)[1];\r\n                }\r\n\r\n                ContentResolver contentResolver = context.getContentResolver();\r\n                Cursor cursor = contentResolver.query(MediaStore.Files.getContentUri(&quot;external&quot;),\r\n                        new String[] {MediaStore.Files.FileColumns.DATA},\r\n                        &quot;_id=?&quot;,\r\n                        new String[]{idStr}, null);\r\n                if (cursor != null) {\r\n                    cursor.moveToFirst();\r\n                    try {\r\n                        int idx = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA);\r\n\r\n                        return cursor.getString(idx);\r\n                    } catch (Exception e) {\r\n                    } finally {\r\n                        cursor.close();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n```\r\nYou can replace the table for your need :\r\n```\r\nMediaStore.Files.getContentUri(&quot;external&quot;)\r\nMediaStore.Files.getContentUri(&quot;internal&quot;)\r\nMediaStore.Video.Media.EXTERNAL_CONTENT_URI\r\nMediaStore.Video.Media.INTERNAL_CONTENT_URI\r\nMediaStore.Images.Media.EXTERNAL_CONTENT_URI\r\nMediaStore.Images.Media.INTERNAL_CONTENT_URI\r\nMediaStore.Audio.Media.EXTERNAL_CONTENT_URI\r\nMediaStore.Audio.Media.INTERNAL_CONTENT_URI\r\nMediaStore.Downloads.Media.EXTERNAL_CONTENT_URI\r\nMediaStore.Downloads.Media.INTERNAL_CONTENT_URI\r\n```","title":"How to get Real path from Uri in android 11","body":"<p>We can't get _data in contentResolver.query(uri,...), so we need to find another way.</p>\n<p>This is my code, based on table MediaStore.Files:</p>\n<p>Be careful to add</p>\n<blockquote>\n<p>android.permission.MANAGE_EXTERNAL_STORAGE</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>    public static String Uri2Path(Context context, Uri uri) {\n        if (uri == null) {\n            return null;\n        }\n\n        if(ContentResolver.SCHEME_FILE.equals(uri.getScheme())) {\n            return uri.getPath();\n        }\n        else if(ContentResolver.SCHEME_CONTENT.equals(uri.getScheme())) {\n            String authority = uri.getAuthority();\n\n            if(authority.startsWith(&quot;com.android.externalstorage&quot;)) {\n                return Environment.getExternalStorageDirectory() + &quot;/&quot; + uri.getPath().split(&quot;:&quot;)[1];\n            }\n            else {\n                String idStr = &quot;&quot;;\n                if(authority.equals(&quot;media&quot;)) {\n                    idStr = uri.toString().substring(uri.toString().lastIndexOf('/') + 1);\n                }\n                else if(authority.startsWith(&quot;com.android.providers&quot;)) {\n                    idStr = DocumentsContract.getDocumentId(uri).split(&quot;:&quot;)[1];\n                }\n\n                ContentResolver contentResolver = context.getContentResolver();\n                Cursor cursor = contentResolver.query(MediaStore.Files.getContentUri(&quot;external&quot;),\n                        new String[] {MediaStore.Files.FileColumns.DATA},\n                        &quot;_id=?&quot;,\n                        new String[]{idStr}, null);\n                if (cursor != null) {\n                    cursor.moveToFirst();\n                    try {\n                        int idx = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA);\n\n                        return cursor.getString(idx);\n                    } catch (Exception e) {\n                    } finally {\n                        cursor.close();\n                    }\n                }\n            }\n        }\n        return null;\n    }\n</code></pre>\n<p>You can replace the table for your need :</p>\n<pre><code>MediaStore.Files.getContentUri(&quot;external&quot;)\nMediaStore.Files.getContentUri(&quot;internal&quot;)\nMediaStore.Video.Media.EXTERNAL_CONTENT_URI\nMediaStore.Video.Media.INTERNAL_CONTENT_URI\nMediaStore.Images.Media.EXTERNAL_CONTENT_URI\nMediaStore.Images.Media.INTERNAL_CONTENT_URI\nMediaStore.Audio.Media.EXTERNAL_CONTENT_URI\nMediaStore.Audio.Media.INTERNAL_CONTENT_URI\nMediaStore.Downloads.Media.EXTERNAL_CONTENT_URI\nMediaStore.Downloads.Media.INTERNAL_CONTENT_URI\n</code></pre>\n"}],"owner":{"account_id":18901658,"reputation":39,"user_id":13789514,"display_name":"Arsalan Khan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1955,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1666355000,"creation_date":1603689860,"question_id":64531905,"body_markdown":"How to get Real path from URI in android 10 and android 11. Getting the Uri from intent data i.e.\r\n\r\n\r\n     private val startForResult =\r\n            registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result: ActivityResult -&gt;\r\n                if (result.resultCode == Activity.RESULT_OK) {\r\n                    val uri = result.data?.data\r\n                  \r\n                }\r\n            }\r\n\r\nand intent to get pdf file\r\n  \r\n\r\n  \r\n\r\n     val mimeType = &quot;application/pdf&quot;\r\n                val intent = Intent(Intent.ACTION_GET_CONTENT)\r\n                intent.type = mimeType\r\n                intent.addCategory(Intent.CATEGORY_OPENABLE)\r\n     if (packageManager.resolveActivity(sIntent, 0) != null) {\r\n                // it is device with Samsung file manager\r\n                chooserIntent = Intent.createChooser(sIntent, &quot;Select an PDF File&quot;)\r\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, arrayOf(intent))\r\n            } else {\r\n                chooserIntent = Intent.createChooser(intent, &quot;Select an PDF File&quot;)\r\n            }\r\n            try {\r\n                chooserIntent.resolveActivity(packageManager)?.let {\r\n                    //  startActivityForResult(Intent.createChooser(this,&quot;Pick MHT file&quot;),1)\r\n                    startForResult.launch(chooserIntent)\r\n                }\r\n            } catch (ex: ActivityNotFoundException) {\r\n                Toast.makeText(\r\n                    applicationContext,\r\n                    &quot;No suitable File Manager was found.&quot;,\r\n                    Toast.LENGTH_SHORT\r\n                ).show()\r\n            }\r\n\r\n\r\n","title":"How to get Real path from Uri in android 11","body":"<p>How to get Real path from URI in android 10 and android 11. Getting the Uri from intent data i.e.</p>\n<pre><code> private val startForResult =\n        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result: ActivityResult -&gt;\n            if (result.resultCode == Activity.RESULT_OK) {\n                val uri = result.data?.data\n              \n            }\n        }\n</code></pre>\n<p>and intent to get pdf file</p>\n<pre><code> val mimeType = &quot;application/pdf&quot;\n            val intent = Intent(Intent.ACTION_GET_CONTENT)\n            intent.type = mimeType\n            intent.addCategory(Intent.CATEGORY_OPENABLE)\n if (packageManager.resolveActivity(sIntent, 0) != null) {\n            // it is device with Samsung file manager\n            chooserIntent = Intent.createChooser(sIntent, &quot;Select an PDF File&quot;)\n            chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, arrayOf(intent))\n        } else {\n            chooserIntent = Intent.createChooser(intent, &quot;Select an PDF File&quot;)\n        }\n        try {\n            chooserIntent.resolveActivity(packageManager)?.let {\n                //  startActivityForResult(Intent.createChooser(this,&quot;Pick MHT file&quot;),1)\n                startForResult.launch(chooserIntent)\n            }\n        } catch (ex: ActivityNotFoundException) {\n            Toast.makeText(\n                applicationContext,\n                &quot;No suitable File Manager was found.&quot;,\n                Toast.LENGTH_SHORT\n            ).show()\n        }\n</code></pre>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636629644,"creation_date":1636629644,"answer_id":69927422,"question_id":69924679,"body_markdown":"According to the official documentation, you can use Multiple Datasources.\r\nHowever if you **have more than 1**, then you must provide a **Name**, otherwise how will Quarkus know which Drivers to use.\r\n\r\nThe format : `quarkus.datasource.&lt;datasourceCustomName&gt;.`  If it is not your default DataSource which will not require a name.\r\n\r\nImportant to Notice: `For now, multiple datasources are only supported for JDBC and the Agroal extension. So it is not currently possible to create multiple reactive datasources.`\r\n\r\n\r\nhttps://quarkus.io/guides/datasource#multiple-datasources\r\n\r\n\r\n**Multiple Datasources**\r\n\r\n&gt; Configuring Multiple Datasources\r\n&gt; \r\n&gt; For now, multiple datasources are only supported for JDBC and the\r\n&gt; Agroal extension. So it is not currently possible to create multiple\r\n&gt; reactive datasources. \t\r\n&gt; \r\n&gt; The Hibernate ORM extension supports defining several persistence\r\n&gt; units using configuration properties. For each persistence unit, you\r\n&gt; can point to the datasource of your choice.\r\n&gt; \r\n&gt; Defining multiple datasources works exactly the same way as defining a\r\n&gt; single datasource, with one important change: you define a name.\r\n\r\nIn the following example, you have 3 different datasources:\r\n\r\n 1. The default one, \r\n 2. A datasource named users, \r\n 3. A datasource named inventory,\r\n\r\neach with its own configuration.\r\n\r\n    quarkus.datasource.db-kind=h2\r\n    quarkus.datasource.username=username-default\r\n    quarkus.datasource.jdbc.url=jdbc:h2:mem:default\r\n    quarkus.datasource.jdbc.max-size=13\r\n    \r\n    quarkus.datasource.users.db-kind=h2\r\n    quarkus.datasource.users.username=username1\r\n    quarkus.datasource.users.jdbc.url=jdbc:h2:mem:users\r\n    quarkus.datasource.users.jdbc.max-size=11\r\n    \r\n    quarkus.datasource.inventory.db-kind=h2\r\n    quarkus.datasource.inventory.username=username2\r\n    quarkus.datasource.inventory.jdbc.url=jdbc:h2:mem:inventory\r\n    quarkus.datasource.inventory.jdbc.max-size=12\r\n\r\n","title":"Multiple database dependencies is causing to connect database in Quarkus","body":"<p>According to the official documentation, you can use Multiple Datasources.\nHowever if you <strong>have more than 1</strong>, then you must provide a <strong>Name</strong>, otherwise how will Quarkus know which Drivers to use.</p>\n<p>The format : <code>quarkus.datasource.&lt;datasourceCustomName&gt;.</code>  If it is not your default DataSource which will not require a name.</p>\n<p>Important to Notice: <code>For now, multiple datasources are only supported for JDBC and the Agroal extension. So it is not currently possible to create multiple reactive datasources.</code></p>\n<p><a href=\"https://quarkus.io/guides/datasource#multiple-datasources\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/datasource#multiple-datasources</a></p>\n<p><strong>Multiple Datasources</strong></p>\n<blockquote>\n<p>Configuring Multiple Datasources</p>\n<p>For now, multiple datasources are only supported for JDBC and the\nAgroal extension. So it is not currently possible to create multiple\nreactive datasources.</p>\n<p>The Hibernate ORM extension supports defining several persistence\nunits using configuration properties. For each persistence unit, you\ncan point to the datasource of your choice.</p>\n<p>Defining multiple datasources works exactly the same way as defining a\nsingle datasource, with one important change: you define a name.</p>\n</blockquote>\n<p>In the following example, you have 3 different datasources:</p>\n<ol>\n<li>The default one,</li>\n<li>A datasource named users,</li>\n<li>A datasource named inventory,</li>\n</ol>\n<p>each with its own configuration.</p>\n<pre><code>quarkus.datasource.db-kind=h2\nquarkus.datasource.username=username-default\nquarkus.datasource.jdbc.url=jdbc:h2:mem:default\nquarkus.datasource.jdbc.max-size=13\n\nquarkus.datasource.users.db-kind=h2\nquarkus.datasource.users.username=username1\nquarkus.datasource.users.jdbc.url=jdbc:h2:mem:users\nquarkus.datasource.users.jdbc.max-size=11\n\nquarkus.datasource.inventory.db-kind=h2\nquarkus.datasource.inventory.username=username2\nquarkus.datasource.inventory.jdbc.url=jdbc:h2:mem:inventory\nquarkus.datasource.inventory.jdbc.max-size=12\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082613,"reputation":4508,"user_id":1079174,"display_name":"Daniel K&#228;fer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666199280,"creation_date":1666199280,"answer_id":74129311,"question_id":69924679,"body_markdown":"`quarkus.datasource.db-kind` is fixed at build time. The property can not change at runtime.\r\n \r\nYou have to build the app for Oracle and seperate for Postgresql\r\n\r\nhttps://quarkus.io/guides/all-config#quarkus-datasource_quarkus.datasource.db-kind","title":"Multiple database dependencies is causing to connect database in Quarkus","body":"<p><code>quarkus.datasource.db-kind</code> is fixed at build time. The property can not change at runtime.</p>\n<p>You have to build the app for Oracle and seperate for Postgresql</p>\n<p><a href=\"https://quarkus.io/guides/all-config#quarkus-datasource_quarkus.datasource.db-kind\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/all-config#quarkus-datasource_quarkus.datasource.db-kind</a></p>\n"}],"owner":{"account_id":7370703,"reputation":61,"user_id":5610941,"display_name":"Shiva Bommanabathina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666354971,"creation_date":1636616339,"question_id":69924679,"body_markdown":"    \r\nI have two environments like onprem and aws, for\r\n onprem we have connected with Oracle database and required configuration\r\n is done and but for aws we are using aurora postgres and whenever \r\ni have tried to add postgres dependency then deploying into \r\naws environment it&#39;s giving error so is it possible if we have \r\nmultiple dependencies in same pom file and used for different environments.\r\n    \r\n    Quarks version : 1.13.3.final\r\n    Sample configuration:\r\n    \r\n    Oracle:\r\n    -------\r\n    quarkus.datasource.db-kind=oracle\r\n    quarkus.datasource.username=user-default\r\n    quarkus.datasource.password=password-default\r\n    quarkus.datasource.reactive.url=jdbc:oracle:thin://localhost:5432/default\r\n    \r\n    Postgresql:\r\n    -----------\r\n    quarkus.datasource.db-kind=postgresql \r\n    quarkus.datasource.username=user-default\r\n    quarkus.datasource.password=password-default\r\n    quarkus.datasource.reactive.url=postgresql://localhost:5432/default\r\n   \r\nCode or issue: \r\n    The issue i&#39;m getting is as follows:\r\n    \r\n    2021-11-11 07:18:45,173 WARN [org.hib.eng.jdb.env.int.JdbcEnvironmentInitiator] (main) HHH000342: Could not obtain connection to query metadata: java.sql.SQLException: Driver does not support the provided URL: jdbc:postgresql://\r\n            at io.agroal.pool.ConnectionFactory.connectionSetup(ConnectionFactory.java:220)\r\n            \tat io.agroal.pool.ConnectionFactory.createConnection(ConnectionFactory.java:204)\r\n            \tat io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:490)\r\n            \tat io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:472)\r\n    \r\n\r\n\r\n----------\r\n\r\n\r\n    Dependencies:\r\n    quarkus-jdbc-oracle\r\n    quarkus-jdbc-postgresql","title":"Multiple database dependencies is causing to connect database in Quarkus","body":"<p>I have two environments like onprem and aws, for\nonprem we have connected with Oracle database and required configuration\nis done and but for aws we are using aurora postgres and whenever\ni have tried to add postgres dependency then deploying into\naws environment it's giving error so is it possible if we have\nmultiple dependencies in same pom file and used for different environments.</p>\n<pre><code>Quarks version : 1.13.3.final\nSample configuration:\n\nOracle:\n-------\nquarkus.datasource.db-kind=oracle\nquarkus.datasource.username=user-default\nquarkus.datasource.password=password-default\nquarkus.datasource.reactive.url=jdbc:oracle:thin://localhost:5432/default\n\nPostgresql:\n-----------\nquarkus.datasource.db-kind=postgresql \nquarkus.datasource.username=user-default\nquarkus.datasource.password=password-default\nquarkus.datasource.reactive.url=postgresql://localhost:5432/default\n</code></pre>\n<p>Code or issue:\nThe issue i'm getting is as follows:</p>\n<pre><code>2021-11-11 07:18:45,173 WARN [org.hib.eng.jdb.env.int.JdbcEnvironmentInitiator] (main) HHH000342: Could not obtain connection to query metadata: java.sql.SQLException: Driver does not support the provided URL: jdbc:postgresql://\n        at io.agroal.pool.ConnectionFactory.connectionSetup(ConnectionFactory.java:220)\n            at io.agroal.pool.ConnectionFactory.createConnection(ConnectionFactory.java:204)\n            at io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:490)\n            at io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:472)\n</code></pre>\n<hr />\n<pre><code>Dependencies:\nquarkus-jdbc-oracle\nquarkus-jdbc-postgresql\n</code></pre>\n"},{"tags":["java","elasticsearch","cqlsh","elassandra"],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666354822,"creation_date":1666354822,"answer_id":74153538,"question_id":74152980,"body_markdown":"As you are mentioning, Elasticsearch storing `timecolumn` as `text` type hence i will suggest to change mapping of `timecolumn` to `date` type and you will be able to use range query with date. Because if you store date as text and applied range then it will not return a expected result. \r\n\r\n```json\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;timecolumn&quot;: {\r\n        &quot;type&quot;: &quot;date&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNow coming to your Java code issue, You can use below code for creating range query in Java as you are using Java client.\r\n\r\n```java\r\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\nQueryBuilder query = QueryBuilders.rangeQuery(&quot;timecolumn&quot;).gte(&quot;2022-10-07T09:45:13Z&quot;).lte(&quot;2022-10-07T09:50:50Z&quot;);\r\nsearchSourceBuilder.query(query);\r\nsearchRequest.source(searchSourceBuilder);\r\n```\r\n\r\n**Regarding your concern about reindexing data:**\r\n\r\n&gt; I cannot convert for each row after inserting because we have lakhs of\r\n&gt; data\r\n\r\nYou can use [Reindex API][1] to move data from original index to temp index and delete your original index. Then, defined the index with proper mapping and again use same Reindex API to copy data from temp index to original index with new mapping.\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html","title":"Unable to parse 2022-10-04T19:24:50Z format in ElasticSearch Java Implemnetation","body":"<p>As you are mentioning, Elasticsearch storing <code>timecolumn</code> as <code>text</code> type hence i will suggest to change mapping of <code>timecolumn</code> to <code>date</code> type and you will be able to use range query with date. Because if you store date as text and applied range then it will not return a expected result.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;timecolumn&quot;: {\n        &quot;type&quot;: &quot;date&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>Now coming to your Java code issue, You can use below code for creating range query in Java as you are using Java client.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\nQueryBuilder query = QueryBuilders.rangeQuery(&quot;timecolumn&quot;).gte(&quot;2022-10-07T09:45:13Z&quot;).lte(&quot;2022-10-07T09:50:50Z&quot;);\nsearchSourceBuilder.query(query);\nsearchRequest.source(searchSourceBuilder);\n</code></pre>\n<p><strong>Regarding your concern about reindexing data:</strong></p>\n<blockquote>\n<p>I cannot convert for each row after inserting because we have lakhs of\ndata</p>\n</blockquote>\n<p>You can use <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html\" rel=\"nofollow noreferrer\">Reindex API</a> to move data from original index to temp index and delete your original index. Then, defined the index with proper mapping and again use same Reindex API to copy data from temp index to original index with new mapping.</p>\n"}],"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74153538,"answer_count":1,"score":0,"last_activity_date":1666354822,"creation_date":1666351820,"question_id":74152980,"body_markdown":"```java\r\nSearchRequest searchRequest = Requests.searchRequest(indexName);\r\nSearchSourceBuilder builder = new SearchSourceBuilder();\r\nGson gson = new Gson();\r\nQueryBuilder querybuilder = QueryBuilders.wrapperQuery(query);\r\n```\r\n\r\n```json\r\nquery : {\r\n    &quot;range&quot;: {\r\n        &quot;timecolumn&quot;: {\r\n            &quot;gte&quot;:&quot;2022-10-07T09:45:13Z&quot;,\r\n            &quot;lte&quot;:&quot;2022-10-07T09:50:50Z&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhile passing the above Query I am getting Parser Exception , I cannot change the date format as data in DB is getting inserted in same format .\r\n\r\n\r\nNeed Advice on :\r\n1) How can we parse this kind of timestamp in ElasticSearch Java , if not \r\n2) How can we control pattern updation during data insertion like my column in defined as text which takes date format &quot;2022-10-07T09:45:13Z&quot; as text .\r\n\r\neither I have to pass this format in ES Parser or I have to change format to 2022-10-07 09:45:13 during insertion itself .\r\n\r\nI cannot convert for each row after inserting because we have lakhs of data","title":"Unable to parse 2022-10-04T19:24:50Z format in ElasticSearch Java Implemnetation","body":"<pre class=\"lang-java prettyprint-override\"><code>SearchRequest searchRequest = Requests.searchRequest(indexName);\nSearchSourceBuilder builder = new SearchSourceBuilder();\nGson gson = new Gson();\nQueryBuilder querybuilder = QueryBuilders.wrapperQuery(query);\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>query : {\n    &quot;range&quot;: {\n        &quot;timecolumn&quot;: {\n            &quot;gte&quot;:&quot;2022-10-07T09:45:13Z&quot;,\n            &quot;lte&quot;:&quot;2022-10-07T09:50:50Z&quot;\n        }\n    }\n}\n</code></pre>\n<p>While passing the above Query I am getting Parser Exception , I cannot change the date format as data in DB is getting inserted in same format .</p>\n<p>Need Advice on :</p>\n<ol>\n<li>How can we parse this kind of timestamp in ElasticSearch Java , if not</li>\n<li>How can we control pattern updation during data insertion like my column in defined as text which takes date format &quot;2022-10-07T09:45:13Z&quot; as text .</li>\n</ol>\n<p>either I have to pass this format in ES Parser or I have to change format to 2022-10-07 09:45:13 during insertion itself .</p>\n<p>I cannot convert for each row after inserting because we have lakhs of data</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666353134,"post_id":74152353,"comment_id":130922625,"body_markdown":"Okay, so as far as I understand `@MapsId`, you are currently trying to force 2 separate identifiers on the child id. Example: `FirstParent` has id `123` and `SecondParent` has id `abc`. Which id should `Child` now have?","body":"Okay, so as far as I understand <code>@MapsId</code>, you are currently trying to force 2 separate identifiers on the child id. Example: <code>FirstParent</code> has id <code>123</code> and <code>SecondParent</code> has id <code>abc</code>. Which id should <code>Child</code> now have?"},{"owner":{"account_id":16688949,"reputation":25,"user_id":12062053,"display_name":"AiR"},"score":0,"creation_date":1666354106,"post_id":74152353,"comment_id":130922963,"body_markdown":"`FirstParent` and `SecondParent` can not have the same `Child`. So, the `FirstParent` (with id `123`) will have the `Child` with id `123`; and the `SecondParent` (with id `abc`) will have the `Child` with id `abc`","body":"<code>FirstParent</code> and <code>SecondParent</code> can not have the same <code>Child</code>. So, the <code>FirstParent</code> (with id <code>123</code>) will have the <code>Child</code> with id <code>123</code>; and the <code>SecondParent</code> (with id <code>abc</code>) will have the <code>Child</code> with id <code>abc</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1666354332,"post_id":74152353,"comment_id":130923044,"body_markdown":"But one child should have a `FirstParent` as well as a `SecondParent` at the same time as per your mapping","body":"But one child should have a <code>FirstParent</code> as well as a <code>SecondParent</code> at the same time as per your mapping"},{"owner":{"account_id":16688949,"reputation":25,"user_id":12062053,"display_name":"AiR"},"score":0,"creation_date":1666355127,"post_id":74152353,"comment_id":130923326,"body_markdown":"Ok, than the mappings are wrong. `FirstParent` and `SecondParent` are not related, they can just a `Child` (optional). How should I map this?","body":"Ok, than the mappings are wrong. <code>FirstParent</code> and <code>SecondParent</code> are not related, they can just a <code>Child</code> (optional). How should I map this?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666355300,"post_id":74152353,"comment_id":130923396,"body_markdown":"Do you need a reference from child to parent?","body":"Do you need a reference from child to parent?"},{"owner":{"account_id":16688949,"reputation":25,"user_id":12062053,"display_name":"AiR"},"score":0,"creation_date":1666356485,"post_id":74152353,"comment_id":130923816,"body_markdown":"I only need to be able to cascade all the operations from parent to child","body":"I only need to be able to cascade all the operations from parent to child"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666357103,"post_id":74152353,"comment_id":130924047,"body_markdown":"Then it should be enough to remove both `@OneToOne` from `Child` class","body":"Then it should be enough to remove both <code>@OneToOne</code> from <code>Child</code> class"},{"owner":{"account_id":16688949,"reputation":25,"user_id":12062053,"display_name":"AiR"},"score":0,"creation_date":1666361462,"post_id":74152353,"comment_id":130925704,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248969/discussion-between-air-and-xtremebaumer).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248969/discussion-between-air-and-xtremebaumer\">continue this discussion in chat</a>."}],"owner":{"account_id":16688949,"reputation":25,"user_id":12062053,"display_name":"AiR"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666354635,"creation_date":1666348524,"question_id":74152353,"body_markdown":"I have the following problem: two parents entities can have the same type of child entity (but not the same child). I want to map both of relations using `@MapsId` and `@OneToOne`. The child is optional in both cases and can not exist without parent. The problem is that I am getting `org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property ` when I try to create an instance of one of the parents.\r\n\r\nThis is the code:\r\n\r\nfirst parent entity\r\n```\r\n@Entity\r\n@DynamicUpdate\r\n@Table(name = &quot;first_parent&quot;)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic abstract class FirstParent {\r\n\r\n@Id\r\nprivate UUID id;\r\n\r\n@OneToOne(mappedBy = &quot;firstParent&quot;, cascade = CascadeType.ALL)\r\nprivate Child child;\r\n\r\nprotected FirstParent(Child child) {\r\n this.id = UUID.randomUUID();\r\n setChild(child);\r\n}\r\n\r\nprivate void setChild(@Nullable Child child) {\r\n  this.child = child;\r\n\r\n  if (child != null) {\r\n   child.setId(id);\r\n   child.setFirstParent(this);\r\n  }\r\n }\r\n}\r\n```\r\nsecond parent entity:\r\n\r\n```\r\n@Entity\r\n@DynamicUpdate\r\n@Table(name = &quot;second_parent&quot;)\r\n@Inheritence(strategy = InheritenceType.JOINED)\r\npublic abstract class SecondParent {\r\n\r\n@Id\r\nprivate UUID id;\r\n\r\n@OneToOne(mappedBy = &quot;secondParent&quot;, cascade = CascadeType.ALL)\r\nprivate Child child;\r\n\r\nprotected SecondParent(Child child) {\r\n  this.id = UUID.randomUUID();\r\n  setChild(child);\r\n }\r\n\r\nprivate void setChild(@Nullable Child child) {\r\n  this.child = child;\r\n\r\n  if (child != null) {\r\n   child.setId(id);\r\n   child.setSecondParent(this);\r\n  }\r\n }\r\n}\r\n```\r\nchild entity:\r\n\r\n```\r\n@Entity\r\n@DynamicUpdate\r\n@Table(name = &quot;child&quot;)\r\npublic class Child {\r\n\r\n@Id\r\nprivate UUID id;\r\n\r\n@OneToOne(fetch = FetchType.LAZY)\r\n@MapsId\r\n@JoinColumn(name = &quot;id&quot;)\r\nprivate FirstParent firstParent;\r\n\r\n@OneToOne(fetch = FetchType.LAZY)\r\n@MapsId\r\n@JoinColumn(name = &quot;id&quot;)\r\nprivate SecondParent secondParent;\r\n\r\n}\r\n```\r\nThe problem is that every time when I am creating a `firstParent` instance, I am getting the following execption:\r\n`org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property [.....Child.secondParent]`\r\n\r\nThis is indicating me that hibernate attempts to assign the id also for the `secondParent` even if it shouldn&#39;t do that, should do this only for the child entity.\r\n\r\nInteresting is, that when I am creating an instance of `firstParent`, the above mentioned exception does not occures.\r\n\r\nWhat am I doing wrong and how can I map this properly?","title":"How can I map two parents to the same child using @OneToOne and @MapsId","body":"<p>I have the following problem: two parents entities can have the same type of child entity (but not the same child). I want to map both of relations using <code>@MapsId</code> and <code>@OneToOne</code>. The child is optional in both cases and can not exist without parent. The problem is that I am getting <code>org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property </code> when I try to create an instance of one of the parents.</p>\n<p>This is the code:</p>\n<p>first parent entity</p>\n<pre><code>@Entity\n@DynamicUpdate\n@Table(name = &quot;first_parent&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class FirstParent {\n\n@Id\nprivate UUID id;\n\n@OneToOne(mappedBy = &quot;firstParent&quot;, cascade = CascadeType.ALL)\nprivate Child child;\n\nprotected FirstParent(Child child) {\n this.id = UUID.randomUUID();\n setChild(child);\n}\n\nprivate void setChild(@Nullable Child child) {\n  this.child = child;\n\n  if (child != null) {\n   child.setId(id);\n   child.setFirstParent(this);\n  }\n }\n}\n</code></pre>\n<p>second parent entity:</p>\n<pre><code>@Entity\n@DynamicUpdate\n@Table(name = &quot;second_parent&quot;)\n@Inheritence(strategy = InheritenceType.JOINED)\npublic abstract class SecondParent {\n\n@Id\nprivate UUID id;\n\n@OneToOne(mappedBy = &quot;secondParent&quot;, cascade = CascadeType.ALL)\nprivate Child child;\n\nprotected SecondParent(Child child) {\n  this.id = UUID.randomUUID();\n  setChild(child);\n }\n\nprivate void setChild(@Nullable Child child) {\n  this.child = child;\n\n  if (child != null) {\n   child.setId(id);\n   child.setSecondParent(this);\n  }\n }\n}\n</code></pre>\n<p>child entity:</p>\n<pre><code>@Entity\n@DynamicUpdate\n@Table(name = &quot;child&quot;)\npublic class Child {\n\n@Id\nprivate UUID id;\n\n@OneToOne(fetch = FetchType.LAZY)\n@MapsId\n@JoinColumn(name = &quot;id&quot;)\nprivate FirstParent firstParent;\n\n@OneToOne(fetch = FetchType.LAZY)\n@MapsId\n@JoinColumn(name = &quot;id&quot;)\nprivate SecondParent secondParent;\n\n}\n</code></pre>\n<p>The problem is that every time when I am creating a <code>firstParent</code> instance, I am getting the following execption:\n<code>org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property [.....Child.secondParent]</code></p>\n<p>This is indicating me that hibernate attempts to assign the id also for the <code>secondParent</code> even if it shouldn't do that, should do this only for the child entity.</p>\n<p>Interesting is, that when I am creating an instance of <code>firstParent</code>, the above mentioned exception does not occures.</p>\n<p>What am I doing wrong and how can I map this properly?</p>\n"},{"tags":["java","testing","jmeter","performance-testing","load-testing"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666393130,"post_id":74151563,"comment_id":130934541,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666354179,"creation_date":1666354179,"answer_id":74153417,"question_id":74151563,"body_markdown":"Check out [Remote hosts and RMI configuration][2] section of JMeter documentation and pay particular attention to the following:\r\n\r\n - `client.rmi.localport` - Parameter that controls the RMI ports used by RemoteSampleListenerImpl and RemoteThreadsListenerImpl (The Controller)\r\n - `server.rmi.port` - To change the default port (1099) used to access the server.\r\n - `server.rmi.localport` - To use a specific port for the JMeter server engine, define this property before starting the server.\r\n - `server_port` - RMI port to be used by the server (must start rmiregistry with same port).\r\n\r\nWhere:\r\n\r\n - `client` (or `Controller`) == JMeter Master\r\n - `server` == JMeter Slave\r\n\r\nMore information:\r\n\r\n - [Remote Testing][3]\r\n - [How to Perform Distributed Testing in JMeter][4]\r\n - [Apache JMeter Distributed Testing Step-by-step][5]\r\n\r\n\r\n----------\r\nWe cannot suggest any fixes without seeing what properties you&#39;ve defined on master and slave machines, for now I can mention that:\r\n\r\n 1. If you want to change `server_port` from default `1099` to `1234` you need to do this **on the slaves side**\r\n 2. On the master side you need to make JMeter aware of the port change via `remote_hosts` property like\r\n\r\n        remote_hosts=1.1.1.1:1234,2.2.2.2:1234,etc.\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/get-started.html#configuring_jmeter\r\n  [2]: https://jmeter.apache.org/usermanual/properties_reference.html#remote\r\n  [3]: https://jmeter.apache.org/usermanual/remote-test.html\r\n  [4]: https://www.blazemeter.com/blog/distributed-testing-in-jmeter\r\n  [5]: https://jmeter.apache.org/usermanual/jmeter_distributed_testing_step_by_step.html","title":"Unable to connect to a slave machine in JMeter distributed testing [JMeter Distributed Testing]","body":"<p>Check out <a href=\"https://jmeter.apache.org/usermanual/properties_reference.html#remote\" rel=\"nofollow noreferrer\">Remote hosts and RMI configuration</a> section of JMeter documentation and pay particular attention to the following:</p>\n<ul>\n<li><code>client.rmi.localport</code> - Parameter that controls the RMI ports used by RemoteSampleListenerImpl and RemoteThreadsListenerImpl (The Controller)</li>\n<li><code>server.rmi.port</code> - To change the default port (1099) used to access the server.</li>\n<li><code>server.rmi.localport</code> - To use a specific port for the JMeter server engine, define this property before starting the server.</li>\n<li><code>server_port</code> - RMI port to be used by the server (must start rmiregistry with same port).</li>\n</ul>\n<p>Where:</p>\n<ul>\n<li><code>client</code> (or <code>Controller</code>) == JMeter Master</li>\n<li><code>server</code> == JMeter Slave</li>\n</ul>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://jmeter.apache.org/usermanual/remote-test.html\" rel=\"nofollow noreferrer\">Remote Testing</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/distributed-testing-in-jmeter\" rel=\"nofollow noreferrer\">How to Perform Distributed Testing in JMeter</a></li>\n<li><a href=\"https://jmeter.apache.org/usermanual/jmeter_distributed_testing_step_by_step.html\" rel=\"nofollow noreferrer\">Apache JMeter Distributed Testing Step-by-step</a></li>\n</ul>\n<hr />\n<p>We cannot suggest any fixes without seeing what properties you've defined on master and slave machines, for now I can mention that:</p>\n<ol>\n<li><p>If you want to change <code>server_port</code> from default <code>1099</code> to <code>1234</code> you need to do this <strong>on the slaves side</strong></p>\n</li>\n<li><p>On the master side you need to make JMeter aware of the port change via <code>remote_hosts</code> property like</p>\n<pre><code>remote_hosts=1.1.1.1:1234,2.2.2.2:1234,etc.\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":26691107,"reputation":1,"user_id":20299672,"display_name":"Rukhsar Shaikh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666354179,"creation_date":1666344433,"question_id":74151563,"body_markdown":"I am trying to setup a master-slave environment to perform distributed testing in JMeter, But even after setting up all the things, i am unable to do so.\r\n\r\nBelow configurations i already setup:\r\n\r\n1. Firewall is disable.\r\n\r\n2. RMI keystore is generated from master machine and the created &quot;jks&quot; file has been pasted to all slave machine. Also for alternative solution, i marked &quot;server.rmi.ssl.disable&quot; as &quot;true&quot; in &quot;user.properties&quot; fike.\r\n\r\n3. I also setup a server port in &quot;jmeter.properties&quot; file with slave ip addresses as well.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iiQJP.png\r\n\r\nbut after doing all the above listed things, i am getting error as &quot;Connection timed out&quot; and &quot;Connection Refused to host&quot;.","title":"Unable to connect to a slave machine in JMeter distributed testing [JMeter Distributed Testing]","body":"<p>I am trying to setup a master-slave environment to perform distributed testing in JMeter, But even after setting up all the things, i am unable to do so.</p>\n<p>Below configurations i already setup:</p>\n<ol>\n<li><p>Firewall is disable.</p>\n</li>\n<li><p>RMI keystore is generated from master machine and the created &quot;jks&quot; file has been pasted to all slave machine. Also for alternative solution, i marked &quot;server.rmi.ssl.disable&quot; as &quot;true&quot; in &quot;user.properties&quot; fike.</p>\n</li>\n<li><p>I also setup a server port in &quot;jmeter.properties&quot; file with slave ip addresses as well.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/iiQJP.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>but after doing all the above listed things, i am getting error as &quot;Connection timed out&quot; and &quot;Connection Refused to host&quot;.</p>\n"},{"tags":["java","node.js","encryption"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666351201,"post_id":74152534,"comment_id":130922044,"body_markdown":"What is `ENC_KEY` in the NodeJS code (i.e. have you considered the key derivation via SHA-1)? Also, the Java code applies AES-128. The article fails to point out that ECB and SHA-1 as key derivation are insecure.","body":"What is <code>ENC_KEY</code> in the NodeJS code (i.e. have you considered the key derivation via SHA-1)? Also, the Java code applies AES-128. The article fails to point out that ECB and SHA-1 as key derivation are insecure."},{"owner":{"account_id":26691737,"reputation":1,"user_id":20300218,"display_name":"Ricardo Cacheira"},"score":0,"creation_date":1666351616,"post_id":74152534,"comment_id":130922196,"body_markdown":"`ENC_KEY` is the key we defined. After researching I have changed to aes-128-ecb and hashed the `ENC_KEY` as such `var key = crypto.scryptSync(ENC_KEY, &#39;sha1&#39;, 16)` but still don&#39;t get a readable result.\nEDIT: I&#39;ve also learned that it is insecure however this is not to exchange sensitive information. It is just a way to avoid exploitation of our system.","body":"<code>ENC_KEY</code> is the key we defined. After researching I have changed to aes-128-ecb and hashed the <code>ENC_KEY</code> as such <code>var key = crypto.scryptSync(ENC_KEY, &#39;sha1&#39;, 16)</code> but still don&#39;t get a readable result. EDIT: I&#39;ve also learned that it is insecure however this is not to exchange sensitive information. It is just a way to avoid exploitation of our system."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666352045,"post_id":74152534,"comment_id":130922304,"body_markdown":"If you want to decrypt the ciphertext generated by the Java code, then of course you have to apply the key derivation used in the Java code (and that is not *scrypt*), see here: https://www.jdoodle.com/ia/xKT.","body":"If you want to decrypt the ciphertext generated by the Java code, then of course you have to apply the key derivation used in the Java code (and that is not <i>scrypt</i>), see here: <a href=\"https://www.jdoodle.com/ia/xKT\" rel=\"nofollow noreferrer\">jdoodle.com/ia/xKT</a>."},{"owner":{"account_id":26691737,"reputation":1,"user_id":20300218,"display_name":"Ricardo Cacheira"},"score":0,"creation_date":1666352485,"post_id":74152534,"comment_id":130922440,"body_markdown":"That worked! I was starting to come to the conclusion that the key was the issue but I am not experienced with cryptography and Java enough to understand what I was missing.\nIf you write your comment as an answer I&#39;ll mark it as correct to save some time to whoever needs this solution.","body":"That worked! I was starting to come to the conclusion that the key was the issue but I am not experienced with cryptography and Java enough to understand what I was missing. If you write your comment as an answer I&#39;ll mark it as correct to save some time to whoever needs this solution."}],"answers":[{"tags":[],"owner":{"account_id":26691737,"reputation":1,"user_id":20300218,"display_name":"Ricardo Cacheira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666354066,"creation_date":1666353937,"answer_id":74153373,"question_id":74152534,"body_markdown":"For anyone who encounters the same problem as me follow the solution @Topaco added in the comments:\r\n\r\n&gt; If you want to decrypt the ciphertext generated by the Java code, then of course you have to apply the key derivation used in the Java code (and that is not scrypt), see here: jdoodle.com/ia/xKT.\r\n\r\nhttps://www.jdoodle.com/ia/xKT","title":"NodeJs Can&#39;t decrypt result ecrypted in Java (AES/ECB/PKCS5Padding)","body":"<p>For anyone who encounters the same problem as me follow the solution @Topaco added in the comments:</p>\n<blockquote>\n<p>If you want to decrypt the ciphertext generated by the Java code, then of course you have to apply the key derivation used in the Java code (and that is not scrypt), see here: jdoodle.com/ia/xKT.</p>\n</blockquote>\n<p><a href=\"https://www.jdoodle.com/ia/xKT\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/ia/xKT</a></p>\n"}],"owner":{"account_id":26691737,"reputation":1,"user_id":20300218,"display_name":"Ricardo Cacheira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74153373,"answer_count":1,"score":0,"last_activity_date":1666354066,"creation_date":1666349367,"question_id":74152534,"body_markdown":"I&#39;m working with a client and made some code to decrypt a value that their system encrypts.\r\nThey are using Java (which I&#39;m not familiar with) and have used the following code example:\r\nhttps://howtodoinjava.com/java/java-security/java-aes-encryption-example/\r\n\r\nThe following node.js code worked with my testing examples but returns an error when trying to decrypt theirs\r\n\r\n    const decipher = crypto.createDecipheriv(&quot;aes-256-ecb&quot;, ENC_KEY, null);\r\n    decipher.setAutoPadding(true);\r\n    deciphered = decipher.update(encryptedValue, &quot;base64&quot;, &quot;utf8&quot;);\r\n    deciphered += decipher.final(&quot;utf8&quot;);\r\n    console.log(deciphered);\r\n\r\nError: error:06065064:digital envelope routines:EVP_DecryptFinal_ex:bad decrypt\r\n\r\nMy research online hasn&#39;t returned any solution that worked so far.\r\n\r\nAm I missing something in my code?\r\n\r\nEDIT: After more research i found that crypto already does pkcs5padding by default and setting autoPadding to false resolved the bad decrypt however I now get some strange characters (�[�→&gt;↔��I�O�v L�▼v���.,\r\n��&lt;G��♠V�/,J9�) and not the expected result","title":"NodeJs Can&#39;t decrypt result ecrypted in Java (AES/ECB/PKCS5Padding)","body":"<p>I'm working with a client and made some code to decrypt a value that their system encrypts.\nThey are using Java (which I'm not familiar with) and have used the following code example:\n<a href=\"https://howtodoinjava.com/java/java-security/java-aes-encryption-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java/java-security/java-aes-encryption-example/</a></p>\n<p>The following node.js code worked with my testing examples but returns an error when trying to decrypt theirs</p>\n<pre><code>const decipher = crypto.createDecipheriv(&quot;aes-256-ecb&quot;, ENC_KEY, null);\ndecipher.setAutoPadding(true);\ndeciphered = decipher.update(encryptedValue, &quot;base64&quot;, &quot;utf8&quot;);\ndeciphered += decipher.final(&quot;utf8&quot;);\nconsole.log(deciphered);\n</code></pre>\n<p>Error: error:06065064:digital envelope routines:EVP_DecryptFinal_ex:bad decrypt</p>\n<p>My research online hasn't returned any solution that worked so far.</p>\n<p>Am I missing something in my code?</p>\n<p>EDIT: After more research i found that crypto already does pkcs5padding by default and setting autoPadding to false resolved the bad decrypt however I now get some strange characters (�[�→&gt;↔��I�O�v L�▼v���.,\n��&lt;G��♠V�/,J9�) and not the expected result</p>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":24326039,"reputation":2411,"user_id":18265570,"display_name":"Roopa M"},"score":0,"creation_date":1666360244,"post_id":74152760,"comment_id":130925221,"body_markdown":"Have you tried [Transactions](https://firebase.google.com/docs/firestore/manage-data/transactions) and barched writes? Can you have a look at this [StackOverflow thread](https://stackoverflow.com/a/57653880/18265570)?","body":"Have you tried <a href=\"https://firebase.google.com/docs/firestore/manage-data/transactions\" rel=\"nofollow noreferrer\">Transactions</a> and barched writes? Can you have a look at this <a href=\"https://stackoverflow.com/a/57653880/18265570\">StackOverflow thread</a>?"},{"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"score":0,"creation_date":1666360865,"post_id":74152760,"comment_id":130925447,"body_markdown":"I think it cannot be achieved using transactions and batched writes because the IDs are unknown","body":"I think it cannot be achieved using transactions and batched writes because the IDs are unknown"},{"owner":{"account_id":24326039,"reputation":2411,"user_id":18265570,"display_name":"Roopa M"},"score":0,"creation_date":1666513470,"post_id":74152760,"comment_id":130951342,"body_markdown":"Does this [StackOverflow link](https://stackoverflow.com/a/61136301/18265570) helps you?","body":"Does this <a href=\"https://stackoverflow.com/a/61136301/18265570\">StackOverflow link</a> helps you?"},{"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"score":0,"creation_date":1666675334,"post_id":74152760,"comment_id":130987053,"body_markdown":"@RoopaM not really. I did not find any solution in that link. In fact, I did not find a solution even in Firestore documentation. I guess I have to run multiple queries from different collections at once and then update at once but I think its a bad practice and can cost me a lot.","body":"@RoopaM not really. I did not find any solution in that link. In fact, I did not find a solution even in Firestore documentation. I guess I have to run multiple queries from different collections at once and then update at once but I think its a bad practice and can cost me a lot."},{"owner":{"account_id":24326039,"reputation":2411,"user_id":18265570,"display_name":"Roopa M"},"score":0,"creation_date":1666684193,"post_id":74152760,"comment_id":130989169,"body_markdown":"How about considering maps as discussed [here](https://stackoverflow.com/a/46945340/18265570)?","body":"How about considering maps as discussed <a href=\"https://stackoverflow.com/a/46945340/18265570\">here</a>?"}],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666792373,"answer_count":0,"score":0,"last_activity_date":1666354034,"creation_date":1666350589,"question_id":74152760,"body_markdown":"Here is my DB:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Dr8zr.png\r\n  [2]: https://i.stack.imgur.com/VyknD.png\r\n  [3]: https://i.stack.imgur.com/IubgC.png\r\n\r\nI want to update the fullName of a member in multiple locations all at once. The fullName of a member is inside AnnualDue, MemberFee, and Faculty.","title":"How to update data in multiple location (e.g. top level collection, subcollection)?","body":"<p>Here is my DB:</p>\n<p><a href=\"https://i.stack.imgur.com/Dr8zr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dr8zr.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VyknD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VyknD.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/IubgC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IubgC.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to update the fullName of a member in multiple locations all at once. The fullName of a member is inside AnnualDue, MemberFee, and Faculty.</p>\n"},{"tags":["java","android","android-permissions","android-file","android-fileprovider"],"answers":[{"tags":[],"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666353954,"creation_date":1594824707,"answer_id":62917704,"question_id":62917518,"body_markdown":"We need to provide persistent Uri permission. \r\n\r\n----\r\n\r\nJAVA\r\n\r\n     Intent openFileIntent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n     openFileIntent.addCategory(Intent.CATEGORY_OPENABLE);\r\n     openFileIntent.setType(&quot;audio/mpeg&quot;);\r\n     startActivityForResult(openFileIntent, PICK_MP3_FILE);\r\n\r\n----\r\n\r\nAlso, a note worth mentioning is persistent permission is available only to `Intent.ACTION_OPEN_DOCUMENT` and **NOT** `Intent.ACTION_GET_CONTENT` whereas the latter one is like a one-time thing.","title":"How to convert a string to a URI without throwing exceptions","body":"<p>We need to provide persistent Uri permission.</p>\n<hr />\n<p>JAVA</p>\n<pre><code> Intent openFileIntent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n openFileIntent.addCategory(Intent.CATEGORY_OPENABLE);\n openFileIntent.setType(&quot;audio/mpeg&quot;);\n startActivityForResult(openFileIntent, PICK_MP3_FILE);\n</code></pre>\n<hr />\n<p>Also, a note worth mentioning is persistent permission is available only to <code>Intent.ACTION_OPEN_DOCUMENT</code> and <strong>NOT</strong> <code>Intent.ACTION_GET_CONTENT</code> whereas the latter one is like a one-time thing.</p>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594826437,"creation_date":1594825800,"answer_id":62918053,"question_id":62917518,"body_markdown":"&gt;&gt; To do that I used getPath().\r\n\r\nYou should use toString() instead.\r\n\r\n     String scheme = uri.toString();\r\n\r\n     Uri uri = Uri.parse(scheme);","title":"How to convert a string to a URI without throwing exceptions","body":"<blockquote>\n<blockquote>\n<p>To do that I used getPath().</p>\n</blockquote>\n</blockquote>\n<p>You should use toString() instead.</p>\n<pre><code> String scheme = uri.toString();\n\n Uri uri = Uri.parse(scheme);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4705887,"reputation":71,"user_id":3808056,"display_name":"Booo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645394618,"creation_date":1645394618,"answer_id":71199210,"question_id":62917518,"body_markdown":"The permission denial issue needs to be dealt with the first time you receive a URI.\r\n```\r\n    private val pickImage = registerForActivityResult(\r\n        ActivityResultContracts.StartActivityForResult()\r\n    ) { result: ActivityResult -&gt;\r\n        if (result.resultCode == Activity.RESULT_OK) {\r\n            //  you will get result here in result.data\r\n            val uri = result.data?.data!!\r\n            requireActivity().contentResolver.takePersistableUriPermission(\r\n                uri,\r\n                Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n            )\r\n            // Do something else with the URI. E.g, save the URI as a string in the database\r\n        }\r\n    }\r\n```","title":"How to convert a string to a URI without throwing exceptions","body":"<p>The permission denial issue needs to be dealt with the first time you receive a URI.</p>\n<pre><code>    private val pickImage = registerForActivityResult(\n        ActivityResultContracts.StartActivityForResult()\n    ) { result: ActivityResult -&gt;\n        if (result.resultCode == Activity.RESULT_OK) {\n            //  you will get result here in result.data\n            val uri = result.data?.data!!\n            requireActivity().contentResolver.takePersistableUriPermission(\n                uri,\n                Intent.FLAG_GRANT_READ_URI_PERMISSION\n            )\n            // Do something else with the URI. E.g, save the URI as a string in the database\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":19084813,"reputation":51,"user_id":13936310,"display_name":"DevJayJay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":62917704,"answer_count":3,"score":4,"last_activity_date":1666353954,"creation_date":1594824128,"question_id":62917518,"body_markdown":"I had to convert a Uri to a string so that I could serialize that Uri. \r\n\r\n    Intent openFileIntent = new Intent(Intent.ACTION_GET_CONTENT);\r\n    openFileIntent.addCategory(Intent.CATEGORY_OPENABLE);\r\n    openFileIntent.setType(&quot;audio/mpeg&quot;);\r\n    startActivityForResult(openFileIntent, PICK_MP3_FILE);\r\n\r\n...then on activity result...\r\n\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data)\r\n        {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n            if (requestCode == PICK_MP3_FILE)\r\n            {\r\n                if (resultCode == RESULT_OK)\r\n                {\r\n                    try\r\n                    {\r\n                        if (data != null)\r\n                        {\r\n                            Uri mp3AudioFile;\r\n                            if ((mp3AudioFile = data.getData()) != null)\r\n                            {\r\n                                myObject.setMp3Path(mp3AudioFile.getPath());\r\n                                myObject.Save();\r\n    \r\n                            }\r\n                        }\r\n                    } catch (Exception e)\r\n                    {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\nI closed the app and opened again. When I try to open that Uri with:\r\n\r\n    Uri uri = Uri.parse(myObject.getMp3Path();\r\n\r\nI get an error:\r\n\r\n    java.lang.SecurityException: Permission Denial: reading com.android.providers.downloads.DownloadStorageProvider uri content://com.android.providers.downloads.documents/document/raw%3A%2Fstorage%2Femulated%2F0%2FDownload%2Faudio.mp3 from pid=601, uid=10107 requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\r\n\r\nMy Manifest has the following permissions:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n\r\n\r\n\r\n\r\n","title":"How to convert a string to a URI without throwing exceptions","body":"<p>I had to convert a Uri to a string so that I could serialize that Uri.</p>\n<pre><code>Intent openFileIntent = new Intent(Intent.ACTION_GET_CONTENT);\nopenFileIntent.addCategory(Intent.CATEGORY_OPENABLE);\nopenFileIntent.setType(&quot;audio/mpeg&quot;);\nstartActivityForResult(openFileIntent, PICK_MP3_FILE);\n</code></pre>\n<p>...then on activity result...</p>\n<pre><code>public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data)\n    {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == PICK_MP3_FILE)\n        {\n            if (resultCode == RESULT_OK)\n            {\n                try\n                {\n                    if (data != null)\n                    {\n                        Uri mp3AudioFile;\n                        if ((mp3AudioFile = data.getData()) != null)\n                        {\n                            myObject.setMp3Path(mp3AudioFile.getPath());\n                            myObject.Save();\n\n                        }\n                    }\n                } catch (Exception e)\n                {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>I closed the app and opened again. When I try to open that Uri with:</p>\n<pre><code>Uri uri = Uri.parse(myObject.getMp3Path();\n</code></pre>\n<p>I get an error:</p>\n<pre><code>java.lang.SecurityException: Permission Denial: reading com.android.providers.downloads.DownloadStorageProvider uri content://com.android.providers.downloads.documents/document/raw%3A%2Fstorage%2Femulated%2F0%2FDownload%2Faudio.mp3 from pid=601, uid=10107 requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\n</code></pre>\n<p>My Manifest has the following permissions:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1508868317,"post_id":46916992,"comment_id":80781744,"body_markdown":"Start with removing the addFlags() from the used intent. Makes no sense.","body":"Start with removing the addFlags() from the used intent. Makes no sense."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1508868359,"post_id":46916992,"comment_id":80781766,"body_markdown":"After that you should take a persistable uri permission in onActivityResult. Where is your code?","body":"After that you should take a persistable uri permission in onActivityResult. Where is your code?"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1508868562,"post_id":46916992,"comment_id":80781877,"body_markdown":"`imageURI = Uri.parse(cursor.getString(cursor.getColumnIndexOrThrow(WineContract.WineEntry.COLUMN_WINE_IMAGE)));`. My god... Should we know what uri you are taking there? You are supposed to use code that is understandable for everybody.","body":"<code>imageURI = Uri.parse(cursor.getString(cursor.getColumnIndexOrThrow(Wine&zwnj;&#8203;Contract.WineEntry.C&zwnj;&#8203;OLUMN_WINE_IMAGE)));</code>&zwnj;&#8203;. My god... Should we know what uri you are taking there? You are supposed to use code that is understandable for everybody."},{"owner":{"account_id":11902191,"reputation":359,"user_id":8709842,"accept_rate":83,"display_name":"andrdoiddev"},"score":0,"creation_date":1508868710,"post_id":46916992,"comment_id":80781972,"body_markdown":"@greenapps Sorry, I just didn&#39;t think the result of that line specifically would have helped anyone. Maybe I was mistaken? Here is the Log TAG  that gets retreived from that line: &quot;DetailsActivity: imageURI: content://com.android.providers.media.documents/document/image%3A46421&quot;","body":"@greenapps Sorry, I just didn&#39;t think the result of that line specifically would have helped anyone. Maybe I was mistaken? Here is the Log TAG  that gets retreived from that line: &quot;DetailsActivity: imageURI: content://com.android.providers.media.documents/document/ima&zwnj;&#8203;ge%3A46421&quot;"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1508868812,"post_id":46916992,"comment_id":80782018,"body_markdown":"Yes that is better. You should have used it in your code straight away.","body":"Yes that is better. You should have used it in your code straight away."},{"owner":{"account_id":11902191,"reputation":359,"user_id":8709842,"accept_rate":83,"display_name":"andrdoiddev"},"score":0,"creation_date":1508868909,"post_id":46916992,"comment_id":80782076,"body_markdown":"@greenapps Sorry about that. I just to make the post as detailed as I can (with relevant information), but I&#39;m pretty new to all this yet so I&#39;m not 100% positive on what is releavant or not.","body":"@greenapps Sorry about that. I just to make the post as detailed as I can (with relevant information), but I&#39;m pretty new to all this yet so I&#39;m not 100% positive on what is releavant or not."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1508868404,"creation_date":1508868404,"answer_id":46917241,"question_id":46916992,"body_markdown":"In `onActivityResult()`, [call `takePersistableUriPermission()` on a `ContentResolver`][1], passing in the `Uri` that you got along with the mode flag(s) that indicate what access you want (read, write, both).\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/ContentResolver.html#takePersistableUriPermission(android.net.Uri,%20int)","title":"Having trouble implementing ACTION_OPEN_DOCUMENT to my project","body":"<p>In <code>onActivityResult()</code>, <a href=\"https://developer.android.com/reference/android/content/ContentResolver.html#takePersistableUriPermission(android.net.Uri,%20int)\" rel=\"noreferrer\">call <code>takePersistableUriPermission()</code> on a <code>ContentResolver</code></a>, passing in the <code>Uri</code> that you got along with the mode flag(s) that indicate what access you want (read, write, both).</p>\n"},{"tags":[],"owner":{"account_id":6686072,"reputation":714,"user_id":5956589,"display_name":"Richard Muvirimi"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1508870153,"creation_date":1508868652,"answer_id":46917304,"question_id":46916992,"body_markdown":"To handle permission results overide onRequestPermissionsResult as below\r\n   \r\n\r\n     @Override\r\n     public void onRequestPermissionsResult (int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode) {\r\n        \tcase General.REQUESTPERMISSION:\r\n        \t\tif (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n        \t\t\t//reload my activity with permission granted or use the features that required the permission\r\n        \t\t\t\t\t\r\n        \t\t} else {\r\n        \t\t\tMessenger.makeToast(getContext(), R.string.noPermissionMarshmallow);\r\n        \t\t}\r\n        \t\tbreak;\r\n        }\r\n    }\r\n\r\nand to persist the permission implement as shown below in your onActivityResult method\r\n\r\n    @Override\r\n    public void onActivityResult (int requestCode, int resultCode, Intent data) {\r\n    \tsuper.onActivityResult(requestCode, resultCode, data);\r\n        //if ok user selected a file\r\n    \tif (resultCode == RESULT_OK) {\r\n            Uri sourceTreeUri = data.getData();\r\n    \t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n    \t\t\tgetContext().getContentResolver().takePersistableUriPermission(sourceTreeUri, Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n    \t\t}\r\n        }\r\n    }","title":"Having trouble implementing ACTION_OPEN_DOCUMENT to my project","body":"<p>To handle permission results overide onRequestPermissionsResult as below</p>\n\n<pre><code> @Override\n public void onRequestPermissionsResult (int requestCode, String[] permissions, int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode) {\n        case General.REQUESTPERMISSION:\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                //reload my activity with permission granted or use the features that required the permission\n\n            } else {\n                Messenger.makeToast(getContext(), R.string.noPermissionMarshmallow);\n            }\n            break;\n    }\n}\n</code></pre>\n\n<p>and to persist the permission implement as shown below in your onActivityResult method</p>\n\n<pre><code>@Override\npublic void onActivityResult (int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    //if ok user selected a file\n    if (resultCode == RESULT_OK) {\n        Uri sourceTreeUri = data.getData();\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n            getContext().getContentResolver().takePersistableUriPermission(sourceTreeUri, Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1340078,"reputation":6396,"user_id":1281930,"accept_rate":82,"display_name":"guness"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1666353695,"creation_date":1580904581,"answer_id":60075521,"question_id":46916992,"body_markdown":"a bit late but...\r\nWe need to provide persistent Uri permission. Instead of doing it on `onActivityResult` as oppose to prior answers, I prefer to add it as a flag:\r\n\r\n    val intent = Intent(Intent.ACTION_OPEN_DOCUMENT).also {\r\n        it.addCategory(Intent.CATEGORY_OPENABLE)\r\n        it.type = &quot;image/*&quot;\r\n        it.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION)\r\n        it.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\r\n    }\r\n\r\n----\r\nAlso, a note worth mentioning is persistent permission is available only to `Intent.ACTION_OPEN_DOCUMENT` and **NOT** `Intent.ACTION_GET_CONTENT` whereas the latter one is like a one-time thing.","title":"Having trouble implementing ACTION_OPEN_DOCUMENT to my project","body":"<p>a bit late but...\nWe need to provide persistent Uri permission. Instead of doing it on <code>onActivityResult</code> as oppose to prior answers, I prefer to add it as a flag:</p>\n<pre><code>val intent = Intent(Intent.ACTION_OPEN_DOCUMENT).also {\n    it.addCategory(Intent.CATEGORY_OPENABLE)\n    it.type = &quot;image/*&quot;\n    it.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION)\n    it.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\n}\n</code></pre>\n<hr />\n<p>Also, a note worth mentioning is persistent permission is available only to <code>Intent.ACTION_OPEN_DOCUMENT</code> and <strong>NOT</strong> <code>Intent.ACTION_GET_CONTENT</code> whereas the latter one is like a one-time thing.</p>\n"},{"tags":[],"owner":{"account_id":4705887,"reputation":71,"user_id":3808056,"display_name":"Booo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1645394880,"creation_date":1645394880,"answer_id":71199241,"question_id":46916992,"body_markdown":"The permission denial issue needs to be dealt with the first time you receive a URI. If you use **registerForActivityResult()** instead of **startActivityForResult()**\r\n```\r\n    // Kotlin\r\n    private val pickImage = registerForActivityResult(\r\n        ActivityResultContracts.StartActivityForResult()\r\n    ) { result: ActivityResult -&gt;\r\n        if (result.resultCode == Activity.RESULT_OK) {\r\n            //  you will get result here in result.data\r\n            val uri = result.data?.data!!\r\n            requireActivity().contentResolver.takePersistableUriPermission(\r\n                uri,\r\n                Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n            )\r\n            // Do something else with the URI. E.g, save the URI as a string in the database\r\n        }\r\n    }\r\n```","title":"Having trouble implementing ACTION_OPEN_DOCUMENT to my project","body":"<p>The permission denial issue needs to be dealt with the first time you receive a URI. If you use <strong>registerForActivityResult()</strong> instead of <strong>startActivityForResult()</strong></p>\n<pre><code>    // Kotlin\n    private val pickImage = registerForActivityResult(\n        ActivityResultContracts.StartActivityForResult()\n    ) { result: ActivityResult -&gt;\n        if (result.resultCode == Activity.RESULT_OK) {\n            //  you will get result here in result.data\n            val uri = result.data?.data!!\n            requireActivity().contentResolver.takePersistableUriPermission(\n                uri,\n                Intent.FLAG_GRANT_READ_URI_PERMISSION\n            )\n            // Do something else with the URI. E.g, save the URI as a string in the database\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11902191,"reputation":359,"user_id":8709842,"accept_rate":83,"display_name":"andrdoiddev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25085,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":46917304,"answer_count":4,"score":16,"last_activity_date":1666353695,"creation_date":1508867485,"question_id":46916992,"body_markdown":"I have AddActivity, which lets you get the URI from either a picture you can take from the camera, or an image that you can select from the gallery. Then you can go to DetailsActivity to view the image. I have it working right now until you restart the device. After you restart and try to go to DetailsActivity for that image, this is the error:\r\n\r\n    Caused by: java.lang.SecurityException: Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{3a5e86d 2915:jeremy.com.wineofmine/u0a321} (pid=2915, uid=10321) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\r\n\r\nI went to the [&quot;Open Files Using Storage Access Framework&quot;][1] Android Development page and read up on the Persist Permissions section. I&#39;m having trouble applying it to my project though.\r\n\r\nI think the main thing I don&#39;t understand is that it looks like you need to call an intent (in my case inside the DetailsActivity), but I don&#39;t even have an intent there. \r\n\r\nHere is the intent that lets you pick the gallery image. This is in AddActivity:\r\n\r\n    Intent intentGallery = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n                intentGallery.addCategory(Intent.CATEGORY_OPENABLE);\r\n                intentGallery.setType(&quot;image/*&quot;);\r\n                intentGallery.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                intentGallery.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n                startActivityForResult(intentGallery, SELECT_IMAGE);\r\n\r\nIn the DetailsActivity, this is where it actually crashes:\r\n\r\n    imageURI = Uri.parse(cursor.getString(cursor.getColumnIndexOrThrow(WineContract.WineEntry.COLUMN_WINE_IMAGE)));\r\n    \r\n    bitmap = null;\r\n        try {\r\n            //If the cursor does not have anything in the image column, set the image to null, with a height so the textviews look decent\r\n            if (cursor.isNull(cursor.getColumnIndexOrThrow(WineContract.WineEntry.COLUMN_WINE_IMAGE))){\r\n                mFullImage.setImageBitmap(null);\r\n                mFullImage.setMaxHeight(300);\r\n            }else{\r\n                //remake the bitmap from the URI in the image column\r\n          //********This next line is where the program crashes**********\r\n                bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), imageURI);\r\n                mFullImage.setImageBitmap(bitmap);\r\n\r\n            }\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/providers/document-provider.html\r\n\r\nCould I get some help with figuring out how to apply this to my project?","title":"Having trouble implementing ACTION_OPEN_DOCUMENT to my project","body":"<p>I have AddActivity, which lets you get the URI from either a picture you can take from the camera, or an image that you can select from the gallery. Then you can go to DetailsActivity to view the image. I have it working right now until you restart the device. After you restart and try to go to DetailsActivity for that image, this is the error:</p>\n\n<pre><code>Caused by: java.lang.SecurityException: Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{3a5e86d 2915:jeremy.com.wineofmine/u0a321} (pid=2915, uid=10321) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\n</code></pre>\n\n<p>I went to the <a href=\"https://developer.android.com/guide/topics/providers/document-provider.html\" rel=\"noreferrer\">\"Open Files Using Storage Access Framework\"</a> Android Development page and read up on the Persist Permissions section. I'm having trouble applying it to my project though.</p>\n\n<p>I think the main thing I don't understand is that it looks like you need to call an intent (in my case inside the DetailsActivity), but I don't even have an intent there. </p>\n\n<p>Here is the intent that lets you pick the gallery image. This is in AddActivity:</p>\n\n<pre><code>Intent intentGallery = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n            intentGallery.addCategory(Intent.CATEGORY_OPENABLE);\n            intentGallery.setType(\"image/*\");\n            intentGallery.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n            intentGallery.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n            startActivityForResult(intentGallery, SELECT_IMAGE);\n</code></pre>\n\n<p>In the DetailsActivity, this is where it actually crashes:</p>\n\n<pre><code>imageURI = Uri.parse(cursor.getString(cursor.getColumnIndexOrThrow(WineContract.WineEntry.COLUMN_WINE_IMAGE)));\n\nbitmap = null;\n    try {\n        //If the cursor does not have anything in the image column, set the image to null, with a height so the textviews look decent\n        if (cursor.isNull(cursor.getColumnIndexOrThrow(WineContract.WineEntry.COLUMN_WINE_IMAGE))){\n            mFullImage.setImageBitmap(null);\n            mFullImage.setMaxHeight(300);\n        }else{\n            //remake the bitmap from the URI in the image column\n      //********This next line is where the program crashes**********\n            bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), imageURI);\n            mFullImage.setImageBitmap(bitmap);\n\n        }\n</code></pre>\n\n<p>Could I get some help with figuring out how to apply this to my project?</p>\n"},{"tags":["java","spring","spring-boot","apache-poi"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1666350411,"post_id":74152598,"comment_id":130921779,"body_markdown":"`row = sheet.createRow(second);` you re-create the row for every column. You either want it for every `ExplosureDto` or for every `ChildExplosure`","body":"<code>row = sheet.createRow(second);</code> you re-create the row for every column. You either want it for every <code>ExplosureDto</code> or for every <code>ChildExplosure</code>"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1666351677,"post_id":74152598,"comment_id":130922218,"body_markdown":"@Alexander For every ChildExplosure","body":"@Alexander For every ChildExplosure"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666352674,"post_id":74152598,"comment_id":130922487,"body_markdown":"Then move it one line up and you should be good","body":"Then move it one line up and you should be good"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1666427658,"post_id":74152598,"comment_id":130938172,"body_markdown":"@XtremeBaumer I tried different options, it doesn&#39;t work","body":"@XtremeBaumer I tried different options, it doesn&#39;t work"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666594308,"post_id":74152598,"comment_id":130965299,"body_markdown":"&quot;Doesn&#39;t work&quot; is too broad. Also `Cell cell1 = row.createCell(second);` -&gt; you don&#39;t iterate the columns. You need a counter for the row number and one for the columns. Column counter must be reset whenever you create a new row","body":"&quot;Doesn&#39;t work&quot; is too broad. Also <code>Cell cell1 = row.createCell(second);</code> -&gt; you don&#39;t iterate the columns. You need a counter for the row number and one for the columns. Column counter must be reset whenever you create a new row"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1666600601,"post_id":74152598,"comment_id":130967109,"body_markdown":"@XtremeBaumer Thanks for the answer!\nCan you write a code so that I accept it as an answer to my question?","body":"@XtremeBaumer Thanks for the answer! Can you write a code so that I accept it as an answer to my question?"}],"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666353538,"creation_date":1666349653,"question_id":74152598,"body_markdown":"I have a method that accepts dynamic data and saves it to an excel file:\r\n\r\n    private void saveExcel(List&lt;ExplosureDto&gt; list, List&lt;String&gt; columns, HttpServletResponse response) throws IOException {\r\n    \r\n                        XSSFWorkbook workbook = new XSSFWorkbook();\r\n                        XSSFSheet sheet = workbook.createSheet(&quot;Reports&quot;);\r\n                        XSSFRow row = sheet.createRow(0);\r\n    \r\n                        List&lt;Object&gt; namesForRowZero = new ArrayList&lt;&gt;(columns);\r\n                       // Map&lt;XSSFCell, Integer&gt; namesForRowZero1 = new HashMap&lt;&gt;();\r\n                        for (int i = 0; i &lt; namesForRowZero.size(); i++) {\r\n                            Cell cell = row.createCell(i);\r\n                            cell.setCellValue(String.valueOf(namesForRowZero.get(i)));\r\n                            cell.setCellStyle(excelStylesDtoService.greenColor(workbook));\r\n    \r\n                            namesForRowZero1.put(sheet.getRow(0).getCell(i), i);\r\n                        }\r\n    \r\n                            int second = sheet.getLastRowNum() + 1;\r\n    \r\n                            for (ExplosureDto dto : list) {\r\n                                for (ChildExplosure childExplosure : dto.getChildExplosures()) {\r\n                                   \r\n                                        row = sheet.createRow(second);\r\n                                        Cell cell1 = row.createCell(second);\r\n                                        BigDecimal amount = childExplosure.getAmount();\r\n                                        sheet.setColumnWidth(second, 20 * 256);\r\n                                        cell1.setCellValue(amount.doubleValue());\r\n                                        cell1.setCellStyle(excelStylesDtoService.styleBorder(workbook));\r\n                                            second++;\r\n                                        }\r\n                                }\r\n                            }\r\n                        String report = &quot;C:/download/Report.xlsx&quot;;\r\n                        FileOutputStream outputStream = new FileOutputStream(report);\r\n                        workbook.write(outputStream);\r\n                        workbook.close();\r\n    \r\n                        outputStream.flush();\r\n                        outputStream.close();\r\n        }\r\n    }\r\n\r\n\r\nThe column names are the dates that the user enters.\r\nThese names (dates) I get correctly.\r\nBut the sums themselves come out like this:\r\n\r\n       2022-01  |     2022-02    |   2022-03    |   2022-04    |   2022-05   |\r\n    ------------+----------------+--------------+--------------+-------------+\r\n                |   334008,0972  |              |              |             |\r\n                |                |  334008,0972 |              |             |\r\n                |                |              |  334008,0972 |             |\r\n                |                |              |              | 334008,0972 |\r\n                |                |              |              |             |  334008,0972\r\n\r\n     \r\nHowever, the question is how to tie these dates to the amounts that refer to them.\r\nOf course it should look like this:\r\n\r\n\r\n       2022-01  |     2022-02    |   2022-03    |   2022-04    |   2022-05   |\r\n    ------------+----------------+--------------+--------------+-------------+\r\n                |                | 334008,0972  | 334008,0972  | 334008,0972 |\r\n                |                |  334008,0972 | 334008,0972  |             |\r\n    334008,0972 | 334008,0972    | 334008,0972  |  334008,0972 |             |\r\n                | 334008,0972    |              |              | 334008,0972 |\r\n                |                |              |              |             |  \r\n\r\n\r\nI had an idea to do it via Map (I commented out this line in the code). But I can&#39;t do it right","title":"Apache.poi save to Excel. Associate data with column names","body":"<p>I have a method that accepts dynamic data and saves it to an excel file:</p>\n<pre><code>private void saveExcel(List&lt;ExplosureDto&gt; list, List&lt;String&gt; columns, HttpServletResponse response) throws IOException {\n\n                    XSSFWorkbook workbook = new XSSFWorkbook();\n                    XSSFSheet sheet = workbook.createSheet(&quot;Reports&quot;);\n                    XSSFRow row = sheet.createRow(0);\n\n                    List&lt;Object&gt; namesForRowZero = new ArrayList&lt;&gt;(columns);\n                   // Map&lt;XSSFCell, Integer&gt; namesForRowZero1 = new HashMap&lt;&gt;();\n                    for (int i = 0; i &lt; namesForRowZero.size(); i++) {\n                        Cell cell = row.createCell(i);\n                        cell.setCellValue(String.valueOf(namesForRowZero.get(i)));\n                        cell.setCellStyle(excelStylesDtoService.greenColor(workbook));\n\n                        namesForRowZero1.put(sheet.getRow(0).getCell(i), i);\n                    }\n\n                        int second = sheet.getLastRowNum() + 1;\n\n                        for (ExplosureDto dto : list) {\n                            for (ChildExplosure childExplosure : dto.getChildExplosures()) {\n                               \n                                    row = sheet.createRow(second);\n                                    Cell cell1 = row.createCell(second);\n                                    BigDecimal amount = childExplosure.getAmount();\n                                    sheet.setColumnWidth(second, 20 * 256);\n                                    cell1.setCellValue(amount.doubleValue());\n                                    cell1.setCellStyle(excelStylesDtoService.styleBorder(workbook));\n                                        second++;\n                                    }\n                            }\n                        }\n                    String report = &quot;C:/download/Report.xlsx&quot;;\n                    FileOutputStream outputStream = new FileOutputStream(report);\n                    workbook.write(outputStream);\n                    workbook.close();\n\n                    outputStream.flush();\n                    outputStream.close();\n    }\n}\n</code></pre>\n<p>The column names are the dates that the user enters.\nThese names (dates) I get correctly.\nBut the sums themselves come out like this:</p>\n<pre><code>   2022-01  |     2022-02    |   2022-03    |   2022-04    |   2022-05   |\n------------+----------------+--------------+--------------+-------------+\n            |   334008,0972  |              |              |             |\n            |                |  334008,0972 |              |             |\n            |                |              |  334008,0972 |             |\n            |                |              |              | 334008,0972 |\n            |                |              |              |             |  334008,0972\n\n \n</code></pre>\n<p>However, the question is how to tie these dates to the amounts that refer to them.\nOf course it should look like this:</p>\n<pre><code>   2022-01  |     2022-02    |   2022-03    |   2022-04    |   2022-05   |\n------------+----------------+--------------+--------------+-------------+\n            |                | 334008,0972  | 334008,0972  | 334008,0972 |\n            |                |  334008,0972 | 334008,0972  |             |\n334008,0972 | 334008,0972    | 334008,0972  |  334008,0972 |             |\n            | 334008,0972    |              |              | 334008,0972 |\n            |                |              |              |             |  \n</code></pre>\n<p>I had an idea to do it via Map (I commented out this line in the code). But I can't do it right</p>\n"},{"tags":["java","maven","jenkins","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666353459,"creation_date":1666353459,"answer_id":74153269,"question_id":74151354,"body_markdown":"To help Maven to find Java, you should change the environment accordingly:\r\n\r\n    export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18\r\n\r\n**NOT**\r\n\r\n    export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin\r\n\r\n\r\n","title":"Multiple Java version issue in Jenkins 2.319.1","body":"<p>To help Maven to find Java, you should change the environment accordingly:</p>\n<pre><code>export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18\n</code></pre>\n<p><strong>NOT</strong></p>\n<pre><code>export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin\n</code></pre>\n"}],"owner":{"account_id":22617162,"reputation":1,"user_id":16796537,"display_name":"Raman Sawhney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666353459,"creation_date":1666343400,"question_id":74151354,"body_markdown":"We have instaled jenkins via helm charts and we have used kubernetes dynamic agents(jnlp-agents) and image we are using for agents is (jenkins/jnlp-agent-python).\r\nNow the problem is i want to run a maven project which has java version 17 requirement but my jenkins has java version 11 installed.\r\n\r\nSO i tried to build a pipeline on which it download the openjdk18 on dynamic node(agent) for running the pipeline.\r\n```\r\npipeline {\t\t\t\r\nagent any\r\ntools {\r\n    jdk &#39;OpenJDK18&#39;\r\n    maven &#39;maven-3.8.5&#39;\r\n}\r\nstages\t{\t\r\nstage(&quot;prerequisits&quot;) {\r\n    steps {\r\n        sh &#39;&#39;&#39;\r\n        env | grep -e PATH -e JAVA_HOME\r\n        export JAVA_HOME=$PATH\r\n        java -version\r\n        &#39;&#39;&#39;\r\n    }\r\n}\r\nstage(&quot;Checkout&quot;)\t{\t\r\n\tsteps\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tgit\t(\r\n\t\t    url: &#39;git@github.ibm.com:watson/cloud-scheduling-api.git&#39;,\t\r\n\t\t    credentialsId: &#39;cloud-scheduling-api-sonarqube-ssh-key&#39;\r\n\t\t    )\r\n\t\t    }\t\t\t\t\t\t\t\t\t\t\r\n\t                }\t\r\nstage (&quot;build&quot;) {\r\n     steps {\r\n         echo &#39;This is the build stage&#39;\r\n              sh &#39;mvn clean install -DskipTests&#39;\r\n\t          \r\n\t            }\r\n\t                   \r\n\t\t       }\r\n}\r\n}\r\n```\r\nAnd its unable to find the JAVA_HOME\r\n\r\n```\r\nStarted by user Jenkins Admin\r\n[Pipeline] Start of Pipeline\r\n[Pipeline] node\r\nStill waiting to schedule task\r\nWaiting for next available executor\r\nAgent default-wxtw0 is provisioned from template default\r\n---\r\napiVersion: &quot;v1&quot;\r\nkind: &quot;Pod&quot;\r\nmetadata:\r\n  labels:\r\n    jenkins/jenkins-jenkins-agent: &quot;true&quot;\r\n    jenkins/label-digest: &quot;500b4f18aee87616849e4f4c2435020898e34aa0&quot;\r\n    jenkins/label: &quot;jenkins-jenkins-agent&quot;\r\n  name: &quot;default-wxtw0&quot;\r\nspec:\r\n  containers:\r\n  - args:\r\n    - &quot;********&quot;\r\n    - &quot;default-wxtw0&quot;\r\n    env:\r\n    - name: &quot;JENKINS_SECRET&quot;\r\n      value: &quot;********&quot;\r\n    - name: &quot;JENKINS_TUNNEL&quot;\r\n      value: &quot;jenkins-agent.jenkins.svc.cluster.local:50000&quot;\r\n    - name: &quot;JENKINS_AGENT_NAME&quot;\r\n      value: &quot;default-wxtw0&quot;\r\n    - name: &quot;JENKINS_NAME&quot;\r\n      value: &quot;default-wxtw0&quot;\r\n    - name: &quot;JENKINS_AGENT_WORKDIR&quot;\r\n      value: &quot;/home/jenkins&quot;\r\n    - name: &quot;JENKINS_URL&quot;\r\n      value: &quot;http://jenkins.jenkins.svc.cluster.local:8080/&quot;\r\n    image: &quot;us.icr.io/watsonmedia-wlc/jnlp-agent-python:latest&quot;\r\n    imagePullPolicy: &quot;Always&quot;\r\n    name: &quot;jnlp&quot;\r\n    resources:\r\n      limits:\r\n        memory: &quot;2048Mi&quot;\r\n        cpu: &quot;512m&quot;\r\n      requests:\r\n        memory: &quot;1024Mi&quot;\r\n        cpu: &quot;512m&quot;\r\n    securityContext:\r\n      privileged: false\r\n      runAsUser: 1000\r\n    tty: false\r\n    volumeMounts:\r\n    - mountPath: &quot;/home/jenkins&quot;\r\n      name: &quot;workspace-volume&quot;\r\n      readOnly: false\r\n    workingDir: &quot;/home/jenkins&quot;\r\n  imagePullSecrets:\r\n  - name: &quot;bx-registry&quot;\r\n  nodeSelector:\r\n    kubernetes.io/os: &quot;linux&quot;\r\n  restartPolicy: &quot;Never&quot;\r\n  serviceAccountName: &quot;default&quot;\r\n  volumes:\r\n  - emptyDir:\r\n      medium: &quot;&quot;\r\n    name: &quot;workspace-volume&quot;\r\n\r\nRunning on default-wxtw0 in /home/jenkins/workspace/cloud-api-test-pipeline\r\n[Pipeline] {\r\n[Pipeline] stage\r\n[Pipeline] { (Declarative: Tool Install)\r\n[Pipeline] tool\r\nUnpacking https://download.java.net/java/GA/jdk18.0.2.1/db379da656dc47308e138f21b33976fa/1/GPL/openjdk-18.0.2.1_linux-x64_bin.tar.gz to /home/jenkins/tools/hudson.model.JDK/OpenJDK18 on default-wxtw0\r\n[Pipeline] envVarsForTool\r\n[Pipeline] tool\r\nUnpacking https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.8.5/apache-maven-3.8.5-bin.zip to /home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5 on default-wxtw0\r\n[Pipeline] envVarsForTool\r\n[Pipeline] }\r\n[Pipeline] // stage\r\n[Pipeline] withEnv\r\n[Pipeline] {\r\n[Pipeline] stage\r\n[Pipeline] { (prerequisits)\r\n[Pipeline] tool\r\n[Pipeline] envVarsForTool\r\n[Pipeline] tool\r\n[Pipeline] envVarsForTool\r\n[Pipeline] withEnv\r\n[Pipeline] {\r\n[Pipeline] sh\r\n+ grep -e PATH -e JAVA_HOME\r\n+ env\r\nPATH=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\r\nJAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18\r\n+ export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\r\n+ java -version\r\nopenjdk version &quot;11.0.13&quot; 2021-10-19\r\nOpenJDK Runtime Environment Temurin-11.0.13+8 (build 11.0.13+8)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.13+8 (build 11.0.13+8, mixed mode)\r\n[Pipeline] }\r\n[Pipeline] // withEnv\r\n[Pipeline] }\r\n[Pipeline] // stage\r\n[Pipeline] stage\r\n[Pipeline] { (Checkout)\r\n[Pipeline] tool\r\n[Pipeline] envVarsForTool\r\n[Pipeline] tool\r\n[Pipeline] envVarsForTool\r\n[Pipeline] withEnv\r\n[Pipeline] {\r\n[Pipeline] git\r\nThe recommended git tool is: NONE\r\nusing credential cloud-scheduling-api-sonarqube-ssh-key\r\nCloning the remote Git repository\r\nCloning repository git@github.ibm.com:watson/cloud-scheduling-api.git\r\n &gt; git init /home/jenkins/workspace/cloud-api-test-pipeline # timeout=10\r\nFetching upstream changes from git@github.ibm.com:watson/cloud-scheduling-api.git\r\n &gt; git --version # timeout=10\r\n &gt; git --version # &#39;git version 2.30.2&#39;\r\nusing GIT_SSH to set credentials cloud-scheduling-api-sonarqube-ssh-key-for-repo\r\n &gt; git fetch --tags --force --progress -- git@github.ibm.com:watson/cloud-scheduling-api.git +refs/heads/*:refs/remotes/origin/* # timeout=10\r\nAvoid second fetch\r\nChecking out Revision 2c0d2a25013835fe0579c3879b918e57a7d3aa70 (refs/remotes/origin/master)\r\n &gt; git config remote.origin.url git@github.ibm.com:watson/cloud-scheduling-api.git # timeout=10\r\n &gt; git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10\r\n &gt; git rev-parse refs/remotes/origin/master^{commit} # timeout=10\r\n &gt; git config core.sparsecheckout # timeout=10\r\n &gt; git checkout -f 2c0d2a25013835fe0579c3879b918e57a7d3aa70 # timeout=10\r\n &gt; git branch -a -v --no-abbrev # timeout=10\r\n &gt; git checkout -b master 2c0d2a25013835fe0579c3879b918e57a7d3aa70 # timeout=10\r\nCommit message: &quot;Merge pull request #43 from watsonmedia-wlc/wlc-1508&quot;\r\n &gt; git rev-list --no-walk 2c0d2a25013835fe0579c3879b918e57a7d3aa70 # timeout=10\r\n[Pipeline] }\r\n[Pipeline] // withEnv\r\n[Pipeline] }\r\n[Pipeline] // stage\r\n[Pipeline] stage\r\n[Pipeline] { (build)\r\n[Pipeline] tool\r\n[Pipeline] envVarsForTool\r\n[Pipeline] tool\r\n[Pipeline] envVarsForTool\r\n[Pipeline] withEnv\r\n[Pipeline] {\r\n[Pipeline] echo\r\nThis is the build stage\r\n[Pipeline] sh\r\n+ env\r\n+ grep -e PATH -e JAVA_HOME\r\nPATH=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\r\nJAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18\r\n+ export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\r\n+ java -version\r\nopenjdk version &quot;11.0.13&quot; 2021-10-19\r\nOpenJDK Runtime Environment Temurin-11.0.13+8 (build 11.0.13+8)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.13+8 (build 11.0.13+8, mixed mode)\r\n[Pipeline] sh\r\n+ mvn clean install -DskipTests\r\nThe JAVA_HOME environment variable is not defined correctly,\r\nthis environment variable is needed to run this program.\r\n[Pipeline] }\r\n[Pipeline] // withEnv\r\n[Pipeline] }\r\n[Pipeline] // stage\r\n[Pipeline] }\r\n[Pipeline] // withEnv\r\n[Pipeline] }\r\n[Pipeline] // node\r\n[Pipeline] End of Pipeline\r\nERROR: script returned exit code 1\r\nFinished: FAILURE\r\n```\r\n","title":"Multiple Java version issue in Jenkins 2.319.1","body":"<p>We have instaled jenkins via helm charts and we have used kubernetes dynamic agents(jnlp-agents) and image we are using for agents is (jenkins/jnlp-agent-python).\nNow the problem is i want to run a maven project which has java version 17 requirement but my jenkins has java version 11 installed.</p>\n<p>SO i tried to build a pipeline on which it download the openjdk18 on dynamic node(agent) for running the pipeline.</p>\n<pre><code>pipeline {          \nagent any\ntools {\n    jdk 'OpenJDK18'\n    maven 'maven-3.8.5'\n}\nstages  {   \nstage(&quot;prerequisits&quot;) {\n    steps {\n        sh '''\n        env | grep -e PATH -e JAVA_HOME\n        export JAVA_HOME=$PATH\n        java -version\n        '''\n    }\n}\nstage(&quot;Checkout&quot;)   {   \n    steps   {                                                                               \n        git (\n            url: 'git@github.ibm.com:watson/cloud-scheduling-api.git',  \n            credentialsId: 'cloud-scheduling-api-sonarqube-ssh-key'\n            )\n            }                                       \n                    }   \nstage (&quot;build&quot;) {\n     steps {\n         echo 'This is the build stage'\n              sh 'mvn clean install -DskipTests'\n              \n                }\n                       \n               }\n}\n}\n</code></pre>\n<p>And its unable to find the JAVA_HOME</p>\n<pre><code>Started by user Jenkins Admin\n[Pipeline] Start of Pipeline\n[Pipeline] node\nStill waiting to schedule task\nWaiting for next available executor\nAgent default-wxtw0 is provisioned from template default\n---\napiVersion: &quot;v1&quot;\nkind: &quot;Pod&quot;\nmetadata:\n  labels:\n    jenkins/jenkins-jenkins-agent: &quot;true&quot;\n    jenkins/label-digest: &quot;500b4f18aee87616849e4f4c2435020898e34aa0&quot;\n    jenkins/label: &quot;jenkins-jenkins-agent&quot;\n  name: &quot;default-wxtw0&quot;\nspec:\n  containers:\n  - args:\n    - &quot;********&quot;\n    - &quot;default-wxtw0&quot;\n    env:\n    - name: &quot;JENKINS_SECRET&quot;\n      value: &quot;********&quot;\n    - name: &quot;JENKINS_TUNNEL&quot;\n      value: &quot;jenkins-agent.jenkins.svc.cluster.local:50000&quot;\n    - name: &quot;JENKINS_AGENT_NAME&quot;\n      value: &quot;default-wxtw0&quot;\n    - name: &quot;JENKINS_NAME&quot;\n      value: &quot;default-wxtw0&quot;\n    - name: &quot;JENKINS_AGENT_WORKDIR&quot;\n      value: &quot;/home/jenkins&quot;\n    - name: &quot;JENKINS_URL&quot;\n      value: &quot;http://jenkins.jenkins.svc.cluster.local:8080/&quot;\n    image: &quot;us.icr.io/watsonmedia-wlc/jnlp-agent-python:latest&quot;\n    imagePullPolicy: &quot;Always&quot;\n    name: &quot;jnlp&quot;\n    resources:\n      limits:\n        memory: &quot;2048Mi&quot;\n        cpu: &quot;512m&quot;\n      requests:\n        memory: &quot;1024Mi&quot;\n        cpu: &quot;512m&quot;\n    securityContext:\n      privileged: false\n      runAsUser: 1000\n    tty: false\n    volumeMounts:\n    - mountPath: &quot;/home/jenkins&quot;\n      name: &quot;workspace-volume&quot;\n      readOnly: false\n    workingDir: &quot;/home/jenkins&quot;\n  imagePullSecrets:\n  - name: &quot;bx-registry&quot;\n  nodeSelector:\n    kubernetes.io/os: &quot;linux&quot;\n  restartPolicy: &quot;Never&quot;\n  serviceAccountName: &quot;default&quot;\n  volumes:\n  - emptyDir:\n      medium: &quot;&quot;\n    name: &quot;workspace-volume&quot;\n\nRunning on default-wxtw0 in /home/jenkins/workspace/cloud-api-test-pipeline\n[Pipeline] {\n[Pipeline] stage\n[Pipeline] { (Declarative: Tool Install)\n[Pipeline] tool\nUnpacking https://download.java.net/java/GA/jdk18.0.2.1/db379da656dc47308e138f21b33976fa/1/GPL/openjdk-18.0.2.1_linux-x64_bin.tar.gz to /home/jenkins/tools/hudson.model.JDK/OpenJDK18 on default-wxtw0\n[Pipeline] envVarsForTool\n[Pipeline] tool\nUnpacking https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.8.5/apache-maven-3.8.5-bin.zip to /home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5 on default-wxtw0\n[Pipeline] envVarsForTool\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] withEnv\n[Pipeline] {\n[Pipeline] stage\n[Pipeline] { (prerequisits)\n[Pipeline] tool\n[Pipeline] envVarsForTool\n[Pipeline] tool\n[Pipeline] envVarsForTool\n[Pipeline] withEnv\n[Pipeline] {\n[Pipeline] sh\n+ grep -e PATH -e JAVA_HOME\n+ env\nPATH=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nJAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18\n+ export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n+ java -version\nopenjdk version &quot;11.0.13&quot; 2021-10-19\nOpenJDK Runtime Environment Temurin-11.0.13+8 (build 11.0.13+8)\nOpenJDK 64-Bit Server VM Temurin-11.0.13+8 (build 11.0.13+8, mixed mode)\n[Pipeline] }\n[Pipeline] // withEnv\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] stage\n[Pipeline] { (Checkout)\n[Pipeline] tool\n[Pipeline] envVarsForTool\n[Pipeline] tool\n[Pipeline] envVarsForTool\n[Pipeline] withEnv\n[Pipeline] {\n[Pipeline] git\nThe recommended git tool is: NONE\nusing credential cloud-scheduling-api-sonarqube-ssh-key\nCloning the remote Git repository\nCloning repository git@github.ibm.com:watson/cloud-scheduling-api.git\n &gt; git init /home/jenkins/workspace/cloud-api-test-pipeline # timeout=10\nFetching upstream changes from git@github.ibm.com:watson/cloud-scheduling-api.git\n &gt; git --version # timeout=10\n &gt; git --version # 'git version 2.30.2'\nusing GIT_SSH to set credentials cloud-scheduling-api-sonarqube-ssh-key-for-repo\n &gt; git fetch --tags --force --progress -- git@github.ibm.com:watson/cloud-scheduling-api.git +refs/heads/*:refs/remotes/origin/* # timeout=10\nAvoid second fetch\nChecking out Revision 2c0d2a25013835fe0579c3879b918e57a7d3aa70 (refs/remotes/origin/master)\n &gt; git config remote.origin.url git@github.ibm.com:watson/cloud-scheduling-api.git # timeout=10\n &gt; git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10\n &gt; git rev-parse refs/remotes/origin/master^{commit} # timeout=10\n &gt; git config core.sparsecheckout # timeout=10\n &gt; git checkout -f 2c0d2a25013835fe0579c3879b918e57a7d3aa70 # timeout=10\n &gt; git branch -a -v --no-abbrev # timeout=10\n &gt; git checkout -b master 2c0d2a25013835fe0579c3879b918e57a7d3aa70 # timeout=10\nCommit message: &quot;Merge pull request #43 from watsonmedia-wlc/wlc-1508&quot;\n &gt; git rev-list --no-walk 2c0d2a25013835fe0579c3879b918e57a7d3aa70 # timeout=10\n[Pipeline] }\n[Pipeline] // withEnv\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] stage\n[Pipeline] { (build)\n[Pipeline] tool\n[Pipeline] envVarsForTool\n[Pipeline] tool\n[Pipeline] envVarsForTool\n[Pipeline] withEnv\n[Pipeline] {\n[Pipeline] echo\nThis is the build stage\n[Pipeline] sh\n+ env\n+ grep -e PATH -e JAVA_HOME\nPATH=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nJAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18\n+ export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n+ java -version\nopenjdk version &quot;11.0.13&quot; 2021-10-19\nOpenJDK Runtime Environment Temurin-11.0.13+8 (build 11.0.13+8)\nOpenJDK 64-Bit Server VM Temurin-11.0.13+8 (build 11.0.13+8, mixed mode)\n[Pipeline] sh\n+ mvn clean install -DskipTests\nThe JAVA_HOME environment variable is not defined correctly,\nthis environment variable is needed to run this program.\n[Pipeline] }\n[Pipeline] // withEnv\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] }\n[Pipeline] // withEnv\n[Pipeline] }\n[Pipeline] // node\n[Pipeline] End of Pipeline\nERROR: script returned exit code 1\nFinished: FAILURE\n</code></pre>\n"},{"tags":["java","spring","graphql-java","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666353247,"creation_date":1666353247,"answer_id":74153220,"question_id":74144155,"body_markdown":"Yes, there is an alternative to avoid the N+1 problem in Spring for GraphQL. It&#39;s the @BatchMapping annotation:\r\n\r\nSuppose you have the following schema:\r\n\r\n    type Query {\r\n        artistas: [Artista]\r\n    }\r\n    \r\n    type Artista {\r\n        id: ID\r\n        apellido: String\r\n        estilo: String\r\n        obras:[Obra]\r\n    }\r\n    \r\n    type Obra{\r\n        artistaId: ID\r\n        titulo: String\r\n        imagen: String\r\n    }\r\n\r\nAnd the following @QueryMapping:\r\n\r\n    @QueryMapping\r\n    Flux&lt;Artista&gt; artistas(){\r\n    \treturn Flux.fromIterable(allArtistas);\r\n    }\r\n\r\nOur Artista DTO contains a List of Obra we may sometimes want, so it can cause us the N+1 problem:\r\n\r\n    record Artista (Long id, String apellido, String estilo, List&lt;Obra&gt; obras){}\r\n    record Obra (Long artistaId, String titulo, String imagen){}\r\n\r\nSo if you add an additional mapping method annotated with @BatchMapping, you tell the GraphQL engine to fetch that data using a DataLoader under the hood and keeping it at hand for each DB roundtrip, for example. \r\n\r\n    @BatchMapping(typeName = &quot;Artista&quot;)\r\n    Mono&lt;Map&lt;Artista, List&lt;Obra&gt;&gt;&gt; obras(List&lt;Artista&gt; artistas){\r\n    \tvar artistasIds = artistas.stream()\r\n    \t\t\t\t.map(Artista::id)\r\n    \t\t\t\t.toList();\r\n    \r\n    \tvar todasLasObras = obtenerObras(artistasIds);\r\n    \r\n    \treturn todasLasObras.collectList()\r\n    \t\t\t.map(obras -&gt; {\r\n    \t\t\t\tMap&lt;Long, List&lt;Obra&gt;&gt; obrasDeCadaArtistaId = obras.stream()\r\n    \t\t\t\t\t\t.collect(Collectors.groupingBy(Obra::artistaId));\r\n    \r\n    \t\t\t\treturn artistas.stream()\r\n    \t\t\t\t\t\t.collect(Collectors.toMap(\r\n    \t\t\t\t\t\t\t\tunArtista -&gt; unArtista, //K, el Artista\r\n    \t\t\t\t\t\t\t\tunArtista -&gt; obrasDeCadaArtistaId.get(Long.parseLong(unArtista.id().toString())))); //V, la lista de obras\r\n    \t\t\t});\r\n    }\r\n    private Flux&lt;Obra&gt; obtenerObras(List&lt;Long&gt; artistasIds) {\r\n    // ...your service-specific way of getting all the Obras from each artistaId...\r\n    }\r\n\r\nIf you throw some logs here and there you can check it only fetches the Obras once.\r\n\r\nHope it helps!","title":"Is there a spring for graphql alternative for netflix&#39;s @DGSDataloader and DGSData","body":"<p>Yes, there is an alternative to avoid the N+1 problem in Spring for GraphQL. It's the @BatchMapping annotation:</p>\n<p>Suppose you have the following schema:</p>\n<pre><code>type Query {\n    artistas: [Artista]\n}\n\ntype Artista {\n    id: ID\n    apellido: String\n    estilo: String\n    obras:[Obra]\n}\n\ntype Obra{\n    artistaId: ID\n    titulo: String\n    imagen: String\n}\n</code></pre>\n<p>And the following @QueryMapping:</p>\n<pre><code>@QueryMapping\nFlux&lt;Artista&gt; artistas(){\n    return Flux.fromIterable(allArtistas);\n}\n</code></pre>\n<p>Our Artista DTO contains a List of Obra we may sometimes want, so it can cause us the N+1 problem:</p>\n<pre><code>record Artista (Long id, String apellido, String estilo, List&lt;Obra&gt; obras){}\nrecord Obra (Long artistaId, String titulo, String imagen){}\n</code></pre>\n<p>So if you add an additional mapping method annotated with @BatchMapping, you tell the GraphQL engine to fetch that data using a DataLoader under the hood and keeping it at hand for each DB roundtrip, for example.</p>\n<pre><code>@BatchMapping(typeName = &quot;Artista&quot;)\nMono&lt;Map&lt;Artista, List&lt;Obra&gt;&gt;&gt; obras(List&lt;Artista&gt; artistas){\n    var artistasIds = artistas.stream()\n                .map(Artista::id)\n                .toList();\n\n    var todasLasObras = obtenerObras(artistasIds);\n\n    return todasLasObras.collectList()\n            .map(obras -&gt; {\n                Map&lt;Long, List&lt;Obra&gt;&gt; obrasDeCadaArtistaId = obras.stream()\n                        .collect(Collectors.groupingBy(Obra::artistaId));\n\n                return artistas.stream()\n                        .collect(Collectors.toMap(\n                                unArtista -&gt; unArtista, //K, el Artista\n                                unArtista -&gt; obrasDeCadaArtistaId.get(Long.parseLong(unArtista.id().toString())))); //V, la lista de obras\n            });\n}\nprivate Flux&lt;Obra&gt; obtenerObras(List&lt;Long&gt; artistasIds) {\n// ...your service-specific way of getting all the Obras from each artistaId...\n}\n</code></pre>\n<p>If you throw some logs here and there you can check it only fetches the Obras once.</p>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":11715873,"reputation":13,"user_id":8576408,"display_name":"Tariq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74153220,"answer_count":1,"score":0,"last_activity_date":1666353247,"creation_date":1666287624,"question_id":74144155,"body_markdown":"Trying to migrate a Netflix DGS GraphQL and Neo4J project to now use Spring for GraphQL and Neo4J instead. Hit a roadblock when I wanted to avoid the N+1 problem.","title":"Is there a spring for graphql alternative for netflix&#39;s @DGSDataloader and DGSData","body":"<p>Trying to migrate a Netflix DGS GraphQL and Neo4J project to now use Spring for GraphQL and Neo4J instead. Hit a roadblock when I wanted to avoid the N+1 problem.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1666341185,"post_id":74150881,"comment_id":130918709,"body_markdown":"Remove the `^`.","body":"Remove the <code>^</code>."},{"owner":{"account_id":13226838,"reputation":175,"user_id":9551700,"display_name":"VladimirCoder84"},"score":0,"creation_date":1666341300,"post_id":74150881,"comment_id":130918764,"body_markdown":"I need to catch the white spaces only at beginning of string","body":"I need to catch the white spaces only at beginning of string"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":1,"creation_date":1666341565,"post_id":74150881,"comment_id":130918845,"body_markdown":"Fyi: `\\s` already contains `\\r` and `\\n` afaik :) Also it looks like [it works](https://regex101.com/r/LhCqgC/1). Maybe you forgot to escape backslashes in string. Try `&quot;^\\\\s*&quot;`","body":"Fyi: <code>\\s</code> already contains <code>\\r</code> and <code>\\n</code> afaik :) Also it looks like <a href=\"https://regex101.com/r/LhCqgC/1\" rel=\"nofollow noreferrer\">it works</a>. Maybe you forgot to escape backslashes in string. Try <code>&quot;^\\\\s*&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1666351627,"creation_date":1666341393,"answer_id":74150946,"question_id":74150881,"body_markdown":"You can use:\r\n\r\n```sh\r\nstring = string.replaceAll(&quot;(?m)^\\\\s+|\\\\h+$&quot;, &quot;&quot;);\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/uDYtDD/2\r\n\r\n**Breakdown:**\r\n\r\n- `(?m)`: Enable multiline mode\r\n- `^\\\\s+`: Match 1+ whitespaces (including line breaks) at start\r\n- `|`: OR\r\n- `\\\\h+$`: Match 1+ horizontal whitespaces before end\r\n","title":"Replace all whitespace at all beginning line and empty lines","body":"<p>You can use:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>string = string.replaceAll(&quot;(?m)^\\\\s+|\\\\h+$&quot;, &quot;&quot;);\n</code></pre>\n<p><a href=\"https://regex101.com/r/uDYtDD/2\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>Breakdown:</strong></p>\n<ul>\n<li><code>(?m)</code>: Enable multiline mode</li>\n<li><code>^\\\\s+</code>: Match 1+ whitespaces (including line breaks) at start</li>\n<li><code>|</code>: OR</li>\n<li><code>\\\\h+$</code>: Match 1+ horizontal whitespaces before end</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666344330,"creation_date":1666342786,"answer_id":74151221,"question_id":74150881,"body_markdown":"Reasons why it&#39;s not working could be that:\r\n1. Backslash was not escaped\r\n2. Lack of [multiline flag][1], so [`^`][2] only matches start of the string and not start of each line.\r\n\r\nFurther to mention that [`\\s`][3] already contains `\\r` and `\\n`. You should be fine using (as a Java String)  \r\n\r\n    &quot;^\\\\s+&quot;\r\n\r\nSee [this demo at regex101][4] or [Java demo at tio.run][5] (compile with `MULTILINE` or use `(?m)` flag)  \r\nNote that I also changed the `*` [quantifier][6] to `+` for matching *one or more* whitespaces.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#MULTILINE\r\n  [2]: https://www.regular-expressions.info/anchors.html\r\n  [3]: https://www.regular-expressions.info/shorthand.html\r\n  [4]: https://regex101.com/r/dmT9Zu/1\r\n  [5]: https://tio.run/##dZGxboMwEIbn8hQnJlAaD8mIGDpkiJRUldJOpZWMcaipMZZ9RKmqPDs1YKooCufhl/77znc@V/REl1Xx3XWi1o1BqJxBWhSSGF7yM9lTZF/cJMFM/oUicqOSIGCSWgubM6215PAbgAvd5lIwsEjRyakRBdRUqOiARqjy/QOoKW3s4T6OQlEJYxqGDpBC@JlldhEm9yk7isNcZjlGzkuhVG8zblAcBaPIM9WfMHiAxcBOsVqv1lVVFUwpJ7a4y9ni@szO0uYW@1GugBvSLwy013RyCGtqLSSPhmc//tv7t93rdrd93sS3Tf3fuJWOmk6XEu9E427iZG6/tpX9uB53X6olZfxJymh4yVXh4ccir0nTItGuGKWKxnLPXIJL1/0B\r\n  [6]: https://www.regular-expressions.info/refrepeat.html","title":"Replace all whitespace at all beginning line and empty lines","body":"<p>Reasons why it's not working could be that:</p>\n<ol>\n<li>Backslash was not escaped</li>\n<li>Lack of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#MULTILINE\" rel=\"nofollow noreferrer\">multiline flag</a>, so <a href=\"https://www.regular-expressions.info/anchors.html\" rel=\"nofollow noreferrer\"><code>^</code></a> only matches start of the string and not start of each line.</li>\n</ol>\n<p>Further to mention that <a href=\"https://www.regular-expressions.info/shorthand.html\" rel=\"nofollow noreferrer\"><code>\\s</code></a> already contains <code>\\r</code> and <code>\\n</code>. You should be fine using (as a Java String)</p>\n<pre><code>&quot;^\\\\s+&quot;\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/dmT9Zu/1\" rel=\"nofollow noreferrer\">this demo at regex101</a> or <a href=\"https://tio.run/##dZGxboMwEIbn8hQnJlAaD8mIGDpkiJRUldJOpZWMcaipMZZ9RKmqPDs1YKooCufhl/77znc@V/REl1Xx3XWi1o1BqJxBWhSSGF7yM9lTZF/cJMFM/oUicqOSIGCSWgubM6215PAbgAvd5lIwsEjRyakRBdRUqOiARqjy/QOoKW3s4T6OQlEJYxqGDpBC@JlldhEm9yk7isNcZjlGzkuhVG8zblAcBaPIM9WfMHiAxcBOsVqv1lVVFUwpJ7a4y9ni@szO0uYW@1GugBvSLwy013RyCGtqLSSPhmc//tv7t93rdrd93sS3Tf3fuJWOmk6XEu9E427iZG6/tpX9uB53X6olZfxJymh4yVXh4ccir0nTItGuGKWKxnLPXIJL1/0B\" rel=\"nofollow noreferrer\">Java demo at tio.run</a> (compile with <code>MULTILINE</code> or use <code>(?m)</code> flag)<br />\nNote that I also changed the <code>*</code> <a href=\"https://www.regular-expressions.info/refrepeat.html\" rel=\"nofollow noreferrer\">quantifier</a> to <code>+</code> for matching <em>one or more</em> whitespaces.</p>\n"},{"tags":[],"owner":{"account_id":26670159,"reputation":1,"user_id":20281707,"display_name":"gitmeturnam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666352931,"creation_date":1666350978,"answer_id":74152840,"question_id":74150881,"body_markdown":"I hope that will be useful. this code removes white spaces from beginning of lines and blank lines from a string\r\n\r\n    string.replaceAll(&quot;(?m)^[\\\\s&amp;&amp;[^\\\\n]]+&quot;, &quot;&quot;).replace(&quot;(?m)^[\\n]&quot;,&quot;&quot;)\r\n\r\nThis is the shorter form.\r\n\r\n    string.replaceAll(&quot;(?m)^[\\\\s&amp;&amp;[^\\\\n]]+|^[\\n]&quot;, &quot;&quot;)","title":"Replace all whitespace at all beginning line and empty lines","body":"<p>I hope that will be useful. this code removes white spaces from beginning of lines and blank lines from a string</p>\n<pre><code>string.replaceAll(&quot;(?m)^[\\\\s&amp;&amp;[^\\\\n]]+&quot;, &quot;&quot;).replace(&quot;(?m)^[\\n]&quot;,&quot;&quot;)\n</code></pre>\n<p>This is the shorter form.</p>\n<pre><code>string.replaceAll(&quot;(?m)^[\\\\s&amp;&amp;[^\\\\n]]+|^[\\n]&quot;, &quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":13226838,"reputation":175,"user_id":9551700,"display_name":"VladimirCoder84"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74150946,"answer_count":3,"score":2,"last_activity_date":1666352931,"creation_date":1666341096,"question_id":74150881,"body_markdown":"I have a string like:\r\n\r\n       -------beginning certificate\r\n\r\n\r\n               2323jjjdcnnjjjsd\r\n\r\n\r\n            sdsdsdsdsdsdsd\r\n\r\nand I would like to transform it in (white spaces should be removed only at beginning of each lines):\r\n\r\n    -------beginning certificate\r\n    2323jjjdcnnjjjsd\r\n    sdsdsdsdsdsdsd\r\n\r\nI have tried with :\r\n\r\n    string.replaceAll(&quot;^[\\n\\r\\s]*&quot;,&quot;&quot;);\r\n\r\nbut seems nothing happens.","title":"Replace all whitespace at all beginning line and empty lines","body":"<p>I have a string like:</p>\n<pre><code>   -------beginning certificate\n\n\n           2323jjjdcnnjjjsd\n\n\n        sdsdsdsdsdsdsd\n</code></pre>\n<p>and I would like to transform it in (white spaces should be removed only at beginning of each lines):</p>\n<pre><code>-------beginning certificate\n2323jjjdcnnjjjsd\nsdsdsdsdsdsdsd\n</code></pre>\n<p>I have tried with :</p>\n<pre><code>string.replaceAll(&quot;^[\\n\\r\\s]*&quot;,&quot;&quot;);\n</code></pre>\n<p>but seems nothing happens.</p>\n"},{"tags":["java","kubernetes","intellij-idea","fabric8"],"answers":[{"tags":[],"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666352324,"creation_date":1666352324,"answer_id":74153050,"question_id":74148689,"body_markdown":"Since Fabric8 v6, we&#39;ve introduced a new `resource(T item)` DSL method which recieves the resource which is supposed to be operated on. You should be able to access all operations from here.\r\n\r\nSo, you need to change your code to this:\r\n```java\r\nJob job2 = client.batch().v1().jobs().inNamespace(&quot;default&quot;).resource(job).create();\r\n```\r\n\r\nYou can read more about this in [Fabric8 v6 Migration guide][1].\r\n\r\n\r\n  [1]: https://github.com/fabric8io/kubernetes-client/blob/master/doc/MIGRATION-v6.md#deprecations","title":"Kubernetes job creation method showing as deprecated in IntelliJ. I am using Fabric8 Kubernetes Client api","body":"<p>Since Fabric8 v6, we've introduced a new <code>resource(T item)</code> DSL method which recieves the resource which is supposed to be operated on. You should be able to access all operations from here.</p>\n<p>So, you need to change your code to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Job job2 = client.batch().v1().jobs().inNamespace(&quot;default&quot;).resource(job).create();\n</code></pre>\n<p>You can read more about this in <a href=\"https://github.com/fabric8io/kubernetes-client/blob/master/doc/MIGRATION-v6.md#deprecations\" rel=\"nofollow noreferrer\">Fabric8 v6 Migration guide</a>.</p>\n"}],"owner":{"account_id":1180483,"reputation":3596,"user_id":1155514,"display_name":"Muhammad Tariq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74153050,"answer_count":1,"score":0,"last_activity_date":1666352324,"creation_date":1666325532,"question_id":74148689,"body_markdown":"I am using Fabric8 Kubernetes Client library to for Java to create Kubernetes job, but the create method is shown as deprecated. I checked all the available docs and I don&#39;t see that its deprecated but IntelliJ IDE is showing as deprecated. \r\n\r\nWhile searching for solution, I found out this link https://github.com/fabric8io/kubernetes-client/issues/3309. I used the same method as defined in the link but IDE still showing it as deprecated.\r\n\r\nHere is the screenshot. I am using fabric8 version 6.0.0\r\n\r\n[![enter image description here][1]][1]\r\n\r\nKindly guide me how can I fix this deprecation issue. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dREiL.png","title":"Kubernetes job creation method showing as deprecated in IntelliJ. I am using Fabric8 Kubernetes Client api","body":"<p>I am using Fabric8 Kubernetes Client library to for Java to create Kubernetes job, but the create method is shown as deprecated. I checked all the available docs and I don't see that its deprecated but IntelliJ IDE is showing as deprecated.</p>\n<p>While searching for solution, I found out this link <a href=\"https://github.com/fabric8io/kubernetes-client/issues/3309\" rel=\"nofollow noreferrer\">https://github.com/fabric8io/kubernetes-client/issues/3309</a>. I used the same method as defined in the link but IDE still showing it as deprecated.</p>\n<p>Here is the screenshot. I am using fabric8 version 6.0.0</p>\n<p><a href=\"https://i.stack.imgur.com/dREiL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dREiL.png\" alt=\"enter image description here\" /></a></p>\n<p>Kindly guide me how can I fix this deprecation issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24591845,"reputation":29,"user_id":18495613,"display_name":"cheesecakefactory"},"score":0,"creation_date":1666282162,"post_id":74143036,"comment_id":130905028,"body_markdown":"It&#39;s not necessary to show how many seconds left in the program though.","body":"It&#39;s not necessary to show how many seconds left in the program though."}],"answers":[{"tags":[],"owner":{"account_id":24339691,"reputation":19,"user_id":18277288,"display_name":"thies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666351886,"creation_date":1666351636,"answer_id":74152954,"question_id":74143036,"body_markdown":"Heavily inspired by [this answer][1], I&#39;ve adopted the given solution to your problem.\r\n\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n    \r\n    public class Test {\r\n      private static final int DURATION = 10;\r\n    \r\n      public static void main(String[] args) {\r\n        Timer timer = new Timer();\r\n    \r\n        TimerTask task = new TimerTask() {\r\n          public void run() {\r\n            System.out.println(&quot;Failed to receive input.&quot;);\r\n            //Maybe: System.exit(0);\r\n          }\r\n        };\r\n    \r\n        timer.schedule(task, DURATION * 1000);\r\n    \r\n        System.out.println(&quot;Provide input within &quot; + DURATION + &quot; seconds.&quot;);\r\n        Scanner s = new Scanner(System.in);\r\n    \r\n        String input = s.nextLine();\r\n        timer.cancel();\r\n        System.out.println(&quot;Success! Your input was: \\&quot;&quot; + input + &quot;\\&quot;.&quot;);\r\n      }\r\n    }\r\n\r\nStart the timer first, before asking the user for input to assure it is running. When java executes `s.nextLine`, it will wait for the user to insert something followed by a newline (Enter). While the program waits, the timer is running in the background. If an input is received in time, you can cancel the timer, else the `TimerTask` is executed, and you can either let the user know or exit the program (optional).\r\n\r\nSide note: Following the Java naming convention, I&#39;ve renamed the class ;)\r\n\r\n  [1]: https://stackoverflow.com/a/5854048/18277288","title":"Reset timer on user input","body":"<p>Heavily inspired by <a href=\"https://stackoverflow.com/a/5854048/18277288\">this answer</a>, I've adopted the given solution to your problem.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class Test {\n  private static final int DURATION = 10;\n\n  public static void main(String[] args) {\n    Timer timer = new Timer();\n\n    TimerTask task = new TimerTask() {\n      public void run() {\n        System.out.println(&quot;Failed to receive input.&quot;);\n        //Maybe: System.exit(0);\n      }\n    };\n\n    timer.schedule(task, DURATION * 1000);\n\n    System.out.println(&quot;Provide input within &quot; + DURATION + &quot; seconds.&quot;);\n    Scanner s = new Scanner(System.in);\n\n    String input = s.nextLine();\n    timer.cancel();\n    System.out.println(&quot;Success! Your input was: \\&quot;&quot; + input + &quot;\\&quot;.&quot;);\n  }\n}\n</code></pre>\n<p>Start the timer first, before asking the user for input to assure it is running. When java executes <code>s.nextLine</code>, it will wait for the user to insert something followed by a newline (Enter). While the program waits, the timer is running in the background. If an input is received in time, you can cancel the timer, else the <code>TimerTask</code> is executed, and you can either let the user know or exit the program (optional).</p>\n<p>Side note: Following the Java naming convention, I've renamed the class ;)</p>\n"}],"owner":{"account_id":24591845,"reputation":29,"user_id":18495613,"display_name":"cheesecakefactory"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666351886,"creation_date":1666282083,"question_id":74143036,"body_markdown":"I&#39;m trying to implement a program that receives user input, if no input within 1 minutes, the program ends, otherwise the timer resets and waits for user input again. \r\n\r\nI&#39;m only able to do a timer until now and can&#39;t find a way to implement it with user input.\r\n```\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\nimport java.io.*;\r\npublic class test {\r\n    \r\n    public static void main(String[] args){\r\n        Timer timer = new Timer();\r\n        TimerTask task = new TimerTask() {\r\n            int sec = 10;\r\n            public void run() {\r\n                if (sec &gt; 0){\r\n                    System.out.println(sec + &quot;seconds&quot;);\r\n                    sec--;\r\n                }else {\r\n                    System.out.println(&quot;Time&#39;s up&quot;);\r\n                    timer.cancel();\r\n                }\r\n            }\r\n        };\r\n        timer.scheduleAtFixedRate( task, 0,1000 );\r\n    }\r\n}\r\n```\r\nThanks for any help!","title":"Reset timer on user input","body":"<p>I'm trying to implement a program that receives user input, if no input within 1 minutes, the program ends, otherwise the timer resets and waits for user input again.</p>\n<p>I'm only able to do a timer until now and can't find a way to implement it with user input.</p>\n<pre><code>import java.util.Timer;\nimport java.util.TimerTask;\nimport java.io.*;\npublic class test {\n    \n    public static void main(String[] args){\n        Timer timer = new Timer();\n        TimerTask task = new TimerTask() {\n            int sec = 10;\n            public void run() {\n                if (sec &gt; 0){\n                    System.out.println(sec + &quot;seconds&quot;);\n                    sec--;\n                }else {\n                    System.out.println(&quot;Time's up&quot;);\n                    timer.cancel();\n                }\n            }\n        };\n        timer.scheduleAtFixedRate( task, 0,1000 );\n    }\n}\n</code></pre>\n<p>Thanks for any help!</p>\n"},{"tags":["java","amazon-web-services","aws-api-gateway","aws-sdk-java-2.0","aws-sdk-java"],"answers":[{"tags":[],"owner":{"account_id":26621204,"reputation":1,"user_id":20239964,"display_name":"davee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666350630,"creation_date":1666350630,"answer_id":74152769,"question_id":70827513,"body_markdown":"I came accross this when trying to do exactly the same thing and migrate from the example given on [How to call aws api gateway from the java code][1] to something that used v2 of the sdk.  I dont know if you got it working in the end but I thought I&#39;d share my solution for others that might come looking :) \r\n\r\n  [1]: https://inspeerity.com/blog/how-to-call-aws-api-gateway-from-the-java-code\r\n\r\nRather than try and recreate things as they were I&#39;ve ended up with something a lot simpler which seems to work\r\n\r\n    \r\n        // get creds (Could use the defaultCredentialsProvider)\r\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.builder().profileName(&lt;MY_PROFILE&gt;).build();\r\n        AwsCredentials credentials = credentialsProvider.resolveCredentials();\r\n\r\n        // Build query params \r\n        List&lt;NameValuePair&gt; queryParams = new ArrayList&lt;&gt;();\r\n        queryParams.add(new BasicNameValuePair(&quot;param1&quot;, &quot;test&quot;));\r\n        queryParams.add(new BasicNameValuePair(&quot;param2&quot;, &quot;1234&quot;));\r\n\r\n        // create URI with params\r\n        URI uri = new URIBuilder(&lt;THE URL&gt;)\r\n                .addParameters(queryParams)\r\n                .build();\r\n\r\n        // create the request\r\n        final SdkHttpFullRequest request = SdkHttpFullRequest.builder()\r\n                .method(SdkHttpMethod.GET)\r\n                .uri(uri)\r\n                .build();\r\n\r\n        //Sign it...\r\n        Aws4Signer signer = Aws4Signer.create();\r\n        Aws4SignerParams signerParams = Aws4SignerParams.builder()\r\n                .signingRegion(Region.EU_WEST_1)\r\n                .awsCredentials(credentials)\r\n                .signingName(&quot;execute-api&quot;)\r\n\t\t\t\t.build();\r\n        SdkHttpFullRequest signedRequest = signer.sign(request, signerParams);\r\n\r\n        // create httpClient - set timeout and proxy config on this if necessary\r\n        SdkHttpClient httpClient =  ApacheHttpClient.builder().build();\r\n\r\n        // Create executable request\r\n        HttpExecuteRequest executeRequest = HttpExecuteRequest.builder().request(signedRequest).build();\r\n        ExecutableHttpRequest executableHttpRequest = httpClient.prepareRequest(executeRequest);\r\n\r\n        // Execute the request\r\n        HttpExecuteResponse res = executableHttpRequest.call();\r\n\r\n        // get response \r\n        AbortableInputStream abortableInputStream = res.responseBody().orElseThrow(() -&gt; new RuntimeException(&quot;No Response Body found&quot;));\r\n\r\n","title":"Migrate AmazonWebServiceClient to ApiGatewayAsyncClient in aws-sdk-java-v2","body":"<p>I came accross this when trying to do exactly the same thing and migrate from the example given on <a href=\"https://inspeerity.com/blog/how-to-call-aws-api-gateway-from-the-java-code\" rel=\"nofollow noreferrer\">How to call aws api gateway from the java code</a> to something that used v2 of the sdk.  I dont know if you got it working in the end but I thought I'd share my solution for others that might come looking :)</p>\n<p>Rather than try and recreate things as they were I've ended up with something a lot simpler which seems to work</p>\n<pre><code>    // get creds (Could use the defaultCredentialsProvider)\n    ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.builder().profileName(&lt;MY_PROFILE&gt;).build();\n    AwsCredentials credentials = credentialsProvider.resolveCredentials();\n\n    // Build query params \n    List&lt;NameValuePair&gt; queryParams = new ArrayList&lt;&gt;();\n    queryParams.add(new BasicNameValuePair(&quot;param1&quot;, &quot;test&quot;));\n    queryParams.add(new BasicNameValuePair(&quot;param2&quot;, &quot;1234&quot;));\n\n    // create URI with params\n    URI uri = new URIBuilder(&lt;THE URL&gt;)\n            .addParameters(queryParams)\n            .build();\n\n    // create the request\n    final SdkHttpFullRequest request = SdkHttpFullRequest.builder()\n            .method(SdkHttpMethod.GET)\n            .uri(uri)\n            .build();\n\n    //Sign it...\n    Aws4Signer signer = Aws4Signer.create();\n    Aws4SignerParams signerParams = Aws4SignerParams.builder()\n            .signingRegion(Region.EU_WEST_1)\n            .awsCredentials(credentials)\n            .signingName(&quot;execute-api&quot;)\n            .build();\n    SdkHttpFullRequest signedRequest = signer.sign(request, signerParams);\n\n    // create httpClient - set timeout and proxy config on this if necessary\n    SdkHttpClient httpClient =  ApacheHttpClient.builder().build();\n\n    // Create executable request\n    HttpExecuteRequest executeRequest = HttpExecuteRequest.builder().request(signedRequest).build();\n    ExecutableHttpRequest executableHttpRequest = httpClient.prepareRequest(executeRequest);\n\n    // Execute the request\n    HttpExecuteResponse res = executableHttpRequest.call();\n\n    // get response \n    AbortableInputStream abortableInputStream = res.responseBody().orElseThrow(() -&gt; new RuntimeException(&quot;No Response Body found&quot;));\n</code></pre>\n"}],"owner":{"account_id":18374960,"reputation":111,"user_id":13384266,"display_name":"celadari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":848,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666351311,"creation_date":1642980854,"question_id":70827513,"body_markdown":"I&#39;m currently using an **AWS java client to request a gateway API**.\r\n\r\nThe actual code relies on &lt;s&gt;&quot;aws-sdk-java&quot;&lt;/s&gt; and I want to migrate the more modern version **&quot;aws-sdk-java-v2&quot;**.\r\nThe client would then benefit from a non blocking I/O API. Turns out, migrating from v1 to v2 is not straightforward (at least for me).\r\nI would gladly appreciate some guidance on this. \r\n\r\nMore specifically I need to stop extending the &lt;s&gt;```com.amazonaws.AmazonWebServiceClient```&lt;/s&gt; class for the more modern **```software.amazon.awssdk.services.apigateway.ApiGatewayAsyncClient```** class.\r\n\r\n\r\n**There are several parts of the code I can&#39;t figure out to properly migrate:**\r\n\r\n - How to provide correct signer ```software.amazon.awssdk.core.signer.Signer``` and/or ```software.amazon.awssdk.core.signer.AsyncSigner``` ?\r\n - How to provide response and error handler ?\r\n - Is method ```getGatewayResponse``` of `client` the right method to call the api in an asynchronous manner ?\r\n\r\n\r\nThe original code is based on [How to call AWS API Gateway From the Java code ?](https://inspeerity.com/blog/how-to-call-aws-api-gateway-from-the-java-code/)\r\n\r\n```java\r\npackage com.piotrfilipowicz.aws;\r\n\r\nimport com.amazonaws.AmazonServiceException;\r\nimport com.amazonaws.AmazonWebServiceClient;\r\nimport com.amazonaws.ClientConfiguration;\r\nimport com.amazonaws.DefaultRequest;\r\nimport com.amazonaws.RequestConfig;\r\nimport com.amazonaws.auth.AWS4Signer;\r\nimport com.amazonaws.auth.AWSCredentialsProvider;\r\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\r\nimport com.amazonaws.auth.BasicAWSCredentials;\r\nimport com.amazonaws.http.ExecutionContext;\r\nimport com.amazonaws.http.HttpMethodName;\r\nimport com.amazonaws.http.JsonErrorResponseHandler;\r\nimport com.amazonaws.http.JsonResponseHandler;\r\nimport com.amazonaws.internal.AmazonWebServiceRequestAdapter;\r\nimport com.amazonaws.internal.auth.DefaultSignerProvider;\r\nimport com.amazonaws.protocol.json.JsonOperationMetadata;\r\nimport com.amazonaws.protocol.json.SdkStructuredPlainJsonFactory;\r\nimport com.amazonaws.transform.JsonErrorUnmarshaller;\r\nimport com.amazonaws.transform.JsonUnmarshallerContext;\r\nimport com.amazonaws.transform.Unmarshaller;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\n\r\nimport java.io.InputStream;\r\nimport java.net.URI;\r\nimport java.util.Collections;\r\n\r\npublic class JsonApiGatewayCaller extends AmazonWebServiceClient {\r\n    private static final String API_GATEWAY_SERVICE_NAME = &quot;execute-api&quot;;\r\n\r\n    private final AWSCredentialsProvider credentials;\r\n    private final String apiKey;\r\n    private final AWS4Signer signer;\r\n\r\n    private final JsonResponseHandler&lt;ApiGatewayResponse&gt; responseHandler;\r\n    private final JsonErrorResponseHandler errorResponseHandler;\r\n\r\n    public JsonApiGatewayCaller(String accessKey, String secretAccessKey, String apiKey, String region, URI endpoint) {\r\n\r\n        super(new ClientConfiguration());\r\n\r\n        this.credentials = new AWSStaticCredentialsProvider(new BasicAWSCredentials(accessKey, secretAccessKey));\r\n        this.apiKey = apiKey;\r\n        this.endpoint = endpoint;\r\n\r\n        this.signer = new AWS4Signer();\r\n        this.signer.setServiceName(API_GATEWAY_SERVICE_NAME);\r\n        this.signer.setRegionName(region);\r\n\r\n        final JsonOperationMetadata metadata = new JsonOperationMetadata().withHasStreamingSuccessResponse(false).withPayloadJson(false);\r\n        final Unmarshaller&lt;ApiGatewayResponse, JsonUnmarshallerContext&gt; responseUnmarshaller = in -&gt; new ApiGatewayResponse(in.getHttpResponse());\r\n        this.responseHandler = SdkStructuredPlainJsonFactory.SDK_JSON_FACTORY.createResponseHandler(metadata, responseUnmarshaller);\r\n\r\n        JsonErrorUnmarshaller defaultErrorUnmarshaller = new JsonErrorUnmarshaller(ApiGatewayException.class, null) {\r\n            @Override\r\n            public AmazonServiceException unmarshall(JsonNode jsonContent) throws Exception {\r\n                return new ApiGatewayException(jsonContent.toString());\r\n            }\r\n        };\r\n\r\n        this.errorResponseHandler = SdkStructuredPlainJsonFactory.SDK_JSON_FACTORY.createErrorResponseHandler(\r\n                Collections.singletonList(defaultErrorUnmarshaller), null);\r\n    }\r\n\r\n    public ApiGatewayResponse execute(HttpMethodName method, String resourcePath, InputStream content) {\r\n        final ExecutionContext executionContext = createExecutionContext();\r\n\r\n        DefaultRequest request = prepareRequest(method, resourcePath, content);\r\n\r\n        RequestConfig requestConfig = new AmazonWebServiceRequestAdapter(request.getOriginalRequest());\r\n\r\n        return this.client.execute(request, responseHandler, errorResponseHandler, executionContext, requestConfig).getAwsResponse();\r\n    }\r\n\r\n    private DefaultRequest prepareRequest(HttpMethodName method, String resourcePath, InputStream content) {\r\n        DefaultRequest request = new DefaultRequest(API_GATEWAY_SERVICE_NAME);\r\n        request.setHttpMethod(method);\r\n        request.setContent(content);\r\n        request.setEndpoint(this.endpoint);\r\n        request.setResourcePath(resourcePath);\r\n        request.setHeaders(Collections.singletonMap(&quot;Content-type&quot;, &quot;application/json&quot;));\r\n        return request;\r\n    }\r\n\r\n    private ExecutionContext createExecutionContext() {\r\n        final ExecutionContext executionContext = ExecutionContext.builder().withSignerProvider(\r\n                new DefaultSignerProvider(this, signer)).build();\r\n        executionContext.setCredentialsProvider(credentials);\r\n        return executionContext;\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy migrated code looks like that so far\r\n\r\n```java\r\n\r\nimport software.amazon.awssdk.core.client.config.ClientAsyncConfiguration;\r\nimport software.amazon.awssdk.core.client.config.ClientOverrideConfiguration;\r\nimport software.amazon.awssdk.core.client.config.SdkAdvancedClientOption;\r\nimport software.amazon.awssdk.core.client.config.SdkAdvancedAsyncClientOption;\r\nimport software.amazon.awssdk.core.signer.AsyncSigner;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.auth.credentials.AwsBasicCredentials;\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentials;\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\r\nimport software.amazon.awssdk.services.apigateway.model.GetGatewayResponseRequest;\r\nimport software.amazon.awssdk.http.async.SdkAsyncHttpClient;\r\nimport software.amazon.awssdk.http.crt.AwsCrtAsyncHttpClient;\r\nimport software.amazon.awssdk.services.apigateway.ApiGatewayAsyncClient;\r\nimport org.apache.log4j.Logger;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.InputStream;\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class AsyncGatewayClient extends ApiGatewayAsyncClient {\r\n\r\n    public class AwsApiCredentialsProvider implements AwsCredentialsProvider {\r\n        private final String accessKey;\r\n        private final String secretAccessKey;\r\n\r\n        public AwsApiCredentialsProvider(String accessKey, String secretAccessKey) {\r\n            this.accessKey = accessKey;\r\n            this.secretAccessKey = secretAccessKey;\r\n        }\r\n\r\n        @Override\r\n        public AwsCredentials resolveCredentials() {\r\n            return AwsBasicCredentials.create(accessKey, secretAccessKey);\r\n        }\r\n    }\r\n\r\n    public final static SdkAsyncHttpClient httpClient = AwsCrtAsyncHttpClient.builder().build();\r\n\r\n    public AsyncGatewayClient(\r\n       String accessKey, String secretAccessKey, String endPointString, String regionUid\r\n    ) {\r\n        AwsCredentialsProvider credentialsProvider = new AwsApiCredentialsProvider(accessKey, secretAccessKey);\r\n        Region region = Region.of(regionUid);\r\n\r\n        URI endPointUri;\r\n        try {\r\n            endPointUri = new URI(endPointString);\r\n        } catch (URISyntaxException e) {\r\n            throw new ConfigException.Missing(&quot;Endpoint is not a valid URI: &quot; + endPointString);\r\n        }\r\n\r\n        ClientAsyncConfiguration overrideAsyncConfig = ClientAsyncConfiguration.builder()\r\n                .advancedOptions(new SdkAdvancedAsyncClientOption(AsyncSigner.class), )\r\n                .build();\r\n        ClientOverrideConfiguration overrideConfig = ClientOverrideConfiguration.builder()\r\n                .advancedOptions(SdkAdvancedClientOption.SIGNER, )\r\n                .build();\r\n\r\n        ApiGatewayAsyncClient client = ApiGatewayAsyncClient.builder()\r\n                .httpClient(httpClient)\r\n                .endpointOverride(endpoint)\r\n                .overrideConfiguration(overrideConfig)\r\n                .asyncConfiguration(overrideAsyncConfig)\r\n                .credentialsProvider(credentialsProvider)\r\n                .region(region)\r\n                .build();\r\n\r\n```\r\n\r\n\r\n","title":"Migrate AmazonWebServiceClient to ApiGatewayAsyncClient in aws-sdk-java-v2","body":"<p>I'm currently using an <strong>AWS java client to request a gateway API</strong>.</p>\n<p>The actual code relies on <s>&quot;aws-sdk-java&quot;</s> and I want to migrate the more modern version <strong>&quot;aws-sdk-java-v2&quot;</strong>.\nThe client would then benefit from a non blocking I/O API. Turns out, migrating from v1 to v2 is not straightforward (at least for me).\nI would gladly appreciate some guidance on this.</p>\n<p>More specifically I need to stop extending the <s><code>com.amazonaws.AmazonWebServiceClient</code></s> class for the more modern <strong><code>software.amazon.awssdk.services.apigateway.ApiGatewayAsyncClient</code></strong> class.</p>\n<p><strong>There are several parts of the code I can't figure out to properly migrate:</strong></p>\n<ul>\n<li>How to provide correct signer <code>software.amazon.awssdk.core.signer.Signer</code> and/or <code>software.amazon.awssdk.core.signer.AsyncSigner</code> ?</li>\n<li>How to provide response and error handler ?</li>\n<li>Is method <code>getGatewayResponse</code> of <code>client</code> the right method to call the api in an asynchronous manner ?</li>\n</ul>\n<p>The original code is based on <a href=\"https://inspeerity.com/blog/how-to-call-aws-api-gateway-from-the-java-code/\" rel=\"nofollow noreferrer\">How to call AWS API Gateway From the Java code ?</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.piotrfilipowicz.aws;\n\nimport com.amazonaws.AmazonServiceException;\nimport com.amazonaws.AmazonWebServiceClient;\nimport com.amazonaws.ClientConfiguration;\nimport com.amazonaws.DefaultRequest;\nimport com.amazonaws.RequestConfig;\nimport com.amazonaws.auth.AWS4Signer;\nimport com.amazonaws.auth.AWSCredentialsProvider;\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.http.ExecutionContext;\nimport com.amazonaws.http.HttpMethodName;\nimport com.amazonaws.http.JsonErrorResponseHandler;\nimport com.amazonaws.http.JsonResponseHandler;\nimport com.amazonaws.internal.AmazonWebServiceRequestAdapter;\nimport com.amazonaws.internal.auth.DefaultSignerProvider;\nimport com.amazonaws.protocol.json.JsonOperationMetadata;\nimport com.amazonaws.protocol.json.SdkStructuredPlainJsonFactory;\nimport com.amazonaws.transform.JsonErrorUnmarshaller;\nimport com.amazonaws.transform.JsonUnmarshallerContext;\nimport com.amazonaws.transform.Unmarshaller;\nimport com.fasterxml.jackson.databind.JsonNode;\n\nimport java.io.InputStream;\nimport java.net.URI;\nimport java.util.Collections;\n\npublic class JsonApiGatewayCaller extends AmazonWebServiceClient {\n    private static final String API_GATEWAY_SERVICE_NAME = &quot;execute-api&quot;;\n\n    private final AWSCredentialsProvider credentials;\n    private final String apiKey;\n    private final AWS4Signer signer;\n\n    private final JsonResponseHandler&lt;ApiGatewayResponse&gt; responseHandler;\n    private final JsonErrorResponseHandler errorResponseHandler;\n\n    public JsonApiGatewayCaller(String accessKey, String secretAccessKey, String apiKey, String region, URI endpoint) {\n\n        super(new ClientConfiguration());\n\n        this.credentials = new AWSStaticCredentialsProvider(new BasicAWSCredentials(accessKey, secretAccessKey));\n        this.apiKey = apiKey;\n        this.endpoint = endpoint;\n\n        this.signer = new AWS4Signer();\n        this.signer.setServiceName(API_GATEWAY_SERVICE_NAME);\n        this.signer.setRegionName(region);\n\n        final JsonOperationMetadata metadata = new JsonOperationMetadata().withHasStreamingSuccessResponse(false).withPayloadJson(false);\n        final Unmarshaller&lt;ApiGatewayResponse, JsonUnmarshallerContext&gt; responseUnmarshaller = in -&gt; new ApiGatewayResponse(in.getHttpResponse());\n        this.responseHandler = SdkStructuredPlainJsonFactory.SDK_JSON_FACTORY.createResponseHandler(metadata, responseUnmarshaller);\n\n        JsonErrorUnmarshaller defaultErrorUnmarshaller = new JsonErrorUnmarshaller(ApiGatewayException.class, null) {\n            @Override\n            public AmazonServiceException unmarshall(JsonNode jsonContent) throws Exception {\n                return new ApiGatewayException(jsonContent.toString());\n            }\n        };\n\n        this.errorResponseHandler = SdkStructuredPlainJsonFactory.SDK_JSON_FACTORY.createErrorResponseHandler(\n                Collections.singletonList(defaultErrorUnmarshaller), null);\n    }\n\n    public ApiGatewayResponse execute(HttpMethodName method, String resourcePath, InputStream content) {\n        final ExecutionContext executionContext = createExecutionContext();\n\n        DefaultRequest request = prepareRequest(method, resourcePath, content);\n\n        RequestConfig requestConfig = new AmazonWebServiceRequestAdapter(request.getOriginalRequest());\n\n        return this.client.execute(request, responseHandler, errorResponseHandler, executionContext, requestConfig).getAwsResponse();\n    }\n\n    private DefaultRequest prepareRequest(HttpMethodName method, String resourcePath, InputStream content) {\n        DefaultRequest request = new DefaultRequest(API_GATEWAY_SERVICE_NAME);\n        request.setHttpMethod(method);\n        request.setContent(content);\n        request.setEndpoint(this.endpoint);\n        request.setResourcePath(resourcePath);\n        request.setHeaders(Collections.singletonMap(&quot;Content-type&quot;, &quot;application/json&quot;));\n        return request;\n    }\n\n    private ExecutionContext createExecutionContext() {\n        final ExecutionContext executionContext = ExecutionContext.builder().withSignerProvider(\n                new DefaultSignerProvider(this, signer)).build();\n        executionContext.setCredentialsProvider(credentials);\n        return executionContext;\n    }\n\n}\n</code></pre>\n<p>My migrated code looks like that so far</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport software.amazon.awssdk.core.client.config.ClientAsyncConfiguration;\nimport software.amazon.awssdk.core.client.config.ClientOverrideConfiguration;\nimport software.amazon.awssdk.core.client.config.SdkAdvancedClientOption;\nimport software.amazon.awssdk.core.client.config.SdkAdvancedAsyncClientOption;\nimport software.amazon.awssdk.core.signer.AsyncSigner;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.auth.credentials.AwsBasicCredentials;\nimport software.amazon.awssdk.auth.credentials.AwsCredentials;\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\nimport software.amazon.awssdk.services.apigateway.model.GetGatewayResponseRequest;\nimport software.amazon.awssdk.http.async.SdkAsyncHttpClient;\nimport software.amazon.awssdk.http.crt.AwsCrtAsyncHttpClient;\nimport software.amazon.awssdk.services.apigateway.ApiGatewayAsyncClient;\nimport org.apache.log4j.Logger;\nimport java.io.ByteArrayInputStream;\nimport java.io.InputStream;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class AsyncGatewayClient extends ApiGatewayAsyncClient {\n\n    public class AwsApiCredentialsProvider implements AwsCredentialsProvider {\n        private final String accessKey;\n        private final String secretAccessKey;\n\n        public AwsApiCredentialsProvider(String accessKey, String secretAccessKey) {\n            this.accessKey = accessKey;\n            this.secretAccessKey = secretAccessKey;\n        }\n\n        @Override\n        public AwsCredentials resolveCredentials() {\n            return AwsBasicCredentials.create(accessKey, secretAccessKey);\n        }\n    }\n\n    public final static SdkAsyncHttpClient httpClient = AwsCrtAsyncHttpClient.builder().build();\n\n    public AsyncGatewayClient(\n       String accessKey, String secretAccessKey, String endPointString, String regionUid\n    ) {\n        AwsCredentialsProvider credentialsProvider = new AwsApiCredentialsProvider(accessKey, secretAccessKey);\n        Region region = Region.of(regionUid);\n\n        URI endPointUri;\n        try {\n            endPointUri = new URI(endPointString);\n        } catch (URISyntaxException e) {\n            throw new ConfigException.Missing(&quot;Endpoint is not a valid URI: &quot; + endPointString);\n        }\n\n        ClientAsyncConfiguration overrideAsyncConfig = ClientAsyncConfiguration.builder()\n                .advancedOptions(new SdkAdvancedAsyncClientOption(AsyncSigner.class), )\n                .build();\n        ClientOverrideConfiguration overrideConfig = ClientOverrideConfiguration.builder()\n                .advancedOptions(SdkAdvancedClientOption.SIGNER, )\n                .build();\n\n        ApiGatewayAsyncClient client = ApiGatewayAsyncClient.builder()\n                .httpClient(httpClient)\n                .endpointOverride(endpoint)\n                .overrideConfiguration(overrideConfig)\n                .asyncConfiguration(overrideAsyncConfig)\n                .credentialsProvider(credentialsProvider)\n                .region(region)\n                .build();\n\n</code></pre>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":1,"creation_date":1423506847,"post_id":28415695,"comment_id":45166748,"body_markdown":"I want to override `Registry.intValue(&quot;ide.max.recent.projects&quot;)`. I can&#39;t find it in any files in `.IntelliJ14` or subfolders, therefore I conclude it comes from static configuration and would like to override it at runtime. (And yes, I routinely work in more than 25 projects)","body":"I want to override <code>Registry.intValue(&quot;ide.max.recent.projects&quot;)</code>. I can&#39;t find it in any files in <code>.IntelliJ14</code> or subfolders, therefore I conclude it comes from static configuration and would like to override it at runtime. (And yes, I routinely work in more than 25 projects)"}],"answers":[{"tags":[],"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"down_vote_count":1,"up_vote_count":81,"is_accepted":true,"score":80,"last_activity_date":1613212475,"creation_date":1423515105,"answer_id":28419108,"question_id":28415695,"body_markdown":"Press &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;Shift&lt;/kbd&gt;-&lt;kbd&gt;/&lt;/kbd&gt; and select &quot;Registry&quot; from the menu that appears.\r\n\r\n(If that keyboard shortcut is not working for you, use your configured keyboard shortcut for `Find Action`. On Mac by default it is &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt;, on Windows it is &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt; ([docs](https://blog.jetbrains.com/idea/2020/03/top-15-intellij-idea-shortcuts/)). Then type &quot;Registry&quot; and click or hit enter.)","title":"How do you set a value in the IntelliJ Registry?","body":"<p>Press <kbd>Ctrl</kbd>-<kbd>Alt</kbd>-<kbd>Shift</kbd>-<kbd>/</kbd> and select &quot;Registry&quot; from the menu that appears.</p>\n<p>(If that keyboard shortcut is not working for you, use your configured keyboard shortcut for <code>Find Action</code>. On Mac by default it is <kbd>Shift</kbd>+<kbd>⌘</kbd>+<kbd>A</kbd>, on Windows it is <kbd>Shift</kbd>+<kbd>Ctrl</kbd>+<kbd>A</kbd> (<a href=\"https://blog.jetbrains.com/idea/2020/03/top-15-intellij-idea-shortcuts/\" rel=\"noreferrer\">docs</a>). Then type &quot;Registry&quot; and click or hit enter.)</p>\n"},{"tags":[],"owner":{"account_id":2018045,"reputation":509,"user_id":1804846,"display_name":"Saulo Aguiar"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1493500835,"creation_date":1493500835,"answer_id":43700601,"question_id":28415695,"body_markdown":"If you are using OS X, you can open the registry by typing &#39;cmd + shift + A&#39;. Type &#39;registry&#39; and change the value of the option you&#39;re looking for.\r\nIn this [source](https://www.mkyong.com/spring-boot/intellij-idea-spring-boot-template-reload-is-not-working/) you can see an example.","title":"How do you set a value in the IntelliJ Registry?","body":"<p>If you are using OS X, you can open the registry by typing 'cmd + shift + A'. Type 'registry' and change the value of the option you're looking for.\nIn this <a href=\"https://www.mkyong.com/spring-boot/intellij-idea-spring-boot-template-reload-is-not-working/\" rel=\"noreferrer\">source</a> you can see an example.</p>\n"},{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666351274,"creation_date":1666351274,"answer_id":74152891,"question_id":28415695,"body_markdown":"You can see the registry entries you have modified here:\r\n\r\n(Modify the version to your installed IDE version)\r\n\r\nIntelliJ:\r\n\r\n    /Users/YourUser/Library/Application Support/JetBrains/IdeaIC2022.1/options/ide.general.xml\r\n\r\nAndroid Studio:\r\n\r\n    /Users/YourUser/Library/Application Support/Google/AndroidStudio2021.3/options/ide.general.xml\r\n\r\n\r\nIt&#39;ll look something like this:\r\n\r\n    &lt;application&gt;\r\n        &lt;component name=&quot;Registry&quot;&gt;\r\n            &lt;entry key=&quot;unknown.sdk.auto&quot; value=&quot;1337&quot; /&gt;            \r\n        &lt;/component&gt;\r\n        &lt;component name=&quot;StatusBar&quot;&gt;\r\n            &lt;option name=&quot;widgets&quot;&gt;\r\n                &lt;map&gt;\r\n                    &lt;entry key=&quot;Memory&quot; value=&quot;true&quot; /&gt;                    \r\n                &lt;/map&gt;\r\n            &lt;/option&gt;\r\n        &lt;/component&gt;        \r\n    &lt;/application&gt;\r\n\r\nAnd in the IDE:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CKhsw.png","title":"How do you set a value in the IntelliJ Registry?","body":"<p>You can see the registry entries you have modified here:</p>\n<p>(Modify the version to your installed IDE version)</p>\n<p>IntelliJ:</p>\n<pre><code>/Users/YourUser/Library/Application Support/JetBrains/IdeaIC2022.1/options/ide.general.xml\n</code></pre>\n<p>Android Studio:</p>\n<pre><code>/Users/YourUser/Library/Application Support/Google/AndroidStudio2021.3/options/ide.general.xml\n</code></pre>\n<p>It'll look something like this:</p>\n<pre><code>&lt;application&gt;\n    &lt;component name=&quot;Registry&quot;&gt;\n        &lt;entry key=&quot;unknown.sdk.auto&quot; value=&quot;1337&quot; /&gt;            \n    &lt;/component&gt;\n    &lt;component name=&quot;StatusBar&quot;&gt;\n        &lt;option name=&quot;widgets&quot;&gt;\n            &lt;map&gt;\n                &lt;entry key=&quot;Memory&quot; value=&quot;true&quot; /&gt;                    \n            &lt;/map&gt;\n        &lt;/option&gt;\n    &lt;/component&gt;        \n&lt;/application&gt;\n</code></pre>\n<p>And in the IDE:</p>\n<p><a href=\"https://i.stack.imgur.com/CKhsw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CKhsw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29092,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":28419108,"answer_count":3,"score":45,"last_activity_date":1666351274,"creation_date":1423503014,"question_id":28415695,"body_markdown":"How can I override a value that is used internally in IntelliJ, for example this expression:\r\n\r\n    Registry.intValue(&quot;a.b.c&quot;)\r\n\r\nI can access the registry `Registry.getInstance()` but it doesn&#39;t allow updating any key/value pairs.\r\n\r\nAny tips?","title":"How do you set a value in the IntelliJ Registry?","body":"<p>How can I override a value that is used internally in IntelliJ, for example this expression:</p>\n\n<pre><code>Registry.intValue(\"a.b.c\")\n</code></pre>\n\n<p>I can access the registry <code>Registry.getInstance()</code> but it doesn't allow updating any key/value pairs.</p>\n\n<p>Any tips?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":5,"creation_date":1666347216,"post_id":74152081,"comment_id":130920733,"body_markdown":"1) A recursive approach may not be the best fit. 2) Put what&#39;s after the `if` in its `else` clause.","body":"1) A recursive approach may not be the best fit. 2) Put what&#39;s after the <code>if</code> in its <code>else</code> clause."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1666347246,"post_id":74152081,"comment_id":130920742,"body_markdown":"3) Please don&#39;t post pictures of your output; post it as text inside the question, instead.","body":"3) Please don&#39;t post pictures of your output; post it as text inside the question, instead."}],"answers":[{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666347618,"creation_date":1666347618,"answer_id":74152180,"question_id":74152081,"body_markdown":"You are calling the main method again (recursive call) so after you entered &quot;9&quot; the `main(args);` call returns and print the output for the first input.\r\n\r\nSo you should ask for a new number until you get a correct input.\r\n\r\n```lang-java\r\nimport java.util.Scanner;\r\n\r\npublic class PythagoreanTriplet {\r\n    public static void main(String[]args) //main method\r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\r\n        int a = sc.nextInt();\r\n        while(a&lt;2) //our program only works on natural numbers greater than 1\r\n        {\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;Your number is not a natural number or is 1&quot;);\r\n            System.out.println();\r\n\r\n            System.out.println(&quot;Please retry with a number greater than 1 : &quot;);\r\n            a = sc.nextInt();\r\n        }\r\n        double p1= 2*a;\r\n        double p2=Math.pow(a,2) - 1;\r\n        double p3=Math.pow(a,2) + 1;\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a &#39;Pythagorean Triplet&#39;&quot;);\r\n    }\r\n}\r\n```","title":"Why is my program printing two statements including of my previously entered number?","body":"<p>You are calling the main method again (recursive call) so after you entered &quot;9&quot; the <code>main(args);</code> call returns and print the output for the first input.</p>\n<p>So you should ask for a new number until you get a correct input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class PythagoreanTriplet {\n    public static void main(String[]args) //main method\n    {\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\n        int a = sc.nextInt();\n        while(a&lt;2) //our program only works on natural numbers greater than 1\n        {\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;Your number is not a natural number or is 1&quot;);\n            System.out.println();\n\n            System.out.println(&quot;Please retry with a number greater than 1 : &quot;);\n            a = sc.nextInt();\n        }\n        double p1= 2*a;\n        double p2=Math.pow(a,2) - 1;\n        double p3=Math.pow(a,2) + 1;\n        System.out.println(&quot;&quot;);\n        System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a 'Pythagorean Triplet'&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666347972,"creation_date":1666347972,"answer_id":74152262,"question_id":74152081,"body_markdown":"Calling a method doesn&#39;t *stop* the current method from executing.  When the method you call completes, the current method continues.\r\n\r\nFor example, when you do this:\r\n\r\n    System.out.println();\r\n\r\nYou are calling a method.  That method performs its logic, completes, and then this code continues on to the next statement.  So when you do this:\r\n\r\n    main();\r\n\r\n*The same exact thing happens.*  The method performs its logic (in this case accepts your new input and produces output), completes, and then this code continues on to the next statement.  That next logic is to produce the rest of the output.\r\n\r\n---\r\n\r\nBasically, recursion is the wrong tool for this job.  Instead, *loop* over reading the input until correct input is received.  Perhaps something like this:\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    int a = 0;\r\n    while (a &lt; 2) {\r\n        // your loop logic\r\n    }\r\n\r\nNotice how `a` is initialized to something that will cause us to enter the loop.  Then *in the loop* is the operation we want to repeat, where we will continually ask for input *until* `a` is a valid value:\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    int a = 0;\r\n    while (a &lt; 2) {\r\n        System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\r\n        a = sc.nextInt();\r\n        if (a &lt; 2) {\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;Your number is not a natural number or is 1&quot;);\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\nThere are different ways to structure it.  In this approach I&#39;ve repeated the `a &lt; 2` logic.  Another approach might ask outside the loop then re-ask within the loop, repeating the `nextInt()` logic.  How you structure it generally comes down to the UX you want in the prompts and personal preference on how to organize the logic.\r\n\r\nBut overall the point here is that you want a *loop*, not *recursion*.","title":"Why is my program printing two statements including of my previously entered number?","body":"<p>Calling a method doesn't <em>stop</em> the current method from executing.  When the method you call completes, the current method continues.</p>\n<p>For example, when you do this:</p>\n<pre><code>System.out.println();\n</code></pre>\n<p>You are calling a method.  That method performs its logic, completes, and then this code continues on to the next statement.  So when you do this:</p>\n<pre><code>main();\n</code></pre>\n<p><em>The same exact thing happens.</em>  The method performs its logic (in this case accepts your new input and produces output), completes, and then this code continues on to the next statement.  That next logic is to produce the rest of the output.</p>\n<hr />\n<p>Basically, recursion is the wrong tool for this job.  Instead, <em>loop</em> over reading the input until correct input is received.  Perhaps something like this:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nint a = 0;\nwhile (a &lt; 2) {\n    // your loop logic\n}\n</code></pre>\n<p>Notice how <code>a</code> is initialized to something that will cause us to enter the loop.  Then <em>in the loop</em> is the operation we want to repeat, where we will continually ask for input <em>until</em> <code>a</code> is a valid value:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nint a = 0;\nwhile (a &lt; 2) {\n    System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\n    a = sc.nextInt();\n    if (a &lt; 2) {\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Your number is not a natural number or is 1&quot;);\n        System.out.println();\n    }\n}\n</code></pre>\n<p>There are different ways to structure it.  In this approach I've repeated the <code>a &lt; 2</code> logic.  Another approach might ask outside the loop then re-ask within the loop, repeating the <code>nextInt()</code> logic.  How you structure it generally comes down to the UX you want in the prompts and personal preference on how to organize the logic.</p>\n<p>But overall the point here is that you want a <em>loop</em>, not <em>recursion</em>.</p>\n"},{"tags":[],"owner":{"account_id":17150101,"reputation":61,"user_id":12412231,"display_name":"A-New-User"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666351159,"creation_date":1666351159,"answer_id":74152876,"question_id":74152081,"body_markdown":"Since none of the above answers are accepted as the answer to your problem, i guess you actually want to work with recursion. Following is a representation of what your program currently does with the your example inputs.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PYmIA.png\r\n\r\nwhat we need to do now, is to stop the first &#39;main()&#39; call from printing its output. to achive that, we can simply &#39;return&#39; after calling &#39;main()&#39; the second time, or put the block of code which prints the output into the &#39;else&#39; block of your if statement. your program would then look something like this:\r\n\r\nusing &#39;return&#39; to stop wrong outputs\r\n    \r\n    import java.util.*;\r\n    public class Pythagorean_Triplet\r\n    {\r\n        private static int a;\r\n        public static void main(String[]args) //main method \r\n        {\r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\r\n            int a=sc.nextInt();\r\n            if(a&lt;2) //our program only works on natural numbers greater than 1\r\n            {\r\n                System.out.println(&quot;&quot;);\r\n                System.out.println(&quot;Your number is not a natural number or is 1&quot;);\r\n                System.out.println();\r\n                main(args);\r\n                return;\r\n            }\r\n            double p1= 2*a;\r\n            double p2=Math.pow(a,2) - 1; \r\n            double p3=Math.pow(a,2) + 1;  \r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a &#39;Pythagorean Triplet&#39;&quot;);\r\n        }\r\n    }\r\n\r\nusing &#39;else&#39; to stop wrong outputs\r\n    \r\n    import java.util.*;\r\n    public class Pythagorean_Triplet\r\n    {\r\n        private static int a;\r\n        public static void main(String[]args) //main method \r\n        {\r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\r\n            int a=sc.nextInt();\r\n            if(a&lt;2) //our program only works on natural numbers greater than 1\r\n            {\r\n                System.out.println(&quot;&quot;);\r\n                System.out.println(&quot;Your number is not a natural number or is 1&quot;);\r\n                System.out.println();\r\n                main(args);\r\n            } else {\r\n                double p1= 2*a;\r\n                double p2=Math.pow(a,2) - 1; \r\n                double p3=Math.pow(a,2) + 1;  \r\n                System.out.println(&quot;&quot;);\r\n                System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a &#39;Pythagorean Triplet&#39;&quot;);\r\n            }\r\n        }\r\n    }","title":"Why is my program printing two statements including of my previously entered number?","body":"<p>Since none of the above answers are accepted as the answer to your problem, i guess you actually want to work with recursion. Following is a representation of what your program currently does with the your example inputs.</p>\n<p><a href=\"https://i.stack.imgur.com/PYmIA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PYmIA.png\" alt=\"enter image description here\" /></a></p>\n<p>what we need to do now, is to stop the first 'main()' call from printing its output. to achive that, we can simply 'return' after calling 'main()' the second time, or put the block of code which prints the output into the 'else' block of your if statement. your program would then look something like this:</p>\n<p>using 'return' to stop wrong outputs</p>\n<pre><code>import java.util.*;\npublic class Pythagorean_Triplet\n{\n    private static int a;\n    public static void main(String[]args) //main method \n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\n        int a=sc.nextInt();\n        if(a&lt;2) //our program only works on natural numbers greater than 1\n        {\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;Your number is not a natural number or is 1&quot;);\n            System.out.println();\n            main(args);\n            return;\n        }\n        double p1= 2*a;\n        double p2=Math.pow(a,2) - 1; \n        double p3=Math.pow(a,2) + 1;  \n        System.out.println(&quot;&quot;);\n        System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a 'Pythagorean Triplet'&quot;);\n    }\n}\n</code></pre>\n<p>using 'else' to stop wrong outputs</p>\n<pre><code>import java.util.*;\npublic class Pythagorean_Triplet\n{\n    private static int a;\n    public static void main(String[]args) //main method \n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\n        int a=sc.nextInt();\n        if(a&lt;2) //our program only works on natural numbers greater than 1\n        {\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;Your number is not a natural number or is 1&quot;);\n            System.out.println();\n            main(args);\n        } else {\n            double p1= 2*a;\n            double p2=Math.pow(a,2) - 1; \n            double p3=Math.pow(a,2) + 1;  \n            System.out.println(&quot;&quot;);\n            System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a 'Pythagorean Triplet'&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26691433,"reputation":1,"user_id":20299966,"display_name":"Neil "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666351159,"creation_date":1666347096,"question_id":74152081,"body_markdown":"&#39;So question was to find pytho triplet using the number inputted but number has to be greater than one and natural. \r\n\r\n\r\nThe error I am facing is that suppose I enter -4, then it runs method again and asks me to enter number again and I enter suppose 9 but while printing final statement, it prints triplets of both -4 and 9. How can I fix it as I only want triplet of 9 to be printed?\r\n\r\n[![][1]][1]\r\n \r\n\r\n    import java.util.*;\r\n    public class Pythagorean_Triplet\r\n    {\r\n        private static int a;\r\n        public static void main(String[]args) //main method \r\n        {\r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\r\n            int a=sc.nextInt();\r\n            if(a&lt;2) //our program only works on natural numbers greater than 1\r\n            {\r\n                System.out.println(&quot;&quot;);\r\n                System.out.println(&quot;Your number is not a natural number or is 1&quot;);\r\n                System.out.println();\r\n                main(args);\r\n            }\r\n            double p1= 2*a;\r\n            double p2=Math.pow(a,2) - 1; \r\n            double p3=Math.pow(a,2) + 1;  \r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a &#39;Pythagorean Triplet&#39;&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WHvTo.png","title":"Why is my program printing two statements including of my previously entered number?","body":"<p>'So question was to find pytho triplet using the number inputted but number has to be greater than one and natural.</p>\n<p>The error I am facing is that suppose I enter -4, then it runs method again and asks me to enter number again and I enter suppose 9 but while printing final statement, it prints triplets of both -4 and 9. How can I fix it as I only want triplet of 9 to be printed?</p>\n<p><a href=\"https://i.stack.imgur.com/WHvTo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WHvTo.png\" alt=\"\" /></a></p>\n<pre><code>import java.util.*;\npublic class Pythagorean_Triplet\n{\n    private static int a;\n    public static void main(String[]args) //main method \n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\n        int a=sc.nextInt();\n        if(a&lt;2) //our program only works on natural numbers greater than 1\n        {\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;Your number is not a natural number or is 1&quot;);\n            System.out.println();\n            main(args);\n        }\n        double p1= 2*a;\n        double p2=Math.pow(a,2) - 1; \n        double p3=Math.pow(a,2) + 1;  \n        System.out.println(&quot;&quot;);\n        System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a 'Pythagorean Triplet'&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1596728746,"post_id":63285854,"comment_id":111910567,"body_markdown":"Do you have a layout file resource for `activity_main` and does `app_name` exist in your strings resource?","body":"Do you have a layout file resource for <code>activity_main</code> and does <code>app_name</code> exist in your strings resource?"},{"owner":{"account_id":5342740,"reputation":81,"user_id":4259222,"display_name":"Gnat"},"score":0,"creation_date":1596798242,"post_id":63285854,"comment_id":111933383,"body_markdown":"Yes, my strings.xml file contains only the string &quot;&lt;string name=&quot;app_name&quot;&gt;CameraX App&lt;/string&gt;&quot;, and my layout file is activity_main.xml","body":"Yes, my strings.xml file contains only the string &quot;&lt;string name=&quot;app_name&quot;&gt;CameraX App&lt;/string&gt;&quot;, and my layout file is activity_main.xml"}],"answers":[{"tags":[],"owner":{"account_id":19851570,"reputation":31,"user_id":14541964,"display_name":"Anuar MC"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603970610,"creation_date":1603970610,"answer_id":64590140,"question_id":63285854,"body_markdown":"You need to add in line 0 of MainActivity.kt package [NAME_PROJECT] with project name, for example `package com.example.myapplication`\r\n\r\n\r\n\r\n","title":"Android Studio, &quot;Unresolved Reference: activity_main&quot;","body":"<p>You need to add in line 0 of MainActivity.kt package [NAME_PROJECT] with project name, for example <code>package com.example.myapplication</code></p>\n"},{"tags":[],"owner":{"account_id":48818,"reputation":40628,"user_id":145173,"accept_rate":79,"display_name":"Edward Brey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609066952,"creation_date":1609066952,"answer_id":65465047,"question_id":63285854,"body_markdown":"The example that you pasted in didn&#39;t include the package name on the first line. To restore the package name, add this line to the top of `MainActivity.kt`:\r\n\r\n``` kotlin\r\npackage com.example.myapplication\r\n```\r\n\r\nExcept replace `com.example.myapplication` with your package name.","title":"Android Studio, &quot;Unresolved Reference: activity_main&quot;","body":"<p>The example that you pasted in didn't include the package name on the first line. To restore the package name, add this line to the top of <code>MainActivity.kt</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.example.myapplication\n</code></pre>\n<p>Except replace <code>com.example.myapplication</code> with your package name.</p>\n"},{"tags":[],"owner":{"account_id":12258236,"reputation":323,"user_id":8946710,"display_name":"CWD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651061056,"creation_date":1651061056,"answer_id":72028388,"question_id":63285854,"body_markdown":"I had this issue and it was because I accidentally edited the line that loads this info. Make sure you have the line below in your MainActivity.kt\r\n\r\n    import android.R.*\r\n\r\n ","title":"Android Studio, &quot;Unresolved Reference: activity_main&quot;","body":"<p>I had this issue and it was because I accidentally edited the line that loads this info. Make sure you have the line below in your MainActivity.kt</p>\n<pre><code>import android.R.*\n</code></pre>\n"}],"owner":{"account_id":5342740,"reputation":81,"user_id":4259222,"display_name":"Gnat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5409,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1666350583,"creation_date":1596724322,"question_id":63285854,"body_markdown":"I am following [this tutorial][1] and cannot figure out how to resolve the errors &quot;Unresolved Reference: activity_main&quot; and &quot;Unresolved Reference: app_name&quot;. The tutorial was created fairly recently, so I don&#39;t think it&#39;s deprecated, but I have only recently reinstalled Android Studio, so everything should be default.\r\n\r\nWhen trying to create a resource with that name, both resources fail to create because they already exist.\r\n\r\nHere is the MainActivity.kt:\r\n\r\n``` \r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.Manifest\r\nimport android.content.pm.PackageManager\r\nimport android.net.Uri\r\nimport android.util.Log\r\nimport android.widget.Toast\r\nimport androidx.core.app.ActivityCompat\r\nimport androidx.core.content.ContextCompat\r\nimport java.util.concurrent.Executors\r\nimport androidx.camera.core.*\r\nimport androidx.camera.lifecycle.ProcessCameraProvider\r\nimport kotlinx.android.synthetic.main.activity_main.*\r\nimport java.io.File\r\nimport java.nio.ByteBuffer\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\nimport java.util.concurrent.ExecutorService\r\ntypealias LumaListener = (luma: Double) -&gt; Unit\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n   private var imageCapture: ImageCapture? = null\r\n\r\n   private lateinit var outputDirectory: File\r\n   private lateinit var cameraExecutor: ExecutorService\r\n\r\n   override fun onCreate(savedInstanceState: Bundle?) {\r\n       super.onCreate(savedInstanceState)\r\n       setContentView(R.layout.activity_main)\r\n\r\n       // Request camera permissions\r\n       if (allPermissionsGranted()) {\r\n           startCamera()\r\n       } else {\r\n           ActivityCompat.requestPermissions(\r\n               this, REQUIRED_PERMISSIONS, REQUEST_CODE_PERMISSIONS)\r\n       }\r\n\r\n       // Setup the listener for take photo button\r\n       camera_capture_button.setOnClickListener { takePhoto() }\r\n\r\n       outputDirectory = getOutputDirectory()\r\n\r\n       cameraExecutor = Executors.newSingleThreadExecutor()\r\n   }\r\n\r\n   private fun takePhoto() {}\r\n\r\n   private fun startCamera() {}\r\n\r\n   private fun allPermissionsGranted() = REQUIRED_PERMISSIONS.all {\r\n       ContextCompat.checkSelfPermission(\r\n           baseContext, it) == PackageManager.PERMISSION_GRANTED\r\n   }\r\n\r\n   private fun getOutputDirectory(): File {\r\n       val mediaDir = externalMediaDirs.firstOrNull()?.let {\r\n           File(it, resources.getString(R.string.app_name)).apply { mkdirs() } }\r\n       return if (mediaDir != null &amp;&amp; mediaDir.exists())\r\n           mediaDir else filesDir\r\n   }\r\n\r\n   override fun onDestroy() {\r\n       super.onDestroy()\r\n       cameraExecutor.shutdown()\r\n   }\r\n\r\n   companion object {\r\n       private const val TAG = &quot;CameraXBasic&quot;\r\n       private const val FILENAME_FORMAT = &quot;yyyy-MM-dd-HH-mm-ss-SSS&quot;\r\n       private const val REQUEST_CODE_PERMISSIONS = 10\r\n       private val REQUIRED_PERMISSIONS = arrayOf(Manifest.permission.CAMERA)\r\n   }\r\n}\r\n```\r\n\r\n```R.layout.activity_main``` and ```R.string.app_name``` are the lines in question.\r\n\r\nHere is the Module: app build.gradle:\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply plugin: &#39;kotlin-android-extensions&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion &quot;30.0.1&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.cameraxapp&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\r\n    implementation &#39;androidx.core:core-ktx:1.1.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    def camerax_version = &quot;1.0.0-beta07&quot;\r\n// CameraX core library using camera2 implementation\r\n    implementation &quot;androidx.camera:camera-camera2:$camerax_version&quot;\r\n// CameraX Lifecycle Library\r\n    implementation &quot;androidx.camera:camera-lifecycle:$camerax_version&quot;\r\n// CameraX View class\r\n    implementation &quot;androidx.camera:camera-view:1.0.0-alpha14&quot;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n\r\n}\r\n```\r\n\r\nI&#39;ve seen people suggest removing ```import android.R```, but I cannot find anything in my project with this import statement. Any suggestions as to which file this statement might be in would be appreciated.\r\n\r\n[1]: https://codelabs.developers.google.com/codelabs/camerax-getting-started/index.html?index=..%2F..index","title":"Android Studio, &quot;Unresolved Reference: activity_main&quot;","body":"<p>I am following <a href=\"https://codelabs.developers.google.com/codelabs/camerax-getting-started/index.html?index=..%2F..index\" rel=\"nofollow noreferrer\">this tutorial</a> and cannot figure out how to resolve the errors &quot;Unresolved Reference: activity_main&quot; and &quot;Unresolved Reference: app_name&quot;. The tutorial was created fairly recently, so I don't think it's deprecated, but I have only recently reinstalled Android Studio, so everything should be default.</p>\n<p>When trying to create a resource with that name, both resources fail to create because they already exist.</p>\n<p>Here is the MainActivity.kt:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.Manifest\nimport android.content.pm.PackageManager\nimport android.net.Uri\nimport android.util.Log\nimport android.widget.Toast\nimport androidx.core.app.ActivityCompat\nimport androidx.core.content.ContextCompat\nimport java.util.concurrent.Executors\nimport androidx.camera.core.*\nimport androidx.camera.lifecycle.ProcessCameraProvider\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.io.File\nimport java.nio.ByteBuffer\nimport java.text.SimpleDateFormat\nimport java.util.*\nimport java.util.concurrent.ExecutorService\ntypealias LumaListener = (luma: Double) -&gt; Unit\n\nclass MainActivity : AppCompatActivity() {\n   private var imageCapture: ImageCapture? = null\n\n   private lateinit var outputDirectory: File\n   private lateinit var cameraExecutor: ExecutorService\n\n   override fun onCreate(savedInstanceState: Bundle?) {\n       super.onCreate(savedInstanceState)\n       setContentView(R.layout.activity_main)\n\n       // Request camera permissions\n       if (allPermissionsGranted()) {\n           startCamera()\n       } else {\n           ActivityCompat.requestPermissions(\n               this, REQUIRED_PERMISSIONS, REQUEST_CODE_PERMISSIONS)\n       }\n\n       // Setup the listener for take photo button\n       camera_capture_button.setOnClickListener { takePhoto() }\n\n       outputDirectory = getOutputDirectory()\n\n       cameraExecutor = Executors.newSingleThreadExecutor()\n   }\n\n   private fun takePhoto() {}\n\n   private fun startCamera() {}\n\n   private fun allPermissionsGranted() = REQUIRED_PERMISSIONS.all {\n       ContextCompat.checkSelfPermission(\n           baseContext, it) == PackageManager.PERMISSION_GRANTED\n   }\n\n   private fun getOutputDirectory(): File {\n       val mediaDir = externalMediaDirs.firstOrNull()?.let {\n           File(it, resources.getString(R.string.app_name)).apply { mkdirs() } }\n       return if (mediaDir != null &amp;&amp; mediaDir.exists())\n           mediaDir else filesDir\n   }\n\n   override fun onDestroy() {\n       super.onDestroy()\n       cameraExecutor.shutdown()\n   }\n\n   companion object {\n       private const val TAG = &quot;CameraXBasic&quot;\n       private const val FILENAME_FORMAT = &quot;yyyy-MM-dd-HH-mm-ss-SSS&quot;\n       private const val REQUEST_CODE_PERMISSIONS = 10\n       private val REQUIRED_PERMISSIONS = arrayOf(Manifest.permission.CAMERA)\n   }\n}\n</code></pre>\n<p><code>R.layout.activity_main</code> and <code>R.string.app_name</code> are the lines in question.</p>\n<p>Here is the Module: app build.gradle:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.1&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.cameraxapp&quot;\n        minSdkVersion 21\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\n    implementation 'androidx.core:core-ktx:1.1.0'\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    def camerax_version = &quot;1.0.0-beta07&quot;\n// CameraX core library using camera2 implementation\n    implementation &quot;androidx.camera:camera-camera2:$camerax_version&quot;\n// CameraX Lifecycle Library\n    implementation &quot;androidx.camera:camera-lifecycle:$camerax_version&quot;\n// CameraX View class\n    implementation &quot;androidx.camera:camera-view:1.0.0-alpha14&quot;\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n\n}\n</code></pre>\n<p>I've seen people suggest removing <code>import android.R</code>, but I cannot find anything in my project with this import statement. Any suggestions as to which file this statement might be in would be appreciated.</p>\n"},{"tags":["java","docker","cassandra","datatables","cqlsh"],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665564405,"creation_date":1665564405,"answer_id":74038978,"question_id":74033150,"body_markdown":"Because Cassandra is a distributed system, when you create a table you need to make sure that changes are propagated to all nodes so schema will be in agreement. This is especially important when you use something like Java driver that by default uses round-robin policy, so different DDL statements could be sent to different nodes, causing schema mismatch errors.  You can find an example of how to do that correctly [here][1].\r\n\r\nIn `cqlsh` it&#39;s not the issue as it always uses the same connection to send all commands, so you won&#39;t get schema mismatch because schema versions are generated on the same node. \r\n\r\n\r\n  [1]: https://github.com/alexott/cassandra-dse-playground/blob/master/driver-1.x/src/main/java/com/datastax/alexott/demos/WhiteListPolicyExample.java#L41","title":"Is Cassandra table creation slow?","body":"<p>Because Cassandra is a distributed system, when you create a table you need to make sure that changes are propagated to all nodes so schema will be in agreement. This is especially important when you use something like Java driver that by default uses round-robin policy, so different DDL statements could be sent to different nodes, causing schema mismatch errors.  You can find an example of how to do that correctly <a href=\"https://github.com/alexott/cassandra-dse-playground/blob/master/driver-1.x/src/main/java/com/datastax/alexott/demos/WhiteListPolicyExample.java#L41\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>In <code>cqlsh</code> it's not the issue as it always uses the same connection to send all commands, so you won't get schema mismatch because schema versions are generated on the same node.</p>\n"},{"tags":[],"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666350468,"creation_date":1666350468,"answer_id":74152732,"question_id":74033150,"body_markdown":"Turns out in the `java-driver-core` there is a feature called [debouncing](https://docs.datastax.com/en/developer/java-driver/4.14/manual/core/performance/#debouncing). Here requests are accumulated over 1 second / an upper count before being sent to Cassandra. You can see the code [here](https://github.com/datastax/java-driver/blob/4.x/core/src/main/java/com/datastax/oss/driver/internal/core/util/concurrent/Debouncer.java#L127).\r\n\r\nThere are driver config settings that can be used to control the debounce behaviour, which I set as\r\n\r\n    datastax-java-driver.advanced.metadata {\r\n      schema.debouncer {\r\n        window = 1 milliseconds\r\n        max-events = 1\r\n      }\r\n    }\r\n\r\nin order to remove the 1 second delay. This is appropriate for my use case. But the change requires consideration depending on usage.","title":"Is Cassandra table creation slow?","body":"<p>Turns out in the <code>java-driver-core</code> there is a feature called <a href=\"https://docs.datastax.com/en/developer/java-driver/4.14/manual/core/performance/#debouncing\" rel=\"nofollow noreferrer\">debouncing</a>. Here requests are accumulated over 1 second / an upper count before being sent to Cassandra. You can see the code <a href=\"https://github.com/datastax/java-driver/blob/4.x/core/src/main/java/com/datastax/oss/driver/internal/core/util/concurrent/Debouncer.java#L127\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>There are driver config settings that can be used to control the debounce behaviour, which I set as</p>\n<pre><code>datastax-java-driver.advanced.metadata {\n  schema.debouncer {\n    window = 1 milliseconds\n    max-events = 1\n  }\n}\n</code></pre>\n<p>in order to remove the 1 second delay. This is appropriate for my use case. But the change requires consideration depending on usage.</p>\n"}],"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74152732,"answer_count":2,"score":1,"last_activity_date":1666350468,"creation_date":1665516237,"question_id":74033150,"body_markdown":"I&#39;ve a Jar file that initialises my Cassandra database during which it creates ~13 tables. This file is being run by our tests where we start a Cassandra test container and use the jar to set it up.\r\n\r\nBut I&#39;m surprised to see that each table takes ~1-2 seconds to initialise, totaling ~15 seconds. If I manually create one of these tables, using `cqlsh`, it takes ~100-120 ms.\r\n\r\nIs there an explanation for this delay? Is there a work around?\r\n\r\nI came across https://stackoverflow.com/questions/35455968/why-does-it-take-so-long-to-create-a-table but I don&#39;t have any tabs in my tables.\r\n\r\n**Update**\r\n\r\nThe Java Code boils down to\r\n\r\n    cqlSession.execute( SimpleStatement.newInstance(query).setIdempotent(isIdempotent) );\r\n\r\nwhich uses the `java-driver-core` version `4.14.1`. The `query` looks like\r\n\r\n    CREATE TABLE settings (key text, value text, PRIMARY KEY (key))\r\n\r\nand took 1.125 seconds.","title":"Is Cassandra table creation slow?","body":"<p>I've a Jar file that initialises my Cassandra database during which it creates ~13 tables. This file is being run by our tests where we start a Cassandra test container and use the jar to set it up.</p>\n<p>But I'm surprised to see that each table takes ~1-2 seconds to initialise, totaling ~15 seconds. If I manually create one of these tables, using <code>cqlsh</code>, it takes ~100-120 ms.</p>\n<p>Is there an explanation for this delay? Is there a work around?</p>\n<p>I came across <a href=\"https://stackoverflow.com/questions/35455968/why-does-it-take-so-long-to-create-a-table\">Why does it take so long to create a table?</a> but I don't have any tabs in my tables.</p>\n<p><strong>Update</strong></p>\n<p>The Java Code boils down to</p>\n<pre><code>cqlSession.execute( SimpleStatement.newInstance(query).setIdempotent(isIdempotent) );\n</code></pre>\n<p>which uses the <code>java-driver-core</code> version <code>4.14.1</code>. The <code>query</code> looks like</p>\n<pre><code>CREATE TABLE settings (key text, value text, PRIMARY KEY (key))\n</code></pre>\n<p>and took 1.125 seconds.</p>\n"},{"tags":["java","docker","gradle"],"comments":[{"owner":{"account_id":6590538,"reputation":3948,"user_id":5091874,"display_name":"Warren Parad"},"score":0,"creation_date":1655492887,"post_id":72418896,"comment_id":128353706,"body_markdown":"You need to add your dockerfile to this with a minimal reproducible example for anyone to be able to help unfortunately.","body":"You need to add your dockerfile to this with a minimal reproducible example for anyone to be able to help unfortunately."}],"owner":{"account_id":13565139,"reputation":581,"user_id":9785462,"display_name":"Yang Liu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666350269,"creation_date":1653768166,"question_id":72418896,"body_markdown":"I am able to do a [Gradle composite build][1] locally.\r\n\r\nNow I&#39;m trying to build the docker image in a docker container instead of on my local laptop. And I got this error:\r\n\r\n```\r\nIncluded build &#39;/home/yang-liu/eCommerceServiceDataAccessLayer&#39; does not exist.\r\n```\r\n\r\nSo it complains that above package doesn&#39;t exist.\r\n\r\nI&#39;m not sure how to build docker image inside docker container when multiple packages are involved. My two packages are in different GitHub repositories. \r\n\r\n\r\n# More Context\r\n\r\n### Project structure\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n### settings.gradle files\r\n\r\n`settings.gradle` for `eCommerceService`:\r\n\r\n```\r\nrootProject.name = &#39;eCommerceService&#39;\r\n\r\nincludeBuild(&quot;../eCommerceServiceDataAccessLayer&quot;)\r\n```\r\n\r\n\r\n`settings.gradle` for `eCommerceServiceDataAccessLayer`:\r\n\r\n```\r\nrootProject.name = &#39;eCommerceServiceDataAccessLayer&#39;\r\n```\r\n\r\n\r\n### Dockerfile in eCommerceService\r\n\r\n```\r\n########################################################################################\r\n# We are multi-stage builds here to build the docker image.\r\n# https://docs.docker.com/develop/develop-images/multistage-build/\r\n########################################################################################\r\n\r\n########################################################################################\r\n# Build Stage\r\n########################################################################################\r\nFROM openjdk:11 AS BUILD_ARTIFACT\r\nRUN ls\r\nARG APP_NAME=ecommerce-service\r\nARG USER_NAME=yang-liu\r\nENV APP_HOME=/home/$USER_NAME/$APP_NAME\r\nWORKDIR $APP_HOME\r\nCOPY build.gradle settings.gradle gradlew $APP_HOME\r\nCOPY gradle $APP_HOME/gradle\r\n\r\n# https://stackoverflow.com/questions/25873971/docker-cache-gradle-dependencies\r\nRUN ./gradlew build || return 0\r\nCOPY . .\r\nRUN ./gradlew build\r\n\r\n########################################################################################\r\n# Run Stage\r\n########################################################################################\r\n\r\nFROM openjdk:11-jre AS RUN_ARTIFACT\r\n# Run as a non-root user to mitigate security risks\r\n# https://security.stackexchange.com/questions/106860/can-a-root-user-inside-a-docker-lxc-break-the-security-of-the-whole-system\r\nARG GROUP_NAME=ecommerce-service\r\nARG USER_NAME=yang-liu\r\nARG APP_NAME=ecommerce-service\r\nARG USER_NAME=yang-liu\r\nENV APP_HOME=/home/$USER_NAME/$APP_NAME\r\nRUN addgroup $GROUP_NAME\r\n\r\nENV APP_HOME=/home/$USER_NAME\r\nWORKDIR $APP_HOME\r\n\r\nRUN adduser --ingroup $GROUP_NAME $USER_NAME --home $APP_HOME\r\nUSER $USER_NAME\r\n\r\n# Copy the artifact from BUILD_ARTIFACT stage\r\nCOPY --from=BUILD_ARTIFACT  $APP_HOME/build/libs/eCommerceService-0.0.1.jar eCommerceService-0.0.1.jar\r\n\r\n# Set ENTRYPOINT in exec form to run the container as an executable\r\nENTRYPOINT [&quot;java&quot;,&quot;-classpath&quot;, &quot;-jar&quot;,&quot;eCommerceService-0.0.1.jar&quot;]\r\n```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/composite_builds.html\r\n  [2]: https://i.stack.imgur.com/4oqZD.png","title":"How to do a Gradle composite build in Docker?","body":"<p>I am able to do a <a href=\"https://docs.gradle.org/current/userguide/composite_builds.html\" rel=\"nofollow noreferrer\">Gradle composite build</a> locally.</p>\n<p>Now I'm trying to build the docker image in a docker container instead of on my local laptop. And I got this error:</p>\n<pre><code>Included build '/home/yang-liu/eCommerceServiceDataAccessLayer' does not exist.\n</code></pre>\n<p>So it complains that above package doesn't exist.</p>\n<p>I'm not sure how to build docker image inside docker container when multiple packages are involved. My two packages are in different GitHub repositories.</p>\n<h1>More Context</h1>\n<h3>Project structure</h3>\n<p><a href=\"https://i.stack.imgur.com/4oqZD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4oqZD.png\" alt=\"enter image description here\" /></a></p>\n<h3>settings.gradle files</h3>\n<p><code>settings.gradle</code> for <code>eCommerceService</code>:</p>\n<pre><code>rootProject.name = 'eCommerceService'\n\nincludeBuild(&quot;../eCommerceServiceDataAccessLayer&quot;)\n</code></pre>\n<p><code>settings.gradle</code> for <code>eCommerceServiceDataAccessLayer</code>:</p>\n<pre><code>rootProject.name = 'eCommerceServiceDataAccessLayer'\n</code></pre>\n<h3>Dockerfile in eCommerceService</h3>\n<pre><code>########################################################################################\n# We are multi-stage builds here to build the docker image.\n# https://docs.docker.com/develop/develop-images/multistage-build/\n########################################################################################\n\n########################################################################################\n# Build Stage\n########################################################################################\nFROM openjdk:11 AS BUILD_ARTIFACT\nRUN ls\nARG APP_NAME=ecommerce-service\nARG USER_NAME=yang-liu\nENV APP_HOME=/home/$USER_NAME/$APP_NAME\nWORKDIR $APP_HOME\nCOPY build.gradle settings.gradle gradlew $APP_HOME\nCOPY gradle $APP_HOME/gradle\n\n# https://stackoverflow.com/questions/25873971/docker-cache-gradle-dependencies\nRUN ./gradlew build || return 0\nCOPY . .\nRUN ./gradlew build\n\n########################################################################################\n# Run Stage\n########################################################################################\n\nFROM openjdk:11-jre AS RUN_ARTIFACT\n# Run as a non-root user to mitigate security risks\n# https://security.stackexchange.com/questions/106860/can-a-root-user-inside-a-docker-lxc-break-the-security-of-the-whole-system\nARG GROUP_NAME=ecommerce-service\nARG USER_NAME=yang-liu\nARG APP_NAME=ecommerce-service\nARG USER_NAME=yang-liu\nENV APP_HOME=/home/$USER_NAME/$APP_NAME\nRUN addgroup $GROUP_NAME\n\nENV APP_HOME=/home/$USER_NAME\nWORKDIR $APP_HOME\n\nRUN adduser --ingroup $GROUP_NAME $USER_NAME --home $APP_HOME\nUSER $USER_NAME\n\n# Copy the artifact from BUILD_ARTIFACT stage\nCOPY --from=BUILD_ARTIFACT  $APP_HOME/build/libs/eCommerceService-0.0.1.jar eCommerceService-0.0.1.jar\n\n# Set ENTRYPOINT in exec form to run the container as an executable\nENTRYPOINT [&quot;java&quot;,&quot;-classpath&quot;, &quot;-jar&quot;,&quot;eCommerceService-0.0.1.jar&quot;]\n</code></pre>\n"},{"tags":["java","csv","parsing","univocity"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1541498573,"post_id":53169596,"comment_id":93228889,"body_markdown":"Could you add a sample line from your file ?","body":"Could you add a sample line from your file ?"},{"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"score":0,"creation_date":1541498819,"post_id":53169596,"comment_id":93229042,"body_markdown":"@Arnaud yes, sure. Check the edit.","body":"@Arnaud yes, sure. Check the edit."},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1541499334,"post_id":53169596,"comment_id":93229361,"body_markdown":"Do you have any way to change how the csv file is generated ?","body":"Do you have any way to change how the csv file is generated ?"},{"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"score":0,"creation_date":1541499398,"post_id":53169596,"comment_id":93229395,"body_markdown":"@Arnaud no, i don&#39;t generate it by myself, unfortunately.","body":"@Arnaud no, i don&#39;t generate it by myself, unfortunately."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1541499969,"post_id":53169596,"comment_id":93229700,"body_markdown":"Double quotes are commonly used to escape text with delimiters in CSV, thus if your line looks like one entry that contains delimiters. I assume that `&quot;Kazakhstan, Almaty, 66, 3&quot;` would be an actual escaped entry and whoever wrote the line escaped it again and thus you get the escaped escape characters (i.e. double double quotes, `&quot;&quot;`). The problem with removing the double quotes at the start and the end of the line would not take care of the incorrectly escaped double quotes in the line itself.","body":"Double quotes are commonly used to escape text with delimiters in CSV, thus if your line looks like one entry that contains delimiters. I assume that <code>&quot;Kazakhstan, Almaty, 66, 3&quot;</code> would be an actual escaped entry and whoever wrote the line escaped it again and thus you get the escaped escape characters (i.e. double double quotes, <code>&quot;&quot;</code>). The problem with removing the double quotes at the start and the end of the line would not take care of the incorrectly escaped double quotes in the line itself."},{"owner":{"account_id":325503,"reputation":10378,"user_id":646723,"display_name":"Bruce Martin"},"score":2,"creation_date":1541500924,"post_id":53169596,"comment_id":93230222,"body_markdown":"the csv parser is parsing the line correctly; solutions `Fix the program` that creates the file or write a program to fix the file","body":"the csv parser is parsing the line correctly; solutions <code>Fix the program</code> that creates the file or write a program to fix the file"}],"answers":[{"tags":[],"owner":{"account_id":4865932,"reputation":6159,"user_id":3924178,"display_name":"Jeronimo Backes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541573242,"creation_date":1541573242,"answer_id":53184704,"question_id":53169596,"body_markdown":"Author of the library here. The input you have there is a well-formed CSV, with a single value consisting of:\r\n\r\n`100926653937,Kasym Amina,620414400630,Marzhan Erbolova,&quot;Kazakhstan, Almaty, 66, 3&quot;,87029845662`\r\n\r\nIf that row appeared in the middle of your input, I suppose your input has unescaped quotes (somewhere before you got to that line). Try playing with the unescaped quote handling setting:\r\n\r\nFor example, this might work:\r\n\r\n`settings.setUnescapedQuoteHandling(UnescapedQuoteHandling.STOP_AT_CLOSING_QUOTE);`\r\n\r\nIf nothing works, and all your lines look like the one you posted, then you can parse the input twice (which is shitty and slow but will work):\r\n\r\n    CsvParser parser = new CsvParser(settings);\r\n    parser.beginParsing(csvFile);\r\n    \r\n    List&lt;String[]&gt; out = new ArrayList&lt;&gt;();\r\n    String[] row;\r\n\twhile ((row = parser.parseNext()) != null) {\r\n        //got a row with unexpected length?\r\n        if(row.length == 1){\r\n            //break it down again.\r\n            row = parser.parseLine(row[0]);\r\n        }\r\n\t\tout.add(row);\r\n\t}\r\n\r\n\r\nHope this helps.\r\n","title":"Univocity CSV parser glues the whole line if it begins with quote &quot;","body":"<p>Author of the library here. The input you have there is a well-formed CSV, with a single value consisting of:</p>\n\n<p><code>100926653937,Kasym Amina,620414400630,Marzhan Erbolova,\"Kazakhstan, Almaty, 66, 3\",87029845662</code></p>\n\n<p>If that row appeared in the middle of your input, I suppose your input has unescaped quotes (somewhere before you got to that line). Try playing with the unescaped quote handling setting:</p>\n\n<p>For example, this might work:</p>\n\n<p><code>settings.setUnescapedQuoteHandling(UnescapedQuoteHandling.STOP_AT_CLOSING_QUOTE);</code></p>\n\n<p>If nothing works, and all your lines look like the one you posted, then you can parse the input twice (which is shitty and slow but will work):</p>\n\n<pre><code>CsvParser parser = new CsvParser(settings);\nparser.beginParsing(csvFile);\n\nList&lt;String[]&gt; out = new ArrayList&lt;&gt;();\nString[] row;\nwhile ((row = parser.parseNext()) != null) {\n    //got a row with unexpected length?\n    if(row.length == 1){\n        //break it down again.\n        row = parser.parseLine(row[0]);\n    }\n    out.add(row);\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666350239,"creation_date":1541498493,"question_id":53169596,"body_markdown":"I&#39;m using `univocity 2.7.5` to parse `csv` file. Till now it worked fine and parsed a row in `csv` file as String array with `n` elements, where n = number of columns in a row. But now i have a file, where rows start with quote `&quot;` and the parser cannot handle it. It returns a row as String array with only one element which contains whole row data. I tried to remove that quote from `csv` file and it worked fine, but there are about 500,000 rows. What should i do to make it work?\r\n\r\n\r\nHere is the sample line from my file **(it has quotes in source file too)**:\r\n\r\n     &quot;100926653937,Kasym Amina,620414400630,Marzhan Erbolova,&quot;&quot;Kazakhstan, Almaty, 66, 3&quot;&quot;,87029845662&quot;\r\n\r\n\r\nAnd here&#39;s my code:\r\n\r\n        CsvParserSettings settings = new CsvParserSettings();\r\n        settings.setDelimiterDetectionEnabled(true);\r\n        CsvParser parser = new CsvParser(settings);\r\n        List&lt;String[]&gt; rows = parser.parseAll(csvFile);\r\n\r\n","title":"Univocity CSV parser glues the whole line if it begins with quote &quot;","body":"<p>I'm using <code>univocity 2.7.5</code> to parse <code>csv</code> file. Till now it worked fine and parsed a row in <code>csv</code> file as String array with <code>n</code> elements, where n = number of columns in a row. But now i have a file, where rows start with quote <code>\"</code> and the parser cannot handle it. It returns a row as String array with only one element which contains whole row data. I tried to remove that quote from <code>csv</code> file and it worked fine, but there are about 500,000 rows. What should i do to make it work?</p>\n\n<p>Here is the sample line from my file <strong>(it has quotes in source file too)</strong>:</p>\n\n<pre><code> \"100926653937,Kasym Amina,620414400630,Marzhan Erbolova,\"\"Kazakhstan, Almaty, 66, 3\"\",87029845662\"\n</code></pre>\n\n<p>And here's my code:</p>\n\n<pre><code>    CsvParserSettings settings = new CsvParserSettings();\n    settings.setDelimiterDetectionEnabled(true);\n    CsvParser parser = new CsvParser(settings);\n    List&lt;String[]&gt; rows = parser.parseAll(csvFile);\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":14429850,"reputation":87,"user_id":10423516,"display_name":"Sanjay Makwana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666350102,"creation_date":1555497604,"answer_id":55725661,"question_id":54289434,"body_markdown":"I have a same problem in my project. I solved It by changing localhost with server ip in connection url\r\n\r\n     connection = DriverManager.getConnection(&quot;jdbc:mysql://192.168.3.3:3306/test&quot; , &quot;root&quot; , &quot;12345&quot;);\r\n\r\nAlso make sure that your mysql server is running and your username and password are correct.","title":"The driver has not received any packets from the server in IntelliJ IDEA","body":"<p>I have a same problem in my project. I solved It by changing localhost with server ip in connection url</p>\n<pre><code> connection = DriverManager.getConnection(&quot;jdbc:mysql://192.168.3.3:3306/test&quot; , &quot;root&quot; , &quot;12345&quot;);\n</code></pre>\n<p>Also make sure that your mysql server is running and your username and password are correct.</p>\n"},{"tags":[],"owner":{"account_id":4525260,"reputation":559,"user_id":3677294,"display_name":"MonirRouissi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639834832,"creation_date":1623854015,"answer_id":68004783,"question_id":54289434,"body_markdown":"make sure your `Mysql server` is up and running:\r\n\r\n### steps: ###\r\n\r\n 1. check if `MySQL80` service is running \r\n 2. try connect to your database using  `mysqlWorkbench` or any other tool\r\n 3. rerun your app\r\n\r\nNote: for windows you can access `MySQL80` service by searching for `services`\r\n\r\n","title":"The driver has not received any packets from the server in IntelliJ IDEA","body":"<p>make sure your <code>Mysql server</code> is up and running:</p>\n<h3>steps:</h3>\n<ol>\n<li>check if <code>MySQL80</code> service is running</li>\n<li>try connect to your database using  <code>mysqlWorkbench</code> or any other tool</li>\n<li>rerun your app</li>\n</ol>\n<p>Note: for windows you can access <code>MySQL80</code> service by searching for <code>services</code></p>\n"}],"owner":{"account_id":4336593,"reputation":29,"user_id":3540943,"display_name":"Sundos Altamimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18699,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1623855915,"answer_count":2,"score":1,"last_activity_date":1666350102,"creation_date":1548071639,"question_id":54289434,"body_markdown":"Im trying to connect my intelliJ java project with mysql for the first time and unfortunately I get this error : \r\n\r\n    com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:835)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:455)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240)\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n\tat sundos.ConnectionConfig.getConnect(ConnectionConfig.java:15)\r\n\tat sundos.Main.main(Main.java:15)\r\n    Caused by: com.mysql.cj.exceptions.CJCommunicationsException: \r\n    Communications link failure\r\n\r\nI already added the mysql-connector.\r\nhere is a simple code of me : \r\n\r\n    public static Connection getConnect (){\r\n\r\n        Connection connection = null;\r\n\r\n        try {\r\n\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/test&quot; , &quot;root&quot; , &quot;12345&quot;);\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return connection;\r\n    }\r\n\r\n","title":"The driver has not received any packets from the server in IntelliJ IDEA","body":"<p>Im trying to connect my intelliJ java project with mysql for the first time and unfortunately I get this error : </p>\n\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\nat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:835)\nat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:455)\nat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240)\nat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207)\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\nat sundos.ConnectionConfig.getConnect(ConnectionConfig.java:15)\nat sundos.Main.main(Main.java:15)\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: \nCommunications link failure\n</code></pre>\n\n<p>I already added the mysql-connector.\nhere is a simple code of me : </p>\n\n<pre><code>public static Connection getConnect (){\n\n    Connection connection = null;\n\n    try {\n\n        Class.forName(\"com.mysql.cj.jdbc.Driver\");\n        connection = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/test\" , \"root\" , \"12345\");\n    } catch (Exception e){\n        e.printStackTrace();\n    }\n\n    return connection;\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-retry"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1665579940,"creation_date":1665579940,"answer_id":74042332,"question_id":74042120,"body_markdown":"The `@Retryable` method must be in a different bean managed by Spring; if you call the method internally, within the same class, you will bypass the retry interceptor.","title":"java spring retryable not working as expected","body":"<p>The <code>@Retryable</code> method must be in a different bean managed by Spring; if you call the method internally, within the same class, you will bypass the retry interceptor.</p>\n"}],"owner":{"account_id":4397755,"reputation":790,"user_id":3584279,"accept_rate":100,"display_name":"RVA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74042332,"answer_count":1,"score":0,"last_activity_date":1666349980,"creation_date":1665578957,"question_id":74042120,"body_markdown":"I&#39;m working on an  spring boot app configure like this : \r\n\r\n    @SpringBootApplication\r\n    @EnableRetry\r\n    public class SpringBootApp {\r\n      public static void main(String[] args) {\r\n        SpringApplication.run(SpringBootApp.class, args);\r\n      }\r\n    }\r\n\r\nI&#39;ve a Kafka listener hooked up to a topic which can have 5 different schemas. To handle this (it might be the wrong way, I&#39;m open to suggestion on this part) we are doing this :\r\n     \r\n    private void fillEvents(ConsumerRecords&lt;Key, SpecificRecord&gt; events) {\r\n        events.forEach(event -&gt; {\r\n            SpecificRecord value = event.value();\r\n            if (value instanceof A a) {\r\n                aEvents.add(a);\r\n            } else if (value instanceof B b){\r\n                bEvents.add(b)\r\n            }\r\n            ....\r\n       });\r\n\r\nand in the main  listener : \r\n\r\n    @KafkaListener(topics = &quot;topicName&quot;, groupId = &quot;myApp&quot;, containerFactory = &quot;listenerFactory&quot;)\r\n    public void receive(ConsumerRecords&lt;Key, SpecificRecord&gt; events) {\r\n        Splitter splitter = new Splitter(events); //doing the fillEvents(..) from above\r\n        aService.handleEvents(splitter.getAEvents());\r\n        bService.handleEvents(splitter.getBEvents());\r\n        ... \r\n    }\r\n\r\nIn each service we can have other processes (like file&#39;s integration or API&#39;s calls) that might modify the same resources we want to in our kafka listener. We have a MongoDB database so we are handling the persistence with a classic spring data layer : save(entity). But to avoid failure due to multiple access we are doing this (in each service) :\r\n\r\n    ...\r\n    public void handleEvents(List&lt;A&gt; events) {\r\n        events.forEach(event -&gt; processEvent(event));\r\n    }\r\n\r\n    @Retryable(value = {OptimisticLockingFailureException.class, DuplicateKeyException.class, MongoCommandException.class},\r\n            maxAttempts = 100,\r\n            backoff = @Backoff(random = true, delay = 200, maxDelay = 5000, multiplier = 2))\r\n    public void processEvent(A event) {\r\n      refresh() // in case of failure (from retryable) we are refreshing dependencies \r\n      processBusinessRules(event) // processing event with business rules\r\n      aRepository.save(event)\r\n    }\r\n\r\nWe are facing a case when our kafka listener polls about 30 messages, with both A and B instances. The handling of A fail due to OptimisticFailureException (a bug which we have now identified) but B are not processed. It seems that the thread stops just after 1 failure and do not retries the processEvent method. The poll is only processed again thanks to the Kafka listener, which could be great with other case of error (like network issues), but not in our case of Optimistic Failure\r\n\r\nWhat are we missing ? \r\n\r\nOur goal would be to retry the processEvent method and not discarding the following events","title":"java spring retryable not working as expected","body":"<p>I'm working on an  spring boot app configure like this :</p>\n<pre><code>@SpringBootApplication\n@EnableRetry\npublic class SpringBootApp {\n  public static void main(String[] args) {\n    SpringApplication.run(SpringBootApp.class, args);\n  }\n}\n</code></pre>\n<p>I've a Kafka listener hooked up to a topic which can have 5 different schemas. To handle this (it might be the wrong way, I'm open to suggestion on this part) we are doing this :</p>\n<pre><code>private void fillEvents(ConsumerRecords&lt;Key, SpecificRecord&gt; events) {\n    events.forEach(event -&gt; {\n        SpecificRecord value = event.value();\n        if (value instanceof A a) {\n            aEvents.add(a);\n        } else if (value instanceof B b){\n            bEvents.add(b)\n        }\n        ....\n   });\n</code></pre>\n<p>and in the main  listener :</p>\n<pre><code>@KafkaListener(topics = &quot;topicName&quot;, groupId = &quot;myApp&quot;, containerFactory = &quot;listenerFactory&quot;)\npublic void receive(ConsumerRecords&lt;Key, SpecificRecord&gt; events) {\n    Splitter splitter = new Splitter(events); //doing the fillEvents(..) from above\n    aService.handleEvents(splitter.getAEvents());\n    bService.handleEvents(splitter.getBEvents());\n    ... \n}\n</code></pre>\n<p>In each service we can have other processes (like file's integration or API's calls) that might modify the same resources we want to in our kafka listener. We have a MongoDB database so we are handling the persistence with a classic spring data layer : save(entity). But to avoid failure due to multiple access we are doing this (in each service) :</p>\n<pre><code>...\npublic void handleEvents(List&lt;A&gt; events) {\n    events.forEach(event -&gt; processEvent(event));\n}\n\n@Retryable(value = {OptimisticLockingFailureException.class, DuplicateKeyException.class, MongoCommandException.class},\n        maxAttempts = 100,\n        backoff = @Backoff(random = true, delay = 200, maxDelay = 5000, multiplier = 2))\npublic void processEvent(A event) {\n  refresh() // in case of failure (from retryable) we are refreshing dependencies \n  processBusinessRules(event) // processing event with business rules\n  aRepository.save(event)\n}\n</code></pre>\n<p>We are facing a case when our kafka listener polls about 30 messages, with both A and B instances. The handling of A fail due to OptimisticFailureException (a bug which we have now identified) but B are not processed. It seems that the thread stops just after 1 failure and do not retries the processEvent method. The poll is only processed again thanks to the Kafka listener, which could be great with other case of error (like network issues), but not in our case of Optimistic Failure</p>\n<p>What are we missing ?</p>\n<p>Our goal would be to retry the processEvent method and not discarding the following events</p>\n"},{"tags":["java","android","stack"],"answers":[{"tags":[],"owner":{"account_id":25288575,"reputation":584,"user_id":19115089,"display_name":"Lucas.K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666349650,"creation_date":1666349650,"answer_id":74152596,"question_id":74152371,"body_markdown":"Try to set `FLAG_ACTIVITY_CLEAR_TOP`for the intent before calling startActivity. This should clear the stack.\r\n\r\n`intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);`\r\n\r\nhttps://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_CLEAR_TOP","title":"Android activity stack button go back","body":"<p>Try to set <code>FLAG_ACTIVITY_CLEAR_TOP</code>for the intent before calling startActivity. This should clear the stack.</p>\n<p><code>intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);</code></p>\n<p><a href=\"https://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_CLEAR_TOP\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_CLEAR_TOP</a></p>\n"}],"owner":{"account_id":24883506,"reputation":1,"user_id":18756435,"display_name":"Deba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666349650,"creation_date":1666348587,"question_id":74152371,"body_markdown":"I have a problem, my app has 3 activities:\r\nHome activity &gt;  Activity 1 &gt; Activity 2\r\nwhen I go to activity 2 and back to home activity with my back buttons all activities I been to stay in stack so if I use back button on the lower nav menu it takes me to all activities I have been to and I want it just to go back to parent activity but if i use \r\n\r\n`android:noHistory:&quot;true&quot;;`\r\nor\r\n`finish()`\r\n\r\nit makes my activity close the app when i go back\r\n\r\nthis is code for the back button:\r\n\r\n    button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    Intent intent = new Intent(InstitutionActivity.this, HomeActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n\r\n`","title":"Android activity stack button go back","body":"<p>I have a problem, my app has 3 activities:\nHome activity &gt;  Activity 1 &gt; Activity 2\nwhen I go to activity 2 and back to home activity with my back buttons all activities I been to stay in stack so if I use back button on the lower nav menu it takes me to all activities I have been to and I want it just to go back to parent activity but if i use</p>\n<p><code>android:noHistory:&quot;true&quot;;</code>\nor\n<code>finish()</code></p>\n<p>it makes my activity close the app when i go back</p>\n<p>this is code for the back button:</p>\n<pre><code>button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                Intent intent = new Intent(InstitutionActivity.this, HomeActivity.class);\n                startActivity(intent);\n            }\n        });\n</code></pre>\n<p>`</p>\n"},{"tags":["java","optimization","jvm","compiler-optimization"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1666338462,"post_id":74145828,"comment_id":130917785,"body_markdown":"[Is JVM or JIT able to reduce duplicate method calls?](https://stackoverflow.com/q/74106557/2711488) has been asked just a few days ago. But don’t worry, `validation()` is only invoked twice in the exceptional case, which might not be performance relevant at all. Instead, you should ask yourself the real question: is the suggested refactoring that requires the caller to invoke `hasErrors()` instead of throwing exceptions directly, really a good idea? Offering the possibility to ignore errors and continue, leads to exactly that, ignoring errors. How often do you check `System.out.checkError()`?","body":"<a href=\"https://stackoverflow.com/q/74106557/2711488\">Is JVM or JIT able to reduce duplicate method calls?</a> has been asked just a few days ago. But don’t worry, <code>validation()</code> is only invoked twice in the exceptional case, which might not be performance relevant at all. Instead, you should ask yourself the real question: is the suggested refactoring that requires the caller to invoke <code>hasErrors()</code> instead of throwing exceptions directly, really a good idea? Offering the possibility to ignore errors and continue, leads to exactly that, ignoring errors. How often do you check <code>System.out.checkError()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":23265029,"reputation":128,"user_id":17350710,"display_name":"Ahmad Mtera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666349397,"creation_date":1666297996,"answer_id":74146026,"question_id":74145828,"body_markdown":"The Java to Bytecode compiler has a limited set of optimization techniques (e.g. 9*9 in the condition would turn into 81).\r\n\r\nThe real optimization happens by the JIT (Just In Time) compiler. This compiler is the result of over a decade and a half of extensive research and there is no simple answer to tell what it is capable of in every scenario.\r\n\r\nWith that being said, as a good practice, I always handle repetitive identical method calls by storing their result before approaching any loop structure where that result is needed. Example:\r\n\r\n    int[] grades = new int[500];\r\n    int countOfGrades = arr.length;\r\n    for (int i = 0; i &lt; countOfGrades; i++) {\r\n        // Some code here\r\n    }\r\n\r\nFor your code (which is only run twice), you shouldn&#39;t worry as much about such optimization. But if you&#39;re looking for the ultimate – guaranteed – optimization on the account of a fraction of space (which is cheap), then you&#39;re better off using a variable to store any **identical** method result when needed more than once:\r\n\r\n    var validation = validation();\r\n    if (validation.hasErrors()) \r\n        throw new IllegalArgumentException(validation.errorMessage());","title":"Calling method twice in same block. Why?","body":"<p>The Java to Bytecode compiler has a limited set of optimization techniques (e.g. 9*9 in the condition would turn into 81).</p>\n<p>The real optimization happens by the JIT (Just In Time) compiler. This compiler is the result of over a decade and a half of extensive research and there is no simple answer to tell what it is capable of in every scenario.</p>\n<p>With that being said, as a good practice, I always handle repetitive identical method calls by storing their result before approaching any loop structure where that result is needed. Example:</p>\n<pre><code>int[] grades = new int[500];\nint countOfGrades = arr.length;\nfor (int i = 0; i &lt; countOfGrades; i++) {\n    // Some code here\n}\n</code></pre>\n<p>For your code (which is only run twice), you shouldn't worry as much about such optimization. But if you're looking for the ultimate – guaranteed – optimization on the account of a fraction of space (which is cheap), then you're better off using a variable to store any <strong>identical</strong> method result when needed more than once:</p>\n<pre><code>var validation = validation();\nif (validation.hasErrors()) \n    throw new IllegalArgumentException(validation.errorMessage());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1887489,"reputation":8619,"user_id":4811873,"accept_rate":6,"display_name":"Mike Robinson"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1666299339,"creation_date":1666299339,"answer_id":74146226,"question_id":74145828,"body_markdown":"However, I must simply question ... *&quot;these days,&quot;* does it even actually **matter** anymore?  Simply write the source-code &quot;in the most obvious manner available,&quot; as the original programmer certainly did.\r\n\r\n&quot;Microseconds&quot; really don&#39;t matter anymore.  But, **&quot;clarity** still does.&quot;  To me, the first version of the code is frankly more ***understandable*** than the second, and &quot;that&#39;s what matters to me most.&quot;  Please don&#39;t bother to try to *&quot;out-smart&quot;* the compiler, if it results in source-code that is in any way harder to understand.","title":"Calling method twice in same block. Why?","body":"<p>However, I must simply question ... <em>&quot;these days,&quot;</em> does it even actually <strong>matter</strong> anymore?  Simply write the source-code &quot;in the most obvious manner available,&quot; as the original programmer certainly did.</p>\n<p>&quot;Microseconds&quot; really don't matter anymore.  But, <strong>&quot;clarity</strong> still does.&quot;  To me, the first version of the code is frankly more <em><strong>understandable</strong></em> than the second, and &quot;that's what matters to me most.&quot;  Please don't bother to try to <em>&quot;out-smart&quot;</em> the compiler, if it results in source-code that is in any way harder to understand.</p>\n"},{"tags":[],"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1666299568,"creation_date":1666299568,"answer_id":74146260,"question_id":74145828,"body_markdown":"The validation method will be called twice, and it will do the same work each time. First, the method is relatively big, and so it won&#39;t get inlined. Without being inlined, the compiler doesn&#39;t know what it does. Therefore, it safely assumes that the method has side effects, and so it cannot optimize away the second call.\r\n\r\nEven if the method was inlined, and the compiler could examine it, it would see that there are in fact side effects. Calling LocalDate.now() returns a different result each time. For this reason, the code that you linked to is defective, although it&#39;s not likely to experience a problem in practice.\r\n\r\nIt&#39;s safer to capture the validation result in a local variable not for performance reasons, but for stability reasons. Imagine the odd case in which the initial validation call fails, but the second call passes. You&#39;d then throw an exception with no message in it.","title":"Calling method twice in same block. Why?","body":"<p>The validation method will be called twice, and it will do the same work each time. First, the method is relatively big, and so it won't get inlined. Without being inlined, the compiler doesn't know what it does. Therefore, it safely assumes that the method has side effects, and so it cannot optimize away the second call.</p>\n<p>Even if the method was inlined, and the compiler could examine it, it would see that there are in fact side effects. Calling LocalDate.now() returns a different result each time. For this reason, the code that you linked to is defective, although it's not likely to experience a problem in practice.</p>\n<p>It's safer to capture the validation result in a local variable not for performance reasons, but for stability reasons. Imagine the odd case in which the initial validation call fails, but the second call passes. You'd then throw an exception with no message in it.</p>\n"}],"owner":{"account_id":11407057,"reputation":387,"user_id":8362224,"display_name":"LagSurfer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":74146260,"answer_count":3,"score":2,"last_activity_date":1666349397,"creation_date":1666296834,"question_id":74145828,"body_markdown":"I&#39;m reading a blog post and trying to understand what&#39;s going on. \r\n[This is the blogpost.][1]\r\n\r\n\r\n  [1]: https://martinfowler.com/articles/replaceThrowWithNotification.html\r\nit has this code:\r\n\r\n    if (validation().hasErrors()) \r\n          throw new IllegalArgumentException(validation().errorMessage());\r\n\r\nIn the validation() method we have some object initialization and calculations so let&#39; say it&#39;s an expensive call. Is it going to be executed twice? Or will it be optimized by the compiler to be something like this? \r\n\r\n    var validation = validation();\r\n    if (validation.hasErrors()) \r\n        throw new IllegalArgumentException(validation.errorMessage());\r\n\r\nThanks! \r\n\r\n","title":"Calling method twice in same block. Why?","body":"<p>I'm reading a blog post and trying to understand what's going on.\n<a href=\"https://martinfowler.com/articles/replaceThrowWithNotification.html\" rel=\"nofollow noreferrer\">This is the blogpost.</a></p>\n<p>it has this code:</p>\n<pre><code>if (validation().hasErrors()) \n      throw new IllegalArgumentException(validation().errorMessage());\n</code></pre>\n<p>In the validation() method we have some object initialization and calculations so let' say it's an expensive call. Is it going to be executed twice? Or will it be optimized by the compiler to be something like this?</p>\n<pre><code>var validation = validation();\nif (validation.hasErrors()) \n    throw new IllegalArgumentException(validation.errorMessage());\n</code></pre>\n<p>Thanks!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9050,"page":942,"page_size":100}
