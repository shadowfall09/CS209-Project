{"items":[{"tags":["java","datetime","java-time","localdate"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1668014499,"post_id":74378826,"comment_id":131306879,"body_markdown":"How about not converting back to local date at the end?","body":"How about not converting back to local date at the end?"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668015730,"post_id":74378826,"comment_id":131307336,"body_markdown":"This makes absolutely no sense, because time **atStartOfDay** is always 00:00:00.","body":"This makes absolutely no sense, because time <b>atStartOfDay</b> is always 00:00:00."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668015850,"post_id":74378826,"comment_id":131307383,"body_markdown":"@ChristophDahlen No, not in a zoned date-time. Some days on some dates in some zones start at another time such as 01:00:00.","body":"@ChristophDahlen No, not in a zoned date-time. Some days on some dates in some zones start at another time such as 01:00:00."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668016042,"post_id":74378826,"comment_id":131307461,"body_markdown":"But not from a &quot;local&quot; perspektive, isn&#39;t it?","body":"But not from a &quot;local&quot; perspektive, isn&#39;t it?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668016052,"post_id":74378826,"comment_id":131307467,"body_markdown":"Append to your expression: `.atTime(LocalTime.MIDNIGHT)`. Yields a `LocalDateTime`, that is with time of day. Only as Basil Bourque said, it will in some cases give you a time that isn’t valid for your time zone.","body":"Append to your expression: <code>.atTime(LocalTime.MIDNIGHT)</code>. Yields a <code>LocalDateTime</code>, that is with time of day. Only as Basil Bourque said, it will in some cases give you a time that isn’t valid for your time zone."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1668016911,"post_id":74378826,"comment_id":131307776,"body_markdown":"Are you trying to go back 8 days, or go back to previous Monday?","body":"Are you trying to go back 8 days, or go back to previous Monday?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668017648,"post_id":74378826,"comment_id":131308039,"body_markdown":"— or go back to the start of the previous week? Not everywhere in the world does the week begin on Monday.","body":"— or go back to the start of the previous week? Not everywhere in the world does the week begin on Monday."}],"answers":[{"tags":[],"owner":{"account_id":26863921,"reputation":43,"user_id":20446959,"display_name":"Arkady Dymkov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668014236,"creation_date":1668014236,"answer_id":74378868,"question_id":74378826,"body_markdown":"    @DateTimeFormat(&quot;HH:MM:SS&quot;)\r\n    @JsonFormat(&quot;HH:MM:SS&quot;)","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<pre><code>@DateTimeFormat(&quot;HH:MM:SS&quot;)\n@JsonFormat(&quot;HH:MM:SS&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668014281,"creation_date":1668014281,"answer_id":74378877,"question_id":74378826,"body_markdown":"What you want is a LocalDateTime, which is a LocalDate with a time component (including timezone).\r\n\r\nLocalDate does as it says on the tin, it gives you a date, not a date and time.","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<p>What you want is a LocalDateTime, which is a LocalDate with a time component (including timezone).</p>\n<p>LocalDate does as it says on the tin, it gives you a date, not a date and time.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668028363,"creation_date":1668015265,"answer_id":74379096,"question_id":74378826,"body_markdown":"# tl;dr\r\n\r\n    LocalDate                                   // Represents a date only, without a time of day, without a time zone or offset. \r\n    .now( ZoneId.of( &quot;Asia/Amman&quot; ) )           // Returns a `LocalDate`. \r\n    .minusDays( 8 )                             // Returns another `LocalDate` object. \r\n    .atStartOfDay( ZoneId.of( &quot;Asia/Amman&quot; ) )  // Returns a `ZonedDateTime`. \r\n    .toString()                                 // Returns a `String` object, with text in standard ISO 8601 format wisely extended to append the name of time zone in brackets. \r\n\r\nSee this code [run at Ideone.com][1]. Notice that on that date in that zone, the day began at 01:00, *not* 00:00. \r\n\r\n&gt; 2022-02-22T01:00+03:00[Asia/Amman]\r\n\r\n# No “format” involved \r\n\r\nDate-time objects do not have a “format”. Text has a format. Date-time objects are not text. \r\n\r\n# `LocalDate` has no time of day\r\n\r\nYou said:\r\n\r\n&gt; add HH:MM:SS format to [a `LocalDate` object]\r\n\r\nA `LocalDate` represents a date only, without a time of day, without a time zone or offset.\r\n\r\n# `ZonedDateTime`\r\n\r\nApparently you want the first moment of the day eight days ago as seen in your locality. \r\n\r\nFirst, specify your desired/expected time zone. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\r\n\r\nOr use your JVM‘s current default time zone. \r\n\r\n    ZoneId z = ZoneId.systemDefault() ; \r\n\r\nCapture the current date as seen in that zone. \r\n\r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\nGo back eight days. \r\n\r\n    LocalDate eightDaysAgo = today.minusDays( 8 ) ;\r\n\r\nIf you meant to go back to the previous Monday, use a `TemporalAdjuster`. \r\n\r\n    LocalDate previousMonday = today.with( TemporalAdjusters.previous( DayOfWeek.MONDAY ) ) ;\r\n\r\nGet the first moment of that day. Pass your time zone. \r\n\r\n    ZonedDateTime zdt = eightDaysAgo.atStartOfDay( z ) ;\r\n\r\nThe time-of-day *may* be 00:00:00, but not necessarily. Some days on some dates in some zones start at another time such as 01:00:00. \r\n\r\n\r\nAll of this has been covered many times already on Stack Overflow. Search to learn more. \r\n\r\n  [1]: https://ideone.com/y3JnxS","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<h1>tl;dr</h1>\n<pre><code>LocalDate                                   // Represents a date only, without a time of day, without a time zone or offset. \n.now( ZoneId.of( &quot;Asia/Amman&quot; ) )           // Returns a `LocalDate`. \n.minusDays( 8 )                             // Returns another `LocalDate` object. \n.atStartOfDay( ZoneId.of( &quot;Asia/Amman&quot; ) )  // Returns a `ZonedDateTime`. \n.toString()                                 // Returns a `String` object, with text in standard ISO 8601 format wisely extended to append the name of time zone in brackets. \n</code></pre>\n<p>See this code <a href=\"https://ideone.com/y3JnxS\" rel=\"nofollow noreferrer\">run at Ideone.com</a>. Notice that on that date in that zone, the day began at 01:00, <em>not</em> 00:00.</p>\n<blockquote>\n<p>2022-02-22T01:00+03:00[Asia/Amman]</p>\n</blockquote>\n<h1>No “format” involved</h1>\n<p>Date-time objects do not have a “format”. Text has a format. Date-time objects are not text.</p>\n<h1><code>LocalDate</code> has no time of day</h1>\n<p>You said:</p>\n<blockquote>\n<p>add HH:MM:SS format to [a <code>LocalDate</code> object]</p>\n</blockquote>\n<p>A <code>LocalDate</code> represents a date only, without a time of day, without a time zone or offset.</p>\n<h1><code>ZonedDateTime</code></h1>\n<p>Apparently you want the first moment of the day eight days ago as seen in your locality.</p>\n<p>First, specify your desired/expected time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\n</code></pre>\n<p>Or use your JVM‘s current default time zone.</p>\n<pre><code>ZoneId z = ZoneId.systemDefault() ; \n</code></pre>\n<p>Capture the current date as seen in that zone.</p>\n<pre><code>LocalDate today = LocalDate.now( z ) ;\n</code></pre>\n<p>Go back eight days.</p>\n<pre><code>LocalDate eightDaysAgo = today.minusDays( 8 ) ;\n</code></pre>\n<p>If you meant to go back to the previous Monday, use a <code>TemporalAdjuster</code>.</p>\n<pre><code>LocalDate previousMonday = today.with( TemporalAdjusters.previous( DayOfWeek.MONDAY ) ) ;\n</code></pre>\n<p>Get the first moment of that day. Pass your time zone.</p>\n<pre><code>ZonedDateTime zdt = eightDaysAgo.atStartOfDay( z ) ;\n</code></pre>\n<p>The time-of-day <em>may</em> be 00:00:00, but not necessarily. Some days on some dates in some zones start at another time such as 01:00:00.</p>\n<p>All of this has been covered many times already on Stack Overflow. Search to learn more.</p>\n"},{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668016133,"creation_date":1668016133,"answer_id":74379269,"question_id":74378826,"body_markdown":"```java\r\nLocalDateTime\r\n .of(LocalDate.now().with(ChronoField.DAY_OF_WEEK, 1), LocalTime.MIDNIGHT)\r\n .minusWeeks(1)\r\n```\r\n\r\nGives you start of last week at midnight (local time).\r\n","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime\n .of(LocalDate.now().with(ChronoField.DAY_OF_WEEK, 1), LocalTime.MIDNIGHT)\n .minusWeeks(1)\n</code></pre>\n<p>Gives you start of last week at midnight (local time).</p>\n"}],"owner":{"account_id":26817038,"reputation":7,"user_id":20406891,"display_name":"sgsg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1668028363,"creation_date":1668014072,"question_id":74378826,"body_markdown":"```\r\nLocalDate beginDate = LocalDate.now()\r\n        .with(ChronoField.DAY_OF_WEEK, 1)\r\n        .atStartOfDay()\r\n        .minusDays(8)\r\n        .toLocalDate();\r\n```\r\n\r\nI am getting the previous week begin date using the above code line. However I want to add HH:MM:SS format to this. I have tried different ways to get this. Tried using LocalDateTime instead of Localdate. But could not find ```atStartOfDay()``` method for LocalDateTime. Help me to add HH:MM:SS to ```beginDate``` variable\r\n","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<pre><code>LocalDate beginDate = LocalDate.now()\n        .with(ChronoField.DAY_OF_WEEK, 1)\n        .atStartOfDay()\n        .minusDays(8)\n        .toLocalDate();\n</code></pre>\n<p>I am getting the previous week begin date using the above code line. However I want to add HH:MM:SS format to this. I have tried different ways to get this. Tried using LocalDateTime instead of Localdate. But could not find <code>atStartOfDay()</code> method for LocalDateTime. Help me to add HH:MM:SS to <code>beginDate</code> variable</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"score":0,"creation_date":1410444724,"post_id":25789176,"comment_id":40335672,"body_markdown":"i assume this is a bug in hibernate : https://hibernate.atlassian.net/browse/HHH-9111","body":"i assume this is a bug in hibernate : <a href=\"https://hibernate.atlassian.net/browse/HHH-9111\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-9111</a>"},{"owner":{"account_id":197413,"reputation":2603,"user_id":441478,"accept_rate":86,"display_name":"MikePatel"},"score":0,"creation_date":1412761729,"post_id":25789176,"comment_id":41184047,"body_markdown":"hibernate.atlassian.net down for me ( its always down :( ). Mind pasting the information ?","body":"hibernate.atlassian.net down for me ( its always down :( ). Mind pasting the information ?"},{"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"score":0,"creation_date":1412836533,"post_id":25789176,"comment_id":41217412,"body_markdown":"it works now. if not i can paste content here","body":"it works now. if not i can paste content here"},{"owner":{"account_id":197413,"reputation":2603,"user_id":441478,"accept_rate":86,"display_name":"MikePatel"},"score":0,"creation_date":1412849376,"post_id":25789176,"comment_id":41224137,"body_markdown":"Yeah I saw, we had to rewrite our queries to be named. Did you manage another solution ?","body":"Yeah I saw, we had to rewrite our queries to be named. Did you manage another solution ?"},{"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"score":0,"creation_date":1412852095,"post_id":25789176,"comment_id":41225616,"body_markdown":"For me the result set was quite low and we had more than enough memory. So used maps to manage the cache","body":"For me the result set was quite low and we had more than enough memory. So used maps to manage the cache"},{"owner":{"account_id":3088591,"reputation":464,"user_id":2615253,"accept_rate":75,"display_name":"Kunal"},"score":0,"creation_date":1477318666,"post_id":25789176,"comment_id":67704789,"body_markdown":"@dinesh707  can please tell me, how it is working? what changes you did? I have facing the same issue. Please revert back","body":"@dinesh707  can please tell me, how it is working? what changes you did? I have facing the same issue. Please revert back"},{"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"score":0,"creation_date":1478075474,"post_id":25789176,"comment_id":68003305,"body_markdown":"@Kunal we just disabled caching (as shown in code above we are not suing it any more). Instead of caching it in hibernate layer we manually cache it in a LRU map.","body":"@Kunal we just disabled caching (as shown in code above we are not suing it any more). Instead of caching it in hibernate layer we manually cache it in a LRU map."}],"answers":[{"tags":[],"owner":{"account_id":2839356,"reputation":2154,"user_id":2439249,"display_name":"ozeray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435320588,"creation_date":1435320588,"answer_id":31072851,"question_id":25789176,"body_markdown":"I think this happens when the queried table does not have a primary key.","title":"Aliases expected length is 0; actual length is 1 on hibernate query cache","body":"<p>I think this happens when the queried table does not have a primary key.</p>\n"},{"tags":[],"owner":{"account_id":19422105,"reputation":11,"user_id":14204424,"display_name":"nrd_000002"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668027890,"creation_date":1598984155,"answer_id":63693277,"question_id":25789176,"body_markdown":"So, this happened to me too and after searching / researching a possible solution I&#39;ve\r\ndecided to give up, but after a very long debug session (not Session.class) I stumbled\r\nupon a solution. \r\n\r\nAnd so... The environment\r\n\r\n&gt; hibernate-core 5.3.0.Final\r\n&gt; \r\n&gt; Wildfly 20.0.1 Final\r\n&gt; \r\n&gt; Java 11\r\n&gt;\r\n&gt; PostgreSql 9.4 ? (don&#39;t know the exact version, sorry)\r\n&gt;\r\n&gt; Infinispan for caching\r\n&gt;\r\n\r\nSo, first using \r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .getResultList()\r\n\r\nI received an error similar to this\r\n\r\n&gt; aliases expected length is 0; actual length is 1\r\n\r\nbut, of course, with different numbers (instead of 0 and 1)\r\n\r\n\r\nNote: my native sql was like this\r\n\r\n&gt; select a.date as mydate, a.id as myid, a.test as mytest from mytable a where date = ?0\r\n\r\nAnd so, something smelly hit the fan...\r\n\r\nTried this \r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .unwrap(NativeQuery.class)\r\n                .addSynchronizedQuerySpace(&quot;myQuery_space&quot;)\r\n                .getResultList()\r\n\r\nand I failed... Tried this same stuff with all addSynchronized methods available in\r\nNativeQuery.class, but each and every time hibernate was telling me to go and fun myself.\r\n\r\n\r\nThen I tried rewriting my query with HQL, but good luck with that... Rewriting all these\r\nsubselects, joins and what not in HQL was just a wishful thinking - NOT POSSIBLE (in my\r\ncase. Note that resources I have are limited).\r\n\r\nGot back to where I&#39;ve started... And changed this\r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .unwrap(NativeQuery.class)\r\n                .addSynchronizedQuerySpace(&quot;myQuery_space&quot;)\r\n                .getResultList()\r\n\r\nto \r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .unwrap(NativeQuery.class)\r\n                .addScalar(&quot;mydate&quot;)\r\n                .getResultList()\r\n\r\nand got the same error similar to\r\n\r\n&gt; aliases expected length is 0; actual length is 1\r\n\r\nAnd then I tried this\r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .unwrap(NativeQuery.class)\r\n                .addScalar(&quot;mydate&quot;, new DateType())\r\n                .getResultList()\r\n\r\nAnd BAAAAAAM finally it started working. \r\n\r\nTo sum it up it started working then I unwrapped query to NativeQuery and added scalar\r\nwith a type!!!\r\n\r\nNote if your native query does not have aliases then add them!!!\r\n\r\nRelated threads (to name a few)\r\n\r\n&gt; https://hibernate.atlassian.net/browse/HHH-9111\r\n&gt; \r\n&gt; https://stackoverflow.com/questions/40221978/hibernate-ehcache-not-working-for-sql-native-query-cache\r\n&gt; \r\n&gt; https://stackoverflow.com/questions/15595627/hibernate-query-cache-applicable-for-native-queries\r\n&gt; \r\n&gt; https://stackoverflow.com/questions/54801806/cache-jpa-native-query\r\n","title":"Aliases expected length is 0; actual length is 1 on hibernate query cache","body":"<p>So, this happened to me too and after searching / researching a possible solution I've\ndecided to give up, but after a very long debug session (not Session.class) I stumbled\nupon a solution.</p>\n<p>And so... The environment</p>\n<blockquote>\n<p>hibernate-core 5.3.0.Final</p>\n<p>Wildfly 20.0.1 Final</p>\n<p>Java 11</p>\n<p>PostgreSql 9.4 ? (don't know the exact version, sorry)</p>\n<p>Infinispan for caching</p>\n</blockquote>\n<p>So, first using</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .getResultList()\n</code></pre>\n<p>I received an error similar to this</p>\n<blockquote>\n<p>aliases expected length is 0; actual length is 1</p>\n</blockquote>\n<p>but, of course, with different numbers (instead of 0 and 1)</p>\n<p>Note: my native sql was like this</p>\n<blockquote>\n<p>select a.date as mydate, a.id as myid, a.test as mytest from mytable a where date = ?0</p>\n</blockquote>\n<p>And so, something smelly hit the fan...</p>\n<p>Tried this</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .unwrap(NativeQuery.class)\n            .addSynchronizedQuerySpace(&quot;myQuery_space&quot;)\n            .getResultList()\n</code></pre>\n<p>and I failed... Tried this same stuff with all addSynchronized methods available in\nNativeQuery.class, but each and every time hibernate was telling me to go and fun myself.</p>\n<p>Then I tried rewriting my query with HQL, but good luck with that... Rewriting all these\nsubselects, joins and what not in HQL was just a wishful thinking - NOT POSSIBLE (in my\ncase. Note that resources I have are limited).</p>\n<p>Got back to where I've started... And changed this</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .unwrap(NativeQuery.class)\n            .addSynchronizedQuerySpace(&quot;myQuery_space&quot;)\n            .getResultList()\n</code></pre>\n<p>to</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .unwrap(NativeQuery.class)\n            .addScalar(&quot;mydate&quot;)\n            .getResultList()\n</code></pre>\n<p>and got the same error similar to</p>\n<blockquote>\n<p>aliases expected length is 0; actual length is 1</p>\n</blockquote>\n<p>And then I tried this</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .unwrap(NativeQuery.class)\n            .addScalar(&quot;mydate&quot;, new DateType())\n            .getResultList()\n</code></pre>\n<p>And BAAAAAAM finally it started working.</p>\n<p>To sum it up it started working then I unwrapped query to NativeQuery and added scalar\nwith a type!!!</p>\n<p>Note if your native query does not have aliases then add them!!!</p>\n<p>Related threads (to name a few)</p>\n<blockquote>\n<p><a href=\"https://hibernate.atlassian.net/browse/HHH-9111\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-9111</a></p>\n<p><a href=\"https://stackoverflow.com/questions/40221978/hibernate-ehcache-not-working-for-sql-native-query-cache\">Hibernate Ehcache NOT working for SQL Native query cache</a></p>\n<p><a href=\"https://stackoverflow.com/questions/15595627/hibernate-query-cache-applicable-for-native-queries\">Hibernate query cache applicable for native queries?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/54801806/cache-jpa-native-query\">Cache JPA Native Query</a></p>\n</blockquote>\n"}],"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4680,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1668027890,"creation_date":1410443300,"question_id":25789176,"body_markdown":"    String q1Str = &quot;SELECT parent_id FROM meta WHERE st_id = &quot;+childIds+&quot;;&quot;;\r\n    Query q1 = em.createNativeQuery(q1Str);\r\n    //q1.setHint(&quot;org.hibernate.cacheable&quot;, true);\r\n    Object parentId = null;\r\n    try{\r\n    parentId = q1.getSingleResult();\r\n    }catch(NoResultException nre){\r\n    \t//nope\r\n    }\r\n\r\nenabling `hibernate.cacheable` will throw me the following exception\r\n\r\n&gt; aliases expected length is 0; actual length is 1","title":"Aliases expected length is 0; actual length is 1 on hibernate query cache","body":"<pre><code>String q1Str = \"SELECT parent_id FROM meta WHERE st_id = \"+childIds+\";\";\nQuery q1 = em.createNativeQuery(q1Str);\n//q1.setHint(\"org.hibernate.cacheable\", true);\nObject parentId = null;\ntry{\nparentId = q1.getSingleResult();\n}catch(NoResultException nre){\n    //nope\n}\n</code></pre>\n\n<p>enabling <code>hibernate.cacheable</code> will throw me the following exception</p>\n\n<blockquote>\n  <p>aliases expected length is 0; actual length is 1</p>\n</blockquote>\n"},{"tags":["java","json","hibernate","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":1323466,"reputation":344,"user_id":1268786,"accept_rate":33,"display_name":"Tony B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668027539,"creation_date":1668027539,"answer_id":74381301,"question_id":74371917,"body_markdown":"Okay, after evaluating different mapping tools, and making thoughs on this topic, i could really not understand why the layer 1 test do run, but not the layer 2 test.\r\n\r\nHowever, using different mapper (orika did not work because of java 17), but using mapstruct and it&#39;s default, the result were the same, as expected.\r\n\r\nThe proper solution, which takes a slight more effort, is simply to add on one of these @ManyToMany associations the @JsonIgnore Attribute.\r\nNow, when a transfer via Rest is required, i simply added a query on Company-Repository, like this:\r\n\r\n    Set&lt;Company&gt; findCompaniesBySupplierProductsContaining(final Product product);\r\n\r\nWith this approach, i can load them for products seperatly, serialize them and add the Set of Company to the product requested.\r\n\r\n\r\nHowever, i am still curious why the 2nd Level test does not fall into this StackOverflow.\r\n\r\n","title":"Infinite recursion with Serialization Jackson on @ManyToMany - Only in relation when using Database calls","body":"<p>Okay, after evaluating different mapping tools, and making thoughs on this topic, i could really not understand why the layer 1 test do run, but not the layer 2 test.</p>\n<p>However, using different mapper (orika did not work because of java 17), but using mapstruct and it's default, the result were the same, as expected.</p>\n<p>The proper solution, which takes a slight more effort, is simply to add on one of these @ManyToMany associations the @JsonIgnore Attribute.\nNow, when a transfer via Rest is required, i simply added a query on Company-Repository, like this:</p>\n<pre><code>Set&lt;Company&gt; findCompaniesBySupplierProductsContaining(final Product product);\n</code></pre>\n<p>With this approach, i can load them for products seperatly, serialize them and add the Set of Company to the product requested.</p>\n<p>However, i am still curious why the 2nd Level test does not fall into this StackOverflow.</p>\n"}],"owner":{"account_id":1323466,"reputation":344,"user_id":1268786,"accept_rate":33,"display_name":"Tony B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668027539,"creation_date":1667982900,"question_id":74371917,"body_markdown":"currently i am working on a project, where i use EntityBeans (Hibernate) for Database Access and using Jackson ObjectMapper for Mapping those Objects to Pojo for UI. \r\n\r\nTo test those mappings and the results, i am writing for each layer several test:\r\n\r\n 1. Layer 0 Test: Simple conversion (okay)\r\n 2. Layer 1 Test: Conversion of the Structure, where objects having\r\n    relations (okay)\r\n 3. Layer 2 Test: Same as Layer 1, but this time with persistence - here\r\n    the error occurs.\r\n 4. Layer 3 Test: (at this point irrelevant)\r\n\r\nAs a solution, I did not want to use @JsonBackreference and @JsonManagedReference on the @ManyToMany Relations, i need those infos on both objects. For the @ManyToOne and @OneToMany relation no problem occurs.\r\n\r\nOne solution would maybe write a custom converter, but i want to understand the problem here.\r\n\r\nThe Structure is as follows:\r\n\r\nProduct-Class\r\n\r\n    @Entity\r\n    @JsonIdentityInfo(\r\n    \t\tgenerator = ObjectIdGenerators.PropertyGenerator.class,\r\n    \t\tproperty = &quot;id&quot;, scope = Company.class)\r\n    public class Product extends ProductBase {\r\n    \r\n    // some more unrelated\r\n    \t@Getter\r\n    \t@Setter\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;fk_manufacturer&quot;)\r\n    \tprivate Company manufacturer;\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \t@ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;supplierProducts&quot;)\r\n    \tprivate Set&lt;Company&gt; supplier = new HashSet&lt;&gt;();\r\n    // .. some more unrelated\r\n    }\r\n\r\nPojo-Class\r\n\r\n    @JsonIdentityInfo(\r\n    \t\tgenerator = ObjectIdGenerators.PropertyGenerator.class,\r\n    \t\tproperty = &quot;id&quot;, scope = Company.class)\r\n    public class ProductPojo extends ProductBase {\r\n    \r\n    //.. some unrelated stuff\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \tprivate CompanyPojo manufacturer;\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \tprivate Set&lt;CompanyPojo&gt; supplier = new HashSet&lt;&gt;();\r\n    \r\n    \r\n    //.. more..\r\n    \r\n    }\r\n\r\n\r\nOn the Company Object we have:\r\n\r\n    @Entity\r\n    @JsonIdentityInfo(\r\n    \t\tgenerator = ObjectIdGenerators.PropertyGenerator.class,\r\n    \t\tproperty = &quot;id&quot;, scope = Product.class)\r\n    public class Company extends CompanyBase {\r\n    // .. other fields\r\n    \t@Getter\r\n    \t@Setter\r\n    \t@Column\r\n    \t@OneToMany(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;fk_product_manufacturer&quot;)\r\n    \tprivate Set&lt;Product&gt; manufacturerProducts = new HashSet&lt;&gt;();\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \t@Column\r\n    \t@ManyToMany(fetch = FetchType.LAZY)\r\n    \t@JoinTable(name = &quot;supplier_products&quot;,\r\n    \t\t\tjoinColumns = {@JoinColumn(name = &quot;fk_company_id&quot;)},\r\n    \t\t\tinverseJoinColumns = {@JoinColumn(name = &quot;fk_product_id&quot;)})\r\n    \tprivate Set&lt;Product&gt; supplierProducts = new HashSet&lt;&gt;();\r\n    // .. other fields\r\n    }\r\n\r\nand it&#39;s counter-part:\r\n\r\n    @JsonIdentityInfo(\r\n    \t\tgenerator = ObjectIdGenerators.PropertyGenerator.class,\r\n    \t\tproperty = &quot;id&quot;, scope = Company.class)\r\n    public class CompanyPojo extends CompanyBase {\r\n    //.. code\r\n    \t@Getter\r\n    \t@Setter\r\n    \tprivate Set&lt;ProductPojo&gt; manufacturerProducts = new HashSet&lt;&gt;();\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \tprivate Set&lt;ProductPojo&gt; supplierProducts = new HashSet&lt;&gt;();\r\n    //.. as usual, some more code...\r\n    }\r\n\r\nEvaluation of the debugger shows this:\r\n\r\nDebuger-Eval without DB-Access and successfully converting objects:\r\n\r\n[![Working conversion: Converting solely on Objects itself, without db access (Product and ProductPojo is shown)][1]][1]\r\n\r\nDebuger-Eval with DB-Access and failing converting objects: \r\n\r\n[![Fail conversion: Converting with / after DB Access (Product is shown)][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QEBsi.png\r\n  [2]: https://i.stack.imgur.com/Ha6iJ.png\r\n\r\n\r\nLast but not least, the error message:\r\n\r\n    java.lang.IllegalArgumentException: Infinite recursion (StackOverflowError) (through reference chain: de.bloise.data.persistence.unities.Company[&quot;supplierProducts&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;de.bloise.data.persistence.product.Product[&quot;supplier&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;de.bloise.data.persistence.unities.Company[&quot;supplierProducts&quot;]-&gt;.....\r\n\r\n\r\nI have no idea and i don&#39;t see any difference between those objects. It would be easier to understand if both would fail to convert.","title":"Infinite recursion with Serialization Jackson on @ManyToMany - Only in relation when using Database calls","body":"<p>currently i am working on a project, where i use EntityBeans (Hibernate) for Database Access and using Jackson ObjectMapper for Mapping those Objects to Pojo for UI.</p>\n<p>To test those mappings and the results, i am writing for each layer several test:</p>\n<ol>\n<li>Layer 0 Test: Simple conversion (okay)</li>\n<li>Layer 1 Test: Conversion of the Structure, where objects having\nrelations (okay)</li>\n<li>Layer 2 Test: Same as Layer 1, but this time with persistence - here\nthe error occurs.</li>\n<li>Layer 3 Test: (at this point irrelevant)</li>\n</ol>\n<p>As a solution, I did not want to use @JsonBackreference and @JsonManagedReference on the @ManyToMany Relations, i need those infos on both objects. For the @ManyToOne and @OneToMany relation no problem occurs.</p>\n<p>One solution would maybe write a custom converter, but i want to understand the problem here.</p>\n<p>The Structure is as follows:</p>\n<p>Product-Class</p>\n<pre><code>@Entity\n@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;, scope = Company.class)\npublic class Product extends ProductBase {\n\n// some more unrelated\n    @Getter\n    @Setter\n    @ManyToOne\n    @JoinColumn(name = &quot;fk_manufacturer&quot;)\n    private Company manufacturer;\n\n    @Getter\n    @Setter\n    @ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;supplierProducts&quot;)\n    private Set&lt;Company&gt; supplier = new HashSet&lt;&gt;();\n// .. some more unrelated\n}\n</code></pre>\n<p>Pojo-Class</p>\n<pre><code>@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;, scope = Company.class)\npublic class ProductPojo extends ProductBase {\n\n//.. some unrelated stuff\n\n    @Getter\n    @Setter\n    private CompanyPojo manufacturer;\n\n    @Getter\n    @Setter\n    private Set&lt;CompanyPojo&gt; supplier = new HashSet&lt;&gt;();\n\n\n//.. more..\n\n}\n</code></pre>\n<p>On the Company Object we have:</p>\n<pre><code>@Entity\n@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;, scope = Product.class)\npublic class Company extends CompanyBase {\n// .. other fields\n    @Getter\n    @Setter\n    @Column\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;fk_product_manufacturer&quot;)\n    private Set&lt;Product&gt; manufacturerProducts = new HashSet&lt;&gt;();\n\n    @Getter\n    @Setter\n    @Column\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;supplier_products&quot;,\n            joinColumns = {@JoinColumn(name = &quot;fk_company_id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;fk_product_id&quot;)})\n    private Set&lt;Product&gt; supplierProducts = new HashSet&lt;&gt;();\n// .. other fields\n}\n</code></pre>\n<p>and it's counter-part:</p>\n<pre><code>@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;, scope = Company.class)\npublic class CompanyPojo extends CompanyBase {\n//.. code\n    @Getter\n    @Setter\n    private Set&lt;ProductPojo&gt; manufacturerProducts = new HashSet&lt;&gt;();\n\n    @Getter\n    @Setter\n    private Set&lt;ProductPojo&gt; supplierProducts = new HashSet&lt;&gt;();\n//.. as usual, some more code...\n}\n</code></pre>\n<p>Evaluation of the debugger shows this:</p>\n<p>Debuger-Eval without DB-Access and successfully converting objects:</p>\n<p><a href=\"https://i.stack.imgur.com/QEBsi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QEBsi.png\" alt=\"Working conversion: Converting solely on Objects itself, without db access (Product and ProductPojo is shown)\" /></a></p>\n<p>Debuger-Eval with DB-Access and failing converting objects:</p>\n<p><a href=\"https://i.stack.imgur.com/Ha6iJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ha6iJ.png\" alt=\"Fail conversion: Converting with / after DB Access (Product is shown)\" /></a></p>\n<p>Last but not least, the error message:</p>\n<pre><code>java.lang.IllegalArgumentException: Infinite recursion (StackOverflowError) (through reference chain: de.bloise.data.persistence.unities.Company[&quot;supplierProducts&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;de.bloise.data.persistence.product.Product[&quot;supplier&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;de.bloise.data.persistence.unities.Company[&quot;supplierProducts&quot;]-&gt;.....\n</code></pre>\n<p>I have no idea and i don't see any difference between those objects. It would be easier to understand if both would fail to convert.</p>\n"},{"tags":["java","heap-memory","ignite"],"answers":[{"tags":[],"owner":{"account_id":26830765,"reputation":11,"user_id":20418775,"display_name":"windy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667575003,"creation_date":1667575003,"answer_id":74319228,"question_id":74318802,"body_markdown":"Try use jmap to dump memory, and use MAT to dig if there was something like memory leak, i have met such issue when use Apache Ignite ContinuousQuery, especially when some node of the cluster restart, will cause memory leak.","title":"Apache Ignite cache heap space increases without any activity","body":"<p>Try use jmap to dump memory, and use MAT to dig if there was something like memory leak, i have met such issue when use Apache Ignite ContinuousQuery, especially when some node of the cluster restart, will cause memory leak.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668027254,"creation_date":1667573019,"question_id":74318802,"body_markdown":"We have been using Ignite 2.11 and have observed that sporadically the heap space used by all the caches can increase by a factor of 2 or 3 across all caches on both server and client nodes (in the case of near caches) without any additional entries being added across ANY of the caches.  \r\n\r\nIs this behavior normal and or is there a way to prevent it?\r\n\r\nThe added memory footprint of the client node is causing our application to got out of memory.\r\n\r\nBefore:\r\n```\r\n\r\nCache &#39;ENTRIES_CACHE(@c8)&#39;:\r\n+--------------------------------------------------------------+\r\n| Name(@)                         | ENTRIES_CACHE(@c8) |\r\n| Total entries (Heap / Off-heap) | 21 (14 / 7)                |\r\n| Nodes                           | 2                          |\r\n| Total size Min/Avg/Max          | 7 / 10.50 / 14             |\r\n|   Heap size Min/Avg/Max         | 7 / 7.00 / 7               |\r\n|   Off-heap size Min/Avg/Max     | 0 / 3.50 / 7               |\r\n+--------------------------------------------------------------+\r\n\r\nNodes for: ENTRIES_CACHE(@c8)\r\n+================================================================================================================+\r\n|     Node ID8(@), IP      | CPUs | Heap Used | CPU Load |   Up Time    | Size (Primary / Backup)  | Hi/Mi/Rd/Wr |\r\n+================================================================================================================+\r\n| 9C82B7D0(@n1), 127.0.0.1 | 16   | 22.86 %   | 0.23 %   | 04:31:12.703 | Total: 7 (7 / 0)         | Hi: 0       |\r\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\r\n|                          |      |           |          |              |   Off-Heap: 0 (0 / 0)    | Rd: 0       |\r\n|                          |      |           |          |              |   Off-Heap Memory: 0     | Wr: 0       |\r\n+--------------------------+------+-----------+----------+--------------+--------------------------+-------------+\r\n| 7116937A(@n0), 127.0.0.1 | 1    | 18.70 %   | 5.33 %   | 23:01:35.501 | Total: 14 (14 / 0)       | Hi: 0       |\r\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\r\n|                          |      |           |          |              |   Off-Heap: 7 (7 / 0)    | Rd: 0       |\r\n|                          |      |           |          |              |   Off-Heap Memory: &lt;n/a&gt; | Wr: 0       |\r\n+----------------------------------------------------------------------------------------------------------------+\r\n\r\n```\r\nAfter: \r\n```\r\nCache &#39;ENTRIES_CACHE(@c8)&#39;:\r\n+--------------------------------------------------------------+\r\n| Name(@)                         | ENTRIES_CACHE(@c8) |\r\n| Total entries (Heap / Off-heap) | 21 (14 / 7)                |\r\n| Nodes                           | 2                          |\r\n| Total size Min/Avg/Max          | 7 / 10.50 / 14             |\r\n|   Heap size Min/Avg/Max         | 7 / 7.00 / 7               |\r\n|   Off-heap size Min/Avg/Max     | 0 / 3.50 / 7               |\r\n+--------------------------------------------------------------+\r\n\r\nNodes for: ENTRIES_CACHE(@c8)\r\n+================================================================================================================+\r\n|     Node ID8(@), IP      | CPUs | Heap Used | CPU Load |   Up Time    | Size (Primary / Backup)  | Hi/Mi/Rd/Wr |\r\n+================================================================================================================+\r\n| 9C82B7D0(@n1), 127.0.0.1 | 16   | 30.79 %   | 14.73 %  | 04:36:30.703 | Total: 7 (7 / 0)         | Hi: 0       |\r\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\r\n|                          |      |           |          |              |   Off-Heap: 0 (0 / 0)    | Rd: 0       |\r\n|                          |      |           |          |              |   Off-Heap Memory: 0     | Wr: 0       |\r\n+--------------------------+------+-----------+----------+--------------+--------------------------+-------------+\r\n| 7116937A(@n0), 127.0.0.1 | 1    | 31.67 %   | 58.67 %  | 23:06:54.534 | Total: 14 (14 / 0)       | Hi: 0       |\r\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\r\n|                          |      |           |          |              |   Off-Heap: 7 (7 / 0)    | Rd: 0       |\r\n|                          |      |           |          |              |   Off-Heap Memory: &lt;n/a&gt; | Wr: 0       |\r\n+----------------------------------------------------------------------------------------------------------------+\r\n```\r\n\r\n","title":"Apache Ignite cache heap space increases without any activity","body":"<p>We have been using Ignite 2.11 and have observed that sporadically the heap space used by all the caches can increase by a factor of 2 or 3 across all caches on both server and client nodes (in the case of near caches) without any additional entries being added across ANY of the caches.</p>\n<p>Is this behavior normal and or is there a way to prevent it?</p>\n<p>The added memory footprint of the client node is causing our application to got out of memory.</p>\n<p>Before:</p>\n<pre><code>\nCache 'ENTRIES_CACHE(@c8)':\n+--------------------------------------------------------------+\n| Name(@)                         | ENTRIES_CACHE(@c8) |\n| Total entries (Heap / Off-heap) | 21 (14 / 7)                |\n| Nodes                           | 2                          |\n| Total size Min/Avg/Max          | 7 / 10.50 / 14             |\n|   Heap size Min/Avg/Max         | 7 / 7.00 / 7               |\n|   Off-heap size Min/Avg/Max     | 0 / 3.50 / 7               |\n+--------------------------------------------------------------+\n\nNodes for: ENTRIES_CACHE(@c8)\n+================================================================================================================+\n|     Node ID8(@), IP      | CPUs | Heap Used | CPU Load |   Up Time    | Size (Primary / Backup)  | Hi/Mi/Rd/Wr |\n+================================================================================================================+\n| 9C82B7D0(@n1), 127.0.0.1 | 16   | 22.86 %   | 0.23 %   | 04:31:12.703 | Total: 7 (7 / 0)         | Hi: 0       |\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\n|                          |      |           |          |              |   Off-Heap: 0 (0 / 0)    | Rd: 0       |\n|                          |      |           |          |              |   Off-Heap Memory: 0     | Wr: 0       |\n+--------------------------+------+-----------+----------+--------------+--------------------------+-------------+\n| 7116937A(@n0), 127.0.0.1 | 1    | 18.70 %   | 5.33 %   | 23:01:35.501 | Total: 14 (14 / 0)       | Hi: 0       |\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\n|                          |      |           |          |              |   Off-Heap: 7 (7 / 0)    | Rd: 0       |\n|                          |      |           |          |              |   Off-Heap Memory: &lt;n/a&gt; | Wr: 0       |\n+----------------------------------------------------------------------------------------------------------------+\n\n</code></pre>\n<p>After:</p>\n<pre><code>Cache 'ENTRIES_CACHE(@c8)':\n+--------------------------------------------------------------+\n| Name(@)                         | ENTRIES_CACHE(@c8) |\n| Total entries (Heap / Off-heap) | 21 (14 / 7)                |\n| Nodes                           | 2                          |\n| Total size Min/Avg/Max          | 7 / 10.50 / 14             |\n|   Heap size Min/Avg/Max         | 7 / 7.00 / 7               |\n|   Off-heap size Min/Avg/Max     | 0 / 3.50 / 7               |\n+--------------------------------------------------------------+\n\nNodes for: ENTRIES_CACHE(@c8)\n+================================================================================================================+\n|     Node ID8(@), IP      | CPUs | Heap Used | CPU Load |   Up Time    | Size (Primary / Backup)  | Hi/Mi/Rd/Wr |\n+================================================================================================================+\n| 9C82B7D0(@n1), 127.0.0.1 | 16   | 30.79 %   | 14.73 %  | 04:36:30.703 | Total: 7 (7 / 0)         | Hi: 0       |\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\n|                          |      |           |          |              |   Off-Heap: 0 (0 / 0)    | Rd: 0       |\n|                          |      |           |          |              |   Off-Heap Memory: 0     | Wr: 0       |\n+--------------------------+------+-----------+----------+--------------+--------------------------+-------------+\n| 7116937A(@n0), 127.0.0.1 | 1    | 31.67 %   | 58.67 %  | 23:06:54.534 | Total: 14 (14 / 0)       | Hi: 0       |\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\n|                          |      |           |          |              |   Off-Heap: 7 (7 / 0)    | Rd: 0       |\n|                          |      |           |          |              |   Off-Heap Memory: &lt;n/a&gt; | Wr: 0       |\n+----------------------------------------------------------------------------------------------------------------+\n</code></pre>\n"},{"tags":["java","sql-server","sqlexception","raiserror"],"comments":[{"owner":{"account_id":9851857,"reputation":82584,"user_id":7297700,"display_name":"David Browne - Microsoft"},"score":0,"creation_date":1591732160,"post_id":62289975,"comment_id":110166809,"body_markdown":"That looks like it should be an issue here: https://github.com/microsoft/mssql-jdbc/issues","body":"That looks like it should be an issue here: <a href=\"https://github.com/microsoft/mssql-jdbc/issues\" rel=\"nofollow noreferrer\">github.com/microsoft/mssql-jdbc/issues</a>"}],"answers":[{"tags":[],"owner":{"account_id":9816031,"reputation":51,"user_id":7272518,"display_name":"andrewtindle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591818147,"creation_date":1591818147,"answer_id":62311858,"question_id":62289975,"body_markdown":"Thank you https://stackoverflow.com/users/7297700/david-browne-microsoft \r\n\r\nI started to post the Github issue and one of the outputs they request is a JDBC trace.\r\n\r\nWhen I did this and compared the 2 trace outputs for:\r\n\r\n1. Unique Key Violation\r\n2. Divide By Zero error\r\n\r\nthe following lines were present for the Divide By Zero test case:\r\n\r\n - **Jun 10, 2020 5:28:50 PM com.microsoft.sqlserver.jdbc.SQLServerResultSet &lt;init&gt;**\r\n - **FINE: SQLServerResultSet:1 created by (SQLServerCallableStatement:1)**\r\n\r\nHaving read in another post that RAISERROR behaves differently when the SP returns a resultset (unintentionally in my case), I changed the following code in the **uspTestRE** Stored Procedure:\r\n\r\n```\r\nIF @inDBZ = &#39;Y&#39;\r\n  BEGIN\r\n    SELECT 1/0;\r\n  END;\r\n```\r\n\r\nto\r\n\r\n```\r\nIF @inDBZ = &#39;Y&#39;\r\n  BEGIN\r\n    SET @dbz = 1/0;\r\n  END;\r\n```\r\n\r\nThis solved my problem.\r\n\r\nNow, I just need to work out what changes to make to trap Errors where Results Sets are returned in the Stored Procedure","title":"RAISERROR - differences in SQLException behaviour in Java Client","body":"<p>Thank you <a href=\"https://stackoverflow.com/users/7297700/david-browne-microsoft\">https://stackoverflow.com/users/7297700/david-browne-microsoft</a> </p>\n\n<p>I started to post the Github issue and one of the outputs they request is a JDBC trace.</p>\n\n<p>When I did this and compared the 2 trace outputs for:</p>\n\n<ol>\n<li>Unique Key Violation</li>\n<li>Divide By Zero error</li>\n</ol>\n\n<p>the following lines were present for the Divide By Zero test case:</p>\n\n<ul>\n<li><strong>Jun 10, 2020 5:28:50 PM com.microsoft.sqlserver.jdbc.SQLServerResultSet </strong></li>\n<li><strong>FINE: SQLServerResultSet:1 created by (SQLServerCallableStatement:1)</strong></li>\n</ul>\n\n<p>Having read in another post that RAISERROR behaves differently when the SP returns a resultset (unintentionally in my case), I changed the following code in the <strong>uspTestRE</strong> Stored Procedure:</p>\n\n<pre><code>IF @inDBZ = 'Y'\n  BEGIN\n    SELECT 1/0;\n  END;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>IF @inDBZ = 'Y'\n  BEGIN\n    SET @dbz = 1/0;\n  END;\n</code></pre>\n\n<p>This solved my problem.</p>\n\n<p>Now, I just need to work out what changes to make to trap Errors where Results Sets are returned in the Stored Procedure</p>\n"},{"tags":[],"owner":{"account_id":5488485,"reputation":71,"user_id":5126996,"display_name":"thesarahryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668026685,"creation_date":1668026685,"answer_id":74381179,"question_id":62289975,"body_markdown":"You can use &#39;set nocount on&#39; instead of changing select to set","title":"RAISERROR - differences in SQLException behaviour in Java Client","body":"<p>You can use 'set nocount on' instead of changing select to set</p>\n"}],"owner":{"account_id":9816031,"reputation":51,"user_id":7272518,"display_name":"andrewtindle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1668026685,"creation_date":1591729108,"question_id":62289975,"body_markdown":"I&#39;m seeing differences in behaviour in how Java handles SQL Server errors thrown by `RAISERROR`, depending upon what the actual error is, in that:\r\n\r\n - Unique Constraint Violation: The SQL Exception is trapped and handled by the Java Catch block\r\n - Divide by Zero: The SQL Exception is not trapped\r\n\r\nTo demonstrate:\r\n\r\n**1. Stored Procedure: uspTestRE**\r\n```\r\nALTER PROCEDURE demo.uspTestRE (\r\n  @inKey    VARCHAR(5),    --Primary Key value in TestRE table\r\n  @inDBZ    VARCHAR(1)     --Y/N flag to trigger Divide By Zero error\r\n)\r\nAS\r\nBEGIN\r\n\r\n  SET XACT_ABORT, NOCOUNT ON;\r\n\r\n  BEGIN TRY\r\n    BEGIN TRANSACTION\r\n      \r\n      --Insert record into TestRE table\r\n      INSERT INTO TestRE (tREKey) VALUES (@inKey);\r\n\r\n      --Trigger DBZ error\r\n      IF @inDBZ = &#39;Y&#39;\r\n       BEGIN\r\n         SELECT 1/0;\r\n       END;\r\n\r\n    --Transaction is in a state to be committed\r\n    IF (XACT_STATE())=1\r\n      BEGIN\r\n        COMMIT TRANSACTION;\r\n      END;\r\n  END TRY\r\n\r\n  BEGIN CATCH\r\n    DECLARE\r\n      @errorMessage  NVARCHAR(MAX) = ERROR_MESSAGE(),\r\n      @errorState    INT           = ERROR_STATE(),\r\n      @errorSeverity INT           = ERROR_SEVERITY();\r\n\r\n    --Transaction is uncommitable so rollback\r\n    IF (XACT_STATE()) = -1\r\n      BEGIN\r\n        ROLLBACK TRANSACTION;\r\n      END;\r\n\r\n    RAISERROR(@errorMessage,@errorSeverity,@errorState);\r\n    \r\n    RETURN 23;\r\n  END CATCH\r\n\r\nEND;\r\n```\r\n\r\nWhen executing the SP from SQLCMD, it generates the following error messages:\r\n\r\nTest 1: Key Violation\r\n```\r\nMsg 50000, Level 14, State 1, Server WW-HV5FQV2, Procedure demo.uspTestRE, Line 44\r\nViolation of PRIMARY KEY constraint &#39;PK__TestRE__0FEE01A3EEF4E2AE&#39;. Cannot insert duplicate key in object &#39;dbo.TestRE&#39;. The duplicate key value is (UKV).\r\n```\r\n\r\nTest 2: Divide by Zero\r\n```\r\nMsg 50000, Level 16, State 1, Server WW-HV5FQV2, Procedure demo.uspTestRE, Line 42\r\nDivide by zero error encountered.\r\n```\r\n\r\ni.e. expected behaviour for both.\r\n\r\n\r\nHowever, my Java program doesn&#39;t give the same behaviour.\r\n\r\n**2. Java Program: uspTestRE.java**\r\n\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.sql.CallableStatement;\r\n\r\npublic class uspTestRE {\r\n\r\n    // Connect to DEMO_INST database as svcDemoInst Login\r\n    public static void main(String[] args) {\r\n        String connectionUrl =\r\n                &quot;jdbc:sqlserver://localhost:1433;&quot;\r\n                + &quot;database=DEMO;&quot;\r\n                + &quot;user=svcDemoLogin;&quot;\r\n                + &quot;password=Demo;&quot;\r\n                + &quot;trustServerCertificate=true;&quot;\r\n                + &quot;loginTimeout=30;&quot;;\r\n\r\n        ResultSet resultSet = null;\r\n        CallableStatement cstmt = null;\r\n\r\n        try {cstmt = DriverManager.getConnection(connectionUrl).prepareCall(&quot;{? = call demo.uspTestRE(?,?)}&quot;);\r\n             int i = 0;\r\n             cstmt.registerOutParameter(++i,java.sql.Types.INTEGER);\r\n\r\n             cstmt.setString(++i,args[0]);\r\n             cstmt.setString(++i,args[1]);\r\n             cstmt.execute();\r\n\r\n             int returnCode = cstmt.getInt(1);\r\n             System.out.println(&quot;Success: Stored Procedure Return Status: &quot; + returnCode);\r\n        }\r\n        catch (SQLException e) {\r\n              System.out.println(&quot;Error Code: &quot; + e.getErrorCode() +&quot;, Error Message: &quot;+e.getMessage());\r\n              // e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I run the same test cases here, I get the following:\r\n\r\nTest 1: Key Violation (Behaves as Expected)\r\n```\r\nC:\\&gt;java uspTestRE UKV N\r\nError Code: 50000, Error Message: Violation of PRIMARY KEY constraint &#39;PK__TestRE__0FEE01A3EEF4E2AE&#39;. Cannot insert duplicate key in object &#39;dbo.TestRE&#39;. The duplicate key value is (UKV).\r\n```\r\n\r\nTest 2: Divide by Zero (Does not get trapped)\r\n```\r\nC:\\&gt;java uspTestRE DBV Y\r\nSuccess: Stored Procedure Return Status: 23\r\n```\r\n\r\nCan anyone explain to me why the Divide By Zero error - which is being trapped in SQL Server and handled in the SP Catch block - is not being trapped by the Java code?\r\n\r\nThe only differences I can see between the 2 errors is that the Divide by Zero error is Severity 16.\r\n","title":"RAISERROR - differences in SQLException behaviour in Java Client","body":"<p>I'm seeing differences in behaviour in how Java handles SQL Server errors thrown by <code>RAISERROR</code>, depending upon what the actual error is, in that:</p>\n\n<ul>\n<li>Unique Constraint Violation: The SQL Exception is trapped and handled by the Java Catch block</li>\n<li>Divide by Zero: The SQL Exception is not trapped</li>\n</ul>\n\n<p>To demonstrate:</p>\n\n<p><strong>1. Stored Procedure: uspTestRE</strong></p>\n\n<pre><code>ALTER PROCEDURE demo.uspTestRE (\n  @inKey    VARCHAR(5),    --Primary Key value in TestRE table\n  @inDBZ    VARCHAR(1)     --Y/N flag to trigger Divide By Zero error\n)\nAS\nBEGIN\n\n  SET XACT_ABORT, NOCOUNT ON;\n\n  BEGIN TRY\n    BEGIN TRANSACTION\n\n      --Insert record into TestRE table\n      INSERT INTO TestRE (tREKey) VALUES (@inKey);\n\n      --Trigger DBZ error\n      IF @inDBZ = 'Y'\n       BEGIN\n         SELECT 1/0;\n       END;\n\n    --Transaction is in a state to be committed\n    IF (XACT_STATE())=1\n      BEGIN\n        COMMIT TRANSACTION;\n      END;\n  END TRY\n\n  BEGIN CATCH\n    DECLARE\n      @errorMessage  NVARCHAR(MAX) = ERROR_MESSAGE(),\n      @errorState    INT           = ERROR_STATE(),\n      @errorSeverity INT           = ERROR_SEVERITY();\n\n    --Transaction is uncommitable so rollback\n    IF (XACT_STATE()) = -1\n      BEGIN\n        ROLLBACK TRANSACTION;\n      END;\n\n    RAISERROR(@errorMessage,@errorSeverity,@errorState);\n\n    RETURN 23;\n  END CATCH\n\nEND;\n</code></pre>\n\n<p>When executing the SP from SQLCMD, it generates the following error messages:</p>\n\n<p>Test 1: Key Violation</p>\n\n<pre><code>Msg 50000, Level 14, State 1, Server WW-HV5FQV2, Procedure demo.uspTestRE, Line 44\nViolation of PRIMARY KEY constraint 'PK__TestRE__0FEE01A3EEF4E2AE'. Cannot insert duplicate key in object 'dbo.TestRE'. The duplicate key value is (UKV).\n</code></pre>\n\n<p>Test 2: Divide by Zero</p>\n\n<pre><code>Msg 50000, Level 16, State 1, Server WW-HV5FQV2, Procedure demo.uspTestRE, Line 42\nDivide by zero error encountered.\n</code></pre>\n\n<p>i.e. expected behaviour for both.</p>\n\n<p>However, my Java program doesn't give the same behaviour.</p>\n\n<p><strong>2. Java Program: uspTestRE.java</strong></p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.sql.CallableStatement;\n\npublic class uspTestRE {\n\n    // Connect to DEMO_INST database as svcDemoInst Login\n    public static void main(String[] args) {\n        String connectionUrl =\n                \"jdbc:sqlserver://localhost:1433;\"\n                + \"database=DEMO;\"\n                + \"user=svcDemoLogin;\"\n                + \"password=Demo;\"\n                + \"trustServerCertificate=true;\"\n                + \"loginTimeout=30;\";\n\n        ResultSet resultSet = null;\n        CallableStatement cstmt = null;\n\n        try {cstmt = DriverManager.getConnection(connectionUrl).prepareCall(\"{? = call demo.uspTestRE(?,?)}\");\n             int i = 0;\n             cstmt.registerOutParameter(++i,java.sql.Types.INTEGER);\n\n             cstmt.setString(++i,args[0]);\n             cstmt.setString(++i,args[1]);\n             cstmt.execute();\n\n             int returnCode = cstmt.getInt(1);\n             System.out.println(\"Success: Stored Procedure Return Status: \" + returnCode);\n        }\n        catch (SQLException e) {\n              System.out.println(\"Error Code: \" + e.getErrorCode() +\", Error Message: \"+e.getMessage());\n              // e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>When I run the same test cases here, I get the following:</p>\n\n<p>Test 1: Key Violation (Behaves as Expected)</p>\n\n<pre><code>C:\\&gt;java uspTestRE UKV N\nError Code: 50000, Error Message: Violation of PRIMARY KEY constraint 'PK__TestRE__0FEE01A3EEF4E2AE'. Cannot insert duplicate key in object 'dbo.TestRE'. The duplicate key value is (UKV).\n</code></pre>\n\n<p>Test 2: Divide by Zero (Does not get trapped)</p>\n\n<pre><code>C:\\&gt;java uspTestRE DBV Y\nSuccess: Stored Procedure Return Status: 23\n</code></pre>\n\n<p>Can anyone explain to me why the Divide By Zero error - which is being trapped in SQL Server and handled in the SP Catch block - is not being trapped by the Java code?</p>\n\n<p>The only differences I can see between the 2 errors is that the Divide by Zero error is Severity 16.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1668023030,"post_id":74380471,"comment_id":131309656,"body_markdown":"Are you sure you tried to add a rules button?  I don’t see any code that tries to add a rules button.","body":"Are you sure you tried to add a rules button?  I don’t see any code that tries to add a rules button."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1668027476,"post_id":74380471,"comment_id":131311057,"body_markdown":"What is `Playscene`? Why do you set the scene of `primary` to one thing, and then immediately replace it with another scene?","body":"What is <code>Playscene</code>? Why do you set the scene of <code>primary</code> to one thing, and then immediately replace it with another scene?"}],"answers":[{"tags":[],"owner":{"account_id":8648244,"reputation":367,"user_id":6474819,"accept_rate":89,"display_name":"M. Rogers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668026519,"creation_date":1668026519,"answer_id":74381152,"question_id":74380471,"body_markdown":"If this line\r\n\r\n    layout1.getChildren().addAll(StartSceneLabel, PlayButton);\r\nis where you add the rules button, my guess it&#39;s because your layout1 gap is huge. The spacing your suggesting is 250. So adding another component in this list might exceed your stage size. For a test, change \r\n\r\n    VBox layout1 = new VBox(250.0);\r\n\r\nto\r\n\r\n    VBox layout1 = new VBox(25.0);\r\n\r\nAnd then add your button again. I&#39;m guessing this is the issue because like @VGR said, the button isn&#39;t there, nor do you have a tabpane yet.","title":"Create a Button that Opens a new Tab in JavaFX","body":"<p>If this line</p>\n<pre><code>layout1.getChildren().addAll(StartSceneLabel, PlayButton);\n</code></pre>\n<p>is where you add the rules button, my guess it's because your layout1 gap is huge. The spacing your suggesting is 250. So adding another component in this list might exceed your stage size. For a test, change</p>\n<pre><code>VBox layout1 = new VBox(250.0);\n</code></pre>\n<p>to</p>\n<pre><code>VBox layout1 = new VBox(25.0);\n</code></pre>\n<p>And then add your button again. I'm guessing this is the issue because like @VGR said, the button isn't there, nor do you have a tabpane yet.</p>\n"}],"owner":{"account_id":21734674,"reputation":1,"user_id":16042841,"display_name":"Francisco Erramuspe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668026519,"creation_date":1668022599,"question_id":74380471,"body_markdown":"I am creating a game. For that game, there should be a &quot;Play&quot; Button (already added) and a rules button (the one I am trying to add). For some reason, when I try to add the rules button, it never shows up in the screen. Inside the rules tab I just want to add the rule content of the game. Any suggestions? Here is my code:\r\n\r\n\r\n```\r\npackage com.example.jaxafx_practice;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.stage.Stage;\r\nimport java.io.IOException;\r\n//import com.example.jaxafx_practice.Playscene.playscence;\r\n\r\n\r\npublic class Main extends Application {\r\n    Scene StartScene;\r\n    @Override\r\n    public void start(Stage primary) throws IOException {\r\n\r\n        // ********Start scene************\r\n        Button PlayButton = new Button(&quot;Play&quot;);\r\n        PlayButton.setMinWidth(55);\r\n        PlayButton.setMinHeight(30);\r\n        \r\n        VBox layout1 = new VBox(250.0);\r\n        layout1.setAlignment(Pos.CENTER);\r\n        Label StartSceneLabel = new Label(&quot;Wordle&quot;);\r\n         StartSceneLabel.setMinWidth(55);\r\n        StartSceneLabel.setMinHeight(30);\r\n        StartSceneLabel.setAlignment(Pos.CENTER);\r\n\r\n        StartSceneLabel.setStyle(&quot;-fx-background-color: #FFFFFF;&quot;);\r\n        layout1.getChildren().addAll(StartSceneLabel, PlayButton);\r\n        primary.setTitle(&quot;Start screen&quot;);\r\n        layout1.setStyle(&quot;-fx-background-color:#800000&quot;);\r\n        HBox user_interface=new HBox();\r\n\r\n\r\n        // Creates Start scene\r\n        StartScene = new Scene(layout1, 500, 750.0);\r\n\r\n        // ********Start scene************\r\n\r\n\r\n\r\n        //????????Play scene?????????????\r\n        Playscene playscene = new Playscene();\r\n        //????????Play scene?????????????\r\n\r\n        //Create the word to be guessed\r\n        Choose_word Choose_word = new Choose_word();\r\n        String wordToGuess = Choose_word.getWord();\r\n\r\n\r\n        //Button actions\r\n        PlayButton.setOnAction((e) -&gt; {\r\n            primary.setScene(playscene.playscence());\r\n            primary.setTitle(&quot;Game Screen&quot;);});\r\n        primary.setScene(StartScene);\r\n        primary.show();\r\n        playscene.enterButton.setOnAction((e) -&gt; {\r\n            String userWord=playscene.guessField.getText();\r\n            if(userWord.length()==4)\r\n                {playscene.displayWord(userWord.toLowerCase(),wordToGuess);\r\n                playscene.count+=1;}\r\n        });\r\n        primary.setScene(StartScene);\r\n        primary.show();\r\n    }\r\n    public static void main() {\r\n        launch();\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n```\r\n","title":"Create a Button that Opens a new Tab in JavaFX","body":"<p>I am creating a game. For that game, there should be a &quot;Play&quot; Button (already added) and a rules button (the one I am trying to add). For some reason, when I try to add the rules button, it never shows up in the screen. Inside the rules tab I just want to add the rule content of the game. Any suggestions? Here is my code:</p>\n<pre><code>package com.example.jaxafx_practice;\nimport javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n//import com.example.jaxafx_practice.Playscene.playscence;\n\n\npublic class Main extends Application {\n    Scene StartScene;\n    @Override\n    public void start(Stage primary) throws IOException {\n\n        // ********Start scene************\n        Button PlayButton = new Button(&quot;Play&quot;);\n        PlayButton.setMinWidth(55);\n        PlayButton.setMinHeight(30);\n        \n        VBox layout1 = new VBox(250.0);\n        layout1.setAlignment(Pos.CENTER);\n        Label StartSceneLabel = new Label(&quot;Wordle&quot;);\n         StartSceneLabel.setMinWidth(55);\n        StartSceneLabel.setMinHeight(30);\n        StartSceneLabel.setAlignment(Pos.CENTER);\n\n        StartSceneLabel.setStyle(&quot;-fx-background-color: #FFFFFF;&quot;);\n        layout1.getChildren().addAll(StartSceneLabel, PlayButton);\n        primary.setTitle(&quot;Start screen&quot;);\n        layout1.setStyle(&quot;-fx-background-color:#800000&quot;);\n        HBox user_interface=new HBox();\n\n\n        // Creates Start scene\n        StartScene = new Scene(layout1, 500, 750.0);\n\n        // ********Start scene************\n\n\n\n        //????????Play scene?????????????\n        Playscene playscene = new Playscene();\n        //????????Play scene?????????????\n\n        //Create the word to be guessed\n        Choose_word Choose_word = new Choose_word();\n        String wordToGuess = Choose_word.getWord();\n\n\n        //Button actions\n        PlayButton.setOnAction((e) -&gt; {\n            primary.setScene(playscene.playscence());\n            primary.setTitle(&quot;Game Screen&quot;);});\n        primary.setScene(StartScene);\n        primary.show();\n        playscene.enterButton.setOnAction((e) -&gt; {\n            String userWord=playscene.guessField.getText();\n            if(userWord.length()==4)\n                {playscene.displayWord(userWord.toLowerCase(),wordToGuess);\n                playscene.count+=1;}\n        });\n        primary.setScene(StartScene);\n        primary.show();\n    }\n    public static void main() {\n        launch();\n    }\n}\n\n\n\n\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","api","rest"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1668020216,"post_id":74379681,"comment_id":131308830,"body_markdown":"The wrapper `500` isn&#39;t helpful for debugging purposes.  What is the actual error that the server is generating (perhaps captured in the application logs)?","body":"The wrapper <code>500</code> isn&#39;t helpful for debugging purposes.  What is the actual error that the server is generating (perhaps captured in the application logs)?"}],"answers":[{"tags":[],"owner":{"account_id":18073155,"reputation":28,"user_id":13137259,"display_name":"beyzanur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668025925,"creation_date":1668025925,"answer_id":74381039,"question_id":74379681,"body_markdown":"Are you getting an error in get and save operations? Because although you inject CourseService in controller, you did not override get and save operations methods in CourseServiceimpl class.","title":"Update and Delete error in Spring-boot and mongo db CRUD application","body":"<p>Are you getting an error in get and save operations? Because although you inject CourseService in controller, you did not override get and save operations methods in CourseServiceimpl class.</p>\n"}],"owner":{"account_id":24603643,"reputation":1,"user_id":18506159,"display_name":"Rohit Khemka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668025925,"creation_date":1668018096,"question_id":74379681,"body_markdown":"I am trying to create a CRUD application using Spring-boot and Mongo DB.\r\nI am getting error the in the update and delete operations\r\n\r\nDuring Delete, there is a timestamp error showing and on update a new object is getting created instead of updating the existing object. I have attached the controller and service layer codes. \r\nCan anyone please find a solution for this.\r\n\r\n \r\n\r\nController Layer\r\n\r\n```\r\npackage com.springrest.springrest.controller;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.springrest.springrest.entities.Course;\r\nimport com.springrest.springrest.services.CourseService;\r\n\r\n@CrossOrigin\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class MyController {\r\n\t\r\n\t\r\n\t@Autowired\r\n\tprivate CourseService courseService;\r\n\t\r\n\t@GetMapping(&quot;/courses&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; getCourses(){\r\n\t\treturn ResponseEntity.ok(this.courseService.GetCourses());\r\n\t}\t\t\r\n\t\r\n\t\r\n\t@PostMapping(&quot;/courses&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; addCourse(@RequestBody Course course)\r\n\t{\r\n\t\tCourse save=this.courseService.addCourse(course);\r\n\t\treturn ResponseEntity.ok(save);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/courses/{courseId}&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; getCourse(@PathVariable String courseId ){\r\n\t\tOptional&lt;Course&gt; save=this.courseService.getCourse(Integer.parseInt(courseId));\r\n\t\treturn ResponseEntity.ok(save);\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t@PutMapping(&quot;/courses/{courseId}&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; updateCourse(@PathVariable String courseId,\r\n\t@RequestBody Course course)\r\n\t{\r\n\t\tOptional&lt;Course&gt; save=Optional.ofNullable(this.courseService.updateCourse(Integer.parseInt\r\n\t\t\t\t(courseId),course));\r\n\t\treturn ResponseEntity.ok(save);\r\n\t}\t\r\n\t\r\n\t@DeleteMapping(&quot;/courses/{courseId}&quot;)\r\n\tpublic void deleteCourse(@PathVariable String courseId)\r\n\t{\r\n\t\tthis.courseService.deleteCourse(Integer.parseInt(courseId));\r\n\t\t//return ResponseEntity.ok(this.courseService.deleteCourse(Integer.parseInt(courseId)));\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nService Layer\r\n\r\n\r\n```\r\npackage com.springrest.springrest.services;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport com.springrest.springrest.entities.Course;\r\nimport com.springrest.springrest.repository.CourseRepository;\r\n\r\n\r\n@Service\r\npublic class CourseServiceimpl implements CourseService \r\n{\r\n\t@Autowired\r\n\tprivate CourseRepository userlist;\r\n\t\r\n\tpublic List&lt;Course&gt; GetCourses() {\r\n\t\treturn this.userlist.findAll();\r\n\t}\r\n\t\r\n\tpublic Course addCourse(Course course) {\r\n\t\treturn this.userlist.save(course);\r\n\t}\r\n\t\r\n\tpublic Optional&lt;Course&gt; getCourse(int courseId)\r\n\t{\r\n\t\tOptional&lt;Course&gt; c=this.userlist.findById(courseId);\r\n\t\treturn c;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Course updateCourse(int courseId, Course course) \r\n\t{\r\n\t\tCourse c=this.userlist.findById(courseId).get();\r\n\t\tc.setId(course.getId());\r\n\t\tc.setTitle(course.getTitle());\r\n\t\tc.setDescription(course.getDescription());\r\n\t\treturn this.userlist.save(c);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteCourse(int courseId) \r\n\t{\r\n\t\t//Course c= this.userlist.findById(courseId).get();\r\n\t\tthis.userlist.deleteById(courseId);\t\t\r\n\t}\r\n\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\nEntity Layer\r\n\r\n```\r\npackage com.springrest.springrest.entities;\r\n\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\nimport org.springframework.data.mongodb.core.mapping.Field;\r\n\r\n@Document(collection=&quot;Course&quot;)\r\npublic class Course {\r\n\r\n\t@Field( name=&quot;id&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@Field(name=&quot;title&quot;)\r\n\tprivate String title;\r\n\t\r\n\t@Field(name=&quot;description&quot;)\r\n\tprivate String description;\r\n\t\r\n\tpublic Course(int id, String title, String description) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.title = title;\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n\tpublic Course() {\r\n\t\tsuper();\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Course [id=&quot; + id + &quot;, title=&quot; + title + &quot;, description=&quot; + description + &quot;]&quot;;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\r\n\tpublic void setTitle(String title) {\r\n\t\tthis.title = title;\r\n\t}\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nThis is the error I am getting on a Delete Request\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-11-09T18:45:58.630+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;path&quot;: &quot;/api/courses/147&quot;\r\n}\r\n\r\n","title":"Update and Delete error in Spring-boot and mongo db CRUD application","body":"<p>I am trying to create a CRUD application using Spring-boot and Mongo DB.\nI am getting error the in the update and delete operations</p>\n<p>During Delete, there is a timestamp error showing and on update a new object is getting created instead of updating the existing object. I have attached the controller and service layer codes.\nCan anyone please find a solution for this.</p>\n<p>Controller Layer</p>\n<pre><code>package com.springrest.springrest.controller;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.springrest.springrest.entities.Course;\nimport com.springrest.springrest.services.CourseService;\n\n@CrossOrigin\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MyController {\n    \n    \n    @Autowired\n    private CourseService courseService;\n    \n    @GetMapping(&quot;/courses&quot;)\n    public ResponseEntity&lt;?&gt; getCourses(){\n        return ResponseEntity.ok(this.courseService.GetCourses());\n    }       \n    \n    \n    @PostMapping(&quot;/courses&quot;)\n    public ResponseEntity&lt;?&gt; addCourse(@RequestBody Course course)\n    {\n        Course save=this.courseService.addCourse(course);\n        return ResponseEntity.ok(save);\n    }\n    \n    @GetMapping(&quot;/courses/{courseId}&quot;)\n    public ResponseEntity&lt;?&gt; getCourse(@PathVariable String courseId ){\n        Optional&lt;Course&gt; save=this.courseService.getCourse(Integer.parseInt(courseId));\n        return ResponseEntity.ok(save); \n    }\n    \n    \n    \n    @PutMapping(&quot;/courses/{courseId}&quot;)\n    public ResponseEntity&lt;?&gt; updateCourse(@PathVariable String courseId,\n    @RequestBody Course course)\n    {\n        Optional&lt;Course&gt; save=Optional.ofNullable(this.courseService.updateCourse(Integer.parseInt\n                (courseId),course));\n        return ResponseEntity.ok(save);\n    }   \n    \n    @DeleteMapping(&quot;/courses/{courseId}&quot;)\n    public void deleteCourse(@PathVariable String courseId)\n    {\n        this.courseService.deleteCourse(Integer.parseInt(courseId));\n        //return ResponseEntity.ok(this.courseService.deleteCourse(Integer.parseInt(courseId)));\n    }\n}\n\n</code></pre>\n<p>Service Layer</p>\n<pre><code>package com.springrest.springrest.services;\nimport java.util.List;\nimport java.util.Optional;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport com.springrest.springrest.entities.Course;\nimport com.springrest.springrest.repository.CourseRepository;\n\n\n@Service\npublic class CourseServiceimpl implements CourseService \n{\n    @Autowired\n    private CourseRepository userlist;\n    \n    public List&lt;Course&gt; GetCourses() {\n        return this.userlist.findAll();\n    }\n    \n    public Course addCourse(Course course) {\n        return this.userlist.save(course);\n    }\n    \n    public Optional&lt;Course&gt; getCourse(int courseId)\n    {\n        Optional&lt;Course&gt; c=this.userlist.findById(courseId);\n        return c;\n    }\n\n    @Override\n    public Course updateCourse(int courseId, Course course) \n    {\n        Course c=this.userlist.findById(courseId).get();\n        c.setId(course.getId());\n        c.setTitle(course.getTitle());\n        c.setDescription(course.getDescription());\n        return this.userlist.save(c);\n    }\n\n    @Override\n    public void deleteCourse(int courseId) \n    {\n        //Course c= this.userlist.findById(courseId).get();\n        this.userlist.deleteById(courseId);     \n    }\n\n    \n}\n\n</code></pre>\n<p>Entity Layer</p>\n<pre><code>package com.springrest.springrest.entities;\n\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport org.springframework.data.mongodb.core.mapping.Field;\n\n@Document(collection=&quot;Course&quot;)\npublic class Course {\n\n    @Field( name=&quot;id&quot;)\n    private int id;\n    \n    @Field(name=&quot;title&quot;)\n    private String title;\n    \n    @Field(name=&quot;description&quot;)\n    private String description;\n    \n    public Course(int id, String title, String description) {\n        super();\n        this.id = id;\n        this.title = title;\n        this.description = description;\n    }\n\n    public Course() {\n        super();\n        \n    }\n\n    @Override\n    public String toString() {\n        return &quot;Course [id=&quot; + id + &quot;, title=&quot; + title + &quot;, description=&quot; + description + &quot;]&quot;;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    \n}\n\n</code></pre>\n<p>This is the error I am getting on a Delete Request\n{\n&quot;timestamp&quot;: &quot;2022-11-09T18:45:58.630+00:00&quot;,\n&quot;status&quot;: 500,\n&quot;error&quot;: &quot;Internal Server Error&quot;,\n&quot;path&quot;: &quot;/api/courses/147&quot;\n}</p>\n"},{"tags":["java","switch-statement","case"],"comments":[{"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"score":0,"creation_date":1435755275,"post_id":31161784,"comment_id":50332246,"body_markdown":"you can try `String.toUpperCase()` before feeding into the `Switch`","body":"you can try <code>String.toUpperCase()</code> before feeding into the <code>Switch</code>"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1435755609,"post_id":31161784,"comment_id":50332522,"body_markdown":"Consider to replace the arrays and switch statement with enums.","body":"Consider to replace the arrays and switch statement with enums."}],"answers":[{"tags":[],"owner":{"account_id":1217986,"reputation":1256,"user_id":1185211,"accept_rate":79,"display_name":"Bgvv1983"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1435755144,"creation_date":1435755144,"answer_id":31161867,"question_id":31161784,"body_markdown":"I think I wouldn&#39;t youse a switch in this case.\r\nI would do probably something like this\r\n\r\n    if(Arrays.asList(yourArray).contains(yourValue)){\r\n       //do something\r\n    }else{\r\n       //do something else\r\n    }","title":"Switch case with multiple values","body":"<p>I think I wouldn't youse a switch in this case.\nI would do probably something like this</p>\n\n<pre><code>if(Arrays.asList(yourArray).contains(yourValue)){\n   //do something\n}else{\n   //do something else\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1435755149,"creation_date":1435755149,"answer_id":31161870,"question_id":31161784,"body_markdown":"switch case statements don&#39;t break unless you specifically ask it to.\r\n\r\nHence for your case, you can use this as a work around,\r\n\r\n    switch(code){\r\n     case &quot;height&quot;:\r\n     case &quot;HEIGHT&quot;: \r\n     case &quot;weight&quot;:\r\n      //code here\r\n      break;\r\n     case something_else:\r\n      break;\r\n    }\r\n\r\n","title":"Switch case with multiple values","body":"<p>switch case statements don't break unless you specifically ask it to.</p>\n\n<p>Hence for your case, you can use this as a work around,</p>\n\n<pre><code>switch(code){\n case \"height\":\n case \"HEIGHT\": \n case \"weight\":\n  //code here\n  break;\n case something_else:\n  break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":96438,"reputation":2390,"user_id":262114,"accept_rate":69,"display_name":"HamoriZ"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1435755196,"creation_date":1435755196,"answer_id":31161889,"question_id":31161784,"body_markdown":"You can remove the break to get OR\r\n\r\n    switch(code){\r\n     case case1:   \r\n     case case2:\r\n        doSomething();\r\n      break;\r\n    }","title":"Switch case with multiple values","body":"<p>You can remove the break to get OR</p>\n\n<pre><code>switch(code){\n case case1:   \n case case2:\n    doSomething();\n  break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6418980,"reputation":76,"user_id":4976495,"display_name":"Eddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435755251,"creation_date":1435755251,"answer_id":31161908,"question_id":31161784,"body_markdown":"According to the [Java Documentation][1]:\r\n \r\n\r\n&gt; A switch works with the byte, short, char, and int primitive data\r\n&gt; types. It also works with enumerated types (discussed in Enum Types),\r\n&gt; the String class, and a few special classes that wrap certain\r\n&gt; primitive types: Character, Byte, Short, and Integer (discussed in\r\n&gt; Numbers and Strings).\r\n\r\nUnless you can boil your data down to one of these, that&#39;s all you can use. You can always break out what you would have in the statement array, but you wouldn&#39;t be able to make switch dynamic using an array.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"Switch case with multiple values","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">Java Documentation</a>:</p>\n\n<blockquote>\n  <p>A switch works with the byte, short, char, and int primitive data\n  types. It also works with enumerated types (discussed in Enum Types),\n  the String class, and a few special classes that wrap certain\n  primitive types: Character, Byte, Short, and Integer (discussed in\n  Numbers and Strings).</p>\n</blockquote>\n\n<p>Unless you can boil your data down to one of these, that's all you can use. You can always break out what you would have in the statement array, but you wouldn't be able to make switch dynamic using an array.</p>\n"},{"tags":[],"owner":{"account_id":25167589,"reputation":340,"user_id":19010882,"display_name":"Prectron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668025510,"creation_date":1668025510,"answer_id":74380974,"question_id":31161784,"body_markdown":"Switch statements and expressions (available since Java SE 14) don&#39;t support matching values from an array. For such cases, the construct you are looking for is a chain of `if`, `else if`, and `else`. You can use `Stream` to easily check if an array contains a given element.\r\n```java\r\nprivate boolean contains(String[] array, String value) {\r\n    return Arrays.stream(array).anyMatch(value::equals);\r\n}\r\n```\r\n```java\r\nif (contains(statements, code)) {\r\n    // do something with a code\r\n} else if(contains(otherStatements, code)) {\r\n    // do something with another code\r\n} else {\r\n    // do something with other codes\r\n}\r\n```","title":"Switch case with multiple values","body":"<p>Switch statements and expressions (available since Java SE 14) don't support matching values from an array. For such cases, the construct you are looking for is a chain of <code>if</code>, <code>else if</code>, and <code>else</code>. You can use <code>Stream</code> to easily check if an array contains a given element.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean contains(String[] array, String value) {\n    return Arrays.stream(array).anyMatch(value::equals);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>if (contains(statements, code)) {\n    // do something with a code\n} else if(contains(otherStatements, code)) {\n    // do something with another code\n} else {\n    // do something with other codes\n}\n</code></pre>\n"}],"owner":{"account_id":4532124,"reputation":615,"user_id":3682254,"accept_rate":33,"display_name":"dsk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22991,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":31161889,"answer_count":5,"score":5,"last_activity_date":1668025510,"creation_date":1435754923,"question_id":31161784,"body_markdown":"Is there something like array of case statement and put it as single case statement into switch- suppose\r\n\r\n    String[] statements={&quot;height&quot;,&quot;HEIGHT&quot;};\r\nand then\r\n\r\n    switch(code){\r\n     case statements: \r\n      //code here\r\n      break;\r\n     case something_else:\r\n      break;\r\n    }\r\n\r\nso if we add values into String array then it will automatically matched from that array in switch? like \r\n\r\n      var1||var2||whatever //accessed from array or anything else for matching\r\nis there any implementation similar like this?","title":"Switch case with multiple values","body":"<p>Is there something like array of case statement and put it as single case statement into switch- suppose</p>\n\n<pre><code>String[] statements={\"height\",\"HEIGHT\"};\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>switch(code){\n case statements: \n  //code here\n  break;\n case something_else:\n  break;\n}\n</code></pre>\n\n<p>so if we add values into String array then it will automatically matched from that array in switch? like </p>\n\n<pre><code>  var1||var2||whatever //accessed from array or anything else for matching\n</code></pre>\n\n<p>is there any implementation similar like this?</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1668020704,"post_id":74380087,"comment_id":131308965,"body_markdown":"The error message is telling you that you didn&#39;t define a method in class `emergencyButton` called `emergencyButtonToggled`.  To correct the problem, you need to understand how classes, object instances and method calls work.  Have a look [here](https://linuxhint.com/call-invoke-method-from-another-class-java/).","body":"The error message is telling you that you didn&#39;t define a method in class <code>emergencyButton</code> called <code>emergencyButtonToggled</code>.  To correct the problem, you need to understand how classes, object instances and method calls work.  Have a look <a href=\"https://linuxhint.com/call-invoke-method-from-another-class-java/\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1668020796,"post_id":74380087,"comment_id":131308995,"body_markdown":"Also, there should only be one `main()` method in your program, not two.","body":"Also, there should only be one <code>main()</code> method in your program, not two."},{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":2,"creation_date":1668020830,"post_id":74380087,"comment_id":131309005,"body_markdown":"You have a class called `emergencyButtonToggled`, but a class is not a function, a class often contains functions. Also class names are typically written in PascalCase, like `EmergencyButton`","body":"You have a class called <code>emergencyButtonToggled</code>, but a class is not a function, a class often contains functions. Also class names are typically written in PascalCase, like <code>EmergencyButton</code>"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1668020888,"post_id":74380087,"comment_id":131309026,"body_markdown":"You don&#39;t &quot;call&quot; classes, you call methods, which exist in specific instances of classes (or are static members).  This may be the root of your misunderstanding.  Also, you might need to review program structure -- a &#39;main&#39; per class is unusual (even if one of them is not a canonical &#39;public static void&#39; implementation).","body":"You don&#39;t &quot;call&quot; classes, you call methods, which exist in specific instances of classes (or are static members).  This may be the root of your misunderstanding.  Also, you might need to review program structure -- a &#39;main&#39; per class is unusual (even if one of them is not a canonical &#39;public static void&#39; implementation)."}],"answers":[{"tags":[],"owner":{"account_id":7228623,"reputation":290,"user_id":5516338,"accept_rate":50,"display_name":"Đorđe Milanović"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668024475,"creation_date":1668021287,"answer_id":74380224,"question_id":74380087,"body_markdown":"You can&#39;t call class. Class is like a group of members. And members can be fields (representing state) or methods (representing actions). So, you can only call class methods. \r\n\r\nYou probably want to call method that outputs those three messages about emergency. To do that you can do two things:\r\n\r\n 1. Create an object of type `emergencyButtonToggled` and call method on that object\r\n\r\n    `emergencyButtonToggled text = new emergencyButtonToggled();\r\n    text.main(null);`\r\n  \r\n\r\n 2. Add keyword `static` to the method, so you can call it directly on the class\r\n\r\n    `emergencyButtonToggled.main(null);`\r\n\r\nBut you shouldn&#39;t do any of those things. Instead, it is better to create a static method in `emergencyButton` class and call it.\r\n\r\n    \r\n    public class emergencyButton {\r\n        private static void emergency() {\r\n            System.out.println(&quot;Buzzer is buzzing&quot;);\r\n            System.out.println(&quot;Emergency, Manual Stop&quot;);\r\n            System.out.println(&quot;Emergency, Water Reservoirs empty&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner value = new Scanner(System.in);\r\n            System.out.println(&quot;Is the emergency button pressed? (Yes/No)&quot;);\r\n            String button = value.nextLine();\r\n            if (&quot;Yes&quot;.equals(button)) {\r\n                System.out.println(&quot;The emergency button is pressed.&quot;);\r\n                emergency();\r\n            } else if (&quot;No&quot;.equals(button)) {\r\n                System.out.println(&quot;Buzzer is not buzzing&quot;);\r\n                System.out.println(&quot;No emergency&quot;);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\nP.S. Function main in your newly created class doesn&#39;t have return value, so you should add `void` before name of the method (like you can see in my example).","title":"New to Java, can&#39;t call a different class from an existing class","body":"<p>You can't call class. Class is like a group of members. And members can be fields (representing state) or methods (representing actions). So, you can only call class methods.</p>\n<p>You probably want to call method that outputs those three messages about emergency. To do that you can do two things:</p>\n<ol>\n<li><p>Create an object of type <code>emergencyButtonToggled</code> and call method on that object</p>\n<p><code>emergencyButtonToggled text = new emergencyButtonToggled(); text.main(null);</code></p>\n</li>\n<li><p>Add keyword <code>static</code> to the method, so you can call it directly on the class</p>\n<p><code>emergencyButtonToggled.main(null);</code></p>\n</li>\n</ol>\n<p>But you shouldn't do any of those things. Instead, it is better to create a static method in <code>emergencyButton</code> class and call it.</p>\n<pre><code>public class emergencyButton {\n    private static void emergency() {\n        System.out.println(&quot;Buzzer is buzzing&quot;);\n        System.out.println(&quot;Emergency, Manual Stop&quot;);\n        System.out.println(&quot;Emergency, Water Reservoirs empty&quot;);\n    }\n\n    public static void main(String[] args) {\n        Scanner value = new Scanner(System.in);\n        System.out.println(&quot;Is the emergency button pressed? (Yes/No)&quot;);\n        String button = value.nextLine();\n        if (&quot;Yes&quot;.equals(button)) {\n            System.out.println(&quot;The emergency button is pressed.&quot;);\n            emergency();\n        } else if (&quot;No&quot;.equals(button)) {\n            System.out.println(&quot;Buzzer is not buzzing&quot;);\n            System.out.println(&quot;No emergency&quot;);\n            break;\n        }\n    }\n}\n</code></pre>\n<p>P.S. Function main in your newly created class doesn't have return value, so you should add <code>void</code> before name of the method (like you can see in my example).</p>\n"}],"owner":{"account_id":26881771,"reputation":11,"user_id":20462070,"display_name":"ohgoditdoesntwork"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74380224,"answer_count":1,"score":-1,"last_activity_date":1668024475,"creation_date":1668020450,"question_id":74380087,"body_markdown":"Apologies in advance if the title doesn&#39;t make any sense. \r\nI&#39;m trying to call a function named &quot;emergencyButtonToggled&quot; from a variable called &quot;emergencyButton&quot; but for some reason the code doesn&#39;t want to run. The error I am getting is as follows:\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n        The method emergencyButtonToggled() is undefined for the type emergencyButton\r\n\r\n        at emergencyButton.main(emergencybutton.java:10)\r\n\r\n```\r\nMy code is as such: \r\n\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class emergencyButton {\r\n    public static void main(String[] args) {\r\n        Scanner value = new Scanner(System.in);\r\n        System.out.println(&quot;Is the emergency button pressed? (Yes/No)&quot;);\r\n        String button = value.nextLine();\r\n        if (button.equals(&quot;Yes&quot;)) {\r\n            System.out.println(&quot;The emergency button is pressed.&quot;);\r\n            emergencyButtonToggled();\r\n        } else {\r\n            if (button.equals(&quot;No&quot;)) {\r\n                System.out.println(&quot;Buzzer is not buzzing&quot;);\r\n                System.out.println(&quot;No emergency&quot;);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    class emergencyButtonToggled {\r\n        public main(String[] args) {\r\n            System.out.println(&quot;Buzzer is buzzing&quot;);\r\n            System.out.println(&quot;Emergency, Manual Stop&quot;);\r\n            System.out.println(&quot;Emergency, Water Reservoirs empty&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nThank you in advance.","title":"New to Java, can&#39;t call a different class from an existing class","body":"<p>Apologies in advance if the title doesn't make any sense.\nI'm trying to call a function named &quot;emergencyButtonToggled&quot; from a variable called &quot;emergencyButton&quot; but for some reason the code doesn't want to run. The error I am getting is as follows:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n        The method emergencyButtonToggled() is undefined for the type emergencyButton\n\n        at emergencyButton.main(emergencybutton.java:10)\n\n</code></pre>\n<p>My code is as such:</p>\n<pre><code>import java.util.*;\n\npublic class emergencyButton {\n    public static void main(String[] args) {\n        Scanner value = new Scanner(System.in);\n        System.out.println(&quot;Is the emergency button pressed? (Yes/No)&quot;);\n        String button = value.nextLine();\n        if (button.equals(&quot;Yes&quot;)) {\n            System.out.println(&quot;The emergency button is pressed.&quot;);\n            emergencyButtonToggled();\n        } else {\n            if (button.equals(&quot;No&quot;)) {\n                System.out.println(&quot;Buzzer is not buzzing&quot;);\n                System.out.println(&quot;No emergency&quot;);\n                break;\n            }\n        }\n    }\n\n    class emergencyButtonToggled {\n        public main(String[] args) {\n            System.out.println(&quot;Buzzer is buzzing&quot;);\n            System.out.println(&quot;Emergency, Manual Stop&quot;);\n            System.out.println(&quot;Emergency, Water Reservoirs empty&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Thank you in advance.</p>\n"},{"tags":["java","queue","anylogic"],"answers":[{"tags":[],"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668023094,"creation_date":1668023094,"answer_id":74380558,"question_id":74380350,"body_markdown":"you use &quot;select true output&quot; if condition is true\r\n\r\nand then, assuming that queue1 is on the true exit, you do\r\n\r\n    queue1.size()&lt;=queue2.size()\r\n\r\nthat will be the condition\r\n","title":"How can we select, in the output select, the queue with the shortest size in anylogic?","body":"<p>you use &quot;select true output&quot; if condition is true</p>\n<p>and then, assuming that queue1 is on the true exit, you do</p>\n<pre><code>queue1.size()&lt;=queue2.size()\n</code></pre>\n<p>that will be the condition</p>\n"}],"owner":{"account_id":26138571,"reputation":13,"user_id":19828278,"display_name":"Pedro Sousa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74380558,"answer_count":1,"score":-1,"last_activity_date":1668023094,"creation_date":1668021942,"question_id":74380350,"body_markdown":"I want that the select output direct each agent to the queue with the shortest size.\r\n\r\nI know that we can use queue.size to know the length but i don&#39;t know how to use it in the conditions of the select output.\r\n\r\nThank you A LOT","title":"How can we select, in the output select, the queue with the shortest size in anylogic?","body":"<p>I want that the select output direct each agent to the queue with the shortest size.</p>\n<p>I know that we can use queue.size to know the length but i don't know how to use it in the conditions of the select output.</p>\n<p>Thank you A LOT</p>\n"},{"tags":["java","spring-boot","maven","kotlin","gradle"],"comments":[{"owner":{"account_id":6463623,"reputation":981,"user_id":5544978,"accept_rate":60,"display_name":"Don Hosek"},"score":0,"creation_date":1614572191,"post_id":66416425,"comment_id":117416728,"body_markdown":"Did you also do `compileJava.inputs.files(processResources)` in your gradle file?","body":"Did you also do <code>compileJava.inputs.files(processResources)</code> in your gradle file?"},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1614573275,"post_id":66416425,"comment_id":117416913,"body_markdown":"@DonHosek Yes, and `compileJava.dependsOn(processResources)`","body":"@DonHosek Yes, and <code>compileJava.dependsOn(processResources)</code>"},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1614573339,"post_id":66416425,"comment_id":117416927,"body_markdown":"@DonHosek Even I run tast `processResources`, no generated in META-INF","body":"@DonHosek Even I run tast <code>processResources</code>, no generated in META-INF"}],"answers":[{"tags":[],"owner":{"account_id":2534361,"reputation":1,"user_id":2201881,"display_name":"unsafeheaven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629456784,"creation_date":1629456194,"answer_id":68860964,"question_id":66416425,"body_markdown":"Along with the steps you have mentioned you also need to add a class mapping. Something like below.\r\n\r\n    import lombok.Data;    \r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n\r\n    @ConfigurationProperties(prefix = &quot;my.props&quot;)\r\n    @Data\r\n    public class MyProperties {\r\n\r\n      /**\r\n       * Prop1 description.\r\n       */\r\n       private String prop1;\r\n\r\n       /**\r\n       * Prop2 description.\r\n       */\r\n       private String prop2;\r\n    }\r\n\r\n\r\nIt&#39;s okay to add a class without props but it&#39;s needed.\r\n\r\n\r\nSample content of resources/META-INF/additional-spring-configuration-metadata.json\r\n\r\n    {\r\n       &quot;properties&quot;: [\r\n          {\r\n             &quot;name&quot;: &quot;my.props.prop1&quot;,\r\n             &quot;type&quot;: &quot;java.lang.String&quot;,\r\n             &quot;description&quot;: &quot;Prop1 description&quot;,\r\n             &quot;defaultValue&quot;: &quot;property 1&quot;\r\n          }\r\n        ]\r\n     }","title":"Cannot generate Spring Boot configuration metadata with gradle","body":"<p>Along with the steps you have mentioned you also need to add a class mapping. Something like below.</p>\n<pre><code>import lombok.Data;    \nimport org.springframework.boot.context.properties.ConfigurationProperties;\n\n@ConfigurationProperties(prefix = &quot;my.props&quot;)\n@Data\npublic class MyProperties {\n\n  /**\n   * Prop1 description.\n   */\n   private String prop1;\n\n   /**\n   * Prop2 description.\n   */\n   private String prop2;\n}\n</code></pre>\n<p>It's okay to add a class without props but it's needed.</p>\n<p>Sample content of resources/META-INF/additional-spring-configuration-metadata.json</p>\n<pre><code>{\n   &quot;properties&quot;: [\n      {\n         &quot;name&quot;: &quot;my.props.prop1&quot;,\n         &quot;type&quot;: &quot;java.lang.String&quot;,\n         &quot;description&quot;: &quot;Prop1 description&quot;,\n         &quot;defaultValue&quot;: &quot;property 1&quot;\n      }\n    ]\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":272131,"reputation":917,"user_id":563045,"accept_rate":67,"display_name":"Jacob Wallace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668023094,"creation_date":1668023094,"answer_id":74380557,"question_id":66416425,"body_markdown":"I had to do two things to get it working in my Kotlin + Spring Boot + Gradle project:\r\n\r\n- Rename `src/main/kotlin` to `src/main/java`.\r\n- Use an explicit version for the dependency, e.g.:\r\n\r\n```\r\ndependencies {\r\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor:2.7.5&quot;\r\n}\r\n```","title":"Cannot generate Spring Boot configuration metadata with gradle","body":"<p>I had to do two things to get it working in my Kotlin + Spring Boot + Gradle project:</p>\n<ul>\n<li>Rename <code>src/main/kotlin</code> to <code>src/main/java</code>.</li>\n<li>Use an explicit version for the dependency, e.g.:</li>\n</ul>\n<pre><code>dependencies {\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor:2.7.5&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668023094,"creation_date":1614570903,"question_id":66416425,"body_markdown":"I want to generate Spring Boot configuration metadata, with this way:\r\n\r\n[configuration-metadata-annotation-processor-setup][1]\r\n\r\nIn maven, its ok:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut in gradle, no generated:\r\n\r\n    dependencies {\r\n        annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\r\n    }\r\n\r\nThere is same problem with `spring-boot-configuration-processor`, maven is OK but gradle not.\r\n\r\nPlugins I used is `java` or `org.jetbrains.kotlin.jvm`, not `org.springframework.boot`, but I don&#39;t think here is the problem (with plugin `org.springframework.boot`, the problem still exists).\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-configuration-metadata.html#configuration-metadata-annotation-processor-setup","title":"Cannot generate Spring Boot configuration metadata with gradle","body":"<p>I want to generate Spring Boot configuration metadata, with this way:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-configuration-metadata.html#configuration-metadata-annotation-processor-setup\" rel=\"nofollow noreferrer\">configuration-metadata-annotation-processor-setup</a></p>\n<p>In maven, its ok:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But in gradle, no generated:</p>\n<pre><code>dependencies {\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\n}\n</code></pre>\n<p>There is same problem with <code>spring-boot-configuration-processor</code>, maven is OK but gradle not.</p>\n<p>Plugins I used is <code>java</code> or <code>org.jetbrains.kotlin.jvm</code>, not <code>org.springframework.boot</code>, but I don't think here is the problem (with plugin <code>org.springframework.boot</code>, the problem still exists).</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668022916,"creation_date":1668022574,"answer_id":74380468,"question_id":74375315,"body_markdown":"These are JPA annotations and cycles, which providers know about and so knows how to deal with it - how isn&#39;t detailed exactly in the specification, but that they work pretty much is. \r\n\r\nYou&#39;ve only got one cycle, the bidirectional Fraud-FraudActionEntity relationship. Some level of entity caching is required by JPA providers for entity identity management already. if you peform:\r\n\r\n    Fraud fraudA = em.find(1, Fraud.class);\r\n    Fraud fraudAPrime = em.find(1, Fraud.class);\r\n    assertTrue(fraudA == fraudAPrime)\r\n\r\nJPA requires that fraudA and fraudAPrime must be the same object instance. \r\n\r\nJPA mandated that references (FKs) reference only an entities primary key, making cache lookups to build these references manageable. So when building a Fraud and fetching FraudActionEntity, it can check the cache for each and just return that instance if it is already there. Same if it is building a FraudActionEntity instance - it can check if the Fraud referenced by the FK value already exists and return if from the cache instead of having to build it from the DB. This short circuits problems with bidirectional and cyclic references, and ensure that you only ever get the &#39;fraudA&#39; instance when traversing any object graph read from a context, no matter how you traverse the graph or fetch it. Object identity is fundamental to JPA.\r\n\r\nLazy is one other method JPA allows for providers to deal with large object graphs: If it doesn&#39;t need to fetch something, that solves the problem too. This can help with cycles, but is more aimed at pruning large object graphs. Reading in a Fraud might be a problem if you had the Actions have a 1:M to FraudActionEntity. You just didn&#39;t map the relationship, pruning the graph when fetching frauds similar to how lazy does, but without the hooks to fetch it later (you&#39;d have to write your own find by action method). \r\n\r\nWhere problems with cycles usually occur is when some other form of serialization is involved. Common with REST/Spring and the like is that these entity instances will be serialized into JSON. These serialization tools (Jackson is common) are NOT JPA implementations, so do not know about or even look at JPA annotations. They are what would hit issues with this circular object reference, and you can easily find questions and solutions on how to deal with that here - in short, this level of serialization needs to be looked at and dealt with, and the solutions can be quite different from the model you need to read from the database. They don&#39;t have the same entity caching mechanisms built in, so should be tuned independently based on application performance needs and requirements.","title":"Bi-directional EagerFetch @oneTomany mapping worked","body":"<p>These are JPA annotations and cycles, which providers know about and so knows how to deal with it - how isn't detailed exactly in the specification, but that they work pretty much is.</p>\n<p>You've only got one cycle, the bidirectional Fraud-FraudActionEntity relationship. Some level of entity caching is required by JPA providers for entity identity management already. if you peform:</p>\n<pre><code>Fraud fraudA = em.find(1, Fraud.class);\nFraud fraudAPrime = em.find(1, Fraud.class);\nassertTrue(fraudA == fraudAPrime)\n</code></pre>\n<p>JPA requires that fraudA and fraudAPrime must be the same object instance.</p>\n<p>JPA mandated that references (FKs) reference only an entities primary key, making cache lookups to build these references manageable. So when building a Fraud and fetching FraudActionEntity, it can check the cache for each and just return that instance if it is already there. Same if it is building a FraudActionEntity instance - it can check if the Fraud referenced by the FK value already exists and return if from the cache instead of having to build it from the DB. This short circuits problems with bidirectional and cyclic references, and ensure that you only ever get the 'fraudA' instance when traversing any object graph read from a context, no matter how you traverse the graph or fetch it. Object identity is fundamental to JPA.</p>\n<p>Lazy is one other method JPA allows for providers to deal with large object graphs: If it doesn't need to fetch something, that solves the problem too. This can help with cycles, but is more aimed at pruning large object graphs. Reading in a Fraud might be a problem if you had the Actions have a 1:M to FraudActionEntity. You just didn't map the relationship, pruning the graph when fetching frauds similar to how lazy does, but without the hooks to fetch it later (you'd have to write your own find by action method).</p>\n<p>Where problems with cycles usually occur is when some other form of serialization is involved. Common with REST/Spring and the like is that these entity instances will be serialized into JSON. These serialization tools (Jackson is common) are NOT JPA implementations, so do not know about or even look at JPA annotations. They are what would hit issues with this circular object reference, and you can easily find questions and solutions on how to deal with that here - in short, this level of serialization needs to be looked at and dealt with, and the solutions can be quite different from the model you need to read from the database. They don't have the same entity caching mechanisms built in, so should be tuned independently based on application performance needs and requirements.</p>\n"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74380468,"answer_count":1,"score":0,"last_activity_date":1668022916,"creation_date":1667998948,"question_id":74375315,"body_markdown":"I have 3 tables in the DB and 3 JPA entities respectively in Java application.\r\n    \r\n    @Data\r\n    @Entity\r\n    public class Fraud {\r\n\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;fraud_type&quot;)\r\n        private String fraudType;\r\n    \r\n        @Column(name = &quot;fraud_value&quot;)\r\n        private String fraudValue;\r\n    \r\n        @OneToMany(mappedBy = &quot;fraud&quot;, fetch = FetchType.EAGER)\r\n        private List&lt;FraudActionEntity&gt; fraudActions;\r\n        \r\n    }\r\n\r\n    @Data\r\n    @Entity\r\n    public class FraudActionEntity {\r\n\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;fraud_id&quot;)\r\n        private Fraud fraud;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;action_id&quot;)\r\n        private Action action;\r\n    \r\n        @Column(name = &quot;enabled&quot;)\r\n        private Boolean enabled;\r\n    }\r\n\r\n    @Data\r\n    @Entity\r\n    public class Action {\r\n\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n   \r\n        @Column(name = &quot;attribute_key&quot;)\r\n        private String attributeKey;\r\n    \r\n        @Column(name = &quot;attribute_value&quot;)\r\n        private String attributeValue;\r\n    \r\n    }\r\n\r\n    @Repository\r\n    public interface FraudRepository extends JpaRepository&lt;Fraud, Integer&gt; {\r\n    \r\n        public Fraud findByFraudTypeAndFraudValue(String fraudType, String fraudValue);\r\n    \r\n    }\r\n\r\n#### My use case\r\n\r\nOn a certain type of fraud, I want to traverse all the actions that triggers from that type of fraud and act on them.\r\n\r\n#### Access code\r\n\r\n    Fraud fraud = fraudRepository.findByFraudTypeAndFraudValue(&quot;Type&quot;, &quot;Value&quot;);\r\n    log.info(fraud.getFraudActions().get(0).getAction());  \r\n\r\nWhen I above code runs, everything works OK.  I get the `fraud` and `fraudActions` associations as well, without getting any error. \r\n\r\nI was under the impression that as both entities `Fraud` and `FraudActionEntity` are fetching each other eagerly, so it should give some error like cyclic fetch/infinite fetch loop, but it didn&#39;t!\r\n\r\nWhy did it work? And when exactly will give it error like cyclic fetch error OR infinite fetch loop error? And if it does give a cyclic fetch error, can we fix it using lazy fetch at @ManyToOne side as given below:\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;fraud_id&quot;)\r\n    private Fraud fraud;\r\n\r\n","title":"Bi-directional EagerFetch @oneTomany mapping worked","body":"<p>I have 3 tables in the DB and 3 JPA entities respectively in Java application.</p>\n<pre><code>@Data\n@Entity\npublic class Fraud {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;fraud_type&quot;)\n    private String fraudType;\n\n    @Column(name = &quot;fraud_value&quot;)\n    private String fraudValue;\n\n    @OneToMany(mappedBy = &quot;fraud&quot;, fetch = FetchType.EAGER)\n    private List&lt;FraudActionEntity&gt; fraudActions;\n    \n}\n\n@Data\n@Entity\npublic class FraudActionEntity {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;fraud_id&quot;)\n    private Fraud fraud;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;action_id&quot;)\n    private Action action;\n\n    @Column(name = &quot;enabled&quot;)\n    private Boolean enabled;\n}\n\n@Data\n@Entity\npublic class Action {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;attribute_key&quot;)\n    private String attributeKey;\n\n    @Column(name = &quot;attribute_value&quot;)\n    private String attributeValue;\n\n}\n\n@Repository\npublic interface FraudRepository extends JpaRepository&lt;Fraud, Integer&gt; {\n\n    public Fraud findByFraudTypeAndFraudValue(String fraudType, String fraudValue);\n\n}\n</code></pre>\n<h4>My use case</h4>\n<p>On a certain type of fraud, I want to traverse all the actions that triggers from that type of fraud and act on them.</p>\n<h4>Access code</h4>\n<pre><code>Fraud fraud = fraudRepository.findByFraudTypeAndFraudValue(&quot;Type&quot;, &quot;Value&quot;);\nlog.info(fraud.getFraudActions().get(0).getAction());  \n</code></pre>\n<p>When I above code runs, everything works OK.  I get the <code>fraud</code> and <code>fraudActions</code> associations as well, without getting any error.</p>\n<p>I was under the impression that as both entities <code>Fraud</code> and <code>FraudActionEntity</code> are fetching each other eagerly, so it should give some error like cyclic fetch/infinite fetch loop, but it didn't!</p>\n<p>Why did it work? And when exactly will give it error like cyclic fetch error OR infinite fetch loop error? And if it does give a cyclic fetch error, can we fix it using lazy fetch at @ManyToOne side as given below:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;fraud_id&quot;)\nprivate Fraud fraud;\n</code></pre>\n"},{"tags":["java","android","mobile","automation","appium"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1506419805,"post_id":46423194,"comment_id":79803735,"body_markdown":"http://www.seleniumhq.org/exceptions/invalid_selector_exception.jsp","body":"<a href=\"http://www.seleniumhq.org/exceptions/invalid_selector_exception.jsp\" rel=\"nofollow noreferrer\">seleniumhq.org/exceptions/invalid_selector_exception.jsp</a>"},{"owner":{"account_id":5741569,"reputation":636,"user_id":4534129,"display_name":"xstmpx"},"score":0,"creation_date":1506420316,"post_id":46423194,"comment_id":79804101,"body_markdown":"I&#39;m not sure if this is what you are asking for, but If you need to set a time in a time picker you can do something like:\n`TimePicker timePicker = (TimePicker) findViewById(R.id.time_picker);\ntimePicker.setHour(hour);\ntimePicker.setMinute(minute);`\nIs that what you need?","body":"I&#39;m not sure if this is what you are asking for, but If you need to set a time in a time picker you can do something like: <code>TimePicker timePicker = (TimePicker) findViewById(R.id.time_picker); timePicker.setHour(hour); timePicker.setMinute(minute);</code> Is that what you need?"},{"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"score":0,"creation_date":1506420648,"post_id":46423194,"comment_id":79804315,"body_markdown":"@MaxPower: Actually you are referring to the development, What I need to know is how to automate the time picker in Android 5.0","body":"@MaxPower: Actually you are referring to the development, What I need to know is how to automate the time picker in Android 5.0"},{"owner":{"account_id":5741569,"reputation":636,"user_id":4534129,"display_name":"xstmpx"},"score":0,"creation_date":1506420735,"post_id":46423194,"comment_id":79804368,"body_markdown":"What do you mean by automate?","body":"What do you mean by automate?"},{"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"score":0,"creation_date":1506420868,"post_id":46423194,"comment_id":79804480,"body_markdown":"@MaxPower: Using an Automation script, I need to set the time for the time picker. I am using Appium for that.","body":"@MaxPower: Using an Automation script, I need to set the time for the time picker. I am using Appium for that."}],"answers":[{"tags":[],"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1506423683,"creation_date":1506423683,"answer_id":46424663,"question_id":46423194,"body_markdown":"I have solved this issue by using findElementByAccessibilityId\r\n\r\n    androidDriver.findElementByAccessibilityId(&quot;6&quot;).click();","title":"How to Automate Time Picker on Android 5.0 using Appium Java","body":"<p>I have solved this issue by using findElementByAccessibilityId</p>\n\n<pre><code>androidDriver.findElementByAccessibilityId(\"6\").click();\n</code></pre>\n"}],"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46424663,"answer_count":1,"score":1,"last_activity_date":1668022841,"creation_date":1506419541,"question_id":46423194,"body_markdown":"I need to automate the Android 5.0 Native Time Picker to select a time parameterized. \r\n\r\n![Android 5.0 Native Time Picker][1] \r\n\r\nI have searched in several threads and blogs, but I can not find a way to do this.\r\n\r\nI have tried with this,\r\n\r\n    androidDriver.findElement(By.name(&quot;6&quot;)).click();\r\n    androidDriver.findElement(By.name(&quot;45&quot;)).click();\r\n\r\nBut it will give an error like below.\r\n\r\n![Error log][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iDDrd.png\r\n  [2]: https://i.stack.imgur.com/E6FuZ.png","title":"How to Automate Time Picker on Android 5.0 using Appium Java","body":"<p>I need to automate the Android 5.0 Native Time Picker to select a time parameterized. </p>\n\n<p><img src=\"https://i.stack.imgur.com/iDDrd.png\" alt=\"Android 5.0 Native Time Picker\"> </p>\n\n<p>I have searched in several threads and blogs, but I can not find a way to do this.</p>\n\n<p>I have tried with this,</p>\n\n<pre><code>androidDriver.findElement(By.name(\"6\")).click();\nandroidDriver.findElement(By.name(\"45\")).click();\n</code></pre>\n\n<p>But it will give an error like below.</p>\n\n<p><img src=\"https://i.stack.imgur.com/E6FuZ.png\" alt=\"Error log\"></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":241437,"reputation":5355,"user_id":512251,"accept_rate":59,"display_name":"user"},"score":2,"creation_date":1379558759,"post_id":6225537,"comment_id":27874129,"body_markdown":"possible duplicate of [How do I &quot;decompile&quot; Java class files?](http://stackoverflow.com/questions/272535/how-do-i-decompile-java-class-files)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/272535/how-do-i-decompile-java-class-files\">How do I &quot;decompile&quot; Java class files?</a>"},{"owner":{"account_id":11219534,"reputation":1,"user_id":8231095,"display_name":"Anu"},"score":0,"creation_date":1500955622,"post_id":6225537,"comment_id":77551871,"body_markdown":"Try below online tool. It also seems good: **www.showmycode.com/**","body":"Try below online tool. It also seems good: <b>www.showmycode.com/</b>"}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":3,"up_vote_count":53,"is_accepted":true,"score":50,"last_activity_date":1470928220,"creation_date":1307094953,"answer_id":6225559,"question_id":6225537,"body_markdown":"Invoking `javap` to read the bytecode\r\n-------------------------------------\r\nThe `javap` command takes class-names without the `.class` extension. Try\r\n\r\n    javap -c ClassName\r\n\r\nConverting .class files back to .java files\r\n----------\r\n\r\n`javap` will however not give you the implementations of the methods in java-syntax. It will at most give it to you in JVM bytecode format.\r\n\r\nTo actually *decompile* (i.e., do the reverse of `javac`) you will have to use proper decompiler. See for instance the following related question:\r\n\r\n- https://stackoverflow.com/questions/272535/how-do-i-decompile-java-class-files","title":"Convert .class to .java","body":"<h2>Invoking <code>javap</code> to read the bytecode</h2>\n\n<p>The <code>javap</code> command takes class-names without the <code>.class</code> extension. Try</p>\n\n<pre><code>javap -c ClassName\n</code></pre>\n\n<h2>Converting .class files back to .java files</h2>\n\n<p><code>javap</code> will however not give you the implementations of the methods in java-syntax. It will at most give it to you in JVM bytecode format.</p>\n\n<p>To actually <em>decompile</em> (i.e., do the reverse of <code>javac</code>) you will have to use proper decompiler. See for instance the following related question:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/272535/how-do-i-decompile-java-class-files\">How do I &quot;decompile&quot; Java class files?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1307095016,"creation_date":1307095016,"answer_id":6225571,"question_id":6225537,"body_markdown":"I&#39;m guessing that either the class name is wrong - be sure to use the fully-resolved class name, with all packages - or it&#39;s not in the CLASSPATH so javap can&#39;t find it.\r\n\r\n","title":"Convert .class to .java","body":"<p>I'm guessing that either the class name is wrong - be sure to use the fully-resolved class name, with all packages - or it's not in the CLASSPATH so javap can't find it.</p>\n"},{"tags":[],"owner":{"account_id":2424348,"reputation":9,"user_id":2116624,"display_name":"user2116624"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1361990181,"creation_date":1361989056,"answer_id":15119331,"question_id":6225537,"body_markdown":"This is for Mac users:\r\n\r\nfirst of all you have to clarify where the class file is... so for example, in &#39;Terminal&#39; (A Mac Application) you would type:\r\n\r\n    cd\r\n\r\nthen wherever you file is e.g:\r\n\r\n\r\n    cd /Users/CollarBlast/Desktop/JavaFiles/\r\n\r\n\r\nthen you would hit enter. After that you would do the command.\r\ne.g:\r\n\r\n\r\n`cd /Users/CollarBlast/Desktop/JavaFiles/`     (then i would press enter...)\r\n\r\n\r\nThen i would type the command:\r\n\r\n\r\n`javap -c JavaTestClassFile.class`      (then i would press enter again...)\r\n\r\n\r\nand hopefully it should work!\r\n\r\n","title":"Convert .class to .java","body":"<p>This is for Mac users:</p>\n\n<p>first of all you have to clarify where the class file is... so for example, in 'Terminal' (A Mac Application) you would type:</p>\n\n<pre><code>cd\n</code></pre>\n\n<p>then wherever you file is e.g:</p>\n\n<pre><code>cd /Users/CollarBlast/Desktop/JavaFiles/\n</code></pre>\n\n<p>then you would hit enter. After that you would do the command.\ne.g:</p>\n\n<p><code>cd /Users/CollarBlast/Desktop/JavaFiles/</code>     (then i would press enter...)</p>\n\n<p>Then i would type the command:</p>\n\n<p><code>javap -c JavaTestClassFile.class</code>      (then i would press enter again...)</p>\n\n<p>and hopefully it should work!</p>\n"},{"tags":[],"owner":{"account_id":12445000,"reputation":59,"user_id":9061448,"display_name":"Renato Espinoza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607964155,"creation_date":1607964155,"answer_id":65292888,"question_id":6225537,"body_markdown":"I used the http://www.javadecompilers.com but in some classes it gives you the message &quot;could not load this classes...&quot;\r\n\r\nINSTEAD download Android Studio, navigate to the folder containing the java class file and double click it.  The code will show in the right pane and I guess you can copy it an save it as a java file from there","title":"Convert .class to .java","body":"<p>I used the <a href=\"http://www.javadecompilers.com\" rel=\"nofollow noreferrer\">http://www.javadecompilers.com</a> but in some classes it gives you the message &quot;could not load this classes...&quot;</p>\n<p>INSTEAD download Android Studio, navigate to the folder containing the java class file and double click it.  The code will show in the right pane and I guess you can copy it an save it as a java file from there</p>\n"},{"tags":[],"owner":{"account_id":21411832,"reputation":31,"user_id":15771851,"display_name":"Shiva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668022516,"creation_date":1668022516,"answer_id":74380455,"question_id":6225537,"body_markdown":"Step 1: If your class file is inside a jar, rename the .jar extension to .zip and extract the zip folder\r\nStep 2: Using the below online decompiler, upload your .class file and read the contents\r\nhttp://www.javadecompilers.com/","title":"Convert .class to .java","body":"<p>Step 1: If your class file is inside a jar, rename the .jar extension to .zip and extract the zip folder\nStep 2: Using the below online decompiler, upload your .class file and read the contents\n<a href=\"http://www.javadecompilers.com/\" rel=\"nofollow noreferrer\">http://www.javadecompilers.com/</a></p>\n"}],"owner":{"account_id":336165,"reputation":1739,"user_id":663672,"accept_rate":75,"display_name":"fabricemarcelin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310085,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":6225559,"answer_count":5,"score":40,"last_activity_date":1668022516,"creation_date":1307094811,"question_id":6225537,"body_markdown":"I have some .class files that I need to convert to .java so I did:\r\n\r\n    javap -c ClassName.class\r\n\r\nand all the time I have the same error\r\n```\r\nERROR:Could not find ClassName.class\r\n```\r\nDo you guys have any idea of what might be the cause? I did man javap and as far as I know, the syntax is correct. If there is another way to convert it to a .java file, I am more than willing to try. ","title":"Convert .class to .java","body":"<p>I have some .class files that I need to convert to .java so I did:</p>\n<pre><code>javap -c ClassName.class\n</code></pre>\n<p>and all the time I have the same error</p>\n<pre><code>ERROR:Could not find ClassName.class\n</code></pre>\n<p>Do you guys have any idea of what might be the cause? I did man javap and as far as I know, the syntax is correct. If there is another way to convert it to a .java file, I am more than willing to try.</p>\n"},{"tags":["java","graphics","geometry","trigonometry","segment"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1389819724,"post_id":21148084,"comment_id":31829988,"body_markdown":"Less a Java problem and more a Math problem.","body":"Less a Java problem and more a Math problem."},{"owner":{"account_id":2981191,"reputation":1927,"user_id":2531105,"accept_rate":70,"display_name":"Robin"},"score":0,"creation_date":1389819946,"post_id":21148084,"comment_id":31830115,"body_markdown":"I was thinking that at first. But it&#39;s not really the geometry that is the problem, it&#39;s rather the coordinate-system that makes it all confusing..","body":"I was thinking that at first. But it&#39;s not really the geometry that is the problem, it&#39;s rather the coordinate-system that makes it all confusing.."},{"owner":{"account_id":525694,"reputation":5632,"user_id":1010405,"accept_rate":73,"display_name":"NoChance"},"score":1,"creation_date":1389822162,"post_id":21148084,"comment_id":31831406,"body_markdown":"Take a look at: http://www.regentsprep.org/Regents/math/geometry/GCG6/RCir.htm","body":"Take a look at: <a href=\"http://www.regentsprep.org/Regents/math/geometry/GCG6/RCir.htm\" rel=\"nofollow noreferrer\">regentsprep.org/Regents/math/geometry/GCG6/RCir.htm</a>"}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1668022230,"creation_date":1389821165,"answer_id":21148558,"question_id":21148084,"body_markdown":"There&#39;s a well-known relationship (see [here][1], for instance) between the chord half length, the height of the arc (also called the _sagitta_), and the radius. Let the chord length (the distance between p&lt;sub&gt;1&lt;/sub&gt; and p&lt;sub&gt;2&lt;/sub&gt; be _l_ = 2 _d_, let the arc height be _h_, and let the radius be _r_. Then\r\n\r\n&gt; _r_ = (_d_ &lt;sup&gt;2&lt;/sup&gt; + _h_ &lt;sup&gt;2&lt;/sup&gt;) / (2 _h_)\r\n\r\nThe center is on the perpendicular bisector of the chord, at a distance _r_ - _h_ from the chord, on the opposite side from the arc.&lt;sup&gt;1&lt;/sup&gt; You can then use standard inverse trig functions to get the start and end angles for the chord.\r\n\r\n&lt;sub&gt;&amp;nbsp;&lt;sup&gt;1&lt;/sup&gt; Note that it is not enough to know _p_&lt;sub&gt;1&lt;/sub&gt;, _p_&lt;sub&gt;2&lt;/sub&gt;, and _h_; you need some way of identifying which side of the chord has the center and which side has the arc.&lt;/sub&gt;\r\n\r\n  [1]: https://web.archive.org/web/20171223110118/http://mathforum.org/library/drmath/view/55037.html","title":"How do I draw an arc based on two given points and a given height describing a circle segment?","body":"<p>There's a well-known relationship (see <a href=\"https://web.archive.org/web/20171223110118/http://mathforum.org/library/drmath/view/55037.html\" rel=\"nofollow noreferrer\">here</a>, for instance) between the chord half length, the height of the arc (also called the <em>sagitta</em>), and the radius. Let the chord length (the distance between p<sub>1</sub> and p<sub>2</sub> be <em>l</em> = 2 <em>d</em>, let the arc height be <em>h</em>, and let the radius be <em>r</em>. Then</p>\n<blockquote>\n<p><em>r</em> = (<em>d</em> <sup>2</sup> + <em>h</em> <sup>2</sup>) / (2 <em>h</em>)</p>\n</blockquote>\n<p>The center is on the perpendicular bisector of the chord, at a distance <em>r</em> - <em>h</em> from the chord, on the opposite side from the arc.<sup>1</sup> You can then use standard inverse trig functions to get the start and end angles for the chord.</p>\n<p><sub> <sup>1</sup> Note that it is not enough to know <em>p</em><sub>1</sub>, <em>p</em><sub>2</sub>, and <em>h</em>; you need some way of identifying which side of the chord has the center and which side has the arc.</sub></p>\n"}],"owner":{"account_id":2981191,"reputation":1927,"user_id":2531105,"accept_rate":70,"display_name":"Robin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6259,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":21148558,"answer_count":1,"score":4,"last_activity_date":1668022230,"creation_date":1389819643,"question_id":21148084,"body_markdown":"I&#39;m trying to draw an arc based on two given points and a given height describing a circle segment. To acomplish this I would use the following method from java.awt.Graphics.\r\n\r\n    drawArc(int x, int y, int width, int height, int startAngle, int arcAngle)\r\n\r\nFirst I observe that the x, y, width and height values describes a rectangle containing the circle.\r\n\r\n&gt; The center of the arc is the center of the rectangle whose origin is (x, y) and whose size is specified by the width and height arguments. (http://docs.oracle.com/javase/7/docs/api/java/awt/Graphics.html)\r\n\r\nSo first I start by calculating the x,y,width and height values. The picture below describes how I would do this.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/sCCuT.png\r\n\r\nThe first picture shows what values I&#39;ve already got. The arc in the first picture is exactly what I&#39;m trying to draw. In picture number two I calculate the lenght of a line between the two points. My code to perform this step would look like this:\r\n\r\n    int dx = p1.x- p2.x;\r\n    int dy = p1.y - p2.y;\r\n    double len = Math.sqrt(Math.pow((double)dx, 2) + Math.pow((double)dy, 2));\r\n\r\nAs shown in picture three I can now calculate the radius of the circle by using the following function.\r\n\r\n    radius = h/2 + len^2 / 8h\r\n\r\nThe first problem I encounter is to calculate the CenterPoint of the circle. This is partly where I need help.\r\n\r\nIf I was to calculate the Center Point I can then easily find the x, y, whith and height coordinates.\r\n\r\n    x = centerPoint.x - radius;\r\n    y = centerPoint.y - radius;\r\n    width = radius * 2;\r\n    height = radius * 2;\r\n\r\nThe last part is to calculate the startAngle and arcAngle based on the values we already calculated. \r\n\r\n**TL;DR** I need help with calculating the angles and the center point.\r\n\r\nThanks in advance!","title":"How do I draw an arc based on two given points and a given height describing a circle segment?","body":"<p>I'm trying to draw an arc based on two given points and a given height describing a circle segment. To acomplish this I would use the following method from java.awt.Graphics.</p>\n\n<pre><code>drawArc(int x, int y, int width, int height, int startAngle, int arcAngle)\n</code></pre>\n\n<p>First I observe that the x, y, width and height values describes a rectangle containing the circle.</p>\n\n<blockquote>\n  <p>The center of the arc is the center of the rectangle whose origin is (x, y) and whose size is specified by the width and height arguments. (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Graphics.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/awt/Graphics.html</a>)</p>\n</blockquote>\n\n<p>So first I start by calculating the x,y,width and height values. The picture below describes how I would do this.</p>\n\n<p><img src=\"https://i.stack.imgur.com/sCCuT.png\" alt=\"enter image description here\"></p>\n\n<p>The first picture shows what values I've already got. The arc in the first picture is exactly what I'm trying to draw. In picture number two I calculate the lenght of a line between the two points. My code to perform this step would look like this:</p>\n\n<pre><code>int dx = p1.x- p2.x;\nint dy = p1.y - p2.y;\ndouble len = Math.sqrt(Math.pow((double)dx, 2) + Math.pow((double)dy, 2));\n</code></pre>\n\n<p>As shown in picture three I can now calculate the radius of the circle by using the following function.</p>\n\n<pre><code>radius = h/2 + len^2 / 8h\n</code></pre>\n\n<p>The first problem I encounter is to calculate the CenterPoint of the circle. This is partly where I need help.</p>\n\n<p>If I was to calculate the Center Point I can then easily find the x, y, whith and height coordinates.</p>\n\n<pre><code>x = centerPoint.x - radius;\ny = centerPoint.y - radius;\nwidth = radius * 2;\nheight = radius * 2;\n</code></pre>\n\n<p>The last part is to calculate the startAngle and arcAngle based on the values we already calculated. </p>\n\n<p><strong>TL;DR</strong> I need help with calculating the angles and the center point.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","for-loop","sum","big-o","time-complexity"],"comments":[{"owner":{"account_id":285695,"reputation":198878,"user_id":584518,"accept_rate":96,"display_name":"Lundin"},"score":0,"creation_date":1376393303,"post_id":18207510,"comment_id":26686192,"body_markdown":"Hello and welcome to Stack Overflow. To get maximum attention to your question, and to get the correct code color formatting, always specify the programming language used. I added a C tag to fix this.","body":"Hello and welcome to Stack Overflow. To get maximum attention to your question, and to get the correct code color formatting, always specify the programming language used. I added a C tag to fix this."},{"owner":{"account_id":2573628,"reputation":138421,"user_id":2231815,"display_name":"rakib_"},"score":0,"creation_date":1376395123,"post_id":18207510,"comment_id":26687294,"body_markdown":"The first example and the SUM notation (1 = N) you&#39;ve shown - isn&#39;t correct. In SUM notation, N is a variable, can be any integer. N=1 it&#39;s not because a = i cost&#39;s 1. Cost will be dependent upon N, so cost would be something like - total_cost = N * 1 (since a = i cost&#39;s 1).","body":"The first example and the SUM notation (1 = N) you&#39;ve shown - isn&#39;t correct. In SUM notation, N is a variable, can be any integer. N=1 it&#39;s not because a = i cost&#39;s 1. Cost will be dependent upon N, so cost would be something like - total_cost = N * 1 (since a = i cost&#39;s 1)."},{"owner":{"account_id":3165866,"reputation":41,"user_id":2675904,"display_name":"user2675904"},"score":1,"creation_date":1376396032,"post_id":18207510,"comment_id":26687818,"body_markdown":"The first example is correct. N is just a variable as you say and the cost for the operation inside the loop is 1. a is not a=a+i, it just a constant operation of a=i, costs 1. It&#39;s not even interesting to in this case, just think of it as a cost of 1. And if you write out the complete sum for the example, 1+1+1+1+1+1+1+1+1 n number of times and sum thoses 1s up, it will be equal to n. Go check on wolfram alpha and use Sum 1, i=0 to n-1","body":"The first example is correct. N is just a variable as you say and the cost for the operation inside the loop is 1. a is not a=a+i, it just a constant operation of a=i, costs 1. It&#39;s not even interesting to in this case, just think of it as a cost of 1. And if you write out the complete sum for the example, 1+1+1+1+1+1+1+1+1 n number of times and sum thoses 1s up, it will be equal to n. Go check on wolfram alpha and use Sum 1, i=0 to n-1"}],"answers":[{"tags":[],"owner":{"account_id":1744463,"reputation":12621,"user_id":1594980,"accept_rate":85,"display_name":"Jiri Kremser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668022186,"creation_date":1376429959,"answer_id":18219686,"question_id":18207510,"body_markdown":"Logarithmic\r\n-----------\r\n\r\nThe second for-loop will never stop (`0 * 2 = 0`). I guess, you were asking about this loop:\r\n\r\n    for (int i = 1; i &lt; n; i = 2 * i)  \r\n      a = i; //cost 1\r\n\r\nIn this case the complexity expressed via the sum notation will be:\r\n\r\n **Sum 1, i=1 to log(n-1) == O(log n)**\r\n\r\n\r\nTriple nested\r\n-----------\r\nIn this case it will be the summation of:\r\n\r\n     number of steps                 sum\r\n     --------------------------------------\r\n     1   1   1   1   1   1   .       n\r\n     2   2   2   2   2   .           2(n-1)\r\n     3   3   3   3   .               3(n-2)\r\n     4   4   4   .                   4(n-3)\r\n     .   .   .                       .\r\n    n-1 n-1                          2(n-1)\r\n     n                               n\r\n\r\nor alternatively if I transpose the triangle:\r\n\r\n     number of steps                 sum\r\n     --------------------------------------\r\n     1   2   3   4   .  n-1   n      n(n+1)/2 \r\n     1   2   3   4   .  n-1          (n-1)(n)/2\r\n     1   2   3   4   .               (n-2)(n-1)/2\r\n     1   2   3   .                   4(n-3)\r\n     1   2   .                       .\r\n     1   .                           3\r\n     .                               1\r\n\r\nThe numbers on the right side (in the second triangle) are also called [triangle numbers][1]. So the question is equivalent to \r\n\r\n&quot;*What is the sum of triangle numbers lower or equal than f(n). (f(1) + f(2) + f(n), where f(x) = x(x+1)/2).*&quot;\r\n\r\nThe answer to this question is\r\n\r\n**f(n) = n(n+1)(n+2)/6**\r\n\r\nThe proof is [here][2].\r\n\r\nSo the resulting complexity in big-o is **O(n^3)**\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Triangular_number\r\n  [2]: https://web.archive.org/web/20171227155102/http://mathforum.org/library/drmath/view/56926.html","title":"Logarithmic and other for loop converted to sum notation","body":"<h2>Logarithmic</h2>\n<p>The second for-loop will never stop (<code>0 * 2 = 0</code>). I guess, you were asking about this loop:</p>\n<pre><code>for (int i = 1; i &lt; n; i = 2 * i)  \n  a = i; //cost 1\n</code></pre>\n<p>In this case the complexity expressed via the sum notation will be:</p>\n<p><strong>Sum 1, i=1 to log(n-1) == O(log n)</strong></p>\n<h2>Triple nested</h2>\n<p>In this case it will be the summation of:</p>\n<pre><code> number of steps                 sum\n --------------------------------------\n 1   1   1   1   1   1   .       n\n 2   2   2   2   2   .           2(n-1)\n 3   3   3   3   .               3(n-2)\n 4   4   4   .                   4(n-3)\n .   .   .                       .\nn-1 n-1                          2(n-1)\n n                               n\n</code></pre>\n<p>or alternatively if I transpose the triangle:</p>\n<pre><code> number of steps                 sum\n --------------------------------------\n 1   2   3   4   .  n-1   n      n(n+1)/2 \n 1   2   3   4   .  n-1          (n-1)(n)/2\n 1   2   3   4   .               (n-2)(n-1)/2\n 1   2   3   .                   4(n-3)\n 1   2   .                       .\n 1   .                           3\n .                               1\n</code></pre>\n<p>The numbers on the right side (in the second triangle) are also called <a href=\"https://en.wikipedia.org/wiki/Triangular_number\" rel=\"nofollow noreferrer\">triangle numbers</a>. So the question is equivalent to</p>\n<p>&quot;<em>What is the sum of triangle numbers lower or equal than f(n). (f(1) + f(2) + f(n), where f(x) = x(x+1)/2).</em>&quot;</p>\n<p>The answer to this question is</p>\n<p><strong>f(n) = n(n+1)(n+2)/6</strong></p>\n<p>The proof is <a href=\"https://web.archive.org/web/20171227155102/http://mathforum.org/library/drmath/view/56926.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>So the resulting complexity in big-o is <strong>O(n^3)</strong></p>\n"},{"tags":[],"owner":{"account_id":916158,"reputation":5567,"user_id":948918,"accept_rate":43,"display_name":"pkacprzak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376437923,"creation_date":1376437923,"answer_id":18221106,"question_id":18207510,"body_markdown":"The triple nested loop\r\n=\r\n&lt;br/&gt;\r\nI&#39;ll give a simple, but a very useful method to analyze such summations in terms of the asymptotic notation. \r\n\r\nThis is a very general method, you can use it to bound many multiple index summations without a big effort.\r\n\r\nUpper bound\r\n-\r\n\r\nFirst of all, let&#39;s derive an upper bound for the sum. It&#39;s quite easy:\r\n\r\n![enter image description here][1]\r\n\r\n\r\nLower bound\r\n-\r\n\r\nThe trick in this case is to derive the lower bound. The rule of thumb is to reduce the summation range incrementing the lower summation index to the fraction of the upper index and then substitute the new lower index as the upper index in the nested loop. It&#39;s also pretty easy:\r\n\r\n![enter image description here][2]\r\n\r\nPutting it together\r\n-\r\nFrom both inequalities, you can deduce that:\r\n\r\n![enter image description here][3]\r\n\r\nWhich in terms of the asymptotic analysis gives:\r\n\r\n![enter image description here][4]\r\n\r\n\r\nAs you can see, your triple nested loop has the same asymptotic time complexity as:\r\n\r\n    for(int i = 0; i &lt; n; i = i + 1)  \r\n       for(int j = 0; j &lt; n; j = j + 1)  \r\n          for(int k = 0; k &lt; n; k = k + 1)  \r\n             //operations of cost 1\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GHLBz.gif\r\n  [2]: http://i.stack.imgur.com/PCCCe.gif\r\n  [3]: http://i.stack.imgur.com/nRVCr.gif\r\n  [4]: http://i.stack.imgur.com/AKrQg.gif","title":"Logarithmic and other for loop converted to sum notation","body":"<h1>The triple nested loop</h1>\n\n<p><br/>\nI'll give a simple, but a very useful method to analyze such summations in terms of the asymptotic notation. </p>\n\n<p>This is a very general method, you can use it to bound many multiple index summations without a big effort.</p>\n\n<h2>Upper bound</h2>\n\n<p>First of all, let's derive an upper bound for the sum. It's quite easy:</p>\n\n<p><img src=\"https://i.stack.imgur.com/GHLBz.gif\" alt=\"enter image description here\"></p>\n\n<h2>Lower bound</h2>\n\n<p>The trick in this case is to derive the lower bound. The rule of thumb is to reduce the summation range incrementing the lower summation index to the fraction of the upper index and then substitute the new lower index as the upper index in the nested loop. It's also pretty easy:</p>\n\n<p><img src=\"https://i.stack.imgur.com/PCCCe.gif\" alt=\"enter image description here\"></p>\n\n<h2>Putting it together</h2>\n\n<p>From both inequalities, you can deduce that:</p>\n\n<p><img src=\"https://i.stack.imgur.com/nRVCr.gif\" alt=\"enter image description here\"></p>\n\n<p>Which in terms of the asymptotic analysis gives:</p>\n\n<p><img src=\"https://i.stack.imgur.com/AKrQg.gif\" alt=\"enter image description here\"></p>\n\n<p>As you can see, your triple nested loop has the same asymptotic time complexity as:</p>\n\n<pre><code>for(int i = 0; i &lt; n; i = i + 1)  \n   for(int j = 0; j &lt; n; j = j + 1)  \n      for(int k = 0; k &lt; n; k = k + 1)  \n         //operations of cost 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4072211,"reputation":2941,"user_id":3344832,"accept_rate":50,"display_name":"Mohamed Ennahdi El Idrissi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394809609,"creation_date":1394769911,"answer_id":22395882,"question_id":18207510,"body_markdown":"**For the logarithmic loop:**\r\n\r\nFirst, you can&#39;t initialize the index with zero when dealing with logarithmic loops.\r\n\r\nSecond, the following is the way to present the algorithmic loop using Sigma notation:\r\n\r\n![enter image description here][1]\r\n\r\n\r\nLook at the last slide of [this document][2] of Dr. Jauhar.\r\n\r\n**For the three nested loops:**\r\n\r\n![enter image description here][3]\r\n\r\n\r\nMark Allen Weiss work may help you considerably. See this [link][4].\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6t804.png\r\n  [2]: http://faculty.kfupm.edu.sa/ics/jauhar/ics202/Unit03_ComplexityAnalysis1.ppt\r\n  [3]: http://i.stack.imgur.com/9xV7M.png\r\n  [4]: http://homes.ieu.edu.tr/cevrendilek/CE221_week_4_Chapter2_AlgorithmAnalysisPart2.ppt","title":"Logarithmic and other for loop converted to sum notation","body":"<p><strong>For the logarithmic loop:</strong></p>\n\n<p>First, you can't initialize the index with zero when dealing with logarithmic loops.</p>\n\n<p>Second, the following is the way to present the algorithmic loop using Sigma notation:</p>\n\n<p><img src=\"https://i.stack.imgur.com/6t804.png\" alt=\"enter image description here\"></p>\n\n<p>Look at the last slide of <a href=\"http://faculty.kfupm.edu.sa/ics/jauhar/ics202/Unit03_ComplexityAnalysis1.ppt\" rel=\"nofollow noreferrer\">this document</a> of Dr. Jauhar.</p>\n\n<p><strong>For the three nested loops:</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/9xV7M.png\" alt=\"enter image description here\"></p>\n\n<p>Mark Allen Weiss work may help you considerably. See this <a href=\"http://homes.ieu.edu.tr/cevrendilek/CE221_week_4_Chapter2_AlgorithmAnalysisPart2.ppt\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}],"owner":{"account_id":3165866,"reputation":41,"user_id":2675904,"display_name":"user2675904"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3937,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1668022186,"creation_date":1376392122,"question_id":18207510,"body_markdown":"I need help with for loops converted to a sum nations. Some of are easy but others are a bit tricky. I need getting the sum notation setup correctly.\r\n\r\nLike this: (Correct for example loop)\r\n\r\n![Image][1]\r\n\r\n\r\nAs an example:\r\n     \r\n    for (int i = 0; i &lt; n; i = i + 1)  \r\n      a = i; //cost 1\r\n\r\nSum 1, i=0 to n-1 == n.   \r\n\r\n\r\nI need help with following:\r\n\r\n\r\nLogarithmic (just the correct sum notation)   \r\n    \r\n    for (int i = 0; i &lt; n; i = 2 * i)  \r\n      a = i; //cost 1\r\n\r\n\r\nSum 1, i=0 to log(n)-1 == log n. Correct??\r\n\r\nTriple nested (both sum notation and step by step why it ends up like it)   \r\n   \r\n    for (int i = 0; i &lt; n; i = i + 1)  \r\n    for (int j = 0; j &lt;= i; j = j + 1)  \r\n    for (int k = 0; k &lt;= j; k = k + 1)  \r\n      a=i; //cost 1\r\n\r\n\r\n![Image][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/YAMwe.png\r\n  [2]: http://i.stack.imgur.com/hUxdH.png","title":"Logarithmic and other for loop converted to sum notation","body":"<p>I need help with for loops converted to a sum nations. Some of are easy but others are a bit tricky. I need getting the sum notation setup correctly.</p>\n\n<p>Like this: (Correct for example loop)</p>\n\n<p><img src=\"https://i.stack.imgur.com/YAMwe.png\" alt=\"Image\"></p>\n\n<p>As an example:</p>\n\n<pre><code>for (int i = 0; i &lt; n; i = i + 1)  \n  a = i; //cost 1\n</code></pre>\n\n<p>Sum 1, i=0 to n-1 == n.   </p>\n\n<p>I need help with following:</p>\n\n<p>Logarithmic (just the correct sum notation)   </p>\n\n<pre><code>for (int i = 0; i &lt; n; i = 2 * i)  \n  a = i; //cost 1\n</code></pre>\n\n<p>Sum 1, i=0 to log(n)-1 == log n. Correct??</p>\n\n<p>Triple nested (both sum notation and step by step why it ends up like it)   </p>\n\n<pre><code>for (int i = 0; i &lt; n; i = i + 1)  \nfor (int j = 0; j &lt;= i; j = j + 1)  \nfor (int k = 0; k &lt;= j; k = k + 1)  \n  a=i; //cost 1\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/hUxdH.png\" alt=\"Image\"></p>\n"},{"tags":["java","calendar"],"answers":[{"tags":[],"owner":{"account_id":2989156,"reputation":340,"user_id":2537147,"display_name":"Maxime Piraux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375132241,"creation_date":1375132241,"answer_id":17934259,"question_id":17934093,"body_markdown":"The `leap` method is never called. That could be that. Because the first day of this month is Monday not Tuesday (just a day before =&gt; because last year was a leap year)\r\n","title":"Java: calculating day of week works for all dates except this month","body":"<p>The <code>leap</code> method is never called. That could be that. Because the first day of this month is Monday not Tuesday (just a day before => because last year was a leap year)</p>\n"},{"tags":[],"owner":{"account_id":2863588,"reputation":11468,"user_id":2458310,"display_name":"denov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668022182,"creation_date":1375133538,"answer_id":17934587,"question_id":17934093,"body_markdown":"Not sure if you&#39;re formula is correct and the numbers to day matches up with it.  [Link](https://web.archive.org/web/20171220175657/http://mathforum.org/library/drmath/view/55837.html)\r\n\r\nN = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\r\n\r\n\r\ni would also make this method more generic\r\n\r\n     public int firstDayOfYear(int day, int month, int year) {\r\n            int day = day + (2*month) + ((3*(month+1))/5) + year + (year/4) - (year/100) + (year/ 400) +2;\r\n            return day % 7;\r\n        }\r\n\r\n     System.out.println(&quot;First day of the year: &quot; + newCal.firstDayOfYear(1, 1, inYear));\r\n   ","title":"Java: calculating day of week works for all dates except this month","body":"<p>Not sure if you're formula is correct and the numbers to day matches up with it.  <a href=\"https://web.archive.org/web/20171220175657/http://mathforum.org/library/drmath/view/55837.html\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2</p>\n<p>i would also make this method more generic</p>\n<pre><code> public int firstDayOfYear(int day, int month, int year) {\n        int day = day + (2*month) + ((3*(month+1))/5) + year + (year/4) - (year/100) + (year/ 400) +2;\n        return day % 7;\n    }\n\n System.out.println(&quot;First day of the year: &quot; + newCal.firstDayOfYear(1, 1, inYear));\n</code></pre>\n"}],"owner":{"account_id":1016938,"reputation":187,"user_id":2631632,"accept_rate":75,"display_name":"Michael Dornisch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3728,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":17934587,"answer_count":2,"score":2,"last_activity_date":1668022182,"creation_date":1375131561,"question_id":17934093,"body_markdown":"I am writing a program for my programming class, where the objective is to calculate the day of the week of a day and month entered. I must do this without using the Calendar class.\r\n\r\nMy code works with any month/year I supply, except for this month(7/2013). I can&#39;t figure out why that would be. Can anybody help with this?\r\nExamples of the outputs are as follows:\r\n\r\nWrong example\r\n\r\n    run:\r\n    Gregorian Calendar Creator\r\n    Enter a month: 7\r\n    Enter a year: 2013\r\n    0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\r\n    Test this in a UNIX terminal by typing &#39;cal July 2013&#39; or similar date\r\n    First day of the month: 2\r\n    First day of the year: 1\r\n    BUILD SUCCESSFUL (total time: 5 seconds)\r\n\r\nRight Example\r\n\r\n    run:\r\n    Gregorian Calendar Creator\r\n    Enter a month: 7\r\n    Enter a year: 2012\r\n    0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\r\n    Test this in a UNIX terminal by typing &#39;cal July 2013&#39; or similar date\r\n    First day of the month: 1\r\n    First day of the year: 0\r\n    BUILD SUCCESSFUL (total time: 5 seconds)\r\n\r\nI have linked a downloadable Java file [here][1]\r\n\r\n    package calendar;\r\n\r\n    /**\r\n     *\r\n     * @author Michael Dornisch\r\n     */\r\n    import java.util.Scanner;\r\n\r\n    public class Calendar {\r\n\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            //Initiating vars\r\n            int inMonth;\r\n            int inYear;\r\n\r\n            //Initiating Scanner\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            System.out.println(&quot;Gregorian Calendar Creator&quot;); //Just a print line\r\n\r\n            /* This block gets a month. Instead of exiting when the user inputs an \r\n             * invalid month, it instead asks again untl a proper month is used.\r\n             */\r\n            System.out.print(&quot;Enter a month: &quot;);\r\n            inMonth = input.nextInt();\r\n            while (inMonth &gt; 12 || inMonth &lt;= 0) {\r\n                System.out.println(&quot;ERROR: Improper month. Please enter a proper numerical month (1-12).&quot;);\r\n                System.out.print(&quot;Enter a month: &quot;);\r\n                inMonth = input.nextInt();\r\n            }\r\n            /* This block gets a year. Instead of exiting when the user inputs an \r\n             * invalid year, it instead asks again untl a proper year is used.\r\n             */\r\n            System.out.print(&quot;Enter a year: &quot;);\r\n            inYear = input.nextInt();\r\n            while (inYear &lt; 1752) {\r\n                System.out.println(&quot;ERROR: Improper Year. Please enter a year that is 1753 or greater.&quot;);\r\n                System.out.print(&quot;Enter a year: &quot;);\r\n                inYear = input.nextInt();\r\n            }\r\n            /* Here is where I am testing everything\r\n             * \r\n             */\r\n            Calendar newCal = new Calendar();\r\n            System.out.println(&quot;0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat&quot;);\r\n            System.out.println(&quot;Test this in a UNIX terminal by typing &#39;cal July 2013&#39; or similar date&quot;);\r\n            System.out.println(&quot;First day of the month: &quot; + newCal.firstDayOfMonth(inMonth, inYear));\r\n            System.out.println(&quot;First day of the year: &quot; + newCal.firstDayOfYear(inYear));\r\n        }\r\n\r\n        public boolean leap(int inputYear) {\r\n\r\n            /* This IF is checked first. If the year is divisible by 100, it isn&#39;t a \r\n             * leap year unless it is also divisible by 400. \r\n             */\r\n            if (inputYear % 100 == 0) {\r\n                if (inputYear % 400 == 0) {\r\n                    return (true);\r\n                } else {\r\n                    return (false);\r\n                }\r\n            }\r\n            //Any other number that&#39;s divisible by 4 is also a leap year\r\n            if (inputYear % 4 == 0) {\r\n                return (true);\r\n            } else {\r\n                return (false);\r\n            }\r\n        }\r\n\r\n        public int firstDayOfYear(int inputYear) {\r\n            /*\r\n             * Here is a formula for finding the day of the week for ANY date.\r\n             * N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\r\n             * N = day of week\r\n             * d = day of month\r\n             * m = number of month\r\n             * y = year\r\n             *  mod 7 for answer\r\n             * 0 = sunday, 1 = monday, etc.\r\n             */\r\n            int day = 5 + (6 / 5) + inputYear + (inputYear / 4) - (inputYear / 100) + (inputYear / 400);\r\n            day = day % 7;\r\n            return (day);\r\n        }\r\n\r\n        public int firstDayOfMonth(int inputMonth, int inputYear) {\r\n            /*\r\n             * Here is a formula for finding the day of the week for ANY date.\r\n             * N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\r\n             * N = day of week\r\n             * d = day of month\r\n             * m = number of month\r\n             * y = year\r\n             *  mod 7 for answer\r\n             * 0 = sunday, 1 = monday, etc.\r\n             */\r\n            int day = 3 + (2 * inputMonth) + ((3 * (inputMonth + 1)) / 5) + inputYear + (inputYear / 4) - (inputYear / 100) + (inputYear / 400);\r\n            day = day % 7;\r\n            return (day);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://app.box.com/s/su6oaufutyikmg2nqmvo","title":"Java: calculating day of week works for all dates except this month","body":"<p>I am writing a program for my programming class, where the objective is to calculate the day of the week of a day and month entered. I must do this without using the Calendar class.</p>\n\n<p>My code works with any month/year I supply, except for this month(7/2013). I can't figure out why that would be. Can anybody help with this?\nExamples of the outputs are as follows:</p>\n\n<p>Wrong example</p>\n\n<pre><code>run:\nGregorian Calendar Creator\nEnter a month: 7\nEnter a year: 2013\n0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\nTest this in a UNIX terminal by typing 'cal July 2013' or similar date\nFirst day of the month: 2\nFirst day of the year: 1\nBUILD SUCCESSFUL (total time: 5 seconds)\n</code></pre>\n\n<p>Right Example</p>\n\n<pre><code>run:\nGregorian Calendar Creator\nEnter a month: 7\nEnter a year: 2012\n0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\nTest this in a UNIX terminal by typing 'cal July 2013' or similar date\nFirst day of the month: 1\nFirst day of the year: 0\nBUILD SUCCESSFUL (total time: 5 seconds)\n</code></pre>\n\n<p>I have linked a downloadable Java file <a href=\"https://app.box.com/s/su6oaufutyikmg2nqmvo\" rel=\"nofollow\">here</a></p>\n\n<pre><code>package calendar;\n\n/**\n *\n * @author Michael Dornisch\n */\nimport java.util.Scanner;\n\npublic class Calendar {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        //Initiating vars\n        int inMonth;\n        int inYear;\n\n        //Initiating Scanner\n        Scanner input = new Scanner(System.in);\n\n        System.out.println(\"Gregorian Calendar Creator\"); //Just a print line\n\n        /* This block gets a month. Instead of exiting when the user inputs an \n         * invalid month, it instead asks again untl a proper month is used.\n         */\n        System.out.print(\"Enter a month: \");\n        inMonth = input.nextInt();\n        while (inMonth &gt; 12 || inMonth &lt;= 0) {\n            System.out.println(\"ERROR: Improper month. Please enter a proper numerical month (1-12).\");\n            System.out.print(\"Enter a month: \");\n            inMonth = input.nextInt();\n        }\n        /* This block gets a year. Instead of exiting when the user inputs an \n         * invalid year, it instead asks again untl a proper year is used.\n         */\n        System.out.print(\"Enter a year: \");\n        inYear = input.nextInt();\n        while (inYear &lt; 1752) {\n            System.out.println(\"ERROR: Improper Year. Please enter a year that is 1753 or greater.\");\n            System.out.print(\"Enter a year: \");\n            inYear = input.nextInt();\n        }\n        /* Here is where I am testing everything\n         * \n         */\n        Calendar newCal = new Calendar();\n        System.out.println(\"0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\");\n        System.out.println(\"Test this in a UNIX terminal by typing 'cal July 2013' or similar date\");\n        System.out.println(\"First day of the month: \" + newCal.firstDayOfMonth(inMonth, inYear));\n        System.out.println(\"First day of the year: \" + newCal.firstDayOfYear(inYear));\n    }\n\n    public boolean leap(int inputYear) {\n\n        /* This IF is checked first. If the year is divisible by 100, it isn't a \n         * leap year unless it is also divisible by 400. \n         */\n        if (inputYear % 100 == 0) {\n            if (inputYear % 400 == 0) {\n                return (true);\n            } else {\n                return (false);\n            }\n        }\n        //Any other number that's divisible by 4 is also a leap year\n        if (inputYear % 4 == 0) {\n            return (true);\n        } else {\n            return (false);\n        }\n    }\n\n    public int firstDayOfYear(int inputYear) {\n        /*\n         * Here is a formula for finding the day of the week for ANY date.\n         * N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\n         * N = day of week\n         * d = day of month\n         * m = number of month\n         * y = year\n         *  mod 7 for answer\n         * 0 = sunday, 1 = monday, etc.\n         */\n        int day = 5 + (6 / 5) + inputYear + (inputYear / 4) - (inputYear / 100) + (inputYear / 400);\n        day = day % 7;\n        return (day);\n    }\n\n    public int firstDayOfMonth(int inputMonth, int inputYear) {\n        /*\n         * Here is a formula for finding the day of the week for ANY date.\n         * N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\n         * N = day of week\n         * d = day of month\n         * m = number of month\n         * y = year\n         *  mod 7 for answer\n         * 0 = sunday, 1 = monday, etc.\n         */\n        int day = 3 + (2 * inputMonth) + ((3 * (inputMonth + 1)) / 5) + inputYear + (inputYear / 4) - (inputYear / 100) + (inputYear / 400);\n        day = day % 7;\n        return (day);\n    }\n}\n</code></pre>\n"},{"tags":["java","drools","rule-engine"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1667923857,"post_id":74358461,"comment_id":131281511,"body_markdown":"`second condition stays same even tho I change panicMode field` -&gt; can you please show how you &quot;change the panicMode field&quot;? Your example is only changing the state of the TradeEvent, but not the state of the PanicButtonManager.","body":"<code>second condition stays same even tho I change panicMode field</code> -&gt; can you please show how you &quot;change the panicMode field&quot;? Your example is only changing the state of the TradeEvent, but not the state of the PanicButtonManager."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1667923989,"post_id":74358461,"comment_id":131281556,"body_markdown":"Also a bit more detail on these models would be helpful in understanding how they relate to each other.","body":"Also a bit more detail on these models would be helpful in understanding how they relate to each other."},{"owner":{"account_id":26865051,"reputation":1,"user_id":20447940,"display_name":"Rubdys"},"score":0,"creation_date":1668014203,"post_id":74358461,"comment_id":131306781,"body_markdown":"State of the PanicButtonManager is changed outside of drools. Whenever I invoke new TradeEvent I pass panicMode field value to the message and it works. The value passed is changing and printed correctly. The thing is that the state of PanicButtonManager inside the drools stays the same. Even tho the field is changed for the drools it stays the same. For the more details on the models. Basically you can imagine that Trade Event is what name says. Whenever something is getting traded event is created. Panic mode is restriction to those trades. When it&#39;s on not everyone is allowed to trade.","body":"State of the PanicButtonManager is changed outside of drools. Whenever I invoke new TradeEvent I pass panicMode field value to the message and it works. The value passed is changing and printed correctly. The thing is that the state of PanicButtonManager inside the drools stays the same. Even tho the field is changed for the drools it stays the same. For the more details on the models. Basically you can imagine that Trade Event is what name says. Whenever something is getting traded event is created. Panic mode is restriction to those trades. When it&#39;s on not everyone is allowed to trade."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1668021850,"post_id":74358461,"comment_id":131309322,"body_markdown":"External changes are not visible if you don&#39;t call `update` on PanicButtonManager. `modify` is making the trade event changes visible, but the PanicButtonManager&#39;s previous state is retained because you&#39;ve not informed Drools of new state.","body":"External changes are not visible if you don&#39;t call <code>update</code> on PanicButtonManager. <code>modify</code> is making the trade event changes visible, but the PanicButtonManager&#39;s previous state is retained because you&#39;ve not informed Drools of new state."}],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668022072,"creation_date":1668022072,"answer_id":74380370,"question_id":74358461,"body_markdown":"From the comments, the state of PanicButtonManager is modified outside of Drools. Therefore to make the changed state visible, you need to call `update` to trigger a reevaluation of the rules with the new value. The `modify` is only making the new state of the TradeEvent visible.\r\n\r\nThe syntax would be like this:\r\n\r\n```\r\nrule &quot;...&quot;\r\nwhen\r\n  // ...\r\n  p: PanicButtonManager( panicModeEnabled )\r\nthen\r\n  // ...\r\n  update(p);\r\nend\r\n```\r\n\r\nNote that `update` will reevaluate all of the rules with the new condition(s), not just the remaining rules in the previous set of matches.","title":"Drools not working as intended. In when section object status doesn&#39;t change. How do I make it update?","body":"<p>From the comments, the state of PanicButtonManager is modified outside of Drools. Therefore to make the changed state visible, you need to call <code>update</code> to trigger a reevaluation of the rules with the new value. The <code>modify</code> is only making the new state of the TradeEvent visible.</p>\n<p>The syntax would be like this:</p>\n<pre><code>rule &quot;...&quot;\nwhen\n  // ...\n  p: PanicButtonManager( panicModeEnabled )\nthen\n  // ...\n  update(p);\nend\n</code></pre>\n<p>Note that <code>update</code> will reevaluate all of the rules with the new condition(s), not just the remaining rules in the previous set of matches.</p>\n"}],"owner":{"account_id":26865051,"reputation":1,"user_id":20447940,"display_name":"Rubdys"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668022072,"creation_date":1667900024,"question_id":74358461,"body_markdown":"Intention is to rule to activate when TradeEvent with specific book name appears, and PanicButtonManager panic mode is enabled:\r\n\r\n\r\n```\r\nwhen\r\n   $tradeEvent : TradeEvent(\r\n   bookShortName == &quot;FMBTHQLA&quot;)\r\n   p : PanicButtonManager(\r\n      panicModeEnabled)\r\n```\r\n\r\nThe thing is that when I change field panicModeEnabled value in drools it&#39;s not updated. The field value is constant from time of PanicButtonManager creation. But when I try to &quot;print&quot; it it&#39;s working fine:\r\n\r\n\r\n```\r\nwhen\r\n   $tradeEvent : TradeEvent(\r\n   bookShortName == &quot;FMBTHQLA&quot;);\r\n   p : PanicButtonManager(\r\n      panicModeEnabled)\r\nthen      \r\n   modify ($tradeEvent){\r\n      messageCode = &quot;PM003&quot;,\r\n      message = &quot;HQLA: FMBTHQLA is restricted to HQLA mode. Panic status: &quot; + p.isPanicModeEnabled(),\r\n      tradeValidationStatus = STATUS.ERROR\r\n   }\r\n```\r\n\r\nThis code activated whenever new TradeEvent appears with specific book name, but second condition stays same even tho I change panicMode field. But at the same time in message it prints correct status(it changes).\r\n\r\nWhy in &quot;when&quot; section evaluation of panicModeEnabled stays same? It keeps value from creation of class PanicButtonManager and doesn&#39;t update with change of field, but field prints correctly in message. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nHow do I make PanicButtonManager evaluate correctly in when section(Not keep state from creation time but update with field update).","title":"Drools not working as intended. In when section object status doesn&#39;t change. How do I make it update?","body":"<p>Intention is to rule to activate when TradeEvent with specific book name appears, and PanicButtonManager panic mode is enabled:</p>\n<pre><code>when\n   $tradeEvent : TradeEvent(\n   bookShortName == &quot;FMBTHQLA&quot;)\n   p : PanicButtonManager(\n      panicModeEnabled)\n</code></pre>\n<p>The thing is that when I change field panicModeEnabled value in drools it's not updated. The field value is constant from time of PanicButtonManager creation. But when I try to &quot;print&quot; it it's working fine:</p>\n<pre><code>when\n   $tradeEvent : TradeEvent(\n   bookShortName == &quot;FMBTHQLA&quot;);\n   p : PanicButtonManager(\n      panicModeEnabled)\nthen      \n   modify ($tradeEvent){\n      messageCode = &quot;PM003&quot;,\n      message = &quot;HQLA: FMBTHQLA is restricted to HQLA mode. Panic status: &quot; + p.isPanicModeEnabled(),\n      tradeValidationStatus = STATUS.ERROR\n   }\n</code></pre>\n<p>This code activated whenever new TradeEvent appears with specific book name, but second condition stays same even tho I change panicMode field. But at the same time in message it prints correct status(it changes).</p>\n<p>Why in &quot;when&quot; section evaluation of panicModeEnabled stays same? It keeps value from creation of class PanicButtonManager and doesn't update with change of field, but field prints correctly in message.</p>\n<p>How do I make PanicButtonManager evaluate correctly in when section(Not keep state from creation time but update with field update).</p>\n"},{"tags":["java","maven","jenkins","jenkins-pipeline","maven-3"],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1628783312,"creation_date":1628783312,"answer_id":68760561,"question_id":68760474,"body_markdown":"In\r\n\r\n```\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n        &lt;version&gt;${revision}&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n```\r\n\r\nyou can&#39;t have `${revision}` for `version`. Maven don&#39;t know where to get it. You need to use actual version.\r\n\r\nPS: I don&#39;t know how you manage to build it locally.","title":"Maven friendly CI - revision property doesn&#39;t work with Jenkins build","body":"<p>In</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n        &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>you can't have <code>${revision}</code> for <code>version</code>. Maven don't know where to get it. You need to use actual version.</p>\n<p>PS: I don't know how you manage to build it locally.</p>\n"},{"tags":[],"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647116235,"creation_date":1647116235,"answer_id":71452650,"question_id":68760474,"body_markdown":"The following configuration is missing in your parent pom.xml for the flatten plugin:\r\n\r\n    &lt;configuration&gt;\r\n      &lt;updatePomFile&gt;true&lt;/updatePomFile&gt;\r\n      &lt;flattenMode&gt;resolveCiFriendliesOnly&lt;/flattenMode&gt;\r\n    &lt;/configuration&gt;  \r\n\r\nI believe you have to add this configuration for ci-friendly projects, as explained [here](https://maven.apache.org/maven-ci-friendly.html#install-deploy).\r\n\r\n\r\n","title":"Maven friendly CI - revision property doesn&#39;t work with Jenkins build","body":"<p>The following configuration is missing in your parent pom.xml for the flatten plugin:</p>\n<pre><code>&lt;configuration&gt;\n  &lt;updatePomFile&gt;true&lt;/updatePomFile&gt;\n  &lt;flattenMode&gt;resolveCiFriendliesOnly&lt;/flattenMode&gt;\n&lt;/configuration&gt;  \n</code></pre>\n<p>I believe you have to add this configuration for ci-friendly projects, as explained <a href=\"https://maven.apache.org/maven-ci-friendly.html#install-deploy\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":17490217,"reputation":161,"user_id":12682515,"display_name":"Faisal Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2121,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1668021704,"creation_date":1628782956,"question_id":68760474,"body_markdown":"I&#39;m trying to use [maven friendly ci][1] for my multi-module project. My project has three levels of parent child hierarchy, i.e., my parent project has few child projects and those child projects has many other child projects within them.\r\n\r\nI have added a sample of my pom files below. My parent pom has a flatten plugin as well, everything works fine in my local machine. But when I build it from Jenkins, it doesn&#39;t work. And I get the below error\r\n\r\nError\r\n\r\n&gt; [ERROR] [ERROR] Some problems were encountered while processing the\r\n&gt; POMs: [FATAL] Non-resolvable parent POM for\r\n&gt; com.faskan:child-module:[unknown-version]:\r\n&gt; Could not transfer artifact\r\n&gt; com.faskan:parent-module:pom:${revision} from/to nexus\r\n\r\nParent project&#39;s pom.xml\r\n\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;global-parent-dependency&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n        &lt;version&gt;${revision}&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;project parent pom&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;revision&gt;21.15.0-SNAPSHOT&lt;/revision&gt;\r\n        &lt;/properties&gt;\r\n\r\n       &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.2&lt;/version&gt;\r\n                &lt;configuration&gt;                \r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;!-- enable flattening --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;flatten&lt;/id&gt;\r\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;flatten&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;!-- ensure proper cleanup --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;flatten.clean&lt;/id&gt;\r\n                        &lt;phase&gt;clean&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;clean&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n    ...\r\n    &lt;/project&gt;\r\n\r\nChild project&#39;s pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;child-module&lt;/artifactId&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n            &lt;version&gt;${revision}&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;name&gt;child admin&lt;/name&gt;\r\n    \r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    ..\r\n    &lt;/project&gt;\r\n\r\nChild of child project (grand child)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;artifactId&gt;grand-child-module&lt;/artifactId&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;child of child module&lt;/name&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;child-module&lt;/artifactId&gt;\r\n            &lt;version&gt;${revision}&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    ..\r\n    &lt;/project&gt;\r\n\r\nI found a similar question https://stackoverflow.com/questions/58608128/how-do-you-get-maven-child-projects-to-build-in-jenkins-when-using-ci-friendly-v. Not sure if mine is the same because I don&#39;t get any parse failure errors.\r\n\r\n\r\n  [1]: https://maven.apache.org/maven-ci-friendly.html","title":"Maven friendly CI - revision property doesn&#39;t work with Jenkins build","body":"<p>I'm trying to use <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">maven friendly ci</a> for my multi-module project. My project has three levels of parent child hierarchy, i.e., my parent project has few child projects and those child projects has many other child projects within them.</p>\n<p>I have added a sample of my pom files below. My parent pom has a flatten plugin as well, everything works fine in my local machine. But when I build it from Jenkins, it doesn't work. And I get the below error</p>\n<p>Error</p>\n<blockquote>\n<p>[ERROR] [ERROR] Some problems were encountered while processing the\nPOMs: [FATAL] Non-resolvable parent POM for\ncom.faskan:child-module:[unknown-version]:\nCould not transfer artifact\ncom.faskan:parent-module:pom:${revision} from/to nexus</p>\n</blockquote>\n<p>Parent project's pom.xml</p>\n<pre><code>&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n        &lt;artifactId&gt;global-parent-dependency&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n    &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;name&gt;project parent pom&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;revision&gt;21.15.0-SNAPSHOT&lt;/revision&gt;\n    &lt;/properties&gt;\n\n   &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2&lt;/version&gt;\n            &lt;configuration&gt;                \n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;!-- enable flattening --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;flatten&lt;/id&gt;\n                    &lt;phase&gt;process-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;flatten&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;!-- ensure proper cleanup --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;flatten.clean&lt;/id&gt;\n                    &lt;phase&gt;clean&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;clean&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n...\n&lt;/project&gt;\n</code></pre>\n<p>Child project's pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;child-module&lt;/artifactId&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n        &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;name&gt;child admin&lt;/name&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n..\n&lt;/project&gt;\n</code></pre>\n<p>Child of child project (grand child)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;grand-child-module&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;child of child module&lt;/name&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n        &lt;artifactId&gt;child-module&lt;/artifactId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;/parent&gt;\n..\n&lt;/project&gt;\n</code></pre>\n<p>I found a similar question <a href=\"https://stackoverflow.com/questions/58608128/how-do-you-get-maven-child-projects-to-build-in-jenkins-when-using-ci-friendly-v\">How do you get maven child projects to build in Jenkins when using CI Friendly versions?</a>. Not sure if mine is the same because I don't get any parse failure errors.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668021603,"creation_date":1668021603,"answer_id":74380293,"question_id":74379690,"body_markdown":"In your `Filter` you can create an anonymous subclass of `HttpServletRequestWrapper`, override the method `public String getHeader(String name)` so that it returns a specific value for the header name you care about (and delegates to `super.getHeader(String)` if it&#39;s not the header name you care about).\r\n\r\nSomething like this:\r\n\r\n```java\r\n  @Override\r\n  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n      throws IOException, ServletException {\r\n   HttpServletRequest servletRequest = (HttpServletRequest) request;\r\n\r\n   HttpServletRequestWrapper requestWrapper = new HttpServletRequestWrapper(servletRequest) {\r\n      @Override\r\n      public String getHeader(String name) {\r\n        if (&quot;myHeader&quot;.equalsIgnoreCase(name)) {\r\n          return &quot;Some value&quot;;\r\n        }\r\n\r\n        return super.getHeader(name);\r\n      }\r\n    };\r\n\r\n    chain.doFilter(requestWrapper, response);\r\n  }\r\n```","title":"Update request headers before goind to controller","body":"<p>In your <code>Filter</code> you can create an anonymous subclass of <code>HttpServletRequestWrapper</code>, override the method <code>public String getHeader(String name)</code> so that it returns a specific value for the header name you care about (and delegates to <code>super.getHeader(String)</code> if it's not the header name you care about).</p>\n<p>Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Override\n  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n      throws IOException, ServletException {\n   HttpServletRequest servletRequest = (HttpServletRequest) request;\n\n   HttpServletRequestWrapper requestWrapper = new HttpServletRequestWrapper(servletRequest) {\n      @Override\n      public String getHeader(String name) {\n        if (&quot;myHeader&quot;.equalsIgnoreCase(name)) {\n          return &quot;Some value&quot;;\n        }\n\n        return super.getHeader(name);\n      }\n    };\n\n    chain.doFilter(requestWrapper, response);\n  }\n</code></pre>\n"}],"owner":{"account_id":20933387,"reputation":84,"user_id":15379171,"display_name":"HittingMyCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668021603,"creation_date":1668018167,"question_id":74379690,"body_markdown":"I can&#39;t update a header inside my interceptor before it gets to my controller, through the interceptor I would like to modify an already present header\r\n\r\n```\r\npublic class MyInterceptor implements Filter {\r\n   \r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain) throws IOException, ServletException {\r\n        HttpServletRequest req = (HttpServletRequest) servletRequest;\r\n        HttpServletResponse res = (HttpServletResponse) servletResponse;\r\n        //something\r\n        //myHeaders is still present when send a request\r\n        req.setAttribute(&quot;myHeaders&quot;,&quot;someValue&quot;);\r\n        chain.doFilter(req, rest);\r\n    }\r\n}\r\n```\r\n\r\nSo that inside the controller I can get the modified header:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\npublic class FooClass{\r\n    \r\n        @Autowired\r\n        private Service service;\r\n\r\n        @GetMapping(&quot;/foo&quot;)\r\n        public ResponseEntity&lt;Void&gt; fooApi(\r\n                @RequestHeader(value = &quot;myHeaders&quot;) String myHeaders,\r\n        ) {\r\n            service.doSomething(myHeaders);\r\n            return ResponseEntity.ok().build();\r\n        }\r\n}\r\n\r\n```\r\n\r\nHow could I do? I tried to do some research but failed.","title":"Update request headers before goind to controller","body":"<p>I can't update a header inside my interceptor before it gets to my controller, through the interceptor I would like to modify an already present header</p>\n<pre><code>public class MyInterceptor implements Filter {\n   \n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain) throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) servletRequest;\n        HttpServletResponse res = (HttpServletResponse) servletResponse;\n        //something\n        //myHeaders is still present when send a request\n        req.setAttribute(&quot;myHeaders&quot;,&quot;someValue&quot;);\n        chain.doFilter(req, rest);\n    }\n}\n</code></pre>\n<p>So that inside the controller I can get the modified header:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\npublic class FooClass{\n    \n        @Autowired\n        private Service service;\n\n        @GetMapping(&quot;/foo&quot;)\n        public ResponseEntity&lt;Void&gt; fooApi(\n                @RequestHeader(value = &quot;myHeaders&quot;) String myHeaders,\n        ) {\n            service.doSomething(myHeaders);\n            return ResponseEntity.ok().build();\n        }\n}\n\n</code></pre>\n<p>How could I do? I tried to do some research but failed.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","amazon-ec2","http-status-code-403"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1496153006,"post_id":44256527,"comment_id":75536844,"body_markdown":"I am pretty sure this is issue with your &quot;credential file&quot; accessibility (those myaccesskey() methods), just to prove, replace these with real accesskey &amp; security key.","body":"I am pretty sure this is issue with your &quot;credential file&quot; accessibility (those myaccesskey() methods), just to prove, replace these with real accesskey &amp; security key."},{"owner":{"account_id":8545078,"reputation":1001,"user_id":6403864,"accept_rate":43,"display_name":"Andrea Rossi"},"score":0,"creation_date":1496220289,"post_id":44256527,"comment_id":75566587,"body_markdown":"I&#39;ve checked with provider.getCredentials() after creating the AWSStaticCredentialsProvider, and it returns the correct credentials...\nSo I guess those methods are correct (apart from their horrible, temporary name :P )","body":"I&#39;ve checked with provider.getCredentials() after creating the AWSStaticCredentialsProvider, and it returns the correct credentials... So I guess those methods are correct (apart from their horrible, temporary name :P )"},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1496237797,"post_id":44256527,"comment_id":75579370,"body_markdown":"When you change the order, PUT and then check existence, does that work fine on EC2? If so, we can conclude that NOT a policy issue. Can we check your full code and what version of aws-sdk you are using?","body":"When you change the order, PUT and then check existence, does that work fine on EC2? If so, we can conclude that NOT a policy issue. Can we check your full code and what version of aws-sdk you are using?"},{"owner":{"account_id":1648007,"reputation":331,"user_id":2049369,"accept_rate":86,"display_name":"FullTimeCoderPartTimeSysAdmin"},"score":0,"creation_date":1501542806,"post_id":44256527,"comment_id":77814567,"body_markdown":"I&#39;ve run into the same problem.  Did you ever find a solution?  (I&#39;m using aws-java-sdk 1.11.170.)","body":"I&#39;ve run into the same problem.  Did you ever find a solution?  (I&#39;m using aws-java-sdk 1.11.170.)"},{"owner":{"account_id":8545078,"reputation":1001,"user_id":6403864,"accept_rate":43,"display_name":"Andrea Rossi"},"score":0,"creation_date":1501573573,"post_id":44256527,"comment_id":77824633,"body_markdown":"Hi @FullTimeCoderPartTimeSysAdmin.\nUnfortunately the only solution I have found so far is to upload an empty file at server boot and immediately remove it.\nAfter that, all other S3 interactions can be performed.\nIt&#39;s an ugly gimmick but it kinda works.","body":"Hi @FullTimeCoderPartTimeSysAdmin. Unfortunately the only solution I have found so far is to upload an empty file at server boot and immediately remove it. After that, all other S3 interactions can be performed. It&#39;s an ugly gimmick but it kinda works."}],"answers":[{"tags":[],"owner":{"account_id":4276592,"reputation":309,"user_id":3497056,"display_name":"S&#233;bastien Coste"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496132189,"creation_date":1496132189,"answer_id":44256998,"question_id":44256527,"body_markdown":"I really look like an IAM policy issue. \r\nWhat is your user&#39;s policies on your local machine vs what is your IAM role with which policy(ies)? \r\nFor your EC2 instance, when you create it, create a role with &quot;AmazonS3FullAccess&quot; policy, if it solves the problem you&#39;ll remove the useless rights. ","title":"AWS S3 Java: doesObjectExist results in 403: FORBIDDEN","body":"<p>I really look like an IAM policy issue. \nWhat is your user's policies on your local machine vs what is your IAM role with which policy(ies)? \nFor your EC2 instance, when you create it, create a role with \"AmazonS3FullAccess\" policy, if it solves the problem you'll remove the useless rights. </p>\n"},{"tags":[],"owner":{"account_id":9612864,"reputation":86,"user_id":7136672,"display_name":"tormodatt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668021507,"creation_date":1497879671,"answer_id":44632220,"question_id":44256527,"body_markdown":"Your credentials may be correct, but you will still get FORBIDDEN if you do not set the correct IAM polices. To check for objects in s3 you need the following:\r\n\r\n    {\r\n        &quot;Version&quot;:&quot;2012-10-17&quot;,\r\n        &quot;Statement&quot;:[\r\n            {\r\n                &quot;Effect&quot;:&quot;Allow&quot;,\r\n                &quot;Action&quot;:[\r\n                &quot;s3:ListBucket&quot;\r\n                ],\r\n                &quot;Resource&quot;:[&quot;arn:aws:s3:::examplebucket&quot;]\r\n            },\r\n            {\r\n                &quot;Effect&quot;:&quot;Allow&quot;,\r\n                &quot;Action&quot;:[\r\n                &quot;s3:GetObject&quot;\r\n                ],\r\n              &quot;Resource&quot;:[&quot;arn:aws:s3:::examplebucket/*&quot;]\r\n            }\r\n        ]\r\n    }","title":"AWS S3 Java: doesObjectExist results in 403: FORBIDDEN","body":"<p>Your credentials may be correct, but you will still get FORBIDDEN if you do not set the correct IAM polices. To check for objects in s3 you need the following:</p>\n<pre><code>{\n    &quot;Version&quot;:&quot;2012-10-17&quot;,\n    &quot;Statement&quot;:[\n        {\n            &quot;Effect&quot;:&quot;Allow&quot;,\n            &quot;Action&quot;:[\n            &quot;s3:ListBucket&quot;\n            ],\n            &quot;Resource&quot;:[&quot;arn:aws:s3:::examplebucket&quot;]\n        },\n        {\n            &quot;Effect&quot;:&quot;Allow&quot;,\n            &quot;Action&quot;:[\n            &quot;s3:GetObject&quot;\n            ],\n          &quot;Resource&quot;:[&quot;arn:aws:s3:::examplebucket/*&quot;]\n        }\n    ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11771824,"reputation":21,"user_id":8614653,"display_name":"Andy Barlow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505477437,"creation_date":1505477437,"answer_id":46239262,"question_id":44256527,"body_markdown":"Make sure the date time is set correctly on the machine you  are making the request from, otherwise you will get a 403.","title":"AWS S3 Java: doesObjectExist results in 403: FORBIDDEN","body":"<p>Make sure the date time is set correctly on the machine you  are making the request from, otherwise you will get a 403.</p>\n"},{"tags":[],"owner":{"account_id":15474818,"reputation":21,"user_id":11163749,"display_name":"user11163749"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551939947,"creation_date":1551939947,"answer_id":55037323,"question_id":44256527,"body_markdown":"You need an action &quot;ListBucket&quot; for your bucket but not for the file in your bucket like:\r\n       {\r\n            &quot;Action&quot;: [\r\n                &quot;s3:ListBucket&quot;\r\n            ],\r\n            &quot;Resource&quot;: &quot;arn:aws:s3:::bucketName&quot;,\r\n            &quot;Effect&quot;: &quot;Allow&quot;\r\n        }","title":"AWS S3 Java: doesObjectExist results in 403: FORBIDDEN","body":"<p>You need an action \"ListBucket\" for your bucket but not for the file in your bucket like:\n       {\n            \"Action\": [\n                \"s3:ListBucket\"\n            ],\n            \"Resource\": \"arn:aws:s3:::bucketName\",\n            \"Effect\": \"Allow\"\n        }</p>\n"}],"owner":{"account_id":8545078,"reputation":1001,"user_id":6403864,"accept_rate":43,"display_name":"Andrea Rossi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7051,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1668021507,"creation_date":1496130637,"question_id":44256527,"body_markdown":"I&#39;m having trouble with my Java program using the AWS SDK to interact with an S3 bucket.\r\n\r\nThis is the code I use to create an S3 client:\r\n\r\n    public S3StorageManager(S3Config config) throws StorageException {\r\n\r\n       BasicAWSCredentials credentials = new BasicAWSCredentials(myAccessKey(), mySecretKey());\r\n       AWSStaticCredentialsProvider provider = new AWSStaticCredentialsProvider(credentials);\r\n\r\n       this.s3Client = AmazonS3ClientBuilder\r\n            .standard()\r\n            .withCredentials(provider)\r\n            .withRegion(myRegion)\r\n            .build();\r\n    \r\nWhen I try to download a file, before starting the download I check wether the file exists or not with:\r\n\r\n    s3Client.doesObjectExists(bucketName, objectName);\r\n\r\nThis is where I get 403: FORBIDDEN.\r\nThe weird thing is this problem is raised only when I try to perform an object existence check before performing uploads in the same session.\r\nIn other words, after initializing the s3Client:\r\n - if I first try to check if an object exists, it raises the FORBIDDEN problem;\r\n - if I first perform file upload, it works fine and after that any object existence check works fine as well;\r\n\r\nHere is my stacktrace:\r\n\r\n    com.amazonaws.services.s3.model.AmazonS3Exception: Forbidden (Service: Amazon S3; Status Code: 403; Error Code: 403 Forbidden; Reques\r\n    t ID: A23BB805491E411F)\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1588) ~[aws-java-sdk-core-1.\r\n    11.128.jar:?]\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1258) ~[aws-java-sdk-core-1.11\r\n    .128.jar:?]\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1030) ~[aws-java-sdk-core-1.11.128\r\n    .jar:?]\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:742) ~[aws-java-sdk-core-1.11.128.jar:\r\n    ?]\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:716) ~[aws-java-sdk-core-1.11.1\r\n    28.jar:?]\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:699) ~[aws-java-sdk-core-1.11.128.jar:?]\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:667) ~[aws-java-sdk-core-1.11.128.jar\r\n    :?]\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:649) ~[aws-java-sdk-core-1.1\r\n    1.128.jar:?]\r\n            at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:513) ~[aws-java-sdk-core-1.11.128.jar:?]\r\n            at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4169) ~[aws-java-sdk-s3-1.11.128.jar:?]\r\n            at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4116) ~[aws-java-sdk-s3-1.11.128.jar:?]\r\n            at com.amazonaws.services.s3.AmazonS3Client.getObjectMetadata(AmazonS3Client.java:1237) ~[aws-java-sdk-s3-1.11.128.jar:?]\r\n            at com.amazonaws.services.s3.AmazonS3Client.getObjectMetadata(AmazonS3Client.java:1213) ~[aws-java-sdk-s3-1.11.128.jar:?]\r\n            at com.amazonaws.services.s3.AmazonS3Client.doesObjectExist(AmazonS3Client.java:1272) ~[aws-java-sdk-s3-1.11.128.jar:?]\r\n\r\n\r\nAnother weird thing is that all these problems started when I moved my Java program an EC2 remote machine.\r\nIf I execute it on my local machine, the S3 interaction works fine.\r\nHowever I don&#39;t think the problem depends on the IAM roles, since I use the AWSStaticCredentialsProvider.","title":"AWS S3 Java: doesObjectExist results in 403: FORBIDDEN","body":"<p>I'm having trouble with my Java program using the AWS SDK to interact with an S3 bucket.</p>\n\n<p>This is the code I use to create an S3 client:</p>\n\n<pre><code>public S3StorageManager(S3Config config) throws StorageException {\n\n   BasicAWSCredentials credentials = new BasicAWSCredentials(myAccessKey(), mySecretKey());\n   AWSStaticCredentialsProvider provider = new AWSStaticCredentialsProvider(credentials);\n\n   this.s3Client = AmazonS3ClientBuilder\n        .standard()\n        .withCredentials(provider)\n        .withRegion(myRegion)\n        .build();\n</code></pre>\n\n<p>When I try to download a file, before starting the download I check wether the file exists or not with:</p>\n\n<pre><code>s3Client.doesObjectExists(bucketName, objectName);\n</code></pre>\n\n<p>This is where I get 403: FORBIDDEN.\nThe weird thing is this problem is raised only when I try to perform an object existence check before performing uploads in the same session.\nIn other words, after initializing the s3Client:\n - if I first try to check if an object exists, it raises the FORBIDDEN problem;\n - if I first perform file upload, it works fine and after that any object existence check works fine as well;</p>\n\n<p>Here is my stacktrace:</p>\n\n<pre><code>com.amazonaws.services.s3.model.AmazonS3Exception: Forbidden (Service: Amazon S3; Status Code: 403; Error Code: 403 Forbidden; Reques\nt ID: A23BB805491E411F)\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1588) ~[aws-java-sdk-core-1.\n11.128.jar:?]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1258) ~[aws-java-sdk-core-1.11\n.128.jar:?]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1030) ~[aws-java-sdk-core-1.11.128\n.jar:?]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:742) ~[aws-java-sdk-core-1.11.128.jar:\n?]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:716) ~[aws-java-sdk-core-1.11.1\n28.jar:?]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:699) ~[aws-java-sdk-core-1.11.128.jar:?]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:667) ~[aws-java-sdk-core-1.11.128.jar\n:?]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:649) ~[aws-java-sdk-core-1.1\n1.128.jar:?]\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:513) ~[aws-java-sdk-core-1.11.128.jar:?]\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4169) ~[aws-java-sdk-s3-1.11.128.jar:?]\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4116) ~[aws-java-sdk-s3-1.11.128.jar:?]\n        at com.amazonaws.services.s3.AmazonS3Client.getObjectMetadata(AmazonS3Client.java:1237) ~[aws-java-sdk-s3-1.11.128.jar:?]\n        at com.amazonaws.services.s3.AmazonS3Client.getObjectMetadata(AmazonS3Client.java:1213) ~[aws-java-sdk-s3-1.11.128.jar:?]\n        at com.amazonaws.services.s3.AmazonS3Client.doesObjectExist(AmazonS3Client.java:1272) ~[aws-java-sdk-s3-1.11.128.jar:?]\n</code></pre>\n\n<p>Another weird thing is that all these problems started when I moved my Java program an EC2 remote machine.\nIf I execute it on my local machine, the S3 interaction works fine.\nHowever I don't think the problem depends on the IAM roles, since I use the AWSStaticCredentialsProvider.</p>\n"},{"tags":["java","spring-boot","mockito","jax-rs"],"comments":[{"owner":{"account_id":9791674,"reputation":87,"user_id":7256070,"display_name":"Anand Singh"},"score":0,"creation_date":1668055370,"post_id":74380226,"comment_id":131315891,"body_markdown":"I&#39;m also facing the same issue... did you find the solution?","body":"I&#39;m also facing the same issue... did you find the solution?"}],"owner":{"account_id":26881132,"reputation":11,"user_id":20461550,"display_name":"shivam gera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668021292,"creation_date":1668021292,"question_id":74380226,"body_markdown":"I have class in my project that is annotated with **@Path** annotation and below is the code snippet \r\n\r\n\r\nAnnotations used in my class:\r\n\r\n\r\n```\r\n@Slf4j\r\n@Service\r\n@Path(&quot;/manageOffer&quot;)\r\n@Api(&quot;Manage Services&quot;)\r\npublic class BffProductOfferServiceApi implements RestService {\r\n\r\n```\r\nMethod in above class:\r\n\r\n```\r\n@POST\r\n@Path(&quot;/fetchOfferDetails&quot;)\r\n@ApiOperation(value = &quot;Get offer details&quot;)\r\n@ApiResponses(value = {@ApiResponse(code = 200, message = &quot;Ok&quot;, response = BffOfferDetails.class)})\r\n//@TLogger(appName = &quot;BFF&quot;, source = &quot;APP2BFF&quot;,skipRequestResponseDownstream=true)\r\n@LogMetric(enableMetrics = true,metricName = &quot;metric_server_request&quot;,apiName = &quot;fetchOfferDetails&quot;, customTags = {&quot;flow&quot;,&quot;magenta&quot;})\r\npublic BffOfferDetails fetchOfferDetails(@RequestBody BffOfferDetails offerDetails,\r\n\r\n```\r\nMy task is to write test for this particular class. \r\nBelow is my test method which I have written. If I try to hit the above end-point(annotated with @Path) it is not being hit and gives **404 client error**. Below is the test snippet which I have written.\r\n\r\n\r\n\r\n```\r\n@Test\r\n@DisplayName(&quot;Positive case: when all required  params are passed and response code is 200&quot;)\r\npublic void fetchOfferDetailsControllerStatus2XX() throws Exception {\r\n\r\n    BffOfferDetails offerDetails = new BffOfferDetails();\r\n\r\n    this.mockMvc.perform(MockMvcRequestBuilders.post(&quot;/manageOffer/fetchOfferDetails&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .content(new ObjectMapper().writeValueAsString(offerDetails))\r\n                    .characterEncoding(&quot;utf-8&quot;)\r\n                    .queryParams(queryParams)\r\n                    .header(&quot;x-tenant&quot;,&quot;de&quot;))\r\n            .andDo(print())\r\n            .andExpect(result -&gt; result.getResponse())\r\n            .andExpect(status().is2xxSuccessful());\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nNow to debug whether there is error in my test method or not, I made a separate TestController(Just to verify if I have written the tests correctly or not). This TestController is annotated with **@RestController.**\r\n\r\n\r\n\r\n\r\n```\r\n@RestController\r\npublic class TestController {\r\n    @Autowired\r\n    TestService testService;\r\n\r\n    @PostMapping(value = &quot;api1/getText&quot;)\r\n    public BffOfferDetails getText(@RequestBody BffOfferDetails offerDetails){\r\n\r\n        return testService.getText(offerDetails);\r\n    }\r\n\r\n```\r\n\r\nI also wrote test for the above class annotated with @RestController. Below is the test method\r\nTo my surprise the below test **works fine as expected**\r\n\r\n\r\n```\r\n@Test\r\n@DisplayName(&quot;Positive case: when all required  params are passed and response code is 200&quot;)\r\npublic void testSampleControllerStatus2XX() throws Exception {\r\n\r\n    BffOfferDetails offerDetails = new BffOfferDetails();\r\n\r\n    this.mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api1/getText&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .content(new ObjectMapper().writeValueAsString(offerDetails))\r\n                    .characterEncoding(&quot;utf-8&quot;))\r\n            .andDo(print())\r\n            .andExpect(result -&gt; result.getResponse())\r\n            .andExpect(status().is2xxSuccessful());\r\n}\r\n```\r\n\r\n\r\nFollowing are the annotations which I am using on my Test Class.\r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc(addFilters = false)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class BffProductOfferServiceApiTest{\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n**Note:** I am using Mockito for writing my tests.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhat I have concluded from above is: @Path is uses jax-rs specifications, whereas @Restcontroller does not. \r\n\r\n**My question is How should I write my tests such that classes annotated with @Service and methods annotated with @Path works correctly.**\r\n\r\n","title":"Not able to hit endpoint of class annotated with @Service and method inside it annotated with @Path using mockito","body":"<p>I have class in my project that is annotated with <strong>@Path</strong> annotation and below is the code snippet</p>\n<p>Annotations used in my class:</p>\n<pre><code>@Slf4j\n@Service\n@Path(&quot;/manageOffer&quot;)\n@Api(&quot;Manage Services&quot;)\npublic class BffProductOfferServiceApi implements RestService {\n\n</code></pre>\n<p>Method in above class:</p>\n<pre><code>@POST\n@Path(&quot;/fetchOfferDetails&quot;)\n@ApiOperation(value = &quot;Get offer details&quot;)\n@ApiResponses(value = {@ApiResponse(code = 200, message = &quot;Ok&quot;, response = BffOfferDetails.class)})\n//@TLogger(appName = &quot;BFF&quot;, source = &quot;APP2BFF&quot;,skipRequestResponseDownstream=true)\n@LogMetric(enableMetrics = true,metricName = &quot;metric_server_request&quot;,apiName = &quot;fetchOfferDetails&quot;, customTags = {&quot;flow&quot;,&quot;magenta&quot;})\npublic BffOfferDetails fetchOfferDetails(@RequestBody BffOfferDetails offerDetails,\n\n</code></pre>\n<p>My task is to write test for this particular class.\nBelow is my test method which I have written. If I try to hit the above end-point(annotated with @Path) it is not being hit and gives <strong>404 client error</strong>. Below is the test snippet which I have written.</p>\n<pre><code>@Test\n@DisplayName(&quot;Positive case: when all required  params are passed and response code is 200&quot;)\npublic void fetchOfferDetailsControllerStatus2XX() throws Exception {\n\n    BffOfferDetails offerDetails = new BffOfferDetails();\n\n    this.mockMvc.perform(MockMvcRequestBuilders.post(&quot;/manageOffer/fetchOfferDetails&quot;)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(new ObjectMapper().writeValueAsString(offerDetails))\n                    .characterEncoding(&quot;utf-8&quot;)\n                    .queryParams(queryParams)\n                    .header(&quot;x-tenant&quot;,&quot;de&quot;))\n            .andDo(print())\n            .andExpect(result -&gt; result.getResponse())\n            .andExpect(status().is2xxSuccessful());\n}\n\n</code></pre>\n<p>Now to debug whether there is error in my test method or not, I made a separate TestController(Just to verify if I have written the tests correctly or not). This TestController is annotated with <strong>@RestController.</strong></p>\n<pre><code>@RestController\npublic class TestController {\n    @Autowired\n    TestService testService;\n\n    @PostMapping(value = &quot;api1/getText&quot;)\n    public BffOfferDetails getText(@RequestBody BffOfferDetails offerDetails){\n\n        return testService.getText(offerDetails);\n    }\n\n</code></pre>\n<p>I also wrote test for the above class annotated with @RestController. Below is the test method\nTo my surprise the below test <strong>works fine as expected</strong></p>\n<pre><code>@Test\n@DisplayName(&quot;Positive case: when all required  params are passed and response code is 200&quot;)\npublic void testSampleControllerStatus2XX() throws Exception {\n\n    BffOfferDetails offerDetails = new BffOfferDetails();\n\n    this.mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api1/getText&quot;)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(new ObjectMapper().writeValueAsString(offerDetails))\n                    .characterEncoding(&quot;utf-8&quot;))\n            .andDo(print())\n            .andExpect(result -&gt; result.getResponse())\n            .andExpect(status().is2xxSuccessful());\n}\n</code></pre>\n<p>Following are the annotations which I am using on my Test Class.</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc(addFilters = false)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@ActiveProfiles(&quot;test&quot;)\npublic class BffProductOfferServiceApiTest{\n\n}\n\n</code></pre>\n<p><strong>Note:</strong> I am using Mockito for writing my tests.</p>\n<p>What I have concluded from above is: @Path is uses jax-rs specifications, whereas @Restcontroller does not.</p>\n<p><strong>My question is How should I write my tests such that classes annotated with @Service and methods annotated with @Path works correctly.</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":960579,"reputation":2855,"user_id":985026,"accept_rate":52,"display_name":"MalcolmOcean"},"score":0,"creation_date":1342316911,"post_id":11488754,"comment_id":15173943,"body_markdown":"See this answer: http://stackoverflow.com/a/1099370/985026\n(Question asked was What&#39;s the difference between getPath(), getAbsolutePath(), and getCanonicalPath() in Java?)","body":"See this answer: <a href=\"http://stackoverflow.com/a/1099370/985026\">stackoverflow.com/a/1099370/985026</a> (Question asked was What&#39;s the difference between getPath(), getAbsolutePath(), and getCanonicalPath() in Java?)"}],"answers":[{"tags":[],"owner":{"account_id":411670,"reputation":3171,"user_id":784277,"accept_rate":77,"display_name":"jamjam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1342335792,"creation_date":1342316969,"answer_id":11488774,"question_id":11488754,"body_markdown":"There can be many absolute paths to a file. However there can only be one canonical path to a file. [Read this][1]\r\n\r\n\r\n  [1]: http://www.xyzws.com/Javafaq/what-is-the-difference-between-absolute-relative-and-canonical-path-of-file-or-directory/60","title":"what&#39;s the difference between canonicalpath and absolutepath?","body":"<p>There can be many absolute paths to a file. However there can only be one canonical path to a file. <a href=\"http://www.xyzws.com/Javafaq/what-is-the-difference-between-absolute-relative-and-canonical-path-of-file-or-directory/60\" rel=\"nofollow\">Read this</a></p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1668020855,"creation_date":1342317100,"answer_id":11488781,"question_id":11488754,"body_markdown":"The difference is that there is only one canonical path to a file&lt;sup&gt;[1]&lt;/sup&gt;, while there can be many absolute paths to a file (depending on the system). For instance, on a Unix system, `/usr/local/../bin` is the same as `/usr/bin`. `getCanonicalPath()` resolves those ambiguities and returns the (unique) canonical path. So if the current directory was `/usr/local`, then:\r\n\r\n    File file = new File(&quot;../bin&quot;);\r\n    System.out.println(file.getPath());\r\n    System.out.println(file.getAbsolutePath());\r\n    System.out.println(file.getCanonicalPath());\r\n\r\nwould print:\r\n\r\n&gt;../bin  \r\n&gt;/usr/local/../bin  \r\n&gt;/usr/bin\r\n\r\nPer Voo&#39;s suggestion: on Unix systems, `getCanonicalPath()` will also resolve symbolic links if the symbolic link exists. Hard links are treated like normal files (which is basically what they are). Note, however, that a file need not exist for these methods to succeed.\r\n\r\n&lt;sup&gt;[1]&lt;/sup&gt; &lt;sub&gt;Well, not quite. As @Tom Hale points out in a comment, if the file system supports hard-linked directories, there may be multiple canonical paths to a given file.&lt;/sub&gt;","title":"what&#39;s the difference between canonicalpath and absolutepath?","body":"<p>The difference is that there is only one canonical path to a file<sup>[1]</sup>, while there can be many absolute paths to a file (depending on the system). For instance, on a Unix system, <code>/usr/local/../bin</code> is the same as <code>/usr/bin</code>. <code>getCanonicalPath()</code> resolves those ambiguities and returns the (unique) canonical path. So if the current directory was <code>/usr/local</code>, then:</p>\n<pre><code>File file = new File(&quot;../bin&quot;);\nSystem.out.println(file.getPath());\nSystem.out.println(file.getAbsolutePath());\nSystem.out.println(file.getCanonicalPath());\n</code></pre>\n<p>would print:</p>\n<blockquote>\n<p>../bin<br />\n/usr/local/../bin<br />\n/usr/bin</p>\n</blockquote>\n<p>Per Voo's suggestion: on Unix systems, <code>getCanonicalPath()</code> will also resolve symbolic links if the symbolic link exists. Hard links are treated like normal files (which is basically what they are). Note, however, that a file need not exist for these methods to succeed.</p>\n<p><sup>[1]</sup> <sub>Well, not quite. As @Tom Hale points out in a comment, if the file system supports hard-linked directories, there may be multiple canonical paths to a given file.</sub></p>\n"},{"tags":[],"owner":{"account_id":298708,"reputation":11355,"user_id":604864,"accept_rate":98,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1512387659,"creation_date":1342318679,"answer_id":11488878,"question_id":11488754,"body_markdown":"Here is a **canonical** path.\r\n\r\n&gt; C:/files/foo.txt\r\n\r\nHere are **absolute** paths\r\n\r\n  - C:/files/FOO.TXT\r\n\r\n  - C:/files/FOO.txt\r\n\r\n  - C:/files/foo.TXT\r\n\r\n  - C:/FILES/FOO.TXT\r\n\r\nA canonical path is an *absolute unique path* to the file.\r\nA file can have only one canonical path and many absolute paths.\r\n\r\nA file can have only have one canonical path which is the file path of the file.\r\nA file can have many absolute paths to the file.\r\n","title":"what&#39;s the difference between canonicalpath and absolutepath?","body":"<p>Here is a <strong>canonical</strong> path.</p>\n\n<blockquote>\n  <p>C:/files/foo.txt</p>\n</blockquote>\n\n<p>Here are <strong>absolute</strong> paths</p>\n\n<ul>\n<li><p>C:/files/FOO.TXT</p></li>\n<li><p>C:/files/FOO.txt</p></li>\n<li><p>C:/files/foo.TXT</p></li>\n<li><p>C:/FILES/FOO.TXT</p></li>\n</ul>\n\n<p>A canonical path is an <em>absolute unique path</em> to the file.\nA file can have only one canonical path and many absolute paths.</p>\n\n<p>A file can have only have one canonical path which is the file path of the file.\nA file can have many absolute paths to the file.</p>\n"}],"owner":{"account_id":232243,"reputation":83887,"user_id":496949,"accept_rate":86,"display_name":"user496949"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28434,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"closed_date":1342319386,"accepted_answer_id":11488781,"answer_count":3,"score":28,"last_activity_date":1668020855,"creation_date":1342316629,"question_id":11488754,"body_markdown":"&gt; **Possible Duplicate:**  \n&gt; [What&amp;#39;s the difference between getPath(), getAbsolutePath(), and getCanonicalPath() in Java?](https://stackoverflow.com/questions/1099300/whats-the-difference-between-getpath-getabsolutepath-and-getcanonicalpath)  \n\n&lt;!-- End of automatically inserted text --&gt;\n\nAny difference between those two?\r\n\r\ncanonicalpath and absolutepath? \r\n\r\nIf having difference, a real world example will be needed.","title":"what&#39;s the difference between canonicalpath and absolutepath?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/1099300/whats-the-difference-between-getpath-getabsolutepath-and-getcanonicalpath\">What&#39;s the difference between getPath(), getAbsolutePath(), and getCanonicalPath() in Java?</a>  </p>\n</blockquote>\n\n\n\n<p>Any difference between those two?</p>\n\n<p>canonicalpath and absolutepath? </p>\n\n<p>If having difference, a real world example will be needed.</p>\n"},{"tags":["java","spring-boot","api","rest","postman"],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668020738,"creation_date":1668020738,"answer_id":74380130,"question_id":74379885,"body_markdown":"You can test this too on your local machine with an entry in the `hosts` file of your OS.\r\n\r\n    127.0.0.1 magicServer.com\r\n\r\nAnd listen on port 80.\r\n\r\nserver.port = 80\r\n\r\nIf not, of course you need a server on the internet and a domain of your ownership, than you can point the Internet DNS to your server.","title":"Test REST APIs on a real server (without localhost )","body":"<p>You can test this too on your local machine with an entry in the <code>hosts</code> file of your OS.</p>\n<pre><code>127.0.0.1 magicServer.com\n</code></pre>\n<p>And listen on port 80.</p>\n<p>server.port = 80</p>\n<p>If not, of course you need a server on the internet and a domain of your ownership, than you can point the Internet DNS to your server.</p>\n"}],"owner":{"account_id":18373590,"reputation":173,"user_id":13383185,"display_name":"readJohn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74380130,"answer_count":1,"score":0,"last_activity_date":1668020738,"creation_date":1668019365,"question_id":74379885,"body_markdown":"I have a @RestController class in my Spring Boot app.I tested my api&#39;s with postman on localhost and everything seems to be ok.\r\nSo now I want to test it from another computer.\r\nIs there a server/technology  which will allow me to test my api&#39;s without localhost.\r\nSo instead of:\r\nhttp://localhost:8095/api/all-users   \r\nI have:\r\nhttp://magicServer.com/api/all-users\r\n\r\n","title":"Test REST APIs on a real server (without localhost )","body":"<p>I have a @RestController class in my Spring Boot app.I tested my api's with postman on localhost and everything seems to be ok.\nSo now I want to test it from another computer.\nIs there a server/technology  which will allow me to test my api's without localhost.\nSo instead of:\nhttp://localhost:8095/api/all-users<br />\nI have:\n<a href=\"http://magicServer.com/api/all-users\" rel=\"nofollow noreferrer\">http://magicServer.com/api/all-users</a></p>\n"},{"tags":["java","grpc","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6115,"reputation":3174,"user_id":10161,"accept_rate":50,"display_name":"drfloob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668020257,"creation_date":1668020257,"answer_id":74380040,"question_id":74361514,"body_markdown":"Those environment variables work for the C-core library, not gRPC-Java (a separate repository, see https://github.com/grpc/grpc-java). gRPC-Java does all its logging via java.util.logging, so you can turn up the verbosity in the log config.","title":"Troubles debugging gRPC within a Quarkus app","body":"<p>Those environment variables work for the C-core library, not gRPC-Java (a separate repository, see <a href=\"https://github.com/grpc/grpc-java\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java</a>). gRPC-Java does all its logging via java.util.logging, so you can turn up the verbosity in the log config.</p>\n"}],"owner":{"account_id":26866868,"reputation":3,"user_id":20449507,"display_name":"Daniel Dani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74380040,"answer_count":1,"score":0,"last_activity_date":1668020257,"creation_date":1667913983,"question_id":74361514,"body_markdown":"We&#39;re implementing a gRPC Client inside a Quarkus environment, however the request is not being completed.\r\n\r\n```\r\njava.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\r\n\tat java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nResulted in: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\n\tat io.grpc.Status.asRuntimeException(Status.java:535)\r\n\tat io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)\r\n\tat io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\r\n\tat io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\r\n\tat io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\r\n\tat io.quarkus.grpc.runtime.supports.IOThreadClientInterceptor$1$1.lambda$onClose$3(IOThreadClientInterceptor.java:70)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:246)\r\n\tat io.vertx.core.impl.EventLoopContext.lambda$runOnContext$0(EventLoopContext.java:43)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n\t... 4 more\r\n```\r\n\r\nWe know that the message being built and the client configs are right because we can replicate it successfully using `grpcurl`.  \r\n**  \r\nWe have also tried to use grpc env vars described in here https://github.com/grpc/grpc/blob/master/doc/environment_variables.md. More specifically `GRPC_TRACE` and `GRPC_VERBOSITY`. But there were no changes in the output.  \r\n  \r\nWe also tried setting `quarkus.log.level=DEBUG` and `quarkus.log.category.&quot;grpc&quot;.level=DEBUG`\r\n\r\n```\r\njava.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\r\n\tat java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nResulted in: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\n\tat io.grpc.Status.asRuntimeException(Status.java:535)\r\n\tat io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)\r\n\tat io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\r\n\tat io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\r\n\tat io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\r\n\tat io.quarkus.grpc.runtime.supports.IOThreadClientInterceptor$1$1.lambda$onClose$3(IOThreadClientInterceptor.java:70)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:246)\r\n\tat io.vertx.core.impl.EventLoopContext.lambda$runOnContext$0(EventLoopContext.java:43)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n\t... 4 more\r\n\r\nWe know that the message being built and the client configs are right because we can replicate it successfully using grpcurl. We have also tried to use grpc env vars described in here https://github.com/grpc/grpc/blob/master/doc/environment_variables.md. More specifically GRPC_TRACE and GRPC_VERBOSITY. But there were no changes in the output.We also tried setting quarkus.log.level=DEBUG and quarkus.log.category.&quot;grpc&quot;.level=DEBUG\r\n\r\n022-11-08 10:08:42,074 FINE  [io.grp.net.Utils] (grpc-nio-worker-ELG-2-6) Using custom allocator: forceHeapBuffer=false, defaultPreferDirect=true\r\n2022-11-08 10:08:42,087 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-6) [id: 0x34d9ce18, L:/ - R:test.grpc.dev] OUTBOUND GO_AWAY: lastStreamId=2147483647 errorCode=2 length=70 bytes=466f6920666f72c3a761646f206f2063616e63656c616d656e746f20646520756d6120636f6e6578c3a36f206578697374656e74652070656c6f20686f737420...\r\n2022-11-08 10:08:42,088 DEBUG [io.net.han.cod.htt.Http2ConnectionHandler] (grpc-nio-worker-ELG-2-6) [id: 0x34d9ce18, L:/ ! R:test.grpc.dev] Sending GOAWAY failed: lastStreamId &#39;2147483647&#39;, errorCode &#39;2&#39;, debugData &#39;An existing connection was forcibly closed by the remote host&#39;. Forcing shutdown of the connection.: java.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat java.base/sun.nio.ch.SocketDispatcher.writev0(Native Method)\r\n\tat java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:55)\r\n\tat java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182)\r\n\tat java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:496)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doWrite(NioSocketChannel.java:430)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.flush0(AbstractChannel.java:931)\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.flush0(AbstractNioChannel.java:354)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.flush(AbstractChannel.java:895)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.flush(DefaultChannelPipeline.java:1372)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:750)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\r\n\tat io.netty.handler.codec.http2.Http2ConnectionHandler.onError(Http2ConnectionHandler.java:658)\r\n\tat io.grpc.netty.AbstractNettyHandler.exceptionCaught(AbstractNettyHandler.java:94)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:907)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.handleReadException(AbstractNioByteChannel.java:125)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:177)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n2022-11-08 10:08:42,090 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-6) Network channel is closed\r\n2022-11-08 10:08:42,119 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ - R:test.grpc.dev OUTBOUND SETTINGS: ack=false settings={ENABLE_PUSH=0, MAX_CONCURRENT_STREAMS=0, INITIAL_WINDOW_SIZE=1048576, MAX_HEADER_LIST_SIZE=8192}\r\n2022-11-08 10:08:42,119 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ - R:test.grpc.dev OUTBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=983041\r\n2022-11-08 10:08:42,139 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) Caught a connection error: java.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\r\n\tat java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n2022-11-08 10:08:42,140 FINE  [io.grp.net.Utils] (grpc-nio-worker-ELG-2-7) Using custom allocator: forceHeapBuffer=false, defaultPreferDirect=true\r\n2022-11-08 10:08:42,140 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ - R:test.grpc.dev OUTBOUND GO_AWAY: lastStreamId=2147483647 errorCode=2 length=70 bytes=466f6920666f72c3a761646f206f2063616e63656c616d656e746f20646520756d6120636f6e6578c3a36f206578697374656e74652070656c6f20686f737420...\r\n2022-11-08 10:08:42,141 DEBUG [io.net.han.cod.htt.Http2ConnectionHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ ! R:test.grpc.dev Sending GOAWAY failed: lastStreamId &#39;2147483647&#39;, errorCode &#39;2&#39;, debugData &#39;An existing connection was forcibly closed by the remote host&#39;. Forcing shutdown of the connection.: java.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat java.base/sun.nio.ch.SocketDispatcher.writev0(Native Method)\r\n\tat java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:55)\r\n\tat java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182)\r\n\tat java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:496)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doWrite(NioSocketChannel.java:430)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.flush0(AbstractChannel.java:931)\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.flush0(AbstractNioChannel.java:354)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.flush(AbstractChannel.java:895)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.flush(DefaultChannelPipeline.java:1372)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:750)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\r\n\tat io.netty.handler.codec.http2.Http2ConnectionHandler.onError(Http2ConnectionHandler.java:658)\r\n\tat io.grpc.netty.AbstractNettyHandler.exceptionCaught(AbstractNettyHandler.java:94)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:907)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.handleReadException(AbstractNioByteChannel.java:125)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:177)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n2022-11-08 10:08:42,141 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) Network channel is closed\r\n2022-11-08 10:08:42,161 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-8) [id: 0x5f369dc9, L:/ - R:test.grpc.dev] OUTBOUND SETTINGS: ack=false settings={ENABLE_PUSH=0, MAX_CONCURRENT_STREAMS=0, INITIAL_WINDOW_SIZE=1048576, MAX_HEADER_LIST_SIZE=8192}\r\n2022-11-08 10:08:42,161 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-8) [id: 0x5f369dc9, L:/ - R:test.grpc.dev] OUTBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=983041\r\n2022-11-08 10:08:42,182 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-8) Caught a connection error: java.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\r\n\tat java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\nWhat I would like to know is:\r\n- Why gRPC environment variables are not taking effect?\r\n- What can we do to get more insight on why the connection is being closed?","title":"Troubles debugging gRPC within a Quarkus app","body":"<p>We're implementing a gRPC Client inside a Quarkus environment, however the request is not being completed.</p>\n<pre><code>java.io.IOException: An existing connection was forcibly closed by the remote host\n    at java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\n    at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\n    at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nResulted in: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\n    at io.grpc.Status.asRuntimeException(Status.java:535)\n    at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)\n    at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\n    at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\n    at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\n    at io.quarkus.grpc.runtime.supports.IOThreadClientInterceptor$1$1.lambda$onClose$3(IOThreadClientInterceptor.java:70)\n    at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\n    at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:246)\n    at io.vertx.core.impl.EventLoopContext.lambda$runOnContext$0(EventLoopContext.java:43)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    ... 4 more\n</code></pre>\n<p>We know that the message being built and the client configs are right because we can replicate it successfully using <code>grpcurl</code>.<br />\n**<br />\nWe have also tried to use grpc env vars described in here <a href=\"https://github.com/grpc/grpc/blob/master/doc/environment_variables.md\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc/blob/master/doc/environment_variables.md</a>. More specifically <code>GRPC_TRACE</code> and <code>GRPC_VERBOSITY</code>. But there were no changes in the output.</p>\n<p>We also tried setting <code>quarkus.log.level=DEBUG</code> and <code>quarkus.log.category.&quot;grpc&quot;.level=DEBUG</code></p>\n<pre><code>java.io.IOException: An existing connection was forcibly closed by the remote host\n    at java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\n    at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\n    at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nResulted in: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\n    at io.grpc.Status.asRuntimeException(Status.java:535)\n    at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)\n    at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\n    at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\n    at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\n    at io.quarkus.grpc.runtime.supports.IOThreadClientInterceptor$1$1.lambda$onClose$3(IOThreadClientInterceptor.java:70)\n    at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\n    at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:246)\n    at io.vertx.core.impl.EventLoopContext.lambda$runOnContext$0(EventLoopContext.java:43)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    ... 4 more\n\nWe know that the message being built and the client configs are right because we can replicate it successfully using grpcurl. We have also tried to use grpc env vars described in here https://github.com/grpc/grpc/blob/master/doc/environment_variables.md. More specifically GRPC_TRACE and GRPC_VERBOSITY. But there were no changes in the output.We also tried setting quarkus.log.level=DEBUG and quarkus.log.category.&quot;grpc&quot;.level=DEBUG\n\n022-11-08 10:08:42,074 FINE  [io.grp.net.Utils] (grpc-nio-worker-ELG-2-6) Using custom allocator: forceHeapBuffer=false, defaultPreferDirect=true\n2022-11-08 10:08:42,087 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-6) [id: 0x34d9ce18, L:/ - R:test.grpc.dev] OUTBOUND GO_AWAY: lastStreamId=2147483647 errorCode=2 length=70 bytes=466f6920666f72c3a761646f206f2063616e63656c616d656e746f20646520756d6120636f6e6578c3a36f206578697374656e74652070656c6f20686f737420...\n2022-11-08 10:08:42,088 DEBUG [io.net.han.cod.htt.Http2ConnectionHandler] (grpc-nio-worker-ELG-2-6) [id: 0x34d9ce18, L:/ ! R:test.grpc.dev] Sending GOAWAY failed: lastStreamId '2147483647', errorCode '2', debugData 'An existing connection was forcibly closed by the remote host'. Forcing shutdown of the connection.: java.io.IOException: An existing connection was forcibly closed by the remote host\n    at java.base/sun.nio.ch.SocketDispatcher.writev0(Native Method)\n    at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:55)\n    at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182)\n    at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130)\n    at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:496)\n    at io.netty.channel.socket.nio.NioSocketChannel.doWrite(NioSocketChannel.java:430)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.flush0(AbstractChannel.java:931)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.flush0(AbstractNioChannel.java:354)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.flush(AbstractChannel.java:895)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.flush(DefaultChannelPipeline.java:1372)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:750)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\n    at io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\n    at io.netty.handler.codec.http2.Http2ConnectionHandler.onError(Http2ConnectionHandler.java:658)\n    at io.grpc.netty.AbstractNettyHandler.exceptionCaught(AbstractNettyHandler.java:94)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n    at io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n    at io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:907)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.handleReadException(AbstractNioByteChannel.java:125)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:177)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n\n2022-11-08 10:08:42,090 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-6) Network channel is closed\n2022-11-08 10:08:42,119 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ - R:test.grpc.dev OUTBOUND SETTINGS: ack=false settings={ENABLE_PUSH=0, MAX_CONCURRENT_STREAMS=0, INITIAL_WINDOW_SIZE=1048576, MAX_HEADER_LIST_SIZE=8192}\n2022-11-08 10:08:42,119 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ - R:test.grpc.dev OUTBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=983041\n2022-11-08 10:08:42,139 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) Caught a connection error: java.io.IOException: An existing connection was forcibly closed by the remote host\n    at java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\n    at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\n    at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n\n2022-11-08 10:08:42,140 FINE  [io.grp.net.Utils] (grpc-nio-worker-ELG-2-7) Using custom allocator: forceHeapBuffer=false, defaultPreferDirect=true\n2022-11-08 10:08:42,140 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ - R:test.grpc.dev OUTBOUND GO_AWAY: lastStreamId=2147483647 errorCode=2 length=70 bytes=466f6920666f72c3a761646f206f2063616e63656c616d656e746f20646520756d6120636f6e6578c3a36f206578697374656e74652070656c6f20686f737420...\n2022-11-08 10:08:42,141 DEBUG [io.net.han.cod.htt.Http2ConnectionHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ ! R:test.grpc.dev Sending GOAWAY failed: lastStreamId '2147483647', errorCode '2', debugData 'An existing connection was forcibly closed by the remote host'. Forcing shutdown of the connection.: java.io.IOException: An existing connection was forcibly closed by the remote host\n    at java.base/sun.nio.ch.SocketDispatcher.writev0(Native Method)\n    at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:55)\n    at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182)\n    at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130)\n    at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:496)\n    at io.netty.channel.socket.nio.NioSocketChannel.doWrite(NioSocketChannel.java:430)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.flush0(AbstractChannel.java:931)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.flush0(AbstractNioChannel.java:354)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.flush(AbstractChannel.java:895)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.flush(DefaultChannelPipeline.java:1372)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:750)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\n    at io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\n    at io.netty.handler.codec.http2.Http2ConnectionHandler.onError(Http2ConnectionHandler.java:658)\n    at io.grpc.netty.AbstractNettyHandler.exceptionCaught(AbstractNettyHandler.java:94)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n    at io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n    at io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:907)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.handleReadException(AbstractNioByteChannel.java:125)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:177)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n\n2022-11-08 10:08:42,141 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) Network channel is closed\n2022-11-08 10:08:42,161 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-8) [id: 0x5f369dc9, L:/ - R:test.grpc.dev] OUTBOUND SETTINGS: ack=false settings={ENABLE_PUSH=0, MAX_CONCURRENT_STREAMS=0, INITIAL_WINDOW_SIZE=1048576, MAX_HEADER_LIST_SIZE=8192}\n2022-11-08 10:08:42,161 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-8) [id: 0x5f369dc9, L:/ - R:test.grpc.dev] OUTBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=983041\n2022-11-08 10:08:42,182 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-8) Caught a connection error: java.io.IOException: An existing connection was forcibly closed by the remote host\n    at java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\n    at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\n    at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>What I would like to know is:</p>\n<ul>\n<li>Why gRPC environment variables are not taking effect?</li>\n<li>What can we do to get more insight on why the connection is being closed?</li>\n</ul>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webflux","webclient"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1668294620,"post_id":74379839,"comment_id":131371412,"body_markdown":"Never use `block()` and must not also to block the thread in the reactive environment!","body":"Never use <code>block()</code> and must not also to block the thread in the reactive environment!"},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1668294952,"post_id":74379839,"comment_id":131371464,"body_markdown":"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnError-java.util.function.Consumer-","body":"<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnError-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/api/reactor/core/publish&zwnj;&#8203;er/&hellip;</a>"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1673006346,"post_id":74379839,"comment_id":132405838,"body_markdown":"doOnError() actualy does not handle your exception but just applies some side effect (just for logging something and etc.). To actually handle exceptions you should use operators like onErrorResume/Return/Continue()","body":"doOnError() actualy does not handle your exception but just applies some side effect (just for logging something and etc.). To actually handle exceptions you should use operators like onErrorResume/Return/Continue()"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668019049,"creation_date":1668019049,"question_id":74379839,"body_markdown":"I am using `WebClient` to make an api call. In few of the error responses from API, **response body is empty** and in few errors **there is an error body**, I need to extract certain text from the error response body and send it in the `Throwable` for logging. I am using `exchangeToMono()` to serve this purpose as below. In cases when `there is an error body`, my `WebClientResponseException` is getting thrown, However even after handling it the `throwable` in `doOnError()`, same exception is getting thrown and the outside `catch` block is also getting executed. Is the exception being thrown even after `doOnError()`? \r\n\r\n\r\n    try{\r\n    \r\n        getWebClient().\r\n        patch().\r\n        uri(uri).\r\n        body(fromValue(getBody())).\r\n        exchangeToMono (clientResponse -&gt; {\r\n        \r\n        if(clientResponse.statusCode().isError()){\r\n        \r\n        return clientResponse.\r\n        bodyToMono(APIresponse.class).\r\n        switchIfEmpty(Mono.error(new WebClientResponseException(clientResponse.statusCode().value(), clientResponse.statusCode().getReasonPhrase(),null,null,CharSet.defaultCharset()))).\r\n        flatmap(apiresponse -&gt; Mono.error(new WebClientResponseException(clientResponse.statusCode().value(), apiresponse.getResponseMessage(),null,null,CharSet.defaultCharset())));        \r\n          }    \r\n         }\r\n        ).\r\n         doOnError(throwable -&gt; log.error(&quot;Error Text {}&quot;,throwable.getMessage())).\r\n         block();\r\n    }\r\n    \r\n    catch(Exception exception){\r\n    log.error(&quot;Exception from api call&quot;);\r\n    }\r\n\r\n","title":"Error thrown in Webclient even after doOnError","body":"<p>I am using <code>WebClient</code> to make an api call. In few of the error responses from API, <strong>response body is empty</strong> and in few errors <strong>there is an error body</strong>, I need to extract certain text from the error response body and send it in the <code>Throwable</code> for logging. I am using <code>exchangeToMono()</code> to serve this purpose as below. In cases when <code>there is an error body</code>, my <code>WebClientResponseException</code> is getting thrown, However even after handling it the <code>throwable</code> in <code>doOnError()</code>, same exception is getting thrown and the outside <code>catch</code> block is also getting executed. Is the exception being thrown even after <code>doOnError()</code>?</p>\n<pre><code>try{\n\n    getWebClient().\n    patch().\n    uri(uri).\n    body(fromValue(getBody())).\n    exchangeToMono (clientResponse -&gt; {\n    \n    if(clientResponse.statusCode().isError()){\n    \n    return clientResponse.\n    bodyToMono(APIresponse.class).\n    switchIfEmpty(Mono.error(new WebClientResponseException(clientResponse.statusCode().value(), clientResponse.statusCode().getReasonPhrase(),null,null,CharSet.defaultCharset()))).\n    flatmap(apiresponse -&gt; Mono.error(new WebClientResponseException(clientResponse.statusCode().value(), apiresponse.getResponseMessage(),null,null,CharSet.defaultCharset())));        \n      }    \n     }\n    ).\n     doOnError(throwable -&gt; log.error(&quot;Error Text {}&quot;,throwable.getMessage())).\n     block();\n}\n\ncatch(Exception exception){\nlog.error(&quot;Exception from api call&quot;);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-annotations","annotation-processing"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668011506,"creation_date":1668011506,"answer_id":74378322,"question_id":74378187,"body_markdown":"This should work\r\n\r\n    @Pattern(regexp = REGEX_PATTERN_ALPHANUMERIC, message = &quot;{error.invalid.name.id.header}&quot;) \r\n    @Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\r\n    @Retention(RUNTIME)\r\n    @Documented\r\n    @Constraint(validatedBy = {})\r\n    public @interface NameId {\r\n           String nameId() default &quot;&quot;;\r\n    }\r\n\r\nI think the Constraint was missing, and the Valid annotation is not necessary.\r\n\r\nRead more here: https://www.baeldung.com/java-bean-validation-constraint-composition","title":"Composing validation annotations into a single annotation","body":"<p>This should work</p>\n<pre><code>@Pattern(regexp = REGEX_PATTERN_ALPHANUMERIC, message = &quot;{error.invalid.name.id.header}&quot;) \n@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\n@Retention(RUNTIME)\n@Documented\n@Constraint(validatedBy = {})\npublic @interface NameId {\n       String nameId() default &quot;&quot;;\n}\n</code></pre>\n<p>I think the Constraint was missing, and the Valid annotation is not necessary.</p>\n<p>Read more here: <a href=\"https://www.baeldung.com/java-bean-validation-constraint-composition\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-bean-validation-constraint-composition</a></p>\n"}],"owner":{"account_id":26880314,"reputation":23,"user_id":20460866,"display_name":"theFlyingRaijin04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74378322,"answer_count":1,"score":0,"last_activity_date":1668019002,"creation_date":1668010895,"question_id":74378187,"body_markdown":"I have the below method which uses nameId as a RequestHeader and there are other methods that use the same variable declaration. Is there a way that the `nameId` validations can be grouped into an interface so that we can annotate instead of adding @Valid &amp; @Pattern every time?\r\n\r\n```\r\npublic ResponseEntity&lt;PlanResponse&gt; updatePlanProductByPlanId(\r\n\t    @RequestHeader(value = &quot;name_id&quot;, required = true) @Valid @Pattern(regexp = REGEX_PATTERN_ALPHANUMERIC, message = &quot;{error.invalid.name.id.header}&quot;) String nameId,\r\n\t    @PathVariable(value = &quot;planid&quot;) @Valid @Pattern(regexp = REGEX_PATTERN_ONLY_NUMBERS, message = &quot;{error.invalid.plan.id}&quot;) String planId,\r\n\t    @Validated({\r\n\t\t    OnPlanProductUpdate.class }) @RequestBody(required = true) SavePlanProductRequest updateProductRequest)\r\n\t    throws ServiceException { ... }\r\n```\r\n\r\nExpecting something like `@NameId` annotation. \r\n\r\n```\r\npublic ResponseEntity&lt;PlanResponse&gt; updatePlanProductByPlanId(\r\n\t    @RequestHeader(value = &quot;name_id&quot;, required = true) @NameId String nameId,\r\n\t    @PathVariable(value = &quot;planid&quot;) @Valid @Pattern(regexp = REGEX_PATTERN_ONLY_NUMBERS, message = &quot;{error.invalid.plan.id}&quot;) String planId,\r\n\t    @Validated({\r\n\t\t    OnPlanProductUpdate.class }) @RequestBody(required = true) SavePlanProductRequest updateProductRequest)\r\n\t    throws ServiceException { ... }\r\n```\r\n\r\nI tried creating an interface like the one below, but the validation didn&#39;t seem to work.\r\n```\r\n@Valid \r\n@Pattern(regexp = REGEX_PATTERN_ALPHANUMERIC, message = &quot;{error.invalid.name.id.header}&quot;) \r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface NameId {\r\n       String nameId() default &quot;&quot;;\r\n}\r\n```\r\n\r\n","title":"Composing validation annotations into a single annotation","body":"<p>I have the below method which uses nameId as a RequestHeader and there are other methods that use the same variable declaration. Is there a way that the <code>nameId</code> validations can be grouped into an interface so that we can annotate instead of adding @Valid &amp; @Pattern every time?</p>\n<pre><code>public ResponseEntity&lt;PlanResponse&gt; updatePlanProductByPlanId(\n        @RequestHeader(value = &quot;name_id&quot;, required = true) @Valid @Pattern(regexp = REGEX_PATTERN_ALPHANUMERIC, message = &quot;{error.invalid.name.id.header}&quot;) String nameId,\n        @PathVariable(value = &quot;planid&quot;) @Valid @Pattern(regexp = REGEX_PATTERN_ONLY_NUMBERS, message = &quot;{error.invalid.plan.id}&quot;) String planId,\n        @Validated({\n            OnPlanProductUpdate.class }) @RequestBody(required = true) SavePlanProductRequest updateProductRequest)\n        throws ServiceException { ... }\n</code></pre>\n<p>Expecting something like <code>@NameId</code> annotation.</p>\n<pre><code>public ResponseEntity&lt;PlanResponse&gt; updatePlanProductByPlanId(\n        @RequestHeader(value = &quot;name_id&quot;, required = true) @NameId String nameId,\n        @PathVariable(value = &quot;planid&quot;) @Valid @Pattern(regexp = REGEX_PATTERN_ONLY_NUMBERS, message = &quot;{error.invalid.plan.id}&quot;) String planId,\n        @Validated({\n            OnPlanProductUpdate.class }) @RequestBody(required = true) SavePlanProductRequest updateProductRequest)\n        throws ServiceException { ... }\n</code></pre>\n<p>I tried creating an interface like the one below, but the validation didn't seem to work.</p>\n<pre><code>@Valid \n@Pattern(regexp = REGEX_PATTERN_ALPHANUMERIC, message = &quot;{error.invalid.name.id.header}&quot;) \n@Retention(RetentionPolicy.RUNTIME)\npublic @interface NameId {\n       String nameId() default &quot;&quot;;\n}\n</code></pre>\n"},{"tags":["java","excel","ms-word","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1592296816,"creation_date":1592296816,"answer_id":62404421,"question_id":62398450,"body_markdown":"The `OLEObject`s are contained in `XWPFRun`s. So one could check each `XWPFRun` whether it contains `OLEObject`s. If so, then get the `rId` attribute out of the `OLEObject`. This ID links to a document part of the `Office Open XML` document. The content type of the package part behind that document part determines what kind of object is embedded. So dependent of the content type one could get the `XSSFWorkbook`, `HSSFWorkbook` or other embedded `OLEObject`s then.\r\n\r\nThe following methods demonstrate this approach:\r\n\r\n    ...\r\n    import org.apache.poi.ooxml.*;\r\n    import org.apache.poi.openxml4j.opc.*;\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.hssf.usermodel.*;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\r\n    import org.apache.xmlbeans.XmlObject;\r\n    ...\r\n    \r\n     void handleOLEObjects(XWPFRun run) {\r\n      CTR ctr = run.getCTR();\r\n      String declareNameSpaces = &quot;declare namespace o=&#39;urn:schemas-microsoft-com:office:office&#39;&quot;;\r\n      XmlObject[] oleObjects = ctr.selectPath(declareNameSpaces + &quot;.//o:OLEObject&quot;);\r\n      for (XmlObject oleObject : oleObjects) {\r\n       XmlObject rIdAttribute = oleObject.selectAttribute(&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships&quot;, &quot;id&quot;);\r\n       if (rIdAttribute != null) {\r\n        String rId = rIdAttribute.newCursor().getTextValue();\r\n        handleOLEObject(run.getDocument(), rId);\r\n       }\r\n      }\r\n     }\r\n    \r\n     void handleOLEObject(XWPFDocument document, String rId) {\r\n      POIXMLDocumentPart documentPart = document.getRelationById(rId);\r\n      if (&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;.equals(documentPart.getPackagePart().getContentType())) {\r\n       handleXSSFWorkbook(documentPart.getPackagePart());\r\n      } else if (&quot;application/vnd.ms-excel&quot;.equals(documentPart.getPackagePart().getContentType())) {\r\n       handleHSSFWorkbook(documentPart.getPackagePart());\r\n      } //else if ...\r\n     }\r\n    \r\n     void handleXSSFWorkbook(PackagePart part) {\r\n      try {\r\n       XSSFWorkbook workbook = new XSSFWorkbook(part);\r\n       for (Sheet sheet : workbook) {\r\n        for (Row row : sheet) {\r\n         for (Cell cell : row) {\r\n          System.out.print(cell + &quot;\\t&quot;);\r\n         }\r\n         System.out.println();\r\n        }\r\n       }\r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();\r\n      }\r\n     }\r\n    \r\n     void handleHSSFWorkbook(PackagePart part) {\r\n      try {\r\n       HSSFWorkbook workbook = new HSSFWorkbook(part.getInputStream());\r\n       for (Sheet sheet : workbook) {\r\n        for (Row row : sheet) {\r\n         for (Cell cell : row) {\r\n          System.out.print(cell + &quot;\\t&quot;);\r\n         }\r\n         System.out.println();\r\n        }\r\n       }\r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();\r\n      }\r\n     }\r\n\r\n\r\n\r\nThe method `handleOLEObjects` uses `XPath` to get all the `OLEObject` `XML` objects out of the `XWPFRun`. It also gets the `rId` attribute. If a such is present, then it calls `handleOLEObject`. This method gets the linked `POIXMLDocumentPart` from `XWPFDocument` by the `rId`. Then it determines by the content types which kinds of `OLEObjects` are embedded and calls different handler methods for those objects.","title":"Apache POI library : How to read Excel sheet embedded in Word document","body":"<p>The <code>OLEObject</code>s are contained in <code>XWPFRun</code>s. So one could check each <code>XWPFRun</code> whether it contains <code>OLEObject</code>s. If so, then get the <code>rId</code> attribute out of the <code>OLEObject</code>. This ID links to a document part of the <code>Office Open XML</code> document. The content type of the package part behind that document part determines what kind of object is embedded. So dependent of the content type one could get the <code>XSSFWorkbook</code>, <code>HSSFWorkbook</code> or other embedded <code>OLEObject</code>s then.</p>\n\n<p>The following methods demonstrate this approach:</p>\n\n<pre><code>...\nimport org.apache.poi.ooxml.*;\nimport org.apache.poi.openxml4j.opc.*;\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.hssf.usermodel.*;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\nimport org.apache.xmlbeans.XmlObject;\n...\n\n void handleOLEObjects(XWPFRun run) {\n  CTR ctr = run.getCTR();\n  String declareNameSpaces = \"declare namespace o='urn:schemas-microsoft-com:office:office'\";\n  XmlObject[] oleObjects = ctr.selectPath(declareNameSpaces + \".//o:OLEObject\");\n  for (XmlObject oleObject : oleObjects) {\n   XmlObject rIdAttribute = oleObject.selectAttribute(\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\", \"id\");\n   if (rIdAttribute != null) {\n    String rId = rIdAttribute.newCursor().getTextValue();\n    handleOLEObject(run.getDocument(), rId);\n   }\n  }\n }\n\n void handleOLEObject(XWPFDocument document, String rId) {\n  POIXMLDocumentPart documentPart = document.getRelationById(rId);\n  if (\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\".equals(documentPart.getPackagePart().getContentType())) {\n   handleXSSFWorkbook(documentPart.getPackagePart());\n  } else if (\"application/vnd.ms-excel\".equals(documentPart.getPackagePart().getContentType())) {\n   handleHSSFWorkbook(documentPart.getPackagePart());\n  } //else if ...\n }\n\n void handleXSSFWorkbook(PackagePart part) {\n  try {\n   XSSFWorkbook workbook = new XSSFWorkbook(part);\n   for (Sheet sheet : workbook) {\n    for (Row row : sheet) {\n     for (Cell cell : row) {\n      System.out.print(cell + \"\\t\");\n     }\n     System.out.println();\n    }\n   }\n  } catch (Exception ex) {\n   ex.printStackTrace();\n  }\n }\n\n void handleHSSFWorkbook(PackagePart part) {\n  try {\n   HSSFWorkbook workbook = new HSSFWorkbook(part.getInputStream());\n   for (Sheet sheet : workbook) {\n    for (Row row : sheet) {\n     for (Cell cell : row) {\n      System.out.print(cell + \"\\t\");\n     }\n     System.out.println();\n    }\n   }\n  } catch (Exception ex) {\n   ex.printStackTrace();\n  }\n }\n</code></pre>\n\n<p>The method <code>handleOLEObjects</code> uses <code>XPath</code> to get all the <code>OLEObject</code> <code>XML</code> objects out of the <code>XWPFRun</code>. It also gets the <code>rId</code> attribute. If a such is present, then it calls <code>handleOLEObject</code>. This method gets the linked <code>POIXMLDocumentPart</code> from <code>XWPFDocument</code> by the <code>rId</code>. Then it determines by the content types which kinds of <code>OLEObjects</code> are embedded and calls different handler methods for those objects.</p>\n"}],"owner":{"account_id":16049252,"reputation":63,"user_id":11583617,"display_name":"Harpreet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62404421,"answer_count":1,"score":1,"last_activity_date":1668018650,"creation_date":1592262579,"question_id":62398450,"body_markdown":"I am using Apache POI library to read a Word document and convert it to HTML. I have a Word document that includes an embedded Excel worksheet. Is there a way to read that embedded Excel sheet when reading the XWPF document?\r\n\r\nThe OOXML contains below code:\r\n```\r\n&lt;w:object w:dxaOrig=&quot;6942&quot; w:dyaOrig=&quot;3234&quot; w14:anchorId=&quot;071813E3&quot;&gt;\r\n                &lt;v:shapetype id=&quot;_x0000_t75&quot; coordsize=&quot;21600,21600&quot; o:spt=&quot;75&quot; o:preferrelative=&quot;t&quot; path=&quot;m@4@5l@4@11@9@11@9@5xe&quot; filled=&quot;f&quot; stroked=&quot;f&quot;&gt;\r\n                  &lt;v:stroke joinstyle=&quot;miter&quot;/&gt;\r\n                  &lt;v:formulas&gt;\r\n                    &lt;v:f eqn=&quot;if lineDrawn pixelLineWidth 0&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;sum @0 1 0&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;sum 0 0 @1&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;prod @2 1 2&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;prod @3 21600 pixelWidth&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;prod @3 21600 pixelHeight&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;sum @0 0 1&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;prod @6 1 2&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;prod @7 21600 pixelWidth&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;sum @8 21600 0&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;prod @7 21600 pixelHeight&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;sum @10 21600 0&quot;/&gt;\r\n                  &lt;/v:formulas&gt;\r\n                  &lt;v:path o:extrusionok=&quot;f&quot; gradientshapeok=&quot;t&quot; o:connecttype=&quot;rect&quot;/&gt;\r\n                  &lt;o:lock v:ext=&quot;edit&quot; aspectratio=&quot;t&quot;/&gt;\r\n                &lt;/v:shapetype&gt;\r\n                &lt;v:shape id=&quot;_x0000_i1037&quot; type=&quot;#_x0000_t75&quot; style=&quot;width:347.4pt;height:162pt&quot; o:ole=&quot;&quot;&gt;\r\n                  &lt;v:imagedata r:id=&quot;rId7&quot; o:title=&quot;&quot;/&gt;\r\n                &lt;/v:shape&gt;\r\n                &lt;o:OLEObject Type=&quot;Embed&quot; ProgID=&quot;Excel.Sheet.12&quot; ShapeID=&quot;_x0000_i1037&quot; DrawAspect=&quot;Content&quot; ObjectID=&quot;_1653752874&quot; r:id=&quot;rId8&quot;/&gt;\r\n              &lt;/w:object&gt;\r\n```\r\n\r\nI see there is OLEObject embedded in there. But not sure how to read its contents. Any help is greatly appreciated.\r\n\r\n","title":"Apache POI library : How to read Excel sheet embedded in Word document","body":"<p>I am using Apache POI library to read a Word document and convert it to HTML. I have a Word document that includes an embedded Excel worksheet. Is there a way to read that embedded Excel sheet when reading the XWPF document?</p>\n\n<p>The OOXML contains below code:</p>\n\n<pre><code>&lt;w:object w:dxaOrig=\"6942\" w:dyaOrig=\"3234\" w14:anchorId=\"071813E3\"&gt;\n                &lt;v:shapetype id=\"_x0000_t75\" coordsize=\"21600,21600\" o:spt=\"75\" o:preferrelative=\"t\" path=\"m@4@5l@4@11@9@11@9@5xe\" filled=\"f\" stroked=\"f\"&gt;\n                  &lt;v:stroke joinstyle=\"miter\"/&gt;\n                  &lt;v:formulas&gt;\n                    &lt;v:f eqn=\"if lineDrawn pixelLineWidth 0\"/&gt;\n                    &lt;v:f eqn=\"sum @0 1 0\"/&gt;\n                    &lt;v:f eqn=\"sum 0 0 @1\"/&gt;\n                    &lt;v:f eqn=\"prod @2 1 2\"/&gt;\n                    &lt;v:f eqn=\"prod @3 21600 pixelWidth\"/&gt;\n                    &lt;v:f eqn=\"prod @3 21600 pixelHeight\"/&gt;\n                    &lt;v:f eqn=\"sum @0 0 1\"/&gt;\n                    &lt;v:f eqn=\"prod @6 1 2\"/&gt;\n                    &lt;v:f eqn=\"prod @7 21600 pixelWidth\"/&gt;\n                    &lt;v:f eqn=\"sum @8 21600 0\"/&gt;\n                    &lt;v:f eqn=\"prod @7 21600 pixelHeight\"/&gt;\n                    &lt;v:f eqn=\"sum @10 21600 0\"/&gt;\n                  &lt;/v:formulas&gt;\n                  &lt;v:path o:extrusionok=\"f\" gradientshapeok=\"t\" o:connecttype=\"rect\"/&gt;\n                  &lt;o:lock v:ext=\"edit\" aspectratio=\"t\"/&gt;\n                &lt;/v:shapetype&gt;\n                &lt;v:shape id=\"_x0000_i1037\" type=\"#_x0000_t75\" style=\"width:347.4pt;height:162pt\" o:ole=\"\"&gt;\n                  &lt;v:imagedata r:id=\"rId7\" o:title=\"\"/&gt;\n                &lt;/v:shape&gt;\n                &lt;o:OLEObject Type=\"Embed\" ProgID=\"Excel.Sheet.12\" ShapeID=\"_x0000_i1037\" DrawAspect=\"Content\" ObjectID=\"_1653752874\" r:id=\"rId8\"/&gt;\n              &lt;/w:object&gt;\n</code></pre>\n\n<p>I see there is OLEObject embedded in there. But not sure how to read its contents. Any help is greatly appreciated.</p>\n"},{"tags":["java","html","excel","csv"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598025907,"creation_date":1598025907,"answer_id":63526288,"question_id":63526151,"body_markdown":"The unicode symbol 244 is &amp;#244;. The ASCII table goes from 0 to 127, more or less.\r\n\r\nTherefore, this statement:\r\n\r\n&gt; What does the paragraph symbol (ASCII : ALT-244)\r\n\r\nindicates you are confused. There is no ascii 244. If you meant unicode: 244 is not the paragraph symbol. If you meant ISO-8859-1: That one also has &amp;#244; in the 244 spot. As Does Cp1252. MacRoman has &#217;. I&#39;m starting to run out of commonly used encodings, so whatever you have is a weirder variant I&#39;m not aware.\r\n\r\n__IBM852 and IBM850 has &#167;, but at 245.__ - so presumably you&#39;ve miscopied something or misunderstood something, and it&#39;s IBM852, because that is too much of a coincidence.\r\n\r\nNote that the IBM850 charset is from the DOS era. Are you talking to a machine that&#39;s in a museum, perhaps? That&#39;s.. one heck of a dated charset!\r\n\r\nWhat you have is text, encoded as bytes. That&#39;s.. normal, computers do bytes. However, anytime you take your bytes and interpret them as chars, you have to tell the computer how. If you don&#39;t, the computer will guess, and you may safely assume that the computer is going to guess wrong exactly to screw you over: It&#39;ll work on your machine and pass in your tests and then fail at runtime. The solution is to __never let the computer guess__. Whenever bytes are turned into chars or vice versa, always specify a charset or ensure that the method you use is explicitly documented to pick a set, defined charset.\r\n\r\nFor example, if you have the response from the webserver in a byte array and you&#39;re turning it into a string, then:\r\n\r\n```\r\nbyte[] data = htmlResponse.getAllData();\r\nString html = new String(bytes); // Don&#39;t ever call this constructor.\r\nString html = new String(bytes, &quot;IBM-852&quot;); // Correct!\r\n```\r\n\r\n\r\nIf you&#39;re fetching this stuff from HTML, the charset will be in the response header. HTMLUnit should be taking care of this for you; apparently it is not, sounds like the web server in question is bugged and is sending the wrong charset data. That, or your code is bugged and you&#39;ve messed up the encoding conversion yourself.\r\n\r\nIt&#39;s just a symbol, strings in java are more or less unicode. Once you&#39;ve read it in properly (and I bet you haven&#39;t, that&#39;s part of the problem here), if you want to remove it, that&#39;s trivial:\r\n\r\n```\r\nbyte[] data = htmlResponse.getAllData();\r\nString html = new String(bytes, &quot;IBM-852&quot;);\r\n\r\n// replace the &#167; symbol with nothing (i.e. remove it)\r\nhtml = html.replace(&quot;&#167;&quot;, &quot;&quot;);\r\n```\r\n\r\nNB: The easy way to do charsets is to encode everything in UTF-8, everywhere. Especially the web. If you can talk to the owner of that website or whomever wrote the software for it, you should tell them to do that.","title":"Removing paragraph tags in Java","body":"<p>The unicode symbol 244 is ô. The ASCII table goes from 0 to 127, more or less.</p>\n<p>Therefore, this statement:</p>\n<blockquote>\n<p>What does the paragraph symbol (ASCII : ALT-244)</p>\n</blockquote>\n<p>indicates you are confused. There is no ascii 244. If you meant unicode: 244 is not the paragraph symbol. If you meant ISO-8859-1: That one also has ô in the 244 spot. As Does Cp1252. MacRoman has Ù. I'm starting to run out of commonly used encodings, so whatever you have is a weirder variant I'm not aware.</p>\n<p><strong>IBM852 and IBM850 has §, but at 245.</strong> - so presumably you've miscopied something or misunderstood something, and it's IBM852, because that is too much of a coincidence.</p>\n<p>Note that the IBM850 charset is from the DOS era. Are you talking to a machine that's in a museum, perhaps? That's.. one heck of a dated charset!</p>\n<p>What you have is text, encoded as bytes. That's.. normal, computers do bytes. However, anytime you take your bytes and interpret them as chars, you have to tell the computer how. If you don't, the computer will guess, and you may safely assume that the computer is going to guess wrong exactly to screw you over: It'll work on your machine and pass in your tests and then fail at runtime. The solution is to <strong>never let the computer guess</strong>. Whenever bytes are turned into chars or vice versa, always specify a charset or ensure that the method you use is explicitly documented to pick a set, defined charset.</p>\n<p>For example, if you have the response from the webserver in a byte array and you're turning it into a string, then:</p>\n<pre><code>byte[] data = htmlResponse.getAllData();\nString html = new String(bytes); // Don't ever call this constructor.\nString html = new String(bytes, &quot;IBM-852&quot;); // Correct!\n</code></pre>\n<p>If you're fetching this stuff from HTML, the charset will be in the response header. HTMLUnit should be taking care of this for you; apparently it is not, sounds like the web server in question is bugged and is sending the wrong charset data. That, or your code is bugged and you've messed up the encoding conversion yourself.</p>\n<p>It's just a symbol, strings in java are more or less unicode. Once you've read it in properly (and I bet you haven't, that's part of the problem here), if you want to remove it, that's trivial:</p>\n<pre><code>byte[] data = htmlResponse.getAllData();\nString html = new String(bytes, &quot;IBM-852&quot;);\n\n// replace the § symbol with nothing (i.e. remove it)\nhtml = html.replace(&quot;§&quot;, &quot;&quot;);\n</code></pre>\n<p>NB: The easy way to do charsets is to encode everything in UTF-8, everywhere. Especially the web. If you can talk to the owner of that website or whomever wrote the software for it, you should tell them to do that.</p>\n"}],"owner":{"account_id":18554022,"reputation":1,"user_id":13519604,"display_name":"Aaron P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668018601,"creation_date":1598025337,"question_id":63526151,"body_markdown":"Ive got a java program that downloads some files from the internet using HTMLUnit.\r\n\r\nI&#39;m trying to format these files into a CSV/Excel sheet.\r\n\r\nMy issue is that I cant seem to get the formatting quite right; One datum is sorted into a header rather than an instance. \r\n\r\nI can tell in Microsoft word that the paragraph symbol is the issue. However I&#39;m not sure what this translates to in Java. It isn&#39;t /n for newline.\r\n\r\nWhat does the paragraph symbol (ASCII : ALT-244) translate to in java? How can I remove or add this symbol for proper formatting?\r\n\r\nps- trim() isnt doin it.\r\n\r\nThank you.","title":"Removing paragraph tags in Java","body":"<p>Ive got a java program that downloads some files from the internet using HTMLUnit.</p>\n<p>I'm trying to format these files into a CSV/Excel sheet.</p>\n<p>My issue is that I cant seem to get the formatting quite right; One datum is sorted into a header rather than an instance.</p>\n<p>I can tell in Microsoft word that the paragraph symbol is the issue. However I'm not sure what this translates to in Java. It isn't /n for newline.</p>\n<p>What does the paragraph symbol (ASCII : ALT-244) translate to in java? How can I remove or add this symbol for proper formatting?</p>\n<p>ps- trim() isnt doin it.</p>\n<p>Thank you.</p>\n"},{"tags":["java","mockito","jira-rest-java-api"],"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668018340,"creation_date":1668018340,"question_id":74379727,"body_markdown":"We are integrating our application with JIRA, to create an issue with attachment.\r\n\r\n**Method 1:**\r\n\r\n        public JSONObject createIssue() {\r\n        \r\n        \t\t\tIssueRestClient issueClient = restClient.getIssueClient();\r\n        \t\t\tMetadataRestClient metadataClient = restClient.getMetadataClient();\r\n        \t\t\t\r\n        \t\t\tMap&lt;String, Long&gt; priorityMap = new HashMap&lt;&gt;();\r\n        \t\t\tMap&lt;String, Long&gt; issueMap = new HashMap&lt;&gt;();\r\n        \t\t\tMap&lt;String, String&gt; fieldsMap = new HashMap&lt;&gt;();\r\n        \r\n        \t\t\t// To get the list of all types of priorities\r\n        \t\t\tmetadataClient.getPriorities().claim().forEach(priorityType -&gt; priorityMap.put(priorityType.getName(), priorityType.getId()));\r\n        \t\t\t// To get the list of all issue types\r\n        \t\t\tmetadataClient.getIssueTypes().claim().forEach(issueType -&gt; issueMap.put(issueType.getName(), issueType.getId()));\r\n        \t\t\t// To get the list of all fields, which includes the custom fields\r\n        \t\t\tmetadataClient.getFields().claim().forEach(fieldType -&gt; fieldsMap.put(fieldType.getName(), fieldType.getId()));\r\n    \r\n    // skipped the remaining code\r\n    \r\n    \r\n        }\r\n\r\n**Method 2:**\r\n\r\n    public void addAttachmentToIssue(String issueId, InputStream inputStream, String fileNameWithExtension) {\r\n    \r\n    Issue issue = null;\r\n    \r\n    IssueRestClient issueClient = restClient.getIssueClient();\r\n    \r\n    &#160; Promise&lt;Issue&gt; promiseIssue = issueClient.getIssue(issueId);\r\n    &#160; issue = promiseIssue.claim();\r\n    \r\n    &#160; issueClient.addAttachment(issue.getAttachmentsUri(), inputStream, fileNameWithExtension);\r\n    \r\n    }\r\n\r\nI&#39;m writing unit tests using Mockito.\r\n\r\n    public class JIRATest{\r\n    \r\n    \t@InjectMocks\r\n    \tJIRAService mockJiraService;\t\r\n    \tJiraRestClient mockJiraRestClient;\t\r\n    \tIssueRestClient mockIssueRestClient;\r\n    \tPromise mockPromise;\t\r\n    \tIssue mockIssue;\r\n    \r\n    \t@BeforeEach\r\n    \tpublic void setup() {\r\n    \t\tmockJiraService = new JIRAService();\r\n    \t\tmockJiraRestClient = mock(JiraRestClient.class);\r\n    \t\tmockIssueRestClient = mock(IssueRestClient.class);\t\t\t\t\r\n    \t\tmockJiraService.setRestClient(mockJiraRestClient);\r\n    \t\tmockPromise = mock(Promise.class);\r\n    \t\tmockIssue = mock(Issue.class);\r\n    \r\n    \t}\r\n    \r\n    @Test\r\n    public void addAttachmentTest(){\r\n    \r\n    \t\tMockito.when(mockJiraRestClient.getIssueClient()).thenReturn(mockIssueRestClient);\r\n    \t\t\r\n    \t\tMockito.when(mockIssueRestClient.getIssue(&quot;DCU&quot;)).thenReturn(mockPromise);\r\n    \t\tMockito.when(mockPromise.claim()).thenReturn(mockIssue);\r\n    \t\tMockito.when(mockIssueRestClient.addAttachment(any(), any(), any()));\r\n    \t\t\r\n    \t\tString webSite = &quot;https://www.google.com&quot;;\r\n           \t URL url = new URL(webSite);\r\n          \t\t InputStream stream = url.openStream();\r\n    \t\tmockJiraService.addAttachmentToIssue(&quot;issueId&quot;, stream, &quot;lowes-webpage.html&quot;);\r\n    }\r\n    \r\n    }\r\n\r\nHow to mock these below objects, so that i wanted to use it in `thenReturn()` of Mockito?\r\n\r\n    1. Promise&lt;Issue&gt;\r\n    2. metadataClient.getPriorities() return Promise&lt;Iterable&lt;Priority&gt;&gt; \r\n    3. metadataClient.getPriorities().claim() return Iterable&lt;Priority&gt;\r\n    4. metadataClient.getIssueTypes() return Promise&lt;Iterable&lt;IssueType&gt;&gt;\r\n    5. metadataClient.getPriorities().claim()  return Iterable&lt;IssueType&gt;\r\n    6. metadataClient.getFields() return Promise&lt;Iterable&lt;Field&gt;&gt;\r\n    7. metadataClient.getFields().claim() return Iterable&lt;Field&gt;","title":"Mocking JIRA java client objects using mockito","body":"<p>We are integrating our application with JIRA, to create an issue with attachment.</p>\n<p><strong>Method 1:</strong></p>\n<pre><code>    public JSONObject createIssue() {\n    \n                IssueRestClient issueClient = restClient.getIssueClient();\n                MetadataRestClient metadataClient = restClient.getMetadataClient();\n                \n                Map&lt;String, Long&gt; priorityMap = new HashMap&lt;&gt;();\n                Map&lt;String, Long&gt; issueMap = new HashMap&lt;&gt;();\n                Map&lt;String, String&gt; fieldsMap = new HashMap&lt;&gt;();\n    \n                // To get the list of all types of priorities\n                metadataClient.getPriorities().claim().forEach(priorityType -&gt; priorityMap.put(priorityType.getName(), priorityType.getId()));\n                // To get the list of all issue types\n                metadataClient.getIssueTypes().claim().forEach(issueType -&gt; issueMap.put(issueType.getName(), issueType.getId()));\n                // To get the list of all fields, which includes the custom fields\n                metadataClient.getFields().claim().forEach(fieldType -&gt; fieldsMap.put(fieldType.getName(), fieldType.getId()));\n\n// skipped the remaining code\n\n\n    }\n</code></pre>\n<p><strong>Method 2:</strong></p>\n<pre><code>public void addAttachmentToIssue(String issueId, InputStream inputStream, String fileNameWithExtension) {\n\nIssue issue = null;\n\nIssueRestClient issueClient = restClient.getIssueClient();\n\n  Promise&lt;Issue&gt; promiseIssue = issueClient.getIssue(issueId);\n  issue = promiseIssue.claim();\n\n  issueClient.addAttachment(issue.getAttachmentsUri(), inputStream, fileNameWithExtension);\n\n}\n</code></pre>\n<p>I'm writing unit tests using Mockito.</p>\n<pre><code>public class JIRATest{\n\n    @InjectMocks\n    JIRAService mockJiraService;    \n    JiraRestClient mockJiraRestClient;  \n    IssueRestClient mockIssueRestClient;\n    Promise mockPromise;    \n    Issue mockIssue;\n\n    @BeforeEach\n    public void setup() {\n        mockJiraService = new JIRAService();\n        mockJiraRestClient = mock(JiraRestClient.class);\n        mockIssueRestClient = mock(IssueRestClient.class);              \n        mockJiraService.setRestClient(mockJiraRestClient);\n        mockPromise = mock(Promise.class);\n        mockIssue = mock(Issue.class);\n\n    }\n\n@Test\npublic void addAttachmentTest(){\n\n        Mockito.when(mockJiraRestClient.getIssueClient()).thenReturn(mockIssueRestClient);\n        \n        Mockito.when(mockIssueRestClient.getIssue(&quot;DCU&quot;)).thenReturn(mockPromise);\n        Mockito.when(mockPromise.claim()).thenReturn(mockIssue);\n        Mockito.when(mockIssueRestClient.addAttachment(any(), any(), any()));\n        \n        String webSite = &quot;https://www.google.com&quot;;\n         URL url = new URL(webSite);\n             InputStream stream = url.openStream();\n        mockJiraService.addAttachmentToIssue(&quot;issueId&quot;, stream, &quot;lowes-webpage.html&quot;);\n}\n\n}\n</code></pre>\n<p>How to mock these below objects, so that i wanted to use it in <code>thenReturn()</code> of Mockito?</p>\n<pre><code>1. Promise&lt;Issue&gt;\n2. metadataClient.getPriorities() return Promise&lt;Iterable&lt;Priority&gt;&gt; \n3. metadataClient.getPriorities().claim() return Iterable&lt;Priority&gt;\n4. metadataClient.getIssueTypes() return Promise&lt;Iterable&lt;IssueType&gt;&gt;\n5. metadataClient.getPriorities().claim()  return Iterable&lt;IssueType&gt;\n6. metadataClient.getFields() return Promise&lt;Iterable&lt;Field&gt;&gt;\n7. metadataClient.getFields().claim() return Iterable&lt;Field&gt;\n</code></pre>\n"},{"tags":["javascript","java","selenium","xpath","javascriptexecutor"],"comments":[{"owner":{"account_id":14791486,"reputation":4847,"user_id":10682289,"display_name":"JaSON"},"score":0,"creation_date":1668011960,"post_id":74377933,"comment_id":131305935,"body_markdown":"What do you want to do after clicking the Upload button?","body":"What do you want to do after clicking the Upload button?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1668012059,"post_id":74377933,"comment_id":131305974,"body_markdown":"Hey @JaSON after clicking on that button another button is shown and it allows me to update a file, do you get me?","body":"Hey @JaSON after clicking on that button another button is shown and it allows me to update a file, do you get me?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1668012111,"post_id":74377933,"comment_id":131305994,"body_markdown":"@JaSON is my XPATH correct?","body":"@JaSON is my XPATH correct?"},{"owner":{"account_id":14791486,"reputation":4847,"user_id":10682289,"display_name":"JaSON"},"score":0,"creation_date":1668012537,"post_id":74377933,"comment_id":131306142,"body_markdown":"It&#39;s hard to tell whether your XPath is correct since you use absolute XPath while shared HTML of button only... BTW don&#39;t use XPaths generated by browser dev tools or similar tools - they are not reliable and uninformative... Do you know that Selenium doesn&#39;t allow to operate with OS file uploading popup?","body":"It&#39;s hard to tell whether your XPath is correct since you use absolute XPath while shared HTML of button only... BTW don&#39;t use XPaths generated by browser dev tools or similar tools - they are not reliable and uninformative... Do you know that Selenium doesn&#39;t allow to operate with OS file uploading popup?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1668012899,"post_id":74377933,"comment_id":131306297,"body_markdown":"My code did work a few days ago but now it thrown that error message :/","body":"My code did work a few days ago but now it thrown that error message :/"},{"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"score":1,"creation_date":1668015968,"post_id":74377933,"comment_id":131307435,"body_markdown":"mmm Maybe something changed in your page and now your absolute path is not valid. What if you try this xpath? `//button[text()=&#39;Upload FILE&#39;]` or `//button[@class=&#39;btn btn-sm btn-link add-row&#39;]`","body":"mmm Maybe something changed in your page and now your absolute path is not valid. What if you try this xpath? <code>&#47;&#47;button[text()=&#39;Upload FILE&#39;]</code> or <code>&#47;&#47;button[@class=&#39;btn btn-sm btn-link add-row&#39;]</code>"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1668016190,"post_id":74377933,"comment_id":131307514,"body_markdown":"@JakyRuby hey pal, you mean this?: WebElement elementCat4735=wait10735.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Upload FILE&#39;]&quot;)));","body":"@JakyRuby hey pal, you mean this?: WebElement elementCat4735=wait10735.until(ExpectedConditions.elementToB&zwnj;&#8203;eClickable(By.xpath(&zwnj;&#8203;&quot;//button[text()=&#39;Up&zwnj;&#8203;load FILE&#39;]&quot;)));"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1668016290,"post_id":74377933,"comment_id":131307542,"body_markdown":"@JakyRuby it worked!. I used: WebElement elementCat4735=wait10735.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Upload FILE&#39;]&quot;))); Why this happened?","body":"@JakyRuby it worked!. I used: WebElement elementCat4735=wait10735.until(ExpectedConditions.elementToB&zwnj;&#8203;eClickable(By.xpath(&zwnj;&#8203;&quot;//button[text()=&#39;Up&zwnj;&#8203;load FILE&#39;]&quot;))); Why this happened?"}],"answers":[{"tags":[],"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668018289,"creation_date":1668017494,"answer_id":74379545,"question_id":74377933,"body_markdown":"If you use the xpath:\r\n\r\n    //button[text()=&#39;Upload FILE&#39;]\r\n\r\nShould work.\r\n\r\nWhy this happened?\r\n------------------\r\n\r\n\r\nThe problem is that you were using the xpath: \r\n\r\n    xpath //*[@id=\\&quot;documentation\\&quot;]/div/div[2]/div/button\r\n\r\nWith that xpath what you are doing is:\r\n\r\n 1. Locating an element with `id=&quot;documentation&quot;`\r\n 2. Then go to the first div child of that element\r\n 3. Then go to second div child of the previous div\r\n 4. Then go to the first div child of the previous div\r\n 5. Then go to the button\r\n\r\nAs you can see your final element (The button) is depending on several other parent elements to be located. Once one of those parent elements changes, your xpath is not valid anymore.\r\n\r\nIs much better to locate your xpath based on the properties of your element itself, not on the elements that surround it.\r\n\r\nIn this case I used the text of the element.\r\n\r\nI don&#39;t know if it is possible or not, but if it is possible, a good idea is to talk with developers for using ids for all the elements you will use with your automation. This is a team work!","title":"Expected condition failed: waiting for element to be clickable: By.xpath: //*[@id=&quot;documentation&quot;]/div/div[2]/div/button","body":"<p>If you use the xpath:</p>\n<pre><code>//button[text()='Upload FILE']\n</code></pre>\n<p>Should work.</p>\n<h2>Why this happened?</h2>\n<p>The problem is that you were using the xpath:</p>\n<pre><code>xpath //*[@id=\\&quot;documentation\\&quot;]/div/div[2]/div/button\n</code></pre>\n<p>With that xpath what you are doing is:</p>\n<ol>\n<li>Locating an element with <code>id=&quot;documentation&quot;</code></li>\n<li>Then go to the first div child of that element</li>\n<li>Then go to second div child of the previous div</li>\n<li>Then go to the first div child of the previous div</li>\n<li>Then go to the button</li>\n</ol>\n<p>As you can see your final element (The button) is depending on several other parent elements to be located. Once one of those parent elements changes, your xpath is not valid anymore.</p>\n<p>Is much better to locate your xpath based on the properties of your element itself, not on the elements that surround it.</p>\n<p>In this case I used the text of the element.</p>\n<p>I don't know if it is possible or not, but if it is possible, a good idea is to talk with developers for using ids for all the elements you will use with your automation. This is a team work!</p>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74379545,"answer_count":1,"score":-2,"last_activity_date":1668018289,"creation_date":1668009790,"question_id":74377933,"body_markdown":"I am trying without success to click on a particular button using SELENIUM &amp; JAVA but i am getting this error message:\r\n\r\n    Expected condition failed: waiting for element to be clickable: By.xpath: //*[@id=&quot;documentation&quot;]/div/div[2]/div/button (tried for 10 second(s) with 500 milliseconds interval)\r\n\r\nThat button has this:\r\n\r\n    &lt;button type=&quot;button&quot; class=&quot;btn btn-sm btn-link add-row&quot;&gt;Upload FILE&lt;/button&gt;\r\n\r\nThe XPATH is:\r\n\r\n    //*[@id=&quot;documentation&quot;]/div/div[2]/div/div/button\r\n\r\n\r\nI did this:\r\n\r\n    WebDriverWait wait10735\t= new WebDriverWait(driver,Duration.ofSeconds(10));\r\n    \t\tJavascriptExecutor executor3735\t = (JavascriptExecutor)driver;\r\n    \t\tWebElement elementCat4735=wait10735.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;documentation\\&quot;]/div/div[2]/div/button&quot;)));\r\n\r\n\r\nWhat am i doing wrong in here?","title":"Expected condition failed: waiting for element to be clickable: By.xpath: //*[@id=&quot;documentation&quot;]/div/div[2]/div/button","body":"<p>I am trying without success to click on a particular button using SELENIUM &amp; JAVA but i am getting this error message:</p>\n<pre><code>Expected condition failed: waiting for element to be clickable: By.xpath: //*[@id=&quot;documentation&quot;]/div/div[2]/div/button (tried for 10 second(s) with 500 milliseconds interval)\n</code></pre>\n<p>That button has this:</p>\n<pre><code>&lt;button type=&quot;button&quot; class=&quot;btn btn-sm btn-link add-row&quot;&gt;Upload FILE&lt;/button&gt;\n</code></pre>\n<p>The XPATH is:</p>\n<pre><code>//*[@id=&quot;documentation&quot;]/div/div[2]/div/div/button\n</code></pre>\n<p>I did this:</p>\n<pre><code>WebDriverWait wait10735 = new WebDriverWait(driver,Duration.ofSeconds(10));\n        JavascriptExecutor executor3735  = (JavascriptExecutor)driver;\n        WebElement elementCat4735=wait10735.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;documentation\\&quot;]/div/div[2]/div/button&quot;)));\n</code></pre>\n<p>What am i doing wrong in here?</p>\n"},{"tags":["java","math","statistics","apache-commons","percentile"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":1,"creation_date":1483254393,"post_id":41413544,"comment_id":70031703,"body_markdown":"Note that not only does your `percentiles` method compute the percentile values (not always correctly--see my answer) and return the values, it also leaves the `latencies` array sorted, which is a side effect that may not be desirable.  This is probably harmless in the small program you&#39;re trying to write, but in general it&#39;s not good practice for a method to have a side effect that isn&#39;t the purpose of the method.","body":"Note that not only does your <code>percentiles</code> method compute the percentile values (not always correctly--see my answer) and return the values, it also leaves the <code>latencies</code> array sorted, which is a side effect that may not be desirable.  This is probably harmless in the small program you&#39;re trying to write, but in general it&#39;s not good practice for a method to have a side effect that isn&#39;t the purpose of the method."}],"answers":[{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483249429,"creation_date":1483249429,"answer_id":41413614,"question_id":41413544,"body_markdown":"According to [Wikipedia](https://en.wikipedia.org/wiki/Percentile#Definitions), there is no standard definition of percentile; however, they give a few possible definitions.  The code you&#39;ve posted appears to be closest to the Nearest Rank Method, but it&#39;s not quite the same.\r\n\r\nThe formula they give is\r\n\r\n    n = ceiling((P / 100) x N)\r\n\r\nwhere `N` is the length of the list, `P` is the percentile, and `n` will be the ordinal rank.  You&#39;ve already done the division by 100.  Looking at the examples they give, it&#39;s clear that the &quot;ordinal rank&quot; is the index in the list, but it&#39;s 1-relative.  Thus, to get an index into a Java array, you&#39;d have to subtract 1.  Therefore, the correct formula should be\r\n\r\n    n = ceiling(percentile * N) - 1\r\n\r\nUsing the variables in your code, the Java equivalent would be\r\n\r\n    (int) Math.ceil(percentiles[i] * latencies.length) - 1\r\n\r\nThis is not quite the code you&#39;ve written.  When you cast a `double` to an `int`, the result is rounded toward 0, i.e. it&#39;s the equivalent of the &quot;floor&quot; function.  So your code computes\r\n\r\n    floor(percentiles[i] * latencies.length)\r\n\r\nIf `percentiles[i] * latencies.length` is not an integer, the result is the same either way.  However, if it is an integer, so that &quot;floor&quot; and &quot;ceiling&quot; are the same value, then the result will be different.\r\n\r\nAn example from Wikipedia is to compute the 40th percentile when the list is {15, 20, 35, 40, 50}.  Their answer is to find the second item in the list, i.e. 20, because 0.40 * 5 = 2.0, and ceiling(2.0) = 2.0.\r\n\r\nHowever, your code:\r\n\r\n    int index = (int) (percentiles[i] * latencies.length);\r\n\r\nwill result in `index` being 2, which isn&#39;t what you want, because that will give you the third item in the list, instead of the second.\r\n\r\nSo in order to match the Wikipedia definition, your computation of the index will need to be modified a little.  (On the other hand, I wouldn&#39;t be surprised if someone comes along and says your computation is correct and Wikipedia is wrong.  We&#39;ll see...)\r\n","title":"Calculate percentile from a long array?","body":"<p>According to <a href=\"https://en.wikipedia.org/wiki/Percentile#Definitions\" rel=\"nofollow noreferrer\">Wikipedia</a>, there is no standard definition of percentile; however, they give a few possible definitions.  The code you've posted appears to be closest to the Nearest Rank Method, but it's not quite the same.</p>\n\n<p>The formula they give is</p>\n\n<pre><code>n = ceiling((P / 100) x N)\n</code></pre>\n\n<p>where <code>N</code> is the length of the list, <code>P</code> is the percentile, and <code>n</code> will be the ordinal rank.  You've already done the division by 100.  Looking at the examples they give, it's clear that the \"ordinal rank\" is the index in the list, but it's 1-relative.  Thus, to get an index into a Java array, you'd have to subtract 1.  Therefore, the correct formula should be</p>\n\n<pre><code>n = ceiling(percentile * N) - 1\n</code></pre>\n\n<p>Using the variables in your code, the Java equivalent would be</p>\n\n<pre><code>(int) Math.ceil(percentiles[i] * latencies.length) - 1\n</code></pre>\n\n<p>This is not quite the code you've written.  When you cast a <code>double</code> to an <code>int</code>, the result is rounded toward 0, i.e. it's the equivalent of the \"floor\" function.  So your code computes</p>\n\n<pre><code>floor(percentiles[i] * latencies.length)\n</code></pre>\n\n<p>If <code>percentiles[i] * latencies.length</code> is not an integer, the result is the same either way.  However, if it is an integer, so that \"floor\" and \"ceiling\" are the same value, then the result will be different.</p>\n\n<p>An example from Wikipedia is to compute the 40th percentile when the list is {15, 20, 35, 40, 50}.  Their answer is to find the second item in the list, i.e. 20, because 0.40 * 5 = 2.0, and ceiling(2.0) = 2.0.</p>\n\n<p>However, your code:</p>\n\n<pre><code>int index = (int) (percentiles[i] * latencies.length);\n</code></pre>\n\n<p>will result in <code>index</code> being 2, which isn't what you want, because that will give you the third item in the list, instead of the second.</p>\n\n<p>So in order to match the Wikipedia definition, your computation of the index will need to be modified a little.  (On the other hand, I wouldn't be surprised if someone comes along and says your computation is correct and Wikipedia is wrong.  We'll see...)</p>\n"},{"tags":[],"owner":{"account_id":9942670,"reputation":513,"user_id":7358693,"display_name":"user7358693"},"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1633877085,"creation_date":1483249659,"answer_id":41413629,"question_id":41413544,"body_markdown":"This is what you are looking for:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Long&gt; latencies = new List&lt;Long&gt;() { 3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20 };\r\n        Collections.sort(latencies);\r\n\r\n        System.out.println(percentile(latencies, 25));\r\n        System.out.println(percentile(latencies, 50));\r\n        System.out.println(percentile(latencies, 75));\r\n        System.out.println(percentile(latencies, 100));\r\n    }\r\n\r\n    public static long percentile(List&lt;Long&gt; latencies, double percentile) {\r\n        int index = (int) Math.ceil(percentile / 100.0 * latencies.size());\r\n        return latencies.get(index-1);\r\n    }\r\n    \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/empSB.jpg","title":"Calculate percentile from a long array?","body":"<p>This is what you are looking for:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Long&gt; latencies = new List&lt;Long&gt;() { 3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20 };\n    Collections.sort(latencies);\n\n    System.out.println(percentile(latencies, 25));\n    System.out.println(percentile(latencies, 50));\n    System.out.println(percentile(latencies, 75));\n    System.out.println(percentile(latencies, 100));\n}\n\npublic static long percentile(List&lt;Long&gt; latencies, double percentile) {\n    int index = (int) Math.ceil(percentile / 100.0 * latencies.size());\n    return latencies.get(index-1);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/empSB.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/empSB.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":133137,"reputation":13350,"user_id":334270,"accept_rate":100,"display_name":"Zsolt Safrany"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1607063419,"creation_date":1591836925,"answer_id":62315412,"question_id":41413544,"body_markdown":"```\r\npublic static double percentile(double percentile, List&lt;Double&gt; items) {\r\n    Preconditions.checkArgument(percentile &gt;= 0);\r\n    Preconditions.checkArgument(percentile &lt;= 100);\r\n    Preconditions.checkArgument(!items.isEmpty());\r\n\r\n    Collections.sort(items);\r\n    return items.get((int) Math.round(percentile / 100.0 * (items.size() - 1)));\r\n}\r\n\r\n\r\n@Test\r\npublic void test1() {\r\n    List&lt;Double&gt; list = Arrays.asList(0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0);\r\n    assertThat(percentile(0, list)).isEqualTo(0.0);\r\n    assertThat(percentile(20, list)).isEqualTo(2.0);\r\n    assertThat(percentile(80, list)).isEqualTo(8.0);\r\n    assertThat(percentile(100, list)).isEqualTo(10.0);\r\n}\r\n\r\n@Test\r\npublic void test2() {\r\n    List&lt;Double&gt; list = Arrays.asList(0.0, 1.0, 2.0, 3.0);\r\n    assertThat(percentile(51, list)).isEqualTo(2.0);\r\n    assertThat(percentile(49, list)).isEqualTo(1.0);\r\n}\r\n\r\n@Test\r\npublic void test3() {\r\n    List&lt;Double&gt; list = Arrays.asList(42.0);     \r\n    assertThat(percentile(0, list)).isEqualTo(42.0);\r\n    assertThat(percentile(100, list)).isEqualTo(42.0);\r\n}\r\n```","title":"Calculate percentile from a long array?","body":"<pre><code>public static double percentile(double percentile, List&lt;Double&gt; items) {\n    Preconditions.checkArgument(percentile &gt;= 0);\n    Preconditions.checkArgument(percentile &lt;= 100);\n    Preconditions.checkArgument(!items.isEmpty());\n\n    Collections.sort(items);\n    return items.get((int) Math.round(percentile / 100.0 * (items.size() - 1)));\n}\n\n\n@Test\npublic void test1() {\n    List&lt;Double&gt; list = Arrays.asList(0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0);\n    assertThat(percentile(0, list)).isEqualTo(0.0);\n    assertThat(percentile(20, list)).isEqualTo(2.0);\n    assertThat(percentile(80, list)).isEqualTo(8.0);\n    assertThat(percentile(100, list)).isEqualTo(10.0);\n}\n\n@Test\npublic void test2() {\n    List&lt;Double&gt; list = Arrays.asList(0.0, 1.0, 2.0, 3.0);\n    assertThat(percentile(51, list)).isEqualTo(2.0);\n    assertThat(percentile(49, list)).isEqualTo(1.0);\n}\n\n@Test\npublic void test3() {\n    List&lt;Double&gt; list = Arrays.asList(42.0);     \n    assertThat(percentile(0, list)).isEqualTo(42.0);\n    assertThat(percentile(100, list)).isEqualTo(42.0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":560191,"reputation":1880,"user_id":922340,"display_name":"Moshe Bixenshpaner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668018188,"creation_date":1668018188,"answer_id":74379694,"question_id":41413544,"body_markdown":"If the array is sorted, you should just return the relative element in your array (e.g., p99 in a 1000-elements array is the 990th element).\r\n\r\nIf the array is unsorted, and in order to calculate percentiles more *efficiently*, you should probably use something like [Quickselect][1].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Quickselect","title":"Calculate percentile from a long array?","body":"<p>If the array is sorted, you should just return the relative element in your array (e.g., p99 in a 1000-elements array is the 990th element).</p>\n<p>If the array is unsorted, and in order to calculate percentiles more <em>efficiently</em>, you should probably use something like <a href=\"https://en.wikipedia.org/wiki/Quickselect\" rel=\"nofollow noreferrer\">Quickselect</a>.</p>\n"}],"owner":{"display_name":"user5447339"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41582,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":4,"score":17,"last_activity_date":1668018188,"creation_date":1483247960,"question_id":41413544,"body_markdown":"Given a long array of latencies which are in milliseconds, I want to calculate percentile from them. I got below method which does the work but I am not sure how I can verify whether this gives me accurate result?\r\n\r\n\t  public static long[] percentiles(long[] latencies, double... percentiles) {\r\n\t\tArrays.sort(latencies, 0, latencies.length);\r\n\t\tlong[] values = new long[percentiles.length];\r\n\t\tfor (int i = 0; i &lt; percentiles.length; i++) {\r\n\t\t  int index = (int) (percentiles[i] * latencies.length);\r\n\t\t  values[i] = latencies[index];\r\n\t\t}\r\n\t\treturn values;\r\n\t  }\r\n\t  \r\nI would like to get 50th, 95th, 99th and 99.9th percentile from `latencies` array.\r\n\r\n\tlong[] percs = percentiles(latencies, 0.5, 0.95, 0.99, 0.999);\r\n\t\r\nIs this the right way to get percentile given a long array of latencies? I am working with Java 7.","title":"Calculate percentile from a long array?","body":"<p>Given a long array of latencies which are in milliseconds, I want to calculate percentile from them. I got below method which does the work but I am not sure how I can verify whether this gives me accurate result?</p>\n\n<pre><code>  public static long[] percentiles(long[] latencies, double... percentiles) {\n    Arrays.sort(latencies, 0, latencies.length);\n    long[] values = new long[percentiles.length];\n    for (int i = 0; i &lt; percentiles.length; i++) {\n      int index = (int) (percentiles[i] * latencies.length);\n      values[i] = latencies[index];\n    }\n    return values;\n  }\n</code></pre>\n\n<p>I would like to get 50th, 95th, 99th and 99.9th percentile from <code>latencies</code> array.</p>\n\n<pre><code>long[] percs = percentiles(latencies, 0.5, 0.95, 0.99, 0.999);\n</code></pre>\n\n<p>Is this the right way to get percentile given a long array of latencies? I am working with Java 7.</p>\n"},{"tags":["java","swing","cloud","dropbox-api","java-client"],"answers":[{"tags":[],"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668016441,"creation_date":1668016441,"answer_id":74379326,"question_id":74379227,"body_markdown":"When you get the access token, you should also receive a refresh token. When the access token expires, you make an API call with the refresh token to get a new one.","title":"upload file to dropbox by java","body":"<p>When you get the access token, you should also receive a refresh token. When the access token expires, you make an API call with the refresh token to get a new one.</p>\n"},{"tags":[],"owner":{"account_id":1370292,"reputation":16504,"user_id":1305693,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668017824,"creation_date":1668017824,"answer_id":74379629,"question_id":74379227,"body_markdown":"Dropbox is no longer offering the option for creating new long-lived access tokens. Dropbox is switching to only issuing short-lived access tokens (and optional refresh tokens) instead of long-lived access tokens. You can find [more information on this migration here][1].\r\n\r\nApps can still get long-term access by requesting &quot;offline&quot; access though, in which case the app receives a &quot;refresh token&quot; that can be used to retrieve new short-lived access tokens as needed, without further manual user intervention. It&#39;s not possible to get a refresh token from the &quot;Generate&quot; button; you need to use the OAuth flow. You can find more information in the [OAuth Guide][2] and [authorization documentation][3]. There&#39;s a basic outline of processing this flow in [this blog post][4] which may serve as a useful example. \r\n \r\nThe [official Dropbox Java SDK][5] can actually handle the process for you automatically, as long as you supply the necessary credentials, e.g., as shown retrieved in [the examples][6].\r\n\r\n\r\n  [1]: https://dropbox.tech/developers/migrating-app-permissions-and-access-tokens#updating-access-token-type\r\n  [2]: https://developers.dropbox.com/oauth-guide\r\n  [3]: https://www.dropbox.com/developers/documentation/http/documentation#authorization\r\n  [4]: https://dropbox.tech/developers/using-oauth-2-0-with-offline-access\r\n  [5]: https://github.com/dropbox/dropbox-sdk-java\r\n  [6]: https://github.com/dropbox/dropbox-sdk-java/tree/main/examples/examples/src/main/java/com/dropbox/core/examples/authorize","title":"upload file to dropbox by java","body":"<p>Dropbox is no longer offering the option for creating new long-lived access tokens. Dropbox is switching to only issuing short-lived access tokens (and optional refresh tokens) instead of long-lived access tokens. You can find <a href=\"https://dropbox.tech/developers/migrating-app-permissions-and-access-tokens#updating-access-token-type\" rel=\"nofollow noreferrer\">more information on this migration here</a>.</p>\n<p>Apps can still get long-term access by requesting &quot;offline&quot; access though, in which case the app receives a &quot;refresh token&quot; that can be used to retrieve new short-lived access tokens as needed, without further manual user intervention. It's not possible to get a refresh token from the &quot;Generate&quot; button; you need to use the OAuth flow. You can find more information in the <a href=\"https://developers.dropbox.com/oauth-guide\" rel=\"nofollow noreferrer\">OAuth Guide</a> and <a href=\"https://www.dropbox.com/developers/documentation/http/documentation#authorization\" rel=\"nofollow noreferrer\">authorization documentation</a>. There's a basic outline of processing this flow in <a href=\"https://dropbox.tech/developers/using-oauth-2-0-with-offline-access\" rel=\"nofollow noreferrer\">this blog post</a> which may serve as a useful example.</p>\n<p>The <a href=\"https://github.com/dropbox/dropbox-sdk-java\" rel=\"nofollow noreferrer\">official Dropbox Java SDK</a> can actually handle the process for you automatically, as long as you supply the necessary credentials, e.g., as shown retrieved in <a href=\"https://github.com/dropbox/dropbox-sdk-java/tree/main/examples/examples/src/main/java/com/dropbox/core/examples/authorize\" rel=\"nofollow noreferrer\">the examples</a>.</p>\n"}],"owner":{"account_id":14714528,"reputation":21,"user_id":10626865,"display_name":"Mostafa Hajjat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668017824,"creation_date":1668015931,"question_id":74379227,"body_markdown":"I am working on creating a simple desktop program in Java, and I want to upload files via this program to Dropbox, but the problem is that the access token has a short life (temporary), how can I make the access token have a long life, or if I can use the App key and App secret?\r\n\r\nI need a simple solution like a method or a java example.\r\n\r\nIs there anything better than Dropbox in this aspect and more flexible?\r\n\r\nThanks for any help.\r\n\r\nThis method works fine but the access token expires after a few hours\r\n\r\n\r\n```\r\n    private void testUplaod() throws FileNotFoundException, IOException, DbxException {\r\n        DbxClientV2 client;\r\n        DbxRequestConfig config = new DbxRequestConfig(&quot;dropbox/TestUplaod&quot;);\r\n        \r\n        try (InputStream in = new FileInputStream(&quot;D:\\\\t1.txt&quot;)) {\r\n            client = new DbxClientV2(config, ACCESS_TOKEN);\r\n\r\n            FileMetadata metadata = client.files().uploadBuilder(&quot;/t1.txt&quot;)\r\n                    .uploadAndFinish(in);\r\n        }\r\n```\r\nI was expecting it would work sustainably.","title":"upload file to dropbox by java","body":"<p>I am working on creating a simple desktop program in Java, and I want to upload files via this program to Dropbox, but the problem is that the access token has a short life (temporary), how can I make the access token have a long life, or if I can use the App key and App secret?</p>\n<p>I need a simple solution like a method or a java example.</p>\n<p>Is there anything better than Dropbox in this aspect and more flexible?</p>\n<p>Thanks for any help.</p>\n<p>This method works fine but the access token expires after a few hours</p>\n<pre><code>    private void testUplaod() throws FileNotFoundException, IOException, DbxException {\n        DbxClientV2 client;\n        DbxRequestConfig config = new DbxRequestConfig(&quot;dropbox/TestUplaod&quot;);\n        \n        try (InputStream in = new FileInputStream(&quot;D:\\\\t1.txt&quot;)) {\n            client = new DbxClientV2(config, ACCESS_TOKEN);\n\n            FileMetadata metadata = client.files().uploadBuilder(&quot;/t1.txt&quot;)\n                    .uploadAndFinish(in);\n        }\n</code></pre>\n<p>I was expecting it would work sustainably.</p>\n"},{"tags":["java","windows","jar","configuration","kiosk-mode"],"comments":[{"owner":{"account_id":5580553,"reputation":51,"user_id":4422546,"display_name":"Thornack"},"score":0,"creation_date":1668009446,"post_id":74370273,"comment_id":131305006,"body_markdown":"I created a ticket for Microsoft Support regarding the issue and was told it is a bug they may fix in the future.... I am hoping for ideas on a workaround, so that I can trigger my jar to launch in kiosk mode.\n\nAny ideas?","body":"I created a ticket for Microsoft Support regarding the issue and was told it is a bug they may fix in the future.... I am hoping for ideas on a workaround, so that I can trigger my jar to launch in kiosk mode.  Any ideas?"}],"answers":[{"tags":[],"owner":{"account_id":5580553,"reputation":51,"user_id":4422546,"display_name":"Thornack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668017716,"creation_date":1668017716,"answer_id":74379599,"question_id":74370273,"body_markdown":"I have found a work around (Although it is not Ideal) \r\n\r\nI still use the provisioning package which is generated by Windows 11 Configuration Designer from ADK 22h2 to ensure that Windows boots in brand friendly kiosk mode but I then also schedule a task to run the jar on login for the kiosk user:\r\n\r\n`Open Start menu &gt; Task Scheduler &gt; ENTER &gt; Action &gt; Create Task &gt; Change User or Group &gt; select the Kiosk User Account to run the task &gt; Select &quot;Run only when user is logged on&quot; &gt; Task profile &gt; Windows 10 &gt; Triggers &gt; New &gt; &quot;Begin the task&quot; menu &gt; At log on &gt; Select Specific user &gt; OK &gt; Actions tab &gt; Browse &gt; locate executable jar at path C:\\myJarFolder\\myJarFile.jar &gt; OK &gt; Log on` with the selected kiosk mode user to test.\r\n\r\nReference: https://social.technet.microsoft.com/Forums/windows/en-US/b44f3310-774d-48a4-ad8f-3ec54a7c08b9/prevent-windows-explorer-from-starting?forum=w7itprogeneral","title":"How to configure Windows 11 Configuration Designer from ADK to launch executable jar file","body":"<p>I have found a work around (Although it is not Ideal)</p>\n<p>I still use the provisioning package which is generated by Windows 11 Configuration Designer from ADK 22h2 to ensure that Windows boots in brand friendly kiosk mode but I then also schedule a task to run the jar on login for the kiosk user:</p>\n<p><code>Open Start menu &gt; Task Scheduler &gt; ENTER &gt; Action &gt; Create Task &gt; Change User or Group &gt; select the Kiosk User Account to run the task &gt; Select &quot;Run only when user is logged on&quot; &gt; Task profile &gt; Windows 10 &gt; Triggers &gt; New &gt; &quot;Begin the task&quot; menu &gt; At log on &gt; Select Specific user &gt; OK &gt; Actions tab &gt; Browse &gt; locate executable jar at path C:\\myJarFolder\\myJarFile.jar &gt; OK &gt; Log on</code> with the selected kiosk mode user to test.</p>\n<p>Reference: <a href=\"https://social.technet.microsoft.com/Forums/windows/en-US/b44f3310-774d-48a4-ad8f-3ec54a7c08b9/prevent-windows-explorer-from-starting?forum=w7itprogeneral\" rel=\"nofollow noreferrer\">https://social.technet.microsoft.com/Forums/windows/en-US/b44f3310-774d-48a4-ad8f-3ec54a7c08b9/prevent-windows-explorer-from-starting?forum=w7itprogeneral</a></p>\n"}],"owner":{"account_id":5580553,"reputation":51,"user_id":4422546,"display_name":"Thornack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668017716,"creation_date":1667971495,"question_id":74370273,"body_markdown":"My Goal is to configure Windows 11 Configuration Designer from ADK to launch an executable jar file which is located in `C:\\MyExecutableJarFolder\\executableJarFile.jar`\r\n\r\nI downloaded the Windows Imaging and Configuration Designer app and dependencies from adk for Windows 11 \r\n\r\n&gt; https://learn.microsoft.com/en-us/windows-hardware/get-started/adk-install#download-the-adk-for-windows-11-version-22h2\r\n\r\nWith the intent to use it to set up a provisioning package so that I can configure my machine to run in a brand friendly kiosk mode (where windows startup logo and login screens are never seen). The kiosk mode which is enabled by the Configuration Designer achieves the brand friendly auto login nicely but it never launches the jar. \r\n\r\nI filled in all the required settings in Configuration Designer for \r\n\r\n`Setup device` (I added a 15 character Device Name),\r\n\r\n`Set up network` (I set to Off), \r\n\r\n`Account managment` (I set to local admin), \r\n\r\n`Add applications` (I left blank), \r\n\r\n`Add certificate` (I left blank), and under \r\n\r\n`Configure kiosk account and app` (I created a &quot;Kiosk&quot; user account with password and auto sign in enabled) and under \r\n\r\n`Configure the kiosk mode app` &gt; `Username` = `Kiosk` &gt; `App type` = `Classic Windows App` &gt; `Enter either the full path to the app or a filename in the Path environment variable` = `C:\\MyExecutableJarFolder\\executableJarFile.jar`\r\n\r\n`Configure kiosk common settings` &gt; `Set tablet mode` &gt; `No` \r\n\r\n`Customize user experience` &gt; `Yes` &gt; `Configure Welcome Screen buttons` &gt; `1` &gt; `Disable status messages during startup, signin, and shut down` &gt; `1` \r\n\r\n`Hide Welcome screen when auto sign in is enabled` &gt; `yes` \r\n\r\n`Disable lock screen` &gt; `yes` \r\n\r\n`Configure Power settings` &gt; `yes` \r\n\r\n`Turn off screen timeout` &gt; `yes` &gt; `turn off sleep timeout` &gt; `yes`\r\n\r\nThe provisioning package installs correctly and automatically logs in but does not launch the executable jar in the file path (and the file path is correct). I then tried to point the configuration manager to a batch file instead (which when double clicked does actually launch the jar) and that still did not work. \r\n\r\nI also tried to move the batch file to `C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\Startup` and this did not work either. Curiosly when I exit kiosk mode through `ctrl + alt + delete &gt; run new task &gt; explorer.exe` the jar does launch when the batch file is in this directory.\r\n\r\nThe goal is to launch the executable jar in kiosk mode.\r\n\r\nWhat am I doing incorrectly?","title":"How to configure Windows 11 Configuration Designer from ADK to launch executable jar file","body":"<p>My Goal is to configure Windows 11 Configuration Designer from ADK to launch an executable jar file which is located in <code>C:\\MyExecutableJarFolder\\executableJarFile.jar</code></p>\n<p>I downloaded the Windows Imaging and Configuration Designer app and dependencies from adk for Windows 11</p>\n<blockquote>\n<p><a href=\"https://learn.microsoft.com/en-us/windows-hardware/get-started/adk-install#download-the-adk-for-windows-11-version-22h2\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows-hardware/get-started/adk-install#download-the-adk-for-windows-11-version-22h2</a></p>\n</blockquote>\n<p>With the intent to use it to set up a provisioning package so that I can configure my machine to run in a brand friendly kiosk mode (where windows startup logo and login screens are never seen). The kiosk mode which is enabled by the Configuration Designer achieves the brand friendly auto login nicely but it never launches the jar.</p>\n<p>I filled in all the required settings in Configuration Designer for</p>\n<p><code>Setup device</code> (I added a 15 character Device Name),</p>\n<p><code>Set up network</code> (I set to Off),</p>\n<p><code>Account managment</code> (I set to local admin),</p>\n<p><code>Add applications</code> (I left blank),</p>\n<p><code>Add certificate</code> (I left blank), and under</p>\n<p><code>Configure kiosk account and app</code> (I created a &quot;Kiosk&quot; user account with password and auto sign in enabled) and under</p>\n<p><code>Configure the kiosk mode app</code> &gt; <code>Username</code> = <code>Kiosk</code> &gt; <code>App type</code> = <code>Classic Windows App</code> &gt; <code>Enter either the full path to the app or a filename in the Path environment variable</code> = <code>C:\\MyExecutableJarFolder\\executableJarFile.jar</code></p>\n<p><code>Configure kiosk common settings</code> &gt; <code>Set tablet mode</code> &gt; <code>No</code></p>\n<p><code>Customize user experience</code> &gt; <code>Yes</code> &gt; <code>Configure Welcome Screen buttons</code> &gt; <code>1</code> &gt; <code>Disable status messages during startup, signin, and shut down</code> &gt; <code>1</code></p>\n<p><code>Hide Welcome screen when auto sign in is enabled</code> &gt; <code>yes</code></p>\n<p><code>Disable lock screen</code> &gt; <code>yes</code></p>\n<p><code>Configure Power settings</code> &gt; <code>yes</code></p>\n<p><code>Turn off screen timeout</code> &gt; <code>yes</code> &gt; <code>turn off sleep timeout</code> &gt; <code>yes</code></p>\n<p>The provisioning package installs correctly and automatically logs in but does not launch the executable jar in the file path (and the file path is correct). I then tried to point the configuration manager to a batch file instead (which when double clicked does actually launch the jar) and that still did not work.</p>\n<p>I also tried to move the batch file to <code>C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\Startup</code> and this did not work either. Curiosly when I exit kiosk mode through <code>ctrl + alt + delete &gt; run new task &gt; explorer.exe</code> the jar does launch when the batch file is in this directory.</p>\n<p>The goal is to launch the executable jar in kiosk mode.</p>\n<p>What am I doing incorrectly?</p>\n"},{"tags":["java","cucumber"],"answers":[{"tags":[],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625349657,"creation_date":1625349657,"answer_id":68240235,"question_id":68239302,"body_markdown":"I solved it by clone the cucumber-java-skeleton. ","title":"IntelliJ Cucumber Java step definition not recognised","body":"<p>I solved it by clone the cucumber-java-skeleton.</p>\n"},{"tags":[],"owner":{"account_id":3623129,"reputation":3773,"user_id":3021395,"accept_rate":40,"display_name":"PowerStat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668017569,"creation_date":1668017569,"answer_id":74379565,"question_id":68239302,"body_markdown":"Just for info, I had the same error and while comparing everything with the cucumber-java skeleton I found that I only had a type within the `RunCucumberTest`:\r\n\r\n    @ConfigurationParameter(key = Constants.GLUE_PROPERTY_NAME, value = &quot;de.powerstat.phplib.templateengine&quot;)\r\n\r\nWithin the packagename I had a typo - after fixing it the error was gone.\r\n","title":"IntelliJ Cucumber Java step definition not recognised","body":"<p>Just for info, I had the same error and while comparing everything with the cucumber-java skeleton I found that I only had a type within the <code>RunCucumberTest</code>:</p>\n<pre><code>@ConfigurationParameter(key = Constants.GLUE_PROPERTY_NAME, value = &quot;de.powerstat.phplib.templateengine&quot;)\n</code></pre>\n<p>Within the packagename I had a typo - after fixing it the error was gone.</p>\n"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668017569,"creation_date":1625339887,"question_id":68239302,"body_markdown":"I had tried to code cucumber 6 and its step definitions not detected. II using Alt + Enter to generate the step definitions. \r\n\r\nTestRunner.java\r\n\r\n    @CucumberOptions(\r\n            features = {&quot;src/test/resources/Features/&quot;},\r\n            glue = {&quot;com.nicholas.StepDefs&quot;},\r\n            plugin = {&quot;pretty&quot;, &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;}\r\n    \r\n    )\r\n    public class TestRunner extends AbstractTestNGCucumberTests {\r\n    \r\n        @Override\r\n        @DataProvider(parallel = true)\r\n        public Object[][] scenarios() {\r\n            return super.scenarios();\r\n        }\r\n    }\r\n\r\nStep Definitions: \r\n\r\n    public class Login_FE {\r\n        @Given(&quot;Launch the homepage and login&quot;)\r\n        public void launchTheHomepageAndLogin() {\r\n            System.out.println(&quot;Launch browser&quot;);\r\n        }\r\n    \r\n        @Given(&quot;user landing on phptravels.net&quot;)\r\n        public void userLandingOnPhptravelsNet() {\r\n            System.out.println(&quot;Launch browser&quot;);\r\n        }\r\n    }\r\n\r\nErrors: \r\n\r\n    Scenario: Login to website                      # src/test/resources/Features/Login.feature:6\r\n      Given Launch the homepage and login           # null\r\n      Given user landing on phptravels.net          # null\r\n      When enter login credential and click login   # null\r\n      Then user redirect to phptravels.net homepage # null\r\n\r\n    at io.cucumber.core.runtime.TestCaseResultObserver.assertTestCasePassed(TestCaseResultObserver.java:69)\r\n    \tat io.cucumber.testng.TestCaseResultObserver.assertTestCasePassed(TestCaseResultObserver.java:23)\r\n    \tat io.cucumber.testng.TestNGCucumberRunner.lambda$runScenario$0(TestNGCucumberRunner.java:118)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:117)\r\n    \tat io.cucumber.testng.TestNGCucumberRunner.runScenario(TestNGCucumberRunner.java:114)\r\n    \tat io.cucumber.testng.AbstractTestNGCucumberTests.runScenario(AbstractTestNGCucumberTests.java:31)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n    \tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\r\n    \tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n    \tat org.testng.internal.TestMethodWithDataProviderMethodWorker.call(TestMethodWithDataProviderMethodWorker.java:77)\r\n    \tat org.testng.internal.TestMethodWithDataProviderMethodWorker.call(TestMethodWithDataProviderMethodWorker.java:15)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n\r\nPlease help me as i have no clue to solve this issue. Thanks. \r\n\r\n","title":"IntelliJ Cucumber Java step definition not recognised","body":"<p>I had tried to code cucumber 6 and its step definitions not detected. II using Alt + Enter to generate the step definitions.</p>\n<p>TestRunner.java</p>\n<pre><code>@CucumberOptions(\n        features = {&quot;src/test/resources/Features/&quot;},\n        glue = {&quot;com.nicholas.StepDefs&quot;},\n        plugin = {&quot;pretty&quot;, &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;}\n\n)\npublic class TestRunner extends AbstractTestNGCucumberTests {\n\n    @Override\n    @DataProvider(parallel = true)\n    public Object[][] scenarios() {\n        return super.scenarios();\n    }\n}\n</code></pre>\n<p>Step Definitions:</p>\n<pre><code>public class Login_FE {\n    @Given(&quot;Launch the homepage and login&quot;)\n    public void launchTheHomepageAndLogin() {\n        System.out.println(&quot;Launch browser&quot;);\n    }\n\n    @Given(&quot;user landing on phptravels.net&quot;)\n    public void userLandingOnPhptravelsNet() {\n        System.out.println(&quot;Launch browser&quot;);\n    }\n}\n</code></pre>\n<p>Errors:</p>\n<pre><code>Scenario: Login to website                      # src/test/resources/Features/Login.feature:6\n  Given Launch the homepage and login           # null\n  Given user landing on phptravels.net          # null\n  When enter login credential and click login   # null\n  Then user redirect to phptravels.net homepage # null\n\nat io.cucumber.core.runtime.TestCaseResultObserver.assertTestCasePassed(TestCaseResultObserver.java:69)\n    at io.cucumber.testng.TestCaseResultObserver.assertTestCasePassed(TestCaseResultObserver.java:23)\n    at io.cucumber.testng.TestNGCucumberRunner.lambda$runScenario$0(TestNGCucumberRunner.java:118)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:117)\n    at io.cucumber.testng.TestNGCucumberRunner.runScenario(TestNGCucumberRunner.java:114)\n    at io.cucumber.testng.AbstractTestNGCucumberTests.runScenario(AbstractTestNGCucumberTests.java:31)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n    at org.testng.internal.TestMethodWithDataProviderMethodWorker.call(TestMethodWithDataProviderMethodWorker.java:77)\n    at org.testng.internal.TestMethodWithDataProviderMethodWorker.call(TestMethodWithDataProviderMethodWorker.java:15)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Please help me as i have no clue to solve this issue. Thanks.</p>\n"},{"tags":["java","arrays","visual-studio","for-loop"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":2,"creation_date":1668016553,"post_id":74379302,"comment_id":131307632,"body_markdown":"Welcome to Stack Overflow.  You don&#39;t want the line that prints `&quot;is a constant&quot;` to be inside the `for` loop.","body":"Welcome to Stack Overflow.  You don&#39;t want the line that prints <code>&quot;is a constant&quot;</code> to be inside the <code>for</code> loop."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1668018849,"post_id":74379302,"comment_id":131308407,"body_markdown":"Isn&#39;t it &quot;consonant&quot; and not &quot;constant&quot;?","body":"Isn&#39;t it &quot;consonant&quot; and not &quot;constant&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":26881156,"reputation":64,"user_id":20461571,"display_name":"Dean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668016808,"creation_date":1668016808,"answer_id":74379402,"question_id":74379302,"body_markdown":"first of all: we usually dont capitalize variable names, but that aint no problem rn. There are a few approaches to solve this question: i would create a bool. \r\nTake a look at the code:\r\n\r\n    public static void main(String[] args){\r\n            Scanner g = new Scanner(System.in);\r\n            char[] Vowels = {&#39;A&#39;,&#39;I&#39;,&#39;O&#39;,&#39;U&#39;,&#39;E&#39;};\r\n            System.out.println(&quot;Enter a letter: &quot;);\r\n            char L = g.next().charAt(0);\r\n            boolean isVowel = false;\r\n            for(int i = 0;i&lt;Vowels.length;i++){\r\n                if(L==Vowels[i]){\r\n                    System.out.println(L+&quot; is a vowel&quot;);\r\n                    isVowel = true;\r\n                    break;\r\n                }\r\n    \r\n            }\r\n            if (!isVowel) {\r\n                System.out.println(L+&quot; is a constant&quot;);\r\n            }\r\n        }\r\n\r\n","title":"User has to enter a letter and if the letter is found at the array then it should print &quot;is a vowel&quot; otherwise &quot;is a constant&quot;","body":"<p>first of all: we usually dont capitalize variable names, but that aint no problem rn. There are a few approaches to solve this question: i would create a bool.\nTake a look at the code:</p>\n<pre><code>public static void main(String[] args){\n        Scanner g = new Scanner(System.in);\n        char[] Vowels = {'A','I','O','U','E'};\n        System.out.println(&quot;Enter a letter: &quot;);\n        char L = g.next().charAt(0);\n        boolean isVowel = false;\n        for(int i = 0;i&lt;Vowels.length;i++){\n            if(L==Vowels[i]){\n                System.out.println(L+&quot; is a vowel&quot;);\n                isVowel = true;\n                break;\n            }\n\n        }\n        if (!isVowel) {\n            System.out.println(L+&quot; is a constant&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668016927,"creation_date":1668016927,"answer_id":74379432,"question_id":74379302,"body_markdown":"Here&#39;s a version of your code that does what you want.  Note that the print statement for a consonant has been moved out of the loop.  I also changed the variable names to use correct case, and I made a minor tweak to allow the code to work with both uppercase and lowercase input.  I also moved the line that prints the prompt for input.  I assume you want that to print before the user is expected to enter a letter.\r\n\r\n    public static void main(String[] args){\r\n        System.out.println(&quot;Enter a letter: &quot;);\r\n        Scanner g = new Scanner(System.in);\r\n        char[] vowels = {&#39;A&#39;,&#39;I&#39;,&#39;O&#39;,&#39;U&#39;,&#39;E&#39;};\r\n        char l = g.next().toUpperCase(Locale.ROOT).charAt(0);\r\n        int i;\r\n        for (i = 0;i&lt;vowels.length;i++) {\r\n            if (l == vowels[i]) {\r\n                System.out.println(l + &quot; is a vowel&quot;);\r\n                break;\r\n            }\r\n        }\r\n        if (i == vowels.length)\r\n            System.out.println(l + &quot; is a constant&quot;);\r\n    }\r\n","title":"User has to enter a letter and if the letter is found at the array then it should print &quot;is a vowel&quot; otherwise &quot;is a constant&quot;","body":"<p>Here's a version of your code that does what you want.  Note that the print statement for a consonant has been moved out of the loop.  I also changed the variable names to use correct case, and I made a minor tweak to allow the code to work with both uppercase and lowercase input.  I also moved the line that prints the prompt for input.  I assume you want that to print before the user is expected to enter a letter.</p>\n<pre><code>public static void main(String[] args){\n    System.out.println(&quot;Enter a letter: &quot;);\n    Scanner g = new Scanner(System.in);\n    char[] vowels = {'A','I','O','U','E'};\n    char l = g.next().toUpperCase(Locale.ROOT).charAt(0);\n    int i;\n    for (i = 0;i&lt;vowels.length;i++) {\n        if (l == vowels[i]) {\n            System.out.println(l + &quot; is a vowel&quot;);\n            break;\n        }\n    }\n    if (i == vowels.length)\n        System.out.println(l + &quot; is a constant&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":26433382,"reputation":1,"user_id":20079157,"display_name":"Dana Alanazi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668016927,"creation_date":1668016311,"question_id":74379302,"body_markdown":"I have an array of the vowels in the alphabet and the user should enter a letter.\r\nThis letter has to be checked if its in the array of vowels or not\r\nIf it is found in the array of vowels then print letter is a vowel\r\nelse print letter is a constant.\r\n# **My problem is that**\r\nwhen I enter a letter it tests this letter 5 times (the size of the array) until it finds it and prints letter is a vowel \r\nbut it also prints 4 times letter is a constant because it goes through the array letter by letter.\r\nCheck the code: \r\n\r\n\r\n\r\n\r\n```\r\n    public static void main(String[] args){\r\n    Scanner g = new Scanner(System.in);\r\n    char[] Vowels = {&#39;A&#39;,&#39;I&#39;,&#39;O&#39;,&#39;U&#39;,&#39;E&#39;};\r\n    System.out.println(&quot;Enter a letter: &quot;);\r\n    char L = g.next().charAt(0);\r\nfor(int i = 0;i&lt;Vowels.length;i++){\r\n    if(L==Vowels[i]){\r\n        System.out.println(L+&quot; is a vowel&quot;);\r\n        break;\r\n    }\r\n    else\r\n    System.out.println(L+&quot; is a constant&quot;);\r\n}\r\n    }\r\n}\r\n```\r\n","title":"User has to enter a letter and if the letter is found at the array then it should print &quot;is a vowel&quot; otherwise &quot;is a constant&quot;","body":"<p>I have an array of the vowels in the alphabet and the user should enter a letter.\nThis letter has to be checked if its in the array of vowels or not\nIf it is found in the array of vowels then print letter is a vowel\nelse print letter is a constant.</p>\n<h1><strong>My problem is that</strong></h1>\n<p>when I enter a letter it tests this letter 5 times (the size of the array) until it finds it and prints letter is a vowel\nbut it also prints 4 times letter is a constant because it goes through the array letter by letter.\nCheck the code:</p>\n<pre><code>    public static void main(String[] args){\n    Scanner g = new Scanner(System.in);\n    char[] Vowels = {'A','I','O','U','E'};\n    System.out.println(&quot;Enter a letter: &quot;);\n    char L = g.next().charAt(0);\nfor(int i = 0;i&lt;Vowels.length;i++){\n    if(L==Vowels[i]){\n        System.out.println(L+&quot; is a vowel&quot;);\n        break;\n    }\n    else\n    System.out.println(L+&quot; is a constant&quot;);\n}\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","kubernetes-helm","snakeyaml","spring-expression-language"],"comments":[{"owner":{"account_id":338186,"reputation":2467,"user_id":666906,"accept_rate":54,"display_name":"simou"},"score":0,"creation_date":1668008618,"post_id":74373123,"comment_id":131304649,"body_markdown":"Hi just wanted to add that I&#39;m facing the exact same issue ( SpringBoot 2.7.5 )  :)","body":"Hi just wanted to add that I&#39;m facing the exact same issue ( SpringBoot 2.7.5 )  :)"}],"answers":[{"tags":[],"owner":{"account_id":1900128,"reputation":1273,"user_id":1716141,"accept_rate":65,"display_name":"Sathesh S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668016435,"creation_date":1668016435,"answer_id":74379325,"question_id":74373123,"body_markdown":"I was able to fix it by adding `| quote` in applicationConfig.yaml file. \r\n\r\nEx: \r\n```\r\nuser:\r\n    apiKey: {{ .Values.user.apiKey | quote }}\r\n```","title":"Configure map data in Helm chart values.yaml file","body":"<p>I was able to fix it by adding <code>| quote</code> in applicationConfig.yaml file.</p>\n<p>Ex:</p>\n<pre><code>user:\n    apiKey: {{ .Values.user.apiKey | quote }}\n</code></pre>\n"}],"owner":{"account_id":1900128,"reputation":1273,"user_id":1716141,"accept_rate":65,"display_name":"Sathesh S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1098,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668016435,"creation_date":1667988824,"question_id":74373123,"body_markdown":"I&#39;m trying to deploy my Spring Boot application in Minikube using Helm charts. I have a configuration class where I map all the `@value` variables. If keep my map value in `application.yaml` or `applicationConfig.yaml` file then \r\n```\r\n@Value(&quot;#{${user.apiKey}}&quot;)\r\nprivate Map&lt;String, String&gt; userApiKeyMap;\r\n````\r\nworks fine.\r\n\r\nBut if I want to pass this map from `values.yaml` then it&#39;s not working. Below are the things I tried and errors I got.\r\nTry 1:\r\n````\r\nuser:\r\n    apiKey: \r\n      key1: &quot;value1&quot;\r\n      key2: &quot;value2&quot;\r\n\r\n\r\norg.springframework.expression.spel.SpelParseException: Expression [map[key1:value1 key2:value2]] @6: EL1043E: Unexpected token. Expected &#39;rsquare(])&#39; but was &#39;colon(:)&#39;\r\n````\r\nTry 2:\r\n````\r\nuser:\r\n    apiKey: |-\r\n      key1: &quot;value1&quot;\r\n      key2: &quot;value2&quot;\r\n\r\nError: UPGRADE FAILED: YAML parse error on user-service/templates/applicationConfig.yaml: error converting YAML to JSON: yaml: line 29: did not find expected key\r\n````\r\nTry 3:\r\n````\r\nuser:\r\n    apiKey: { key1: &quot;value1&quot;,\r\n      \t\tkey2: &quot;value2&quot; }\r\n\r\norg.springframework.expression.spel.SpelParseException: Expression [map[key1:value1 key2:value2]] @6: EL1043E: Unexpected token. Expected &#39;rsquare(])&#39; but was &#39;colon(:)&#39;\r\n````\r\nTry 4:\r\n````\r\nuser:\r\n    apiKey: &#39;{ &quot;key1&quot;: &quot;value1&quot;,\r\n                &quot;key2&quot;: &quot;value2&quot; }&#39;\r\n\r\nnested exception is java.lang.IllegalArgumentException: Could not resolve placeholkey2r &#39;user.apiKey&#39; in value &quot;#{${user.apiKey}}&quot;\r\n````\r\nTry 5:\r\n````\r\nuser:\r\n    apiKey:\r\n      - &quot;key1&quot;: &quot;value1&quot;\r\n      - &quot;key2&quot;: &quot;value2&quot;\r\n\r\n\r\n\r\nERROR 2022-11-09 09:51:01,614 [main] [SpringApplication] Application run failed\r\n org.yaml.snakeyaml.parser.ParserException: while parsing a flow sequence\r\n in &#39;reader&#39;, line 22, column 13:\r\n        apiKey: [map[key1:value1 ... \r\n                ^\r\nexpected &#39;,&#39; or &#39;]&#39;, but got [\r\n in &#39;reader&#39;, line 22, column 17:\r\n        apiKey: [map[key1:value1 ... \r\n                    ^\r\n````","title":"Configure map data in Helm chart values.yaml file","body":"<p>I'm trying to deploy my Spring Boot application in Minikube using Helm charts. I have a configuration class where I map all the <code>@value</code> variables. If keep my map value in <code>application.yaml</code> or <code>applicationConfig.yaml</code> file then</p>\n<pre><code>@Value(&quot;#{${user.apiKey}}&quot;)\nprivate Map&lt;String, String&gt; userApiKeyMap;\n</code></pre>\n<p>works fine.</p>\n<p>But if I want to pass this map from <code>values.yaml</code> then it's not working. Below are the things I tried and errors I got.\nTry 1:</p>\n<pre><code>user:\n    apiKey: \n      key1: &quot;value1&quot;\n      key2: &quot;value2&quot;\n\n\norg.springframework.expression.spel.SpelParseException: Expression [map[key1:value1 key2:value2]] @6: EL1043E: Unexpected token. Expected 'rsquare(])' but was 'colon(:)'\n</code></pre>\n<p>Try 2:</p>\n<pre><code>user:\n    apiKey: |-\n      key1: &quot;value1&quot;\n      key2: &quot;value2&quot;\n\nError: UPGRADE FAILED: YAML parse error on user-service/templates/applicationConfig.yaml: error converting YAML to JSON: yaml: line 29: did not find expected key\n</code></pre>\n<p>Try 3:</p>\n<pre><code>user:\n    apiKey: { key1: &quot;value1&quot;,\n            key2: &quot;value2&quot; }\n\norg.springframework.expression.spel.SpelParseException: Expression [map[key1:value1 key2:value2]] @6: EL1043E: Unexpected token. Expected 'rsquare(])' but was 'colon(:)'\n</code></pre>\n<p>Try 4:</p>\n<pre><code>user:\n    apiKey: '{ &quot;key1&quot;: &quot;value1&quot;,\n                &quot;key2&quot;: &quot;value2&quot; }'\n\nnested exception is java.lang.IllegalArgumentException: Could not resolve placeholkey2r 'user.apiKey' in value &quot;#{${user.apiKey}}&quot;\n</code></pre>\n<p>Try 5:</p>\n<pre><code>user:\n    apiKey:\n      - &quot;key1&quot;: &quot;value1&quot;\n      - &quot;key2&quot;: &quot;value2&quot;\n\n\n\nERROR 2022-11-09 09:51:01,614 [main] [SpringApplication] Application run failed\n org.yaml.snakeyaml.parser.ParserException: while parsing a flow sequence\n in 'reader', line 22, column 13:\n        apiKey: [map[key1:value1 ... \n                ^\nexpected ',' or ']', but got [\n in 'reader', line 22, column 17:\n        apiKey: [map[key1:value1 ... \n                    ^\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1668015897,"post_id":74379199,"comment_id":131307403,"body_markdown":"Please post code, not a picture of code.  No-one can run a picture.","body":"Please post code, not a picture of code.  No-one can run a picture."},{"owner":{"account_id":26314694,"reputation":9,"user_id":19977661,"display_name":"Jannis"},"score":1,"creation_date":1668016087,"post_id":74379199,"comment_id":131307483,"body_markdown":"What do you mean? Should I copy paste my code as a comment here?","body":"What do you mean? Should I copy paste my code as a comment here?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1668016296,"post_id":74379199,"comment_id":131307543,"body_markdown":"You should [edit](https://stackoverflow.com/posts/74379199/edit) your question. Most probably you are either running different main method or running the old code.","body":"You should <a href=\"https://stackoverflow.com/posts/74379199/edit\">edit</a> your question. Most probably you are either running different main method or running the old code."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1668016328,"post_id":74379199,"comment_id":131307559,"body_markdown":"[Please post text, not images.](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557)","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557\">Please post text, not images.</a>"},{"owner":{"account_id":26314694,"reputation":9,"user_id":19977661,"display_name":"Jannis"},"score":0,"creation_date":1668016996,"post_id":74379199,"comment_id":131307804,"body_markdown":"Thanks, I will edit my question. The follow up question becomes how do I check my main method so that the correct code is running?","body":"Thanks, I will edit my question. The follow up question becomes how do I check my main method so that the correct code is running?"}],"answers":[{"tags":[],"owner":{"account_id":26881156,"reputation":64,"user_id":20461571,"display_name":"Dean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668016166,"creation_date":1668016166,"answer_id":74379274,"question_id":74379199,"body_markdown":"Try creating a new class in the /src directory\r\nThe hierachy would then be /YourProjectName/src/yourJavaClass\r\n\r\nkind regards!","title":"I cannot run my code in IntelliJ. Instead of printing my code it prints &quot;Hello World!&quot;","body":"<p>Try creating a new class in the /src directory\nThe hierachy would then be /YourProjectName/src/yourJavaClass</p>\n<p>kind regards!</p>\n"}],"owner":{"account_id":26314694,"reputation":9,"user_id":19977661,"display_name":"Jannis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668017542,"answer_count":1,"score":0,"last_activity_date":1668016381,"creation_date":1668015801,"question_id":74379199,"body_markdown":"This is my first time using IntelliJ and I am learning to code Java. When I am pressing the button &quot;run&quot;, my program does not print &quot;I love pizza!&quot; instead it prints &quot;Hello World!&quot;. Why is this and how  can I fix it?\r\n\r\n\r\nI have tried to run my code multiple times and I have added &quot;application&quot; as run configurations.\r\n\r\n[![enter image description here][1]][1] \r\n\r\n  [1]: https://i.stack.imgur.com/lEXMB.png","title":"I cannot run my code in IntelliJ. Instead of printing my code it prints &quot;Hello World!&quot;","body":"<p>This is my first time using IntelliJ and I am learning to code Java. When I am pressing the button &quot;run&quot;, my program does not print &quot;I love pizza!&quot; instead it prints &quot;Hello World!&quot;. Why is this and how  can I fix it?</p>\n<p>I have tried to run my code multiple times and I have added &quot;application&quot; as run configurations.</p>\n<p><a href=\"https://i.stack.imgur.com/lEXMB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lEXMB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","docker","kubernetes","aspose","aspose.words"],"answers":[{"tags":[],"owner":{"account_id":1928282,"reputation":2847,"user_id":1738252,"accept_rate":73,"display_name":"phoenix7360"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1531722419,"creation_date":1531722419,"answer_id":51355746,"question_id":51307075,"body_markdown":"I think we found the problem.\r\n\r\nWhen running on Jenkins we use the `docker:dind` (Docker inside docker) Docker image to provide the `docker` command in the build. This image is based on `Alpine` linux. When running `docker info` we get the following:\r\n\r\nOn Mac:\r\n\r\n    Kernel Version: 4.9.87-linuxkit-aufs\r\n    Operating System: Docker for Mac\r\n\r\nOn Jenkins:\r\n\r\n    Kernel Version: 4.4.115-k8s\r\n    Operating System: Alpine Linux v3.7 (containerized)\r\n\r\n\r\n`Alpine` linux must be missing those fonts. We fixed the problem by manually installing them in the `Dockerfile`:\r\n\r\n    RUN apt-get update \\\r\n     &amp;&amp; apt-get install --assume-yes apt-utils \\\r\n     &amp;&amp; apt-get install --assume-yes software-properties-common \\\r\n     &amp;&amp; apt-get install --assume-yes dbus \\\r\n     &amp;&amp; apt-get install --assume-yes cgmanager \\\r\n     &amp;&amp; apt-get install --assume-yes glib-networking \\\r\n     &amp;&amp; apt-get install --assume-yes libnih-dbus-dev \\\r\n     &amp;&amp; apt-get install --assume-yes dconf-cli \\\r\n     &amp;&amp; apt-get install --assume-yes fontconfig\r\n\r\nNot sure this is the minimum required libraries but those did the trick :D","title":"Docker and Java - FontConfiguration issue","body":"<p>I think we found the problem.</p>\n\n<p>When running on Jenkins we use the <code>docker:dind</code> (Docker inside docker) Docker image to provide the <code>docker</code> command in the build. This image is based on <code>Alpine</code> linux. When running <code>docker info</code> we get the following:</p>\n\n<p>On Mac:</p>\n\n<pre><code>Kernel Version: 4.9.87-linuxkit-aufs\nOperating System: Docker for Mac\n</code></pre>\n\n<p>On Jenkins:</p>\n\n<pre><code>Kernel Version: 4.4.115-k8s\nOperating System: Alpine Linux v3.7 (containerized)\n</code></pre>\n\n<p><code>Alpine</code> linux must be missing those fonts. We fixed the problem by manually installing them in the <code>Dockerfile</code>:</p>\n\n<pre><code>RUN apt-get update \\\n &amp;&amp; apt-get install --assume-yes apt-utils \\\n &amp;&amp; apt-get install --assume-yes software-properties-common \\\n &amp;&amp; apt-get install --assume-yes dbus \\\n &amp;&amp; apt-get install --assume-yes cgmanager \\\n &amp;&amp; apt-get install --assume-yes glib-networking \\\n &amp;&amp; apt-get install --assume-yes libnih-dbus-dev \\\n &amp;&amp; apt-get install --assume-yes dconf-cli \\\n &amp;&amp; apt-get install --assume-yes fontconfig\n</code></pre>\n\n<p>Not sure this is the minimum required libraries but those did the trick :D</p>\n"},{"tags":[],"owner":{"account_id":1377472,"reputation":836,"user_id":1311188,"display_name":"Juan Ignacio"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1595937356,"creation_date":1572965719,"answer_id":58713958,"question_id":51307075,"body_markdown":"With openjdk:8u111-jdk-alpine, installing dejavu fix the problem:\r\n\r\nFor example:\r\n\r\nDockerfile:\r\n```\r\nFROM openjdk:8u111-jdk-alpine\r\n# Needed to fix &#39;Fontconfig warning: ignoring C.UTF-8: not a valid language tag&#39;\r\nENV LANG en_GB.UTF-8\r\n\r\n# JRE fails to load fonts if there are no standard fonts in the image; DejaVu is a good choice,\r\n# see https://github.com/docker-library/openjdk/issues/73#issuecomment-207816707\r\nRUN apk add --update ttf-dejavu &amp;&amp; rm -rf /var/cache/apk/*\r\n\r\nVOLUME /tmp\r\nCOPY /target/*.jar app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-Xmx100m&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```","title":"Docker and Java - FontConfiguration issue","body":"<p>With openjdk:8u111-jdk-alpine, installing dejavu fix the problem:</p>\n<p>For example:</p>\n<p>Dockerfile:</p>\n<pre><code>FROM openjdk:8u111-jdk-alpine\n# Needed to fix 'Fontconfig warning: ignoring C.UTF-8: not a valid language tag'\nENV LANG en_GB.UTF-8\n\n# JRE fails to load fonts if there are no standard fonts in the image; DejaVu is a good choice,\n# see https://github.com/docker-library/openjdk/issues/73#issuecomment-207816707\nRUN apk add --update ttf-dejavu &amp;&amp; rm -rf /var/cache/apk/*\n\nVOLUME /tmp\nCOPY /target/*.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-Xmx100m&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1583449282,"creation_date":1583449282,"answer_id":60555222,"question_id":51307075,"body_markdown":"Installing `libfontconfig1` solved the problem for me ([source](https://github.com/AdoptOpenJDK/openjdk-docker/issues/75#issue-372523811)):\r\n```docker\r\nRUN apt-get install -y libfontconfig1 &amp;&amp; rm -rf /var/lib/apt/lists/*\r\n```","title":"Docker and Java - FontConfiguration issue","body":"<p>Installing <code>libfontconfig1</code> solved the problem for me (<a href=\"https://github.com/AdoptOpenJDK/openjdk-docker/issues/75#issue-372523811\" rel=\"noreferrer\">source</a>):</p>\n\n<pre><code>RUN apt-get install -y libfontconfig1 &amp;&amp; rm -rf /var/lib/apt/lists/*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20849274,"reputation":1,"user_id":15314169,"display_name":"Katwal Surjeet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614683555,"creation_date":1614683555,"answer_id":66438254,"question_id":51307075,"body_markdown":"If you are running it on local with Docker Desktop and using docker file to create the image. \r\nPlease make changes in Dockerfile from FROM openjdk:8-jdk-alpine to FROM adoptopenjdk/openjdk11:ubi","title":"Docker and Java - FontConfiguration issue","body":"<p>If you are running it on local with Docker Desktop and using docker file to create the image.\nPlease make changes in Dockerfile from FROM openjdk:8-jdk-alpine to FROM adoptopenjdk/openjdk11:ubi</p>\n"},{"tags":[],"owner":{"account_id":1891952,"reputation":2743,"user_id":1709793,"accept_rate":0,"display_name":"craftsmannadeem"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1627189345,"creation_date":1627189345,"answer_id":68515645,"question_id":51307075,"body_markdown":"Just add the following in your Dockerfile\r\n\r\n    RUN apk add --no-cache fontconfig ttf-dejavu\r\n\r\n","title":"Docker and Java - FontConfiguration issue","body":"<p>Just add the following in your Dockerfile</p>\n<pre><code>RUN apk add --no-cache fontconfig ttf-dejavu\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3274085,"reputation":3571,"user_id":2756662,"accept_rate":94,"display_name":"Subin Chalil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637567337,"creation_date":1631709929,"answer_id":69193409,"question_id":51307075,"body_markdown":"If you trying to do in Java/Spring boot , adding following in `Dockerfile` worked for me in java 11.\r\n\r\n    # Font packages to be added for java 11\r\n    RUN apk update \\\r\n     &amp;&amp; apk add fontconfig \\\r\n     &amp;&amp; apk add ttf-dejavu\r\n    RUN ln -s /usr/lib/libfontconfig.so.1 /usr/lib/libfontconfig.so &amp;&amp; \\\r\n        ln -s /lib/libuuid.so.1 /usr/lib/libuuid.so.1 &amp;&amp; \\\r\n        ln -s /lib/libc.musl-x86_64.so.1 /usr/lib/libc.musl-x86_64.so.1\r\n    ENV LD_LIBRARY_PATH /usr/lib","title":"Docker and Java - FontConfiguration issue","body":"<p>If you trying to do in Java/Spring boot , adding following in <code>Dockerfile</code> worked for me in java 11.</p>\n<pre><code># Font packages to be added for java 11\nRUN apk update \\\n &amp;&amp; apk add fontconfig \\\n &amp;&amp; apk add ttf-dejavu\nRUN ln -s /usr/lib/libfontconfig.so.1 /usr/lib/libfontconfig.so &amp;&amp; \\\n    ln -s /lib/libuuid.so.1 /usr/lib/libuuid.so.1 &amp;&amp; \\\n    ln -s /lib/libc.musl-x86_64.so.1 /usr/lib/libc.musl-x86_64.so.1\nENV LD_LIBRARY_PATH /usr/lib\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659429632,"creation_date":1659429632,"answer_id":73204461,"question_id":51307075,"body_markdown":"Problem NullPointerException with fonts occurs when you use openjdk docker image in &lt;b&gt;alpine&lt;/b&gt; version for example :\r\n\r\nadoptopenjdk/openjdk11:jre-11.0.11_9-alpine.\r\n\r\n**You need change image to full version: adoptopenjdk/openjdk11:jre-11.0.11_9**","title":"Docker and Java - FontConfiguration issue","body":"<p>Problem NullPointerException with fonts occurs when you use openjdk docker image in <b>alpine</b> version for example :</p>\n<p>adoptopenjdk/openjdk11:jre-11.0.11_9-alpine.</p>\n<p><strong>You need change image to full version: adoptopenjdk/openjdk11:jre-11.0.11_9</strong></p>\n"},{"tags":[],"owner":{"account_id":196189,"reputation":2128,"user_id":439506,"accept_rate":28,"display_name":"Dhrumil Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668016361,"creation_date":1668016361,"answer_id":74379310,"question_id":51307075,"body_markdown":"I also got the same issue while running below command and restart app server resolved this issue.\r\nYup install fontconfig","title":"Docker and Java - FontConfiguration issue","body":"<p>I also got the same issue while running below command and restart app server resolved this issue.\nYup install fontconfig</p>\n"}],"owner":{"account_id":1928282,"reputation":2847,"user_id":1738252,"accept_rate":73,"display_name":"phoenix7360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28510,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":51355746,"answer_count":8,"score":23,"last_activity_date":1668016361,"creation_date":1531402448,"question_id":51307075,"body_markdown":" We&#39;ve got a Java application that generates word documents using a 3rd party (Asposee but I don&#39;t think it matters here). The app is built from a simple Docker file:\r\n\r\n    FROM openjdk:10-jdk-slim\r\n    COPY target/*.jar /opt/\r\n    CMD $JAVA_HOME/bin/java $JAVA_OPTS -jar /opt/*.jar\r\n\r\nWhen we build the application locally (`mvn package` then `docker build`) and run the application inside `k8s` it works well.\r\n\r\nHowever, when we build the image in our CI/CD pipeline with Jenkins we get a runtime exception when running through a specific process which apparently requires additional fonts:\r\n\r\n    Caused by: java.lang.NullPointerException: null\r\n        at java.desktop/sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1288)\r\n        at java.desktop/sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:225)\r\n        at java.desktop/sun.awt.FontConfiguration.init(FontConfiguration.java:107)\r\n        at java.desktop/sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:765)\r\n        at java.desktop/sun.font.SunFontManager$2.run(SunFontManager.java:440)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.desktop/sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:385)\r\n        at java.desktop/sun.awt.FcFontManager.&lt;init&gt;(FcFontManager.java:35)\r\n        at java.desktop/sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:56)\r\n\r\nIn that case the project is buit in Jenkins, compiled by the docker image `maven:3.5.4-jdk-10-slim`.\r\n\r\nI&#39;ve checked both jar files (locally and from jenkins) and the class files are the same (as expected).\r\n\r\nIn both cases it&#39;s the same base image so I don&#39;t understand what could be the difference. Is something different in Docker when building locally vs inside another Docker container?\r\n\r\n**EDIT**\r\n\r\nWe&#39;ve looked into both docker images and found the following difference.\r\n\r\nSince locally built image `ls -l /usr/lib` returns:\r\n\r\n    drwxr-xr-x  2 root root  4096 May  3  2017 X11\r\n    drwxr-xr-x  5 root root  4096 Apr 26 00:00 apt\r\n    drwxr-xr-x  2 root root  4096 May 26 08:31 binfmt.d\r\n    drwxr-xr-x  2 root root  4096 Jun  6 01:50 cgmanager\r\n    drwxr-xr-x  2 root root  4096 Jun  6 01:50 dbus-1.0\r\n    drwxr-xr-x  2 root root  4096 Jun  6 01:51 dconf\r\n    drwxr-xr-x  3 root root  4096 Jun  6 01:51 debug\r\n    drwxr-xr-x  3 root root  4096 Apr 20 10:08 dpkg\r\n    drwxr-xr-x  2 root root  4096 Jun  6 01:50 environment.d\r\n    drwxr-xr-x  3 root root  4096 Apr 25 04:56 gcc\r\n    drwxr-xr-x  2 root root  4096 Jun  6 01:51 glib-networking\r\n    drwxr-xr-x  2 root root  4096 Apr 26 00:00 init\r\n    drwxr-xr-x  1 root root  4096 Jun  6 01:51 jvm\r\n    drwxr-xr-x  3 root root  4096 Jun  6 01:50 kernel\r\n    lrwxrwxrwx  1 root root    20 Mar  4 09:49 libnih-dbus.so.1 -&gt; libnih-dbus.so.1.0.0\r\n    -rw-r--r--  1 root root 34824 Mar  4 09:49 libnih-dbus.so.1.0.0\r\n    lrwxrwxrwx  1 root root    15 Mar  4 09:49 libnih.so.1 -&gt; libnih.so.1.0.0\r\n    -rw-r--r--  1 root root 92184 Mar  4 09:49 libnih.so.1.0.0\r\n    drwxr-xr-x  3 root root  4096 Mar 29 19:47 locale\r\n    drwxr-xr-x  3 root root  4096 Jun  6 01:50 lsb\r\n    drwxr-xr-x  1 root root  4096 Jul 21  2017 mime\r\n    drwxr-xr-x  2 root root  4096 Jun  6 01:50 modprobe.d\r\n    drwxr-xr-x  2 root root  4096 May 26 08:31 modules-load.d\r\n    -rw-r--r--  1 root root   198 Jan 13 23:36 os-release\r\n    drwxr-xr-x  3 root root  4096 Jun  6 01:51 ssl\r\n    drwxr-xr-x  1 root root  4096 Jun  6 01:50 systemd\r\n    drwxr-xr-x  2 root root  4096 Jun  6 01:50 sysusers.d\r\n    drwxr-xr-x  2 root root  4096 Jul 21  2017 tar\r\n    drwxr-xr-x 15 root root  4096 Feb 11 20:06 terminfo\r\n    drwxr-xr-x  1 root root  4096 Jun  6 01:50 tmpfiles.d\r\n    drwxr-xr-x  1 root root  4096 Apr 26 00:00 udev\r\n    drwxr-xr-x  1 root root 16384 Jun  6 01:51 x86_64-linux-gnu\r\n\r\nBut inside Jenkins built image `ls -l /usr/lib` returns:\r\n\r\n    drwxr-xr-x  5 root root 4096 Jun 25 00:00 apt\r\n    drwxr-xr-x  3 root root 4096 Jul  3 01:00 debug\r\n    drwxr-xr-x  3 root root 4096 Apr 20 10:08 dpkg\r\n    drwxr-xr-x  3 root root 4096 Jun 17 03:36 gcc\r\n    drwxr-xr-x  2 root root 4096 Jun 25 00:00 init\r\n    drwxr-xr-x  1 root root 4096 Jul  3 01:00 jvm\r\n    drwxr-xr-x  1 root root 4096 Jul 12 11:00 locale\r\n    drwxr-xr-x  3 root root 4096 Jul  3 01:00 lsb\r\n    drwxr-xr-x  1 root root 4096 May 16 07:47 mime\r\n    -rw-r--r--  1 root root  198 Jan 13 23:36 os-release\r\n    drwxr-xr-x  3 root root 4096 Jul  3 01:00 ssl\r\n    drwxr-xr-x  3 root root 4096 Apr 20 10:08 systemd\r\n    drwxr-xr-x  2 root root 4096 May 16 07:47 tar\r\n    drwxr-xr-x 15 root root 4096 May 21 08:54 terminfo\r\n    drwxr-xr-x  2 root root 4096 Jun 25 00:00 tmpfiles.d\r\n    drwxr-xr-x  3 root root 4096 Jun 25 00:00 udev\r\n    drwxr-xr-x  2 root root 4096 May  3  2017 X11\r\n    drwxr-xr-x  1 root root 4096 Jul  3 01:00 x86_64-linux-gnu\r\n\r\nThis is really puzzling as I thought Docker would always produce the same image from identical Dockerfiles","title":"Docker and Java - FontConfiguration issue","body":"<p>We've got a Java application that generates word documents using a 3rd party (Asposee but I don't think it matters here). The app is built from a simple Docker file:</p>\n\n<pre><code>FROM openjdk:10-jdk-slim\nCOPY target/*.jar /opt/\nCMD $JAVA_HOME/bin/java $JAVA_OPTS -jar /opt/*.jar\n</code></pre>\n\n<p>When we build the application locally (<code>mvn package</code> then <code>docker build</code>) and run the application inside <code>k8s</code> it works well.</p>\n\n<p>However, when we build the image in our CI/CD pipeline with Jenkins we get a runtime exception when running through a specific process which apparently requires additional fonts:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException: null\n    at java.desktop/sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1288)\n    at java.desktop/sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:225)\n    at java.desktop/sun.awt.FontConfiguration.init(FontConfiguration.java:107)\n    at java.desktop/sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:765)\n    at java.desktop/sun.font.SunFontManager$2.run(SunFontManager.java:440)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.desktop/sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:385)\n    at java.desktop/sun.awt.FcFontManager.&lt;init&gt;(FcFontManager.java:35)\n    at java.desktop/sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:56)\n</code></pre>\n\n<p>In that case the project is buit in Jenkins, compiled by the docker image <code>maven:3.5.4-jdk-10-slim</code>.</p>\n\n<p>I've checked both jar files (locally and from jenkins) and the class files are the same (as expected).</p>\n\n<p>In both cases it's the same base image so I don't understand what could be the difference. Is something different in Docker when building locally vs inside another Docker container?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>We've looked into both docker images and found the following difference.</p>\n\n<p>Since locally built image <code>ls -l /usr/lib</code> returns:</p>\n\n<pre><code>drwxr-xr-x  2 root root  4096 May  3  2017 X11\ndrwxr-xr-x  5 root root  4096 Apr 26 00:00 apt\ndrwxr-xr-x  2 root root  4096 May 26 08:31 binfmt.d\ndrwxr-xr-x  2 root root  4096 Jun  6 01:50 cgmanager\ndrwxr-xr-x  2 root root  4096 Jun  6 01:50 dbus-1.0\ndrwxr-xr-x  2 root root  4096 Jun  6 01:51 dconf\ndrwxr-xr-x  3 root root  4096 Jun  6 01:51 debug\ndrwxr-xr-x  3 root root  4096 Apr 20 10:08 dpkg\ndrwxr-xr-x  2 root root  4096 Jun  6 01:50 environment.d\ndrwxr-xr-x  3 root root  4096 Apr 25 04:56 gcc\ndrwxr-xr-x  2 root root  4096 Jun  6 01:51 glib-networking\ndrwxr-xr-x  2 root root  4096 Apr 26 00:00 init\ndrwxr-xr-x  1 root root  4096 Jun  6 01:51 jvm\ndrwxr-xr-x  3 root root  4096 Jun  6 01:50 kernel\nlrwxrwxrwx  1 root root    20 Mar  4 09:49 libnih-dbus.so.1 -&gt; libnih-dbus.so.1.0.0\n-rw-r--r--  1 root root 34824 Mar  4 09:49 libnih-dbus.so.1.0.0\nlrwxrwxrwx  1 root root    15 Mar  4 09:49 libnih.so.1 -&gt; libnih.so.1.0.0\n-rw-r--r--  1 root root 92184 Mar  4 09:49 libnih.so.1.0.0\ndrwxr-xr-x  3 root root  4096 Mar 29 19:47 locale\ndrwxr-xr-x  3 root root  4096 Jun  6 01:50 lsb\ndrwxr-xr-x  1 root root  4096 Jul 21  2017 mime\ndrwxr-xr-x  2 root root  4096 Jun  6 01:50 modprobe.d\ndrwxr-xr-x  2 root root  4096 May 26 08:31 modules-load.d\n-rw-r--r--  1 root root   198 Jan 13 23:36 os-release\ndrwxr-xr-x  3 root root  4096 Jun  6 01:51 ssl\ndrwxr-xr-x  1 root root  4096 Jun  6 01:50 systemd\ndrwxr-xr-x  2 root root  4096 Jun  6 01:50 sysusers.d\ndrwxr-xr-x  2 root root  4096 Jul 21  2017 tar\ndrwxr-xr-x 15 root root  4096 Feb 11 20:06 terminfo\ndrwxr-xr-x  1 root root  4096 Jun  6 01:50 tmpfiles.d\ndrwxr-xr-x  1 root root  4096 Apr 26 00:00 udev\ndrwxr-xr-x  1 root root 16384 Jun  6 01:51 x86_64-linux-gnu\n</code></pre>\n\n<p>But inside Jenkins built image <code>ls -l /usr/lib</code> returns:</p>\n\n<pre><code>drwxr-xr-x  5 root root 4096 Jun 25 00:00 apt\ndrwxr-xr-x  3 root root 4096 Jul  3 01:00 debug\ndrwxr-xr-x  3 root root 4096 Apr 20 10:08 dpkg\ndrwxr-xr-x  3 root root 4096 Jun 17 03:36 gcc\ndrwxr-xr-x  2 root root 4096 Jun 25 00:00 init\ndrwxr-xr-x  1 root root 4096 Jul  3 01:00 jvm\ndrwxr-xr-x  1 root root 4096 Jul 12 11:00 locale\ndrwxr-xr-x  3 root root 4096 Jul  3 01:00 lsb\ndrwxr-xr-x  1 root root 4096 May 16 07:47 mime\n-rw-r--r--  1 root root  198 Jan 13 23:36 os-release\ndrwxr-xr-x  3 root root 4096 Jul  3 01:00 ssl\ndrwxr-xr-x  3 root root 4096 Apr 20 10:08 systemd\ndrwxr-xr-x  2 root root 4096 May 16 07:47 tar\ndrwxr-xr-x 15 root root 4096 May 21 08:54 terminfo\ndrwxr-xr-x  2 root root 4096 Jun 25 00:00 tmpfiles.d\ndrwxr-xr-x  3 root root 4096 Jun 25 00:00 udev\ndrwxr-xr-x  2 root root 4096 May  3  2017 X11\ndrwxr-xr-x  1 root root 4096 Jul  3 01:00 x86_64-linux-gnu\n</code></pre>\n\n<p>This is really puzzling as I thought Docker would always produce the same image from identical Dockerfiles</p>\n"},{"tags":["java","spring-boot","logging","log4j","logback"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1667988287,"post_id":74372687,"comment_id":131297028,"body_markdown":"Can you show us your conf in logback.xml ?","body":"Can you show us your conf in logback.xml ?"},{"owner":{"account_id":9338924,"reputation":677,"user_id":8255039,"display_name":"Nishan B"},"score":0,"creation_date":1667988434,"post_id":74372687,"comment_id":131297076,"body_markdown":"resources/logback.xml looks like this               \n&lt;configuration&gt;\n    &lt;appender name=&quot;console&quot; class=&quot;org.zalando.logbook.json.JsonHttpLogFormatter&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;trace&quot;&gt;\n        &lt;appender-ref ref=&quot;console&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;","body":"resources/logback.xml looks like this                &lt;configuration&gt;     &lt;appender name=&quot;console&quot; class=&quot;org.zalando.logbook.json.JsonHttpLogFormatter&quot;&gt;         &lt;encoder&gt;             &lt;pattern&gt;%d{HH:mm:ss.SSS} %-5level %logger{36} - %msg%n&lt;/pattern&gt;         &lt;/encoder&gt;     &lt;/appender&gt;      &lt;root level=&quot;trace&quot;&gt;         &lt;appender-ref ref=&quot;console&quot; /&gt;     &lt;/root&gt; &lt;/configuration&gt;"}],"answers":[{"tags":[],"owner":{"account_id":9338924,"reputation":677,"user_id":8255039,"display_name":"Nishan B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668002323,"creation_date":1668002323,"answer_id":74376063,"question_id":74372687,"body_markdown":"I resolved this issue by modifying `resources/log4j2.properties` by adding this line `appender.console.layout.pattern = %d{ISO8601} - info: %msg%n`\r\n\r\nFile looks like this \r\n\r\n```\r\nname = requestlogger\r\n\r\n# Console appender configuration\r\nappender.console.type = Console\r\nappender.console.name = consoleLogger\r\nappender.console.layout.type = PatternLayout\r\nappender.console.layout.pattern = %d{ISO8601} - info: %msg%n\r\n\r\n# Root logger level\r\nrootLogger.level = info\r\n# Root logger referring to console appender\r\nrootLogger.appenderRef.stdout.ref = consoleLogger\r\n```","title":"How to output logs in custom pattern using logbook-spring-boot-starter","body":"<p>I resolved this issue by modifying <code>resources/log4j2.properties</code> by adding this line <code>appender.console.layout.pattern = %d{ISO8601} - info: %msg%n</code></p>\n<p>File looks like this</p>\n<pre><code>name = requestlogger\n\n# Console appender configuration\nappender.console.type = Console\nappender.console.name = consoleLogger\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{ISO8601} - info: %msg%n\n\n# Root logger level\nrootLogger.level = info\n# Root logger referring to console appender\nrootLogger.appenderRef.stdout.ref = consoleLogger\n</code></pre>\n"}],"owner":{"account_id":9338924,"reputation":677,"user_id":8255039,"display_name":"Nishan B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1015,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668016118,"creation_date":1667986705,"question_id":74372687,"body_markdown":"I have a spring application, which is using logbook logger for request/response logging\r\n\r\npom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.zalando&lt;/groupId&gt;\r\n   &lt;artifactId&gt;logbook-spring-boot-starter&lt;/artifactId&gt;\r\n   &lt;version&gt;2.14.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\napplication.yml\r\n\r\n```\r\nlogging:\r\n  level:\r\n    org.zalando.logbook: TRACE\r\n```\r\n\r\nlogback is  logging the incoming and outgoing response as below\r\n\r\n```\r\n2022-11-09T09:00:51,084Z {&quot;origin&quot;:&quot;remote&quot;,&quot;type&quot;:&quot;request&quot;,&quot;correlation&quot;:&quot;c6d7a74....}\r\n```\r\n\r\nhow can I make it log  this way? \r\n\r\n```\r\n2022-11-09T09:00:51.036210Z - info: {&quot;origin&quot;:&quot;remote&quot;,&quot;type&quot;:&quot;request&quot;,&quot;correlation&quot;:&quot;c6d7a74...}\r\n```\r\n\r\nTried using the pattern in logback.xml nothing seems to work \r\n\r\n    &lt;configuration&gt;\r\n      &lt;appender name=&quot;STDOUT&quot; class=&quot;org.zalando.logbook.json.JsonHttpLogFormatte&quot;&gt;\r\n        &lt;encoder&gt;\r\n          &lt;pattern&gt;%d{HH:mm:ss.SSS} %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n      &lt;/appender&gt;\r\n      &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n      &lt;/root&gt;\r\n    &lt;/configuration&gt;","title":"How to output logs in custom pattern using logbook-spring-boot-starter","body":"<p>I have a spring application, which is using logbook logger for request/response logging</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.zalando&lt;/groupId&gt;\n   &lt;artifactId&gt;logbook-spring-boot-starter&lt;/artifactId&gt;\n   &lt;version&gt;2.14.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>application.yml</p>\n<pre><code>logging:\n  level:\n    org.zalando.logbook: TRACE\n</code></pre>\n<p>logback is  logging the incoming and outgoing response as below</p>\n<pre><code>2022-11-09T09:00:51,084Z {&quot;origin&quot;:&quot;remote&quot;,&quot;type&quot;:&quot;request&quot;,&quot;correlation&quot;:&quot;c6d7a74....}\n</code></pre>\n<p>how can I make it log  this way?</p>\n<pre><code>2022-11-09T09:00:51.036210Z - info: {&quot;origin&quot;:&quot;remote&quot;,&quot;type&quot;:&quot;request&quot;,&quot;correlation&quot;:&quot;c6d7a74...}\n</code></pre>\n<p>Tried using the pattern in logback.xml nothing seems to work</p>\n<pre><code>&lt;configuration&gt;\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;org.zalando.logbook.json.JsonHttpLogFormatte&quot;&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n  &lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","string","validation","multidimensional-array","bubble-sort"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1667920316,"post_id":74355188,"comment_id":131279995,"body_markdown":"&quot;all answers seemed to say true regardless of my input&quot; For us to help with that, you should provide example code. But, to avoid risk of having the question closed for lack of focus, I suggest you first fix the bubble sort. When that is working, if something still doesn&#39;t work, ask a new question. Reference this question in the new, and add a comment here to reference the new question.","body":"&quot;all answers seemed to say true regardless of my input&quot; For us to help with that, you should provide example code. But, to avoid risk of having the question closed for lack of focus, I suggest you first fix the bubble sort. When that is working, if something still doesn&#39;t work, ask a new question. Reference this question in the new, and add a comment here to reference the new question."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668120728,"post_id":74355188,"comment_id":131335791,"body_markdown":"There are similar questions on Stack Overflow. [This question](https://stackoverflow.com/questions/31641638/shuffling-a-2d-array-while-keeping-columns-elements-together) also uses names of states and names of their capitals.","body":"There are similar questions on Stack Overflow. <a href=\"https://stackoverflow.com/questions/31641638/shuffling-a-2d-array-while-keeping-columns-elements-together\">This question</a> also uses names of states and names of their capitals."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667941760,"creation_date":1667877980,"answer_id":74355379,"question_id":74355188,"body_markdown":"You sort the `&quot;2D&quot;` array just like a `&quot;1D&quot;` array.  You have `50` rows and `2` columns. Assuming you know how to sort a `&quot;1D&quot;` array and using `i and j` you would:\r\n\r\n- compare `arr[i][1]` against `a[j][1]` to sort by capital\r\n- then, when time swap `arr[i][1] and arr[j][1]` and also swap `arr[i][0] and arr[j][0]`.  (or just like your example sort, but you need to swap both columns on the same row to keep each state and its capital together).\r\n\r\nFor the quiz, if a state is presented asking for its capital, just prompt for the capital and compare to the correct answer.  Similarly for presenting a capital and asking for state. I recommend you compare everything using lower case to avoid problems in comparing.\r\n\r\nCheck out the [String](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html) class for information on using `compareTo` and `toLowerCase` or `toUpperCase`.\r\n\r\n**Updated**\r\n\r\nTesting along the way is a good idea, so to ensure you&#39;re iterating across them correctly do the following:\r\n```\r\nfor (int i = 0; i &lt; stateAndCapitals.length; i++){\r\n   System.out.println(Arrays.toString(stateAndCapitals[i]));\r\n}\r\n```\r\n        \r\n\r\n","title":"2D array for state and capitols, with system asking user input, and then validating answer","body":"<p>You sort the <code>&quot;2D&quot;</code> array just like a <code>&quot;1D&quot;</code> array.  You have <code>50</code> rows and <code>2</code> columns. Assuming you know how to sort a <code>&quot;1D&quot;</code> array and using <code>i and j</code> you would:</p>\n<ul>\n<li>compare <code>arr[i][1]</code> against <code>a[j][1]</code> to sort by capital</li>\n<li>then, when time swap <code>arr[i][1] and arr[j][1]</code> and also swap <code>arr[i][0] and arr[j][0]</code>.  (or just like your example sort, but you need to swap both columns on the same row to keep each state and its capital together).</li>\n</ul>\n<p>For the quiz, if a state is presented asking for its capital, just prompt for the capital and compare to the correct answer.  Similarly for presenting a capital and asking for state. I recommend you compare everything using lower case to avoid problems in comparing.</p>\n<p>Check out the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\">String</a> class for information on using <code>compareTo</code> and <code>toLowerCase</code> or <code>toUpperCase</code>.</p>\n<p><strong>Updated</strong></p>\n<p>Testing along the way is a good idea, so to ensure you're iterating across them correctly do the following:</p>\n<pre><code>for (int i = 0; i &lt; stateAndCapitals.length; i++){\n   System.out.println(Arrays.toString(stateAndCapitals[i]));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667956754,"creation_date":1667881961,"answer_id":74355706,"question_id":74355188,"body_markdown":"(1) Java has primitives and reference types. The relational operators `&lt;`, `&lt;=`, `&gt;`, `&gt;=` are for primitives. The relational operators `==` and `!=` can be used for either primitives or reference types. For primitives, they compare the values, as expected. For reference types, they don&#39;t compare values. They answer the question &quot;Are the operands the _same_ reference, that is, the same `Object`?&quot; \r\n\r\nTo compare values of reference types, methods such as `.equals` or `.compareTo` are used. `String` is a reference type. Comparison of two `Object`s values (not references) typically looks like this:\r\n\r\n      Foo foo1, foo2;\r\n      ...\r\n      if (foo1.equals (foo2)) ... \r\n\r\nSometimes, greater-than or less-than comparisons of values are needed. If a class `implements` [`Comparable`](https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html), objects have a `compareTo` method. The `compareTo` method returns a `int`, which will be a negative number, zero, or a positive to indicate which has the higher value, or that they are equal.\r\n\r\n      if (foo1.compareTo(foo2) &lt; 0) { \r\n          System.out.println (&quot;Foo1 is less than Foo2&quot;);\r\n       ...\r\n\r\n`String` does implement `Comparable`. \r\n\r\nThe [`String` API](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html) offers some methods for comparison: \r\n - `.equals (String  other)`\r\n - `.equalsIgnoreCase (String other)` \r\n -  `.compareTo (String other)`\r\n -  `.compareToIgnoreCase (String other)`\r\n\r\n\r\n(2a) For a 2D array, an expression such as `array[j]` references an entire row of `array`, i.e. array[j][0], array[j][1], array[j][2], array[j][3], ...\r\n\r\n(2b) To access a single element, you need to specify each subscript. \r\n     \r\n      System.out.println (&quot;The capital of &quot; + stateAndCapital[i][0]\r\n          + &quot; is &quot; + stateAndCapital[i][1] + &quot;.&quot;);     \r\n\r\n\r\n(3) You want to sort by column 1. So, compare one `stateAndCapital[x][1]` to another `stateAndCapital[y][1]`. \r\n\r\n(Remember (2b): Specify both subscripts). \r\n\r\nUse `String.compareTo` or `String.compareToIgnoreCase`:\r\n\r\n      if (stateAndCapital[m][1].compareToIgnoreCase (stateAndCapital[n][1] &lt; 0) { \r\n          System.out.println (stateAndCapital[m][1] \r\n            + &quot; comes before &quot; + stateAndCapital[n][1]);\r\n\r\nWhen you need to swap, you need to swap both column 1 and column 0 for the indexed row. \r\n\r\nYou have only two columns to swap. There is a shortcut that becomes more useful the more columns there are: Swap the entire row the same way two Objects are swapped. One way to do that is to make `temp` a 1D array of `String`:\r\n\r\n       String[] temp;  \r\n       ... \r\n       temp = stateAndCapital[j];\r\n       stateAndCapital[j] = stateAndCapital[j - 1];\r\n       stateAndCapital[j - 1] = temp;\r\n\r\nWhy does that work? Remember (2a): Arrays are reference types. And a 2D array is really an array of array of the base type. \r\n\r\nAt least for testing purposes do these: \r\n - Fix the bubble sort using the 3 issues above.\r\n - Print the the state names and capitals from the original array.\r\n - Do the bubble sort. \r\n - Print the state names and capitals again.\r\n\r\nNote: I used `stateAndCapital` instead of `StateAndCapital` to conform to Java naming convention.      ","title":"2D array for state and capitols, with system asking user input, and then validating answer","body":"<p>(1) Java has primitives and reference types. The relational operators <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code> are for primitives. The relational operators <code>==</code> and <code>!=</code> can be used for either primitives or reference types. For primitives, they compare the values, as expected. For reference types, they don't compare values. They answer the question &quot;Are the operands the <em>same</em> reference, that is, the same <code>Object</code>?&quot;</p>\n<p>To compare values of reference types, methods such as <code>.equals</code> or <code>.compareTo</code> are used. <code>String</code> is a reference type. Comparison of two <code>Object</code>s values (not references) typically looks like this:</p>\n<pre><code>  Foo foo1, foo2;\n  ...\n  if (foo1.equals (foo2)) ... \n</code></pre>\n<p>Sometimes, greater-than or less-than comparisons of values are needed. If a class <code>implements</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a>, objects have a <code>compareTo</code> method. The <code>compareTo</code> method returns a <code>int</code>, which will be a negative number, zero, or a positive to indicate which has the higher value, or that they are equal.</p>\n<pre><code>  if (foo1.compareTo(foo2) &lt; 0) { \n      System.out.println (&quot;Foo1 is less than Foo2&quot;);\n   ...\n</code></pre>\n<p><code>String</code> does implement <code>Comparable</code>.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code> API</a> offers some methods for comparison:</p>\n<ul>\n<li><code>.equals (String  other)</code></li>\n<li><code>.equalsIgnoreCase (String other)</code></li>\n<li><code>.compareTo (String other)</code></li>\n<li><code>.compareToIgnoreCase (String other)</code></li>\n</ul>\n<p>(2a) For a 2D array, an expression such as <code>array[j]</code> references an entire row of <code>array</code>, i.e. array[j][0], array[j][1], array[j][2], array[j][3], ...</p>\n<p>(2b) To access a single element, you need to specify each subscript.</p>\n<pre><code>  System.out.println (&quot;The capital of &quot; + stateAndCapital[i][0]\n      + &quot; is &quot; + stateAndCapital[i][1] + &quot;.&quot;);     \n</code></pre>\n<p>(3) You want to sort by column 1. So, compare one <code>stateAndCapital[x][1]</code> to another <code>stateAndCapital[y][1]</code>.</p>\n<p>(Remember (2b): Specify both subscripts).</p>\n<p>Use <code>String.compareTo</code> or <code>String.compareToIgnoreCase</code>:</p>\n<pre><code>  if (stateAndCapital[m][1].compareToIgnoreCase (stateAndCapital[n][1] &lt; 0) { \n      System.out.println (stateAndCapital[m][1] \n        + &quot; comes before &quot; + stateAndCapital[n][1]);\n</code></pre>\n<p>When you need to swap, you need to swap both column 1 and column 0 for the indexed row.</p>\n<p>You have only two columns to swap. There is a shortcut that becomes more useful the more columns there are: Swap the entire row the same way two Objects are swapped. One way to do that is to make <code>temp</code> a 1D array of <code>String</code>:</p>\n<pre><code>   String[] temp;  \n   ... \n   temp = stateAndCapital[j];\n   stateAndCapital[j] = stateAndCapital[j - 1];\n   stateAndCapital[j - 1] = temp;\n</code></pre>\n<p>Why does that work? Remember (2a): Arrays are reference types. And a 2D array is really an array of array of the base type.</p>\n<p>At least for testing purposes do these:</p>\n<ul>\n<li>Fix the bubble sort using the 3 issues above.</li>\n<li>Print the the state names and capitals from the original array.</li>\n<li>Do the bubble sort.</li>\n<li>Print the state names and capitals again.</li>\n</ul>\n<p>Note: I used <code>stateAndCapital</code> instead of <code>StateAndCapital</code> to conform to Java naming convention.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668016068,"creation_date":1667952267,"answer_id":74368543,"question_id":74355188,"body_markdown":"An alternative is to create a class, so each Object has a state name and the name of the capital city.\r\n\r\n     public class StateAndCapital implements Comparable {\r\n         private String stateName;\r\n         private String capitalName;\r\n \r\n         public StateAndCapital (String state, String capital) {\r\n             stateName = state;\r\n             capitalName = capital;\r\n         }\r\n         public String getStateName () { return stateName; }\r\n         public String getCapitalName () { return capitalName; }\r\n         public int compareTo (StateAndCapital other) { \r\n             int i = this.capital.compareTo (other.capital);\r\n             if (i == 0) { \r\n                  i = this.stateName.compareTo (other.stateName );\r\n             }\r\n             return i;\r\n         }\r\n     }\r\n\r\nThen, you would have a 1D array. \r\n    \r\n      public static void main (String[] args) {\r\n         StateAndCapital [] stateCapital = { \r\n                new StateAndCapital (&quot;Alabama&quot;, &quot;Montgomery&quot;),\r\n                new StateAndCapital (&quot;Alaska&quot;, &quot;Juneau&quot;),\r\n                new StateAndCapital (&quot;Arizona&quot;, &quot;Phoenix&quot;),\r\n                new StateAndCapital (&quot;Arkansas&quot;, &quot;Little Rock&quot;),\r\n                ...\r\n                };\r\n                ... \r\n      }\r\n\r\nThen, in your bubble sort code, use the actual name of your array, and do a comparison like this:\r\n\r\n          if (stateCapital[j].compareTo(stateCapital [j - 1])) ...\r\n\r\n\r\n\r\n ","title":"2D array for state and capitols, with system asking user input, and then validating answer","body":"<p>An alternative is to create a class, so each Object has a state name and the name of the capital city.</p>\n<pre><code> public class StateAndCapital implements Comparable {\n     private String stateName;\n     private String capitalName;\n\n     public StateAndCapital (String state, String capital) {\n         stateName = state;\n         capitalName = capital;\n     }\n     public String getStateName () { return stateName; }\n     public String getCapitalName () { return capitalName; }\n     public int compareTo (StateAndCapital other) { \n         int i = this.capital.compareTo (other.capital);\n         if (i == 0) { \n              i = this.stateName.compareTo (other.stateName );\n         }\n         return i;\n     }\n }\n</code></pre>\n<p>Then, you would have a 1D array.</p>\n<pre><code>  public static void main (String[] args) {\n     StateAndCapital [] stateCapital = { \n            new StateAndCapital (&quot;Alabama&quot;, &quot;Montgomery&quot;),\n            new StateAndCapital (&quot;Alaska&quot;, &quot;Juneau&quot;),\n            new StateAndCapital (&quot;Arizona&quot;, &quot;Phoenix&quot;),\n            new StateAndCapital (&quot;Arkansas&quot;, &quot;Little Rock&quot;),\n            ...\n            };\n            ... \n  }\n</code></pre>\n<p>Then, in your bubble sort code, use the actual name of your array, and do a comparison like this:</p>\n<pre><code>      if (stateCapital[j].compareTo(stateCapital [j - 1])) ...\n</code></pre>\n"}],"owner":{"account_id":26848083,"reputation":3,"user_id":20433523,"display_name":"SasuKev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668016068,"creation_date":1667875671,"question_id":74355188,"body_markdown":"I am in college and I have this assigment for data structures and algorithms, this is the project:\r\n&quot;Develop a program that asks the user to enter a capital for a U.S. state. Upon receiving the user input, the program reports whether the user input is correct. For this application, the 50 states and their capitals are stored in a two-dimensional array in order by state name. Display the current contents of the array then use a bubble sort to sort the content by capital. Next, prompt the user to enter answers for all the state capitals and then display the total correct count. The user&#39;s answer is not case-sensitive.&quot;\r\n\r\nThis is what I have done so far\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\nimport java.lang.String;\r\npublic class Assignment {\r\n// It begins with the creation of the two dimension array that includes state and capital.\r\n    public static void main (String[] args) {\r\n        String[][] StateAndCapital = {\r\n                {&quot;Alabama&quot;, &quot;Montgomery&quot;},\r\n                {&quot;Alaska&quot;, &quot;Juneau&quot;},\r\n                {&quot;Arizona&quot;, &quot;Phoenix&quot;},\r\n                {&quot;Arkansas&quot;, &quot;Little Rock&quot;},\r\n                {&quot;California&quot;, &quot;Sacramento&quot;},\r\n                {&quot;Colorado&quot;, &quot;Denver&quot;},\r\n                {&quot;Connecticut&quot;, &quot;Hartford&quot;},\r\n                {&quot;Delaware&quot;, &quot;Dover&quot;},\r\n                {&quot;Florida&quot;, &quot;Tallahassee&quot;},\r\n                {&quot;Georgia&quot;, &quot;Atlanta&quot;},\r\n                {&quot;Hawaii&quot;, &quot;Honolulu&quot;},\r\n                {&quot;Idaho&quot;, &quot;Boise&quot;},\r\n                {&quot;Illinois&quot;, &quot;Springfield&quot;},\r\n                {&quot;Indiana&quot;, &quot;Indianapolis&quot;},\r\n                {&quot;Iowa&quot;, &quot;Des Moines&quot;},\r\n                {&quot;Kansas&quot;, &quot;Topeka&quot;},\r\n                {&quot;Kentucky&quot;, &quot;Frankfort&quot;},\r\n                {&quot;Louisiana&quot;, &quot;Baton Rouge&quot;},\r\n                {&quot;Maine&quot;, &quot;Augusta&quot;},\r\n                {&quot;Maryland&quot;, &quot;Annapolis&quot;},\r\n                {&quot;Massachusetts&quot;, &quot;Boston&quot;},\r\n                {&quot;Michigan&quot;, &quot;Lansing&quot;},\r\n                {&quot;Minnesota&quot;, &quot;Saint Paul&quot;},\r\n                {&quot;Mississippi&quot;, &quot;Jackson&quot;},\r\n                {&quot;Missouri&quot;, &quot;Jefferson City&quot;},\r\n                {&quot;Montana&quot;, &quot;Helena&quot;},\r\n                {&quot;Nebraska&quot;, &quot;Lincoln&quot;},\r\n                {&quot;Nevada&quot;, &quot;Carson City&quot;},\r\n                {&quot;New Hampshire&quot;, &quot;Concord&quot;},\r\n                {&quot;New Jersey&quot;, &quot;Trenton&quot;},\r\n                {&quot;New Mexico&quot;, &quot;Santa Fe&quot;},\r\n                {&quot;New York&quot;, &quot;Albany&quot;},\r\n                {&quot;North Carolina&quot;, &quot;Raleigh&quot;},\r\n                {&quot;North Dakota&quot;, &quot;Bismarck&quot;},\r\n                {&quot;Ohio&quot;, &quot;Columbus&quot;},\r\n                {&quot;Oklahoma&quot;, &quot;Oklahoma City&quot;},\r\n                {&quot;Oregon&quot;, &quot;Salem&quot;},\r\n                {&quot;Pennsylvania&quot;, &quot;Harrisburg&quot;},\r\n                {&quot;Rhode Island&quot;, &quot;Providence&quot;},\r\n                {&quot;South Carolina&quot;, &quot;Columbia&quot;},\r\n                {&quot;South Dakota&quot;, &quot;Pierre&quot;},\r\n                {&quot;Tennessee&quot;, &quot;Nashville&quot;},\r\n                {&quot;Texas&quot;, &quot;Austin&quot;},\r\n                {&quot;Utah&quot;, &quot;Salt Lake City&quot;},\r\n                {&quot;Vermont&quot;, &quot;Montpelier&quot;},\r\n                {&quot;Virginia&quot;, &quot;Richmond&quot;},\r\n                {&quot;Washington&quot;, &quot;Olympia&quot;},\r\n                {&quot;West Virginia&quot;, &quot;Charleston&quot;},\r\n                {&quot;Wisconsin&quot;, &quot;Madison&quot;},\r\n                {&quot;Wyoming&quot;, &quot;Cheyenne&quot;}\r\n        };\r\n```\r\nSo far I have created the 2d array, I need to have a for loop so the system goes through the array. But I am not sure on how to create a for loop for a two dimension array, I have watched videos for bubble sorting (required for the assignment) and what my lessons mention but they mainly show how to do it on a single dimension array. \r\n\r\n```\r\n  for (int i = 1; i &lt; array.length; i++) {\r\n    for (int j = i; j &gt; 0; j--) {\r\n     if (array[j] &lt; array [j - 1]) {\r\n      temp = array[j];\r\n      array[j] = array[j - 1];\r\n      array[j - 1] = temp;\r\n```\r\nThat is from a lesson, using a single array, but not sure how to do it with a two dimension array.\r\n\r\n I also looked into how to convert string to boolean so whenever the user answered, the system would say either &quot;correct answer&quot; or &quot;incorrect answer&quot;. If I could get some advice please, I am starting and this may be a dumb question. \r\n\r\nI tried changing string value to boolean values so whenever I replied to the system I would get a &quot;correct&quot; or &quot;wrong&quot; answer according to the true/false values assigned to an array of only states, but all answers seemed to say true regardless of my input, which is odd. I am still looking for a way to validate string values.\r\nI have used the scanner to scan the answer given by the user, looked at boolean programs to see if I can see something that I could use but try to make it string-based.","title":"2D array for state and capitols, with system asking user input, and then validating answer","body":"<p>I am in college and I have this assigment for data structures and algorithms, this is the project:\n&quot;Develop a program that asks the user to enter a capital for a U.S. state. Upon receiving the user input, the program reports whether the user input is correct. For this application, the 50 states and their capitals are stored in a two-dimensional array in order by state name. Display the current contents of the array then use a bubble sort to sort the content by capital. Next, prompt the user to enter answers for all the state capitals and then display the total correct count. The user's answer is not case-sensitive.&quot;</p>\n<p>This is what I have done so far</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\nimport java.lang.String;\npublic class Assignment {\n// It begins with the creation of the two dimension array that includes state and capital.\n    public static void main (String[] args) {\n        String[][] StateAndCapital = {\n                {&quot;Alabama&quot;, &quot;Montgomery&quot;},\n                {&quot;Alaska&quot;, &quot;Juneau&quot;},\n                {&quot;Arizona&quot;, &quot;Phoenix&quot;},\n                {&quot;Arkansas&quot;, &quot;Little Rock&quot;},\n                {&quot;California&quot;, &quot;Sacramento&quot;},\n                {&quot;Colorado&quot;, &quot;Denver&quot;},\n                {&quot;Connecticut&quot;, &quot;Hartford&quot;},\n                {&quot;Delaware&quot;, &quot;Dover&quot;},\n                {&quot;Florida&quot;, &quot;Tallahassee&quot;},\n                {&quot;Georgia&quot;, &quot;Atlanta&quot;},\n                {&quot;Hawaii&quot;, &quot;Honolulu&quot;},\n                {&quot;Idaho&quot;, &quot;Boise&quot;},\n                {&quot;Illinois&quot;, &quot;Springfield&quot;},\n                {&quot;Indiana&quot;, &quot;Indianapolis&quot;},\n                {&quot;Iowa&quot;, &quot;Des Moines&quot;},\n                {&quot;Kansas&quot;, &quot;Topeka&quot;},\n                {&quot;Kentucky&quot;, &quot;Frankfort&quot;},\n                {&quot;Louisiana&quot;, &quot;Baton Rouge&quot;},\n                {&quot;Maine&quot;, &quot;Augusta&quot;},\n                {&quot;Maryland&quot;, &quot;Annapolis&quot;},\n                {&quot;Massachusetts&quot;, &quot;Boston&quot;},\n                {&quot;Michigan&quot;, &quot;Lansing&quot;},\n                {&quot;Minnesota&quot;, &quot;Saint Paul&quot;},\n                {&quot;Mississippi&quot;, &quot;Jackson&quot;},\n                {&quot;Missouri&quot;, &quot;Jefferson City&quot;},\n                {&quot;Montana&quot;, &quot;Helena&quot;},\n                {&quot;Nebraska&quot;, &quot;Lincoln&quot;},\n                {&quot;Nevada&quot;, &quot;Carson City&quot;},\n                {&quot;New Hampshire&quot;, &quot;Concord&quot;},\n                {&quot;New Jersey&quot;, &quot;Trenton&quot;},\n                {&quot;New Mexico&quot;, &quot;Santa Fe&quot;},\n                {&quot;New York&quot;, &quot;Albany&quot;},\n                {&quot;North Carolina&quot;, &quot;Raleigh&quot;},\n                {&quot;North Dakota&quot;, &quot;Bismarck&quot;},\n                {&quot;Ohio&quot;, &quot;Columbus&quot;},\n                {&quot;Oklahoma&quot;, &quot;Oklahoma City&quot;},\n                {&quot;Oregon&quot;, &quot;Salem&quot;},\n                {&quot;Pennsylvania&quot;, &quot;Harrisburg&quot;},\n                {&quot;Rhode Island&quot;, &quot;Providence&quot;},\n                {&quot;South Carolina&quot;, &quot;Columbia&quot;},\n                {&quot;South Dakota&quot;, &quot;Pierre&quot;},\n                {&quot;Tennessee&quot;, &quot;Nashville&quot;},\n                {&quot;Texas&quot;, &quot;Austin&quot;},\n                {&quot;Utah&quot;, &quot;Salt Lake City&quot;},\n                {&quot;Vermont&quot;, &quot;Montpelier&quot;},\n                {&quot;Virginia&quot;, &quot;Richmond&quot;},\n                {&quot;Washington&quot;, &quot;Olympia&quot;},\n                {&quot;West Virginia&quot;, &quot;Charleston&quot;},\n                {&quot;Wisconsin&quot;, &quot;Madison&quot;},\n                {&quot;Wyoming&quot;, &quot;Cheyenne&quot;}\n        };\n</code></pre>\n<p>So far I have created the 2d array, I need to have a for loop so the system goes through the array. But I am not sure on how to create a for loop for a two dimension array, I have watched videos for bubble sorting (required for the assignment) and what my lessons mention but they mainly show how to do it on a single dimension array.</p>\n<pre><code>  for (int i = 1; i &lt; array.length; i++) {\n    for (int j = i; j &gt; 0; j--) {\n     if (array[j] &lt; array [j - 1]) {\n      temp = array[j];\n      array[j] = array[j - 1];\n      array[j - 1] = temp;\n</code></pre>\n<p>That is from a lesson, using a single array, but not sure how to do it with a two dimension array.</p>\n<p>I also looked into how to convert string to boolean so whenever the user answered, the system would say either &quot;correct answer&quot; or &quot;incorrect answer&quot;. If I could get some advice please, I am starting and this may be a dumb question.</p>\n<p>I tried changing string value to boolean values so whenever I replied to the system I would get a &quot;correct&quot; or &quot;wrong&quot; answer according to the true/false values assigned to an array of only states, but all answers seemed to say true regardless of my input, which is odd. I am still looking for a way to validate string values.\nI have used the scanner to scan the answer given by the user, looked at boolean programs to see if I can see something that I could use but try to make it string-based.</p>\n"},{"tags":["java","list","dictionary","hashmap"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1668012750,"post_id":74378463,"comment_id":131306240,"body_markdown":"Why don&#39;t you use [Map.get()](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#get-java.lang.Object-) instead of iteration?","body":"Why don&#39;t you use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#get-java.lang.Object-\" rel=\"nofollow noreferrer\">Map.get()</a> instead of iteration?"},{"owner":{"account_id":10043421,"reputation":51,"user_id":8815285,"display_name":"john"},"score":0,"creation_date":1668012928,"post_id":74378463,"comment_id":131306305,"body_markdown":"@Chaosfire Sorry, how would I use that in this scenario. Are you saying, inside the first for loop, I would do:  entry.get(&quot;age&quot;) ?","body":"@Chaosfire Sorry, how would I use that in this scenario. Are you saying, inside the first for loop, I would do:  entry.get(&quot;age&quot;) ?"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668014015,"creation_date":1668014015,"answer_id":74378808,"question_id":74378463,"body_markdown":"You should use [Map.get()][1], instead of iteration to find the value of a key.\r\n```\r\nfor(var entry : data.entrySet()) {\r\n  var ages = entry.getValue().get(&quot;age&quot;);\r\n  if (ages == null) {\r\n    //key does not exist\r\n    //initialize or whatever you need\r\n  } else {\r\n    //key exists\r\n    //operate on list\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#get-java.lang.Object-","title":"Java removing subset of a nested map containing list, then reversing map","body":"<p>You should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#get-java.lang.Object-\" rel=\"nofollow noreferrer\">Map.get()</a>, instead of iteration to find the value of a key.</p>\n<pre><code>for(var entry : data.entrySet()) {\n  var ages = entry.getValue().get(&quot;age&quot;);\n  if (ages == null) {\n    //key does not exist\n    //initialize or whatever you need\n  } else {\n    //key exists\n    //operate on list\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668015688,"creation_date":1668014028,"answer_id":74378815,"question_id":74378463,"body_markdown":"You don&#39;t need the second nested `for`-loop where you&#39;re iterating over the entry sets of the *inner Map* searching for the *key* `&quot;age&quot;`. Instead, you can retrieve a value that corresponds to this *key* from each *inner Map*.\r\n\r\nThat&#39;s how your logic can be implemented using Java 8 methods [`Map.computeIfAbsent()`][1] and [`Map.forEach()`][2].\r\n\r\nAs a precaution against the case when the *key* `&quot;age&quot;` is not present in the inner Map you can use [`Map.getOrDefault()`][3]\r\n\r\n```\r\nMap&lt;String, Map&lt;String, List&lt;Integer&gt;&gt;&gt; data = // {group1={grades=[a,b,c], age=[x,y,z]}, group={....}} and so on\r\n        \r\nMap&lt;Integer, List&lt;String&gt;&gt; groupsByAge = new HashMap&lt;&gt;();\r\n\r\n\r\ndata.forEach((group, nestedMap) -&gt; {\r\n    nestedMap.getOrDefault(&quot;age&quot;, List.of()).forEach(age -&gt; \r\n        groupsByAge.computeIfAbsent(age, k -&gt; new ArrayList&lt;&gt;()).add(group)\r\n    );\r\n});\r\n```\r\n\r\n&lt;h3&gt;Note&lt;/h3&gt;\r\n\r\nIt&#39;s also worth to note that your data is **not dynamic**, i.e. **every** nested Map is expected to have Keys: `&quot;grades&quot;`, `&quot;age&quot;`, etc. Then it should be an object having properties `grades` and `age`. Because custom domain object allows to structure the data, utilize appropriate data types and manipulate with data using custom behavior. As an example, simple getters `getAge()` / `getGrades()` would be less error-prone and more readable than calls `get(&quot;age&quot;)` / `get(&quot;grades&quot;)`.\r\n\r\n   [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\r\n\r\n   [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#forEach(java.util.function.BiConsumer)\r\n\r\n   [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)","title":"Java removing subset of a nested map containing list, then reversing map","body":"<p>You don't need the second nested <code>for</code>-loop where you're iterating over the entry sets of the <em>inner Map</em> searching for the <em>key</em> <code>&quot;age&quot;</code>. Instead, you can retrieve a value that corresponds to this <em>key</em> from each <em>inner Map</em>.</p>\n<p>That's how your logic can be implemented using Java 8 methods <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Map.computeIfAbsent()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#forEach(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>Map.forEach()</code></a>.</p>\n<p>As a precaution against the case when the <em>key</em> <code>&quot;age&quot;</code> is not present in the inner Map you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)\" rel=\"nofollow noreferrer\"><code>Map.getOrDefault()</code></a></p>\n<pre><code>Map&lt;String, Map&lt;String, List&lt;Integer&gt;&gt;&gt; data = // {group1={grades=[a,b,c], age=[x,y,z]}, group={....}} and so on\n        \nMap&lt;Integer, List&lt;String&gt;&gt; groupsByAge = new HashMap&lt;&gt;();\n\n\ndata.forEach((group, nestedMap) -&gt; {\n    nestedMap.getOrDefault(&quot;age&quot;, List.of()).forEach(age -&gt; \n        groupsByAge.computeIfAbsent(age, k -&gt; new ArrayList&lt;&gt;()).add(group)\n    );\n});\n</code></pre>\n<h3>Note</h3>\n<p>It's also worth to note that your data is <strong>not dynamic</strong>, i.e. <strong>every</strong> nested Map is expected to have Keys: <code>&quot;grades&quot;</code>, <code>&quot;age&quot;</code>, etc. Then it should be an object having properties <code>grades</code> and <code>age</code>. Because custom domain object allows to structure the data, utilize appropriate data types and manipulate with data using custom behavior. As an example, simple getters <code>getAge()</code> / <code>getGrades()</code> would be less error-prone and more readable than calls <code>get(&quot;age&quot;)</code> / <code>get(&quot;grades&quot;)</code>.</p>\n"}],"owner":{"account_id":10043421,"reputation":51,"user_id":8815285,"display_name":"john"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74378815,"answer_count":2,"score":0,"last_activity_date":1668015688,"creation_date":1668012303,"question_id":74378463,"body_markdown":"I currently have some data in the form of a nested map like the following:\r\n\r\n```\r\nMap&lt;String, Map&lt;String, List&lt;Integer&gt;&gt;&gt; data = // intializing the Map\r\n    \r\n// data = {group1={grades=[a,b,c], age=[x,y,z]}, group={....}} and so on\r\n```\r\n\r\nWhat I want to do is essentially remove grades and then reverse the map, so it would look something like:\r\n\r\n    {x={group1}, y={group1, group3}, z={group2}, someAge={some list of groupN}}\r\n\r\nI appreciate that the data may not make sense without context, but the problem remains the same. As it stands, I have a 3-nested for loops, but there must be a better way, since that would be very inefficient with a large dataset:\r\n\r\n```\r\nMap &lt;Integer, List&lt;String&gt;&gt; someMap = new HashMap&lt;&gt;();\r\n\r\nfor (var entry : data.entrySet()) {\r\n    for (var info : entry.getValue().entrySet()) {\r\n        if (info.getKey().equals(&quot;age&quot;)) {\r\n            List ages = info.getValue();\r\n            for (var age : ages) {\r\n                // if age not in someMap, add age as key // e.g add x so someMap={x={},y={}}\r\n                someMap.get(age).add(entry.getKey()) //e.g {x={entry key},y={}}\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIs there some kind of pre-processing I can do to remove grades which would cut the 2nd for loop in half at least, and remove the need to check if the key is &#39;age&#39; each iteration.","title":"Java removing subset of a nested map containing list, then reversing map","body":"<p>I currently have some data in the form of a nested map like the following:</p>\n<pre><code>Map&lt;String, Map&lt;String, List&lt;Integer&gt;&gt;&gt; data = // intializing the Map\n    \n// data = {group1={grades=[a,b,c], age=[x,y,z]}, group={....}} and so on\n</code></pre>\n<p>What I want to do is essentially remove grades and then reverse the map, so it would look something like:</p>\n<pre><code>{x={group1}, y={group1, group3}, z={group2}, someAge={some list of groupN}}\n</code></pre>\n<p>I appreciate that the data may not make sense without context, but the problem remains the same. As it stands, I have a 3-nested for loops, but there must be a better way, since that would be very inefficient with a large dataset:</p>\n<pre><code>Map &lt;Integer, List&lt;String&gt;&gt; someMap = new HashMap&lt;&gt;();\n\nfor (var entry : data.entrySet()) {\n    for (var info : entry.getValue().entrySet()) {\n        if (info.getKey().equals(&quot;age&quot;)) {\n            List ages = info.getValue();\n            for (var age : ages) {\n                // if age not in someMap, add age as key // e.g add x so someMap={x={},y={}}\n                someMap.get(age).add(entry.getKey()) //e.g {x={entry key},y={}}\n            }\n        }\n    }\n}\n</code></pre>\n<p>Is there some kind of pre-processing I can do to remove grades which would cut the 2nd for loop in half at least, and remove the need to check if the key is 'age' each iteration.</p>\n"},{"tags":["java","project-reactor","socket-timeout-exception"],"owner":{"account_id":9705583,"reputation":765,"user_id":7199110,"accept_rate":42,"display_name":"tyro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668015642,"creation_date":1667958863,"question_id":74369108,"body_markdown":"I get lots of events to process in RabbitMq and then those get forward to service 1 to process and after some processing the data, there is an internal call to a micro service2. However, I do get java.net.SocketTimeoutException: timeout frequently when I call service2, so I tried to increase timeout limit from 2s to 10 sec as a first trial and it did minimise the timeout exceptions but still lot of them are still there, \r\nsecond change I made is removal of deprecated retry method of spring and replace the same with retryWhen method with back off and jitter factor introduced as shown below \r\n\r\n    .retryWhen(Retry.backoff(ServiceUtils.NUM_RETRIES, Duration.ofSeconds(2)).jitter(0.50)\r\n                            .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\r\n                                throw new ServiceException(\r\n                                        ErrorBo.builder()\r\n                                                .message(&quot;Service failed to process after max retries&quot;)\r\n                                                .build());\r\n                            }))\r\n                    .onErrorResume(error -&gt; {\r\n                        // return and print the error only if all the retries have been exhausted\r\n                        log.error(error.getMessage() + &quot;. Error occurred while generating pdf&quot;);\r\n                        return Mono.error(ServiceUtils\r\n                                .returnServiceException(ServiceErrorCodes.SERVICE_FAILURE,\r\n                                        String.format(&quot;Service failed to process after max retries, failed to generate PDF)));\r\n                    })\r\n            );\r\n\r\nSo my questions are,\r\n1. I do get success for few service call and for some failure, does it mean some where there is still bottle neck for processing the request may be at server side that is does not process all the request.\r\n2. Do I need to still increase timeout limit if possible \r\n3. How do I make sure that there is no java.net.SocketTimeoutException: timeout\r\n\r\nThis issue has started coming recently. and it seems there is no change in ports or any connection level changes.\r\nBut still what all things I should check in order to make sure the connection level setting are correct. Could someone please guide on this.\r\n\r\n\r\n\r\nThanks in advance.\r\n","title":"What should I try next in order to minimise/eliminate java.net.SocketTimeoutException: timeout spring retry","body":"<p>I get lots of events to process in RabbitMq and then those get forward to service 1 to process and after some processing the data, there is an internal call to a micro service2. However, I do get java.net.SocketTimeoutException: timeout frequently when I call service2, so I tried to increase timeout limit from 2s to 10 sec as a first trial and it did minimise the timeout exceptions but still lot of them are still there,\nsecond change I made is removal of deprecated retry method of spring and replace the same with retryWhen method with back off and jitter factor introduced as shown below</p>\n<pre><code>.retryWhen(Retry.backoff(ServiceUtils.NUM_RETRIES, Duration.ofSeconds(2)).jitter(0.50)\n                        .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\n                            throw new ServiceException(\n                                    ErrorBo.builder()\n                                            .message(&quot;Service failed to process after max retries&quot;)\n                                            .build());\n                        }))\n                .onErrorResume(error -&gt; {\n                    // return and print the error only if all the retries have been exhausted\n                    log.error(error.getMessage() + &quot;. Error occurred while generating pdf&quot;);\n                    return Mono.error(ServiceUtils\n                            .returnServiceException(ServiceErrorCodes.SERVICE_FAILURE,\n                                    String.format(&quot;Service failed to process after max retries, failed to generate PDF)));\n                })\n        );\n</code></pre>\n<p>So my questions are,</p>\n<ol>\n<li>I do get success for few service call and for some failure, does it mean some where there is still bottle neck for processing the request may be at server side that is does not process all the request.</li>\n<li>Do I need to still increase timeout limit if possible</li>\n<li>How do I make sure that there is no java.net.SocketTimeoutException: timeout</li>\n</ol>\n<p>This issue has started coming recently. and it seems there is no change in ports or any connection level changes.\nBut still what all things I should check in order to make sure the connection level setting are correct. Could someone please guide on this.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","date","datetime","compare"],"comments":[{"owner":{"account_id":4618313,"reputation":2530,"user_id":3744059,"accept_rate":35,"display_name":"bumbumpaw"},"score":1,"creation_date":1405654944,"post_id":24816853,"comment_id":38524742,"body_markdown":"work around with this format http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","body":"work around with this format <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/text/&hellip;</a>"},{"owner":{"account_id":3765055,"reputation":4487,"user_id":3128784,"accept_rate":42,"display_name":"Aniruddha"},"score":1,"creation_date":1405655001,"post_id":24816853,"comment_id":38524755,"body_markdown":"Check out this one http://www.mkyong.com/java/how-to-compare-dates-in-java/","body":"Check out this one <a href=\"http://www.mkyong.com/java/how-to-compare-dates-in-java/\" rel=\"nofollow noreferrer\">mkyong.com/java/how-to-compare-dates-in-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":160502,"reputation":360,"user_id":380611,"display_name":"fipple"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1405658826,"creation_date":1405656884,"answer_id":24817132,"question_id":24816853,"body_markdown":"        final String stringDate = &quot;2014-07-17 23:59&quot;;\r\n\r\n        SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\r\n        Date date = inputFormat.parse(stringDate);\r\n\r\n        Calendar calendarDate = Calendar.getInstance();\r\n        calendarDate.setTime(date);\r\n\r\n        Calendar midnight = Calendar.getInstance();\r\n        midnight.set(Calendar.HOUR_OF_DAY, 0);\r\n        midnight.set(Calendar.MINUTE, 0);\r\n        midnight.set(Calendar.SECOND, 0);\r\n        midnight.set(Calendar.MILLISECOND, 0);\r\n\r\n        if (calendarDate.compareTo(midnight) &gt;= 0)\r\n        {\r\n            SimpleDateFormat timeFormat = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n            System.out.println(timeFormat.format(date));\r\n        }\r\n        else\r\n        {\r\n            SimpleDateFormat dateTimeForm = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm&quot;);\r\n            System.out.println(dateTimeForm.format(date));\r\n        }","title":"Comparing string date with today&#39;s date","body":"<pre><code>    final String stringDate = \"2014-07-17 23:59\";\n\n    SimpleDateFormat inputFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm\");\n    Date date = inputFormat.parse(stringDate);\n\n    Calendar calendarDate = Calendar.getInstance();\n    calendarDate.setTime(date);\n\n    Calendar midnight = Calendar.getInstance();\n    midnight.set(Calendar.HOUR_OF_DAY, 0);\n    midnight.set(Calendar.MINUTE, 0);\n    midnight.set(Calendar.SECOND, 0);\n    midnight.set(Calendar.MILLISECOND, 0);\n\n    if (calendarDate.compareTo(midnight) &gt;= 0)\n    {\n        SimpleDateFormat timeFormat = new SimpleDateFormat(\"HH:mm\");\n        System.out.println(timeFormat.format(date));\n    }\n    else\n    {\n        SimpleDateFormat dateTimeForm = new SimpleDateFormat(\"dd/MM/yyyy HH:mm\");\n        System.out.println(dateTimeForm.format(date));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546032452,"creation_date":1476236225,"answer_id":39989220,"question_id":24816853,"body_markdown":"# `LocalDateTime`\r\n\r\nFirst parse the string as a [`LocalDateTime`][1]. Replace the SPACE in the middle with `T` to comply with standard ISO 8601 format. The java.time classes support ISO 8601 formats by default.\r\n\r\n    LocalDateTime ldt = LocalDateTime.parse ( &quot;2014-06-30 15:27&quot;.replace ( &quot; &quot; , &quot;T&quot; ) );\r\n\r\n&gt;ldt.toString(): 2014-06-30T15:27\r\n\r\nSuch a value has no real meaning. The input string lacked any clue about offset-from-UTC or time zone. So we do not know if this is 3 PM in Auckland NZ or 3 PM in Qu&#233;bec Canada, two very different moments. You should to assign the offset or time zone indicated by your business situation. Search Stack Overflow for how to do this, focussing on classes `OffsetDateTime` and `ZonedDateTime`. I&#39;ll skip over this crucial issue for now.\r\n\r\n# `LocalDate`\r\n\r\nExtract a date-only value. The [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\n    LocalDate ld = ldt.toLocalDate();\r\n\r\n# Today\r\n\r\nA time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still “yesterday” in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n    LocalDate today = LocalDate.now( z );\r\n\r\n# Comparison\r\n\r\nYou can compare [`LocalDate`][2] objects by calling methods such as `compareTo`, `equals`, `isEqual`, `isBefore`, `isAfter`.\r\n\r\n    if( today.isEqual( ld ) ) {\r\n        return ldt.toLocalTime();\r\n    } else {\r\n        return ld;\r\n    }\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDateTime.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html","title":"Comparing string date with today&#39;s date","body":"<h1><code>LocalDateTime</code></h1>\n\n<p>First parse the string as a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a>. Replace the SPACE in the middle with <code>T</code> to comply with standard ISO 8601 format. The java.time classes support ISO 8601 formats by default.</p>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.parse ( \"2014-06-30 15:27\".replace ( \" \" , \"T\" ) );\n</code></pre>\n\n<blockquote>\n  <p>ldt.toString(): 2014-06-30T15:27</p>\n</blockquote>\n\n<p>Such a value has no real meaning. The input string lacked any clue about offset-from-UTC or time zone. So we do not know if this is 3 PM in Auckland NZ or 3 PM in Québec Canada, two very different moments. You should to assign the offset or time zone indicated by your business situation. Search Stack Overflow for how to do this, focussing on classes <code>OffsetDateTime</code> and <code>ZonedDateTime</code>. I'll skip over this crucial issue for now.</p>\n\n<h1><code>LocalDate</code></h1>\n\n<p>Extract a date-only value. The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n\n<pre><code>LocalDate ld = ldt.toLocalDate();\n</code></pre>\n\n<h1>Today</h1>\n\n<p>A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"nofollow noreferrer\">Paris France</a> is a new day while still “yesterday” in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\">Montréal Québec</a>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\nLocalDate today = LocalDate.now( z );\n</code></pre>\n\n<h1>Comparison</h1>\n\n<p>You can compare <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> objects by calling methods such as <code>compareTo</code>, <code>equals</code>, <code>isEqual</code>, <code>isBefore</code>, <code>isAfter</code>.</p>\n\n<pre><code>if( today.isEqual( ld ) ) {\n    return ldt.toLocalTime();\n} else {\n    return ld;\n}\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":3669306,"reputation":421,"user_id":3056868,"display_name":"Howard J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547745339,"creation_date":1546024711,"answer_id":53963322,"question_id":24816853,"body_markdown":"Simply use the Date class...\r\n\r\n    SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    Date exitdate = df.parse(&quot;2019-01-17&quot;);\r\n    Date currdate = new Date();\r\n    long diff = currdate.getTime() - exitdate.getTime();\r\n    long days = TimeUnit.DAYS.convert(diff, TimeUnit.MILLISECONDS);\r\n    \r\n    if(days==0)\r\n    {\r\n    \tSystem.out.println(&quot;IS TRUE&quot;+currdate.toString());\r\n    \treturn true;\r\n    }","title":"Comparing string date with today&#39;s date","body":"<p>Simply use the Date class...</p>\n\n<pre><code>SimpleDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd\");\nDate exitdate = df.parse(\"2019-01-17\");\nDate currdate = new Date();\nlong diff = currdate.getTime() - exitdate.getTime();\nlong days = TimeUnit.DAYS.convert(diff, TimeUnit.MILLISECONDS);\n\nif(days==0)\n{\n    System.out.println(\"IS TRUE\"+currdate.toString());\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16648394,"reputation":41,"user_id":12032079,"display_name":"Waqas Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668015236,"creation_date":1668015236,"answer_id":74379092,"question_id":24816853,"body_markdown":"As the `java.time` library is the recommended way to use date and time. So, to compare current date with a string date you need to first convert date in string format to `java.time.LocalDate` :\r\n\r\n    LocalDate paresedStringDate = LocalDate.parse(&quot;2022-11-10&quot;);\r\n\r\nAfter that you can get the current date using below code:\r\n\r\n    LocalDate currentDate = LocalDate.now();\r\n\r\nAnd then you can compare both the current date and parsed string date to check if both are same using below code:\r\n\r\n    if (paresedStringDate.compareTo(currentDate) == 0) {\r\n       //do what you want to do here\r\n    }","title":"Comparing string date with today&#39;s date","body":"<p>As the <code>java.time</code> library is the recommended way to use date and time. So, to compare current date with a string date you need to first convert date in string format to <code>java.time.LocalDate</code> :</p>\n<pre><code>LocalDate paresedStringDate = LocalDate.parse(&quot;2022-11-10&quot;);\n</code></pre>\n<p>After that you can get the current date using below code:</p>\n<pre><code>LocalDate currentDate = LocalDate.now();\n</code></pre>\n<p>And then you can compare both the current date and parsed string date to check if both are same using below code:</p>\n<pre><code>if (paresedStringDate.compareTo(currentDate) == 0) {\n   //do what you want to do here\n}\n</code></pre>\n"}],"owner":{"account_id":1555074,"reputation":622,"user_id":1446458,"accept_rate":87,"display_name":"sok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16596,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24817132,"answer_count":4,"score":3,"last_activity_date":1668015236,"creation_date":1405654762,"question_id":24816853,"body_markdown":"So I have a string which is &quot;2014-06-30 15:27&quot; and if it is today&#39;s date it should only return &quot;15:27&quot; else &quot;30/06/2014&quot;. I&#39;ve already tried simpleDateFormat.parse but it didn&#39;t work very well. \r\n\r\n    holder.data.setText(mensagem.getDate());","title":"Comparing string date with today&#39;s date","body":"<p>So I have a string which is \"2014-06-30 15:27\" and if it is today's date it should only return \"15:27\" else \"30/06/2014\". I've already tried simpleDateFormat.parse but it didn't work very well. </p>\n\n<pre><code>holder.data.setText(mensagem.getDate());\n</code></pre>\n"},{"tags":["java","postgresql","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657201039,"creation_date":1657201039,"answer_id":72898834,"question_id":72898457,"body_markdown":"Are you sure you don&#39;t have configuration properties coming from another source such as environment variables, an application.properties or a `.env` file?\r\n\r\nBecause Quarkus is complaining about `quarkus.datasource.url` being present and you don&#39;t have it in your YAML file. So it must come from somewhere else.\r\n\r\nSomething like that should be enough if you have the `quarkus-jdbc-postgresql` extension around:\r\n\r\n```yaml\r\nquarkus:\r\n  datasource:\r\n    db-kind: postgresql\r\n    username: username\r\n    password: password\r\n    jdbc:\r\n      url: jdbc:postgresql://postgres_host_name:port/data_basename\r\n      max-size: 10\r\n```","title":"io.quarkus.builder.BuildException: Build failure: Build failed due to errors","body":"<p>Are you sure you don't have configuration properties coming from another source such as environment variables, an application.properties or a <code>.env</code> file?</p>\n<p>Because Quarkus is complaining about <code>quarkus.datasource.url</code> being present and you don't have it in your YAML file. So it must come from somewhere else.</p>\n<p>Something like that should be enough if you have the <code>quarkus-jdbc-postgresql</code> extension around:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>quarkus:\n  datasource:\n    db-kind: postgresql\n    username: username\n    password: password\n    jdbc:\n      url: jdbc:postgresql://postgres_host_name:port/data_basename\n      max-size: 10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16887399,"reputation":624,"user_id":12211826,"display_name":"bigLucas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668015162,"creation_date":1668015162,"answer_id":74379078,"question_id":72898457,"body_markdown":"I was facing the same error during a Quarkus course and I fixed it by adding some configs... \r\n\r\n**So the error message is giving us 3 options**:\r\n\r\n&gt; Build step io.quarkus.agroal.deployment.AgroalProcessor#build threw an exception: io.quarkus.runtime.configuration.ConfigurationException: Unable to find a JDBC driver corresponding to the database kind &#39;postgresql&#39; for the default datasource. **Either provide a suitable JDBC driver extension, define the driver manually, or disable the JDBC datasource** by adding &#39;quarkus.datasource.jdbc=false&#39; to your configuration if you don&#39;t need it.\r\n\r\nSo I manually added this `quarkus.datasource.jdbc.driver=org.postgresql.Driver` to my `application.properties`. \r\n\r\n**In your case I believe you have to update your file to this:**\r\n\r\n```yml\r\ndatasource:\r\n db-kind: postgresql\r\n # driver: org.postgresql.Driver\r\n username: username\r\n password: password\r\n\r\n jdbc:\r\n      url: jdbc:postgresql://postgres_host_name:port/data_basename\r\n      driver: org.postgresql.Driver\r\n      max-size: 10\r\n```\r\n\r\n*Note:* In addition to that I also added the `quarkus-agroal` dependency to my `pom.xml` file and set the hibernate dialect, with this: `quarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQL95Dialect`.","title":"io.quarkus.builder.BuildException: Build failure: Build failed due to errors","body":"<p>I was facing the same error during a Quarkus course and I fixed it by adding some configs...</p>\n<p><strong>So the error message is giving us 3 options</strong>:</p>\n<blockquote>\n<p>Build step io.quarkus.agroal.deployment.AgroalProcessor#build threw an exception: io.quarkus.runtime.configuration.ConfigurationException: Unable to find a JDBC driver corresponding to the database kind 'postgresql' for the default datasource. <strong>Either provide a suitable JDBC driver extension, define the driver manually, or disable the JDBC datasource</strong> by adding 'quarkus.datasource.jdbc=false' to your configuration if you don't need it.</p>\n</blockquote>\n<p>So I manually added this <code>quarkus.datasource.jdbc.driver=org.postgresql.Driver</code> to my <code>application.properties</code>.</p>\n<p><strong>In your case I believe you have to update your file to this:</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>datasource:\n db-kind: postgresql\n # driver: org.postgresql.Driver\n username: username\n password: password\n\n jdbc:\n      url: jdbc:postgresql://postgres_host_name:port/data_basename\n      driver: org.postgresql.Driver\n      max-size: 10\n</code></pre>\n<p><em>Note:</em> In addition to that I also added the <code>quarkus-agroal</code> dependency to my <code>pom.xml</code> file and set the hibernate dialect, with this: <code>quarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQL95Dialect</code>.</p>\n"}],"owner":{"account_id":22063378,"reputation":67,"user_id":16325639,"display_name":"Veera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8076,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1668015162,"creation_date":1657199532,"question_id":72898457,"body_markdown":"Getting this error when i run ./gradlew build -Dquarkus.package.type=native\r\n\r\nin application.yml file\r\nin \r\n```\r\ndatasource:\r\n db-kind: postgresql\r\n driver: org.postgresql.Driver\r\n username: username\r\n password: password\r\n\r\n jdbc:\r\n      url: jdbc:postgresql://postgres_host_name:port/data_basename\r\n      max-size: 10\r\n```\r\n\r\n```\r\n[error]: Build step io.quarkus.agroal.deployment.AgroalProcessor#build threw an exception: io.quarkus.runtime.configuration.ConfigurationException: Unable to find a JDBC driver corresponding to the database kind &#39;postgresql&#39; for the default datasource. Either provide a suitable JDBC driver extension, define the driver manually, or disable the JDBC datasource by adding &#39;quarkus.datasource.jdbc=false&#39; to your configuration if you don&#39;t need it.\r\n        at io.quarkus.agroal.deployment.AgroalProcessor.resolveDriver(AgroalProcessor.java:330)\r\n        at io.quarkus.agroal.deployment.AgroalProcessor.getAggregatedConfigBuildItems(AgroalProcessor.java:276)\r\n        at io.quarkus.agroal.deployment.AgroalProcessor.build(AgroalProcessor.java:82)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:944)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n```\r\n\r\nAfter getting this error i inserted `driver: org.postgresql.Driver`\r\n\r\n```\r\n&gt; io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n        [error]: Build step io.quarkus.agroal.deployment.AgroalProcessor#build threw an exception: io.quarkus.runtime.configuration.ConfigurationException: quarkus.datasource.url and quarkus.datasource.driver have been deprecated in Quarkus 1.3 and removed in 1.9. Please use the new datasource configuration as explained in https://quarkus.io/guides/datasource.\r\n        at io.quarkus.agroal.deployment.AgroalProcessor.build(AgroalProcessor.java:77)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:944)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n```\r\n\r\nAny suggestions for this\r\n","title":"io.quarkus.builder.BuildException: Build failure: Build failed due to errors","body":"<p>Getting this error when i run ./gradlew build -Dquarkus.package.type=native</p>\n<p>in application.yml file\nin</p>\n<pre><code>datasource:\n db-kind: postgresql\n driver: org.postgresql.Driver\n username: username\n password: password\n\n jdbc:\n      url: jdbc:postgresql://postgres_host_name:port/data_basename\n      max-size: 10\n</code></pre>\n<pre><code>[error]: Build step io.quarkus.agroal.deployment.AgroalProcessor#build threw an exception: io.quarkus.runtime.configuration.ConfigurationException: Unable to find a JDBC driver corresponding to the database kind 'postgresql' for the default datasource. Either provide a suitable JDBC driver extension, define the driver manually, or disable the JDBC datasource by adding 'quarkus.datasource.jdbc=false' to your configuration if you don't need it.\n        at io.quarkus.agroal.deployment.AgroalProcessor.resolveDriver(AgroalProcessor.java:330)\n        at io.quarkus.agroal.deployment.AgroalProcessor.getAggregatedConfigBuildItems(AgroalProcessor.java:276)\n        at io.quarkus.agroal.deployment.AgroalProcessor.build(AgroalProcessor.java:82)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:944)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n</code></pre>\n<p>After getting this error i inserted <code>driver: org.postgresql.Driver</code></p>\n<pre><code>&gt; io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n        [error]: Build step io.quarkus.agroal.deployment.AgroalProcessor#build threw an exception: io.quarkus.runtime.configuration.ConfigurationException: quarkus.datasource.url and quarkus.datasource.driver have been deprecated in Quarkus 1.3 and removed in 1.9. Please use the new datasource configuration as explained in https://quarkus.io/guides/datasource.\n        at io.quarkus.agroal.deployment.AgroalProcessor.build(AgroalProcessor.java:77)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:944)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n</code></pre>\n<p>Any suggestions for this</p>\n"},{"tags":["java","maven","azure-devops","azure-pipelines","azure-artifacts"],"comments":[{"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"score":0,"creation_date":1668012535,"post_id":74378239,"comment_id":131306140,"body_markdown":"Can you share your pom?","body":"Can you share your pom?"},{"owner":{"account_id":221199,"reputation":5819,"user_id":479045,"accept_rate":62,"display_name":"Viktor Eriksson"},"score":0,"creation_date":1668013055,"post_id":74378239,"comment_id":131306351,"body_markdown":"Added the poms. I noticed that the username doesnt seem to be taken into consideration. I can change the username in settings.xml to whatever I want and it still works when build locally. I can even change it to AzureDevOps and it still works. I guess the password/token is what really matters.","body":"Added the poms. I noticed that the username doesnt seem to be taken into consideration. I can change the username in settings.xml to whatever I want and it still works when build locally. I can even change it to AzureDevOps and it still works. I guess the password/token is what really matters."}],"owner":{"account_id":221199,"reputation":5819,"user_id":479045,"accept_rate":62,"display_name":"Viktor Eriksson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668014106,"creation_date":1668011139,"question_id":74378239,"body_markdown":"I have this project (A) in devops that builds and publishes a library(.jar) to the projects artifacts feed. Then I have this other project(B) where I have a Java application which references this library. \r\n\r\nWhen running locally it works, it can connect to the repository and download the library, I have set up settings.xml so the authentication works to the feed.\r\n\r\nBut when running the build inside the pipeline which builds the java-application it is unable to find the artifact. First I got a 401 before realizing the maven-authenticate-task. After adding maven authenticate the 401 is gone but it keeps saying it cant find the artifact.\r\n\r\nThis is part of the log:\r\n\r\n    [DEBUG] Resolving artifact com.company.maximo-requests:maximo-requests:pom:0.0.81 from [ProjectCommon (https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1, default, releases+snapshots), central (https://repo.maven.apache.org/maven2, default, releases)]\r\n    [DEBUG] Using transporter WagonTransporter with priority -1.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1\r\n    [DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1 with username=AzureDevOps, password=***\r\n    Downloading from ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom\r\n    [DEBUG] Writing tracking file /home/vsts/.m2/repository/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom.lastUpdated\r\n    [DEBUG] Using transporter WagonTransporter with priority -1.0 for https://repo.maven.apache.org/maven2\r\n    [DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://repo.maven.apache.org/maven2\r\n    Downloading from central: https://repo.maven.apache.org/maven2/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom\r\n    [DEBUG] Writing tracking file /home/vsts/.m2/repository/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom.lastUpdated\r\n    [WARNING] The POM for com.company.maximo-requests:maximo-requests:jar:0.0.81 is missing, no dependency information available\r\n\r\n\r\nIf I click the link to the pom in the log: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom it is downloaded in the browser, so the file exists.\r\n\r\nAnd when running locally this is the log:\r\n\r\n    Resolving artifact com.company.maximo-requests:maximo-requests:pom:0.0.81 from [ProjectCommon (https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1, default, releases+snapshots), central (https://repo.maven.apache.org/maven2, default, releases)]\r\n    [DEBUG] Using transporter WagonTransporter with priority -1.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1\r\n    [DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1 with username=CompanyDevOps, password=***\r\n    Downloading from ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom\r\n    Downloaded from ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom (3.6 kB at 1.8 kB/s)\r\n    [DEBUG] Writing tracking file C:\\Users\\veriksso\\.m2\\repository\\com\\company\\maximo-requests\\maximo-requests\\0.0.81\\_remote.repositories\r\n    [DEBUG] Writing tracking file C:\\Users\\veriksso\\.m2\\repository\\com\\company\\maximo-requests\\maximo-requests\\0.0.81\\maximo-requests-0.0.81.pom.lastUpdated\r\n\r\n\r\nThe only difference I see is that username is AzureDevOps in the pipeline, probably generated by the maven authenticate task while the other one is a personal access token generated from within azure devops.\r\n\r\n\r\nI have also added permissions to the feed in project A to the build service of project B according to this page: https://learn.microsoft.com/en-us/azure/devops/artifacts/feeds/feed-permissions?view=azure-devops#pipelines-permissions.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mQAgz.png\r\n\r\nBut despite all this maven still outputs this at the end:\r\n \r\n\r\n    Failed to execute goal on project elinstallation: Could not resolve dependencies for project com.company.elinstallation:elinstallation:war:2.0.8-4-g0f575ca: Could not find artifact com.company.maximo-requests:maximo-requests:jar:0.0.81 in CompanyCommon (https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/BolidenCommon/maven/v1) -&gt; [Help 1]\r\n\r\nWhat am I doing wrong? :&#39;(\r\n\r\n\r\nUpdate.\r\nHere is Application B&#39;s Pom or at least the interesting parts I guess:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t....\r\n    \t&lt;dependencies&gt;\r\n    \t\t......\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.company.maximo-requests&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maximo-requests&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.81&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;CompanyCommon&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;\r\n    \t\t\t\thttps://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/CompanyCommon/maven/v1\r\n    \t\t\t&lt;/url&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n\r\n\r\nAnd here is library A&#39;s pom (interesting parts):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.company.maximo-requests&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maximo-requests&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.81&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n           ...\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;CompanyCommon&lt;/id&gt;\r\n                &lt;url&gt;\r\n                    https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/CompanyCommon/maven/v1\r\n                &lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/distributionManagement&gt;\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;CompanyCommon&lt;/id&gt;\r\n                &lt;url&gt;\r\n                    https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/CompanyCommon/maven/v1\r\n                &lt;/url&gt;\r\n                &lt;releases&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/releases&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nMore Updates! pju this is a long post.\r\n\r\nHere is the last output when building the library A:\r\n\r\n    Uploaded to ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.jar (122 kB at 97 kB/s)           \r\n    Uploaded to ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom (3.6 kB at 3.5 kB/s)\r\n    Uploaded to ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/maven-metadata.xml (2.6 kB at 31 kB/s)\r\n\r\n\r\n\r\nHere is an excerpt of library A&#39;s pipeline:\r\n\r\n    - task: MavenAuthenticate@0\r\n      inputs:\r\n        artifactsFeeds: &#39;CompanyCommon&#39;\r\n    - task: Maven@3\r\n      inputs:\r\n        mavenPomFile: &#39;pom.xml&#39;\r\n        publishJUnitResults: false\r\n        goals: &#39;package deploy&#39;\r\n        testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n        javaHomeOption: &#39;JDKVersion&#39;\r\n        mavenVersionOption: &#39;Default&#39;\r\n        mavenAuthenticateFeed: false\r\n        effectivePomSkip: false\r\n        sonarQubeRunAnalysis: false\r\n        options: &#39;-DskipTests=true&#39;\r\n\r\n\r\nHere is an excerpt of application B&#39;s pipeline:\r\n\r\n      - task: MavenAuthenticate@0\r\n        inputs:\r\n         artifactsFeeds: &#39;CompanyCommon&#39;    \r\n    \r\n      - task: Maven@3\r\n        inputs:\r\n          mavenPomFile: &#39;pom.xml&#39;\r\n          publishJUnitResults: true\r\n          testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n          javaHomeOption: &#39;JDKVersion&#39;\r\n          mavenVersionOption: &#39;Default&#39;\r\n          mavenAuthenticateFeed: false\r\n          effectivePomSkip: false\r\n          sonarQubeRunAnalysis: false\r\n\r\nI have tried with both mavenAuthenticateFeed: true/false.","title":"How to reference a library published in its artifacts feed from another project?","body":"<p>I have this project (A) in devops that builds and publishes a library(.jar) to the projects artifacts feed. Then I have this other project(B) where I have a Java application which references this library.</p>\n<p>When running locally it works, it can connect to the repository and download the library, I have set up settings.xml so the authentication works to the feed.</p>\n<p>But when running the build inside the pipeline which builds the java-application it is unable to find the artifact. First I got a 401 before realizing the maven-authenticate-task. After adding maven authenticate the 401 is gone but it keeps saying it cant find the artifact.</p>\n<p>This is part of the log:</p>\n<pre><code>[DEBUG] Resolving artifact com.company.maximo-requests:maximo-requests:pom:0.0.81 from [ProjectCommon (https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1, default, releases+snapshots), central (https://repo.maven.apache.org/maven2, default, releases)]\n[DEBUG] Using transporter WagonTransporter with priority -1.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1\n[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1 with username=AzureDevOps, password=***\nDownloading from ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom\n[DEBUG] Writing tracking file /home/vsts/.m2/repository/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom.lastUpdated\n[DEBUG] Using transporter WagonTransporter with priority -1.0 for https://repo.maven.apache.org/maven2\n[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://repo.maven.apache.org/maven2\nDownloading from central: https://repo.maven.apache.org/maven2/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom\n[DEBUG] Writing tracking file /home/vsts/.m2/repository/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom.lastUpdated\n[WARNING] The POM for com.company.maximo-requests:maximo-requests:jar:0.0.81 is missing, no dependency information available\n</code></pre>\n<p>If I click the link to the pom in the log: <a href=\"https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom\" rel=\"nofollow noreferrer\">https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom</a> it is downloaded in the browser, so the file exists.</p>\n<p>And when running locally this is the log:</p>\n<pre><code>Resolving artifact com.company.maximo-requests:maximo-requests:pom:0.0.81 from [ProjectCommon (https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1, default, releases+snapshots), central (https://repo.maven.apache.org/maven2, default, releases)]\n[DEBUG] Using transporter WagonTransporter with priority -1.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1\n[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1 with username=CompanyDevOps, password=***\nDownloading from ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom\nDownloaded from ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom (3.6 kB at 1.8 kB/s)\n[DEBUG] Writing tracking file C:\\Users\\veriksso\\.m2\\repository\\com\\company\\maximo-requests\\maximo-requests\\0.0.81\\_remote.repositories\n[DEBUG] Writing tracking file C:\\Users\\veriksso\\.m2\\repository\\com\\company\\maximo-requests\\maximo-requests\\0.0.81\\maximo-requests-0.0.81.pom.lastUpdated\n</code></pre>\n<p>The only difference I see is that username is AzureDevOps in the pipeline, probably generated by the maven authenticate task while the other one is a personal access token generated from within azure devops.</p>\n<p>I have also added permissions to the feed in project A to the build service of project B according to this page: <a href=\"https://learn.microsoft.com/en-us/azure/devops/artifacts/feeds/feed-permissions?view=azure-devops#pipelines-permissions\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/devops/artifacts/feeds/feed-permissions?view=azure-devops#pipelines-permissions</a>.\n<a href=\"https://i.stack.imgur.com/mQAgz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mQAgz.png\" alt=\"enter image description here\" /></a></p>\n<p>But despite all this maven still outputs this at the end:</p>\n<pre><code>Failed to execute goal on project elinstallation: Could not resolve dependencies for project com.company.elinstallation:elinstallation:war:2.0.8-4-g0f575ca: Could not find artifact com.company.maximo-requests:maximo-requests:jar:0.0.81 in CompanyCommon (https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/BolidenCommon/maven/v1) -&gt; [Help 1]\n</code></pre>\n<p>What am I doing wrong? :'(</p>\n<p>Update.\nHere is Application B's Pom or at least the interesting parts I guess:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    ....\n    &lt;dependencies&gt;\n        ......\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.company.maximo-requests&lt;/groupId&gt;\n            &lt;artifactId&gt;maximo-requests&lt;/artifactId&gt;\n            &lt;version&gt;0.0.81&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;CompanyCommon&lt;/id&gt;\n            &lt;url&gt;\n                https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/CompanyCommon/maven/v1\n            &lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n<p>And here is library A's pom (interesting parts):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.company.maximo-requests&lt;/groupId&gt;\n    &lt;artifactId&gt;maximo-requests&lt;/artifactId&gt;\n    &lt;version&gt;0.0.81&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n       ...\n    &lt;/dependencies&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;CompanyCommon&lt;/id&gt;\n            &lt;url&gt;\n                https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/CompanyCommon/maven/v1\n            &lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;CompanyCommon&lt;/id&gt;\n            &lt;url&gt;\n                https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/CompanyCommon/maven/v1\n            &lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>More Updates! pju this is a long post.</p>\n<p>Here is the last output when building the library A:</p>\n<pre><code>Uploaded to ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.jar (122 kB at 97 kB/s)           \nUploaded to ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom (3.6 kB at 3.5 kB/s)\nUploaded to ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/maven-metadata.xml (2.6 kB at 31 kB/s)\n</code></pre>\n<p>Here is an excerpt of library A's pipeline:</p>\n<pre><code>- task: MavenAuthenticate@0\n  inputs:\n    artifactsFeeds: 'CompanyCommon'\n- task: Maven@3\n  inputs:\n    mavenPomFile: 'pom.xml'\n    publishJUnitResults: false\n    goals: 'package deploy'\n    testResultsFiles: '**/surefire-reports/TEST-*.xml'\n    javaHomeOption: 'JDKVersion'\n    mavenVersionOption: 'Default'\n    mavenAuthenticateFeed: false\n    effectivePomSkip: false\n    sonarQubeRunAnalysis: false\n    options: '-DskipTests=true'\n</code></pre>\n<p>Here is an excerpt of application B's pipeline:</p>\n<pre><code>  - task: MavenAuthenticate@0\n    inputs:\n     artifactsFeeds: 'CompanyCommon'    \n\n  - task: Maven@3\n    inputs:\n      mavenPomFile: 'pom.xml'\n      publishJUnitResults: true\n      testResultsFiles: '**/surefire-reports/TEST-*.xml'\n      javaHomeOption: 'JDKVersion'\n      mavenVersionOption: 'Default'\n      mavenAuthenticateFeed: false\n      effectivePomSkip: false\n      sonarQubeRunAnalysis: false\n</code></pre>\n<p>I have tried with both mavenAuthenticateFeed: true/false.</p>\n"},{"tags":["java","docker","dockerfile","jlink"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1667940096,"post_id":74366634,"comment_id":131287089,"body_markdown":"I ran into a similar issue using JPackage (which internally calls JLink). Maybe the solution given to me helps you as well? https://stackoverflow.com/questions/71924648/jpackage-for-only-one-application","body":"I ran into a similar issue using JPackage (which internally calls JLink). Maybe the solution given to me helps you as well? <a href=\"https://stackoverflow.com/questions/71924648/jpackage-for-only-one-application\" title=\"jpackage for only one application\">stackoverflow.com/questions/71924648/&hellip;</a>"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1667940632,"post_id":74366634,"comment_id":131287277,"body_markdown":"I have tried to remove `--strip-debug --no-header-files --no-man-pages --compress` from jlink arguments but still the same :(","body":"I have tried to remove <code>--strip-debug --no-header-files --no-man-pages --compress</code> from jlink arguments but still the same :("}],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668014076,"creation_date":1668014076,"answer_id":74378828,"question_id":74366634,"body_markdown":"I&#39;ve got the solution changing the first stage image to `alpine-based` image as follow\r\n\r\n```bash\r\n# using image on alpine-based\r\nFROM gradle:7.5.1-jdk17-alpine As build\r\n\r\nWORKDIR /build\r\n\r\nCOPY my-source my-source\r\n\r\n# install required packages\r\nRUN apk update &amp;&amp; apk add gcompat binutils\r\n\r\nRUN gradle -p my-source clean build\r\n\r\nRUN jlink \\\r\n    --module-path /opt/java/openjdk/jmods \\\r\n    --add-modules $(jdeps --ignore-missing-deps --print-module-deps --multi-release 17 my-source/build/libs/*.jar ) \\\r\n    --output jre-custom \\\r\n    --strip-debug \\\r\n    --no-header-files \\\r\n    --no-man-pages \\\r\n    --compress 2\r\n\t\r\n# reduce image size a little bit more (-4MB)\r\nRUN strip -p --strip-unneeded jre-custom/lib/server/libjvm.so &amp;&amp; \\\r\n   find jre-custom -name &#39;*.so&#39; | xargs -i strip -p --strip-unneeded {}\r\n\r\nFROM alpine:latest\r\nWORKDIR /deployment\r\n\r\nCOPY --from=build /build/jre-custom jre-custom/\r\nCOPY --from=build /build/my-source/build/libs/*.jar build/app.jar\r\n\r\nCMD [&quot;jre-custom/bin/java&quot;,&quot;-jar&quot;,&quot;build/app.jar&quot;] \r\n  \r\nEXPOSE 3009\r\n\r\n```","title":"java command is not found using jlink in docker alpine","body":"<p>I've got the solution changing the first stage image to <code>alpine-based</code> image as follow</p>\n<pre class=\"lang-bash prettyprint-override\"><code># using image on alpine-based\nFROM gradle:7.5.1-jdk17-alpine As build\n\nWORKDIR /build\n\nCOPY my-source my-source\n\n# install required packages\nRUN apk update &amp;&amp; apk add gcompat binutils\n\nRUN gradle -p my-source clean build\n\nRUN jlink \\\n    --module-path /opt/java/openjdk/jmods \\\n    --add-modules $(jdeps --ignore-missing-deps --print-module-deps --multi-release 17 my-source/build/libs/*.jar ) \\\n    --output jre-custom \\\n    --strip-debug \\\n    --no-header-files \\\n    --no-man-pages \\\n    --compress 2\n    \n# reduce image size a little bit more (-4MB)\nRUN strip -p --strip-unneeded jre-custom/lib/server/libjvm.so &amp;&amp; \\\n   find jre-custom -name '*.so' | xargs -i strip -p --strip-unneeded {}\n\nFROM alpine:latest\nWORKDIR /deployment\n\nCOPY --from=build /build/jre-custom jre-custom/\nCOPY --from=build /build/my-source/build/libs/*.jar build/app.jar\n\nCMD [&quot;jre-custom/bin/java&quot;,&quot;-jar&quot;,&quot;build/app.jar&quot;] \n  \nEXPOSE 3009\n\n</code></pre>\n"}],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668014076,"creation_date":1667938395,"question_id":74366634,"body_markdown":"I&#39;m using `jlink` to create a customized JRE to be used in docker\r\n\r\n```bash\r\n\r\nFROM gradle:7.5.1-jdk17-jammy As build\r\n\r\nWORKDIR /build\r\n\r\nCOPY my-source my-source\r\n\r\nRUN cd my-source &amp;&amp; gradle clean build\r\n\r\nRUN jlink \\\r\n    --module-path /... \\\r\n    --add-modules ... \\\r\n    --output jre-custom \\\r\n    --strip-debug \\\r\n    --no-header-files \\\r\n    --no-man-pages \\\r\n    --compress 2\r\n\r\nFROM alpine:latest\r\nWORKDIR /deployment\r\n\r\nCOPY --from=build /build/jre-custom jre-custom/\r\nCOPY --from=build /build/my-source/build/libs/*.jar build/app.jar\r\n\r\n# ERROR at line bellow: /bin/sh: jre-custom/bin/java: not found\r\nCMD [&quot;jre-custom/bin/java&quot;,&quot;-jar&quot;,&quot;build/app.jar&quot;] \r\n  \r\nEXPOSE 3009\r\n\r\n```\r\n\r\nWhen I&#39;m running `jre-custom/bin/java -version` in `alpine` image I&#39;ve got:\r\n```bash\r\n /bin/sh: jre-custom/bin/java: not found\r\n```\r\n\r\nIs there anything in alpine image to be installed?\r\n\r\nNOTE: I can run `jre-custom/bin/java -version` in first stage docker successfully.","title":"java command is not found using jlink in docker alpine","body":"<p>I'm using <code>jlink</code> to create a customized JRE to be used in docker</p>\n<pre class=\"lang-bash prettyprint-override\"><code>\nFROM gradle:7.5.1-jdk17-jammy As build\n\nWORKDIR /build\n\nCOPY my-source my-source\n\nRUN cd my-source &amp;&amp; gradle clean build\n\nRUN jlink \\\n    --module-path /... \\\n    --add-modules ... \\\n    --output jre-custom \\\n    --strip-debug \\\n    --no-header-files \\\n    --no-man-pages \\\n    --compress 2\n\nFROM alpine:latest\nWORKDIR /deployment\n\nCOPY --from=build /build/jre-custom jre-custom/\nCOPY --from=build /build/my-source/build/libs/*.jar build/app.jar\n\n# ERROR at line bellow: /bin/sh: jre-custom/bin/java: not found\nCMD [&quot;jre-custom/bin/java&quot;,&quot;-jar&quot;,&quot;build/app.jar&quot;] \n  \nEXPOSE 3009\n\n</code></pre>\n<p>When I'm running <code>jre-custom/bin/java -version</code> in <code>alpine</code> image I've got:</p>\n<pre class=\"lang-bash prettyprint-override\"><code> /bin/sh: jre-custom/bin/java: not found\n</code></pre>\n<p>Is there anything in alpine image to be installed?</p>\n<p>NOTE: I can run <code>jre-custom/bin/java -version</code> in first stage docker successfully.</p>\n"},{"tags":["java","android","scala","sbt"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1668022434,"post_id":74378822,"comment_id":131309490,"body_markdown":"Java version should be defined outside of SBT. Via JAVA_HOME for instance. Or directly on the CLI when running SBT with something like `sbt -java-home=...` (not sure about the name of the argument, documentation should help).","body":"Java version should be defined outside of SBT. Via JAVA_HOME for instance. Or directly on the CLI when running SBT with something like <code>sbt -java-home=...</code> (not sure about the name of the argument, documentation should help)."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1668022497,"post_id":74378822,"comment_id":131309503,"body_markdown":"Note that the version SBT runs can be different than the version your project runs/compiles for though.","body":"Note that the version SBT runs can be different than the version your project runs/compiles for though."},{"owner":{"account_id":5331553,"reputation":11,"user_id":4251999,"display_name":"Raul-Angel Garc&#237;a"},"score":0,"creation_date":1668074475,"post_id":74378822,"comment_id":131320691,"body_markdown":"Thank you very much, -Ga&#233;l,\nsbt --java-home /path/to/my/jkd1.8.0_202 worked perfect for me!!\nKisses, zanks a lot, :)","body":"Thank you very much, -Ga&#233;l, sbt --java-home /path/to/my/jkd1.8.0_202 worked perfect for me!! Kisses, zanks a lot, :)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1668074832,"post_id":74378822,"comment_id":131320826,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":5331553,"reputation":11,"user_id":4251999,"display_name":"Raul-Angel Garc&#237;a"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668014066,"creation_date":1668014066,"question_id":74378822,"body_markdown":"For compatibility reasons with Android plugin for sbt and Scala, I have to use an old version of sbt, working with a JDK of a version not upper than 1.8.X....\r\nMy project/build.properties contents is,\r\n```\r\n`sbt.version=0.13.18\r\njava.home=/path/to/my/jdk1.8.0_202/jre`\r\n```\r\n\r\nThe result is that first line works, but the seccond (line for the supposed Java Home configuration...) doesn&#39;t make my desired effect\r\n&#191;Are there a command (for project/build.properties or perhaps another configuration place...), in what could I define de JDK version **for working in conjunction with** my sbt 0.13...?\r\n\r\n\r\nI tried to put in my build.sbt,\r\n\r\n`val java8Version: Option[File] = Option(file(&quot;/path/to/my/jdk1.8.0_202/jre&quot;))\r\n\r\njavaHome := java8Version`\r\n\r\nBut, when I try,\r\n`~/path/to/my/project$ sbt`\r\n\r\nThe output when sbt starts is,\r\n`[info] Loading global plugins from /path/to/my/.sbt/0.13/plugins\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by sbt.ivyint.ErrorMessageAuthenticator$ (file:/path/to/my/.sbt/boot/scala-2.10.7/org.scala-sbt/sbt/0.13.18/ivy-0.13.18.jar) to field java.net.Authenticator.theAuthenticator\r\nWARNING: Please consider reporting this to the maintainers of sbt.ivyint.ErrorMessageAuthenticator$\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n[info] Loading project definition from /path/to/my/project/project\r\n[info] Set current project to project (in build file:/path/to/my/project/)`\r\n\r\nAnd doesn&#39;t appear any information abot my Java Home supposedly configured, like does when I don&#39;t configure anything\r\n\r\n`[info] welcome to sbt 1.6.2 (Debian Java 11.0.15)`\r\n\r\nThis line doesn&#39;t appear when I put the mentioned &quot;sbt.version=0.13.18&quot; in the mentioned /project/build.properties. Instead, appears the &quot;An illegal reflective access operation has occurred&quot; warning messages upperly cited, that I suspect is for the &quot;Debian Java 11.0.5&quot; **uncompatible** JDK version for my &quot;0.13.18&quot; sbt version................\r\n\r\nHow can I make the &quot;jdk1.8.0_2022&quot; JDK version would be used when my &quot;0.13.18&quot; sbt starts?","title":"Can I define a Java Home filesystem for my sbt project in the project/build.properties configuration file?","body":"<p>For compatibility reasons with Android plugin for sbt and Scala, I have to use an old version of sbt, working with a JDK of a version not upper than 1.8.X....\nMy project/build.properties contents is,</p>\n<pre><code>`sbt.version=0.13.18\njava.home=/path/to/my/jdk1.8.0_202/jre`\n</code></pre>\n<p>The result is that first line works, but the seccond (line for the supposed Java Home configuration...) doesn't make my desired effect\n¿Are there a command (for project/build.properties or perhaps another configuration place...), in what could I define de JDK version <strong>for working in conjunction with</strong> my sbt 0.13...?</p>\n<p>I tried to put in my build.sbt,</p>\n<p>`val java8Version: Option[File] = Option(file(&quot;/path/to/my/jdk1.8.0_202/jre&quot;))</p>\n<p>javaHome := java8Version`</p>\n<p>But, when I try,\n<code>~/path/to/my/project$ sbt</code></p>\n<p>The output when sbt starts is,\n<code>[info] Loading global plugins from /path/to/my/.sbt/0.13/plugins WARNING: An illegal reflective access operation has occurred WARNING: Illegal reflective access by sbt.ivyint.ErrorMessageAuthenticator$ (file:/path/to/my/.sbt/boot/scala-2.10.7/org.scala-sbt/sbt/0.13.18/ivy-0.13.18.jar) to field java.net.Authenticator.theAuthenticator WARNING: Please consider reporting this to the maintainers of sbt.ivyint.ErrorMessageAuthenticator$ WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations WARNING: All illegal access operations will be denied in a future release [info] Loading project definition from /path/to/my/project/project [info] Set current project to project (in build file:/path/to/my/project/)</code></p>\n<p>And doesn't appear any information abot my Java Home supposedly configured, like does when I don't configure anything</p>\n<p><code>[info] welcome to sbt 1.6.2 (Debian Java 11.0.15)</code></p>\n<p>This line doesn't appear when I put the mentioned &quot;sbt.version=0.13.18&quot; in the mentioned /project/build.properties. Instead, appears the &quot;An illegal reflective access operation has occurred&quot; warning messages upperly cited, that I suspect is for the &quot;Debian Java 11.0.5&quot; <strong>uncompatible</strong> JDK version for my &quot;0.13.18&quot; sbt version................</p>\n<p>How can I make the &quot;jdk1.8.0_2022&quot; JDK version would be used when my &quot;0.13.18&quot; sbt starts?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1667991400,"post_id":74373688,"comment_id":131298105,"body_markdown":"the result of what? Just instantiate two of them, and you&#39;llhave two of them","body":"the result of what? Just instantiate two of them, and you&#39;llhave two of them"},{"owner":{"account_id":22829624,"reputation":79,"user_id":16978335,"display_name":"sam"},"score":0,"creation_date":1667991589,"post_id":74373688,"comment_id":131298168,"body_markdown":"How do I add two Octets (two binary numbers);","body":"How do I add two Octets (two binary numbers);"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667992155,"post_id":74373688,"comment_id":131298367,"body_markdown":"Is this for a course assignment? Do you know how to add binary numbers? Try to think it through starting with two numbers that are both one bit long. There are four possibilities. What are they?","body":"Is this for a course assignment? Do you know how to add binary numbers? Try to think it through starting with two numbers that are both one bit long. There are four possibilities. What are they?"},{"owner":{"account_id":22829624,"reputation":79,"user_id":16978335,"display_name":"sam"},"score":0,"creation_date":1667992416,"post_id":74373688,"comment_id":131298469,"body_markdown":"I know how to add two binary numbers sir but the problem is that I&#39;m not dealing with two binary integers it would be easy if it was like that. It&#39;s the octet that I have to add. so basically i have to add two binary octets and the function returns an Octet. That&#39;s why I&#39;m stuck and confused","body":"I know how to add two binary numbers sir but the problem is that I&#39;m not dealing with two binary integers it would be easy if it was like that. It&#39;s the octet that I have to add. so basically i have to add two binary octets and the function returns an Octet. That&#39;s why I&#39;m stuck and confused"},{"owner":{"account_id":22829624,"reputation":79,"user_id":16978335,"display_name":"sam"},"score":0,"creation_date":1667993273,"post_id":74373688,"comment_id":131298776,"body_markdown":"let&#39;s say I have Octet o1 and o2 both are 8 bits and I want to add them together I can use the method octetToString() to convert them from Octet to strings then I can add them but how do I return the result as an Octet not as a string without using another converstion method","body":"let&#39;s say I have Octet o1 and o2 both are 8 bits and I want to add them together I can use the method octetToString() to convert them from Octet to strings then I can add them but how do I return the result as an Octet not as a string without using another converstion method"},{"owner":{"account_id":22829624,"reputation":79,"user_id":16978335,"display_name":"sam"},"score":0,"creation_date":1668001160,"post_id":74373688,"comment_id":131301563,"body_markdown":"No answer guys?","body":"No answer guys?"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1668005238,"post_id":74373688,"comment_id":131303226,"body_markdown":"It appears that a given Octet is intended to represent a single 8-bit integer value.  You can use a single int rather than int[].  If you prefer to model the value as array then then consider using a boolean[] snice you are modeling bits rather than numbers.","body":"It appears that a given Octet is intended to represent a single 8-bit integer value.  You can use a single int rather than int[].  If you prefer to model the value as array then then consider using a boolean[] snice you are modeling bits rather than numbers."},{"owner":{"account_id":22829624,"reputation":79,"user_id":16978335,"display_name":"sam"},"score":0,"creation_date":1668005898,"post_id":74373688,"comment_id":131303518,"body_markdown":"Still doesn&#39;t answer my question sir but thank you anyway","body":"Still doesn&#39;t answer my question sir but thank you anyway"}],"answers":[{"tags":[],"owner":{"account_id":18712697,"reputation":564,"user_id":13642440,"display_name":"Jan Rozenbajgier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668013863,"creation_date":1668013863,"answer_id":74378775,"question_id":74373688,"body_markdown":"You can do it like this:\r\n\r\n    Octet sum(Octet y){\r\n        \r\n        //Convert this octet and argument octet to decimal format\r\n        int o1 = Integer.parseInt(y.octetToString(), 2);\r\n        int o2 = Integer.parseInt(octetToString(), 2);\r\n\r\n        //Sum decimal numbers as usual\r\n        int sum = o1 + o2;\r\n        \r\n        //Convert sum to binary number\r\n        String binarySum = Integer.toBinaryString(sum);\r\n\r\n        //Check if result binary sum is ok\r\n        if(binarySum.length() &gt; 8){\r\n            //Sum of these 2 octets is not an octet (has more than 8 digits)\r\n            throw new RuntimeException(&quot;Shit&quot;);\r\n        }\r\n        \r\n        //Result binary sum may have less digits than 8, \r\n        //so fill missing places with zeros\r\n        StringBuilder result = new StringBuilder(binarySum);\r\n\r\n        while(result.length() &lt; 8)\r\n            result.insert(0, &quot;0&quot;);\r\n        \r\n        //Create octet\r\n        return new Octet(result.toString());\r\n    }\r\n\r\nNote that it can be done only when sum of 2 octets is also an octet.","title":"how to add two classes that contain integers and return the result in the form of that same class","body":"<p>You can do it like this:</p>\n<pre><code>Octet sum(Octet y){\n    \n    //Convert this octet and argument octet to decimal format\n    int o1 = Integer.parseInt(y.octetToString(), 2);\n    int o2 = Integer.parseInt(octetToString(), 2);\n\n    //Sum decimal numbers as usual\n    int sum = o1 + o2;\n    \n    //Convert sum to binary number\n    String binarySum = Integer.toBinaryString(sum);\n\n    //Check if result binary sum is ok\n    if(binarySum.length() &gt; 8){\n        //Sum of these 2 octets is not an octet (has more than 8 digits)\n        throw new RuntimeException(&quot;Shit&quot;);\n    }\n    \n    //Result binary sum may have less digits than 8, \n    //so fill missing places with zeros\n    StringBuilder result = new StringBuilder(binarySum);\n\n    while(result.length() &lt; 8)\n        result.insert(0, &quot;0&quot;);\n    \n    //Create octet\n    return new Octet(result.toString());\n}\n</code></pre>\n<p>Note that it can be done only when sum of 2 octets is also an octet.</p>\n"}],"owner":{"account_id":22829624,"reputation":79,"user_id":16978335,"display_name":"sam"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":74378775,"answer_count":1,"score":-2,"last_activity_date":1668013863,"creation_date":1667991164,"question_id":74373688,"body_markdown":"Hi everybody I need little help I&#39;m stuck\r\nI created a class called octet that consists of an array of 8 bits binary numbers and now I want to create a method that add 2 octet numbers but can&#39;t figure out a way to do so. this is the class: \r\n\r\n\r\n\r\n```\r\npublic class Octet {\r\n\t\r\n    int[] x = new int[8];\r\n      \r\n    // constructor that takes a binary number in the form of a string. \r\n\tOctet(String s){\r\n\t\tif (s.length() != 8) {\r\n\t\t\tSystem.out.println(&quot;Too few or too many characters&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; 8; i++) {\r\n\t\t\tif (s.charAt(i) == &#39;1&#39;) {\r\n\t\t\t\tx[7 - i] = 1;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tx[7 - i] = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// method to convert an octet to string\r\n\tString octetToString() {\r\n\t\tString result = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; 8; i++) {\r\n\t\t\tif (x[i] == 1) {\r\n\t\t\t\tresult = &quot;1&quot; + result;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tresult = &quot;0&quot; + result;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t// this is where I got stuck\r\n\tOctet sum(Octet y){\r\n    \toctet result = new Octet(&quot;00000000&quot;)\r\n    \t// how do I add two octets and return the result in the form of octet?\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nCan anyone one explain this to me. I tried to convert the two octets to string using the method octetToString() and I tried to use integers but there is always a type problem. I need to return Octet","title":"how to add two classes that contain integers and return the result in the form of that same class","body":"<p>Hi everybody I need little help I'm stuck\nI created a class called octet that consists of an array of 8 bits binary numbers and now I want to create a method that add 2 octet numbers but can't figure out a way to do so. this is the class:</p>\n<pre><code>public class Octet {\n    \n    int[] x = new int[8];\n      \n    // constructor that takes a binary number in the form of a string. \n    Octet(String s){\n        if (s.length() != 8) {\n            System.out.println(&quot;Too few or too many characters&quot;);\n            return;\n        }\n        for (int i = 0; i &lt; 8; i++) {\n            if (s.charAt(i) == '1') {\n                x[7 - i] = 1;\n            }\n            else {\n                x[7 - i] = 0;\n            }\n        }\n    }\n\n    // method to convert an octet to string\n    String octetToString() {\n        String result = &quot;&quot;;\n        for (int i = 0; i &lt; 8; i++) {\n            if (x[i] == 1) {\n                result = &quot;1&quot; + result;\n            }\n            else {\n                result = &quot;0&quot; + result;\n            }\n        }\n        return result;\n    }\n\n    // this is where I got stuck\n    Octet sum(Octet y){\n        octet result = new Octet(&quot;00000000&quot;)\n        // how do I add two octets and return the result in the form of octet?\n    }\n}\n</code></pre>\n<p>Can anyone one explain this to me. I tried to convert the two octets to string using the method octetToString() and I tried to use integers but there is always a type problem. I need to return Octet</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":8525737,"reputation":909,"user_id":6391256,"display_name":"Vasim Hayat"},"score":0,"creation_date":1668006512,"post_id":74376800,"comment_id":131303783,"body_markdown":"share the complete code","body":"share the complete code"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668013840,"creation_date":1668013840,"answer_id":74378774,"question_id":74376800,"body_markdown":"It appears to me that you looked at an old *Swing* tutorial. A *Swing* application does not need to extend class [JFrame][1] and it doesn&#39;t need to implement [WindowListener][2].\r\n\r\nI suggest that you display the data in a [JTable][3] rather than in a text field.\r\n\r\nYour `Phone` class can be a [Record][4].\r\n```java\r\nimport java.io.Serializable;\r\n\r\npublic record Phone(String make,\r\n                    String model,\r\n                    double memory,\r\n                    double camera,\r\n                    double screensize,\r\n                    String smart,\r\n                    int price) implements Serializable {\r\n\r\n    public static int getFieldCount() {\r\n        return 7;\r\n    }\r\n}\r\n```\r\nThe `fieldCount` method is used in the GUI code. (See below.)\r\n\r\nAnd I use a custom *table model* that displays a list of `Phone` objects.\r\n\r\nSince Java 8, I prefer to implement `ActionListener` using [method references][5].\r\n\r\nI create two *table model*s &amp;ndash; an empty one and a non-empty one. When the *Show Data* button is clicked, I set the non-empty model and when the *Hide Data* button is clicked, I set the empty model.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.table.AbstractTableModel;\r\n\r\npublic class DisplayGui {\r\n    private PhoneModel emptyModel;\r\n    private PhoneModel model;\r\n    private JTable table;\r\n\r\n    private void buildAndDisplayGui() {\r\n        JFrame frame = new JFrame(&quot;Phones&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createTable(), BorderLayout.CENTER);\r\n        frame.add(createButtons(), BorderLayout.PAGE_END);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createButtons() {\r\n        JPanel panel = new JPanel();\r\n        JButton showData = new JButton(&quot;Show Data&quot;);\r\n        showData.addActionListener(this::showData);\r\n        panel.add(showData);\r\n        JButton hideData = new JButton(&quot;Hide Data&quot;);\r\n        hideData.addActionListener(this::hideData);\r\n        panel.add(hideData);\r\n        return panel;\r\n    }\r\n\r\n    private void createModel() {\r\n        model = new PhoneModel(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150),\r\n                               new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175),\r\n                               new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180),\r\n                               new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90),\r\n                               new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100),\r\n                               new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250),\r\n                               new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\r\n    }\r\n\r\n    private JScrollPane createTable() {\r\n        createModel();\r\n        emptyModel = new PhoneModel();\r\n        table = new JTable(emptyModel);\r\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n        JScrollPane scrollPane = new JScrollPane(table);\r\n        return scrollPane;\r\n    }\r\n\r\n    private void hideData(ActionEvent event) {\r\n        table.setModel(emptyModel);\r\n    }\r\n\r\n    private void showData(ActionEvent event) {\r\n        table.setModel(model);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new DisplayGui().buildAndDisplayGui());\r\n    }\r\n}\r\n\r\nclass PhoneModel extends AbstractTableModel {\r\n    private List&lt;Phone&gt; phones;\r\n\r\n    public PhoneModel(Phone... phones) {\r\n        this(Arrays.asList(phones));\r\n    }\r\n\r\n    public PhoneModel(List&lt;Phone&gt; phones) {\r\n        this.phones = phones;\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n        Class&lt;?&gt; theClass;\r\n        switch (columnIndex) {\r\n            case 0:\r\n            case 1:\r\n            case 5:\r\n                theClass = String.class;\r\n                break;\r\n            case 2:\r\n            case 3:\r\n            case 4:\r\n                theClass = Double.class;\r\n                break;\r\n            case 6:\r\n                theClass = Integer.class;\r\n                break;\r\n            default:\r\n                throw new ArrayIndexOutOfBoundsException(columnIndex);\r\n        }\r\n        return theClass;\r\n    }\r\n\r\n    @Override\r\n    public int getColumnCount() {\r\n        return Phone.getFieldCount();\r\n    }\r\n\r\n    @Override\r\n    public String getColumnName(int column) {\r\n        String name;\r\n        switch (column) {\r\n            case 0:\r\n                name = &quot;Make&quot;;\r\n                break;\r\n            case 1:\r\n                name = &quot;Model&quot;;\r\n                break;\r\n            case 2:\r\n                name = &quot;Memory&quot;;\r\n                break;\r\n            case 3:\r\n                name = &quot;Camera&quot;;\r\n                break;\r\n            case 4:\r\n                name = &quot;Screen Size&quot;;\r\n                break;\r\n            case 5:\r\n                name = &quot;Smart&quot;;\r\n                break;\r\n            case 6:\r\n                name = &quot;Price&quot;;\r\n                break;\r\n            default:\r\n                throw new ArrayIndexOutOfBoundsException(column);\r\n        }\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public int getRowCount() {\r\n        return phones == null ? 0 : phones.size();\r\n    }\r\n\r\n    @Override\r\n    public Object getValueAt(int rowIndex, int columnIndex) {\r\n        Phone phone = phones.get(rowIndex);\r\n        Object val;\r\n        switch (columnIndex) {\r\n            case 0:\r\n                val = phone.make();\r\n                break;\r\n            case 1:\r\n                val = phone.model();\r\n                break;\r\n            case 2:\r\n                val = Double.valueOf(phone.memory());\r\n                break;\r\n            case 3:\r\n                val = Double.valueOf(phone.camera());\r\n                break;\r\n            case 4:\r\n                val = Double.valueOf(phone.screensize());\r\n                break;\r\n            case 5:\r\n                val = phone.smart();\r\n                break;\r\n            case 6:\r\n                val = Integer.valueOf(phone.price());\r\n                break;\r\n            default:\r\n                throw new ArrayIndexOutOfBoundsException(columnIndex);\r\n        }\r\n        return val;\r\n    }\r\n}\r\n```\r\nThis is how it looks with the data hidden:  \r\n(This is the initial display since I initially set the empty table model.)\r\n\r\n[![data hidden][6]][6]\r\n\r\nAnd with the data displayed:\r\n\r\n[![data displayed][7]][7]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JFrame.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/events/windowlistener.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\r\n  [4]: https://openjdk.org/jeps/395\r\n  [5]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [6]: https://i.stack.imgur.com/zuM1j.png\r\n  [7]: https://i.stack.imgur.com/Kqzm4.png","title":"Show data in a text field from an advanced for loop","body":"<p>It appears to me that you looked at an old <em>Swing</em> tutorial. A <em>Swing</em> application does not need to extend class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\">JFrame</a> and it doesn't need to implement <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/windowlistener.html\" rel=\"nofollow noreferrer\">WindowListener</a>.</p>\n<p>I suggest that you display the data in a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">JTable</a> rather than in a text field.</p>\n<p>Your <code>Phone</code> class can be a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">Record</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.Serializable;\n\npublic record Phone(String make,\n                    String model,\n                    double memory,\n                    double camera,\n                    double screensize,\n                    String smart,\n                    int price) implements Serializable {\n\n    public static int getFieldCount() {\n        return 7;\n    }\n}\n</code></pre>\n<p>The <code>fieldCount</code> method is used in the GUI code. (See below.)</p>\n<p>And I use a custom <em>table model</em> that displays a list of <code>Phone</code> objects.</p>\n<p>Since Java 8, I prefer to implement <code>ActionListener</code> using <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a>.</p>\n<p>I create two <em>table model</em>s – an empty one and a non-empty one. When the <em>Show Data</em> button is clicked, I set the non-empty model and when the <em>Hide Data</em> button is clicked, I set the empty model.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.AbstractTableModel;\n\npublic class DisplayGui {\n    private PhoneModel emptyModel;\n    private PhoneModel model;\n    private JTable table;\n\n    private void buildAndDisplayGui() {\n        JFrame frame = new JFrame(&quot;Phones&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createTable(), BorderLayout.CENTER);\n        frame.add(createButtons(), BorderLayout.PAGE_END);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButtons() {\n        JPanel panel = new JPanel();\n        JButton showData = new JButton(&quot;Show Data&quot;);\n        showData.addActionListener(this::showData);\n        panel.add(showData);\n        JButton hideData = new JButton(&quot;Hide Data&quot;);\n        hideData.addActionListener(this::hideData);\n        panel.add(hideData);\n        return panel;\n    }\n\n    private void createModel() {\n        model = new PhoneModel(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150),\n                               new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175),\n                               new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180),\n                               new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90),\n                               new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100),\n                               new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250),\n                               new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\n    }\n\n    private JScrollPane createTable() {\n        createModel();\n        emptyModel = new PhoneModel();\n        table = new JTable(emptyModel);\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n        JScrollPane scrollPane = new JScrollPane(table);\n        return scrollPane;\n    }\n\n    private void hideData(ActionEvent event) {\n        table.setModel(emptyModel);\n    }\n\n    private void showData(ActionEvent event) {\n        table.setModel(model);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new DisplayGui().buildAndDisplayGui());\n    }\n}\n\nclass PhoneModel extends AbstractTableModel {\n    private List&lt;Phone&gt; phones;\n\n    public PhoneModel(Phone... phones) {\n        this(Arrays.asList(phones));\n    }\n\n    public PhoneModel(List&lt;Phone&gt; phones) {\n        this.phones = phones;\n    }\n\n    @Override\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        Class&lt;?&gt; theClass;\n        switch (columnIndex) {\n            case 0:\n            case 1:\n            case 5:\n                theClass = String.class;\n                break;\n            case 2:\n            case 3:\n            case 4:\n                theClass = Double.class;\n                break;\n            case 6:\n                theClass = Integer.class;\n                break;\n            default:\n                throw new ArrayIndexOutOfBoundsException(columnIndex);\n        }\n        return theClass;\n    }\n\n    @Override\n    public int getColumnCount() {\n        return Phone.getFieldCount();\n    }\n\n    @Override\n    public String getColumnName(int column) {\n        String name;\n        switch (column) {\n            case 0:\n                name = &quot;Make&quot;;\n                break;\n            case 1:\n                name = &quot;Model&quot;;\n                break;\n            case 2:\n                name = &quot;Memory&quot;;\n                break;\n            case 3:\n                name = &quot;Camera&quot;;\n                break;\n            case 4:\n                name = &quot;Screen Size&quot;;\n                break;\n            case 5:\n                name = &quot;Smart&quot;;\n                break;\n            case 6:\n                name = &quot;Price&quot;;\n                break;\n            default:\n                throw new ArrayIndexOutOfBoundsException(column);\n        }\n        return name;\n    }\n\n    @Override\n    public int getRowCount() {\n        return phones == null ? 0 : phones.size();\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        Phone phone = phones.get(rowIndex);\n        Object val;\n        switch (columnIndex) {\n            case 0:\n                val = phone.make();\n                break;\n            case 1:\n                val = phone.model();\n                break;\n            case 2:\n                val = Double.valueOf(phone.memory());\n                break;\n            case 3:\n                val = Double.valueOf(phone.camera());\n                break;\n            case 4:\n                val = Double.valueOf(phone.screensize());\n                break;\n            case 5:\n                val = phone.smart();\n                break;\n            case 6:\n                val = Integer.valueOf(phone.price());\n                break;\n            default:\n                throw new ArrayIndexOutOfBoundsException(columnIndex);\n        }\n        return val;\n    }\n}\n</code></pre>\n<p>This is how it looks with the data hidden:<br />\n(This is the initial display since I initially set the empty table model.)</p>\n<p><a href=\"https://i.stack.imgur.com/zuM1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zuM1j.png\" alt=\"data hidden\" /></a></p>\n<p>And with the data displayed:</p>\n<p><a href=\"https://i.stack.imgur.com/Kqzm4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kqzm4.png\" alt=\"data displayed\" /></a></p>\n"}],"owner":{"account_id":26879462,"reputation":3,"user_id":20460151,"display_name":"Evan Donelan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74378774,"answer_count":1,"score":-1,"last_activity_date":1668013840,"creation_date":1668005349,"question_id":74376800,"body_markdown":"A shown in the code below I want the data to be inputted into the textfield when the button is pressed at the moment I have it printing to console how do I add to the textfield ?? is it text.add ??\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.WindowEvent;\r\nimport java.awt.event.WindowListener;\r\nimport java.util.ArrayList;\r\nimport javax.swing.*;\r\n\r\n\r\npublic class displayGui extends JFrame implements WindowListener, ActionListener {\r\n\r\n    JButton showData;\r\n\r\n    JButton hideData;\r\n\r\n    private static final int FRAME_WIDTH = 100;\r\n    private static final int FRAME_HEIGHT = 100;\r\n    JTextField text = new JTextField(20);\r\n    ArrayList&lt;Phone&gt; phones = new ArrayList&lt;&gt;();\r\n    public displayGui() {\r\n\r\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150));\r\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175));\r\n        phones.add(new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180));\r\n        phones.add(new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90));\r\n        phones.add(new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100));\r\n        phones.add(new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250));\r\n        phones.add(new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\r\n        JFrame frame = new JFrame();\r\n        JPanel panel = new JPanel();\r\n\r\n        addWindowListener(this);\r\n        showData = new JButton(&quot;Show Data&quot;);\r\n        add(showData);\r\n        panel.add(text);\r\n        showData.addActionListener(this);\r\n\r\n\r\n        panel.add(showData);\r\n        hideData = new JButton(&quot;Hide Data&quot;);\r\n        panel.add(hideData);\r\n        hideData.addActionListener(this);\r\n        frame.add(panel);\r\n\r\n        frame.setSize(FRAME_WIDTH, FRAME_HEIGHT);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n    }\r\n    @Override\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        if(e.getSource().equals(showData)) {\r\n            if (showData.isSelected()){\r\n\r\n                for (Phone phone : phones){\r\n                    System.out.println(&quot;Phone Make: &quot; + phone.getMake());\r\n                    System.out.println(&quot;Phone Model: &quot; + phone.getModel());\r\n                    System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\r\n                    System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\r\n                    System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\r\n                    System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\r\n                    System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\r\n                };\r\n\r\n            }\r\n        }\r\n\r\n\r\n\r\n        for (Phone phone : phones){\r\n            System.out.println(&quot;Phone Make: &quot; + phone.getMake());\r\n            System.out.println(&quot;Phone Model: &quot; + phone.getModel());\r\n            System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\r\n            System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\r\n            System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\r\n            System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\r\n            System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\r\n        }\r\n\r\n        text.setText(&quot;Testing&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void windowOpened(WindowEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void windowClosing(WindowEvent e) {\r\n        dispose();\r\n        System.exit(0);\r\n    }\r\n\r\n    @Override\r\n    public void windowClosed(WindowEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void windowIconified(WindowEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void windowDeiconified(WindowEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void windowActivated(WindowEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void windowDeactivated(WindowEvent e) {\r\n\r\n    }\r\n}\r\n```\r\n```\r\nimport java.io.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class Tester {\r\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n\r\n        ArrayList&lt;Phone&gt; phones = new ArrayList&lt;&gt;();\r\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150));\r\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175));\r\n        phones.add(new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180));\r\n        phones.add(new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90));\r\n        phones.add(new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100));\r\n        phones.add(new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250));\r\n        phones.add(new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\r\n\r\n        try {\r\n            System.out.println(&quot;Check to see if file exists&quot;);\r\n            FileInputStream fileIn = new FileInputStream(&quot;phone.ser&quot;);\r\n            System.out.println(&quot;It exists&quot;);\r\n            ObjectInputStream objectIn = new ObjectInputStream(fileIn);\r\n            System.out.println(&quot;Reading now&quot;);\r\n\r\n\r\n            phones = (ArrayList&lt;Phone&gt;) objectIn.readObject();\r\n            for (Phone phone : phones){\r\n                System.out.println(&quot;Phone Make: &quot; + phone.getMake());\r\n                System.out.println(&quot;Phone Model: &quot; + phone.getModel());\r\n                System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\r\n                System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\r\n                System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\r\n                System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\r\n                System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\r\n            }\r\n\r\n            objectIn.close();\r\n            } catch (FileNotFoundException e1) {\r\n            System.out.println(&quot;file does not exist&quot;);\r\n\r\n            try {\r\n                System.out.println(&quot;Creating it now ....&quot;);\r\n                FileOutputStream fileOut = new FileOutputStream(&quot;phone.ser&quot;);\r\n\r\n                ObjectOutputStream objectOut = new ObjectOutputStream(fileOut);\r\n\r\n                objectOut.writeObject(phones);\r\n\r\n                objectOut.close();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n            ///deserialization///\r\n            try {\r\n                FileInputStream fileIn = new FileInputStream(&quot;phone.ser&quot;);\r\n\r\n                ObjectInputStream objectIn = new ObjectInputStream(fileIn);\r\n                Phone newPhone = (Phone) objectIn.readObject();\r\n\r\n                objectIn.close();\r\n                System.out.println(&quot;Phone Make: &quot; + newPhone.getMake());\r\n                System.out.println(&quot;Phone Model: &quot; + newPhone.getModel());\r\n                System.out.println(&quot;Phone Memory: &quot; + newPhone.getMemory());\r\n                System.out.println(&quot;Phone Camera: &quot; + newPhone.getCamera());\r\n                System.out.println(&quot;Phone screen-size: &quot; + newPhone.getScreensize());\r\n                System.out.println(&quot;Is the phone a smart phone: &quot; + newPhone.getSmart());\r\n                System.out.println(&quot;The phone costs: &quot; + newPhone.getPrice());\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n```\r\nimport java.io.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class MainSer {\r\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n        new displayGui();\r\n\r\n        ArrayList&lt;Phone&gt; phones = new ArrayList&lt;&gt;();\r\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150));\r\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175));\r\n        phones.add(new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180));\r\n        phones.add(new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90));\r\n        phones.add(new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100));\r\n        phones.add(new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250));\r\n        phones.add(new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\r\n\r\n\r\n\r\n        //serialization//\r\n        try {\r\n            FileOutputStream fileOut = new FileOutputStream(&quot;phone.ser&quot;);\r\n            ObjectOutputStream Out = new ObjectOutputStream(fileOut);\r\n            Out.writeObject(phones);\r\n            Out.close();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        ////deserialization///\r\n        try {\r\n            FileInputStream fileIn = new FileInputStream(&quot;phone.ser&quot;);\r\n\r\n            ObjectInputStream objectIn = new ObjectInputStream(fileIn);\r\n\r\n            phones = (ArrayList&lt;Phone&gt;) objectIn.readObject();\r\n            for (Phone phone : phones){\r\n                System.out.println(&quot;Phone Make: &quot; + phone.getMake());\r\n                System.out.println(&quot;Phone Model: &quot; + phone.getModel());\r\n                System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\r\n                System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\r\n                System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\r\n                System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\r\n                System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        }\r\n    }\r\n\r\n\r\n```\r\n```\r\nimport java.io.Serializable;\r\n\r\npublic class Phone implements Serializable {\r\n    private String make;\r\n    private String model;\r\n    private double memory;\r\n    private double camera;\r\n    private double screensize;\r\n    private String smart;\r\n    private int price;\r\n\r\n    public Phone(String make , String model , double memory , double camera, double screensize, String smart , int price){\r\n        this.make = make;\r\n        this.model = model;\r\n        this.memory = memory;\r\n        this.camera = camera;\r\n        this.screensize = screensize;\r\n        this.smart = smart;\r\n        this.price = price;\r\n\r\n    }\r\n\r\n    public String getMake() {\r\n        return make;\r\n    }\r\n\r\n    public String getModel() {\r\n        return model;\r\n    }\r\n\r\n    public double getMemory() {\r\n        return memory;\r\n    }\r\n\r\n    public double getCamera() {\r\n        return camera;\r\n    }\r\n\r\n    public double getScreensize() {\r\n        return screensize;\r\n    }\r\n\r\n    public String getSmart() {\r\n        return smart;\r\n    }\r\n\r\n    public int getPrice() {\r\n        return price;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nWhen I run it I currently have it running onto the console. But needs to be entered into the text field. Thanks\r\n","title":"Show data in a text field from an advanced for loop","body":"<p>A shown in the code below I want the data to be inputted into the textfield when the button is pressed at the moment I have it printing to console how do I add to the textfield ?? is it text.add ??</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.WindowEvent;\nimport java.awt.event.WindowListener;\nimport java.util.ArrayList;\nimport javax.swing.*;\n\n\npublic class displayGui extends JFrame implements WindowListener, ActionListener {\n\n    JButton showData;\n\n    JButton hideData;\n\n    private static final int FRAME_WIDTH = 100;\n    private static final int FRAME_HEIGHT = 100;\n    JTextField text = new JTextField(20);\n    ArrayList&lt;Phone&gt; phones = new ArrayList&lt;&gt;();\n    public displayGui() {\n\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150));\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175));\n        phones.add(new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180));\n        phones.add(new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90));\n        phones.add(new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100));\n        phones.add(new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250));\n        phones.add(new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\n        JFrame frame = new JFrame();\n        JPanel panel = new JPanel();\n\n        addWindowListener(this);\n        showData = new JButton(&quot;Show Data&quot;);\n        add(showData);\n        panel.add(text);\n        showData.addActionListener(this);\n\n\n        panel.add(showData);\n        hideData = new JButton(&quot;Hide Data&quot;);\n        panel.add(hideData);\n        hideData.addActionListener(this);\n        frame.add(panel);\n\n        frame.setSize(FRAME_WIDTH, FRAME_HEIGHT);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n    @Override\n\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource().equals(showData)) {\n            if (showData.isSelected()){\n\n                for (Phone phone : phones){\n                    System.out.println(&quot;Phone Make: &quot; + phone.getMake());\n                    System.out.println(&quot;Phone Model: &quot; + phone.getModel());\n                    System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\n                    System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\n                    System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\n                    System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\n                    System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\n                };\n\n            }\n        }\n\n\n\n        for (Phone phone : phones){\n            System.out.println(&quot;Phone Make: &quot; + phone.getMake());\n            System.out.println(&quot;Phone Model: &quot; + phone.getModel());\n            System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\n            System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\n            System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\n            System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\n            System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\n        }\n\n        text.setText(&quot;Testing&quot;);\n\n    }\n\n    @Override\n    public void windowOpened(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowClosing(WindowEvent e) {\n        dispose();\n        System.exit(0);\n    }\n\n    @Override\n    public void windowClosed(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowIconified(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowDeiconified(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowActivated(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowDeactivated(WindowEvent e) {\n\n    }\n}\n</code></pre>\n<pre><code>import java.io.*;\nimport java.util.ArrayList;\n\npublic class Tester {\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n\n        ArrayList&lt;Phone&gt; phones = new ArrayList&lt;&gt;();\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150));\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175));\n        phones.add(new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180));\n        phones.add(new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90));\n        phones.add(new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100));\n        phones.add(new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250));\n        phones.add(new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\n\n        try {\n            System.out.println(&quot;Check to see if file exists&quot;);\n            FileInputStream fileIn = new FileInputStream(&quot;phone.ser&quot;);\n            System.out.println(&quot;It exists&quot;);\n            ObjectInputStream objectIn = new ObjectInputStream(fileIn);\n            System.out.println(&quot;Reading now&quot;);\n\n\n            phones = (ArrayList&lt;Phone&gt;) objectIn.readObject();\n            for (Phone phone : phones){\n                System.out.println(&quot;Phone Make: &quot; + phone.getMake());\n                System.out.println(&quot;Phone Model: &quot; + phone.getModel());\n                System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\n                System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\n                System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\n                System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\n                System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\n            }\n\n            objectIn.close();\n            } catch (FileNotFoundException e1) {\n            System.out.println(&quot;file does not exist&quot;);\n\n            try {\n                System.out.println(&quot;Creating it now ....&quot;);\n                FileOutputStream fileOut = new FileOutputStream(&quot;phone.ser&quot;);\n\n                ObjectOutputStream objectOut = new ObjectOutputStream(fileOut);\n\n                objectOut.writeObject(phones);\n\n                objectOut.close();\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n            ///deserialization///\n            try {\n                FileInputStream fileIn = new FileInputStream(&quot;phone.ser&quot;);\n\n                ObjectInputStream objectIn = new ObjectInputStream(fileIn);\n                Phone newPhone = (Phone) objectIn.readObject();\n\n                objectIn.close();\n                System.out.println(&quot;Phone Make: &quot; + newPhone.getMake());\n                System.out.println(&quot;Phone Model: &quot; + newPhone.getModel());\n                System.out.println(&quot;Phone Memory: &quot; + newPhone.getMemory());\n                System.out.println(&quot;Phone Camera: &quot; + newPhone.getCamera());\n                System.out.println(&quot;Phone screen-size: &quot; + newPhone.getScreensize());\n                System.out.println(&quot;Is the phone a smart phone: &quot; + newPhone.getSmart());\n                System.out.println(&quot;The phone costs: &quot; + newPhone.getPrice());\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\n</code></pre>\n<pre><code>import java.io.*;\nimport java.util.ArrayList;\n\npublic class MainSer {\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n        new displayGui();\n\n        ArrayList&lt;Phone&gt; phones = new ArrayList&lt;&gt;();\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150));\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175));\n        phones.add(new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180));\n        phones.add(new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90));\n        phones.add(new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100));\n        phones.add(new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250));\n        phones.add(new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\n\n\n\n        //serialization//\n        try {\n            FileOutputStream fileOut = new FileOutputStream(&quot;phone.ser&quot;);\n            ObjectOutputStream Out = new ObjectOutputStream(fileOut);\n            Out.writeObject(phones);\n            Out.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n        ////deserialization///\n        try {\n            FileInputStream fileIn = new FileInputStream(&quot;phone.ser&quot;);\n\n            ObjectInputStream objectIn = new ObjectInputStream(fileIn);\n\n            phones = (ArrayList&lt;Phone&gt;) objectIn.readObject();\n            for (Phone phone : phones){\n                System.out.println(&quot;Phone Make: &quot; + phone.getMake());\n                System.out.println(&quot;Phone Model: &quot; + phone.getModel());\n                System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\n                System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\n                System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\n                System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\n                System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        }\n    }\n\n\n</code></pre>\n<pre><code>import java.io.Serializable;\n\npublic class Phone implements Serializable {\n    private String make;\n    private String model;\n    private double memory;\n    private double camera;\n    private double screensize;\n    private String smart;\n    private int price;\n\n    public Phone(String make , String model , double memory , double camera, double screensize, String smart , int price){\n        this.make = make;\n        this.model = model;\n        this.memory = memory;\n        this.camera = camera;\n        this.screensize = screensize;\n        this.smart = smart;\n        this.price = price;\n\n    }\n\n    public String getMake() {\n        return make;\n    }\n\n    public String getModel() {\n        return model;\n    }\n\n    public double getMemory() {\n        return memory;\n    }\n\n    public double getCamera() {\n        return camera;\n    }\n\n    public double getScreensize() {\n        return screensize;\n    }\n\n    public String getSmart() {\n        return smart;\n    }\n\n    public int getPrice() {\n        return price;\n    }\n}\n\n</code></pre>\n<p>When I run it I currently have it running onto the console. But needs to be entered into the text field. Thanks</p>\n"},{"tags":["java","javadoc","checkstyle"],"comments":[{"owner":{"account_id":14306955,"reputation":61,"user_id":10334564,"display_name":"AndrewT"},"score":0,"creation_date":1537027209,"post_id":52346292,"comment_id":91638359,"body_markdown":"I&#39;m running it through Checkstyle as that is required of the course I am taking. We get styling points knocked off for any checkstyle errors.","body":"I&#39;m running it through Checkstyle as that is required of the course I am taking. We get styling points knocked off for any checkstyle errors."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1537029620,"post_id":52346292,"comment_id":91639014,"body_markdown":"Each project team should decide for themselves the level of Javadoc they need and want. It’s very customary to leave Javadoc out for private variables, and private methods too. My style is to include it if I believe there is something the next programmer reading the code needs to know, and leave it out if I find it easy to get enough information from the variable name (method name) and the usage in the code.","body":"Each project team should decide for themselves the level of Javadoc they need and want. It’s very customary to leave Javadoc out for private variables, and private methods too. My style is to include it if I believe there is something the next programmer reading the code needs to know, and leave it out if I find it easy to get enough information from the variable name (method name) and the usage in the code."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1537026633,"creation_date":1537026633,"answer_id":52346310,"question_id":52346292,"body_markdown":"Javadoc comments start with `/**` and end with `*/`. It&#39;s also customary to start each new line with a `*`. E.g.:\r\n\r\n    /**\r\n     * The label to use.\r\n     */\r\n    private String label = &quot;&quot;;","title":"Do I write javadoc comments for each instance variable?","body":"<p>Javadoc comments start with <code>/**</code> and end with <code>*/</code>. It's also customary to start each new line with a <code>*</code>. E.g.:</p>\n\n<pre><code>/**\n * The label to use.\n */\nprivate String label = \"\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7680885,"reputation":1362,"user_id":5820158,"display_name":"Lindsay-Needs-Sleep"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1568021459,"creation_date":1568021459,"answer_id":57851306,"question_id":52346292,"body_markdown":"You can do it in a single line if that makes it better.\r\n```\r\n/** The session that will be used. */\r\nprivate CastSession session;\r\n```","title":"Do I write javadoc comments for each instance variable?","body":"<p>You can do it in a single line if that makes it better.</p>\n\n<pre><code>/** The session that will be used. */\nprivate CastSession session;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22190037,"reputation":1,"user_id":16432382,"display_name":"Jahongir Hayitov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668013819,"creation_date":1668013773,"answer_id":74378756,"question_id":52346292,"body_markdown":"    /** Description of something. */\r\nThis is a simple JavaDoc, do not forget to put period at the end of the first line.\r\n\r\nYou can read more info: https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html","title":"Do I write javadoc comments for each instance variable?","body":"<pre><code>/** Description of something. */\n</code></pre>\n<p>This is a simple JavaDoc, do not forget to put period at the end of the first line.</p>\n<p>You can read more info: <a href=\"https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html</a></p>\n"}],"owner":{"account_id":14306955,"reputation":61,"user_id":10334564,"display_name":"AndrewT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10525,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1668013819,"creation_date":1537026532,"question_id":52346292,"body_markdown":"    private String label = &quot;&quot;;\r\n    private String color = &quot;&quot;;\r\n    private double edge = 0;\r\n \r\n    public Dodecahedron(String labelIn, String colorIn, double edgeIn)\r\n\r\n\r\n\r\nI am getting an error message stating missing Javadoc comment. [JavadocVariable] (the instance variable lines and [JavadocMethod]\r\n\r\nIs there a specific format or syntax I have to write to get rid of these errors?","title":"Do I write javadoc comments for each instance variable?","body":"<pre><code>private String label = &quot;&quot;;\nprivate String color = &quot;&quot;;\nprivate double edge = 0;\n\npublic Dodecahedron(String labelIn, String colorIn, double edgeIn)\n</code></pre>\n<p>I am getting an error message stating missing Javadoc comment. [JavadocVariable] (the instance variable lines and [JavadocMethod]</p>\n<p>Is there a specific format or syntax I have to write to get rid of these errors?</p>\n"},{"tags":["java","android","android-viewpager","android-tablayout","android-viewpager2"],"comments":[{"owner":{"account_id":6495279,"reputation":1061,"user_id":5028085,"display_name":"AndroidEngineX"},"score":0,"creation_date":1668016528,"post_id":74378683,"comment_id":131307622,"body_markdown":"Hi, I tried your code and its working fine at my end. Where did you apply `smoothscroll`?","body":"Hi, I tried your code and its working fine at my end. Where did you apply <code>smoothscroll</code>?"},{"owner":{"account_id":21466239,"reputation":11,"user_id":15816124,"display_name":"Ismail Hossain"},"score":0,"creation_date":1668017298,"post_id":74378683,"comment_id":131307916,"body_markdown":"@AndroidEngineX  new TabLayoutMediator(tabLayout, viewPager, true, **true**,","body":"@AndroidEngineX  new TabLayoutMediator(tabLayout, viewPager, true, <b>true</b>,"},{"owner":{"account_id":21466239,"reputation":11,"user_id":15816124,"display_name":"Ismail Hossain"},"score":0,"creation_date":1668017457,"post_id":74378683,"comment_id":131307965,"body_markdown":"@AndroidEngineX try selecting page-97 and it will go to page-99","body":"@AndroidEngineX try selecting page-97 and it will go to page-99"},{"owner":{"account_id":6495279,"reputation":1061,"user_id":5028085,"display_name":"AndroidEngineX"},"score":0,"creation_date":1668032760,"post_id":74378683,"comment_id":131312490,"body_markdown":"Hi I tried the same. After trying only I have posted that this issue is not happening. Can you check in different device(ideally it should also work in your current device as well). Here is the video link: https://drive.google.com/file/d/1VnYdAD6DwmGiC_eyi2EZL-_LEk_PP5xG/view?usp=share_link","body":"Hi I tried the same. After trying only I have posted that this issue is not happening. Can you check in different device(ideally it should also work in your current device as well). Here is the video link: <a href=\"https://drive.google.com/file/d/1VnYdAD6DwmGiC_eyi2EZL-_LEk_PP5xG/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1VnYdAD6DwmGiC_eyi2EZL-_LEk_PP5xG/&hellip;</a>"},{"owner":{"account_id":21466239,"reputation":11,"user_id":15816124,"display_name":"Ismail Hossain"},"score":0,"creation_date":1668086936,"post_id":74378683,"comment_id":131324905,"body_markdown":"I have tried it on many devices. And the problem is still happening. This is only happening when the page load is large. The problem doesn&#39;t occur when I&#39;m using a GridLayoutManager with only 2 columns. Your device is so fast. Please try it on a low-end device.","body":"I have tried it on many devices. And the problem is still happening. This is only happening when the page load is large. The problem doesn&#39;t occur when I&#39;m using a GridLayoutManager with only 2 columns. Your device is so fast. Please try it on a low-end device."},{"owner":{"account_id":6495279,"reputation":1061,"user_id":5028085,"display_name":"AndroidEngineX"},"score":0,"creation_date":1668094599,"post_id":74378683,"comment_id":131328047,"body_markdown":"Can you share your recording as well? Also, your minimal reproducible project as well. You can find my project at https://drive.google.com/file/d/16NXEPBskySPT0720phGiFb7wnw7M7-WC/view?usp=share_link","body":"Can you share your recording as well? Also, your minimal reproducible project as well. You can find my project at <a href=\"https://drive.google.com/file/d/16NXEPBskySPT0720phGiFb7wnw7M7-WC/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/16NXEPBskySPT0720phGiFb7wnw7M7-WC/&hellip;</a>"},{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1668225591,"post_id":74378683,"comment_id":131359995,"body_markdown":"check if this helps https://stackoverflow.com/questions/63756126/viewpager2-setoffscreenpagelimit-problem","body":"check if this helps <a href=\"https://stackoverflow.com/questions/63756126/viewpager2-setoffscreenpagelimit-problem\" title=\"viewpager2 setoffscreenpagelimit problem\">stackoverflow.com/questions/63756126/&hellip;</a>"},{"owner":{"account_id":6495279,"reputation":1061,"user_id":5028085,"display_name":"AndroidEngineX"},"score":0,"creation_date":1671810824,"post_id":74378683,"comment_id":132181939,"body_markdown":"@IsmailHossain by the way I am using, emulator and I am pretty much sure you can&#39;t have any device slower that the emulator :)","body":"@IsmailHossain by the way I am using, emulator and I am pretty much sure you can&#39;t have any device slower that the emulator :)"}],"owner":{"account_id":21466239,"reputation":11,"user_id":15816124,"display_name":"Ismail Hossain"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668013386,"creation_date":1668013386,"question_id":74378683,"body_markdown":"ViewPager2 is scrolling to the wrong page when I am selecting a tab from a far position. Swiping and selecting tab of loaded pages working fine. The error is only happening when the page is not loaded and scrolling animation is active. I have created a large viewpager2 with 100 pages containing Recyclerview.\r\n[![enter image description here](https://i.stack.imgur.com/0dbwP.jpg)](https://i.stack.imgur.com/0dbwP.jpg)\r\n\r\nMy Activity\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        TabLayout tabLayout = findViewById(R.id.tabLayout);\r\n        ViewPager2 viewPager = findViewById(R.id.viewPager2);\r\n        viewPager.setAdapter(new viewPagerAdapter(this));\r\n        new TabLayoutMediator(tabLayout, viewPager, true, true,\r\n                ((tab, position) -&gt; tab.setText(&quot;Page: &quot; + position))).attach();\r\n    }\r\n\r\n\r\n    private class viewPagerAdapter extends FragmentStateAdapter {\r\n        public viewPagerAdapter(FragmentActivity fa) {\r\n            super(fa);\r\n        }\r\n\r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            Fragment fragment = new itemFragment();\r\n            Bundle args = new Bundle();\r\n            args.putInt(itemFragment.ARG_PARAM1, position);\r\n            fragment.setArguments(args);\r\n            return fragment;\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return 100;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy Fragment\r\n\r\n```\r\npublic class itemFragment extends Fragment {\r\n    public static final String ARG_PARAM1 = &quot;parram1&quot;;\r\n    int pagePosition;\r\n\r\n    public itemFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        pagePosition = getArguments().getInt(ARG_PARAM1);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.frgment_item, container, false);\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        TextView textView = view.findViewById(R.id.textView);\r\n        textView.setText(&quot;Page - &quot; + pagePosition);\r\n        RecyclerView recyclerView = view.findViewById(R.id.recyclerView);\r\n        recyclerView.setAdapter(new myAdapter());\r\n        recyclerView.setLayoutManager(new GridLayoutManager(getContext(), 16));\r\n    }\r\n\r\n\r\n\r\n    private class myAdapter extends RecyclerView.Adapter&lt;Myvh&gt; {\r\n        @Override\r\n        public Myvh onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            return new Myvh(new TextView(getContext()));\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(Myvh holder, int position) {\r\n            int codepoint=pagePosition*700 + position;\r\n            char[] ch=Character.toChars(codepoint);\r\n            holder.textView.setText(String.valueOf(ch));\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() { return 700; }\r\n    }\r\n\r\n    private class Myvh extends RecyclerView.ViewHolder {\r\n        TextView textView;\r\n\r\n        public Myvh(View itemView) {\r\n            super(itemView);\r\n            textView = (TextView) itemView;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI have also tried Recyclerview adapter instead of FragmentStateAdapter and getting same problem.\r\nI have found some solution but not sufficient.\r\n**Those are:**\r\n1. Using old ViewPager(deprecated)\r\n2. Using `viewPager.setOffscreenPageLimit(100);` (taking huge time to load activity)\r\n3. Disabling smoothscroll ( looks awful when swiping)","title":"TabLayoutMediator with ViewPager2 is synchronizing wrong on tab selection -Android java","body":"<p>ViewPager2 is scrolling to the wrong page when I am selecting a tab from a far position. Swiping and selecting tab of loaded pages working fine. The error is only happening when the page is not loaded and scrolling animation is active. I have created a large viewpager2 with 100 pages containing Recyclerview.\n<a href=\"https://i.stack.imgur.com/0dbwP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0dbwP.jpg\" alt=\"enter image description here\" /></a></p>\n<p>My Activity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        TabLayout tabLayout = findViewById(R.id.tabLayout);\n        ViewPager2 viewPager = findViewById(R.id.viewPager2);\n        viewPager.setAdapter(new viewPagerAdapter(this));\n        new TabLayoutMediator(tabLayout, viewPager, true, true,\n                ((tab, position) -&gt; tab.setText(&quot;Page: &quot; + position))).attach();\n    }\n\n\n    private class viewPagerAdapter extends FragmentStateAdapter {\n        public viewPagerAdapter(FragmentActivity fa) {\n            super(fa);\n        }\n\n        @Override\n        public Fragment createFragment(int position) {\n            Fragment fragment = new itemFragment();\n            Bundle args = new Bundle();\n            args.putInt(itemFragment.ARG_PARAM1, position);\n            fragment.setArguments(args);\n            return fragment;\n        }\n\n        @Override\n        public int getItemCount() {\n            return 100;\n        }\n    }\n}\n</code></pre>\n<p>My Fragment</p>\n<pre><code>public class itemFragment extends Fragment {\n    public static final String ARG_PARAM1 = &quot;parram1&quot;;\n    int pagePosition;\n\n    public itemFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        pagePosition = getArguments().getInt(ARG_PARAM1);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.frgment_item, container, false);\n        return view;\n    }\n\n    @Override\n    public void onViewCreated(View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        TextView textView = view.findViewById(R.id.textView);\n        textView.setText(&quot;Page - &quot; + pagePosition);\n        RecyclerView recyclerView = view.findViewById(R.id.recyclerView);\n        recyclerView.setAdapter(new myAdapter());\n        recyclerView.setLayoutManager(new GridLayoutManager(getContext(), 16));\n    }\n\n\n\n    private class myAdapter extends RecyclerView.Adapter&lt;Myvh&gt; {\n        @Override\n        public Myvh onCreateViewHolder(ViewGroup parent, int viewType) {\n            return new Myvh(new TextView(getContext()));\n        }\n\n        @Override\n        public void onBindViewHolder(Myvh holder, int position) {\n            int codepoint=pagePosition*700 + position;\n            char[] ch=Character.toChars(codepoint);\n            holder.textView.setText(String.valueOf(ch));\n        }\n\n        @Override\n        public int getItemCount() { return 700; }\n    }\n\n    private class Myvh extends RecyclerView.ViewHolder {\n        TextView textView;\n\n        public Myvh(View itemView) {\n            super(itemView);\n            textView = (TextView) itemView;\n        }\n    }\n}\n\n</code></pre>\n<p>I have also tried Recyclerview adapter instead of FragmentStateAdapter and getting same problem.\nI have found some solution but not sufficient.\n<strong>Those are:</strong></p>\n<ol>\n<li>Using old ViewPager(deprecated)</li>\n<li>Using <code>viewPager.setOffscreenPageLimit(100);</code> (taking huge time to load activity)</li>\n<li>Disabling smoothscroll ( looks awful when swiping)</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1651767174,"post_id":72130196,"comment_id":127446796,"body_markdown":"[Similar](https://stackoverflow.com/questions/3250280/ignore-sigint-in-java) [question](https://stackoverflow.com/questions/2975248/how-to-handle-a-sigterm), though since neither of those seems to provide a working *solution*, I wouldn&#39;t dare close this as a dup of either.","body":"<a href=\"https://stackoverflow.com/questions/3250280/ignore-sigint-in-java\">Similar</a> <a href=\"https://stackoverflow.com/questions/2975248/how-to-handle-a-sigterm\">question</a>, though since neither of those seems to provide a working <i>solution</i>, I wouldn&#39;t dare close this as a dup of either."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1651767322,"post_id":72130196,"comment_id":127446838,"body_markdown":"This isn&#39;t really so much a problem with java as with the way you are running it / the console. Java run as a background service for example doesn&#39;t have this issue. You just need a better replacement for the console","body":"This isn&#39;t really so much a problem with java as with the way you are running it / the console. Java run as a background service for example doesn&#39;t have this issue. You just need a better replacement for the console"},{"owner":{"account_id":22739853,"reputation":57,"user_id":19044875,"display_name":"hikaru jakafura"},"score":0,"creation_date":1651768660,"post_id":72130196,"comment_id":127447341,"body_markdown":"I want to know if there is way to  achieve this as a java console program or it&#39;s impossible...","body":"I want to know if there is way to  achieve this as a java console program or it&#39;s impossible..."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1668013794,"post_id":72130196,"comment_id":131306641,"body_markdown":"In Python you can catch `KeyboardInterrupt` and your program can keep going; it&#39;s not clear why Java fundamentally cannot do the same thing, but it does seem that it cannot. (At most you can register a shutdown hook, but you can&#39;t stop the program from shutting down.)","body":"In Python you can catch <code>KeyboardInterrupt</code> and your program can keep going; it&#39;s not clear why Java fundamentally cannot do the same thing, but it does seem that it cannot. (At most you can register a shutdown hook, but you can&#39;t stop the program from shutting down.)"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1651831877,"creation_date":1651831877,"answer_id":72139795,"question_id":72130196,"body_markdown":"You can run the java application as a background process by using the `&amp;` in the end of the command. \r\n\r\nThis way the CTRL + C in your command line will not force the application to exit and you can still execute other commands in your command line tool.\r\n\r\n    #!/bin/sh\r\n    java -jar myApp.jar &amp; ","title":"How to tell Java to not exit when interrupt signal (Ctrl+C) is received","body":"<p>You can run the java application as a background process by using the <code>&amp;</code> in the end of the command.</p>\n<p>This way the CTRL + C in your command line will not force the application to exit and you can still execute other commands in your command line tool.</p>\n<pre><code>#!/bin/sh\njava -jar myApp.jar &amp; \n</code></pre>\n"}],"owner":{"account_id":22739853,"reputation":57,"user_id":19044875,"display_name":"hikaru jakafura"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"answer_count":1,"score":4,"last_activity_date":1668013058,"creation_date":1651766141,"question_id":72130196,"body_markdown":"In a Java console application, I would like to handle Ctrl+C by printing:\r\n\r\n&gt;Do you really want to exit (y,N)?\r\n\r\nTerminate normally when &#39;y&#39; is pressed but continue running if anything else is pressed.\r\n\r\nIs this possible in Java?\r\n\r\n\r\n# Original\r\n\r\nI know how to shutdown Java application gracefully by adding shutdown hook, or how to handle signals like interrupt or TERM.\r\n\r\nThe problem here is, in C, when I handle the interrupt I can force the app to exit or to just print a message and continue working. I want to do something like this. When you press Ctrl+C, I ask you do you really want to exit (y,n).\r\n\r\nHowever, in Java I see that all I can do is write something before exiting, so I will always exit no matter what. What is the solution to this problem?","title":"How to tell Java to not exit when interrupt signal (Ctrl+C) is received","body":"<p>In a Java console application, I would like to handle Ctrl+C by printing:</p>\n<blockquote>\n<p>Do you really want to exit (y,N)?</p>\n</blockquote>\n<p>Terminate normally when 'y' is pressed but continue running if anything else is pressed.</p>\n<p>Is this possible in Java?</p>\n<h1>Original</h1>\n<p>I know how to shutdown Java application gracefully by adding shutdown hook, or how to handle signals like interrupt or TERM.</p>\n<p>The problem here is, in C, when I handle the interrupt I can force the app to exit or to just print a message and continue working. I want to do something like this. When you press Ctrl+C, I ask you do you really want to exit (y,n).</p>\n<p>However, in Java I see that all I can do is write something before exiting, so I will always exit no matter what. What is the solution to this problem?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":8898907,"reputation":8529,"user_id":6642927,"display_name":"Dishonered"},"score":0,"creation_date":1527587355,"post_id":50581234,"comment_id":88171674,"body_markdown":"I tried Adding Java code in Kotiln using Streams but that is supported only on API  levels 24 and higher","body":"I tried Adding Java code in Kotiln using Streams but that is supported only on API  levels 24 and higher"}],"answers":[{"tags":[],"owner":{"account_id":4167652,"reputation":5072,"user_id":3416272,"accept_rate":84,"display_name":"Md Johirul Islam"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1658797306,"creation_date":1527587641,"answer_id":50581392,"question_id":50581234,"body_markdown":" One option is to use the array constructor as following:\r\n\r\n    var amplititudes  = IntArray(10) { Random().nextInt() }.asList()\r\n\r\nAnother strategy is:\r\n\r\n    var amplititudes  = (1..10).map { Random().nextInt() }\r\n\r\n**EDIT (OUTDATED!)**\r\n\r\n*You no longer need to do this, as Kotlin will only create a single instance of Random.*\r\n\r\nAs suggested in the comment instead of creating an instance of `Random` each time it is better to initialize it once:\r\n\r\n    var ran = Random()\r\n    var amplititudes  = (1..10).map { ran.nextInt() }\r\n","title":"Kotlin - Create an ArrayList of random Integers of specified length?","body":"<p>One option is to use the array constructor as following:</p>\n<pre><code>var amplititudes  = IntArray(10) { Random().nextInt() }.asList()\n</code></pre>\n<p>Another strategy is:</p>\n<pre><code>var amplititudes  = (1..10).map { Random().nextInt() }\n</code></pre>\n<p><strong>EDIT (OUTDATED!)</strong></p>\n<p><em>You no longer need to do this, as Kotlin will only create a single instance of Random.</em></p>\n<p>As suggested in the comment instead of creating an instance of <code>Random</code> each time it is better to initialize it once:</p>\n<pre><code>var ran = Random()\nvar amplititudes  = (1..10).map { ran.nextInt() }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1631957583,"creation_date":1527588106,"answer_id":50581554,"question_id":50581234,"body_markdown":"Based to the answer of [@Md Johirul Islam][1] You can also use :\r\n\r\n    val from = 0\r\n    val to = 11\r\n    val random = Random\r\n    var amplititudes  = IntArray(10) { random.nextInt(to - from) +  from }.asList()\r\n\r\nin this solution you can specify the range of ints that you want, from 0 to 10 for example\r\n\r\n  [1]: https://stackoverflow.com/a/50581392/5558072","title":"Kotlin - Create an ArrayList of random Integers of specified length?","body":"<p>Based to the answer of <a href=\"https://stackoverflow.com/a/50581392/5558072\">@Md Johirul Islam</a> You can also use :</p>\n<pre><code>val from = 0\nval to = 11\nval random = Random\nvar amplititudes  = IntArray(10) { random.nextInt(to - from) +  from }.asList()\n</code></pre>\n<p>in this solution you can specify the range of ints that you want, from 0 to 10 for example</p>\n"},{"tags":[],"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527588310,"creation_date":1527588310,"answer_id":50581617,"question_id":50581234,"body_markdown":"Maybe something like this:\r\n\r\n    val amplitudes = ThreadLocalRandom.current().let { rnd -&gt;\r\n        IntArray(5) { rnd.nextInt() }\r\n    }\r\n\r\nOr this:\r\n\r\n    val amplitudes = ThreadLocalRandom.current().let { rnd -&gt;\r\n        (0..5).map { rnd.nextInt() }.toIntArray()\r\n    }","title":"Kotlin - Create an ArrayList of random Integers of specified length?","body":"<p>Maybe something like this:</p>\n\n<pre><code>val amplitudes = ThreadLocalRandom.current().let { rnd -&gt;\n    IntArray(5) { rnd.nextInt() }\n}\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>val amplitudes = ThreadLocalRandom.current().let { rnd -&gt;\n    (0..5).map { rnd.nextInt() }.toIntArray()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668012744,"creation_date":1547072462,"answer_id":54119252,"question_id":50581234,"body_markdown":"Since Kotlin 1.3 was released there is no need to use Java&#39;s [`java.util.Random`][1] which would restrict your code to the JVM. Instead [`kotlin.random.Random`][2] was introduced which is available on all platforms that support Kotlin.\r\n\r\n    val amplititudes  = IntArray(10) { Random.nextInt() }.asList()\r\n\r\nSince you work with a companion object, you don&#39;t need to worry about instanting a `Random` object each iteration (like it was with the Java one that you would have had to put in a variable).\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\r\n  [2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.random/-random/index.html","title":"Kotlin - Create an ArrayList of random Integers of specified length?","body":"<p>Since Kotlin 1.3 was released there is no need to use Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\"><code>java.util.Random</code></a> which would restrict your code to the JVM. Instead <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.random/-random/index.html\" rel=\"nofollow noreferrer\"><code>kotlin.random.Random</code></a> was introduced which is available on all platforms that support Kotlin.</p>\n<pre><code>val amplititudes  = IntArray(10) { Random.nextInt() }.asList()\n</code></pre>\n<p>Since you work with a companion object, you don't need to worry about instanting a <code>Random</code> object each iteration (like it was with the Java one that you would have had to put in a variable).</p>\n"},{"tags":[],"owner":{"account_id":11711420,"reputation":55,"user_id":8573240,"display_name":"Mickey Mouse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557969040,"creation_date":1557943154,"answer_id":56155189,"question_id":50581234,"body_markdown":"To generate a random number of specified length of List and between certain limits, use:\r\n```\r\nval rnds = (1..10).map { (0..130).random() }\r\n```\r\nWhere `(1..0)` -&gt; return list of 10 items\r\n`(0..130)` -&gt; return random number between given range","title":"Kotlin - Create an ArrayList of random Integers of specified length?","body":"<p>To generate a random number of specified length of List and between certain limits, use:</p>\n\n<pre><code>val rnds = (1..10).map { (0..130).random() }\n</code></pre>\n\n<p>Where <code>(1..0)</code> -> return list of 10 items\n<code>(0..130)</code> -> return random number between given range</p>\n"},{"tags":[],"owner":{"account_id":1953309,"reputation":2211,"user_id":1756939,"display_name":"AndrewBloom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576087954,"creation_date":1576085557,"answer_id":59291193,"question_id":50581234,"body_markdown":"At this time, is not specified in your question the range of the Ints and how many do you need.\r\n\r\nSo I restrict the case to [n,m] interval, and I suppose you want all the m-n+1 elements.\r\n\r\nTaking advantage of method shuffle of ArrayList, \r\n     \r\n    var shuffledList = ArrayList((n..m).toList())\r\n    shuffledList.shuffle()","title":"Kotlin - Create an ArrayList of random Integers of specified length?","body":"<p>At this time, is not specified in your question the range of the Ints and how many do you need.</p>\n\n<p>So I restrict the case to [n,m] interval, and I suppose you want all the m-n+1 elements.</p>\n\n<p>Taking advantage of method shuffle of ArrayList, </p>\n\n<pre><code>var shuffledList = ArrayList((n..m).toList())\nshuffledList.shuffle()\n</code></pre>\n"}],"owner":{"account_id":8898907,"reputation":8529,"user_id":6642927,"display_name":"Dishonered"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13518,"favorite_count":0,"down_vote_count":2,"up_vote_count":15,"accepted_answer_id":50581392,"answer_count":6,"score":13,"last_activity_date":1668012744,"creation_date":1527587158,"question_id":50581234,"body_markdown":"I have an `ArrayList` like this :\r\n\r\n    var amplititudes : ArrayList&lt;Int&gt; = ArrayList()\r\n\r\nI want to populate this with random Ints. How can I do this?","title":"Kotlin - Create an ArrayList of random Integers of specified length?","body":"<p>I have an <code>ArrayList</code> like this :</p>\n\n<pre><code>var amplititudes : ArrayList&lt;Int&gt; = ArrayList()\n</code></pre>\n\n<p>I want to populate this with random Ints. How can I do this?</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668012490,"creation_date":1668012490,"answer_id":74378513,"question_id":74378238,"body_markdown":"You have to make one side the &quot;owner&quot; and the other side the &quot;inverse side&quot;.\r\n\r\nWith your mapping, you have to separate relationships between User and Qualification.\r\n\r\nYou can do this with the mappedBy attribute:\r\n\r\n    @OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;user&quot;)  \r\n    private Qualification qualification;\r\n\r\nSo mappedBy points to the owner side of the relationship.","title":"cascade all with one to one doesn&#39;t work on delete action as expected","body":"<p>You have to make one side the &quot;owner&quot; and the other side the &quot;inverse side&quot;.</p>\n<p>With your mapping, you have to separate relationships between User and Qualification.</p>\n<p>You can do this with the mappedBy attribute:</p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;user&quot;)  \nprivate Qualification qualification;\n</code></pre>\n<p>So mappedBy points to the owner side of the relationship.</p>\n"}],"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74378513,"answer_count":1,"score":0,"last_activity_date":1668012490,"creation_date":1668011135,"question_id":74378238,"body_markdown":"I would like when I delete an entity the other entity get deleted \r\n\r\nhere&#39;s the first entity\r\n\r\n    @Table(name = &quot;qualification&quot;)\r\n    public class Qualification {\r\n    \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;QUALIFICATION_PK_SEQ&quot;)\r\n            @SequenceGenerator(name = &quot;QUALIFICATION_PK_SEQ&quot;, sequenceName = &quot;QUALIFICATION_PK_SEQ&quot;, allocationSize = 1)\r\n            private Long id;\r\n    \r\n            @JsonManagedReference\r\n            @OneToOne(cascade = CascadeType.ALL)\r\n            private User user;\r\n    //attributes, getters, setters\r\n    }\r\n\r\nthe other entity\r\n\r\n    @Table(name = &quot;user&quot;)\r\n        public class User {\r\n        \r\n                @Id\r\n                @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;USER_PK_SEQ&quot;)\r\n                @SequenceGenerator(name = &quot;USER_PK_SEQ&quot;, sequenceName = &quot;USER_PK_SEQ&quot;, allocationSize = 1)\r\n                private Long id;\r\n        \r\n      @OneToOne(cascade = CascadeType.ALL)\r\n        private Qualification qualification;\r\n    //attributes, getters, setters\r\n    }\r\n\r\n**so when I delete a user I got this error** \r\n\r\n&gt; oracle.jdbc.OracleDatabaseException: ora-02292 integrity constraint\r\n&gt; child record found\r\n\r\nthanks in advance","title":"cascade all with one to one doesn&#39;t work on delete action as expected","body":"<p>I would like when I delete an entity the other entity get deleted</p>\n<p>here's the first entity</p>\n<pre><code>@Table(name = &quot;qualification&quot;)\npublic class Qualification {\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;QUALIFICATION_PK_SEQ&quot;)\n        @SequenceGenerator(name = &quot;QUALIFICATION_PK_SEQ&quot;, sequenceName = &quot;QUALIFICATION_PK_SEQ&quot;, allocationSize = 1)\n        private Long id;\n\n        @JsonManagedReference\n        @OneToOne(cascade = CascadeType.ALL)\n        private User user;\n//attributes, getters, setters\n}\n</code></pre>\n<p>the other entity</p>\n<pre><code>@Table(name = &quot;user&quot;)\n    public class User {\n    \n            @Id\n            @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;USER_PK_SEQ&quot;)\n            @SequenceGenerator(name = &quot;USER_PK_SEQ&quot;, sequenceName = &quot;USER_PK_SEQ&quot;, allocationSize = 1)\n            private Long id;\n    \n  @OneToOne(cascade = CascadeType.ALL)\n    private Qualification qualification;\n//attributes, getters, setters\n}\n</code></pre>\n<p><strong>so when I delete a user I got this error</strong></p>\n<blockquote>\n<p>oracle.jdbc.OracleDatabaseException: ora-02292 integrity constraint\nchild record found</p>\n</blockquote>\n<p>thanks in advance</p>\n"},{"tags":["java","elasticsearch","kibana"],"answers":[{"tags":[],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657561673,"creation_date":1657561673,"answer_id":72942676,"question_id":72942422,"body_markdown":"In Kibana, I just need to include it with the query\r\n\r\nIE\r\n\r\n    {\r\n      ...\r\n      ...\r\n      version : true\r\n    }","title":"Display &quot;Seq_no&quot; and &quot;primary_term&quot; in Elastic&#39;s response","body":"<p>In Kibana, I just need to include it with the query</p>\n<p>IE</p>\n<pre><code>{\n  ...\n  ...\n  version : true\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23043078,"reputation":111,"user_id":17160974,"display_name":"Stuart Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668012444,"creation_date":1668012444,"answer_id":74378501,"question_id":72942422,"body_markdown":"This may have changed since the accepted answer, or it may have been about retrieving. But the issue is relevant for search.\r\n\r\nNormally, a GET on a document will return the version, the sequence number and the primary term. But a search does not. It only [returns the ID, index, document type and score (plus the document)][1].\r\n\r\nElasticSearch 7 and later have a [`version` parameter][2] that adds the document `_version` to the return and a [`seq_no_primary_term` parameter][3] that adds the `seq_no` and `primary_term` to the return. Both can be supplied as a parameter or a value in the body.\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html#search-api-response-body\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html#request-body-search-version\r\n  [3]: https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html#request-body-search-seq-no-primary-term","title":"Display &quot;Seq_no&quot; and &quot;primary_term&quot; in Elastic&#39;s response","body":"<p>This may have changed since the accepted answer, or it may have been about retrieving. But the issue is relevant for search.</p>\n<p>Normally, a GET on a document will return the version, the sequence number and the primary term. But a search does not. It only <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html#search-api-response-body\" rel=\"nofollow noreferrer\">returns the ID, index, document type and score (plus the document)</a>.</p>\n<p>ElasticSearch 7 and later have a <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html#request-body-search-version\" rel=\"nofollow noreferrer\"><code>version</code> parameter</a> that adds the document <code>_version</code> to the return and a <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html#request-body-search-seq-no-primary-term\" rel=\"nofollow noreferrer\"><code>seq_no_primary_term</code> parameter</a> that adds the <code>seq_no</code> and <code>primary_term</code> to the return. Both can be supplied as a parameter or a value in the body.</p>\n"}],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72942676,"answer_count":2,"score":0,"last_activity_date":1668012444,"creation_date":1657560278,"question_id":72942422,"body_markdown":"I am trying to retrieve the &quot;_seq_no&quot; and &quot;_primary_term&quot; from my elastic search cluster, however it is not displaying in Kibana or when I run a search through my Java application.  I KNOW there&#39;s a setting or param I am missing to get this info back.  I&#39;ve looked around, however I have not been able to find out where I need to make the changes.\r\n\r\nCan anyone point me in the right direction?","title":"Display &quot;Seq_no&quot; and &quot;primary_term&quot; in Elastic&#39;s response","body":"<p>I am trying to retrieve the &quot;_seq_no&quot; and &quot;_primary_term&quot; from my elastic search cluster, however it is not displaying in Kibana or when I run a search through my Java application.  I KNOW there's a setting or param I am missing to get this info back.  I've looked around, however I have not been able to find out where I need to make the changes.</p>\n<p>Can anyone point me in the right direction?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1668008163,"post_id":74377374,"comment_id":131304473,"body_markdown":"You don&#39;t need three loops. I can give you a suggestion: why don&#39;t you use another variable besides ``i`` for inserting the elements in the new array?","body":"You don&#39;t need three loops. I can give you a suggestion: why don&#39;t you use another variable besides <code>i</code> for inserting the elements in the new array?"}],"answers":[{"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668010869,"creation_date":1668010177,"answer_id":74378022,"question_id":74377374,"body_markdown":"[&quot;Keep it simple, stupid!&quot;](https://en.wikipedia.org/wiki/KISS_principle)\r\n\r\nFor this task, you absolutely don&#39;t need to have three cycles. One cycle is enough. All you needs is to properly increment resulting array index.\r\n\r\n```\r\npublic static int[] duplicateElements(final int[] origin) {\r\n        int[] result = new int[origin.length * 2];\r\n        int resultIndex = 0;\r\n\r\n        for (int i : origin) {\r\n            result[resultIndex++] = i;\r\n            result[resultIndex++] = i;\r\n        }\r\n        return result;\r\n    }\r\n```\r\nEDIT:\r\nJust for more clarity. At every step along the source array, you need to take two steps according to the resulting array.\r\n```\r\nfor (int i : origin) {\r\n    result[resultIndex] = i;\r\n    result[resultIndex + 1] = i;\r\n    resultIndex += 2;\r\n}\r\n```","title":"Duplicate elements of array in Java","body":"<p><a href=\"https://en.wikipedia.org/wiki/KISS_principle\" rel=\"nofollow noreferrer\">&quot;Keep it simple, stupid!&quot;</a></p>\n<p>For this task, you absolutely don't need to have three cycles. One cycle is enough. All you needs is to properly increment resulting array index.</p>\n<pre><code>public static int[] duplicateElements(final int[] origin) {\n        int[] result = new int[origin.length * 2];\n        int resultIndex = 0;\n\n        for (int i : origin) {\n            result[resultIndex++] = i;\n            result[resultIndex++] = i;\n        }\n        return result;\n    }\n</code></pre>\n<p>EDIT:\nJust for more clarity. At every step along the source array, you need to take two steps according to the resulting array.</p>\n<pre><code>for (int i : origin) {\n    result[resultIndex] = i;\n    result[resultIndex + 1] = i;\n    resultIndex += 2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668012374,"creation_date":1668012374,"answer_id":74378484,"question_id":74377374,"body_markdown":"You copied the original array into the first half, and in the second half you copied - reversing - the original array again.\r\n\r\nIntended:\r\n\r\n    public static int[] duplicateElements(final int[] elements){\r\n        int duplicate = 0 ;\r\n        int [] newArray = new int [elements.length*2];\r\n        for (int i = 0; i &lt; elements.length; i++) {\r\n            newArray[2*i] = elements[i];  \r\n            newArray[2*i + 1] = elements[i];  \r\n        }\r\n        return newArray;\r\n    }\r\n\r\nOr use\r\n\r\n        for (int i = 0; i &lt; newArray.length; ++i) {\r\n            newArray[i] = elements[i / 2];  \r\n        }\r\n\r\nWhere `/` is the integer division: 2/2 == 1, 3/2 == 1.\r\n\r\nNow the class `Arrays` allows this to do more expressive\r\n\r\n    public static int[] duplicateElements(final int[] elements){\r\n        int[] duplicates = new int[elements.length*2];\r\n        Arrays.setAll(duplicates, i -&gt; elements[i / 2]);\r\n        return duplicates;\r\n    }\r\n\r\nThe above uses an anonymous function with int parameter i.\r\n","title":"Duplicate elements of array in Java","body":"<p>You copied the original array into the first half, and in the second half you copied - reversing - the original array again.</p>\n<p>Intended:</p>\n<pre><code>public static int[] duplicateElements(final int[] elements){\n    int duplicate = 0 ;\n    int [] newArray = new int [elements.length*2];\n    for (int i = 0; i &lt; elements.length; i++) {\n        newArray[2*i] = elements[i];  \n        newArray[2*i + 1] = elements[i];  \n    }\n    return newArray;\n}\n</code></pre>\n<p>Or use</p>\n<pre><code>    for (int i = 0; i &lt; newArray.length; ++i) {\n        newArray[i] = elements[i / 2];  \n    }\n</code></pre>\n<p>Where <code>/</code> is the integer division: 2/2 == 1, 3/2 == 1.</p>\n<p>Now the class <code>Arrays</code> allows this to do more expressive</p>\n<pre><code>public static int[] duplicateElements(final int[] elements){\n    int[] duplicates = new int[elements.length*2];\n    Arrays.setAll(duplicates, i -&gt; elements[i / 2]);\n    return duplicates;\n}\n</code></pre>\n<p>The above uses an anonymous function with int parameter i.</p>\n"}],"owner":{"account_id":22684772,"reputation":1,"user_id":16854605,"display_name":"WhosWho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1668012374,"creation_date":1668007597,"question_id":74377374,"body_markdown":"How to duplicate elements of an array in Java and add them to a new array in the same order of the original array?\r\n\r\n    // Pass an array of the form {4, 16, 8},\r\n    // The returned array should then contain {4, 4, 16, 16, 8, 8}.\r\n\r\n    public static int[] duplicateElements(final int[] elements){\r\n\t\tint duplicate = 0 ;\r\n\t\tint [] newArray = new int [elements.length*2];\r\n\t\tfor(int i = 0; i &lt; elements.length;i++) {\r\n\t\t\tnewArray[i] = elements[i];\t\r\n\t\t}\r\n\t\tfor(int j = 0; j &lt; newArray.length/2;j++) {\r\n\t\t\tnewArray[newArray.length-j-1] = newArray[j];\r\n\t\t\t\r\n\t\t}\r\n\t\tfor(int i = 0; i &lt; (newArray.length/2) ;i++) {\r\n\t\t\tduplicate = newArray[i];\r\n\t\t\tnewArray[i+1] = newArray[newArray.length-i-1];\r\n\t\t\tnewArray[newArray.length-i-1] = duplicate;\t\r\n\t\t}\r\n\t\t\r\n\t\treturn newArray;\r\n\t}\r\n    public static void main(String[] args) {\r\n    \t\t\r\n    \t\tint [] newArray = new int []{4, 16, 8};\r\n    \t\t\r\n    \t\tSystem.out.println(Arrays.toString(duplicateElements(newArray)));\r\n    \r\n    \t}\r\n\r\nPlease explain why the above code is not working.\r\n\r\nMy output is : `// [4, 4, 16, 16, 4, 4]` \r\n\r\nInstead of : `// [4, 4, 16, 16, 8, 8]` \r\n","title":"Duplicate elements of array in Java","body":"<p>How to duplicate elements of an array in Java and add them to a new array in the same order of the original array?</p>\n<pre><code>// Pass an array of the form {4, 16, 8},\n// The returned array should then contain {4, 4, 16, 16, 8, 8}.\n\npublic static int[] duplicateElements(final int[] elements){\n    int duplicate = 0 ;\n    int [] newArray = new int [elements.length*2];\n    for(int i = 0; i &lt; elements.length;i++) {\n        newArray[i] = elements[i];  \n    }\n    for(int j = 0; j &lt; newArray.length/2;j++) {\n        newArray[newArray.length-j-1] = newArray[j];\n        \n    }\n    for(int i = 0; i &lt; (newArray.length/2) ;i++) {\n        duplicate = newArray[i];\n        newArray[i+1] = newArray[newArray.length-i-1];\n        newArray[newArray.length-i-1] = duplicate;  \n    }\n    \n    return newArray;\n}\npublic static void main(String[] args) {\n        \n        int [] newArray = new int []{4, 16, 8};\n        \n        System.out.println(Arrays.toString(duplicateElements(newArray)));\n\n    }\n</code></pre>\n<p>Please explain why the above code is not working.</p>\n<p>My output is : <code>// [4, 4, 16, 16, 4, 4]</code></p>\n<p>Instead of : <code>// [4, 4, 16, 16, 8, 8]</code></p>\n"},{"tags":["java","spring-boot","repository"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668012349,"creation_date":1668012349,"answer_id":74378477,"question_id":74378401,"body_markdown":"Simply add an int as return value.\r\n\r\n    @Modifying(clearAutomatically = true)\r\n    @Transactional\r\n    @Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = CAST(salario+(salario * :percentualAumento)/100 AS NUMERIC(18,2)) &quot;\r\n                      + &quot;WHERE id IN (:funcionarioId) &quot;\r\n                          + &quot;AND (:alterarFuncionariosDemitidos IS true OR condicao &lt;&gt; &#39;Inativo&#39;)&quot;)\r\n    int AlterarSalarioSelecionadosPorPercentual(Double percentualAumento, Long funcionarioId, Boolean alterarFuncionariosDemitidos);\r\n","title":"get method value from java spring boot repository","body":"<p>Simply add an int as return value.</p>\n<pre><code>@Modifying(clearAutomatically = true)\n@Transactional\n@Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = CAST(salario+(salario * :percentualAumento)/100 AS NUMERIC(18,2)) &quot;\n                  + &quot;WHERE id IN (:funcionarioId) &quot;\n                      + &quot;AND (:alterarFuncionariosDemitidos IS true OR condicao &lt;&gt; 'Inativo')&quot;)\nint AlterarSalarioSelecionadosPorPercentual(Double percentualAumento, Long funcionarioId, Boolean alterarFuncionariosDemitidos);\n</code></pre>\n"}],"owner":{"account_id":8792654,"reputation":3,"user_id":20291837,"display_name":"Gabryel Frk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668012349,"creation_date":1668011915,"question_id":74378401,"body_markdown":"my query returns an INT, which would be the number of rows affected.\r\n\r\nI would like to know, how do I retrieve this value in the controller or service, or in the repository itself\r\n\r\n```\r\n@Modifying(clearAutomatically = true)\r\n@Transactional\r\n@Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = CAST(salario+(salario * :percentualAumento)/100 AS NUMERIC(18,2)) &quot;\r\n\t\t\t\t  + &quot;WHERE id IN (:funcionarioId) &quot;\r\n\t\t\t          + &quot;AND (:alterarFuncionariosDemitidos IS true OR condicao &lt;&gt; &#39;Inativo&#39;)&quot;)\r\nvoid AlterarSalarioSelecionadosPorPercentual(Double percentualAumento, Long funcionarioId, Boolean alterarFuncionariosDemitidos);\r\n```\r\n\r\ni need get method value from java spring boot repository","title":"get method value from java spring boot repository","body":"<p>my query returns an INT, which would be the number of rows affected.</p>\n<p>I would like to know, how do I retrieve this value in the controller or service, or in the repository itself</p>\n<pre><code>@Modifying(clearAutomatically = true)\n@Transactional\n@Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = CAST(salario+(salario * :percentualAumento)/100 AS NUMERIC(18,2)) &quot;\n                  + &quot;WHERE id IN (:funcionarioId) &quot;\n                      + &quot;AND (:alterarFuncionariosDemitidos IS true OR condicao &lt;&gt; 'Inativo')&quot;)\nvoid AlterarSalarioSelecionadosPorPercentual(Double percentualAumento, Long funcionarioId, Boolean alterarFuncionariosDemitidos);\n</code></pre>\n<p>i need get method value from java spring boot repository</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1668005272,"post_id":74376768,"comment_id":131303241,"body_markdown":"it is a shortcut for `sum = sum + Integer.parseInt(String.valueOf(a.charAt(x)));`\nThe loop goes through all the characters in `a`, transform them into numbers and sum them into the `sum` variable","body":"it is a shortcut for <code>sum = sum + Integer.parseInt(String.valueOf(a.charAt(x)));</code> The loop goes through all the characters in <code>a</code>, transform them into numbers and sum them into the <code>sum</code> variable"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668005368,"post_id":74376768,"comment_id":131303275,"body_markdown":"Which part of that line confuses you? have you checked the official documentation of the methods used like [Integer.paseInt](https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-), [the charAt method of String](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#charAt-int-) etc. pp?","body":"Which part of that line confuses you? have you checked the official documentation of the methods used like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-\" rel=\"nofollow noreferrer\">Integer.paseInt</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#charAt-int-\" rel=\"nofollow noreferrer\">the charAt method of String</a> etc. pp?"},{"owner":{"account_id":11391306,"reputation":15,"user_id":20459874,"display_name":"Celeron"},"score":0,"creation_date":1668005593,"post_id":74376768,"comment_id":131303363,"body_markdown":"I can&#39;t understand how this - Integer.parseInt(String.valueOf(a.charAt(x))), calculates sum of numbers","body":"I can&#39;t understand how this - Integer.parseInt(String.valueOf(a.charAt(x))), calculates sum of numbers"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1668005945,"post_id":74376768,"comment_id":131303541,"body_markdown":"@Celeron It doesn&#39;t, that grabs a character from `String a` at position `x`, converts the `char` back to a `String` and then converts it back to an `Integer`.  The calculation comes from `sum += num` which means `sum = sum + num`, where that entire expression is `num`.","body":"@Celeron It doesn&#39;t, that grabs a character from <code>String a</code> at position <code>x</code>, converts the <code>char</code> back to a <code>String</code> and then converts it back to an <code>Integer</code>.  The calculation comes from <code>sum += num</code> which means <code>sum = sum + num</code>, where that entire expression is <code>num</code>."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1668007039,"post_id":74376768,"comment_id":131303990,"body_markdown":"@Celeron Well, you pretty much just repeated your original statement. `Integer.parseInt(String.valueOf(a.charAt(x)))` is multiple method calls. So it would be helpfull if you described at which call your confusion starts. Like, do you understand what `a.charAt(x)` does and returns? If yes then do you understand what that result passed into `String.valueOf` will result in etc. pp.","body":"@Celeron Well, you pretty much just repeated your original statement. <code>Integer.parseInt(String.valueOf(a.charAt(x)))</code> is multiple method calls. So it would be helpfull if you described at which call your confusion starts. Like, do you understand what <code>a.charAt(x)</code> does and returns? If yes then do you understand what that result passed into <code>String.valueOf</code> will result in etc. pp."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668008831,"post_id":74376768,"comment_id":131304747,"body_markdown":"That‘s some overly complex computation of the checksum / sum of digits of 8313 (15 as result).","body":"That‘s some overly complex computation of the checksum / sum of digits of 8313 (15 as result)."},{"owner":{"account_id":11391306,"reputation":15,"user_id":20459874,"display_name":"Celeron"},"score":0,"creation_date":1668055997,"post_id":74376768,"comment_id":131315970,"body_markdown":"@Nexevis but would it just mean that the sum would be just the same as we entered? `System.out.println(sum(8313))` wouldn&#39;t it give us 8313 then? if sum =sum + num (which just takes the next char and return it everytime?)","body":"@Nexevis but would it just mean that the sum would be just the same as we entered? <code>System.out.println(sum(8313))</code> wouldn&#39;t it give us 8313 then? if sum =sum + num (which just takes the next char and return it everytime?)"}],"answers":[{"tags":[],"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668009046,"creation_date":1668007094,"answer_id":74377242,"question_id":74376768,"body_markdown":"Let&#39;s break down the line `sum += Integer.parseInt(String.valueOf(a.charAt(x)));`\r\n\r\nFirst of all `sum += 1` is the same as `sum = sum + 1`, so `sum += Integer.parseInt(String.valueOf(a.charAt(x)));` is equal to `sum = sum + Integer.parseInt(String.valueOf(a.charAt(x)));`\r\n\r\n`Integer.parseInt(&quot;1&quot;)` transforms the String &quot;1&quot; into a number, so `&quot;1&quot; =&gt; 1`. Adding a variable of the type String to a number like `sum += &quot;1&quot;` would give an error\r\n\r\n`String.valueOf()` on the other hand can transform a number or other datatype into a String, so `1 =&gt; &quot;1&quot;`. In this case it is used to transform a Character to the String datatype\r\n\r\n`a.charAt(x)` takes the Character from the String `a` at the point `x`&lt;br&gt; So if you have `a = &quot;Brentspine&quot;` then `a.charAt(1)` would return `&quot;r&quot;`, since indexing starts at 0\r\n\r\nSo the line takes the character at position `x` from the String and makes it a string. `Character` is its own class so it has to be transformed into a String. Then this String is transformed into a number and added to the `sum` variable\r\n\r\n\r\nThe `fori loop` repeats itself the length of the String `a` times. For every time it run, the `x` variable gets increased by 1. This way it adds the number at the position `x` of the String `a` to the `sum` variable, which gets returned.&lt;br&gt;\r\nIt basically says for the input `&quot;8315&quot;`:&lt;br&gt;\r\nRepeat 4 times, increase `x=0` by 1 every time.&lt;br&gt;\r\nTake the Character of the String at position `a`, make it an `int` and add it to `sum`","title":"How does this code calculate sum of entered number","body":"<p>Let's break down the line <code>sum += Integer.parseInt(String.valueOf(a.charAt(x)));</code></p>\n<p>First of all <code>sum += 1</code> is the same as <code>sum = sum + 1</code>, so <code>sum += Integer.parseInt(String.valueOf(a.charAt(x)));</code> is equal to <code>sum = sum + Integer.parseInt(String.valueOf(a.charAt(x)));</code></p>\n<p><code>Integer.parseInt(&quot;1&quot;)</code> transforms the String &quot;1&quot; into a number, so <code>&quot;1&quot; =&gt; 1</code>. Adding a variable of the type String to a number like <code>sum += &quot;1&quot;</code> would give an error</p>\n<p><code>String.valueOf()</code> on the other hand can transform a number or other datatype into a String, so <code>1 =&gt; &quot;1&quot;</code>. In this case it is used to transform a Character to the String datatype</p>\n<p><code>a.charAt(x)</code> takes the Character from the String <code>a</code> at the point <code>x</code><br> So if you have <code>a = &quot;Brentspine&quot;</code> then <code>a.charAt(1)</code> would return <code>&quot;r&quot;</code>, since indexing starts at 0</p>\n<p>So the line takes the character at position <code>x</code> from the String and makes it a string. <code>Character</code> is its own class so it has to be transformed into a String. Then this String is transformed into a number and added to the <code>sum</code> variable</p>\n<p>The <code>fori loop</code> repeats itself the length of the String <code>a</code> times. For every time it run, the <code>x</code> variable gets increased by 1. This way it adds the number at the position <code>x</code> of the String <code>a</code> to the <code>sum</code> variable, which gets returned.<br>\nIt basically says for the input <code>&quot;8315&quot;</code>:<br>\nRepeat 4 times, increase <code>x=0</code> by 1 every time.<br>\nTake the Character of the String at position <code>a</code>, make it an <code>int</code> and add it to <code>sum</code></p>\n"},{"tags":[],"owner":{"account_id":4441392,"reputation":3262,"user_id":3615862,"accept_rate":100,"display_name":"ThisaruG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668007384,"creation_date":1668007384,"answer_id":74377317,"question_id":74376768,"body_markdown":"Actually, what you understood was wrong. (Or at least how you put it into words). \r\n\r\nThe `for` loop is used to loop through a range of numbers. In this case, it loops through `0` to `a.length()`, which is the number of digits in your number (The `number` variable). So in each iteration (or the step of the loop), the value of the `x` increases. It&#39;s not `0` all the time.\r\n\r\nIn each iteration, the `for` loop checks whether the `x` is still lesser than the number of digits in your number. If it reaches the limit, the loop exits.\r\n\r\nBefore entering the loop, you convert the number to a `String`. So, inside the loop, you first get the character at the index of the value of `x`. Basically, you take the character by character in your number. Then you convert it back to a digit using:\r\n\r\n```\r\nInteger.parseInt(String.valueOf(a.charAt(x)))\r\n```\r\n\r\nThen, it is added to the sum. This is pretty much the same as this:\r\n\r\n```\r\nfor(int x = 0; x &lt; a.length(); x++) {\r\n  char c = a.charAt(x);\r\n  String s = String.valueOf(c);\r\n  int digit = Integer.parseInt(s);\r\n  sum = sum + digit;\r\n}\r\n```\r\n\r\nYour code just does all four steps in one line! When you come up with such cases, try to break down the code like this. That&#39;ll help you to understand it better.\r\n","title":"How does this code calculate sum of entered number","body":"<p>Actually, what you understood was wrong. (Or at least how you put it into words).</p>\n<p>The <code>for</code> loop is used to loop through a range of numbers. In this case, it loops through <code>0</code> to <code>a.length()</code>, which is the number of digits in your number (The <code>number</code> variable). So in each iteration (or the step of the loop), the value of the <code>x</code> increases. It's not <code>0</code> all the time.</p>\n<p>In each iteration, the <code>for</code> loop checks whether the <code>x</code> is still lesser than the number of digits in your number. If it reaches the limit, the loop exits.</p>\n<p>Before entering the loop, you convert the number to a <code>String</code>. So, inside the loop, you first get the character at the index of the value of <code>x</code>. Basically, you take the character by character in your number. Then you convert it back to a digit using:</p>\n<pre><code>Integer.parseInt(String.valueOf(a.charAt(x)))\n</code></pre>\n<p>Then, it is added to the sum. This is pretty much the same as this:</p>\n<pre><code>for(int x = 0; x &lt; a.length(); x++) {\n  char c = a.charAt(x);\n  String s = String.valueOf(c);\n  int digit = Integer.parseInt(s);\n  sum = sum + digit;\n}\n</code></pre>\n<p>Your code just does all four steps in one line! When you come up with such cases, try to break down the code like this. That'll help you to understand it better.</p>\n"}],"owner":{"account_id":11391306,"reputation":15,"user_id":20459874,"display_name":"Celeron"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74377317,"answer_count":2,"score":-1,"last_activity_date":1668011335,"creation_date":1668005173,"question_id":74376768,"body_markdown":"I&#39;ve been learning Java for one week now and I came across this solution for my homework, but I just can&#39;t understand how it calculates the sum of numbers.\r\n\r\nI&#39;ve tried to understand it for 1 hour now and I feel so dumb right now.\r\n\r\nI pretty much understand that `for` add to `x + 1` every time when the length of the entered number is lower than `x` which is `0`. But I just can&#39;t get what the code inside `for` does.\r\n\r\n```java\r\nsum += Integer.parseInt(String.valueOf(a.charAt(x)));\r\n```\r\n\r\nHere is the full code\r\n\r\n```java\r\npublic class Loader {\r\n    public static void main(String[] args) {\r\n        System.out.println(sum(8313));\r\n    }\r\n\r\n    public static Integer sum(Integer number){\r\n        String a = Integer.toString(number);\r\n        Integer sum = 0;\r\n        for(int x = 0; x &lt; a.length(); x++) {\r\n            sum += Integer.parseInt(String.valueOf(a.charAt(x)));\r\n        }\r\n        return sum;\r\n    }\r\n}\r\n```\r\n","title":"How does this code calculate sum of entered number","body":"<p>I've been learning Java for one week now and I came across this solution for my homework, but I just can't understand how it calculates the sum of numbers.</p>\n<p>I've tried to understand it for 1 hour now and I feel so dumb right now.</p>\n<p>I pretty much understand that <code>for</code> add to <code>x + 1</code> every time when the length of the entered number is lower than <code>x</code> which is <code>0</code>. But I just can't get what the code inside <code>for</code> does.</p>\n<pre class=\"lang-java prettyprint-override\"><code>sum += Integer.parseInt(String.valueOf(a.charAt(x)));\n</code></pre>\n<p>Here is the full code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Loader {\n    public static void main(String[] args) {\n        System.out.println(sum(8313));\n    }\n\n    public static Integer sum(Integer number){\n        String a = Integer.toString(number);\n        Integer sum = 0;\n        for(int x = 0; x &lt; a.length(); x++) {\n            sum += Integer.parseInt(String.valueOf(a.charAt(x)));\n        }\n        return sum;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","react-native","kotlin"],"answers":[{"tags":[],"owner":{"account_id":7215544,"reputation":27279,"user_id":5508175,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":111,"is_accepted":true,"score":111,"last_activity_date":1668011330,"creation_date":1563358698,"answer_id":57073604,"question_id":57072558,"body_markdown":"Most of the answers that you are looking for can be found [here][1] \r\n\r\n# `assembleDebug`\r\n\r\nThis builds an *apk* for your project using the debug variant. \r\n\r\n&gt; This creates an APK named module_name-debug.apk in project_name/module_name/build/outputs/apk/. The file is already signed with the debug key and aligned with zipalign, so you can immediately install it on a device.\r\n\r\n# `installDebug`\r\n\r\nThis builds an *apk* for your project using the debug variant and then installs it on a connected device\r\n\r\n&gt; Or to build the APK and immediately install it on a running emulator or connected device, instead invoke `installDebug`\r\n\r\n# `assembleRelease`\r\n\r\nThis creates a release *apk* of your app. You would then need to sign it using the command line or by setting the signing details in your `build.gradle` (see below) and then you can install it on your device using `adb`. \r\n\r\nThe steps involved for signing an *apk* by the command line are fairly long and it can depend on how your project is set up. Steps for signing can be found [here][2] \r\n\r\n\r\n# `bundleRelease`\r\n\r\nThis creates a release *aab*, this is Google&#39;s preferred format for uploading to the Play Store. \r\n\r\n&gt; Android App Bundles include all your app’s compiled code and resources, but defer APK generation and signing to Google Play. Unlike an APK, you can&#39;t deploy an app bundle directly to a device. So, if you want to quickly test or share an APK with someone else, you should instead build an APK.\r\n\r\n# Signing your apk/aab\r\n\r\nYou can configure your `app/build.gradle` so that signing will be done after your build has been completed. \r\n\r\nIn your `app/build.gradle`\r\n\r\n    android {\r\n        ...\r\n        defaultConfig { ... }\r\n        signingConfigs {\r\n            release {\r\n                // You need to specify either an absolute path or include the\r\n                // keystore file in the same directory as the build.gradle file.\r\n                storeFile file(&quot;my-release-key.jks&quot;)\r\n                storePassword &quot;password&quot;\r\n                keyAlias &quot;my-alias&quot;\r\n                keyPassword &quot;password&quot;\r\n            }\r\n        }\r\n        buildTypes {\r\n            release {\r\n                signingConfig signingConfigs.release\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\nYou can read more about signing your app [here][3]\r\n\r\n&gt;Now, when you build your app by invoking a Gradle task, Gradle signs your app (and runs zipalign) for you.\r\n&gt;\r\n&gt; Additionally, because you&#39;ve configured the release build with your signing key, the &quot;install&quot; task is available for that build type. So you can build, align, sign, and install the release APK on an emulator or device all with the installRelease task.\r\n\r\n**NOTE** \r\n\r\nIt is best practice to not store your your signing data in your `app/build.gradle`. The following [answer](https://stackoverflow.com/questions/20562189/sign-apk-without-putting-keystore-info-in-build-gradle) shows you how to store the signing data.\r\n\r\n\r\n\r\n# `installRelease`\r\n\r\nYou will have to have set up the signing above for this to work for a release build. It is the same as the `installDebug` but it creates a signed release variant and installs it on a connected device.\r\n\r\n# Usage\r\n\r\n- I use `assembleRelease` to build an *apk* that I want to share with other people.\r\n- I use `installRelease` when I want to test a release build on a connected device.\r\n- I use `bundleRelease` when I am uploading my app to the Play Store.\r\n\r\n  [1]: https://developer.android.com/studio/build/building-cmdline\r\n  [2]: https://developer.android.com/studio/build/building-cmdline#sign_cmdline\r\n  [3]: https://developer.android.com/studio/build/building-cmdline#gradle_signing","title":"What&#39;s the difference between gradlewAssembleRelease, gradlewInstallRelease, and gradlew bundleRelease and when to use which?","body":"<p>Most of the answers that you are looking for can be found <a href=\"https://developer.android.com/studio/build/building-cmdline\" rel=\"noreferrer\">here</a></p>\n<h1><code>assembleDebug</code></h1>\n<p>This builds an <em>apk</em> for your project using the debug variant.</p>\n<blockquote>\n<p>This creates an APK named module_name-debug.apk in project_name/module_name/build/outputs/apk/. The file is already signed with the debug key and aligned with zipalign, so you can immediately install it on a device.</p>\n</blockquote>\n<h1><code>installDebug</code></h1>\n<p>This builds an <em>apk</em> for your project using the debug variant and then installs it on a connected device</p>\n<blockquote>\n<p>Or to build the APK and immediately install it on a running emulator or connected device, instead invoke <code>installDebug</code></p>\n</blockquote>\n<h1><code>assembleRelease</code></h1>\n<p>This creates a release <em>apk</em> of your app. You would then need to sign it using the command line or by setting the signing details in your <code>build.gradle</code> (see below) and then you can install it on your device using <code>adb</code>.</p>\n<p>The steps involved for signing an <em>apk</em> by the command line are fairly long and it can depend on how your project is set up. Steps for signing can be found <a href=\"https://developer.android.com/studio/build/building-cmdline#sign_cmdline\" rel=\"noreferrer\">here</a></p>\n<h1><code>bundleRelease</code></h1>\n<p>This creates a release <em>aab</em>, this is Google's preferred format for uploading to the Play Store.</p>\n<blockquote>\n<p>Android App Bundles include all your app’s compiled code and resources, but defer APK generation and signing to Google Play. Unlike an APK, you can't deploy an app bundle directly to a device. So, if you want to quickly test or share an APK with someone else, you should instead build an APK.</p>\n</blockquote>\n<h1>Signing your apk/aab</h1>\n<p>You can configure your <code>app/build.gradle</code> so that signing will be done after your build has been completed.</p>\n<p>In your <code>app/build.gradle</code></p>\n<pre><code>android {\n    ...\n    defaultConfig { ... }\n    signingConfigs {\n        release {\n            // You need to specify either an absolute path or include the\n            // keystore file in the same directory as the build.gradle file.\n            storeFile file(&quot;my-release-key.jks&quot;)\n            storePassword &quot;password&quot;\n            keyAlias &quot;my-alias&quot;\n            keyPassword &quot;password&quot;\n        }\n    }\n    buildTypes {\n        release {\n            signingConfig signingConfigs.release\n            ...\n        }\n    }\n}\n</code></pre>\n<p>You can read more about signing your app <a href=\"https://developer.android.com/studio/build/building-cmdline#gradle_signing\" rel=\"noreferrer\">here</a></p>\n<blockquote>\n<p>Now, when you build your app by invoking a Gradle task, Gradle signs your app (and runs zipalign) for you.</p>\n<p>Additionally, because you've configured the release build with your signing key, the &quot;install&quot; task is available for that build type. So you can build, align, sign, and install the release APK on an emulator or device all with the installRelease task.</p>\n</blockquote>\n<p><strong>NOTE</strong></p>\n<p>It is best practice to not store your your signing data in your <code>app/build.gradle</code>. The following <a href=\"https://stackoverflow.com/questions/20562189/sign-apk-without-putting-keystore-info-in-build-gradle\">answer</a> shows you how to store the signing data.</p>\n<h1><code>installRelease</code></h1>\n<p>You will have to have set up the signing above for this to work for a release build. It is the same as the <code>installDebug</code> but it creates a signed release variant and installs it on a connected device.</p>\n<h1>Usage</h1>\n<ul>\n<li>I use <code>assembleRelease</code> to build an <em>apk</em> that I want to share with other people.</li>\n<li>I use <code>installRelease</code> when I want to test a release build on a connected device.</li>\n<li>I use <code>bundleRelease</code> when I am uploading my app to the Play Store.</li>\n</ul>\n"}],"owner":{"account_id":14260353,"reputation":1238,"user_id":10301357,"display_name":"zidniryi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24007,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":57073604,"answer_count":1,"score":46,"last_activity_date":1668011330,"creation_date":1563355296,"question_id":57072558,"body_markdown":"When I want to upload an Android application to the Play Store, which one should I use?\r\n\r\nI have tried the above but I am still confused about which one is the most effective?\r\n\r\n``` \r\n./gradlew assembleRelease\r\n./gradlew installRelease\r\n./gradlew bundleRelease\r\n```\r\n\r\nI expect the best way to do the above.","title":"What&#39;s the difference between gradlewAssembleRelease, gradlewInstallRelease, and gradlew bundleRelease and when to use which?","body":"<p>When I want to upload an Android application to the Play Store, which one should I use?</p>\n<p>I have tried the above but I am still confused about which one is the most effective?</p>\n<pre><code>./gradlew assembleRelease\n./gradlew installRelease\n./gradlew bundleRelease\n</code></pre>\n<p>I expect the best way to do the above.</p>\n"},{"tags":["java","grafana","spring-boot-actuator","spring-micrometer"],"comments":[{"owner":{"account_id":6482269,"reputation":13098,"user_id":5024726,"display_name":"Matt"},"score":0,"creation_date":1626460991,"post_id":68394394,"comment_id":120908484,"body_markdown":"Have a look here: https://grafana.com/blog/2020/06/23/how-to-visualize-prometheus-histograms-in-grafana/","body":"Have a look here: <a href=\"https://grafana.com/blog/2020/06/23/how-to-visualize-prometheus-histograms-in-grafana/\" rel=\"nofollow noreferrer\">grafana.com/blog/2020/06/23/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8617737,"reputation":96,"user_id":6453924,"display_name":"Sumit Chawla"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1668011127,"creation_date":1642391755,"answer_id":70736368,"question_id":68394394,"body_markdown":"you can find 99th percentile/95th percentile of the latency of given endpoint using this metric and can use histogram_quantile function for that.\r\ne.g. For 99th percentile : \r\n\r\n```\r\nhistogram_quantile(\r\n  0.99, \r\n  sum(\r\n    rate(\r\n      http_server_requests_seconds_bucket{exception=&quot;None&quot;, uri = &quot;/your-uri&quot;}[5m])\r\n  ) by (le)\r\n)\r\n```\r\nFor 95th percentile : \r\n\r\n```\r\nhistogram_quantile(\r\n  0.95, \r\n  sum(\r\n    rate(http_server_requests_seconds_bucket{exception=&quot;None&quot;, uri = &quot;/your-uri&quot;}[5m])\r\n  ) by (le)\r\n)\r\n```\r\n\r\nMore on it:\r\nA nice snippet from reference:\r\nhttps://idanlupinsky.com/blog/application-monitoring-with-micrometer-prometheus-grafana-and-cloudwatch/\r\n\r\nThe histogram is a collection of buckets (or counters), each maintaining the number of events observed that took up to duration specified by the le tag. Let&#39;s have a look at a part of the histogram as published by our demo application:\r\n\r\n```\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.067108864&quot;,} 0.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.089478485&quot;,} 0.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.111848106&quot;,} 92382.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.134217727&quot;,} 99050.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.156587348&quot;,} 99703.0\r\n...\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.984263336&quot;,} 99987.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;1.0&quot;,} 99987.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;+Inf&quot;,} 100000.0\r\n```\r\n\r\nThe second line in the listing above indicates there were no requests observed that took up to ~89ms (specified by the `le` tag). This is expected given the 100ms sleep time when processing requests. Line #3 shows that 92,382 requests were observed whose duration took up to ~111ms. Note that the histogram is cumulative and that the entire count of requests falls in the last bucket with no upper limit `le=&quot;+Inf&quot;`.\r\n","title":"Java Micrometer - What to do with metrics of type *_bucket","body":"<p>you can find 99th percentile/95th percentile of the latency of given endpoint using this metric and can use histogram_quantile function for that.\ne.g. For 99th percentile :</p>\n<pre><code>histogram_quantile(\n  0.99, \n  sum(\n    rate(\n      http_server_requests_seconds_bucket{exception=&quot;None&quot;, uri = &quot;/your-uri&quot;}[5m])\n  ) by (le)\n)\n</code></pre>\n<p>For 95th percentile :</p>\n<pre><code>histogram_quantile(\n  0.95, \n  sum(\n    rate(http_server_requests_seconds_bucket{exception=&quot;None&quot;, uri = &quot;/your-uri&quot;}[5m])\n  ) by (le)\n)\n</code></pre>\n<p>More on it:\nA nice snippet from reference:\n<a href=\"https://idanlupinsky.com/blog/application-monitoring-with-micrometer-prometheus-grafana-and-cloudwatch/\" rel=\"nofollow noreferrer\">https://idanlupinsky.com/blog/application-monitoring-with-micrometer-prometheus-grafana-and-cloudwatch/</a></p>\n<p>The histogram is a collection of buckets (or counters), each maintaining the number of events observed that took up to duration specified by the le tag. Let's have a look at a part of the histogram as published by our demo application:</p>\n<pre><code>http_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.067108864&quot;,} 0.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.089478485&quot;,} 0.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.111848106&quot;,} 92382.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.134217727&quot;,} 99050.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.156587348&quot;,} 99703.0\n...\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.984263336&quot;,} 99987.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;1.0&quot;,} 99987.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;+Inf&quot;,} 100000.0\n</code></pre>\n<p>The second line in the listing above indicates there were no requests observed that took up to ~89ms (specified by the <code>le</code> tag). This is expected given the 100ms sleep time when processing requests. Line #3 shows that 92,382 requests were observed whose duration took up to ~111ms. Note that the histogram is cumulative and that the entire count of requests falls in the last bucket with no upper limit <code>le=&quot;+Inf&quot;</code>.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5898,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70736368,"answer_count":1,"score":3,"last_activity_date":1668011127,"creation_date":1626354260,"question_id":68394394,"body_markdown":"Quick question regarding metrics of type *_bucket please.\r\n\r\nMy application generates metrics, like those below:\r\n\r\n```\r\n\r\n# HELP http_server_requests_seconds  \r\n# TYPE http_server_requests_seconds histogram\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.005592405&quot;,} 273.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.006990506&quot;,} 797.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.008388607&quot;,} 2638.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.009786708&quot;,} 3543.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.011184809&quot;,} 3932.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.01258291&quot;,} 4154.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.013981011&quot;,} 4279.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.015379112&quot;,} 4380.0\r\n\r\n```\r\n\r\nand \r\n\r\n```\r\n# HELP resilience4j_circuitbreaker_calls_seconds Total number of successful calls\r\n# TYPE resilience4j_circuitbreaker_calls_seconds histogram\r\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001&quot;,} 0.0\r\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001048576&quot;,} 0.0\r\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001398101&quot;,} 0.0\r\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001747626&quot;,} 0.0\r\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.002097151&quot;,} 0.0\r\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.002446676&quot;,} 0.0\r\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.002796201&quot;,} 0.0\r\n```\r\n\r\nI believe they are really useful, but unfortunately, I do not know what to do with them.\r\n\r\nI tried some queries such as ```rate(http_server_requests_seconds{_bucket_=\\&quot;+Inf\\&quot;, status=~\\&quot;2..\\&quot;}[5m])```, but does not seems to bring anything valuable out.\r\n\r\nMay I ask what is the proper way to use those metrics of type *_bucket, for instance, how to build Grafana dashboards and visuals that are the best suited for those *_bucket please?\r\n\r\nThank you","title":"Java Micrometer - What to do with metrics of type *_bucket","body":"<p>Quick question regarding metrics of type *_bucket please.</p>\n<p>My application generates metrics, like those below:</p>\n<pre><code>\n# HELP http_server_requests_seconds  \n# TYPE http_server_requests_seconds histogram\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.005592405&quot;,} 273.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.006990506&quot;,} 797.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.008388607&quot;,} 2638.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.009786708&quot;,} 3543.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.011184809&quot;,} 3932.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.01258291&quot;,} 4154.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.013981011&quot;,} 4279.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.015379112&quot;,} 4380.0\n\n</code></pre>\n<p>and</p>\n<pre><code># HELP resilience4j_circuitbreaker_calls_seconds Total number of successful calls\n# TYPE resilience4j_circuitbreaker_calls_seconds histogram\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001&quot;,} 0.0\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001048576&quot;,} 0.0\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001398101&quot;,} 0.0\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001747626&quot;,} 0.0\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.002097151&quot;,} 0.0\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.002446676&quot;,} 0.0\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.002796201&quot;,} 0.0\n</code></pre>\n<p>I believe they are really useful, but unfortunately, I do not know what to do with them.</p>\n<p>I tried some queries such as <code>rate(http_server_requests_seconds{_bucket_=\\&quot;+Inf\\&quot;, status=~\\&quot;2..\\&quot;}[5m])</code>, but does not seems to bring anything valuable out.</p>\n<p>May I ask what is the proper way to use those metrics of type *_bucket, for instance, how to build Grafana dashboards and visuals that are the best suited for those *_bucket please?</p>\n<p>Thank you</p>\n"},{"tags":["java","multithreading","synchronized","java-threads"],"comments":[{"owner":{"account_id":5545188,"reputation":188,"user_id":4400198,"display_name":"Girija Sankar Panda"},"score":0,"creation_date":1668010331,"post_id":74377403,"comment_id":131305354,"body_markdown":"the mentioned behavior is not true. If you run the code multiple times, you will not get  200000 in most of the cases. Even if you uncomment the synchronized block ,the answer will not be  200000 as you are putting lock on different object. The answer can only be 200000, if you put lock on a single object. ThreadLocal is the culprit for the above behavior.","body":"the mentioned behavior is not true. If you run the code multiple times, you will not get  200000 in most of the cases. Even if you uncomment the synchronized block ,the answer will not be  200000 as you are putting lock on different object. The answer can only be 200000, if you put lock on a single object. ThreadLocal is the culprit for the above behavior."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1668010854,"post_id":74377403,"comment_id":131305553,"body_markdown":"Be aware that the use of `System.out.println` will distort results as that obtains a lock, and thus influences visibility, potentially to the point that it might behave the same as the code using `synchronized` (though that might depend on the platform and other implementation details).","body":"Be aware that the use of <code>System.out.println</code> will distort results as that obtains a lock, and thus influences visibility, potentially to the point that it might behave the same as the code using <code>synchronized</code> (though that might depend on the platform and other implementation details)."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1668011128,"post_id":74377403,"comment_id":131305657,"body_markdown":"@GirijaSankarPanda, What you said is not guaranteed to be true. The outcome of running improperly synchronized code is indeterminate: Not guaranteed to be &quot;correct,&quot; and not guaranteed to be &quot;incorrect&quot; either.","body":"@GirijaSankarPanda, What you said is not guaranteed to be true. The outcome of running improperly synchronized code is indeterminate: Not guaranteed to be &quot;correct,&quot; and not guaranteed to be &quot;incorrect&quot; either."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1668011212,"post_id":74377403,"comment_id":131305694,"body_markdown":"@elvis, no surprise that you see the same results with or without `synchronized` because your two threads are `synchronized` on two _different_ objects. Synchronization only means anything if the two threads both synchronize on the _same_ object.","body":"@elvis, no surprise that you see the same results with or without <code>synchronized</code> because your two threads are <code>synchronized</code> on two <i>different</i> objects. Synchronization only means anything if the two threads both synchronize on the <i>same</i> object."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668011936,"post_id":74377403,"comment_id":131305922,"body_markdown":"As @MarkRotteveel said, the printing’s internal synchronization may affect the result. But it’s also possible that starting the second thread is slow enough for the first to finish first. As mentioned by others, synchronizing on different objects can affect the result, while not guaranteeing the intended result. Also “fetched from main memory” is the wrong mindset. That’s not how it works.","body":"As @MarkRotteveel said, the printing’s internal synchronization may affect the result. But it’s also possible that starting the second thread is slow enough for the first to finish first. As mentioned by others, synchronizing on different objects can affect the result, while not guaranteeing the intended result. Also “fetched from main memory” is the wrong mindset. That’s not how it works."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1668023210,"post_id":74377403,"comment_id":131309710,"body_markdown":"P.S., If you want two threads to do the same thing, you do not need two distinct functions for them to run. They both can run the same function. If you need two threads to do _almost_ the same thing or similar things, then it often makes sense to have them both run the same function, but with different arguments.","body":"P.S., If you want two threads to do the same thing, you do not need two distinct functions for them to run. They both can run the same function. If you need two threads to do <i>almost</i> the same thing or similar things, then it often makes sense to have them both run the same function, but with different arguments."}],"answers":[{"tags":[],"owner":{"account_id":4901543,"reputation":956,"user_id":4903440,"display_name":"Praveen E"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668010224,"creation_date":1668010224,"answer_id":74378032,"question_id":74377403,"body_markdown":"Good that you are stepping into multithreaded world. Your program shouldn&#39;t print 200000 at the end. Please correct your program by adding these lines at the end (after thread2.start() )\r\n\r\n    thread1.join();  //asks main thread to wait until thread1 is finished\r\n    thread2.join();  //asks main thread to wait until thread1 is finished\r\n    System.out.println(obj.counter1);\r\n\r\nNow run this program for 3 or 4 times and you will see your program will print different values everytime. \r\n\r\nAlso, `incCounter1` and `incCounter2` methods should be synchronised on same Object (lets say `monitor1`) if they are updating same `counter1`. If `incCounter1` is updating `counter1` and `incCounter2` is updating `counter2`, then your way of synchronising `Object1` and `Object2` is correct.\r\n","title":"Where does the program know the exact value of the instance variable if I don&#39;t use synchronized in Java?","body":"<p>Good that you are stepping into multithreaded world. Your program shouldn't print 200000 at the end. Please correct your program by adding these lines at the end (after thread2.start() )</p>\n<pre><code>thread1.join();  //asks main thread to wait until thread1 is finished\nthread2.join();  //asks main thread to wait until thread1 is finished\nSystem.out.println(obj.counter1);\n</code></pre>\n<p>Now run this program for 3 or 4 times and you will see your program will print different values everytime.</p>\n<p>Also, <code>incCounter1</code> and <code>incCounter2</code> methods should be synchronised on same Object (lets say <code>monitor1</code>) if they are updating same <code>counter1</code>. If <code>incCounter1</code> is updating <code>counter1</code> and <code>incCounter2</code> is updating <code>counter2</code>, then your way of synchronising <code>Object1</code> and <code>Object2</code> is correct.</p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668010904,"creation_date":1668007679,"question_id":74377403,"body_markdown":"I&#39;m learning about Java multithreading and I&#39;m doing some simple tests with synchronized blocks and without synchronized block.\r\n\r\n    public class MultipleMonitorObjects {\r\n    \r\n        private Object monitor1 = new Object();\r\n        private Object monitor2 = new Object();\r\n    \r\n        private int counter1 = 0;\r\n    //    private int counter2 = 0;\r\n    \r\n        public void incCounter1() {\r\n    //        synchronized (this.monitor1) {\r\n                this.counter1++;\r\n                System.out.println(&quot;Inside incCounter1, counter1 = &quot; + counter1);\r\n    //        }\r\n        }\r\n    \r\n        public void incCounter2() {\r\n    //        synchronized (this.monitor2) {\r\n                this.counter1++;\r\n                System.out.println(&quot;Inside incCounter2, counter1 = &quot; + counter1);\r\n    //        }\r\n        }\r\n    } \r\n\r\nMain class:\r\n\r\n    public class MultipleMonitorObjectsMain {\r\n        public static void main(String[] args) {\r\n            MultipleMonitorObjects obj = new MultipleMonitorObjects();\r\n    \r\n            Thread thread1 = new Thread(\r\n                    new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            for (int i = 0; i &lt; 100000; i++) {\r\n                                    obj.incCounter1();\r\n                            }\r\n                        }\r\n                    }\r\n            );\r\n    \r\n            Thread thread2 = new Thread(\r\n                    new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            for (int i = 100000; i &lt; 200000; i++) {\r\n                                obj.incCounter2();\r\n                            }\r\n                        }\r\n                    }\r\n            );\r\n    \r\n            thread1.start();\r\n            thread2.start();\r\n        }\r\n    }\r\n\r\nWhat I don&#39;t understand is why if I comment the synchronized line, the counter is exactly 200000. I understand the case when I&#39;m using synchronized, the counter is 200000, because if there is synchronized block, the value of counter is added in main memory after every incrementation, and it is fetched from main memory before every incrementation, so the program knows the exact value for counter variable at any time. But if I comment the synchronized line, where does the program know the exact value? I thought the value will be different than 200000 at the end. \r\n","title":"Where does the program know the exact value of the instance variable if I don&#39;t use synchronized in Java?","body":"<p>I'm learning about Java multithreading and I'm doing some simple tests with synchronized blocks and without synchronized block.</p>\n<pre><code>public class MultipleMonitorObjects {\n\n    private Object monitor1 = new Object();\n    private Object monitor2 = new Object();\n\n    private int counter1 = 0;\n//    private int counter2 = 0;\n\n    public void incCounter1() {\n//        synchronized (this.monitor1) {\n            this.counter1++;\n            System.out.println(&quot;Inside incCounter1, counter1 = &quot; + counter1);\n//        }\n    }\n\n    public void incCounter2() {\n//        synchronized (this.monitor2) {\n            this.counter1++;\n            System.out.println(&quot;Inside incCounter2, counter1 = &quot; + counter1);\n//        }\n    }\n} \n</code></pre>\n<p>Main class:</p>\n<pre><code>public class MultipleMonitorObjectsMain {\n    public static void main(String[] args) {\n        MultipleMonitorObjects obj = new MultipleMonitorObjects();\n\n        Thread thread1 = new Thread(\n                new Runnable() {\n                    @Override\n                    public void run() {\n                        for (int i = 0; i &lt; 100000; i++) {\n                                obj.incCounter1();\n                        }\n                    }\n                }\n        );\n\n        Thread thread2 = new Thread(\n                new Runnable() {\n                    @Override\n                    public void run() {\n                        for (int i = 100000; i &lt; 200000; i++) {\n                            obj.incCounter2();\n                        }\n                    }\n                }\n        );\n\n        thread1.start();\n        thread2.start();\n    }\n}\n</code></pre>\n<p>What I don't understand is why if I comment the synchronized line, the counter is exactly 200000. I understand the case when I'm using synchronized, the counter is 200000, because if there is synchronized block, the value of counter is added in main memory after every incrementation, and it is fetched from main memory before every incrementation, so the program knows the exact value for counter variable at any time. But if I comment the synchronized line, where does the program know the exact value? I thought the value will be different than 200000 at the end.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":26565404,"reputation":28,"user_id":20192533,"display_name":"Omar Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668006629,"creation_date":1668006629,"answer_id":74377122,"question_id":74376779,"body_markdown":"If I&#39;m understanding correctly, you want to find the greatest element that is smaller than the input.\r\n\r\nI.e. if your tree was:\r\n```\r\n        5\r\n      /   \\\r\n     3     8\r\n    / \\   /\r\n   2   4 6\r\n          \\\r\n           7\r\n```\r\nYou&#39;d want the input `lower(8)` to return `7`.\r\n\r\nYou can do this via [in-order traversal](https://opendsa-server.cs.vt.edu/ODSA/Books/Everything/html/BinaryTreeTraversal.html#inorder-traversal). This will allow you to traverse the binary tree in a sorted order of elements. You can then use this to return the element before the input. One way to do this is to store the in-order traversal in an array and then print the index of the element 1 before the input&#39;s location. This will also allow you to return NULL if no such element exists.\r\n\r\nYou can find implementations of storing in-order traversals into an array [here.](https://stackoverflow.com/questions/41722212/storing-binarysearchtree-inorder-traversal-in-an-array)\r\n\r\n","title":"Binary Search Tree - lower() method implementation","body":"<p>If I'm understanding correctly, you want to find the greatest element that is smaller than the input.</p>\n<p>I.e. if your tree was:</p>\n<pre><code>        5\n      /   \\\n     3     8\n    / \\   /\n   2   4 6\n          \\\n           7\n</code></pre>\n<p>You'd want the input <code>lower(8)</code> to return <code>7</code>.</p>\n<p>You can do this via <a href=\"https://opendsa-server.cs.vt.edu/ODSA/Books/Everything/html/BinaryTreeTraversal.html#inorder-traversal\" rel=\"nofollow noreferrer\">in-order traversal</a>. This will allow you to traverse the binary tree in a sorted order of elements. You can then use this to return the element before the input. One way to do this is to store the in-order traversal in an array and then print the index of the element 1 before the input's location. This will also allow you to return NULL if no such element exists.</p>\n<p>You can find implementations of storing in-order traversals into an array <a href=\"https://stackoverflow.com/questions/41722212/storing-binarysearchtree-inorder-traversal-in-an-array\">here.</a></p>\n"},{"tags":[],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668007717,"creation_date":1668007717,"answer_id":74377416,"question_id":74376779,"body_markdown":"You can [iterate][1] the BT and store the largest number that is smaller than the input.\r\nYou can also make it more efficient by not exploring a subtree that has a root that is bigger than your value or smaller than the current largest value that is smaller than the input.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/binary-tree-iterator-for-inorder-traversal/","title":"Binary Search Tree - lower() method implementation","body":"<p>You can <a href=\"https://www.geeksforgeeks.org/binary-tree-iterator-for-inorder-traversal/\" rel=\"nofollow noreferrer\">iterate</a> the BT and store the largest number that is smaller than the input.\nYou can also make it more efficient by not exploring a subtree that has a root that is bigger than your value or smaller than the current largest value that is smaller than the input.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668010549,"creation_date":1668009649,"answer_id":74377897,"question_id":74376779,"body_markdown":"Algorithm:\r\n\r\n   1. Let the current node be the root\r\n   2. Repeat:\r\n      - if the current node is greater than or equal to `e` and has a left child, move left.\r\n      - if the current node is less than `e` and has a right child, move right.\r\n      - if the above did not produce a movement then stop looping\r\n\r\n   Then,\r\n\r\n - if the resulting node is strictly less than `e` then it is the wanted result.  Otherwise,\r\n - if the resulting node is exactly `e`, is not the root node, and is greater than its parent node, then its parent is the wanted result.  Otherwise\r\n - there is no node lower than `e` in the tree.","title":"Binary Search Tree - lower() method implementation","body":"<p>Algorithm:</p>\n<ol>\n<li>Let the current node be the root</li>\n<li>Repeat:\n<ul>\n<li>if the current node is greater than or equal to <code>e</code> and has a left child, move left.</li>\n<li>if the current node is less than <code>e</code> and has a right child, move right.</li>\n<li>if the above did not produce a movement then stop looping</li>\n</ul>\n</li>\n</ol>\n<p>Then,</p>\n<ul>\n<li>if the resulting node is strictly less than <code>e</code> then it is the wanted result.  Otherwise,</li>\n<li>if the resulting node is exactly <code>e</code>, is not the root node, and is greater than its parent node, then its parent is the wanted result.  Otherwise</li>\n<li>there is no node lower than <code>e</code> in the tree.</li>\n</ul>\n"}],"owner":{"account_id":26241561,"reputation":13,"user_id":19915802,"display_name":"Lukas Jankauskas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668010668,"creation_date":1668005244,"question_id":74376779,"body_markdown":"I was trying to implement a `E lower(E e)` method to a BST (Binary Search Tree) data structure. It should work like this - (return the greatest element in this set strictly less than the given element, or null if there is no such element). I am stuck at this problem. Any tips?\r\n\r\nFor example, if I have a binary tree like: calling method lower(6), should return 5\r\n\r\n  5\r\n/   \\\r\n1     6\r\n\r\nMy code example (Java)\r\n\r\n```java\r\npublic E lower(E e)\r\n{\r\n    if (e== null) {\r\n        throw new IllegalArgumentException(&quot;Element is null in lower(E element)&quot;);\r\n    }\r\n    BstNode&lt;E&gt; node = root;\r\n    BstNode&lt;E&gt; parent = null;\r\n    BstNode&lt;E&gt; ch = null;\r\n    int cmp = c.compare(e, root.element);\r\n    while(node != null)\r\n    {\r\n        if (cmp &gt; 0)\r\n        {\r\n            if(node.right != null)\r\n            {\r\n                node = node.right;\r\n            }\r\n            else\r\n                return node.element;\r\n        }\r\n        else\r\n        {\r\n            if(node.left != null)\r\n            {\r\n                node = node.left;\r\n            }\r\n            else\r\n                ///DONT KNOW WHAT TO DO HERE\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```","title":"Binary Search Tree - lower() method implementation","body":"<p>I was trying to implement a <code>E lower(E e)</code> method to a BST (Binary Search Tree) data structure. It should work like this - (return the greatest element in this set strictly less than the given element, or null if there is no such element). I am stuck at this problem. Any tips?</p>\n<p>For example, if I have a binary tree like: calling method lower(6), should return 5</p>\n<p>5\n/   <br />\n1     6</p>\n<p>My code example (Java)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public E lower(E e)\n{\n    if (e== null) {\n        throw new IllegalArgumentException(&quot;Element is null in lower(E element)&quot;);\n    }\n    BstNode&lt;E&gt; node = root;\n    BstNode&lt;E&gt; parent = null;\n    BstNode&lt;E&gt; ch = null;\n    int cmp = c.compare(e, root.element);\n    while(node != null)\n    {\n        if (cmp &gt; 0)\n        {\n            if(node.right != null)\n            {\n                node = node.right;\n            }\n            else\n                return node.element;\n        }\n        else\n        {\n            if(node.left != null)\n            {\n                node = node.left;\n            }\n            else\n                ///DONT KNOW WHAT TO DO HERE\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","matcher","ioutils"],"comments":[{"owner":{"account_id":3441337,"reputation":16524,"user_id":2883245,"accept_rate":88,"display_name":"erip"},"score":0,"creation_date":1667996567,"post_id":74374822,"comment_id":131299927,"body_markdown":"Please include an example with a string literal.","body":"Please include an example with a string literal."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1667998485,"post_id":74374822,"comment_id":131300594,"body_markdown":"no idea what `IOUtils` does, but the first snippet is *removing* newlines; `IOUtils` probably not","body":"no idea what <code>IOUtils</code> does, but the first snippet is <i>removing</i> newlines; <code>IOUtils</code> probably not"},{"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"score":0,"creation_date":1667999483,"post_id":74374822,"comment_id":131300940,"body_markdown":"@user16320675 what inside the first snippet is responsible for removal of new lines?","body":"@user16320675 what inside the first snippet is responsible for removal of new lines?"},{"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"score":0,"creation_date":1667999564,"post_id":74374822,"comment_id":131300976,"body_markdown":"@erip it can be the content of any webpage [too big to share it here]. For the same content, the first snippet can find the search string where as the second one doesn&#39;t.","body":"@erip it can be the content of any webpage [too big to share it here]. For the same content, the first snippet can find the search string where as the second one doesn&#39;t."},{"owner":{"account_id":3441337,"reputation":16524,"user_id":2883245,"accept_rate":88,"display_name":"erip"},"score":0,"creation_date":1668000038,"post_id":74374822,"comment_id":131301143,"body_markdown":"Yes, but we can&#39;t debug &quot;any webpage&quot; so we need an example that you&#39;ve observed or can manufacture.","body":"Yes, but we can&#39;t debug &quot;any webpage&quot; so we need an example that you&#39;ve observed or can manufacture."},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1668000338,"post_id":74374822,"comment_id":131301262,"body_markdown":"line brakes will be the problem. Remove line brakes or try this pattern: &quot;(?m).*?My_PATTERN:(.*)&quot;","body":"line brakes will be the problem. Remove line brakes or try this pattern: &quot;(?m).*?My_PATTERN:(.*)&quot;"},{"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"score":0,"creation_date":1668000359,"post_id":74374822,"comment_id":131301270,"body_markdown":"@erip I have attached the string for which the search is failing. As quoted above, the newline character might have something to do with this.","body":"@erip I have attached the string for which the search is failing. As quoted above, the newline character might have something to do with this."},{"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"score":0,"creation_date":1668000628,"post_id":74374822,"comment_id":131301369,"body_markdown":"@szeak I tried this pattern```pattern = Pattern.compile(&quot;(?m).*?HTTPSTATUS:(.*)&quot;);```. The line breaks were not removed (&quot;\\n&quot;) and the find() did not work with the second solution. Is there a waay to remove line breaks?","body":"@szeak I tried this pattern<code>pattern = Pattern.compile(&quot;(?m).*?HTTPSTATUS:(.*)&quot;);</code>. The line breaks were not removed (&quot;\\n&quot;) and the find() did not work with the second solution. Is there a waay to remove line breaks?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1668001087,"post_id":74374822,"comment_id":131301539,"body_markdown":"`.lines()` will *retrieve* each line, using newline or line break as separator, EXCLUDING it from the returned line (try it yourself `new BufferedReader(new StringReader(&quot;PATTERN:\\nnext line&quot;)).lines().collect(Collectors.joining())`)","body":"<code>.lines()</code> will <i>retrieve</i> each line, using newline or line break as separator, EXCLUDING it from the returned line (try it yourself <code>new BufferedReader(new StringReader(&quot;PATTERN:\\nnext line&quot;)).lines().collect(Collectors.joining())</code>)"},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1668002641,"post_id":74374822,"comment_id":131302207,"body_markdown":"@mang4521 try with &quot;(?sm)...&quot; or remove line brakes before matching: data = data.replaceAll(&quot;\\\\r?\\\\n&quot;, &quot;&quot;);","body":"@mang4521 try with &quot;(?sm)...&quot; or remove line brakes before matching: data = data.replaceAll(&quot;\\\\r?\\\\n&quot;, &quot;&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668002246,"creation_date":1668001232,"answer_id":74375788,"question_id":74374822,"body_markdown":"The first code removes line brakes, the second doesn&#39;t.\r\n\r\nSo you should define multiline pattern matching:\r\n\r\n 1. In the pattern (starting with flags s=dotall, m=multiline)\r\n\r\n&lt;pre&gt;&lt;code&gt;Pattern pattern = Pattern.compile(&quot;(?sm).*My_PATTERN:(.*)&quot;);&lt;/code&gt;&lt;/pre&gt;\r\n\r\n 2. In the pattern v2\r\n\r\n&lt;pre&gt;&lt;code&gt;Pattern pattern = Pattern.compile(&quot;[\\\\s\\\\S]*My_PATTERN:([\\\\s\\\\S]*)&quot;);&lt;/code&gt;&lt;/pre&gt;\r\n\r\n 3. With flags\r\n\r\n&lt;pre&gt;&lt;code&gt;Pattern pattern = Pattern.compile(&quot;.*My_PATTERN:(.*)&quot;, MULTILINE|DOTALL);&lt;/code&gt;&lt;/pre&gt;\r\n\r\nAll matches line brakes in the group&#39;s value.&lt;br&gt;\r\nOr remove line breaks ie: &lt;pre&gt;&lt;code&gt;data = data.replaceAll(&quot;\\\\\\\\r?\\\\\\\\n&quot;, &quot;&quot;);&lt;/code&gt;&lt;/pre&gt;\r\n\r\nSee:\r\n[https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#compile(java.lang.String,%20int)][1]\r\n\r\n[https://docs.oracle.com/javase/tutorial/essential/regex/pattern.html][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#compile(java.lang.String,%20int)\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/regex/pattern.html","title":"java.util.regex.Matcher is unable to find anything inside a String obtained from Apache IOUtils","body":"<p>The first code removes line brakes, the second doesn't.</p>\n<p>So you should define multiline pattern matching:</p>\n<ol>\n<li>In the pattern (starting with flags s=dotall, m=multiline)</li>\n</ol>\n<pre><code>Pattern pattern = Pattern.compile(\"(?sm).*My_PATTERN:(.*)\");</code></pre>\n<ol start=\"2\">\n<li>In the pattern v2</li>\n</ol>\n<pre><code>Pattern pattern = Pattern.compile(\"[\\\\s\\\\S]*My_PATTERN:([\\\\s\\\\S]*)\");</code></pre>\n<ol start=\"3\">\n<li>With flags</li>\n</ol>\n<pre><code>Pattern pattern = Pattern.compile(\".*My_PATTERN:(.*)\", MULTILINE|DOTALL);</code></pre>\n<p>All matches line brakes in the group's value.<br>\nOr remove line breaks ie: <pre><code>data = data.replaceAll(&quot;\\\\r?\\\\n&quot;, &quot;&quot;);</code></pre></p>\n<p>See:\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#compile(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#compile(java.lang.String,%20int)</a></p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/pattern.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/regex/pattern.html</a></p>\n"}],"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74375788,"answer_count":1,"score":0,"last_activity_date":1668010662,"creation_date":1667996491,"question_id":74374822,"body_markdown":"I have a code snippet to convert an input stream into a String. I then use java.util.regex.Matcher to find something inside the string.\r\n\r\nThe following *works for me*:\r\n\r\n```\r\nStringBuilder sb = new StringBuilder();\r\nInputStream ins; // the InputStream data\r\nBufferedReader br = new BufferedReader(new InputStreamReader(ins));\r\nbr.lines().forEach(sb::append);\r\nbr.close();\r\n\r\nString data = sb.toString();\r\nPattern pattern = Pattern.compile(&quot;.*My_PATTERN:(.*)&quot;);\r\nMatcher matcher = pattern.matcher(data);\r\nif (matcher.find())\r\n   String searchedStr = matcher.group(1); // I find a match here\r\n```\r\n\r\nBut if I try to replace BufferedReader with *Apache IOUtils*, I do not find any matches with the same string.\r\n\r\n```\r\nInputStream ins; // the InputStream data\r\nString data = IOUtils.toString(inputStream, StandardCharsets.UTF_8);\r\n\r\nPattern pattern = Pattern.compile(&quot;.*My_PATTERN:(.*)&quot;);\r\nMatcher matcher = pattern.matcher(data);\r\nif (matcher.find())\r\n   String searchedStr = matcher.group(1); // I cannot find a match here\r\n```\r\n\r\nI have tried with other &quot;StandardCharsets&quot; apart from UTF-8 but none have worked.\r\n\r\nI am unable to understand what is different here that would cause IOUtils to not match. Can someone kindly help me out here?","title":"java.util.regex.Matcher is unable to find anything inside a String obtained from Apache IOUtils","body":"<p>I have a code snippet to convert an input stream into a String. I then use java.util.regex.Matcher to find something inside the string.</p>\n<p>The following <em>works for me</em>:</p>\n<pre><code>StringBuilder sb = new StringBuilder();\nInputStream ins; // the InputStream data\nBufferedReader br = new BufferedReader(new InputStreamReader(ins));\nbr.lines().forEach(sb::append);\nbr.close();\n\nString data = sb.toString();\nPattern pattern = Pattern.compile(&quot;.*My_PATTERN:(.*)&quot;);\nMatcher matcher = pattern.matcher(data);\nif (matcher.find())\n   String searchedStr = matcher.group(1); // I find a match here\n</code></pre>\n<p>But if I try to replace BufferedReader with <em>Apache IOUtils</em>, I do not find any matches with the same string.</p>\n<pre><code>InputStream ins; // the InputStream data\nString data = IOUtils.toString(inputStream, StandardCharsets.UTF_8);\n\nPattern pattern = Pattern.compile(&quot;.*My_PATTERN:(.*)&quot;);\nMatcher matcher = pattern.matcher(data);\nif (matcher.find())\n   String searchedStr = matcher.group(1); // I cannot find a match here\n</code></pre>\n<p>I have tried with other &quot;StandardCharsets&quot; apart from UTF-8 but none have worked.</p>\n<p>I am unable to understand what is different here that would cause IOUtils to not match. Can someone kindly help me out here?</p>\n"},{"tags":["java","spring-boot","hibernate-validator"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668014615,"post_id":74377075,"comment_id":131306932,"body_markdown":"Hi &amp; welcome! The use case is no problem (using (&amp; overriding) classpath resources of &quot;dependencies&quot; ..as long you know their location/fqn) One confusion is: `src/main/java/resources` is rather uncommon and doesn&#39;t match `classpath:/...` (it matches `classpath:/resources/...`,) alternatively more convenient: `src/main/resources/` ..which results (with maven based build tools) in `classpath:/`","body":"Hi &amp; welcome! The use case is no problem (using (&amp; overriding) classpath resources of &quot;dependencies&quot; ..as long you know their location/fqn) One confusion is: <code>src&#47;main&#47;java&#47;resources</code> is rather uncommon and doesn&#39;t match <code>classpath:&#47;...</code> (it matches <code>classpath:&#47;resources&#47;...</code>,) alternatively more convenient: <code>src&#47;main&#47;resources&#47;</code> ..which results (with maven based build tools) in <code>classpath:&#47;</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668014945,"post_id":74377075,"comment_id":131307049,"body_markdown":"So best: 1. Introduce &quot;maven artifact&quot; (group:artifact:version), containing/publishing `src/main/resources/ValidationMessages.properties` (+i18n!?) 2. Introduce a (compile/runtime) dependency on 1. 3. Refer (1. from 2.) as `classpath:/ValidationMessages.properties`.","body":"So best: 1. Introduce &quot;maven artifact&quot; (group:artifact:version), containing/publishing <code>src&#47;main&#47;resources&#47;ValidationMessages.properties</code> (+i18n!?) 2. Introduce a (compile/runtime) dependency on 1. 3. Refer (1. from 2.) as <code>classpath:&#47;ValidationMessages.properties</code>."}],"owner":{"account_id":14696765,"reputation":11,"user_id":10613949,"display_name":"I. Dukan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668009771,"creation_date":1668006401,"question_id":74377075,"body_markdown":"I am working on multiple Spring Boot projects. However, I want to use same `ValidationMessages.properties` file for all projects.\r\n\r\nI have similar project structure can be seen below:\r\n\r\n\r\n```\r\nPROJECTS\r\n&gt; project-A\r\n &gt; src\r\n  &gt; main\r\n   &gt; java\r\n    &gt; com\r\n    &gt; resources\r\n     &gt; ValidationMessages.properties\r\n&gt;project-B\r\n &gt; src\r\n  &gt; main\r\n   &gt; java\r\n    &gt; come\r\n    &gt; resources\r\n     &gt; application.properties\r\n```\r\n\r\n\r\nSo, in project B, I want to use `ValidationMessages.properties` file that is located in project-A. Also, I have project-C, project-D.. so on.\r\n\r\nIs there any way to use one `ValidationMessages.properties` file from different Spring Boot projects.\r\n\r\nI have tried to specify by modifying `application.properties` file in project-B with `classpath_ValidationMessages=classpath:/ValidationMessages` line. Yet, it didn&#39;t work. I couldn&#39;t find the right way.","title":"Multiple Spring Boot project use same ValidationMessages.properites file","body":"<p>I am working on multiple Spring Boot projects. However, I want to use same <code>ValidationMessages.properties</code> file for all projects.</p>\n<p>I have similar project structure can be seen below:</p>\n<pre><code>PROJECTS\n&gt; project-A\n &gt; src\n  &gt; main\n   &gt; java\n    &gt; com\n    &gt; resources\n     &gt; ValidationMessages.properties\n&gt;project-B\n &gt; src\n  &gt; main\n   &gt; java\n    &gt; come\n    &gt; resources\n     &gt; application.properties\n</code></pre>\n<p>So, in project B, I want to use <code>ValidationMessages.properties</code> file that is located in project-A. Also, I have project-C, project-D.. so on.</p>\n<p>Is there any way to use one <code>ValidationMessages.properties</code> file from different Spring Boot projects.</p>\n<p>I have tried to specify by modifying <code>application.properties</code> file in project-B with <code>classpath_ValidationMessages=classpath:/ValidationMessages</code> line. Yet, it didn't work. I couldn't find the right way.</p>\n"},{"tags":["java","rest","swagger","swagger-2.0","swagger-codegen"],"answers":[{"tags":[],"owner":{"account_id":366204,"reputation":510,"user_id":711598,"display_name":"Taylor"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1484796064,"creation_date":1484796064,"answer_id":41733145,"question_id":39724076,"body_markdown":"The issue is that your specification does not mention the types of Security you want to use (a.k.a. Security Definitions) or which Security Definition applies to which end point.\r\n\r\nThe swagger specification is [here][1], but it doesn&#39;t tell the whole story.\r\n\r\nWhat you need to do is 1. Set up the Security Definitions. Here is a simple basic http auth definition:\r\n\r\n    securityDefinitions:\r\n      basic:\r\n        type: basic\r\n        description: HTTP Basic Authentication. \r\n\r\n\r\nand 2. Use that security definition in the end point.\r\n\r\n    paths:\r\n      /:\r\n        get:\r\n          security:\r\n           - basic: []\r\n          responses:\r\n            200:\r\n              description:  OK\r\n\r\nThen regenerate your swagger client code.  It should set up the immutable map correctly and the authNames array.\r\n  [1]: http://swagger.io/specification/","title":"Swagger Codegen CLI Java Client - How to use it right","body":"<p>The issue is that your specification does not mention the types of Security you want to use (a.k.a. Security Definitions) or which Security Definition applies to which end point.</p>\n\n<p>The swagger specification is <a href=\"http://swagger.io/specification/\" rel=\"noreferrer\">here</a>, but it doesn't tell the whole story.</p>\n\n<p>What you need to do is 1. Set up the Security Definitions. Here is a simple basic http auth definition:</p>\n\n<pre><code>securityDefinitions:\n  basic:\n    type: basic\n    description: HTTP Basic Authentication. \n</code></pre>\n\n<p>and 2. Use that security definition in the end point.</p>\n\n<pre><code>paths:\n  /:\n    get:\n      security:\n       - basic: []\n      responses:\n        200:\n          description:  OK\n</code></pre>\n\n<p>Then regenerate your swagger client code.  It should set up the immutable map correctly and the authNames array.</p>\n"},{"tags":[],"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582652705,"creation_date":1582652705,"answer_id":60400452,"question_id":39724076,"body_markdown":"As already suggested, if you don&#39;t want to modify existing code, you can extend the `ApiClient` in your custom configuration, e.g.\r\n\r\n    @Configuration\r\n    public class Config {\r\n    \r\n      @Value(&quot;${baseUrl}&quot;)\r\n      private String baseUrl;\r\n    \r\n      protected class AuthApiClient extends ApiClient {\r\n    \r\n        public AuthApiClient() {\r\n          super();\r\n        }\r\n    \r\n        @Override\r\n        public &lt;T&gt; T invokeAPI(final String path, final HttpMethod method,\r\n                final MultiValueMap&lt;String, String&gt; queryParams, final Object body,\r\n                final HttpHeaders headerParams, final MultiValueMap&lt;String, Object&gt; formParams,\r\n                final List&lt;MediaType&gt; accept, final MediaType contentType,\r\n                final String[] authNames, final ParameterizedTypeReference&lt;T&gt; returnType)\r\n                throws RestClientException {\r\n    \r\n                final HttpBasicAuth auth = new HttpBasicAuth();\r\n                auth.setUsername(&quot;myUsername&quot;);\r\n                auth.setPassword(&quot;myPassword&quot;);\r\n                auth.applyToParams(queryParams, headerParams);\r\n    \r\n          return super.invokeAPI(path, method, queryParams, body, headerParams, formParams,\r\n                    accept, contentType, authNames, returnType);\r\n        }\r\n      }\r\n    \r\n      @Bean\r\n      @Primary\r\n      @Qualifier(&quot;MyApiClient&quot;)\r\n      public AuthApiClient myApiClient() {\r\n        final AuthApiClient apiClient = new AuthApiClient();\r\n        apiClient.setBasePath(this.baseUrl);\r\n        return apiClient;\r\n      }\r\n    }\r\n\r\n","title":"Swagger Codegen CLI Java Client - How to use it right","body":"<p>As already suggested, if you don't want to modify existing code, you can extend the <code>ApiClient</code> in your custom configuration, e.g.</p>\n\n<pre><code>@Configuration\npublic class Config {\n\n  @Value(\"${baseUrl}\")\n  private String baseUrl;\n\n  protected class AuthApiClient extends ApiClient {\n\n    public AuthApiClient() {\n      super();\n    }\n\n    @Override\n    public &lt;T&gt; T invokeAPI(final String path, final HttpMethod method,\n            final MultiValueMap&lt;String, String&gt; queryParams, final Object body,\n            final HttpHeaders headerParams, final MultiValueMap&lt;String, Object&gt; formParams,\n            final List&lt;MediaType&gt; accept, final MediaType contentType,\n            final String[] authNames, final ParameterizedTypeReference&lt;T&gt; returnType)\n            throws RestClientException {\n\n            final HttpBasicAuth auth = new HttpBasicAuth();\n            auth.setUsername(\"myUsername\");\n            auth.setPassword(\"myPassword\");\n            auth.applyToParams(queryParams, headerParams);\n\n      return super.invokeAPI(path, method, queryParams, body, headerParams, formParams,\n                accept, contentType, authNames, returnType);\n    }\n  }\n\n  @Bean\n  @Primary\n  @Qualifier(\"MyApiClient\")\n  public AuthApiClient myApiClient() {\n    final AuthApiClient apiClient = new AuthApiClient();\n    apiClient.setBasePath(this.baseUrl);\n    return apiClient;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668009279,"creation_date":1668009279,"answer_id":74377811,"question_id":39724076,"body_markdown":"Just doing this works for me: \r\n\r\n     apiClient.addDefaultHeader(&quot;Authorization&quot;, &quot;Basic &quot; + base64Bearer);\r\n\r\nI am using swagger-codegen.version 3.0.35\r\nand API specification without any security definitions defined","title":"Swagger Codegen CLI Java Client - How to use it right","body":"<p>Just doing this works for me:</p>\n<pre><code> apiClient.addDefaultHeader(&quot;Authorization&quot;, &quot;Basic &quot; + base64Bearer);\n</code></pre>\n<p>I am using swagger-codegen.version 3.0.35\nand API specification without any security definitions defined</p>\n"}],"owner":{"account_id":2035968,"reputation":400,"user_id":1818311,"display_name":"Matthias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15942,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":41733145,"answer_count":3,"score":22,"last_activity_date":1668009279,"creation_date":1474977530,"question_id":39724076,"body_markdown":"I&#39;m currently playing around with my jersey2 rest service. For a better overview of the given service (description, types and so on) I make heavily use of swagger (swagger-jersey2-jaxrs). \r\nSo I&#39;m able to genereate my service description (swagger.json) and I can view and explore them via swagger ui.\r\n\r\nNow I&#39;m at the point that I need to create some clients to make use of these services. I came across swagger codegen cli which is a nice tool to generate your client and many different languages (java in my case). I&#39;m able to generate the api client and the model in use.\r\n\r\nHere I face the first problem. The REST services and the swagger description are http basic auth protected. I read the [documentation][1]  which gave me some hint that there is a possibility to use basic auth. At this point I have to mention that from my point of view the documentation is very poor. It says:\r\n\r\n-a &lt;authorization&gt;, --auth &lt;authorization&gt;\r\nadds authorization headers when fetching the swagger definitions remotely. Pass in a URL-encoded string of name:header with a comma separating multiple values.\r\n\r\nFirst thing I thought of is to pass a string like in an http header but that doesn&#39;t work and even googling how to use basic auth with swagger cli didn&#39;t result in some clear answer. After a lot of try and errors I (I&#39;m using CLI 2.1.2) I finally came across the right format:\r\n\r\njava -jar swagger-codegen-cli-2.1.2.jar generate -a &quot;Authorization: Basic YWRtaW46YWRtaW4=&quot; -i http://localhost:8080/webproject/restapi/swagger.json -l java -o restclient\r\n\r\nwhere YWRtaW46YWRtaW4= is the the base64 encoded value of admin:admin in my case.\r\n\r\nSo far so good. The generated java client have to make use of basic auth as well. I took a look at the methods from the ApiClient and found setUsername and setPassword. I thought that this methods empowers the client to use basic auth but no luck. \r\n\r\nSo I took a deeper look at the generated classes especially the ApiClient and the several generated ApiService Classes.\r\nI found out that the setUsername and setPassword have no effect because of the following:\r\n\r\n\r\n  \r\n\r\n    /**\r\n       * Helper method to set username for the first HTTP basic authentication.\r\n       */\r\n      public void setUsername(String username) {\r\n        for (Authentication auth : authentications.values()) {\r\n          if (auth instanceof HttpBasicAuth) {\r\n            ((HttpBasicAuth) auth).setUsername(username);\r\n            return;\r\n          }\r\n        }\r\n        throw new RuntimeException(&quot;No HTTP basic authentication configured!&quot;);\r\n      }\r\n\r\nwhere at the same time the HashMap is defined as the following:\r\n\r\n    // Setup authentications (key: authentication name, value: authentication).\r\n    authentications = new HashMap&lt;String, Authentication&gt;();\r\n    // Prevent the authentications from being modified.\r\n    authentications = Collections.unmodifiableMap(authentications);\r\n\r\n\r\nThe authentication hashmap becomes immutable, but why? What is the purpose? Furthermore there are no helper methods inside the ApiClinet which generates the needed auth object so I did the following:\r\n\r\n1) comment out the line authentications Collections.unmodifiableMap(authentications) so the hashmap becomes \tmodifiable again\r\n\r\n2) create needed auth object manually\r\n\r\n    HttpBasicAuth authentication = new HttpBasicAuth(); \r\n    authentication.setUsername(&quot;admin&quot;);\r\n    authentication.setPassword(&quot;admin&quot;);\r\n\r\n3) add the auth object to the apiClients authentication hashmap:\r\n\r\n    ApiClient apiClient = new ApiClient();\r\n    apiClient.setBasePath(basePath);\r\n    apiClient.getAuthentications().put(&quot;basic&quot;, authentication);\r\n\r\n4) modifying invokeApi Method (ApiClient.java)\r\n\r\n    public String invokeAPI(String path, String method, Map&lt;String, String&gt; queryParams, Object body, Map&lt;String, String&gt; headerParams, Map&lt;String, String&gt; formParams, String accept, String contentType, String[] authNames) throws ApiException {\r\n    String authNames2[] = {&quot;basic&quot;};\r\n    updateParamsForAuth(authNames2, queryParams, headerParams);\r\n    //updateParamsForAuth(authNames, queryParams, headerParams);\r\n    ...\r\n\r\nStep 4 is necessary because the ApiServices invoke the apiClient method like the following:\r\n\r\n    String[] authNames = new String[] {  };\r\n    String response = apiClient.invokeAPI(path, &quot;POST&quot;, queryParams, postBody, headerParams, formParams, accept, contentType, authNames);\r\n\r\n\r\nAn other possible solution would be to define the Key of the authentications hashmap in every apiService like:\r\n\r\n    String[] authNames = new String[] { &quot;basic&quot; };\r\n\r\n\r\nAfter doing all the modifications everything works as expected but I cant think that this is the idea behind an autogenerated rest client. \r\nSo my question is: Am I missing some point or should I think of the swagger generated client (java in this case) more of a beta solution which is under development?\r\nPlease get me right, I think the whole swagger framework (jersey2 support, openapi, swaggerui, codegen) is a great thing and I appreciate the developers effort but I want to use the codegen right and I don&#39;t think that the idea behind is so have to customize the generated ApiClient and ApiServices in such a way.\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-codegen","title":"Swagger Codegen CLI Java Client - How to use it right","body":"<p>I'm currently playing around with my jersey2 rest service. For a better overview of the given service (description, types and so on) I make heavily use of swagger (swagger-jersey2-jaxrs). \nSo I'm able to genereate my service description (swagger.json) and I can view and explore them via swagger ui.</p>\n\n<p>Now I'm at the point that I need to create some clients to make use of these services. I came across swagger codegen cli which is a nice tool to generate your client and many different languages (java in my case). I'm able to generate the api client and the model in use.</p>\n\n<p>Here I face the first problem. The REST services and the swagger description are http basic auth protected. I read the <a href=\"https://github.com/swagger-api/swagger-codegen\" rel=\"noreferrer\">documentation</a>  which gave me some hint that there is a possibility to use basic auth. At this point I have to mention that from my point of view the documentation is very poor. It says:</p>\n\n<p>-a , --auth \nadds authorization headers when fetching the swagger definitions remotely. Pass in a URL-encoded string of name:header with a comma separating multiple values.</p>\n\n<p>First thing I thought of is to pass a string like in an http header but that doesn't work and even googling how to use basic auth with swagger cli didn't result in some clear answer. After a lot of try and errors I (I'm using CLI 2.1.2) I finally came across the right format:</p>\n\n<p>java -jar swagger-codegen-cli-2.1.2.jar generate -a \"Authorization: Basic YWRtaW46YWRtaW4=\" -i <a href=\"http://localhost:8080/webproject/restapi/swagger.json\" rel=\"noreferrer\">http://localhost:8080/webproject/restapi/swagger.json</a> -l java -o restclient</p>\n\n<p>where YWRtaW46YWRtaW4= is the the base64 encoded value of admin:admin in my case.</p>\n\n<p>So far so good. The generated java client have to make use of basic auth as well. I took a look at the methods from the ApiClient and found setUsername and setPassword. I thought that this methods empowers the client to use basic auth but no luck. </p>\n\n<p>So I took a deeper look at the generated classes especially the ApiClient and the several generated ApiService Classes.\nI found out that the setUsername and setPassword have no effect because of the following:</p>\n\n<pre><code>/**\n   * Helper method to set username for the first HTTP basic authentication.\n   */\n  public void setUsername(String username) {\n    for (Authentication auth : authentications.values()) {\n      if (auth instanceof HttpBasicAuth) {\n        ((HttpBasicAuth) auth).setUsername(username);\n        return;\n      }\n    }\n    throw new RuntimeException(\"No HTTP basic authentication configured!\");\n  }\n</code></pre>\n\n<p>where at the same time the HashMap is defined as the following:</p>\n\n<pre><code>// Setup authentications (key: authentication name, value: authentication).\nauthentications = new HashMap&lt;String, Authentication&gt;();\n// Prevent the authentications from being modified.\nauthentications = Collections.unmodifiableMap(authentications);\n</code></pre>\n\n<p>The authentication hashmap becomes immutable, but why? What is the purpose? Furthermore there are no helper methods inside the ApiClinet which generates the needed auth object so I did the following:</p>\n\n<p>1) comment out the line authentications Collections.unmodifiableMap(authentications) so the hashmap becomes     modifiable again</p>\n\n<p>2) create needed auth object manually</p>\n\n<pre><code>HttpBasicAuth authentication = new HttpBasicAuth(); \nauthentication.setUsername(\"admin\");\nauthentication.setPassword(\"admin\");\n</code></pre>\n\n<p>3) add the auth object to the apiClients authentication hashmap:</p>\n\n<pre><code>ApiClient apiClient = new ApiClient();\napiClient.setBasePath(basePath);\napiClient.getAuthentications().put(\"basic\", authentication);\n</code></pre>\n\n<p>4) modifying invokeApi Method (ApiClient.java)</p>\n\n<pre><code>public String invokeAPI(String path, String method, Map&lt;String, String&gt; queryParams, Object body, Map&lt;String, String&gt; headerParams, Map&lt;String, String&gt; formParams, String accept, String contentType, String[] authNames) throws ApiException {\nString authNames2[] = {\"basic\"};\nupdateParamsForAuth(authNames2, queryParams, headerParams);\n//updateParamsForAuth(authNames, queryParams, headerParams);\n...\n</code></pre>\n\n<p>Step 4 is necessary because the ApiServices invoke the apiClient method like the following:</p>\n\n<pre><code>String[] authNames = new String[] {  };\nString response = apiClient.invokeAPI(path, \"POST\", queryParams, postBody, headerParams, formParams, accept, contentType, authNames);\n</code></pre>\n\n<p>An other possible solution would be to define the Key of the authentications hashmap in every apiService like:</p>\n\n<pre><code>String[] authNames = new String[] { \"basic\" };\n</code></pre>\n\n<p>After doing all the modifications everything works as expected but I cant think that this is the idea behind an autogenerated rest client. \nSo my question is: Am I missing some point or should I think of the swagger generated client (java in this case) more of a beta solution which is under development?\nPlease get me right, I think the whole swagger framework (jersey2 support, openapi, swaggerui, codegen) is a great thing and I appreciate the developers effort but I want to use the codegen right and I don't think that the idea behind is so have to customize the generated ApiClient and ApiServices in such a way.</p>\n"},{"tags":["java","simulation","anylogic","agent-based-modeling"],"comments":[{"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"score":0,"creation_date":1668006569,"post_id":74376631,"comment_id":131303803,"body_markdown":"add a picture of your process, and a picture of the properties of your service and resourcepool blocks... otherwise difficult to know the problem","body":"add a picture of your process, and a picture of the properties of your service and resourcepool blocks... otherwise difficult to know the problem"},{"owner":{"account_id":26816189,"reputation":1,"user_id":20406142,"display_name":"Shriram"},"score":0,"creation_date":1668009267,"post_id":74376631,"comment_id":131304939,"body_markdown":"added pictures of model and block properties","body":"added pictures of model and block properties"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1668012264,"post_id":74376631,"comment_id":131306035,"body_markdown":"maybe you didn&#39;t really connect the connectors correct? Try delete them all and redo carefully","body":"maybe you didn&#39;t really connect the connectors correct? Try delete them all and redo carefully"},{"owner":{"account_id":26816189,"reputation":1,"user_id":20406142,"display_name":"Shriram"},"score":0,"creation_date":1668013317,"post_id":74376631,"comment_id":131306464,"body_markdown":"Reconnected the blocks. Still facing the same issue.\nAny possibility that any of the agents is null?","body":"Reconnected the blocks. Still facing the same issue. Any possibility that any of the agents is null?"},{"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"score":0,"creation_date":1668015197,"post_id":74376631,"comment_id":131307143,"body_markdown":"very mysterious problem.. can you upload this same model somewhere?","body":"very mysterious problem.. can you upload this same model somewhere?"}],"owner":{"account_id":26816189,"reputation":1,"user_id":20406142,"display_name":"Shriram"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668009230,"creation_date":1668004600,"question_id":74376631,"body_markdown":"I have created a very simple model in AnyLogic consisting of source, Service, sink and resourcepool blocks. The source is connected to service which is then connected to sink. The source block generates agents of type 1 and resourcepool has agent type 2. When I run the model, I am getting following runtime error. There are no attributes to both the agent types. Also, agent types are created and not population.\r\n\r\n    java.lang.NullPointerException\r\n    at com.anylogic.engine.Port.connect(Unknown Source)\r\n    at com.anylogic.libraries.processmodeling.Seize.doCreate(Unknown Source)\r\n    at com.anylogic.engine.Agent.createAsEmbedded(Unknown Source)\r\n    at com.anylogic.libraries.processmodeling.Service.doCreate(Unknown Source)\r\n    at com.anylogic.engine.Agent.createAsEmbedded(Unknown Source)\r\n    at model.Main.doCreate(Main.java.619)\r\n    at com.anylogic.engine.Agent.createAsEmbedded(Unknown Source)\r\n    at com.anylogic.engine.Agent.create(Unknown Source)\r\n    at com.anylogic.engine.Engine.start(Unknown Source)\r\n\r\n\r\nI tried debugging the model but no success and also verified that all the initializations are not null.\r\n\r\nModel:\r\n[enter image description here][1]\r\n\r\n\r\nSource properties:\r\n[enter image description here][2]\r\n\r\nService properties:\r\n[enter image description here][3]\r\n\r\nResourcepool properties:\r\n[enter image description here][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nSkgT.png\r\n  [2]: https://i.stack.imgur.com/YOKPs.png\r\n  [3]: https://i.stack.imgur.com/EqHs8.png\r\n  [4]: https://i.stack.imgur.com/G0lO7.png","title":"Anylogic NullPointer Exception Process Modeling Blocks","body":"<p>I have created a very simple model in AnyLogic consisting of source, Service, sink and resourcepool blocks. The source is connected to service which is then connected to sink. The source block generates agents of type 1 and resourcepool has agent type 2. When I run the model, I am getting following runtime error. There are no attributes to both the agent types. Also, agent types are created and not population.</p>\n<pre><code>java.lang.NullPointerException\nat com.anylogic.engine.Port.connect(Unknown Source)\nat com.anylogic.libraries.processmodeling.Seize.doCreate(Unknown Source)\nat com.anylogic.engine.Agent.createAsEmbedded(Unknown Source)\nat com.anylogic.libraries.processmodeling.Service.doCreate(Unknown Source)\nat com.anylogic.engine.Agent.createAsEmbedded(Unknown Source)\nat model.Main.doCreate(Main.java.619)\nat com.anylogic.engine.Agent.createAsEmbedded(Unknown Source)\nat com.anylogic.engine.Agent.create(Unknown Source)\nat com.anylogic.engine.Engine.start(Unknown Source)\n</code></pre>\n<p>I tried debugging the model but no success and also verified that all the initializations are not null.</p>\n<p>Model:\n<a href=\"https://i.stack.imgur.com/nSkgT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Source properties:\n<a href=\"https://i.stack.imgur.com/YOKPs.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Service properties:\n<a href=\"https://i.stack.imgur.com/EqHs8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Resourcepool properties:\n<a href=\"https://i.stack.imgur.com/G0lO7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-boot","docker","docker-compose","dockerfile"],"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":1,"creation_date":1667997888,"post_id":74375053,"comment_id":131300373,"body_markdown":"When you want to deploy your application via docker, you should ideally deliver a built docker image. The docker compose file could be used to setup the application stack. Maybe you should take a look at [this](https://stackoverflow.com/questions/29480099/whats-the-difference-between-docker-compose-vs-dockerfile).","body":"When you want to deploy your application via docker, you should ideally deliver a built docker image. The docker compose file could be used to setup the application stack. Maybe you should take a look at <a href=\"https://stackoverflow.com/questions/29480099/whats-the-difference-between-docker-compose-vs-dockerfile\">this</a>."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1667998114,"post_id":74375053,"comment_id":131300441,"body_markdown":"Do you mean that it is only used for application related tasks e.g. copying jar files from target folder, etc.? But I also remember it is used for installing images, and some other commands. Any clarification pls?","body":"Do you mean that it is only used for application related tasks e.g. copying jar files from target folder, etc.? But I also remember it is used for installing images, and some other commands. Any clarification pls?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1667998128,"post_id":74375053,"comment_id":131300447,"body_markdown":"And what do you think about my other questions?","body":"And what do you think about my other questions?"}],"answers":[{"tags":[],"owner":{"account_id":12623537,"reputation":672,"user_id":9178159,"display_name":"Ryan Cahill"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668009087,"creation_date":1668002886,"answer_id":74376207,"question_id":74375053,"body_markdown":"&gt; 1. Assume that we send the jar file to the customer and want them to run the app on Docker with less effort. I think we can make all of\r\n&gt; those commands to be executed automatically. But I am not sure for\r\n&gt; which file should we use for this. Do we need Dockerfile? Or\r\n&gt; docker-compose.yml?\r\n\r\nYou could send the customer a `Dockerfile` with commands to `build` and `run` the Docker container, or you could send them a `docker-compose.yml` file and the customer would likely only need to run `docker-compose up`. If the customer will be using the `docker-compose.yml` file though, you&#39;ll also need to provide the image built from the `Dockerfile` or the `Dockerfile` itself with relevant context needed to build it. Giving the customer any files related to application code or more sensitive variables should be decided in a conversation with the customer.\r\n\r\n&gt; 2. I also use docker-compose.yml to create container and making necessary settings for development. But, I am not sure what is the\r\n&gt; purpose of Dockerfile? It seems tı be also used for automation of this\r\n&gt; procedures. Any clarification pls?\r\n\r\nThe Dockerfile basically contains the instructions to build the Docker image so that the image is built the same way on any machine. \r\n\r\n&gt; 3. In most of the examples, FROM openjdk:8 is used. I think it is related to that there is no JRE of Java 11. So, can it be also used as\r\n&gt; FROM openjdk:8 on Dockerfile for Java 11 or Java 17 applications?\r\n\r\nYou should take note that that image has been deprecated and will no longer be maintained, so you should check out a different base image to use from the variants listed on [Docker Hub][1]. For example, you can use an [amazoncorreto base image][2] that starts with whatever Java version you&#39;re targeting.\r\n\r\n\r\n  [1]: https://hub.docker.com/_/openjdk\r\n  [2]: https://hub.docker.com/_/amazoncorretto","title":"Confusion between Dockerfile and docker-compose.yml","body":"<blockquote>\n<ol>\n<li>Assume that we send the jar file to the customer and want them to run the app on Docker with less effort. I think we can make all of\nthose commands to be executed automatically. But I am not sure for\nwhich file should we use for this. Do we need Dockerfile? Or\ndocker-compose.yml?</li>\n</ol>\n</blockquote>\n<p>You could send the customer a <code>Dockerfile</code> with commands to <code>build</code> and <code>run</code> the Docker container, or you could send them a <code>docker-compose.yml</code> file and the customer would likely only need to run <code>docker-compose up</code>. If the customer will be using the <code>docker-compose.yml</code> file though, you'll also need to provide the image built from the <code>Dockerfile</code> or the <code>Dockerfile</code> itself with relevant context needed to build it. Giving the customer any files related to application code or more sensitive variables should be decided in a conversation with the customer.</p>\n<blockquote>\n<ol start=\"2\">\n<li>I also use docker-compose.yml to create container and making necessary settings for development. But, I am not sure what is the\npurpose of Dockerfile? It seems tı be also used for automation of this\nprocedures. Any clarification pls?</li>\n</ol>\n</blockquote>\n<p>The Dockerfile basically contains the instructions to build the Docker image so that the image is built the same way on any machine.</p>\n<blockquote>\n<ol start=\"3\">\n<li>In most of the examples, FROM openjdk:8 is used. I think it is related to that there is no JRE of Java 11. So, can it be also used as\nFROM openjdk:8 on Dockerfile for Java 11 or Java 17 applications?</li>\n</ol>\n</blockquote>\n<p>You should take note that that image has been deprecated and will no longer be maintained, so you should check out a different base image to use from the variants listed on <a href=\"https://hub.docker.com/_/openjdk\" rel=\"nofollow noreferrer\">Docker Hub</a>. For example, you can use an <a href=\"https://hub.docker.com/_/amazoncorretto\" rel=\"nofollow noreferrer\">amazoncorreto base image</a> that starts with whatever Java version you're targeting.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668009087,"creation_date":1667997714,"question_id":74375053,"body_markdown":"I am just trying to dockerize my Spring Boot app with MySQL database and at the beginning I see that I can do that by running some necessary commands as shown below:\r\n\r\n```\r\ndocker pull mysql:8.0\r\n```\r\n\r\n\r\n\r\n```\r\ndocker network create springmysql-net\r\n```\r\n\r\n```\r\ndocker run --name mysqldb --network springmysql-net -e MYSQL_ROOT_PASSWORD=pass -e \r\nMYSQL_DATABASE=employee-db -e MYSQL_USER=user -e MYSQL_PASSWORD=****** -d mysql:8.0\r\n```\r\n\r\n```\r\n// update application properties:\r\nurl: jdbc:mysql://&lt;container-name&gt;:3306/employee-db&amp;useSSL=false\r\n```\r\n\r\n```\r\ndocker build -t backend .\r\n```\r\n\r\n```\r\ndocker run --network springmysql-net --name backend-container -p 8080:8080 -d backend\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\nAnd the `Dockerfile` is as shown below:\r\n\r\n```\r\nFROM openjdk:8\r\nADD target/employee-api-0.0.1-SNAPSHOT.jar employee-api-0.0.1-SNAPSHOT.jar\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;employee-api-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\n\r\nHere is the points that I could not be sure or understand:\r\n\r\n**1.** Assume that we send the jar file to the customer and want them to run the app on Docker with less effort. I think we can make all of those commands to be executed automatically. But I am not sure for which file should we use for this. Do we need `Dockerfile`? Or `docker-compose.yml`?\r\n\r\n\r\n**2.** I also use `docker-compose.yml` to create container and making necessary settings for development. But, I am not sure what is the purpose of `Dockerfile`? It seems tı be also used for automation of this procedures.  Any clarification pls?\r\n\r\n**3.** In most of the examples, `FROM openjdk:8` is used. I think it is related to that there is no JRE of Java 11. So, can it be also used as `FROM openjdk:8` on Dockerfile for Java 11 or Java 17 applications? ","title":"Confusion between Dockerfile and docker-compose.yml","body":"<p>I am just trying to dockerize my Spring Boot app with MySQL database and at the beginning I see that I can do that by running some necessary commands as shown below:</p>\n<pre><code>docker pull mysql:8.0\n</code></pre>\n<pre><code>docker network create springmysql-net\n</code></pre>\n<pre><code>docker run --name mysqldb --network springmysql-net -e MYSQL_ROOT_PASSWORD=pass -e \nMYSQL_DATABASE=employee-db -e MYSQL_USER=user -e MYSQL_PASSWORD=****** -d mysql:8.0\n</code></pre>\n<pre><code>// update application properties:\nurl: jdbc:mysql://&lt;container-name&gt;:3306/employee-db&amp;useSSL=false\n</code></pre>\n<pre><code>docker build -t backend .\n</code></pre>\n<pre><code>docker run --network springmysql-net --name backend-container -p 8080:8080 -d backend\n</code></pre>\n<br/>\n<p>And the <code>Dockerfile</code> is as shown below:</p>\n<pre><code>FROM openjdk:8\nADD target/employee-api-0.0.1-SNAPSHOT.jar employee-api-0.0.1-SNAPSHOT.jar\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;employee-api-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>Here is the points that I could not be sure or understand:</p>\n<p><strong>1.</strong> Assume that we send the jar file to the customer and want them to run the app on Docker with less effort. I think we can make all of those commands to be executed automatically. But I am not sure for which file should we use for this. Do we need <code>Dockerfile</code>? Or <code>docker-compose.yml</code>?</p>\n<p><strong>2.</strong> I also use <code>docker-compose.yml</code> to create container and making necessary settings for development. But, I am not sure what is the purpose of <code>Dockerfile</code>? It seems tı be also used for automation of this procedures.  Any clarification pls?</p>\n<p><strong>3.</strong> In most of the examples, <code>FROM openjdk:8</code> is used. I think it is related to that there is no JRE of Java 11. So, can it be also used as <code>FROM openjdk:8</code> on Dockerfile for Java 11 or Java 17 applications?</p>\n"},{"tags":["java","apache-spark","hadoop"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1661618082,"post_id":73503205,"comment_id":129816913,"body_markdown":"One solution is to run Spark in Linux/WSL2 instead of Windows CMD. The whole reason Winutils is needed, only on windows, is because Spark depends on Unix permission sets","body":"One solution is to run Spark in Linux/WSL2 instead of Windows CMD. The whole reason Winutils is needed, only on windows, is because Spark depends on Unix permission sets"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1661618810,"post_id":73503205,"comment_id":129817067,"body_markdown":"&quot;The whole reason Winutils is needed, only on windows, is because Spark depends on Unix permission sets&quot;. Java handles Unix permission sets just fine since like Java 7. If you dig in the code, you&#39;ll find the real problem is that `RawLocalFileSystem` _assumes_ that the only way to get to them is shelling out to some OS command. So why not improve `RawLocalFileSystem` to use Java on Windows? Or is there a way to tell Spark to use a different Hadoop `FileSystem` implementation that uses pure Java? Creativity, people!","body":"&quot;The whole reason Winutils is needed, only on windows, is because Spark depends on Unix permission sets&quot;. Java handles Unix permission sets just fine since like Java 7. If you dig in the code, you&#39;ll find the real problem is that <code>RawLocalFileSystem</code> <i>assumes</i> that the only way to get to them is shelling out to some OS command. So why not improve <code>RawLocalFileSystem</code> to use Java on Windows? Or is there a way to tell Spark to use a different Hadoop <code>FileSystem</code> implementation that uses pure Java? Creativity, people!"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":1,"creation_date":1661619245,"post_id":73503205,"comment_id":129817164,"body_markdown":"&quot;It&#39;s an open source project. Make a pull request or open a JIRA instead of complain&quot;. Sure, I&#39;ll be glad to. But I&#39;m asking here first how it works and what the options are. And the only compliant is toward any attitudes of &quot;that&#39;s just the way it is; don&#39;t try to investigate solutions&quot;, which is the attitude that originally closed this question before it was reopened.","body":"&quot;It&#39;s an open source project. Make a pull request or open a JIRA instead of complain&quot;. Sure, I&#39;ll be glad to. But I&#39;m asking here first how it works and what the options are. And the only compliant is toward any attitudes of &quot;that&#39;s just the way it is; don&#39;t try to investigate solutions&quot;, which is the attitude that originally closed this question before it was reopened."},{"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"score":0,"creation_date":1662548082,"post_id":73503205,"comment_id":130029667,"body_markdown":"It&#39;s a pain and if someone wants to add the ability to downgrade hadoop`s file:// filesystem to not need the libs, i will help review the hadoop PRs. meanwhile, grab a build of winutils.exe for your hadoop binaries  https://github.com/cdarlint/winutils","body":"It&#39;s a pain and if someone wants to add the ability to downgrade hadoop`s file:// filesystem to not need the libs, i will help review the hadoop PRs. meanwhile, grab a build of winutils.exe for your hadoop binaries  <a href=\"https://github.com/cdarlint/winutils\" rel=\"nofollow noreferrer\">github.com/cdarlint/winutils</a>"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1668009124,"post_id":73503205,"comment_id":131304865,"body_markdown":"I&#39;m still astounded at the initial response to my question. This was a completely legitimate question, with an understandable explanation and a feasible workaround possible. Yet someone immediately closed the question, and then I got all sorts of push-back on the question itself, as if I were asking the gods for something sinful. I&#39;m guessing part of came from newbie developers who had no clue how things worked and didn&#39;t even understand the question. Disappointingly even some experienced Hadoop developers seemed hostile to questioning the status quo. But I do appreciate stevel&#39;s assistance.","body":"I&#39;m still astounded at the initial response to my question. This was a completely legitimate question, with an understandable explanation and a feasible workaround possible. Yet someone immediately closed the question, and then I got all sorts of push-back on the question itself, as if I were asking the gods for something sinful. I&#39;m guessing part of came from newbie developers who had no clue how things worked and didn&#39;t even understand the question. Disappointingly even some experienced Hadoop developers seemed hostile to questioning the status quo. But I do appreciate stevel&#39;s assistance."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661620000,"creation_date":1661602105,"answer_id":73510870,"question_id":73503205,"body_markdown":"Spark is a replacement _execution framework_ for mapreduce, not a &quot;Hadoop replacement&quot;. \r\n\r\nSpark uses Hadoop libraries for Filesystem access, including local filesystem. As shown in your error &lt;code&gt;**org.apache.hadoop**.fs.RawLocalFileSystem&lt;/code&gt;\r\n\r\nIt also uses winutils as a sort of shim to implement Unix (POSIX?) chown/chmod commands to determine  file permissions on top of Windows directories.\r\n\r\n&gt; tell Spark to use a different file system implementation than RawLocalFileSystem? \r\n\r\nYes, use a different URI than default `file://`\r\n\r\nE.g. `spark.csv(&quot;nfs://path/file.csv&quot;)`\r\n\r\nOr s3a or install HDFS, or GlusterFS, etc. for a distributed filesystem. After all Spark is meant to be distributed processing engine; if you&#39;re only handling small local files, it&#39;s not the best tool. ","title":"Why all these `HADOOP_HOME` and Winutils errors with Spark on Windows if Hadoop not used?","body":"<p>Spark is a replacement <em>execution framework</em> for mapreduce, not a &quot;Hadoop replacement&quot;.</p>\n<p>Spark uses Hadoop libraries for Filesystem access, including local filesystem. As shown in your error <code><strong>org.apache.hadoop</strong>.fs.RawLocalFileSystem</code></p>\n<p>It also uses winutils as a sort of shim to implement Unix (POSIX?) chown/chmod commands to determine  file permissions on top of Windows directories.</p>\n<blockquote>\n<p>tell Spark to use a different file system implementation than RawLocalFileSystem?</p>\n</blockquote>\n<p>Yes, use a different URI than default <code>file://</code></p>\n<p>E.g. <code>spark.csv(&quot;nfs://path/file.csv&quot;)</code></p>\n<p>Or s3a or install HDFS, or GlusterFS, etc. for a distributed filesystem. After all Spark is meant to be distributed processing engine; if you're only handling small local files, it's not the best tool.</p>\n"},{"tags":[],"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662548375,"creation_date":1662548375,"answer_id":73634335,"question_id":73503205,"body_markdown":"There is a longstanding JIRA for this...for anyone running spark standalone on laptop there&#39;s no needed to provide those posix permissions. is there\r\n\r\n[LocalFS to support ability to disable permission get/set; remove need for winutils](https://issues.apache.org/jira/browse/HADOOP-17839)\r\n\r\nThis is related to [HADOOP-13223\r\nwinutils.exe is a bug nexus and should be killed with an axe](https://issues.apache.org/jira/browse/HADOOP-13223).\r\nIt is *only* people running spark on windows who hit this problem, and nobody is putting in the work to fix it. If someone was, I will help review/nurture in. ","title":"Why all these `HADOOP_HOME` and Winutils errors with Spark on Windows if Hadoop not used?","body":"<p>There is a longstanding JIRA for this...for anyone running spark standalone on laptop there's no needed to provide those posix permissions. is there</p>\n<p><a href=\"https://issues.apache.org/jira/browse/HADOOP-17839\" rel=\"nofollow noreferrer\">LocalFS to support ability to disable permission get/set; remove need for winutils</a></p>\n<p>This is related to <a href=\"https://issues.apache.org/jira/browse/HADOOP-13223\" rel=\"nofollow noreferrer\">HADOOP-13223\nwinutils.exe is a bug nexus and should be killed with an axe</a>.\nIt is <em>only</em> people running spark on windows who hit this problem, and nobody is putting in the work to fix it. If someone was, I will help review/nurture in.</p>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1668008757,"creation_date":1668005115,"answer_id":74376758,"question_id":73503205,"body_markdown":"### TL;DR\r\n\r\nI have created a local implementation of Hadoop `FileSystem` that bypasses Winutils on Windows (and indeed should work on any Java platform). The [GlobalMentor Hadoop Bare Naked Local FileSystem][1] source code is available on GitHub and can be specified as a dependency from [Maven Central][2].\r\n\r\n1. If you have an application that needs Hadoop local `FileSystem` support without relying on Winutils, import the latest [`com.globalmentor:hadoop-bare-naked-local-fs`][2] library into your project, e.g. in Maven for v0.1.0:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.globalmentor&lt;/groupId&gt;\r\n  &lt;artifactId&gt;hadoop-bare-naked-local-fs&lt;/artifactId&gt;\r\n  &lt;version&gt;0.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n2. Then specify that you want to use the Bare Local File System implementation `com.globalmentor.apache.hadoop.fs.BareLocalFileSystem` for the `file` scheme. (`BareLocalFileSystem` internally uses `NakedLocalFileSystem`.)  The following example does this for Spark in Java:\r\n```java\r\nSparkSession spark = SparkSession.builder().appName(&quot;Foo Bar&quot;).master(&quot;local&quot;).getOrCreate();\r\nspark.sparkContext().hadoopConfiguration().setClass(&quot;fs.file.impl&quot;, BareLocalFileSystem.class, FileSystem.class);\r\n```\r\n\r\n_Note that you may still get warnings that &quot;HADOOP_HOME and hadoop.home.dir are unset&quot; and &quot;Did not find winutils.exe&quot;. This is because the Winutils kludge permeates the Hadoop code and is hard-coded at a low-level, executed statically upon class loading, even for code completely unrelated to file access. More explanation can be found on the [project page on GitHub][1]. See also [HADOOP-13223: winutils.exe is a bug nexus and should be killed with an axe.][3])_\r\n\r\n### How Spark uses Hadoop `FileSystem`\r\n\r\nSpark uses the Hadoop `FileSystem` API as a means for writing output to disk, e.g. for local CSV or JSON output. It pulls in the entire Hadoop client libraries (currently `org.apache.hadoop:hadoop-client-api:3.3.2`), containing various `FileSystem` implementations. These implementations use the Java [service loader framework][4] to automatically register several implementations for several schemes, including among others:\r\n\r\n* `org.apache.hadoop.fs.LocalFileSystem`\r\n* `org.apache.hadoop.fs.viewfs.ViewFileSystem`\r\n* `org.apache.hadoop.fs.http.HttpFileSystem`\r\n* `org.apache.hadoop.fs.http.HttpsFileSystem`\r\n* `org.apache.hadoop.hdfs.DistributedFileSystem`\r\n* …\r\n\r\nEach of these file systems indicates which scheme it supports. In particular `org.apache.hadoop.fs.LocalFileSystem` indicates it supports the `file` scheme, and it is used by default to access the local file system. It in turn uses the `org.apache.hadoop.fs.RawLocalFileSystem` internally, which is the `FileSystem` implementation ultimately responsible for requiring Winutils.\r\n\r\nBut it is possible to override the Hadoop configuration and specify another `FileSystem` implementation. Spark creates a special `Configuration` for Hadoop in `org.apache.spark.sql.internal.SessionState.newHadoopConf(…)` ultimately combining all the sources `core-default.xml`, `core-site.xml`, `mapred-default.xml`, `mapred-site.xml`, `yarn-default.xml`, `yarn-site.xml`, and `__spark_hadoop_conf__.xml`, if any are present. Then Hadoop&#39;s `FileSystem.getFileSystemClass(String scheme, Configuration conf)` looks for the `FileSystem` implementation to use by looking up a configuration for the scheme (in this case `file`) in the form `fs.${scheme}.impl` (i.e. `fs.file.impl` in this case).\r\n\r\nThus if you want to specify another  local file system implementation to use, you&#39;ll need to somehow get `fs.file.impl` into the configuration. Rather than creating a local configuration file if you are accessing Spark programmatically, you can set it via the Spark session, as explained in the introduction.\r\n\r\n\r\n### Why Winutils\r\n\r\nThe Hadoop `FileSystem` API in large part assumes a *nix file system. The current Hadoop local `FileSystem` implementation uses native *nix libraries or opens shell processes and directly runs *nix commands. The current local `FileSystem` implementation for Windows limps along with a huge kludge: a set of binary artifacts called [Winutils][5] that a Hadoop contributor created, providing a special back-door subsystem on Windows that Hadoop can access instead of *nix libraries and shell commands. (See [HADOOP-13223: winutils.exe is a bug nexus and should be killed with an axe.][3])\r\n\r\nHowever detection and required support of Winutils is actually hard-coded in the Hadoop at a low-level—even in code that has nothing to do with the file system! For example when Spark starts up, even a simple `Configuration` initialization in the Hadoop code invokes `StringUtils.equalsIgnoreCase(&quot;true&quot;, valueString)`, and the `StringUtils` class has a static reference to `Shell`, which has a static initialization block that looks for Winutils and produces a warning if not found. &#129318;‍♂️ (In fact this is the source of the warnings that were the motivation for this Stack Overflow question in the first place.)\r\n\r\n### Workaround to use `FileSystem` without Winutils\r\n\r\nIrrespective of the warnings, the larger issue is getting `FileSystem` to work without needing Winutils. This is paradoxically both a simpler and also a much more complex project than it would first appear. One one hand it is not too difficult to use updated Java API calls instead of Winutils to access the local file system; I have done that already in the [GlobalMentor Hadoop Bare Naked Local FileSystem][1]. But weeding out Winutils completely is much more complex and difficult. The current `LocalFileSystem` and `RawLocalFileSystem` implementations have evolved haphazardly, with halway-implemented features scattered about, special-case code for ill-documented corner cases, and implementation-specific assumptions permeating the design itself.\r\n\r\nThe example was already given above of `Configuration` accessing `Shell` and trying to pull in Winutils just upon classloading during startup. At the `FileSystem` level Winutils-related logic isn&#39;t contained to `RawLocalFileSystem`, which would have allowed it to easily be overridden, but instead relies on the static [`FileUtil`](https://github.com/apache/hadoop/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java) class which is like a separate file system implementation that relies on Winutils and can&#39;t be modified. For example here is `FileUtil` code that would need to be updated, unfortunately independently of the `FileSystem` implementation:\r\n```java\r\n  public static String readLink(File f) {\r\n    /* NB: Use readSymbolicLink in java.nio.file.Path once available. Could\r\n     * use getCanonicalPath in File to get the target of the symlink but that\r\n     * does not indicate if the given path refers to a symlink.\r\n     */\r\n    …\r\n    try {\r\n      return Shell.execCommand(\r\n          Shell.getReadlinkCommand(f.toString())).trim();\r\n    } catch (IOException x) {\r\n      return &quot;&quot;;\r\n    }\r\n```\r\n\r\nApparently there is a &quot;new [`Stat`](https://github.com/apache/hadoop/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Stat.java) based implementation&quot; of many methods, but `RawLocalFileSystem` instead uses a deprecated implementations such as `DeprecatedRawLocalFileStatus`, which is full of workarounds and special-cases, is package-private so it can&#39;t be accessed by subclasses, yet can&#39;t be removed because of [HADOOP-9652](https://issues.apache.org/jira/browse/HADOOP-9652). The `useDeprecatedFileStatus` switch is hard-coded so that it can&#39;t be modified by a subclass, forcing a re-implementation of everything it touches. In other words, even the new, less-kludgey approach is switched off in the code, has been for years, and no one seems to be paying it any mind.\r\n\r\n## Summary\r\n\r\nIn summary, Winutils is hard-coded at a low-level throughout the code, even in logic unrelated to file access, and the current implementation is a hodge-podge of deprecated and undeprecated code switched on or off by hard-coded flags that were put in place when errors appeared with new changes. It&#39;s a mess, and it&#39;s been that way for years. No one really cares, and instead keeps building on unstable sand (`ViewFs` anyone?) rather than going back and fixing the foundation. If Hadoop can&#39;t even fix large swathes of deprecated file access code consolidated in one place, do you think they are going to fix the Winutils kludge that permeates multiple classes at a low level?\r\n\r\nI&#39;m not holding my breath. Instead I&#39;ll be content with the workaround I&#39;ve written which writes to the file system via the Java API, bypassing Winutils for the most common use case (writing to the local file system without using symlinks and without the need for the sticky bit permission), which is sufficient to get Spark accessing the local file system on Windows.\r\n\r\n\r\n  [1]: https://github.com/globalmentor/hadoop-bare-naked-local-fs\r\n  [2]: https://search.maven.org/artifact/com.globalmentor/hadoop-bare-naked-local-fs\r\n  [3]: https://issues.apache.org/jira/browse/HADOOP-13223\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html\r\n  [5]: https://github.com/steveloughran/winutils","title":"Why all these `HADOOP_HOME` and Winutils errors with Spark on Windows if Hadoop not used?","body":"<h3>TL;DR</h3>\n<p>I have created a local implementation of Hadoop <code>FileSystem</code> that bypasses Winutils on Windows (and indeed should work on any Java platform). The <a href=\"https://github.com/globalmentor/hadoop-bare-naked-local-fs\" rel=\"noreferrer\">GlobalMentor Hadoop Bare Naked Local FileSystem</a> source code is available on GitHub and can be specified as a dependency from <a href=\"https://search.maven.org/artifact/com.globalmentor/hadoop-bare-naked-local-fs\" rel=\"noreferrer\">Maven Central</a>.</p>\n<ol>\n<li>If you have an application that needs Hadoop local <code>FileSystem</code> support without relying on Winutils, import the latest <a href=\"https://search.maven.org/artifact/com.globalmentor/hadoop-bare-naked-local-fs\" rel=\"noreferrer\"><code>com.globalmentor:hadoop-bare-naked-local-fs</code></a> library into your project, e.g. in Maven for v0.1.0:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.globalmentor&lt;/groupId&gt;\n  &lt;artifactId&gt;hadoop-bare-naked-local-fs&lt;/artifactId&gt;\n  &lt;version&gt;0.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Then specify that you want to use the Bare Local File System implementation <code>com.globalmentor.apache.hadoop.fs.BareLocalFileSystem</code> for the <code>file</code> scheme. (<code>BareLocalFileSystem</code> internally uses <code>NakedLocalFileSystem</code>.)  The following example does this for Spark in Java:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>SparkSession spark = SparkSession.builder().appName(&quot;Foo Bar&quot;).master(&quot;local&quot;).getOrCreate();\nspark.sparkContext().hadoopConfiguration().setClass(&quot;fs.file.impl&quot;, BareLocalFileSystem.class, FileSystem.class);\n</code></pre>\n<p><em>Note that you may still get warnings that &quot;HADOOP_HOME and hadoop.home.dir are unset&quot; and &quot;Did not find winutils.exe&quot;. This is because the Winutils kludge permeates the Hadoop code and is hard-coded at a low-level, executed statically upon class loading, even for code completely unrelated to file access. More explanation can be found on the <a href=\"https://github.com/globalmentor/hadoop-bare-naked-local-fs\" rel=\"noreferrer\">project page on GitHub</a>. See also <a href=\"https://issues.apache.org/jira/browse/HADOOP-13223\" rel=\"noreferrer\">HADOOP-13223: winutils.exe is a bug nexus and should be killed with an axe.</a>)</em></p>\n<h3>How Spark uses Hadoop <code>FileSystem</code></h3>\n<p>Spark uses the Hadoop <code>FileSystem</code> API as a means for writing output to disk, e.g. for local CSV or JSON output. It pulls in the entire Hadoop client libraries (currently <code>org.apache.hadoop:hadoop-client-api:3.3.2</code>), containing various <code>FileSystem</code> implementations. These implementations use the Java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html\" rel=\"noreferrer\">service loader framework</a> to automatically register several implementations for several schemes, including among others:</p>\n<ul>\n<li><code>org.apache.hadoop.fs.LocalFileSystem</code></li>\n<li><code>org.apache.hadoop.fs.viewfs.ViewFileSystem</code></li>\n<li><code>org.apache.hadoop.fs.http.HttpFileSystem</code></li>\n<li><code>org.apache.hadoop.fs.http.HttpsFileSystem</code></li>\n<li><code>org.apache.hadoop.hdfs.DistributedFileSystem</code></li>\n<li>…</li>\n</ul>\n<p>Each of these file systems indicates which scheme it supports. In particular <code>org.apache.hadoop.fs.LocalFileSystem</code> indicates it supports the <code>file</code> scheme, and it is used by default to access the local file system. It in turn uses the <code>org.apache.hadoop.fs.RawLocalFileSystem</code> internally, which is the <code>FileSystem</code> implementation ultimately responsible for requiring Winutils.</p>\n<p>But it is possible to override the Hadoop configuration and specify another <code>FileSystem</code> implementation. Spark creates a special <code>Configuration</code> for Hadoop in <code>org.apache.spark.sql.internal.SessionState.newHadoopConf(…)</code> ultimately combining all the sources <code>core-default.xml</code>, <code>core-site.xml</code>, <code>mapred-default.xml</code>, <code>mapred-site.xml</code>, <code>yarn-default.xml</code>, <code>yarn-site.xml</code>, and <code>__spark_hadoop_conf__.xml</code>, if any are present. Then Hadoop's <code>FileSystem.getFileSystemClass(String scheme, Configuration conf)</code> looks for the <code>FileSystem</code> implementation to use by looking up a configuration for the scheme (in this case <code>file</code>) in the form <code>fs.${scheme}.impl</code> (i.e. <code>fs.file.impl</code> in this case).</p>\n<p>Thus if you want to specify another  local file system implementation to use, you'll need to somehow get <code>fs.file.impl</code> into the configuration. Rather than creating a local configuration file if you are accessing Spark programmatically, you can set it via the Spark session, as explained in the introduction.</p>\n<h3>Why Winutils</h3>\n<p>The Hadoop <code>FileSystem</code> API in large part assumes a *nix file system. The current Hadoop local <code>FileSystem</code> implementation uses native *nix libraries or opens shell processes and directly runs *nix commands. The current local <code>FileSystem</code> implementation for Windows limps along with a huge kludge: a set of binary artifacts called <a href=\"https://github.com/steveloughran/winutils\" rel=\"noreferrer\">Winutils</a> that a Hadoop contributor created, providing a special back-door subsystem on Windows that Hadoop can access instead of *nix libraries and shell commands. (See <a href=\"https://issues.apache.org/jira/browse/HADOOP-13223\" rel=\"noreferrer\">HADOOP-13223: winutils.exe is a bug nexus and should be killed with an axe.</a>)</p>\n<p>However detection and required support of Winutils is actually hard-coded in the Hadoop at a low-level—even in code that has nothing to do with the file system! For example when Spark starts up, even a simple <code>Configuration</code> initialization in the Hadoop code invokes <code>StringUtils.equalsIgnoreCase(&quot;true&quot;, valueString)</code>, and the <code>StringUtils</code> class has a static reference to <code>Shell</code>, which has a static initialization block that looks for Winutils and produces a warning if not found. 🤦‍♂️ (In fact this is the source of the warnings that were the motivation for this Stack Overflow question in the first place.)</p>\n<h3>Workaround to use <code>FileSystem</code> without Winutils</h3>\n<p>Irrespective of the warnings, the larger issue is getting <code>FileSystem</code> to work without needing Winutils. This is paradoxically both a simpler and also a much more complex project than it would first appear. One one hand it is not too difficult to use updated Java API calls instead of Winutils to access the local file system; I have done that already in the <a href=\"https://github.com/globalmentor/hadoop-bare-naked-local-fs\" rel=\"noreferrer\">GlobalMentor Hadoop Bare Naked Local FileSystem</a>. But weeding out Winutils completely is much more complex and difficult. The current <code>LocalFileSystem</code> and <code>RawLocalFileSystem</code> implementations have evolved haphazardly, with halway-implemented features scattered about, special-case code for ill-documented corner cases, and implementation-specific assumptions permeating the design itself.</p>\n<p>The example was already given above of <code>Configuration</code> accessing <code>Shell</code> and trying to pull in Winutils just upon classloading during startup. At the <code>FileSystem</code> level Winutils-related logic isn't contained to <code>RawLocalFileSystem</code>, which would have allowed it to easily be overridden, but instead relies on the static <a href=\"https://github.com/apache/hadoop/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java\" rel=\"noreferrer\"><code>FileUtil</code></a> class which is like a separate file system implementation that relies on Winutils and can't be modified. For example here is <code>FileUtil</code> code that would need to be updated, unfortunately independently of the <code>FileSystem</code> implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static String readLink(File f) {\n    /* NB: Use readSymbolicLink in java.nio.file.Path once available. Could\n     * use getCanonicalPath in File to get the target of the symlink but that\n     * does not indicate if the given path refers to a symlink.\n     */\n    …\n    try {\n      return Shell.execCommand(\n          Shell.getReadlinkCommand(f.toString())).trim();\n    } catch (IOException x) {\n      return &quot;&quot;;\n    }\n</code></pre>\n<p>Apparently there is a &quot;new <a href=\"https://github.com/apache/hadoop/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/Stat.java\" rel=\"noreferrer\"><code>Stat</code></a> based implementation&quot; of many methods, but <code>RawLocalFileSystem</code> instead uses a deprecated implementations such as <code>DeprecatedRawLocalFileStatus</code>, which is full of workarounds and special-cases, is package-private so it can't be accessed by subclasses, yet can't be removed because of <a href=\"https://issues.apache.org/jira/browse/HADOOP-9652\" rel=\"noreferrer\">HADOOP-9652</a>. The <code>useDeprecatedFileStatus</code> switch is hard-coded so that it can't be modified by a subclass, forcing a re-implementation of everything it touches. In other words, even the new, less-kludgey approach is switched off in the code, has been for years, and no one seems to be paying it any mind.</p>\n<h2>Summary</h2>\n<p>In summary, Winutils is hard-coded at a low-level throughout the code, even in logic unrelated to file access, and the current implementation is a hodge-podge of deprecated and undeprecated code switched on or off by hard-coded flags that were put in place when errors appeared with new changes. It's a mess, and it's been that way for years. No one really cares, and instead keeps building on unstable sand (<code>ViewFs</code> anyone?) rather than going back and fixing the foundation. If Hadoop can't even fix large swathes of deprecated file access code consolidated in one place, do you think they are going to fix the Winutils kludge that permeates multiple classes at a low level?</p>\n<p>I'm not holding my breath. Instead I'll be content with the workaround I've written which writes to the file system via the Java API, bypassing Winutils for the most common use case (writing to the local file system without using symlinks and without the need for the sticky bit permission), which is sufficient to get Spark accessing the local file system on Windows.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4698,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":74376758,"answer_count":3,"score":6,"last_activity_date":1668008757,"creation_date":1661526928,"question_id":73503205,"body_markdown":"I&#39;m running Spark 3.3.0 on Windows 10 using Java 11. I&#39;m not using Hadoop. Every time I run something, it gives errors like this:\r\n\r\n```\r\njava.lang.RuntimeException: java.io.FileNotFoundException: java.io.FileNotFoundException: HADOOP_HOME and hadoop.home.dir are unset. -see https://wiki.apache.org/hadoop/WindowsProblems\r\n\tat org.apache.hadoop.util.Shell.getWinUtilsPath(Shell.java:735)\r\n\tat org.apache.hadoop.util.Shell.getSetPermissionCommand(Shell.java:270)\r\n\tat org.apache.hadoop.util.Shell.getSetPermissionCommand(Shell.java:286)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:978)\r\n```\r\n\r\nFirst of all, even the link https://wiki.apache.org/hadoop/WindowsProblems in the error message is broken. The update link is apparently https://cwiki.apache.org/confluence/display/HADOOP2/WindowsProblems, which basically says that Hadoop needs Winutils. But I&#39;m not using Hadoop. I&#39;m just using Spark to process some CSV files locally.\r\n\r\nSecondly, I want my project to build with Maven and run with pure Java, without requiring the user to install some third-party software. If this Winutil stuff needs to be installed, it should be included in some Maven dependency.\r\n\r\nWhy is all this Hadoop/Winutils stuff needed if I&#39;m not using Hadoop, and how do I get around it so that my project will build in Maven and run with pure Java like a Java project should?","title":"Why all these `HADOOP_HOME` and Winutils errors with Spark on Windows if Hadoop not used?","body":"<p>I'm running Spark 3.3.0 on Windows 10 using Java 11. I'm not using Hadoop. Every time I run something, it gives errors like this:</p>\n<pre><code>java.lang.RuntimeException: java.io.FileNotFoundException: java.io.FileNotFoundException: HADOOP_HOME and hadoop.home.dir are unset. -see https://wiki.apache.org/hadoop/WindowsProblems\n    at org.apache.hadoop.util.Shell.getWinUtilsPath(Shell.java:735)\n    at org.apache.hadoop.util.Shell.getSetPermissionCommand(Shell.java:270)\n    at org.apache.hadoop.util.Shell.getSetPermissionCommand(Shell.java:286)\n    at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:978)\n</code></pre>\n<p>First of all, even the link <a href=\"https://wiki.apache.org/hadoop/WindowsProblems\" rel=\"noreferrer\">https://wiki.apache.org/hadoop/WindowsProblems</a> in the error message is broken. The update link is apparently <a href=\"https://cwiki.apache.org/confluence/display/HADOOP2/WindowsProblems\" rel=\"noreferrer\">https://cwiki.apache.org/confluence/display/HADOOP2/WindowsProblems</a>, which basically says that Hadoop needs Winutils. But I'm not using Hadoop. I'm just using Spark to process some CSV files locally.</p>\n<p>Secondly, I want my project to build with Maven and run with pure Java, without requiring the user to install some third-party software. If this Winutil stuff needs to be installed, it should be included in some Maven dependency.</p>\n<p>Why is all this Hadoop/Winutils stuff needed if I'm not using Hadoop, and how do I get around it so that my project will build in Maven and run with pure Java like a Java project should?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667983690,"post_id":74370221,"comment_id":131295408,"body_markdown":"If your table `word` has columns `recordNumber`, `wordCount` and `wordName`, why are you referencing column names `countNumber` and `countName`? As an aside, additions to your question should be done through editing your question, not by adding comments. I have copied your comment to the question this time, but in the future, please do that yourself.","body":"If your table <code>word</code> has columns <code>recordNumber</code>, <code>wordCount</code> and <code>wordName</code>, why are you referencing column names <code>countNumber</code> and <code>countName</code>? As an aside, additions to your question should be done through editing your question, not by adding comments. I have copied your comment to the question this time, but in the future, please do that yourself."}],"answers":[{"tags":[],"owner":{"account_id":1093238,"reputation":92,"user_id":1087388,"display_name":"Sujay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667971788,"creation_date":1667971788,"answer_id":74370301,"question_id":74370221,"body_markdown":"The issue says that the table word doesn&#39;t have column countNumber. \r\nKindly recheck your table description. \r\n\r\nAlternatively, an insert query can run without column names, try with `INSERT INTO word VALUES(?,?)`. ","title":"Issues updating MySQL table with dynamic data","body":"<p>The issue says that the table word doesn't have column countNumber.\nKindly recheck your table description.</p>\n<p>Alternatively, an insert query can run without column names, try with <code>INSERT INTO word VALUES(?,?)</code>.</p>\n"},{"tags":[],"owner":{"account_id":25632945,"reputation":41,"user_id":19403013,"display_name":"John Hendricks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668008425,"creation_date":1668008425,"answer_id":74377605,"question_id":74370221,"body_markdown":"The issue has been resolved. The problem was with the naming convention in my program. When I inserted the correct column names, it worked. I was up late working on this project, I somehow missed this. Thank you and apologies for the misprint. ","title":"Issues updating MySQL table with dynamic data","body":"<p>The issue has been resolved. The problem was with the naming convention in my program. When I inserted the correct column names, it worked. I was up late working on this project, I somehow missed this. Thank you and apologies for the misprint.</p>\n"}],"owner":{"account_id":25632945,"reputation":41,"user_id":19403013,"display_name":"John Hendricks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668104047,"answer_count":2,"score":0,"last_activity_date":1668008425,"creation_date":1667971024,"question_id":74370221,"body_markdown":"I am working on a project where I am trying to insert values into a MySQL table. Before starting this project I verified that I had the necessary JAR file setup and tested the SQL connection. I thought I was on the right track, but I can&#39;t seem to get past these errors popping up in the console. I have a feeling I am not inserting data correctly into MySQL through Eclipse. I was hoping someone here may know of a better process or way of completing this. My source code is posted below. The file &quot;theraven.txt&quot; that is being read from is in the project directory. \r\n\r\n```java\r\npublic class DatabaseGO {\r\n\r\n\t//private static Connection connection = null;\r\n\t\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tFileInputStream findIt = new FileInputStream(&quot;theraven.txt&quot;);\r\n\t\tScanner fileInput = new Scanner(findIt);\t\r\n\t\t\r\n\t\tArrayList&lt;String&gt; words = new ArrayList&lt;String&gt;();\r\n\t\tArrayList&lt;Integer&gt; count = new ArrayList&lt;Integer&gt;();\r\n\r\n\t\twhile (fileInput.hasNext()) {\r\n\t\r\n\t\t\tString nextWord = fileInput.next();\r\n\t\r\n\t\t\tif (words.contains(nextWord)) {\r\n\t\t\t\tint index = words.indexOf(nextWord);\r\n\t\t\t\tcount.set(index,  count.get(index)+ 1);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\twords.add(nextWord);\r\n\t\t\t\tcount.add(1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfileInput.close();\r\n\t\tfindIt.close();\r\n\r\n\t\tfor (int i = 0; i &lt; words.size(); ++i) {\r\n\t\t\tCollections.sort(count, Collections.reverseOrder());\r\n\t\t\r\n\t\t//////////////////////////////\r\n\t\t\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tString url = &quot;jdbc:mysql://localhost:3306/word_occurrences&quot;;\r\n        String user = &quot;root&quot;;\r\n        String password = &quot;kittylitter&quot;;\r\n        \r\n        String sql = &quot;INSERT INTO word(countNumber, `countName`) VALUES(?,?)&quot;;\r\n        \r\n        try (Connection con = DriverManager.getConnection(url, user, password);\r\n                PreparedStatement pst = con.prepareStatement(sql)) {\r\n\r\n                pst.setInt(1, count.get(i));\r\n                pst.setString(2, words.get(i));\r\n                pst.executeUpdate();\r\n            \r\n\r\n        } catch (SQLException ex) {\r\n            \r\n            Logger lgr = Logger.getLogger(DatabaseGO.class.getName());\r\n            lgr.log(Level.SEVERE, ex.getMessage(), ex);\r\n        } \r\n    }\r\n\t}\r\n}\r\n```\r\n\r\nThis is the current errors I am getting:\r\n\r\n```none\r\nSEVERE: Unknown column &#39;countNumber&#39; in &#39;field list&#39;\r\njava.sql.SQLSyntaxErrorException: Unknown column &#39;countNumber&#39; in &#39;field list&#39;\r\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\r\n\tat database.DatabaseGO.main(DatabaseGO.java:67)\r\n\r\nNov 09, 2022 12:00:14 AM database.DatabaseGO main\r\n```\r\n\r\nIn MySQL I have a table named word and three columns named `recordNumber` Int (set to auto-increment), `wordCount` Int, and `wordName` VARCHAR(45). I was hoping the program would output the count of the name next to the name. ","title":"Issues updating MySQL table with dynamic data","body":"<p>I am working on a project where I am trying to insert values into a MySQL table. Before starting this project I verified that I had the necessary JAR file setup and tested the SQL connection. I thought I was on the right track, but I can't seem to get past these errors popping up in the console. I have a feeling I am not inserting data correctly into MySQL through Eclipse. I was hoping someone here may know of a better process or way of completing this. My source code is posted below. The file &quot;theraven.txt&quot; that is being read from is in the project directory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DatabaseGO {\n\n    //private static Connection connection = null;\n    \n    public static void main(String[] args) throws IOException {\n        // TODO Auto-generated method stub\n        \n        FileInputStream findIt = new FileInputStream(&quot;theraven.txt&quot;);\n        Scanner fileInput = new Scanner(findIt);    \n        \n        ArrayList&lt;String&gt; words = new ArrayList&lt;String&gt;();\n        ArrayList&lt;Integer&gt; count = new ArrayList&lt;Integer&gt;();\n\n        while (fileInput.hasNext()) {\n    \n            String nextWord = fileInput.next();\n    \n            if (words.contains(nextWord)) {\n                int index = words.indexOf(nextWord);\n                count.set(index,  count.get(index)+ 1);\n            }\n            else {\n                words.add(nextWord);\n                count.add(1);\n            }\n        }\n        \n        fileInput.close();\n        findIt.close();\n\n        for (int i = 0; i &lt; words.size(); ++i) {\n            Collections.sort(count, Collections.reverseOrder());\n        \n        //////////////////////////////\n        \n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        } catch (ClassNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        String url = &quot;jdbc:mysql://localhost:3306/word_occurrences&quot;;\n        String user = &quot;root&quot;;\n        String password = &quot;kittylitter&quot;;\n        \n        String sql = &quot;INSERT INTO word(countNumber, `countName`) VALUES(?,?)&quot;;\n        \n        try (Connection con = DriverManager.getConnection(url, user, password);\n                PreparedStatement pst = con.prepareStatement(sql)) {\n\n                pst.setInt(1, count.get(i));\n                pst.setString(2, words.get(i));\n                pst.executeUpdate();\n            \n\n        } catch (SQLException ex) {\n            \n            Logger lgr = Logger.getLogger(DatabaseGO.class.getName());\n            lgr.log(Level.SEVERE, ex.getMessage(), ex);\n        } \n    }\n    }\n}\n</code></pre>\n<p>This is the current errors I am getting:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SEVERE: Unknown column 'countNumber' in 'field list'\njava.sql.SQLSyntaxErrorException: Unknown column 'countNumber' in 'field list'\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\n    at database.DatabaseGO.main(DatabaseGO.java:67)\n\nNov 09, 2022 12:00:14 AM database.DatabaseGO main\n</code></pre>\n<p>In MySQL I have a table named word and three columns named <code>recordNumber</code> Int (set to auto-increment), <code>wordCount</code> Int, and <code>wordName</code> VARCHAR(45). I was hoping the program would output the count of the name next to the name.</p>\n"},{"tags":["java","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":7239553,"reputation":1078,"user_id":5523550,"display_name":"wildnez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600402904,"creation_date":1600402904,"answer_id":63949289,"question_id":63900697,"body_markdown":"Joining of maps is not allowed in Hazelcast IMDG as that defeats the purpose of having the data stored in distributed form. However, you can join the two IMDG maps using Jet. Here is a blog post that provides good example of joining multiple maps: https://hazelcast.org/blog/projections-joins-partition-awareness/\r\n","title":"Join two maps in hazelcast","body":"<p>Joining of maps is not allowed in Hazelcast IMDG as that defeats the purpose of having the data stored in distributed form. However, you can join the two IMDG maps using Jet. Here is a blog post that provides good example of joining multiple maps: <a href=\"https://hazelcast.org/blog/projections-joins-partition-awareness/\" rel=\"nofollow noreferrer\">https://hazelcast.org/blog/projections-joins-partition-awareness/</a></p>\n"}],"owner":{"account_id":17768926,"reputation":161,"user_id":12903083,"display_name":"manu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668007950,"creation_date":1600168593,"question_id":63900697,"body_markdown":"I&#39;m using Hazelcast IMDG in my application.\r\n\r\nso I have two IMap instances a1 and a2.\r\n\r\n```\r\nIMap&lt;Integer, School&gt; a1 = hazelCast.getMap(&quot;a1&quot;);\r\n                  //school_id, student_id,   highest marks\r\na1.put(i,new School(&quot;1&quot;,        &quot;101&quot;,       &quot;99.99&quot;));\r\n\r\nIMap&lt;Integer, Student&gt; a1 = hazelCast.getMap(&quot;a2&quot;); \r\n                     //id ,  name,   addr           \r\na2.put(i,new Student(&quot;101&quot;,&quot;banga&quot;,&quot;kova&quot;))\r\n```\r\nQuery:-\r\n\r\n```\r\nselect a1.school_id,a1.highest_marks,a2.name\r\nFROM a1\r\nINNER JOIN a2\r\nWHERE a1.student_id=a2.id;\r\n\r\n```\r\n\r\nSo here if I want to perform the joins operations means which is the best way to do that..\r\n\r\nPlease provide some code snippets examples..\r\n\r\nCan I go with Hazelcast IMDG or Hazelcast Jet?","title":"Join two maps in hazelcast","body":"<p>I'm using Hazelcast IMDG in my application.</p>\n<p>so I have two IMap instances a1 and a2.</p>\n<pre><code>IMap&lt;Integer, School&gt; a1 = hazelCast.getMap(&quot;a1&quot;);\n                  //school_id, student_id,   highest marks\na1.put(i,new School(&quot;1&quot;,        &quot;101&quot;,       &quot;99.99&quot;));\n\nIMap&lt;Integer, Student&gt; a1 = hazelCast.getMap(&quot;a2&quot;); \n                     //id ,  name,   addr           \na2.put(i,new Student(&quot;101&quot;,&quot;banga&quot;,&quot;kova&quot;))\n</code></pre>\n<p>Query:-</p>\n<pre><code>select a1.school_id,a1.highest_marks,a2.name\nFROM a1\nINNER JOIN a2\nWHERE a1.student_id=a2.id;\n\n</code></pre>\n<p>So here if I want to perform the joins operations means which is the best way to do that..</p>\n<p>Please provide some code snippets examples..</p>\n<p>Can I go with Hazelcast IMDG or Hazelcast Jet?</p>\n"},{"tags":["java","mysql","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":1317803,"reputation":9643,"user_id":1264304,"accept_rate":63,"display_name":"rok"},"score":0,"creation_date":1668006610,"post_id":74377082,"comment_id":131303820,"body_markdown":"can you please show `mysql` connection related properties  in `application.yml`?","body":"can you please show <code>mysql</code> connection related properties  in <code>application.yml</code>?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1668007527,"post_id":74377082,"comment_id":131304192,"body_markdown":"I also tried with amazoncorretto version and update Dockerfile with ``FROM amazoncorretto:11`, still teh same error. Any idea?","body":"I also tried with amazoncorretto version and update Dockerfile with ``FROM amazoncorretto:11`, still teh same error. Any idea?"}],"answers":[{"tags":[],"owner":{"account_id":15341749,"reputation":11,"user_id":11068556,"display_name":"Jesse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668007739,"creation_date":1668007139,"answer_id":74377255,"question_id":74377082,"body_markdown":"Are you trying to connect to port `3307` of `mysqldb`?\r\n\r\nPorts defined in `docker-compose.yml` are only mapped outside of your docker bridge network. Try to connect to `3306`.\r\n\r\nYour url in `application.yaml` should be `mysqldb:3306`.","title":"Docker failed to connect Java 11 app and MySQL 8 database","body":"<p>Are you trying to connect to port <code>3307</code> of <code>mysqldb</code>?</p>\n<p>Ports defined in <code>docker-compose.yml</code> are only mapped outside of your docker bridge network. Try to connect to <code>3306</code>.</p>\n<p>Your url in <code>application.yaml</code> should be <code>mysqldb:3306</code>.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668007739,"creation_date":1668006451,"question_id":74377082,"body_markdown":"I have tried at least 20-25 combination on the `Dockerfile`, `docker-compose.yml` and `application.yml` but still get the same error. \r\n\r\nI think the problem may be related to Java version, because I use Java 11 and the proper jdk on Dockerfile, but the error still indicates Java8 (maybe JRE related, but not sure). \r\n\r\nHere is the error message when I run `docker-compose up` command:\r\n\r\n```\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\nmovies-app |    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\nmovies-app |    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\nmovies-app |    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\nmovies-app |    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\nmovies-app |    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nmovies-app |    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nmovies-app |    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nmovies-app |    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nmovies-app |    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nmovies-app |    at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nmovies-app |    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nmovies-app |    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nmovies-app |    ... 133 common frames omitted\r\nmovies-app | Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\nmovies-app |    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\nmovies-app |    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\r\nmovies-app |    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\r\nmovies-app |    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\r\nmovies-app |    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\r\nmovies-app |    at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\r\nmovies-app |    at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nmovies-app |    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nmovies-app |    ... 136 common frames omitted\r\nmovies-app |\r\nmovies-app exited with code 1\r\n```\r\n\r\nAnd here are:\r\n\r\n***Dockerfile:***\r\n\r\n```\r\n#FROM openjdk:8\r\nFROM maven:3.8.1-openjdk-11\r\nFROM openjdk:11\r\n\r\nCOPY target/*.jar app.jar\r\nCMD mvn clean install -DskipTests\r\n\r\nEXPOSE 8088\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;-Dspring.profiles.active=docker&quot;, &quot;app.jar&quot;]\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***docker-compose.yml:***\r\n\r\n```\r\nversion: &#39;3.8&#39;\r\n\r\nservices:\r\n  server:\r\n    container_name: movies-app\r\n    build: .\r\n    restart: always\r\n    ports:\r\n      - &quot;8088:8080&quot;\r\n    networks:\r\n      - app-network\r\n\r\n  mysqldb:\r\n    container_name: mysqldb\r\n    image: mysql:8.0.28\r\n    restart: always\r\n    ports:\r\n      - &quot;3307:3306&quot;\r\n    environment:\r\n      MYSQL_DATABASE: moviesdb\r\n      MYSQL_USER: user\r\n      MYSQL_PASSWORD: pass\r\n      MYSQL_ROOT_USER: root\r\n      MYSQL_ROOT_PASSWORD: pass\r\n    volumes:\r\n      - dbdata:/var/lib/mysql\r\n    networks:\r\n      - app-network\r\n      \r\nnetworks:\r\n  app-network:\r\n    driver: bridge\r\n\r\nvolumes:\r\n  dbdata:\r\n    driver: local\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***application.yml:*** here is the db connection details part:\r\n\r\n```\r\n  datasource:\r\n    password: pass\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n    username: root\r\n    # url: jdbc:mysql://localhost:3306/movies-db?createDatabaseIfNotExist=true&amp;allowPublicKeyRetrieval=true&amp;useSSL=false\r\n    url: jdbc:mysql://mysqldb:3307/moviesdb?createDatabaseIfNotExist=true&amp;allowPublicKeyRetrieval=true&amp;useSSL=false\r\n```\r\n\r\nSo, what is the cause of the problem? ","title":"Docker failed to connect Java 11 app and MySQL 8 database","body":"<p>I have tried at least 20-25 combination on the <code>Dockerfile</code>, <code>docker-compose.yml</code> and <code>application.yml</code> but still get the same error.</p>\n<p>I think the problem may be related to Java version, because I use Java 11 and the proper jdk on Dockerfile, but the error still indicates Java8 (maybe JRE related, but not sure).</p>\n<p>Here is the error message when I run <code>docker-compose up</code> command:</p>\n<pre><code>The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nmovies-app |    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\nmovies-app |    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\nmovies-app |    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\nmovies-app |    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\nmovies-app |    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nmovies-app |    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nmovies-app |    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nmovies-app |    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nmovies-app |    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nmovies-app |    at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nmovies-app |    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nmovies-app |    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nmovies-app |    ... 133 common frames omitted\nmovies-app | Caused by: java.net.ConnectException: Connection refused (Connection refused)\nmovies-app |    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\nmovies-app |    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\nmovies-app |    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\nmovies-app |    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\nmovies-app |    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\nmovies-app |    at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\nmovies-app |    at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nmovies-app |    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nmovies-app |    ... 136 common frames omitted\nmovies-app |\nmovies-app exited with code 1\n</code></pre>\n<p>And here are:</p>\n<p><em><strong>Dockerfile:</strong></em></p>\n<pre><code>#FROM openjdk:8\nFROM maven:3.8.1-openjdk-11\nFROM openjdk:11\n\nCOPY target/*.jar app.jar\nCMD mvn clean install -DskipTests\n\nEXPOSE 8088\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;-Dspring.profiles.active=docker&quot;, &quot;app.jar&quot;]\n</code></pre>\n<br/>\n<p><em><strong>docker-compose.yml:</strong></em></p>\n<pre><code>version: '3.8'\n\nservices:\n  server:\n    container_name: movies-app\n    build: .\n    restart: always\n    ports:\n      - &quot;8088:8080&quot;\n    networks:\n      - app-network\n\n  mysqldb:\n    container_name: mysqldb\n    image: mysql:8.0.28\n    restart: always\n    ports:\n      - &quot;3307:3306&quot;\n    environment:\n      MYSQL_DATABASE: moviesdb\n      MYSQL_USER: user\n      MYSQL_PASSWORD: pass\n      MYSQL_ROOT_USER: root\n      MYSQL_ROOT_PASSWORD: pass\n    volumes:\n      - dbdata:/var/lib/mysql\n    networks:\n      - app-network\n      \nnetworks:\n  app-network:\n    driver: bridge\n\nvolumes:\n  dbdata:\n    driver: local\n</code></pre>\n<br/>\n<p><em><strong>application.yml:</strong></em> here is the db connection details part:</p>\n<pre><code>  datasource:\n    password: pass\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    username: root\n    # url: jdbc:mysql://localhost:3306/movies-db?createDatabaseIfNotExist=true&amp;allowPublicKeyRetrieval=true&amp;useSSL=false\n    url: jdbc:mysql://mysqldb:3307/moviesdb?createDatabaseIfNotExist=true&amp;allowPublicKeyRetrieval=true&amp;useSSL=false\n</code></pre>\n<p>So, what is the cause of the problem?</p>\n"},{"tags":["java","variables","methods","constructor","local"],"answers":[{"tags":[],"owner":{"account_id":1073435,"reputation":12390,"user_id":1072150,"accept_rate":75,"display_name":"EJK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668007596,"creation_date":1413310652,"answer_id":26367597,"question_id":26367288,"body_markdown":"Simple fix:  Initialize the reference to null:\r\n\r\n    CustomerTelephone theirPhone = null;\r\n\r\nBetter fix: Initialize the variable and move the reference to that variable into the try block.  Thus if an exception is thrown in your try block, then you avoid a subsequent NullPointer exception.\r\n\r\n\r\n    CustomerTelephone theirPhone = null;\r\n     ...\r\n    try {\r\n        theirPhone = new CustomerTelephone(phoneNumber);\r\n        theirPhone.getAreaCode(phoneNumber);\r\n    } catch {\r\n    ...\r\n    }\r\n\r\n\r\n\r\n","title":"The local variable may not have been initialized constructor/method","body":"<p>Simple fix:  Initialize the reference to null:</p>\n<pre><code>CustomerTelephone theirPhone = null;\n</code></pre>\n<p>Better fix: Initialize the variable and move the reference to that variable into the try block.  Thus if an exception is thrown in your try block, then you avoid a subsequent NullPointer exception.</p>\n<pre><code>CustomerTelephone theirPhone = null;\n ...\ntry {\n    theirPhone = new CustomerTelephone(phoneNumber);\n    theirPhone.getAreaCode(phoneNumber);\n} catch {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5135920,"reputation":33,"user_id":4114688,"accept_rate":25,"display_name":"Tuy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413310659,"creation_date":1413310659,"answer_id":26367599,"question_id":26367288,"body_markdown":"The problem seems to be that `theirPhone` is not necessarily initialized in the main method in the try block that follows it (the compiler will assume that there is a chance of failure at any point in the block). Try giving the variable a default value or null when it is declared.","title":"The local variable may not have been initialized constructor/method","body":"<p>The problem seems to be that <code>theirPhone</code> is not necessarily initialized in the main method in the try block that follows it (the compiler will assume that there is a chance of failure at any point in the block). Try giving the variable a default value or null when it is declared.</p>\n"},{"tags":[],"owner":{"account_id":1079937,"reputation":3752,"user_id":1077177,"accept_rate":86,"display_name":"Yuriy Nakonechnyy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413310783,"creation_date":1413310783,"answer_id":26367633,"question_id":26367288,"body_markdown":"Well, it makes sense: compiler tells you that if `InvalidTelephoneException` is thrown in `try` block, then execution goes to `catch` block, `System.out.println` prints error message to console and goes further to `theirPhone.getAreaCode(phoneNumber)` BUT at this point `theirPhone` is `null` so `NullPointerException` will be thrown.\r\n\r\nI would recommend to add `return;` statement after `Systen.out.println` line so that program terminates in case of invalid phone number format.\r\n\r\nHope this helps...","title":"The local variable may not have been initialized constructor/method","body":"<p>Well, it makes sense: compiler tells you that if <code>InvalidTelephoneException</code> is thrown in <code>try</code> block, then execution goes to <code>catch</code> block, <code>System.out.println</code> prints error message to console and goes further to <code>theirPhone.getAreaCode(phoneNumber)</code> BUT at this point <code>theirPhone</code> is <code>null</code> so <code>NullPointerException</code> will be thrown.</p>\n\n<p>I would recommend to add <code>return;</code> statement after <code>Systen.out.println</code> line so that program terminates in case of invalid phone number format.</p>\n\n<p>Hope this helps...</p>\n"}],"owner":{"account_id":2532638,"reputation":355,"user_id":2200597,"accept_rate":29,"display_name":"Yitzak Hernandez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26367597,"answer_count":3,"score":1,"last_activity_date":1668007596,"creation_date":1413309667,"question_id":26367288,"body_markdown":"Code is nowhere near done but I&#39;m basically stuck at this until I can move any further. Keep getting a local variable may not have been initialized on theirPhone.. If I move the constructor passed the try catch I get an error on the try catch, if I leave it the way it is I get the error at theirPhone.getAreaCode(phoneNumber); any help?\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class CustomerTelephone {\r\n\r\n\t    public static void main(String[] args) {\r\n\t    \tCustomerTelephone theirPhone;\r\n\t    \tString phoneNumber = &quot;407 407 4074&quot;;\r\n\r\n\t    \ttry {\r\n\t    \t\ttheirPhone = new CustomerTelephone(phoneNumber);\r\n\t    \t} catch (InvalidTelephoneException ite) {\r\n\t    \t\tSystem.out.println(&quot;Invalid telephone number format.&quot;);\r\n\t    \t}\r\n\r\n\t\t    theirPhone.getAreaCode(phoneNumber);\r\n\r\n\t    }\r\n\r\n\t    public CustomerTelephone(String telephone) throws InvalidTelephoneException {\r\n\t    \tif (telephone.length() != 12) {\r\n\t    \t\tthrow new InvalidTelephoneException(\r\n\t\t\t\t\t&quot;The phone number was entered incorrectly.&quot;);\r\n\t    \t}\r\n\t    }\r\n\r\n    \tpublic String getAreaCode(String phoneNumber) {\r\n    \t\tString goBack;\r\n    \t\tString[] teleArray = phoneNumber.split(&quot;(?!^)&quot;);\r\n    \t\tgoBack = teleArray[0 - 2];\r\n\r\n    \t\treturn goBack;\r\n    \t}\r\n\r\n    \tpublic String getExchange(String phoneNumber) {\r\n    \t\tString goBack = null;\r\n\r\n    \t\treturn goBack;\r\n    \t}\r\n\r\n    \tpublic String getLocalNumber(String phoneNumber) {\r\n    \t\tString goBack = null;\r\n\r\n    \t\treturn goBack;\r\n    \t}\r\n\r\n    }","title":"The local variable may not have been initialized constructor/method","body":"<p>Code is nowhere near done but I'm basically stuck at this until I can move any further. Keep getting a local variable may not have been initialized on theirPhone.. If I move the constructor passed the try catch I get an error on the try catch, if I leave it the way it is I get the error at theirPhone.getAreaCode(phoneNumber); any help?</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class CustomerTelephone {\n\n    public static void main(String[] args) {\n        CustomerTelephone theirPhone;\n        String phoneNumber = \"407 407 4074\";\n\n        try {\n            theirPhone = new CustomerTelephone(phoneNumber);\n        } catch (InvalidTelephoneException ite) {\n            System.out.println(\"Invalid telephone number format.\");\n        }\n\n        theirPhone.getAreaCode(phoneNumber);\n\n    }\n\n    public CustomerTelephone(String telephone) throws InvalidTelephoneException {\n        if (telephone.length() != 12) {\n            throw new InvalidTelephoneException(\n                \"The phone number was entered incorrectly.\");\n        }\n    }\n\n    public String getAreaCode(String phoneNumber) {\n        String goBack;\n        String[] teleArray = phoneNumber.split(\"(?!^)\");\n        goBack = teleArray[0 - 2];\n\n        return goBack;\n    }\n\n    public String getExchange(String phoneNumber) {\n        String goBack = null;\n\n        return goBack;\n    }\n\n    public String getLocalNumber(String phoneNumber) {\n        String goBack = null;\n\n        return goBack;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","string","character","reverse"],"answers":[{"tags":[],"owner":{"account_id":19823826,"reputation":296,"user_id":14519758,"display_name":"Shashank Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618426137,"creation_date":1604124334,"answer_id":64618914,"question_id":64618842,"body_markdown":"Added `reverse()` function for your understanding\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class P3 {\r\n    public static void main(String[] args) {\r\n        palindrome();\r\n    }\r\n\r\n    private static void palindrome() {\r\n        char[] name = new char[]{};\r\n        String name1;\r\n        System.out.println(&quot;Enter your name&quot;);\r\n        Scanner tim = new Scanner(System.in);\r\n        name1 = tim.next();\r\n\r\n        String nameReversed = reverse(name1);\r\n        int len = name1.length();\r\n        for (int i = 0; i &lt; len; ++i) {\r\n            char b = name1.charAt(i);\r\n            System.out.println(b + &quot; &quot;);\r\n        }\r\n    }\r\n\r\n    private static String reverse(String name1) {\r\n        char[] arr = name1.toCharArray();\r\n        int left = 0, right = arr.length - 1;\r\n        while (left &lt; right) {\r\n            //swap characters first and last positions\r\n            char temp = arr[left];\r\n            arr[left++] = arr[right];\r\n            arr[right--] = temp;\r\n        }\r\n        return new String(arr);\r\n    }\r\n}\r\n```","title":"Reverse String characters in java","body":"<p>Added <code>reverse()</code> function for your understanding</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class P3 {\n    public static void main(String[] args) {\n        palindrome();\n    }\n\n    private static void palindrome() {\n        char[] name = new char[]{};\n        String name1;\n        System.out.println(&quot;Enter your name&quot;);\n        Scanner tim = new Scanner(System.in);\n        name1 = tim.next();\n\n        String nameReversed = reverse(name1);\n        int len = name1.length();\n        for (int i = 0; i &lt; len; ++i) {\n            char b = name1.charAt(i);\n            System.out.println(b + &quot; &quot;);\n        }\n    }\n\n    private static String reverse(String name1) {\n        char[] arr = name1.toCharArray();\n        int left = 0, right = arr.length - 1;\n        while (left &lt; right) {\n            //swap characters first and last positions\n            char temp = arr[left];\n            arr[left++] = arr[right];\n            arr[right--] = temp;\n        }\n        return new String(arr);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10487526,"reputation":3438,"user_id":7730554,"display_name":"Andreas H&#252;tter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1618487692,"creation_date":1604124616,"answer_id":64618941,"question_id":64618842,"body_markdown":"You simply need to loop through the array backwards:\r\n```java\r\nfor (int i = len - 1; i &gt;= 0; i--) {\r\n    char b = name1.charAt(i);\r\n    System.out.println(b + &quot; &quot;);\r\n}\r\n```\r\nYou start at the last element which has its index at the position *length - 1* and iterate down to the first element (with index zero).\r\n\r\nThis concept is not specific to Java and also applies to other data structures that provide index based access (such as lists).\r\n","title":"Reverse String characters in java","body":"<p>You simply need to loop through the array backwards:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = len - 1; i &gt;= 0; i--) {\n    char b = name1.charAt(i);\n    System.out.println(b + &quot; &quot;);\n}\n</code></pre>\n<p>You start at the last element which has its index at the position <em>length - 1</em> and iterate down to the first element (with index zero).</p>\n<p>This concept is not specific to Java and also applies to other data structures that provide index based access (such as lists).</p>\n"},{"tags":[],"owner":{"account_id":19826209,"reputation":287,"user_id":14521732,"display_name":"Zain Ur Rehman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618385353,"creation_date":1604124717,"answer_id":64618948,"question_id":64618842,"body_markdown":"You can use `StringBuilder` like this:\r\n\r\n```java\r\nimport java.lang.*;\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\nclass ReverseString {\r\n    public static void main(String[] args) {\r\n        String input = &quot;Geeks for Geeks&quot;;\r\n\r\n        StringBuilder input1 = new StringBuilder();\r\n\r\n        // append a string into StringBuilder input1\r\n        input1.append(input);\r\n\r\n        // reverse StringBuilder input1\r\n        input1 = input1.reverse();\r\n\r\n        // print reversed String\r\n        System.out.println(input1);\r\n    }\r\n}\r\n```\r\n\r\nYou can also modify your code to do this:\r\n\r\n1 -\r\n```java\r\nfor (int i = 0; i &lt;= len; ++i) {\r\n    char b = name1[len - i];\r\n    System.out.println(b + &quot; &quot;);\r\n}\r\n```\r\n\r\n2 -\r\n```java\r\nfor (int i = len; i &gt;= 0; --i) {\r\n    char b = name1.charAt(i);\r\n    System.out.println(b + &quot; &quot;);\r\n}\r\n```\r\n","title":"Reverse String characters in java","body":"<p>You can use <code>StringBuilder</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.*;\nimport java.io.*;\nimport java.util.*;\n\nclass ReverseString {\n    public static void main(String[] args) {\n        String input = &quot;Geeks for Geeks&quot;;\n\n        StringBuilder input1 = new StringBuilder();\n\n        // append a string into StringBuilder input1\n        input1.append(input);\n\n        // reverse StringBuilder input1\n        input1 = input1.reverse();\n\n        // print reversed String\n        System.out.println(input1);\n    }\n}\n</code></pre>\n<p>You can also modify your code to do this:</p>\n<p>1 -</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt;= len; ++i) {\n    char b = name1[len - i];\n    System.out.println(b + &quot; &quot;);\n}\n</code></pre>\n<p>2 -</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = len; i &gt;= 0; --i) {\n    char b = name1.charAt(i);\n    System.out.println(b + &quot; &quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10602366,"reputation":631,"user_id":7808932,"display_name":"Lahiru Tennakoon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618390162,"creation_date":1604125405,"answer_id":64619021,"question_id":64618842,"body_markdown":"Use the built-in `reverse()` method of the `StringBuilder` class.\r\n```java\r\nprivate static void palindrome() {\r\n    String name1;\r\n    StringBuilder input = new StringBuilder();\r\n    System.out.println(&quot;Enter your name&quot;);\r\n    Scanner tim = new Scanner(System.in);\r\n    name1 = tim.next();\r\n    input.append(name1);\r\n    input.reverse();\r\n    System.out.println(input);\r\n}\r\n```\r\n","title":"Reverse String characters in java","body":"<p>Use the built-in <code>reverse()</code> method of the <code>StringBuilder</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void palindrome() {\n    String name1;\n    StringBuilder input = new StringBuilder();\n    System.out.println(&quot;Enter your name&quot;);\n    Scanner tim = new Scanner(System.in);\n    name1 = tim.next();\n    input.append(name1);\n    input.reverse();\n    System.out.println(input);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15613375"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618428179,"creation_date":1618368427,"answer_id":67084842,"question_id":64618842,"body_markdown":"Using *Java 9 [`codePoints`][1] stream* you can reverse a string as follows. This example shows the reversal of a string containing *surrogate pairs*. It works with regular characters as well.\r\n```java\r\nString str = &quot;&#120153;&#120150;&#120157;&#120157;&#120160; &#120168;&#120160;&#120163;&#120157;&#120149;&quot;;\r\nString reversed = str.codePoints()\r\n        // Stream&lt;String&gt;\r\n        .mapToObj(Character::toString)\r\n        // concatenate in reverse order\r\n        .reduce((a, b) -&gt; b + a)\r\n        .get();\r\n\r\nSystem.out.println(reversed); // &#120149;&#120157;&#120163;&#120160;&#120168; &#120160;&#120157;&#120157;&#120150;&#120153;\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;See also: [Reverse string printing method][2]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/lang/String.html#codePoints-- &quot;Returns a stream of code point values from this sequence&quot;\r\n  [2]: https://stackoverflow.com/a/67067763/15613375\r\n","title":"Reverse String characters in java","body":"<p>Using <em>Java 9 <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/String.html#codePoints--\" rel=\"nofollow noreferrer\" title=\"Returns a stream of code point values from this sequence\"><code>codePoints</code></a> stream</em> you can reverse a string as follows. This example shows the reversal of a string containing <em>surrogate pairs</em>. It works with regular characters as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;𝕙𝕖𝕝𝕝𝕠 𝕨𝕠𝕣𝕝𝕕&quot;;\nString reversed = str.codePoints()\n        // Stream&lt;String&gt;\n        .mapToObj(Character::toString)\n        // concatenate in reverse order\n        .reduce((a, b) -&gt; b + a)\n        .get();\n\nSystem.out.println(reversed); // 𝕕𝕝𝕣𝕠𝕨 𝕠𝕝𝕝𝕖𝕙\n</code></pre>\n<hr />\n<p><sup>See also: <a href=\"https://stackoverflow.com/a/67067763/15613375\">Reverse string printing method</a></sup></p>\n"},{"tags":[],"owner":{"account_id":25200787,"reputation":1,"user_id":19039678,"display_name":"Asen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651734812,"creation_date":1651734812,"answer_id":72123254,"question_id":64618842,"body_markdown":"you can try the build-in function charAt()\r\n\r\n    private String reverseString2(String str) {\r\n        if (str == null) {\r\n            return null;\r\n        }\r\n        String result = &quot;&quot;;\r\n        for (int i = str.length() - 1; i &gt;= 0; i--) {\r\n            result = result + str.charAt(i);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    public void test(){\r\n        System.out.println(reverseString2(&quot;abcd&quot;));\r\n    }\r\n\r\nsee also [rever a string in java][1]\r\n\r\n\r\n  [1]: https://www.asenview.com/reverse-a-string-in-java/","title":"Reverse String characters in java","body":"<p>you can try the build-in function charAt()</p>\n<pre><code>private String reverseString2(String str) {\n    if (str == null) {\n        return null;\n    }\n    String result = &quot;&quot;;\n    for (int i = str.length() - 1; i &gt;= 0; i--) {\n        result = result + str.charAt(i);\n    }\n    return result;\n}\n\npublic void test(){\n    System.out.println(reverseString2(&quot;abcd&quot;));\n}\n</code></pre>\n<p>see also <a href=\"https://www.asenview.com/reverse-a-string-in-java/\" rel=\"nofollow noreferrer\">rever a string in java</a></p>\n"},{"tags":[],"owner":{"account_id":17793893,"reputation":1,"user_id":12922217,"display_name":"mac95860"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668007228,"creation_date":1668007228,"answer_id":74377275,"question_id":64618842,"body_markdown":"```\r\nString reversed = new StringBuilder(originalString).reverse().toString();\r\n```","title":"Reverse String characters in java","body":"<pre><code>String reversed = new StringBuilder(originalString).reverse().toString();\n</code></pre>\n"}],"owner":{"display_name":"user14187680"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10693,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64618941,"answer_count":7,"score":1,"last_activity_date":1668007228,"creation_date":1604123688,"question_id":64618842,"body_markdown":"Am trying to reverse a string using a method in java, I can fetch all the elements of the string and print them out in order via a loop, my problem is reversing the string such that the first comes last and the last comes first, I tried to find a reverse function to no avail... Here is what I have so far...\r\n```java\r\nprivate static void palindrome() {\r\n    char[] name = new char[]{};\r\n    String name1;\r\n    System.out.println(&quot;Enter your name&quot;);\r\n    Scanner tim = new Scanner(System.in);\r\n    name1 = tim.next();\r\n    int len = name1.length();\r\n    for (int i = 0; i &lt;= len; ++i) {\r\n        char b = name1.charAt(i);\r\n        System.out.println(b + &quot; &quot;);\r\n    }\r\n}\r\n```\r\nThat loop succeeds in printing out the single characters from the string.\r\n","title":"Reverse String characters in java","body":"<p>Am trying to reverse a string using a method in java, I can fetch all the elements of the string and print them out in order via a loop, my problem is reversing the string such that the first comes last and the last comes first, I tried to find a reverse function to no avail... Here is what I have so far...</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void palindrome() {\n    char[] name = new char[]{};\n    String name1;\n    System.out.println(&quot;Enter your name&quot;);\n    Scanner tim = new Scanner(System.in);\n    name1 = tim.next();\n    int len = name1.length();\n    for (int i = 0; i &lt;= len; ++i) {\n        char b = name1.charAt(i);\n        System.out.println(b + &quot; &quot;);\n    }\n}\n</code></pre>\n<p>That loop succeeds in printing out the single characters from the string.</p>\n"},{"tags":["java","base64","keycloak","saml","saml-2.0"],"comments":[{"owner":{"account_id":15716646,"reputation":110,"user_id":11340691,"display_name":"Joep Verhoeven"},"score":1,"creation_date":1668006999,"post_id":74377125,"comment_id":131303969,"body_markdown":"Which tool did you use?","body":"Which tool did you use?"}],"owner":{"account_id":2311860,"reputation":11,"user_id":2029816,"display_name":"Shwahlthy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668006647,"creation_date":1668006647,"question_id":74377125,"body_markdown":"We&#39;re trying setup Keycloak (version 20.0.1) with an EHerkenning/EIDAS (Dutch/European identity system for businesses) Identity provider using SAML.\r\nWe can connect with the EHerkenning/EIDAS broker (their login page is shown). The response posted to the Keycloak endpoint however causes an exception. Keycloak displays &quot;Invalid response from identity provider.&quot;\r\n\r\nIn the Keycloak logs we found the following error;\r\n```\r\n2022-11-09 14:01:30,735 ERROR [org.keycloak.saml.common] (executor-thread-0) Error in base64 decoding saml message.: java.lang.RuntimeException: PL00062: Parser : Unknown tag:EncryptedAttribute::location=Line number = 159\r\n\r\nColumn number = 252\r\n\r\nSystem Id = null\r\n\r\nPublic Id = null\r\n\r\nLocation Uri= null\r\n\r\nCharacterOffset = 35248\r\n\r\n\r\nat org.keycloak.saml.common.DefaultPicketLinkLogger.parserUnknownTag(DefaultPicketLinkLogger.java:359)\r\n\r\nat org.keycloak.saml.processing.core.parsers.saml.assertion.SAMLAttributeStatementParser.processSubElement(SAMLAttributeStatementParser.java:56)\r\n\r\nat org.keycloak.saml.processing.core.parsers.saml.assertion.SAMLAttributeStatementParser.processSubElement(SAMLAttributeStatementParser.java:31)\r\n\r\nat org.keycloak.saml.common.parsers.AbstractStaxParser.parse(AbstractStaxParser.java:97)\r\n\r\nat org.keycloak.saml.processing.core.parsers.saml.assertion.SAMLAssertionParser.processSubElement(SAMLAssertionParser.java:96)\r\n\r\nat org.keycloak.saml.processing.core.parsers.saml.assertion.SAMLAssertionParser.processSubElement(SAMLAssertionParser.java:34)\r\n\r\nat org.keycloak.saml.common.parsers.AbstractStaxParser.parse(AbstractStaxParser.java:97)\r\n\r\nat org.keycloak.saml.processing.core.parsers.saml.protocol.SAMLResponseParser.processSubElement(SAMLResponseParser.java:77)\r\n\r\nat org.keycloak.saml.processing.core.parsers.saml.protocol.SAMLResponseParser.processSubElement(SAMLResponseParser.java:38)\r\n\r\nat org.keycloak.saml.common.parsers.AbstractStaxParser.parse(AbstractStaxParser.java:97)\r\n\r\nat org.keycloak.saml.processing.core.parsers.saml.SAMLParser.parse(SAMLParser.java:123)\r\n\r\nat org.keycloak.saml.common.parsers.AbstractParser.parse(AbstractParser.java:98)\r\n\r\nat org.keycloak.saml.common.parsers.AbstractParser.parse(AbstractParser.java:102)\r\n\r\nat org.keycloak.saml.processing.api.saml.v2.response.SAML2Response.getSAML2ObjectFromStream(SAML2Response.java:389)\r\n\r\nat org.keycloak.saml.SAMLRequestParser.parseResponseDocument(SAMLRequestParser.java:104)\r\n\r\nat org.keycloak.broker.saml.SAMLEndpoint$PostBinding.extractResponseDocument(SAMLEndpoint.java:726)\r\n\r\nat org.keycloak.broker.saml.SAMLEndpoint$Binding.handleSamlResponse(SAMLEndpoint.java:624)\r\n\r\nat org.keycloak.broker.saml.SAMLEndpoint$Binding.execute(SAMLEndpoint.java:276)\r\n\r\nat org.keycloak.broker.saml.SAMLEndpoint.postBinding(SAMLEndpoint.java:187)\r\n\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\r\nat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n\r\nat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n\r\nat org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n\r\nat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n\r\nat org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n\r\nat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n\r\nat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\r\n\r\nat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\r\n\r\nat org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:192)\r\n\r\nat org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:152)\r\n\r\nat org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:183)\r\n\r\nat org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:141)\r\n\r\nat org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:32)\r\n\r\nat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\n\r\nat org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n\r\nat org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n\r\nat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n\r\nat org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n\r\nat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n\r\nat io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\r\n\r\nat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\r\n\r\nat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:82)\r\n\r\nat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:42)\r\n\r\nat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n\r\nat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n\r\nat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n\r\nat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:84)\r\n\r\nat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:71)\r\n\r\nat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n\r\nat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n\r\nat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n\r\nat io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:430)\r\n\r\nat io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:408)\r\n\r\nat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n\r\nat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n\r\nat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n\r\nat org.keycloak.quarkus.runtime.integration.web.QuarkusRequestFilter.lambda$createBlockingHandler$0(QuarkusRequestFilter.java:82)\r\n\r\nat io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:564)\r\n\r\nat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\r\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\r\nat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n\r\nat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n\r\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\r\nat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n\r\nWe&#39;re running out of ideas what causes this issue. It&#39;s also hard to debug, because of the lack of details in the logging of Keycloak, even with verbose logging enabled.\r\n\r\nDoes anyone have any clue what is going wrong with the base64 decoding of the SAML response?\r\n\r\n\r\n- We&#39;ve tried to decode the response using saml tool, however SAML tool is also unable to decode the message.\r\n- We&#39;ve tried removing the newlines from the entire SAML response (both in the encrypted, base64 hashed attributes and the response as a whole). Every change made results in Keycloak not accepting the new base64 encoded SAML response or crashes Keycloak without any logging at all.\r\n\r\n","title":"Error in base64 decoding saml message in Keycloak","body":"<p>We're trying setup Keycloak (version 20.0.1) with an EHerkenning/EIDAS (Dutch/European identity system for businesses) Identity provider using SAML.\nWe can connect with the EHerkenning/EIDAS broker (their login page is shown). The response posted to the Keycloak endpoint however causes an exception. Keycloak displays &quot;Invalid response from identity provider.&quot;</p>\n<p>In the Keycloak logs we found the following error;</p>\n<pre><code>2022-11-09 14:01:30,735 ERROR [org.keycloak.saml.common] (executor-thread-0) Error in base64 decoding saml message.: java.lang.RuntimeException: PL00062: Parser : Unknown tag:EncryptedAttribute::location=Line number = 159\n\nColumn number = 252\n\nSystem Id = null\n\nPublic Id = null\n\nLocation Uri= null\n\nCharacterOffset = 35248\n\n\nat org.keycloak.saml.common.DefaultPicketLinkLogger.parserUnknownTag(DefaultPicketLinkLogger.java:359)\n\nat org.keycloak.saml.processing.core.parsers.saml.assertion.SAMLAttributeStatementParser.processSubElement(SAMLAttributeStatementParser.java:56)\n\nat org.keycloak.saml.processing.core.parsers.saml.assertion.SAMLAttributeStatementParser.processSubElement(SAMLAttributeStatementParser.java:31)\n\nat org.keycloak.saml.common.parsers.AbstractStaxParser.parse(AbstractStaxParser.java:97)\n\nat org.keycloak.saml.processing.core.parsers.saml.assertion.SAMLAssertionParser.processSubElement(SAMLAssertionParser.java:96)\n\nat org.keycloak.saml.processing.core.parsers.saml.assertion.SAMLAssertionParser.processSubElement(SAMLAssertionParser.java:34)\n\nat org.keycloak.saml.common.parsers.AbstractStaxParser.parse(AbstractStaxParser.java:97)\n\nat org.keycloak.saml.processing.core.parsers.saml.protocol.SAMLResponseParser.processSubElement(SAMLResponseParser.java:77)\n\nat org.keycloak.saml.processing.core.parsers.saml.protocol.SAMLResponseParser.processSubElement(SAMLResponseParser.java:38)\n\nat org.keycloak.saml.common.parsers.AbstractStaxParser.parse(AbstractStaxParser.java:97)\n\nat org.keycloak.saml.processing.core.parsers.saml.SAMLParser.parse(SAMLParser.java:123)\n\nat org.keycloak.saml.common.parsers.AbstractParser.parse(AbstractParser.java:98)\n\nat org.keycloak.saml.common.parsers.AbstractParser.parse(AbstractParser.java:102)\n\nat org.keycloak.saml.processing.api.saml.v2.response.SAML2Response.getSAML2ObjectFromStream(SAML2Response.java:389)\n\nat org.keycloak.saml.SAMLRequestParser.parseResponseDocument(SAMLRequestParser.java:104)\n\nat org.keycloak.broker.saml.SAMLEndpoint$PostBinding.extractResponseDocument(SAMLEndpoint.java:726)\n\nat org.keycloak.broker.saml.SAMLEndpoint$Binding.handleSamlResponse(SAMLEndpoint.java:624)\n\nat org.keycloak.broker.saml.SAMLEndpoint$Binding.execute(SAMLEndpoint.java:276)\n\nat org.keycloak.broker.saml.SAMLEndpoint.postBinding(SAMLEndpoint.java:187)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\nat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\n\nat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\n\nat org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\n\nat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\n\nat org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\n\nat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n\nat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\n\nat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\n\nat org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:192)\n\nat org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:152)\n\nat org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:183)\n\nat org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:141)\n\nat org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:32)\n\nat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\n\nat org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\n\nat org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\n\nat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n\nat org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\n\nat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\n\nat io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\n\nat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\n\nat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:82)\n\nat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:42)\n\nat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\n\nat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\n\nat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\n\nat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:84)\n\nat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:71)\n\nat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\n\nat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\n\nat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\n\nat io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:430)\n\nat io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:408)\n\nat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\n\nat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\n\nat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\n\nat org.keycloak.quarkus.runtime.integration.web.QuarkusRequestFilter.lambda$createBlockingHandler$0(QuarkusRequestFilter.java:82)\n\nat io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:564)\n\nat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n\nat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n\nat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n\nat java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>We're running out of ideas what causes this issue. It's also hard to debug, because of the lack of details in the logging of Keycloak, even with verbose logging enabled.</p>\n<p>Does anyone have any clue what is going wrong with the base64 decoding of the SAML response?</p>\n<ul>\n<li>We've tried to decode the response using saml tool, however SAML tool is also unable to decode the message.</li>\n<li>We've tried removing the newlines from the entire SAML response (both in the encrypted, base64 hashed attributes and the response as a whole). Every change made results in Keycloak not accepting the new base64 encoded SAML response or crashes Keycloak without any logging at all.</li>\n</ul>\n"},{"tags":["java","httpurlconnection"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1668009807,"post_id":74377083,"comment_id":131305152,"body_markdown":"You client is a single thread application and the request are done sequentially. Perfect for re-using the same port / connection.","body":"You client is a single thread application and the request are done sequentially. Perfect for re-using the same port / connection."},{"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"score":0,"creation_date":1668010891,"post_id":74377083,"comment_id":131305570,"body_markdown":"At what level is the decision to utilize the same port being done? Is that at the OS level or Java level?","body":"At what level is the decision to utilize the same port being done? Is that at the OS level or Java level?"},{"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"score":0,"creation_date":1668011514,"post_id":74377083,"comment_id":131305799,"body_markdown":"Unable to edit, so adding new comment......Once I placed the call into a thread and spawned a thread each call I now see individual connections.  Thanks, but still curious at what level (Java or OS) the choice to reuse the port is made.","body":"Unable to edit, so adding new comment......Once I placed the call into a thread and spawned a thread each call I now see individual connections.  Thanks, but still curious at what level (Java or OS) the choice to reuse the port is made."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668012294,"post_id":74377083,"comment_id":131306046,"body_markdown":"I am not aware that you can select a port for outgoing connections, only for ServerSockets.","body":"I am not aware that you can select a port for outgoing connections, only for ServerSockets."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1668012345,"post_id":74377083,"comment_id":131306065,"body_markdown":"I think in this case the `HttpUrlConnection` itself will keep the connection alive (i.e. it&#39;s not even that the same port number is used, it&#39;s in fact the same TCP connection executing multiple HTTP requests via pipelining).","body":"I think in this case the <code>HttpUrlConnection</code> itself will keep the connection alive (i.e. it&#39;s not even that the same port number is used, it&#39;s in fact the same TCP connection executing multiple HTTP requests via pipelining)."}],"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668006461,"creation_date":1668006461,"question_id":74377083,"body_markdown":"Using a simple Server process.\r\n\r\n\timport java.io.IOException;\r\n\timport javax.servlet.ServletException;\r\n\timport javax.servlet.http.HttpServlet;\r\n\timport javax.servlet.http.HttpServletRequest;\r\n\timport javax.servlet.http.HttpServletResponse;\r\n\timport org.eclipse.jetty.server.Connector;\r\n\timport org.eclipse.jetty.server.Server;\r\n\timport org.eclipse.jetty.server.ServerConnector;\r\n\timport org.eclipse.jetty.servlet.ServletHandler;\r\n\r\n\tpublic class EmbeddedJettyExample {\r\n\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\r\n\t\t\tServer server = new Server(8888);\r\n\r\n\t\t\tServletHandler servletHandler = new ServletHandler();\r\n\t\t\tserver.setHandler(servletHandler);\r\n\r\n\t\t\tservletHandler.addServletWithMapping(HelloServlet.class, &quot;/&quot;);\r\n\r\n\t\t\tserver.start();\r\n\t\t\tserver.join();\r\n\r\n\t\t}\r\n\r\n\t\tpublic static class HelloServlet extends HttpServlet\r\n\t\t{\r\n\t\t\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException\r\n\t\t\t{\r\n\t\t\t\tresponse.setContentType(&quot;text/html&quot;);\r\n\t\t\t\tresponse.setStatus(HttpServletResponse.SC_OK);\r\n\t\t\t\tresponse.getWriter().println(&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;);\r\n\t\t\t\t   }\r\n\t\t\t}\r\n\t }\r\n\r\n\r\nThe following client code is used to call the above server. \r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n\r\n\r\n    public class URLCalls \r\n    {\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tint numOfIterations = 1;\r\n\t\t\r\n\t\tif (args.length &gt; 0)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tnumOfIterations = Integer.parseInt(args[0]);\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\t\t\t\tnumOfIterations = 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor(int i = 1; i &lt;= numOfIterations; i++ )\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Processing iteration : &quot; + i);\r\n\t\t\tmakeServerCall();\r\n\t\t} \r\n\r\n\t\tSystem.out.println(&quot;Exiting&quot;);\r\n\t}\r\n\r\n\tprivate static void makeServerCall() \r\n\t{\r\n\t\tURL url;\r\n\t\tHttpURLConnection con;\r\n\t\tint responseCode = 0;\r\n\r\n\t\ttry \r\n\t\t{\r\n\t\t\t\turl = new URL(&quot;http://myServer:8888/EmbeddedJettyExample&quot;);\r\n\t\t\t\tcon = (HttpURLConnection) url.openConnection();\r\n\t\t\t\tcon.setUseCaches(false);\r\n\t\t\t\tresponseCode = con.getResponseCode();\r\n\t\t\t\tSystem.out.println(&quot;     Connect Response Code :: &quot; + responseCode);\r\n\t\t\t\tif (responseCode == HttpURLConnection.HTTP_OK) \r\n\t\t\t\t{ \r\n\t\t\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\t\t\tcon.getInputStream()));\r\n\t\t\t\t\tString inputLine;\r\n\t\t\t\t\tStringBuffer response = new StringBuffer();\r\n\t\r\n\t\t\t\t\twhile ((inputLine = in.readLine()) != null) {\r\n\t\t\t\t\t\tresponse.append(inputLine);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tin.close();\r\n\t\t\t\t\t((HttpURLConnection)con).disconnect();\r\n\t\t\t\t\turl = null;\r\n\t\t\t\t\tcon = null;\r\n\t\r\n\t\t\t\t\tSystem.out.println(&quot;     &quot; + response.toString());\r\n\t\t\t\t} \r\n\t\t\t\telse \r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;     GET request failed&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcatch (MalformedURLException e) \r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tcatch (IOException e) \r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n    }\r\n\r\n\r\nThe above accepts 1 argument which is the number of times to execute the server call. \r\n\r\n    &gt; java URLCalls 250\r\n\r\n\r\nWhile the client code is executing, netstat is executed on the client.\r\n\r\n     &gt; nestat &gt; myfile.txt\r\n\r\nEditing the myfile.txt, I expect to see a large number of ports allocated and referencing the application and server but here is only 1 entry. I even run the above netstat command during the start, middle and near the end and there is always just 1 port and its the same client port reference. To be sure there any other entries, 8888 is search and there is only 1 entry. \r\n\r\n     Proto  Local Address              Foreign Address        State\r\n       TCP    myLocalMachine:52624      myServer:8888         ESTABLISHED\r\n  \r\nThe client code does ensure the objects are closed and nulled.\r\n\r\n**Questions**\r\n\r\n1 - Why is the same client port being used?\r\n\r\n2 - Why is there not a new client port being allocated for each call?\r\n\r\n3 - Is there a command or code change required to ensure a new client port is accessed each time?\r\n","title":"How many local ports should be opened when using Java to make URL server calls?","body":"<p>Using a simple Server process.</p>\n<pre><code>import java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport org.eclipse.jetty.server.Connector;\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.server.ServerConnector;\nimport org.eclipse.jetty.servlet.ServletHandler;\n\npublic class EmbeddedJettyExample {\n\n    public static void main(String[] args) throws Exception {\n\n        Server server = new Server(8888);\n\n        ServletHandler servletHandler = new ServletHandler();\n        server.setHandler(servletHandler);\n\n        servletHandler.addServletWithMapping(HelloServlet.class, &quot;/&quot;);\n\n        server.start();\n        server.join();\n\n    }\n\n    public static class HelloServlet extends HttpServlet\n    {\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException\n        {\n            response.setContentType(&quot;text/html&quot;);\n            response.setStatus(HttpServletResponse.SC_OK);\n            response.getWriter().println(&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;);\n               }\n        }\n }\n</code></pre>\n<p>The following client code is used to call the above server.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\n\npublic class URLCalls \n{\n\npublic static void main(String[] args) \n{\n    int numOfIterations = 1;\n    \n    if (args.length &gt; 0)\n    {\n        try\n        {\n            numOfIterations = Integer.parseInt(args[0]);\n        }\n        catch (Exception e)\n        {\n            numOfIterations = 1;\n        }\n    }\n\n    for(int i = 1; i &lt;= numOfIterations; i++ )\n    {\n        System.out.println(&quot;Processing iteration : &quot; + i);\n        makeServerCall();\n    } \n\n    System.out.println(&quot;Exiting&quot;);\n}\n\nprivate static void makeServerCall() \n{\n    URL url;\n    HttpURLConnection con;\n    int responseCode = 0;\n\n    try \n    {\n            url = new URL(&quot;http://myServer:8888/EmbeddedJettyExample&quot;);\n            con = (HttpURLConnection) url.openConnection();\n            con.setUseCaches(false);\n            responseCode = con.getResponseCode();\n            System.out.println(&quot;     Connect Response Code :: &quot; + responseCode);\n            if (responseCode == HttpURLConnection.HTTP_OK) \n            { \n                BufferedReader in = new BufferedReader(new InputStreamReader(\n                        con.getInputStream()));\n                String inputLine;\n                StringBuffer response = new StringBuffer();\n\n                while ((inputLine = in.readLine()) != null) {\n                    response.append(inputLine);\n                }\n                in.close();\n                ((HttpURLConnection)con).disconnect();\n                url = null;\n                con = null;\n\n                System.out.println(&quot;     &quot; + response.toString());\n            } \n            else \n            {\n                System.out.println(&quot;     GET request failed&quot;);\n            }\n        }\n    catch (MalformedURLException e) \n    {\n        e.printStackTrace();\n    }\n    catch (IOException e) \n    {\n        e.printStackTrace();\n    }\n    \n}\n}\n</code></pre>\n<p>The above accepts 1 argument which is the number of times to execute the server call.</p>\n<pre><code>&gt; java URLCalls 250\n</code></pre>\n<p>While the client code is executing, netstat is executed on the client.</p>\n<pre><code> &gt; nestat &gt; myfile.txt\n</code></pre>\n<p>Editing the myfile.txt, I expect to see a large number of ports allocated and referencing the application and server but here is only 1 entry. I even run the above netstat command during the start, middle and near the end and there is always just 1 port and its the same client port reference. To be sure there any other entries, 8888 is search and there is only 1 entry.</p>\n<pre><code> Proto  Local Address              Foreign Address        State\n   TCP    myLocalMachine:52624      myServer:8888         ESTABLISHED\n</code></pre>\n<p>The client code does ensure the objects are closed and nulled.</p>\n<p><strong>Questions</strong></p>\n<p>1 - Why is the same client port being used?</p>\n<p>2 - Why is there not a new client port being allocated for each call?</p>\n<p>3 - Is there a command or code change required to ensure a new client port is accessed each time?</p>\n"},{"tags":["java","mysql","spring","amazon-web-services","jpa"],"comments":[{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1667943700,"post_id":74344920,"comment_id":131288097,"body_markdown":"What is your Aurora instance type?   So we can determine available RAM and VCPU&#39;s? Could you also post TEXT results of SHOW FULL PROCESSLIST; to go with your 50+ AAS graph so we can see what is running, please.","body":"What is your Aurora instance type?   So we can determine available RAM and VCPU&#39;s? Could you also post TEXT results of SHOW FULL PROCESSLIST; to go with your 50+ AAS graph so we can see what is running, please."},{"owner":{"account_id":16250678,"reputation":11,"user_id":11946564,"display_name":"Mongol"},"score":0,"creation_date":1667989487,"post_id":74344920,"comment_id":131297427,"body_markdown":"@WilsonHauck the instance type is db.t4g.medium","body":"@WilsonHauck the instance type is db.t4g.medium"},{"owner":{"account_id":16250678,"reputation":11,"user_id":11946564,"display_name":"Mongol"},"score":0,"creation_date":1667989968,"post_id":74344920,"comment_id":131297618,"body_markdown":"@WilsonHauck   https://notepad.ltd/dczrzmms it is the result of  SHOW FULL PROCESSLIST","body":"@WilsonHauck   <a href=\"https://notepad.ltd/dczrzmms\" rel=\"nofollow noreferrer\">notepad.ltd/dczrzmms</a> it is the result of  SHOW FULL PROCESSLIST"},{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1668006321,"post_id":74344920,"comment_id":131303701,"body_markdown":"The SHOW FULL PROCESSLIST; indicates 64 of 68 processes are sleeping.  Sometimes for hours (which is abnormal).  Will be out of office until Friday noon.","body":"The SHOW FULL PROCESSLIST; indicates 64 of 68 processes are sleeping.  Sometimes for hours (which is abnormal).  Will be out of office until Friday noon."},{"owner":{"account_id":16250678,"reputation":11,"user_id":11946564,"display_name":"Mongol"},"score":0,"creation_date":1668242121,"post_id":74344920,"comment_id":131361682,"body_markdown":"@WilsonHauck, the result of SHOW GLOBAL STATUS LIKE \\&quot;%connect%\\&quot; is https://jsoneditoronline.org/#left=cloud.54c5533e4e0346cebe1f6f6404b5802e&amp;right=local.regome","body":"@WilsonHauck, the result of SHOW GLOBAL STATUS LIKE \\&quot;%connect%\\&quot; is <a href=\"https://jsoneditoronline.org/#left=cloud.54c5533e4e0346cebe1f6f6404b5802e&amp;right=local.regome\" rel=\"nofollow noreferrer\">jsoneditoronline.org/&hellip;</a>"},{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1668268248,"post_id":74344920,"comment_id":131366372,"body_markdown":"Please provide your code used to &#39;connect&#39;,&#39;process&#39;,&#39;close&#39; the connection. I suspect the &#39;close&#39; is being missed. \n\nView profile for contact info.","body":"Please provide your code used to &#39;connect&#39;,&#39;process&#39;,&#39;close&#39; the connection. I suspect the &#39;close&#39; is being missed.   View profile for contact info."}],"owner":{"account_id":16250678,"reputation":11,"user_id":11946564,"display_name":"Mongol"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668006172,"creation_date":1667815967,"question_id":74344920,"body_markdown":"I investigate one problem on the database (Aurora MySQL 5.7.mysql_aurora.2.10.0).\r\nIn my AWS service, we change the database structure automatically through the java code, namely through spring (**schema.sql + spring.sql.init.mode=always**). Examples: Create table if exist, alter table, etc.\r\nAnd after some time, I get a DB &quot;*waiting for table metadata lock*&quot; error (photo below), which leads to the fall of the kubernetes pod (above limit CPU usage).\r\nThere is the same service working with GCP (Big Query) doing the same auto-configuration through the same piece of code and there is no such problem.\r\n\r\nSchema.sql file\r\n\r\n    CREATE TABLE IF NOT EXISTS job_detail (\r\n      job_id varchar(50) NOT NULL,\r\n      created_by varchar(100) DEFAULT NULL,\r\n      dataflow_id varchar(50) DEFAULT NULL,\r\n      periodic_tasks longtext,\r\n      error_details longtext DEFAULT NULL,\r\n      end_date datetime DEFAULT NULL,\r\n      executed_date datetime DEFAULT NULL,\r\n      failed_records longtext,\r\n      total_records int(11) DEFAULT 0,\r\n      created_date datetime DEFAULT NULL,\r\n      updated_by varchar(100) DEFAULT NULL,\r\n      updated_date datetime DEFAULT NULL,\r\n      job_status varchar(100) DEFAULT NULL,\r\n      job_summary longtext,\r\n      job_name varchar(100) DEFAULT NULL,\r\n      project_id varchar(50) NOT NULL,\r\n      PRIMARY KEY (job_id)\r\n    );\r\n    \r\n    ALTER TABLE  job_detail CHANGE COLUMN created_by created_by VARCHAR(255) NULL DEFAULT NULL;\r\n    ALTER TABLE  job_detail CHANGE COLUMN updated_by updated_by VARCHAR(255) NULL DEFAULT NULL;\r\n\r\n[Photo of queries logs][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zwUIM.png","title":"&quot;Waiting for table metadata lock&quot; on Aurora MySql","body":"<p>I investigate one problem on the database (Aurora MySQL 5.7.mysql_aurora.2.10.0).\nIn my AWS service, we change the database structure automatically through the java code, namely through spring (<strong>schema.sql + spring.sql.init.mode=always</strong>). Examples: Create table if exist, alter table, etc.\nAnd after some time, I get a DB &quot;<em>waiting for table metadata lock</em>&quot; error (photo below), which leads to the fall of the kubernetes pod (above limit CPU usage).\nThere is the same service working with GCP (Big Query) doing the same auto-configuration through the same piece of code and there is no such problem.</p>\n<p>Schema.sql file</p>\n<pre><code>CREATE TABLE IF NOT EXISTS job_detail (\n  job_id varchar(50) NOT NULL,\n  created_by varchar(100) DEFAULT NULL,\n  dataflow_id varchar(50) DEFAULT NULL,\n  periodic_tasks longtext,\n  error_details longtext DEFAULT NULL,\n  end_date datetime DEFAULT NULL,\n  executed_date datetime DEFAULT NULL,\n  failed_records longtext,\n  total_records int(11) DEFAULT 0,\n  created_date datetime DEFAULT NULL,\n  updated_by varchar(100) DEFAULT NULL,\n  updated_date datetime DEFAULT NULL,\n  job_status varchar(100) DEFAULT NULL,\n  job_summary longtext,\n  job_name varchar(100) DEFAULT NULL,\n  project_id varchar(50) NOT NULL,\n  PRIMARY KEY (job_id)\n);\n\nALTER TABLE  job_detail CHANGE COLUMN created_by created_by VARCHAR(255) NULL DEFAULT NULL;\nALTER TABLE  job_detail CHANGE COLUMN updated_by updated_by VARCHAR(255) NULL DEFAULT NULL;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zwUIM.png\" rel=\"nofollow noreferrer\">Photo of queries logs</a></p>\n"},{"tags":["java","spring","hibernate","jpa","filter"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666629496,"post_id":74182708,"comment_id":130977402,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1666704391,"post_id":74182708,"comment_id":130996140,"body_markdown":"i&#39;m guesing a little but I think that there is some problem with `this.entityManager.unwrap(Session.class)` with `@Transaction` you get correct `Session` of that transaction, but without `@Transaction` session that You recieve may not be associated with query execution","body":"i&#39;m guesing a little but I think that there is some problem with <code>this.entityManager.unwrap(Session.class)</code> with <code>@Transaction</code> you get correct <code>Session</code> of that transaction, but without <code>@Transaction</code> session that You recieve may not be associated with query execution"},{"owner":{"account_id":22321914,"reputation":31,"user_id":16544454,"display_name":"Vadym Martsun"},"score":0,"creation_date":1666710171,"post_id":74182708,"comment_id":130998498,"body_markdown":"I have the same thoughts. I am activating wrong session that is not associated with current query. Actually, I am working not on pet project, so a lot of people also work on it and it is not acceptable to use @Transactional in each service for our project. Is there any possible way to avoid it? I tried to handle transaction manually but to no avail...","body":"I have the same thoughts. I am activating wrong session that is not associated with current query. Actually, I am working not on pet project, so a lot of people also work on it and it is not acceptable to use @Transactional in each service for our project. Is there any possible way to avoid it? I tried to handle transaction manually but to no avail..."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667819291,"creation_date":1667819291,"answer_id":74345618,"question_id":74182708,"body_markdown":"The problem is the EntityManager proxy that is injected by Spring which only supports certain operations without a transaction. You&#39;ll need a custom proxy implementation if you want support for this. See `org.springframework.orm.jpa.SharedEntityManagerCreator.SharedEntityManagerInvocationHandler#invoke`","title":"How to use Hibernate @Filter without @Transactional?","body":"<p>The problem is the EntityManager proxy that is injected by Spring which only supports certain operations without a transaction. You'll need a custom proxy implementation if you want support for this. See <code>org.springframework.orm.jpa.SharedEntityManagerCreator.SharedEntityManagerInvocationHandler#invoke</code></p>\n"},{"tags":[],"owner":{"account_id":22321914,"reputation":31,"user_id":16544454,"display_name":"Vadym Martsun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668006074,"creation_date":1668006074,"answer_id":74376989,"question_id":74182708,"body_markdown":"After some research I found a solution - using TransactionTemplate class. So I just need to put my code from aspect into method &#39;execute&#39; and it will do the same as @Transactional annotation. But in this case, I don&#39;t have to annotate each method in each service as Transactional. These articles helped me a lot:\r\n\r\nhttps://www.baeldung.com/spring-programmatic-transaction-management\r\nhttps://www.baeldung.com/transaction-configuration-with-jpa-and-spring\r\n\r\n    transactionTemplate.execute(status -&gt; {\r\n    Session session = null;\r\n            Object result = null;\r\n            try {\r\n                session = entityManager.unwrap(Session.class);\r\n                session.enableFilter(Constants.FILTER_NAME)\r\n                        .setParameter(Constants.PARAMETER_NAME, this.securityAspect.getCompanyId());\r\n                result = joinPoint.proceed();\r\n            } catch (Throwable throwable) {\r\n                logger.error(throwable.getMessage(), throwable);\r\n            } finally {\r\n                if (session != null) {\r\n                    session.disableFilter(Constants.FILTER_NAME);\r\n                }\r\n            }\r\n            return result;\r\n    });","title":"How to use Hibernate @Filter without @Transactional?","body":"<p>After some research I found a solution - using TransactionTemplate class. So I just need to put my code from aspect into method 'execute' and it will do the same as @Transactional annotation. But in this case, I don't have to annotate each method in each service as Transactional. These articles helped me a lot:</p>\n<p><a href=\"https://www.baeldung.com/spring-programmatic-transaction-management\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-programmatic-transaction-management</a>\n<a href=\"https://www.baeldung.com/transaction-configuration-with-jpa-and-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/transaction-configuration-with-jpa-and-spring</a></p>\n<pre><code>transactionTemplate.execute(status -&gt; {\nSession session = null;\n        Object result = null;\n        try {\n            session = entityManager.unwrap(Session.class);\n            session.enableFilter(Constants.FILTER_NAME)\n                    .setParameter(Constants.PARAMETER_NAME, this.securityAspect.getCompanyId());\n            result = joinPoint.proceed();\n        } catch (Throwable throwable) {\n            logger.error(throwable.getMessage(), throwable);\n        } finally {\n            if (session != null) {\n                session.disableFilter(Constants.FILTER_NAME);\n            }\n        }\n        return result;\n});\n</code></pre>\n"}],"owner":{"account_id":22321914,"reputation":31,"user_id":16544454,"display_name":"Vadym Martsun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74376989,"answer_count":2,"score":2,"last_activity_date":1668006074,"creation_date":1666621947,"question_id":74182708,"body_markdown":"I am using Hibernate @Filter with Spring Data to add specific &quot;where&quot; clause for every query in my project. The problem is that it works as long as I use @Transactional annotation for my &#39;findAll&#39; method. Is there any way to avoid using @Transactional? Why is it important here?\r\n\r\nHere is the filter config:\r\n\r\n   \r\n\r\n     @FilterDef(name = &quot;testFilter&quot;,\r\n                parameters = @ParamDef(name = &quot;company_id&quot;, type = &quot;long&quot;),\r\n                defaultCondition = &quot;company_id=:companyId&quot;)\r\n        @Filter(name = &quot;testFilter&quot;)\r\n        @EntityListeners(EmployeeListener.class)\r\n        @NoArgsConstructor\r\n        public class Employee {//basic fields}\r\n\r\nRepository:\r\n\r\n    @Repository\r\n    public interface EmployeeRepository extends PagingAndSortingRepository&lt;Employee, UUID&gt; {\r\n    }\r\n\r\nAspect that enables the filter:\r\n\r\n\r\n    @Aspect\r\n    @Component\r\n    public class TestAspect {\r\n    \r\n        private final SecurityAspect securityAspect;\r\n        private final Logger logger;\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n        @Autowired\r\n        public TestAspect(SecurityAspect securityAspect, Logger logger) {\r\n            this.securityAspect = securityAspect;\r\n            this.logger = logger;\r\n        }\r\n        \r\n    \r\n        @Around(&quot;execution(* org.springframework.data.repository.CrudRepository+.findAll(..))&quot;)\r\n        public Object aroundFindAllTenantAware(ProceedingJoinPoint joinPoint) {\r\n            Session session = this.entityManager.unwrap(Session.class);\r\n            session.enableFilter(&quot;testFilter&quot;)\r\n                    .setParameter(&quot;companyId&quot;, this.securityAspect.getCompanyId());\r\n            Object retValue = null;\r\n            try {\r\n                retValue = joinPoint.proceed();\r\n            } catch (Throwable throwable) {\r\n                logger.error(throwable.getMessage(), throwable);\r\n            } finally {\r\n                session.disableFilter(&quot;testFilter&quot;);\r\n            }\r\n            return retValue;\r\n    \r\n        }\r\n    }\r\n\r\nAnd, finally, my service:\r\n\r\n    @Service\r\n    @Transactional\r\n    public class EmployeeApiServiceImpl {\r\n    \r\n    private final EmployeeRepository repository;\r\n        \r\n        @Autowired\r\n        public EmployeeApiServiceImpl(EmployeeRepository repository) {\r\n    this.employeeRepository = employeeRepository; }\r\n                                    \r\n       \r\n        @Override\r\n        public Response listProfiles(SecurityContext securityContext) { \r\n            List&lt;Employee&gt; employees = repository.findAll();\r\n            return Response.ok().entity(employees).build();\r\n        }\r\n\r\nWithout @Transactional annotation, it does not work. When I am debugging the aspect I can see that the filter was enabled but the query did not change. When I put the annotation, everything works fine. But I don&#39;t get why it is happening. This annotation is not supposed to be on read methods, plus in every tutorial everything works without it, but not in my case.","title":"How to use Hibernate @Filter without @Transactional?","body":"<p>I am using Hibernate @Filter with Spring Data to add specific &quot;where&quot; clause for every query in my project. The problem is that it works as long as I use @Transactional annotation for my 'findAll' method. Is there any way to avoid using @Transactional? Why is it important here?</p>\n<p>Here is the filter config:</p>\n<pre><code> @FilterDef(name = &quot;testFilter&quot;,\n            parameters = @ParamDef(name = &quot;company_id&quot;, type = &quot;long&quot;),\n            defaultCondition = &quot;company_id=:companyId&quot;)\n    @Filter(name = &quot;testFilter&quot;)\n    @EntityListeners(EmployeeListener.class)\n    @NoArgsConstructor\n    public class Employee {//basic fields}\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends PagingAndSortingRepository&lt;Employee, UUID&gt; {\n}\n</code></pre>\n<p>Aspect that enables the filter:</p>\n<pre><code>@Aspect\n@Component\npublic class TestAspect {\n\n    private final SecurityAspect securityAspect;\n    private final Logger logger;\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Autowired\n    public TestAspect(SecurityAspect securityAspect, Logger logger) {\n        this.securityAspect = securityAspect;\n        this.logger = logger;\n    }\n    \n\n    @Around(&quot;execution(* org.springframework.data.repository.CrudRepository+.findAll(..))&quot;)\n    public Object aroundFindAllTenantAware(ProceedingJoinPoint joinPoint) {\n        Session session = this.entityManager.unwrap(Session.class);\n        session.enableFilter(&quot;testFilter&quot;)\n                .setParameter(&quot;companyId&quot;, this.securityAspect.getCompanyId());\n        Object retValue = null;\n        try {\n            retValue = joinPoint.proceed();\n        } catch (Throwable throwable) {\n            logger.error(throwable.getMessage(), throwable);\n        } finally {\n            session.disableFilter(&quot;testFilter&quot;);\n        }\n        return retValue;\n\n    }\n}\n</code></pre>\n<p>And, finally, my service:</p>\n<pre><code>@Service\n@Transactional\npublic class EmployeeApiServiceImpl {\n\nprivate final EmployeeRepository repository;\n    \n    @Autowired\n    public EmployeeApiServiceImpl(EmployeeRepository repository) {\nthis.employeeRepository = employeeRepository; }\n                                \n   \n    @Override\n    public Response listProfiles(SecurityContext securityContext) { \n        List&lt;Employee&gt; employees = repository.findAll();\n        return Response.ok().entity(employees).build();\n    }\n</code></pre>\n<p>Without @Transactional annotation, it does not work. When I am debugging the aspect I can see that the filter was enabled but the query did not change. When I put the annotation, everything works fine. But I don't get why it is happening. This annotation is not supposed to be on read methods, plus in every tutorial everything works without it, but not in my case.</p>\n"},{"tags":["javascript","java","android","react-native","sdk"],"owner":{"account_id":22321603,"reputation":415,"user_id":16544164,"display_name":"Zero0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668006021,"creation_date":1668005606,"question_id":74376865,"body_markdown":"I&#39;m trying to integrate a SDK in my react native app, and i&#39;m little bit confused, as documentation says, i know that i have to write a bridge in order to use the native library in react native.\r\nhere is what i&#39;ve done:\r\n\r\n1. I put the sdk-file.aar in android/app/libs.\r\n2. I created libraryModule.java and libraryPackage.java\r\n\r\nwith the folowing code\r\n\r\nlibraryModule.java\r\n\r\n\r\n    package com.myapp.android;\r\n    \r\n    import com.facebook.react.bridge.NativeModule;\r\n    import com.facebook.react.bridge.ReactApplicationContext;\r\n    import com.facebook.react.bridge.ReactContext;\r\n    import com.facebook.react.bridge.ReactContextBaseJavaModule;\r\n    import com.facebook.react.bridge.ReactMethod;\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    import com.facebook.react.bridge.Promise;\r\n    import com.ekassir.mirpaysdk.client.MirApp;\r\n    \r\n    \r\n    public class MirPayModule extends ReactContextBaseJavaModule {\r\n\r\n    MirPayModule(ReactApplicationContext context) {\r\n        super(context);\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        return &quot;MirPaySdk&quot;;\r\n    }\r\n    @ReactMethod\r\n        {\r\n            \r\n        }\r\n    }. // I think some methods should be here\r\n\r\nMy question is: should i recreate all methods present in the library ?\r\nI&#39;m receiving the sdk from a bank, should i recreate all methods with @ReactMethod tag in order to have the possibility to access them in react native ? \r\nAm i missing something in the process of integration ? \r\n\r\n\r\n\r\n","title":"export java methods to react native from an aar library","body":"<p>I'm trying to integrate a SDK in my react native app, and i'm little bit confused, as documentation says, i know that i have to write a bridge in order to use the native library in react native.\nhere is what i've done:</p>\n<ol>\n<li>I put the sdk-file.aar in android/app/libs.</li>\n<li>I created libraryModule.java and libraryPackage.java</li>\n</ol>\n<p>with the folowing code</p>\n<p>libraryModule.java</p>\n<pre><code>package com.myapp.android;\n\nimport com.facebook.react.bridge.NativeModule;\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.bridge.ReactContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\nimport java.util.Map;\nimport java.util.HashMap;\nimport com.facebook.react.bridge.Promise;\nimport com.ekassir.mirpaysdk.client.MirApp;\n\n\npublic class MirPayModule extends ReactContextBaseJavaModule {\n\nMirPayModule(ReactApplicationContext context) {\n    super(context);\n}\n\n@Override\npublic String getName() {\n    return &quot;MirPaySdk&quot;;\n}\n@ReactMethod\n    {\n        \n    }\n}. // I think some methods should be here\n</code></pre>\n<p>My question is: should i recreate all methods present in the library ?\nI'm receiving the sdk from a bank, should i recreate all methods with @ReactMethod tag in order to have the possibility to access them in react native ?\nAm i missing something in the process of integration ?</p>\n"},{"tags":["java","static-methods"],"answers":[{"tags":[],"owner":{"account_id":11224986,"reputation":2603,"user_id":8234870,"display_name":"Udesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644569914,"creation_date":1644567191,"answer_id":71076941,"question_id":71076788,"body_markdown":"Formatted the code &amp; fixed some typos and commented where ever needed. Please test it now.\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class PasswordCheck {\r\n        /**\r\n         * Checks if both passwords are the same\r\n         *\r\n         * @param password and confirmation password\r\n         * @return true or false\r\n         */\r\n        public static boolean samePassword(String password, String confPassword) {\r\n    \r\n            boolean isSame = password.equals(confPassword);\r\n    \r\n            if (isSame == true) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Checks if the password is valid.\r\n         * It uses isDigit(), isLowerCase(), and isUpperCase() helper methods.\r\n         *\r\n         * @param password\r\n         * @return true or false\r\n         */\r\n        public static boolean validate(final String password) {\r\n    \r\n            boolean hasDigit = false, hasUppercase = false, hasLowercase = false;\r\n            /*for (int i = 0; i &lt; thePassword.length(); i++) {\r\n    \r\n                if (i &gt;= 8) {\r\n                    if (isDigit(thePassword.charAt(i)) == true)\r\n                        if (isLowerCase(thePassword.charAt(i)) == true)\r\n                            if (isUpperCase(thePassword.charAt(i)) == true)\r\n                                return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n    \r\n            }*/\r\n            for (Character ch : password.toCharArray())\r\n                if (isDigit(ch))\r\n                    hasDigit = true;\r\n                else if (isLowerCase(ch))\r\n                    hasLowercase = true;\r\n                else if (isUpperCase(ch))\r\n                    hasUppercase = true;\r\n            return hasDigit &amp;&amp; hasLowercase &amp;&amp; hasUppercase;\r\n        }\r\n    \r\n        /**\r\n         * Checks if the character is a digit (0 to 9).\r\n         *\r\n         * @param ch character.\r\n         * @return true or false.\r\n         */\r\n        public static boolean isDigit(char ch) {\r\n    \r\n    //        char aCharacter = ch;\r\n    //        if (aCharacter &gt;= 0 &amp;&amp; aCharacter &lt;= 9) {\r\n    //            return true;\r\n    //        } else {\r\n    //            return false;\r\n    //        }\r\n            return Character.isDigit(ch);\r\n        }\r\n    \r\n        /**\r\n         * Checks if the character is lower case(a to z).\r\n         *\r\n         * @param ch character.\r\n         * @return true or false.\r\n         */\r\n        public static boolean isLowerCase(char ch) {\r\n    \r\n    //        char aCharacter = ch;\r\n    //        if (Character.isLowerCase(aCharacter)) {\r\n    //            return true;\r\n    //        } else {\r\n    //            return false;\r\n    //        }\r\n            return Character.isLowerCase(ch);\r\n        }\r\n    \r\n        /**\r\n         * Checks if the character is uppercase (A to Z).\r\n         *\r\n         * @param ch character.\r\n         * @return true or false\r\n         */\r\n        public static boolean isUpperCase(char ch) {\r\n    \r\n    //        char aCharacter = ch;\r\n    //        if (Character.isUpperCase(aCharacter)) {\r\n    //            return true;\r\n    //        } else {\r\n    //            return false;\r\n    //        }\r\n            return Character.isUpperCase(ch);\r\n        }\r\n    \r\n        ////////////Main////////////\r\n        public static void main(String[] args) {\r\n            var out = System.out;\r\n            boolean validPassword = false;\r\n            do {\r\n                Scanner in = new Scanner(System.in);\r\n                out.println(&quot;Enter a password:&quot;);\r\n                String pass1 = in.nextLine();\r\n                out.println(&quot;Confirm password:&quot;);\r\n                String pass2 = in.nextLine();\r\n                out.println(pass1 + &quot; &quot; + pass2);\r\n    \r\n                if (samePassword(pass1, pass2)) {\r\n                } else {\r\n                    System.out.println(&quot;The passwords do not match&quot;);\r\n                }\r\n    \r\n                if (validate(pass1)) {\r\n                    System.out.println(&quot;The password is valid&quot;);\r\n                } else {\r\n                    System.out.println(&quot;The password is not valid&quot;);\r\n                }\r\n                //validating password\r\n                validPassword = validate(pass1) &amp;&amp; samePassword(pass1, pass2);\r\n            } while (!validPassword);//while password is invlaid keep\r\n    \r\n        }\r\n    }\r\n\r\nOutput:\r\n-------\r\n\r\n    Enter a password:\r\n    blabla@123\r\n    Confirm password:\r\n    blabla@123\r\n    blabla@123 blabla@123\r\n    The password is not valid\r\n    Enter a password:\r\n    Blabla@123\r\n    Confirm password:\r\n    Blabla@123\r\n    Blabla@123 Blabla@123\r\n    The password is valid","title":"How do I tie this program that validates passwords together? I keep getting error messages and when I fix those errors, more pop up","body":"<p>Formatted the code &amp; fixed some typos and commented where ever needed. Please test it now.</p>\n<pre><code>import java.util.Scanner;\n\npublic class PasswordCheck {\n    /**\n     * Checks if both passwords are the same\n     *\n     * @param password and confirmation password\n     * @return true or false\n     */\n    public static boolean samePassword(String password, String confPassword) {\n\n        boolean isSame = password.equals(confPassword);\n\n        if (isSame == true) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * Checks if the password is valid.\n     * It uses isDigit(), isLowerCase(), and isUpperCase() helper methods.\n     *\n     * @param password\n     * @return true or false\n     */\n    public static boolean validate(final String password) {\n\n        boolean hasDigit = false, hasUppercase = false, hasLowercase = false;\n        /*for (int i = 0; i &lt; thePassword.length(); i++) {\n\n            if (i &gt;= 8) {\n                if (isDigit(thePassword.charAt(i)) == true)\n                    if (isLowerCase(thePassword.charAt(i)) == true)\n                        if (isUpperCase(thePassword.charAt(i)) == true)\n                            return true;\n            } else {\n                return false;\n            }\n\n        }*/\n        for (Character ch : password.toCharArray())\n            if (isDigit(ch))\n                hasDigit = true;\n            else if (isLowerCase(ch))\n                hasLowercase = true;\n            else if (isUpperCase(ch))\n                hasUppercase = true;\n        return hasDigit &amp;&amp; hasLowercase &amp;&amp; hasUppercase;\n    }\n\n    /**\n     * Checks if the character is a digit (0 to 9).\n     *\n     * @param ch character.\n     * @return true or false.\n     */\n    public static boolean isDigit(char ch) {\n\n//        char aCharacter = ch;\n//        if (aCharacter &gt;= 0 &amp;&amp; aCharacter &lt;= 9) {\n//            return true;\n//        } else {\n//            return false;\n//        }\n        return Character.isDigit(ch);\n    }\n\n    /**\n     * Checks if the character is lower case(a to z).\n     *\n     * @param ch character.\n     * @return true or false.\n     */\n    public static boolean isLowerCase(char ch) {\n\n//        char aCharacter = ch;\n//        if (Character.isLowerCase(aCharacter)) {\n//            return true;\n//        } else {\n//            return false;\n//        }\n        return Character.isLowerCase(ch);\n    }\n\n    /**\n     * Checks if the character is uppercase (A to Z).\n     *\n     * @param ch character.\n     * @return true or false\n     */\n    public static boolean isUpperCase(char ch) {\n\n//        char aCharacter = ch;\n//        if (Character.isUpperCase(aCharacter)) {\n//            return true;\n//        } else {\n//            return false;\n//        }\n        return Character.isUpperCase(ch);\n    }\n\n    ////////////Main////////////\n    public static void main(String[] args) {\n        var out = System.out;\n        boolean validPassword = false;\n        do {\n            Scanner in = new Scanner(System.in);\n            out.println(&quot;Enter a password:&quot;);\n            String pass1 = in.nextLine();\n            out.println(&quot;Confirm password:&quot;);\n            String pass2 = in.nextLine();\n            out.println(pass1 + &quot; &quot; + pass2);\n\n            if (samePassword(pass1, pass2)) {\n            } else {\n                System.out.println(&quot;The passwords do not match&quot;);\n            }\n\n            if (validate(pass1)) {\n                System.out.println(&quot;The password is valid&quot;);\n            } else {\n                System.out.println(&quot;The password is not valid&quot;);\n            }\n            //validating password\n            validPassword = validate(pass1) &amp;&amp; samePassword(pass1, pass2);\n        } while (!validPassword);//while password is invlaid keep\n\n    }\n}\n</code></pre>\n<h2>Output:</h2>\n<pre><code>Enter a password:\nblabla@123\nConfirm password:\nblabla@123\nblabla@123 blabla@123\nThe password is not valid\nEnter a password:\nBlabla@123\nConfirm password:\nBlabla@123\nBlabla@123 Blabla@123\nThe password is valid\n</code></pre>\n"}],"owner":{"account_id":23387943,"reputation":9,"user_id":17452972,"display_name":"Junkhead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":993,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668005960,"creation_date":1644566275,"question_id":71076788,"body_markdown":"All I need is for this program to check both inputs and print either, &quot;The passwords do not match&quot;, &quot;The password is not valid&quot;, or &quot;The password is valid&quot;\r\n\r\n/**\r\n\t\tThis program asks for a password, then asks again to confirm it.  \r\n\t\tIf the passwords don&#39;t match or the rules are not fulfilled, prompt again.  \r\n\t\t-The password must be at least 8 characters long.  \r\n\t\t-The password must have at least one uppercase and one lower letter.  \r\n\t\t-The password must have at least one digit.  \r\n\t*/\r\n\r\n```\r\nimport java.util.Scanner;  \r\npublic class PasswordCheck {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tdo {\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter a password:&quot;);\r\n\t\tString pass1 = in.nextLine();\r\n\t\tSystem.out.println(&quot;Confirm password:&quot;);\r\n\t\tString pass2 = in.nextLine();\r\n\t\t\r\n\t\tif(samePassword(pass1,pass2)) {\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;The passwords do not match&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif(validate(pass1)) {\r\n\t\t\tSystem.out.println(&quot;The password is valid&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;The password is not valid&quot;);\r\n\t\t}\r\n\t\twhile(validate == false);\r\n\t}\r\n\t/**\r\n\t\t\tChecks if both passwords are the same\r\n\t\t\t@param password and confirmation password\r\n\t\t\t@return true or false\r\n\t\t*/\r\n\tpublic static boolean samePassword(String password, String confPassword) {\r\n\t\t\r\n\t\tboolean isSame = password.equals(confPassword);\r\n\t\t\r\n\t\tif(isSame == true) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t\t\tChecks if the password is valid.\r\n\t\t\tIt uses isDigit(), isLowerCase(), and isUpperCase() helper methods.\r\n\t\t\t@param the password\r\n\t\t\t@return true or false\r\n\t\t*/\r\n\tpublic static boolean validate(String password) {\r\n\t\t\r\n\t\tString thePassword = password;\r\n\t\t\t\t\r\n\t\tfor(int i = 0; i &lt; thePassword.length(); i++) {\r\n\t\t\t\r\n\t\t\tif(i &gt;= 8) {\r\n\t\t\t\tif(isDigit(thePassword.charAt(i)) == true)\r\n\t\t\t\t\tif(isLowerCase(thePassword.charAt(i)) == true)\r\n\t\t\t\t\t\tif(isUpperCase(thePassword.charAt(i)) == true)\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t\t\tChecks if the character is a digit (0 to 9).\r\n\t\t\t@param a character.\r\n\t\t\t@return true or false.\r\n\t\t*/\r\n\tpublic static boolean isDigit(char ch) {\r\n\t\t\r\n\t\tchar aCharacter = ch;\r\n\t\tif(aCharacter &gt;= 0 &amp;&amp; aCharacter &lt;= 9) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t\t\tChecks if the character is lower case(a to z).\r\n\t\t\t@param a character.\r\n\t\t\t@return true or false.\r\n\t\t*/\r\n\tpublic static boolean isLowerCase(char ch) {\r\n\t\t\r\n\t\tchar aCharacter = ch;\r\n\t\tif(Character.isLowerCase(aCharacter)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t\t\tChecks if the character is uppercase (A to Z).\r\n\t\t\t@param a character.\r\n\t\t\t@return true or false\r\n\t\t*/\r\n\tpublic static boolean isUpperCase(char ch) {\r\n\t\t\r\n\t\tchar aCharacter = ch;\r\n\t\tif(Character.isUpperCase(aCharacter)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\t\t\r\n\t\t\r\n\t\r\n\t\r\n\r\n","title":"How do I tie this program that validates passwords together? I keep getting error messages and when I fix those errors, more pop up","body":"<p>All I need is for this program to check both inputs and print either, &quot;The passwords do not match&quot;, &quot;The password is not valid&quot;, or &quot;The password is valid&quot;</p>\n<p>/**\nThis program asks for a password, then asks again to confirm it.<br />\nIf the passwords don't match or the rules are not fulfilled, prompt again.<br />\n-The password must be at least 8 characters long.<br />\n-The password must have at least one uppercase and one lower letter.<br />\n-The password must have at least one digit.<br />\n*/</p>\n<pre><code>import java.util.Scanner;  \npublic class PasswordCheck {\n    \n    public static void main(String[] args) {\n        \n        do {\n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;Enter a password:&quot;);\n        String pass1 = in.nextLine();\n        System.out.println(&quot;Confirm password:&quot;);\n        String pass2 = in.nextLine();\n        \n        if(samePassword(pass1,pass2)) {\n        }\n        else {\n            System.out.println(&quot;The passwords do not match&quot;);\n        }\n        \n        if(validate(pass1)) {\n            System.out.println(&quot;The password is valid&quot;);\n        }\n        else {\n            System.out.println(&quot;The password is not valid&quot;);\n        }\n        while(validate == false);\n    }\n    /**\n            Checks if both passwords are the same\n            @param password and confirmation password\n            @return true or false\n        */\n    public static boolean samePassword(String password, String confPassword) {\n        \n        boolean isSame = password.equals(confPassword);\n        \n        if(isSame == true) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    /**\n            Checks if the password is valid.\n            It uses isDigit(), isLowerCase(), and isUpperCase() helper methods.\n            @param the password\n            @return true or false\n        */\n    public static boolean validate(String password) {\n        \n        String thePassword = password;\n                \n        for(int i = 0; i &lt; thePassword.length(); i++) {\n            \n            if(i &gt;= 8) {\n                if(isDigit(thePassword.charAt(i)) == true)\n                    if(isLowerCase(thePassword.charAt(i)) == true)\n                        if(isUpperCase(thePassword.charAt(i)) == true)\n                            return true;\n            }\n            else {\n                return false;\n            }\n        }\n    }\n    /**\n            Checks if the character is a digit (0 to 9).\n            @param a character.\n            @return true or false.\n        */\n    public static boolean isDigit(char ch) {\n        \n        char aCharacter = ch;\n        if(aCharacter &gt;= 0 &amp;&amp; aCharacter &lt;= 9) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    /**\n            Checks if the character is lower case(a to z).\n            @param a character.\n            @return true or false.\n        */\n    public static boolean isLowerCase(char ch) {\n        \n        char aCharacter = ch;\n        if(Character.isLowerCase(aCharacter)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    /**\n            Checks if the character is uppercase (A to Z).\n            @param a character.\n            @return true or false\n        */\n    public static boolean isUpperCase(char ch) {\n        \n        char aCharacter = ch;\n        if(Character.isUpperCase(aCharacter)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","file","kotlin","exists"],"comments":[{"owner":{"account_id":2436240,"reputation":3410,"user_id":2126077,"accept_rate":75,"display_name":"Heshan Sandeepa"},"score":0,"creation_date":1662024916,"post_id":73567136,"comment_id":129912504,"body_markdown":"Hard-coded file paths are disabled since Android 11. Try Scoped Storage.","body":"Hard-coded file paths are disabled since Android 11. Try Scoped Storage."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1662030329,"post_id":73567136,"comment_id":129914364,"body_markdown":"If the user does not delete that file can you download it a second time and overwrite the first one? Your app should be able to do so.  Which Android version on used device?","body":"If the user does not delete that file can you download it a second time and overwrite the first one? Your app should be able to do so.  Which Android version on used device?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1662031345,"post_id":73567136,"comment_id":129914716,"body_markdown":"Use a different name when you encounter the error, such as `File (2).jpg`. Or, use `ACTION_CREATE_DOCUMENT` and allow the user to choose where yo should save the content.","body":"Use a different name when you encounter the error, such as <code>File (2).jpg</code>. Or, use <code>ACTION_CREATE_DOCUMENT</code> and allow the user to choose where yo should save the content."},{"owner":{"account_id":19973021,"reputation":21,"user_id":14638048,"display_name":"jyk"},"score":0,"creation_date":1662083080,"post_id":73567136,"comment_id":129929510,"body_markdown":"In my case, using Android 11 and If the user does not delete the file, the first file can be overwritten.","body":"In my case, using Android 11 and If the user does not delete the file, the first file can be overwritten."}],"owner":{"account_id":19973021,"reputation":21,"user_id":14638048,"display_name":"jyk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668005766,"creation_date":1662024739,"question_id":73567136,"body_markdown":"I am making a function to download a file from a server. The function to download the file works fine. However, when the user enters the file explorer and manually deletes the file and tries to download again, the error java.io.FileNotFoundException: /storage/emulated/0/Download/File.jpg: open failed: EEXIST (File exists) occurs. Is there a way to solve this without using the MANAGE_EXTERNAL_STORAGE permission?\r\n\r\n\r\nFile download is in progress with HTTPUriConnection, and it reads as inputstream and saves the file in the path designated as outputstream.\r\n\r\nThe download path I specified is &quot;Environment.getExternalStorageDirectory().toString() + &quot;/&quot; + Environment.DIRECTORY_DOWNLOADS&quot;.","title":"java.io.FileNotFoundException: /storage/emulated/0/Download/file.jpg: open failed: EEXIST (File exists) in kotlin","body":"<p>I am making a function to download a file from a server. The function to download the file works fine. However, when the user enters the file explorer and manually deletes the file and tries to download again, the error java.io.FileNotFoundException: /storage/emulated/0/Download/File.jpg: open failed: EEXIST (File exists) occurs. Is there a way to solve this without using the MANAGE_EXTERNAL_STORAGE permission?</p>\n<p>File download is in progress with HTTPUriConnection, and it reads as inputstream and saves the file in the path designated as outputstream.</p>\n<p>The download path I specified is &quot;Environment.getExternalStorageDirectory().toString() + &quot;/&quot; + Environment.DIRECTORY_DOWNLOADS&quot;.</p>\n"},{"tags":["java","flutter","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":24603925,"reputation":564,"user_id":18506404,"display_name":"bismarck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668005059,"creation_date":1668005059,"answer_id":74376743,"question_id":74376501,"body_markdown":"Yep, you use `capture_method: manual` when you create your PaymentIntent to authorize for up to 7 days. Then you use the [capture endpoint][1] to actually capture the authorization. Take a look at [the docs on manual capture][2].\r\n\r\n\r\n  [1]: https://stripe.com/docs/api/payment_intents/capture\r\n  [2]: https://stripe.com/docs/payments/place-a-hold-on-a-payment-method","title":"Stripe manual/automatic capture","body":"<p>Yep, you use <code>capture_method: manual</code> when you create your PaymentIntent to authorize for up to 7 days. Then you use the <a href=\"https://stripe.com/docs/api/payment_intents/capture\" rel=\"nofollow noreferrer\">capture endpoint</a> to actually capture the authorization. Take a look at <a href=\"https://stripe.com/docs/payments/place-a-hold-on-a-payment-method\" rel=\"nofollow noreferrer\">the docs on manual capture</a>.</p>\n"}],"owner":{"account_id":9982829,"reputation":57,"user_id":7385152,"display_name":"Tiru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74376743,"answer_count":1,"score":0,"last_activity_date":1668005059,"creation_date":1668004172,"question_id":74376501,"body_markdown":"Is there a way to capture the amount of payment after a predetermined time ?\r\n\r\nI want that Stripe make the capture i created but only after 5 minutes from now.\r\n\r\n    /* the capture is a full capture, with this use case you cannot capture partially the amount */\r\n\tpaymentIntent.capture();","title":"Stripe manual/automatic capture","body":"<p>Is there a way to capture the amount of payment after a predetermined time ?</p>\n<p>I want that Stripe make the capture i created but only after 5 minutes from now.</p>\n<pre><code>/* the capture is a full capture, with this use case you cannot capture partially the amount */\npaymentIntent.capture();\n</code></pre>\n"},{"tags":["java","spring","lombok","mapstruct"],"comments":[{"owner":{"account_id":5572907,"reputation":660,"user_id":4417483,"display_name":"burubum"},"score":0,"creation_date":1562059208,"post_id":56849053,"comment_id":100248892,"body_markdown":"Are you using Maven to build the project?","body":"Are you using Maven to build the project?"},{"owner":{"account_id":15683808,"reputation":103,"user_id":11317073,"display_name":"Nicolas"},"score":0,"creation_date":1562060287,"post_id":56849053,"comment_id":100249453,"body_markdown":"Yes I am. I will add my pom.xml in my question.","body":"Yes I am. I will add my pom.xml in my question."},{"owner":{"account_id":5572907,"reputation":660,"user_id":4417483,"display_name":"burubum"},"score":2,"creation_date":1562060769,"post_id":56849053,"comment_id":100249727,"body_markdown":"I guess you&#39;ve tried `mvn clean compile`?","body":"I guess you&#39;ve tried <code>mvn clean compile</code>?"},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1562061194,"post_id":56849053,"comment_id":100249969,"body_markdown":"You could always add the `@Mapping` annotations for all non trivial mappings like `@Mapping(source = &quot;icu&quot;, target = &quot;ICU&quot;)` but this seems wrong... MapStruct should be case insensitive in such situation :/","body":"You could always add the <code>@Mapping</code> annotations for all non trivial mappings like <code>@Mapping(source = &quot;icu&quot;, target = &quot;ICU&quot;)</code> but this seems wrong... MapStruct should be case insensitive in such situation :/"},{"owner":{"account_id":4902239,"reputation":153,"user_id":3950069,"display_name":"Mansoor Ali"},"score":0,"creation_date":1562068773,"post_id":56849053,"comment_id":100253955,"body_markdown":"try `mvn clean install`, mapper implementation classes are placed in target folder and they won&#39;t be updated unless you `mvn clean` your project resulting in removal of target folder","body":"try <code>mvn clean install</code>, mapper implementation classes are placed in target folder and they won&#39;t be updated unless you <code>mvn clean</code> your project resulting in removal of target folder"},{"owner":{"account_id":15683808,"reputation":103,"user_id":11317073,"display_name":"Nicolas"},"score":0,"creation_date":1562069973,"post_id":56849053,"comment_id":100254587,"body_markdown":"@burubum : running mvn clean compile seems to have fixed the issue, thanks.","body":"@burubum : running mvn clean compile seems to have fixed the issue, thanks."},{"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"score":0,"creation_date":1562182779,"post_id":56849053,"comment_id":100302417,"body_markdown":"Do you use Lombok for your entities and DTOs?","body":"Do you use Lombok for your entities and DTOs?"}],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1562137529,"creation_date":1562137529,"answer_id":56864687,"question_id":56849053,"body_markdown":"For some reason the recompile of the project didn&#39;t run the annotation processor. MapStruct is invoked by the Java compiler and the maven-compiler-plugin is responsible for cleaning up the folder with the generated classes.\r\n\r\nDoing `mvn clean compile` will always work. However, if doing a change and then doing `mvn compile` doesn&#39;t, I would try with the latest version of the maven-compiler-plugin and if that still doesn&#39;t work create a bug report for the plugin.","title":"Mapstruct is not updating its getters and setters in the generated source files","body":"<p>For some reason the recompile of the project didn't run the annotation processor. MapStruct is invoked by the Java compiler and the maven-compiler-plugin is responsible for cleaning up the folder with the generated classes.</p>\n\n<p>Doing <code>mvn clean compile</code> will always work. However, if doing a change and then doing <code>mvn compile</code> doesn't, I would try with the latest version of the maven-compiler-plugin and if that still doesn't work create a bug report for the plugin.</p>\n"},{"tags":[],"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599734894,"creation_date":1562253904,"answer_id":56890896,"question_id":56849053,"body_markdown":"If you use Lombok for your entities and DTOs you have to update your pom.xml like this:\r\n\r\n```xml\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;-Amapstruct.defaultComponentModel=spring&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nThen Mupstruct will be able to see their getters and setters.\r\n\r\n(You can check my [project][1] and its [demo][2] to see this in action.)\r\n\r\n\r\n  [1]: https://github.com/Cepr0/generic-crud\r\n  [2]: https://github.com/Cepr0/generic-crud/tree/master/demo","title":"Mapstruct is not updating its getters and setters in the generated source files","body":"<p>If you use Lombok for your entities and DTOs you have to update your pom.xml like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;-Amapstruct.defaultComponentModel=spring&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Then Mupstruct will be able to see their getters and setters.</p>\n<p>(You can check my <a href=\"https://github.com/Cepr0/generic-crud\" rel=\"nofollow noreferrer\">project</a> and its <a href=\"https://github.com/Cepr0/generic-crud/tree/master/demo\" rel=\"nofollow noreferrer\">demo</a> to see this in action.)</p>\n"},{"tags":[],"owner":{"account_id":14491810,"reputation":924,"user_id":10467757,"display_name":"Adil Aslam Sachwani"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1612967919,"creation_date":1612967919,"answer_id":66139003,"question_id":56849053,"body_markdown":"You need to provide the **lombok** plugin first in order, then the **mapstruct-processor** plugin just like this.\r\n\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;1.8&lt;/source&gt;\r\n    \t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t&lt;annotationProcessorPaths&gt;\r\n    \t    &lt;path&gt;\r\n    \t\t    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.18.16&lt;/version&gt;\r\n    \t\t&lt;/path&gt;\r\n    \t\t&lt;path&gt;\r\n    \t\t    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n    \t\t&lt;/path&gt;\r\n    \t&lt;/annotationProcessorPaths&gt;\r\n    &lt;/configuration&gt;\r\n\r\n","title":"Mapstruct is not updating its getters and setters in the generated source files","body":"<p>You need to provide the <strong>lombok</strong> plugin first in order, then the <strong>mapstruct-processor</strong> plugin just like this.</p>\n<pre><code>&lt;configuration&gt;\n    &lt;source&gt;1.8&lt;/source&gt;\n    &lt;target&gt;1.8&lt;/target&gt;\n    &lt;annotationProcessorPaths&gt;\n        &lt;path&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.16&lt;/version&gt;\n        &lt;/path&gt;\n        &lt;path&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\n        &lt;/path&gt;\n    &lt;/annotationProcessorPaths&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4625898,"reputation":39,"user_id":3749732,"display_name":"cristianhoyos66"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659657388,"creation_date":1659657388,"answer_id":73243332,"question_id":56849053,"body_markdown":"Thanks to https://stackoverflow.com/users/10467757/adil-aslam-sachwani for his answer about setting mapstruct processor after lombok&#39;s one. It worked for me, but I have it with gradle, so in that case, it should be like this:\r\n\r\n    implementation &#39;org.mapstruct:mapstruct:1.5.2.Final&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.mapstruct:mapstruct-processor:1.5.2.Final&#39;","title":"Mapstruct is not updating its getters and setters in the generated source files","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/10467757/adil-aslam-sachwani\">https://stackoverflow.com/users/10467757/adil-aslam-sachwani</a> for his answer about setting mapstruct processor after lombok's one. It worked for me, but I have it with gradle, so in that case, it should be like this:</p>\n<pre><code>implementation 'org.mapstruct:mapstruct:1.5.2.Final'\ncompileOnly 'org.projectlombok:lombok'\nannotationProcessor 'org.projectlombok:lombok'\nannotationProcessor 'org.mapstruct:mapstruct-processor:1.5.2.Final'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19518988,"reputation":3,"user_id":14847664,"display_name":"Eduardo Nunes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668004917,"creation_date":1668004666,"answer_id":74376641,"question_id":56849053,"body_markdown":"I know this is an old question, but after editing your pom.xml like Dan Dragut, and if you use intellij, try clicking on the hammer that is located on the left side of the &quot;run&quot; button, that will cause the project to be rebuilt, then your generated sources will be up to date again","title":"Mapstruct is not updating its getters and setters in the generated source files","body":"<p>I know this is an old question, but after editing your pom.xml like Dan Dragut, and if you use intellij, try clicking on the hammer that is located on the left side of the &quot;run&quot; button, that will cause the project to be rebuilt, then your generated sources will be up to date again</p>\n"}],"owner":{"account_id":15683808,"reputation":103,"user_id":11317073,"display_name":"Nicolas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5701,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56864687,"answer_count":5,"score":5,"last_activity_date":1668004917,"creation_date":1562058762,"question_id":56849053,"body_markdown":"I have an entity with a property I used to write like this\nprivate Long ICU;\n\nI&#39;m using mapstruct:\n\nHere is my mapper for said entity:\n\n```\n@Mapper(componentModel = &quot;spring&quot;)\npublic interface ProtectionQueryMapper extends EntityMapper&lt;ProtectionQueryDto, Protection&gt; {\n\n    ProtectionQueryDto toDto(Protection protection);\n\n    Protection toEntity(ProtectionQueryDto protectionQueryDto);\n\n    List&lt;Protection&gt; toEntity(List&lt;ProtectionQueryDto&gt; protectionQueryDtos);\n\n    List&lt;ProtectionQueryDto&gt; toDto(List&lt;Protection&gt; protections);\n\n}\n```\n```\npublic interface EntityMapper&lt;D, E&gt; {\n\n    E toEntity(D dto);\n\n    D toDto(E entity);\n\n    List&lt;E&gt; toEntity(List&lt;D&gt; dtoList);\n\n    List&lt;D&gt; toDto(List&lt;E&gt; entityList);\n}\n```\n\nThe problem I have is that I want to change the property from ICU go icu, which I did and it resulted in this error:\n\n&gt; nested exception is java.lang.NoSuchMethodError:\n&gt;\n&gt; Protection.getICU()Ljava/lang/Long;\n\nIt would seem that mapstruct generated its getters and setters based on:\n`private Long ICU;`\ngenerating method like setICU and getICU.\nBut now that I have changed the property from ICU to icu mapstruct is not updating its method to `setIcu` and `getIcu`.\n\nI cannot change the `mapstruct` generated file manually.\n\nAlso here is my pom.xml (at least the part regarding mapstruct)\n```\n&lt;dependency&gt;\n  &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n  &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;  \n  &lt;version&gt;1.3.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n              &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.3.0.Final&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;compilerArg&gt;\n                            &lt;arg&gt;-Amapstruct.defaultComponentModel=spring&lt;/arg&gt;\n                        &lt;/compilerArg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n```\nAny idea how to have mapstruct update its generated source file?\n","title":"Mapstruct is not updating its getters and setters in the generated source files","body":"<p>I have an entity with a property I used to write like this\nprivate Long ICU;</p>\n<p>I'm using mapstruct:</p>\n<p>Here is my mapper for said entity:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface ProtectionQueryMapper extends EntityMapper&lt;ProtectionQueryDto, Protection&gt; {\n\n    ProtectionQueryDto toDto(Protection protection);\n\n    Protection toEntity(ProtectionQueryDto protectionQueryDto);\n\n    List&lt;Protection&gt; toEntity(List&lt;ProtectionQueryDto&gt; protectionQueryDtos);\n\n    List&lt;ProtectionQueryDto&gt; toDto(List&lt;Protection&gt; protections);\n\n}\n</code></pre>\n<pre><code>public interface EntityMapper&lt;D, E&gt; {\n\n    E toEntity(D dto);\n\n    D toDto(E entity);\n\n    List&lt;E&gt; toEntity(List&lt;D&gt; dtoList);\n\n    List&lt;D&gt; toDto(List&lt;E&gt; entityList);\n}\n</code></pre>\n<p>The problem I have is that I want to change the property from ICU go icu, which I did and it resulted in this error:</p>\n<blockquote>\n<p>nested exception is java.lang.NoSuchMethodError:</p>\n<p>Protection.getICU()Ljava/lang/Long;</p>\n</blockquote>\n<p>It would seem that mapstruct generated its getters and setters based on:\n<code>private Long ICU;</code>\ngenerating method like setICU and getICU.\nBut now that I have changed the property from ICU to icu mapstruct is not updating its method to <code>setIcu</code> and <code>getIcu</code>.</p>\n<p>I cannot change the <code>mapstruct</code> generated file manually.</p>\n<p>Also here is my pom.xml (at least the part regarding mapstruct)</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n  &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;  \n  &lt;version&gt;1.3.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n              &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.3.0.Final&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;compilerArg&gt;\n                            &lt;arg&gt;-Amapstruct.defaultComponentModel=spring&lt;/arg&gt;\n                        &lt;/compilerArg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Any idea how to have mapstruct update its generated source file?</p>\n"},{"tags":["java","hashmap","java-stream","collectors"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668003047,"creation_date":1668002691,"answer_id":74376152,"question_id":74375890,"body_markdown":"&gt; //TODO: Need a merge function that will add this status to the list `itemStatuses`\r\n\r\nA *merge function* of `toMap` is a `BinaryOperator` which expects two arguments which are *Values* associated with the same *Key*, which should be resolved into a single value returned by the *merge function*.\r\n\r\nA quote from the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)):\r\n\r\n&gt; `mergeFunction` - a merge function, used to resolve collisions between values associated with the same key, as supplied to `Map.merge(Object, Object, BiFunction)`\r\n\r\nYou need to extract a list `itemStatuses` from both values and combine them together using `Collection.addAll`, then return a value whose list has been modified.\r\n\r\n```\r\n(left, right) -&gt; {\r\n    left.getItemStatuses().addAll(right.getItemStatuses());\r\n    return left;\r\n}\r\n```","title":"Merge function of a map collector to add in list in Java 8","body":"<blockquote>\n<p>//TODO: Need a merge function that will add this status to the list <code>itemStatuses</code></p>\n</blockquote>\n<p>A <em>merge function</em> of <code>toMap</code> is a <code>BinaryOperator</code> which expects two arguments which are <em>Values</em> associated with the same <em>Key</em>, which should be resolved into a single value returned by the <em>merge function</em>.</p>\n<p>A quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><code>mergeFunction</code> - a merge function, used to resolve collisions between values associated with the same key, as supplied to <code>Map.merge(Object, Object, BiFunction)</code></p>\n</blockquote>\n<p>You need to extract a list <code>itemStatuses</code> from both values and combine them together using <code>Collection.addAll</code>, then return a value whose list has been modified.</p>\n<pre><code>(left, right) -&gt; {\n    left.getItemStatuses().addAll(right.getItemStatuses());\n    return left;\n}\n</code></pre>\n"}],"owner":{"account_id":86631,"reputation":1226,"user_id":9692178,"display_name":"ThrowableException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1019,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74376152,"answer_count":1,"score":2,"last_activity_date":1668004309,"creation_date":1668001652,"question_id":74375890,"body_markdown":"While creating a Map on a stream, I want to insert the values in the same object list for duplicate Keys.  \r\nI used `Collectors.toMap(keyMapper, valueMapper, mergeFunction)`.  \r\nBut I’m unable to write a correct **merge function** for the same keys.\r\n\r\nHere is a working example code to show the exact problem. \r\n\r\nCreate a Java file named `MapCollector` and add the below code.\r\n\r\n\r\n    public class MapCollector {\r\n        public static Map&lt;ItemType, ItemRequest&gt; breakRequestByItemType(final ItemRequest originalRequest) {\r\n           return originalRequest\r\n                    .getItemStatuses()\r\n                    .stream()\r\n                    .filter(e-&gt;e.getType()!= null)\r\n                    .collect(Collectors.toMap(\r\n                            ItemStatus::getType,\r\n                            e-&gt;ItemRequest\r\n                                    .builder()\r\n                                    .prop1(originalRequest.prop1)\r\n                                    .prop2(originalRequest.prop2)\r\n                                    .itemStatuses(Arrays.asList(e))\r\n                                    .build()\r\n                            //TODO: Need a merge function that will add this status to the list `itemStatuses` \r\n    \r\n                    ));\r\n        }\r\n    }\r\n    \r\n    @Data\r\n    @Builder\r\n    class ItemRequest{\r\n        List&lt;ItemStatus&gt; itemStatuses;\r\n        String prop1;\r\n        String prop2;\r\n    }\r\n    enum ItemType{\r\n        A,B,C\r\n    }\r\n    @AllArgsConstructor\r\n    @Getter\r\n    enum ItemStatus{\r\n        A_STATUS_1(&quot;some desc1&quot;,ItemType.A),\r\n        A_STATUS_2(&quot;some desc2&quot;,ItemType.A),\r\n        B_STATUS_1(&quot;some desc3&quot;,ItemType.B),\r\n        B_STATUS_2(&quot;some desc4&quot;,ItemType.B),\r\n        C_STATUS_1(&quot;some desc5&quot;,ItemType.C);\r\n    \r\n        private final String desc;\r\n        private final ItemType type;\r\n    }\r\n\r\nAdd the following dependencies in pom.xml for less verbose test code\r\n\r\n     &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n          &lt;version&gt;5.8.2&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n          &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n          &lt;version&gt;3.21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\nThis is the test class showing the expected &amp; test values \r\n\r\n\r\n    public class MapCollectorTest {\r\n    \r\n        @Test\r\n        void testIt(){\r\n            final ItemRequest originalRequest =  ItemRequest.builder()\r\n                    .itemStatuses(Arrays.asList(ItemStatus.A_STATUS_1,\r\n                            ItemStatus.C_STATUS_1,\r\n                            ItemStatus.B_STATUS_2,\r\n                            ItemStatus.A_STATUS_2))\r\n                    .prop1(&quot;abc&quot;)\r\n                    .prop2(&quot;bcd&quot;)\r\n                    .build();\r\n    \r\n            Map&lt;ItemType, ItemRequest&gt; expectedMap = new HashMap&lt;ItemType, ItemRequest&gt;();\r\n            expectedMap.put(ItemType.A, ItemRequest\r\n                    .builder()\r\n                    .itemStatuses(Arrays.asList(ItemStatus.A_STATUS_1,ItemStatus.A_STATUS_2))\r\n                    .prop1(&quot;abc&quot;)\r\n                    .prop2(&quot;bcd&quot;)\r\n                    .build());\r\n            expectedMap.put(ItemType.B, ItemRequest\r\n                    .builder()\r\n                    .itemStatuses(Arrays.asList(ItemStatus.B_STATUS_1))\r\n                    .prop1(&quot;abc&quot;)\r\n                    .prop2(&quot;bcd&quot;)\r\n                    .build());\r\n            expectedMap.put(ItemType.C, ItemRequest\r\n                    .builder()\r\n                    .itemStatuses(Arrays.asList(ItemStatus.C_STATUS_1))\r\n                    .prop1(&quot;abc&quot;)\r\n                    .prop2(&quot;bcd&quot;)\r\n                    .build());\r\n            Assertions.assertThat(MapCollector.breakRequestByItemType(originalRequest))\r\n                    .containsAllEntriesOf(expectedMap);\r\n        }\r\n    }","title":"Merge function of a map collector to add in list in Java 8","body":"<p>While creating a Map on a stream, I want to insert the values in the same object list for duplicate Keys.<br />\nI used <code>Collectors.toMap(keyMapper, valueMapper, mergeFunction)</code>.<br />\nBut I’m unable to write a correct <strong>merge function</strong> for the same keys.</p>\n<p>Here is a working example code to show the exact problem.</p>\n<p>Create a Java file named <code>MapCollector</code> and add the below code.</p>\n<pre><code>public class MapCollector {\n    public static Map&lt;ItemType, ItemRequest&gt; breakRequestByItemType(final ItemRequest originalRequest) {\n       return originalRequest\n                .getItemStatuses()\n                .stream()\n                .filter(e-&gt;e.getType()!= null)\n                .collect(Collectors.toMap(\n                        ItemStatus::getType,\n                        e-&gt;ItemRequest\n                                .builder()\n                                .prop1(originalRequest.prop1)\n                                .prop2(originalRequest.prop2)\n                                .itemStatuses(Arrays.asList(e))\n                                .build()\n                        //TODO: Need a merge function that will add this status to the list `itemStatuses` \n\n                ));\n    }\n}\n\n@Data\n@Builder\nclass ItemRequest{\n    List&lt;ItemStatus&gt; itemStatuses;\n    String prop1;\n    String prop2;\n}\nenum ItemType{\n    A,B,C\n}\n@AllArgsConstructor\n@Getter\nenum ItemStatus{\n    A_STATUS_1(&quot;some desc1&quot;,ItemType.A),\n    A_STATUS_2(&quot;some desc2&quot;,ItemType.A),\n    B_STATUS_1(&quot;some desc3&quot;,ItemType.B),\n    B_STATUS_2(&quot;some desc4&quot;,ItemType.B),\n    C_STATUS_1(&quot;some desc5&quot;,ItemType.C);\n\n    private final String desc;\n    private final ItemType type;\n}\n</code></pre>\n<p>Add the following dependencies in pom.xml for less verbose test code</p>\n<pre><code> &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.24&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;version&gt;5.8.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n      &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n      &lt;version&gt;3.21.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>This is the test class showing the expected &amp; test values</p>\n<pre><code>public class MapCollectorTest {\n\n    @Test\n    void testIt(){\n        final ItemRequest originalRequest =  ItemRequest.builder()\n                .itemStatuses(Arrays.asList(ItemStatus.A_STATUS_1,\n                        ItemStatus.C_STATUS_1,\n                        ItemStatus.B_STATUS_2,\n                        ItemStatus.A_STATUS_2))\n                .prop1(&quot;abc&quot;)\n                .prop2(&quot;bcd&quot;)\n                .build();\n\n        Map&lt;ItemType, ItemRequest&gt; expectedMap = new HashMap&lt;ItemType, ItemRequest&gt;();\n        expectedMap.put(ItemType.A, ItemRequest\n                .builder()\n                .itemStatuses(Arrays.asList(ItemStatus.A_STATUS_1,ItemStatus.A_STATUS_2))\n                .prop1(&quot;abc&quot;)\n                .prop2(&quot;bcd&quot;)\n                .build());\n        expectedMap.put(ItemType.B, ItemRequest\n                .builder()\n                .itemStatuses(Arrays.asList(ItemStatus.B_STATUS_1))\n                .prop1(&quot;abc&quot;)\n                .prop2(&quot;bcd&quot;)\n                .build());\n        expectedMap.put(ItemType.C, ItemRequest\n                .builder()\n                .itemStatuses(Arrays.asList(ItemStatus.C_STATUS_1))\n                .prop1(&quot;abc&quot;)\n                .prop2(&quot;bcd&quot;)\n                .build());\n        Assertions.assertThat(MapCollector.breakRequestByItemType(originalRequest))\n                .containsAllEntriesOf(expectedMap);\n    }\n}\n</code></pre>\n"},{"tags":["java","jdbc","h2","flyway"],"comments":[{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":0,"creation_date":1668005605,"post_id":74376494,"comment_id":131303369,"body_markdown":"Try `jdbc:h2:file:C:/Users/scong/IdeaProjects/my-flyway-migration-service/target/foobar`","body":"Try <code>jdbc:h2:file:C:&#47;Users&#47;scong&#47;IdeaProjects&#47;my-flyway-migration&zwnj;&#8203;-service&#47;target&#47;foob&zwnj;&#8203;ar</code>"},{"owner":{"account_id":26812247,"reputation":11,"user_id":20402681,"display_name":"Cong"},"score":0,"creation_date":1668029744,"post_id":74376494,"comment_id":131311734,"body_markdown":"Ha, it works with this format. Thanks. @rhowell","body":"Ha, it works with this format. Thanks. @rhowell"}],"owner":{"account_id":26812247,"reputation":11,"user_id":20402681,"display_name":"Cong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668004139,"creation_date":1668004139,"question_id":74376494,"body_markdown":"When I try to do the flyway tutorial for Java, I wanted to check the flyway_schema_history table stored in the embedded H2 database. The database file (foobar.mv.db) is created at project target folder with the configuration \r\n```\r\n&lt;url&gt;jdbc:h2:file:./target/foobar&lt;/url&gt;\r\n```\r\nBut I cannot open the database from browser (localhost:8082). I had to copy the database file to my user home dir because that&#39;s the default location that H2 console uses.  How should I specify the jdbc URL in order to have the console pointing to the project target folder? The default URL is jdbc&quot;h2:file:~/foobar. I want to know how to make it point to my project, say at C:\\Users\\scong\\IdeaProjects\\my-flyway-migration-service. foobar.mv.db file is created at C:\\Users\\scong\\IdeaProjects\\my-flyway-migration-service\\target with above configuration.\r\n\r\nThe answer in the post https://stackoverflow.com/questions/48409005/what-is-the-jdbc-connection-string-for-h2-database actually doesn&#39;t work for me. The console complains the colon character after the drive letter (C:) in the path. I tried to use the below absolute path,\r\n```\r\njdbc:h2:file://localhost/C:/Users/scong/IdeaProjects/my-flyway-migration-service/target/foobar\r\n```\r\nIt gave the below error&lt;br&gt;\r\nGeneral error: &quot;java.nio.file.InvalidPathException: Illegal character [:] in path at index 13: //localhost/C:/Users/scong/IdeaProjects/my-flyway-migration-service/target/foobar&quot; [50000-214] HY000/50000 (Help)","title":"How to set the jdbc URL for H2 database?","body":"<p>When I try to do the flyway tutorial for Java, I wanted to check the flyway_schema_history table stored in the embedded H2 database. The database file (foobar.mv.db) is created at project target folder with the configuration</p>\n<pre><code>&lt;url&gt;jdbc:h2:file:./target/foobar&lt;/url&gt;\n</code></pre>\n<p>But I cannot open the database from browser (localhost:8082). I had to copy the database file to my user home dir because that's the default location that H2 console uses.  How should I specify the jdbc URL in order to have the console pointing to the project target folder? The default URL is jdbc&quot;h2:file:~/foobar. I want to know how to make it point to my project, say at C:\\Users\\scong\\IdeaProjects\\my-flyway-migration-service. foobar.mv.db file is created at C:\\Users\\scong\\IdeaProjects\\my-flyway-migration-service\\target with above configuration.</p>\n<p>The answer in the post <a href=\"https://stackoverflow.com/questions/48409005/what-is-the-jdbc-connection-string-for-h2-database\">What is the jdbc connection string for h2 database?</a> actually doesn't work for me. The console complains the colon character after the drive letter (C:) in the path. I tried to use the below absolute path,</p>\n<pre><code>jdbc:h2:file://localhost/C:/Users/scong/IdeaProjects/my-flyway-migration-service/target/foobar\n</code></pre>\n<p>It gave the below error<br>\nGeneral error: &quot;java.nio.file.InvalidPathException: Illegal character [:] in path at index 13: //localhost/C:/Users/scong/IdeaProjects/my-flyway-migration-service/target/foobar&quot; [50000-214] HY000/50000 (Help)</p>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1667928026,"post_id":74358744,"comment_id":131283090,"body_markdown":"If this is an old large project, doesn&#39;t it use a build tool like Maven, ant, or Gradle? Can&#39;t that tool generate the Javadoc? If it has to be IntelliJ, can you install a modern JDK just for generating Javadoc? That said, it would be helpful to not link to another question but to include here in your question what you tried and how that failed. See [ask]","body":"If this is an old large project, doesn&#39;t it use a build tool like Maven, ant, or Gradle? Can&#39;t that tool generate the Javadoc? If it has to be IntelliJ, can you install a modern JDK just for generating Javadoc? That said, it would be helpful to not link to another question but to include here in your question what you tried and how that failed. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":10545256,"reputation":1,"user_id":7769772,"display_name":"bencusb"},"score":0,"creation_date":1668004451,"post_id":74358744,"comment_id":131302913,"body_markdown":"I hope that the edit helps clarify the situation. To answer you specifically, sadly the project does not have a build system. I&#39;ve been nagging my team to add one but with no success so far. Thus the odd question. Regarding the IDE I have the choice of Eclipse also but that&#39;s being phased out. Ideally I&#39;d like to write maintainable code.","body":"I hope that the edit helps clarify the situation. To answer you specifically, sadly the project does not have a build system. I&#39;ve been nagging my team to add one but with no success so far. Thus the odd question. Regarding the IDE I have the choice of Eclipse also but that&#39;s being phased out. Ideally I&#39;d like to write maintainable code."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1668006339,"post_id":74358744,"comment_id":131303710,"body_markdown":"Thanks for explaining. At this point I&#39;d probably just add a build script in your favorite tool. Or start with a shell script that runs Javadoc with the right arguments for you. If your teammates complain, don&#39;t check it in. At that point it&#39;s not a technical problem anymore but a team culture problem.","body":"Thanks for explaining. At this point I&#39;d probably just add a build script in your favorite tool. Or start with a shell script that runs Javadoc with the right arguments for you. If your teammates complain, don&#39;t check it in. At that point it&#39;s not a technical problem anymore but a team culture problem."}],"owner":{"account_id":10545256,"reputation":1,"user_id":7769772,"display_name":"bencusb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668004039,"creation_date":1667901304,"question_id":74358744,"body_markdown":"I&#39;m working on a rather large project in java thus the need for javadocs.\r\nI&#39;m using java 1.8.0_332.\r\nMy problem is that when I try to generate the javadoc with Intelij Idea Community 2022.2.\r\nIt tries to use the --source-path flag when generating witch fails because it isn&#39;t yet defined in java 1.8.\r\n\r\nIs there a way to force Idea to list the files separately if not is there a way to give javadoc the specified files manually. (yes I know at this point I should be using a build system to automate such things but I&#39;m not the one making the calls on what I can use)\r\n\r\n I&#39;ve tried the methods in [this](https://stackoverflow.com/questions/73220285/intellij-how-to-fix-javadoc-error-invalid-flag-source-path) question to no avail.\r\n\r\nAs in the question mentioned above I&#39;ve tried to generate the javadocs via the Tools -&gt; Generate JavaDoc panel, witch returns this:\r\n\r\n```java\r\n1 error\r\njavadoc: error - invalid flag: --source-path\r\n\r\n&quot;javadoc&quot; finished with exit code 1\r\n```\r\nThis error is due to me using java 1.8.0_332. I cannot change this in the main code compilation due to my spec regulations. Nor does the project have any build system. Again due to the spec this would be rather hard to push through. (I&#39;m aware that a larger scale project should have one)\r\n\r\nMy second attempt was to use a custom scope where all my .java files are present.\r\nThis resulted in the same output as above.\r\n\r\nI&#39;ve ran out of elegant solutions at this point.\r\n\r\nAs the project is rather large and old code handed down to me I wouldn&#39;t want to manually list these .java files (though with scripting that could be a solution).\r\n\r\nAre there any elegant solutions that I&#39;m missing?\r\n","title":"Javadoc cannot generate because of --source-path flag","body":"<p>I'm working on a rather large project in java thus the need for javadocs.\nI'm using java 1.8.0_332.\nMy problem is that when I try to generate the javadoc with Intelij Idea Community 2022.2.\nIt tries to use the --source-path flag when generating witch fails because it isn't yet defined in java 1.8.</p>\n<p>Is there a way to force Idea to list the files separately if not is there a way to give javadoc the specified files manually. (yes I know at this point I should be using a build system to automate such things but I'm not the one making the calls on what I can use)</p>\n<p>I've tried the methods in <a href=\"https://stackoverflow.com/questions/73220285/intellij-how-to-fix-javadoc-error-invalid-flag-source-path\">this</a> question to no avail.</p>\n<p>As in the question mentioned above I've tried to generate the javadocs via the Tools -&gt; Generate JavaDoc panel, witch returns this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>1 error\njavadoc: error - invalid flag: --source-path\n\n&quot;javadoc&quot; finished with exit code 1\n</code></pre>\n<p>This error is due to me using java 1.8.0_332. I cannot change this in the main code compilation due to my spec regulations. Nor does the project have any build system. Again due to the spec this would be rather hard to push through. (I'm aware that a larger scale project should have one)</p>\n<p>My second attempt was to use a custom scope where all my .java files are present.\nThis resulted in the same output as above.</p>\n<p>I've ran out of elegant solutions at this point.</p>\n<p>As the project is rather large and old code handed down to me I wouldn't want to manually list these .java files (though with scripting that could be a solution).</p>\n<p>Are there any elegant solutions that I'm missing?</p>\n"},{"tags":["java","maven","maven-plugin","thrift"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1639372779,"post_id":70329980,"comment_id":124323332,"body_markdown":"Is the `thrift` command is in you path?","body":"Is the <code>thrift</code> command is in you path?"},{"owner":{"account_id":14635268,"reputation":78,"user_id":10569652,"display_name":"Shantanu Kawale"},"score":0,"creation_date":1678795889,"post_id":70329980,"comment_id":133599214,"body_markdown":"got any solution for this?","body":"got any solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":11542042,"reputation":3,"user_id":8457364,"display_name":"Mustafa Assaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668003363,"creation_date":1668003363,"answer_id":74376325,"question_id":70329980,"body_markdown":"You need to install thrift, this error means it&#39;s not installed \r\ncheck this page on how to install it, https://thrift.apache.org/ ","title":"thrift: command not found","body":"<p>You need to install thrift, this error means it's not installed\ncheck this page on how to install it, <a href=\"https://thrift.apache.org/\" rel=\"nofollow noreferrer\">https://thrift.apache.org/</a></p>\n"}],"owner":{"account_id":4746587,"reputation":8612,"user_id":3837778,"accept_rate":71,"display_name":"BAE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668003363,"creation_date":1639370240,"question_id":70329980,"body_markdown":"I got \r\n\r\n     % mvn install\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ------------------&lt; com.xx:yy-java-client &gt;------------------\r\n    [INFO] Building yy-java-client 3.3.9-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-enforcer-plugin:1.4.1:enforce (default-enforce) @ yy-java-client ---\r\n    [INFO] \r\n    [INFO] --- sortpom-maven-plugin:2.8.0:verify (default-verify) @ yy-java-client ---\r\n    [INFO] Verifying file /Users/cp/gocode/src/code.xx.internal/data/yy-java-client/pom.xml\r\n    [INFO] \r\n    [INFO] --- maven-thrift-plugin:0.1.11:compile (default-compile) @ yy-java-client ---\r\n    [ERROR] thrift failed output: \r\n    [ERROR] thrift failed error: /bin/sh: thrift: command not found\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  0.777 s\r\n    [INFO] Finished at: 2021-12-12T23:33:28-05:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.thrift.tools:maven-thrift-plugin:0.1.11:compile (default-compile) on project yy-java-client: thrift did not exit cleanly. Review output for more information. -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\nAny idea why? thanks","title":"thrift: command not found","body":"<p>I got</p>\n<pre><code> % mvn install\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------&lt; com.xx:yy-java-client &gt;------------------\n[INFO] Building yy-java-client 3.3.9-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-enforcer-plugin:1.4.1:enforce (default-enforce) @ yy-java-client ---\n[INFO] \n[INFO] --- sortpom-maven-plugin:2.8.0:verify (default-verify) @ yy-java-client ---\n[INFO] Verifying file /Users/cp/gocode/src/code.xx.internal/data/yy-java-client/pom.xml\n[INFO] \n[INFO] --- maven-thrift-plugin:0.1.11:compile (default-compile) @ yy-java-client ---\n[ERROR] thrift failed output: \n[ERROR] thrift failed error: /bin/sh: thrift: command not found\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.777 s\n[INFO] Finished at: 2021-12-12T23:33:28-05:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.thrift.tools:maven-thrift-plugin:0.1.11:compile (default-compile) on project yy-java-client: thrift did not exit cleanly. Review output for more information. -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>Any idea why? thanks</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"score":0,"creation_date":1554383029,"post_id":55514396,"comment_id":97738020,"body_markdown":"add this parameter inside the application.property file\n\nspring.servlet.multipart.max-file-size=10MB // change accordingly\nspring.servlet.multipart.max-request-size=10MB// change accordingly","body":"add this parameter inside the application.property file  spring.servlet.multipart.max-file-size=10MB // change accordingly spring.servlet.multipart.max-request-size=10MB// change accordingly"},{"owner":{"account_id":7435046,"reputation":81,"user_id":5654793,"display_name":"Andrew E"},"score":0,"creation_date":1554386786,"post_id":55514396,"comment_id":97740618,"body_markdown":"@GaneshGudghe I don&#39;t think the configuration is relevant here. The default is 1MB (can be seen in the debug screenshot). For what it&#39;s worth setting that property does change the MultipartConfigElement value in my application, but the problem still exists. The problem = the configured spring.servlet.multipart.max-file-size does not seem to do anything automatically.","body":"@GaneshGudghe I don&#39;t think the configuration is relevant here. The default is 1MB (can be seen in the debug screenshot). For what it&#39;s worth setting that property does change the MultipartConfigElement value in my application, but the problem still exists. The problem = the configured spring.servlet.multipart.max-file-size does not seem to do anything automatically."}],"answers":[{"tags":[],"owner":{"account_id":7435046,"reputation":81,"user_id":5654793,"display_name":"Andrew E"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1554890451,"creation_date":1554458714,"answer_id":55532976,"question_id":55514396,"body_markdown":"So it turns out that the limits do work, and do automatically throw Exceptions. \r\n\r\nI saw this when I ran a request against my Controller using Postman.\r\n\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2019-04-05T09:52:39.839+0000&quot;,\r\n  &quot;status&quot;: 500,\r\n  &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n  &quot;message&quot;: &quot;Maximum upload size exceeded; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1 bytes.&quot;,\r\n  &quot;path&quot;: &quot;/upload&quot;\r\n}\r\n```\r\n\r\nThe reason I wasn&#39;t seeing that was because I was testing with MockMVC (snippet below). MockMVC doesn&#39;t seem to trigger the exceptions for some reason – maybe because it is not running on a compatible web server. Probably related to https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#spring-mvc-test-vs-end-to-end-integration-tests.\r\n\r\n```java\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.mock.web.MockMultipartFile;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\n\r\nimport java.io.FileInputStream;\r\n\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = DemoApplication.class)\r\n@AutoConfigureMockMvc\r\npublic class FileUploadTest {\r\n\r\n  @Autowired\r\n  private MockMvc mockMvc;\r\n\r\n  @Test\r\n  public void givenAFileThatExceedsTheLimit_whenUploaded_responseWith400Error() throws Exception {\r\n\r\n    MockMultipartFile file =\r\n        new MockMultipartFile(&quot;file&quot;, new FileInputStream(TestUtils.loadLargeFile()));\r\n\r\n    this.mockMvc\r\n        .perform(MockMvcRequestBuilders.multipart(&quot;/upload&quot;).file(file)\r\n            .contentType(MediaType.MULTIPART_FORM_DATA_VALUE))\r\n        .andExpect(status().isBadRequest());\r\n  }\r\n\r\n}\r\n```","title":"Spring MultipartFile parameter not respecting configured maxFileSize","body":"<p>So it turns out that the limits do work, and do automatically throw Exceptions. </p>\n\n<p>I saw this when I ran a request against my Controller using Postman.</p>\n\n<pre><code>{\n  \"timestamp\": \"2019-04-05T09:52:39.839+0000\",\n  \"status\": 500,\n  \"error\": \"Internal Server Error\",\n  \"message\": \"Maximum upload size exceeded; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1 bytes.\",\n  \"path\": \"/upload\"\n}\n</code></pre>\n\n<p>The reason I wasn't seeing that was because I was testing with MockMVC (snippet below). MockMVC doesn't seem to trigger the exceptions for some reason – maybe because it is not running on a compatible web server. Probably related to <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#spring-mvc-test-vs-end-to-end-integration-tests\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#spring-mvc-test-vs-end-to-end-integration-tests</a>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.mock.web.MockMultipartFile;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\n\nimport java.io.FileInputStream;\n\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = DemoApplication.class)\n@AutoConfigureMockMvc\npublic class FileUploadTest {\n\n  @Autowired\n  private MockMvc mockMvc;\n\n  @Test\n  public void givenAFileThatExceedsTheLimit_whenUploaded_responseWith400Error() throws Exception {\n\n    MockMultipartFile file =\n        new MockMultipartFile(\"file\", new FileInputStream(TestUtils.loadLargeFile()));\n\n    this.mockMvc\n        .perform(MockMvcRequestBuilders.multipart(\"/upload\").file(file)\n            .contentType(MediaType.MULTIPART_FORM_DATA_VALUE))\n        .andExpect(status().isBadRequest());\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1034367,"reputation":479,"user_id":1042050,"accept_rate":80,"display_name":"Bruno 82"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668003280,"creation_date":1668003280,"answer_id":74376304,"question_id":55514396,"body_markdown":"As commented by Andrew E, MockMvc won&#39;t replicate the max file size that you set with the properties `spring.servlet.multipart.max-file-size` and `spring.servlet.multipart.max-request-size`.\r\n\r\nI managed to test the file size limite like this (adapted from here https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.with-running-server)\r\n\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    class RunningServerTest {\r\n\r\n      // my upload endpint requires authentication, so I need to mock the Oauth2 authorization server response\r\n      @MockBean private JwtDecoder jwtDecoder;\r\n\r\n      @Test\r\n      void shouldNotUploadMultipartFileGreaterThanMaxAllowedSize(@Autowired WebTestClient webClient) {\r\n        // GIVEN\r\n        Jwt jwt =\r\n            Jwt.withTokenValue(&quot;some-bearer-token&quot;)\r\n                .header(&quot;key&quot;, &quot;value&quot;)\r\n                .claim(&quot;email&quot;, &quot;user_email@example.com&quot;)\r\n                .build();\r\n        when(jwtDecoder.decode(&quot;some-bearer-token&quot;)).thenReturn(jwt);\r\n        ClassPathResource res = new ClassPathResource(&quot;file-bigger-than-max-size.txt&quot;);\r\n\r\n        // WHEN + THEN\r\n        webClient\r\n            .post()\r\n            .uri(&quot;/upload&quot;)\r\n            .header(&quot;Authorization&quot;, &quot;Bearer some-bearer-token&quot;)\r\n            .header(&quot;Content-Type&quot;, MediaType.MULTIPART_FORM_DATA_VALUE)\r\n            .body(BodyInserters.fromResource(res))\r\n            .exchange()\r\n            .expectStatus()\r\n            // you might need to define a custom exception handler \r\n            // to map org.apache.tomcat.util.http.fileupload.impl.SizeLimitExceededException \r\n            // to a 400 http error\r\n            .isEqualTo(HttpStatus.BAD_REQUEST);\r\n      }\r\n    }\r\n","title":"Spring MultipartFile parameter not respecting configured maxFileSize","body":"<p>As commented by Andrew E, MockMvc won't replicate the max file size that you set with the properties <code>spring.servlet.multipart.max-file-size</code> and <code>spring.servlet.multipart.max-request-size</code>.</p>\n<p>I managed to test the file size limite like this (adapted from here <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.with-running-server\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.with-running-server</a>)</p>\n<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\nclass RunningServerTest {\n\n  // my upload endpint requires authentication, so I need to mock the Oauth2 authorization server response\n  @MockBean private JwtDecoder jwtDecoder;\n\n  @Test\n  void shouldNotUploadMultipartFileGreaterThanMaxAllowedSize(@Autowired WebTestClient webClient) {\n    // GIVEN\n    Jwt jwt =\n        Jwt.withTokenValue(&quot;some-bearer-token&quot;)\n            .header(&quot;key&quot;, &quot;value&quot;)\n            .claim(&quot;email&quot;, &quot;user_email@example.com&quot;)\n            .build();\n    when(jwtDecoder.decode(&quot;some-bearer-token&quot;)).thenReturn(jwt);\n    ClassPathResource res = new ClassPathResource(&quot;file-bigger-than-max-size.txt&quot;);\n\n    // WHEN + THEN\n    webClient\n        .post()\n        .uri(&quot;/upload&quot;)\n        .header(&quot;Authorization&quot;, &quot;Bearer some-bearer-token&quot;)\n        .header(&quot;Content-Type&quot;, MediaType.MULTIPART_FORM_DATA_VALUE)\n        .body(BodyInserters.fromResource(res))\n        .exchange()\n        .expectStatus()\n        // you might need to define a custom exception handler \n        // to map org.apache.tomcat.util.http.fileupload.impl.SizeLimitExceededException \n        // to a 400 http error\n        .isEqualTo(HttpStatus.BAD_REQUEST);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7435046,"reputation":81,"user_id":5654793,"display_name":"Andrew E"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1335,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1668003280,"creation_date":1554376015,"question_id":55514396,"body_markdown":"I have a file upload Controller. I&#39;m trying to make the max file size configurable, but I&#39;m not able to figure out why the configuration as documented (https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-multipart-file-upload-configuration) is not being applied.\r\n\r\n```gradle\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.1.4.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\n```\r\n\r\n```java\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport javax.servlet.MultipartConfigElement;\r\nimport java.io.BufferedInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\n@Controller\r\npublic class FileUploadController {\r\n\r\n  private MultipartConfigElement multipartConfigElement;\r\n\r\n  @Autowired\r\n  public FileUploadController(MultipartConfigElement multipartConfigElement) {\r\n    this.multipartConfigElement = multipartConfigElement;\r\n  }\r\n\r\n  @PostMapping(&quot;/upload&quot;)\r\n  public void upload(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n    InputStream inputStream = new BufferedInputStream(file.getInputStream());\r\n    // TODO something with inputStream\r\n\r\n    long fileSize = file.getSize();\r\n    boolean fileSizeLimitExceeded = fileSize &gt; multipartConfigElement.getMaxFileSize();\r\n    return;\r\n  }\r\n}\r\n\r\n\r\n```\r\n[Debug screenshot][1]\r\n\r\nI expect the multipartConfigElement.getMaxFileSize() should prevent larger files getting this far and automatically return a 400 or some other type of exception.\r\n\r\nBut instead the maxFileSize seems to be completely ignored.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1looJ.png","title":"Spring MultipartFile parameter not respecting configured maxFileSize","body":"<p>I have a file upload Controller. I'm trying to make the max file size configurable, but I'm not able to figure out why the configuration as documented (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-multipart-file-upload-configuration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-multipart-file-upload-configuration</a>) is not being applied.</p>\n\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.1.4.RELEASE'\n    id 'java'\n}\n\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport javax.servlet.MultipartConfigElement;\nimport java.io.BufferedInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n@Controller\npublic class FileUploadController {\n\n  private MultipartConfigElement multipartConfigElement;\n\n  @Autowired\n  public FileUploadController(MultipartConfigElement multipartConfigElement) {\n    this.multipartConfigElement = multipartConfigElement;\n  }\n\n  @PostMapping(\"/upload\")\n  public void upload(@RequestParam(\"file\") MultipartFile file) throws IOException {\n    InputStream inputStream = new BufferedInputStream(file.getInputStream());\n    // TODO something with inputStream\n\n    long fileSize = file.getSize();\n    boolean fileSizeLimitExceeded = fileSize &gt; multipartConfigElement.getMaxFileSize();\n    return;\n  }\n}\n\n\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1looJ.png\" rel=\"nofollow noreferrer\">Debug screenshot</a></p>\n\n<p>I expect the multipartConfigElement.getMaxFileSize() should prevent larger files getting this far and automatically return a 400 or some other type of exception.</p>\n\n<p>But instead the maxFileSize seems to be completely ignored.</p>\n"},{"tags":["java","docker","apache-spark","bitnami"],"owner":{"account_id":7860912,"reputation":400,"user_id":5941365,"display_name":"adesai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668003076,"creation_date":1668003076,"question_id":74376255,"body_markdown":"I am trying to upgrade Java and Scala versions on Bitnami Spark image by updating the Dockerfile:\r\nhttps://github.com/bitnami/bitnami-docker-spark/blob/master/3.3/debian-11/Dockerfile\r\n\r\nGoing through the rest of the code it looks like it uses below repository URL to download the installation tar files:\r\nhttps://downloads.bitnami.com/files/stacksmith\r\n\r\nI need to find the correct package name with Java 17 and Spark 3.3.0 with Scala 2.13.\r\nHow can I view the available packages? Above URL redirect it back to bitnami.com!","title":"What are the available packages on Bitnami&#39;s stacksmith repository?","body":"<p>I am trying to upgrade Java and Scala versions on Bitnami Spark image by updating the Dockerfile:\n<a href=\"https://github.com/bitnami/bitnami-docker-spark/blob/master/3.3/debian-11/Dockerfile\" rel=\"nofollow noreferrer\">https://github.com/bitnami/bitnami-docker-spark/blob/master/3.3/debian-11/Dockerfile</a></p>\n<p>Going through the rest of the code it looks like it uses below repository URL to download the installation tar files:\n<a href=\"https://downloads.bitnami.com/files/stacksmith\" rel=\"nofollow noreferrer\">https://downloads.bitnami.com/files/stacksmith</a></p>\n<p>I need to find the correct package name with Java 17 and Spark 3.3.0 with Scala 2.13.\nHow can I view the available packages? Above URL redirect it back to bitnami.com!</p>\n"},{"tags":["java","log4j","slf4j"],"answers":[{"tags":[],"owner":{"account_id":929022,"reputation":2540,"user_id":959251,"accept_rate":75,"display_name":"Filipe Fedalto"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1428613876,"creation_date":1362569815,"answer_id":15246337,"question_id":15246157,"body_markdown":"You should also include `log4j` library as `slf4j-log4j` is just a static binder.","title":"How to fix exception: Failed to instantiate SLF4J LoggerFactory?","body":"<p>You should also include <code>log4j</code> library as <code>slf4j-log4j</code> is just a static binder.</p>\n"},{"tags":[],"owner":{"account_id":3708844,"reputation":91,"user_id":3221492,"display_name":"prodigy4440"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1428613892,"creation_date":1390349977,"answer_id":21271817,"question_id":15246157,"body_markdown":"You should include `slf4j-api-x.x.x.jar` and `slf4j-simple-x.x.x.jar` in your classpath.","title":"How to fix exception: Failed to instantiate SLF4J LoggerFactory?","body":"<p>You should include <code>slf4j-api-x.x.x.jar</code> and <code>slf4j-simple-x.x.x.jar</code> in your classpath.</p>\n"},{"tags":[],"owner":{"account_id":22370,"reputation":158113,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428615456,"creation_date":1428614682,"answer_id":29549322,"question_id":15246157,"body_markdown":"As error suggested:\r\n\r\n&gt; Failed to instantiate [SLF4J][1] [LoggerFactory][2]\r\n\r\nyou need to place your corresponding `slf4j-*-*.jar` binding files into your [classpath][3] folder.\r\n\r\nYou can locate them by `locate slf4j` if present.\r\n\r\n&gt; As of SLF4J version 1.6.0, if no binding is found on the class path, then slf4j-api will default to a no-operation implementation discarding all log requests.\r\n\r\n### Tomcat\r\n\r\nIf using Tomcat, these files you can copy either into `/usr/share/tomcat7/lib` or your webapp folder `/var/lib/tomcat7/webapps/*/WEB-INF/lib`.\r\n\r\n### Solr\r\n\r\nIf you&#39;re using Solr or you want use the files from there (which are included by default), you can find them in `dist/solrj-lib` and `example/lib/ext`.\r\n\r\n\r\n----------\r\n\r\nSee: [The Simple Logging Facade for Java (SLF4J) user manual][4]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/SLF4J\r\n  [2]: http://www.slf4j.org/api/org/slf4j/LoggerFactory.html\r\n  [3]: http://en.wikipedia.org/wiki/Classpath_%28Java%29\r\n  [4]: http://www.slf4j.org/manual.html","title":"How to fix exception: Failed to instantiate SLF4J LoggerFactory?","body":"<p>As error suggested:</p>\n\n<blockquote>\n  <p>Failed to instantiate <a href=\"http://en.wikipedia.org/wiki/SLF4J\" rel=\"nofollow\">SLF4J</a> <a href=\"http://www.slf4j.org/api/org/slf4j/LoggerFactory.html\" rel=\"nofollow\">LoggerFactory</a></p>\n</blockquote>\n\n<p>you need to place your corresponding <code>slf4j-*-*.jar</code> binding files into your <a href=\"http://en.wikipedia.org/wiki/Classpath_%28Java%29\" rel=\"nofollow\">classpath</a> folder.</p>\n\n<p>You can locate them by <code>locate slf4j</code> if present.</p>\n\n<blockquote>\n  <p>As of SLF4J version 1.6.0, if no binding is found on the class path, then slf4j-api will default to a no-operation implementation discarding all log requests.</p>\n</blockquote>\n\n<h3>Tomcat</h3>\n\n<p>If using Tomcat, these files you can copy either into <code>/usr/share/tomcat7/lib</code> or your webapp folder <code>/var/lib/tomcat7/webapps/*/WEB-INF/lib</code>.</p>\n\n<h3>Solr</h3>\n\n<p>If you're using Solr or you want use the files from there (which are included by default), you can find them in <code>dist/solrj-lib</code> and <code>example/lib/ext</code>.</p>\n\n<hr>\n\n<p>See: <a href=\"http://www.slf4j.org/manual.html\" rel=\"nofollow\">The Simple Logging Facade for Java (SLF4J) user manual</a></p>\n"},{"tags":[],"owner":{"account_id":3886705,"reputation":39,"user_id":3217881,"accept_rate":14,"display_name":"nikhil bangar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450211432,"creation_date":1450211432,"answer_id":34298829,"question_id":15246157,"body_markdown":"I tried all permutation and combination but finally **slf4j-api-*** and **slf4j-simple-*** worked well.","title":"How to fix exception: Failed to instantiate SLF4J LoggerFactory?","body":"<p>I tried all permutation and combination but finally <strong>slf4j-api-<em></strong> and <strong>slf4j-simple-</em></strong> worked well.</p>\n"}],"owner":{"account_id":427988,"reputation":1525,"user_id":810031,"accept_rate":21,"display_name":"Prannoy Mittal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58882,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":15246337,"answer_count":4,"score":6,"last_activity_date":1668002925,"creation_date":1362569311,"question_id":15246157,"body_markdown":"I am trying to write a java web crawler for semantic web using jena library. I have build project using Netbeans. I am receiving two errors:\r\n\r\n1. Failed to instantiate SLF4J LoggerFactory\r\nReported exception:\r\njava.lang.NoClassDefFoundError: org/apache/log4j/Level\r\n\r\n2. Could not initialize class com.hp.hpl.jena.rdf.model.impl.ModelCom\r\n\tat org.slf4j.LoggerFactory.bind(LoggerFactory.java:128)\r\n\r\nI have included `slf4j-api` and `slf4j-log` both libraries.","title":"How to fix exception: Failed to instantiate SLF4J LoggerFactory?","body":"<p>I am trying to write a java web crawler for semantic web using jena library. I have build project using Netbeans. I am receiving two errors:</p>\n\n<ol>\n<li><p>Failed to instantiate SLF4J LoggerFactory\nReported exception:\njava.lang.NoClassDefFoundError: org/apache/log4j/Level</p></li>\n<li><p>Could not initialize class com.hp.hpl.jena.rdf.model.impl.ModelCom\nat org.slf4j.LoggerFactory.bind(LoggerFactory.java:128)</p></li>\n</ol>\n\n<p>I have included <code>slf4j-api</code> and <code>slf4j-log</code> both libraries.</p>\n"},{"tags":["java","arrays","sorting"],"answers":[{"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667546144,"creation_date":1667545732,"answer_id":74313338,"question_id":74313246,"body_markdown":"Simple mistake: Remove the `;` after the if-statement. \r\n\r\nThe semicolon after if means there is nothing to do if the if case is true.\r\n\r\nThe part in the curly brackets to swap the elements will then always be executed. That is because you can add curly brackets at any point in your code to structure it. It&#39;s not effected by the if because that statement was already ended by the semicolon. \r\n\r\nTo further explain it, you can write a perfectly fine if without any curly brackets. That means only the first following row is supposed to be included in the if statement:\r\n\r\n    if (condition)\r\n        do()\r\n    doA()\r\n\r\nIn this code do is only executed if the condition is true, doAlways() on the other hand is always executed.\r\n\r\nNow if you change it like this:\r\n\r\n    if (condition)\r\n        do()\r\n    {\r\n        doAlways()\r\n    {\r\n\r\nit still does exactly the same. The curly brackets don&#39;t change anything because the do not directly follow the if statement. So only the first row after is included and get&#39;s conditionally executed. doAlways() always get&#39;s executed again.\r\n\r\nNow to change it like you had:\r\n\r\n    if (condition)\r\n        ; &lt;-- this is an empty statement\r\n    {\r\n        doAlways()\r\n    {\r\n\r\nagain only the first row after the if is affected by it. This time it&#39;s an empty statement. So basically the condition decides if you should do nothing or execute the empty statement and .. do nothing. doAlways() still get&#39;s executed regardless of the condition.","title":"I wanted to sort the elements in my array but this doesn&#39;t work it always prints the same array in the same order?","body":"<p>Simple mistake: Remove the <code>;</code> after the if-statement.</p>\n<p>The semicolon after if means there is nothing to do if the if case is true.</p>\n<p>The part in the curly brackets to swap the elements will then always be executed. That is because you can add curly brackets at any point in your code to structure it. It's not effected by the if because that statement was already ended by the semicolon.</p>\n<p>To further explain it, you can write a perfectly fine if without any curly brackets. That means only the first following row is supposed to be included in the if statement:</p>\n<pre><code>if (condition)\n    do()\ndoA()\n</code></pre>\n<p>In this code do is only executed if the condition is true, doAlways() on the other hand is always executed.</p>\n<p>Now if you change it like this:</p>\n<pre><code>if (condition)\n    do()\n{\n    doAlways()\n{\n</code></pre>\n<p>it still does exactly the same. The curly brackets don't change anything because the do not directly follow the if statement. So only the first row after is included and get's conditionally executed. doAlways() always get's executed again.</p>\n<p>Now to change it like you had:</p>\n<pre><code>if (condition)\n    ; &lt;-- this is an empty statement\n{\n    doAlways()\n{\n</code></pre>\n<p>again only the first row after the if is affected by it. This time it's an empty statement. So basically the condition decides if you should do nothing or execute the empty statement and .. do nothing. doAlways() still get's executed regardless of the condition.</p>\n"},{"tags":[],"owner":{"account_id":20470885,"reputation":15,"user_id":15021356,"display_name":"mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668002485,"creation_date":1667547634,"answer_id":74313633,"question_id":74313246,"body_markdown":"the outer loop must stop in the element that comes before the last one in the array  (length-1) so that the algorithme compares it with the last element (j=i+1), then you should put `(int i=0; i &lt; nameArray.length-1; i++) `  instead of `(int i=0; i &lt; nameArray.length; i++)`","title":"I wanted to sort the elements in my array but this doesn&#39;t work it always prints the same array in the same order?","body":"<p>the outer loop must stop in the element that comes before the last one in the array  (length-1) so that the algorithme compares it with the last element (j=i+1), then you should put <code>(int i=0; i &lt; nameArray.length-1; i++) </code>  instead of <code>(int i=0; i &lt; nameArray.length; i++)</code></p>\n"}],"owner":{"account_id":26826264,"reputation":1,"user_id":20414861,"display_name":"Newbie Coder "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1668002485,"creation_date":1667545162,"question_id":74313246,"body_markdown":"I tried changing the i and j variables but it doesn&#39;t seem to work.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n   \r\n    double[] nameArray = {20.0,30.2,25.2,75.23,20.0,2.0,25.22};\r\n    double tempElement;\r\n    \r\n    for (int i=0; i &lt; nameArray.length; i++)    \r\n    {\r\n        // This inner loop selects and compares each remaining values to the selected element by the outer for loop.\r\n        for (int j=i+1; j &lt; nameArray.length; j++)\r\n        {\r\n            // This if loop compares the elements.\r\n            if (nameArray[i] &gt; nameArray[j]);\r\n            {\r\n                // This if loop will only run if the next array element is smaller than\r\n                // the previous array element being compared.\r\n                \r\n                // This tempElement is used for proper assigning of the variables.\r\n                tempElement = nameArray[i];\r\n                nameArray[i] = nameArray[j];\r\n                nameArray[j] = tempElement;    \r\n            }\r\n   \r\n        }\r\n    }\r\n    \r\n    // This for loop assigns the sorted elements in the descending order to the other array.\r\n    for (int i = 0; i&lt;nameArray.length; i++)\r\n    {\r\n       \r\n        System.out.println(nameArray[i]);\r\n            \r\n    }\r\n}\r\n```","title":"I wanted to sort the elements in my array but this doesn&#39;t work it always prints the same array in the same order?","body":"<p>I tried changing the i and j variables but it doesn't seem to work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n   \n    double[] nameArray = {20.0,30.2,25.2,75.23,20.0,2.0,25.22};\n    double tempElement;\n    \n    for (int i=0; i &lt; nameArray.length; i++)    \n    {\n        // This inner loop selects and compares each remaining values to the selected element by the outer for loop.\n        for (int j=i+1; j &lt; nameArray.length; j++)\n        {\n            // This if loop compares the elements.\n            if (nameArray[i] &gt; nameArray[j]);\n            {\n                // This if loop will only run if the next array element is smaller than\n                // the previous array element being compared.\n                \n                // This tempElement is used for proper assigning of the variables.\n                tempElement = nameArray[i];\n                nameArray[i] = nameArray[j];\n                nameArray[j] = tempElement;    \n            }\n   \n        }\n    }\n    \n    // This for loop assigns the sorted elements in the descending order to the other array.\n    for (int i = 0; i&lt;nameArray.length; i++)\n    {\n       \n        System.out.println(nameArray[i]);\n            \n    }\n}\n</code></pre>\n"},{"tags":["java","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":4189620,"reputation":1266,"user_id":3432525,"accept_rate":75,"display_name":"kwisatz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668002469,"creation_date":1667983522,"answer_id":74372051,"question_id":73932643,"body_markdown":"The solution was to turn the BeanPropertySqlParameterSource into a MapSqlParameterSource to be able to add new param\r\n\r\n```java\r\n      Request  request = getRequest();\r\n      BeanPropertySqlParameterSource beanParams = new BeanPropertySqlParameterSource(request);\r\n      MapSqlParameterSource params = new MapSqlParameterSource();\r\n      for (String paramName : beanParams.getReadablePropertyNames()) {\r\n        Object value = beanParams.getValue(paramName);\r\n        params.addValue(paramName, value);\r\n      }\r\n      StringBuilder query = new StringBuilder();\r\n      query.append(&quot;SELECT * FROM TABLE&quot;);\r\n      List&lt;String&gt; clauses = new ArrayList&lt;&gt;();\r\n      List&lt;Entity&gt; entities = request.getEntities();\r\n      if (CollectionUtils.isNotEmpty(entities)) {\r\n        List&lt;String&gt; entityClauses = new ArrayList&lt;&gt;();\r\n        Map&lt;String, List&lt;Entity&gt;&gt; entityByType = entities.stream().collect(Collectors.groupingBy(Entity::getType));\r\n        for(Map.Entry&lt;String, List&lt;Entity&gt;&gt; entry: entityByType.entrySet()) {\r\n          String type = entry.getKey();\r\n          List&lt;String&gt; ids = entry.getValue();\r\n          String paramNameType = &quot;Entity&quot; + type + &quot;_type&quot;;\r\n          String paramNameIds = &quot;Entity&quot; + type + &quot;_ids&quot;;\r\n          entityClauses.add(&quot;(ENTITY_TYPE = :&quot; + paramNameType + &quot; AND ENTITY_ID IN (:&quot; + paramNameIds + &quot;))&quot;);\r\n          params.addValue(paramNameType, type);\r\n          params.addValue(paramNameIds, ids);    \r\n        }\r\n        clauses.add(entityClauses.stream().collect(Collectors.joining(&quot; OR &quot;, &quot;(&quot;, &quot;)&quot;)));\r\n      }\r\n      // Others clauses...\r\n      if (!clauses.isEmpty()) {\r\n        query.append(clauses.stream().collect(Collectors.joining(&quot; AND &quot;, &quot; WHERE &quot;, &quot;&quot;)));\r\n      }\r\n      return getNamedParameterJdbcTemplate().query(query.toString(), params, getRowMapper());\r\n```","title":"Accessing map values in a NamedParameterJdbcTemplate","body":"<p>The solution was to turn the BeanPropertySqlParameterSource into a MapSqlParameterSource to be able to add new param</p>\n<pre class=\"lang-java prettyprint-override\"><code>      Request  request = getRequest();\n      BeanPropertySqlParameterSource beanParams = new BeanPropertySqlParameterSource(request);\n      MapSqlParameterSource params = new MapSqlParameterSource();\n      for (String paramName : beanParams.getReadablePropertyNames()) {\n        Object value = beanParams.getValue(paramName);\n        params.addValue(paramName, value);\n      }\n      StringBuilder query = new StringBuilder();\n      query.append(&quot;SELECT * FROM TABLE&quot;);\n      List&lt;String&gt; clauses = new ArrayList&lt;&gt;();\n      List&lt;Entity&gt; entities = request.getEntities();\n      if (CollectionUtils.isNotEmpty(entities)) {\n        List&lt;String&gt; entityClauses = new ArrayList&lt;&gt;();\n        Map&lt;String, List&lt;Entity&gt;&gt; entityByType = entities.stream().collect(Collectors.groupingBy(Entity::getType));\n        for(Map.Entry&lt;String, List&lt;Entity&gt;&gt; entry: entityByType.entrySet()) {\n          String type = entry.getKey();\n          List&lt;String&gt; ids = entry.getValue();\n          String paramNameType = &quot;Entity&quot; + type + &quot;_type&quot;;\n          String paramNameIds = &quot;Entity&quot; + type + &quot;_ids&quot;;\n          entityClauses.add(&quot;(ENTITY_TYPE = :&quot; + paramNameType + &quot; AND ENTITY_ID IN (:&quot; + paramNameIds + &quot;))&quot;);\n          params.addValue(paramNameType, type);\n          params.addValue(paramNameIds, ids);    \n        }\n        clauses.add(entityClauses.stream().collect(Collectors.joining(&quot; OR &quot;, &quot;(&quot;, &quot;)&quot;)));\n      }\n      // Others clauses...\n      if (!clauses.isEmpty()) {\n        query.append(clauses.stream().collect(Collectors.joining(&quot; AND &quot;, &quot; WHERE &quot;, &quot;&quot;)));\n      }\n      return getNamedParameterJdbcTemplate().query(query.toString(), params, getRowMapper());\n</code></pre>\n"}],"owner":{"account_id":4189620,"reputation":1266,"user_id":3432525,"accept_rate":75,"display_name":"kwisatz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74372051,"answer_count":1,"score":0,"last_activity_date":1668002469,"creation_date":1664784434,"question_id":73932643,"body_markdown":"I have a table with an *entity_type* and *entity_id* *VARCHAR* columns.\r\nI want to get all rows that match a list of *entity_type* and *entity_id*. I successfully manage to do that: \r\n\r\n```sql\r\nWHERE (entity_type = &#39;type1&#39; AND entity_id = &#39;id1&#39;) OR (entity_type = &#39;type1&#39; AND entity_id = &#39;id2&#39;) OR (entity_type = &#39;type2&#39; AND entity_id = &#39;id3&#39;)\r\n```\r\n\r\nWith this solution:\r\n\r\n```java\r\npublic class Entity {\r\n  private String type;\r\n  private String id;\r\n  // Getters setters\r\n}\r\n\r\npublic class Request {\r\n  private List&lt;Entity&gt; entities = new ArrayList&lt;&gt;();\r\n  // Other ctriteria\r\n  // getters setters\r\n}\r\n\r\n  Request  request = getRequest();\r\n  SqlParameterSource params = new BeanPropertySqlParameterSource(request);\r\n  StringBuilder query = new StringBuilder();\r\n  query.append(&quot;SELECT * FROM TABLE&quot;);\r\n  List&lt;String&gt; clauses = new ArrayList&lt;&gt;();\r\n  List&lt;Entity&gt; entities = request.getEntities();\r\n  if (CollectionUtils.isNotEmpty(entities)) {\r\n    List&lt;String&gt; entityClauses = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; entities.size(); i++) {\r\n      String entity = String.format(&quot;:entities[%s]&quot;, i);\r\n      entityClauses.add(&quot;(ENTITY_ID = &quot; + entity + &quot;.identifier AND ENTITY_TYPE = &quot; + entity + &quot;.type)&quot;);\r\n    }\r\n    clauses.add(entityClauses.stream().collect(Collectors.joining(&quot; OR &quot;, &quot;(&quot;, &quot;)&quot;)));\r\n  }\r\n  // Others clauses...\r\n  if (!clauses.isEmpty()) {\r\n    query.append(clauses.stream().collect(Collectors.joining(&quot; AND &quot;, &quot; WHERE &quot;, &quot;&quot;)));\r\n  }\r\n  return getNamedParameterJdbcTemplate().query(query.toString(), params, getRowMapper());\r\n```\r\n\r\nI would like to group by types like that:\r\n```sql\r\nWHERE  (entity_type = &#39;type1&#39; AND entity_id  IN(&#39;id1&#39;, &#39;id2&#39;)) OR (entity_type = &#39;type2&#39; AND entity_id IN(&#39;id3&#39;))\r\n```\r\nWith a `Map&lt;String, Set&lt;String&gt;&gt;` instead of a `List&lt;Entity&gt;`\r\n\r\n```java\r\npublic class Request {\r\n  private Map&lt;String,Set&lt;String&gt;&gt; entities = new HashMap&lt;&gt;();\r\n  // Other ctriteria\r\n  // getters setters\r\n}\r\n``` \r\n\r\nHowever, then I don&#39;t know how to access the map values in the request.\r\n\r\nHow do I write the Spring JDBC request to achieve that? Is it even possible?","title":"Accessing map values in a NamedParameterJdbcTemplate","body":"<p>I have a table with an <em>entity_type</em> and <em>entity_id</em> <em>VARCHAR</em> columns.\nI want to get all rows that match a list of <em>entity_type</em> and <em>entity_id</em>. I successfully manage to do that:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>WHERE (entity_type = 'type1' AND entity_id = 'id1') OR (entity_type = 'type1' AND entity_id = 'id2') OR (entity_type = 'type2' AND entity_id = 'id3')\n</code></pre>\n<p>With this solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Entity {\n  private String type;\n  private String id;\n  // Getters setters\n}\n\npublic class Request {\n  private List&lt;Entity&gt; entities = new ArrayList&lt;&gt;();\n  // Other ctriteria\n  // getters setters\n}\n\n  Request  request = getRequest();\n  SqlParameterSource params = new BeanPropertySqlParameterSource(request);\n  StringBuilder query = new StringBuilder();\n  query.append(&quot;SELECT * FROM TABLE&quot;);\n  List&lt;String&gt; clauses = new ArrayList&lt;&gt;();\n  List&lt;Entity&gt; entities = request.getEntities();\n  if (CollectionUtils.isNotEmpty(entities)) {\n    List&lt;String&gt; entityClauses = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; entities.size(); i++) {\n      String entity = String.format(&quot;:entities[%s]&quot;, i);\n      entityClauses.add(&quot;(ENTITY_ID = &quot; + entity + &quot;.identifier AND ENTITY_TYPE = &quot; + entity + &quot;.type)&quot;);\n    }\n    clauses.add(entityClauses.stream().collect(Collectors.joining(&quot; OR &quot;, &quot;(&quot;, &quot;)&quot;)));\n  }\n  // Others clauses...\n  if (!clauses.isEmpty()) {\n    query.append(clauses.stream().collect(Collectors.joining(&quot; AND &quot;, &quot; WHERE &quot;, &quot;&quot;)));\n  }\n  return getNamedParameterJdbcTemplate().query(query.toString(), params, getRowMapper());\n</code></pre>\n<p>I would like to group by types like that:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>WHERE  (entity_type = 'type1' AND entity_id  IN('id1', 'id2')) OR (entity_type = 'type2' AND entity_id IN('id3'))\n</code></pre>\n<p>With a <code>Map&lt;String, Set&lt;String&gt;&gt;</code> instead of a <code>List&lt;Entity&gt;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Request {\n  private Map&lt;String,Set&lt;String&gt;&gt; entities = new HashMap&lt;&gt;();\n  // Other ctriteria\n  // getters setters\n}\n</code></pre>\n<p>However, then I don't know how to access the map values in the request.</p>\n<p>How do I write the Spring JDBC request to achieve that? Is it even possible?</p>\n"},{"tags":["javascript","java","cryptography","sha","webcrypto"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668002391,"creation_date":1668000702,"answer_id":74375674,"question_id":74368718,"body_markdown":"The JavaScript code you posted needs to be modified as follows to derive the same hexadecimal encoded key as the Java code:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function deriveAKey(password, salt, iterations, hash) {\r\n        // Import password\r\n        window.crypto.subtle.importKey(\r\n            &quot;raw&quot;,\r\n            new TextEncoder().encode(password),\r\n            {name: &quot;PBKDF2&quot;},\r\n            false,\r\n            [&quot;deriveKey&quot;])\r\n        .then(function(baseKey){\r\n            // Derive key from password\r\n            window.crypto.subtle.deriveKey(\r\n                {name: &quot;PBKDF2&quot;, salt: hex2ab(salt), iterations: iterations, hash: hash},\r\n                baseKey,\r\n                {name:&quot;HMAC&quot;, hash: hash, length: 256}, \r\n                true,                               \r\n                [&quot;sign&quot;, &quot;verify&quot;])\r\n            .then(function(aesKey) {\r\n                // Export key\r\n                window.crypto.subtle.exportKey(&quot;raw&quot;, aesKey)\r\n                .then(function(keyBytes) {\r\n                    // Display key \r\n                    console.log(ab2hex(keyBytes).toUpperCase());\r\n                });\r\n            }).catch(function(err) {\r\n                alert(&quot;Key export failed: &quot; + err.message);\r\n            });   \r\n        }).catch(function(err) {\r\n            alert(&quot;Key derivation failed: &quot; + err.message);\r\n        });\r\n    }\r\n\r\n    const hex2ab = hex =&gt; new Uint8Array(hex.match(/[\\da-f]{2}/gi).map((x) =&gt; parseInt(x, 16)));    \r\n    const ab2hex = ab =&gt; Array.prototype.map.call(new Uint8Array(ab), x =&gt; (&#39;00&#39; + x.toString(16)).slice(-2)).join(&#39;&#39;);\r\n\r\n    deriveAKey(&quot;my passphrase&quot;, &quot;01020304abacadae&quot;, 10000, &quot;SHA-1&quot;);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n----------\r\n\r\nTest:  \r\nIf the passphrase `my passphrase` and the hex encoded salt `01020304abacadae` from the JavaScript code are used in the Java code,  `85CE92FBA21475DF45CB742576A3356A9E2B0011AC084611814E4E282880245E` is derived as hex encoded key and the Java code returns `true` for: \r\n\r\n```java\r\nnew SecurityPasswordEncoder().matches(&quot;my passphrase&quot;, &quot;85CE92FBA21475DF45CB742576A3356A9E2B0011AC084611814E4E282880245E&quot;, &quot;01020304abacadae&quot;)\r\n```\r\n\r\n---------\r\n\r\nNote: If no `CryptoKey` instance is needed, but only the binary data, then `deriveBits()` is more efficient than `deriveKey()`.","title":"Convert Java code to Frontend Javascript code","body":"<p>The JavaScript code you posted needs to be modified as follows to derive the same hexadecimal encoded key as the Java code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function deriveAKey(password, salt, iterations, hash) {\n    // Import password\n    window.crypto.subtle.importKey(\n        \"raw\",\n        new TextEncoder().encode(password),\n        {name: \"PBKDF2\"},\n        false,\n        [\"deriveKey\"])\n    .then(function(baseKey){\n        // Derive key from password\n        window.crypto.subtle.deriveKey(\n            {name: \"PBKDF2\", salt: hex2ab(salt), iterations: iterations, hash: hash},\n            baseKey,\n            {name:\"HMAC\", hash: hash, length: 256}, \n            true,                               \n            [\"sign\", \"verify\"])\n        .then(function(aesKey) {\n            // Export key\n            window.crypto.subtle.exportKey(\"raw\", aesKey)\n            .then(function(keyBytes) {\n                // Display key \n                console.log(ab2hex(keyBytes).toUpperCase());\n            });\n        }).catch(function(err) {\n            alert(\"Key export failed: \" + err.message);\n        });   \n    }).catch(function(err) {\n        alert(\"Key derivation failed: \" + err.message);\n    });\n}\n\nconst hex2ab = hex =&gt; new Uint8Array(hex.match(/[\\da-f]{2}/gi).map((x) =&gt; parseInt(x, 16)));    \nconst ab2hex = ab =&gt; Array.prototype.map.call(new Uint8Array(ab), x =&gt; ('00' + x.toString(16)).slice(-2)).join('');\n\nderiveAKey(\"my passphrase\", \"01020304abacadae\", 10000, \"SHA-1\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<hr />\n<p>Test:<br />\nIf the passphrase <code>my passphrase</code> and the hex encoded salt <code>01020304abacadae</code> from the JavaScript code are used in the Java code,  <code>85CE92FBA21475DF45CB742576A3356A9E2B0011AC084611814E4E282880245E</code> is derived as hex encoded key and the Java code returns <code>true</code> for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new SecurityPasswordEncoder().matches(&quot;my passphrase&quot;, &quot;85CE92FBA21475DF45CB742576A3356A9E2B0011AC084611814E4E282880245E&quot;, &quot;01020304abacadae&quot;)\n</code></pre>\n<hr />\n<p>Note: If no <code>CryptoKey</code> instance is needed, but only the binary data, then <code>deriveBits()</code> is more efficient than <code>deriveKey()</code>.</p>\n"}],"owner":{"account_id":3689554,"reputation":1642,"user_id":3072490,"accept_rate":100,"display_name":"Chan Yoong Hon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668004022,"accepted_answer_id":74375674,"answer_count":1,"score":0,"last_activity_date":1668002391,"creation_date":1667954364,"question_id":74368718,"body_markdown":"I&#39;m having following java code, but I need to convert into javascript using   `window.crypto.subtle.importKey` But the outcome is seems like different for Java outcome and Javascript outcome. \r\n\r\nThe following is my Java code\r\n\r\n    import java.security.Key;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    \r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.enterprise.inject.Default;\r\n    \r\n    @Default\r\n    public class SecurityPasswordEncoder  {\r\n    \r\n    \tprivate SecretKeyFactory factory;\r\n    \r\n    \tpublic SecurityPasswordEncoder() throws NoSuchAlgorithmException {\r\n    \t\tthis.factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n    \t}\r\n    \r\n    \tpublic String encode(CharSequence rawPassword) {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \r\n    \tpublic boolean matches(CharSequence rawPassword, String encodedPassword) {\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tpublic boolean matches(String rawPassword, String encodedPassword, String salt) throws InvalidKeySpecException {\r\n    \t\tbyte[] osalt = hexStringToByteArray(salt);\r\n    \t\tbyte[] oValidate = new byte[32];\r\n    \t\tString sValidate;\r\n    \r\n    \t\tPBEKeySpec pbeKeySpec = new PBEKeySpec(rawPassword.toCharArray(), osalt, 10000, 384);\r\n    \t\tKey secretKey = this.factory.generateSecret(pbeKeySpec);\r\n    \t\tSystem.arraycopy(secretKey.getEncoded(), 0, oValidate, 0, 32);\r\n    \t\tsValidate = byteArrayToHexString(oValidate);\r\n    \t\treturn (sValidate.equals(encodedPassword));\r\n    \t}\r\n    \r\n    \tprivate byte[] hexStringToByteArray(String s) {\r\n    \r\n    \t\tbyte[] b = new byte[s.length() / 2];\r\n    \t\tfor (int i = 0; i &lt; b.length; i++) {\r\n    \t\t\tint index = i * 2;\r\n    \t\t\tint v = Integer.parseInt(s.substring(index, index + 2), 16);\r\n    \t\t\tb[i] = (byte) v;\r\n    \t\t}\r\n    \t\treturn b;\r\n    \t}\r\n    \r\n    \tprivate String byteArrayToHexString(byte[] bytes) {\r\n    \t\tchar[] hexChars = new char[bytes.length * 2];\r\n    \t\tfor (int j = 0; j &lt; bytes.length; j++) {\r\n    \t\t\tint v = bytes[j] &amp; 0xFF;\r\n    \t\t\thexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\r\n    \t\t\thexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\r\n    \t\t}\r\n    \t\treturn new String(hexChars);\r\n    \t}\r\n    \r\n    \tprivate char[] hexArray = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n    }\r\n\r\nThe following is my javascript code. \r\n\r\n\r\n    function deriveAKey(password, salt, iterations, hash) {\r\n        // First, create a PBKDF2 &quot;key&quot; containing the password\r\n        window.crypto.subtle.importKey(\r\n            &quot;raw&quot;,\r\n            stringToArrayBuffer(password),\r\n            {&quot;name&quot;: &quot;PBKDF2&quot;},\r\n            false,\r\n            [&quot;deriveKey&quot;]).\r\n        then(function(baseKey){\r\n            // Derive a key from the password\r\n            return window.crypto.subtle.deriveKey(\r\n                {\r\n                    &quot;name&quot;: &quot;PBKDF2&quot;,\r\n                    &quot;salt&quot;: stringToArrayBuffer(salt),\r\n                    &quot;iterations&quot;: iterations,\r\n                    &quot;hash&quot;: hash\r\n                },\r\n                baseKey,\r\n                 {name:&quot;HMAC&quot;,&quot;hash&quot;:&quot;SHA-1&quot;}, // Key we want.Can be any AES algorithm (&quot;AES-CTR&quot;, &quot;AES-CBC&quot;, &quot;AES-CMAC&quot;, &quot;AES-GCM&quot;, &quot;AES-CFB&quot;, &quot;AES-KW&quot;, &quot;ECDH&quot;, &quot;DH&quot;, or &quot;HMAC&quot;)\r\n                true,                               // Extractable\r\n                [&quot;sign&quot;, &quot;verify&quot;]              // For new key\r\n                );\r\n        }).then(function(aesKey) {\r\n            // Export it so we can display it\r\n            return window.crypto.subtle.exportKey(&quot;raw&quot;, aesKey);\r\n        }).then(function(keyBytes) {\r\n            // Display key in Base64 format\r\n            var keyS = arrayBufferToString(keyBytes);\r\n            var keyB64 = btoa (keyS);\r\n            console.log(keyB64);\r\n        }).catch(function(err) {\r\n            alert(&quot;Key derivation failed: &quot; + err.message);\r\n        });\r\n    }\r\n    \r\n    //Utility functions\r\n    \r\n    function stringToArrayBuffer(byteString){\r\n        var byteArray = new Uint8Array(byteString.length/2);\r\n        for (let i = 0; i &lt; byteArray.length; i++) {\r\n    \t\tconst index = i * 2;\r\n    \t\tbyteArray[i]  = parseInt(byteString.substring(index, index + 2), 16);\r\n    \t}\r\n        return byteArray;\r\n    }\r\n    \r\n    function  arrayBufferToString(buffer){\r\n        var byteArray = new Uint8Array(buffer.length * 2);\r\n        var byteString = &#39;&#39;;\r\n        var hexArray = &quot;0123456789ABCDEF&quot;.split(&quot;&quot;);\r\n        for (let j = 0; j &lt; buffer.length; j++) {\r\n    \t\tlet v = bytes[j] &amp; 0xFF;\r\n    \t\tbyteString[j * 2] = hexArray[v &gt;&gt;&gt; 4];\r\n    \t\tbyteString[j * 2 + 1] = hexArray[v &amp; 0x0F];\r\n    \t}\r\n        return String.fromCodePoint(byteString);\r\n    }","title":"Convert Java code to Frontend Javascript code","body":"<p>I'm having following java code, but I need to convert into javascript using   <code>window.crypto.subtle.importKey</code> But the outcome is seems like different for Java outcome and Javascript outcome.</p>\n<p>The following is my Java code</p>\n<pre><code>import java.security.Key;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.spec.InvalidKeySpecException;\n\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.enterprise.inject.Default;\n\n@Default\npublic class SecurityPasswordEncoder  {\n\n    private SecretKeyFactory factory;\n\n    public SecurityPasswordEncoder() throws NoSuchAlgorithmException {\n        this.factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\n    }\n\n    public String encode(CharSequence rawPassword) {\n        return null;\n    }\n\n\n    public boolean matches(CharSequence rawPassword, String encodedPassword) {\n        return false;\n    }\n\n    public boolean matches(String rawPassword, String encodedPassword, String salt) throws InvalidKeySpecException {\n        byte[] osalt = hexStringToByteArray(salt);\n        byte[] oValidate = new byte[32];\n        String sValidate;\n\n        PBEKeySpec pbeKeySpec = new PBEKeySpec(rawPassword.toCharArray(), osalt, 10000, 384);\n        Key secretKey = this.factory.generateSecret(pbeKeySpec);\n        System.arraycopy(secretKey.getEncoded(), 0, oValidate, 0, 32);\n        sValidate = byteArrayToHexString(oValidate);\n        return (sValidate.equals(encodedPassword));\n    }\n\n    private byte[] hexStringToByteArray(String s) {\n\n        byte[] b = new byte[s.length() / 2];\n        for (int i = 0; i &lt; b.length; i++) {\n            int index = i * 2;\n            int v = Integer.parseInt(s.substring(index, index + 2), 16);\n            b[i] = (byte) v;\n        }\n        return b;\n    }\n\n    private String byteArrayToHexString(byte[] bytes) {\n        char[] hexChars = new char[bytes.length * 2];\n        for (int j = 0; j &lt; bytes.length; j++) {\n            int v = bytes[j] &amp; 0xFF;\n            hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\n            hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\n        }\n        return new String(hexChars);\n    }\n\n    private char[] hexArray = &quot;0123456789ABCDEF&quot;.toCharArray();\n}\n</code></pre>\n<p>The following is my javascript code.</p>\n<pre><code>function deriveAKey(password, salt, iterations, hash) {\n    // First, create a PBKDF2 &quot;key&quot; containing the password\n    window.crypto.subtle.importKey(\n        &quot;raw&quot;,\n        stringToArrayBuffer(password),\n        {&quot;name&quot;: &quot;PBKDF2&quot;},\n        false,\n        [&quot;deriveKey&quot;]).\n    then(function(baseKey){\n        // Derive a key from the password\n        return window.crypto.subtle.deriveKey(\n            {\n                &quot;name&quot;: &quot;PBKDF2&quot;,\n                &quot;salt&quot;: stringToArrayBuffer(salt),\n                &quot;iterations&quot;: iterations,\n                &quot;hash&quot;: hash\n            },\n            baseKey,\n             {name:&quot;HMAC&quot;,&quot;hash&quot;:&quot;SHA-1&quot;}, // Key we want.Can be any AES algorithm (&quot;AES-CTR&quot;, &quot;AES-CBC&quot;, &quot;AES-CMAC&quot;, &quot;AES-GCM&quot;, &quot;AES-CFB&quot;, &quot;AES-KW&quot;, &quot;ECDH&quot;, &quot;DH&quot;, or &quot;HMAC&quot;)\n            true,                               // Extractable\n            [&quot;sign&quot;, &quot;verify&quot;]              // For new key\n            );\n    }).then(function(aesKey) {\n        // Export it so we can display it\n        return window.crypto.subtle.exportKey(&quot;raw&quot;, aesKey);\n    }).then(function(keyBytes) {\n        // Display key in Base64 format\n        var keyS = arrayBufferToString(keyBytes);\n        var keyB64 = btoa (keyS);\n        console.log(keyB64);\n    }).catch(function(err) {\n        alert(&quot;Key derivation failed: &quot; + err.message);\n    });\n}\n\n//Utility functions\n\nfunction stringToArrayBuffer(byteString){\n    var byteArray = new Uint8Array(byteString.length/2);\n    for (let i = 0; i &lt; byteArray.length; i++) {\n        const index = i * 2;\n        byteArray[i]  = parseInt(byteString.substring(index, index + 2), 16);\n    }\n    return byteArray;\n}\n\nfunction  arrayBufferToString(buffer){\n    var byteArray = new Uint8Array(buffer.length * 2);\n    var byteString = '';\n    var hexArray = &quot;0123456789ABCDEF&quot;.split(&quot;&quot;);\n    for (let j = 0; j &lt; buffer.length; j++) {\n        let v = bytes[j] &amp; 0xFF;\n        byteString[j * 2] = hexArray[v &gt;&gt;&gt; 4];\n        byteString[j * 2 + 1] = hexArray[v &amp; 0x0F];\n    }\n    return String.fromCodePoint(byteString);\n}\n</code></pre>\n"},{"tags":["java","node.js","angular","spring-boot","postman"],"answers":[{"tags":[],"owner":{"account_id":22734729,"reputation":26,"user_id":16897082,"display_name":"prxxkippfmg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668002291,"creation_date":1668002291,"answer_id":74376056,"question_id":74364625,"body_markdown":"If you want to use multipart/form-data, you need to change your input parameter from `@RequestBody ImageOpenLayer imageOpenLayer` to         `@RequestParam(value=&quot;file&quot;,required = false) MultipartFile file`\r\n \r\n\r\n","title":"Unsupported Media Type -- Spring boot","body":"<p>If you want to use multipart/form-data, you need to change your input parameter from <code>@RequestBody ImageOpenLayer imageOpenLayer</code> to         <code>@RequestParam(value=&quot;file&quot;,required = false) MultipartFile file</code></p>\n"}],"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668002291,"creation_date":1667927385,"question_id":74364625,"body_markdown":"I am created one service in spring boot to receive and send one image, but when i am trying to send the image with postman, i am receiving the next error\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-11-08T17:01:58.015+00:00&quot;,\r\n        &quot;status&quot;: 415,\r\n        &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n        &quot;message&quot;: &quot;&quot;,\r\n        &quot;path&quot;: &quot;/reto/getImage&quot;\r\n    }\r\n\r\nThe spring code is \r\n\r\n    @ApiOperation(value = &quot;/getImage&quot;)\r\n    @RequestMapping(value = &quot;getImage&quot;, method = RequestMethod.POST, produces = MediaType.ALL_VALUE, consumes = MediaType.ALL_VALUE)\r\n    public ResponseEntity&lt;Resource&gt; getImage(@RequestBody ImageOpenLayer imageOpenLayer) throws IOException {\r\n        this.servicio.getImage(imageOpenLayer);\r\n        InputStream in = new BufferedInputStream(new FileInputStream(new File(&quot;MicrosoftTeams-image.png&quot;)));\r\n        InputStreamResource file = new InputStreamResource(in);\r\n        return ResponseEntity\r\n                .ok()\r\n                .contentType(MediaType.valueOf(&quot;image/png&quot;))\r\n                .body(file);\r\n    }\r\n\r\n\r\n\r\n    public class ImageOpenLayer {\r\n        private MultipartFile file;\r\n    \r\n        public MultipartFile getFile() {\r\n            return file;\r\n        }\r\n    \r\n        public void setFile(MultipartFile file) {\r\n            this.file = file;\r\n        }\r\n    }\r\n\r\nThe postman \r\n\r\n[![postman][1]][1]\r\n\r\n\r\nIf i change the body from MultipartFile  to toher variable, the service responds ok\r\n\r\n    public class ImageOpenLayer {\r\n        private String file;\r\n    \r\n        public String  getFile() {\r\n            return file;\r\n        }\r\n    \r\n        public void setFile(String file) {\r\n            this.file = file;\r\n        }\r\n    }\r\n\r\nIn postman\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HpSJS.png\r\n  [2]: https://i.stack.imgur.com/AjLFh.png","title":"Unsupported Media Type -- Spring boot","body":"<p>I am created one service in spring boot to receive and send one image, but when i am trying to send the image with postman, i am receiving the next error</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-11-08T17:01:58.015+00:00&quot;,\n    &quot;status&quot;: 415,\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\n    &quot;message&quot;: &quot;&quot;,\n    &quot;path&quot;: &quot;/reto/getImage&quot;\n}\n</code></pre>\n<p>The spring code is</p>\n<pre><code>@ApiOperation(value = &quot;/getImage&quot;)\n@RequestMapping(value = &quot;getImage&quot;, method = RequestMethod.POST, produces = MediaType.ALL_VALUE, consumes = MediaType.ALL_VALUE)\npublic ResponseEntity&lt;Resource&gt; getImage(@RequestBody ImageOpenLayer imageOpenLayer) throws IOException {\n    this.servicio.getImage(imageOpenLayer);\n    InputStream in = new BufferedInputStream(new FileInputStream(new File(&quot;MicrosoftTeams-image.png&quot;)));\n    InputStreamResource file = new InputStreamResource(in);\n    return ResponseEntity\n            .ok()\n            .contentType(MediaType.valueOf(&quot;image/png&quot;))\n            .body(file);\n}\n\n\n\npublic class ImageOpenLayer {\n    private MultipartFile file;\n\n    public MultipartFile getFile() {\n        return file;\n    }\n\n    public void setFile(MultipartFile file) {\n        this.file = file;\n    }\n}\n</code></pre>\n<p>The postman</p>\n<p><a href=\"https://i.stack.imgur.com/HpSJS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HpSJS.png\" alt=\"postman\" /></a></p>\n<p>If i change the body from MultipartFile  to toher variable, the service responds ok</p>\n<pre><code>public class ImageOpenLayer {\n    private String file;\n\n    public String  getFile() {\n        return file;\n    }\n\n    public void setFile(String file) {\n        this.file = file;\n    }\n}\n</code></pre>\n<p>In postman</p>\n<p><a href=\"https://i.stack.imgur.com/AjLFh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AjLFh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1668001813,"post_id":74375894,"comment_id":131301841,"body_markdown":"What output did you expect? Why did you expect it? What output did you get instead?","body":"What output did you expect? Why did you expect it? What output did you get instead?"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1668002185,"post_id":74375894,"comment_id":131302028,"body_markdown":"You are not thinking of cases where the difference might be a negative number. Either use some method to turn your calculated subtractions s1Level etc. into absolut values, or change your if conditions to `if (s1Level &gt;= -2 &amp;&amp; s1Level &lt;= 2)`","body":"You are not thinking of cases where the difference might be a negative number. Either use some method to turn your calculated subtractions s1Level etc. into absolut values, or change your if conditions to <code>if (s1Level &gt;= -2 &amp;&amp; s1Level &lt;= 2)</code>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1668002473,"post_id":74375894,"comment_id":131302154,"body_markdown":"Also, using `else if` won&#39;t help if all the deltas are within the range.  Which one do you want?  The smallest? Largest?  All of them?","body":"Also, using <code>else if</code> won&#39;t help if all the deltas are within the range.  Which one do you want?  The smallest? Largest?  All of them?"}],"answers":[{"tags":[],"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668002151,"creation_date":1668002151,"answer_id":74376019,"question_id":74375894,"body_markdown":"You are subtracting a larger number from a smaller number, so you are getting a negative value for `s1Level` which of course will always be lower than 2.  This means you will never reach the `else if` for `s2Level` since `s1Level &lt;= 2` is true.\r\n\r\nIf you want to compare the absolute values of the subtraction, simply use `Math.abs(yourValue)` which will always return the positive value of the number.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tdouble ltp = 15.45;\r\n\r\n\t\tdouble s1 = 18.34;\r\n\t\tdouble s2 = 16.34;\r\n\t\tdouble s3 = 10.34;\r\n\r\n\t\tdouble s1Level = Math.abs(ltp - s1);\r\n\t\tdouble s2Level = Math.abs(ltp - s2);\r\n\t\tdouble s3Level = Math.abs(ltp - s3);\r\n\r\n\t\tif (s1Level &lt;= 2) {\r\n\t\t\tSystem.out.println(&quot;S1&quot;);\r\n\t\t}\r\n\t\telse if (s2Level &lt;= 2) {\r\n\t\t\tSystem.out.println(&quot;S2&quot;);\r\n\r\n\t\t}\r\n\t\telse if (s3Level &lt;= 2) {\r\n\t\t\tSystem.out.println(&quot;S3&quot;);\r\n\t\t}\r\n\t}","title":"Compare Values and return String","body":"<p>You are subtracting a larger number from a smaller number, so you are getting a negative value for <code>s1Level</code> which of course will always be lower than 2.  This means you will never reach the <code>else if</code> for <code>s2Level</code> since <code>s1Level &lt;= 2</code> is true.</p>\n<p>If you want to compare the absolute values of the subtraction, simply use <code>Math.abs(yourValue)</code> which will always return the positive value of the number.</p>\n<pre><code>public static void main(String[] args) {\n    double ltp = 15.45;\n\n    double s1 = 18.34;\n    double s2 = 16.34;\n    double s3 = 10.34;\n\n    double s1Level = Math.abs(ltp - s1);\n    double s2Level = Math.abs(ltp - s2);\n    double s3Level = Math.abs(ltp - s3);\n\n    if (s1Level &lt;= 2) {\n        System.out.println(&quot;S1&quot;);\n    }\n    else if (s2Level &lt;= 2) {\n        System.out.println(&quot;S2&quot;);\n\n    }\n    else if (s3Level &lt;= 2) {\n        System.out.println(&quot;S3&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user19471184"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668002151,"creation_date":1668001668,"question_id":74375894,"body_markdown":"\r\nI have **ltp** and **s1** , **s2** and **s3** values \r\n\r\n(s1 , s2 , s3 denotes suppourt1 , suppourt2 , suppourt3 )\r\n\r\nWhat I am trying to achieve is that , \r\n\r\nIf the ltp is 2 points near S1 , display S1\r\n\r\nIf the ltp is 2 points near S2 , display S2\r\n\r\nIf the ltp is 2 points near S3 , display S3\r\n\r\nI have tried using this \r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tdouble ltp = 15.45;\r\n    \r\n    \t\tdouble s1 = 18.34;\r\n    \r\n    \t\tdouble s2 = 16.34;\r\n    \r\n    \t\tdouble s3 = 10.34;\r\n    \r\n    \t\tdouble s1Level = ltp - s1;\r\n    \r\n    \t\tdouble s2Level = ltp - s2;\r\n    \r\n    \t\tdouble s3Level = ltp - s3;\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t\tif (s1Level &lt;= 2) {\r\n    \t\t\tSystem.out.println(&quot;S1&quot;);\r\n    \t\t}\r\n    \r\n    \t\telse if (s2Level &lt;= 2) {\r\n    \t\t\tSystem.out.println(&quot;S2&quot;);\r\n    \r\n    \t\t}\r\n    \r\n    \t\telse if (s3Level &lt;= 2) {\r\n    \t\t\tSystem.out.println(&quot;S3&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nHere **ltp** is 15.45 and its near **s2** 16.34 , I was expecting S2.","title":"Compare Values and return String","body":"<p>I have <strong>ltp</strong> and <strong>s1</strong> , <strong>s2</strong> and <strong>s3</strong> values</p>\n<p>(s1 , s2 , s3 denotes suppourt1 , suppourt2 , suppourt3 )</p>\n<p>What I am trying to achieve is that ,</p>\n<p>If the ltp is 2 points near S1 , display S1</p>\n<p>If the ltp is 2 points near S2 , display S2</p>\n<p>If the ltp is 2 points near S3 , display S3</p>\n<p>I have tried using this</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        double ltp = 15.45;\n\n        double s1 = 18.34;\n\n        double s2 = 16.34;\n\n        double s3 = 10.34;\n\n        double s1Level = ltp - s1;\n\n        double s2Level = ltp - s2;\n\n        double s3Level = ltp - s3;\n        \n        \n\n        if (s1Level &lt;= 2) {\n            System.out.println(&quot;S1&quot;);\n        }\n\n        else if (s2Level &lt;= 2) {\n            System.out.println(&quot;S2&quot;);\n\n        }\n\n        else if (s3Level &lt;= 2) {\n            System.out.println(&quot;S3&quot;);\n        }\n\n    }\n\n}\n</code></pre>\n<p>Here <strong>ltp</strong> is 15.45 and its near <strong>s2</strong> 16.34 , I was expecting S2.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":2,"creation_date":1516045360,"post_id":48269147,"comment_id":83522733,"body_markdown":"I think that sticking to absolute, arbitrary design principles works... until it fails. Just do what is needed in the way you judge is the better.","body":"I think that sticking to absolute, arbitrary design principles works... until it fails. Just do what is needed in the way you judge is the better."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1516052425,"post_id":48269147,"comment_id":83525741,"body_markdown":"Even though this might be an interesting question to ask, it&#39;s not suitable for Stack Overflow. Make sure to read [What topics can I ask about here?](https://stackoverflow.com/help/on-topic).","body":"Even though this might be an interesting question to ask, it&#39;s not suitable for Stack Overflow. Make sure to read <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>."}],"answers":[{"tags":[],"owner":{"account_id":3795830,"reputation":6437,"user_id":3150948,"accept_rate":70,"display_name":"Amer Qarabsa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1516043206,"creation_date":1516043206,"answer_id":48269258,"question_id":48269147,"body_markdown":"Its not a catastrophic structure to autowire service inside another service but in that way you will end up coupling your services which could lead to maintenance problems.\r\n\r\ninstead of coupling your services you can create a util with the common functionality and make both of the service use it.","title":"Using repositories in services, and services in controllers","body":"<p>Its not a catastrophic structure to autowire service inside another service but in that way you will end up coupling your services which could lead to maintenance problems.</p>\n\n<p>instead of coupling your services you can create a util with the common functionality and make both of the service use it.</p>\n"},{"tags":[],"owner":{"account_id":26869989,"reputation":26,"user_id":20452144,"display_name":"Rajesh Gurusamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668002080,"creation_date":1668002080,"answer_id":74375995,"question_id":48269147,"body_markdown":"It is design principal how you want to follow in your application, \r\n1) You could have dependencies of other services in the service class\r\n2) You could use only next layer of classes which is repositories in your case.\r\n\r\nIf you go by option 1, please keep in mind that you could end up having circular reference in your spring boot application. \r\nFor example,  You may end up something like \r\n\r\nService A -&gt; Service B -&gt; Service A\r\n\r\nStarting from spring boot 2.6.0 circular reference is prohibited, [Spring Circular reference is Prohibited by Default.][1] \r\n\r\nSo it is better to have a common service class to avoid circular reference, or else keep the correct hierarchy of services when using other service reference.  \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6.0-M2-Release-Notes#circular-references-prohibited-by-default","title":"Using repositories in services, and services in controllers","body":"<p>It is design principal how you want to follow in your application,</p>\n<ol>\n<li>You could have dependencies of other services in the service class</li>\n<li>You could use only next layer of classes which is repositories in your case.</li>\n</ol>\n<p>If you go by option 1, please keep in mind that you could end up having circular reference in your spring boot application.\nFor example,  You may end up something like</p>\n<p>Service A -&gt; Service B -&gt; Service A</p>\n<p>Starting from spring boot 2.6.0 circular reference is prohibited, <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6.0-M2-Release-Notes#circular-references-prohibited-by-default\" rel=\"nofollow noreferrer\">Spring Circular reference is Prohibited by Default.</a></p>\n<p>So it is better to have a common service class to avoid circular reference, or else keep the correct hierarchy of services when using other service reference.</p>\n"}],"owner":{"account_id":12688903,"reputation":9,"user_id":9219753,"display_name":"afgdrfhg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1668002080,"creation_date":1516042616,"question_id":48269147,"body_markdown":"I program in such a way that I avoid using services in other services https://github.com/JonkiPro/REST-Web-Services/tree/master/core/src/main/java/com/core/jpa/service. I try to use only repositories on services. I am currently writing a controller that uses two services. One to save files in the cloud, and the other to save from the entity with the file identifier in the cloud.\r\n\r\n        @PutMapping(value = &quot;/contributions/{id}/photos&quot;)\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public\r\n    void updatePhotoContribution(\r\n            @PathVariable(&quot;id&quot;) final Long id,\r\n            @RequestParam(required = false) Set&lt;Long&gt; elementIdsToAdd,\r\n            @RequestPart(required = false) List&lt;MultipartFile&gt; elementsToAdd,\r\n            @RequestPart(required = false) List&lt;MultipartFile&gt; newElementsToAdd,\r\n            @RequestParam(required = false) Set&lt;Long&gt; idsToUpdate,\r\n            @RequestPart(required = false) List&lt;MultipartFile&gt; elementsToUpdate,\r\n            @RequestParam(required = false) Set&lt;Long&gt; idsToDelete,\r\n            @RequestParam final Set&lt;String&gt; sources,\r\n            @RequestParam(required = false) final String comment\r\n    ) {\r\n        Set&lt;String&gt; ids = new HashSet&lt;&gt;();\r\n\r\n        for(files) {\r\n            String id = this.storageService.save(...); // Save the file in the cloud with file identifiers stored in the cloud\r\n            ids.add(id);\r\n        }\r\n\r\n        Contribution contribution = //create contribution\r\n\r\n        try {\r\n            this.movieContributionPersistenceService.updateReviewContribution(contribution, id, this.authorizationService.getUserId());\r\n        } catch(ResourceNotFoundException e) {\r\n            //  remove the file from the cloud\r\n            throw new ResourceNotFoundException(e.getMessage());\r\n        } catch(ResourceConflictException e) {\r\n            //  remove the file from the cloud\r\n            throw new ResourceConflictException(e.getMessage());\r\n        }\r\n    }\r\nThis is the only solution to the problem that occurred to me. If I used storageService in movieContributionPersistenceService, it would look better, but I stick to the fact that I use only repositories on services. What do you think about it?\r\n\r\nThat&#39;s the other controller that I created earlier on the same principle: https://pastebin.com/Ry1gcYdL","title":"Using repositories in services, and services in controllers","body":"<p>I program in such a way that I avoid using services in other services <a href=\"https://github.com/JonkiPro/REST-Web-Services/tree/master/core/src/main/java/com/core/jpa/service\" rel=\"nofollow noreferrer\">https://github.com/JonkiPro/REST-Web-Services/tree/master/core/src/main/java/com/core/jpa/service</a>. I try to use only repositories on services. I am currently writing a controller that uses two services. One to save files in the cloud, and the other to save from the entity with the file identifier in the cloud.</p>\n\n<pre><code>    @PutMapping(value = \"/contributions/{id}/photos\")\n@ResponseStatus(HttpStatus.NO_CONTENT)\npublic\nvoid updatePhotoContribution(\n        @PathVariable(\"id\") final Long id,\n        @RequestParam(required = false) Set&lt;Long&gt; elementIdsToAdd,\n        @RequestPart(required = false) List&lt;MultipartFile&gt; elementsToAdd,\n        @RequestPart(required = false) List&lt;MultipartFile&gt; newElementsToAdd,\n        @RequestParam(required = false) Set&lt;Long&gt; idsToUpdate,\n        @RequestPart(required = false) List&lt;MultipartFile&gt; elementsToUpdate,\n        @RequestParam(required = false) Set&lt;Long&gt; idsToDelete,\n        @RequestParam final Set&lt;String&gt; sources,\n        @RequestParam(required = false) final String comment\n) {\n    Set&lt;String&gt; ids = new HashSet&lt;&gt;();\n\n    for(files) {\n        String id = this.storageService.save(...); // Save the file in the cloud with file identifiers stored in the cloud\n        ids.add(id);\n    }\n\n    Contribution contribution = //create contribution\n\n    try {\n        this.movieContributionPersistenceService.updateReviewContribution(contribution, id, this.authorizationService.getUserId());\n    } catch(ResourceNotFoundException e) {\n        //  remove the file from the cloud\n        throw new ResourceNotFoundException(e.getMessage());\n    } catch(ResourceConflictException e) {\n        //  remove the file from the cloud\n        throw new ResourceConflictException(e.getMessage());\n    }\n}\n</code></pre>\n\n<p>This is the only solution to the problem that occurred to me. If I used storageService in movieContributionPersistenceService, it would look better, but I stick to the fact that I use only repositories on services. What do you think about it?</p>\n\n<p>That's the other controller that I created earlier on the same principle: <a href=\"https://pastebin.com/Ry1gcYdL\" rel=\"nofollow noreferrer\">https://pastebin.com/Ry1gcYdL</a></p>\n"},{"tags":["java","spring-boot","mockito","spring-webflux"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1668002830,"post_id":74375988,"comment_id":131302274,"body_markdown":"1. Why do you `@MockBean` `MockMvc`? (2. Why ExcelService?;)","body":"1. Why do you <code>@MockBean</code> <code>MockMvc</code>? (2. Why ExcelService?;)"},{"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"score":0,"creation_date":1668015382,"post_id":74375988,"comment_id":131307207,"body_markdown":"@xerx593 &gt;&gt; ExcelService is here because is needed for another test method that&#39;s not included here. `@MockBean MockMvc` is an error, thank you for pointing it out. I&#39;m still unable to get rid of NPE, though.","body":"@xerx593 &gt;&gt; ExcelService is here because is needed for another test method that&#39;s not included here. <code>@MockBean MockMvc</code> is an error, thank you for pointing it out. I&#39;m still unable to get rid of NPE, though."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1668015765,"post_id":74375988,"comment_id":131307348,"body_markdown":"(excelService is &quot;private, unmanaged&quot; object in controller..this won&#39;t work as a &quot;mock bean&quot;) ..to the NPE: why there are no other (spring test) annotations except `@AutoConfigureMockMvc`? (`@MockBean` needs &quot;at least&quot; a `SpringRunner`)","body":"(excelService is &quot;private, unmanaged&quot; object in controller..this won&#39;t work as a &quot;mock bean&quot;) ..to the NPE: why there are no other (spring test) annotations except <code>@AutoConfigureMockMvc</code>? (<code>@MockBean</code> needs &quot;at least&quot; a <code>SpringRunner</code>)"},{"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"score":0,"creation_date":1668016189,"post_id":74375988,"comment_id":131307513,"body_markdown":"Well I tried with `@WebMvcTest(controllers = ProductController.class)` but I&#39;m getting `InitializationError` (`java.lang.NoClassDefFoundError`)","body":"Well I tried with <code>@WebMvcTest(controllers = ProductController.class)</code> but I&#39;m getting <code>InitializationError</code> (<code>java.lang.NoClassDefFoundError</code>)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668016333,"post_id":74375988,"comment_id":131307562,"body_markdown":"..ok,some &quot;progress&quot;/change :)","body":"..ok,some &quot;progress&quot;/change :)"},{"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"score":1,"creation_date":1668017195,"post_id":74375988,"comment_id":131307883,"body_markdown":"You were right, there was an annotation missing. I&#39;ve added `@ExtendWith(SpringExtension.class)`, and that solved the problem. I got `java.lang.NoClassDefFoundError` now at `.get(&quot;/products/excel&quot;)`, but that&#39;s unrelated to this thread. Thank you very much! Can you please add an answer instead of a comment, so I can accept it as an answer to my original post/question?","body":"You were right, there was an annotation missing. I&#39;ve added <code>@ExtendWith(SpringExtension.class)</code>, and that solved the problem. I got <code>java.lang.NoClassDefFoundError</code> now at <code>.get(&quot;&#47;products&#47;excel&quot;)</code>, but that&#39;s unrelated to this thread. Thank you very much! Can you please add an answer instead of a comment, so I can accept it as an answer to my original post/question?"}],"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668002063,"creation_date":1668002063,"question_id":74375988,"body_markdown":"I&#39;m writing Unit tests with WebFlux and Mockito, and as a result, I&#39;m getting a NullPointerException. Here&#39;s my code:\r\n\r\nController class\r\n\r\n    @CrossOrigin\r\n    @RestController\r\n    public class ProductController {\r\n\r\n    @Autowired\r\n    private ProductRepository productRepository;\r\n\r\n    ExcelService excelService = new ExcelService();\r\n\r\n    @GetMapping(path = &quot;/products/excel&quot;, produces = APPLICATION_OCTET_STREAM_VALUE)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;Resource&gt; getAllProductInExcel() throws IOException, ExecutionException, InterruptedException {\r\n\r\n        LocalDateTime dateTime = LocalDateTime.now();\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;Content-Disposition&quot;, String.format(&quot;attachment; filename=star-products-%s.xlsx&quot;, dateTime));\r\n\r\n        Flux&lt;ProductData&gt; pd = productRepository.findAll();\r\n\r\n        Resource r = new ByteArrayResource(excelService.productsToExcel(pd).get().toByteArray());\r\n\r\n        return ResponseEntity\r\n                .ok().cacheControl(CacheControl.noCache())\r\n                .headers(headers).body(r);\r\n\r\n    }\r\n\r\nHere&#39;s a repository\r\n\r\n    @Repository\r\n    public interface ProductRepository extends ReactiveMongoRepository&lt;ProductData, String&gt; {\r\n\r\n    @Override\r\n    @Query(value = &quot;{ lifecycleState: { $not: { $eq: inactive_state__c } } }&quot;)\r\n    Flux&lt;ProductData&gt; findAll();\r\n\r\n    @Query(value = &quot;{ lifecycleState: { $not: { $eq: inactive_state__c } } }&quot;, fields = &quot;{ &#39;productName&#39; : 1 , &#39;epaRegNumber&#39; : 1 }&quot;)\r\n    Flux&lt;ProductDataDTO&gt; returnOnlyIdAndName();\r\n    }\r\n\r\nAnd here&#39;s a test that&#39;s failing with NPE\r\n\r\n    @AutoConfigureMockMvc\r\n    class ProductControllerTest {\r\n\r\n    @MockBean\r\n    MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    ProductRepository productRepository;\r\n\r\n    @MockBean\r\n    ExcelService excelService;\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n    @Test\r\n    void should_get_products_in_Excel() throws Exception {\r\n        ProductData productData = new ProductData();\r\n        productData.setTimestamp(1L);\r\n        productData.setProductId(&quot;id&quot;);\r\n        productData.setProductName(&quot;name&quot;);\r\n        productData.setRegistrationDetails(new ArrayList&lt;&gt;());\r\n        productData.setEpaRegNumber(&quot;&quot;);\r\n        productData.setLifecycleState(&quot;&quot;);\r\n\r\n        Flux&lt;ProductData&gt; flux = Flux.just(productData);\r\n\r\n        StepVerifier.create(flux)\r\n                .expectNext(productData)\r\n                .verifyComplete();\r\n\r\n        when(productRepository.findAll())\r\n                .thenReturn(flux);\r\n\r\n        RequestBuilder builder = MockMvcRequestBuilders\r\n                .get(&quot;/products/excel&quot;)\r\n                .headers(HttpHeaders.EMPTY)\r\n                .contentType(MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n                .content(String.valueOf(flux));\r\n\r\n        mockMvc.perform(builder)\r\n                .andReturn().getResponse();\r\n\r\n    }\r\n\r\nThe test fails with the message `java.lang.NullPointerException` when it comes to the     \r\n\r\n    when(productRepository.findAll())\r\n                .thenReturn(flux);\r\n\r\nIn the debugging mode, `productRepository` is null. Do you have any suggestions on how to fix this?","title":"NullPointerException with WebFlux and Mockito in SpringBoot","body":"<p>I'm writing Unit tests with WebFlux and Mockito, and as a result, I'm getting a NullPointerException. Here's my code:</p>\n<p>Controller class</p>\n<pre><code>@CrossOrigin\n@RestController\npublic class ProductController {\n\n@Autowired\nprivate ProductRepository productRepository;\n\nExcelService excelService = new ExcelService();\n\n@GetMapping(path = &quot;/products/excel&quot;, produces = APPLICATION_OCTET_STREAM_VALUE)\n@ResponseBody\npublic ResponseEntity&lt;Resource&gt; getAllProductInExcel() throws IOException, ExecutionException, InterruptedException {\n\n    LocalDateTime dateTime = LocalDateTime.now();\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Content-Disposition&quot;, String.format(&quot;attachment; filename=star-products-%s.xlsx&quot;, dateTime));\n\n    Flux&lt;ProductData&gt; pd = productRepository.findAll();\n\n    Resource r = new ByteArrayResource(excelService.productsToExcel(pd).get().toByteArray());\n\n    return ResponseEntity\n            .ok().cacheControl(CacheControl.noCache())\n            .headers(headers).body(r);\n\n}\n</code></pre>\n<p>Here's a repository</p>\n<pre><code>@Repository\npublic interface ProductRepository extends ReactiveMongoRepository&lt;ProductData, String&gt; {\n\n@Override\n@Query(value = &quot;{ lifecycleState: { $not: { $eq: inactive_state__c } } }&quot;)\nFlux&lt;ProductData&gt; findAll();\n\n@Query(value = &quot;{ lifecycleState: { $not: { $eq: inactive_state__c } } }&quot;, fields = &quot;{ 'productName' : 1 , 'epaRegNumber' : 1 }&quot;)\nFlux&lt;ProductDataDTO&gt; returnOnlyIdAndName();\n}\n</code></pre>\n<p>And here's a test that's failing with NPE</p>\n<pre><code>@AutoConfigureMockMvc\nclass ProductControllerTest {\n\n@MockBean\nMockMvc mockMvc;\n\n@MockBean\nProductRepository productRepository;\n\n@MockBean\nExcelService excelService;\n\n@BeforeEach\nvoid setup() {\n    MockitoAnnotations.openMocks(this);\n}\n@Test\nvoid should_get_products_in_Excel() throws Exception {\n    ProductData productData = new ProductData();\n    productData.setTimestamp(1L);\n    productData.setProductId(&quot;id&quot;);\n    productData.setProductName(&quot;name&quot;);\n    productData.setRegistrationDetails(new ArrayList&lt;&gt;());\n    productData.setEpaRegNumber(&quot;&quot;);\n    productData.setLifecycleState(&quot;&quot;);\n\n    Flux&lt;ProductData&gt; flux = Flux.just(productData);\n\n    StepVerifier.create(flux)\n            .expectNext(productData)\n            .verifyComplete();\n\n    when(productRepository.findAll())\n            .thenReturn(flux);\n\n    RequestBuilder builder = MockMvcRequestBuilders\n            .get(&quot;/products/excel&quot;)\n            .headers(HttpHeaders.EMPTY)\n            .contentType(MediaType.APPLICATION_OCTET_STREAM_VALUE)\n            .content(String.valueOf(flux));\n\n    mockMvc.perform(builder)\n            .andReturn().getResponse();\n\n}\n</code></pre>\n<p>The test fails with the message <code>java.lang.NullPointerException</code> when it comes to the</p>\n<pre><code>when(productRepository.findAll())\n            .thenReturn(flux);\n</code></pre>\n<p>In the debugging mode, <code>productRepository</code> is null. Do you have any suggestions on how to fix this?</p>\n"},{"tags":["java","database","jetty","hl7-fhir","hapi-fhir"],"answers":[{"tags":[],"owner":{"account_id":2766933,"reputation":6533,"user_id":2382420,"display_name":"Lloyd McKenzie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593277750,"creation_date":1593277750,"answer_id":62613110,"question_id":62612211,"body_markdown":" 1. This s a question of opinion and isn&#39;t really an appropriate question to ask on this site.  However, there certainly are many systems that *do* use HAPI in production.\r\n 2. It depends on which server.  As per the documentation [here](https://hapifhir.io/hapi-fhir/docs), you can either use the &#39;plain&#39; server and provide your own persistence layer or use the JPA server which uses JPA 2.0 with Derby as the default data store.  Details about the database and its structure are defined in the aforementioned documentation\r\n3. If you&#39;re not sure what to do and don&#39;t have an existing database you must use, it&#39;s probably simplest/wisest to stick with the JPA database as it&#39;s already properly configured and works pretty well.","title":"After installing a HAPI FHIR server, what database to use?","body":"<ol>\n<li>This s a question of opinion and isn't really an appropriate question to ask on this site.  However, there certainly are many systems that <em>do</em> use HAPI in production.</li>\n<li>It depends on which server.  As per the documentation <a href=\"https://hapifhir.io/hapi-fhir/docs\" rel=\"nofollow noreferrer\">here</a>, you can either use the 'plain' server and provide your own persistence layer or use the JPA server which uses JPA 2.0 with Derby as the default data store.  Details about the database and its structure are defined in the aforementioned documentation</li>\n<li>If you're not sure what to do and don't have an existing database you must use, it's probably simplest/wisest to stick with the JPA database as it's already properly configured and works pretty well.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668002054,"creation_date":1595338982,"answer_id":63015872,"question_id":62612211,"body_markdown":"1.  This is an opinion question, so there is not a true right answer.\r\n\r\n2.  Having said that, I would stick with &quot;known&quot; setups.\r\n\r\nhttps://smilecdr.com/docs/database_administration/database_design.html\r\n\r\n[![smilecdr database list][1]][1]\r\n\r\nRelationship between smilecdr and hapi\r\n\r\nhttps://smilecdr.com/open-source.html\r\n\r\nI am partial to Sql Server or Postgres.\r\n\r\nI would not go with Oracle, unless my company is already heavily invested.  See image later in this post.\r\n\r\n\r\n\r\n\r\n\r\nhttps://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_6014.htm\r\n\r\nThe command “Create Schema” ‘does not actually create a schema’.  #makesPerfectSense  But you automatically get a schema when you create a user.  \r\n\r\nDo what??  I am not a fan of Oracle.  Some of it is historical, which is why I think MySql may be the ripped off bandaid.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PO7kk.png\r\n  [2]: https://i.stack.imgur.com/XFjCx.png\r\n\r\n=========================\r\n\r\n2022 UPDATE.\r\n\r\n\r\nSmileCDR has &quot;discouraged&quot; MySql.\r\n\r\nhttps://smilecdr.com/docs/database_administration/setting_up_mysql.html\r\n\r\n&gt;  Note that as of 2021.11.R01, MySQL is discouraged for production use\r\n&gt; due to performance limitations of the database. SmileCDR will continue\r\n&gt; to support customers on this database, but if serious performance\r\n&gt; issues arise, we will suggest migrating to a more performant database.","title":"After installing a HAPI FHIR server, what database to use?","body":"<ol>\n<li><p>This is an opinion question, so there is not a true right answer.</p>\n</li>\n<li><p>Having said that, I would stick with &quot;known&quot; setups.</p>\n</li>\n</ol>\n<p><a href=\"https://smilecdr.com/docs/database_administration/database_design.html\" rel=\"nofollow noreferrer\">https://smilecdr.com/docs/database_administration/database_design.html</a></p>\n<p><a href=\"https://i.stack.imgur.com/PO7kk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PO7kk.png\" alt=\"smilecdr database list\" /></a></p>\n<p>Relationship between smilecdr and hapi</p>\n<p><a href=\"https://smilecdr.com/open-source.html\" rel=\"nofollow noreferrer\">https://smilecdr.com/open-source.html</a></p>\n<p>I am partial to Sql Server or Postgres.</p>\n<p>I would not go with Oracle, unless my company is already heavily invested.  See image later in this post.</p>\n<p><a href=\"https://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_6014.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_6014.htm</a></p>\n<p>The command “Create Schema” ‘does not actually create a schema’.  #makesPerfectSense  But you automatically get a schema when you create a user.</p>\n<p>Do what??  I am not a fan of Oracle.  Some of it is historical, which is why I think MySql may be the ripped off bandaid.</p>\n<p><a href=\"https://i.stack.imgur.com/XFjCx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XFjCx.png\" alt=\"enter image description here\" /></a></p>\n<p>=========================</p>\n<p>2022 UPDATE.</p>\n<p>SmileCDR has &quot;discouraged&quot; MySql.</p>\n<p><a href=\"https://smilecdr.com/docs/database_administration/setting_up_mysql.html\" rel=\"nofollow noreferrer\">https://smilecdr.com/docs/database_administration/setting_up_mysql.html</a></p>\n<blockquote>\n<p>Note that as of 2021.11.R01, MySQL is discouraged for production use\ndue to performance limitations of the database. SmileCDR will continue\nto support customers on this database, but if serious performance\nissues arise, we will suggest migrating to a more performant database.</p>\n</blockquote>\n"}],"owner":{"account_id":15654309,"reputation":325,"user_id":12637092,"display_name":"xgeek652"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668002054,"creation_date":1593273210,"question_id":62612211,"body_markdown":"I&#39;m new to HAPI FHIR, I created a google cloud compute engine VM, installed java and maven, cloned the [hapi-fhir-jpaserver-starter][1] and installed it with : \r\n**mvn install**\r\nThen runned it to test in my server with : \r\n**mvn jetty:run**\r\n\r\nNow I access it using : http://IP:8080/hapi-fhir-jpaserver\r\nand I get this page : \r\n\r\n[![Main Page][2]][2]\r\n\r\nNow all the resources are empty (patients etc..) , I need to know : \r\n\r\n1) Is this a good server for production ?\r\n2) What Database the server is actually using and how to access it ? \r\n3) What type of Database I must set up and how ? \r\n\r\nThanks\r\n\r\n**EDIT :** \r\nI tried to install the hapi server using docker compose, I built the app with mvn clean install and ran the command *docker-compose up -d --build* but when the installation was finished I get the basic HAPI SERVER (the fresh one) not the version I edited and built.\r\n\r\nAny ideas why ?\r\n\r\n  [1]: https://github.com/hapifhir/hapi-fhir-jpaserver-starter\r\n  [2]: https://i.stack.imgur.com/wyZ4a.png","title":"After installing a HAPI FHIR server, what database to use?","body":"<p>I'm new to HAPI FHIR, I created a google cloud compute engine VM, installed java and maven, cloned the <a href=\"https://github.com/hapifhir/hapi-fhir-jpaserver-starter\" rel=\"nofollow noreferrer\">hapi-fhir-jpaserver-starter</a> and installed it with :\n<strong>mvn install</strong>\nThen runned it to test in my server with :\n<strong>mvn jetty:run</strong></p>\n<p>Now I access it using : http://IP:8080/hapi-fhir-jpaserver\nand I get this page :</p>\n<p><a href=\"https://i.stack.imgur.com/wyZ4a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wyZ4a.png\" alt=\"Main Page\" /></a></p>\n<p>Now all the resources are empty (patients etc..) , I need to know :</p>\n<ol>\n<li>Is this a good server for production ?</li>\n<li>What Database the server is actually using and how to access it ?</li>\n<li>What type of Database I must set up and how ?</li>\n</ol>\n<p>Thanks</p>\n<p><strong>EDIT :</strong>\nI tried to install the hapi server using docker compose, I built the app with mvn clean install and ran the command <em>docker-compose up -d --build</em> but when the installation was finished I get the basic HAPI SERVER (the fresh one) not the version I edited and built.</p>\n<p>Any ideas why ?</p>\n"},{"tags":["java","eclipse","jar","executable-jar"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1668002251,"post_id":74375939,"comment_id":131302052,"body_markdown":"The jar is smaller because it leaves out all the other jars you are using. When you run the code you have to tell java where to find those jars using the classpath `-cp` command line option. The person you email will also have to find all those jars.","body":"The jar is smaller because it leaves out all the other jars you are using. When you run the code you have to tell java where to find those jars using the classpath <code>-cp</code> command line option. The person you email will also have to find all those jars."},{"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1668007465,"post_id":74375939,"comment_id":131304174,"body_markdown":"@greg-449 possible to do it such I just have to double click the jar file?","body":"@greg-449 possible to do it such I just have to double click the jar file?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1668008566,"post_id":74375939,"comment_id":131304622,"body_markdown":"That is what the Runnable Jar is for, it is larger because it contains all the jars necessary. Being able to double click the jar depends on which operating system you are using.","body":"That is what the Runnable Jar is for, it is larger because it contains all the jars necessary. Being able to double click the jar depends on which operating system you are using."}],"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668001838,"creation_date":1668001838,"question_id":74375939,"body_markdown":"I already have org.apache.commons.lang3.jar in my project\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nBut after i export to .jar, i cannot run it\r\n\r\n[![enter image description here][5]][5]\r\n\r\nI can run it in my IDE(Eclipse). I can run it if i export using the &quot;Runnable JAR File&quot; option, but i want to export using the &quot;JAR File&quot; option, as it is smaller in MB, so that i can send to my colleague through email.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pllBx.png\r\n  [2]: https://i.stack.imgur.com/6fGTE.png\r\n  [3]: https://i.stack.imgur.com/k5b7U.png\r\n  [4]: https://i.stack.imgur.com/GJUex.png\r\n  [5]: https://i.stack.imgur.com/7YgDi.png","title":"Cannot run jar file. Cannot find org.apache.commons.lang3.StringUtils","body":"<p>I already have org.apache.commons.lang3.jar in my project</p>\n<p><a href=\"https://i.stack.imgur.com/pllBx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pllBx.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6fGTE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6fGTE.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/k5b7U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k5b7U.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/GJUex.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GJUex.png\" alt=\"enter image description here\" /></a></p>\n<p>But after i export to .jar, i cannot run it</p>\n<p><a href=\"https://i.stack.imgur.com/7YgDi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7YgDi.png\" alt=\"enter image description here\" /></a></p>\n<p>I can run it in my IDE(Eclipse). I can run it if i export using the &quot;Runnable JAR File&quot; option, but i want to export using the &quot;JAR File&quot; option, as it is smaller in MB, so that i can send to my colleague through email.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1664807503,"post_id":73936880,"comment_id":130549808,"body_markdown":"How do you initialize `protected EntityClass entity;`","body":"How do you initialize <code>protected EntityClass entity;</code>"},{"owner":{"account_id":1811021,"reputation":1567,"user_id":1647098,"accept_rate":45,"display_name":"eimmer"},"score":0,"creation_date":1664807966,"post_id":73936880,"comment_id":130549984,"body_markdown":"FYI - for larger projects you would most likely want to inject an instance of EntityClass.  That would allow you to inject a mock instance of the class, and the method execute.","body":"FYI - for larger projects you would most likely want to inject an instance of EntityClass.  That would allow you to inject a mock instance of the class, and the method execute."}],"answers":[{"tags":[],"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668001725,"creation_date":1664808798,"answer_id":73937229,"question_id":73936880,"body_markdown":"Simplest solution, define one more child class on test level, i.e. inside the test case it self, and inject mock or spy in constructor. Then you can perform your testing, for example:\r\n\r\n    public static class EntityClass {\r\n    \tpublic String execute(String input) {\r\n    \t\treturn &quot;execute&quot;;\r\n    \t}\r\n    }\r\n    \r\n    public static class ClassA {\r\n    \tprotected EntityClass entity;\r\n    \tpublic ClassA(EntityClass entity) {\r\n    \t\tthis.entity = entity;\r\n    \t}\r\n    \tpublic ClassA() {\r\n    \t\tthis( new EntityClass() );\r\n    \t}\r\n    }\r\n    \r\n    public static class ClassB extends ClassA {\r\n    \t\r\n    \tpublic String someMethod(String input) {\r\n    \t\treturn entity.execute(input);\r\n    \t}\r\n    }\r\n    \r\n    public static class ClassBSpyed extends ClassB {\r\n    \tprivate ClassBSpyed() {\r\n    \t\tsuper( Mockito.mock(EntityClass.class) );\r\n    \t\tMockito.doReturn(&quot;SpyedResult&quot;).when(this.entity).execute(Mockito.anyString());\r\n    \t}\r\n    }\r\n    \r\n    @Test\r\n    public void shouldCallMocked() throws Exception {\r\n    \tClassBSpyed spy = new ClassBSpyed();\r\n    \tassertEquals(&quot;SpyedResult&quot;,  spy.someMethod(&quot;LoremIpsum&quot;));\r\n    }\r\n\r\n","title":"How to mock protected variable in super class using Mockito","body":"<p>Simplest solution, define one more child class on test level, i.e. inside the test case it self, and inject mock or spy in constructor. Then you can perform your testing, for example:</p>\n<pre><code>public static class EntityClass {\n    public String execute(String input) {\n        return &quot;execute&quot;;\n    }\n}\n\npublic static class ClassA {\n    protected EntityClass entity;\n    public ClassA(EntityClass entity) {\n        this.entity = entity;\n    }\n    public ClassA() {\n        this( new EntityClass() );\n    }\n}\n\npublic static class ClassB extends ClassA {\n    \n    public String someMethod(String input) {\n        return entity.execute(input);\n    }\n}\n\npublic static class ClassBSpyed extends ClassB {\n    private ClassBSpyed() {\n        super( Mockito.mock(EntityClass.class) );\n        Mockito.doReturn(&quot;SpyedResult&quot;).when(this.entity).execute(Mockito.anyString());\n    }\n}\n\n@Test\npublic void shouldCallMocked() throws Exception {\n    ClassBSpyed spy = new ClassBSpyed();\n    assertEquals(&quot;SpyedResult&quot;,  spy.someMethod(&quot;LoremIpsum&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":14090110,"reputation":109,"user_id":10178725,"display_name":"Usman Mohammed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73937229,"answer_count":1,"score":2,"last_activity_date":1668001725,"creation_date":1664807086,"question_id":73936880,"body_markdown":"I have a parent class ClassA.\r\n\r\n    public class ClassA{\r\n      protected EntityClass entity;\r\n    }\r\n\r\nThis is my child class ClassB.\r\n\r\n    public class ClassB extends ClassA {\r\n       public String someMethod(String input) {\r\n          return entity.execute(input);\r\n       }\r\n    }\r\n\r\nEntityClass is -\r\n\r\n    public class EntityClass {\r\n      public String execute(String input) {\r\n         return &quot;execute&quot;;\r\n      }\r\n    }\r\n\r\nIn Test class I want to test someMethod(input) method in ClassB. For that I would like to mock method call entity.execute(input).\r\n\r\nI am completely beginner in TestNG and Mockito. Can anyone help me with how to do that?\r\n\r\n","title":"How to mock protected variable in super class using Mockito","body":"<p>I have a parent class ClassA.</p>\n<pre><code>public class ClassA{\n  protected EntityClass entity;\n}\n</code></pre>\n<p>This is my child class ClassB.</p>\n<pre><code>public class ClassB extends ClassA {\n   public String someMethod(String input) {\n      return entity.execute(input);\n   }\n}\n</code></pre>\n<p>EntityClass is -</p>\n<pre><code>public class EntityClass {\n  public String execute(String input) {\n     return &quot;execute&quot;;\n  }\n}\n</code></pre>\n<p>In Test class I want to test someMethod(input) method in ClassB. For that I would like to mock method call entity.execute(input).</p>\n<p>I am completely beginner in TestNG and Mockito. Can anyone help me with how to do that?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9096,"page":896,"page_size":100}
