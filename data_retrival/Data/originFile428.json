{"items":[{"tags":["java","elasticsearch","elasticsearch-dsl"],"comments":[{"owner":{"account_id":3209227,"reputation":471,"user_id":2709542,"display_name":"Mathew"},"score":0,"creation_date":1684315735,"post_id":76269270,"comment_id":134499210,"body_markdown":"It&#39;s confusing to use two kinds of QueryBuilders to build your query.  Do you have a special reason for it ?","body":"It&#39;s confusing to use two kinds of QueryBuilders to build your query.  Do you have a special reason for it ?"}],"answers":[{"tags":[],"owner":{"account_id":20017325,"reputation":319,"user_id":14673018,"display_name":"Sanal M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684335401,"creation_date":1684335401,"answer_id":76273477,"question_id":76269270,"body_markdown":"I was able to write the TermQuery as follows,\r\n\r\n```\r\nTermsQueryField numberField = new TermsQueryField.Builder()\r\n .value(List.of(projectNumber).stream().map(FieldValue::of).collect(Collectors.toList()))\r\n .build();\r\n\r\nsubQuery.should(QueryBuilders.terms(term -&gt; term.field(&quot;projects&quot;).terms(numberField)));\r\n```","title":"create elastic search terms query in java using query_dsl package","body":"<p>I was able to write the TermQuery as follows,</p>\n<pre><code>TermsQueryField numberField = new TermsQueryField.Builder()\n .value(List.of(projectNumber).stream().map(FieldValue::of).collect(Collectors.toList()))\n .build();\n\nsubQuery.should(QueryBuilders.terms(term -&gt; term.field(&quot;projects&quot;).terms(numberField)));\n</code></pre>\n"}],"owner":{"account_id":20017325,"reputation":319,"user_id":14673018,"display_name":"Sanal M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76273477,"answer_count":1,"score":0,"last_activity_date":1684335401,"creation_date":1684306422,"question_id":76269270,"body_markdown":"```\r\nimport co.elastic.clients.elasticsearch._types.query_dsl.*;\r\n                     *\r\n                     *\r\n\r\n\r\nBoolQuery.Builder mainQuery = QueryBuilders.bool();\r\n                     *\r\n                     *\r\n                     *\r\n //          existing logic, which cannot be changed\r\n                     *\r\n                     *\r\nBoolQuery.Builder subQuery = QueryBuilders.bool();\r\nsubQuery.should(QueryBuilders.wildcard().field(&quot;projectNumber&quot;).value(&#39;*&#39; + projectNumber + &#39;*&#39;).build()._toQuery());\r\nsubQuery.should(org.elasticsearch.index.query.QueryBuilders.termsQuery(&quot;projects&quot;, projectNumber).toQuery());\r\nmainQuery.must(subQuery.build()._toQuery());\r\n```\r\n\r\nI have saved a document in the elastic search and it contains the field &quot;projectNumber&quot; and a list &quot;projects&quot;. Both are strings and I want to select all the documents if the project number is equal to the field &quot;projectNumber&quot; or it is present in the list &quot;projects&quot;. the above-mentioned code has an issue. the &quot;.toQuery()&quot; method in &quot;termsQuery&quot; gives compilation error, &quot;Cannot access org.apache.lucene.search.Query&quot;. and if I remove the &quot;.toQuery()&quot; i will get &quot;Cannot resolve method &#39;should(TermsQueryBuilder)&#39;&quot; error. \r\n\r\nCan anyone help? if the above-mentioned TermsQuery declaration is not possible is it possible to declare the terms query like &quot;TermsQuery.Builder termsQuery = QueryBuilders.terms();&quot;?","title":"create elastic search terms query in java using query_dsl package","body":"<pre><code>import co.elastic.clients.elasticsearch._types.query_dsl.*;\n                     *\n                     *\n\n\nBoolQuery.Builder mainQuery = QueryBuilders.bool();\n                     *\n                     *\n                     *\n //          existing logic, which cannot be changed\n                     *\n                     *\nBoolQuery.Builder subQuery = QueryBuilders.bool();\nsubQuery.should(QueryBuilders.wildcard().field(&quot;projectNumber&quot;).value('*' + projectNumber + '*').build()._toQuery());\nsubQuery.should(org.elasticsearch.index.query.QueryBuilders.termsQuery(&quot;projects&quot;, projectNumber).toQuery());\nmainQuery.must(subQuery.build()._toQuery());\n</code></pre>\n<p>I have saved a document in the elastic search and it contains the field &quot;projectNumber&quot; and a list &quot;projects&quot;. Both are strings and I want to select all the documents if the project number is equal to the field &quot;projectNumber&quot; or it is present in the list &quot;projects&quot;. the above-mentioned code has an issue. the &quot;.toQuery()&quot; method in &quot;termsQuery&quot; gives compilation error, &quot;Cannot access org.apache.lucene.search.Query&quot;. and if I remove the &quot;.toQuery()&quot; i will get &quot;Cannot resolve method 'should(TermsQueryBuilder)'&quot; error.</p>\n<p>Can anyone help? if the above-mentioned TermsQuery declaration is not possible is it possible to declare the terms query like &quot;TermsQuery.Builder termsQuery = QueryBuilders.terms();&quot;?</p>\n"},{"tags":["java","android","runtime-error"],"owner":{"account_id":28520905,"reputation":1,"user_id":21829635,"display_name":"Yash Deshmukh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684335386,"creation_date":1684335304,"question_id":76273463,"body_markdown":"9\r\n\r\nI am facing this issue while I run my android app. Does anyone know about this issue and how to fix it?\r\n\r\nI am facing this issue in my Logcat while I run my android app. Does anyone know about this issue and how to fix it?\r\n\r\nThe app dones&#39;t crash, but when I select option in spinner and click on button then it will not show result on google map\r\n\r\nMainActivity.Java\r\n\r\n```\r\npackage com.example.nearbyplacedemo;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.loader.content.AsyncTaskLoader;\r\n\r\nimport android.Manifest;\r\nimport android.content.AsyncQueryHandler;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Location;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.Spinner;\r\n\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    //initialize variable\r\n    Spinner sp_type;\r\n    Button bt_find;\r\n    SupportMapFragment supportMapFragment;\r\n    GoogleMap map;\r\n    FusedLocationProviderClient fusedLocationProviderClient;\r\n    double currentLat = 0, currentLong = 0;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        //Assign Variable\r\n        sp_type = findViewById(R.id.sp_type);\r\n        bt_find = findViewById(R.id.bt_find);\r\n        supportMapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.google_map);\r\n\r\n        //Initialize Array of place list\r\n        String[] placeTypeList = {&quot;hospital&quot;, &quot;medical&quot;, &quot;atm&quot;};\r\n        //Initialize Array of Place name list\r\n        String[] placeNameList = {&quot;Hospital&quot;, &quot;Medical&quot;, &quot;ATM&quot;};\r\n\r\n        //set Adapter on Spinner\r\n        sp_type.setAdapter(new ArrayAdapter&lt;&gt;(MainActivity.this, android.R.layout.simple_spinner_dropdown_item, placeNameList));\r\n\r\n        //Initialize Fused location client\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n        //check permission\r\n        if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            //if permission is granted\r\n            //call method\r\n            getCurrentLocation();\r\n        } else {\r\n            //when permission denied\r\n            //request permission\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 44);\r\n\r\n        }\r\n        bt_find.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //get selected position of spinner\r\n                int i = sp_type.getSelectedItemPosition();\r\n                //Initialize Url\r\n                String url = &quot;https://maps.googleapis.com/maps/api/place/nearbysearch/json&quot; +//Url\r\n                        &quot;?location=&quot; + currentLat + &quot;,&quot; + currentLong +//location latitude and longitude\r\n                        &quot;&amp;radius=5000&quot; +//nearby Radius\r\n                        &quot;&amp;type&quot; + placeTypeList[i] +//place type\r\n                        &quot;&amp;sensor = true&quot; +//Sensor\r\n                        &quot;&amp;key=&quot; + &quot;AIzaSyCEidC6oECzj0IexspcvUpqnKPS2_nhKfQ&quot;;\r\n\r\n                //execute place task method to download json data\r\n                new Placetask().execute(url);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void getCurrentLocation() {\r\n        if(ActivityCompat.checkSelfPermission(this , Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\r\n                &amp;&amp; ActivityCompat.checkSelfPermission\r\n                (this , Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED)\r\n        {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION},44);\r\n            return;\r\n        }\r\n\r\n        //Initailize task location\r\n        Task&lt;Location&gt; task = fusedLocationProviderClient.getLastLocation();\r\n        task.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n            @Override\r\n            public void onSuccess(Location location) {\r\n                //when successs\r\n                if(location!=null){\r\n                    //when location is not null\r\n                    //get current latitude\r\n                    currentLat = location.getLatitude();\r\n                    //get current longitude\r\n                    currentLong = location.getLongitude();\r\n                    //sync map\r\n                    supportMapFragment.getMapAsync(new OnMapReadyCallback() {\r\n                        @Override\r\n                        public void onMapReady(@NonNull GoogleMap googleMap) {\r\n                            //when map is ready\r\n                            map = googleMap;\r\n                            //zoom on current location\r\n                            map.animateCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(currentLat,currentLong),14));\r\n\r\n                        }\r\n                    });\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        if(requestCode==44){\r\n            if (grantResults.length &gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                //when permission is granted\r\n                //call methode\r\n                getCurrentLocation();\r\n            }\r\n        }\r\n    }\r\n\r\n    private class Placetask extends AsyncTask&lt;String,Integer,String&gt; {\r\n        @Override\r\n        protected String doInBackground(String... strings) {\r\n            String data ;\r\n            try {\r\n                //Initialize data\r\n                data=downloadUrl(strings[0]);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            return data;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String s) {\r\n            //Excute parser task\r\n            new ParserTask().execute(s);\r\n        }\r\n    }\r\n\r\n    private String downloadUrl(String string) throws IOException {\r\n        //Initialize Url\r\n        URL url = new URL(string);\r\n        //Initialize connection\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        //connect connection\r\n        connection.connect();\r\n        //initialize inputstream\r\n        InputStream stream = connection.getInputStream();\r\n        //Initialize bufferreader\r\n        BufferedReader reader= new BufferedReader(new InputStreamReader(stream));\r\n        //Initialize string builder\r\n        StringBuilder builder = new StringBuilder();\r\n        //Initailize String variable\r\n        String line = &quot;&quot;;\r\n        //use while loop\r\n        while ((line = reader.readLine())!=null){\r\n            //append line\r\n            builder.append(line);\r\n\r\n        }\r\n        //get append data\r\n        String data = builder.toString();\r\n        //close reader\r\n        reader.close();\r\n        //return data\r\n        return data;\r\n\r\n\r\n    }\r\n\r\n    private class ParserTask extends AsyncTask&lt;String,Integer, List&lt;HashMap&lt;String,String&gt;&gt;&gt; {\r\n        @Override\r\n        protected List&lt;HashMap&lt;String, String&gt;&gt; doInBackground(String... strings) {\r\n           //create jason parser\r\n            JsonPaeser jsonPaeser = new JsonPaeser();\r\n             //Initialize hash map list\r\n            List&lt;HashMap&lt;String,String&gt;&gt; mapList=null;\r\n            JSONObject object ;\r\n            try {\r\n                //intialize jsonobject\r\n                object = new JSONObject(strings[0]);\r\n                //Parse jsonobject\r\n                mapList = jsonPaeser.parseResult(object);\r\n            } catch (JSONException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            //return map list\r\n            return mapList;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(List&lt;HashMap&lt;String, String&gt;&gt; hashMaps) {\r\n            if (map != null) {\r\n                map.clear();\r\n            } else {\r\n                // Handle the case when the GoogleMap object is null\r\n                Log.e(&quot;GoogleMap&quot;, &quot;GoogleMap object is null&quot;);\r\n            }\r\n\r\n            //clear map\r\n           // map.clear();\r\n            //use for loop\r\n            for (int i=0;i&lt;hashMaps.size();i++){\r\n                //initialize hashmap\r\n                HashMap&lt;String,String&gt; hashMapList = hashMaps.get(i);\r\n                //get latitude\r\n                double lat = Double.parseDouble(hashMapList.get(&quot;lat&quot;));\r\n                //get longitude\r\n                double lng = Double.parseDouble(hashMapList.get(&quot;lng&quot;));\r\n                //get name\r\n                String name = hashMapList.get(&quot;name&quot;);\r\n                //concat latitude longitude\r\n                LatLng latLng = new LatLng(lat,lng);\r\n                //Initialize Marker Option\r\n                MarkerOptions options = new MarkerOptions();\r\n                //set position\r\n                options.position(latLng);\r\n                //set title\r\n                options.title(name);\r\n                //add marker option\r\n                map.addMarker(options);\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nJsonParser.java:-\r\n\r\n```\r\npackage com.example.nearbyplacedemo;\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport  java.util.HashMap;\r\nimport java.util.List;\r\n\r\npublic class JsonPaeser {\r\n    private HashMap&lt;String , String&gt; parseJsonObject(JSONObject object){\r\n        //initialize hashmap\r\n        HashMap&lt;String,String&gt; datalist = new HashMap&lt;&gt;();\r\n        //get name form object\r\n        try {\r\n            String name = object.getString(&quot;name&quot;);\r\n            //get latitude from object\r\n            String latitude = object.getJSONObject(&quot;geometery&quot;)\r\n                    .getJSONObject(&quot;location&quot;).getString(&quot;lat&quot;);\r\n            //get longitude from object\r\n            String longitude = object.getJSONObject(&quot;geometery&quot;)\r\n                    .getJSONObject(&quot;location&quot;).getString(&quot;lng&quot;);\r\n            //put all value in hashmap\r\n            datalist.put(&quot;name&quot;,name);\r\n            datalist.put(&quot;lat&quot;,latitude);\r\n            datalist.put(&quot;lng&quot;,longitude);\r\n\r\n        } catch (JSONException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return datalist;\r\n\r\n    }\r\n    private List&lt;HashMap&lt;String,String&gt;&gt; parseJsonArray(JSONArray jsonArray){\r\n        //Initialize hashmap list\r\n        List&lt;HashMap&lt;String,String&gt;&gt; datalist= new ArrayList&lt;&gt;();\r\n        for (int i=0;i&lt;jsonArray.length();i++){\r\n            try {\r\n                //Initialize Hashmap\r\n                HashMap&lt;String,String&gt; data = parseJsonObject((JSONObject) jsonArray.get(i));\r\n                //add data in hashmap\r\n                datalist.add(data);\r\n            } catch (JSONException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n        //retuen hashmap list\r\n        return datalist;\r\n    }\r\n    public List&lt;HashMap&lt;String,String&gt;&gt; parseResult(JSONObject object){\r\n        //initialize jsonArray\r\n        JSONArray jsonArray ;\r\n\r\n        try {\r\n            //get result array\r\n            jsonArray = object.getJSONArray(&quot;results&quot;);\r\n        } catch (JSONException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        //return array\r\n        return parseJsonArray(jsonArray);\r\n\r\n    }\r\n}\r\n```\r\n\r\nI Build Android App in which find user current location and the if user want nearby hospital, medical, atm then it select and the app show result. but in my app app run successfully but at the time user enter input app show error in logcat and don&#39;t show result","title":"E/libprocessgroup: set_timerslack_ns write failed: Operation not permitted","body":"<p>9</p>\n<p>I am facing this issue while I run my android app. Does anyone know about this issue and how to fix it?</p>\n<p>I am facing this issue in my Logcat while I run my android app. Does anyone know about this issue and how to fix it?</p>\n<p>The app dones't crash, but when I select option in spinner and click on button then it will not show result on google map</p>\n<p>MainActivity.Java</p>\n<pre><code>package com.example.nearbyplacedemo;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.loader.content.AsyncTaskLoader;\n\nimport android.Manifest;\nimport android.content.AsyncQueryHandler;\nimport android.content.pm.PackageManager;\nimport android.location.Location;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.Spinner;\n\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.HashMap;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n    //initialize variable\n    Spinner sp_type;\n    Button bt_find;\n    SupportMapFragment supportMapFragment;\n    GoogleMap map;\n    FusedLocationProviderClient fusedLocationProviderClient;\n    double currentLat = 0, currentLong = 0;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        //Assign Variable\n        sp_type = findViewById(R.id.sp_type);\n        bt_find = findViewById(R.id.bt_find);\n        supportMapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.google_map);\n\n        //Initialize Array of place list\n        String[] placeTypeList = {&quot;hospital&quot;, &quot;medical&quot;, &quot;atm&quot;};\n        //Initialize Array of Place name list\n        String[] placeNameList = {&quot;Hospital&quot;, &quot;Medical&quot;, &quot;ATM&quot;};\n\n        //set Adapter on Spinner\n        sp_type.setAdapter(new ArrayAdapter&lt;&gt;(MainActivity.this, android.R.layout.simple_spinner_dropdown_item, placeNameList));\n\n        //Initialize Fused location client\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n\n        //check permission\n        if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            //if permission is granted\n            //call method\n            getCurrentLocation();\n        } else {\n            //when permission denied\n            //request permission\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 44);\n\n        }\n        bt_find.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //get selected position of spinner\n                int i = sp_type.getSelectedItemPosition();\n                //Initialize Url\n                String url = &quot;https://maps.googleapis.com/maps/api/place/nearbysearch/json&quot; +//Url\n                        &quot;?location=&quot; + currentLat + &quot;,&quot; + currentLong +//location latitude and longitude\n                        &quot;&amp;radius=5000&quot; +//nearby Radius\n                        &quot;&amp;type&quot; + placeTypeList[i] +//place type\n                        &quot;&amp;sensor = true&quot; +//Sensor\n                        &quot;&amp;key=&quot; + &quot;AIzaSyCEidC6oECzj0IexspcvUpqnKPS2_nhKfQ&quot;;\n\n                //execute place task method to download json data\n                new Placetask().execute(url);\n            }\n        });\n\n\n    }\n\n    private void getCurrentLocation() {\n        if(ActivityCompat.checkSelfPermission(this , Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ActivityCompat.checkSelfPermission\n                (this , Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED)\n        {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION},44);\n            return;\n        }\n\n        //Initailize task location\n        Task&lt;Location&gt; task = fusedLocationProviderClient.getLastLocation();\n        task.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n            @Override\n            public void onSuccess(Location location) {\n                //when successs\n                if(location!=null){\n                    //when location is not null\n                    //get current latitude\n                    currentLat = location.getLatitude();\n                    //get current longitude\n                    currentLong = location.getLongitude();\n                    //sync map\n                    supportMapFragment.getMapAsync(new OnMapReadyCallback() {\n                        @Override\n                        public void onMapReady(@NonNull GoogleMap googleMap) {\n                            //when map is ready\n                            map = googleMap;\n                            //zoom on current location\n                            map.animateCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(currentLat,currentLong),14));\n\n                        }\n                    });\n\n                }\n\n            }\n        });\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        if(requestCode==44){\n            if (grantResults.length &gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                //when permission is granted\n                //call methode\n                getCurrentLocation();\n            }\n        }\n    }\n\n    private class Placetask extends AsyncTask&lt;String,Integer,String&gt; {\n        @Override\n        protected String doInBackground(String... strings) {\n            String data ;\n            try {\n                //Initialize data\n                data=downloadUrl(strings[0]);\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n\n            return data;\n        }\n\n        @Override\n        protected void onPostExecute(String s) {\n            //Excute parser task\n            new ParserTask().execute(s);\n        }\n    }\n\n    private String downloadUrl(String string) throws IOException {\n        //Initialize Url\n        URL url = new URL(string);\n        //Initialize connection\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        //connect connection\n        connection.connect();\n        //initialize inputstream\n        InputStream stream = connection.getInputStream();\n        //Initialize bufferreader\n        BufferedReader reader= new BufferedReader(new InputStreamReader(stream));\n        //Initialize string builder\n        StringBuilder builder = new StringBuilder();\n        //Initailize String variable\n        String line = &quot;&quot;;\n        //use while loop\n        while ((line = reader.readLine())!=null){\n            //append line\n            builder.append(line);\n\n        }\n        //get append data\n        String data = builder.toString();\n        //close reader\n        reader.close();\n        //return data\n        return data;\n\n\n    }\n\n    private class ParserTask extends AsyncTask&lt;String,Integer, List&lt;HashMap&lt;String,String&gt;&gt;&gt; {\n        @Override\n        protected List&lt;HashMap&lt;String, String&gt;&gt; doInBackground(String... strings) {\n           //create jason parser\n            JsonPaeser jsonPaeser = new JsonPaeser();\n             //Initialize hash map list\n            List&lt;HashMap&lt;String,String&gt;&gt; mapList=null;\n            JSONObject object ;\n            try {\n                //intialize jsonobject\n                object = new JSONObject(strings[0]);\n                //Parse jsonobject\n                mapList = jsonPaeser.parseResult(object);\n            } catch (JSONException e) {\n                throw new RuntimeException(e);\n            }\n            //return map list\n            return mapList;\n        }\n\n        @Override\n        protected void onPostExecute(List&lt;HashMap&lt;String, String&gt;&gt; hashMaps) {\n            if (map != null) {\n                map.clear();\n            } else {\n                // Handle the case when the GoogleMap object is null\n                Log.e(&quot;GoogleMap&quot;, &quot;GoogleMap object is null&quot;);\n            }\n\n            //clear map\n           // map.clear();\n            //use for loop\n            for (int i=0;i&lt;hashMaps.size();i++){\n                //initialize hashmap\n                HashMap&lt;String,String&gt; hashMapList = hashMaps.get(i);\n                //get latitude\n                double lat = Double.parseDouble(hashMapList.get(&quot;lat&quot;));\n                //get longitude\n                double lng = Double.parseDouble(hashMapList.get(&quot;lng&quot;));\n                //get name\n                String name = hashMapList.get(&quot;name&quot;);\n                //concat latitude longitude\n                LatLng latLng = new LatLng(lat,lng);\n                //Initialize Marker Option\n                MarkerOptions options = new MarkerOptions();\n                //set position\n                options.position(latLng);\n                //set title\n                options.title(name);\n                //add marker option\n                map.addMarker(options);\n\n            }\n        }\n    }\n}\n</code></pre>\n<p>JsonParser.java:-</p>\n<pre><code>package com.example.nearbyplacedemo;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\nimport  java.util.HashMap;\nimport java.util.List;\n\npublic class JsonPaeser {\n    private HashMap&lt;String , String&gt; parseJsonObject(JSONObject object){\n        //initialize hashmap\n        HashMap&lt;String,String&gt; datalist = new HashMap&lt;&gt;();\n        //get name form object\n        try {\n            String name = object.getString(&quot;name&quot;);\n            //get latitude from object\n            String latitude = object.getJSONObject(&quot;geometery&quot;)\n                    .getJSONObject(&quot;location&quot;).getString(&quot;lat&quot;);\n            //get longitude from object\n            String longitude = object.getJSONObject(&quot;geometery&quot;)\n                    .getJSONObject(&quot;location&quot;).getString(&quot;lng&quot;);\n            //put all value in hashmap\n            datalist.put(&quot;name&quot;,name);\n            datalist.put(&quot;lat&quot;,latitude);\n            datalist.put(&quot;lng&quot;,longitude);\n\n        } catch (JSONException e) {\n            throw new RuntimeException(e);\n        }\n        return datalist;\n\n    }\n    private List&lt;HashMap&lt;String,String&gt;&gt; parseJsonArray(JSONArray jsonArray){\n        //Initialize hashmap list\n        List&lt;HashMap&lt;String,String&gt;&gt; datalist= new ArrayList&lt;&gt;();\n        for (int i=0;i&lt;jsonArray.length();i++){\n            try {\n                //Initialize Hashmap\n                HashMap&lt;String,String&gt; data = parseJsonObject((JSONObject) jsonArray.get(i));\n                //add data in hashmap\n                datalist.add(data);\n            } catch (JSONException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        //retuen hashmap list\n        return datalist;\n    }\n    public List&lt;HashMap&lt;String,String&gt;&gt; parseResult(JSONObject object){\n        //initialize jsonArray\n        JSONArray jsonArray ;\n\n        try {\n            //get result array\n            jsonArray = object.getJSONArray(&quot;results&quot;);\n        } catch (JSONException e) {\n            throw new RuntimeException(e);\n        }\n        //return array\n        return parseJsonArray(jsonArray);\n\n    }\n}\n</code></pre>\n<p>I Build Android App in which find user current location and the if user want nearby hospital, medical, atm then it select and the app show result. but in my app app run successfully but at the time user enter input app show error in logcat and don't show result</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1684323042,"post_id":76271532,"comment_id":134500773,"body_markdown":"is the seuqence a PK?  That is a bad idea to reset sequences once their values are stored in tables.  Use a date or something more appropriate to represent a year.  That&#39;s not what sequences are for.  Either way, post a [mcve]","body":"is the seuqence a PK?  That is a bad idea to reset sequences once their values are stored in tables.  Use a date or something more appropriate to represent a year.  That&#39;s not what sequences are for.  Either way, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684323940,"post_id":76271532,"comment_id":134500957,"body_markdown":"You can add a separate column to the table like orderNumberInFinancialYear leaving the existing primary key as it is. For the new column you can use a different sequence and reset it when the financial year starts.","body":"You can add a separate column to the table like orderNumberInFinancialYear leaving the existing primary key as it is. For the new column you can use a different sequence and reset it when the financial year starts."}],"owner":{"account_id":18466339,"reputation":1,"user_id":19863583,"display_name":"param desai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684334986,"creation_date":1684322443,"question_id":76271532,"body_markdown":"I am creating a sequence for a table. Starting of every financial year I want that sequence to start again from 1  without deleting the contents of the table for which the sequence is being used. I am using Spring Boot for doing all this work. I am using MySQL as database.\r\n\r\nI tried to truncate the sequence table and manually enter the next value but I received an error of duplication of primary key.","title":"Is there any way to reset a hibernate sequence once created and having data?","body":"<p>I am creating a sequence for a table. Starting of every financial year I want that sequence to start again from 1  without deleting the contents of the table for which the sequence is being used. I am using Spring Boot for doing all this work. I am using MySQL as database.</p>\n<p>I tried to truncate the sequence table and manually enter the next value but I received an error of duplication of primary key.</p>\n"},{"tags":["java","spring-boot","spring-mvc","jackson"],"owner":{"account_id":6420491,"reputation":63,"user_id":4977344,"display_name":"Stanislaw Slodyczka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1684334857,"creation_date":1684334857,"question_id":76273395,"body_markdown":"I have an interface called `Response` with a single field named `info`. This interface is implemented by two classes from different packages. Both the interface and the classes have the same name (if that is of importance). The first class contains only the `String info` field, while the second class has an additional field called `Integer number`.\r\n\r\n```\r\npackage com.example;\r\n\r\n@JsonTypeInfo(use = DEDUCTION)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(com.example.package1.Response.class),\r\n        @JsonSubTypes.Type(com.example.package2.Response.class)})\r\npublic interface Response {\r\n    String getInfo();\r\n}\r\n\r\n///\r\ncom.example.package1;\r\n\r\npublic class Response implements com.example.Response {\r\n    String info;\r\n}\r\n\r\n///\r\ncom.example.package2;\r\n\r\npublic class Response implements com.example.Response {\r\n    String info;\r\n    Integer number;\r\n}\r\n\r\n```\r\n\r\nIn my controller, I explicitly specify the usage of com.example.package1.Response\r\n\r\n```\r\n    @PostMapping\r\n    fun start(\r\n        @RequestBody response: com.example.package1.Response\r\n    ): ResponseEntity&lt;&gt; {\r\n        ///code here\r\n    }\r\n```\r\n\r\nWhen pass a JSON object `{ &quot;info&quot;: &quot;info&quot; }`, expecting Jackson to infer the mapping to this class. However, I encounter an exception:\r\n\r\n```\r\nCannot deduce unique subtype of `com.example.package1.Response.class` (2 candidates match)]\r\n```\r\n\r\nHow can I fix this that controller can map to correct type?","title":"Jackson cannot deduce unique subtype in Spring Boot controller with 2 types sharing a common field","body":"<p>I have an interface called <code>Response</code> with a single field named <code>info</code>. This interface is implemented by two classes from different packages. Both the interface and the classes have the same name (if that is of importance). The first class contains only the <code>String info</code> field, while the second class has an additional field called <code>Integer number</code>.</p>\n<pre><code>package com.example;\n\n@JsonTypeInfo(use = DEDUCTION)\n@JsonSubTypes({\n        @JsonSubTypes.Type(com.example.package1.Response.class),\n        @JsonSubTypes.Type(com.example.package2.Response.class)})\npublic interface Response {\n    String getInfo();\n}\n\n///\ncom.example.package1;\n\npublic class Response implements com.example.Response {\n    String info;\n}\n\n///\ncom.example.package2;\n\npublic class Response implements com.example.Response {\n    String info;\n    Integer number;\n}\n\n</code></pre>\n<p>In my controller, I explicitly specify the usage of com.example.package1.Response</p>\n<pre><code>    @PostMapping\n    fun start(\n        @RequestBody response: com.example.package1.Response\n    ): ResponseEntity&lt;&gt; {\n        ///code here\n    }\n</code></pre>\n<p>When pass a JSON object <code>{ &quot;info&quot;: &quot;info&quot; }</code>, expecting Jackson to infer the mapping to this class. However, I encounter an exception:</p>\n<pre><code>Cannot deduce unique subtype of `com.example.package1.Response.class` (2 candidates match)]\n</code></pre>\n<p>How can I fix this that controller can map to correct type?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","swagger","springfox"],"comments":[{"owner":{"account_id":7646924,"reputation":1248,"user_id":5797253,"accept_rate":46,"display_name":"crimson589"},"score":0,"creation_date":1684330986,"post_id":76272091,"comment_id":134502689,"body_markdown":"What version of spring boot and gradle are you using?","body":"What version of spring boot and gradle are you using?"},{"owner":{"account_id":16116853,"reputation":55,"user_id":11633731,"display_name":"Saverio Mirko Viola"},"score":0,"creation_date":1684335175,"post_id":76272091,"comment_id":134503839,"body_markdown":"I suggest migrate to open api:https://springdoc.org/migrating-from-springfox.html","body":"I suggest migrate to open api:<a href=\"https://springdoc.org/migrating-from-springfox.html\" rel=\"nofollow noreferrer\">springdoc.org/migrating-from-springfox.html</a>"},{"owner":{"account_id":28620081,"reputation":1,"user_id":21913306,"display_name":"danirdev"},"score":0,"creation_date":1684342346,"post_id":76272091,"comment_id":134505584,"body_markdown":"Gradle 7.4 ,  Spring 3.0.6","body":"Gradle 7.4 ,  Spring 3.0.6"}],"owner":{"account_id":28620081,"reputation":1,"user_id":21913306,"display_name":"danirdev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684334771,"creation_date":1684326367,"question_id":76272091,"body_markdown":"SwaggerConfig.java\r\n\r\n```java\r\npackage com.platzi.market.web.config;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport springfox.documentation.builders.RequestHandlerSelectors;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@Configuration\r\n@EnableSwagger2\r\npublic class SwaggerConfig {\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                \r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.platzi.market.web.controller&quot;))\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nIf I remove @Configuration the error is removed but it doesn&#39;t work, because it opens the swagger but I get a browser alert that says &#39;&#39;Unable to infer base url. This is common when using dynamic servlet registration or when the API is behind an API Gateway. The base url is the root of where all the swagger resources are served. For e.g. if the api is available at http://example.org/api/v2/api-docs then the base url is http://example.org/api/. Please enter the location manually&quot; \r\n\r\n\r\nI don&#39;t know how to expose all the code, I leave you the dependencies of the build.gradle document\r\n\r\ndependencies in build.gradle:\r\n\r\n```groovy\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;io.springfox:springfox-swagger2:2.9.2&#39;\r\n\timplementation &#39;io.springfox:springfox-swagger-ui:2.9.2&#39;\r\n\truntimeOnly&#39;com.mysql:mysql-connector-j&#39;\r\n\timplementation &#39;org.mapstruct:mapstruct:1.5.5.Final&#39;\r\n\tannotationProcessor &#39;org.mapstruct:mapstruct-processor:1.5.5.Final&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n```\r\n\r\nI also tried another version 3.0.0 but the same thing happens to me. So I attach an image of the error with both annotations\r\n\r\n```none\r\nError: &quot;Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;apiListingScanner&#39; defined in URL jar:file:/C:/Users////&quot; \r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/cXj40.png","title":"Problem with Swagger in Spring (error with dependencies)","body":"<p>SwaggerConfig.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.platzi.market.web.config;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                \n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.platzi.market.web.controller&quot;))\n                .build();\n    }\n}\n</code></pre>\n<p>If I remove @Configuration the error is removed but it doesn't work, because it opens the swagger but I get a browser alert that says ''Unable to infer base url. This is common when using dynamic servlet registration or when the API is behind an API Gateway. The base url is the root of where all the swagger resources are served. For e.g. if the api is available at <a href=\"http://example.org/api/v2/api-docs\" rel=\"nofollow noreferrer\">http://example.org/api/v2/api-docs</a> then the base url is <a href=\"http://example.org/api/\" rel=\"nofollow noreferrer\">http://example.org/api/</a>. Please enter the location manually&quot;</p>\n<p>I don't know how to expose all the code, I leave you the dependencies of the build.gradle document</p>\n<p>dependencies in build.gradle:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'io.springfox:springfox-swagger2:2.9.2'\n    implementation 'io.springfox:springfox-swagger-ui:2.9.2'\n    runtimeOnly'com.mysql:mysql-connector-j'\n    implementation 'org.mapstruct:mapstruct:1.5.5.Final'\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.5.5.Final'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>I also tried another version 3.0.0 but the same thing happens to me. So I attach an image of the error with both annotations</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error: &quot;Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'apiListingScanner' defined in URL jar:file:/C:/Users////&quot; \n</code></pre>\n"},{"tags":["java","spring-boot","constraints","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684334624,"creation_date":1684334624,"answer_id":76273356,"question_id":76268815,"body_markdown":"You can disable constraints by using a `@ConstraintConfiguration` class and set the `@ConstraintWeight` field corresponding to the disabled constraint to the zero score (see https://www.optaplanner.org/docs/optaplanner/latest/score-calculation/score-calculation.html#constraintConfiguration for full details).\r\n\r\nPlanning Solution Class:\r\n\r\n    @PlanningSolution\r\n    public class ConferenceSolution {\r\n        \r\n        @ConstraintConfigurationProvider\r\n        private ConferenceConstraintConfiguration constraintConfiguration;\r\n        \r\n        // ...\r\n    }\r\n\r\n\r\nConstraintConfiguration:\r\n\r\n    @ConstraintConfiguration(constraintPackage = &quot;...conferencescheduling.score&quot;)\r\n    public class ConferenceConstraintConfiguration {\r\n    \r\n        @ConstraintWeight(&quot;Speaker conflict&quot;)\r\n        private HardMediumSoftScore speakerConflict = HardMediumSoftScore.ofHard(10);\r\n    \r\n        @ConstraintWeight(&quot;Theme track conflict&quot;)\r\n        private HardMediumSoftScore themeTrackConflict = HardMediumSoftScore.ofSoft(10);\r\n        @ConstraintWeight(&quot;Content conflict&quot;)\r\n        private HardMediumSoftScore contentConflict = HardMediumSoftScore.ofSoft(100);\r\n    \r\n        // ...\r\n    }\r\n\r\nDisabling constraints\r\n\r\n    ConferenceConstraintConfiguration constraintConfig = new ConferenceConstraintConfiguration();\r\n    constraintConfig.contentConflict = HardMediumSoftScore.ZERO;\r\n\r\n","title":"Disabling and enabling constraints during runtime","body":"<p>You can disable constraints by using a <code>@ConstraintConfiguration</code> class and set the <code>@ConstraintWeight</code> field corresponding to the disabled constraint to the zero score (see <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/score-calculation/score-calculation.html#constraintConfiguration\" rel=\"nofollow noreferrer\">https://www.optaplanner.org/docs/optaplanner/latest/score-calculation/score-calculation.html#constraintConfiguration</a> for full details).</p>\n<p>Planning Solution Class:</p>\n<pre><code>@PlanningSolution\npublic class ConferenceSolution {\n    \n    @ConstraintConfigurationProvider\n    private ConferenceConstraintConfiguration constraintConfiguration;\n    \n    // ...\n}\n</code></pre>\n<p>ConstraintConfiguration:</p>\n<pre><code>@ConstraintConfiguration(constraintPackage = &quot;...conferencescheduling.score&quot;)\npublic class ConferenceConstraintConfiguration {\n\n    @ConstraintWeight(&quot;Speaker conflict&quot;)\n    private HardMediumSoftScore speakerConflict = HardMediumSoftScore.ofHard(10);\n\n    @ConstraintWeight(&quot;Theme track conflict&quot;)\n    private HardMediumSoftScore themeTrackConflict = HardMediumSoftScore.ofSoft(10);\n    @ConstraintWeight(&quot;Content conflict&quot;)\n    private HardMediumSoftScore contentConflict = HardMediumSoftScore.ofSoft(100);\n\n    // ...\n}\n</code></pre>\n<p>Disabling constraints</p>\n<pre><code>ConferenceConstraintConfiguration constraintConfig = new ConferenceConstraintConfiguration();\nconstraintConfig.contentConflict = HardMediumSoftScore.ZERO;\n</code></pre>\n"}],"owner":{"account_id":28301624,"reputation":11,"user_id":21640225,"display_name":"Vasavi Bodala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684334624,"creation_date":1684301385,"question_id":76268815,"body_markdown":"I&#39;ve set the constaints like this:-\r\n\r\n```\r\nScoreDirectorFactoryConfig scoreDirectorFactoryConfig = new ScoreDirectorFactoryConfig();         scoreDirectorFactoryConfig.setConstraintProviderClass(VehicleRoutingConstraintProvider.class);\r\n```\r\n\r\nI couldn&#39;t find out anything related to enabling and/or disabling constraints in optaplanner.\r\n\r\nSo, I wanted to know if there&#39;s a way to enable and disable the constraints after or before setting the constraint provider class.\r\n\r\nMy question is:\r\n\r\n**Can we enable and/or disable constraint during runtime in optaplanner based on a condition?**","title":"Disabling and enabling constraints during runtime","body":"<p>I've set the constaints like this:-</p>\n<pre><code>ScoreDirectorFactoryConfig scoreDirectorFactoryConfig = new ScoreDirectorFactoryConfig();         scoreDirectorFactoryConfig.setConstraintProviderClass(VehicleRoutingConstraintProvider.class);\n</code></pre>\n<p>I couldn't find out anything related to enabling and/or disabling constraints in optaplanner.</p>\n<p>So, I wanted to know if there's a way to enable and disable the constraints after or before setting the constraint provider class.</p>\n<p>My question is:</p>\n<p><strong>Can we enable and/or disable constraint during runtime in optaplanner based on a condition?</strong></p>\n"},{"tags":["java","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":2589149,"reputation":1536,"user_id":2244209,"accept_rate":87,"display_name":"David Fari&#241;a"},"score":0,"creation_date":1689687317,"post_id":76273331,"comment_id":135246725,"body_markdown":"How is there still no answer, Im looking to find a solution to this as well but it seems nobody knows. Did you end up solving it?","body":"How is there still no answer, Im looking to find a solution to this as well but it seems nobody knows. Did you end up solving it?"},{"owner":{"account_id":25965752,"reputation":23,"user_id":19681717,"display_name":"axxa"},"score":0,"creation_date":1692697105,"post_id":76273331,"comment_id":135656060,"body_markdown":"@DavidFari&#241;a I finally did it with the Jsonb collumn and it works fine. But I still don&#39;t know if it&#39;s the best way to do it or if it isn&#39;t optimised.","body":"@DavidFari&#241;a I finally did it with the Jsonb collumn and it works fine. But I still don&#39;t know if it&#39;s the best way to do it or if it isn&#39;t optimised."},{"owner":{"account_id":2589149,"reputation":1536,"user_id":2244209,"accept_rate":87,"display_name":"David Fari&#241;a"},"score":0,"creation_date":1692894536,"post_id":76273331,"comment_id":135689388,"body_markdown":"i thought about that as well but ended up making a new table entity. Seemed somewhat cleaner for my case but made the creating/updating the data a bit more complicated.","body":"i thought about that as well but ended up making a new table entity. Seemed somewhat cleaner for my case but made the creating/updating the data a bit more complicated."}],"owner":{"account_id":25965752,"reputation":23,"user_id":19681717,"display_name":"axxa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1684334469,"creation_date":1684334469,"question_id":76273331,"body_markdown":"I&#39;m very new to Spring Boot.\r\n\r\nI have an entity that basically is a kind of &quot;tier list&quot;. It is used as a ranking of objects. Multiple objects could be in the same rank.\r\n\r\nSo I represent it as HashMap\\&lt;Integer, LinkedList\\&lt;ObjectsToRank\\&gt;\\&gt;. The map key is the rank, associated with list of ObjectsToRank.\r\n\r\nTier list entity:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;classements&quot;)\r\npublic class ClassementEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id_classement&quot;)\r\n    private  Long id_classement;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;id_agent&quot;)\r\n    private AgentEntity agent;\r\n\r\n    @Column(name = &quot;max_rank&quot;)\r\n    private Integer max_rank;\r\n    \r\n    private HashMap&lt;Integer, LinkedList&lt;PeriodeProtocolaireEntity&gt;&gt; mapRang;\r\n\r\n}\r\n```\r\n\r\nSo my question is how can I store it in my PostgreSQL DB ?\r\n\r\nI thought about Jsonb column that would look like:\r\n\r\n```json\r\n{\r\n    mapKeyInteger: [\r\n            PeriodeProtocolaireEntity.id,\r\n            PeriodeProtocolaireEntity.id,\r\n    ],\r\n    2: ...\r\n}\r\n```\r\n\r\nBut I don&#39;t know how to do it in a good way with Spring Boot or if there is a better way.","title":"How to store map containing list of objects using Spring Boot and PostgreSQL","body":"<p>I'm very new to Spring Boot.</p>\n<p>I have an entity that basically is a kind of &quot;tier list&quot;. It is used as a ranking of objects. Multiple objects could be in the same rank.</p>\n<p>So I represent it as HashMap&lt;Integer, LinkedList&lt;ObjectsToRank&gt;&gt;. The map key is the rank, associated with list of ObjectsToRank.</p>\n<p>Tier list entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;classements&quot;)\npublic class ClassementEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id_classement&quot;)\n    private  Long id_classement;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;id_agent&quot;)\n    private AgentEntity agent;\n\n    @Column(name = &quot;max_rank&quot;)\n    private Integer max_rank;\n    \n    private HashMap&lt;Integer, LinkedList&lt;PeriodeProtocolaireEntity&gt;&gt; mapRang;\n\n}\n</code></pre>\n<p>So my question is how can I store it in my PostgreSQL DB ?</p>\n<p>I thought about Jsonb column that would look like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    mapKeyInteger: [\n            PeriodeProtocolaireEntity.id,\n            PeriodeProtocolaireEntity.id,\n    ],\n    2: ...\n}\n</code></pre>\n<p>But I don't know how to do it in a good way with Spring Boot or if there is a better way.</p>\n"},{"tags":["java","intellij-idea","interface","transactions","code-generation"],"comments":[{"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"score":1,"creation_date":1684336404,"post_id":76273328,"comment_id":134504154,"body_markdown":"there&#39;s an open ticket in IDEA&#39;s tracker for this, vote for https://youtrack.jetbrains.com/issue/IDEA-161642","body":"there&#39;s an open ticket in IDEA&#39;s tracker for this, vote for <a href=\"https://youtrack.jetbrains.com/issue/IDEA-161642\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-161642</a>"}],"owner":{"account_id":963056,"reputation":994,"user_id":986966,"accept_rate":80,"display_name":"fall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684334428,"creation_date":1684334428,"question_id":76273328,"body_markdown":"Like in this method:\r\n\r\n    @Transactional\r\n    @Override\r\n    public boolean deleteConfigDictionary(Long id){\r\n      return false;\r\n    }\r\n\r\nAfter I add @Override to this method, Idea found there is no matching interface method in the interface. So it marks it as error and offer to pull it up:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut after the interface method is created, it automatically has @Transactional annotation, which is discouraged in Spring:\r\n\r\n    @Transactional\r\n    boolean deleteConfigDictionary(Long id);\r\n\r\nHow to avoid this? Would be helpful if I can choose what annotations are not pulled up or maybe just disable copying annotation.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N0S5s.png","title":"How to stop Intellij Idea to put @Transactional on interface method when I pull up its implementation?","body":"<p>Like in this method:</p>\n<pre><code>@Transactional\n@Override\npublic boolean deleteConfigDictionary(Long id){\n  return false;\n}\n</code></pre>\n<p>After I add @Override to this method, Idea found there is no matching interface method in the interface. So it marks it as error and offer to pull it up:</p>\n<p><a href=\"https://i.stack.imgur.com/N0S5s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N0S5s.png\" alt=\"enter image description here\" /></a></p>\n<p>But after the interface method is created, it automatically has @Transactional annotation, which is discouraged in Spring:</p>\n<pre><code>@Transactional\nboolean deleteConfigDictionary(Long id);\n</code></pre>\n<p>How to avoid this? Would be helpful if I can choose what annotations are not pulled up or maybe just disable copying annotation.</p>\n"},{"tags":["java","json","jackson","drools","jsonnode"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1653063146,"post_id":72302405,"comment_id":127767584,"body_markdown":"In your &quot;approach 1&quot; code, you haven&#39;t shown where you declared and defined the `copmpany` and `site` variables.","body":"In your &quot;approach 1&quot; code, you haven&#39;t shown where you declared and defined the <code>copmpany</code> and <code>site</code> variables."},{"owner":{"account_id":5511813,"reputation":9,"user_id":19151307,"display_name":"Mehul Chaturvedi"},"score":0,"creation_date":1653068979,"post_id":72302405,"comment_id":127769403,"body_markdown":"If you see it again, I’ve clearly mentioned the values of the parameters of the object of type PolicyDataToBeVerified, the “company” parameter as “company1” and “site” as “site1”, they both are strings.","body":"If you see it again, I’ve clearly mentioned the values of the parameters of the object of type PolicyDataToBeVerified, the “company” parameter as “company1” and “site” as “site1”, they both are strings."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1653069770,"post_id":72302405,"comment_id":127769691,"body_markdown":"Yeah but you&#39;re not referencing `this`. You&#39;re referencing arbitrary declared variables from ... somewhere.","body":"Yeah but you&#39;re not referencing <code>this</code>. You&#39;re referencing arbitrary declared variables from ... somewhere."},{"owner":{"account_id":5511813,"reputation":9,"user_id":19151307,"display_name":"Mehul Chaturvedi"},"score":0,"creation_date":1653210852,"post_id":72302405,"comment_id":127791650,"body_markdown":"`company` and `site` are the parameters of the class `PolicyDataToBeVerified`, so their values are picked automatically from the working memory of DROOLS","body":"<code>company</code> and <code>site</code> are the parameters of the class <code>PolicyDataToBeVerified</code>, so their values are picked automatically from the working memory of DROOLS"}],"answers":[{"tags":[],"owner":{"account_id":5511813,"reputation":9,"user_id":19151307,"display_name":"Mehul Chaturvedi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1653048440,"creation_date":1653048440,"answer_id":72318665,"question_id":72302405,"body_markdown":"**NOTE:** *IntellijIDEA has inaccurate linting for .drl files, so request you to not rely on it.*\r\n\r\nI created a validateSlotsResponse as following for better handling of response:\r\n\r\n\r\n    package com.example.demo;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import java.util.List;\r\n    \r\n    @Data\r\n    @Builder\r\n    public class ValidateSlotsResponse {\r\n        boolean isRequestValid;\r\n        List&lt;String&gt; comments;\r\n    }\r\n\r\nI&#39;ll pass this class&#39;s object into the working memory of DROOLS, and will update it inside the drools program, which will then be used as the respose for validation.\r\n\r\nBelow are the rules inside my drools file, please make sure you have made the right imports:\r\n\r\n    rule &quot;fetchMaximumAllowedWeeklyWorkingHours&quot;\r\n    when\r\n         $validateSlotsResponse: ValidateSlotsResponse()\r\n         $policyDataToBeVerified: PolicyDataToBeVerified()\r\n         $configJson: JsonNode()\r\n         $workingHoursAllowed:Integer() from $configJson.get($policyDataToBeVerified.getCompany()).get($policyDataToBeVerified.getSite()).get(&quot;maxWeeklyWorkingHours&quot;).intValue()\r\n    then\r\n     end\r\n    \r\n    \r\n     rule &quot;maxWorkingHoursAccept&quot; extends &quot;fetchMaximumAllowedWeeklyWorkingHours&quot;\r\n     when\r\n         eval($policyDataToBeVerified.workerWeeklyWorkingHours() &lt;= $workingHoursAllowed)\r\n     then\r\n         $policyDataToBeVerified.setIsRequestValid(true);\r\n         $validateSlotsResponse.setRequestValid(true);\r\n         $validateSlotsResponse.setComments(new ArrayList&lt;&gt;(Arrays.asList(&quot;Worker allowed to work for &quot;+$policyDataToBeVerified.getMaximumWeeklyWorkingHours() + &quot; hours&quot;)));\r\n      end\r\n    \r\n    \r\n      rule &quot;maxWorkingHoursReject&quot; extends &quot;fetchMaximumAllowedWeeklyWorkingHours&quot;\r\n      when\r\n           eval($policyDataToBeVerified.workerWeeklyWorkingHours() &gt; Integer.parseInt($workingHoursAllowed.toString()))\r\n      then\r\n           $policyDataToBeVerified.setIsRequestValid(false);\r\n           $validateSlotsResponse.setRequestValid(false);\r\n           $validateSlotsResponse.setComments(new ArrayList&lt;&gt;(Arrays.asList(&quot;Worker not allowed to work more than &quot;+ $workingHoursAllowed + &quot; hours&quot;)));\r\n      end","title":"How to compare nested JsonNode field values with Java object parameter values in DROOLS?","body":"<p><strong>NOTE:</strong> <em>IntellijIDEA has inaccurate linting for .drl files, so request you to not rely on it.</em></p>\n<p>I created a validateSlotsResponse as following for better handling of response:</p>\n<pre><code>package com.example.demo;\nimport lombok.Builder;\nimport lombok.Data;\nimport java.util.List;\n\n@Data\n@Builder\npublic class ValidateSlotsResponse {\n    boolean isRequestValid;\n    List&lt;String&gt; comments;\n}\n</code></pre>\n<p>I'll pass this class's object into the working memory of DROOLS, and will update it inside the drools program, which will then be used as the respose for validation.</p>\n<p>Below are the rules inside my drools file, please make sure you have made the right imports:</p>\n<pre><code>rule &quot;fetchMaximumAllowedWeeklyWorkingHours&quot;\nwhen\n     $validateSlotsResponse: ValidateSlotsResponse()\n     $policyDataToBeVerified: PolicyDataToBeVerified()\n     $configJson: JsonNode()\n     $workingHoursAllowed:Integer() from $configJson.get($policyDataToBeVerified.getCompany()).get($policyDataToBeVerified.getSite()).get(&quot;maxWeeklyWorkingHours&quot;).intValue()\nthen\n end\n\n\n rule &quot;maxWorkingHoursAccept&quot; extends &quot;fetchMaximumAllowedWeeklyWorkingHours&quot;\n when\n     eval($policyDataToBeVerified.workerWeeklyWorkingHours() &lt;= $workingHoursAllowed)\n then\n     $policyDataToBeVerified.setIsRequestValid(true);\n     $validateSlotsResponse.setRequestValid(true);\n     $validateSlotsResponse.setComments(new ArrayList&lt;&gt;(Arrays.asList(&quot;Worker allowed to work for &quot;+$policyDataToBeVerified.getMaximumWeeklyWorkingHours() + &quot; hours&quot;)));\n  end\n\n\n  rule &quot;maxWorkingHoursReject&quot; extends &quot;fetchMaximumAllowedWeeklyWorkingHours&quot;\n  when\n       eval($policyDataToBeVerified.workerWeeklyWorkingHours() &gt; Integer.parseInt($workingHoursAllowed.toString()))\n  then\n       $policyDataToBeVerified.setIsRequestValid(false);\n       $validateSlotsResponse.setRequestValid(false);\n       $validateSlotsResponse.setComments(new ArrayList&lt;&gt;(Arrays.asList(&quot;Worker not allowed to work more than &quot;+ $workingHoursAllowed + &quot; hours&quot;)));\n  end\n</code></pre>\n"}],"owner":{"account_id":5511813,"reputation":9,"user_id":19151307,"display_name":"Mehul Chaturvedi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72318665,"answer_count":1,"score":1,"last_activity_date":1684334247,"creation_date":1652953994,"question_id":72302405,"body_markdown":"I&#39;ve been trying to execute a set of rules on a request object on the basis of some set of configuration value. Below is the example on what I am trying to do:\r\n\r\n**Configuration:**\r\nconfig.json\r\n\r\n    {\r\n      &quot;company1&quot;: {\r\n        &quot;site1&quot;: {\r\n          &quot;maxWeeklyWorkingHours&quot;: 40,\r\n          &quot;rule2&quot;: [1, 3, 4],\r\n        },\r\n        &quot;site2&quot;: {\r\n          &quot;maxWeeklyWorkingHours&quot;: 40,\r\n          &quot;rule2&quot;: [1, 3, 4],\r\n        }\r\n      },\r\n      &quot;company2&quot;: {\r\n        &quot;site1&quot;: {\r\n          &quot;maxWeeklyWorkingHours&quot;: 40,\r\n          &quot;rule2&quot;: [1, 3, 4],\r\n        },\r\n        &quot;site2&quot;: {\r\n          &quot;maxWeeklyWorkingHours&quot;: 40,\r\n          &quot;rule2&quot;: [1, 3, 4],\r\n        }\r\n      }\r\n    }\r\n\r\n**Request Class Object:** policyDataToBeVerified\r\n\r\n    PolicyDataToBeVerified(company=company1, site=site1, workerWeeklyWorkingHours=39, isRequestValid=0)\r\n\r\n\r\nI converted the config.json into a JsonNode object:configJson and passed both policyDataToBeVerified and configJson to drools working memory. Below are the approaches I tried to take to frame the rule but failed anyways:\r\n\r\n**APPROACH 1:**\r\ndrools.drl\r\n\r\n    rule &quot;maxWorkingHours&quot;\r\n    when\r\n        $configJson: JsonNode()\r\n        $policyData: PolicyDataToBeVerified(maximumWeeklyWorkingHours &lt;= $configJson.get(company).get(site).get(&quot;workerWeeklyWorkingHours&quot;))\r\n    then\r\n        $policyData.setIsRequestValid(true)\r\n     end\r\n\r\nIssue: I am getting null pointer exception at $configJson.get(company).get(site).get(&quot;workerWeeklyWorkingHours&quot;)\r\n\r\n**APPROACH 2:**\r\nI even tried to use configJSON as a global variable but, then drools didn&#39;t allow me to use get methods of JsonNode to get the nested fields from JSON\r\n\r\n-----\r\n\r\nI&#39;ve been trying to find a solution to my problem for past few days, but nothing worked. I&#39;d be happy to learn even if we can view this problem from a different perspective and solve it in a different way, or if we can debug this, whatever works.\r\n","title":"How to compare nested JsonNode field values with Java object parameter values in DROOLS?","body":"<p>I've been trying to execute a set of rules on a request object on the basis of some set of configuration value. Below is the example on what I am trying to do:</p>\n<p><strong>Configuration:</strong>\nconfig.json</p>\n<pre><code>{\n  &quot;company1&quot;: {\n    &quot;site1&quot;: {\n      &quot;maxWeeklyWorkingHours&quot;: 40,\n      &quot;rule2&quot;: [1, 3, 4],\n    },\n    &quot;site2&quot;: {\n      &quot;maxWeeklyWorkingHours&quot;: 40,\n      &quot;rule2&quot;: [1, 3, 4],\n    }\n  },\n  &quot;company2&quot;: {\n    &quot;site1&quot;: {\n      &quot;maxWeeklyWorkingHours&quot;: 40,\n      &quot;rule2&quot;: [1, 3, 4],\n    },\n    &quot;site2&quot;: {\n      &quot;maxWeeklyWorkingHours&quot;: 40,\n      &quot;rule2&quot;: [1, 3, 4],\n    }\n  }\n}\n</code></pre>\n<p><strong>Request Class Object:</strong> policyDataToBeVerified</p>\n<pre><code>PolicyDataToBeVerified(company=company1, site=site1, workerWeeklyWorkingHours=39, isRequestValid=0)\n</code></pre>\n<p>I converted the config.json into a JsonNode object:configJson and passed both policyDataToBeVerified and configJson to drools working memory. Below are the approaches I tried to take to frame the rule but failed anyways:</p>\n<p><strong>APPROACH 1:</strong>\ndrools.drl</p>\n<pre><code>rule &quot;maxWorkingHours&quot;\nwhen\n    $configJson: JsonNode()\n    $policyData: PolicyDataToBeVerified(maximumWeeklyWorkingHours &lt;= $configJson.get(company).get(site).get(&quot;workerWeeklyWorkingHours&quot;))\nthen\n    $policyData.setIsRequestValid(true)\n end\n</code></pre>\n<p>Issue: I am getting null pointer exception at $configJson.get(company).get(site).get(&quot;workerWeeklyWorkingHours&quot;)</p>\n<p><strong>APPROACH 2:</strong>\nI even tried to use configJSON as a global variable but, then drools didn't allow me to use get methods of JsonNode to get the nested fields from JSON</p>\n<hr />\n<p>I've been trying to find a solution to my problem for past few days, but nothing worked. I'd be happy to learn even if we can view this problem from a different perspective and solve it in a different way, or if we can debug this, whatever works.</p>\n"},{"tags":["java","soap","wsdl","spring-ws","jaxb2-maven-plugin"],"owner":{"account_id":23147042,"reputation":37,"user_id":17249649,"display_name":"spartan712"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684333810,"creation_date":1684333168,"question_id":76273136,"body_markdown":"I have received a wsdl from a client for which I need to create a SOAP service.\r\n\r\nThe Request message is defined as below -&gt;\r\n\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n           xmlns=&quot;http://xmlns.kt/testservice/V4&quot;\r\n           xmlns:servicestype=&quot;http://xmlns.kt/testservice2/V4&quot;\r\n           targetNamespace=&quot;http://xmlns.kt/testservice/V4&quot;\r\n           elementFormDefault=&quot;qualified&quot;\r\n           attributeFormDefault=&quot;unqualified&quot;&gt;\r\n      &lt;xs:element name=&quot;ReceiveDataReqMsg&quot; type=&quot;servicestype:ReceiveDataRequestType&quot;&gt;\r\n        &lt;xs:annotation&gt;\r\n          &lt;xs:documentation&gt;Request message&lt;/xs:documentation&gt;\r\n        &lt;/xs:annotation&gt;\r\n      &lt;/xs:element&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\nI am using spring boot ws and maven jaxb plugin to generate the service.\r\nThe problem is the plugin generates the RequestMessage class as ReceiveDataRequestType instead of ReceiveDataReqMsg.\r\n\r\nFor this i use a binding xjb and then the plugin creates the class as ReceiveDataReqMsg \r\n\r\n      &lt;bindings xmlns=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n          xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxb http://java.sun.com/xml/ns/jaxb/bindingschema_2_0.xsd&quot;\r\n          version=&quot;2.1&quot;&gt;\r\n    &lt;bindings schemaLocation=&quot;myschema.xsd&quot;&gt;\r\n        &lt;bindings node=&quot;//xs:element[@name=&#39;ReceiveDataReqMsg&#39;]&quot;&gt;\r\n            &lt;class name=&quot;ReceiveDataReqMsg&quot;&gt;\r\n            &lt;/class&gt;\r\n        &lt;/bindings&gt;\r\n    &lt;/bindings&gt;\r\n&lt;/bindings&gt;\r\n\r\nBut the problem is when i call the service it just gives an error that no adapter found for the endpoint.(I have the endpoint correctly configured).\r\n\r\nIf i edit and add a @XMLRootelement to the generated class then i get a nullpointerexception.\r\n\r\nCan someone please help.\r\n\r\nThe generated class looks like this \r\n\r\n    public class ReceiveDataReqMsg\r\n    extends JAXBElement&lt;ReceiveDataRequestType&gt;\r\n    {\r\n    \r\n    protected final static QName NAME = new QName(&quot;http://xmlns.kt/testservice/V4&quot;, &quot;ReceiveDataReqMsg&quot;);\r\n    \r\n    public ReceiveDataReqMsg(ReceiveDataRequestType value) {\r\n        super(NAME, ((Class) ReceiveDataRequestType.class), null, value);\r\n    }\r\n    \r\n    public ReceiveReferenceDataReqMsg() {\r\n        super(NAME, ((Class) ReceiveDataRequestType.class), null, null);\r\n    }\r\n    \r\n    }\r\n\r\n","title":"No adapter endpoint error when calling SOAP service","body":"<p>I have received a wsdl from a client for which I need to create a SOAP service.</p>\n<p>The Request message is defined as below -&gt;</p>\n<pre><code>&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n       xmlns=&quot;http://xmlns.kt/testservice/V4&quot;\n       xmlns:servicestype=&quot;http://xmlns.kt/testservice2/V4&quot;\n       targetNamespace=&quot;http://xmlns.kt/testservice/V4&quot;\n       elementFormDefault=&quot;qualified&quot;\n       attributeFormDefault=&quot;unqualified&quot;&gt;\n  &lt;xs:element name=&quot;ReceiveDataReqMsg&quot; type=&quot;servicestype:ReceiveDataRequestType&quot;&gt;\n    &lt;xs:annotation&gt;\n      &lt;xs:documentation&gt;Request message&lt;/xs:documentation&gt;\n    &lt;/xs:annotation&gt;\n  &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>I am using spring boot ws and maven jaxb plugin to generate the service.\nThe problem is the plugin generates the RequestMessage class as ReceiveDataRequestType instead of ReceiveDataReqMsg.</p>\n<p>For this i use a binding xjb and then the plugin creates the class as ReceiveDataReqMsg</p>\n<pre><code>  &lt;bindings xmlns=&quot;http://java.sun.com/xml/ns/jaxb&quot;\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxb http://java.sun.com/xml/ns/jaxb/bindingschema_2_0.xsd&quot;\n      version=&quot;2.1&quot;&gt;\n&lt;bindings schemaLocation=&quot;myschema.xsd&quot;&gt;\n    &lt;bindings node=&quot;//xs:element[@name='ReceiveDataReqMsg']&quot;&gt;\n        &lt;class name=&quot;ReceiveDataReqMsg&quot;&gt;\n        &lt;/class&gt;\n    &lt;/bindings&gt;\n&lt;/bindings&gt;\n</code></pre>\n\n<p>But the problem is when i call the service it just gives an error that no adapter found for the endpoint.(I have the endpoint correctly configured).</p>\n<p>If i edit and add a @XMLRootelement to the generated class then i get a nullpointerexception.</p>\n<p>Can someone please help.</p>\n<p>The generated class looks like this</p>\n<pre><code>public class ReceiveDataReqMsg\nextends JAXBElement&lt;ReceiveDataRequestType&gt;\n{\n\nprotected final static QName NAME = new QName(&quot;http://xmlns.kt/testservice/V4&quot;, &quot;ReceiveDataReqMsg&quot;);\n\npublic ReceiveDataReqMsg(ReceiveDataRequestType value) {\n    super(NAME, ((Class) ReceiveDataRequestType.class), null, value);\n}\n\npublic ReceiveReferenceDataReqMsg() {\n    super(NAME, ((Class) ReceiveDataRequestType.class), null, null);\n}\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","yaml"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1684333648,"post_id":76273188,"comment_id":134503368,"body_markdown":"Which `Environment` class are you talking about specifically?","body":"Which <code>Environment</code> class are you talking about specifically?"},{"owner":{"account_id":27648386,"reputation":1,"user_id":21103823,"display_name":"gluttony"},"score":0,"creation_date":1684366630,"post_id":76273188,"comment_id":134509869,"body_markdown":"org.springframework.core.env.Environment","body":"org.springframework.core.env.Environment"}],"owner":{"account_id":27648386,"reputation":1,"user_id":21103823,"display_name":"gluttony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684333527,"creation_date":1684333527,"question_id":76273188,"body_markdown":"the yml looks like this \r\n\r\n```\r\nclass:\r\n  student:\r\n    name:bob\r\n    number:12213550\r\n    gender:male\r\n```\r\nI want load the &#39;student&#39; as a map via Enviroment.getProperties(&quot;student&quot;,Map.class), but only get a null.\r\n\r\n\r\n\r\n\r\n\r\nI can load it with @ConfigurationProperties, which is weird since I was told they are actually similar.\r\n\r\nwhat&#39;s the difference between them? and how can I get this map with Enviroment Object?","title":"How to load a map object from yml with Enviroment.getProperties","body":"<p>the yml looks like this</p>\n<pre><code>class:\n  student:\n    name:bob\n    number:12213550\n    gender:male\n</code></pre>\n<p>I want load the 'student' as a map via Enviroment.getProperties(&quot;student&quot;,Map.class), but only get a null.</p>\n<p>I can load it with @ConfigurationProperties, which is weird since I was told they are actually similar.</p>\n<p>what's the difference between them? and how can I get this map with Enviroment Object?</p>\n"},{"tags":["java","android","kotlin","datetime-format","time-format"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1684333876,"post_id":76273181,"comment_id":134503441,"body_markdown":"Have you seen: https://stackoverflow.com/a/39992733/295004","body":"Have you seen: <a href=\"https://stackoverflow.com/a/39992733/295004\">stackoverflow.com/a/39992733/295004</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684335036,"post_id":76273181,"comment_id":134503789,"body_markdown":"[`DateTimeFormatter.ofLocalizedTime`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#ofLocalizedTime(java.time.format.FormatStyle))","body":"<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#ofLocalizedTime(java.time.format.FormatStyle)\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter.ofLocalizedTime</code></a>"}],"owner":{"account_id":9634824,"reputation":95,"user_id":7151323,"accept_rate":44,"display_name":"lexraid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684334913,"answer_count":0,"score":0,"last_activity_date":1684333500,"creation_date":1684333500,"question_id":76273181,"body_markdown":"I want to format a certain time/date,(HH:mm) to a specific locale type.\r\nFor example, I have 12:05 and I need it to be\r\n             - in french 12h05\r\n             - in dutch 12u05\r\n\r\nIs this possible without checking the current locale and adjust the result?\r\n\r\n``` \r\nfun String.hourFormat() : String {\r\n       val time = LocalTime.parse (this, DateTimeFormatter.ISO_DATE_TIME)\r\n       val result = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;).withLocale(LocaleManager.currentLocale())\r\n       return result\r\n     } \r\n```\r\nDoes there exist something already implemented to format the time based on locale?\r\nThe current approach for me is to manually check the locale :\r\n\r\n```\r\n   fun String.hourFormat() : String {\r\n....\r\nval localePattern = when (LocaleManager.currentLocale().name){\r\n                       &quot;FR&quot; -&gt; &quot;HH&#39;h&#39;mm&quot;\r\n                       &quot;NL&quot; -&gt; &quot;HH&#39;u&#39;mm&quot; \r\n                   }\r\n    DateTimeFormatter.ofPattern(localePattern)\r\n\r\n}\r\n```","title":"Android - format time (hour and minutes) to specific locale (12h05, 12u05.. etc)","body":"<p>I want to format a certain time/date,(HH:mm) to a specific locale type.\nFor example, I have 12:05 and I need it to be\n- in french 12h05\n- in dutch 12u05</p>\n<p>Is this possible without checking the current locale and adjust the result?</p>\n<pre><code>fun String.hourFormat() : String {\n       val time = LocalTime.parse (this, DateTimeFormatter.ISO_DATE_TIME)\n       val result = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;).withLocale(LocaleManager.currentLocale())\n       return result\n     } \n</code></pre>\n<p>Does there exist something already implemented to format the time based on locale?\nThe current approach for me is to manually check the locale :</p>\n<pre><code>   fun String.hourFormat() : String {\n....\nval localePattern = when (LocaleManager.currentLocale().name){\n                       &quot;FR&quot; -&gt; &quot;HH'h'mm&quot;\n                       &quot;NL&quot; -&gt; &quot;HH'u'mm&quot; \n                   }\n    DateTimeFormatter.ofPattern(localePattern)\n\n}\n</code></pre>\n"},{"tags":["java","spring","tomcat","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":3067505,"reputation":137,"user_id":2598888,"display_name":"Nitish Raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483603697,"creation_date":1483603697,"answer_id":41480040,"question_id":41479837,"body_markdown":"I would suggest first you should understand your application requirement. For the real production/live environment, are you going to use Infrastructure as a service or PAAS. \r\n\r\nIf **Infrastructure as a service** then \r\nI would suggest create local cluster environment and use the tomcat and spring application sticky session concept. Persist the session in Hazelcast or redis server installed on different node. Configure load balancer for multiple nodes having tomcat server. 2-3 VMs for testing purpose would be suitable.\r\n\r\nIf requirement is **PAAS** then\r\nDon&#39;t think about local environment. Test directly on OpenShift or AWS free account and trust me you would be able to test on **PAAS** if all setup is fine.","title":"Testing a Spring application on multiple JVMs","body":"<p>I would suggest first you should understand your application requirement. For the real production/live environment, are you going to use Infrastructure as a service or PAAS. </p>\n\n<p>If <strong>Infrastructure as a service</strong> then \nI would suggest create local cluster environment and use the tomcat and spring application sticky session concept. Persist the session in Hazelcast or redis server installed on different node. Configure load balancer for multiple nodes having tomcat server. 2-3 VMs for testing purpose would be suitable.</p>\n\n<p>If requirement is <strong>PAAS</strong> then\nDon't think about local environment. Test directly on OpenShift or AWS free account and trust me you would be able to test on <strong>PAAS</strong> if all setup is fine.</p>\n"},{"tags":[],"owner":{"account_id":5211690,"reputation":561,"user_id":4167902,"display_name":"Vincz777"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684333491,"creation_date":1684333491,"answer_id":76273180,"question_id":41479837,"body_markdown":"I would suggest that your Dockerize your application, then use [Testcontainer][1] in a dedicated testing module, where you can spawn your database, RabbitMQ and multiple instances of your application in the setup of your tests. Then you can perform your tests by calling your API, randomly hitting any of your application containers.\r\n\r\n\r\n  [1]: https://www.testcontainers.org/","title":"Testing a Spring application on multiple JVMs","body":"<p>I would suggest that your Dockerize your application, then use <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">Testcontainer</a> in a dedicated testing module, where you can spawn your database, RabbitMQ and multiple instances of your application in the setup of your tests. Then you can perform your tests by calling your API, randomly hitting any of your application containers.</p>\n"}],"owner":{"account_id":1282323,"reputation":4466,"user_id":1236153,"accept_rate":86,"display_name":"underdog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684333491,"creation_date":1483602856,"question_id":41479837,"body_markdown":"I have coded a Spring MVC Hibernate application with RabbitMQ as a messaging server &amp; a MySQL DB. I have also used Hazelcast an in-memory distributed cache to centralize the state of the application, moving the local tomcat session to a centralized session &amp; implementing distributed locks.\r\n\r\nThe app right now is hosted on a single tomcat server in my local system. \r\n\r\nI want to test my application on a multiple JVM node environment i&#39;e app running on multiple tomcat servers. \r\n\r\nWhat would be the best approach to test the app. \r\n\r\nFew things that come to my mind \r\n\r\nA. Install &amp; configure a load balancer &amp; set up a tomcat cluster in my local system. This I believe is a tedious task &amp; requires much effort.\r\n\r\nB. Host the application on a PAAS like OpenShift, cloudfoundry but I am not sure if I will be able to test my application on several nodes.\r\n\r\nC. Any other way to simulate a clustered environment on my local windows system?\r\n","title":"Testing a Spring application on multiple JVMs","body":"<p>I have coded a Spring MVC Hibernate application with RabbitMQ as a messaging server &amp; a MySQL DB. I have also used Hazelcast an in-memory distributed cache to centralize the state of the application, moving the local tomcat session to a centralized session &amp; implementing distributed locks.</p>\n\n<p>The app right now is hosted on a single tomcat server in my local system. </p>\n\n<p>I want to test my application on a multiple JVM node environment i'e app running on multiple tomcat servers. </p>\n\n<p>What would be the best approach to test the app. </p>\n\n<p>Few things that come to my mind </p>\n\n<p>A. Install &amp; configure a load balancer &amp; set up a tomcat cluster in my local system. This I believe is a tedious task &amp; requires much effort.</p>\n\n<p>B. Host the application on a PAAS like OpenShift, cloudfoundry but I am not sure if I will be able to test my application on several nodes.</p>\n\n<p>C. Any other way to simulate a clustered environment on my local windows system?</p>\n"},{"tags":["java","android","mapbox"],"owner":{"account_id":131842,"reputation":2983,"user_id":332132,"accept_rate":75,"display_name":"SteMa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684333403,"creation_date":1675882258,"question_id":75390440,"body_markdown":"I try to migrate my project to map box 10, but I ran into an issue, which I can&#39;t solve. \r\n\r\nWhen I try to import import com.mapbox.maps.plugin.locationcomponent.location; it says &quot;Cannot resolve symbol location&quot;. It seems, that the location does not exists in package location component.\r\n\r\nWhen I do the same import in a kotlin file, it is available ... Strange ....\r\n\r\nIn gradle, I have included the lines\r\n\r\n    implementation &#39;com.mapbox.maps:android:10.10.1&#39;\r\n    implementation &#39;com.mapbox.plugin:maps-locationcomponent:10.11.0-rc.1&#39;\r\n\r\nBut I can still not get the required components to show the users location.\r\n\r\nAny ideas?\r\n","title":"MapBox for Android migration to 10 (Java)","body":"<p>I try to migrate my project to map box 10, but I ran into an issue, which I can't solve.</p>\n<p>When I try to import import com.mapbox.maps.plugin.locationcomponent.location; it says &quot;Cannot resolve symbol location&quot;. It seems, that the location does not exists in package location component.</p>\n<p>When I do the same import in a kotlin file, it is available ... Strange ....</p>\n<p>In gradle, I have included the lines</p>\n<pre><code>implementation 'com.mapbox.maps:android:10.10.1'\nimplementation 'com.mapbox.plugin:maps-locationcomponent:10.11.0-rc.1'\n</code></pre>\n<p>But I can still not get the required components to show the users location.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","json","spring-boot","jackson","json-deserialization"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1684330992,"post_id":76272768,"comment_id":134502690,"body_markdown":"You are really trying to do everythig yourself whic is already provided by the &#167;restTemplate. Also you are writing the `objectMapper` as a string and not the object you want. But instead of using the objectmapper, ditch it and just put the `ObjectForRequestToReporter` in the `HttpEntity`. The `RestTemplate` will take care of the json conversion.","body":"You are really trying to do everythig yourself whic is already provided by the &#167;restTemplate. Also you are writing the <code>objectMapper</code> as a string and not the object you want. But instead of using the objectmapper, ditch it and just put the <code>ObjectForRequestToReporter</code> in the <code>HttpEntity</code>. The <code>RestTemplate</code> will take care of the json conversion."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1684334822,"post_id":76272768,"comment_id":134503718,"body_markdown":"You are serializing the `objectMapper`, not your `objectForRequestToReporter`. `objectMapper` does not have any properties to serialize (it is not a data class). -&gt; caused by a typo","body":"You are serializing the <code>objectMapper</code>, not your <code>objectForRequestToReporter</code>. <code>objectMapper</code> does not have any properties to serialize (it is not a data class). -&gt; caused by a typo"}],"answers":[{"tags":[],"owner":{"account_id":3585451,"reputation":6335,"user_id":2992754,"display_name":"juanlumn"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1684331083,"creation_date":1684331083,"answer_id":76272817,"question_id":76272768,"body_markdown":"I think you have a mistake in this line:\r\n\r\n    String jsonObject = objectMapper.writeValueAsString(objectMapper);\r\n\r\nMaybe it should be:\r\n\r\n    String jsonObject = objectMapper.writeValueAsString(objectForRequestToReporter);","title":"Why ObjectMapper writeValueAsString return empty string?","body":"<p>I think you have a mistake in this line:</p>\n<pre><code>String jsonObject = objectMapper.writeValueAsString(objectMapper);\n</code></pre>\n<p>Maybe it should be:</p>\n<pre><code>String jsonObject = objectMapper.writeValueAsString(objectForRequestToReporter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684331267,"creation_date":1684331267,"answer_id":76272843,"question_id":76272768,"body_markdown":"```java\r\nString jsonObject = objectMapper.writeValueAsString(objectMapper);\r\n```\r\n\r\nYou are trying to convert the `ObjectMapper` to json. \r\n\r\nWhat you want:\r\n\r\n```java\r\nString jsonObject = objectMapper.writeValueAsString(objectForRequestToReporter);\r\n```\r\n\r\nHowever your code is doing basically what the `RestTemplate` already does, and thus can be greatly simplified by removing the `ObjectMapper` as you don&#39;t need it. \r\n\r\n```java\r\npublic String getReportsFromReporter(@PathVariable(name = &quot;from&quot;)String from, \r\n  @PathVariable(name = &quot;to&quot;)String to) throws IOException {\r\n    String url = &quot;example.com&quot;;\r\n    \r\n    ObjectForRequestToReporter objectForRequestToReporter =\r\n            new ObjectForRequestToReporter();\r\n    objectForRequestToReporter.setToken(somedata);\r\n    objectForRequestToReporter.setEmployee(somedata);\r\n    objectForRequestToReporter.setFrom(from);\r\n    objectForRequestToReporter.setTo(to);\r\n\r\n    HttpHeaders httpHeaders = new HttpHeaders();\r\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n    httpHeaders.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(objectForRequestToReporter, httpHeaders);\r\n    return restTemplate.postForObject(url , entity, String.class);\r\n}\r\n\r\n```","title":"Why ObjectMapper writeValueAsString return empty string?","body":"<pre class=\"lang-java prettyprint-override\"><code>String jsonObject = objectMapper.writeValueAsString(objectMapper);\n</code></pre>\n<p>You are trying to convert the <code>ObjectMapper</code> to json.</p>\n<p>What you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String jsonObject = objectMapper.writeValueAsString(objectForRequestToReporter);\n</code></pre>\n<p>However your code is doing basically what the <code>RestTemplate</code> already does, and thus can be greatly simplified by removing the <code>ObjectMapper</code> as you don't need it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getReportsFromReporter(@PathVariable(name = &quot;from&quot;)String from, \n  @PathVariable(name = &quot;to&quot;)String to) throws IOException {\n    String url = &quot;example.com&quot;;\n    \n    ObjectForRequestToReporter objectForRequestToReporter =\n            new ObjectForRequestToReporter();\n    objectForRequestToReporter.setToken(somedata);\n    objectForRequestToReporter.setEmployee(somedata);\n    objectForRequestToReporter.setFrom(from);\n    objectForRequestToReporter.setTo(to);\n\n    HttpHeaders httpHeaders = new HttpHeaders();\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n    httpHeaders.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(objectForRequestToReporter, httpHeaders);\n    return restTemplate.postForObject(url , entity, String.class);\n}\n\n</code></pre>\n"}],"owner":{"account_id":28265452,"reputation":29,"user_id":21609481,"display_name":"Khaski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76272817,"answer_count":2,"score":0,"last_activity_date":1684333354,"creation_date":1684330774,"question_id":76272768,"body_markdown":"I need to serialize Java `Object` to `JSON`.\r\n\r\nBut when I use `writeValueAsString` method this method returns me empty JSON Object.\r\n\r\nHere is my `@RestController`:\r\n\r\n    public String getReportsFromReporter(\r\n                @PathVariable(name = &quot;from&quot;) String from, \r\n                @PathVariable(name = &quot;to&quot;) String to) throws IOException {\r\n        String url = &quot;example.com&quot;;\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        ObjectForRequestToReporter objectForRequestToReporter =\r\n                                   new ObjectForRequestToReporter();\r\n        objectForRequestToReporter.setToken(somedata);\r\n        objectForRequestToReporter.setEmployee(somedata);\r\n        objectForRequestToReporter.setFrom(from);\r\n        objectForRequestToReporter.setTo(to);\r\n        String jsonObject = objectMapper.writeValueAsString(objectMapper);\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n        httpHeaders.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(jsonObject, httpHeaders);\r\n        String ans = restTemplate.postForObject(url , entity, String.class);\r\n        String test = objectMapper.writerWithDefaultPrettyPrinter()\r\n                                  .writeValueAsString(objectMapper);\r\n        System.out.println(test);\r\n        System.out.println(jsonObject);\r\n        return ans;\r\n    }\r\n\r\n`System.out.println` shows this:\r\n\r\n     { }\r\n     {}\r\n \r\nGradle depedencies:\r\n\r\n    implementation(&quot;com.fasterxml.jackson.core:jackson-annotations:2.14.2&quot;)\r\n\timplementation(&quot;com.fasterxml.jackson.core:jackson-core:2.14.2&quot;)\r\n\timplementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.14.2&quot;)\r\n\r\nObject class for serialize:\r\n\r\n    @Data\r\n    public class ObjectForRequestToReporter {\r\n        private String token;\r\n        private String employee;\r\n        private String from;\r\n        private String to;\r\n        private final int work_after = 0;\r\n    }\r\n\r\nWhat am I doing wrong? How can I fix this?","title":"Why ObjectMapper writeValueAsString return empty string?","body":"<p>I need to serialize Java <code>Object</code> to <code>JSON</code>.</p>\n<p>But when I use <code>writeValueAsString</code> method this method returns me empty JSON Object.</p>\n<p>Here is my <code>@RestController</code>:</p>\n<pre><code>public String getReportsFromReporter(\n            @PathVariable(name = &quot;from&quot;) String from, \n            @PathVariable(name = &quot;to&quot;) String to) throws IOException {\n    String url = &quot;example.com&quot;;\n    ObjectMapper objectMapper = new ObjectMapper();\n    ObjectForRequestToReporter objectForRequestToReporter =\n                               new ObjectForRequestToReporter();\n    objectForRequestToReporter.setToken(somedata);\n    objectForRequestToReporter.setEmployee(somedata);\n    objectForRequestToReporter.setFrom(from);\n    objectForRequestToReporter.setTo(to);\n    String jsonObject = objectMapper.writeValueAsString(objectMapper);\n    HttpHeaders httpHeaders = new HttpHeaders();\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n    httpHeaders.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(jsonObject, httpHeaders);\n    String ans = restTemplate.postForObject(url , entity, String.class);\n    String test = objectMapper.writerWithDefaultPrettyPrinter()\n                              .writeValueAsString(objectMapper);\n    System.out.println(test);\n    System.out.println(jsonObject);\n    return ans;\n}\n</code></pre>\n<p><code>System.out.println</code> shows this:</p>\n<pre><code> { }\n {}\n</code></pre>\n<p>Gradle depedencies:</p>\n<pre><code>implementation(&quot;com.fasterxml.jackson.core:jackson-annotations:2.14.2&quot;)\nimplementation(&quot;com.fasterxml.jackson.core:jackson-core:2.14.2&quot;)\nimplementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.14.2&quot;)\n</code></pre>\n<p>Object class for serialize:</p>\n<pre><code>@Data\npublic class ObjectForRequestToReporter {\n    private String token;\n    private String employee;\n    private String from;\n    private String to;\n    private final int work_after = 0;\n}\n</code></pre>\n<p>What am I doing wrong? How can I fix this?</p>\n"},{"tags":["java","mysql","maven","spring-mvc","bcrypt"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684332823,"post_id":76273036,"comment_id":134503159,"body_markdown":"Remove your login method, Spring Security should handle that. Next to that your `register` doesn&#39;t encrypt passwords and for existing users you will need to change the passwords in the database to the encrypted ones","body":"Remove your login method, Spring Security should handle that. Next to that your <code>register</code> doesn&#39;t encrypt passwords and for existing users you will need to change the passwords in the database to the encrypted ones"}],"owner":{"account_id":26608877,"reputation":1,"user_id":20229301,"display_name":"Christian Lorenzen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684332581,"creation_date":1684332581,"question_id":76273036,"body_markdown":"I am making a Spring Web, java, MySQL, thymeleaf, maven project where I try to encode the passwords to the database. But every time I try to login or register a new user, I get redirected to the login page.\r\n\r\n\r\nUserDetailsService\r\n```\r\n@Service\r\n    public class CustomUserDetailsService implements UserDetailsService\r\n{\r\n\r\n        @Autowired\r\n        private UserRepository userRepository;\r\n\r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            User user = userRepository.getUserByEmail(username);\r\n            if (user == null) {\r\n                throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n            }\r\n            return new org.springframework.security.core.userdetails.User(user.getEmail(), user.getPassword(), new ArrayList&lt;&gt;());\r\n        }\r\n}\r\n```\r\n\r\nSecurityConfig:\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService);\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authenticationProvider(authenticationProvider())\r\n                .authorizeRequests(authorizeRequests -&gt;\r\n                        authorizeRequests\r\n                                .anyRequest().authenticated()\r\n                )\r\n                .formLogin(formLogin -&gt;\r\n                        formLogin\r\n                                .loginPage(&quot;/login&quot;)\r\n                                .defaultSuccessUrl(&quot;/allTasks&quot;, true)\r\n                                .loginProcessingUrl(&quot;/perform_login&quot;)\r\n                                .usernameParameter(&quot;email&quot;)\r\n                                .passwordParameter(&quot;password&quot;)\r\n                                .permitAll()\r\n                );\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nHomeController (essential parts):\r\n\r\n```\r\n@PostMapping(&quot;/login&quot;)\r\n    public String login(@RequestParam(&quot;email&quot;) String email,\r\n                        @RequestParam(&quot;password&quot;) String password,\r\n                        Model model,\r\n                        HttpSession session) {\r\n        try {\r\n            Authentication auth = authenticationManager.authenticate(\r\n                    new UsernamePasswordAuthenticationToken(email, password)\r\n            );\r\n            SecurityContextHolder.getContext().setAuthentication(auth);\r\n\r\n            User user = (User) auth.getPrincipal();\r\n            session.setAttribute(&quot;user&quot;, user);\r\n            return &quot;redirect:/allTasks&quot;;\r\n        } catch (BadCredentialsException e) {\r\n            model.addAttribute(&quot;errorMessage&quot;, &quot;Email or password invalid&quot;);\r\n            return &quot;login&quot;;\r\n        }\r\n    }\r\n\r\n@PostMapping(&quot;/addUser&quot;)\r\n    public String addUser(@RequestParam(&quot;user-firstname&quot;) String newFirstName,\r\n                          @RequestParam(&quot;user-lastname&quot;) String newLastName,\r\n                          @RequestParam(&quot;user-email&quot;) String newEmail,\r\n                          @RequestParam(&quot;user-password&quot;) String newPassword,\r\n                          HttpSession session)\r\n    {\r\n        if ( session.getAttribute(&quot;user&quot;) == null )\r\n        {\r\n            return &quot;redirect:/&quot;;\r\n        }\r\n\r\n        //lave en ny User\r\n        User newUser = new User();\r\n        newUser.setFirstName(newFirstName);\r\n        newUser.setLastName(newLastName);\r\n        newUser.setEmail(newEmail);\r\n        // Encrypt the password before setting it\r\n        String encryptedPassword = passwordEncoder.encode(newPassword);\r\n        newUser.setPassword(encryptedPassword);\r\n\r\n        //Gem ny User\r\n        userRepository.addUser(newUser);\r\n\r\n        //Tilbage til start s&#229; man kan logge ind\r\n        return &quot;start&quot;;\r\n    }\r\n\r\n@PostMapping(&quot;/register&quot;)\r\n    public String registerUser(@RequestParam(&quot;first_name&quot;) String firstname,\r\n                               @RequestParam(&quot;last_name&quot;) String lastname,\r\n                               @RequestParam(&quot;email&quot;) String email,\r\n                               @RequestParam(&quot;password&quot;) String password,\r\n                               Model model,\r\n                               HttpSession session)\r\n    {\r\n        //Check if user with mail already exists\r\n        if ( !userRepository.checkIfUserExists(email) )\r\n        {\r\n            User user = new User(firstname, lastname, email, password);\r\n            userRepository.addUser(user);\r\n            session.setAttribute(&quot;user&quot;, user);\r\n            return &quot;redirect:/allTasks&quot;;\r\n        }\r\n        else\r\n        {\r\n            model.addAttribute(&quot;errorMessage&quot;, &quot;Email already in use&quot;);\r\n            return &quot;register&quot;;\r\n        }\r\n    }\r\n```\r\n\r\nEverything worked before I began experimenting with encryption, so I think the problem is in the SecurityConfig or CustomUserDetailsService? Or what do you think?\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried having the encryption directly in the userRepository addTask, but it gave the same problem.\r\n\r\nI tried to have the verification happen manually in the userRepository but it gave me some problems with the encryption.","title":"Trying to setup Bcrypt on Spring Web app but I keep getting redirected back to the login page","body":"<p>I am making a Spring Web, java, MySQL, thymeleaf, maven project where I try to encode the passwords to the database. But every time I try to login or register a new user, I get redirected to the login page.</p>\n<p>UserDetailsService</p>\n<pre><code>@Service\n    public class CustomUserDetailsService implements UserDetailsService\n{\n\n        @Autowired\n        private UserRepository userRepository;\n\n        @Override\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n            User user = userRepository.getUserByEmail(username);\n            if (user == null) {\n                throw new UsernameNotFoundException(&quot;User not found&quot;);\n            }\n            return new org.springframework.security.core.userdetails.User(user.getEmail(), user.getPassword(), new ArrayList&lt;&gt;());\n        }\n}\n</code></pre>\n<p>SecurityConfig:</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authenticationProvider(authenticationProvider())\n                .authorizeRequests(authorizeRequests -&gt;\n                        authorizeRequests\n                                .anyRequest().authenticated()\n                )\n                .formLogin(formLogin -&gt;\n                        formLogin\n                                .loginPage(&quot;/login&quot;)\n                                .defaultSuccessUrl(&quot;/allTasks&quot;, true)\n                                .loginProcessingUrl(&quot;/perform_login&quot;)\n                                .usernameParameter(&quot;email&quot;)\n                                .passwordParameter(&quot;password&quot;)\n                                .permitAll()\n                );\n        return http.build();\n    }\n}\n</code></pre>\n<p>HomeController (essential parts):</p>\n<pre><code>@PostMapping(&quot;/login&quot;)\n    public String login(@RequestParam(&quot;email&quot;) String email,\n                        @RequestParam(&quot;password&quot;) String password,\n                        Model model,\n                        HttpSession session) {\n        try {\n            Authentication auth = authenticationManager.authenticate(\n                    new UsernamePasswordAuthenticationToken(email, password)\n            );\n            SecurityContextHolder.getContext().setAuthentication(auth);\n\n            User user = (User) auth.getPrincipal();\n            session.setAttribute(&quot;user&quot;, user);\n            return &quot;redirect:/allTasks&quot;;\n        } catch (BadCredentialsException e) {\n            model.addAttribute(&quot;errorMessage&quot;, &quot;Email or password invalid&quot;);\n            return &quot;login&quot;;\n        }\n    }\n\n@PostMapping(&quot;/addUser&quot;)\n    public String addUser(@RequestParam(&quot;user-firstname&quot;) String newFirstName,\n                          @RequestParam(&quot;user-lastname&quot;) String newLastName,\n                          @RequestParam(&quot;user-email&quot;) String newEmail,\n                          @RequestParam(&quot;user-password&quot;) String newPassword,\n                          HttpSession session)\n    {\n        if ( session.getAttribute(&quot;user&quot;) == null )\n        {\n            return &quot;redirect:/&quot;;\n        }\n\n        //lave en ny User\n        User newUser = new User();\n        newUser.setFirstName(newFirstName);\n        newUser.setLastName(newLastName);\n        newUser.setEmail(newEmail);\n        // Encrypt the password before setting it\n        String encryptedPassword = passwordEncoder.encode(newPassword);\n        newUser.setPassword(encryptedPassword);\n\n        //Gem ny User\n        userRepository.addUser(newUser);\n\n        //Tilbage til start så man kan logge ind\n        return &quot;start&quot;;\n    }\n\n@PostMapping(&quot;/register&quot;)\n    public String registerUser(@RequestParam(&quot;first_name&quot;) String firstname,\n                               @RequestParam(&quot;last_name&quot;) String lastname,\n                               @RequestParam(&quot;email&quot;) String email,\n                               @RequestParam(&quot;password&quot;) String password,\n                               Model model,\n                               HttpSession session)\n    {\n        //Check if user with mail already exists\n        if ( !userRepository.checkIfUserExists(email) )\n        {\n            User user = new User(firstname, lastname, email, password);\n            userRepository.addUser(user);\n            session.setAttribute(&quot;user&quot;, user);\n            return &quot;redirect:/allTasks&quot;;\n        }\n        else\n        {\n            model.addAttribute(&quot;errorMessage&quot;, &quot;Email already in use&quot;);\n            return &quot;register&quot;;\n        }\n    }\n</code></pre>\n<p>Everything worked before I began experimenting with encryption, so I think the problem is in the SecurityConfig or CustomUserDetailsService? Or what do you think?</p>\n<p>I tried having the encryption directly in the userRepository addTask, but it gave the same problem.</p>\n<p>I tried to have the verification happen manually in the userRepository but it gave me some problems with the encryption.</p>\n"},{"tags":["java","kotlin","anchor","augmented-reality","arcore"],"owner":{"account_id":28620606,"reputation":1,"user_id":21913739,"display_name":"eschienator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684332402,"creation_date":1684329913,"question_id":76272617,"body_markdown":"I&#39;m looping trough a list with coordinates in it and want to place multiple anchors. Now only the last one get rendered because it overrides it.\r\n\r\n\r\n    //loop trough the items in array\r\n    for(item in a){\r\n      //remove the { and } from the string\r\n      var b = item.replace(&quot;}&quot;, &quot;&quot;)\r\n      b = b.replace(&quot;{&quot;, &quot;&quot;)\r\n\r\n      //split the string on the , to get the values\r\n      var c = b.split(&quot;,&quot;)\r\n\r\n      var x = (c[1].split(&quot;:&quot;)[1])\r\n      var y = (c[2].split(&quot;:&quot;)[1])\r\n\r\n      val anchor =\r\n        session?.earth?.createAnchor(\r\n          /* Locational values */\r\n          x.toDouble(),\r\n          y.toDouble(),\r\n          session?.earth?.cameraGeospatialPose?.altitude?.minus(1)!!,\r\n          /* Rotational pose values */\r\n          0f,\r\n          0f,\r\n          0f,\r\n          1f\r\n        )\r\n}\r\n\r\nI don&#39;t mind the first steps for formatting de data from api call and making an array.\r\n\r\nThe item in the loop is an array with the first element being a name and the other two the coordinates.\r\n\r\nOnly the last item in the array is being created.","title":"How can I place mutliple anchors while looping trough a list with the coordinates in ArCore for Java/Kotlin?","body":"<p>I'm looping trough a list with coordinates in it and want to place multiple anchors. Now only the last one get rendered because it overrides it.</p>\n<pre><code>//loop trough the items in array\nfor(item in a){\n  //remove the { and } from the string\n  var b = item.replace(&quot;}&quot;, &quot;&quot;)\n  b = b.replace(&quot;{&quot;, &quot;&quot;)\n\n  //split the string on the , to get the values\n  var c = b.split(&quot;,&quot;)\n\n  var x = (c[1].split(&quot;:&quot;)[1])\n  var y = (c[2].split(&quot;:&quot;)[1])\n\n  val anchor =\n    session?.earth?.createAnchor(\n      /* Locational values */\n      x.toDouble(),\n      y.toDouble(),\n      session?.earth?.cameraGeospatialPose?.altitude?.minus(1)!!,\n      /* Rotational pose values */\n      0f,\n      0f,\n      0f,\n      1f\n    )\n</code></pre>\n<p>}</p>\n<p>I don't mind the first steps for formatting de data from api call and making an array.</p>\n<p>The item in the loop is an array with the first element being a name and the other two the coordinates.</p>\n<p>Only the last item in the array is being created.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24443549,"reputation":360,"user_id":18366890,"display_name":"Stevie"},"score":0,"creation_date":1684331972,"post_id":76272896,"comment_id":134502956,"body_markdown":"Could you please add your build.gradle file?","body":"Could you please add your build.gradle file?"}],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684332019,"creation_date":1684332019,"answer_id":76272954,"question_id":76272896,"body_markdown":"You need to ensure you run gradle with java 17 or higher.\r\n\r\nIf you run build via the command line, please check `java -version`\r\n\r\nIf you run a build via IDE (for example, IDEA), ensure your IDE uses the correct Java. For example, for IDEA it can be done in `Settings -&gt; Build,execution,deployment -&gt; Gradle -&gt; Gradle JVM`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fcJKW.jpg","title":"No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.5 was found","body":"<p>You need to ensure you run gradle with java 17 or higher.</p>\n<p>If you run build via the command line, please check <code>java -version</code></p>\n<p>If you run a build via IDE (for example, IDEA), ensure your IDE uses the correct Java. For example, for IDEA it can be done in <code>Settings -&gt; Build,execution,deployment -&gt; Gradle -&gt; Gradle JVM</code></p>\n<p><a href=\"https://i.stack.imgur.com/fcJKW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fcJKW.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28620836,"reputation":3,"user_id":21913916,"display_name":"ppp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76272954,"answer_count":1,"score":0,"last_activity_date":1684332019,"creation_date":1684331583,"question_id":76272896,"body_markdown":"I updated the springboot version 2.7.9 to 3.0.5 in build.gradle and not able to build project, it says \r\n\r\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.5 was found. The consumer was configured to find a runtime of a library compatible with Java 14, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.4.2&#39; but:\r\n          - Variant &#39;apiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.5 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 14.\r\n\r\n\r\n\r\nI&#39;ve also tried to changed java version from 17 to 14 but still getting same.","title":"No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.5 was found","body":"<p>I updated the springboot version 2.7.9 to 3.0.5 in build.gradle and not able to build project, it says</p>\n<pre><code>  &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.5 was found. The consumer was configured to find a runtime of a library compatible with Java 14, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.4.2' but:\n      - Variant 'apiElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.0.5 declares a library, packaged as a jar, and its dependencies declared externally:\n          - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 14.\n</code></pre>\n<p>I've also tried to changed java version from 17 to 14 but still getting same.</p>\n"},{"tags":["java","spring-boot","shiro"],"comments":[{"owner":{"account_id":14860286,"reputation":11,"user_id":10731360,"display_name":"SN.Tao"},"score":0,"creation_date":1684335210,"post_id":76272938,"comment_id":134503847,"body_markdown":"I solve this problem by changing the /user/info from authc to anon. It worked, the unit test and axios will be redirect to /user/unauthc successfully. But I don&#39;t know why it worked.","body":"I solve this problem by changing the /user/info from authc to anon. It worked, the unit test and axios will be redirect to /user/unauthc successfully. But I don&#39;t know why it worked."}],"owner":{"account_id":14860286,"reputation":11,"user_id":10731360,"display_name":"SN.Tao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684331900,"creation_date":1684331900,"question_id":76272938,"body_markdown":"My code is based on Springboot, and I use shiro to implement login and permission manage. \r\n\r\nI have a method to get user info, the data will be returned as json format.\r\n\r\n```\r\n@GetMapping(&quot;/info&quot;)\r\n@RequiresAuthentication\r\npublic User info(HttpSession session) {\r\n    return userService.info(session);\r\n}\r\n```\r\n\r\nThere is my shiro config. **When I logout and call the info method, shiro will redirect the request to loginUrl eg &#39;/user/unauthc&#39;.**\r\n```\r\n@Bean\r\npublic ShiroFilterFactoryBean shiroFilterFactoryBean(DefaultWebSecurityManager securityManager) {\r\n    ShiroFilterFactoryBean factoryBean = new ShiroFilterFactoryBean();\r\n    factoryBean.setSecurityManager(securityManager);\r\n    factoryBean.setLoginUrl(&quot;/user/unauthc&quot;);\r\n    factoryBean.setSuccessUrl(&quot;/&quot;);\r\n    Map&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\r\n    map.put(&quot;/user/login&quot;, &quot;anon&quot;);\r\n    map.put(&quot;/**&quot;, &quot;authc&quot;);\r\n    factoryBean.setFilterChainDefinitionMap(map);\r\n    return factoryBean;\r\n}\r\n```\r\n\r\nThere is my &#39;/user/unauthc&#39; method. It will be throw an UnauthenticatedException. And I have a handler to catch this exception and return a 403 response.\r\n\r\n```\r\n@GetMapping(&quot;/unauthc&quot;)\r\npublic void unauthc() {\r\n    throw new UnauthenticatedException();\r\n}\r\n\r\n@ExceptionHandler(UnauthenticatedException.class)\r\nResponseEntity&lt;String&gt; handleUnauthenticatedException(UnauthenticatedException e) {\r\n    log.info(e.getMessage());\r\n    return new ResponseEntity&lt;&gt;(&quot;User not login&quot;, HttpStatus.FORBIDDEN);\r\n}\r\n```\r\n\r\nHere is my question: when I test info method with logout status in unit test, I excepted a 403 code. However, I got a 302 code. Even having the same problem in axios request. So how can I solve this problem.\r\n\r\nThere is my unit test code and the log.\r\n```\r\n@Test\r\npublic void testInfo() throws Exception {\r\n    MockHttpSession session = new MockHttpSession();\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/user/info&quot;).session(session))\r\n             .andExpect(MockMvcResultMatchers.status().isUnauthorized());\r\n}\r\n```\r\n```\r\nMockHttpServletRequest:\r\n      HTTP Method = GET\r\n      Request URI = /user/info\r\n       Parameters = {}\r\n          Headers = []\r\n             Body = null\r\n    Session Attrs = {shiroSavedRequest=org.apache.shiro.web.util.SavedRequest@6af310c7, org.apache.shiro.web.session.HttpServletSession.HOST_SESSION_KEY=localhost}\r\n\r\nHandler:\r\n             Type = null\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 302\r\n    Error message = null\r\n          Headers = [Location:&quot;/user/unauthc&quot;]\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = /user/unauthc\r\n          Cookies = []\r\n\r\njava.lang.AssertionError: Status expected:&lt;401&gt; but was:&lt;302&gt;\r\nExpected :401\r\nActual   :302\r\n```\r\n\r\nI try to search this problem but the result I got is to modify `FormAuthenticationFilter`.","title":"Shiro probelm. a 302 problem occurs when I call an interface that requires permission with logout status","body":"<p>My code is based on Springboot, and I use shiro to implement login and permission manage.</p>\n<p>I have a method to get user info, the data will be returned as json format.</p>\n<pre><code>@GetMapping(&quot;/info&quot;)\n@RequiresAuthentication\npublic User info(HttpSession session) {\n    return userService.info(session);\n}\n</code></pre>\n<p>There is my shiro config. <strong>When I logout and call the info method, shiro will redirect the request to loginUrl eg '/user/unauthc'.</strong></p>\n<pre><code>@Bean\npublic ShiroFilterFactoryBean shiroFilterFactoryBean(DefaultWebSecurityManager securityManager) {\n    ShiroFilterFactoryBean factoryBean = new ShiroFilterFactoryBean();\n    factoryBean.setSecurityManager(securityManager);\n    factoryBean.setLoginUrl(&quot;/user/unauthc&quot;);\n    factoryBean.setSuccessUrl(&quot;/&quot;);\n    Map&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\n    map.put(&quot;/user/login&quot;, &quot;anon&quot;);\n    map.put(&quot;/**&quot;, &quot;authc&quot;);\n    factoryBean.setFilterChainDefinitionMap(map);\n    return factoryBean;\n}\n</code></pre>\n<p>There is my '/user/unauthc' method. It will be throw an UnauthenticatedException. And I have a handler to catch this exception and return a 403 response.</p>\n<pre><code>@GetMapping(&quot;/unauthc&quot;)\npublic void unauthc() {\n    throw new UnauthenticatedException();\n}\n\n@ExceptionHandler(UnauthenticatedException.class)\nResponseEntity&lt;String&gt; handleUnauthenticatedException(UnauthenticatedException e) {\n    log.info(e.getMessage());\n    return new ResponseEntity&lt;&gt;(&quot;User not login&quot;, HttpStatus.FORBIDDEN);\n}\n</code></pre>\n<p>Here is my question: when I test info method with logout status in unit test, I excepted a 403 code. However, I got a 302 code. Even having the same problem in axios request. So how can I solve this problem.</p>\n<p>There is my unit test code and the log.</p>\n<pre><code>@Test\npublic void testInfo() throws Exception {\n    MockHttpSession session = new MockHttpSession();\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/user/info&quot;).session(session))\n             .andExpect(MockMvcResultMatchers.status().isUnauthorized());\n}\n</code></pre>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = GET\n      Request URI = /user/info\n       Parameters = {}\n          Headers = []\n             Body = null\n    Session Attrs = {shiroSavedRequest=org.apache.shiro.web.util.SavedRequest@6af310c7, org.apache.shiro.web.session.HttpServletSession.HOST_SESSION_KEY=localhost}\n\nHandler:\n             Type = null\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 302\n    Error message = null\n          Headers = [Location:&quot;/user/unauthc&quot;]\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = /user/unauthc\n          Cookies = []\n\njava.lang.AssertionError: Status expected:&lt;401&gt; but was:&lt;302&gt;\nExpected :401\nActual   :302\n</code></pre>\n<p>I try to search this problem but the result I got is to modify <code>FormAuthenticationFilter</code>.</p>\n"},{"tags":["java","eclipse","algorithm","stdin"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1492116441,"post_id":43401347,"comment_id":73863526,"body_markdown":"Try typing ctrl+Z.","body":"Try typing ctrl+Z."},{"owner":{"account_id":10024162,"reputation":731,"user_id":7412836,"accept_rate":36,"display_name":"RB34"},"score":0,"creation_date":1492116598,"post_id":43401347,"comment_id":73863612,"body_markdown":"I tried this already. I am on a mac btw.","body":"I tried this already. I am on a mac btw."},{"owner":{"account_id":1601399,"reputation":289,"user_id":1482356,"display_name":"Peter Adrian"},"score":0,"creation_date":1492117194,"post_id":43401347,"comment_id":73863854,"body_markdown":"I think you should use hasNextLine instead of isEmpty. Try kill command in another window to stop the program (https://www.howtogeek.com/209658/how-to-force-applications-and-processes-to-quit-on-os-x/).","body":"I think you should use hasNextLine instead of isEmpty. Try kill command in another window to stop the program (<a href=\"https://www.howtogeek.com/209658/how-to-force-applications-and-processes-to-quit-on-os-x/\" rel=\"nofollow noreferrer\">howtogeek.com/209658/&hellip;</a>)."},{"owner":{"account_id":10024162,"reputation":731,"user_id":7412836,"accept_rate":36,"display_name":"RB34"},"score":0,"creation_date":1492117427,"post_id":43401347,"comment_id":73863952,"body_markdown":"I am looking for a greater understanding of the method. I haven&#39;t had any trouble with my system getting stuck. (as i said in my post there is a line that reads user input so the program doesn&#39;t infinitely loop without me doing anything)","body":"I am looking for a greater understanding of the method. I haven&#39;t had any trouble with my system getting stuck. (as i said in my post there is a line that reads user input so the program doesn&#39;t infinitely loop without me doing anything)"}],"answers":[{"tags":[],"owner":{"account_id":148005,"reputation":3416,"user_id":359487,"display_name":"Rui Carvalho"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1502034433,"creation_date":1502030129,"answer_id":45533047,"question_id":43401347,"body_markdown":"I think that on Mac you can use `CMD+D` (`⌘+D`) to mark the end of input to the shell. See: https://www.jetbrains.com/help/idea/debug-tool-window-console.html\r\n\r\n&gt; **Keyboard Shortcuts**\r\n&gt; \r\n&gt; The ⌘D key combination allows you to send EOF (end of file), i.e. to\r\n&gt; signal that no more data can be read from a data source.\r\n\r\nOn the issue of the Princeton libraries provided in the Algorithms - Part 1 in Coursera&#39;s course, you can play a bit with their code, particularly in the class `import edu.princeton.cs.algs4.StdIn;`. Their implementation that uses that code is probably not the most sophisticated to play with the concepts:\r\n\r\n    while (!StdIn.isEmpty()) {\r\n         int p = StdIn.readInt();\r\n         int q = StdIn.readInt();\r\n    \r\n         if (!uf.connected(p, q)) {\r\n             uf.union(p, q);\r\n             StdOut.println(p + &quot; &quot; + q);\r\n         }\r\n    }\r\n\r\nHere&#39;s what I did: \r\n\r\n 1. Created new Java project in IntelliJ\r\n 2. Create new java package (will be under src)\r\n 3. Create new class for their examples, that will have a main method\r\n 4. Created libs folder in project\r\n 5. Downloaded their code from http://algs4.cs.princeton.edu/code/algs4.jar and placed that jar in the libs folder\r\n 6. Added that lib to project - on project tab in IntelliJ, right click the project &gt; Open Module Settings  &gt; Click dependencies tab &gt; Click &#39;+&#39; &gt; JAR or directories... &gt; choose the jar from libs folder above\r\n 7. I changed the code in the while loop above to have a better user interaction on the shell (be creative here - instead of using the isEmpty() use a check for p and q to be both 0 to mark end of input, for example. \r\n\r\nNow to run that just do right-click on the code that has the class with the main static method, and choose Run (CTRL+SHIFT+R).\r\n\r\nThis will avoid the dreaded CMD+D and some issues that go with it if you want to write more code after the while loop - for instance, I added code to check if 2 objects are connect:\r\n\r\n    StdOut.println(&quot;Check if 2 objects are connected: &quot;);\r\n    try {\r\n        Scanner reader = new Scanner(System.in);  // Reading from System.in\r\n        System.out.println(&quot;Enter first object: &quot;);\r\n        int n = reader.nextInt(); // Scans the next token of the input as an int.\r\n        System.out.println(&quot;Enter second object: &quot;);\r\n        int m = reader.nextInt(); // Scans the next token of the input as an int.\r\n        StdOut.println(uf.connected(n, m) ? &quot;Connected&quot; : &quot;Not Connected&quot;);\r\n    } catch(Exception e) {\r\n        // whatever...\r\n    }\r\n\r\nHere&#39;s my very quick and dirty approach to the problem:\r\n\r\n    package com.algorithms;\r\n    \r\n    import edu.princeton.cs.algs4.StdIn;\r\n    import edu.princeton.cs.algs4.StdOut;\r\n    import edu.princeton.cs.algs4.UF;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Week1 {\r\n        private static UF uf;\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            StdOut.println(&quot;Enter the total number of objects: &quot;);\r\n            int N = StdIn.readInt();\r\n    \r\n            StdOut.println(&quot;Enter the unions between any of those objects...&quot;);\r\n    \r\n            Week1.uf = new UF(N);\r\n            while (true) {\r\n    \r\n                int p = StdIn.readInt();\r\n                int q = StdIn.readInt();\r\n    \r\n                if (!uf.connected(p, q)) {\r\n                    Week1.uf.union(p, q);\r\n                    StdOut.println(p + &quot; &quot; + q);\r\n                }\r\n    \r\n                if(p==0 &amp;&amp; q==0) break;\r\n            }\r\n            checkIfConnected();\r\n        }\r\n    \r\n        private static void checkIfConnected()\r\n        {\r\n            StdOut.println(&quot;Check if 2 objects are connected: &quot;);\r\n            try {\r\n                Scanner reader = new Scanner(System.in);  // Reading from System.in\r\n                System.out.println(&quot;Enter first object: &quot;);\r\n                int n = reader.nextInt(); // Scans the next token of the input as an int.\r\n                System.out.println(&quot;Enter second object: &quot;);\r\n                int m = reader.nextInt(); // Scans the next token of the input as an int.\r\n                StdOut.println(Week1.uf.connected(n, m) ? &quot;Connected&quot; : &quot;Not Connected&quot;);\r\n            } catch(Exception e) {}\r\n        }\r\n    }\r\n\r\n\r\n","title":"how to make StdIn.isEmpty() return true?","body":"<p>I think that on Mac you can use <code>CMD+D</code> (<code>⌘+D</code>) to mark the end of input to the shell. See: <a href=\"https://www.jetbrains.com/help/idea/debug-tool-window-console.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/debug-tool-window-console.html</a></p>\n\n<blockquote>\n  <p><strong>Keyboard Shortcuts</strong></p>\n  \n  <p>The ⌘D key combination allows you to send EOF (end of file), i.e. to\n  signal that no more data can be read from a data source.</p>\n</blockquote>\n\n<p>On the issue of the Princeton libraries provided in the Algorithms - Part 1 in Coursera's course, you can play a bit with their code, particularly in the class <code>import edu.princeton.cs.algs4.StdIn;</code>. Their implementation that uses that code is probably not the most sophisticated to play with the concepts:</p>\n\n<pre><code>while (!StdIn.isEmpty()) {\n     int p = StdIn.readInt();\n     int q = StdIn.readInt();\n\n     if (!uf.connected(p, q)) {\n         uf.union(p, q);\n         StdOut.println(p + \" \" + q);\n     }\n}\n</code></pre>\n\n<p>Here's what I did: </p>\n\n<ol>\n<li>Created new Java project in IntelliJ</li>\n<li>Create new java package (will be under src)</li>\n<li>Create new class for their examples, that will have a main method</li>\n<li>Created libs folder in project</li>\n<li>Downloaded their code from <a href=\"http://algs4.cs.princeton.edu/code/algs4.jar\" rel=\"noreferrer\">http://algs4.cs.princeton.edu/code/algs4.jar</a> and placed that jar in the libs folder</li>\n<li>Added that lib to project - on project tab in IntelliJ, right click the project > Open Module Settings  > Click dependencies tab > Click '+' > JAR or directories... > choose the jar from libs folder above</li>\n<li>I changed the code in the while loop above to have a better user interaction on the shell (be creative here - instead of using the isEmpty() use a check for p and q to be both 0 to mark end of input, for example. </li>\n</ol>\n\n<p>Now to run that just do right-click on the code that has the class with the main static method, and choose Run (CTRL+SHIFT+R).</p>\n\n<p>This will avoid the dreaded CMD+D and some issues that go with it if you want to write more code after the while loop - for instance, I added code to check if 2 objects are connect:</p>\n\n<pre><code>StdOut.println(\"Check if 2 objects are connected: \");\ntry {\n    Scanner reader = new Scanner(System.in);  // Reading from System.in\n    System.out.println(\"Enter first object: \");\n    int n = reader.nextInt(); // Scans the next token of the input as an int.\n    System.out.println(\"Enter second object: \");\n    int m = reader.nextInt(); // Scans the next token of the input as an int.\n    StdOut.println(uf.connected(n, m) ? \"Connected\" : \"Not Connected\");\n} catch(Exception e) {\n    // whatever...\n}\n</code></pre>\n\n<p>Here's my very quick and dirty approach to the problem:</p>\n\n<pre><code>package com.algorithms;\n\nimport edu.princeton.cs.algs4.StdIn;\nimport edu.princeton.cs.algs4.StdOut;\nimport edu.princeton.cs.algs4.UF;\n\nimport java.util.Scanner;\n\npublic class Week1 {\n    private static UF uf;\n\n    public static void main(String[] args)\n    {\n        StdOut.println(\"Enter the total number of objects: \");\n        int N = StdIn.readInt();\n\n        StdOut.println(\"Enter the unions between any of those objects...\");\n\n        Week1.uf = new UF(N);\n        while (true) {\n\n            int p = StdIn.readInt();\n            int q = StdIn.readInt();\n\n            if (!uf.connected(p, q)) {\n                Week1.uf.union(p, q);\n                StdOut.println(p + \" \" + q);\n            }\n\n            if(p==0 &amp;&amp; q==0) break;\n        }\n        checkIfConnected();\n    }\n\n    private static void checkIfConnected()\n    {\n        StdOut.println(\"Check if 2 objects are connected: \");\n        try {\n            Scanner reader = new Scanner(System.in);  // Reading from System.in\n            System.out.println(\"Enter first object: \");\n            int n = reader.nextInt(); // Scans the next token of the input as an int.\n            System.out.println(\"Enter second object: \");\n            int m = reader.nextInt(); // Scans the next token of the input as an int.\n            StdOut.println(Week1.uf.connected(n, m) ? \"Connected\" : \"Not Connected\");\n        } catch(Exception e) {}\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9635834,"reputation":121,"user_id":10166131,"display_name":"eGregius"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1535119698,"creation_date":1535119698,"answer_id":52006268,"question_id":43401347,"body_markdown":"&gt; Before reading each number, the program uses the method StdIn.isEmpty() to check whether there are any more numbers in the input stream. How do we signal that we have no more data to type? By convention, we type a special sequence of characters known as the end-of-file sequence. Unfortunately, the terminal applications that we typically encounter on modern operating systems use different conventions for this critically important sequence. In this book, we use Ctrl-D...\r\n&gt; *Computer Science  Sedgewick*\r\n\r\nTherefore `isEmpty` is actually `isCtrl-D`.\r\n\r\nAlso, try `StdIn.isEmpty()` in the terminal application without anything beforehand will leave you with no boolean but a standard input stream requesting inputs. So when a program like the following one runs:\r\n\r\n    public class Average\r\n      {\r\n         public static void main(String[] args)\r\n         {  // Average the numbers on standard input.\r\n            double sum = 0.0;\r\n            int n = 0;\r\n            while (!StdIn.isEmpty())\r\n            {  // Read a number from standard input and add to sum.\r\n               double value = StdIn.readDouble();\r\n               sum += value;\r\n               n++;\r\n            }\r\n            double average = sum / n;\r\n            StdOut.println(&quot;Average is &quot; + average);\r\n         }\r\n     } \r\n, the standard input stream pops out when decide the conditional `while (!StdIn.isEmpty)` for the first time instead of `StdIn.readDouble()`. If you then type in some numbers, return them, causing standard input stream to be non-empty, the program would then jump inside the while body. I found out this is the case by testing \r\n\r\n    &gt; java Average\r\n     [DrJava Input Box] (And I hit Ctrl+D here)\r\n    Average is NaN\r\nNaN means n = 0 which means the while body was left no touched. ","title":"how to make StdIn.isEmpty() return true?","body":"<blockquote>\n  <p>Before reading each number, the program uses the method StdIn.isEmpty() to check whether there are any more numbers in the input stream. How do we signal that we have no more data to type? By convention, we type a special sequence of characters known as the end-of-file sequence. Unfortunately, the terminal applications that we typically encounter on modern operating systems use different conventions for this critically important sequence. In this book, we use Ctrl-D...\n  <em>Computer Science  Sedgewick</em></p>\n</blockquote>\n\n<p>Therefore <code>isEmpty</code> is actually <code>isCtrl-D</code>.</p>\n\n<p>Also, try <code>StdIn.isEmpty()</code> in the terminal application without anything beforehand will leave you with no boolean but a standard input stream requesting inputs. So when a program like the following one runs:</p>\n\n<pre><code>public class Average\n  {\n     public static void main(String[] args)\n     {  // Average the numbers on standard input.\n        double sum = 0.0;\n        int n = 0;\n        while (!StdIn.isEmpty())\n        {  // Read a number from standard input and add to sum.\n           double value = StdIn.readDouble();\n           sum += value;\n           n++;\n        }\n        double average = sum / n;\n        StdOut.println(\"Average is \" + average);\n     }\n } \n</code></pre>\n\n<p>, the standard input stream pops out when decide the conditional <code>while (!StdIn.isEmpty)</code> for the first time instead of <code>StdIn.readDouble()</code>. If you then type in some numbers, return them, causing standard input stream to be non-empty, the program would then jump inside the while body. I found out this is the case by testing </p>\n\n<pre><code>&gt; java Average\n [DrJava Input Box] (And I hit Ctrl+D here)\nAverage is NaN\n</code></pre>\n\n<p>NaN means n = 0 which means the while body was left no touched. </p>\n"},{"tags":[],"owner":{"account_id":2146055,"reputation":2489,"user_id":1903668,"accept_rate":65,"display_name":"Alen Lee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543047006,"creation_date":1543046324,"answer_id":53456289,"question_id":43401347,"body_markdown":"1. press `Enter` to next line\r\n2. Lost cursor\r\n3. Back the windows/cursor, try press `Ctrl + Z`, the `StdIn.isEmpty()` will return `true`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mqIbY.jpg","title":"how to make StdIn.isEmpty() return true?","body":"<ol>\n<li>press <code>Enter</code> to next line</li>\n<li>Lost cursor</li>\n<li>Back the windows/cursor, try press <code>Ctrl + Z</code>, the <code>StdIn.isEmpty()</code> will return <code>true</code></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/mqIbY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mqIbY.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":22856917,"reputation":76,"user_id":17001641,"display_name":"Daniel Hu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684331893,"creation_date":1684331893,"answer_id":76272935,"question_id":43401347,"body_markdown":"Same `StdIn.isEmpty()` method from the Princeton libraries provided in the Algorithms Coursera algorithms course.  \r\nThe issue with sending `EOF` in IntelliJ IDEA might be due to a conflict with another shortcut, or because no shortcut is set for `EOF`.\r\nI just fixed it by changing my IDEA shortcut as follows:\r\n1. go to `Settings` -&gt; `Keymap`\r\n2. search `eof`\r\n3. add/change the shortcut for whatever you like.\r\n\r\n[IDEA set EOF shortcut][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yfPEG.png\r\n\r\nThis should allow you to terminate the while loop in your Java program using the new keyboard shortcut you have set.","title":"how to make StdIn.isEmpty() return true?","body":"<p>Same <code>StdIn.isEmpty()</code> method from the Princeton libraries provided in the Algorithms Coursera algorithms course.<br />\nThe issue with sending <code>EOF</code> in IntelliJ IDEA might be due to a conflict with another shortcut, or because no shortcut is set for <code>EOF</code>.\nI just fixed it by changing my IDEA shortcut as follows:</p>\n<ol>\n<li>go to <code>Settings</code> -&gt; <code>Keymap</code></li>\n<li>search <code>eof</code></li>\n<li>add/change the shortcut for whatever you like.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/yfPEG.png\" rel=\"nofollow noreferrer\">IDEA set EOF shortcut</a></p>\n<p>This should allow you to terminate the while loop in your Java program using the new keyboard shortcut you have set.</p>\n"}],"owner":{"account_id":10024162,"reputation":731,"user_id":7412836,"accept_rate":36,"display_name":"RB34"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8959,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":4,"score":21,"last_activity_date":1684331893,"creation_date":1492116092,"question_id":43401347,"body_markdown":"I am using the StdIn.isEmpty() method from the Princeton libraries provided in the Algorithms Coursera algorithms course but am confused as to how it works. I have the statement \r\n\r\n    while (!StdIn.isEmpty())\r\n\r\nwith some code enclosed that reads user input but I can&#39;t seem to break out of the loop. By my understanding if I hit enter without typing in any text that should mean that standard input is empty and the while loop should be broken. I looked up the code for isEmpty but it did not clarify anything: \r\n\r\n    public static boolean isEmpty() {\r\n        return !scanner.hasNext();\r\n    }\r\n\r\nCan someone clarify how standard input works and help me fix my misunderstanding of this method?","title":"how to make StdIn.isEmpty() return true?","body":"<p>I am using the StdIn.isEmpty() method from the Princeton libraries provided in the Algorithms Coursera algorithms course but am confused as to how it works. I have the statement </p>\n\n<pre><code>while (!StdIn.isEmpty())\n</code></pre>\n\n<p>with some code enclosed that reads user input but I can't seem to break out of the loop. By my understanding if I hit enter without typing in any text that should mean that standard input is empty and the while loop should be broken. I looked up the code for isEmpty but it did not clarify anything: </p>\n\n<pre><code>public static boolean isEmpty() {\n    return !scanner.hasNext();\n}\n</code></pre>\n\n<p>Can someone clarify how standard input works and help me fix my misunderstanding of this method?</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-pubsub"],"comments":[{"owner":{"account_id":13722712,"reputation":26,"user_id":9902246,"display_name":"tschi"},"score":0,"creation_date":1684334366,"post_id":76272410,"comment_id":134503586,"body_markdown":"I fix it with `@IntegrationComponentScan` , still need to check if the message are realy post to my local pubsub emulator","body":"I fix it with <code>@IntegrationComponentScan</code> , still need to check if the message are realy post to my local pubsub emulator"}],"owner":{"account_id":13722712,"reputation":26,"user_id":9902246,"display_name":"tschi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684331651,"creation_date":1684328471,"question_id":76272410,"body_markdown":"I trying to use GCP PUB/SUB with springboot 3. I am using example from [Spring](https://spring.io/guides/gs/messaging-gcp-pubsub/) \r\nI have config class\r\n\r\n```\r\n@Configuration\r\npublic class PubSubConfig {\r\n\r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;pubsubOutputChannel&quot;)\r\n    public MessageHandler messageSender(PubSubTemplate pubsubTemplate) {\r\n        return new PubSubMessageHandler(\r\n                pubsubTemplate, &quot;check&quot;);\r\n    }\r\n    @MessagingGateway(defaultRequestChannel = &quot;pubsubOutputChannel&quot;)\r\n    public interface PubsubOutboundGateway {\r\n        void sendToPubsub(String text);\r\n    }\r\n}\r\n```\r\nI am trying to inject in my service class\r\n\r\n```\r\n@Service\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class MyService{\r\n  private final PubSubConfig.PubsubOutboundGateway gateway;\r\n```\r\n\r\nBut the application can&#39;t start when I use\r\n\r\n```\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.6&lt;/version&gt;\r\n```\r\nI have `required a bean of type &#39;....PubSubConfig$PubsubOutboundGateway&#39; that could not be found`\r\nIt&#39;s working with `&lt;version&gt;2.7.6&lt;/version&gt;`","title":"Required bean of type PubsubOutboundGateway&#39; that could not be found, work with springboot 2.7 but not with springboot 3","body":"<p>I trying to use GCP PUB/SUB with springboot 3. I am using example from <a href=\"https://spring.io/guides/gs/messaging-gcp-pubsub/\" rel=\"nofollow noreferrer\">Spring</a>\nI have config class</p>\n<pre><code>@Configuration\npublic class PubSubConfig {\n\n    @Bean\n    @ServiceActivator(inputChannel = &quot;pubsubOutputChannel&quot;)\n    public MessageHandler messageSender(PubSubTemplate pubsubTemplate) {\n        return new PubSubMessageHandler(\n                pubsubTemplate, &quot;check&quot;);\n    }\n    @MessagingGateway(defaultRequestChannel = &quot;pubsubOutputChannel&quot;)\n    public interface PubsubOutboundGateway {\n        void sendToPubsub(String text);\n    }\n}\n</code></pre>\n<p>I am trying to inject in my service class</p>\n<pre><code>@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class MyService{\n  private final PubSubConfig.PubsubOutboundGateway gateway;\n</code></pre>\n<p>But the application can't start when I use</p>\n<pre><code>  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n  &lt;version&gt;3.0.6&lt;/version&gt;\n</code></pre>\n<p>I have <code>required a bean of type '....PubSubConfig$PubsubOutboundGateway' that could not be found</code>\nIt's working with <code>&lt;version&gt;2.7.6&lt;/version&gt;</code></p>\n"},{"tags":["java","spring-boot","randoop"],"owner":{"account_id":16116853,"reputation":55,"user_id":11633731,"display_name":"Saverio Mirko Viola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684331474,"creation_date":1684331474,"question_id":76272881,"body_markdown":"I was able to generate unit tests using Randdop tool. I tried to import those junit in my spring-boot application but I could not figure out how to run them. I have a lot of errors due to unrecognized imports.\r\n\r\nI tried to downgrade spring-boot-starter-junit lib to version 4 by following this guide:\r\nhttps://www.baeldung.com/spring-boot-testing (section 3.1), witn no success.\r\n\r\nthis is the only dependency I included in my project other than proprietary Framework dependency which mainly contains dependencies such as lombook, common to all projects:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n ```\r\n\r\nAlthough I include junit4, I have some other errors. One of this is about an inport which is missing on classpath: import spring.boot.loader....","title":"How to run unit tests generated with Randoop in Spring-Boot 3.0 or higher?","body":"<p>I was able to generate unit tests using Randdop tool. I tried to import those junit in my spring-boot application but I could not figure out how to run them. I have a lot of errors due to unrecognized imports.</p>\n<p>I tried to downgrade spring-boot-starter-junit lib to version 4 by following this guide:\n<a href=\"https://www.baeldung.com/spring-boot-testing\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-testing</a> (section 3.1), witn no success.</p>\n<p>this is the only dependency I included in my project other than proprietary Framework dependency which mainly contains dependencies such as lombook, common to all projects:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Although I include junit4, I have some other errors. One of this is about an inport which is missing on classpath: import spring.boot.loader....</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1684271382,"post_id":76267055,"comment_id":134493464,"body_markdown":"Please mark the line in your code where the exception occurs. Also the stack trace of the exception would be helpful.","body":"Please mark the line in your code where the exception occurs. Also the stack trace of the exception would be helpful."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1684296821,"post_id":76267055,"comment_id":134495920,"body_markdown":"@Robert: there&#39;s only one call to that method and the stacktrace isn&#39;t going to add anything. OP: make sure your ks file contains/uses the alias &#39;cert12&#39;; if it is in PKCS12 format, which the suffix .p12 usually implies but not necessarily, Java&#39;s &#39;alias&#39; is the PKCS12 &#39;friendly name&#39;. The simplest way is `keytool -list -keystore certDir/cert12.p12`.","body":"@Robert: there&#39;s only one call to that method and the stacktrace isn&#39;t going to add anything. OP: make sure your ks file contains/uses the alias &#39;cert12&#39;; if it is in PKCS12 format, which the suffix .p12 usually implies but not necessarily, Java&#39;s &#39;alias&#39; is the PKCS12 &#39;friendly name&#39;. The simplest way is <code>keytool -list -keystore certDir&#47;cert12.p12</code>."},{"owner":{"account_id":2886946,"reputation":15,"user_id":2476575,"accept_rate":75,"display_name":"John Malko"},"score":0,"creation_date":1684331682,"post_id":76267055,"comment_id":134502877,"body_markdown":"I have updated the alias with (String) ks.aliases().nextElement() and it works now. But the problem is that it generates invalid xml. The requirements require the digestValue to be Base 64 encoded. ENcoding int after it is being signed does not makes a lot of difference.","body":"I have updated the alias with (String) ks.aliases().nextElement() and it works now. But the problem is that it generates invalid xml. The requirements require the digestValue to be Base 64 encoded. ENcoding int after it is being signed does not makes a lot of difference."}],"owner":{"account_id":2886946,"reputation":15,"user_id":2476575,"accept_rate":75,"display_name":"John Malko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684331315,"creation_date":1684271057,"question_id":76267055,"body_markdown":"I am trying to sign XML with .p12 certificate utilizing the code bellow, but I am getting an error:\r\n\r\n **Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.security.KeyStore$PrivateKeyEntry.getCertificate()&quot; because &quot;keyEntry&quot; is null\r\n\tat xmlCreateSignature/xmlCreateSignature.xmlSignature.main(xmlSignature.java:38)**\r\n\r\nLine 38 is `X509Certificate cert = (X509Certificate) keyEntry.getCertificate();`\r\n\r\nAny help is appreciated: \r\n\r\nHere is my code: \r\n\r\n  \r\n\r\n    package xmlCreateSignature;\r\n    import java.io.*;\r\n    import java.security.*;\r\n    import java.security.cert.Certificate;\r\n    import java.security.cert.CertificateException;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    import javax.xml.XMLConstants;\r\n    import javax.xml.crypto.*;\r\n    import javax.xml.crypto.dom.*;\r\n    import javax.xml.crypto.dsig.*;\r\n    import javax.xml.crypto.dsig.dom.*;\r\n    import javax.xml.crypto.dsig.keyinfo.*;\r\n    import javax.xml.crypto.dsig.spec.C14NMethodParameterSpec;\r\n    import javax.xml.crypto.dsig.spec.TransformParameterSpec;\r\n    import javax.xml.parsers.*;\r\n    import javax.xml.transform.*;\r\n    import javax.xml.transform.dom.*;\r\n    import javax.xml.transform.stream.*;\r\n    \r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Element;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.Base64;\r\n    \r\n    \r\n    public class xmlSignature {\r\n    public static void main(String[] args) throws Exception {\r\n    \tSystem.setProperty(&quot;com.sun.org.apache.xml.internal.security.ignoreLineBreaks&quot;, &quot;true&quot;);\r\n    \t\r\n    \t// Load the XML document\r\n    \tDocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n    \tDocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n    \tDocument doc = dBuilder.parse(new File(&quot;./certDir/request.xml&quot;));\r\n    \t\r\n    \t// Load the certificate\r\n    \tKeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    \tks.load(new FileInputStream(&quot;./certDir/4300648_identity.p12&quot;), &quot;DAL00MATIAN&quot;.toCharArray());\r\n    \tKeyStore.PrivateKeyEntry keyEntry = (KeyStore.PrivateKeyEntry) ks.getEntry((String) ks.aliases().nextElement(), new KeyStore.PasswordProtection(&quot;DAL00MATIAN&quot;.toCharArray()));\r\n    \tX509Certificate cert = (X509Certificate) keyEntry.getCertificate();\r\n    \r\n    \t// Create the XML signature\r\n    \tDOMSignContext dsc = new DOMSignContext(keyEntry.getPrivateKey(), doc.getDocumentElement());\r\n    \tXMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\n    \tReference ref = fac.newReference(&quot;&quot;, fac.newDigestMethod(DigestMethod.SHA256, null), Collections.singletonList(fac.newTransform(Transform.ENVELOPED, (TransformParameterSpec) null)), null, null);\r\n    \tSignedInfo si = fac.newSignedInfo(fac.newCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE, (C14NMethodParameterSpec) null), fac.newSignatureMethod(SignatureMethod.RSA_SHA256, null), Collections.singletonList(ref));\r\n    \tKeyInfoFactory kif = fac.getKeyInfoFactory();\r\n    \tX509Data x509d = kif.newX509Data(Collections.singletonList(cert));\r\n    \tKeyInfo ki = kif.newKeyInfo(Collections.singletonList(x509d));\r\n    \tXMLSignature signature = fac.newXMLSignature(si, ki);\r\n    \r\n    \t// Sign the XML document\r\n    \tsignature.sign(dsc);\r\n    \tSignedInfo signedInfo = signature.getSignedInfo();\r\n    \r\n        // Get the references from the signed info\r\n        List&lt;Reference&gt; references = signedInfo.getReferences();\r\n    \r\n        // Process each reference and encode the digestValue to Base64\r\n        for (Reference reference : references) {\r\n            // Get the digestValue as a byte array\r\n            byte[] digestValue = reference.getDigestValue();\r\n    \r\n            // Encode the digestValue to Base64\r\n            String base64DigestValue = Base64.getEncoder().encodeToString(digestValue);\r\n    \r\n            // Output the Base64-encoded digestValue\r\n            System.out.println(&quot;Base64-encoded DigestValue: &quot; + base64DigestValue);\r\n        }\r\n    \r\n        // Save the signed XML document\r\n    \r\n    \t// Save the signed XML document\r\n    \tTransformerFactory tf = TransformerFactory.newInstance();\r\n    \tTransformer trans = tf.newTransformer();\r\n    \ttrans.transform(new DOMSource(doc), new StreamResult(new File(&quot;./certDir/request_response.xml&quot;)));\r\n    \r\n    }\r\n    }\r\n\r\n","title":"Sign XML with .p12 certificate keyEntry error null","body":"<p>I am trying to sign XML with .p12 certificate utilizing the code bellow, but I am getting an error:</p>\n<p><strong>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.security.KeyStore$PrivateKeyEntry.getCertificate()&quot; because &quot;keyEntry&quot; is null\nat xmlCreateSignature/xmlCreateSignature.xmlSignature.main(xmlSignature.java:38)</strong></p>\n<p>Line 38 is <code>X509Certificate cert = (X509Certificate) keyEntry.getCertificate();</code></p>\n<p>Any help is appreciated:</p>\n<p>Here is my code:</p>\n<pre><code>package xmlCreateSignature;\nimport java.io.*;\nimport java.security.*;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateException;\nimport java.util.Collections;\nimport java.util.List;\n\nimport javax.xml.XMLConstants;\nimport javax.xml.crypto.*;\nimport javax.xml.crypto.dom.*;\nimport javax.xml.crypto.dsig.*;\nimport javax.xml.crypto.dsig.dom.*;\nimport javax.xml.crypto.dsig.keyinfo.*;\nimport javax.xml.crypto.dsig.spec.C14NMethodParameterSpec;\nimport javax.xml.crypto.dsig.spec.TransformParameterSpec;\nimport javax.xml.parsers.*;\nimport javax.xml.transform.*;\nimport javax.xml.transform.dom.*;\nimport javax.xml.transform.stream.*;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport java.security.cert.X509Certificate;\nimport java.util.Base64;\n\n\npublic class xmlSignature {\npublic static void main(String[] args) throws Exception {\n    System.setProperty(&quot;com.sun.org.apache.xml.internal.security.ignoreLineBreaks&quot;, &quot;true&quot;);\n    \n    // Load the XML document\n    DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n    DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n    Document doc = dBuilder.parse(new File(&quot;./certDir/request.xml&quot;));\n    \n    // Load the certificate\n    KeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);\n    ks.load(new FileInputStream(&quot;./certDir/4300648_identity.p12&quot;), &quot;DAL00MATIAN&quot;.toCharArray());\n    KeyStore.PrivateKeyEntry keyEntry = (KeyStore.PrivateKeyEntry) ks.getEntry((String) ks.aliases().nextElement(), new KeyStore.PasswordProtection(&quot;DAL00MATIAN&quot;.toCharArray()));\n    X509Certificate cert = (X509Certificate) keyEntry.getCertificate();\n\n    // Create the XML signature\n    DOMSignContext dsc = new DOMSignContext(keyEntry.getPrivateKey(), doc.getDocumentElement());\n    XMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\n    Reference ref = fac.newReference(&quot;&quot;, fac.newDigestMethod(DigestMethod.SHA256, null), Collections.singletonList(fac.newTransform(Transform.ENVELOPED, (TransformParameterSpec) null)), null, null);\n    SignedInfo si = fac.newSignedInfo(fac.newCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE, (C14NMethodParameterSpec) null), fac.newSignatureMethod(SignatureMethod.RSA_SHA256, null), Collections.singletonList(ref));\n    KeyInfoFactory kif = fac.getKeyInfoFactory();\n    X509Data x509d = kif.newX509Data(Collections.singletonList(cert));\n    KeyInfo ki = kif.newKeyInfo(Collections.singletonList(x509d));\n    XMLSignature signature = fac.newXMLSignature(si, ki);\n\n    // Sign the XML document\n    signature.sign(dsc);\n    SignedInfo signedInfo = signature.getSignedInfo();\n\n    // Get the references from the signed info\n    List&lt;Reference&gt; references = signedInfo.getReferences();\n\n    // Process each reference and encode the digestValue to Base64\n    for (Reference reference : references) {\n        // Get the digestValue as a byte array\n        byte[] digestValue = reference.getDigestValue();\n\n        // Encode the digestValue to Base64\n        String base64DigestValue = Base64.getEncoder().encodeToString(digestValue);\n\n        // Output the Base64-encoded digestValue\n        System.out.println(&quot;Base64-encoded DigestValue: &quot; + base64DigestValue);\n    }\n\n    // Save the signed XML document\n\n    // Save the signed XML document\n    TransformerFactory tf = TransformerFactory.newInstance();\n    Transformer trans = tf.newTransformer();\n    trans.transform(new DOMSource(doc), new StreamResult(new File(&quot;./certDir/request_response.xml&quot;)));\n\n}\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mocking"],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677846992,"creation_date":1677846628,"answer_id":75627101,"question_id":75626455,"body_markdown":"I prefer to use an `interface` for `@Service` because we can make interface public and implementation package access. So it makes the scope tighter.\r\n```java\r\npublic interface FooService {\r\n\r\n}\r\n\r\n@Service\r\nclass FooServiceImpl implements FooService {\r\n\r\n}\r\n```\r\nBut it is for service that is used like a facade only. \r\n`Controller -&gt; Facade Service -&gt; other classes from Spring context`\r\n\r\nFor &quot;other classes&quot; from Spring context that can be used by `Facade Service` I never use interfaces.\r\n\r\n```java\r\n@Service\r\nclass FooServiceImpl {\r\n\r\n    private final FooServiceHelper helper;\r\n\r\n    @Autowired\r\n    public FooServiceImpl(FooServiceHelper helper) {\r\n        this.helper = helper;\r\n    }\r\n\r\n}\r\n```\r\n\r\nWe can go even further and say: even we have multiple implementations, maybe better to have an abstract class or default implementation rather than an interface.  \r\n","title":"Is it worth defining an interface for a service with a single implementation","body":"<p>I prefer to use an <code>interface</code> for <code>@Service</code> because we can make interface public and implementation package access. So it makes the scope tighter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface FooService {\n\n}\n\n@Service\nclass FooServiceImpl implements FooService {\n\n}\n</code></pre>\n<p>But it is for service that is used like a facade only.\n<code>Controller -&gt; Facade Service -&gt; other classes from Spring context</code></p>\n<p>For &quot;other classes&quot; from Spring context that can be used by <code>Facade Service</code> I never use interfaces.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nclass FooServiceImpl {\n\n    private final FooServiceHelper helper;\n\n    @Autowired\n    public FooServiceImpl(FooServiceHelper helper) {\n        this.helper = helper;\n    }\n\n}\n</code></pre>\n<p>We can go even further and say: even we have multiple implementations, maybe better to have an abstract class or default implementation rather than an interface.</p>\n"},{"tags":[],"owner":{"account_id":27520390,"reputation":13,"user_id":21000666,"display_name":"Stephen Williams"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684330908,"creation_date":1684330908,"answer_id":76272791,"question_id":75626455,"body_markdown":"In Java applications, one good reason to create an interface that only has a single implementation is to implement **D**ependency inversion (**D** as in SOLI**D**).\r\n\r\nFor example, in an application that has an onion / hexagonal style architecture with an infrastructure layer surrounding an application layer surrounding a model layer, you might define a `PersonRepository` interface in the application layer and a `JdbcPersonRepository` class that implements `PersonRepository` in the infrastructure layer. Methods of classes defined in the application layer call methods on `PersonRepository` to save and search for `Person` domain objects. `JdbcPersonRepository` in the infrastructure layer allows the application to save and search for `Person` object state in a MySQL database using JDBC.\r\n\r\nIn this design, although code execution flows down from application layer code to infrastructure layer code, code dependencies are directed up from the infrastructure layer to the application layer.\r\n\r\nSearch for explanations of onion architecture, hexagonal architecture, ports and adapters architecture and, in particular, dependency inversion.","title":"Is it worth defining an interface for a service with a single implementation","body":"<p>In Java applications, one good reason to create an interface that only has a single implementation is to implement <strong>D</strong>ependency inversion (<strong>D</strong> as in SOLI<strong>D</strong>).</p>\n<p>For example, in an application that has an onion / hexagonal style architecture with an infrastructure layer surrounding an application layer surrounding a model layer, you might define a <code>PersonRepository</code> interface in the application layer and a <code>JdbcPersonRepository</code> class that implements <code>PersonRepository</code> in the infrastructure layer. Methods of classes defined in the application layer call methods on <code>PersonRepository</code> to save and search for <code>Person</code> domain objects. <code>JdbcPersonRepository</code> in the infrastructure layer allows the application to save and search for <code>Person</code> object state in a MySQL database using JDBC.</p>\n<p>In this design, although code execution flows down from application layer code to infrastructure layer code, code dependencies are directed up from the infrastructure layer to the application layer.</p>\n<p>Search for explanations of onion architecture, hexagonal architecture, ports and adapters architecture and, in particular, dependency inversion.</p>\n"}],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1684330908,"creation_date":1677842587,"question_id":75626455,"body_markdown":"In my Spring application, there&#39;s typically an interface for each service, even if there&#39;s only a single implementation, e.g.\r\n\r\n```java\r\npublic interface FooService {\r\n  Foo getFoo(long id)\r\n\r\n  Iterable&lt;Foo&gt; findAllFoos()\r\n\r\n  void deleteFoo(long id)\r\n}\r\n\r\n@Service\r\n@Transactional\r\npublic class FooServiceImpl implements FooService {\r\n    // method implementations omitted\r\n}\r\n```\r\n\r\nI think this practice originated in the olden days when mocking libraries could only generate a mock for an interface. But modern mocking libraries like Mockito can mock a class just as easily as an interface, so I&#39;m not sure if there&#39;s any practical benefit to defining an interface for (Spring/Spring Boot) services with a single implementation?","title":"Is it worth defining an interface for a service with a single implementation","body":"<p>In my Spring application, there's typically an interface for each service, even if there's only a single implementation, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface FooService {\n  Foo getFoo(long id)\n\n  Iterable&lt;Foo&gt; findAllFoos()\n\n  void deleteFoo(long id)\n}\n\n@Service\n@Transactional\npublic class FooServiceImpl implements FooService {\n    // method implementations omitted\n}\n</code></pre>\n<p>I think this practice originated in the olden days when mocking libraries could only generate a mock for an interface. But modern mocking libraries like Mockito can mock a class just as easily as an interface, so I'm not sure if there's any practical benefit to defining an interface for (Spring/Spring Boot) services with a single implementation?</p>\n"},{"tags":["java","randoop"],"answers":[{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684262203,"creation_date":1684262203,"answer_id":76266150,"question_id":76257443,"body_markdown":"&gt; `--testjar=myJar.jar`\r\n&gt;\r\n&gt; The jar whose class I want to test is located and present in the target directory.\r\n\r\nThe `--testjar` command-line argument tells where to find the class.  It doesn&#39;t modify its argument, such as assuming it is in a particular directory.  Can you try `--testjar=target/myJar.jar`?","title":"Randoop --testjar No Such file or directory","body":"<blockquote>\n<p><code>--testjar=myJar.jar</code></p>\n<p>The jar whose class I want to test is located and present in the target directory.</p>\n</blockquote>\n<p>The <code>--testjar</code> command-line argument tells where to find the class.  It doesn't modify its argument, such as assuming it is in a particular directory.  Can you try <code>--testjar=target/myJar.jar</code>?</p>\n"},{"tags":[],"owner":{"account_id":16116853,"reputation":55,"user_id":11633731,"display_name":"Saverio Mirko Viola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684330746,"creation_date":1684330746,"answer_id":76272763,"question_id":76257443,"body_markdown":"I was able, after many attempts to solve the problem. I used this command:\r\n\r\n```\r\njava -classpath Randoop/randoop-all-4.3.2.jar:./target/myJar.jar randoop.main.Main gentests --testjar=myJar.jar\r\n``` \r\n\r\nWhat I did is just add /myJar.jar after target in jar location on the classpath.","title":"Randoop --testjar No Such file or directory","body":"<p>I was able, after many attempts to solve the problem. I used this command:</p>\n<pre><code>java -classpath Randoop/randoop-all-4.3.2.jar:./target/myJar.jar randoop.main.Main gentests --testjar=myJar.jar\n</code></pre>\n<p>What I did is just add /myJar.jar after target in jar location on the classpath.</p>\n"}],"owner":{"account_id":16116853,"reputation":55,"user_id":11633731,"display_name":"Saverio Mirko Viola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76272763,"answer_count":2,"score":0,"last_activity_date":1684330746,"creation_date":1684179423,"question_id":76257443,"body_markdown":"I&#39;m running the following command in Ubuntu, having an openJDK 17: \r\n```\r\njava -classpath Randoop/randoop-all-4.3.2.jar:./target randoop.main.Main gentests --testjar=myJar.jar\r\n```\r\nAs you can see, I&#39;m running the command with --testjar option but I get the following error:\r\nRandoop for Java version 4.3.2.\r\n\r\nError while reading jar file myJar: myJar (No such file or directory).\r\n\r\nThe jar whose class I want to test is located and present in  the target directory. So I do not understand what&#39;s wrong...\r\n\r\nI have also tried to run this command, without ./ before target class:\r\n\r\n```\r\njava -classpath Randoop/randoop-all-4.3.2.jar:target randoop.main.Main gentests --testjar=myJar.jar\r\n```\r\n\r\nI get the same error...\r\n\r\n\r\nAnyone can help?\r\nThanks","title":"Randoop --testjar No Such file or directory","body":"<p>I'm running the following command in Ubuntu, having an openJDK 17:</p>\n<pre><code>java -classpath Randoop/randoop-all-4.3.2.jar:./target randoop.main.Main gentests --testjar=myJar.jar\n</code></pre>\n<p>As you can see, I'm running the command with --testjar option but I get the following error:\nRandoop for Java version 4.3.2.</p>\n<p>Error while reading jar file myJar: myJar (No such file or directory).</p>\n<p>The jar whose class I want to test is located and present in  the target directory. So I do not understand what's wrong...</p>\n<p>I have also tried to run this command, without ./ before target class:</p>\n<pre><code>java -classpath Randoop/randoop-all-4.3.2.jar:target randoop.main.Main gentests --testjar=myJar.jar\n</code></pre>\n<p>I get the same error...</p>\n<p>Anyone can help?\nThanks</p>\n"},{"tags":["java","mongodb","mongodb-java"],"answers":[{"tags":[],"owner":{"account_id":445028,"reputation":2497,"user_id":837208,"accept_rate":94,"display_name":"user837208"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1499854834,"creation_date":1332298880,"answer_id":9798055,"question_id":9797935,"body_markdown":"Solved it by using query as- \r\n\r\n    query.putAll((BSONObject)query);","title":"How to query documents using &quot;_id&quot; field in Java mongodb driver?","body":"<p>Solved it by using query as- </p>\n\n<pre><code>query.putAll((BSONObject)query);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":170273,"reputation":737,"user_id":396859,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1499854850,"creation_date":1349726997,"answer_id":12788736,"question_id":9797935,"body_markdown":"Not sure if others might be searching for answers on this topic, but here is the easiest way to search for a MongoDB record based on &quot;_id&quot;. The MongoDB documentation is not updated and still shows ObjectId as being part of the `com.mongodb` package (it also generally does not give a lot of information on searching by ObjectId).\r\n\r\n    import org.bson.types.ObjectId;\r\n\r\n    public DBObject findDocumentById(String id) {\r\n\r\n        BasicDBObject query = new BasicDBObject();\r\n        query.put(&quot;_id&quot;, new ObjectId(id));\r\n\r\n        DBObject dbObj = collection.findOne(query);\r\n        return dbObj;\r\n    }\r\n\r\n","title":"How to query documents using &quot;_id&quot; field in Java mongodb driver?","body":"<p>Not sure if others might be searching for answers on this topic, but here is the easiest way to search for a MongoDB record based on \"_id\". The MongoDB documentation is not updated and still shows ObjectId as being part of the <code>com.mongodb</code> package (it also generally does not give a lot of information on searching by ObjectId).</p>\n\n<pre><code>import org.bson.types.ObjectId;\n\npublic DBObject findDocumentById(String id) {\n\n    BasicDBObject query = new BasicDBObject();\n    query.put(\"_id\", new ObjectId(id));\n\n    DBObject dbObj = collection.findOne(query);\n    return dbObj;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6168961,"reputation":101,"user_id":4807846,"display_name":"Nifras Nipy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1468318174,"creation_date":1468317201,"answer_id":38325486,"question_id":9797935,"body_markdown":"You can do this\r\n\r\n   \r\n\r\n     ObjectId id= new ObjectId(&quot;4f693d40e4b04cde19f17205&quot;);        \r\n        BasicDBObject obj = new BasicDBObject();        \r\n        obj.append(&quot;_id&quot;, id);        \r\n        BasicDBObject query = new BasicDBObject();        \r\n        query.putAll((BSONObject)query);","title":"How to query documents using &quot;_id&quot; field in Java mongodb driver?","body":"<p>You can do this</p>\n\n<pre><code> ObjectId id= new ObjectId(\"4f693d40e4b04cde19f17205\");        \n    BasicDBObject obj = new BasicDBObject();        \n    obj.append(\"_id\", id);        \n    BasicDBObject query = new BasicDBObject();        \n    query.putAll((BSONObject)query);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2407157,"reputation":418,"user_id":3924002,"display_name":"bogolyandras"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1510225077,"creation_date":1510225077,"answer_id":47200057,"question_id":9797935,"body_markdown":"For those who are seeking a more up to date method, especially with 3.4:\r\n\r\n\r\n\r\n    import com.mongodb.client.MongoCollection;\r\n    import com.mongodb.client.MongoDatabase;\r\n    import org.bson.Document;\r\n    import org.bson.types.ObjectId;\r\n    \r\n    import static com.mongodb.client.model.Filters.eq;\r\n    \r\n    //......\r\n    MongoCollection&lt;Document&gt; myCollection = database.getCollection(&quot;myCollection&quot;);\r\n    Document document = myCollection.find(eq(&quot;_id&quot;, new ObjectId(&quot;4f693d40e4b04cde19f17205&quot;))).first();\r\n    if (document == null) {\r\n        //Document does not exist\r\n    } else {\r\n        //We found the document\r\n    }\r\n\r\n","title":"How to query documents using &quot;_id&quot; field in Java mongodb driver?","body":"<p>For those who are seeking a more up to date method, especially with 3.4:</p>\n\n<pre><code>import com.mongodb.client.MongoCollection;\nimport com.mongodb.client.MongoDatabase;\nimport org.bson.Document;\nimport org.bson.types.ObjectId;\n\nimport static com.mongodb.client.model.Filters.eq;\n\n//......\nMongoCollection&lt;Document&gt; myCollection = database.getCollection(\"myCollection\");\nDocument document = myCollection.find(eq(\"_id\", new ObjectId(\"4f693d40e4b04cde19f17205\"))).first();\nif (document == null) {\n    //Document does not exist\n} else {\n    //We found the document\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16535697,"reputation":1,"user_id":11947797,"display_name":"Srushti Maladkar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1594215468,"creation_date":1594206786,"answer_id":62793523,"question_id":9797935,"body_markdown":"You can try this snippet:\r\n\r\n    ObjectId id= new ObjectId(&quot;4f693d40e4b04cde19f17205&quot;);        \r\n    BasicDBObject obj = new BasicDBObject();        \r\n    obj.append(&quot;_id&quot;, id);        \r\n    BasicDBObject query = new BasicDBObject();        \r\n    query.putAll((BSONObject)obj);","title":"How to query documents using &quot;_id&quot; field in Java mongodb driver?","body":"<p>You can try this snippet:</p>\n<pre><code>ObjectId id= new ObjectId(&quot;4f693d40e4b04cde19f17205&quot;);        \nBasicDBObject obj = new BasicDBObject();        \nobj.append(&quot;_id&quot;, id);        \nBasicDBObject query = new BasicDBObject();        \nquery.putAll((BSONObject)obj);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user11006286"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662993583,"creation_date":1662993583,"answer_id":73691029,"question_id":9797935,"body_markdown":"The more simple way to do this is:\r\n\r\n```\r\nBson filter = Filters.eq(&quot;_id&quot;, new ObjectId(&quot;4f693d40e4b04cde19f17205&quot;));\r\nmongoConfig.getMongoTemplate().getCollection(&quot;myCollection&quot;).find(filter);\r\n\r\n```\r\n\r\nReference here:\r\nhttps://www.baeldung.com/mongodb-query-documents-id","title":"How to query documents using &quot;_id&quot; field in Java mongodb driver?","body":"<p>The more simple way to do this is:</p>\n<pre><code>Bson filter = Filters.eq(&quot;_id&quot;, new ObjectId(&quot;4f693d40e4b04cde19f17205&quot;));\nmongoConfig.getMongoTemplate().getCollection(&quot;myCollection&quot;).find(filter);\n\n</code></pre>\n<p>Reference here:\n<a href=\"https://www.baeldung.com/mongodb-query-documents-id\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mongodb-query-documents-id</a></p>\n"},{"tags":[],"owner":{"account_id":20135211,"reputation":1,"user_id":17055467,"display_name":"Giovani Meza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664497212,"creation_date":1664162053,"answer_id":73849301,"question_id":9797935,"body_markdown":"I found a way around, with a little bit more of code, requires a string representing the id to be found passed as argument.\r\n\r\n\r\n    import com.mongodb.client.MongoDatabase;\r\n    import com.mongodb.client.MongoClient;\r\n    import com.mongodb.client.MongoClients;\r\n    import com.mongodb.client.MongoCollection;\r\n    import com.mongodb.client.model.Filters;\r\n    import org.bson.conversions.Bson;\r\n    import org.bson.Document;\r\n    import org.bson.types.ObjectId;   \r\n\r\n    [...]\r\n\r\n    public static void findCustomerById(String id) {\r\n        try (MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;)) {\r\n            MongoDatabase database = mongoClient.getDatabase(&quot;database_name&quot;);\r\n            Bson filter = Filters.eq(&quot;_id&quot;, new ObjectId(id));\r\n            MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;customer&quot;);\r\n\r\n            //Tries to find the document\r\n            Document doc = collection. Find(filter).first();\r\n            //prints the document\r\n            System.out.println(doc.toJson());\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error finding document&quot;);\r\n            System.out.println(&quot;Error in: &quot; + e.getMessage());\r\n            e.printStackTrace();\r\n        }","title":"How to query documents using &quot;_id&quot; field in Java mongodb driver?","body":"<p>I found a way around, with a little bit more of code, requires a string representing the id to be found passed as argument.</p>\n<pre><code>import com.mongodb.client.MongoDatabase;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.model.Filters;\nimport org.bson.conversions.Bson;\nimport org.bson.Document;\nimport org.bson.types.ObjectId;   \n\n[...]\n\npublic static void findCustomerById(String id) {\n    try (MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;)) {\n        MongoDatabase database = mongoClient.getDatabase(&quot;database_name&quot;);\n        Bson filter = Filters.eq(&quot;_id&quot;, new ObjectId(id));\n        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;customer&quot;);\n\n        //Tries to find the document\n        Document doc = collection. Find(filter).first();\n        //prints the document\n        System.out.println(doc.toJson());\n    } catch (Exception e) {\n        System.out.println(&quot;Error finding document&quot;);\n        System.out.println(&quot;Error in: &quot; + e.getMessage());\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10294808,"reputation":1177,"user_id":7595371,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684330646,"creation_date":1684330646,"answer_id":76272740,"question_id":9797935,"body_markdown":"Don&#39;t forget to add the collectionName parameter if your class and collectionName don&#39;t match.  I landed on this question because my _id query wasn&#39;t working even though it looked good at first blush.","title":"How to query documents using &quot;_id&quot; field in Java mongodb driver?","body":"<p>Don't forget to add the collectionName parameter if your class and collectionName don't match.  I landed on this question because my _id query wasn't working even though it looked good at first blush.</p>\n"}],"owner":{"account_id":445028,"reputation":2497,"user_id":837208,"accept_rate":94,"display_name":"user837208"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89905,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":9798055,"answer_count":8,"score":49,"last_activity_date":1684330646,"creation_date":1332297782,"question_id":9797935,"body_markdown":"I am trying to find documents in MongoDB by searching on &quot;_id&quot; key. My document looks like this-\r\n\r\n    {\r\n      &quot;_id&quot; : ObjectId(&quot;4f693d40e4b04cde19f17205&quot;),\r\n      &quot;hostname&quot; : &quot;hostnameGoesHere&quot;,\r\n      &quot;OSType&quot; : &quot;OSTypeGoesHere&quot;\r\n    }\r\n\r\nI am trying to search this document as- \r\n\r\n    ObjectId id= new ObjectId(&quot;4f693d40e4b04cde19f17205&quot;);        \r\n    BasicDBObject obj = new BasicDBObject();        \r\n    obj.append(&quot;_id&quot;, id);        \r\n    BasicDBObject query = new BasicDBObject();        \r\n    query.putAll(query);\r\n\r\nBut I get below error- \r\n\r\n    error: reference to putAll is ambiguous, both method putAll(Map) in BasicBSONObject and method putAll(BSONObject) in BasicBSONObject match\r\n            query.putAll(query);\r\n\r\nThe append method of BasicDBObject supports (String Key, Value) and if I pass &quot;_id&quot; as String to this method, no documents are matched. \r\n\r\nSo my question is how do I pass &quot;_id&quot;? ","title":"How to query documents using &quot;_id&quot; field in Java mongodb driver?","body":"<p>I am trying to find documents in MongoDB by searching on \"_id\" key. My document looks like this-</p>\n\n<pre><code>{\n  \"_id\" : ObjectId(\"4f693d40e4b04cde19f17205\"),\n  \"hostname\" : \"hostnameGoesHere\",\n  \"OSType\" : \"OSTypeGoesHere\"\n}\n</code></pre>\n\n<p>I am trying to search this document as- </p>\n\n<pre><code>ObjectId id= new ObjectId(\"4f693d40e4b04cde19f17205\");        \nBasicDBObject obj = new BasicDBObject();        \nobj.append(\"_id\", id);        \nBasicDBObject query = new BasicDBObject();        \nquery.putAll(query);\n</code></pre>\n\n<p>But I get below error- </p>\n\n<pre><code>error: reference to putAll is ambiguous, both method putAll(Map) in BasicBSONObject and method putAll(BSONObject) in BasicBSONObject match\n        query.putAll(query);\n</code></pre>\n\n<p>The append method of BasicDBObject supports (String Key, Value) and if I pass \"_id\" as String to this method, no documents are matched. </p>\n\n<p>So my question is how do I pass \"_id\"? </p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1684319016,"post_id":76271002,"comment_id":134499935,"body_markdown":"Have you tried to attach a listener to the `setValue()` operation, to see if something went wrong?","body":"Have you tried to attach a listener to the <code>setValue()</code> operation, to see if something went wrong?"},{"owner":{"account_id":28618508,"reputation":1,"user_id":21911980,"display_name":"Ashar Khan"},"score":0,"creation_date":1684319507,"post_id":76271002,"comment_id":134500046,"body_markdown":"I have just added a Toast message in on complete listener. but the toast message is not displaying that means the value is not set.","body":"I have just added a Toast message in on complete listener. but the toast message is not displaying that means the value is not set."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1684320519,"post_id":76271002,"comment_id":134500241,"body_markdown":"Show the code that you&#39;re using.","body":"Show the code that you&#39;re using."},{"owner":{"account_id":28618508,"reputation":1,"user_id":21911980,"display_name":"Ashar Khan"},"score":0,"creation_date":1684320854,"post_id":76271002,"comment_id":134500312,"body_markdown":"`   public void add(){\n        Toast.makeText(this, &quot;before adding&quot;, Toast.LENGTH_SHORT).show();\n        reference.setValue(&quot;ashar khan&quot;).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                Toast.makeText(MainActivity.this, &quot;Data inserted successfull&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}`","body":"`   public void add(){         Toast.makeText(this, &quot;before adding&quot;, Toast.LENGTH_SHORT).show();         reference.setValue(&quot;ashar khan&quot;).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {             @Override             public void onComplete(@NonNull Task&lt;Void&gt; task) {                 Toast.makeText(MainActivity.this, &quot;Data inserted successfull&quot;, Toast.LENGTH_SHORT).show();             }         });     } }`"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1684321066,"post_id":76271002,"comment_id":134500362,"body_markdown":"Please add the code to your question. Have you also tried to check what is happening when the task is not successful?","body":"Please add the code to your question. Have you also tried to check what is happening when the task is not successful?"},{"owner":{"account_id":28618508,"reputation":1,"user_id":21911980,"display_name":"Ashar Khan"},"score":0,"creation_date":1684321712,"post_id":76271002,"comment_id":134500508,"body_markdown":"I have edited the code please check. The on complete and on failure both are not displaying the toast message","body":"I have edited the code please check. The on complete and on failure both are not displaying the toast message"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1684322111,"post_id":76271002,"comment_id":134500590,"body_markdown":"How is your `reference` defined? What is the location of your database?","body":"How is your <code>reference</code> defined? What is the location of your database?"},{"owner":{"account_id":28618508,"reputation":1,"user_id":21911980,"display_name":"Ashar Khan"},"score":0,"creation_date":1684322196,"post_id":76271002,"comment_id":134500601,"body_markdown":"please elaborate","body":"please elaborate"},{"owner":{"account_id":28618508,"reputation":1,"user_id":21911980,"display_name":"Ashar Khan"},"score":0,"creation_date":1684323055,"post_id":76271002,"comment_id":134500781,"body_markdown":"So I have edited the code again I hope you will know how the reference is defined. database is located in firebase with same account and link is attached while getting database instance","body":"So I have edited the code again I hope you will know how the reference is defined. database is located in firebase with same account and link is attached while getting database instance"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1684323414,"post_id":76271002,"comment_id":134500835,"body_markdown":"So you say that onComplete, not onFailure are even called? Are you sure you have an internet connection? Have you tried simply using `database = FirebaseDatabase.getInstance();`? without any URL?","body":"So you say that onComplete, not onFailure are even called? Are you sure you have an internet connection? Have you tried simply using <code>database = FirebaseDatabase.getInstance();</code>? without any URL?"},{"owner":{"account_id":28618508,"reputation":1,"user_id":21911980,"display_name":"Ashar Khan"},"score":0,"creation_date":1684323460,"post_id":76271002,"comment_id":134500847,"body_markdown":"Database location: United States (us-central1)","body":"Database location: United States (us-central1)"},{"owner":{"account_id":28618508,"reputation":1,"user_id":21911980,"display_name":"Ashar Khan"},"score":0,"creation_date":1684323750,"post_id":76271002,"comment_id":134500908,"body_markdown":"Yes I have internet connection. Yes I have tried without link. Yes both function are not working","body":"Yes I have internet connection. Yes I have tried without link. Yes both function are not working"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1684324144,"post_id":76271002,"comment_id":134501012,"body_markdown":"Are you sure you&#39;re looking at the right Firebase project in your console?","body":"Are you sure you&#39;re looking at the right Firebase project in your console?"},{"owner":{"account_id":28618508,"reputation":1,"user_id":21911980,"display_name":"Ashar Khan"},"score":0,"creation_date":1684325712,"post_id":76271002,"comment_id":134501362,"body_markdown":"I have created database several time with different accounts I am sure I am targeting the right database","body":"I have created database several time with different accounts I am sure I am targeting the right database"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1684326474,"post_id":76271002,"comment_id":134501527,"body_markdown":"That&#39;s the reason why you most likely cannot write data to Firebase.","body":"That&#39;s the reason why you most likely cannot write data to Firebase."},{"owner":{"account_id":28618508,"reputation":1,"user_id":21911980,"display_name":"Ashar Khan"},"score":0,"creation_date":1684348782,"post_id":76271002,"comment_id":134506920,"body_markdown":"@AlexMamo Yes I am targeting the right database because when I print reference on console it shows the exact same link.","body":"@AlexMamo Yes I am targeting the right database because when I print reference on console it shows the exact same link."}],"answers":[{"tags":[],"owner":{"account_id":25607206,"reputation":11,"user_id":19381125,"display_name":"Sibbir Shahriyar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684330607,"creation_date":1684330607,"answer_id":76272729,"question_id":76271002,"body_markdown":"Pass no parameters in getInstance() of FirebaseDatabase\r\n\r\nFirebaseDatabase fd= FirebaseDatabase.getInstance();\r\n make sure your project is connected with your Firebase console through the google-services.json file provided.","title":"Firebase Realtime database is not showing data that is being written from android studio","body":"<p>Pass no parameters in getInstance() of FirebaseDatabase</p>\n<p>FirebaseDatabase fd= FirebaseDatabase.getInstance();\nmake sure your project is connected with your Firebase console through the google-services.json file provided.</p>\n"}],"owner":{"account_id":28618508,"reputation":1,"user_id":21911980,"display_name":"Ashar Khan"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684330607,"creation_date":1684318576,"question_id":76271002,"body_markdown":"I am having a problem writing into Firebase real-time database. The app is running fine with no build errors. but when I look into the database nothing is changing. I am trying to write into the database. The account which is logged in in Android and Firebase is the same. I have also given the internet permission in the manifest file. I have included the JSON file in the project. I have added all the required dependencies in gradle. the gradle file\r\n\r\n   \r\n\r\n\r\n`\r\n```\r\n  package com.example.firebasehometry;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    FirebaseDatabase database;\r\n    DatabaseReference reference;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        database = FirebaseDatabase.getInstance(&quot;https://fir-home-53258-default-rtdb.firebaseio.com/&quot;);\r\n        reference = database.getReference(&quot;student&quot;);\r\n    add();\r\n    }\r\n    public void add(){\r\n        Toast.makeText(this, &quot;before adding&quot;, Toast.LENGTH_SHORT).show();\r\n        reference.setValue(&quot;ashar khan&quot;).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                Toast.makeText(MainActivity.this, &quot;Successfully inserted&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(MainActivity.this, &quot;Error inserting&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.firebasehometry&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.firebasehometry&quot;\r\n        minSdk 25\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:32.0.0&#39;)\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.0.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n```\r\n[enter image description here](https://i.stack.imgur.com/cVwrR.jpg)\r\n```\r\nbuildscript {\r\n        repositories {\r\n            // Make sure that you have the following two repositories\r\n            google()  // Google&#39;s Maven repository\r\n            mavenCentral()  // Maven Central repository\r\n        }\r\n    dependencies {\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n    }\r\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.0&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.0&#39; apply false\r\n}\r\n```\r\n\r\n\r\n\r\n`\r\n\r\nI tried all the methods that are available on internet but still realtime database is not updating. Anyone who can help me in this matter..","title":"Firebase Realtime database is not showing data that is being written from android studio","body":"<p>I am having a problem writing into Firebase real-time database. The app is running fine with no build errors. but when I look into the database nothing is changing. I am trying to write into the database. The account which is logged in in Android and Firebase is the same. I have also given the internet permission in the manifest file. I have included the JSON file in the project. I have added all the required dependencies in gradle. the gradle file</p>\n<p>`</p>\n<pre><code>  package com.example.firebasehometry;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\npublic class MainActivity extends AppCompatActivity {\n\n    FirebaseDatabase database;\n    DatabaseReference reference;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        database = FirebaseDatabase.getInstance(&quot;https://fir-home-53258-default-rtdb.firebaseio.com/&quot;);\n        reference = database.getReference(&quot;student&quot;);\n    add();\n    }\n    public void add(){\n        Toast.makeText(this, &quot;before adding&quot;, Toast.LENGTH_SHORT).show();\n        reference.setValue(&quot;ashar khan&quot;).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                Toast.makeText(MainActivity.this, &quot;Successfully inserted&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(MainActivity.this, &quot;Error inserting&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    namespace 'com.example.firebasehometry'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.firebasehometry&quot;\n        minSdk 25\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation platform('com.google.firebase:firebase-bom:32.0.0')\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-database:20.0.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cVwrR.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>buildscript {\n        repositories {\n            // Make sure that you have the following two repositories\n            google()  // Google's Maven repository\n            mavenCentral()  // Maven Central repository\n        }\n    dependencies {\n        classpath 'com.google.gms:google-services:4.3.15'\n    }\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.0' apply false\n    id 'com.android.library' version '7.4.0' apply false\n}\n</code></pre>\n<p>`</p>\n<p>I tried all the methods that are available on internet but still realtime database is not updating. Anyone who can help me in this matter..</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":15959737,"reputation":21,"user_id":12056322,"display_name":"Stephen Olujare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684330311,"creation_date":1684330311,"answer_id":76272691,"question_id":76272426,"body_markdown":"  Let us break this down extensively... \r\nThe `ReadTimeoutException` can\r\n   occur when there is no response from the server within the specified\r\n   timeout period. But in your case, since the issue is happening\r\n   consistently on production and not on your development server, it is\r\n   possible that there could be a network issue between your AWS\r\n   instance and the external service.\r\n   \r\n   Now, let us troubleshoot the problem together.\r\n   \r\n   * Increase the timeout duration and see if it resolves this issue. You can use a debugger to step through the code and determine where\r\n   the timeout is occurring. This can give you an idea of whether the\r\n   issue is with the WebClient or somewhere else in your code.\r\n   \r\n   * It is possible that there is an issue with the network connectivity between your AWS instance and the external service. You can try\r\n   testing the network connectivity by using PING or TRACEROUTE commands\r\n   from the AWS instance to the external service.\r\n   \r\n   * You can as well upgrade to a newer version of Spring and Java. It appears that you are using older versions of Spring and Java, it is\r\n   possible that there are compatibility issues that are causing the\r\n   timeouts. You can try upgrading to newer versions and see if it\r\n   resolves the issue.","title":"io.netty.handler.timeout.ReadTimeoutException: null error on AWS","body":"<p>Let us break this down extensively...\nThe <code>ReadTimeoutException</code> can\noccur when there is no response from the server within the specified\ntimeout period. But in your case, since the issue is happening\nconsistently on production and not on your development server, it is\npossible that there could be a network issue between your AWS\ninstance and the external service.</p>\n<p>Now, let us troubleshoot the problem together.</p>\n<ul>\n<li><p>Increase the timeout duration and see if it resolves this issue. You can use a debugger to step through the code and determine where\nthe timeout is occurring. This can give you an idea of whether the\nissue is with the WebClient or somewhere else in your code.</p>\n</li>\n<li><p>It is possible that there is an issue with the network connectivity between your AWS instance and the external service. You can try\ntesting the network connectivity by using PING or TRACEROUTE commands\nfrom the AWS instance to the external service.</p>\n</li>\n<li><p>You can as well upgrade to a newer version of Spring and Java. It appears that you are using older versions of Spring and Java, it is\npossible that there are compatibility issues that are causing the\ntimeouts. You can try upgrading to newer versions and see if it\nresolves the issue.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":5147236,"reputation":65,"user_id":4122863,"display_name":"Julie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684330311,"creation_date":1684328613,"question_id":76272426,"body_markdown":"We are experiencing the strangest problem.  We are using WebFlux WebClient to make an API call.  It was working fine, and then last week we started seeing the intermittent error:\r\n\r\nio.netty.handler.timeout.ReadTimeoutException: null\r\n\r\nTo give some background.  Our dev server is running on bare metal, and it is stable and has no issues at all.  This is only happening in production on our AWS instance.\r\n\r\nWe see this happening on every second service call, which made me think load balancer, but my infrastructure team cannot see anything obvious.\r\n\r\nThis is the code that makes the service call.\r\n\r\n    Mono&lt;String&gt; responseMono = headersSpec.header(&quot;X-CORRELATION-ID&quot;, correlationId)\r\n\t\t\t.accept(MediaType.APPLICATION_JSON)\r\n\t\t\t.exchangeToMono(response -&gt; {\r\n\t\t\t\tif (response.statusCode().equals(HttpStatus.OK)) {\r\n\t\t\t\t\treturn response.bodyToMono(String.class);\r\n\t\t\t\t} else if (response.statusCode().equals(HttpStatus.BAD_REQUEST)) {\r\n\t\t\t\t\treturn Mono.error(new DataViolationException(&quot;Data rejected&quot;,&quot;Data rejected&quot;,null,&quot;ProductUse.useProduct&quot;));\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Mono.error(new GeneralServiceException(&quot;Error status received: &quot; + response.statusCode().toString() + &quot; [&quot; + response.bodyToMono(String.class) + &quot;]&quot;,null));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\nI am wondering if it is an issue with our version of Spring?  We are running the following:\r\n\r\nJava Version: 18\r\n\r\nSpring Version: 3.0.5\r\n\r\nThis application runs on Kubernetes.\r\n\r\nAny suggestions would be much appreciated, at a bit of a loss here, have read other posts about this error but still unable to work out why it is happening to us, and why it only happens on AWS and not bare metal.\r\n\r\n ","title":"io.netty.handler.timeout.ReadTimeoutException: null error on AWS","body":"<p>We are experiencing the strangest problem.  We are using WebFlux WebClient to make an API call.  It was working fine, and then last week we started seeing the intermittent error:</p>\n<p>io.netty.handler.timeout.ReadTimeoutException: null</p>\n<p>To give some background.  Our dev server is running on bare metal, and it is stable and has no issues at all.  This is only happening in production on our AWS instance.</p>\n<p>We see this happening on every second service call, which made me think load balancer, but my infrastructure team cannot see anything obvious.</p>\n<p>This is the code that makes the service call.</p>\n<pre><code>Mono&lt;String&gt; responseMono = headersSpec.header(&quot;X-CORRELATION-ID&quot;, correlationId)\n        .accept(MediaType.APPLICATION_JSON)\n        .exchangeToMono(response -&gt; {\n            if (response.statusCode().equals(HttpStatus.OK)) {\n                return response.bodyToMono(String.class);\n            } else if (response.statusCode().equals(HttpStatus.BAD_REQUEST)) {\n                return Mono.error(new DataViolationException(&quot;Data rejected&quot;,&quot;Data rejected&quot;,null,&quot;ProductUse.useProduct&quot;));\n            } else {\n                return Mono.error(new GeneralServiceException(&quot;Error status received: &quot; + response.statusCode().toString() + &quot; [&quot; + response.bodyToMono(String.class) + &quot;]&quot;,null));\n            }\n        });\n</code></pre>\n<p>I am wondering if it is an issue with our version of Spring?  We are running the following:</p>\n<p>Java Version: 18</p>\n<p>Spring Version: 3.0.5</p>\n<p>This application runs on Kubernetes.</p>\n<p>Any suggestions would be much appreciated, at a bit of a loss here, have read other posts about this error but still unable to work out why it is happening to us, and why it only happens on AWS and not bare metal.</p>\n"},{"tags":["java","android","wifi","hostname","jmdns"],"owner":{"account_id":28562556,"reputation":1,"user_id":21865890,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684330073,"creation_date":1684330073,"question_id":76272650,"body_markdown":"I working with IoT (Arduino and ESP32). \r\nI am able to assign a hostname to the board using mDNS.\r\nI want from an Android App to write the url &quot;arduino.local&quot; and get the IP address (for example 198.162.1.25&quot;.\r\nI have tried with jmDNS and I don&#39;t know how to list the services found.\r\n\r\nLibrary: implementation &#39;org.jmdns:jmdns:3.5.7&#39;\r\n\r\nThis is my code:\r\n\r\n```java\r\npackage com.anaconet.jmdns;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.net.wifi.WifiInfo;\r\nimport android.net.wifi.WifiManager;\r\nimport android.net.wifi.WifiManager.MulticastLock;\r\nimport android.os.Bundle;\r\n\r\nimport android.os.Handler;\r\nimport android.content.Context;\r\n\r\n// jmDNS .........................................\r\nimport java.io.IOException;\r\nimport java.net.InetAddress;\r\nimport java.net.UnknownHostException;\r\n\r\nimport android.util.Log;\r\n\r\nimport javax.jmdns.JmDNS;\r\nimport javax.jmdns.ServiceListener;\r\nimport javax.jmdns.ServiceEvent;\r\nimport javax.jmdns.ServiceInfo;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final String TAG = &quot;jmDNS (PAUL)... &quot;;\r\n    private static final String SERVICE_TYPE = &quot;_http._tcp.local.&quot;;\r\n    //private static final String SERVICE_TYPE = &quot;_workstation._tcp.local.&quot;;\r\n\r\n    private String type = &quot;_dynamix._tcp.local.&quot;;\r\n    private static JmDNS jmdns = null;\r\n    private ServiceListener listener = null;\r\n    private ServiceInfo serviceInfo;\r\n\r\n    private static MulticastLock multicastLock;\r\n    boolean isDiscovering;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        isDiscovering = false;\r\n        WifiManager wifi = (WifiManager) getApplicationContext().getSystemService(android.content.Context.WIFI_SERVICE);\r\n        multicastLock = wifi.createMulticastLock(&quot;jmdns-multicast-lock&quot;);\r\n        multicastLock.setReferenceCounted(false);\r\n    }\r\n\r\n    private InetAddress getDeviceIpAddress(WifiManager wifi) {\r\n        InetAddress result = null;\r\n        try {\r\n            // default to Android localhost\r\n            result = InetAddress.getByName(&quot;192.168.1.1&quot;);\r\n\r\n            // figure out our wifi address, otherwise bail\r\n            WifiInfo wifiinfo = wifi.getConnectionInfo();\r\n            int intaddr = wifiinfo.getIpAddress();\r\n            byte[] byteaddr = new byte[] { (byte) (intaddr &amp; 0xff), (byte) (intaddr &gt;&gt; 8 &amp; 0xff),\r\n                    (byte) (intaddr &gt;&gt; 16 &amp; 0xff), (byte) (intaddr &gt;&gt; 24 &amp; 0xff) };\r\n            result = InetAddress.getByAddress(byteaddr);\r\n        } catch (UnknownHostException ex) {\r\n            Log.w(TAG, String.format(&quot;getDeviceIpAddress Error: %s&quot;, ex.getMessage()));\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n\r\n    private class ServiceListenerImpl implements ServiceListener {\r\n        @Override\r\n        public void serviceAdded(ServiceEvent event) {\r\n            event.getDNS().requestServiceInfo(event.getType(), event.getName());\r\n            System.out.println(&quot;Service added: &quot; + event.getInfo());\r\n        }\r\n\r\n        @Override\r\n        public void serviceRemoved(ServiceEvent event) {\r\n            //Handle service dropping out.\r\n            System.out.println(&quot;Service removed: &quot; + event.getInfo());\r\n        }\r\n\r\n        @Override\r\n        public void serviceResolved(ServiceEvent event) {\r\n            System.out.println(&quot;Service resolved: &quot; + event.getInfo());\r\n            System.out.println(&quot;Service resolved: &quot;\r\n                    + event.getInfo().getQualifiedName()\r\n                    + &quot; port:&quot; + event.getInfo().getPort());\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    protected void onStart()  {\r\n        Log.i(TAG, &quot;Starting ServiceActivity...&quot;);\r\n        super.onStart();\r\n        try {\r\n            Log.i(TAG, &quot;Starting Mutlicast Lock...&quot;);\r\n            WifiManager wifi = (WifiManager) this.getSystemService(Context.WIFI_SERVICE);\r\n            // get the device ip address\r\n            final InetAddress deviceIpAddress = getDeviceIpAddress(wifi);\r\n            multicastLock = wifi.createMulticastLock(getClass().getName());\r\n            multicastLock.setReferenceCounted(true);\r\n            multicastLock.acquire();\r\n            Log.i(TAG, &quot;Starting ZeroConf probe....&quot;);\r\n            // Create a JmDNS instance\r\n            // JmDNS jmdns = JmDNS.create(address, &quot;JmDNS-IP-&quot; + (jmdnsInstances.size() + 1));\r\n            jmdns = JmDNS.create(deviceIpAddress, &quot;HOSTNAME&quot;);\r\n            if (jmdns != null) {\r\n                // Add a service listener\r\n                jmdns.addServiceListener(SERVICE_TYPE, new ServiceListenerImpl());\r\n//                jmdns.list(&quot;_exp._tcp.local.&quot;, 10 * 1000);\r\n                isDiscovering = true;\r\n                Log.d(TAG, &quot;discovering services of type: &quot;  + SERVICE_TYPE);\r\n\r\n/*\r\n                serviceInfo = ServiceInfo.create(&quot;_test._tcp.local.&quot;,\r\n                        &quot;AndroidTest&quot;, 0,\r\n                        &quot;test from android&quot;);\r\n                jmdns.registerService(serviceInfo);\r\n\r\n */\r\n            }\r\n        } catch (UnknownHostException e) {\r\n            System.out.println(e.getMessage());\r\n        } catch (IOException e) {\r\n            Log.e(TAG, e.getMessage(), e);\r\n            System.out.println(e.getMessage());\r\n        }\r\n        Log.i(TAG, &quot;Started ZeroConf probe....&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        Log.i(TAG, &quot;Stopping ServiceActivity...&quot;);\r\n        super.onStop();\r\n        stopScan();\r\n    }\r\n\r\n    private static void stopScan() {\r\n        try {\r\n            if (jmdns != null) {\r\n                Log.i(TAG, &quot;Stopping ZeroConf probe....&quot;);\r\n                jmdns.unregisterAllServices();\r\n                jmdns.close();\r\n                jmdns = null;\r\n            }\r\n            if (multicastLock != null) {\r\n                Log.i(TAG, &quot;Releasing Mutlicast Lock...&quot;);\r\n                multicastLock.release();\r\n                multicastLock = null;\r\n            }\r\n        } catch (Exception ex) {\r\n            Log.e(TAG, ex.getMessage(), ex);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nList all IP and Hostname connected to WiFi.","title":"How i can find hostname in wifi lan using jmDNS?","body":"<p>I working with IoT (Arduino and ESP32).\nI am able to assign a hostname to the board using mDNS.\nI want from an Android App to write the url &quot;arduino.local&quot; and get the IP address (for example 198.162.1.25&quot;.\nI have tried with jmDNS and I don't know how to list the services found.</p>\n<p>Library: implementation 'org.jmdns:jmdns:3.5.7'</p>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.anaconet.jmdns;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.net.wifi.WifiInfo;\nimport android.net.wifi.WifiManager;\nimport android.net.wifi.WifiManager.MulticastLock;\nimport android.os.Bundle;\n\nimport android.os.Handler;\nimport android.content.Context;\n\n// jmDNS .........................................\nimport java.io.IOException;\nimport java.net.InetAddress;\nimport java.net.UnknownHostException;\n\nimport android.util.Log;\n\nimport javax.jmdns.JmDNS;\nimport javax.jmdns.ServiceListener;\nimport javax.jmdns.ServiceEvent;\nimport javax.jmdns.ServiceInfo;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final String TAG = &quot;jmDNS (PAUL)... &quot;;\n    private static final String SERVICE_TYPE = &quot;_http._tcp.local.&quot;;\n    //private static final String SERVICE_TYPE = &quot;_workstation._tcp.local.&quot;;\n\n    private String type = &quot;_dynamix._tcp.local.&quot;;\n    private static JmDNS jmdns = null;\n    private ServiceListener listener = null;\n    private ServiceInfo serviceInfo;\n\n    private static MulticastLock multicastLock;\n    boolean isDiscovering;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        isDiscovering = false;\n        WifiManager wifi = (WifiManager) getApplicationContext().getSystemService(android.content.Context.WIFI_SERVICE);\n        multicastLock = wifi.createMulticastLock(&quot;jmdns-multicast-lock&quot;);\n        multicastLock.setReferenceCounted(false);\n    }\n\n    private InetAddress getDeviceIpAddress(WifiManager wifi) {\n        InetAddress result = null;\n        try {\n            // default to Android localhost\n            result = InetAddress.getByName(&quot;192.168.1.1&quot;);\n\n            // figure out our wifi address, otherwise bail\n            WifiInfo wifiinfo = wifi.getConnectionInfo();\n            int intaddr = wifiinfo.getIpAddress();\n            byte[] byteaddr = new byte[] { (byte) (intaddr &amp; 0xff), (byte) (intaddr &gt;&gt; 8 &amp; 0xff),\n                    (byte) (intaddr &gt;&gt; 16 &amp; 0xff), (byte) (intaddr &gt;&gt; 24 &amp; 0xff) };\n            result = InetAddress.getByAddress(byteaddr);\n        } catch (UnknownHostException ex) {\n            Log.w(TAG, String.format(&quot;getDeviceIpAddress Error: %s&quot;, ex.getMessage()));\n        }\n\n        return result;\n    }\n\n\n    private class ServiceListenerImpl implements ServiceListener {\n        @Override\n        public void serviceAdded(ServiceEvent event) {\n            event.getDNS().requestServiceInfo(event.getType(), event.getName());\n            System.out.println(&quot;Service added: &quot; + event.getInfo());\n        }\n\n        @Override\n        public void serviceRemoved(ServiceEvent event) {\n            //Handle service dropping out.\n            System.out.println(&quot;Service removed: &quot; + event.getInfo());\n        }\n\n        @Override\n        public void serviceResolved(ServiceEvent event) {\n            System.out.println(&quot;Service resolved: &quot; + event.getInfo());\n            System.out.println(&quot;Service resolved: &quot;\n                    + event.getInfo().getQualifiedName()\n                    + &quot; port:&quot; + event.getInfo().getPort());\n        }\n    }\n\n\n\n    @Override\n    protected void onStart()  {\n        Log.i(TAG, &quot;Starting ServiceActivity...&quot;);\n        super.onStart();\n        try {\n            Log.i(TAG, &quot;Starting Mutlicast Lock...&quot;);\n            WifiManager wifi = (WifiManager) this.getSystemService(Context.WIFI_SERVICE);\n            // get the device ip address\n            final InetAddress deviceIpAddress = getDeviceIpAddress(wifi);\n            multicastLock = wifi.createMulticastLock(getClass().getName());\n            multicastLock.setReferenceCounted(true);\n            multicastLock.acquire();\n            Log.i(TAG, &quot;Starting ZeroConf probe....&quot;);\n            // Create a JmDNS instance\n            // JmDNS jmdns = JmDNS.create(address, &quot;JmDNS-IP-&quot; + (jmdnsInstances.size() + 1));\n            jmdns = JmDNS.create(deviceIpAddress, &quot;HOSTNAME&quot;);\n            if (jmdns != null) {\n                // Add a service listener\n                jmdns.addServiceListener(SERVICE_TYPE, new ServiceListenerImpl());\n//                jmdns.list(&quot;_exp._tcp.local.&quot;, 10 * 1000);\n                isDiscovering = true;\n                Log.d(TAG, &quot;discovering services of type: &quot;  + SERVICE_TYPE);\n\n/*\n                serviceInfo = ServiceInfo.create(&quot;_test._tcp.local.&quot;,\n                        &quot;AndroidTest&quot;, 0,\n                        &quot;test from android&quot;);\n                jmdns.registerService(serviceInfo);\n\n */\n            }\n        } catch (UnknownHostException e) {\n            System.out.println(e.getMessage());\n        } catch (IOException e) {\n            Log.e(TAG, e.getMessage(), e);\n            System.out.println(e.getMessage());\n        }\n        Log.i(TAG, &quot;Started ZeroConf probe....&quot;);\n    }\n\n    @Override\n    protected void onStop() {\n        Log.i(TAG, &quot;Stopping ServiceActivity...&quot;);\n        super.onStop();\n        stopScan();\n    }\n\n    private static void stopScan() {\n        try {\n            if (jmdns != null) {\n                Log.i(TAG, &quot;Stopping ZeroConf probe....&quot;);\n                jmdns.unregisterAllServices();\n                jmdns.close();\n                jmdns = null;\n            }\n            if (multicastLock != null) {\n                Log.i(TAG, &quot;Releasing Mutlicast Lock...&quot;);\n                multicastLock.release();\n                multicastLock = null;\n            }\n        } catch (Exception ex) {\n            Log.e(TAG, ex.getMessage(), ex);\n        }\n    }\n}\n</code></pre>\n<p>List all IP and Hostname connected to WiFi.</p>\n"},{"tags":["java","apache-spark","minio"],"answers":[{"tags":[],"owner":{"account_id":20455031,"reputation":173,"user_id":15008906,"display_name":"Jon Hayden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684330038,"creation_date":1684330038,"answer_id":76272639,"question_id":76267996,"body_markdown":"Finally figured this out.  Because minio was running in a container, I had to do port forwarding so my test could reach minio.\r\n\r\nExample:\r\n\r\nkubectl port-forward -n gossamer-windows deployment/minio-deployment 9001:9000\r\n\r\nOnce I did the port forwarding I was able to read and right to minio in delta format.","title":"Unable to read from minio using spark due to &quot;NoAuthWithAWSException: Credentials requested after provider list was closed&quot;","body":"<p>Finally figured this out.  Because minio was running in a container, I had to do port forwarding so my test could reach minio.</p>\n<p>Example:</p>\n<p>kubectl port-forward -n gossamer-windows deployment/minio-deployment 9001:9000</p>\n<p>Once I did the port forwarding I was able to read and right to minio in delta format.</p>\n"}],"owner":{"account_id":20455031,"reputation":173,"user_id":15008906,"display_name":"Jon Hayden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684330038,"creation_date":1684286417,"question_id":76267996,"body_markdown":"\r\nHere&#39;s the code:\r\n\r\n        public static void main(String[] args) {\r\n        SparkConf sparkConf = new SparkConf()\r\n                .setAppName(&quot;test&quot;)\r\n                .set(&quot;spark.delta.logStore.class&quot;, &quot;org.apache.spark.sql.delta.storage.S3SingleDriverLogStore&quot;)\r\n                .set(&quot;spark.hadoop.fs.s3a.endpoint&quot;, &quot;http://localhost:9000&quot;)\r\n                .set(&quot;spark.hadoop.fs.s3a.access.key&quot;, &quot;minio&quot;)\r\n                .set(&quot;spark.hadoop.fs.s3a.secret.key&quot;, &quot;minio123&quot;)\r\n                .set(&quot;spark.hadoop.fs.s3a.path.style.access&quot;, &quot;true&quot;)\r\n                .set(&quot;spark.hadoop.fs.s3a.connection.ssl.enabled&quot;, &quot;false&quot;)\r\n                .set(&quot;spark.hadoop.fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\r\n                ;\r\n\r\n        SparkSession sparkSession = SparkSession.builder()\r\n                .master(&quot;local&quot;)\r\n                .config(sparkConf)\r\n                .getOrCreate();\r\n\r\n        System.out.println(&quot;********** Reading from minio **********&quot;);\r\n        Dataset&lt;Row&gt; csv = sparkSession\r\n                .read()\r\n                .format(&quot;csv&quot;)\r\n                .option(&quot;header&quot;,&quot;true&quot;)\r\n                .csv(&quot;s3a://spark-test/test.csv&quot;)\r\n                ;\r\n\r\n        System.out.println(&quot;********** Writing to minio **********&quot;);\r\n        csv.write().mode(&quot;overwrite&quot;).format(&quot;delta&quot;).save(&quot;s3a://spark-test/deltafile&quot;);\r\n\r\nThis is the output and hangs\r\n```\r\n********** Reading from minio **********\r\n23/05/16 20:07:00 INFO SharedState: Setting hive.metastore.warehouse.dir (&#39;null&#39;) to the value of spark.sql.warehouse.dir.\r\n23/05/16 20:07:00 INFO SharedState: Warehouse path is &#39;file:/C:/&lt;...&gt;/spark-warehouse&#39;.\r\n23/05/16 20:07:02 WARN MetricsConfig: Cannot locate configuration: tried hadoop-metrics2-s3a-file-system.properties,hadoop-metrics2.properties\r\n23/05/16 20:07:02 INFO MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).\r\n23/05/16 20:07:02 INFO MetricsSystemImpl: s3a-file-system metrics system started\r\n23/05/16 20:07:11 WARN ProcfsMetricsGetter: Exception when trying to compute pagesize, as a result reporting of ProcessTree metrics is stopped\r\n```\r\n\r\nIf I wait about 5 minutes and stop the program, I get this output with no errors:\r\n```\r\n23/05/16 20:11:53 INFO SparkContext: Invoking stop() from shutdown hook\r\n23/05/16 20:11:53 INFO SparkUI: Stopped Spark web UI at http://BAH5CD010DT15.resource.ds.bah.com:4041\r\n23/05/16 20:11:53 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\r\n23/05/16 20:11:53 INFO MemoryStore: MemoryStore cleared\r\n23/05/16 20:11:53 INFO BlockManager: BlockManager stopped\r\n23/05/16 20:11:53 INFO BlockManagerMaster: BlockManagerMaster stopped\r\n23/05/16 20:11:53 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\r\n23/05/16 20:11:53 INFO SparkContext: Successfully stopped SparkContext\r\n23/05/16 20:11:53 INFO ShutdownHookManager: Shutdown hook called\r\n23/05/16 20:11:53 INFO ShutdownHookManager: Deleting directory C:\\Users\\611528\\AppData\\Local\\Temp\\1\\spark-9f08dab0-3643-4cec-9d40-443b5db388be\r\n23/05/16 20:11:53 INFO MetricsSystemImpl: Stopping s3a-file-system metrics system...\r\n23/05/16 20:11:53 INFO MetricsSystemImpl: s3a-file-system metrics system stopped.\r\n23/05/16 20:11:53 INFO MetricsSystemImpl: s3a-file-system metrics system shutdown complete.\r\n```\r\n\r\nBut if I stop the program at the hanging point after only a minute, I get these additional messages:\r\n```\r\n23/05/16 20:13:26 WARN AWSCredentialProviderList: Credentials requested after provider list was closed\r\n23/05/16 20:13:26 WARN FileStreamSink: Assume no metadata directory. Error while looking for metadata directory in the path: s3a://spark-test/test.csv.\r\njava.nio.file.AccessDeniedException: s3a://spark-test/test.csv: org.apache.hadoop.fs.s3a.auth.NoAuthWithAWSException: Credentials requested after provider list was closed\r\n```\r\n\r\nI&#39;ve spent all day looking at this and haven&#39;t found a solution yet. It never even makes it to the write() portion of the code.  It&#39;s hanging on the read() for some reason.  Any help would be appreciated.\r\n","title":"Unable to read from minio using spark due to &quot;NoAuthWithAWSException: Credentials requested after provider list was closed&quot;","body":"<p>Here's the code:</p>\n<pre><code>    public static void main(String[] args) {\n    SparkConf sparkConf = new SparkConf()\n            .setAppName(&quot;test&quot;)\n            .set(&quot;spark.delta.logStore.class&quot;, &quot;org.apache.spark.sql.delta.storage.S3SingleDriverLogStore&quot;)\n            .set(&quot;spark.hadoop.fs.s3a.endpoint&quot;, &quot;http://localhost:9000&quot;)\n            .set(&quot;spark.hadoop.fs.s3a.access.key&quot;, &quot;minio&quot;)\n            .set(&quot;spark.hadoop.fs.s3a.secret.key&quot;, &quot;minio123&quot;)\n            .set(&quot;spark.hadoop.fs.s3a.path.style.access&quot;, &quot;true&quot;)\n            .set(&quot;spark.hadoop.fs.s3a.connection.ssl.enabled&quot;, &quot;false&quot;)\n            .set(&quot;spark.hadoop.fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\n            ;\n\n    SparkSession sparkSession = SparkSession.builder()\n            .master(&quot;local&quot;)\n            .config(sparkConf)\n            .getOrCreate();\n\n    System.out.println(&quot;********** Reading from minio **********&quot;);\n    Dataset&lt;Row&gt; csv = sparkSession\n            .read()\n            .format(&quot;csv&quot;)\n            .option(&quot;header&quot;,&quot;true&quot;)\n            .csv(&quot;s3a://spark-test/test.csv&quot;)\n            ;\n\n    System.out.println(&quot;********** Writing to minio **********&quot;);\n    csv.write().mode(&quot;overwrite&quot;).format(&quot;delta&quot;).save(&quot;s3a://spark-test/deltafile&quot;);\n</code></pre>\n<p>This is the output and hangs</p>\n<pre><code>********** Reading from minio **********\n23/05/16 20:07:00 INFO SharedState: Setting hive.metastore.warehouse.dir ('null') to the value of spark.sql.warehouse.dir.\n23/05/16 20:07:00 INFO SharedState: Warehouse path is 'file:/C:/&lt;...&gt;/spark-warehouse'.\n23/05/16 20:07:02 WARN MetricsConfig: Cannot locate configuration: tried hadoop-metrics2-s3a-file-system.properties,hadoop-metrics2.properties\n23/05/16 20:07:02 INFO MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).\n23/05/16 20:07:02 INFO MetricsSystemImpl: s3a-file-system metrics system started\n23/05/16 20:07:11 WARN ProcfsMetricsGetter: Exception when trying to compute pagesize, as a result reporting of ProcessTree metrics is stopped\n</code></pre>\n<p>If I wait about 5 minutes and stop the program, I get this output with no errors:</p>\n<pre><code>23/05/16 20:11:53 INFO SparkContext: Invoking stop() from shutdown hook\n23/05/16 20:11:53 INFO SparkUI: Stopped Spark web UI at http://BAH5CD010DT15.resource.ds.bah.com:4041\n23/05/16 20:11:53 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\n23/05/16 20:11:53 INFO MemoryStore: MemoryStore cleared\n23/05/16 20:11:53 INFO BlockManager: BlockManager stopped\n23/05/16 20:11:53 INFO BlockManagerMaster: BlockManagerMaster stopped\n23/05/16 20:11:53 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\n23/05/16 20:11:53 INFO SparkContext: Successfully stopped SparkContext\n23/05/16 20:11:53 INFO ShutdownHookManager: Shutdown hook called\n23/05/16 20:11:53 INFO ShutdownHookManager: Deleting directory C:\\Users\\611528\\AppData\\Local\\Temp\\1\\spark-9f08dab0-3643-4cec-9d40-443b5db388be\n23/05/16 20:11:53 INFO MetricsSystemImpl: Stopping s3a-file-system metrics system...\n23/05/16 20:11:53 INFO MetricsSystemImpl: s3a-file-system metrics system stopped.\n23/05/16 20:11:53 INFO MetricsSystemImpl: s3a-file-system metrics system shutdown complete.\n</code></pre>\n<p>But if I stop the program at the hanging point after only a minute, I get these additional messages:</p>\n<pre><code>23/05/16 20:13:26 WARN AWSCredentialProviderList: Credentials requested after provider list was closed\n23/05/16 20:13:26 WARN FileStreamSink: Assume no metadata directory. Error while looking for metadata directory in the path: s3a://spark-test/test.csv.\njava.nio.file.AccessDeniedException: s3a://spark-test/test.csv: org.apache.hadoop.fs.s3a.auth.NoAuthWithAWSException: Credentials requested after provider list was closed\n</code></pre>\n<p>I've spent all day looking at this and haven't found a solution yet. It never even makes it to the write() portion of the code.  It's hanging on the read() for some reason.  Any help would be appreciated.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-ssm"],"answers":[{"tags":[],"owner":{"account_id":504212,"reputation":8086,"user_id":2531132,"accept_rate":50,"display_name":"thomasmichaelwallace"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1540813558,"creation_date":1540813558,"answer_id":53044842,"question_id":53044174,"body_markdown":"Fundamentally SSM parameters are always strings [(docs)](https://docs.aws.amazon.com/systems-manager/latest/APIReference/API_Parameter.html). Whether they&#39;re _just_ a string, or an encrypted string, or a &quot;list&quot; which is really a string where you&#39;ve agreed to use a comma as a separator for items.\r\n\r\nLuckily strings are incredibly flexible and the trick will be to marshal your data to/from a string representation.\r\n\r\nProbably the most obvious is to use the SSM `StringList` type and require that the string list is ordered, for example `mailInfo = smpt,username,password,defaultToMail `. At which point you can do your own marshalling:\r\n\r\n    GetParameterRequest parameterRequest = new GetParameterRequest().withName(&quot;mailInfo&quot;).withWithDecryption(false);\r\n    AWSSimpleSystemsManagement ssmclient = AWSSimpleSystemsManagementClientBuilder.defaultClient();\r\n    GetParameterResult parameterResult = ssmclient.getParameter(parameterRequest);\r\n    String mailInfo = parameterResult.getParameter().getValue();\r\n\r\n    String[] params = mailInfo.split(&quot;,&quot;);\r\n    String stmp = params[0];\r\n    String username = params[1];\r\n    String password = params[2];\r\n    String defaultToMail = params[3];\r\n\r\nMarshalling a StringList is probably prefered against other options (for example serialising a class and saving the result), as it&#39;s user-editable in the interface. You might, however, want to extend the format to be explicit about the ordering, e.g. `smtp=smtp_value,username=username_value...` and then split each list item by `=` and assign accordingly.","title":"AWS Systems Manager Parameter Store: Using StringList as Key Value Pairs in Java (Lambda)","body":"<p>Fundamentally SSM parameters are always strings <a href=\"https://docs.aws.amazon.com/systems-manager/latest/APIReference/API_Parameter.html\" rel=\"noreferrer\">(docs)</a>. Whether they're <em>just</em> a string, or an encrypted string, or a \"list\" which is really a string where you've agreed to use a comma as a separator for items.</p>\n\n<p>Luckily strings are incredibly flexible and the trick will be to marshal your data to/from a string representation.</p>\n\n<p>Probably the most obvious is to use the SSM <code>StringList</code> type and require that the string list is ordered, for example <code>mailInfo = smpt,username,password,defaultToMail</code>. At which point you can do your own marshalling:</p>\n\n<pre><code>GetParameterRequest parameterRequest = new GetParameterRequest().withName(\"mailInfo\").withWithDecryption(false);\nAWSSimpleSystemsManagement ssmclient = AWSSimpleSystemsManagementClientBuilder.defaultClient();\nGetParameterResult parameterResult = ssmclient.getParameter(parameterRequest);\nString mailInfo = parameterResult.getParameter().getValue();\n\nString[] params = mailInfo.split(\",\");\nString stmp = params[0];\nString username = params[1];\nString password = params[2];\nString defaultToMail = params[3];\n</code></pre>\n\n<p>Marshalling a StringList is probably prefered against other options (for example serialising a class and saving the result), as it's user-editable in the interface. You might, however, want to extend the format to be explicit about the ordering, e.g. <code>smtp=smtp_value,username=username_value...</code> and then split each list item by <code>=</code> and assign accordingly.</p>\n"},{"tags":[],"owner":{"account_id":6750506,"reputation":709,"user_id":5200630,"display_name":"Gogu CelMare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684329819,"creation_date":1684329819,"answer_id":76272602,"question_id":53044174,"body_markdown":"Checkout GetParametersByPath in java sdk    \r\n[doco:] (https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/ssm/SsmClient.html#getParametersByPath(software.amazon.awssdk.services.ssm.model.GetParametersByPathRequest)) \r\n\r\nThey are specifically designed for grouping together sets of data.","title":"AWS Systems Manager Parameter Store: Using StringList as Key Value Pairs in Java (Lambda)","body":"<p>Checkout GetParametersByPath in java sdk<br />\n[doco:] (<a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/ssm/SsmClient.html#getParametersByPath(software.amazon.awssdk.services.ssm.model.GetParametersByPathRequest)\" rel=\"nofollow noreferrer\">https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/ssm/SsmClient.html#getParametersByPath(software.amazon.awssdk.services.ssm.model.GetParametersByPathRequest)</a>)</p>\n<p>They are specifically designed for grouping together sets of data.</p>\n"}],"owner":{"account_id":7287031,"reputation":109,"user_id":5554802,"display_name":"mjd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15477,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53044842,"answer_count":2,"score":3,"last_activity_date":1684329819,"creation_date":1540811197,"question_id":53044174,"body_markdown":"Im using Api Gateway and AWS Lambda and AWS RDS to build an API.\r\nMy Lambda Function Code is Java.\r\nCurrently im using the AWS Systems Manager Parameter Store successfully to connect to my Database.\r\nTherefore I created a parameter called &quot;connection&quot; which has the type String and holds my complete connection url.\r\nIn Lambda functions i can access this parameter successfully this way:\r\n\r\n    GetParameterRequest parameterRequest = new GetParameterRequest().withName(&quot;connection&quot;).withWithDecryption(false);\r\n    \t\tAWSSimpleSystemsManagement ssmclient = AWSSimpleSystemsManagementClientBuilder.defaultClient();\r\n    \t\tGetParameterResult parameterResult = ssmclient.getParameter(parameterRequest);\r\n    \t\tString url = parameterResult.getParameter().getValue();\r\n\r\n\r\nNow my question: \r\nIn other lambda functions I want to send mails. Therefor I want to save the **SMTP-Server** and the **username** and the **password** and a **default sender mail** and so on.\r\n\r\nWould it be possible to save this information as Type StringList like Key/Value Pairs (Map)?\r\nThat something like this could be possible:\r\n\r\n        //Get StringList\r\n        GetParameterRequest parameterRequest = new GetParameterRequest().withName(&quot;mailInfo&quot;).withWithDecryption(false);\r\n        AWSSimpleSystemsManagement ssmclient = AWSSimpleSystemsManagementClientBuilder.defaultClient();\r\n    \t\tGetParameterResult parameterResult = ssmclient.getParameter(parameterRequest);\r\n        //Get values from the list\r\n        String smtp_server = parameterResult.getParameter(&quot;smtp&quot;).getValue();\r\n        String to_mail = parameterResult.getParameter(&quot;defaultToMail&quot;).getValue();\r\n        ...\r\n\r\nThanks in advance.","title":"AWS Systems Manager Parameter Store: Using StringList as Key Value Pairs in Java (Lambda)","body":"<p>Im using Api Gateway and AWS Lambda and AWS RDS to build an API.\nMy Lambda Function Code is Java.\nCurrently im using the AWS Systems Manager Parameter Store successfully to connect to my Database.\nTherefore I created a parameter called \"connection\" which has the type String and holds my complete connection url.\nIn Lambda functions i can access this parameter successfully this way:</p>\n\n<pre><code>GetParameterRequest parameterRequest = new GetParameterRequest().withName(\"connection\").withWithDecryption(false);\n        AWSSimpleSystemsManagement ssmclient = AWSSimpleSystemsManagementClientBuilder.defaultClient();\n        GetParameterResult parameterResult = ssmclient.getParameter(parameterRequest);\n        String url = parameterResult.getParameter().getValue();\n</code></pre>\n\n<p>Now my question: \nIn other lambda functions I want to send mails. Therefor I want to save the <strong>SMTP-Server</strong> and the <strong>username</strong> and the <strong>password</strong> and a <strong>default sender mail</strong> and so on.</p>\n\n<p>Would it be possible to save this information as Type StringList like Key/Value Pairs (Map)?\nThat something like this could be possible:</p>\n\n<pre><code>    //Get StringList\n    GetParameterRequest parameterRequest = new GetParameterRequest().withName(\"mailInfo\").withWithDecryption(false);\n    AWSSimpleSystemsManagement ssmclient = AWSSimpleSystemsManagementClientBuilder.defaultClient();\n        GetParameterResult parameterResult = ssmclient.getParameter(parameterRequest);\n    //Get values from the list\n    String smtp_server = parameterResult.getParameter(\"smtp\").getValue();\n    String to_mail = parameterResult.getParameter(\"defaultToMail\").getValue();\n    ...\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3209227,"reputation":471,"user_id":2709542,"display_name":"Mathew"},"score":0,"creation_date":1684317138,"post_id":76267842,"comment_id":134499534,"body_markdown":"What&#39;s the version of spring-kafka ?","body":"What&#39;s the version of spring-kafka ?"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684329783,"creation_date":1684329783,"answer_id":76272594,"question_id":76267842,"body_markdown":"You can add metadata to the `OffsetAndMetadata` by configuring an `OffsetAndMetadataProvider`.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#offsetAndMetadataProvider\r\n\r\nIt is called for each offset that will be committed.\r\n\r\n```java\r\n/**\r\n * Provider for {@link OffsetAndMetadata}. The provider can be used to have more granularity when creating an\r\n * {@link OffsetAndMetadata}. The provider is used for both sync and async commits of the offsets.\r\n *\r\n * @author Francois Rosiere\r\n * @since 2.8.5\r\n * @see org.apache.kafka.clients.consumer.OffsetCommitCallback\r\n */\r\npublic interface OffsetAndMetadataProvider {\r\n\r\n\t/**\r\n\t * Provide an offset and metadata object for the given listener metadata and offset.\r\n\t *\r\n\t * @param listenerMetadata metadata associated to a listener.\r\n\t * @param offset an offset.\r\n\t * @return an offset and metadata.\r\n\t */\r\n\tOffsetAndMetadata provide(ListenerMetadata listenerMetadata, long offset);\r\n}\r\n```","title":"Spring-kafka Record offset commit time for Async manual commits","body":"<p>You can add metadata to the <code>OffsetAndMetadata</code> by configuring an <code>OffsetAndMetadataProvider</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#offsetAndMetadataProvider\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#offsetAndMetadataProvider</a></p>\n<p>It is called for each offset that will be committed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Provider for {@link OffsetAndMetadata}. The provider can be used to have more granularity when creating an\n * {@link OffsetAndMetadata}. The provider is used for both sync and async commits of the offsets.\n *\n * @author Francois Rosiere\n * @since 2.8.5\n * @see org.apache.kafka.clients.consumer.OffsetCommitCallback\n */\npublic interface OffsetAndMetadataProvider {\n\n    /**\n     * Provide an offset and metadata object for the given listener metadata and offset.\n     *\n     * @param listenerMetadata metadata associated to a listener.\n     * @param offset an offset.\n     * @return an offset and metadata.\n     */\n    OffsetAndMetadata provide(ListenerMetadata listenerMetadata, long offset);\n}\n</code></pre>\n"}],"owner":{"account_id":10505209,"reputation":37,"user_id":7742611,"display_name":"Aakanksha Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76272594,"answer_count":1,"score":1,"last_activity_date":1684329783,"creation_date":1684283081,"question_id":76267842,"body_markdown":"I have a spring kafka based listener that receives a batch, processes and then manually acknowledges it as in the code below:\r\n\r\n```\r\n    @KafkaListener(topics = my_topic)\r\n    public void consume(@Payload List&lt;String&gt; messages,\r\n                        @Header(KafkaHeaders.ACKNOWLEDGMENT) Acknowledgment acknowledgment) {\r\n    for (String message: messages) {\r\n         // process each message\r\n    }\r\n    // Ideally the timer will record start time here\r\n    acknowledgement.acknowledge();\r\n\r\n```\r\nMy config class has the commit callback logic. I would like to record a timer for the time between when the acknowledge is called and when the callback is received. \r\n\r\n```\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n\r\n        log.info(&quot;Creating kafka listener factory&quot;);\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory\r\n                = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        factory.setBatchListener(true);\r\n        factory.getContainerProperties().setSyncCommits(false);     \r\n        factory.getContainerProperties()\r\n                .setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n        // More config\r\n        factory.getContainerProperties().setCommitCallback((map, ex) -&gt; {\r\n        // Ideally the end time will be recorded here and timer metric published.\r\n            if (ex == null) {\r\n                log.info(&quot;Successful commit for {}&quot;, map);\r\n            } else {\r\n                log.error(&quot;Commit failed for {} with exception: {}&quot;, map, ex.getMessage());\r\n            }\r\n        });\r\n    }\r\n\r\n```\r\nHow can I do it with spring kafka? The acknowledge method doesn&#39;t let me pass any values to refer in the callback.","title":"Spring-kafka Record offset commit time for Async manual commits","body":"<p>I have a spring kafka based listener that receives a batch, processes and then manually acknowledges it as in the code below:</p>\n<pre><code>    @KafkaListener(topics = my_topic)\n    public void consume(@Payload List&lt;String&gt; messages,\n                        @Header(KafkaHeaders.ACKNOWLEDGMENT) Acknowledgment acknowledgment) {\n    for (String message: messages) {\n         // process each message\n    }\n    // Ideally the timer will record start time here\n    acknowledgement.acknowledge();\n\n</code></pre>\n<p>My config class has the commit callback logic. I would like to record a timer for the time between when the acknowledge is called and when the callback is received.</p>\n<pre><code>    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n\n        log.info(&quot;Creating kafka listener factory&quot;);\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory\n                = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        factory.setBatchListener(true);\n        factory.getContainerProperties().setSyncCommits(false);     \n        factory.getContainerProperties()\n                .setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n        // More config\n        factory.getContainerProperties().setCommitCallback((map, ex) -&gt; {\n        // Ideally the end time will be recorded here and timer metric published.\n            if (ex == null) {\n                log.info(&quot;Successful commit for {}&quot;, map);\n            } else {\n                log.error(&quot;Commit failed for {} with exception: {}&quot;, map, ex.getMessage());\n            }\n        });\n    }\n\n</code></pre>\n<p>How can I do it with spring kafka? The acknowledge method doesn't let me pass any values to refer in the callback.</p>\n"},{"tags":["java","typescript","maven","openapi","type-mapping"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1658162145,"post_id":73025534,"comment_id":128977636,"body_markdown":"By the way, both `Date` classes bundled with Java are terribly flawed by poor design. They were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"By the way, both <code>Date</code> classes bundled with Java are terribly flawed by poor design. They were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."}],"answers":[{"tags":[],"owner":{"account_id":994572,"reputation":8429,"user_id":1010868,"accept_rate":69,"display_name":"Tomasz Gawel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684329727,"creation_date":1684325158,"answer_id":76271911,"question_id":73025534,"body_markdown":"Define `typeMappings` as below, instead:\r\n\r\n    &lt;typeMappings&gt;\r\n        &lt;mapping&gt;DateTime=Date&lt;/mapping&gt;\r\n        &lt;mapping&gt;Date=Date&lt;/mapping&gt;\r\n    &lt;/typeMappings&gt;\r\n\r\nThis worked with `typescript-angular` generator, at least.","title":"OpenApi&#39;s typeMapping Date=Date is not working","body":"<p>Define <code>typeMappings</code> as below, instead:</p>\n<pre><code>&lt;typeMappings&gt;\n    &lt;mapping&gt;DateTime=Date&lt;/mapping&gt;\n    &lt;mapping&gt;Date=Date&lt;/mapping&gt;\n&lt;/typeMappings&gt;\n</code></pre>\n<p>This worked with <code>typescript-angular</code> generator, at least.</p>\n"}],"owner":{"account_id":19064371,"reputation":441,"user_id":13919748,"display_name":"javaistaucheineinsel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684329727,"creation_date":1658161123,"question_id":73025534,"body_markdown":"I am having trouble generating the client code with the right type mapping. My client is broken because fields of type `date` are generated as `string` :\r\n\r\n    //Server code (Java)\r\n    @ApiModel(description = &quot;ContractExtensionDto&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class ContractExtensionDto {\r\n        @NotNull\r\n        protected Integer id;\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = PatternConfig.DATE_TIME_FORMAT)\r\n        protected Date dateStart;\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = PatternConfig.DATE_TIME_FORMAT)\r\n        protected Date dateEnd;\r\n        //omitted code\r\n    }\r\n\r\n    //Generated client code (Typescript)\r\n    export interface ContractExtensionDto { \r\n        id: number;\r\n        dateStart?: string;\r\n        dateEnd?: string;\r\n        //omitted code\r\n    } \r\n\r\n\r\nIn my pom.xml I have added both `typeMappings` and `importMappings` :\r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;generate&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;inputSpec&gt;${project.build.directory}/classes/swagger/swagger.json&lt;/inputSpec&gt;\r\n                        &lt;generatorName&gt;typescript-angular&lt;/generatorName&gt;\r\n                        &lt;output&gt;frontend/src/app/services/rest-api&lt;/output&gt;\r\n                        &lt;skipValidateSpec&gt;true&lt;/skipValidateSpec&gt;\r\n                        &lt;configOptions&gt;\r\n                            &lt;ngVersion&gt;10.2.5&lt;/ngVersion&gt;\r\n    \t\t\t\t\t\t&lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                        &lt;/configOptions&gt;\r\n    \t\t\t\t\t&lt;typeMappings&gt;Date=Date&lt;/typeMappings&gt;\r\n    \t\t\t\t\t&lt;importMappings&gt;Date=Date&lt;/importMappings&gt;\r\n                        &lt;!-- I have tried this as well but in vain --&gt;\r\n                        &lt;!-- \r\n                          &lt;typeMappings&gt;DateTime=Date&lt;/typeMappings&gt;\r\n    \t\t\t\t\t  &lt;importMappings&gt;DateTime=Date&lt;/importMappings&gt;\r\n                        --&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n\r\nbut still the client `date` fields are generated as `string` typed.","title":"OpenApi&#39;s typeMapping Date=Date is not working","body":"<p>I am having trouble generating the client code with the right type mapping. My client is broken because fields of type <code>date</code> are generated as <code>string</code> :</p>\n<pre><code>//Server code (Java)\n@ApiModel(description = &quot;ContractExtensionDto&quot;)\n@Data\n@NoArgsConstructor\npublic class ContractExtensionDto {\n    @NotNull\n    protected Integer id;\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = PatternConfig.DATE_TIME_FORMAT)\n    protected Date dateStart;\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = PatternConfig.DATE_TIME_FORMAT)\n    protected Date dateEnd;\n    //omitted code\n}\n\n//Generated client code (Typescript)\nexport interface ContractExtensionDto { \n    id: number;\n    dateStart?: string;\n    dateEnd?: string;\n    //omitted code\n} \n</code></pre>\n<p>In my pom.xml I have added both <code>typeMappings</code> and <code>importMappings</code> :</p>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;generate&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;inputSpec&gt;${project.build.directory}/classes/swagger/swagger.json&lt;/inputSpec&gt;\n                    &lt;generatorName&gt;typescript-angular&lt;/generatorName&gt;\n                    &lt;output&gt;frontend/src/app/services/rest-api&lt;/output&gt;\n                    &lt;skipValidateSpec&gt;true&lt;/skipValidateSpec&gt;\n                    &lt;configOptions&gt;\n                        &lt;ngVersion&gt;10.2.5&lt;/ngVersion&gt;\n                        &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                    &lt;/configOptions&gt;\n                    &lt;typeMappings&gt;Date=Date&lt;/typeMappings&gt;\n                    &lt;importMappings&gt;Date=Date&lt;/importMappings&gt;\n                    &lt;!-- I have tried this as well but in vain --&gt;\n                    &lt;!-- \n                      &lt;typeMappings&gt;DateTime=Date&lt;/typeMappings&gt;\n                      &lt;importMappings&gt;DateTime=Date&lt;/importMappings&gt;\n                    --&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>but still the client <code>date</code> fields are generated as <code>string</code> typed.</p>\n"},{"tags":["java","spring-boot","apache-spark"],"comments":[{"owner":{"account_id":28293063,"reputation":1,"user_id":21632895,"display_name":"Karuppusamy Mani"},"score":0,"creation_date":1684323702,"post_id":76270607,"comment_id":134500899,"body_markdown":"the issue is maven dependency. i have changed spark-core_2.13 to spark-core_2.12 it&#39;s working fine. but getting another error `Caused by: java.net.UnknownHostException: host.docker.internal`","body":"the issue is maven dependency. i have changed spark-core_2.13 to spark-core_2.12 it&#39;s working fine. but getting another error <code>Caused by: java.net.UnknownHostException: host.docker.internal</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684329379,"post_id":76270607,"comment_id":134502232,"body_markdown":"1) You should add provided Maven scope to Spark dependencies 2) If your code isn&#39;t running in a container, that&#39;s an expected error","body":"1) You should add provided Maven scope to Spark dependencies 2) If your code isn&#39;t running in a container, that&#39;s an expected error"},{"owner":{"account_id":28293063,"reputation":1,"user_id":21632895,"display_name":"Karuppusamy Mani"},"score":0,"creation_date":1684571039,"post_id":76270607,"comment_id":134538970,"body_markdown":"Thanks. but the issue is resolved.just added `spark.driver.host` and `spark.driver.bindAddress` in SparkSession.","body":"Thanks. but the issue is resolved.just added <code>spark.driver.host</code> and <code>spark.driver.bindAddress</code> in SparkSession."},{"owner":{"account_id":28293063,"reputation":1,"user_id":21632895,"display_name":"Karuppusamy Mani"},"score":0,"creation_date":1684571103,"post_id":76270607,"comment_id":134538976,"body_markdown":"and one more thing don&#39;t use row.toString(). it will cause run time.","body":"and one more thing don&#39;t use row.toString(). it will cause run time."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684589796,"post_id":76270607,"comment_id":134540956,"body_markdown":"You should use dataset.show() rather than a foreach loop","body":"You should use dataset.show() rather than a foreach loop"}],"owner":{"account_id":28293063,"reputation":1,"user_id":21632895,"display_name":"Karuppusamy Mani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684329421,"creation_date":1684316043,"question_id":76270607,"body_markdown":"I have one master node and two worker nodes. all nodes are running same version spark 3.4.0. Installed Hadoop 3.3.5 cluster on same. Spring boot dependencies are. \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-streaming_2.13&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nJava code is.\r\n\r\n```\r\nSparkConf sparkConf = new SparkConf()\r\n        .setAppName(&quot;gbh&quot;)\r\n        .setMaster(sparkUrl)\r\n        .set(&quot;fs.defaultFS&quot;,hdfsUrl)\r\n\r\nSparkSession sparkSession =     SparkSession.builder().master(sparkUrl).config(sparkConf).getOrCreate();\r\nSparkContext sparkContext = sparkSession.sparkContext();\r\nsparkContext.hadoopConfiguration().set(&quot;fs.defaultFS&quot;, hdfsUrl);\r\nsparkContext.hadoopConfiguration().set(&quot;HADOOP_USER_NAME&quot;, username);\r\nFileSystem fs = FileSystem.get(sparkContext.hadoopConfiguration());\r\nDataset&lt;Row&gt; resul = sparkSession.read().option(&quot;header&quot;, true).option(&quot;delimiter&quot;, &quot;,&quot;).csv(&quot;hdfs:///user/root/address.csv&quot;);\r\nresul.createOrReplaceTempView(&quot;Address&quot;);\r\nDataset&lt;Row&gt; dataset = sparkSession.sql(&quot;SELECT COUNT(*) FROM Address&quot;);\r\ndataset.foreach(row -&gt; {\r\nlogger.info(&quot;row data =  &quot;+row.toString());\r\n});\r\n```\r\n\r\nI have tested in spark shell using pyspark --master spark://165.300.90.17:7077 its working same code with Scala. but in java i am getting below error \r\n\r\n`org.apache.spark.SparkException: Exception thrown in awaitResult:  Caused by: java.lang.RuntimeException: java.io.InvalidClassException: org.apache.spark.rpc.netty.RpcEndpointVerifier$CheckExistence; local class incompatible: stream classdesc serialVersionUID = 5378738997755484868, local class serialVersionUID = 7789290765573734431`\r\n\r\nCan you please guide me to resolve this issue. Thanks.\r\n\r\nAnd also How can use Spark Connect for java.","title":"Connect spark 3.4.0 (cluster master) and hadoop 3.3.5 (cluster) from spring boot 2.7.9","body":"<p>I have one master node and two worker nodes. all nodes are running same version spark 3.4.0. Installed Hadoop 3.3.5 cluster on same. Spring boot dependencies are.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n    &lt;version&gt;3.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n    &lt;version&gt;3.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-streaming_2.13&lt;/artifactId&gt;\n    &lt;version&gt;3.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Java code is.</p>\n<pre><code>SparkConf sparkConf = new SparkConf()\n        .setAppName(&quot;gbh&quot;)\n        .setMaster(sparkUrl)\n        .set(&quot;fs.defaultFS&quot;,hdfsUrl)\n\nSparkSession sparkSession =     SparkSession.builder().master(sparkUrl).config(sparkConf).getOrCreate();\nSparkContext sparkContext = sparkSession.sparkContext();\nsparkContext.hadoopConfiguration().set(&quot;fs.defaultFS&quot;, hdfsUrl);\nsparkContext.hadoopConfiguration().set(&quot;HADOOP_USER_NAME&quot;, username);\nFileSystem fs = FileSystem.get(sparkContext.hadoopConfiguration());\nDataset&lt;Row&gt; resul = sparkSession.read().option(&quot;header&quot;, true).option(&quot;delimiter&quot;, &quot;,&quot;).csv(&quot;hdfs:///user/root/address.csv&quot;);\nresul.createOrReplaceTempView(&quot;Address&quot;);\nDataset&lt;Row&gt; dataset = sparkSession.sql(&quot;SELECT COUNT(*) FROM Address&quot;);\ndataset.foreach(row -&gt; {\nlogger.info(&quot;row data =  &quot;+row.toString());\n});\n</code></pre>\n<p>I have tested in spark shell using pyspark --master spark://165.300.90.17:7077 its working same code with Scala. but in java i am getting below error</p>\n<p><code>org.apache.spark.SparkException: Exception thrown in awaitResult:  Caused by: java.lang.RuntimeException: java.io.InvalidClassException: org.apache.spark.rpc.netty.RpcEndpointVerifier$CheckExistence; local class incompatible: stream classdesc serialVersionUID = 5378738997755484868, local class serialVersionUID = 7789290765573734431</code></p>\n<p>Can you please guide me to resolve this issue. Thanks.</p>\n<p>And also How can use Spark Connect for java.</p>\n"},{"tags":["java","node.js","aws-lambda","aws-lambda-layers"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1684329689,"post_id":76270718,"comment_id":134502314,"body_markdown":"AWS Lambda is irrelevant here. You can&#39;t directly call a JavaScript function from Java.  You&#39;d need to exec node.js to parse and run the JS code but that&#39;s a bad idea generally. If you aren&#39;t able to write both pieces of code in the same programming language then consider making one of them an API or separately-invoked Lambda function.","body":"AWS Lambda is irrelevant here. You can&#39;t directly call a JavaScript function from Java.  You&#39;d need to exec node.js to parse and run the JS code but that&#39;s a bad idea generally. If you aren&#39;t able to write both pieces of code in the same programming language then consider making one of them an API or separately-invoked Lambda function."}],"owner":{"account_id":2213824,"reputation":303,"user_id":1954985,"accept_rate":14,"display_name":"SSS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684329252,"creation_date":1684316758,"question_id":76270718,"body_markdown":"I created one Lambda. In that lambda, I need to add one existing Layer. The Lambda is in java and lambda layer is in NodeJS. How can I call a function from the layer in the lambda?\r\n\r\nI am able to call if both the runtime environment is NodeJS.\r\n```\r\nimport createRequire  from &#39;/opt/index.js&#39;;\r\n\r\nexport const handler = async(event) =&gt; {\r\n    let t = await createRequire.f1(event);\r\n    const response = {\r\n        statusCode: 200,\r\n        body: t,\r\n    };\r\n    return await createRequire.f2(response);\r\n};\r\n\r\n```\r\n\r\nI want to call the f1() and f2() in my Java Lambda. \r\n","title":"Run Lambda Layer Function in Lambda","body":"<p>I created one Lambda. In that lambda, I need to add one existing Layer. The Lambda is in java and lambda layer is in NodeJS. How can I call a function from the layer in the lambda?</p>\n<p>I am able to call if both the runtime environment is NodeJS.</p>\n<pre><code>import createRequire  from '/opt/index.js';\n\nexport const handler = async(event) =&gt; {\n    let t = await createRequire.f1(event);\n    const response = {\n        statusCode: 200,\n        body: t,\n    };\n    return await createRequire.f2(response);\n};\n\n</code></pre>\n<p>I want to call the f1() and f2() in my Java Lambda.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1684265410,"post_id":76266461,"comment_id":134492460,"body_markdown":"Could be that the iterator is associated with a Mongo connection/cursor.  When you return it, there&#39;s no guarantee that the caller will know to close the connection.  Maybe you can do better by instantiating the iterator and closing it in a single method scope instead of returning it.  Load the Documents into a Java List&lt;Document&gt;, close the iterator/connection, and return the List.  Just like JDBC - you don&#39;t keep database connections open.","body":"Could be that the iterator is associated with a Mongo connection/cursor.  When you return it, there&#39;s no guarantee that the caller will know to close the connection.  Maybe you can do better by instantiating the iterator and closing it in a single method scope instead of returning it.  Load the Documents into a Java List&lt;Document&gt;, close the iterator/connection, and return the List.  Just like JDBC - you don&#39;t keep database connections open."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":3,"creation_date":1684270276,"post_id":76266461,"comment_id":134493271,"body_markdown":"Please provide a complete example. The given example does not compile and the type of `docs` is unknown. You get the _Potential resource leak_ warning because you have an _AutoCloseable_ and it&#39;s unknown whether it is closed or not. Better refactor your code to use try-with-resources, e.g. by providing a _forEachDoc_ method instead of a method that returns an _Iterator_.","body":"Please provide a complete example. The given example does not compile and the type of <code>docs</code> is unknown. You get the <i>Potential resource leak</i> warning because you have an <i>AutoCloseable</i> and it&#39;s unknown whether it is closed or not. Better refactor your code to use try-with-resources, e.g. by providing a <i>forEachDoc</i> method instead of a method that returns an <i>Iterator</i>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684277972,"post_id":76266461,"comment_id":134494299,"body_markdown":"Does `return docs.map(doc -&gt; doc.getString(&quot;url&quot;)).iterator();` generate the same warning?","body":"Does <code>return docs.map(doc -&gt; doc.getString(&quot;url&quot;)).iterator();</code> generate the same warning?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1684307764,"post_id":76266461,"comment_id":134497398,"body_markdown":"You might refactor your code to have a method `void forEachErrorUrl(int pCrawlId, Consumer&lt;String&gt; action)` that does not return the iterator, but instead calls `forEachRemaining(action)` on the iterator inside a `try (Iterator&lt;Document&gt; it = docs.iterator()) { ... }`. This way the `MongoCursor` is guaranteed to be closed.","body":"You might refactor your code to have a method <code>void forEachErrorUrl(int pCrawlId, Consumer&lt;String&gt; action)</code> that does not return the iterator, but instead calls <code>forEachRemaining(action)</code> on the iterator inside a <code>try (Iterator&lt;Document&gt; it = docs.iterator()) { ... }</code>. This way the <code>MongoCursor</code> is guaranteed to be closed."}],"answers":[{"tags":[],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684329175,"creation_date":1684329175,"answer_id":76272508,"question_id":76266461,"body_markdown":"Since your iterator extends `Closable` interface, it requires closing when there are no more elements. So you have 2 options:\r\n\r\n - Surround iterator actions with try-with-resources block\r\n - Use `cursor.close()` in case `cursor.hasNext()` is false.","title":"Why a java iterator can cause resource leak?","body":"<p>Since your iterator extends <code>Closable</code> interface, it requires closing when there are no more elements. So you have 2 options:</p>\n<ul>\n<li>Surround iterator actions with try-with-resources block</li>\n<li>Use <code>cursor.close()</code> in case <code>cursor.hasNext()</code> is false.</li>\n</ul>\n"}],"owner":{"account_id":1695765,"reputation":914,"user_id":1557174,"accept_rate":19,"display_name":"mvera"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684329175,"creation_date":1684265222,"question_id":76266461,"body_markdown":"The code below generates warning in eclipse:\r\n\r\n\t@Override\r\n\tpublic Iterator&lt;String&gt; getErrorUlrs(int pCrawlId) {\r\n\t\tString collectionName = &quot;collectionName&quot;;\r\n\t\t// mongoDB is of type com.mongodb.client.MongoDatabase\r\n\t\tMongoCollection&lt;Document&gt; c = mongoDB.getCollection(collectionName);\r\n\r\n\t\tBson filter = Filters.not(eq(&quot;exploreStatus&quot;, &quot;OK&quot;));\r\n\t\tBson projection = fields(include(&quot;url&quot;), excludeId());\r\n\t\tFindIterable&lt;Document&gt; docs = c.find(filter).projection(projection).batchSize(1000);\r\n\t\tIterator&lt;Document&gt; it = docs.iterator();\r\n\r\n\t\treturn new Iterator&lt;String&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic boolean hasNext() {\r\n\t\t\t\treturn it.hasNext();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String next() {\r\n\t\t\t\tDocument doc = it.next();\r\n\t\t\t\treturn doc.getString(&quot;url&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}\r\n\r\n\r\nThe warning message is : Potential resource leak: &#39;it&#39; may not be closed at this location\r\n\r\nThe initial iterator is returned by mongo java API. The reason why I&#39;m coding this is that I don&#39;t want to expose the mongo API.\r\n\r\nWhy does eclipse display this warning ? How to get rid of it ? \r\n\r\n**EDIT**\r\n\r\nI&#39;ve posted the complete method.\r\nAs mentioned in first answers, the iterator is of type MongoCursor&lt;Document&gt; and I guess the leak comes from here as this class implements closable.","title":"Why a java iterator can cause resource leak?","body":"<p>The code below generates warning in eclipse:</p>\n<pre><code>@Override\npublic Iterator&lt;String&gt; getErrorUlrs(int pCrawlId) {\n    String collectionName = &quot;collectionName&quot;;\n    // mongoDB is of type com.mongodb.client.MongoDatabase\n    MongoCollection&lt;Document&gt; c = mongoDB.getCollection(collectionName);\n\n    Bson filter = Filters.not(eq(&quot;exploreStatus&quot;, &quot;OK&quot;));\n    Bson projection = fields(include(&quot;url&quot;), excludeId());\n    FindIterable&lt;Document&gt; docs = c.find(filter).projection(projection).batchSize(1000);\n    Iterator&lt;Document&gt; it = docs.iterator();\n\n    return new Iterator&lt;String&gt;() {\n\n        @Override\n        public boolean hasNext() {\n            return it.hasNext();\n        }\n\n        @Override\n        public String next() {\n            Document doc = it.next();\n            return doc.getString(&quot;url&quot;);\n        }\n    };\n\n}\n</code></pre>\n<p>The warning message is : Potential resource leak: 'it' may not be closed at this location</p>\n<p>The initial iterator is returned by mongo java API. The reason why I'm coding this is that I don't want to expose the mongo API.</p>\n<p>Why does eclipse display this warning ? How to get rid of it ?</p>\n<p><strong>EDIT</strong></p>\n<p>I've posted the complete method.\nAs mentioned in first answers, the iterator is of type MongoCursor and I guess the leak comes from here as this class implements closable.</p>\n"},{"tags":["java","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1655181026,"creation_date":1655180652,"answer_id":72611521,"question_id":72609610,"body_markdown":"Add a no-argument constructor to your class and make it `Serializable`","title":"Facing JSON parse issue, Cannot deserialize value of type `java.lang.String` from Array value jackson.databind.exc.MismatchedInputException","body":"<p>Add a no-argument constructor to your class and make it <code>Serializable</code></p>\n"},{"tags":[],"owner":{"account_id":17119242,"reputation":173,"user_id":12387915,"display_name":"Igor Gunin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664017067,"creation_date":1664017067,"answer_id":73836674,"question_id":72609610,"body_markdown":"I had the same issue. Turns out, as I was sending messages from a test JS script, Stomp.js didn&#39;t automatically serialize the object passed as the message body to JSON, what it did instead was just cast it to a string and send `&quot;[Object object]&quot;` as payload, which Jackson interpreted as an array because of the `[` in front, and immediately failed because it didn&#39;t expect to receive an array.\r\n```javascript\r\nclient.publish({\r\n  destination: &#39;/app/publish&#39;,\r\n  body: {\r\n    id: 0,\r\n    content: &#39;I am very frustrated&#39;,\r\n    sender: &#39;test_user&#39;,\r\n    chat: 0\r\n  }\r\n}); // =&gt; &quot;[Object object]&quot;\r\n```\r\n\r\nExplicitly serializing the object manually before passing it as payload did the thing:\r\n```javascript\r\nclient.publish({\r\n  destination: &#39;/app/publish&#39;,\r\n  body: JSON.stringify({\r\n    id: 0,\r\n    content: &#39;I am very frustrated&#39;,\r\n    sender: &#39;test_user&#39;,\r\n    chat: 0\r\n  })\r\n}); // =&gt; {id: 0, ...}\r\n```\r\nThe issue was Javascript all along.","title":"Facing JSON parse issue, Cannot deserialize value of type `java.lang.String` from Array value jackson.databind.exc.MismatchedInputException","body":"<p>I had the same issue. Turns out, as I was sending messages from a test JS script, Stomp.js didn't automatically serialize the object passed as the message body to JSON, what it did instead was just cast it to a string and send <code>&quot;[Object object]&quot;</code> as payload, which Jackson interpreted as an array because of the <code>[</code> in front, and immediately failed because it didn't expect to receive an array.</p>\n<pre class=\"lang-js prettyprint-override\"><code>client.publish({\n  destination: '/app/publish',\n  body: {\n    id: 0,\n    content: 'I am very frustrated',\n    sender: 'test_user',\n    chat: 0\n  }\n}); // =&gt; &quot;[Object object]&quot;\n</code></pre>\n<p>Explicitly serializing the object manually before passing it as payload did the thing:</p>\n<pre class=\"lang-js prettyprint-override\"><code>client.publish({\n  destination: '/app/publish',\n  body: JSON.stringify({\n    id: 0,\n    content: 'I am very frustrated',\n    sender: 'test_user',\n    chat: 0\n  })\n}); // =&gt; {id: 0, ...}\n</code></pre>\n<p>The issue was Javascript all along.</p>\n"}],"owner":{"account_id":13812622,"reputation":39,"user_id":9969993,"display_name":"kyle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11077,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1684328971,"creation_date":1655158343,"question_id":72609610,"body_markdown":"Facing a JSON parse issue when trying to include array in my postman request: \r\n\r\n```\r\n{\r\n\t&quot;id&quot; : &quot;0&quot;,\r\n\t&quot;number&quot;:[&quot;2222&quot;, &quot;3333&quot;]\r\n}\r\n```\r\n\r\npojo:\r\n``` \r\npublic class User {\r\n\t@Getter @Setter private String \t\tid;\r\n\t@Getter @Setter  private String[] \tnumber;\r\n\r\n    //i&#39;ve also tried these:\r\n\t@Getter @Setter  private List&lt;String&gt; \tnumber;\r\n\t@Getter @Setter  private ArrayList&lt;String&gt; \tnumber;\r\n}\r\n```\r\n\r\nController:\r\n```\r\n@PostMapping(&quot;/user&quot;)\r\n\tpublic ResponseEntity&lt;Object&gt; getUser(@RequestBody(required=true)User user) {\r\n```\r\n\r\nTrace: \r\n```\r\n  &quot;trace&quot;: &quot;org.springframework.http.converter.HttpMessageNotReadableException: \r\nJSON parse error: Cannot deserialize value of type `java.lang.String` from Array value (token `JsonToken.START_ARRAY`); \r\nnested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: \r\nCannot deserialize value of type `java.lang.String` from Array value (token `JsonToken.START_ARRAY`)\r\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 3, column: 13] \r\n```","title":"Facing JSON parse issue, Cannot deserialize value of type `java.lang.String` from Array value jackson.databind.exc.MismatchedInputException","body":"<p>Facing a JSON parse issue when trying to include array in my postman request:</p>\n<pre><code>{\n    &quot;id&quot; : &quot;0&quot;,\n    &quot;number&quot;:[&quot;2222&quot;, &quot;3333&quot;]\n}\n</code></pre>\n<p>pojo:</p>\n<pre><code>public class User {\n    @Getter @Setter private String      id;\n    @Getter @Setter  private String[]   number;\n\n    //i've also tried these:\n    @Getter @Setter  private List&lt;String&gt;   number;\n    @Getter @Setter  private ArrayList&lt;String&gt;  number;\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/user&quot;)\n    public ResponseEntity&lt;Object&gt; getUser(@RequestBody(required=true)User user) {\n</code></pre>\n<p>Trace:</p>\n<pre><code>  &quot;trace&quot;: &quot;org.springframework.http.converter.HttpMessageNotReadableException: \nJSON parse error: Cannot deserialize value of type `java.lang.String` from Array value (token `JsonToken.START_ARRAY`); \nnested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: \nCannot deserialize value of type `java.lang.String` from Array value (token `JsonToken.START_ARRAY`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 3, column: 13] \n</code></pre>\n"},{"tags":["java","nullpointerexception","setter"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1684313338,"post_id":76269753,"comment_id":134498655,"body_markdown":"Don’t create two classes with 27 identical properties in the first place.","body":"Don’t create two classes with 27 identical properties in the first place."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1684315024,"post_id":76269753,"comment_id":134499054,"body_markdown":"If your use case is actually copying from one class to another, where both classes have similar structure (e.g. business object to/from DTO), you may want to check out something like mapstruct that does it with code generation.","body":"If your use case is actually copying from one class to another, where both classes have similar structure (e.g. business object to/from DTO), you may want to check out something like mapstruct that does it with code generation."},{"owner":{"account_id":18281346,"reputation":320,"user_id":13310114,"display_name":"Doyel Mishra"},"score":0,"creation_date":1684324366,"post_id":76269753,"comment_id":134501055,"body_markdown":"I have to create 27 fields as one is for dto and the other is for proto, I need to transform data, Microservice changes","body":"I have to create 27 fields as one is for dto and the other is for proto, I need to transform data, Microservice changes"}],"answers":[{"tags":[],"owner":{"account_id":18281346,"reputation":320,"user_id":13310114,"display_name":"Doyel Mishra"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684311162,"creation_date":1684310154,"answer_id":76269754,"question_id":76269753,"body_markdown":"We can use this method using consumer\r\n\r\n```\r\nimport java.util.function.Consumer;\r\n\r\n    private &lt;T&gt; void setFieldIfNotEmpty(Consumer&lt;T&gt; setter, T value) {\r\n        if (ObjectUtils.isNotEmpty(value)) {\r\n            setter.accept(value);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nThen use the above method for null and empty check as well \r\n```\r\n\r\n\t\tsetFieldIfNotEmpty(builder::setSettingType, updateRequest.getSettingType());\r\n\r\n        setFieldIfNotEmpty(builder::setSettingCode, updateRequest.getSettingCode());\r\n\r\n        builder.setStartToday(updateRequest.getStartToday());\r\n\r\n        setFieldIfNotEmpty(builder::setExecutionEndDate, updateRequest.getExecutionEndDate());\r\n\r\n```\r\n\r\nLike this","title":"What is the efficient way of null and empty check in setter","body":"<p>We can use this method using consumer</p>\n<pre><code>import java.util.function.Consumer;\n\n    private &lt;T&gt; void setFieldIfNotEmpty(Consumer&lt;T&gt; setter, T value) {\n        if (ObjectUtils.isNotEmpty(value)) {\n            setter.accept(value);\n        }\n    }\n\n</code></pre>\n<p>Then use the above method for null and empty check as well</p>\n<pre><code>\n        setFieldIfNotEmpty(builder::setSettingType, updateRequest.getSettingType());\n\n        setFieldIfNotEmpty(builder::setSettingCode, updateRequest.getSettingCode());\n\n        builder.setStartToday(updateRequest.getStartToday());\n\n        setFieldIfNotEmpty(builder::setExecutionEndDate, updateRequest.getExecutionEndDate());\n\n</code></pre>\n<p>Like this</p>\n"},{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684318576,"creation_date":1684310755,"answer_id":76269835,"question_id":76269753,"body_markdown":"One approach is to change methods that might return null values to instead return Optional types, e.g.:\r\n\r\n    Optional&lt;String&gt; getSettingType() {\r\n        return Optional.ofNullable(settingType);\r\n    }\r\n\r\nThis has the advantage of being self-documenting (the fact that it might return no value is now explicit), and also means you can replace your code with something like this:\r\n\r\n    updateRequest.getSettingType().ifPresent(builder::setSettingType);\r\n    updateRequest.getSettingCode().ifPresent(builder::setSettingCode);\r\n    updateRequest.getExecutionEndDate().ifPresent(builder::setExecutionEndDate);\r\n    updateRequest.getStartToday().ifPresent(builder::setStartToday);\r\n\r\nTHis approach does mean creating short-lived Optional objects, so whether it&#39;s sufficiently &quot;efficient&quot; is something you would need to decide.","title":"What is the efficient way of null and empty check in setter","body":"<p>One approach is to change methods that might return null values to instead return Optional types, e.g.:</p>\n<pre><code>Optional&lt;String&gt; getSettingType() {\n    return Optional.ofNullable(settingType);\n}\n</code></pre>\n<p>This has the advantage of being self-documenting (the fact that it might return no value is now explicit), and also means you can replace your code with something like this:</p>\n<pre><code>updateRequest.getSettingType().ifPresent(builder::setSettingType);\nupdateRequest.getSettingCode().ifPresent(builder::setSettingCode);\nupdateRequest.getExecutionEndDate().ifPresent(builder::setExecutionEndDate);\nupdateRequest.getStartToday().ifPresent(builder::setStartToday);\n</code></pre>\n<p>THis approach does mean creating short-lived Optional objects, so whether it's sufficiently &quot;efficient&quot; is something you would need to decide.</p>\n"},{"tags":[],"owner":{"account_id":20089223,"reputation":1,"user_id":14730105,"display_name":"Mohd Irfan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684328765,"creation_date":1684327457,"answer_id":76272257,"question_id":76269753,"body_markdown":"1.) It would be better to initialise some value in the constructor, So that it wouldn&#39;t got the null value for any fields.\r\n\r\n2.) Java 8 optional would be more than beneficial for null values check.","title":"What is the efficient way of null and empty check in setter","body":"<p>1.) It would be better to initialise some value in the constructor, So that it wouldn't got the null value for any fields.</p>\n<p>2.) Java 8 optional would be more than beneficial for null values check.</p>\n"}],"owner":{"account_id":18281346,"reputation":320,"user_id":13310114,"display_name":"Doyel Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76269754,"answer_count":3,"score":1,"last_activity_date":1684328765,"creation_date":1684310154,"question_id":76269753,"body_markdown":"I need to add null and empty checks to each of the 27 fields in my DTO class, and I&#39;m searching for the most effective method to accomplish it. Can anyone suggest any ideas?\r\n\r\n```\r\nprivate String settingType;\r\nprivate String settingCode;\r\nprivate String executionEndDate;\r\nprivate String startToday;\r\n\r\n```\r\n\r\n```\r\n\r\n        if (!ObjectUtils.isEmpty(updateRequest.getSettingType())) {\r\n            builder.setSettingType(updateRequest.getSettingType());\r\n        }\r\n        if (!ObjectUtils.isEmpty(updateRequest.getSettingCode())) {\r\n            builder.setSettingCode(updateRequest.getSettingCode());\r\n        }\r\n        if (!ObjectUtils.isEmpty(updateRequest.getExecutionEndDate())) {\r\n            builder.setExecutionEndDate(updateRequest.getExecutionEndDate());\r\n        }\r\n        if (!ObjectUtils.isEmpty(updateRequest.isStartToday())) {\r\n            builder.setStartToday(updateRequest.getStartToday());\r\n        }\r\n\r\n```\r\n\r\n\r\n","title":"What is the efficient way of null and empty check in setter","body":"<p>I need to add null and empty checks to each of the 27 fields in my DTO class, and I'm searching for the most effective method to accomplish it. Can anyone suggest any ideas?</p>\n<pre><code>private String settingType;\nprivate String settingCode;\nprivate String executionEndDate;\nprivate String startToday;\n\n</code></pre>\n<pre><code>\n        if (!ObjectUtils.isEmpty(updateRequest.getSettingType())) {\n            builder.setSettingType(updateRequest.getSettingType());\n        }\n        if (!ObjectUtils.isEmpty(updateRequest.getSettingCode())) {\n            builder.setSettingCode(updateRequest.getSettingCode());\n        }\n        if (!ObjectUtils.isEmpty(updateRequest.getExecutionEndDate())) {\n            builder.setExecutionEndDate(updateRequest.getExecutionEndDate());\n        }\n        if (!ObjectUtils.isEmpty(updateRequest.isStartToday())) {\n            builder.setStartToday(updateRequest.getStartToday());\n        }\n\n</code></pre>\n"},{"tags":["java","struts2","action"],"comments":[{"owner":{"account_id":187942,"reputation":1117,"user_id":426360,"display_name":"MohanaRao SV"},"score":0,"creation_date":1331795019,"post_id":9715092,"comment_id":12350453,"body_markdown":"without defining result you can&#39;t write any action class according Struts2 architecture. Does you ajax doesn&#39;t need any response from action class.","body":"without defining result you can&#39;t write any action class according Struts2 architecture. Does you ajax doesn&#39;t need any response from action class."},{"owner":{"account_id":1292728,"reputation":361,"user_id":1244497,"accept_rate":50,"display_name":"neeraj bharti"},"score":0,"creation_date":1331795331,"post_id":9715092,"comment_id":12350519,"body_markdown":"thanks @MohanaRaoSV  yaa my ajax need response from action class. all response from action is a ajax responsetext which i have to show in the same page.","body":"thanks @MohanaRaoSV  yaa my ajax need response from action class. all response from action is a ajax responsetext which i have to show in the same page."},{"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"score":0,"creation_date":1331796070,"post_id":9715092,"comment_id":12350661,"body_markdown":"@neerajbharti: i do not see a reason of not specifying result in your config as in S2 results have 2 distinct meanings,first it provides a logical name and Second, the result element provides a result type.Even in your Ajax case your execute method needs to tell if it executed successful or any other issue.In All the request flow work like this and i do not see any benefits of not specifying the result, even `&lt;result&gt;mytest.jsp&lt;/result&gt;` will do work for you.","body":"@neerajbharti: i do not see a reason of not specifying result in your config as in S2 results have 2 distinct meanings,first it provides a logical name and Second, the result element provides a result type.Even in your Ajax case your execute method needs to tell if it executed successful or any other issue.In All the request flow work like this and i do not see any benefits of not specifying the result, even <code>&lt;result&gt;mytest.jsp&lt;&#47;result&gt;</code> will do work for you."},{"owner":{"account_id":1292728,"reputation":361,"user_id":1244497,"accept_rate":50,"display_name":"neeraj bharti"},"score":0,"creation_date":1331796447,"post_id":9715092,"comment_id":12350733,"body_markdown":"@UmeshAwasthi when i use result in config as s2 then the response of ajax contains the jsp file content not my action class response. i have to show my action class response on the same page.","body":"@UmeshAwasthi when i use result in config as s2 then the response of ajax contains the jsp file content not my action class response. i have to show my action class response on the same page."},{"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"score":0,"creation_date":1331796616,"post_id":9715092,"comment_id":12350769,"body_markdown":"@neerajbharti: are you sending back JSON data back to UI? In that case i need to tell S2 that my result will be JSON data and without which i do not see a way to handle this.In short be it a AJAX call or any other normal call, we need to tell that to which view the response should bind.that&#39;s said this is the way request-response is working under the hood","body":"@neerajbharti: are you sending back JSON data back to UI? In that case i need to tell S2 that my result will be JSON data and without which i do not see a way to handle this.In short be it a AJAX call or any other normal call, we need to tell that to which view the response should bind.that&#39;s said this is the way request-response is working under the hood"},{"owner":{"account_id":1292728,"reputation":361,"user_id":1244497,"accept_rate":50,"display_name":"neeraj bharti"},"score":0,"creation_date":1331796683,"post_id":9715092,"comment_id":12350782,"body_markdown":"@UmeshAwasthi yaaa i m sending back JSON data back to UI","body":"@UmeshAwasthi yaaa i m sending back JSON data back to UI"},{"owner":{"account_id":1292728,"reputation":361,"user_id":1244497,"accept_rate":50,"display_name":"neeraj bharti"},"score":0,"creation_date":1331797067,"post_id":9715092,"comment_id":12350860,"body_markdown":"but how to tell s2 config that my data is a JSON data and how to bind response","body":"but how to tell s2 config that my data is a JSON data and how to bind response"},{"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"score":0,"creation_date":1331797374,"post_id":9715092,"comment_id":12350925,"body_markdown":"@neerajbharti: S2 comes with a JSON plugin which will convert the data to JSON from your action class and will send data back as JSON format to your action class.http://struts.apache.org/2.2.3/docs/json-plugin.html","body":"@neerajbharti: S2 comes with a JSON plugin which will convert the data to JSON from your action class and will send data back as JSON format to your action class.<a href=\"http://struts.apache.org/2.2.3/docs/json-plugin.html\" rel=\"nofollow noreferrer\">struts.apache.org/2.2.3/docs/json-plugin.html</a>"},{"owner":{"account_id":1292728,"reputation":361,"user_id":1244497,"accept_rate":50,"display_name":"neeraj bharti"},"score":0,"creation_date":1331798876,"post_id":9715092,"comment_id":12351233,"body_markdown":"thanks @UmeshAwasthi i am working on it if i face problem i will disturn u again.","body":"thanks @UmeshAwasthi i am working on it if i face problem i will disturn u again."}],"answers":[{"tags":[],"owner":{"account_id":794572,"reputation":1993,"user_id":945945,"accept_rate":73,"display_name":"Umer Hayat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1331795682,"creation_date":1331795346,"answer_id":9715308,"question_id":9715092,"body_markdown":"Yes you can write it like :\r\n\r\n    &lt;action name=&quot;ActionName&quot; class=&quot;ClassName&quot; method=&quot;methodName&quot; /&gt;\r\n\r\nWe are using such actions in our application, where there is no need to display a page as a result. It works fine.","title":"Is it possible to write any action without any result in struts2 config file","body":"<p>Yes you can write it like :</p>\n\n<pre><code>&lt;action name=\"ActionName\" class=\"ClassName\" method=\"methodName\" /&gt;\n</code></pre>\n\n<p>We are using such actions in our application, where there is no need to display a page as a result. It works fine.</p>\n"},{"tags":[],"owner":{"account_id":1103578,"reputation":21525,"user_id":1095451,"accept_rate":58,"display_name":"Kashif Nazar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385388109,"creation_date":1385388109,"answer_id":20195039,"question_id":9715092,"body_markdown":"Specify dummy locations. For example,\r\n\r\n    &lt;action name=&quot;showResult&quot; class=&quot;com.mmi.webInterface.ShowResultAction&quot;&gt;\r\n    \t&lt;result name=&quot;success&quot;&gt;dummy&lt;/result&gt;\r\n    &lt;/action&gt;","title":"Is it possible to write any action without any result in struts2 config file","body":"<p>Specify dummy locations. For example,</p>\n\n<pre><code>&lt;action name=\"showResult\" class=\"com.mmi.webInterface.ShowResultAction\"&gt;\n    &lt;result name=\"success\"&gt;dummy&lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2047472,"reputation":548,"user_id":1827250,"display_name":"lyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389473606,"creation_date":1389472849,"answer_id":21067606,"question_id":9715092,"body_markdown":"this should work.\r\n\r\n&amp;lt;action name=&quot;actionName&quot; class=&quot;ClassName&quot; method=&quot;methodName&quot;&gt;\r\n&amp;lt;/action&gt;\r\n\r\nThe method methodName should be of type void else you&#39;d get an error saying that no result is defined for this action.\r\n\r\nhope it helps.","title":"Is it possible to write any action without any result in struts2 config file","body":"<p>this should work.</p>\n\n<p>&lt;action name=\"actionName\" class=\"ClassName\" method=\"methodName\">\n&lt;/action></p>\n\n<p>The method methodName should be of type void else you'd get an error saying that no result is defined for this action.</p>\n\n<p>hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":20091042,"reputation":57,"user_id":14731515,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684328062,"creation_date":1684328062,"answer_id":76272353,"question_id":9715092,"body_markdown":"You can define an action without specifying a result.\r\n\r\n    &lt;action name=&quot;showResult&quot; class=&quot;com.mmi.webInterface.ShowResultAction&quot; /&gt;\r\n\r\nThen, make your action return null and the result will be ignored.\r\n\r\n    class ShowResultAction extends ActionSupport {\r\n\r\n        @Override\r\n        public String execute() {\r\n        \r\n           // some code\r\n        \r\n           return null;\r\n        }   \r\n    }\r\n\r\n\r\n\r\n","title":"Is it possible to write any action without any result in struts2 config file","body":"<p>You can define an action without specifying a result.</p>\n<pre><code>&lt;action name=&quot;showResult&quot; class=&quot;com.mmi.webInterface.ShowResultAction&quot; /&gt;\n</code></pre>\n<p>Then, make your action return null and the result will be ignored.</p>\n<pre><code>class ShowResultAction extends ActionSupport {\n\n    @Override\n    public String execute() {\n    \n       // some code\n    \n       return null;\n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":1292728,"reputation":361,"user_id":1244497,"accept_rate":50,"display_name":"neeraj bharti"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7087,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1684328062,"creation_date":1331793931,"question_id":9715092,"body_markdown":"Is it possible to write any action without any result in struts2 config file ? like\r\n\r\n     &lt; action name=&quot;showResult&quot; class=&quot;com.mmi.webInterface.ShowResultAction&quot;/&gt;\r\n\r\nbut in stuts1.x it is possible to write any action without any forward result. like\r\n\r\n\r\n    &lt; action path=&quot;/JsonResponse&quot; type=&quot;com.mmi.webInterface.JsonResponseAction&quot;\r\n      validate=&quot;false&quot;/&gt;\r\n\r\nmy question is that how can i write any action without any result in struts 2 config file?\r\nbecause i have to use Ajax on the same page so no need of any result in action.","title":"Is it possible to write any action without any result in struts2 config file","body":"<p>Is it possible to write any action without any result in struts2 config file ? like</p>\n\n<pre><code> &lt; action name=\"showResult\" class=\"com.mmi.webInterface.ShowResultAction\"/&gt;\n</code></pre>\n\n<p>but in stuts1.x it is possible to write any action without any forward result. like</p>\n\n<pre><code>&lt; action path=\"/JsonResponse\" type=\"com.mmi.webInterface.JsonResponseAction\"\n  validate=\"false\"/&gt;\n</code></pre>\n\n<p>my question is that how can i write any action without any result in struts 2 config file?\nbecause i have to use Ajax on the same page so no need of any result in action.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684328912,"post_id":76272330,"comment_id":134502137,"body_markdown":"Spring Boot validation is already doing exactly what you are doig it is using hibernate validator for this. If you want custom messages provide them (based on the message codes that are generated). There is no such thing as Spring Boot validation it just delegates to the Java Validation API (and thus the Hibernate Validation). So effectivly if you could disable it, you would do exactl the same as Spring already does).","body":"Spring Boot validation is already doing exactly what you are doig it is using hibernate validator for this. If you want custom messages provide them (based on the message codes that are generated). There is no such thing as Spring Boot validation it just delegates to the Java Validation API (and thus the Hibernate Validation). So effectivly if you could disable it, you would do exactl the same as Spring already does)."},{"owner":{"account_id":3473020,"reputation":135,"user_id":2906912,"display_name":"Codified"},"score":0,"creation_date":1684328921,"post_id":76272330,"comment_id":134502141,"body_markdown":"Lets break your problem into two parts - One is disabling the javax api validations and the second to run custom validations.\nLets try to debug first one and fix it - Could you please check if intended bean/class using the property [spring.jpa.properties.javax.persistence.validation.mode] . I would suggest you to debug it in https://mvnrepository.com/artifact/javax.validation/validation-api .\nMay be open library in javad compiler and do a little postmortem on the library to figure out the exact bean and usage of config you are setting .","body":"Lets break your problem into two parts - One is disabling the javax api validations and the second to run custom validations. Lets try to debug first one and fix it - Could you please check if intended bean/class using the property [spring.jpa.properties.javax.persistence.validation.mode] . I would suggest you to debug it in <a href=\"https://mvnrepository.com/artifact/javax.validation/validation-api\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/javax.validation/validation-api</a> . May be open library in javad compiler and do a little postmortem on the library to figure out the exact bean and usage of config you are setting ."},{"owner":{"account_id":9885651,"reputation":55,"user_id":7320258,"display_name":"NeXT405"},"score":0,"creation_date":1684330353,"post_id":76272330,"comment_id":134502497,"body_markdown":"M.Deinum;\nYes I understand. The validation it self is not the problem. But SpringBoot returns a generic answer if one or more fields are not valid. Our code is not even executed at this point. The response looks like this: [Response](https://gist.github.com/NeXT405/bddb8dafd80eb1803d693928c8d191be#file-response-json)\nI think we will remove all @Valid annotations from the generated code. This way we can validate it ourselves and implement our own response. The response for validation errors is clearly defined according to company specifications.","body":"M.Deinum; Yes I understand. The validation it self is not the problem. But SpringBoot returns a generic answer if one or more fields are not valid. Our code is not even executed at this point. The response looks like this: <a href=\"https://gist.github.com/NeXT405/bddb8dafd80eb1803d693928c8d191be#file-response-json\" rel=\"nofollow noreferrer\">Response</a> I think we will remove all @Valid annotations from the generated code. This way we can validate it ourselves and implement our own response. The response for validation errors is clearly defined according to company specifications."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1684330615,"post_id":76272330,"comment_id":134502578,"body_markdown":"Then write your own exception handler which handles vaidation errors and returns the response you want. What you see is the error translation from the default error handling, replace that with what you need. Don&#39;t disable the validation and do everyting in your controller.","body":"Then write your own exception handler which handles vaidation errors and returns the response you want. What you see is the error translation from the default error handling, replace that with what you need. Don&#39;t disable the validation and do everyting in your controller."}],"owner":{"account_id":9885651,"reputation":55,"user_id":7320258,"display_name":"NeXT405"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684327911,"creation_date":1684327911,"question_id":76272330,"body_markdown":"We are using SpringBoot version 2.7.9, in which I am trying to switch off the automatic validation of the DTOs. However, this does not seem to work correctly in my case. \r\nWe have defined the whole interface in OpenApi 3 and let it generate the DTOs and the interfaces for Spring. This all works very well and as desired. So far so good. \r\n\r\nNow we have defined the following max and min values in the specification:\r\n\r\n\r\n```\r\nUserDTO1:\r\n  type: object\r\n  properties:\r\n    ia_subject:\r\n      type: string\r\n      description: Subject of the user.\r\n      example: c2f3fb56-4194-4af6-a007-9fe403a2abeb\r\n      maxLength: 36\r\n      minLength: 36\r\n    email:\r\n      type: string\r\n      example: john.doe@example.com\r\n      maxLength: 255\r\n    firstname:\r\n      type: string\r\n      example: John\r\n      maxLength: 255\r\n    lastname:\r\n      type: string\r\n      example: Doe\r\n      maxLength: 255\r\n    accounts:\r\n      type: array\r\n      items:\r\n        &quot;$ref&quot;: &quot;#/components/schemas/AccountDTO1&quot;\r\n```\r\n\r\n\r\nThis generates the following annotations on the DTO in Java:\r\n\r\n\r\n```\r\n...\r\nimport javax.validation.constraints.Size;\r\n...\r\n/**\r\n  * Subject of the user.\r\n  * @return iaSubject\r\n*/\r\n@Size(min = 36, max = 36) \r\npublic String getIaSubject() {\r\n  return iaSubject;\r\n}\r\n```\r\n\r\nThis also works without any problems. The fields in the body / in the DTOs are validated correctly and Spring returns a generic error. \r\nNow I don&#39;t want this Spring error, but our own implementation. Spring should not care whether the fields are valid according to the specification or not. I want to switch this off and validate the DTOs myself like with the Hibernate Validator: \r\n\r\n\r\n```\r\n...\r\nValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\nValidator validator = factory.getValidator();\r\nSet&lt;ConstraintViolation&lt;Object&gt;&gt; validate = validator.validate(dto);\r\n....\r\n```\r\n\r\n\r\nThe problem now is, I can&#39;t disable SpringBoot validation. I found the following questions and properties:\r\n\r\nhttps://stackoverflow.com/questions/26764532/how-to-disable-hibernate-validation-in-a-spring-boot-project\r\n\r\nI set:\r\n\r\n`spring.jpa.properties.javax.persistence.validation.mode=none`\r\n\r\nin my application.properties but it is still validated and the generic error response from spring remains. (All other settings in application.properties work without problems.)\r\n\r\nActually it is not the JPA validation but a kind of DTO validation.\r\n\r\n- Is my approach a good idea? \r\n- Is there a better solution? \r\n  - (I don&#39;t want to use filters because at this point the body is still a string and has not yet been processed by Jackson).\r\n\r\nWe found out that we can remove the @Valid annotations in the generated interface. This way, the DTO is no longer validated and Spring no longer returns the generic answer. But we would have to do this with a post-processing script or in bash after generation. \r\n\r\nUnfortunately I can&#39;t find any good and further information on this. \r\n\r\nCan someone point me in the right direction? \r\n\r\nThank you and kind regards. ","title":"Unable to disable javax.persistence.validation in SpringBoot 2.7.9","body":"<p>We are using SpringBoot version 2.7.9, in which I am trying to switch off the automatic validation of the DTOs. However, this does not seem to work correctly in my case.\nWe have defined the whole interface in OpenApi 3 and let it generate the DTOs and the interfaces for Spring. This all works very well and as desired. So far so good.</p>\n<p>Now we have defined the following max and min values in the specification:</p>\n<pre><code>UserDTO1:\n  type: object\n  properties:\n    ia_subject:\n      type: string\n      description: Subject of the user.\n      example: c2f3fb56-4194-4af6-a007-9fe403a2abeb\n      maxLength: 36\n      minLength: 36\n    email:\n      type: string\n      example: john.doe@example.com\n      maxLength: 255\n    firstname:\n      type: string\n      example: John\n      maxLength: 255\n    lastname:\n      type: string\n      example: Doe\n      maxLength: 255\n    accounts:\n      type: array\n      items:\n        &quot;$ref&quot;: &quot;#/components/schemas/AccountDTO1&quot;\n</code></pre>\n<p>This generates the following annotations on the DTO in Java:</p>\n<pre><code>...\nimport javax.validation.constraints.Size;\n...\n/**\n  * Subject of the user.\n  * @return iaSubject\n*/\n@Size(min = 36, max = 36) \npublic String getIaSubject() {\n  return iaSubject;\n}\n</code></pre>\n<p>This also works without any problems. The fields in the body / in the DTOs are validated correctly and Spring returns a generic error.\nNow I don't want this Spring error, but our own implementation. Spring should not care whether the fields are valid according to the specification or not. I want to switch this off and validate the DTOs myself like with the Hibernate Validator:</p>\n<pre><code>...\nValidatorFactory factory = Validation.buildDefaultValidatorFactory();\nValidator validator = factory.getValidator();\nSet&lt;ConstraintViolation&lt;Object&gt;&gt; validate = validator.validate(dto);\n....\n</code></pre>\n<p>The problem now is, I can't disable SpringBoot validation. I found the following questions and properties:</p>\n<p><a href=\"https://stackoverflow.com/questions/26764532/how-to-disable-hibernate-validation-in-a-spring-boot-project\">How to disable Hibernate validation in a Spring Boot project</a></p>\n<p>I set:</p>\n<p><code>spring.jpa.properties.javax.persistence.validation.mode=none</code></p>\n<p>in my application.properties but it is still validated and the generic error response from spring remains. (All other settings in application.properties work without problems.)</p>\n<p>Actually it is not the JPA validation but a kind of DTO validation.</p>\n<ul>\n<li>Is my approach a good idea?</li>\n<li>Is there a better solution?\n<ul>\n<li>(I don't want to use filters because at this point the body is still a string and has not yet been processed by Jackson).</li>\n</ul>\n</li>\n</ul>\n<p>We found out that we can remove the @Valid annotations in the generated interface. This way, the DTO is no longer validated and Spring no longer returns the generic answer. But we would have to do this with a post-processing script or in bash after generation.</p>\n<p>Unfortunately I can't find any good and further information on this.</p>\n<p>Can someone point me in the right direction?</p>\n<p>Thank you and kind regards.</p>\n"},{"tags":["java","spring","caching","annotations"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1444286097,"post_id":33002357,"comment_id":53840534,"body_markdown":"The key you use for caching and eviction should match. By default it uses the method arguments as key and return value as value for caching. To use eviction the key should match, so you should use (indeed) a specific `key` attribute to point to the exact value. Also make sure that the key used for caching is actually having a correct `hashcode` and `equals` implementation. `String` should have one but is this your actual code or modified code?","body":"The key you use for caching and eviction should match. By default it uses the method arguments as key and return value as value for caching. To use eviction the key should match, so you should use (indeed) a specific <code>key</code> attribute to point to the exact value. Also make sure that the key used for caching is actually having a correct <code>hashcode</code> and <code>equals</code> implementation. <code>String</code> should have one but is this your actual code or modified code?"},{"owner":{"account_id":4317956,"reputation":751,"user_id":3527207,"display_name":"khazrak"},"score":0,"creation_date":1444301964,"post_id":33002357,"comment_id":53850851,"body_markdown":"this is my actual code, I added hashCode and equals but no change. I tried the same eviction on a different method (see code update) and that one works, but not on the save method.","body":"this is my actual code, I added hashCode and equals but no change. I tried the same eviction on a different method (see code update) and that one works, but not on the save method."}],"answers":[{"tags":[],"owner":{"account_id":6230172,"reputation":109,"user_id":4847200,"display_name":"Michał Osik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684327848,"creation_date":1684327264,"answer_id":76272228,"question_id":33002357,"body_markdown":"As you noticed, you cannot use the argument&#39;s name in SPEL for repository interfaces (I don&#39;t know the reason TBH). The only way to do that I found is by using `#pX` where `X` is the number of argument. So in the above case:\r\n```\r\n@Override\r\n@CacheEvict(value = &quot;rest_respond_values&quot;, condition=&quot;#p0 != null&quot;)\r\n&lt;S extends UnStandardizedValue&gt; S save(S unValue);\r\n```","title":"Can&#39;t get Spring @CacheEvict to work","body":"<p>As you noticed, you cannot use the argument's name in SPEL for repository interfaces (I don't know the reason TBH). The only way to do that I found is by using <code>#pX</code> where <code>X</code> is the number of argument. So in the above case:</p>\n<pre><code>@Override\n@CacheEvict(value = &quot;rest_respond_values&quot;, condition=&quot;#p0 != null&quot;)\n&lt;S extends UnStandardizedValue&gt; S save(S unValue);\n</code></pre>\n"}],"owner":{"account_id":4317956,"reputation":751,"user_id":3527207,"display_name":"khazrak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3886,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684327848,"creation_date":1444251736,"question_id":33002357,"body_markdown":"I&#39;m trying to use Spring Cacheable \r\n\r\n    public interface UnStandardizedValueRepository extends CrudRepository&lt;UnStandardizedValue, Integer&gt; {\r\n    @Cacheable(value = &quot;rest_respond_values&quot;, unless=&quot;#result == null&quot;)\r\n    UnStandardizedValue findByValue(String value);\r\n    @Override\r\n    @CacheEvict(value = &quot;rest_respond_values&quot;, condition=&quot;#unValue != null&quot;)\r\n    &lt;S extends UnStandardizedValue&gt; S save(S unValue);\r\n    }\r\n\r\nAnd all the tries to evict the value when i do &quot;save&quot; hasn&#39;t worked. If I do it manually (get cachemanager and evict) it works, but not the annotation way.\r\n\r\n\r\n    UnStandardizedValue test = repository.findByValue(&quot;x 99&quot;);\r\n    Assert.assertNotNull(test);\r\n    test.setValue(&quot;y&quot;);\r\n    repository.save(test);\r\n    //cacheManager.getCache(&quot;rest_respond_values&quot;).evict(&quot;x 99&quot;); //works!\r\n    test = null; //just for safety\r\n    test = repository.findByValue(&quot;x 99&quot;); //gets &quot;y&quot;\r\n    Assert.assertNull(test); //expected null but was &quot;y&quot;\r\n\r\n\r\nIt seems like the object I change is the same as the one in the Cache. But when I do &quot;save&quot; it should have been evicted, and not been returned by that &quot;x 99&quot;\r\n\r\nI&#39;ve tried to change:\r\n\r\n\r\n        @Override\r\n        @CacheEvict(value = &quot;rest_respond_values&quot;, condition=&quot;#unValue != null&quot;)\r\n        &lt;S extends UnStandardizedValue&gt; S save(S unValue);\r\n    \r\n        @Override\r\n        @CacheEvict(value = &quot;rest_respond_values&quot;, key=&quot;#unValue.value&quot;, condition=&quot;#unValue != null&quot;)\r\n        &lt;S extends UnStandardizedValue&gt; S save(S unValue);\r\n\r\nI even tested allEntries = true, but no luck. Any suggestions?\r\n\r\nUnStandardizedValue has id (Integer) and value (String) with getters and setters. And toString returns value.\r\n\r\n\r\nSo the Cacheable works, but not the eviction (unless done manually).\r\n\r\nAnyone knows how to fix this?\r\n\r\n**UPDATE:**\r\n\r\nI have equals and hashcode in UnStandardizedValue class.\r\n\r\nI made an empty method with the exact same eviction as the &quot;save&quot; (see code below) and it works (both before or after the save command) and I use the same object in save as in testEvict.\r\n\r\n    public interface UnStandardizedValueRepository extends CrudRepository&lt;UnStandardizedValue, Integer&gt; {\r\n        @Cacheable(value = &quot;rest_respond_values&quot;, key = &quot;#p0&quot;, unless=&quot;#result == null&quot;)\r\n        UnStandardizedValue findByValue(String value);\r\n        \r\n    //does not evict\r\n        @Override\r\n        @CacheEvict(value = &quot;rest_respond_values&quot;, key=&quot;#p0.value&quot;, condition=&quot;#unValue != null&quot;)\r\n        &lt;S extends UnStandardizedValue&gt; S save(S unValue);\r\n        \r\n    //evicts\r\n        @CacheEvict(value = &quot;rest_respond_values&quot;, key=&quot;#p0.value&quot;, condition=&quot;#unValue != null&quot;)\r\n        default void testEvict(UnStandardizedValue unValue) {\r\n    \r\n        }\r\n    }\r\n\r\n**UPDATE 2:**\r\nA real interesting part is that the eviction fails for &quot;allEntries = true&quot;\r\n\r\n    @CacheEvict(value = &quot;rest_respond_values&quot;, condition=&quot;#unValue != null&quot;, allEntries = true)\r\n        &lt;S extends UnStandardizedValue&gt; S save(S unValue);\r\n\r\nBut the same annotation works for testEvict-method.\r\n\r\n    @CacheEvict(value = &quot;rest_respond_values&quot;, condition=&quot;#unValue != null&quot;, allEntries = true)\r\n        default void testEvict(UnStandardizedValue unValue) {\r\n    \r\n        }\r\n\r\nSo it feels like there&#39;s something fishy about the save-method.","title":"Can&#39;t get Spring @CacheEvict to work","body":"<p>I'm trying to use Spring Cacheable </p>\n\n<pre><code>public interface UnStandardizedValueRepository extends CrudRepository&lt;UnStandardizedValue, Integer&gt; {\n@Cacheable(value = \"rest_respond_values\", unless=\"#result == null\")\nUnStandardizedValue findByValue(String value);\n@Override\n@CacheEvict(value = \"rest_respond_values\", condition=\"#unValue != null\")\n&lt;S extends UnStandardizedValue&gt; S save(S unValue);\n}\n</code></pre>\n\n<p>And all the tries to evict the value when i do \"save\" hasn't worked. If I do it manually (get cachemanager and evict) it works, but not the annotation way.</p>\n\n<pre><code>UnStandardizedValue test = repository.findByValue(\"x 99\");\nAssert.assertNotNull(test);\ntest.setValue(\"y\");\nrepository.save(test);\n//cacheManager.getCache(\"rest_respond_values\").evict(\"x 99\"); //works!\ntest = null; //just for safety\ntest = repository.findByValue(\"x 99\"); //gets \"y\"\nAssert.assertNull(test); //expected null but was \"y\"\n</code></pre>\n\n<p>It seems like the object I change is the same as the one in the Cache. But when I do \"save\" it should have been evicted, and not been returned by that \"x 99\"</p>\n\n<p>I've tried to change:</p>\n\n<pre><code>    @Override\n    @CacheEvict(value = \"rest_respond_values\", condition=\"#unValue != null\")\n    &lt;S extends UnStandardizedValue&gt; S save(S unValue);\n\n    @Override\n    @CacheEvict(value = \"rest_respond_values\", key=\"#unValue.value\", condition=\"#unValue != null\")\n    &lt;S extends UnStandardizedValue&gt; S save(S unValue);\n</code></pre>\n\n<p>I even tested allEntries = true, but no luck. Any suggestions?</p>\n\n<p>UnStandardizedValue has id (Integer) and value (String) with getters and setters. And toString returns value.</p>\n\n<p>So the Cacheable works, but not the eviction (unless done manually).</p>\n\n<p>Anyone knows how to fix this?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I have equals and hashcode in UnStandardizedValue class.</p>\n\n<p>I made an empty method with the exact same eviction as the \"save\" (see code below) and it works (both before or after the save command) and I use the same object in save as in testEvict.</p>\n\n<pre><code>public interface UnStandardizedValueRepository extends CrudRepository&lt;UnStandardizedValue, Integer&gt; {\n    @Cacheable(value = \"rest_respond_values\", key = \"#p0\", unless=\"#result == null\")\n    UnStandardizedValue findByValue(String value);\n\n//does not evict\n    @Override\n    @CacheEvict(value = \"rest_respond_values\", key=\"#p0.value\", condition=\"#unValue != null\")\n    &lt;S extends UnStandardizedValue&gt; S save(S unValue);\n\n//evicts\n    @CacheEvict(value = \"rest_respond_values\", key=\"#p0.value\", condition=\"#unValue != null\")\n    default void testEvict(UnStandardizedValue unValue) {\n\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE 2:</strong>\nA real interesting part is that the eviction fails for \"allEntries = true\"</p>\n\n<pre><code>@CacheEvict(value = \"rest_respond_values\", condition=\"#unValue != null\", allEntries = true)\n    &lt;S extends UnStandardizedValue&gt; S save(S unValue);\n</code></pre>\n\n<p>But the same annotation works for testEvict-method.</p>\n\n<pre><code>@CacheEvict(value = \"rest_respond_values\", condition=\"#unValue != null\", allEntries = true)\n    default void testEvict(UnStandardizedValue unValue) {\n\n    }\n</code></pre>\n\n<p>So it feels like there's something fishy about the save-method.</p>\n"},{"tags":["java","servlets","servlet-filters"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1684321254,"post_id":76271346,"comment_id":134500405,"body_markdown":"Why do you want to do this? Performance? Have you measured that you will really win much?","body":"Why do you want to do this? Performance? Have you measured that you will really win much?"},{"owner":{"account_id":267813,"reputation":659,"user_id":556200,"accept_rate":93,"display_name":"canimbenim"},"score":0,"creation_date":1684326017,"post_id":76271346,"comment_id":134501423,"body_markdown":"Requirements... very old applications which we try to fit another login page to which will use different authentication, but leverage what we have already (the existing authentication filter), so we don&#39;t need to redesign basically everything... old architecture","body":"Requirements... very old applications which we try to fit another login page to which will use different authentication, but leverage what we have already (the existing authentication filter), so we don&#39;t need to redesign basically everything... old architecture"}],"owner":{"account_id":267813,"reputation":659,"user_id":556200,"accept_rate":93,"display_name":"canimbenim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684326936,"creation_date":1684321106,"question_id":76271346,"body_markdown":"I have quite a long servlet filter chain, around 10 filters in multiple modules. I have a first filter which is supposed to catch all requests used during authentication: \r\n\r\n```&lt;url-pattern&gt;/*&lt;/url-pattern&gt;```\r\n\r\nNow, I need to add new page which should be accessible without authentication (public page) and I am not sure how to do it.\r\n\r\nMy request URL is: http://domain/context/publicPage.\r\nIf I turn the filters off, I can get to controller using the request URL.\r\n\r\nI tried in the first filter, to skip the whole filter chain and just go to controller, with 3 different approaches:\r\n\r\n```\r\n//HttpServletRequest request\r\nString requestUrl = &quot;/context/publicPage&quot;;\r\nif(request.getRequestURI().equals(requestUrl)){\r\n   //1: - it doesn&#39;t go to the controller, it goes to Error page for some reason\r\n   //request.getRequestDispatcher(request.getRequestURI()).forward(request, response);\r\n   //2: - it doesn&#39;t go to the controller, it returns blank page\r\n   //return;\r\n   //3: - it cause an infinite loop as because it is redirect, it is getting caught once again by the first filter\r\n   //response.sendRedirect(requestUrl);\r\n}\r\n```\r\n\r\nDo you know how I can force it to just let the request to the controller? I know that I can implement ignore the URL across all filters something like this:\r\n\r\n```\r\nif(shouldPerformIgnoreUrls(((HttpServletRequest) req).getRequestURI())){\r\n    chain.doFilter(req, res);\r\n    return;\r\n}\r\n```\r\nbut I would need to make changes across multiple modules in the project, which I would like to avoid if it is possible, because we have some modules we don&#39;t want to do any more changes to.\r\n\r\nIs there any easy way to just simply pass the request from filter to controller?\r\n\r\nI have seen a lot of similar questions on the forum but actually no solutions works for me and I am not sure why i.e. the forward on dispatcher (approach 1 in the code).","title":"How to skip entire filter chain and let the request to go to controller","body":"<p>I have quite a long servlet filter chain, around 10 filters in multiple modules. I have a first filter which is supposed to catch all requests used during authentication:</p>\n<p><code>&lt;url-pattern&gt;/*&lt;/url-pattern&gt;</code></p>\n<p>Now, I need to add new page which should be accessible without authentication (public page) and I am not sure how to do it.</p>\n<p>My request URL is: http://domain/context/publicPage.\nIf I turn the filters off, I can get to controller using the request URL.</p>\n<p>I tried in the first filter, to skip the whole filter chain and just go to controller, with 3 different approaches:</p>\n<pre><code>//HttpServletRequest request\nString requestUrl = &quot;/context/publicPage&quot;;\nif(request.getRequestURI().equals(requestUrl)){\n   //1: - it doesn't go to the controller, it goes to Error page for some reason\n   //request.getRequestDispatcher(request.getRequestURI()).forward(request, response);\n   //2: - it doesn't go to the controller, it returns blank page\n   //return;\n   //3: - it cause an infinite loop as because it is redirect, it is getting caught once again by the first filter\n   //response.sendRedirect(requestUrl);\n}\n</code></pre>\n<p>Do you know how I can force it to just let the request to the controller? I know that I can implement ignore the URL across all filters something like this:</p>\n<pre><code>if(shouldPerformIgnoreUrls(((HttpServletRequest) req).getRequestURI())){\n    chain.doFilter(req, res);\n    return;\n}\n</code></pre>\n<p>but I would need to make changes across multiple modules in the project, which I would like to avoid if it is possible, because we have some modules we don't want to do any more changes to.</p>\n<p>Is there any easy way to just simply pass the request from filter to controller?</p>\n<p>I have seen a lot of similar questions on the forum but actually no solutions works for me and I am not sure why i.e. the forward on dispatcher (approach 1 in the code).</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1684321290,"post_id":76271351,"comment_id":134500416,"body_markdown":"&quot;the exception thrown is of type Exception&quot; - no, the only exceptions actually created are of type `ExceptionB` and `ExceptionC`. The type of the variable you&#39;re using is mostly irrelevant - the execution-time type of the exception thrown in `method1` is `ExceptionB`.","body":"&quot;the exception thrown is of type Exception&quot; - no, the only exceptions actually created are of type <code>ExceptionB</code> and <code>ExceptionC</code>. The type of the variable you&#39;re using is mostly irrelevant - the execution-time type of the exception thrown in <code>method1</code> is <code>ExceptionB</code>."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1684321321,"post_id":76271351,"comment_id":134500424,"body_markdown":"(As an aside, this example is *much* more complicated than it needs to be - you really only need a single derived exception type, and a single method called from main...)","body":"(As an aside, this example is <i>much</i> more complicated than it needs to be - you really only need a single derived exception type, and a single method called from main...)"},{"owner":{"account_id":23112217,"reputation":7,"user_id":17220027,"display_name":"Aashish Aggarwal"},"score":0,"creation_date":1684321661,"post_id":76271351,"comment_id":134500497,"body_markdown":"@JonSkeet is the type of variable we are using really irrelevant? Because `method2` will still catch this exception if I catch it using `ExceptionA`","body":"@JonSkeet is the type of variable we are using really irrelevant? Because <code>method2</code> will still catch this exception if I catch it using <code>ExceptionA</code>"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1684322024,"post_id":76271351,"comment_id":134500571,"body_markdown":"I think you don&#39;t understand subclassing, An ExceptionB **is** an ExceptionA just as it **is** an Exception.  If that were not so, then subclassing would be pointless.","body":"I think you don&#39;t understand subclassing, An ExceptionB <b>is</b> an ExceptionA just as it <b>is</b> an Exception.  If that were not so, then subclassing would be pointless."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1684322146,"post_id":76271351,"comment_id":134500592,"body_markdown":"Yes. Change it to `RuntimeException ex = new ExceptionB();` and you&#39;ll see the same behaviour. The type there is *only* relevant in terms of whether the compiler allows you to throw the exception - in this case you can do so with no `throws` clause because the compiler knows it&#39;s an unchecked exception.","body":"Yes. Change it to <code>RuntimeException ex = new ExceptionB();</code> and you&#39;ll see the same behaviour. The type there is <i>only</i> relevant in terms of whether the compiler allows you to throw the exception - in this case you can do so with no <code>throws</code> clause because the compiler knows it&#39;s an unchecked exception."},{"owner":{"account_id":23112217,"reputation":7,"user_id":17220027,"display_name":"Aashish Aggarwal"},"score":0,"creation_date":1684322488,"post_id":76271351,"comment_id":134500661,"body_markdown":"@ArfurNarf but my question is if a subclass reference `ExceptionB`, in this case, can hold the reference of type `Exception` in `method2`?","body":"@ArfurNarf but my question is if a subclass reference <code>ExceptionB</code>, in this case, can hold the reference of type <code>Exception</code> in <code>method2</code>?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1684325025,"post_id":76271351,"comment_id":134501210,"body_markdown":"are you asking (in last comment) something like `ExceptionB x = new Exception()`  or, if you prefer,  `try { throw new Exception(); } catch {ExceptionB x) { ... }`?","body":"are you asking (in last comment) something like <code>ExceptionB x = new Exception()</code>  or, if you prefer,  <code>try { throw new Exception(); } catch {ExceptionB x) { ... }</code>?"},{"owner":{"account_id":23112217,"reputation":7,"user_id":17220027,"display_name":"Aashish Aggarwal"},"score":0,"creation_date":1684325613,"post_id":76271351,"comment_id":134501342,"body_markdown":"@user16320675 The try catch case","body":"@user16320675 The try catch case"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1684372693,"post_id":76271351,"comment_id":134510390,"body_markdown":"@AashishAggarwal - the object that is thrown in your method1 is an ExceptionB.  That you briefly held a reference to it in variables typed as ExceptionA and Exception does not change that the object is actually an ExceptionB. It remains an ExceptionB when it arrives at the catching code in method2.","body":"@AashishAggarwal - the object that is thrown in your method1 is an ExceptionB.  That you briefly held a reference to it in variables typed as ExceptionA and Exception does not change that the object is actually an ExceptionB. It remains an ExceptionB when it arrives at the catching code in method2."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684326819,"creation_date":1684326819,"answer_id":76272156,"question_id":76271351,"body_markdown":"Almost all of java is dynamically linked. As in, which method is invoked / which catch block is chosen is all decided only on the spot depending on the actual type of the object. What you use in the code (as in, the type of your variable) is irrelevant. When you write:\r\n\r\n```\r\nException a = new SomeSpecificException();\r\n```\r\n\r\nYou have 2 separate things here: You have an object, and a reference. It&#39;s like `new SomeSpecificException` pops a treasure chest in existence and buries it somewhere in the beach. And `Exception a;` is a treasure map. The `=` sign means: Draw a map to this treasure on this treasure map. This leads to proper explanations of how java works, if you then write `Exception b = a;` you have 2 treasure maps, both going to the same treasure, for example. The fact that your `b` variable is of type `Exception` is not saying much; that merely means the treasure map has, on top of it, a statement: &quot;This map is either blank (`null`), or, is guaranteed to lead to real treasure! In addition, that treasure will definitely be some sort of exception!&quot;\r\n\r\nAlmost everything in java doesn&#39;t care about that header on your treasure map, it cares about the treasure.\r\n\r\nThe only exception to that rule is method resolution. Given:\r\n\r\n```\r\nvoid foo(Number n) { System.out.println(&quot;Number!&quot;); }\r\nvoid foo(Integer n) { System.out.println(&quot;Integer!&quot;); }\r\n\r\nNumber x = 5; // integer\r\nfoo(n); // prints Number!\r\n```\r\n\r\nAnd that&#39;s because method names include their parameter types (so, our two `foo` methods here are as unrelated as a method named `joe` and `jane` would be - different names, effectively), and resolving which method is intended is a compile-time/static thing, i.e., based on the heading on your treasure maps and not based on treasure because that&#39;s not info available at compile time.\r\n\r\nContrast to:\r\n\r\n```\r\nclass Parent {\r\n  void foo(Number n) { System.out.println(&quot;Parent!&quot;); }\r\n}\r\n\r\nclass Child extends Parent {\r\n  void foo(Number n) { System.out.println(&quot;Child!&quot;); }\r\n}\r\n\r\nParent p = new Child();\r\np.foo(5); // prints Child!\r\n```\r\n\r\nHere the resolution (which actual code ends up being executed at runtime) is dynamic: It cares about the treasure (which is `new Child()`), not about the heading on your treasure map (which is `Parent p`).\r\n\r\n`catch` blocks __are like the latter__ - they are resolved __at runtime__, based on __the type of the object__ (and not of the treasure map).\r\n\r\nThis:\r\n\r\n```\r\n} catch (Exception e) {\r\n            System.out.println(&quot;2&quot;);\r\n            throw e;\r\n```\r\n\r\nStill throws an object of type `ExceptionB`. It doesn&#39;t magically change object types. That thinking doesn&#39;t make sense at all. Imagine such an operation changes the type of an object, that would imply you could have objects whose type is some abstract type, which is obviouslly impossible, &#39;abstract&#39; means &#39;cannot be instantiated&#39;, and therefore, __no__ objects can possibly exist whose type is an abstract type. But they could, of course, be of some _subtype_ of an abstract type which is fine. Given:\r\n\r\n```\r\nAbstractList x = new ArrayList();\r\n```\r\n\r\n`x` is a variable (treasure map), pointing at an object (treasure). The map promises that, whatever you find, it&#39;s some sort of AbstractList. All of which is fine - none of this makes the treasure _itself_ an AbstractList. It&#39;s an ArrayList. It will remain an ArrayList regardless of what maps you care to draw (= variables you care to set) that lead to it.","title":"Exception thrown using superclass reference can still be caught in the catch block using subclass reference?","body":"<p>Almost all of java is dynamically linked. As in, which method is invoked / which catch block is chosen is all decided only on the spot depending on the actual type of the object. What you use in the code (as in, the type of your variable) is irrelevant. When you write:</p>\n<pre><code>Exception a = new SomeSpecificException();\n</code></pre>\n<p>You have 2 separate things here: You have an object, and a reference. It's like <code>new SomeSpecificException</code> pops a treasure chest in existence and buries it somewhere in the beach. And <code>Exception a;</code> is a treasure map. The <code>=</code> sign means: Draw a map to this treasure on this treasure map. This leads to proper explanations of how java works, if you then write <code>Exception b = a;</code> you have 2 treasure maps, both going to the same treasure, for example. The fact that your <code>b</code> variable is of type <code>Exception</code> is not saying much; that merely means the treasure map has, on top of it, a statement: &quot;This map is either blank (<code>null</code>), or, is guaranteed to lead to real treasure! In addition, that treasure will definitely be some sort of exception!&quot;</p>\n<p>Almost everything in java doesn't care about that header on your treasure map, it cares about the treasure.</p>\n<p>The only exception to that rule is method resolution. Given:</p>\n<pre><code>void foo(Number n) { System.out.println(&quot;Number!&quot;); }\nvoid foo(Integer n) { System.out.println(&quot;Integer!&quot;); }\n\nNumber x = 5; // integer\nfoo(n); // prints Number!\n</code></pre>\n<p>And that's because method names include their parameter types (so, our two <code>foo</code> methods here are as unrelated as a method named <code>joe</code> and <code>jane</code> would be - different names, effectively), and resolving which method is intended is a compile-time/static thing, i.e., based on the heading on your treasure maps and not based on treasure because that's not info available at compile time.</p>\n<p>Contrast to:</p>\n<pre><code>class Parent {\n  void foo(Number n) { System.out.println(&quot;Parent!&quot;); }\n}\n\nclass Child extends Parent {\n  void foo(Number n) { System.out.println(&quot;Child!&quot;); }\n}\n\nParent p = new Child();\np.foo(5); // prints Child!\n</code></pre>\n<p>Here the resolution (which actual code ends up being executed at runtime) is dynamic: It cares about the treasure (which is <code>new Child()</code>), not about the heading on your treasure map (which is <code>Parent p</code>).</p>\n<p><code>catch</code> blocks <strong>are like the latter</strong> - they are resolved <strong>at runtime</strong>, based on <strong>the type of the object</strong> (and not of the treasure map).</p>\n<p>This:</p>\n<pre><code>} catch (Exception e) {\n            System.out.println(&quot;2&quot;);\n            throw e;\n</code></pre>\n<p>Still throws an object of type <code>ExceptionB</code>. It doesn't magically change object types. That thinking doesn't make sense at all. Imagine such an operation changes the type of an object, that would imply you could have objects whose type is some abstract type, which is obviouslly impossible, 'abstract' means 'cannot be instantiated', and therefore, <strong>no</strong> objects can possibly exist whose type is an abstract type. But they could, of course, be of some <em>subtype</em> of an abstract type which is fine. Given:</p>\n<pre><code>AbstractList x = new ArrayList();\n</code></pre>\n<p><code>x</code> is a variable (treasure map), pointing at an object (treasure). The map promises that, whatever you find, it's some sort of AbstractList. All of which is fine - none of this makes the treasure <em>itself</em> an AbstractList. It's an ArrayList. It will remain an ArrayList regardless of what maps you care to draw (= variables you care to set) that lead to it.</p>\n"}],"owner":{"account_id":23112217,"reputation":7,"user_id":17220027,"display_name":"Aashish Aggarwal"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684326819,"creation_date":1684321135,"question_id":76271351,"body_markdown":"    class ExceptionA extends RuntimeException {}\r\n    class ExceptionB extends ExceptionA {}\r\n    class ExceptionC extends RuntimeException {}\r\n    \r\n    class statCheck {\r\n        void method1() {\r\n            ExceptionA ex = new ExceptionB();\r\n            try {\r\n                int i = 1; throw ex;\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;2&quot;);\r\n                throw e;\r\n            } finally {\r\n                System.out.println(&quot;1&quot;);\r\n            }\r\n        }\r\n    \r\n        void method2() {\r\n            try {\r\n                method1(); \r\n                System.out.println(&quot;4&quot;);;\r\n            } catch (ExceptionB e) {\r\n                System.out.println(&quot;5&quot;);\r\n                throw new ExceptionC();\r\n            }\r\n        }\r\n    \r\n        void method3(){\r\n            try {\r\n                method2(); \r\n            } catch (Exception e) {\r\n                System.out.println(&quot;6&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n            new statCheck().method3();\r\n            System.out.println(&quot;7&quot;);\r\n        }\r\n    }\r\n\r\nI am running this java code and the output received is :\r\n\r\n    2\r\n    1\r\n    5\r\n    6\r\n    7\r\n\r\nBut why is that the case? Why 5 is being printed? Shouldn&#39;t the answer be just :\r\n\r\n    2\r\n    1\r\n    6\r\n    7\r\n\r\nThe catch block which displays 5 on the console is catching the exception of type `ExceptionB` but the exception thrown is of type `Exception`. Is it possible to catch the superclass reference with some subclass reference? Or it works because the superclass reference is in turn pointing to the same subclass reference? Can someone please clear the air on this?\r\n\r\nThanks\r\n\r\n\r\n","title":"Exception thrown using superclass reference can still be caught in the catch block using subclass reference?","body":"<pre><code>class ExceptionA extends RuntimeException {}\nclass ExceptionB extends ExceptionA {}\nclass ExceptionC extends RuntimeException {}\n\nclass statCheck {\n    void method1() {\n        ExceptionA ex = new ExceptionB();\n        try {\n            int i = 1; throw ex;\n        } catch (Exception e) {\n            System.out.println(&quot;2&quot;);\n            throw e;\n        } finally {\n            System.out.println(&quot;1&quot;);\n        }\n    }\n\n    void method2() {\n        try {\n            method1(); \n            System.out.println(&quot;4&quot;);;\n        } catch (ExceptionB e) {\n            System.out.println(&quot;5&quot;);\n            throw new ExceptionC();\n        }\n    }\n\n    void method3(){\n        try {\n            method2(); \n        } catch (Exception e) {\n            System.out.println(&quot;6&quot;);\n        }\n    }\n\n    public static void main(String args[]) {\n        new statCheck().method3();\n        System.out.println(&quot;7&quot;);\n    }\n}\n</code></pre>\n<p>I am running this java code and the output received is :</p>\n<pre><code>2\n1\n5\n6\n7\n</code></pre>\n<p>But why is that the case? Why 5 is being printed? Shouldn't the answer be just :</p>\n<pre><code>2\n1\n6\n7\n</code></pre>\n<p>The catch block which displays 5 on the console is catching the exception of type <code>ExceptionB</code> but the exception thrown is of type <code>Exception</code>. Is it possible to catch the superclass reference with some subclass reference? Or it works because the superclass reference is in turn pointing to the same subclass reference? Can someone please clear the air on this?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1684285248,"post_id":76202365,"comment_id":134494899,"body_markdown":"I&#39;m curious, why didn&#39;t the post below help or even answer your question?","body":"I&#39;m curious, why didn&#39;t the post below help or even answer your question?"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683655901,"creation_date":1683655901,"answer_id":76212306,"question_id":76202365,"body_markdown":"An option is to use different security filter-chain beans for each request authorization mechanism: you can provide a `securityMatcher` to specify which requests a `securityFilterChain` processes and the criteria can be about anything you like, including the `Authorization` header format.\r\n\r\nI used the following sample to bridge from `basic` authentication to OAuth2 client-credentials flow (accept queries from a legacy client maintained by another team with no bandwidth to migrate it to OAuth2):\r\n```java\r\nhttp.securityMatcher((HttpServletRequest request) -&gt; {\r\n\treturn Optional.ofNullable(request.getHeader(HttpHeaders.AUTHORIZATION)).map(h -&gt; {\r\n\t\treturn h.toLowerCase().startsWith(&quot;basic &quot;);\r\n\t}).orElse(false);\r\n});\r\nhttp.httpBasic(withDefaults());\r\nhttp.userDetailsService((String username) -&gt; {\r\n\treturn new User(username, &quot;&quot;, List.of());\r\n});\r\nhttp.authenticationManager(new OidcClientCredentialsFlowAuthenticationManager(authServerBaseUri, tokenEndpointsProperties, authenticationManagerResolver));\r\nhttp.sessionManagement(sm -&gt; sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\nhttp.csrf(csrf -&gt; csrf.disable());\r\n...\r\n```\r\n\r\nDefining a first standard OAuth2 resource server security filter-chain for requests with a `Bearer` authorization header and another security filter chain for requests secured with a public key should be just as easy as done above.","title":"How to allow different types of tokens in Spring Security","body":"<p>An option is to use different security filter-chain beans for each request authorization mechanism: you can provide a <code>securityMatcher</code> to specify which requests a <code>securityFilterChain</code> processes and the criteria can be about anything you like, including the <code>Authorization</code> header format.</p>\n<p>I used the following sample to bridge from <code>basic</code> authentication to OAuth2 client-credentials flow (accept queries from a legacy client maintained by another team with no bandwidth to migrate it to OAuth2):</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.securityMatcher((HttpServletRequest request) -&gt; {\n    return Optional.ofNullable(request.getHeader(HttpHeaders.AUTHORIZATION)).map(h -&gt; {\n        return h.toLowerCase().startsWith(&quot;basic &quot;);\n    }).orElse(false);\n});\nhttp.httpBasic(withDefaults());\nhttp.userDetailsService((String username) -&gt; {\n    return new User(username, &quot;&quot;, List.of());\n});\nhttp.authenticationManager(new OidcClientCredentialsFlowAuthenticationManager(authServerBaseUri, tokenEndpointsProperties, authenticationManagerResolver));\nhttp.sessionManagement(sm -&gt; sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\nhttp.csrf(csrf -&gt; csrf.disable());\n...\n</code></pre>\n<p>Defining a first standard OAuth2 resource server security filter-chain for requests with a <code>Bearer</code> authorization header and another security filter chain for requests secured with a public key should be just as easy as done above.</p>\n"},{"tags":[],"owner":{"account_id":4804924,"reputation":1426,"user_id":3880363,"display_name":"krisnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684326700,"creation_date":1684326700,"answer_id":76272136,"question_id":76202365,"body_markdown":"After lot of drilling of documentation, found that Springboot does have a native way to accomplish the requirement. \r\n\r\nUsing [Multi-tenancy](https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/multitenancy.html) feature, different JWT decoders can be registered. \r\n\r\nThe Auth0 decoder will be initialized the `domain`.\r\nThe Public key based decoder can be initialized with the relevant public key. ","title":"How to allow different types of tokens in Spring Security","body":"<p>After lot of drilling of documentation, found that Springboot does have a native way to accomplish the requirement.</p>\n<p>Using <a href=\"https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/multitenancy.html\" rel=\"nofollow noreferrer\">Multi-tenancy</a> feature, different JWT decoders can be registered.</p>\n<p>The Auth0 decoder will be initialized the <code>domain</code>.\nThe Public key based decoder can be initialized with the relevant public key.</p>\n"}],"owner":{"account_id":4804924,"reputation":1426,"user_id":3880363,"display_name":"krisnik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76272136,"answer_count":2,"score":2,"last_activity_date":1684326700,"creation_date":1683562226,"question_id":76202365,"body_markdown":"In my spring based service, I have enabled Oauth2 Resource server based authentication using `@EnableWebSecurity` annotation and following fillter code. \r\n\r\n```java\r\n\r\nhttp.\r\n....\r\n.oauth2ResourceServer(oauth2 -&gt; oauth2.authenticationManagerResolver(authenticationManagerResolver)).build();\r\n\r\n// The authenticationManagerResolver is initialized with correct Auth0 IssuerURL and Audience\r\n```\r\n\r\nNow, I want to enable tokens that were generated using a trusted Public/Private key combination as well for my application. \r\n\r\nHow can I edit the above filter to allow Auth0 generated tokens and the tokens generated using the Private / Public keys interchangably.. ","title":"How to allow different types of tokens in Spring Security","body":"<p>In my spring based service, I have enabled Oauth2 Resource server based authentication using <code>@EnableWebSecurity</code> annotation and following fillter code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nhttp.\n....\n.oauth2ResourceServer(oauth2 -&gt; oauth2.authenticationManagerResolver(authenticationManagerResolver)).build();\n\n// The authenticationManagerResolver is initialized with correct Auth0 IssuerURL and Audience\n</code></pre>\n<p>Now, I want to enable tokens that were generated using a trusted Public/Private key combination as well for my application.</p>\n<p>How can I edit the above filter to allow Auth0 generated tokens and the tokens generated using the Private / Public keys interchangably..</p>\n"},{"tags":["javascript","java","android","react-native","android-studio"],"owner":{"account_id":8630890,"reputation":116,"user_id":6462519,"display_name":"Praveen Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1684326528,"creation_date":1684326528,"question_id":76272119,"body_markdown":"If anybody facing this issue then use bellow steps and solve this:\r\n\r\n1. build.gradle(Project)\r\n\r\nadd bellow code in repositories\r\n\r\n  \r\n\r\n    maven {\r\n                // Android JSC is installed from npm\r\n                url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\r\n            }\r\n\r\n2. build.gradle(app)\r\na. add below code on top:\r\n\r\n    project.ext.react = [\r\n        enableHermes: false,  // clean and rebuild if changing\r\n    ]\r\n    def jscFlavor = &#39;org.webkit:android-jsc:+&#39;\r\n    def enableHermes = project.ext.react.get(&quot;enableHermes&quot;, false);\r\n\r\nb. add below code in dependencies:\r\n\r\n \r\n\r\n    if (enableHermes) {\r\n            def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\r\n            debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\r\n            releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\r\n        } else {\r\n            implementation jscFlavor\r\n        }\r\n\r\nThanks in advance :)","title":"React-Native couldn&#39;t find DSO to load: libhermes.so above react native version 60+","body":"<p>If anybody facing this issue then use bellow steps and solve this:</p>\n<ol>\n<li>build.gradle(Project)</li>\n</ol>\n<p>add bellow code in repositories</p>\n<pre><code>maven {\n            // Android JSC is installed from npm\n            url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\n        }\n</code></pre>\n<ol start=\"2\">\n<li><p>build.gradle(app)\na. add below code on top:</p>\n<p>project.ext.react = [\nenableHermes: false,  // clean and rebuild if changing\n]\ndef jscFlavor = 'org.webkit:android-jsc:+'\ndef enableHermes = project.ext.react.get(&quot;enableHermes&quot;, false);</p>\n</li>\n</ol>\n<p>b. add below code in dependencies:</p>\n<pre><code>if (enableHermes) {\n        def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\n        debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\n        releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\n    } else {\n        implementation jscFlavor\n    }\n</code></pre>\n<p>Thanks in advance :)</p>\n"},{"tags":["java","sql-server","spring"],"comments":[{"owner":{"account_id":6326733,"reputation":597,"user_id":4912976,"accept_rate":85,"display_name":"freefall"},"score":0,"creation_date":1539071359,"post_id":52715797,"comment_id":92357124,"body_markdown":"What exception do you get?","body":"What exception do you get?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1539071377,"post_id":52715797,"comment_id":92357140,"body_markdown":"You can open up the `jar` file using a zip utility and see","body":"You can open up the <code>jar</code> file using a zip utility and see"}],"answers":[{"tags":[],"owner":{"account_id":5716659,"reputation":290,"user_id":4516598,"display_name":"Shepard62FR"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1539071575,"creation_date":1539071516,"answer_id":52715900,"question_id":52715797,"body_markdown":"[According to this web page][1], the correct property is `spring.datasource.driverClassName`.\r\n\r\nSo, the full connection string should be:\r\n\r\n    spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\r\n  [1]: https://springframework.guru/configuring-spring-boot-for-microsoft-sql-server/","title":"What&#39;s the driver class name for SQL Server JDBC","body":"<p><a href=\"https://springframework.guru/configuring-spring-boot-for-microsoft-sql-server/\" rel=\"noreferrer\">According to this web page</a>, the correct property is <code>spring.datasource.driverClassName</code>.</p>\n\n<p>So, the full connection string should be:</p>\n\n<pre><code>spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28604857,"reputation":11,"user_id":21901015,"display_name":"Jess N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684326340,"creation_date":1684326340,"answer_id":76272089,"question_id":52715797,"body_markdown":"A complete snippet\r\n\r\n\r\n    &lt;resources&gt;\r\n        &lt;jdbc-connection-pool \r\n            name=&quot;microsoft_sqlserver2005_pool&quot; \r\n            datasource-classname=&quot;com.microsoft.sqlserver.jdbc.SQLServerDataSource&quot;\r\n            res-type=&quot;javax.sql.DataSource&quot;&gt;\r\n            &lt;property name=&quot;user&quot; value=&quot;DB_USER&quot;/&gt;\r\n            &lt;property name=&quot;password&quot; value=&quot;DB_PASSWORD&quot;/&gt;\r\n            &lt;property name=&quot;serverName&quot; value=&quot;DB_HOSTNAME&quot;/&gt;\r\n            &lt;property name=&quot;portNumber&quot; value=&quot;1433&quot;/&gt;\r\n            &lt;property name=&quot;databaseName&quot; value=&quot;DATABASE_NAME&quot;/&gt;\r\n        &lt;/jdbc-connection-pool&gt;\r\n    \r\n        &lt;jdbc-resource \r\n            enabled=&quot;true&quot; \r\n            jndi-name=&quot;jdbc/microsoft_sqlserver2005_resource&quot; \r\n            object-type=&quot;user&quot; \r\n            pool-name=&quot;microsoft_sqlserver2005_pool&quot;/&gt;\r\n    &lt;/resources&gt;\r\n\r\n","title":"What&#39;s the driver class name for SQL Server JDBC","body":"<p>A complete snippet</p>\n<pre><code>&lt;resources&gt;\n    &lt;jdbc-connection-pool \n        name=&quot;microsoft_sqlserver2005_pool&quot; \n        datasource-classname=&quot;com.microsoft.sqlserver.jdbc.SQLServerDataSource&quot;\n        res-type=&quot;javax.sql.DataSource&quot;&gt;\n        &lt;property name=&quot;user&quot; value=&quot;DB_USER&quot;/&gt;\n        &lt;property name=&quot;password&quot; value=&quot;DB_PASSWORD&quot;/&gt;\n        &lt;property name=&quot;serverName&quot; value=&quot;DB_HOSTNAME&quot;/&gt;\n        &lt;property name=&quot;portNumber&quot; value=&quot;1433&quot;/&gt;\n        &lt;property name=&quot;databaseName&quot; value=&quot;DATABASE_NAME&quot;/&gt;\n    &lt;/jdbc-connection-pool&gt;\n\n    &lt;jdbc-resource \n        enabled=&quot;true&quot; \n        jndi-name=&quot;jdbc/microsoft_sqlserver2005_resource&quot; \n        object-type=&quot;user&quot; \n        pool-name=&quot;microsoft_sqlserver2005_pool&quot;/&gt;\n&lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":13970001,"reputation":1974,"user_id":10088866,"display_name":"Clyde Barrow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36689,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":52715900,"answer_count":2,"score":14,"last_activity_date":1684326340,"creation_date":1539071181,"question_id":52715797,"body_markdown":"I want to connect my Java SpringBoot app to SQL Server and I get the information that spring cannot load driver class. I tried:\r\n\r\n    spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\r\nand \r\n\r\n    spring.datasource.driver-class-name=com.microsoft.jdbc.sqlserver.SQLServerDriver\r\n\r\nBut both did not work, here is my maven dependency \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.0.jre8&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"What&#39;s the driver class name for SQL Server JDBC","body":"<p>I want to connect my Java SpringBoot app to SQL Server and I get the information that spring cannot load driver class. I tried:</p>\n\n<pre><code>spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\n</code></pre>\n\n<p>and </p>\n\n<pre><code>spring.datasource.driver-class-name=com.microsoft.jdbc.sqlserver.SQLServerDriver\n</code></pre>\n\n<p>But both did not work, here is my maven dependency </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0.jre8&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","sql","kotlin","android-room"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1648426988,"post_id":71641264,"comment_id":126614055,"body_markdown":"Is there a reason why you are using a third-party sqlite driver (which may not support Android). Please show all your gradle build dependencies.","body":"Is there a reason why you are using a third-party sqlite driver (which may not support Android). Please show all your gradle build dependencies."}],"answers":[{"tags":[],"owner":{"display_name":"user18829810"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1650151486,"creation_date":1650151486,"answer_id":71898182,"question_id":71641264,"body_markdown":" update your room library\r\n     \r\n\r\n       implementation &quot;androidx.room:room-runtime:2.4.2&quot;\r\n       implementation &quot;androidx.room:room-ktx:2.4.2&quot;\r\n       kapt &quot;androidx.room:room-compiler:2.4.2&quot;\r\n\r\n\r\nHere is [Reference][1]\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/room#version_240_2","title":"How can I solve this issue on Mac M1 Caused by: java.lang.Exception: No native library is found for os.name=Mac and os.arch=aarch64","body":"<p>update your room library</p>\n<pre><code>   implementation &quot;androidx.room:room-runtime:2.4.2&quot;\n   implementation &quot;androidx.room:room-ktx:2.4.2&quot;\n   kapt &quot;androidx.room:room-compiler:2.4.2&quot;\n</code></pre>\n<p>Here is <a href=\"https://developer.android.com/jetpack/androidx/releases/room#version_240_2\" rel=\"noreferrer\">Reference</a></p>\n"},{"tags":[],"owner":{"account_id":25211468,"reputation":1,"user_id":19049096,"display_name":"Music C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651808479,"creation_date":1651808479,"answer_id":72135919,"question_id":71641264,"body_markdown":"yeb run working on my case(my mac mini m1)\r\n=&gt;&gt;&gt;\r\n`implementation &quot;androidx.room:room-runtime:2.4.2&quot;\r\nimplementation &quot;androidx.room:room-ktx:2.4.2&quot;`","title":"How can I solve this issue on Mac M1 Caused by: java.lang.Exception: No native library is found for os.name=Mac and os.arch=aarch64","body":"<p>yeb run working on my case(my mac mini m1)\n=&gt;&gt;&gt;\n<code>implementation &quot;androidx.room:room-runtime:2.4.2&quot; implementation &quot;androidx.room:room-ktx:2.4.2&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":10181473,"reputation":464,"user_id":7518083,"display_name":"Marfin. F"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654682672,"creation_date":1654682672,"answer_id":72543774,"question_id":71641264,"body_markdown":"In my case updating to `2.4.2` only asking me to update the SDK version to 31 and more problem appears. I found alternative solution by selecting\r\n\r\n`Android Studio &gt; Preferences &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle`\r\n\r\n\r\nNavigate to **Gradle Project section** and click **Gradle JDK dropdown option field**.\r\n\r\n[![illustration][1]][1]\r\n\r\nSelect Liberica-1.8 (if it is not available in dropdown field, you can download and install here https://bell-sw.com/pages/downloads/).\r\n\r\nRun the project again and voila!!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jQAfM.jpg","title":"How can I solve this issue on Mac M1 Caused by: java.lang.Exception: No native library is found for os.name=Mac and os.arch=aarch64","body":"<p>In my case updating to <code>2.4.2</code> only asking me to update the SDK version to 31 and more problem appears. I found alternative solution by selecting</p>\n<p><code>Android Studio &gt; Preferences &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle</code></p>\n<p>Navigate to <strong>Gradle Project section</strong> and click <strong>Gradle JDK dropdown option field</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/jQAfM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jQAfM.jpg\" alt=\"illustration\" /></a></p>\n<p>Select Liberica-1.8 (if it is not available in dropdown field, you can download and install here <a href=\"https://bell-sw.com/pages/downloads/\" rel=\"nofollow noreferrer\">https://bell-sw.com/pages/downloads/</a>).</p>\n<p>Run the project again and voila!!</p>\n"},{"tags":[],"owner":{"account_id":7187279,"reputation":125,"user_id":5488843,"accept_rate":0,"display_name":"Sumit Kumawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674387363,"creation_date":1674387363,"answer_id":75200079,"question_id":71641264,"body_markdown":"update your roomdb dependencies\r\n\r\n    def room_version = &quot;2.4.2&quot;\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    kapt &quot;androidx.room:room-compiler:$room_version&quot;\r\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;","title":"How can I solve this issue on Mac M1 Caused by: java.lang.Exception: No native library is found for os.name=Mac and os.arch=aarch64","body":"<p>update your roomdb dependencies</p>\n<pre><code>def room_version = &quot;2.4.2&quot;\nimplementation &quot;androidx.room:room-runtime:$room_version&quot;\nkapt &quot;androidx.room:room-compiler:$room_version&quot;\nimplementation &quot;androidx.room:room-ktx:$room_version&quot;\n</code></pre>\n"}],"owner":{"account_id":11008048,"reputation":584,"user_id":8086401,"display_name":"Muraino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5797,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":71898182,"answer_count":4,"score":7,"last_activity_date":1684326274,"creation_date":1648426678,"question_id":71641264,"body_markdown":"I solved this issue with the code below in my build.gradle \r\n\r\n      allprojects {\r\n    configurations.all {\r\n        resolutionStrategy {\r\n            force &#39;org.xerial:sqlite-jdbc:3.34.0&#39;\r\n          }\r\n       }\r\n     } \r\n\r\nBut it has an effect on the project I am working on. for some reason, it is not working with room sql implemented on the project. \r\n\r\nI get this error when i removed the code above.\r\n\r\nIs there a better approach to solve this.\r\n\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n\tat androidx.room.processor.DatabaseProcessor.doProcess(DatabaseProcessor.kt:82)\r\n\tat androidx.room.processor.DatabaseProcessor.process(DatabaseProcessor.kt:57)\r\n\tat androidx.room.RoomProcessor$DatabaseProcessingStep.process(RoomProcessor.kt:134)\r\n\tat com.google.auto.common.BasicAnnotationProcessor.process(BasicAnnotationProcessor.java:330)\r\n\tat com.google.auto.common.BasicAnnotationProcessor.process(BasicAnnotationProcessor.java:181)\r\n\tat org.jetbrains.kotlin.kapt3.base.incremental.IncrementalProcessor.process(incrementalProcessors.kt)\r\n\tat org.jetbrains.kotlin.kapt3.base.ProcessorWrapper.process(annotationProcessing.kt:161)\r\n\tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:980)\r\n\t... 39 more\r\n\r\n    Caused by: java.lang.Exception: No native library is found for os.name=Mac and \r\n    os.arch=aarch64. path=/org/sqlite/native/Mac/aarch64\r\n\tat org.sqlite.SQLiteJDBCLoader.loadSQLiteNativeLibrary(SQLiteJDBCLoader.java:333)\r\n\tat org.sqlite.SQLiteJDBCLoader.initialize(SQLiteJDBCLoader.java:64)\r\n\tat androidx.room.verifier.DatabaseVerifier.&lt;clinit&gt;(DatabaseVerifier.kt:68)\r\n\t... 47 more","title":"How can I solve this issue on Mac M1 Caused by: java.lang.Exception: No native library is found for os.name=Mac and os.arch=aarch64","body":"<p>I solved this issue with the code below in my build.gradle</p>\n<pre><code>  allprojects {\nconfigurations.all {\n    resolutionStrategy {\n        force 'org.xerial:sqlite-jdbc:3.34.0'\n      }\n   }\n } \n</code></pre>\n<p>But it has an effect on the project I am working on. for some reason, it is not working with room sql implemented on the project.</p>\n<p>I get this error when i removed the code above.</p>\n<p>Is there a better approach to solve this.</p>\n<pre><code>Caused by: java.lang.ExceptionInInitializerError\nat androidx.room.processor.DatabaseProcessor.doProcess(DatabaseProcessor.kt:82)\nat androidx.room.processor.DatabaseProcessor.process(DatabaseProcessor.kt:57)\nat androidx.room.RoomProcessor$DatabaseProcessingStep.process(RoomProcessor.kt:134)\nat com.google.auto.common.BasicAnnotationProcessor.process(BasicAnnotationProcessor.java:330)\nat com.google.auto.common.BasicAnnotationProcessor.process(BasicAnnotationProcessor.java:181)\nat org.jetbrains.kotlin.kapt3.base.incremental.IncrementalProcessor.process(incrementalProcessors.kt)\nat org.jetbrains.kotlin.kapt3.base.ProcessorWrapper.process(annotationProcessing.kt:161)\nat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:980)\n... 39 more\n\nCaused by: java.lang.Exception: No native library is found for os.name=Mac and \nos.arch=aarch64. path=/org/sqlite/native/Mac/aarch64\nat org.sqlite.SQLiteJDBCLoader.loadSQLiteNativeLibrary(SQLiteJDBCLoader.java:333)\nat org.sqlite.SQLiteJDBCLoader.initialize(SQLiteJDBCLoader.java:64)\nat androidx.room.verifier.DatabaseVerifier.&lt;clinit&gt;(DatabaseVerifier.kt:68)\n... 47 more\n</code></pre>\n"},{"tags":["java","protocol-buffers"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1684315764,"post_id":76270493,"comment_id":134499214,"body_markdown":"Can you provide a [mre] that demonstrates the problem?","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684316624,"post_id":76270493,"comment_id":134499413,"body_markdown":"Ironically you express a desire to reproduce a character which is itself a *replacement char* and therefore indicative of an error. Does your message include Hangul chars you want to show?","body":"Ironically you express a desire to reproduce a character which is itself a <i>replacement char</i> and therefore indicative of an error. Does your message include Hangul chars you want to show?"},{"owner":{"account_id":20095995,"reputation":45,"user_id":14735526,"display_name":"Amarnath Reddy"},"score":0,"creation_date":1684318688,"post_id":76270493,"comment_id":134499870,"body_markdown":"@g00se No. it doesnt show.","body":"@g00se No. it doesnt show."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684319727,"post_id":76270493,"comment_id":134500089,"body_markdown":"You really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1684326765,"post_id":76270493,"comment_id":134501590,"body_markdown":"`&amp;#65533;` is a numerical character reference as used in HTML and XML. The Protobuf text format does not use that as far as I understand. So I&#39;m *reasonably sure* that it&#39;s not the protobuf library that applies this transformation, but something else in your pipeline. If you can really provide the [mre] (including the Java code that produces the claimed output) then we can start investigating where things go wrong.","body":"<code>&amp;#65533;</code> is a numerical character reference as used in HTML and XML. The Protobuf text format does not use that as far as I understand. So I&#39;m <i>reasonably sure</i> that it&#39;s not the protobuf library that applies this transformation, but something else in your pipeline. If you can really provide the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (including the Java code that produces the claimed output) then we can start investigating where things go wrong."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1684327436,"post_id":76270493,"comment_id":134501745,"body_markdown":"*Protobuf is converting them into \\302\\240 when building the message.* Also, there is possibly a misconception here: the whole purpose of Protobuf involves *converting* input for transport purposes, so if you&#39;re somehow trying to use its transport format to derive your input instead of using its decoding/desrialization mechanisms, then you&#39;re going to get problems","body":"<i>Protobuf is converting them into \\302\\240 when building the message.</i> Also, there is possibly a misconception here: the whole purpose of Protobuf involves <i>converting</i> input for transport purposes, so if you&#39;re somehow trying to use its transport format to derive your input instead of using its decoding/desrialization mechanisms, then you&#39;re going to get problems"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684326110,"creation_date":1684326110,"answer_id":76272055,"question_id":76270493,"body_markdown":"\\&amp;#65533; is an html encoding of your symbol &amp;#65533; So it is OK to go with that. unicode for that symbol is 65533 or in hexadecimal - \\ufffd You can also replace your string `&quot;foo�bar&quot;` with `&quot;foo\\ufffdbar&quot;` and then convert it to protobuf - it will also work. Here is an on-line converter: [https://checkserp.com/encode/unicode/][1] or more comprehensive one - [https://r12a.github.io/app-conversion/][2]. Also, if you want to convert text to unicodes programmatically you can use MgntUtils Open source library written and maintained by me that has a Utility that converts Strings to unicode sequence and vise versa:\r\n\r\n    result = &quot;Hello World&quot;;\r\n    result = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(result);\r\n    System.out.println(result);\r\n    result = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(result);\r\n    System.out.println(result);\r\n\r\nThe output of this code is:\r\n\r\n    \\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0057\\u006f\\u0072\\u006c\\u0064\r\n    Hello World\r\nThe library can be found as [maven artifact][3] or on [Github][4] with source code and Javadoc. Here is a [Javadoc for StringUnicodeEncoderDecoder][5]\r\n\r\n\r\n  [1]: https://checkserp.com/encode/unicode/\r\n  [2]: https://r12a.github.io/app-conversion/\r\n  [3]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [4]: https://github.com/michaelgantman/Mgnt/releases\r\n  [5]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/StringUnicodeEncoderDecoder.html","title":"Include special chars in a protobuf message in java","body":"<p>&amp;#65533; is an html encoding of your symbol � So it is OK to go with that. unicode for that symbol is 65533 or in hexadecimal - \\ufffd You can also replace your string <code>&quot;foo�bar&quot;</code> with <code>&quot;foo\\ufffdbar&quot;</code> and then convert it to protobuf - it will also work. Here is an on-line converter: <a href=\"https://checkserp.com/encode/unicode/\" rel=\"nofollow noreferrer\">https://checkserp.com/encode/unicode/</a> or more comprehensive one - <a href=\"https://r12a.github.io/app-conversion/\" rel=\"nofollow noreferrer\">https://r12a.github.io/app-conversion/</a>. Also, if you want to convert text to unicodes programmatically you can use MgntUtils Open source library written and maintained by me that has a Utility that converts Strings to unicode sequence and vise versa:</p>\n<pre><code>result = &quot;Hello World&quot;;\nresult = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(result);\nSystem.out.println(result);\nresult = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(result);\nSystem.out.println(result);\n</code></pre>\n<p>The output of this code is:</p>\n<pre><code>\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0057\\u006f\\u0072\\u006c\\u0064\nHello World\n</code></pre>\n<p>The library can be found as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">maven artifact</a> or on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> with source code and Javadoc. Here is a <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/StringUnicodeEncoderDecoder.html\" rel=\"nofollow noreferrer\">Javadoc for StringUnicodeEncoderDecoder</a></p>\n"}],"owner":{"account_id":20095995,"reputation":45,"user_id":14735526,"display_name":"Amarnath Reddy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684326110,"creation_date":1684315272,"question_id":76270493,"body_markdown":"I want to include special chars like � and &lt;nbsp&gt; in a protobuf message. Protobuf is converting them into \\302\\240 when building the message. Is there any way we can build the message with these chars. One option is to use bytes filed in the proto. I want to other options.\r\n\r\nExample:\r\n\r\n    proto - \r\n    message data {\r\n    string value = 1;\r\n    }\r\n\r\n    input - &quot;foo�bar&quot;\r\n    MESSAGE - \r\n    data_msg {\r\n    value: &quot;foo&amp;#65533;bar&quot;\r\n    }\r\n\r\n","title":"Include special chars in a protobuf message in java","body":"<p>I want to include special chars like � and  in a protobuf message. Protobuf is converting them into \\302\\240 when building the message. Is there any way we can build the message with these chars. One option is to use bytes filed in the proto. I want to other options.</p>\n<p>Example:</p>\n<pre><code>proto - \nmessage data {\nstring value = 1;\n}\n\ninput - &quot;foo�bar&quot;\nMESSAGE - \ndata_msg {\nvalue: &quot;foo&amp;#65533;bar&quot;\n}\n</code></pre>\n"},{"tags":["java","stream","java-stream"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684289736,"post_id":76267096,"comment_id":134495301,"body_markdown":"Your Map is not a very good idea. A Stream can only be used once. It would be better to have `Map&lt;String, Suppler&lt;Stream&lt;String&gt;&gt;`.","body":"Your Map is not a very good idea. A Stream can only be used once. It would be better to have <code>Map&lt;String, Suppler&lt;Stream&lt;String&gt;&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":28614784,"reputation":86,"user_id":21909039,"display_name":"user21909039"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684272220,"creation_date":1684272220,"answer_id":76267143,"question_id":76267096,"body_markdown":"If I get it right and you don’t need to use the map’s keys, then you can use the map’s values() method, use flatMap over them to flatten the results (you may have to map the lists to a stream first), and then you can use sorted(), and finally distinct(), all Stream’s methods. ","title":"How to stream a map with a values Stream&lt;String&gt; using Stream API?","body":"<p>If I get it right and you don’t need to use the map’s keys, then you can use the map’s values() method, use flatMap over them to flatten the results (you may have to map the lists to a stream first), and then you can use sorted(), and finally distinct(), all Stream’s methods.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684284181,"creation_date":1684272737,"answer_id":76267187,"question_id":76267096,"body_markdown":"Stream the map&#39;s values, flapMap to stream of Strings, then apply the various filters and modifications, distinct, sort:\r\n\r\n    public Stream&lt;String&gt; listN(Map&lt;String, Stream&lt;String&gt;&gt; map) {\r\n        return map.values().stream()\r\n          .flatMap(s -&gt; s)\r\n          .filter(Objects::nonNull)\r\n          .filter(Predicate.not(String::isBlank))\r\n          .map(String::trim)\r\n          .map(String::toLowerCase)\r\n          .map(s -&gt; s.substring(0, 1).toUpperCase() + s.substring(1))\r\n          .distinct()\r\n          .sorted();\r\n    }\r\n\r\nSee [live demo][1].\r\n\r\n\r\n  [1]: https://onecompiler.com/java/3z8t4skya","title":"How to stream a map with a values Stream&lt;String&gt; using Stream API?","body":"<p>Stream the map's values, flapMap to stream of Strings, then apply the various filters and modifications, distinct, sort:</p>\n<pre><code>public Stream&lt;String&gt; listN(Map&lt;String, Stream&lt;String&gt;&gt; map) {\n    return map.values().stream()\n      .flatMap(s -&gt; s)\n      .filter(Objects::nonNull)\n      .filter(Predicate.not(String::isBlank))\n      .map(String::trim)\n      .map(String::toLowerCase)\n      .map(s -&gt; s.substring(0, 1).toUpperCase() + s.substring(1))\n      .distinct()\n      .sorted();\n}\n</code></pre>\n<p>See <a href=\"https://onecompiler.com/java/3z8t4skya\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684325880,"creation_date":1684325256,"answer_id":76271928,"question_id":76267096,"body_markdown":"Your question and your method name seem to indicate that you want to return a list rather than a stream.  Perhaps you also also meant to use a `Map&lt;String, List&lt;String&gt;&gt;` (but then I don&#39;t know your use case). In any event, this returns a `List&lt;String&gt;` but more importantly it demonstrates the suggestion by [@user20742]( https://stackoverflow.com/users/207421/user207421) to use a `Map&lt;String, Supplier&lt;Stream&lt;String&gt;&gt;&gt;` so that the Map can be repeatedly used, if required. Otherwise, the map would only survive one calling and the streams would be exhausted.\r\n```\r\nMap&lt;String, Supplier&lt;Stream&lt;String&gt;&gt;&gt; map = Map.of(&quot;A&quot;,\r\n        () -&gt; Stream.of(&quot;B&quot;, &quot;C&quot;, &quot; D &quot;,null), &quot;B&quot;,\r\n        () -&gt; Stream.of(&quot;kas&quot;, &quot;B&quot;, &quot;c &quot;, &quot;dddd&quot;));\r\n\r\nfor (int i = 0; i &lt; 3; i++) {\r\n    List&lt;String&gt; list = listN(map);\r\n    System.out.println(list);\r\n}\r\n```\r\nprints\r\n```\r\n[B, C, D, Dddd, Kas]\r\n[B, C, D, Dddd, Kas]\r\n[B, C, D, Dddd, Kas]\r\n```\r\nWith the original map, it would print once and then throw an `IllegalStateException` showing the streams have been used.\r\n\r\nThe modified method below returns a list using the described map. Since the method doesn&#39;t appear to be using `instance fields` I have declared it `static`.\r\nExcept for some slight modifications, this uses the same constructs that are used in [Bohemian&#39;s](https://stackoverflow.com/a/76267187/1552534) answer. The main difference is the `.get()` call to retrieve the stream from the supplier.\r\n```    \r\npublic List&lt;String&gt; listN(Map&lt;String, Supplier&lt;Stream&lt;String&gt;&gt;&gt; map) {\r\n   return map.values().stream().flatMap(a -&gt; a.get())\r\n           .filter(str-&gt; str != null &amp;&amp; !str.isBlank())\r\n           .map(a -&gt; {\r\n               a = a.trim();\r\n               return a.substring(0, 1).toUpperCase() + a.substring(1);\r\n           }).distinct().sorted().toList();\r\n}","title":"How to stream a map with a values Stream&lt;String&gt; using Stream API?","body":"<p>Your question and your method name seem to indicate that you want to return a list rather than a stream.  Perhaps you also also meant to use a <code>Map&lt;String, List&lt;String&gt;&gt;</code> (but then I don't know your use case). In any event, this returns a <code>List&lt;String&gt;</code> but more importantly it demonstrates the suggestion by <a href=\"https://stackoverflow.com/users/207421/user207421\">@user20742</a> to use a <code>Map&lt;String, Supplier&lt;Stream&lt;String&gt;&gt;&gt;</code> so that the Map can be repeatedly used, if required. Otherwise, the map would only survive one calling and the streams would be exhausted.</p>\n<pre><code>Map&lt;String, Supplier&lt;Stream&lt;String&gt;&gt;&gt; map = Map.of(&quot;A&quot;,\n        () -&gt; Stream.of(&quot;B&quot;, &quot;C&quot;, &quot; D &quot;,null), &quot;B&quot;,\n        () -&gt; Stream.of(&quot;kas&quot;, &quot;B&quot;, &quot;c &quot;, &quot;dddd&quot;));\n\nfor (int i = 0; i &lt; 3; i++) {\n    List&lt;String&gt; list = listN(map);\n    System.out.println(list);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>[B, C, D, Dddd, Kas]\n[B, C, D, Dddd, Kas]\n[B, C, D, Dddd, Kas]\n</code></pre>\n<p>With the original map, it would print once and then throw an <code>IllegalStateException</code> showing the streams have been used.</p>\n<p>The modified method below returns a list using the described map. Since the method doesn't appear to be using <code>instance fields</code> I have declared it <code>static</code>.\nExcept for some slight modifications, this uses the same constructs that are used in <a href=\"https://stackoverflow.com/a/76267187/1552534\">Bohemian's</a> answer. The main difference is the <code>.get()</code> call to retrieve the stream from the supplier.</p>\n<pre><code>public List&lt;String&gt; listN(Map&lt;String, Supplier&lt;Stream&lt;String&gt;&gt;&gt; map) {\n   return map.values().stream().flatMap(a -&gt; a.get())\n           .filter(str-&gt; str != null &amp;&amp; !str.isBlank())\n           .map(a -&gt; {\n               a = a.trim();\n               return a.substring(0, 1).toUpperCase() + a.substring(1);\n           }).distinct().sorted().toList();\n}\n</code></pre>\n"}],"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76267187,"answer_count":3,"score":0,"last_activity_date":1684325880,"creation_date":1684271617,"question_id":76267096,"body_markdown":"I have the map `Map&lt;String, Stream&lt;String&gt;&gt;`. I need to build sorted stream of all participants without duplication, ignore null or empty strings, trim extra spaces and modify each to [Title Case][1].\r\n\r\nFor example, for a given map:\r\n```\r\n{\r\n  &quot;A&quot;=[&quot;B&quot;, &quot;C&quot;, &quot; D  &quot;],\r\n  &quot;B&quot;=[&quot;kas&quot;, &quot;B&quot;, &quot;c &quot;, &quot;dddd&quot;]\r\n}\r\n```\r\n\r\nI should get:\r\n```\r\n[&quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;Dddd&quot;, &quot;Kas&quot;]\r\n````\r\n\r\nI need to create method like this:\r\n```\r\npublic Stream&lt;String&gt; listN(Map&lt;String, Stream&lt;String&gt;&gt; map) {\r\n    map.values().stream()... ?\r\n}\r\n```\r\nbut I don&#39;t even know how to start.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Title_case","title":"How to stream a map with a values Stream&lt;String&gt; using Stream API?","body":"<p>I have the map <code>Map&lt;String, Stream&lt;String&gt;&gt;</code>. I need to build sorted stream of all participants without duplication, ignore null or empty strings, trim extra spaces and modify each to <a href=\"https://en.wikipedia.org/wiki/Title_case\" rel=\"nofollow noreferrer\">Title Case</a>.</p>\n<p>For example, for a given map:</p>\n<pre><code>{\n  &quot;A&quot;=[&quot;B&quot;, &quot;C&quot;, &quot; D  &quot;],\n  &quot;B&quot;=[&quot;kas&quot;, &quot;B&quot;, &quot;c &quot;, &quot;dddd&quot;]\n}\n</code></pre>\n<p>I should get:</p>\n<pre><code>[&quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;Dddd&quot;, &quot;Kas&quot;]\n</code></pre>\n<p>I need to create method like this:</p>\n<pre><code>public Stream&lt;String&gt; listN(Map&lt;String, Stream&lt;String&gt;&gt; map) {\n    map.values().stream()... ?\n}\n</code></pre>\n<p>but I don't even know how to start.</p>\n"},{"tags":["java","azkaban"],"answers":[{"tags":[],"owner":{"account_id":94740,"reputation":1041,"user_id":258489,"display_name":"Felipe Oliveira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485819843,"creation_date":1485817044,"answer_id":41946899,"question_id":35903362,"body_markdown":"You can use the REST API:\r\n\r\n`curl -k -d flowOverride[alert.type]=my-alerter -d scheduleDate=01/30/2017 -d scheduleTime=03,44,pm,PDT -d is_recurring=off -d projectId=1 -d ajax=scheduleFlow -d projectName=myproject -d flow=myflow -b &quot;azkaban.browser.session.id=...&quot; http://localhost:8081/schedule`\r\n\r\nPlease notice the parameter\r\n\r\n`flowOverride[alert.type]=alerter-name`\r\n\r\nhttps://groups.google.com/forum/#!topic/azkaban-dev/pUYYpsmNsbk\r\n","title":"Azkaban flow parameters","body":"<p>You can use the REST API:</p>\n\n<p><code>curl -k -d flowOverride[alert.type]=my-alerter -d scheduleDate=01/30/2017 -d scheduleTime=03,44,pm,PDT -d is_recurring=off -d projectId=1 -d ajax=scheduleFlow -d projectName=myproject -d flow=myflow -b \"azkaban.browser.session.id=...\" http://localhost:8081/schedule</code></p>\n\n<p>Please notice the parameter</p>\n\n<p><code>flowOverride[alert.type]=alerter-name</code></p>\n\n<p><a href=\"https://groups.google.com/forum/#!topic/azkaban-dev/pUYYpsmNsbk\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!topic/azkaban-dev/pUYYpsmNsbk</a></p>\n"},{"tags":[],"owner":{"account_id":28616808,"reputation":1,"user_id":21910614,"display_name":"TIEND"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684325851,"creation_date":1684291312,"answer_id":76268247,"question_id":35903362,"body_markdown":"In my case, I modified the source code,\r\nmodule: `azkaban-common`, \r\nclass: `azkaban.server.HttpRequestUtils`\r\nafter line number 104, add this code: `flowParamGroup.put(&quot;alert.type&quot;, &quot;XXX&quot;);`","title":"Azkaban flow parameters","body":"<p>In my case, I modified the source code,\nmodule: <code>azkaban-common</code>,\nclass: <code>azkaban.server.HttpRequestUtils</code>\nafter line number 104, add this code: <code>flowParamGroup.put(&quot;alert.type&quot;, &quot;XXX&quot;);</code></p>\n"}],"owner":{"account_id":3069884,"reputation":5162,"user_id":2600815,"accept_rate":75,"display_name":"kddeisz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2058,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684325851,"creation_date":1457560307,"question_id":35903362,"body_markdown":"How do you set flow parameters for every job? I&#39;m trying to configure a custom alerter and I want every job to trigger it. It look like it&#39;s looking for a &quot;alert.type&quot; property from the flow parameters, but right now I can only manage to trigger that through the interface. Any ideas?","title":"Azkaban flow parameters","body":"<p>How do you set flow parameters for every job? I'm trying to configure a custom alerter and I want every job to trigger it. It look like it's looking for a \"alert.type\" property from the flow parameters, but right now I can only manage to trigger that through the interface. Any ideas?</p>\n"},{"tags":["java","maven","compiler-errors","apache-camel"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1684323858,"post_id":76271699,"comment_id":134500936,"body_markdown":"The error message tells you that the Camel API classes have been compiled to target Java 11 (i.e. they require at least Java 11 to run), but you are trying to run your compilation on Java 8 ([see here](https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers) for the version mapping). Your best bet is to find a version of that dependency that still works on Java 8 if it exists. Recompiling is unlikely to work, as libraries tend to not switch to higher Java versions without good reasons.","body":"The error message tells you that the Camel API classes have been compiled to target Java 11 (i.e. they require at least Java 11 to run), but you are trying to run your compilation on Java 8 (<a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">see here</a> for the version mapping). Your best bet is to find a version of that dependency that still works on Java 8 if it exists. Recompiling is unlikely to work, as libraries tend to not switch to higher Java versions without good reasons."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1684323941,"post_id":76271699,"comment_id":134500958,"body_markdown":"[According to this](https://camel.apache.org/manual/what-are-the-dependencies.html) Camel started requiring Java 11 with 3.15.0, so any earlier version should work in Java 8.","body":"<a href=\"https://camel.apache.org/manual/what-are-the-dependencies.html\" rel=\"nofollow noreferrer\">According to this</a> Camel started requiring Java 11 with 3.15.0, so any earlier version should work in Java 8."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684335388,"post_id":76271699,"comment_id":134503882,"body_markdown":"In addition to previous comments Maven doesn&#39;t recompile dependencies.","body":"In addition to previous comments Maven doesn&#39;t recompile dependencies."}],"owner":{"account_id":23626324,"reputation":1,"user_id":17658799,"display_name":"Pranshu Chakraborty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684325687,"creation_date":1684323596,"question_id":76271699,"body_markdown":"I&#39;ve below error :\r\n\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project camelActiveMqReceiver: Compilation failure\r\n[ERROR] /Users/pranscha/Projects/REPRODUCIBLES/camelActiveMqReceiver/src/main/java/com/camelmicroservices/camelActiveMqReceiver/routes/CamelReceiverRouter.java:[3,24] cannot access org.apache.camel.Exchange\r\n[ERROR]   bad class file: /Users/pranscha/.m2/repository/org/apache/camel/camel-api/3.20.4/camel-api-3.20.4.jar(org/apache/camel/Exchange.class)\r\n[ERROR]     class file has wrong version 55.0, should be 52.0\r\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n```\r\n\r\nEven after adding :\r\n\r\n\r\n```\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\nThe failing dependency is :\r\n\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n\r\nI was expecting org/apache/camel/Exchange.class Java class to work properly in my project with 1.8 version compilation, but even after adding maven.compiler.source &amp; maven.compiler.target, it isn&#39;t working.","title":"How to recompile a maven dependency in required java version?","body":"<p>I've below error :</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project camelActiveMqReceiver: Compilation failure\n[ERROR] /Users/pranscha/Projects/REPRODUCIBLES/camelActiveMqReceiver/src/main/java/com/camelmicroservices/camelActiveMqReceiver/routes/CamelReceiverRouter.java:[3,24] cannot access org.apache.camel.Exchange\n[ERROR]   bad class file: /Users/pranscha/.m2/repository/org/apache/camel/camel-api/3.20.4/camel-api-3.20.4.jar(org/apache/camel/Exchange.class)\n[ERROR]     class file has wrong version 55.0, should be 52.0\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath.\n</code></pre>\n<p>Even after adding :</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>The failing dependency is :</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I was expecting org/apache/camel/Exchange.class Java class to work properly in my project with 1.8 version compilation, but even after adding maven.compiler.source &amp; maven.compiler.target, it isn't working.</p>\n"},{"tags":["java","dxf","kabeja"],"owner":{"account_id":17356164,"reputation":35,"user_id":12573496,"display_name":"Jhon Fagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684325506,"creation_date":1684267970,"question_id":76266749,"body_markdown":"wrote a simple code using the Kabeja library. The code reads an existing dxf file, creates text and adds it to a new layer, the real question is how to save changes to dxf?\r\n\r\n```\r\npublic class DXFLayerTest {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) throws IOException, ParseException {\r\n        // TODO code application logic here\r\n\r\n        File file = new File(&quot;D:\\\\11.016571.DXF&quot;);\r\n        File out = new File(&quot;D:\\\\11.016571ADDL.DXF&quot;);\r\n\r\n        try ( FileInputStream inputStream = new FileInputStream(file)) {\r\n            Parser parser = ParserBuilder.createDefaultParser();\r\n            parser.parse(inputStream, &quot;UTF-8&quot;);\r\n            DXFDocument document = parser.getDocument();\r\n\r\n            DXFText text = new DXFText();\r\n            text.setText(&quot;SOME-PART-ID&quot;);\r\n\r\n            text.setHeight(5.0); \r\n            text.setRotation(0); \r\n\r\n            DXFLayer layer = new DXFLayer();\r\n            layer.setName(&quot;engraving&quot;);\r\n            layer.setColor(0xC3C3C3); \r\n\r\n            layer.addDXFEntity(text);\r\n\r\n            document.addDXFLayer(layer);\r\n            document.addDXFEntity(text);\r\n\r\n\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n**UPDATE**\r\n\r\nFound example\r\n\r\n            import org.kabeja.dxf.DXFWriter;\r\n    ...\r\n            DXFWriter writer = new DXFWriter();\r\n            File file = new File(&quot;output.dxf&quot;);\r\n            FileOutputStream fos = new FileOutputStream(file);\r\n            writer.write(document, fos);\r\n\r\nbut there is no DXFWriter in the library Kabeja 0.4\r\n\r\nThe output is expected to be a new dxf file containing the added entities","title":"Kabeja 0.4 How to save changes?","body":"<p>wrote a simple code using the Kabeja library. The code reads an existing dxf file, creates text and adds it to a new layer, the real question is how to save changes to dxf?</p>\n<pre><code>public class DXFLayerTest {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) throws IOException, ParseException {\n        // TODO code application logic here\n\n        File file = new File(&quot;D:\\\\11.016571.DXF&quot;);\n        File out = new File(&quot;D:\\\\11.016571ADDL.DXF&quot;);\n\n        try ( FileInputStream inputStream = new FileInputStream(file)) {\n            Parser parser = ParserBuilder.createDefaultParser();\n            parser.parse(inputStream, &quot;UTF-8&quot;);\n            DXFDocument document = parser.getDocument();\n\n            DXFText text = new DXFText();\n            text.setText(&quot;SOME-PART-ID&quot;);\n\n            text.setHeight(5.0); \n            text.setRotation(0); \n\n            DXFLayer layer = new DXFLayer();\n            layer.setName(&quot;engraving&quot;);\n            layer.setColor(0xC3C3C3); \n\n            layer.addDXFEntity(text);\n\n            document.addDXFLayer(layer);\n            document.addDXFEntity(text);\n\n\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>Found example</p>\n<pre><code>        import org.kabeja.dxf.DXFWriter;\n...\n        DXFWriter writer = new DXFWriter();\n        File file = new File(&quot;output.dxf&quot;);\n        FileOutputStream fos = new FileOutputStream(file);\n        writer.write(document, fos);\n</code></pre>\n<p>but there is no DXFWriter in the library Kabeja 0.4</p>\n<p>The output is expected to be a new dxf file containing the added entities</p>\n"},{"tags":["java","spring-boot","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1609397410,"creation_date":1609397410,"answer_id":65517586,"question_id":65517550,"body_markdown":"In your `@Mapping` annotation, you are telling mapstruct to use the field &quot;status&quot; as the source for the mapping. But the methods take `NoticeBoard` and `NoticeBoardDto` as parameters. You need to change the parameter type to whatever your `status` is. Assuming it is string:\r\n\r\n    @Named(&quot;getNoticeBoardStatusName&quot;)\r\n    default String getNoticeBoardStatusNameConverter(String status) {\r\n        return Objects.requireNonNull(NoticeBoardStatus.findByName(status)).name();\r\n    }\r\n\r\nAlso, don&#39;t use static methods in mappers, use the `default` keyword instead.","title":"No method found annotated with @Named#value","body":"<p>In your <code>@Mapping</code> annotation, you are telling mapstruct to use the field &quot;status&quot; as the source for the mapping. But the methods take <code>NoticeBoard</code> and <code>NoticeBoardDto</code> as parameters. You need to change the parameter type to whatever your <code>status</code> is. Assuming it is string:</p>\n<pre><code>@Named(&quot;getNoticeBoardStatusName&quot;)\ndefault String getNoticeBoardStatusNameConverter(String status) {\n    return Objects.requireNonNull(NoticeBoardStatus.findByName(status)).name();\n}\n</code></pre>\n<p>Also, don't use static methods in mappers, use the <code>default</code> keyword instead.</p>\n"},{"tags":[],"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684325486,"creation_date":1684325486,"answer_id":76271962,"question_id":65517550,"body_markdown":"In my case, if you doesn&#39;t match the `@Context` variable type in your method, you will get the same error.","title":"No method found annotated with @Named#value","body":"<p>In my case, if you doesn't match the <code>@Context</code> variable type in your method, you will get the same error.</p>\n"}],"owner":{"account_id":5716701,"reputation":419,"user_id":14152014,"display_name":"laban_luka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23315,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":65517586,"answer_count":2,"score":11,"last_activity_date":1684325486,"creation_date":1609397184,"question_id":65517550,"body_markdown":"I&#39;m having trouble using MapStruct version 1.4.1 when I&#39;m trying to implement my own mapping. This is code that I wrote:\r\n\r\n    package com.kucazdravlja.user.mappers;\r\n    \r\n    import com.kucazdravlja.user.dto.NoticeBoardDto;\r\n    import com.kucazdravlja.user.entities.NoticeBoard;\r\n    import com.kucazdravlja.user.entities.NoticeBoardStatus;\r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.Mapping;\r\n    import org.mapstruct.Named;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    @Mapper(uses = {BaseJournalMapper.class})\r\n    public interface NoticeBoardMapper {\r\n    \r\n        @Mapping(source = &quot;status&quot;, target = &quot;status&quot;, qualifiedByName = &quot;getNoticeBoardStatusName&quot;)\r\n        NoticeBoard dtoToEntity(NoticeBoardDto noticeBoardDto);\r\n    \r\n        @Mapping(source = &quot;status&quot;, target = &quot;status&quot;, qualifiedByName = &quot;getNoticeBoardStatusDescription&quot;)\r\n        NoticeBoardDto entityToDto(NoticeBoard noticeBoard);\r\n    \r\n        @Named(&quot;getNoticeBoardStatusDescription&quot;)\r\n        static String getNoticeBoardStatusDescriptionConverter(NoticeBoard noticeBoard) {\r\n            return Objects.requireNonNull(NoticeBoardStatus.findByName(noticeBoard.getStatus())).getDescription();\r\n        }\r\n    \r\n        @Named(&quot;getNoticeBoardStatusName&quot;)\r\n        static String getNoticeBoardStatusNameConverter(NoticeBoardDto noticeBoardDto) {\r\n            return Objects.requireNonNull(NoticeBoardStatus.findByName(noticeBoardDto.getStatus())).name();\r\n        }\r\n    }\r\n\r\nWhen running application it crashes and gives error\r\n\r\n    Error:(15, 5) java: Qualifier error. No method found annotated with @Named#value: [ getNoticeBoardStatusName ].\r\n\r\nNot sure what is the problem because I have that method with that name.","title":"No method found annotated with @Named#value","body":"<p>I'm having trouble using MapStruct version 1.4.1 when I'm trying to implement my own mapping. This is code that I wrote:</p>\n<pre><code>package com.kucazdravlja.user.mappers;\n\nimport com.kucazdravlja.user.dto.NoticeBoardDto;\nimport com.kucazdravlja.user.entities.NoticeBoard;\nimport com.kucazdravlja.user.entities.NoticeBoardStatus;\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.mapstruct.Named;\n\nimport java.util.Objects;\n\n@Mapper(uses = {BaseJournalMapper.class})\npublic interface NoticeBoardMapper {\n\n    @Mapping(source = &quot;status&quot;, target = &quot;status&quot;, qualifiedByName = &quot;getNoticeBoardStatusName&quot;)\n    NoticeBoard dtoToEntity(NoticeBoardDto noticeBoardDto);\n\n    @Mapping(source = &quot;status&quot;, target = &quot;status&quot;, qualifiedByName = &quot;getNoticeBoardStatusDescription&quot;)\n    NoticeBoardDto entityToDto(NoticeBoard noticeBoard);\n\n    @Named(&quot;getNoticeBoardStatusDescription&quot;)\n    static String getNoticeBoardStatusDescriptionConverter(NoticeBoard noticeBoard) {\n        return Objects.requireNonNull(NoticeBoardStatus.findByName(noticeBoard.getStatus())).getDescription();\n    }\n\n    @Named(&quot;getNoticeBoardStatusName&quot;)\n    static String getNoticeBoardStatusNameConverter(NoticeBoardDto noticeBoardDto) {\n        return Objects.requireNonNull(NoticeBoardStatus.findByName(noticeBoardDto.getStatus())).name();\n    }\n}\n</code></pre>\n<p>When running application it crashes and gives error</p>\n<pre><code>Error:(15, 5) java: Qualifier error. No method found annotated with @Named#value: [ getNoticeBoardStatusName ].\n</code></pre>\n<p>Not sure what is the problem because I have that method with that name.</p>\n"},{"tags":["java","optimization","lambda"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1683699271,"post_id":76215303,"comment_id":134404548,"body_markdown":"This might also come in handy (especially the accepted answer): https://stackoverflow.com/questions/53892875/java-lambda-expressions-and-memory-allocation","body":"This might also come in handy (especially the accepted answer): <a href=\"https://stackoverflow.com/questions/53892875/java-lambda-expressions-and-memory-allocation\" title=\"java lambda expressions and memory allocation\">stackoverflow.com/questions/53892875/&hellip;</a>"}],"owner":{"account_id":22562352,"reputation":35,"user_id":16749841,"display_name":"Alex Cai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683699065,"answer_count":0,"score":0,"last_activity_date":1684325051,"creation_date":1683698421,"question_id":76215303,"body_markdown":"I know that lambdas are instances of interfaces that have only 1 abstract method. But doesn&#39;t that mean, every time there is a lambda expression, it also mean there is actually a `new` keyword there?\r\n```java\r\nRunnable r1 = new Runnable()\r\n{\r\n  @Override\r\n  public void run()\r\n  {\r\n    System.out.println(&quot;Hello World!&quot;);\r\n  }\r\n};\r\n// equals to\r\nRunnable r2 = () -&gt; System.out.println(&quot;Hello World!&quot;);\r\n// lambda equals to a new keyword\r\n```\r\nI want to know if it is a better practice to store a lambda to a variable in order to prevent unnessary creation of an object and garbage collection.\r\nFor example, if I have a method that will turn a `List&lt;Object&gt;` to a `List&lt;String&gt;`:\r\n```java\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Helper\r\n{\r\n  public static List&lt;String&gt; objectListToStringList(List&lt;Object&gt; objects)\r\n  {\r\n    return objects.stream()\r\n      .map(o -&gt; o.toString())\r\n      .collect(Collectors.toList());\r\n  }\r\n}\r\n```\r\nIs it better to store the `o -&gt; o.toString()` lambda to a variable in order to avoid the creation of a `Function` object when everytime this method was called?\r\n```java\r\nimport java.util.List;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Helper\r\n{\r\n  private static final Function&lt;Object, String&gt; mapToString = o -&gt; o.toString();\r\n\r\n  public static List&lt;String&gt; objectListToStringList(List&lt;Object&gt; objects)\r\n  {\r\n    return objects.stream()\r\n      .map(mapToString)\r\n      .collect(Collectors.toList());\r\n  }\r\n}\r\n```","title":"Is it a better practice to store a lambda expression to a variable?","body":"<p>I know that lambdas are instances of interfaces that have only 1 abstract method. But doesn't that mean, every time there is a lambda expression, it also mean there is actually a <code>new</code> keyword there?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runnable r1 = new Runnable()\n{\n  @Override\n  public void run()\n  {\n    System.out.println(&quot;Hello World!&quot;);\n  }\n};\n// equals to\nRunnable r2 = () -&gt; System.out.println(&quot;Hello World!&quot;);\n// lambda equals to a new keyword\n</code></pre>\n<p>I want to know if it is a better practice to store a lambda to a variable in order to prevent unnessary creation of an object and garbage collection.\nFor example, if I have a method that will turn a <code>List&lt;Object&gt;</code> to a <code>List&lt;String&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Helper\n{\n  public static List&lt;String&gt; objectListToStringList(List&lt;Object&gt; objects)\n  {\n    return objects.stream()\n      .map(o -&gt; o.toString())\n      .collect(Collectors.toList());\n  }\n}\n</code></pre>\n<p>Is it better to store the <code>o -&gt; o.toString()</code> lambda to a variable in order to avoid the creation of a <code>Function</code> object when everytime this method was called?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\npublic class Helper\n{\n  private static final Function&lt;Object, String&gt; mapToString = o -&gt; o.toString();\n\n  public static List&lt;String&gt; objectListToStringList(List&lt;Object&gt; objects)\n  {\n    return objects.stream()\n      .map(mapToString)\n      .collect(Collectors.toList());\n  }\n}\n</code></pre>\n"},{"tags":["java","gradle","keystore","keytool"],"owner":{"account_id":16816990,"reputation":29,"user_id":12158562,"display_name":"Serena Campbell UK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684324805,"creation_date":1684324805,"question_id":76271856,"body_markdown":"I have added my self-certificate *.pem to the cacerts in my security folder. \r\nThis has been confirmed with keytool. \r\nI can open the cacerts using the standard password &quot;changeit&quot; \r\nI added the following code to my gradle.properties file:\r\n\r\n    org.gradle.jvmargs=-Xmx4g -Dfile.encoding=UTF-8 -Djavax.net.ssl.trustStore=/Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home/lib/security/cacerts -Djavax.net.ssl.trustStorePassword=changeit\r\n\r\nhowever, when I go to build my gradle project both in terminal and in intelliJ, I get the error:\r\n\r\n    org.apache.http.ssl.SSLInitializationException: Keystore was tampered with, or password was incorrect\r\n\r\nThe password works in terminal when using keytool so confused as to why I am getting this error. Any help is appreciated.\r\n\r\nBackground: reason for doing all this is I am building a project behind my firms security.  \r\n\r\n\r\n","title":"Gradle IntelliJ project: Using self-signed certificate MAC - Password Error","body":"<p>I have added my self-certificate *.pem to the cacerts in my security folder.\nThis has been confirmed with keytool.\nI can open the cacerts using the standard password &quot;changeit&quot;\nI added the following code to my gradle.properties file:</p>\n<pre><code>org.gradle.jvmargs=-Xmx4g -Dfile.encoding=UTF-8 -Djavax.net.ssl.trustStore=/Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home/lib/security/cacerts -Djavax.net.ssl.trustStorePassword=changeit\n</code></pre>\n<p>however, when I go to build my gradle project both in terminal and in intelliJ, I get the error:</p>\n<pre><code>org.apache.http.ssl.SSLInitializationException: Keystore was tampered with, or password was incorrect\n</code></pre>\n<p>The password works in terminal when using keytool so confused as to why I am getting this error. Any help is appreciated.</p>\n<p>Background: reason for doing all this is I am building a project behind my firms security.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12687472,"reputation":1209,"user_id":9218757,"display_name":"Dang Nguyen"},"score":0,"creation_date":1553744277,"post_id":55389773,"comment_id":97500942,"body_markdown":"Why you need to delete all, just create a new list with the last element is enough","body":"Why you need to delete all, just create a new list with the last element is enough"},{"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"score":0,"creation_date":1553744368,"post_id":55389773,"comment_id":97500966,"body_markdown":"Do take note that `.remove(...)` in a `for` loop is not correct. Please see: https://stackoverflow.com/questions/17279519/removing-items-from-a-list","body":"Do take note that <code>.remove(...)</code> in a <code>for</code> loop is not correct. Please see: <a href=\"https://stackoverflow.com/questions/17279519/removing-items-from-a-list\" title=\"removing items from a list\">stackoverflow.com/questions/17279519/removing-items-from-a-l&zwnj;&#8203;ist</a>"},{"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"score":0,"creation_date":1553744568,"post_id":55389773,"comment_id":97501000,"body_markdown":"Also, you cannot return a value from a `void` method. Given that this question is probably homework, I&#39;m assuming the point is to modify the `list` that was provided in the parameter, so creating a new `List&lt;String&gt;` is likely incorrect.","body":"Also, you cannot return a value from a <code>void</code> method. Given that this question is probably homework, I&#39;m assuming the point is to modify the <code>list</code> that was provided in the parameter, so creating a new <code>List&lt;String&gt;</code> is likely incorrect."}],"answers":[{"tags":[],"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553744481,"creation_date":1553744481,"answer_id":55389827,"question_id":55389773,"body_markdown":"Pseudo code:\r\n\r\n    while (list.length() &gt; 1)\r\n    {\r\n        list.removeElementAt(0);\r\n    }\r\n\r\n","title":"Deletes all but the last element from a given list in java collections","body":"<p>Pseudo code:</p>\n\n<pre><code>while (list.length() &gt; 1)\n{\n    list.removeElementAt(0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5870718,"reputation":3152,"user_id":4623129,"display_name":"Khalid Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553747510,"creation_date":1553745596,"answer_id":55389954,"question_id":55389773,"body_markdown":"Change the `return` type `void` to `List&lt;String&gt;`\r\n\r\n    public static List&lt;String&gt; allButLast(List&lt;String&gt; list)\r\n    {\r\n       List&lt;String&gt; set = new ArrayList&lt;String&gt;();\r\n       String last=set.remove(set.size() - 1);\r\n       set.clear();\r\n       set.add(last);\r\n       return set;\r\n    }\r\n\r\nOr\r\n\r\n    public static List&lt;String&gt; allButLast(List&lt;String&gt; list)\r\n    {\r\n       List&lt;String&gt; set = new ArrayList&lt;String&gt;();\r\n       set.subList(0, set.size() - 1).clear();\r\n       return set;\r\n    }\r\n","title":"Deletes all but the last element from a given list in java collections","body":"<p>Change the <code>return</code> type <code>void</code> to <code>List&lt;String&gt;</code></p>\n\n<pre><code>public static List&lt;String&gt; allButLast(List&lt;String&gt; list)\n{\n   List&lt;String&gt; set = new ArrayList&lt;String&gt;();\n   String last=set.remove(set.size() - 1);\n   set.clear();\n   set.add(last);\n   return set;\n}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>public static List&lt;String&gt; allButLast(List&lt;String&gt; list)\n{\n   List&lt;String&gt; set = new ArrayList&lt;String&gt;();\n   set.subList(0, set.size() - 1).clear();\n   return set;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28619903,"reputation":1,"user_id":21913152,"display_name":"Orlando Ruzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684323879,"creation_date":1684323879,"answer_id":76271735,"question_id":55389773,"body_markdown":"Only create a new list with the last element\r\n```\r\npublic static List&lt;String&gt; allButLast(List&lt;String&gt; list) {\r\n    List&lt;String&gt; set = new ArrayList&lt;String&gt;();\r\n    set.add(list.get(list.size()-1))\r\n    return set;\r\n}\r\n```","title":"Deletes all but the last element from a given list in java collections","body":"<p>Only create a new list with the last element</p>\n<pre><code>public static List&lt;String&gt; allButLast(List&lt;String&gt; list) {\n    List&lt;String&gt; set = new ArrayList&lt;String&gt;();\n    set.add(list.get(list.size()-1))\n    return set;\n}\n</code></pre>\n"}],"owner":{"account_id":15392852,"reputation":1,"user_id":11109973,"display_name":"batter6000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1206,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1684323879,"creation_date":1553744034,"question_id":55389773,"body_markdown":"Implement a method below which deletes all but the last element from a given list.\r\n\r\n```import java.util.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\npublic class MyClass {\r\npublic static void allButLast(List&lt;String&gt; list)\r\n{\r\n   List&lt;String&gt; set = new ArrayList&lt;String&gt;();\r\n   for (int k : list)\r\n   {\r\n      set.remove(0, -2);\r\n   }\r\n   return set;\r\n}\r\n```\r\n\r\nI just started programming and this is a practice question and I was wondering if this type of solution would make sense. I started from the first array block(0) and it stops at the the array block before the last element(-2) and removes it, only keeping the last element and returning it at the end.","title":"Deletes all but the last element from a given list in java collections","body":"<p>Implement a method below which deletes all but the last element from a given list.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\npublic class MyClass {\npublic static void allButLast(List&lt;String&gt; list)\n{\n   List&lt;String&gt; set = new ArrayList&lt;String&gt;();\n   for (int k : list)\n   {\n      set.remove(0, -2);\n   }\n   return set;\n}\n</code></pre>\n\n<p>I just started programming and this is a practice question and I was wondering if this type of solution would make sense. I started from the first array block(0) and it stops at the the array block before the last element(-2) and removes it, only keeping the last element and returning it at the end.</p>\n"},{"tags":["java","unit-testing","maven"],"answers":[{"tags":[],"owner":{"account_id":245428,"reputation":503,"user_id":518912,"accept_rate":90,"display_name":"Ozyman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1466497995,"creation_date":1322126929,"answer_id":8254756,"question_id":8254700,"body_markdown":"`-DskipTests` usually works. For instance, `mvn install -DskipTests`.\r\n\r\nIf you need to tell maven strictly to ignore - use `-Dmaven.test.skip=true`. This will force all the plugins and compiler to ignore the tests\r\n\r\nEdited: Looks like `-DskipTests=true` also works!","title":"maven skip tests with compilation errors","body":"<p><code>-DskipTests</code> usually works. For instance, <code>mvn install -DskipTests</code>.</p>\n\n<p>If you need to tell maven strictly to ignore - use <code>-Dmaven.test.skip=true</code>. This will force all the plugins and compiler to ignore the tests</p>\n\n<p>Edited: Looks like <code>-DskipTests=true</code> also works!</p>\n"},{"tags":[],"owner":{"account_id":1060224,"reputation":4167,"user_id":1062015,"accept_rate":81,"display_name":"Jaco Van Niekerk"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1322126931,"creation_date":1322126931,"answer_id":8254757,"question_id":8254700,"body_markdown":"Not recommended...\r\n\r\n    mvn -DskipTests=true clean compile\r\n\r\nRemember, with great power comes great responsibility.","title":"maven skip tests with compilation errors","body":"<p>Not recommended...</p>\n\n<pre><code>mvn -DskipTests=true clean compile\n</code></pre>\n\n<p>Remember, with great power comes great responsibility.</p>\n"},{"tags":[],"owner":{"account_id":960817,"reputation":2150,"user_id":985210,"display_name":"orien"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1322129867,"creation_date":1322128578,"answer_id":8255122,"question_id":8254700,"body_markdown":"The `maven-compiler-plugin` is responsible for compiling your tests during the `test-compile` phase. This plugin is configured to fail the build if any test classes fail to compile. You could experiment with the `failOnError` configuration. But I doubt you&#39;ll get the results you expect. The compilation process stops immediately when it encounters a compilation error. So potentially issue free classes may not have been re-compiled. Therefore there will be no guarantee the `.class` files you execute during the `test` phase will be &#39;up to date&#39; with the corresponding `.java` source files.\r\n\r\n\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;default-testCompile&lt;/id&gt;\r\n            &lt;phase&gt;test-compile&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;testCompile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;failOnError&gt;false&lt;/failOnError&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;","title":"maven skip tests with compilation errors","body":"<p>The <code>maven-compiler-plugin</code> is responsible for compiling your tests during the <code>test-compile</code> phase. This plugin is configured to fail the build if any test classes fail to compile. You could experiment with the <code>failOnError</code> configuration. But I doubt you'll get the results you expect. The compilation process stops immediately when it encounters a compilation error. So potentially issue free classes may not have been re-compiled. Therefore there will be no guarantee the <code>.class</code> files you execute during the <code>test</code> phase will be 'up to date' with the corresponding <code>.java</code> source files.</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;default-testCompile&lt;/id&gt;\n        &lt;phase&gt;test-compile&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;testCompile&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;failOnError&gt;false&lt;/failOnError&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1834577,"reputation":61,"user_id":1665207,"accept_rate":0,"display_name":"user1665207"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466497959,"creation_date":1404110459,"answer_id":24484261,"question_id":8254700,"body_markdown":"use the following command to skip the entire test source folder. Through there are compilation errors in the test classes maven wont consider those, if you use the following command.\r\n\r\n    mvn clean install -Dmaven.test.skip=true","title":"maven skip tests with compilation errors","body":"<p>use the following command to skip the entire test source folder. Through there are compilation errors in the test classes maven wont consider those, if you use the following command.</p>\n\n<pre><code>mvn clean install -Dmaven.test.skip=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4094017,"reputation":355,"user_id":3361311,"display_name":"Rashid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684323806,"creation_date":1684323806,"answer_id":76271723,"question_id":8254700,"body_markdown":"The best way to use command line `mvn install -Dmaven.test.skip=true`.\r\n\r\nReference: [Maven skipping test][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins-archives/maven-surefire-plugin-2.12.4/examples/skipping-test.html","title":"maven skip tests with compilation errors","body":"<p>The best way to use command line <code>mvn install -Dmaven.test.skip=true</code>.</p>\n<p>Reference: <a href=\"https://maven.apache.org/plugins-archives/maven-surefire-plugin-2.12.4/examples/skipping-test.html\" rel=\"nofollow noreferrer\">Maven skipping test</a></p>\n"}],"owner":{"account_id":216114,"reputation":14272,"user_id":471149,"accept_rate":64,"display_name":"michael nesterenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9181,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":8255122,"answer_count":5,"score":7,"last_activity_date":1684323806,"creation_date":1322126666,"question_id":8254700,"body_markdown":"Are there an option to skip tests with compilation errors? Just ignore them or treat them as failed?","title":"maven skip tests with compilation errors","body":"<p>Are there an option to skip tests with compilation errors? Just ignore them or treat them as failed?</p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1684291774,"post_id":76268252,"comment_id":134495482,"body_markdown":"Don&#39;t know if it would cause the error but you use &quot;OWNER&quot; twice with the getString(...) method.","body":"Don&#39;t know if it would cause the error but you use &quot;OWNER&quot; twice with the getString(...) method."},{"owner":{"account_id":23351413,"reputation":40,"user_id":17424919,"display_name":"great-jin"},"score":0,"creation_date":1684293954,"post_id":76268252,"comment_id":134495623,"body_markdown":"@camickr table &quot;ALL_OBJECTS &quot; query result have cloumn &quot;OWNER&quot;, it work for my anther oracle database, only this one will throw the exception.","body":"@camickr table &quot;ALL_OBJECTS &quot; query result have cloumn &quot;OWNER&quot;, it work for my anther oracle database, only this one will throw the exception."},{"owner":{"account_id":23351413,"reputation":40,"user_id":17424919,"display_name":"great-jin"},"score":0,"creation_date":1684294621,"post_id":76268252,"comment_id":134495692,"body_markdown":"@Hulk before the stack it also have the log info from the method caller, the demo that I provide is extract from my application, and I am pretty sure the exception is from there.","body":"@Hulk before the stack it also have the log info from the method caller, the demo that I provide is extract from my application, and I am pretty sure the exception is from there."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684294770,"post_id":76268252,"comment_id":134495711,"body_markdown":"@camickr - The exception is in the `next` call itself.   Hulk - that looks like the full exception to me.","body":"@camickr - The exception is in the <code>next</code> call itself.   Hulk - that looks like the full exception to me."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1684295318,"post_id":76268252,"comment_id":134495765,"body_markdown":"This looks rather like https://stackoverflow.com/questions/43265593.  The diagnosis (from an SO user who is an Oracle engineer) was &quot;bug in Oracle&#39;s driver&quot;.  I suggest asking on Oracle&#39;s DB forums (which I can&#39;t access) or raising an Oracle support request / bug report.","body":"This looks rather like <a href=\"https://stackoverflow.com/questions/43265593\">stackoverflow.com/questions/43265593</a>.  The diagnosis (from an SO user who is an Oracle engineer) was &quot;bug in Oracle&#39;s driver&quot;.  I suggest asking on Oracle&#39;s DB forums (which I can&#39;t access) or raising an Oracle support request / bug report."},{"owner":{"account_id":23351413,"reputation":40,"user_id":17424919,"display_name":"great-jin"},"score":0,"creation_date":1684306236,"post_id":76268252,"comment_id":134497097,"body_markdown":"@StephenC I see the link you post and try it but doesn&#39;t work for me, I will go to Oracle&#39;s forums to see what I can find, thanks.","body":"@StephenC I see the link you post and try it but doesn&#39;t work for me, I will go to Oracle&#39;s forums to see what I can find, thanks."}],"owner":{"account_id":23351413,"reputation":40,"user_id":17424919,"display_name":"great-jin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684323781,"creation_date":1684291413,"question_id":76268252,"body_markdown":"I am trying to through the oracle metadata table &quot;ALL_OBJECTS&quot; to query table info in my application, but everytime execute to `&quot;rs.next()&quot;` it throw the `AarrayIndexoutofBoundsException`, and I am pretty sure my code don&#39;t have that kind issue, it stuck me long for long time.\r\n\r\nThe oracle version is `&quot;11.2&quot;` and spring boot version is `&quot;2.3.12&quot;`. \r\n\r\nI try a lot of ojdbc driver like: `&quot;ojdbc8-12.2.0.1.jar&quot;`, `&quot;ojdbc6-11.2.0.3.jar&quot;` and `&quot;ojdbc8-19&quot;` etc . also try to set Statement `&quot;setFetchSize()&quot;` but it doesn&#39;t work.\r\n\r\nHere is my code:\r\n```java\r\npublic void demo() {\r\n        List&lt;Map&lt;String, String&gt;&gt; resultList = new ArrayList&lt;&gt;();\r\n        String sql = &quot;SELECT * FROM ALL_OBJECTS O WHERE O.OWNER = &#39;LINEWELL&#39; AND O.OBJECT_TYPE IN (&#39;TABLE&#39;, &#39;VIEW&#39;)&quot;;\r\n        BasicDataSource datasource; // initial datasource\r\n        try (\r\n                Connection con = datasource.getConnection();\r\n                Statement stmt = con.createStatement();\r\n                ResultSet rs = stmt.executeQuery(sql)\r\n        ) {\r\n            while (rs.next()) {\r\n                Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n                map.put(&quot;TableCatalog&quot;, rs.getString(&quot;OWNER&quot;));\r\n                map.put(&quot;TableSchema&quot;, rs.getString(&quot;OWNER&quot;));\r\n                map.put(&quot;TableName&quot;, rs.getString(&quot;OBJECT_NAME&quot;));\r\n                map.put(&quot;TableType&quot;, rs.getString(&quot;OBJECT_TYPE&quot;));\r\n                map.put(&quot;LastModifyTime&quot;, rs.getString(&quot;LAST_DDL_TIME&quot;));\r\n                resultList.add(map);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(resultList.size());\r\n    }\r\n```\r\n\r\nHere is full stack infomation, The &quot;MyTest.java:88&quot; refer to &quot;new HashMap&lt;&gt;()&quot;.\r\n```txt\r\nCaused by:java.lang.ArrayIndexoutofBoundsException:3\r\n    at oracle.jdbc.driver.T4CTTIrxdsBitset.set (T4CTTIExd.java:1593)\r\n    at oracle.jdbe.driver.T4CTTIrxd.readBitVector (T4CTTIrxd.java:135)\r\n    at oracle.jdbe.driver.T4C8TTIrxh.unmazshalVl0 (T4C8TTIrxh.java:133)\r\n    at oracle.jdbe.driver.T4C80all.readRX(4C80all.java:693)\r\n    at oracle.jdbe.driver.T4CTTIfun.receive (T4CTTIfun.java:529)\r\n    at oracle.jdbe.driver.T4CTTIfun.doRPC (T4CTTIfun.java:252)\r\n    at oracle.jdbe.driver.T4C80all.doOALL (T4C80all.java:612)\r\n    at oracle.jdbe.driver.T4CStatement.dooal18 (T4CStatement.java:213)\r\n    at oracle.jdbc.driver.T4CStatement.fetch (T4CStatement.java:1009)\r\n    at oracle.jdbc.driver.Oraclestatement.fetchMozeRovs (OracleStatement.java:3353)\r\n    at oracie.jdbc.driver.InsensitivescrollableResultset.fetchMoreRows (InsensitiveScrollableResuleset.java:736)\r\n    at oracle.jdbc.driver.InsensicivescrollableResultset.absoluteInternal (InsensitivescrollableResultset.java:692)\r\n    at oracle.jdbc.driver.InsensitivesczollableResultset.next (InsensitiveScrollableResultset.java:406)\r\n    at org.apache.commons.dbep2.DelegatingResulcset.next (DelegatingResultsec.dava:1160)\r\n    at org.apache.commons.dbcp2.DelegatingResultset.next (DelegatingResultset.java:1160)\r\n    at com.example.MyTest.demo(MyTest.java88）\r\n```","title":"Oracle jdbc execute throw &quot;AarrayIndexoutofBoundsException at oracle.jdbc.driver.T4CITIrxdsBitset.set&quot;","body":"<p>I am trying to through the oracle metadata table &quot;ALL_OBJECTS&quot; to query table info in my application, but everytime execute to <code>&quot;rs.next()&quot;</code> it throw the <code>AarrayIndexoutofBoundsException</code>, and I am pretty sure my code don't have that kind issue, it stuck me long for long time.</p>\n<p>The oracle version is <code>&quot;11.2&quot;</code> and spring boot version is <code>&quot;2.3.12&quot;</code>.</p>\n<p>I try a lot of ojdbc driver like: <code>&quot;ojdbc8-12.2.0.1.jar&quot;</code>, <code>&quot;ojdbc6-11.2.0.3.jar&quot;</code> and <code>&quot;ojdbc8-19&quot;</code> etc . also try to set Statement <code>&quot;setFetchSize()&quot;</code> but it doesn't work.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void demo() {\n        List&lt;Map&lt;String, String&gt;&gt; resultList = new ArrayList&lt;&gt;();\n        String sql = &quot;SELECT * FROM ALL_OBJECTS O WHERE O.OWNER = 'LINEWELL' AND O.OBJECT_TYPE IN ('TABLE', 'VIEW')&quot;;\n        BasicDataSource datasource; // initial datasource\n        try (\n                Connection con = datasource.getConnection();\n                Statement stmt = con.createStatement();\n                ResultSet rs = stmt.executeQuery(sql)\n        ) {\n            while (rs.next()) {\n                Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n                map.put(&quot;TableCatalog&quot;, rs.getString(&quot;OWNER&quot;));\n                map.put(&quot;TableSchema&quot;, rs.getString(&quot;OWNER&quot;));\n                map.put(&quot;TableName&quot;, rs.getString(&quot;OBJECT_NAME&quot;));\n                map.put(&quot;TableType&quot;, rs.getString(&quot;OBJECT_TYPE&quot;));\n                map.put(&quot;LastModifyTime&quot;, rs.getString(&quot;LAST_DDL_TIME&quot;));\n                resultList.add(map);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        System.out.println(resultList.size());\n    }\n</code></pre>\n<p>Here is full stack infomation, The &quot;MyTest.java:88&quot; refer to &quot;new HashMap&lt;&gt;()&quot;.</p>\n<pre><code>Caused by:java.lang.ArrayIndexoutofBoundsException:3\n    at oracle.jdbc.driver.T4CTTIrxdsBitset.set (T4CTTIExd.java:1593)\n    at oracle.jdbe.driver.T4CTTIrxd.readBitVector (T4CTTIrxd.java:135)\n    at oracle.jdbe.driver.T4C8TTIrxh.unmazshalVl0 (T4C8TTIrxh.java:133)\n    at oracle.jdbe.driver.T4C80all.readRX(4C80all.java:693)\n    at oracle.jdbe.driver.T4CTTIfun.receive (T4CTTIfun.java:529)\n    at oracle.jdbe.driver.T4CTTIfun.doRPC (T4CTTIfun.java:252)\n    at oracle.jdbe.driver.T4C80all.doOALL (T4C80all.java:612)\n    at oracle.jdbe.driver.T4CStatement.dooal18 (T4CStatement.java:213)\n    at oracle.jdbc.driver.T4CStatement.fetch (T4CStatement.java:1009)\n    at oracle.jdbc.driver.Oraclestatement.fetchMozeRovs (OracleStatement.java:3353)\n    at oracie.jdbc.driver.InsensitivescrollableResultset.fetchMoreRows (InsensitiveScrollableResuleset.java:736)\n    at oracle.jdbc.driver.InsensicivescrollableResultset.absoluteInternal (InsensitivescrollableResultset.java:692)\n    at oracle.jdbc.driver.InsensitivesczollableResultset.next (InsensitiveScrollableResultset.java:406)\n    at org.apache.commons.dbep2.DelegatingResulcset.next (DelegatingResultsec.dava:1160)\n    at org.apache.commons.dbcp2.DelegatingResultset.next (DelegatingResultset.java:1160)\n    at com.example.MyTest.demo(MyTest.java88）\n</code></pre>\n"},{"tags":["java","nginx","server","proxy"],"owner":{"account_id":24437011,"reputation":11,"user_id":18361160,"display_name":"suo jin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684323765,"creation_date":1684309351,"question_id":76269636,"body_markdown":"\r\nI&#39;m trying to set up a proxy server because I want to use body filters to modify google search result content. I copied the result of building the Java code to `/jars` in the installed nginx-clojure folder and set it as follows. However, when I add this part of body_filter_name, the server does not start with an error.\r\n\r\n&gt; 2023/05/17 16:31:09 [error] 91280#0: jvm may be mad for wrong options!\r\n&gt; See hs_err_pid****.log for detail! restarted 15 2023/05/17 16:31:09\r\n&gt; [alert] 34461#0: worker process 91280 exited with fatal code 2 and\r\n&gt; cannot be respawned\r\n\r\nI&#39;m trying to find the log file, but I can&#39;t see it\r\n\r\n    sudo find / -name &quot;hs_err_pid*.log&quot;\r\n\r\n\r\nI will be very grateful if you tell me how to solve the problem\r\n\r\n``` java\r\npackage org.example.replacer;\r\n\r\nimport nginx.clojure.java.ArrayMap;\r\nimport nginx.clojure.java.StringFacedJavaBodyFilter;\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Document;\r\nimport org.jsoup.nodes.Element;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\npublic class GoogleLogoReplacer extends StringFacedJavaBodyFilter {\r\n    @Override\r\n    protected Object[] doFilter(Map&lt;String, Object&gt; request, String body, boolean isResponse) throws IOException {\r\n        Document doc = Jsoup.parse(body);\r\n        Element logo = doc.select(&quot;img.jfN4p&quot;).first();\r\n        if (logo != null) {\r\n            logo.attr(&quot;src&quot;, &quot;http://via.placeholder.com/400&quot;);\r\n        }\r\n        return new Object[] {200, new ArrayMap&lt;&gt;(new Object[]{&quot;Content-Type&quot;, &quot;text/html&quot;}), doc.toString()};\r\n    }\r\n}\r\n```\r\n```\r\nworker_processes  1;\r\n\r\nevents {\r\n    worker_connections  1024;\r\n}\r\n\r\nhttp {\r\n    include       mime.types;\r\n    default_type  application/octet-stream;\r\n\r\n    sendfile        on;\r\n    keepalive_timeout  65;\r\n\r\n    jvm_path auto;\r\n    jvm_classpath &quot;libs/*:jars/*:jars/logo-replacer-1.0-SNAPSHOT.jar&quot;;\r\n\r\n\tjvm_options &quot;-Xms1024m&quot;;\r\n    jvm_options &quot;-Xmx1024m&quot;;\r\n\r\n    server {\r\n        listen       80;\r\n        server_name  localhost;\r\n\r\n        location / {\r\n\t\t\tproxy_pass https://www.google.com;\r\n        }\r\n\r\n\t\tlocation /search {\r\n\t\t\tproxy_pass https://www.google.com/search;\r\n\t\t\tbody_filter_type java;\r\n\t\t\tbody_filter_name org.example.replacer.GoogleLogoReplacer;\r\n\t\t}\r\n\r\n        error_page   500 502 503 504  /50x.html;\r\n        location = /50x.html {\r\n            root   html;\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Nginx-Clojure jvm may be mad for wrong options","body":"<p>I'm trying to set up a proxy server because I want to use body filters to modify google search result content. I copied the result of building the Java code to <code>/jars</code> in the installed nginx-clojure folder and set it as follows. However, when I add this part of body_filter_name, the server does not start with an error.</p>\n<blockquote>\n<p>2023/05/17 16:31:09 [error] 91280#0: jvm may be mad for wrong options!\nSee hs_err_pid****.log for detail! restarted 15 2023/05/17 16:31:09\n[alert] 34461#0: worker process 91280 exited with fatal code 2 and\ncannot be respawned</p>\n</blockquote>\n<p>I'm trying to find the log file, but I can't see it</p>\n<pre><code>sudo find / -name &quot;hs_err_pid*.log&quot;\n</code></pre>\n<p>I will be very grateful if you tell me how to solve the problem</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.replacer;\n\nimport nginx.clojure.java.ArrayMap;\nimport nginx.clojure.java.StringFacedJavaBodyFilter;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\n\nimport java.io.IOException;\nimport java.util.Map;\n\npublic class GoogleLogoReplacer extends StringFacedJavaBodyFilter {\n    @Override\n    protected Object[] doFilter(Map&lt;String, Object&gt; request, String body, boolean isResponse) throws IOException {\n        Document doc = Jsoup.parse(body);\n        Element logo = doc.select(&quot;img.jfN4p&quot;).first();\n        if (logo != null) {\n            logo.attr(&quot;src&quot;, &quot;http://via.placeholder.com/400&quot;);\n        }\n        return new Object[] {200, new ArrayMap&lt;&gt;(new Object[]{&quot;Content-Type&quot;, &quot;text/html&quot;}), doc.toString()};\n    }\n}\n</code></pre>\n<pre><code>worker_processes  1;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    sendfile        on;\n    keepalive_timeout  65;\n\n    jvm_path auto;\n    jvm_classpath &quot;libs/*:jars/*:jars/logo-replacer-1.0-SNAPSHOT.jar&quot;;\n\n    jvm_options &quot;-Xms1024m&quot;;\n    jvm_options &quot;-Xmx1024m&quot;;\n\n    server {\n        listen       80;\n        server_name  localhost;\n\n        location / {\n            proxy_pass https://www.google.com;\n        }\n\n        location /search {\n            proxy_pass https://www.google.com/search;\n            body_filter_type java;\n            body_filter_name org.example.replacer.GoogleLogoReplacer;\n        }\n\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":19559913,"reputation":181,"user_id":14313338,"display_name":"Jurgen Rutten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665066932,"creation_date":1665066932,"answer_id":73975612,"question_id":73975043,"body_markdown":"You can use the jvm.args property from command line:\r\n\r\n    mvn quarkus:dev -Djvm.args=...\r\n\r\nOr specify the same in Maven&#39;s parameters:\r\n\r\n    &lt;project ...&gt;\r\n        ...\r\n        &lt;properties&gt;\r\n            &lt;jvm.args&gt;-Dquarkus.datasource.url=...&lt;/jvm.args&gt;\r\n        &lt;/properties&gt;\r\n        ...\r\n    &lt;/project&gt;","title":"how to add jvm options in quarkusDev","body":"<p>You can use the jvm.args property from command line:</p>\n<pre><code>mvn quarkus:dev -Djvm.args=...\n</code></pre>\n<p>Or specify the same in Maven's parameters:</p>\n<pre><code>&lt;project ...&gt;\n    ...\n    &lt;properties&gt;\n        &lt;jvm.args&gt;-Dquarkus.datasource.url=...&lt;/jvm.args&gt;\n    &lt;/properties&gt;\n    ...\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120465,"reputation":1592,"user_id":312929,"accept_rate":70,"display_name":"rojanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684323639,"creation_date":1684323639,"answer_id":76271704,"question_id":73975043,"body_markdown":"For gradle users, create a `gradle.properties` file in your projects root directory and add the following line\r\n\r\n    org.gradle.jvmargs=--add-opens java.base/sun.net=ALL-UNNAMED","title":"how to add jvm options in quarkusDev","body":"<p>For gradle users, create a <code>gradle.properties</code> file in your projects root directory and add the following line</p>\n<pre><code>org.gradle.jvmargs=--add-opens java.base/sun.net=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":14722724,"reputation":11,"user_id":10632795,"display_name":"druntcat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684323639,"creation_date":1665064432,"question_id":73975043,"body_markdown":"I&#39;m using quarkus and pulsar client in java 17.\r\n\r\n    2022-10-06 18:28:05,964 WARN  [org.apa.pul.com.uti.net.DnsResolverUtil] (Quarkus Main Thread) Cannot get DNS TTL settings from sun.net.InetAddressCachePolicy class: java.lang.IllegalAccessException: class org.apache.pulsar.common.util.netty.DnsResolverUtil cannot access class sun.net.InetAddressCachePolicy (in module java.base) because module java.base does not export sun.net to unnamed module @6743e411\r\n\tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\r\n\r\nI need add jvm options `--add-opens=java.base/sun.net=ALL-UNNAMED`.\r\n\r\n\r\nWhat should I do if I use gradle?","title":"how to add jvm options in quarkusDev","body":"<p>I'm using quarkus and pulsar client in java 17.</p>\n<pre><code>2022-10-06 18:28:05,964 WARN  [org.apa.pul.com.uti.net.DnsResolverUtil] (Quarkus Main Thread) Cannot get DNS TTL settings from sun.net.InetAddressCachePolicy class: java.lang.IllegalAccessException: class org.apache.pulsar.common.util.netty.DnsResolverUtil cannot access class sun.net.InetAddressCachePolicy (in module java.base) because module java.base does not export sun.net to unnamed module @6743e411\nat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\n</code></pre>\n<p>I need add jvm options <code>--add-opens=java.base/sun.net=ALL-UNNAMED</code>.</p>\n<p>What should I do if I use gradle?</p>\n"},{"tags":["java","android","icons"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1684323714,"post_id":76271701,"comment_id":134500900,"body_markdown":"have you added ```adaptive icon``` ? Checkout this link to understand how you can add and use https://developer.android.com/develop/ui/views/launch/icon_design_adaptive","body":"have you added <code>adaptive icon</code> ? Checkout this link to understand how you can add and use <a href=\"https://developer.android.com/develop/ui/views/launch/icon_design_adaptive\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/launch/&hellip;</a>"}],"owner":{"account_id":13923517,"reputation":569,"user_id":10053379,"display_name":"Patola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684323600,"creation_date":1684323600,"question_id":76271701,"body_markdown":"For example, my app icon looks like the one on the right. I have configured square and round icons on AndroidManifest.xml and put each variation in mipmap folders for different sizes.\r\n\r\nHow do I fix this issue (that is to look like the one on left)?\r\n\r\nmy AndroidManifest.xml.\r\n\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OV3xC.png","title":"Android app icon is too small on some phone","body":"<p>For example, my app icon looks like the one on the right. I have configured square and round icons on AndroidManifest.xml and put each variation in mipmap folders for different sizes.</p>\n<p>How do I fix this issue (that is to look like the one on left)?</p>\n<p>my AndroidManifest.xml.</p>\n<pre><code>    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OV3xC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OV3xC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","user-interface","swing","mouse"],"answers":[{"tags":[],"owner":{"account_id":164242,"reputation":2737,"user_id":386875,"accept_rate":97,"display_name":"Eternal Noob"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1292358289,"creation_date":1292358289,"answer_id":4443835,"question_id":4443760,"body_markdown":"there is mouseDragged method in MouseMotionListener...check [this][1] out for more details...\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html","title":"How to detect mouse moving while left button down?","body":"<p>there is mouseDragged method in MouseMotionListener...check <a href=\"http://download.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html\" rel=\"noreferrer\">this</a> out for more details...</p>\n"},{"tags":[],"owner":{"account_id":118440,"reputation":11267,"user_id":309472,"accept_rate":80,"display_name":"DGH"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1292358343,"creation_date":1292358343,"answer_id":4443850,"question_id":4443760,"body_markdown":"I think there might be some sort of mouse drag listener, but if not...\r\n\r\nCapture the mouse button down and up events.  In those events, set a boolean such as `leftButtonIsDown = true` (unless there&#39;s already some easy way to query that) and then in the mouse movement events use a block like `if (leftButtonIsDown)`","title":"How to detect mouse moving while left button down?","body":"<p>I think there might be some sort of mouse drag listener, but if not...</p>\n\n<p>Capture the mouse button down and up events.  In those events, set a boolean such as <code>leftButtonIsDown = true</code> (unless there's already some easy way to query that) and then in the mouse movement events use a block like <code>if (leftButtonIsDown)</code></p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292358350,"creation_date":1292358350,"answer_id":4443853,"question_id":4443760,"body_markdown":"In your MouseMotionListener you can check for this using:\r\n\r\n    SwingUtilities.isLeftMouseButton(me.getPoint())\r\n\r\nand you would listen for the mouseDragged event.","title":"How to detect mouse moving while left button down?","body":"<p>In your MouseMotionListener you can check for this using:</p>\n\n<pre><code>SwingUtilities.isLeftMouseButton(me.getPoint())\n</code></pre>\n\n<p>and you would listen for the mouseDragged event.</p>\n"},{"tags":[],"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1385912065,"creation_date":1292358951,"answer_id":4443958,"question_id":4443760,"body_markdown":"    component.addmouseMotionListener(new MouseAdapter() {\r\n        public void mouseDragged(MouseEvent evt) {\r\n           if ( SwingUtilities.isLeftMouseButton(evt)) {\r\n             // do your stuff here\r\n           }\r\n        }\r\n    });","title":"How to detect mouse moving while left button down?","body":"<pre><code>component.addmouseMotionListener(new MouseAdapter() {\n    public void mouseDragged(MouseEvent evt) {\n       if ( SwingUtilities.isLeftMouseButton(evt)) {\n         // do your stuff here\n       }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":232002,"reputation":147,"user_id":496556,"display_name":"Bnymn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11637,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":4443835,"answer_count":4,"score":8,"last_activity_date":1684323571,"creation_date":1292357896,"question_id":4443760,"body_markdown":"I would like to detect mouse movement while the left button is pressed.\r\n\r\nI&#39;m simply creating a drawing application. I can detect mouse movement without any mouse being pressed. But I want to detect it WITH left mouse pressed.\r\n\r\nI don&#39;t think there&#39;s a listener for this. So, what is the idea to do that?","title":"How to detect mouse moving while left button down?","body":"<p>I would like to detect mouse movement while the left button is pressed.</p>\n<p>I'm simply creating a drawing application. I can detect mouse movement without any mouse being pressed. But I want to detect it WITH left mouse pressed.</p>\n<p>I don't think there's a listener for this. So, what is the idea to do that?</p>\n"},{"tags":["java","character-encoding","oracle10g","byte-order-mark"],"comments":[{"owner":{"account_id":6040,"reputation":181950,"user_id":9990,"accept_rate":79,"display_name":"Marcelo Cantos"},"score":2,"creation_date":1291821385,"post_id":4389005,"comment_id":4782331,"body_markdown":"Just in case you haven&#39;t come across this before, note that the Unicode standard does not require or recommend using a BOM with UTF-8. It isn&#39;t illegal, either, but shouldn&#39;t be used indiscriminately. See [here](http://unicode.org/faq/utf_bom.html#BOM) for the details, including some guidelines on when and where to use it. If you are trying to view the csv file in Windows, this is probably a valid use of the BOM.","body":"Just in case you haven&#39;t come across this before, note that the Unicode standard does not require or recommend using a BOM with UTF-8. It isn&#39;t illegal, either, but shouldn&#39;t be used indiscriminately. See <a href=\"http://unicode.org/faq/utf_bom.html#BOM\" rel=\"nofollow noreferrer\">here</a> for the details, including some guidelines on when and where to use it. If you are trying to view the csv file in Windows, this is probably a valid use of the BOM."},{"owner":{"account_id":159465,"reputation":790,"user_id":378844,"accept_rate":75,"display_name":"Fadd"},"score":0,"creation_date":1291821643,"post_id":4389005,"comment_id":4782392,"body_markdown":"Yes, we are trying to the view the csv in Windows, but the generated csv still shows garbled character for german characters. Is this the right way to set the BOM?","body":"Yes, we are trying to the view the csv in Windows, but the generated csv still shows garbled character for german characters. Is this the right way to set the BOM?"},{"owner":{"account_id":216196,"reputation":79145,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1291827935,"post_id":4389005,"comment_id":4783850,"body_markdown":"Yes, that’s right.  The Unicode standard recommends **against** using a so-called BOM (it isn’t really) with UTF-8.","body":"Yes, that’s right.  The Unicode standard recommends <b>against</b> using a so-called BOM (it isn’t really) with UTF-8."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":4,"creation_date":1291828839,"post_id":4389005,"comment_id":4784076,"body_markdown":"@tchrist: it recommends against using a BOM when dealing with software and protocols that excepts ASCII-only chars.  If the OP knows that the Windows software he&#39;s using will use the BOM to detect that the file is actually encoded in UTF-8 (we don&#39;t care about the fact that it ain&#39;t a BOM, we care about the **fact** that it can allow some software to detect that the encoding is UTF-8).  Also note that if you had a BOM to UTF-8 and some software fail, then these software are broken, because a BOM at the beginning of an UTF-8 is perfectly valid.","body":"@tchrist: it recommends against using a BOM when dealing with software and protocols that excepts ASCII-only chars.  If the OP knows that the Windows software he&#39;s using will use the BOM to detect that the file is actually encoded in UTF-8 (we don&#39;t care about the fact that it ain&#39;t a BOM, we care about the <b>fact</b> that it can allow some software to detect that the encoding is UTF-8).  Also note that if you had a BOM to UTF-8 and some software fail, then these software are broken, because a BOM at the beginning of an UTF-8 is perfectly valid."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1291828906,"post_id":4389005,"comment_id":4784090,"body_markdown":"Of course the real issue here is that CSV file have no metadata nor specifications mandating the encoding of the file to be specified.  It&#39;s basically the same old SNAFU that is also affecting *.java* file and many other crappy-underspec&#39;ed file formats.","body":"Of course the real issue here is that CSV file have no metadata nor specifications mandating the encoding of the file to be specified.  It&#39;s basically the same old SNAFU that is also affecting <i>.java</i> file and many other crappy-underspec&#39;ed file formats."},{"owner":{"account_id":216196,"reputation":79145,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1291832189,"post_id":4389005,"comment_id":4784822,"body_markdown":"@Webinator: I realize that this is at best a partial solution to the problem, but I would *really* like to see a standard per-source-unit annotation like `@encoding UTF-8` in Java files. I understand that this only works for supersets of ASCII like UTF-8, ISO 8859-?, MacRoman, or CP1252, and that it has to occur before any non-ASCII characters are seen. But this is the same restriction as in-band encoding specs in XML, Perl, and Python. I’m told it wouldn’t be not too hard to implement an annotator like that, but apart from regexes and encodings, my Java-fu is weak. Sure would be useful, eh?!","body":"@Webinator: I realize that this is at best a partial solution to the problem, but I would <i>really</i> like to see a standard per-source-unit annotation like <code>@encoding UTF-8</code> in Java files. I understand that this only works for supersets of ASCII like UTF-8, ISO 8859-?, MacRoman, or CP1252, and that it has to occur before any non-ASCII characters are seen. But this is the same restriction as in-band encoding specs in XML, Perl, and Python. I’m told it wouldn’t be not too hard to implement an annotator like that, but apart from regexes and encodings, my Java-fu is weak. Sure would be useful, eh?!"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":4,"creation_date":1326117614,"post_id":4389005,"comment_id":10962546,"body_markdown":"For the completeness of the BOM discussion. Excel 2003 strictly requires the BOM in UTF-8 encoded CSV files. Otherwise multibyte chars are unreadable.","body":"For the completeness of the BOM discussion. Excel 2003 strictly requires the BOM in UTF-8 encoded CSV files. Otherwise multibyte chars are unreadable."},{"owner":{"account_id":10975593,"reputation":101,"user_id":14695180,"display_name":"Robert Carnegie"},"score":0,"creation_date":1652803789,"post_id":4389005,"comment_id":127692783,"body_markdown":"I&#39;ve recently been looking at behaviour of Microsoft Excel 2016.  If a .csv file is renamed to .txt, or if a new Excel spreadsheet has data added &quot;From Text&quot;, then the data is loaded by &quot;Text Import Wizard&quot;.  Apparently this is smart enough to recognise that it&#39;s receiving data of &quot;File origin&quot; of code page &quot;65001 (UTF-8)&quot;, and if isn&#39;t, then you can tell it so.  Then you have to tell it a few more things.  I have written a little Cmd script to copy a BOM then data from one file into another file, to avoid that.","body":"I&#39;ve recently been looking at behaviour of Microsoft Excel 2016.  If a .csv file is renamed to .txt, or if a new Excel spreadsheet has data added &quot;From Text&quot;, then the data is loaded by &quot;Text Import Wizard&quot;.  Apparently this is smart enough to recognise that it&#39;s receiving data of &quot;File origin&quot; of code page &quot;65001 (UTF-8)&quot;, and if isn&#39;t, then you can tell it so.  Then you have to tell it a few more things.  I have written a little Cmd script to copy a BOM then data from one file into another file, to avoid that."}],"answers":[{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1291822895,"creation_date":1291822895,"answer_id":4389309,"question_id":4389005,"body_markdown":"To write a BOM in UTF-8 you need `PrintStream.print()`, not `PrintStream.write()`.\r\n\r\nAlso if you want to have BOM in your `csv` file, I guess you need to print a BOM after `putNextEntry()`.","title":"How to add a UTF-8 BOM in Java?","body":"<p>To write a BOM in UTF-8 you need <code>PrintStream.print()</code>, not <code>PrintStream.write()</code>.</p>\n\n<p>Also if you want to have BOM in your <code>csv</code> file, I guess you need to print a BOM after <code>putNextEntry()</code>.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1627512274,"creation_date":1291822926,"answer_id":4389317,"question_id":4389005,"body_markdown":"# `PrintStream#print`\r\n\r\nI think that `out.write(&#39;\\ufeff&#39;);` should actually be `out.print(&#39;\\ufeff&#39;);`, calling the [`java.io.PrintStream#print`][1] method.\r\n\r\nAccording [the javadoc][2], the `write(int)` method actually writes a byte ... without any character encoding.  So `out.write(&#39;\\ufeff&#39;);` writes the byte `0xff`.  By contrast, the `print(char)` method encodes the character as one or bytes using the stream&#39;s encoding, and then writes those bytes.\r\n\r\nAs noted in [section 23.8 of the Unicode 9][3] specification, the BOM for UTF-8 is `EF BB BF`. That sequence is what you get when using UTF-8 encoding on `&#39;\\ufeff&#39;`. See: [*Why UTF-8 BOM bytes efbbbf can be replaced by \\ufeff?*][4].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/PrintStream.html#print(char)\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/io/PrintStream.html#write(int)\r\n  [3]: http://www.unicode.org/versions/Unicode9.0.0/ch23.pdf\r\n  [4]: https://stackoverflow.com/q/54247407/642706","title":"How to add a UTF-8 BOM in Java?","body":"<h1 id=\"printstreamprint-kixa\"><code>PrintStream#print</code></h1>\n<p>I think that <code>out.write('\\ufeff');</code> should actually be <code>out.print('\\ufeff');</code>, calling the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/PrintStream.html#print(char)\" rel=\"nofollow noreferrer\"><code>java.io.PrintStream#print</code></a> method.</p>\n<p>According <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/PrintStream.html#write(int)\" rel=\"nofollow noreferrer\">the javadoc</a>, the <code>write(int)</code> method actually writes a byte ... without any character encoding.  So <code>out.write('\\ufeff');</code> writes the byte <code>0xff</code>.  By contrast, the <code>print(char)</code> method encodes the character as one or bytes using the stream's encoding, and then writes those bytes.</p>\n<p>As noted in <a href=\"http://www.unicode.org/versions/Unicode9.0.0/ch23.pdf\" rel=\"nofollow noreferrer\">section 23.8 of the Unicode 9</a> specification, the BOM for UTF-8 is <code>EF BB BF</code>. That sequence is what you get when using UTF-8 encoding on <code>'\\ufeff'</code>. See: <a href=\"https://stackoverflow.com/q/54247407/642706\"><em>Why UTF-8 BOM bytes efbbbf can be replaced by \\ufeff?</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":1038983,"reputation":825,"user_id":1045463,"display_name":"astro"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1499258379,"creation_date":1321269528,"answer_id":8120786,"question_id":4389005,"body_markdown":"    BufferedWriter out = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(...), StandardCharsets.UTF_8));\r\n    out.write(&#39;\\ufeff&#39;);\r\n    out.write(...);\r\n\r\nThis correctly writes out 0xEF 0xBB 0xBF to the file, which is the UTF-8 representation of the BOM.","title":"How to add a UTF-8 BOM in Java?","body":"<pre><code>BufferedWriter out = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(...), StandardCharsets.UTF_8));\nout.write('\\ufeff');\nout.write(...);\n</code></pre>\n\n<p>This correctly writes out 0xEF 0xBB 0xBF to the file, which is the UTF-8 representation of the BOM.</p>\n"},{"tags":[],"owner":{"account_id":3750937,"reputation":11,"user_id":3118453,"display_name":"Rocio"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1387443694,"creation_date":1387443694,"answer_id":20677256,"question_id":4389005,"body_markdown":"In my case it works with the code:\r\n\r\n    PrintWriter out = new PrintWriter(new File(filePath), &quot;UTF-8&quot;);\r\n    out.write(csvContent);\r\n    out.flush();\r\n    out.close();","title":"How to add a UTF-8 BOM in Java?","body":"<p>In my case it works with the code:</p>\n\n<pre><code>PrintWriter out = new PrintWriter(new File(filePath), \"UTF-8\");\nout.write(csvContent);\nout.flush();\nout.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1459348194,"creation_date":1459348194,"answer_id":36311899,"question_id":4389005,"body_markdown":"Just in case people *are* using `PrintStream`s, you need to do it a little differently. While a `Writer` will do some magic to convert a single byte into 3 bytes, a `PrintStream` requires all 3 bytes of the UTF-8 BOM individually:\r\n\r\n        // Print utf-8 BOM\r\n        PrintStream out = System.out;\r\n        out.write(&#39;\\ufeef&#39;); // emits 0xef\r\n        out.write(&#39;\\ufebb&#39;); // emits 0xbb\r\n        out.write(&#39;\\ufebf&#39;); // emits 0xbf\r\n\r\nAlternatively, you can use the hex values for those directly:\r\n\r\n        PrintStream out = System.out;\r\n        out.write(0xef); // emits 0xef\r\n        out.write(0xbb); // emits 0xbb\r\n        out.write(0xbf); // emits 0xbf\r\n","title":"How to add a UTF-8 BOM in Java?","body":"<p>Just in case people <em>are</em> using <code>PrintStream</code>s, you need to do it a little differently. While a <code>Writer</code> will do some magic to convert a single byte into 3 bytes, a <code>PrintStream</code> requires all 3 bytes of the UTF-8 BOM individually:</p>\n\n<pre><code>    // Print utf-8 BOM\n    PrintStream out = System.out;\n    out.write('\\ufeef'); // emits 0xef\n    out.write('\\ufebb'); // emits 0xbb\n    out.write('\\ufebf'); // emits 0xbf\n</code></pre>\n\n<p>Alternatively, you can use the hex values for those directly:</p>\n\n<pre><code>    PrintStream out = System.out;\n    out.write(0xef); // emits 0xef\n    out.write(0xbb); // emits 0xbb\n    out.write(0xbf); // emits 0xbf\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4774097,"reputation":135,"user_id":3857811,"accept_rate":75,"display_name":"Silent"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1613053243,"creation_date":1594828125,"answer_id":62918775,"question_id":4389005,"body_markdown":"You Add This For First Of CSV String\r\n\r\n    String CSV = &quot;&quot;;\r\n    byte[] BOM = {(byte) 0xEF,(byte) 0xBB,(byte) 0xBF};\r\n    CSV = new String(BOM) + CSV;\r\n\r\nThis Work For Me.\r\n","title":"How to add a UTF-8 BOM in Java?","body":"<p>You Add This For First Of CSV String</p>\n<pre><code>String CSV = &quot;&quot;;\nbyte[] BOM = {(byte) 0xEF,(byte) 0xBB,(byte) 0xBF};\nCSV = new String(BOM) + CSV;\n</code></pre>\n<p>This Work For Me.</p>\n"},{"tags":[],"owner":{"account_id":3503118,"reputation":504,"user_id":2929352,"display_name":"David KELLER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608650661,"creation_date":1608650661,"answer_id":65411341,"question_id":4389005,"body_markdown":"Here a simple way to append BOM header on any file :\r\n\r\n   \tprivate static void appendBOM(File file) throws Exception {\r\n\t\tFile bomFile = new File(file + &quot;.bom&quot;);\r\n\t\ttry (FileOutputStream output = new FileOutputStream(bomFile, true)) {\r\n\t\t\tbyte[] bytes = FileUtils.readFileToByteArray(file);\r\n\t\t\toutput.write(&#39;\\ufeef&#39;); // emits 0xef\r\n\t\t\toutput.write(&#39;\\ufebb&#39;); // emits 0xbb\r\n\t\t\toutput.write(&#39;\\ufebf&#39;); // emits 0xbf\r\n\t\t\toutput.write(bytes);\r\n\t\t\toutput.flush();\r\n\t\t}\r\n\t\t\r\n\t\tfile.delete();\r\n\t\tbomFile.renameTo(file);\r\n\t}","title":"How to add a UTF-8 BOM in Java?","body":"<p>Here a simple way to append BOM header on any file :</p>\n<pre><code>private static void appendBOM(File file) throws Exception {\n    File bomFile = new File(file + &quot;.bom&quot;);\n    try (FileOutputStream output = new FileOutputStream(bomFile, true)) {\n        byte[] bytes = FileUtils.readFileToByteArray(file);\n        output.write('\\ufeef'); // emits 0xef\n        output.write('\\ufebb'); // emits 0xbb\n        output.write('\\ufebf'); // emits 0xbf\n        output.write(bytes);\n        output.flush();\n    }\n    \n    file.delete();\n    bomFile.renameTo(file);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3904164,"reputation":2111,"user_id":3276902,"accept_rate":83,"display_name":"timguy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663068089,"creation_date":1624543380,"answer_id":68117288,"question_id":4389005,"body_markdown":"If you just want to \r\n\r\nmodify the same file\r\n--------------------\r\n\r\n(without new file and delete old one as I had issues with that)\r\n\r\n\tprivate void addBOM(File fileInput) throws IOException {\r\n\t\ttry (RandomAccessFile file = new RandomAccessFile(fileInput, &quot;rws&quot;)) {\r\n\t\t\tbyte[] text = new byte[(int) file.length()];\r\n\t\t\tfile.readFully(text);\r\n\t\t\tfile.seek(0);\r\n\t\t\tbyte[] bom = { (byte) 0xEF, (byte) 0xBB, (byte) 0xBF };\r\n\t\t\tfile.write(bom);\r\n\t\t\tfile.write(text);\r\n\t\t}\r\n\t}","title":"How to add a UTF-8 BOM in Java?","body":"<p>If you just want to</p>\n<h2>modify the same file</h2>\n<p>(without new file and delete old one as I had issues with that)</p>\n<pre><code>private void addBOM(File fileInput) throws IOException {\n    try (RandomAccessFile file = new RandomAccessFile(fileInput, &quot;rws&quot;)) {\n        byte[] text = new byte[(int) file.length()];\n        file.readFully(text);\n        file.seek(0);\n        byte[] bom = { (byte) 0xEF, (byte) 0xBB, (byte) 0xBF };\n        file.write(bom);\n        file.write(text);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6950939,"reputation":422,"user_id":5333592,"display_name":"Olavi Vaino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684323490,"creation_date":1684323490,"answer_id":76271684,"question_id":4389005,"body_markdown":"Using StringBuilder\r\n    \r\n    StringBuilder csv = new StringBuilder();    \r\n    csv.append(&#39;\\ufeff&#39;);\r\n    csv.append(content);\r\n    csv.toString();\r\n","title":"How to add a UTF-8 BOM in Java?","body":"<p>Using StringBuilder</p>\n<pre><code>StringBuilder csv = new StringBuilder();    \ncsv.append('\\ufeff');\ncsv.append(content);\ncsv.toString();\n</code></pre>\n"}],"owner":{"account_id":159465,"reputation":790,"user_id":378844,"accept_rate":75,"display_name":"Fadd"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95701,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":4389309,"answer_count":9,"score":29,"last_activity_date":1684323490,"creation_date":1291821016,"question_id":4389005,"body_markdown":"I have a Java stored procedure which fetches record from the table using `Resultset` object and creates a CS Vfile.\r\n\r\n    BLOB retBLOB = BLOB.createTemporary(conn, true, BLOB.DURATION_SESSION);\r\n    retBLOB.open(BLOB.MODE_READWRITE);\r\n    OutputStream bOut = retBLOB.setBinaryStream(0L);\r\n\r\n    ZipOutputStream zipOut = new ZipOutputStream(bOut);\r\n    PrintStream out = new PrintStream(zipOut,false,&quot;UTF-8&quot;);\r\n    out.write(&#39;\\ufeff&#39;);\r\n    out.flush();\r\n\r\n    zipOut.putNextEntry(new ZipEntry(&quot;filename.csv&quot;));\r\n    while (rs.next()){\r\n        out.print(&quot;\\&quot;&quot; + rs.getString(i) + &quot;\\&quot;&quot;);\r\n        out.print(&quot;,&quot;);\r\n    }\r\n    out.flush();\r\n\r\n    zipOut.closeEntry();\r\n    zipOut.close();\r\n    retBLOB.close();\r\n\r\n    return retBLOB;\r\n\r\n\r\nBut the generated CSV file doesn&#39;t show the correct German character. Oracle database also has a `NLS_CHARACTERSET` value of UTF8.\r\n\r\nPlease suggest.","title":"How to add a UTF-8 BOM in Java?","body":"<p>I have a Java stored procedure which fetches record from the table using <code>Resultset</code> object and creates a CS Vfile.</p>\n\n<pre><code>BLOB retBLOB = BLOB.createTemporary(conn, true, BLOB.DURATION_SESSION);\nretBLOB.open(BLOB.MODE_READWRITE);\nOutputStream bOut = retBLOB.setBinaryStream(0L);\n\nZipOutputStream zipOut = new ZipOutputStream(bOut);\nPrintStream out = new PrintStream(zipOut,false,\"UTF-8\");\nout.write('\\ufeff');\nout.flush();\n\nzipOut.putNextEntry(new ZipEntry(\"filename.csv\"));\nwhile (rs.next()){\n    out.print(\"\\\"\" + rs.getString(i) + \"\\\"\");\n    out.print(\",\");\n}\nout.flush();\n\nzipOut.closeEntry();\nzipOut.close();\nretBLOB.close();\n\nreturn retBLOB;\n</code></pre>\n\n<p>But the generated CSV file doesn't show the correct German character. Oracle database also has a <code>NLS_CHARACTERSET</code> value of UTF8.</p>\n\n<p>Please suggest.</p>\n"},{"tags":["java","object-type"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":6,"creation_date":1684309729,"post_id":76269658,"comment_id":134497829,"body_markdown":"What kind of explanation do you want exactly? `s.contains(l2)` because `l1.equals(l2)`. And `equals` is supposed to check if the two lists have equal elements in the same order.","body":"What kind of explanation do you want exactly? <code>s.contains(l2)</code> because <code>l1.equals(l2)</code>. And <code>equals</code> is supposed to check if the two lists have equal elements in the same order."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":3,"creation_date":1684309798,"post_id":76269658,"comment_id":134497845,"body_markdown":"Looking at the javadoc of `HashSet#contains()` it says: &quot;_...returns true if and only if this set contains an element e such that (o==null ? e==null : o.equals(e))._&quot;. And the javadoc of `List#equals()` states: &quot;_...two lists are defined to be equal if they contain the same elements in the same order._&quot; This behavior is exactly what you observe here.","body":"Looking at the javadoc of <code>HashSet#contains()</code> it says: &quot;<i>...returns true if and only if this set contains an element e such that (o==null ? e==null : o.equals(e)).</i>&quot;. And the javadoc of <code>List#equals()</code> states: &quot;<i>...two lists are defined to be equal if they contain the same elements in the same order.</i>&quot; This behavior is exactly what you observe here."}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684310334,"creation_date":1684310334,"answer_id":76269772,"question_id":76269658,"body_markdown":"[`HashSet`][1] relies on the `equals` and `hashCode` methods of the element type (which in your case is `List`). The documentation for those methods on the `List` type is as follows:\r\n\r\n&gt; [`equals`][2] - Compares the specified object with this list for equality. Returns true if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are equal. (Two elements e1 and e2 are equal if Objects.equals(e1, e2).) In other words, two lists are defined to be equal if they contain the same elements in the same order.  \r\n&gt; [`hashCode`][3] - Returns the hash code value for this list. The hash code of a list is defined to be the result of the following calculation:\r\n&gt;\r\n&gt;     int hashCode = 1;\r\n&gt;     for (E e : list)\r\n&gt;         hashCode = 31*hashCode + (e==null ? 0 : e.hashCode());\r\n&gt; \r\n&gt; This ensures that list1.equals(list2) implies that list1.hashCode()==list2.hashCode() for any two lists, list1 and list2, as required by the general contract of Object.hashCode().\r\n\r\nI.e. in summary, the `hashCode` and `equals` implementations for `List`s simply operate on each element of the list.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashSet.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#equals(java.lang.Object)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#hashCode()","title":"How Set&lt;List&lt;Integer&gt;&gt; is working conceptually","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet</code></a> relies on the <code>equals</code> and <code>hashCode</code> methods of the element type (which in your case is <code>List</code>). The documentation for those methods on the <code>List</code> type is as follows:</p>\n<blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code></a> - Compares the specified object with this list for equality. Returns true if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are equal. (Two elements e1 and e2 are equal if Objects.equals(e1, e2).) In other words, two lists are defined to be equal if they contain the same elements in the same order.<br />\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#hashCode()\" rel=\"nofollow noreferrer\"><code>hashCode</code></a> - Returns the hash code value for this list. The hash code of a list is defined to be the result of the following calculation:</p>\n<pre><code>int hashCode = 1;\nfor (E e : list)\n    hashCode = 31*hashCode + (e==null ? 0 : e.hashCode());\n</code></pre>\n<p>This ensures that list1.equals(list2) implies that list1.hashCode()==list2.hashCode() for any two lists, list1 and list2, as required by the general contract of Object.hashCode().</p>\n</blockquote>\n<p>I.e. in summary, the <code>hashCode</code> and <code>equals</code> implementations for <code>List</code>s simply operate on each element of the list.</p>\n"},{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684310731,"creation_date":1684310731,"answer_id":76269830,"question_id":76269658,"body_markdown":"The [`HashSet#contains(Object o)`](https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html#contains-java.lang.Object-) javadoc states the following (emphasis mine): \r\n\r\n&gt; Returns true if this set contains the specified element. More formally, returns true if and only if this set contains an element e such that (o==null ? e==null : **o.equals(e)**).\r\n\r\nSo, this means when you check `s.contains(l2)`, the `List`s in `s` are actually checked for equality against `l2` via `List#equals()` internally.\r\n\r\nAnd the [`List#equals(Object o)`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#equals-java.lang.Object-) javadoc states (emphasis mine):\r\n\r\n&gt; Compares the specified object with this list for equality. Returns true if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are equal. (Two elements e1 and e2 are equal if (e1==null ? e2==null : e1.equals(e2)).) **In other words, two lists are defined to be equal if they contain the same elements in the same order.** This definition ensures that the equals method works properly across different implementations of the List interface.\r\n\r\nWhich is exactly why `l2` is found to be contained in `s`, but `l3` is not.","title":"How Set&lt;List&lt;Integer&gt;&gt; is working conceptually","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html#contains-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>HashSet#contains(Object o)</code></a> javadoc states the following (emphasis mine):</p>\n<blockquote>\n<p>Returns true if this set contains the specified element. More formally, returns true if and only if this set contains an element e such that (o==null ? e==null : <strong>o.equals(e)</strong>).</p>\n</blockquote>\n<p>So, this means when you check <code>s.contains(l2)</code>, the <code>List</code>s in <code>s</code> are actually checked for equality against <code>l2</code> via <code>List#equals()</code> internally.</p>\n<p>And the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>List#equals(Object o)</code></a> javadoc states (emphasis mine):</p>\n<blockquote>\n<p>Compares the specified object with this list for equality. Returns true if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are equal. (Two elements e1 and e2 are equal if (e1==null ? e2==null : e1.equals(e2)).) <strong>In other words, two lists are defined to be equal if they contain the same elements in the same order.</strong> This definition ensures that the equals method works properly across different implementations of the List interface.</p>\n</blockquote>\n<p>Which is exactly why <code>l2</code> is found to be contained in <code>s</code>, but <code>l3</code> is not.</p>\n"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1684323483,"creation_date":1684309495,"question_id":76269658,"body_markdown":"I wrote a program as below:\r\n```\r\npublic static void main(String[] args) {\r\n        Set&lt;List&lt;Integer&gt;&gt; s = new HashSet&lt;&gt;();\r\n        List&lt;Integer&gt; l1 = new ArrayList&lt;&gt;(List.of(1,2,3));\r\n        List&lt;Integer&gt; l2 = new ArrayList&lt;&gt;(List.of(1,2,3));\r\n        List&lt;Integer&gt; l3 = new ArrayList&lt;&gt;(List.of(3,2,1));\r\n        s.add(l1);\r\n        if(s.contains(l2)) {\r\n            System.out.println(&quot;l2 is already present&quot;);\r\n        }\r\n        if(s.contains(l3)) {\r\n            System.out.println(&quot;l3 is present&quot;);\r\n        } else {\r\n            System.out.println(&quot;l3 is absent&quot;);\r\n        }\r\n}\r\n```\r\nHere is the output:\r\n```\r\nl2 is already present\r\nl3 is absent\r\n```\r\nI have a general idea of `equals` and `hashcode` in Java and rough idea of `Object` type, etc. \r\n\r\nCan someone explain conceptually how this thing able to compare internally a list of integers and find if it is already present? Notice that it works only if the order of elements in the list is same.","title":"How Set&lt;List&lt;Integer&gt;&gt; is working conceptually","body":"<p>I wrote a program as below:</p>\n<pre><code>public static void main(String[] args) {\n        Set&lt;List&lt;Integer&gt;&gt; s = new HashSet&lt;&gt;();\n        List&lt;Integer&gt; l1 = new ArrayList&lt;&gt;(List.of(1,2,3));\n        List&lt;Integer&gt; l2 = new ArrayList&lt;&gt;(List.of(1,2,3));\n        List&lt;Integer&gt; l3 = new ArrayList&lt;&gt;(List.of(3,2,1));\n        s.add(l1);\n        if(s.contains(l2)) {\n            System.out.println(&quot;l2 is already present&quot;);\n        }\n        if(s.contains(l3)) {\n            System.out.println(&quot;l3 is present&quot;);\n        } else {\n            System.out.println(&quot;l3 is absent&quot;);\n        }\n}\n</code></pre>\n<p>Here is the output:</p>\n<pre><code>l2 is already present\nl3 is absent\n</code></pre>\n<p>I have a general idea of <code>equals</code> and <code>hashcode</code> in Java and rough idea of <code>Object</code> type, etc.</p>\n<p>Can someone explain conceptually how this thing able to compare internally a list of integers and find if it is already present? Notice that it works only if the order of elements in the list is same.</p>\n"},{"tags":["java","spring-webflux","spring-security-oauth2","keystore","spring-webclient"],"comments":[{"owner":{"account_id":2416871,"reputation":184,"user_id":2110723,"accept_rate":60,"display_name":"Daniel_V"},"score":0,"creation_date":1630723130,"post_id":68431602,"comment_id":122040614,"body_markdown":"Did you figure out what&#39;s going on? I am currently facing this.","body":"Did you figure out what&#39;s going on? I am currently facing this."},{"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"score":0,"creation_date":1630814417,"post_id":68431602,"comment_id":122056146,"body_markdown":"@Daniel_V No, I have not figured it out and the project is currently on hold.","body":"@Daniel_V No, I have not figured it out and the project is currently on hold."}],"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1684322357,"creation_date":1626629770,"question_id":68431602,"body_markdown":"I am trying to call a customer&#39;s endpoint to retrieve their data using WebClient. We have to use certificate when calling the endpoint. I configured the WebClient with filter (to handle auto-refresh of the access token) and also with httpclient taking the certificate as keyStore.  However, I am getting the `SSLHandshakeException`.  If I commented out the `filter(oauth)`, then I didn&#39;t get the  `SSLHandshakeException`.  Can someone please let me know how to let `ServerOAuth2AuthorizedClientExchangeFilterFunction` work with the keyStore setup? Thanks.\r\n\r\n    @Configuration\r\n    public class MyConfig {\r\n      @Bean\r\n      ReactiveClientRegistrationRepository clientRegistrations() {\r\n        ClientRegistration registration = \r\n          ClientRegistration.withRegistrationId(&quot;authProvider&quot;)\r\n                            .tokenUri(tokenUri)\r\n                            .clientId(clientId)\r\n                            .clientSecret(clientSecret)\r\n                            .scope(scope)\r\n                            .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\r\n                            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\r\n                            .build();\r\n        \r\n          return new InMemoryReactiveClientRegistrationRepository(registration);\r\n          }\r\n\r\n        @Bean(name = &quot;mybean&quot;)\r\n        WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\r\n\r\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = \r\n           new ServerOAuth2AuthorizedClientExchangeFilterFunction(\r\n              new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\r\n                  clientRegistrations, \r\n                  new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations)));\r\n\r\n        oauth.setDefaultClientRegistrationId(&quot;authProvider&quot;);\r\n\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;jks&quot;);\r\n        keyStore.load(new ClassPathResource(keyStoreFilename).getInputStream(), keyStoreString.toCharArray());\r\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n        keyManagerFactory.init(keyStore, keyStoreString.toCharArray());\r\n\r\n        SslContext sslContext = SslContextBuilder.forClient().keyManager(keyManagerFactory).build();\r\n\r\n        HttpClient httpClient = HttpClient.create().secure(sslSpec -&gt; sslSpec.sslContext(sslContext)); \r\n\r\n        return WebClient\r\n               .builder()\r\n               .filter(oauth) // if I commented it out, then it was working fine                    \r\n               .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n               .defaultHeaders(httpHeaders -&gt; {\r\n                      httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n                      httpHeaders.setAccept(List.of(MediaType.APPLICATION_JSON));\r\n                      httpHeaders.setBearerAuth(token);\r\n                        })\r\n              .build();\r\n     }\r\n\r\n   And the class making the call, where I am getting `Caused by: java.lang.NumberFormatException: For input string: javax.net.ssl.SSLHandshakeException:`\r\n\r\n\r\n    {\r\n       ResponseEntity&lt;String&gt; responseEntity;\r\n        try {\r\n            responseEntity = webClient.post()\r\n                    .uri(url)\r\n                    .body(BodyInserters.fromValue(valueString))\r\n                    .retrieve()\r\n                    .toEntity(String.class)\r\n                    .block();\r\n      }","title":"Java Spring Security WebClient Threw SSLHandshakeException when used with ServerOAuth2AuthorizedClientExchangeFilterFunction","body":"<p>I am trying to call a customer's endpoint to retrieve their data using WebClient. We have to use certificate when calling the endpoint. I configured the WebClient with filter (to handle auto-refresh of the access token) and also with httpclient taking the certificate as keyStore.  However, I am getting the <code>SSLHandshakeException</code>.  If I commented out the <code>filter(oauth)</code>, then I didn't get the  <code>SSLHandshakeException</code>.  Can someone please let me know how to let <code>ServerOAuth2AuthorizedClientExchangeFilterFunction</code> work with the keyStore setup? Thanks.</p>\n<pre><code>@Configuration\npublic class MyConfig {\n  @Bean\n  ReactiveClientRegistrationRepository clientRegistrations() {\n    ClientRegistration registration = \n      ClientRegistration.withRegistrationId(&quot;authProvider&quot;)\n                        .tokenUri(tokenUri)\n                        .clientId(clientId)\n                        .clientSecret(clientSecret)\n                        .scope(scope)\n                        .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\n                        .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\n                        .build();\n    \n      return new InMemoryReactiveClientRegistrationRepository(registration);\n      }\n\n    @Bean(name = &quot;mybean&quot;)\n    WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\n\n    ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = \n       new ServerOAuth2AuthorizedClientExchangeFilterFunction(\n          new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\n              clientRegistrations, \n              new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations)));\n\n    oauth.setDefaultClientRegistrationId(&quot;authProvider&quot;);\n\n    KeyStore keyStore = KeyStore.getInstance(&quot;jks&quot;);\n    keyStore.load(new ClassPathResource(keyStoreFilename).getInputStream(), keyStoreString.toCharArray());\n    KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n    keyManagerFactory.init(keyStore, keyStoreString.toCharArray());\n\n    SslContext sslContext = SslContextBuilder.forClient().keyManager(keyManagerFactory).build();\n\n    HttpClient httpClient = HttpClient.create().secure(sslSpec -&gt; sslSpec.sslContext(sslContext)); \n\n    return WebClient\n           .builder()\n           .filter(oauth) // if I commented it out, then it was working fine                    \n           .clientConnector(new ReactorClientHttpConnector(httpClient))\n           .defaultHeaders(httpHeaders -&gt; {\n                  httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n                  httpHeaders.setAccept(List.of(MediaType.APPLICATION_JSON));\n                  httpHeaders.setBearerAuth(token);\n                    })\n          .build();\n }\n</code></pre>\n<p>And the class making the call, where I am getting <code>Caused by: java.lang.NumberFormatException: For input string: javax.net.ssl.SSLHandshakeException:</code></p>\n<pre><code>{\n   ResponseEntity&lt;String&gt; responseEntity;\n    try {\n        responseEntity = webClient.post()\n                .uri(url)\n                .body(BodyInserters.fromValue(valueString))\n                .retrieve()\n                .toEntity(String.class)\n                .block();\n  }\n</code></pre>\n"},{"tags":["java","ehcache"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1299583072,"post_id":5231267,"comment_id":5887459,"body_markdown":"I imagine the persistent store on your device isn&#39;t very fast and ehcache may not access it in the most light weight way possible for your device. It was written for systems with performant IO.","body":"I imagine the persistent store on your device isn&#39;t very fast and ehcache may not access it in the most light weight way possible for your device. It was written for systems with performant IO."},{"owner":{"account_id":91317,"reputation":389,"user_id":250816,"accept_rate":25,"display_name":"Leen Toelen"},"score":0,"creation_date":1299586327,"post_id":5231267,"comment_id":5888217,"body_markdown":"Hi,\n\nthis is the configuration I am using.\n\nConfiguration config = new Configuration();\nCacheConfiguration defaultCacheConfiguration = new CacheConfiguration();\ndefaultCacheConfiguration.setOverflowToDisk(false);\ndefaultCacheConfiguration.setDiskPersistent(false);\nconfig.setDefaultCacheConfiguration(defaultCacheConfiguration);\nconfig.setUpdateCheck(false);\n\n\nCacheManager mgr =  new CacheManager(config);\n\nWhich should never touch the disk unless I am wrong. This piece of code takes between 180 and 250 milliseconds on my machine. On the target machine this becomes half a minute.","body":"Hi,  this is the configuration I am using.  Configuration config = new Configuration(); CacheConfiguration defaultCacheConfiguration = new CacheConfiguration(); defaultCacheConfiguration.setOverflowToDisk(false); defaultCacheConfiguration.setDiskPersistent(false); config.setDefaultCacheConfiguration(defaultCacheConfiguratio&zwnj;&#8203;n); config.setUpdateCheck(false);   CacheManager mgr =  new CacheManager(config);  Which should never touch the disk unless I am wrong. This piece of code takes between 180 and 250 milliseconds on my machine. On the target machine this becomes half a minute."}],"answers":[{"tags":[],"owner":{"account_id":416944,"reputation":389,"user_id":792657,"accept_rate":20,"display_name":"Docent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684322303,"creation_date":1684322303,"answer_id":76271510,"question_id":5231267,"body_markdown":"Stumbled across the same problem just now.\r\n\r\nTurned out CacheManager.start() calls InetAddress.getLocalhost().\r\n\r\nNow, my box was named, say &quot;box2137&quot; (not localhost). I chose this name when installing RHEL.\r\n\r\nTurns out it was not added to /etc/hosts as 127.0.0.1/::1! When calling InetAddress.getLocalhost(), Java tried to DNS resolve &quot;box2137&quot; which took 30 seconds.\r\n\r\nAdding &quot;box2137&quot; to /etc/hosts solves the issue.","title":"CacheManager.create() very slow","body":"<p>Stumbled across the same problem just now.</p>\n<p>Turned out CacheManager.start() calls InetAddress.getLocalhost().</p>\n<p>Now, my box was named, say &quot;box2137&quot; (not localhost). I chose this name when installing RHEL.</p>\n<p>Turns out it was not added to /etc/hosts as 127.0.0.1/::1! When calling InetAddress.getLocalhost(), Java tried to DNS resolve &quot;box2137&quot; which took 30 seconds.</p>\n<p>Adding &quot;box2137&quot; to /etc/hosts solves the issue.</p>\n"}],"owner":{"account_id":91317,"reputation":389,"user_id":250816,"accept_rate":25,"display_name":"Leen Toelen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684322303,"creation_date":1299580396,"question_id":5231267,"body_markdown":"I am running an application using ehcache on an arm (arm5, no floating point unit) based machine, tested using both jamvm and openjdk and with a compact flash based rootfs (which is quite slow on this device). \r\n\r\nWhen I time CacheManager.create() this takes from 15 to 30 seconds. Even when I pass the default configuration as a parameter this still takes so long. The configuration disables all disk persistency, and checking for updates is disabled as well. Creating a new Cache is faster again.\r\n\r\nDoes anyone know what I can do to make the CacheManager faster or why it is so slow?\r\n\r\nRegards,\r\nLeen","title":"CacheManager.create() very slow","body":"<p>I am running an application using ehcache on an arm (arm5, no floating point unit) based machine, tested using both jamvm and openjdk and with a compact flash based rootfs (which is quite slow on this device). </p>\n\n<p>When I time CacheManager.create() this takes from 15 to 30 seconds. Even when I pass the default configuration as a parameter this still takes so long. The configuration disables all disk persistency, and checking for updates is disabled as well. Creating a new Cache is faster again.</p>\n\n<p>Does anyone know what I can do to make the CacheManager faster or why it is so slow?</p>\n\n<p>Regards,\nLeen</p>\n"},{"tags":["java","c#",".net","web-services","prometheus"],"answers":[{"tags":[],"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684321855,"creation_date":1684321855,"answer_id":76271449,"question_id":76269133,"body_markdown":"It depends oh how you are using those libraries.\r\n\r\nFor example, as shown at [Quick start][1] of linked by you library, you can start additional server on separate port, just for purposes of exposing metrics.\r\n\r\nBut you also can expose metrics using your current routing, for example like shown at [ASP.NET Web API exporter][2] part of documentation.\r\n\r\n\r\n  [1]: https://github.com/prometheus-net/prometheus-net#quick-start\r\n  [2]: https://github.com/prometheus-net/prometheus-net#aspnet-web-api-exporter","title":"When adding Prometheus instrumentation with Java or .NET, is the web server for metrics running in a separate thread?","body":"<p>It depends oh how you are using those libraries.</p>\n<p>For example, as shown at <a href=\"https://github.com/prometheus-net/prometheus-net#quick-start\" rel=\"nofollow noreferrer\">Quick start</a> of linked by you library, you can start additional server on separate port, just for purposes of exposing metrics.</p>\n<p>But you also can expose metrics using your current routing, for example like shown at <a href=\"https://github.com/prometheus-net/prometheus-net#aspnet-web-api-exporter\" rel=\"nofollow noreferrer\">ASP.NET Web API exporter</a> part of documentation.</p>\n"}],"owner":{"account_id":19115979,"reputation":414,"user_id":13960889,"display_name":"AndCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76271449,"answer_count":1,"score":0,"last_activity_date":1684321855,"creation_date":1684305207,"question_id":76269133,"body_markdown":"When adding Prometheus instrumentation with a client library for Java https://github.com/prometheus/client_java or .NET https://github.com/prometheus-net/prometheus-net, does the instrumentation spin out a metrics web server in a separate thread of the microservice?\r\n\r\nWhat if the instrumented microservice is already running as a web server on port 80, can we expose metrics on a different port let&#39;s say 9001 with a separate instrumentation web server running in the same microservice? ","title":"When adding Prometheus instrumentation with Java or .NET, is the web server for metrics running in a separate thread?","body":"<p>When adding Prometheus instrumentation with a client library for Java <a href=\"https://github.com/prometheus/client_java\" rel=\"nofollow noreferrer\">https://github.com/prometheus/client_java</a> or .NET <a href=\"https://github.com/prometheus-net/prometheus-net\" rel=\"nofollow noreferrer\">https://github.com/prometheus-net/prometheus-net</a>, does the instrumentation spin out a metrics web server in a separate thread of the microservice?</p>\n<p>What if the instrumented microservice is already running as a web server on port 80, can we expose metrics on a different port let's say 9001 with a separate instrumentation web server running in the same microservice?</p>\n"},{"tags":["java","sql-server","jdbc"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":2,"creation_date":1684318066,"post_id":76270806,"comment_id":134499738,"body_markdown":"Error message simply google translated to English says &quot;Connection error: User login error&quot;, and you are using `con = DriverManager.getConnection(url,&quot;&quot;,&quot;&quot;)` to connect to the DB, where username &amp; password are blank. So, the error could be related to that. Are you sure blank username with blank password will be able to connect to the DB?  Shouldn&#39;t the username be `sa` - if it is default installation, and its default password would also be there.","body":"Error message simply google translated to English says &quot;Connection error: User login error&quot;, and you are using <code>con = DriverManager.getConnection(url,&quot;&quot;,&quot;&quot;)</code> to connect to the DB, where username &amp; password are blank. So, the error could be related to that. Are you sure blank username with blank password will be able to connect to the DB?  Shouldn&#39;t the username be <code>sa</code> - if it is default installation, and its default password would also be there."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1684319910,"post_id":76270806,"comment_id":134500131,"body_markdown":"You should also not limit information available to you about the error. `ex.printStackTrace()` is what you want","body":"You should also not limit information available to you about the error. <code>ex.printStackTrace()</code> is what you want"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":2,"creation_date":1684322755,"post_id":76270806,"comment_id":134500715,"body_markdown":"try DriverManager.getConnection(url);","body":"try DriverManager.getConnection(url);"}],"owner":{"account_id":25084818,"reputation":1,"user_id":18978991,"display_name":"Quenuo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684321144,"creation_date":1684317288,"question_id":76270806,"body_markdown":"When running my code, I get the following error:\r\n\r\n&gt; Error de conexi�n: Error de inicio de sesi�n del usuario &#39;&#39;.\r\n&gt; ClientConnectionId:7d721444-7622-4951-a321-3607a1c7167a\r\n\r\nthis is the code:\r\n\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Scanner;\r\npublic class Pokemon {\r\n\t/*Esto guarda en una variable local de tipo String llamado url\r\n    la e indica que se esta utilizando SQL Server en la misma m&#225;quina \r\n    en la que se est&#225; ejecutando el programa, en el puerto 3003, y que la base de \r\n    datos que se est&#225; utilizando se llama &quot;pokemondb&quot;\r\n    El trusted server es para que no tire  error de certificado*/\r\n\t private static final String driver=&quot;com.microsoft.sqlserver.jdbc.DriverJDBCVersion&quot;;\r\n\t  private static final String url = &quot;jdbc:sqlserver://localhost:3003;databaseName=pokemondb;Integrated Security=True;TrustServerCertificate=True&quot;;\r\n\t//jbd es una api de Java que permite establecer conexion de Java con SQl\r\n\tpublic static void main(String[] args) throws SQLException {\r\n\t\tConnection con=conexion();\r\n\t\tScanner escaner = new Scanner(System.in);\r\n\t\tboolean salir = false;//bandera para salir del menu\r\n\t\tint opcion; //Guardaremos la opcion del usuario\r\n\t\tdo\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;-------- Menu Principal--------&quot;);\r\n\t\t\tSystem.out.println(&quot;1 Mostrar todos los pokemons &quot;);\r\n\t\t\tSystem.out.println(&quot;2 Actualizar nombre del pokemon por su numero de la Pokedex &quot;);\r\n\t\t\tSystem.out.println(&quot;3 Borrar pokemon &quot;);\r\n\t\t\tSystem.out.println(&quot;4 Insertar nuevo pokemon &quot;);\r\n\t\t\tSystem.out.println(&quot;5 Mostrar todos los movimientos(incluyendo MT y MO) que puede apreder un pokemon&quot;);\r\n\t\t\tSystem.out.println(&quot;6 Filtrar los pokemon por tipos &quot;);\r\n\t\t\tSystem.out.println(&quot;7 Mostrar el n&#250;mero de movimientos de cada tipo &quot;);\r\n\t\t\tSystem.out.println(&quot;8 Salir &quot;);\r\n\t\t\tSystem.out.println(&quot;--------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;Ingrese una opcion&quot;);\r\n\t\t\topcion=escaner.nextInt();\r\n\t\t\tswitch (opcion) {\r\n\t\t\tcase 1:\r\n\t\t\t\tmostrarPokemon();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tSystem.out.println(&quot;Inserte el numero de la Pokedex&quot;);\r\n\t\t\t\tint id=escaner.nextInt();\r\n\t\t\t\tSystem.out.println(&quot;INTRODUZCA EL NUEVO NOMBRE DEL POKEMON&quot;);\r\n\t\t\t\tString nombre=escaner.toString();\r\n\t\t\t\tactualizarPokemon(id,nombre );\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tSystem.out.println(&quot;Inserte el numero de la Pokedex&quot;);\r\n\t\t\t\tint id1=escaner.nextInt();\r\n\t\t\t\tborrarPokemon(id1);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tSystem.out.println(&quot;INTRODUZCA EL NOMBRE DEL NUEVO POKEMON&quot;);\r\n\t\t\t\tString nombre1=escaner.toString();\r\n\t\t\t\tSystem.out.println(&quot;INTRODUZCA EL PESO DEL POKEMON&quot;);\r\n\t\t\t\tFloat peso=escaner.nextFloat();\r\n\t\t\t\tSystem.out.println(&quot;INTRODUZCA LA ALTURA DEL NUEVO POKEMON&quot;);\r\n\t\t\t\tFloat altura=escaner.nextFloat();\r\n\t\t\t\tinsertarPokemon(nombre1, peso, altura);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tSystem.out.println(&quot;Introduce el numero de la pokedex&quot;);\r\n\t\t\t\tint n=escaner.nextInt();\r\n\t\t\t\tmostrarMovimiento(n);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tSystem.out.println(&quot;Introduce un tipo para filtrarlo&quot;);\r\n\t\t\t\tString tipo=escaner.toString();\r\n\t\t\t\tfiltrarTipo(tipo);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 7:\r\n\t\t\t\tSystem.out.println(&quot;Introduce un tipo&quot;);\r\n\t\t\t\tString tipo2=escaner.toString();\r\n\t\t\t\tfiltrarMovimiento(tipo2);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 8:\r\n\t\t\t\tsalir=true;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}while(!salir);//mientras salir no sea verdadero\r\n\t\tescaner.close();\r\n\t}\r\n\t\tpublic static void mostrarPokemon() throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString pokedex = &quot;SELECT NUMERO_POKEDEX,NOMBRE  FROM Pokemon&quot;;\r\n\t\t\tPreparedStatement ps =con.prepareStatement(pokedex);\r\n\t\t\tResultSet rs=ps.executeQuery();\r\n\t\t\twhile(rs.next()){//mientras que en la consulta de rs se obtengra una respuesta\r\n\t\t\t\tSystem.out.println(rs);//imprima la consulta de rs\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\tpublic static String actualizarPokemon(int id, String nombre) throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta = &quot;update Pokemon set NOMBRE=?  where NUMERO_POKEDEX=?&quot;;\r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setString(1, nombre);//establece el nombre del parametro nombre\r\n\t\t\tps.setInt(2, id);//establece el valor del parametro NUMERO_POKEDEX\r\n\t\t\treturn &quot;El nombre del pokemon con id &quot; + id + &quot; ha sido actualizado a &quot; + nombre;\r\n\t\t}\r\n\t\tpublic static String borrarPokemon(int id) throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta=&quot;delete  from Pokemon where NUMERO_POKEDEX= ?&quot;;\r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setInt(1, id);\r\n\t\t\treturn &quot;El pokemon con numero &quot;+id+&quot; has sido eliminado&quot;;\r\n\t\t}\r\n\t\tpublic static void insertarPokemon(String nombre,double peso, double altura) throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\t String consulta = &quot;INSERT INTO Pokemon(NOMBRE, PESO, ALTURA) VALUES (?,?,?)&quot;;\r\n\t\t\t PreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\t ps.setString(1,nombre);\r\n\t\t\t ps.setDouble(2,peso);\r\n\t\t\t ps.setDouble(3,altura);\r\n\t\t\t String n = &quot;SELECT NUMERO_POKEDEX FROM Pokemon WHERE NOMBRE=?&quot;;\r\n\t\t\t PreparedStatement ps1=con.prepareStatement(n);\r\n\t\t\t ps1.setString(1,nombre);\r\n\t\t\t ResultSet rs=ps1.executeQuery();\r\n\t\t\t while(rs.next()) {\r\n\t\t\t\t System.out.println(&quot;Se ha insertado el nuevo pokemon con nombre &quot;+nombre+&quot; y numero de la pokedex &quot;+rs.getInt(&quot;Pokemon.NUMERO_POKEDEX&quot;));\r\n\t\t\t }\r\n\t\t\t   \r\n\t\t}\r\n\t\tprivate static void mostrarMovimiento(int n) throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta=&quot;select p.NUMERO_POKEDEX,p.NOMBRE,m.NOMBRE from Pokemon p join Pokemon_Movimiento_Forma pmf on p.NUMERO_POKEDEX=pmf.NUMERO_POKEDEX  join Movimiento m on pmf.ID_MOVIMIENTO=m.ID_MOVIMIENTO  where p.NUMERO_POKEDEX=?&quot;;             \r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setInt(1, n);\r\n\t\t\tResultSet rs=ps.executeQuery();\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tSystem.out.println(rs);\r\n\t\t\t}\r\n\t}\r\n\t\tprivate static void filtrarTipo(String t) throws SQLException {\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta=&quot;select p.NUMERO_POKEDEX,p.NOMBRE,p.PESO,p.ALTURA,t.nombre from pokemon p join Pokemon_Tipo pt on p.NUMERO_POKEDEX=pt.NUMERO_POKEDEX join Tipo t on pt.ID_TIPO=t.ID_TIPO  where t.nombre=?;&quot;;\r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setString(1,t);\r\n\t\t\tResultSet rs=ps.executeQuery();\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tSystem.out.println(rs);\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate static void filtrarMovimiento(String t) throws SQLException {\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta=&quot;select t.nombre, count(t.nombre) AS \\&quot;Numeros de movimiento\\&quot; from Movimiento m join Tipo t on m.ID_TIPO=t.ID_TIPO where t.nombre=? group by t.nombre&quot;;\r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setString(1,t);\r\n\t\t\tResultSet rs=ps.executeQuery();\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tSystem.out.println(rs);\r\n\t\t\t}\r\n\t\t}\t\r\n\t\t  public static Connection conexion()  {\r\n\t\t\t\tConnection con=null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tClass.forName(driver);\r\n\t\t\t\t\tcon = DriverManager.getConnection(url,&quot;&quot;,&quot;&quot;);/*establece una conexi&#243;n con la base de datos a trav&#233;s de JDBC (Java Database Connectivity), \r\n\t\t\t\t\t//utilizando la URL de conexi&#243;n especificada.DriverManager es una clase del paquete java.sql \r\n\t\t\t\t\tque se encarga de cargar y registrar el controlador JDBC apropiado, y devolver una instancia de Connection \r\n\t\t\t\t\tque representa una conexi&#243;n con la base de datos.*/\r\n\t\t\t\t\tSystem.out.println(&quot;Conexi&#243;n exitosa&quot;);\r\n\t\t\t\t\t\r\n\t\t\t    } catch (SQLException | ClassNotFoundException ex) {\r\n\t\t\t        System.out.println(&quot;Error de conexi&#243;n: &quot; + ex.getMessage());\r\n\t\t\t    }\r\n\t\t\t\treturn con;\t\t\t\t\r\n\t\t  }\r\n\t\t}\r\n```\r\nI&#39;m using the Windows login method and the port is 3003\r\nWhat do I have to change to make my code work?\r\n\r\n\r\n\r\n\r\nI am trying to establish a connection between java and the SQL Server pokemondb database. \r\nWhen I run the code I get this:\r\n\r\n&gt; Error de conexi�n: Error de inicio de sesi�n del usuario &#39;&#39;.\r\n&gt; ClientConnectionId:7d721444-7622-4951-a321-3607a1c7167a","title":"I can&#39;t connect java in eclipse to SQL Server","body":"<p>When running my code, I get the following error:</p>\n<blockquote>\n<p>Error de conexi�n: Error de inicio de sesi�n del usuario ''.\nClientConnectionId:7d721444-7622-4951-a321-3607a1c7167a</p>\n</blockquote>\n<p>this is the code:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Scanner;\npublic class Pokemon {\n    /*Esto guarda en una variable local de tipo String llamado url\n    la e indica que se esta utilizando SQL Server en la misma máquina \n    en la que se está ejecutando el programa, en el puerto 3003, y que la base de \n    datos que se está utilizando se llama &quot;pokemondb&quot;\n    El trusted server es para que no tire  error de certificado*/\n     private static final String driver=&quot;com.microsoft.sqlserver.jdbc.DriverJDBCVersion&quot;;\n      private static final String url = &quot;jdbc:sqlserver://localhost:3003;databaseName=pokemondb;Integrated Security=True;TrustServerCertificate=True&quot;;\n    //jbd es una api de Java que permite establecer conexion de Java con SQl\n    public static void main(String[] args) throws SQLException {\n        Connection con=conexion();\n        Scanner escaner = new Scanner(System.in);\n        boolean salir = false;//bandera para salir del menu\n        int opcion; //Guardaremos la opcion del usuario\n        do\n        {\n            System.out.println(&quot;-------- Menu Principal--------&quot;);\n            System.out.println(&quot;1 Mostrar todos los pokemons &quot;);\n            System.out.println(&quot;2 Actualizar nombre del pokemon por su numero de la Pokedex &quot;);\n            System.out.println(&quot;3 Borrar pokemon &quot;);\n            System.out.println(&quot;4 Insertar nuevo pokemon &quot;);\n            System.out.println(&quot;5 Mostrar todos los movimientos(incluyendo MT y MO) que puede apreder un pokemon&quot;);\n            System.out.println(&quot;6 Filtrar los pokemon por tipos &quot;);\n            System.out.println(&quot;7 Mostrar el número de movimientos de cada tipo &quot;);\n            System.out.println(&quot;8 Salir &quot;);\n            System.out.println(&quot;--------------------------------&quot;);\n            System.out.println(&quot;Ingrese una opcion&quot;);\n            opcion=escaner.nextInt();\n            switch (opcion) {\n            case 1:\n                mostrarPokemon();\n                break;\n            case 2:\n                System.out.println(&quot;Inserte el numero de la Pokedex&quot;);\n                int id=escaner.nextInt();\n                System.out.println(&quot;INTRODUZCA EL NUEVO NOMBRE DEL POKEMON&quot;);\n                String nombre=escaner.toString();\n                actualizarPokemon(id,nombre );\n                break;\n            case 3:\n                System.out.println(&quot;Inserte el numero de la Pokedex&quot;);\n                int id1=escaner.nextInt();\n                borrarPokemon(id1);\n                break;\n            case 4:\n                System.out.println(&quot;INTRODUZCA EL NOMBRE DEL NUEVO POKEMON&quot;);\n                String nombre1=escaner.toString();\n                System.out.println(&quot;INTRODUZCA EL PESO DEL POKEMON&quot;);\n                Float peso=escaner.nextFloat();\n                System.out.println(&quot;INTRODUZCA LA ALTURA DEL NUEVO POKEMON&quot;);\n                Float altura=escaner.nextFloat();\n                insertarPokemon(nombre1, peso, altura);\n                break;\n            case 5:\n                System.out.println(&quot;Introduce el numero de la pokedex&quot;);\n                int n=escaner.nextInt();\n                mostrarMovimiento(n);\n                break;\n            case 6:\n                System.out.println(&quot;Introduce un tipo para filtrarlo&quot;);\n                String tipo=escaner.toString();\n                filtrarTipo(tipo);\n                break;\n            case 7:\n                System.out.println(&quot;Introduce un tipo&quot;);\n                String tipo2=escaner.toString();\n                filtrarMovimiento(tipo2);\n                break;\n            case 8:\n                salir=true;\n                break;\n            default:\n                break;\n            }\n        }while(!salir);//mientras salir no sea verdadero\n        escaner.close();\n    }\n        public static void mostrarPokemon() throws SQLException{\n            Connection con=conexion();\n            String pokedex = &quot;SELECT NUMERO_POKEDEX,NOMBRE  FROM Pokemon&quot;;\n            PreparedStatement ps =con.prepareStatement(pokedex);\n            ResultSet rs=ps.executeQuery();\n            while(rs.next()){//mientras que en la consulta de rs se obtengra una respuesta\n                System.out.println(rs);//imprima la consulta de rs\n            }\n            \n            \n        }\n        public static String actualizarPokemon(int id, String nombre) throws SQLException{\n            Connection con=conexion();\n            String consulta = &quot;update Pokemon set NOMBRE=?  where NUMERO_POKEDEX=?&quot;;\n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setString(1, nombre);//establece el nombre del parametro nombre\n            ps.setInt(2, id);//establece el valor del parametro NUMERO_POKEDEX\n            return &quot;El nombre del pokemon con id &quot; + id + &quot; ha sido actualizado a &quot; + nombre;\n        }\n        public static String borrarPokemon(int id) throws SQLException{\n            Connection con=conexion();\n            String consulta=&quot;delete  from Pokemon where NUMERO_POKEDEX= ?&quot;;\n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setInt(1, id);\n            return &quot;El pokemon con numero &quot;+id+&quot; has sido eliminado&quot;;\n        }\n        public static void insertarPokemon(String nombre,double peso, double altura) throws SQLException{\n            Connection con=conexion();\n             String consulta = &quot;INSERT INTO Pokemon(NOMBRE, PESO, ALTURA) VALUES (?,?,?)&quot;;\n             PreparedStatement ps=con.prepareStatement(consulta);\n             ps.setString(1,nombre);\n             ps.setDouble(2,peso);\n             ps.setDouble(3,altura);\n             String n = &quot;SELECT NUMERO_POKEDEX FROM Pokemon WHERE NOMBRE=?&quot;;\n             PreparedStatement ps1=con.prepareStatement(n);\n             ps1.setString(1,nombre);\n             ResultSet rs=ps1.executeQuery();\n             while(rs.next()) {\n                 System.out.println(&quot;Se ha insertado el nuevo pokemon con nombre &quot;+nombre+&quot; y numero de la pokedex &quot;+rs.getInt(&quot;Pokemon.NUMERO_POKEDEX&quot;));\n             }\n               \n        }\n        private static void mostrarMovimiento(int n) throws SQLException{\n            Connection con=conexion();\n            String consulta=&quot;select p.NUMERO_POKEDEX,p.NOMBRE,m.NOMBRE from Pokemon p join Pokemon_Movimiento_Forma pmf on p.NUMERO_POKEDEX=pmf.NUMERO_POKEDEX  join Movimiento m on pmf.ID_MOVIMIENTO=m.ID_MOVIMIENTO  where p.NUMERO_POKEDEX=?&quot;;             \n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setInt(1, n);\n            ResultSet rs=ps.executeQuery();\n            while(rs.next()) {\n                System.out.println(rs);\n            }\n    }\n        private static void filtrarTipo(String t) throws SQLException {\n            Connection con=conexion();\n            String consulta=&quot;select p.NUMERO_POKEDEX,p.NOMBRE,p.PESO,p.ALTURA,t.nombre from pokemon p join Pokemon_Tipo pt on p.NUMERO_POKEDEX=pt.NUMERO_POKEDEX join Tipo t on pt.ID_TIPO=t.ID_TIPO  where t.nombre=?;&quot;;\n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setString(1,t);\n            ResultSet rs=ps.executeQuery();\n            while(rs.next()) {\n                System.out.println(rs);\n            }\n        }\n        private static void filtrarMovimiento(String t) throws SQLException {\n            Connection con=conexion();\n            String consulta=&quot;select t.nombre, count(t.nombre) AS \\&quot;Numeros de movimiento\\&quot; from Movimiento m join Tipo t on m.ID_TIPO=t.ID_TIPO where t.nombre=? group by t.nombre&quot;;\n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setString(1,t);\n            ResultSet rs=ps.executeQuery();\n            while(rs.next()) {\n                System.out.println(rs);\n            }\n        }   \n          public static Connection conexion()  {\n                Connection con=null;\n                try {\n                    Class.forName(driver);\n                    con = DriverManager.getConnection(url,&quot;&quot;,&quot;&quot;);/*establece una conexión con la base de datos a través de JDBC (Java Database Connectivity), \n                    //utilizando la URL de conexión especificada.DriverManager es una clase del paquete java.sql \n                    que se encarga de cargar y registrar el controlador JDBC apropiado, y devolver una instancia de Connection \n                    que representa una conexión con la base de datos.*/\n                    System.out.println(&quot;Conexión exitosa&quot;);\n                    \n                } catch (SQLException | ClassNotFoundException ex) {\n                    System.out.println(&quot;Error de conexión: &quot; + ex.getMessage());\n                }\n                return con;             \n          }\n        }\n</code></pre>\n<p>I'm using the Windows login method and the port is 3003\nWhat do I have to change to make my code work?</p>\n<p>I am trying to establish a connection between java and the SQL Server pokemondb database.\nWhen I run the code I get this:</p>\n<blockquote>\n<p>Error de conexi�n: Error de inicio de sesi�n del usuario ''.\nClientConnectionId:7d721444-7622-4951-a321-3607a1c7167a</p>\n</blockquote>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13020607,"reputation":361,"user_id":9410164,"display_name":"ndriqa"},"score":0,"creation_date":1684319093,"post_id":76271027,"comment_id":134499951,"body_markdown":"Have you initialized the `TextView` you are using `setText()` on?","body":"Have you initialized the <code>TextView</code> you are using <code>setText()</code> on?"},{"owner":{"account_id":21518749,"reputation":13,"user_id":15860183,"display_name":"Atharv Nadkarni"},"score":0,"creation_date":1684319101,"post_id":76271027,"comment_id":134499956,"body_markdown":"How am I supposed to initialize it? I don&#39;t have an Layout file for the ListItem","body":"How am I supposed to initialize it? I don&#39;t have an Layout file for the ListItem"}],"answers":[{"tags":[],"owner":{"account_id":19774238,"reputation":46,"user_id":14480586,"display_name":"David Zhubrev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684320848,"creation_date":1684320848,"answer_id":76271312,"question_id":76271027,"body_markdown":"The problem is you do not initialize subjectNameTextView, so it is null. And after that, you are trying to call the textView&#39;s method on a null object reference.\r\nTry doing this:\r\n```\r\npublic class ListItem extends RelativeLayout {\r\n\r\n    public void setSubjectName() {\r\n        if (this.subjectName != null) {\r\n            if (this.subjectNameTextView == null){\r\n                this.subjectNameTextView = new TextView(context);\r\n            }\r\n            subjectNameTextView = new TextView(context);\r\n            addView(subjectNameTextView);\r\n            subjectNameTextView.setText(this.subjectName);\r\n        }\r\n    }\r\n}\r\n```\r\nAlso, you can put text view initialization into your constructor, but be sure you call it if you have multiple constructors.\r\nThe context instance can be acquired from any view class instances, so you got it covered, because your ListItem extends View.","title":"Is there a way to include TextViews in custom views in Android?","body":"<p>The problem is you do not initialize subjectNameTextView, so it is null. And after that, you are trying to call the textView's method on a null object reference.\nTry doing this:</p>\n<pre><code>public class ListItem extends RelativeLayout {\n\n    public void setSubjectName() {\n        if (this.subjectName != null) {\n            if (this.subjectNameTextView == null){\n                this.subjectNameTextView = new TextView(context);\n            }\n            subjectNameTextView = new TextView(context);\n            addView(subjectNameTextView);\n            subjectNameTextView.setText(this.subjectName);\n        }\n    }\n}\n</code></pre>\n<p>Also, you can put text view initialization into your constructor, but be sure you call it if you have multiple constructors.\nThe context instance can be acquired from any view class instances, so you got it covered, because your ListItem extends View.</p>\n"},{"tags":[],"owner":{"account_id":8458665,"reputation":267,"user_id":6345106,"display_name":"Adil Raza Bangash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684320885,"creation_date":1684320885,"answer_id":76271316,"question_id":76271027,"body_markdown":"You are getting the nullPointerException because you did not initialized you textview &quot;subjectNameTextView&quot;. please change \r\n\r\n    public class ListItem extends View {\r\n\r\n    private String subjectName;\r\n    private int backgroundColor;\r\n    TextView subjectNameTextView;\r\n\r\n    public void setSubjectName() {\r\n        if (this.subjectName != null) {\r\n            subjectNameTextView.setText(this.subjectName);\r\n        }\r\n    }\r\n\r\n    public void setColor() {\r\n        if (this.backgroundColor != 0) {\r\n            this.setBackgroundColor(this.backgroundColor);\r\n        }\r\n    }\r\n    }\r\n\r\nto \r\n\r\n    public class ListItem extends View {\r\n\r\n    private String subjectName;\r\n    private int backgroundColor;\r\n    TextView subjectNameTextView;\r\n\r\n    public void setSubjectName() {\r\n     subjectNameTextView = new TextView(this); // this code you have to add\r\n        if (this.subjectName != null) {\r\n            subjectNameTextView.setText(this.subjectName);\r\n        }\r\n    }\r\n\r\n    public void setColor() {\r\n        if (this.backgroundColor != 0) {\r\n            this.setBackgroundColor(this.backgroundColor);\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"Is there a way to include TextViews in custom views in Android?","body":"<p>You are getting the nullPointerException because you did not initialized you textview &quot;subjectNameTextView&quot;. please change</p>\n<pre><code>public class ListItem extends View {\n\nprivate String subjectName;\nprivate int backgroundColor;\nTextView subjectNameTextView;\n\npublic void setSubjectName() {\n    if (this.subjectName != null) {\n        subjectNameTextView.setText(this.subjectName);\n    }\n}\n\npublic void setColor() {\n    if (this.backgroundColor != 0) {\n        this.setBackgroundColor(this.backgroundColor);\n    }\n}\n}\n</code></pre>\n<p>to</p>\n<pre><code>public class ListItem extends View {\n\nprivate String subjectName;\nprivate int backgroundColor;\nTextView subjectNameTextView;\n\npublic void setSubjectName() {\n subjectNameTextView = new TextView(this); // this code you have to add\n    if (this.subjectName != null) {\n        subjectNameTextView.setText(this.subjectName);\n    }\n}\n\npublic void setColor() {\n    if (this.backgroundColor != 0) {\n        this.setBackgroundColor(this.backgroundColor);\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":21518749,"reputation":13,"user_id":15860183,"display_name":"Atharv Nadkarni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76271316,"answer_count":2,"score":0,"last_activity_date":1684320885,"creation_date":1684318789,"question_id":76271027,"body_markdown":"so I am trying to make a ListItem in an App that I am making, and I want it to look something like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I hop into my layout.xml file, without the ListItem, the preview renders properly and so does the app.\r\n\r\n\r\n[![enter image description here][2]][2][![enter image description here][3]][3]\r\n\r\n\r\nHowever with the ListItem, the preview and app do not render.\r\n\r\n[![enter image description here][5]][5][![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W26Vy.png\r\n  [2]: https://i.stack.imgur.com/VxhFVl.png\r\n  [3]: https://i.stack.imgur.com/oOGj5l.png\r\n  [4]: https://i.stack.imgur.com/jfbr3l.png\r\n  [5]: https://i.stack.imgur.com/Qcj2Al.png\r\n\r\nThe error was \r\n```\r\nError inflating class ListItem\r\n```\r\nwhich was caused by\r\n```\r\nAttempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n```\r\n\r\nSo it had to be something with the TextView.\r\n\r\nHere is my code (I just removed all imports and constructors):\r\n```java\r\npublic class ListItem extends View {\r\n\r\n    private String subjectName;\r\n    private int backgroundColor;\r\n    TextView subjectNameTextView;\r\n\r\n    public void setSubjectName() {\r\n        if (this.subjectName != null) {\r\n            subjectNameTextView.setText(this.subjectName);\r\n        }\r\n    }\r\n\r\n    public void setColor() {\r\n        if (this.backgroundColor != 0) {\r\n            this.setBackgroundColor(this.backgroundColor);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is `activity_maths.xml` if needed.\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MathsActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hello!&quot;\r\n        android:textSize=&quot;50sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;com.atharvnadkarni.funlurn.ListItem\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; app:title=&quot;Text&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nAlright everyone, I found another post that said to do `addView` on a `ViewGroup`, so I changed my `setSubjectName` function to this:\r\n\r\n```java\r\npublic class ListItem extends RelativeLayout {\r\n\r\n    public void setSubjectName() {\r\n        if (this.subjectName != null) {\r\n            addView(subjectNameTextView);\r\n            subjectNameTextView.setText(this.subjectName);\r\n        }\r\n}\r\n}\r\n```\r\nBut this does not work, and shows that you\r\n```Cannot add a null child view to a ViewGroup```","title":"Is there a way to include TextViews in custom views in Android?","body":"<p>so I am trying to make a ListItem in an App that I am making, and I want it to look something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/W26Vy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W26Vy.png\" alt=\"enter image description here\" /></a></p>\n<p>When I hop into my layout.xml file, without the ListItem, the preview renders properly and so does the app.</p>\n<p><a href=\"https://i.stack.imgur.com/VxhFVl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VxhFVl.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/oOGj5l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOGj5l.png\" alt=\"enter image description here\" /></a></p>\n<p>However with the ListItem, the preview and app do not render.</p>\n<p><a href=\"https://i.stack.imgur.com/Qcj2Al.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qcj2Al.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/jfbr3l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jfbr3l.png\" alt=\"enter image description here\" /></a></p>\n<p>The error was</p>\n<pre><code>Error inflating class ListItem\n</code></pre>\n<p>which was caused by</p>\n<pre><code>Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n</code></pre>\n<p>So it had to be something with the TextView.</p>\n<p>Here is my code (I just removed all imports and constructors):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ListItem extends View {\n\n    private String subjectName;\n    private int backgroundColor;\n    TextView subjectNameTextView;\n\n    public void setSubjectName() {\n        if (this.subjectName != null) {\n            subjectNameTextView.setText(this.subjectName);\n        }\n    }\n\n    public void setColor() {\n        if (this.backgroundColor != 0) {\n            this.setBackgroundColor(this.backgroundColor);\n        }\n    }\n}\n</code></pre>\n<p>Here is <code>activity_maths.xml</code> if needed.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MathsActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello!&quot;\n        android:textSize=&quot;50sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;com.atharvnadkarni.funlurn.ListItem\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; app:title=&quot;Text&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Alright everyone, I found another post that said to do <code>addView</code> on a <code>ViewGroup</code>, so I changed my <code>setSubjectName</code> function to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ListItem extends RelativeLayout {\n\n    public void setSubjectName() {\n        if (this.subjectName != null) {\n            addView(subjectNameTextView);\n            subjectNameTextView.setText(this.subjectName);\n        }\n}\n}\n</code></pre>\n<p>But this does not work, and shows that you\n<code>Cannot add a null child view to a ViewGroup</code></p>\n"},{"tags":["java","static"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1684306552,"post_id":76269245,"comment_id":134497160,"body_markdown":"You should be able to get it from the stack trace which you can get via `Thread.currentThread().getStackTrace()`.","body":"You should be able to get it from the stack trace which you can get via <code>Thread.currentThread().getStackTrace()</code>."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684319700,"creation_date":1684306519,"answer_id":76269282,"question_id":76269245,"body_markdown":"You can get the current stack trace from `Thread.currentThread().getStackTrace()` and analyse it to get the information you need.\r\n\r\nThanks to _user16320675_ and _Holger_ who pointed out that my initial solution was uneccessary complex.\r\n ","title":"Static method to get method name","body":"<p>You can get the current stack trace from <code>Thread.currentThread().getStackTrace()</code> and analyse it to get the information you need.</p>\n<p>Thanks to <em>user16320675</em> and <em>Holger</em> who pointed out that my initial solution was uneccessary complex.</p>\n"}],"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684306528,"answer_count":1,"score":0,"last_activity_date":1684319700,"creation_date":1684306219,"question_id":76269245,"body_markdown":"is there a good way to create a utils that we will call the name of the method in which it was used?\r\n\r\n        @NoArgsConstructor(access = PRIVATE)\r\n        public class NameUtils {\r\n        \r\n        public static String getMethodName(){\r\n        ...\r\n        }\r\n        }\r\n        \r\n        public class MyClass {\r\n        \r\n        public void methodName(){\r\n        \r\n        String name = NameUtils.getMethodName()   //should return &#39;methodName&#39;\r\n        }\r\n        }","title":"Static method to get method name","body":"<p>is there a good way to create a utils that we will call the name of the method in which it was used?</p>\n<pre><code>    @NoArgsConstructor(access = PRIVATE)\n    public class NameUtils {\n    \n    public static String getMethodName(){\n    ...\n    }\n    }\n    \n    public class MyClass {\n    \n    public void methodName(){\n    \n    String name = NameUtils.getMethodName()   //should return 'methodName'\n    }\n    }\n</code></pre>\n"},{"tags":["java","email","microsoft-graph-mail","change-notification"],"owner":{"account_id":27081170,"reputation":13,"user_id":20630313,"display_name":"Pankaj Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684319566,"creation_date":1684319169,"question_id":76271096,"body_markdown":"I want to get the Microsoft email notification in my java program. I am using change notification of Microsoft Graph API to get notified whenever new email gets received.\r\nI have information like Secret ID, Value, client_id and tenant_id. \r\n\r\nI have written a code to subscribe the emails but getting issues.\r\n\r\nCode :\r\n\r\n```public class GraphSubscription {\r\n\r\n\tpublic static void main(String[] args) throws ParseException {\r\n\r\n\t\tfinal ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\r\n\t\t\t\t.clientId(&quot;**** client ID ****&quot;)\r\n\t\t\t\t.clientSecret(&quot;**** client secret ****&quot;)\r\n\t\t\t\t.tenantId(&quot;**** tenantID ****&quot;).build();\r\n\r\n\t\tList&lt;String&gt; scope = new ArrayList&lt;&gt;();\r\n\t\tscope.add(&quot;.default&quot;);\r\n\t\tfinal TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scope,\r\n\t\t\t\tclientSecretCredential);\r\n\r\n\t\tfinal GraphServiceClient graphClient = GraphServiceClient.builder()\r\n\t\t\t\t.authenticationProvider(tokenCredentialAuthProvider).buildClient();\r\n\r\n\t\tfinal User me = graphClient.me().buildRequest().get();\r\n\r\n\t\tSubscription subscription = new Subscription();\r\n\t\tsubscription.changeType = &quot;created,updated&quot;;\r\n\t\tsubscription.notificationUrl = &quot;https://webhook.azurewebsites.net/notificationClient&quot;;\r\n\t\tsubscription.lifecycleNotificationUrl = &quot;https://webhook.azurewebsites.net/api/lifecycleNotifications&quot;;\r\n\t\tsubscription.resource = &quot;/me/mailfolders(&#39;inbox&#39;)/messages&quot;;\r\n\t\tsubscription.expirationDateTime = OffsetDateTimeSerializer.deserialize(&quot;2024-03-20T11:00:00Z&quot;);\r\n\t\tsubscription.clientState = &quot;SecretClientState&quot;;\r\n\r\n\t\tgraphClient.subscriptions().buildRequest().post(subscription);\r\n\r\n\t}\r\n}```\r\n\r\nAfter starting the java application, I am getting error as,\r\n\r\n15:48:18.633 [main] DEBUG reactor.util.Loggers - Using Slf4j logging framework\r\n15:48:19.101 [main] DEBUG com.azure.core.implementation.util.Providers - Using com.azure.core.http.okhttp.OkHttpAsyncClientProvider as the default com.azure.core.http.HttpClientProvider.\r\n15:48:19.729 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.ConfidentialClientApplication - [Correlation ID: 701314f0-c33f-465b-9102-463be729a515] Execution of class com.microsoft.aad.msal4j.AcquireTokenSilentSupplier failed.\r\ncom.microsoft.aad.msal4j.MsalClientException: Token not found in the cache\r\n\tat com.microsoft.aad.msal4j.AcquireTokenSilentSupplier.execute(AcquireTokenSilentSupplier.java:98)\r\n\tat com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:69)\r\n\tat com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:18)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\n15:48:19.740 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.AcquireTokenByClientCredentialSupplier - SkipCache set to false. Attempting cache lookup\r\n15:48:19.740 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.AcquireTokenByClientCredentialSupplier - Cache lookup failed: Token not found in the cache\r\n15:48:20.043 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.ConfidentialClientApplication - [Correlation ID: bcbf5e5d-09f7-4bdd-818f-353fbcfd2ea3] Access Token was returned\r\n15:48:20.044 [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [.default]: SUCCESS\r\nMay 17, 2023 3:48:20 PM com.microsoft.graph.logger.DefaultLogger logError\r\nSEVERE: CoreHttpProvider[sendRequestInternal] - 408Graph service exception\r\nMay 17, 2023 3:48:20 PM com.microsoft.graph.logger.DefaultLogger logError\r\nSEVERE: Throwable detail: com.microsoft.graph.http.GraphServiceException: Error code: BadRequest\r\nError message: /me request is only valid with delegated authentication flow.\r\n\r\nGET https://graph.microsoft.com/v1.0/me\r\nSdkVersion : graph-java/v5.54.0\r\n\r\n\r\n400 : Bad Request\r\n[...]\r\n\r\n[Some information was truncated for brevity, enable debug logging for more details]\r\nException in thread &quot;main&quot; com.microsoft.graph.http.GraphServiceException: Error code: BadRequest\r\nError message: /me request is only valid with delegated authentication flow.\r\n\r\nGET https://graph.microsoft.com/v1.0/me\r\nSdkVersion : graph-java/v5.54.0\r\n\r\n\r\n400 : Bad Request\r\n[...]\r\n\r\n[Some information was truncated for brevity, enable debug logging for more details]\r\n\tat com.microsoft.graph.http.GraphServiceException.createFromResponse(GraphServiceException.java:419)\r\n\tat com.microsoft.graph.http.GraphServiceException.createFromResponse(GraphServiceException.java:378)\r\n\tat com.microsoft.graph.http.CoreHttpProvider.handleErrorResponse(CoreHttpProvider.java:512)\r\n\tat com.microsoft.graph.http.CoreHttpProvider.processResponse(CoreHttpProvider.java:442)\r\n\tat com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:408)\r\n\tat com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:225)\r\n\tat com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:202)\r\n\tat com.microsoft.graph.http.BaseRequest.send(BaseRequest.java:335)\r\n\tat com.microsoft.graph.requests.UserRequest.get(UserRequest.java:72)\r\n\tat com.nib.plp.controller.GraphSubscription.main(GraphSubscription.java:37)\r\n\r\n\r\nKindly suggest if any changes are required to be made.\r\nYour help is really appreciate as it is extremely important for me to implement.","title":"Using Graph Api to use change notification for emails. facing error as &quot; Token not found in the cache&quot;","body":"<p>I want to get the Microsoft email notification in my java program. I am using change notification of Microsoft Graph API to get notified whenever new email gets received.\nI have information like Secret ID, Value, client_id and tenant_id.</p>\n<p>I have written a code to subscribe the emails but getting issues.</p>\n<p>Code :</p>\n<pre><code>\n    public static void main(String[] args) throws ParseException {\n\n        final ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\n                .clientId(&quot;**** client ID ****&quot;)\n                .clientSecret(&quot;**** client secret ****&quot;)\n                .tenantId(&quot;**** tenantID ****&quot;).build();\n\n        List&lt;String&gt; scope = new ArrayList&lt;&gt;();\n        scope.add(&quot;.default&quot;);\n        final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scope,\n                clientSecretCredential);\n\n        final GraphServiceClient graphClient = GraphServiceClient.builder()\n                .authenticationProvider(tokenCredentialAuthProvider).buildClient();\n\n        final User me = graphClient.me().buildRequest().get();\n\n        Subscription subscription = new Subscription();\n        subscription.changeType = &quot;created,updated&quot;;\n        subscription.notificationUrl = &quot;https://webhook.azurewebsites.net/notificationClient&quot;;\n        subscription.lifecycleNotificationUrl = &quot;https://webhook.azurewebsites.net/api/lifecycleNotifications&quot;;\n        subscription.resource = &quot;/me/mailfolders('inbox')/messages&quot;;\n        subscription.expirationDateTime = OffsetDateTimeSerializer.deserialize(&quot;2024-03-20T11:00:00Z&quot;);\n        subscription.clientState = &quot;SecretClientState&quot;;\n\n        graphClient.subscriptions().buildRequest().post(subscription);\n\n    }\n}```\n\nAfter starting the java application, I am getting error as,\n\n15:48:18.633 [main] DEBUG reactor.util.Loggers - Using Slf4j logging framework\n15:48:19.101 [main] DEBUG com.azure.core.implementation.util.Providers - Using com.azure.core.http.okhttp.OkHttpAsyncClientProvider as the default com.azure.core.http.HttpClientProvider.\n15:48:19.729 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.ConfidentialClientApplication - [Correlation ID: 701314f0-c33f-465b-9102-463be729a515] Execution of class com.microsoft.aad.msal4j.AcquireTokenSilentSupplier failed.\ncom.microsoft.aad.msal4j.MsalClientException: Token not found in the cache\n    at com.microsoft.aad.msal4j.AcquireTokenSilentSupplier.execute(AcquireTokenSilentSupplier.java:98)\n    at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:69)\n    at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:18)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\n15:48:19.740 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.AcquireTokenByClientCredentialSupplier - SkipCache set to false. Attempting cache lookup\n15:48:19.740 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.AcquireTokenByClientCredentialSupplier - Cache lookup failed: Token not found in the cache\n15:48:20.043 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.ConfidentialClientApplication - [Correlation ID: bcbf5e5d-09f7-4bdd-818f-353fbcfd2ea3] Access Token was returned\n15:48:20.044 [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [.default]: SUCCESS\nMay 17, 2023 3:48:20 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 408Graph service exception\nMay 17, 2023 3:48:20 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: Throwable detail: com.microsoft.graph.http.GraphServiceException: Error code: BadRequest\nError message: /me request is only valid with delegated authentication flow.\n\nGET https://graph.microsoft.com/v1.0/me\nSdkVersion : graph-java/v5.54.0\n\n\n400 : Bad Request\n[...]\n\n[Some information was truncated for brevity, enable debug logging for more details]\nException in thread &quot;main&quot; com.microsoft.graph.http.GraphServiceException: Error code: BadRequest\nError message: /me request is only valid with delegated authentication flow.\n\nGET https://graph.microsoft.com/v1.0/me\nSdkVersion : graph-java/v5.54.0\n\n\n400 : Bad Request\n[...]\n\n[Some information was truncated for brevity, enable debug logging for more details]\n    at com.microsoft.graph.http.GraphServiceException.createFromResponse(GraphServiceException.java:419)\n    at com.microsoft.graph.http.GraphServiceException.createFromResponse(GraphServiceException.java:378)\n    at com.microsoft.graph.http.CoreHttpProvider.handleErrorResponse(CoreHttpProvider.java:512)\n    at com.microsoft.graph.http.CoreHttpProvider.processResponse(CoreHttpProvider.java:442)\n    at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:408)\n    at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:225)\n    at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:202)\n    at com.microsoft.graph.http.BaseRequest.send(BaseRequest.java:335)\n    at com.microsoft.graph.requests.UserRequest.get(UserRequest.java:72)\n    at com.nib.plp.controller.GraphSubscription.main(GraphSubscription.java:37)\n\n\nKindly suggest if any changes are required to be made.\nYour help is really appreciate as it is extremely important for me to implement.\n</code></pre>\n"},{"tags":["java","sql","snowflake-cloud-data-platform"],"answers":[{"tags":[],"owner":{"account_id":18733535,"reputation":8774,"user_id":13658399,"display_name":"NickW"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684317761,"creation_date":1684317761,"answer_id":76270874,"question_id":76270299,"body_markdown":"Assuming that you don&#39;t need to further process the data in your Java code (in a way that is not possible in Snowflake) and ignoring the fact that there are a large number of unknown variables implicit in your question, then doing it all in Snowflake will almost certainly perform better - Snowflake is an engine specifically designed to process data in the way you&#39;ve described; Java is a generic coding language","title":"Doing calculations in Snowflake VS. in Java","body":"<p>Assuming that you don't need to further process the data in your Java code (in a way that is not possible in Snowflake) and ignoring the fact that there are a large number of unknown variables implicit in your question, then doing it all in Snowflake will almost certainly perform better - Snowflake is an engine specifically designed to process data in the way you've described; Java is a generic coding language</p>\n"}],"owner":{"account_id":12241772,"reputation":129,"user_id":8934639,"display_name":"Chedva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76270874,"answer_count":1,"score":0,"last_activity_date":1684317761,"creation_date":1684314008,"question_id":76270299,"body_markdown":"Asummed I have several not big tables (thousands of records maximum, ~10 columns), and I need to join them and do more aggregations like count and group by; what is preferred, in terms of performance: doing the joins and aggregations in Snowflake, or fetching the data as is from Snowflake and doing the joins and aggregations in Java code?\r\n","title":"Doing calculations in Snowflake VS. in Java","body":"<p>Asummed I have several not big tables (thousands of records maximum, ~10 columns), and I need to join them and do more aggregations like count and group by; what is preferred, in terms of performance: doing the joins and aggregations in Snowflake, or fetching the data as is from Snowflake and doing the joins and aggregations in Java code?</p>\n"},{"tags":["java","generics","class","literals"],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":2,"up_vote_count":196,"is_accepted":true,"score":194,"last_activity_date":1501048149,"creation_date":1267832342,"answer_id":2390682,"question_id":2390662,"body_markdown":"You can&#39;t due to [type erasure][1].\r\n\r\nJava generics are little more than syntactic sugar for Object casts. To demonstrate:\r\n\r\n    List&lt;Integer&gt; list1 = new ArrayList&lt;Integer&gt;();\r\n    List&lt;String&gt; list2 = (List&lt;String&gt;)list1;\r\n    list2.add(&quot;foo&quot;); // perfectly legal\r\n\r\nThe only instance where generic type information is retained at runtime is with [`Field.getGenericType()`][2] if interrogating a class&#39;s members via reflection.\r\n\r\nAll of this is why [`Object.getClass()`][3] has this signature:\r\n\r\n    public final native Class&lt;?&gt; getClass();\r\n\r\nThe important part being `Class&lt;?&gt;`.\r\n\r\nTo put it another way, from the [Java Generics FAQ][4]:\r\n\r\n&gt; ## Why is there no class literal for concrete parameterized types?   \r\n&gt; ***Because parameterized type has no exact runtime type representation.***\r\n&gt; \r\n&gt; A class literal denotes a `Class`\r\n&gt; object that represents a given type.\r\n&gt; For instance, the class literal\r\n&gt; `String.class` denotes the `Class`\r\n&gt; object that represents the type\r\n&gt; `String` and is identical to the\r\n&gt; `Class` object that is returned when\r\n&gt; method `getClass` is invoked on a\r\n&gt; `String` object. A class literal can\r\n&gt; be used for runtime type checks and\r\n&gt; for reflection. \r\n&gt; \r\n&gt; Parameterized types lose their type\r\n&gt; arguments when they are translated to\r\n&gt; byte code during compilation in a\r\n&gt; process called type erasure . As a\r\n&gt; side effect of type erasure, all \r\n&gt; instantiations of a generic type share\r\n&gt; the same runtime representation,\r\n&gt; namely that of the corresponding raw\r\n&gt; type .  In other words, parameterized\r\n&gt; types do not have type representation\r\n&gt; of their own. Consequently, there is\r\n&gt; no point in forming class literals\r\n&gt; such as `List&lt;String&gt;.class` ,\r\n&gt; `List&lt;Long&gt;.class` and `List&lt;?&gt;.class`\r\n&gt; , since no such `Class` objects exist.\r\n&gt; Only the raw type `List` has a `Class`\r\n&gt; object that represents its runtime\r\n&gt; type. It is referred to as\r\n&gt; `List.class`.\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/java/generics/erasure.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Field.html#getGenericType()\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#getClass()\r\n  [4]: http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ106","title":"Java: how do I get a class literal from a generic type?","body":"<p>You can't due to <a href=\"http://java.sun.com/docs/books/tutorial/java/generics/erasure.html\" rel=\"noreferrer\">type erasure</a>.</p>\n\n<p>Java generics are little more than syntactic sugar for Object casts. To demonstrate:</p>\n\n<pre><code>List&lt;Integer&gt; list1 = new ArrayList&lt;Integer&gt;();\nList&lt;String&gt; list2 = (List&lt;String&gt;)list1;\nlist2.add(\"foo\"); // perfectly legal\n</code></pre>\n\n<p>The only instance where generic type information is retained at runtime is with <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Field.html#getGenericType()\" rel=\"noreferrer\"><code>Field.getGenericType()</code></a> if interrogating a class's members via reflection.</p>\n\n<p>All of this is why <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#getClass()\" rel=\"noreferrer\"><code>Object.getClass()</code></a> has this signature:</p>\n\n<pre><code>public final native Class&lt;?&gt; getClass();\n</code></pre>\n\n<p>The important part being <code>Class&lt;?&gt;</code>.</p>\n\n<p>To put it another way, from the <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ106\" rel=\"noreferrer\">Java Generics FAQ</a>:</p>\n\n<blockquote>\n  <h2>Why is there no class literal for concrete parameterized types?</h2>\n  \n  <p><strong><em>Because parameterized type has no exact runtime type representation.</em></strong></p>\n  \n  <p>A class literal denotes a <code>Class</code>\n  object that represents a given type.\n  For instance, the class literal\n  <code>String.class</code> denotes the <code>Class</code>\n  object that represents the type\n  <code>String</code> and is identical to the\n  <code>Class</code> object that is returned when\n  method <code>getClass</code> is invoked on a\n  <code>String</code> object. A class literal can\n  be used for runtime type checks and\n  for reflection. </p>\n  \n  <p>Parameterized types lose their type\n  arguments when they are translated to\n  byte code during compilation in a\n  process called type erasure . As a\n  side effect of type erasure, all \n  instantiations of a generic type share\n  the same runtime representation,\n  namely that of the corresponding raw\n  type .  In other words, parameterized\n  types do not have type representation\n  of their own. Consequently, there is\n  no point in forming class literals\n  such as <code>List&lt;String&gt;.class</code> ,\n  <code>List&lt;Long&gt;.class</code> and <code>List&lt;?&gt;.class</code>\n  , since no such <code>Class</code> objects exist.\n  Only the raw type <code>List</code> has a <code>Class</code>\n  object that represents its runtime\n  type. It is referred to as\n  <code>List.class</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1267832676,"creation_date":1267832676,"answer_id":2390699,"question_id":2390662,"body_markdown":"To expound on cletus&#39; answer, at runtime all record of the generic types is removed.  Generics are processed only in the compiler and are used to provide additional type safety.  They are really just shorthand that allows the compiler to insert typecasts at the appropriate places.  For example, previously you&#39;d have to do the following:\r\n\r\n    List x = new ArrayList();\r\n    x.add(new SomeClass());\r\n    Iterator i = x.iterator();\r\n    SomeClass z = (SomeClass) i.next();\r\n\r\nbecomes\r\n\r\n    List&lt;SomeClass&gt; x = new ArrayList&lt;SomeClass&gt;();\r\n    x.add(new SomeClass());\r\n    Iterator&lt;SomeClass&gt; i = x.iterator();\r\n    SomeClass z = i.next();\r\n\r\nThis allows the compiler to check your code at compile-time, but at runtime it still looks like the first example.","title":"Java: how do I get a class literal from a generic type?","body":"<p>To expound on cletus' answer, at runtime all record of the generic types is removed.  Generics are processed only in the compiler and are used to provide additional type safety.  They are really just shorthand that allows the compiler to insert typecasts at the appropriate places.  For example, previously you'd have to do the following:</p>\n\n<pre><code>List x = new ArrayList();\nx.add(new SomeClass());\nIterator i = x.iterator();\nSomeClass z = (SomeClass) i.next();\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>List&lt;SomeClass&gt; x = new ArrayList&lt;SomeClass&gt;();\nx.add(new SomeClass());\nIterator&lt;SomeClass&gt; i = x.iterator();\nSomeClass z = i.next();\n</code></pre>\n\n<p>This allows the compiler to check your code at compile-time, but at runtime it still looks like the first example.</p>\n"},{"tags":[],"owner":{"account_id":597383,"reputation":811,"user_id":288498,"display_name":"Santi P."},"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1268022884,"creation_date":1268022884,"answer_id":2399305,"question_id":2390662,"body_markdown":"There are no Class literals for parameterized types, however there are Type objects that correctly define these types. \r\n\r\nSee java.lang.reflect.ParameterizedType \r\n  - http://java.sun.com/j2se/1.5.0/docs/api/java/lang/reflect/ParameterizedType.html\r\n\r\nGoogle&#39;s Gson library defines a TypeToken class that allows to simply generate parameterized types and uses it to spec json objects with complex parameterized types in a generic friendly way. In your example you would use:\r\n\r\n    Type typeOfListOfFoo = new TypeToken&lt;List&lt;Foo&gt;&gt;(){}.getType()\r\n\r\nI intended to post links to the TypeToken and Gson classes javadoc but Stack Overflow won&#39;t let me post more than one link since I&#39;m a new user, you can easily find them using Google search","title":"Java: how do I get a class literal from a generic type?","body":"<p>There are no Class literals for parameterized types, however there are Type objects that correctly define these types. </p>\n\n<p>See java.lang.reflect.ParameterizedType \n  - <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/reflect/ParameterizedType.html\" rel=\"noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/lang/reflect/ParameterizedType.html</a></p>\n\n<p>Google's Gson library defines a TypeToken class that allows to simply generate parameterized types and uses it to spec json objects with complex parameterized types in a generic friendly way. In your example you would use:</p>\n\n<pre><code>Type typeOfListOfFoo = new TypeToken&lt;List&lt;Foo&gt;&gt;(){}.getType()\n</code></pre>\n\n<p>I intended to post links to the TypeToken and Gson classes javadoc but Stack Overflow won't let me post more than one link since I'm a new user, you can easily find them using Google search</p>\n"},{"tags":[],"owner":{"account_id":9187,"reputation":9248,"user_id":16873,"accept_rate":100,"display_name":"Thiago Chaves"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394567672,"creation_date":1268058879,"answer_id":2401994,"question_id":2390662,"body_markdown":"Due to the exposed fact that Class literals doesn&#39;t have generic type information, I think you should assume that it will be impossible to get rid of all the warnings. In a way, using `Class&lt;Something&gt;` is the same as using a collection without specifying the generic type. The best I could come out with was:\r\n\r\n    private &lt;C extends A&lt;C&gt;&gt; List&lt;C&gt; getList(Class&lt;C&gt; cls) {\r\n        List&lt;C&gt; res = new ArrayList&lt;C&gt;();\r\n        // &quot;snip&quot;... some stuff happening in here, using cls\r\n        return res;\r\n    }\r\n\r\n    public &lt;C extends A&lt;C&gt;&gt; List&lt;A&lt;C&gt;&gt; getList() {\r\n        return getList(A.class);\r\n    }\r\n","title":"Java: how do I get a class literal from a generic type?","body":"<p>Due to the exposed fact that Class literals doesn't have generic type information, I think you should assume that it will be impossible to get rid of all the warnings. In a way, using <code>Class&lt;Something&gt;</code> is the same as using a collection without specifying the generic type. The best I could come out with was:</p>\n\n<pre><code>private &lt;C extends A&lt;C&gt;&gt; List&lt;C&gt; getList(Class&lt;C&gt; cls) {\n    List&lt;C&gt; res = new ArrayList&lt;C&gt;();\n    // \"snip\"... some stuff happening in here, using cls\n    return res;\n}\n\npublic &lt;C extends A&lt;C&gt;&gt; List&lt;A&lt;C&gt;&gt; getList() {\n    return getList(A.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430128859,"creation_date":1430128859,"answer_id":29892616,"question_id":2390662,"body_markdown":"Well as we all know that it gets erased. But it can be known under some circumstances where the type is explicitly mentioned in the class hierarchy:\r\n\r\n    import java.lang.reflect.*;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public abstract class CaptureType&lt;T&gt; {\r\n        /**\r\n         * {@link java.lang.reflect.Type} object of the corresponding generic type. This method is useful to obtain every kind of information (including annotations) of the generic type.\r\n         *\r\n         * @return Type object. null if type could not be obtained (This happens in case of generic type whose information cant be obtained using Reflection). Please refer documentation of {@link com.types.CaptureType}\r\n         */\r\n        public Type getTypeParam() {\r\n            Class&lt;?&gt; bottom = getClass();\r\n            Map&lt;TypeVariable&lt;?&gt;, Type&gt; reifyMap = new LinkedHashMap&lt;&gt;();\r\n    \r\n            for (; ; ) {\r\n                Type genericSuper = bottom.getGenericSuperclass();\r\n                if (!(genericSuper instanceof Class)) {\r\n                    ParameterizedType generic = (ParameterizedType) genericSuper;\r\n                    Class&lt;?&gt; actualClaz = (Class&lt;?&gt;) generic.getRawType();\r\n                    TypeVariable&lt;? extends Class&lt;?&gt;&gt;[] typeParameters = actualClaz.getTypeParameters();\r\n                    Type[] reified = generic.getActualTypeArguments();\r\n                    assert (typeParameters.length != 0);\r\n                    for (int i = 0; i &lt; typeParameters.length; i++) {\r\n                        reifyMap.put(typeParameters[i], reified[i]);\r\n                    }\r\n                }\r\n    \r\n                if (bottom.getSuperclass().equals(CaptureType.class)) {\r\n                    bottom = bottom.getSuperclass();\r\n                    break;\r\n                }\r\n                bottom = bottom.getSuperclass();\r\n            }\r\n    \r\n            TypeVariable&lt;?&gt; var = bottom.getTypeParameters()[0];\r\n            while (true) {\r\n                Type type = reifyMap.get(var);\r\n                if (type instanceof TypeVariable) {\r\n                    var = (TypeVariable&lt;?&gt;) type;\r\n                } else {\r\n                    return type;\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Returns the raw type of the generic type.\r\n         * &lt;p&gt;For example in case of {@code CaptureType&lt;String&gt;}, it would return {@code Class&lt;String&gt;}&lt;/p&gt;\r\n         * For more comprehensive examples, go through javadocs of {@link com.types.CaptureType}\r\n         *\r\n         * @return Class object\r\n         * @throws java.lang.RuntimeException If the type information cant be obtained. Refer documentation of {@link com.types.CaptureType}\r\n         * @see com.types.CaptureType\r\n         */\r\n        public Class&lt;T&gt; getRawType() {\r\n            Type typeParam = getTypeParam();\r\n            if (typeParam != null)\r\n                return getClass(typeParam);\r\n            else throw new RuntimeException(&quot;Could not obtain type information&quot;);\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Gets the {@link java.lang.Class} object of the argument type.\r\n         * &lt;p&gt;If the type is an {@link java.lang.reflect.ParameterizedType}, then it returns its {@link java.lang.reflect.ParameterizedType#getRawType()}&lt;/p&gt;\r\n         *\r\n         * @param type The type\r\n         * @param &lt;A&gt;  type of class object expected\r\n         * @return The Class&lt;A&gt; object of the type\r\n         * @throws java.lang.RuntimeException If the type is a {@link java.lang.reflect.TypeVariable}. In such cases, it is impossible to obtain the Class object\r\n         */\r\n        public static &lt;A&gt; Class&lt;A&gt; getClass(Type type) {\r\n            if (type instanceof GenericArrayType) {\r\n                Type componentType = ((GenericArrayType) type).getGenericComponentType();\r\n                Class&lt;?&gt; componentClass = getClass(componentType);\r\n                if (componentClass != null) {\r\n                    return (Class&lt;A&gt;) Array.newInstance(componentClass, 0).getClass();\r\n                } else throw new UnsupportedOperationException(&quot;Unknown class: &quot; + type.getClass());\r\n            } else if (type instanceof Class) {\r\n                Class claz = (Class) type;\r\n                return claz;\r\n            } else if (type instanceof ParameterizedType) {\r\n                return getClass(((ParameterizedType) type).getRawType());\r\n            } else if (type instanceof TypeVariable) {\r\n                throw new RuntimeException(&quot;The type signature is erased. The type class cant be known by using reflection&quot;);\r\n            } else throw new UnsupportedOperationException(&quot;Unknown class: &quot; + type.getClass());\r\n        }\r\n    \r\n        /**\r\n         * This method is the preferred method of usage in case of complex generic types.\r\n         * &lt;p&gt;It returns {@link com.types.TypeADT} object which contains nested information of the type parameters&lt;/p&gt;\r\n         *\r\n         * @return TypeADT object\r\n         * @throws java.lang.RuntimeException If the type information cant be obtained. Refer documentation of {@link com.types.CaptureType}\r\n         */\r\n        public TypeADT getParamADT() {\r\n            return recursiveADT(getTypeParam());\r\n        }\r\n    \r\n        private TypeADT recursiveADT(Type type) {\r\n            if (type instanceof Class) {\r\n                return new TypeADT((Class&lt;?&gt;) type, null);\r\n            } else if (type instanceof ParameterizedType) {\r\n                ArrayList&lt;TypeADT&gt; generic = new ArrayList&lt;&gt;();\r\n                ParameterizedType type1 = (ParameterizedType) type;\r\n                return new TypeADT((Class&lt;?&gt;) type1.getRawType(),\r\n                        Arrays.stream(type1.getActualTypeArguments()).map(x -&gt; recursiveADT(x)).collect(Collectors.toList()));\r\n            } else throw new UnsupportedOperationException();\r\n        }\r\n    \r\n    }\r\n\r\n    public class TypeADT {\r\n        private final Class&lt;?&gt; reify;\r\n        private final List&lt;TypeADT&gt; parametrized;\r\n    \r\n        TypeADT(Class&lt;?&gt; reify, List&lt;TypeADT&gt; parametrized) {\r\n            this.reify = reify;\r\n            this.parametrized = parametrized;\r\n        }\r\n    \r\n        public Class&lt;?&gt; getRawType() {\r\n            return reify;\r\n        }\r\n    \r\n        public List&lt;TypeADT&gt; getParameters() {\r\n            return parametrized;\r\n        }\r\n    }\r\n\r\nAnd now you can do things like:\r\n\r\n    static void test1() {\r\n            CaptureType&lt;String&gt; t1 = new CaptureType&lt;String&gt;() {\r\n            };\r\n            equals(t1.getRawType(), String.class);\r\n        }\r\n     \r\n        static void test2() {\r\n            CaptureType&lt;List&lt;String&gt;&gt; t1 = new CaptureType&lt;List&lt;String&gt;&gt;() {\r\n            };\r\n            equals(t1.getRawType(), List.class);\r\n            equals(t1.getParamADT().getParameters().get(0).getRawType(), String.class);\r\n        }\r\n     \r\n     \r\n        private static void test3() {\r\n                CaptureType&lt;List&lt;List&lt;String&gt;&gt;&gt; t1 = new CaptureType&lt;List&lt;List&lt;String&gt;&gt;&gt;() {\r\n                };\r\n                equals(t1.getParamADT().getRawType(), List.class);\r\n            equals(t1.getParamADT().getParameters().get(0).getRawType(), List.class);\r\n        }\r\n     \r\n        static class Test4 extends CaptureType&lt;List&lt;String&gt;&gt; {\r\n        }\r\n     \r\n        static void test4() {\r\n            Test4 test4 = new Test4();\r\n            equals(test4.getParamADT().getRawType(), List.class);\r\n        }\r\n     \r\n        static class PreTest5&lt;S&gt; extends CaptureType&lt;Integer&gt; {\r\n        }\r\n     \r\n        static class Test5 extends PreTest5&lt;Integer&gt; {\r\n        }\r\n     \r\n        static void test5() {\r\n            Test5 test5 = new Test5();\r\n            equals(test5.getTypeParam(), Integer.class);\r\n        }\r\n     \r\n        static class PreTest6&lt;S&gt; extends CaptureType&lt;S&gt; {\r\n        }\r\n     \r\n        static class Test6 extends PreTest6&lt;Integer&gt; {\r\n        }\r\n     \r\n        static void test6() {\r\n            Test6 test6 = new Test6();\r\n            equals(test6.getTypeParam(), Integer.class);\r\n        }\r\n     \r\n     \r\n     \r\n        class X&lt;T&gt; extends CaptureType&lt;T&gt; {\r\n        }\r\n     \r\n        class Y&lt;A, B&gt; extends X&lt;B&gt; {\r\n        }\r\n     \r\n        class Z&lt;Q&gt; extends Y&lt;Q, Map&lt;Integer, List&lt;List&lt;List&lt;Integer&gt;&gt;&gt;&gt;&gt; {\r\n        }\r\n     \r\n        void test7(){\r\n            Z&lt;String&gt; z = new Z&lt;&gt;();\r\n            TypeADT param = z.getParamADT();\r\n            equals(param.getRawType(), Map.class);\r\n            List&lt;TypeADT&gt; parameters = param.getParameters();\r\n            equals(parameters.get(0).getRawType(), Integer.class);\r\n            equals(parameters.get(1).getRawType(), List.class);\r\n            equals(parameters.get(1).getParameters().get(0).getRawType(), List.class);\r\n            equals(parameters.get(1).getParameters().get(0).getParameters().get(0).getRawType(), List.class);\r\n            equals(parameters.get(1).getParameters().get(0).getParameters().get(0).getParameters().get(0).getRawType(), Integer.class);\r\n        }\r\n     \r\n     \r\n     \r\n     \r\n        static void test8() throws IllegalAccessException, InstantiationException {\r\n            CaptureType&lt;int[]&gt; type = new CaptureType&lt;int[]&gt;() {\r\n            };\r\n            equals(type.getRawType(), int[].class);\r\n        }\r\n     \r\n        static void test9(){\r\n            CaptureType&lt;String[]&gt; type = new CaptureType&lt;String[]&gt;() {\r\n            };\r\n            equals(type.getRawType(), String[].class);\r\n        }\r\n     \r\n        static class SomeClass&lt;T&gt; extends CaptureType&lt;T&gt;{}\r\n        static void test10(){\r\n            SomeClass&lt;String&gt; claz = new SomeClass&lt;&gt;();\r\n            try{\r\n                claz.getRawType();\r\n                throw new RuntimeException(&quot;Shouldnt come here&quot;);\r\n            }catch (RuntimeException ex){\r\n     \r\n            }\r\n        }\r\n     \r\n        static void equals(Object a, Object b) {\r\n            if (!a.equals(b)) {\r\n                throw new RuntimeException(&quot;Test failed. &quot; + a + &quot; != &quot; + b);\r\n            }\r\n        }\r\n\r\nMore info [here][1]. But again, it is almost impossible to retrieve for:\r\n\r\n    class SomeClass&lt;T&gt; extends CaptureType&lt;T&gt;{}\r\n    SomeClass&lt;String&gt; claz = new SomeClass&lt;&gt;();\r\n\r\nwhere it gets erased.\r\n\r\n\r\n  [1]: https://gist.github.com/purijatin/a0486995c7df0e56b398","title":"Java: how do I get a class literal from a generic type?","body":"<p>Well as we all know that it gets erased. But it can be known under some circumstances where the type is explicitly mentioned in the class hierarchy:</p>\n\n<pre><code>import java.lang.reflect.*;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic abstract class CaptureType&lt;T&gt; {\n    /**\n     * {@link java.lang.reflect.Type} object of the corresponding generic type. This method is useful to obtain every kind of information (including annotations) of the generic type.\n     *\n     * @return Type object. null if type could not be obtained (This happens in case of generic type whose information cant be obtained using Reflection). Please refer documentation of {@link com.types.CaptureType}\n     */\n    public Type getTypeParam() {\n        Class&lt;?&gt; bottom = getClass();\n        Map&lt;TypeVariable&lt;?&gt;, Type&gt; reifyMap = new LinkedHashMap&lt;&gt;();\n\n        for (; ; ) {\n            Type genericSuper = bottom.getGenericSuperclass();\n            if (!(genericSuper instanceof Class)) {\n                ParameterizedType generic = (ParameterizedType) genericSuper;\n                Class&lt;?&gt; actualClaz = (Class&lt;?&gt;) generic.getRawType();\n                TypeVariable&lt;? extends Class&lt;?&gt;&gt;[] typeParameters = actualClaz.getTypeParameters();\n                Type[] reified = generic.getActualTypeArguments();\n                assert (typeParameters.length != 0);\n                for (int i = 0; i &lt; typeParameters.length; i++) {\n                    reifyMap.put(typeParameters[i], reified[i]);\n                }\n            }\n\n            if (bottom.getSuperclass().equals(CaptureType.class)) {\n                bottom = bottom.getSuperclass();\n                break;\n            }\n            bottom = bottom.getSuperclass();\n        }\n\n        TypeVariable&lt;?&gt; var = bottom.getTypeParameters()[0];\n        while (true) {\n            Type type = reifyMap.get(var);\n            if (type instanceof TypeVariable) {\n                var = (TypeVariable&lt;?&gt;) type;\n            } else {\n                return type;\n            }\n        }\n    }\n\n    /**\n     * Returns the raw type of the generic type.\n     * &lt;p&gt;For example in case of {@code CaptureType&lt;String&gt;}, it would return {@code Class&lt;String&gt;}&lt;/p&gt;\n     * For more comprehensive examples, go through javadocs of {@link com.types.CaptureType}\n     *\n     * @return Class object\n     * @throws java.lang.RuntimeException If the type information cant be obtained. Refer documentation of {@link com.types.CaptureType}\n     * @see com.types.CaptureType\n     */\n    public Class&lt;T&gt; getRawType() {\n        Type typeParam = getTypeParam();\n        if (typeParam != null)\n            return getClass(typeParam);\n        else throw new RuntimeException(\"Could not obtain type information\");\n    }\n\n\n    /**\n     * Gets the {@link java.lang.Class} object of the argument type.\n     * &lt;p&gt;If the type is an {@link java.lang.reflect.ParameterizedType}, then it returns its {@link java.lang.reflect.ParameterizedType#getRawType()}&lt;/p&gt;\n     *\n     * @param type The type\n     * @param &lt;A&gt;  type of class object expected\n     * @return The Class&lt;A&gt; object of the type\n     * @throws java.lang.RuntimeException If the type is a {@link java.lang.reflect.TypeVariable}. In such cases, it is impossible to obtain the Class object\n     */\n    public static &lt;A&gt; Class&lt;A&gt; getClass(Type type) {\n        if (type instanceof GenericArrayType) {\n            Type componentType = ((GenericArrayType) type).getGenericComponentType();\n            Class&lt;?&gt; componentClass = getClass(componentType);\n            if (componentClass != null) {\n                return (Class&lt;A&gt;) Array.newInstance(componentClass, 0).getClass();\n            } else throw new UnsupportedOperationException(\"Unknown class: \" + type.getClass());\n        } else if (type instanceof Class) {\n            Class claz = (Class) type;\n            return claz;\n        } else if (type instanceof ParameterizedType) {\n            return getClass(((ParameterizedType) type).getRawType());\n        } else if (type instanceof TypeVariable) {\n            throw new RuntimeException(\"The type signature is erased. The type class cant be known by using reflection\");\n        } else throw new UnsupportedOperationException(\"Unknown class: \" + type.getClass());\n    }\n\n    /**\n     * This method is the preferred method of usage in case of complex generic types.\n     * &lt;p&gt;It returns {@link com.types.TypeADT} object which contains nested information of the type parameters&lt;/p&gt;\n     *\n     * @return TypeADT object\n     * @throws java.lang.RuntimeException If the type information cant be obtained. Refer documentation of {@link com.types.CaptureType}\n     */\n    public TypeADT getParamADT() {\n        return recursiveADT(getTypeParam());\n    }\n\n    private TypeADT recursiveADT(Type type) {\n        if (type instanceof Class) {\n            return new TypeADT((Class&lt;?&gt;) type, null);\n        } else if (type instanceof ParameterizedType) {\n            ArrayList&lt;TypeADT&gt; generic = new ArrayList&lt;&gt;();\n            ParameterizedType type1 = (ParameterizedType) type;\n            return new TypeADT((Class&lt;?&gt;) type1.getRawType(),\n                    Arrays.stream(type1.getActualTypeArguments()).map(x -&gt; recursiveADT(x)).collect(Collectors.toList()));\n        } else throw new UnsupportedOperationException();\n    }\n\n}\n\npublic class TypeADT {\n    private final Class&lt;?&gt; reify;\n    private final List&lt;TypeADT&gt; parametrized;\n\n    TypeADT(Class&lt;?&gt; reify, List&lt;TypeADT&gt; parametrized) {\n        this.reify = reify;\n        this.parametrized = parametrized;\n    }\n\n    public Class&lt;?&gt; getRawType() {\n        return reify;\n    }\n\n    public List&lt;TypeADT&gt; getParameters() {\n        return parametrized;\n    }\n}\n</code></pre>\n\n<p>And now you can do things like:</p>\n\n<pre><code>static void test1() {\n        CaptureType&lt;String&gt; t1 = new CaptureType&lt;String&gt;() {\n        };\n        equals(t1.getRawType(), String.class);\n    }\n\n    static void test2() {\n        CaptureType&lt;List&lt;String&gt;&gt; t1 = new CaptureType&lt;List&lt;String&gt;&gt;() {\n        };\n        equals(t1.getRawType(), List.class);\n        equals(t1.getParamADT().getParameters().get(0).getRawType(), String.class);\n    }\n\n\n    private static void test3() {\n            CaptureType&lt;List&lt;List&lt;String&gt;&gt;&gt; t1 = new CaptureType&lt;List&lt;List&lt;String&gt;&gt;&gt;() {\n            };\n            equals(t1.getParamADT().getRawType(), List.class);\n        equals(t1.getParamADT().getParameters().get(0).getRawType(), List.class);\n    }\n\n    static class Test4 extends CaptureType&lt;List&lt;String&gt;&gt; {\n    }\n\n    static void test4() {\n        Test4 test4 = new Test4();\n        equals(test4.getParamADT().getRawType(), List.class);\n    }\n\n    static class PreTest5&lt;S&gt; extends CaptureType&lt;Integer&gt; {\n    }\n\n    static class Test5 extends PreTest5&lt;Integer&gt; {\n    }\n\n    static void test5() {\n        Test5 test5 = new Test5();\n        equals(test5.getTypeParam(), Integer.class);\n    }\n\n    static class PreTest6&lt;S&gt; extends CaptureType&lt;S&gt; {\n    }\n\n    static class Test6 extends PreTest6&lt;Integer&gt; {\n    }\n\n    static void test6() {\n        Test6 test6 = new Test6();\n        equals(test6.getTypeParam(), Integer.class);\n    }\n\n\n\n    class X&lt;T&gt; extends CaptureType&lt;T&gt; {\n    }\n\n    class Y&lt;A, B&gt; extends X&lt;B&gt; {\n    }\n\n    class Z&lt;Q&gt; extends Y&lt;Q, Map&lt;Integer, List&lt;List&lt;List&lt;Integer&gt;&gt;&gt;&gt;&gt; {\n    }\n\n    void test7(){\n        Z&lt;String&gt; z = new Z&lt;&gt;();\n        TypeADT param = z.getParamADT();\n        equals(param.getRawType(), Map.class);\n        List&lt;TypeADT&gt; parameters = param.getParameters();\n        equals(parameters.get(0).getRawType(), Integer.class);\n        equals(parameters.get(1).getRawType(), List.class);\n        equals(parameters.get(1).getParameters().get(0).getRawType(), List.class);\n        equals(parameters.get(1).getParameters().get(0).getParameters().get(0).getRawType(), List.class);\n        equals(parameters.get(1).getParameters().get(0).getParameters().get(0).getParameters().get(0).getRawType(), Integer.class);\n    }\n\n\n\n\n    static void test8() throws IllegalAccessException, InstantiationException {\n        CaptureType&lt;int[]&gt; type = new CaptureType&lt;int[]&gt;() {\n        };\n        equals(type.getRawType(), int[].class);\n    }\n\n    static void test9(){\n        CaptureType&lt;String[]&gt; type = new CaptureType&lt;String[]&gt;() {\n        };\n        equals(type.getRawType(), String[].class);\n    }\n\n    static class SomeClass&lt;T&gt; extends CaptureType&lt;T&gt;{}\n    static void test10(){\n        SomeClass&lt;String&gt; claz = new SomeClass&lt;&gt;();\n        try{\n            claz.getRawType();\n            throw new RuntimeException(\"Shouldnt come here\");\n        }catch (RuntimeException ex){\n\n        }\n    }\n\n    static void equals(Object a, Object b) {\n        if (!a.equals(b)) {\n            throw new RuntimeException(\"Test failed. \" + a + \" != \" + b);\n        }\n    }\n</code></pre>\n\n<p>More info <a href=\"https://gist.github.com/purijatin/a0486995c7df0e56b398\" rel=\"nofollow\">here</a>. But again, it is almost impossible to retrieve for:</p>\n\n<pre><code>class SomeClass&lt;T&gt; extends CaptureType&lt;T&gt;{}\nSomeClass&lt;String&gt; claz = new SomeClass&lt;&gt;();\n</code></pre>\n\n<p>where it gets erased.</p>\n"},{"tags":[],"owner":{"account_id":1223512,"reputation":1127,"user_id":1189636,"display_name":"slaurent"},"down_vote_count":2,"up_vote_count":78,"is_accepted":false,"score":76,"last_activity_date":1433935789,"creation_date":1433935789,"answer_id":30754982,"question_id":2390662,"body_markdown":"You can manage it with a double cast :\r\n\r\n`@SuppressWarnings(&quot;unchecked&quot;)\r\nClass&lt;List&lt;Foo&gt;&gt; cls = (Class&lt;List&lt;Foo&gt;&gt;)(Object)List.class`\r\n","title":"Java: how do I get a class literal from a generic type?","body":"<p>You can manage it with a double cast :</p>\n\n<p><code>@SuppressWarnings(\"unchecked\")\nClass&lt;List&lt;Foo&gt;&gt; cls = (Class&lt;List&lt;Foo&gt;&gt;)(Object)List.class</code></p>\n"},{"tags":[],"owner":{"account_id":6333754,"reputation":2065,"user_id":4917881,"display_name":"aventurin"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1478733829,"creation_date":1478733829,"answer_id":40517676,"question_id":2390662,"body_markdown":"You could use a helper method to get rid of `@SuppressWarnings(&quot;unchecked&quot;)` all over a class.\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static &lt;T&gt; Class&lt;T&gt; generify(Class&lt;?&gt; cls) {\r\n        return (Class&lt;T&gt;)cls;\r\n    }\r\n\r\nThen you could write\r\n\r\n  \tClass&lt;List&lt;Foo&gt;&gt; cls = generify(List.class);\r\n\r\nOther usage examples are\r\n\r\n      Class&lt;Map&lt;String, Integer&gt;&gt; cls;\r\n\r\n      cls = generify(Map.class);\r\n\r\n      cls = TheClass.&lt;Map&lt;String, Integer&gt;&gt;generify(Map.class);\r\n\r\n      funWithTypeParam(generify(Map.class));\r\n\r\n    public void funWithTypeParam(Class&lt;Map&lt;String, Integer&gt;&gt; cls) {\r\n    }\r\n\r\nHowever, since it is rarely really useful, and the usage of the method defeats the compiler&#39;s type checking, I would not recommend to implement it in a place where it is publicly accessible.","title":"Java: how do I get a class literal from a generic type?","body":"<p>You could use a helper method to get rid of <code>@SuppressWarnings(\"unchecked\")</code> all over a class.</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nprivate static &lt;T&gt; Class&lt;T&gt; generify(Class&lt;?&gt; cls) {\n    return (Class&lt;T&gt;)cls;\n}\n</code></pre>\n\n<p>Then you could write</p>\n\n<pre><code>Class&lt;List&lt;Foo&gt;&gt; cls = generify(List.class);\n</code></pre>\n\n<p>Other usage examples are</p>\n\n<pre><code>  Class&lt;Map&lt;String, Integer&gt;&gt; cls;\n\n  cls = generify(Map.class);\n\n  cls = TheClass.&lt;Map&lt;String, Integer&gt;&gt;generify(Map.class);\n\n  funWithTypeParam(generify(Map.class));\n\npublic void funWithTypeParam(Class&lt;Map&lt;String, Integer&gt;&gt; cls) {\n}\n</code></pre>\n\n<p>However, since it is rarely really useful, and the usage of the method defeats the compiler's type checking, I would not recommend to implement it in a place where it is publicly accessible.</p>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1546563794,"creation_date":1546562170,"answer_id":54031723,"question_id":2390662,"body_markdown":"The [Java Generics FAQ](http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ106) and therefore also cletus&#39; [answer](https://stackoverflow.com/a/2390682) sound like there is no point in having `Class&lt;List&lt;T&gt;&gt;`, however the real problem is that this is extremely dangerous:\r\n\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Class&lt;List&lt;String&gt;&gt; stringListClass = (Class&lt;List&lt;String&gt;&gt;) (Class&lt;?&gt;) List.class;\r\n    \r\n    List&lt;Integer&gt; intList = new ArrayList&lt;&gt;();\r\n    intList.add(1);\r\n    List&lt;String&gt; stringList = stringListClass.cast(intList);\r\n    // Surprise!\r\n    String firstElement = stringList.get(0);\r\n\r\nThe `cast()` makes it look as if it is safe, but in reality it is not safe at all.\r\n\r\n----\r\n\r\nThough I don&#39;t get where there can&#39;t be `List&lt;?&gt;.class` = `Class&lt;List&lt;?&gt;&gt;` since this would be pretty helpful when you have a method which determines the type based on the generic type of a `Class` argument.\r\n\r\nFor `getClass()` there is [JDK-6184881](https://bugs.openjdk.java.net/browse/JDK-6184881) requesting to switch to using wildcards, however it does not look like this change will be performed (very soon) since it is not compatible with previous code (see [this comment](https://bugs.openjdk.java.net/browse/JDK-6184881?focusedCommentId=12339160#comment-12339160)).","title":"Java: how do I get a class literal from a generic type?","body":"<p>The <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ106\" rel=\"noreferrer\">Java Generics FAQ</a> and therefore also cletus' <a href=\"https://stackoverflow.com/a/2390682\">answer</a> sound like there is no point in having <code>Class&lt;List&lt;T&gt;&gt;</code>, however the real problem is that this is extremely dangerous:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nClass&lt;List&lt;String&gt;&gt; stringListClass = (Class&lt;List&lt;String&gt;&gt;) (Class&lt;?&gt;) List.class;\n\nList&lt;Integer&gt; intList = new ArrayList&lt;&gt;();\nintList.add(1);\nList&lt;String&gt; stringList = stringListClass.cast(intList);\n// Surprise!\nString firstElement = stringList.get(0);\n</code></pre>\n\n<p>The <code>cast()</code> makes it look as if it is safe, but in reality it is not safe at all.</p>\n\n<hr>\n\n<p>Though I don't get where there can't be <code>List&lt;?&gt;.class</code> = <code>Class&lt;List&lt;?&gt;&gt;</code> since this would be pretty helpful when you have a method which determines the type based on the generic type of a <code>Class</code> argument.</p>\n\n<p>For <code>getClass()</code> there is <a href=\"https://bugs.openjdk.java.net/browse/JDK-6184881\" rel=\"noreferrer\">JDK-6184881</a> requesting to switch to using wildcards, however it does not look like this change will be performed (very soon) since it is not compatible with previous code (see <a href=\"https://bugs.openjdk.java.net/browse/JDK-6184881?focusedCommentId=12339160#comment-12339160\" rel=\"noreferrer\">this comment</a>).</p>\n"},{"tags":[],"owner":{"account_id":1418937,"reputation":5014,"user_id":1343979,"accept_rate":80,"display_name":"Bass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684317674,"creation_date":1684317674,"answer_id":76270861,"question_id":2390662,"body_markdown":"What&#39;s not possible in Java is still possible if you add some Kotlin to the mix.\r\n\r\nCreate a Kotlin file with the following content:\r\n\r\n```kotlin\r\nfun &lt;T&gt; getGenericListType(): Class&lt;List&lt;T&gt;&gt; {\r\n    return emptyList&lt;T&gt;().javaClass\r\n}\r\n\r\nfun &lt;T&gt; getGenericListSuperType(): Class&lt;MutableList&lt;in T&gt;&gt; {\r\n    return mutableListOf&lt;T&gt;().javaClass\r\n}\r\n\r\nfun &lt;T&gt; getGenericListExtendsType(): Class&lt;MutableList&lt;out T&gt;&gt; {\r\n    return mutableListOf&lt;T&gt;().javaClass\r\n}\r\n```\r\n\r\nCalling these methods from Java will give you, respectively:\r\n\r\n1. a `Class&lt;List&lt;T&gt;&gt;`,\r\n2. a `Class&lt;List&lt;? super T&gt;&gt;`, and\r\n3. a `Class&lt;List&lt;? extends T&gt;&gt;`.","title":"Java: how do I get a class literal from a generic type?","body":"<p>What's not possible in Java is still possible if you add some Kotlin to the mix.</p>\n<p>Create a Kotlin file with the following content:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;T&gt; getGenericListType(): Class&lt;List&lt;T&gt;&gt; {\n    return emptyList&lt;T&gt;().javaClass\n}\n\nfun &lt;T&gt; getGenericListSuperType(): Class&lt;MutableList&lt;in T&gt;&gt; {\n    return mutableListOf&lt;T&gt;().javaClass\n}\n\nfun &lt;T&gt; getGenericListExtendsType(): Class&lt;MutableList&lt;out T&gt;&gt; {\n    return mutableListOf&lt;T&gt;().javaClass\n}\n</code></pre>\n<p>Calling these methods from Java will give you, respectively:</p>\n<ol>\n<li>a <code>Class&lt;List&lt;T&gt;&gt;</code>,</li>\n<li>a <code>Class&lt;List&lt;? super T&gt;&gt;</code>, and</li>\n<li>a <code>Class&lt;List&lt;? extends T&gt;&gt;</code>.</li>\n</ol>\n"}],"owner":{"account_id":78421,"reputation":18825,"user_id":223201,"accept_rate":89,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245643,"favorite_count":0,"down_vote_count":0,"up_vote_count":262,"accepted_answer_id":2390682,"answer_count":9,"score":262,"last_activity_date":1684317674,"creation_date":1267831988,"question_id":2390662,"body_markdown":"Typically, I&#39;ve seen people use the class literal like this:\r\n\r\n    Class&lt;Foo&gt; cls = Foo.class;\r\n\r\nBut what if the type is generic, e.g. List? This works fine, but has a warning since List should be parameterized:\r\n\r\n    Class&lt;List&gt; cls = List.class\r\n\r\nSo why not add a `&lt;?&gt;`? Well, this causes a type mismatch error:\r\n\r\n    Class&lt;List&lt;?&gt;&gt; cls = List.class\r\n\r\nI figured something like this would work, but this is just a plain ol&#39; syntax error:\r\n\r\n    Class&lt;List&lt;Foo&gt;&gt; cls = List&lt;Foo&gt;.class\r\n\r\nHow can I get a `Class&lt;List&lt;Foo&gt;&gt;` statically, e.g. using the class literal?\r\n\r\nI *could* use `@SuppressWarnings(&quot;unchecked&quot;)` to get rid of the warnings caused by the non-parameterized use of List in the first example, `    Class&lt;List&gt; cls = List.class`, but I&#39;d rather not.\r\n\r\nAny suggestions?","title":"Java: how do I get a class literal from a generic type?","body":"<p>Typically, I've seen people use the class literal like this:</p>\n\n<pre><code>Class&lt;Foo&gt; cls = Foo.class;\n</code></pre>\n\n<p>But what if the type is generic, e.g. List? This works fine, but has a warning since List should be parameterized:</p>\n\n<pre><code>Class&lt;List&gt; cls = List.class\n</code></pre>\n\n<p>So why not add a <code>&lt;?&gt;</code>? Well, this causes a type mismatch error:</p>\n\n<pre><code>Class&lt;List&lt;?&gt;&gt; cls = List.class\n</code></pre>\n\n<p>I figured something like this would work, but this is just a plain ol' syntax error:</p>\n\n<pre><code>Class&lt;List&lt;Foo&gt;&gt; cls = List&lt;Foo&gt;.class\n</code></pre>\n\n<p>How can I get a <code>Class&lt;List&lt;Foo&gt;&gt;</code> statically, e.g. using the class literal?</p>\n\n<p>I <em>could</em> use <code>@SuppressWarnings(\"unchecked\")</code> to get rid of the warnings caused by the non-parameterized use of List in the first example, <code>Class&lt;List&gt; cls = List.class</code>, but I'd rather not.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1684241638,"post_id":76263146,"comment_id":134486507,"body_markdown":"You probably still have the reference to the deleted address(es) in your person object. Remove them from the addressList.","body":"You probably still have the reference to the deleted address(es) in your person object. Remove them from the addressList."},{"owner":{"account_id":27660885,"reputation":7,"user_id":21113755,"display_name":"cs55"},"score":0,"creation_date":1684242792,"post_id":76263146,"comment_id":134486845,"body_markdown":"How though? Thought deleteAll would take care of it automatically.","body":"How though? Thought deleteAll would take care of it automatically."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1684245361,"post_id":76263146,"comment_id":134487601,"body_markdown":"You shouldn&#39;t try this, as JPA does caching by the entity ID - delete then persist is pretty much just an undo operation internally so I don&#39;t know why you&#39;d want delete then insert statements. That said, your issue is not likely with the delete then persist, but with your transactional context; the same issue you have in your other question. Put another way, are any changes you make committed and visible through your DB client? @Transactional is a Spring thing, so you&#39;d have to look at the contracts and how your methods chain together to understand why this might not work the way you want","body":"You shouldn&#39;t try this, as JPA does caching by the entity ID - delete then persist is pretty much just an undo operation internally so I don&#39;t know why you&#39;d want delete then insert statements. That said, your issue is not likely with the delete then persist, but with your transactional context; the same issue you have in your other question. Put another way, are any changes you make committed and visible through your DB client? @Transactional is a Spring thing, so you&#39;d have to look at the contracts and how your methods chain together to understand why this might not work the way you want"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1684245575,"post_id":76263146,"comment_id":134487676,"body_markdown":"If your issue is solely with the delete not working, that you are trying to delete something and seeing an issue because you want it gone in the end - you are, as the error suggest, passing in an entity that you&#39;ve marked to delete to the save/merge operation. Look at your model again, you&#39;ve got references between entities marked as cascade merge. So if they aren&#39;t null when one of those entities is saved, the save is likely cascading to the entity you want to delete, causing it to undo the delete. Clear and manage your references and the problem will go away.","body":"If your issue is solely with the delete not working, that you are trying to delete something and seeing an issue because you want it gone in the end - you are, as the error suggest, passing in an entity that you&#39;ve marked to delete to the save/merge operation. Look at your model again, you&#39;ve got references between entities marked as cascade merge. So if they aren&#39;t null when one of those entities is saved, the save is likely cascading to the entity you want to delete, causing it to undo the delete. Clear and manage your references and the problem will go away."}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684268503,"creation_date":1684268503,"answer_id":76266804,"question_id":76263146,"body_markdown":"The issue is that you have reference in your `addressList` to some of the Address instances that were delete.\r\nIf you debug and set a breakpoint before saving the `Person`, you will see that this list holds the IDs of the deleted addresses.\r\nDeleting the `Address` will not result in it being removed from the other (`Person`) object as long as it was loaded in memory before delete.\r\n\r\nI see 2 way to fix this:\r\n\r\n 1. You fetch the Person from JPA after deletion.\r\n 2. You manually remove the deleted addresses from the list\r\n\r\nAs you have a list of addresses that you pass to the deleteAll, I guess you have everything you need to use solution 2. Just do a `person.addressList.removeAll(//list of addresses) ` before saving.\r\n\r\nThis is assuming that you want all addresses removed from DB. If you want to recreated them, you could remove the IDs of the addresses in the list.","title":"How do I perform delete and save under same transaction?","body":"<p>The issue is that you have reference in your <code>addressList</code> to some of the Address instances that were delete.\nIf you debug and set a breakpoint before saving the <code>Person</code>, you will see that this list holds the IDs of the deleted addresses.\nDeleting the <code>Address</code> will not result in it being removed from the other (<code>Person</code>) object as long as it was loaded in memory before delete.</p>\n<p>I see 2 way to fix this:</p>\n<ol>\n<li>You fetch the Person from JPA after deletion.</li>\n<li>You manually remove the deleted addresses from the list</li>\n</ol>\n<p>As you have a list of addresses that you pass to the deleteAll, I guess you have everything you need to use solution 2. Just do a <code>person.addressList.removeAll(//list of addresses) </code> before saving.</p>\n<p>This is assuming that you want all addresses removed from DB. If you want to recreated them, you could remove the IDs of the addresses in the list.</p>\n"},{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684317633,"creation_date":1684317633,"answer_id":76270856,"question_id":76263146,"body_markdown":"For your mapping calling `AddressRespository.deleteAll(Iterable)` is not enough, because it removes `Address` items from the repo, but not from the `Person.addressList()`. To fix your issue you need to modify your code as\r\n```java\r\nperson.getAddressList().removeAll(addressesToBeRemoved);\r\nAddressRespository.deleteAll(addressesToBeRemoved);\r\n```\r\nP.S. As soon as you have `orphanRemoval = true` in your `@OneToMany` declaration if the addresses you are removing are not referenced from another `Person` instance it can be enough just to remove addresses from `addressList()` to make Hibernate remove them from the `address` table as well:\r\n```java\r\nperson.getAddressList().removeAll(addressesToBeRemoved);\r\n```\r\nSee this answer: https://stackoverflow.com/a/60838256/12473843","title":"How do I perform delete and save under same transaction?","body":"<p>For your mapping calling <code>AddressRespository.deleteAll(Iterable)</code> is not enough, because it removes <code>Address</code> items from the repo, but not from the <code>Person.addressList()</code>. To fix your issue you need to modify your code as</p>\n<pre class=\"lang-java prettyprint-override\"><code>person.getAddressList().removeAll(addressesToBeRemoved);\nAddressRespository.deleteAll(addressesToBeRemoved);\n</code></pre>\n<p>P.S. As soon as you have <code>orphanRemoval = true</code> in your <code>@OneToMany</code> declaration if the addresses you are removing are not referenced from another <code>Person</code> instance it can be enough just to remove addresses from <code>addressList()</code> to make Hibernate remove them from the <code>address</code> table as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>person.getAddressList().removeAll(addressesToBeRemoved);\n</code></pre>\n<p>See this answer: <a href=\"https://stackoverflow.com/a/60838256/12473843\">https://stackoverflow.com/a/60838256/12473843</a></p>\n"}],"owner":{"account_id":27660885,"reputation":7,"user_id":21113755,"display_name":"cs55"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684317633,"creation_date":1684240888,"question_id":76263146,"body_markdown":"I have two entities like this with joins,\r\n\r\nEntity `Address`:\r\n\r\n```\r\n@ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n@JsonBackReference\r\n@EqaulsAndHashCode.Exclude\r\n@ToString.Exclude\r\n@JoinColumn(name=&quot;PERSON_ID&quot;, referencedColumns = &quot;PERSON_ID&quot;)\r\nprivate Person personDetails;\r\n```\r\n\r\nEntity `Person`:\r\n\r\n```\r\n@OneToMany(mappedBy = &quot;personDetails&quot;, orphanRemoval = true, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n@ToString.Exclude\r\n@EqualsAndHashCode.Exclude\r\n@JsonManagedReference\r\nList&lt;Address&gt; addressList = new ArrayList&lt;&gt;();\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI am deleting `Address` using `AddressRespository.deleteAll(//list of address)` inside a `@Transactional` method. This method then calls another method from a different service which is also annotated with `@Transactional` and updates one of the property of Person and performs the `save` operation.\r\n\r\nAs this stage it returns an error `deleted instance passed to merge`.\r\n\r\nI tried to use `flush` after `deleteAll` which resolves this error but it did not delete anything in the database.\r\n\r\nHow can I achieve the desired outcome here?","title":"How do I perform delete and save under same transaction?","body":"<p>I have two entities like this with joins,</p>\n<p>Entity <code>Address</code>:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n@JsonBackReference\n@EqaulsAndHashCode.Exclude\n@ToString.Exclude\n@JoinColumn(name=&quot;PERSON_ID&quot;, referencedColumns = &quot;PERSON_ID&quot;)\nprivate Person personDetails;\n</code></pre>\n<p>Entity <code>Person</code>:</p>\n<pre><code>@OneToMany(mappedBy = &quot;personDetails&quot;, orphanRemoval = true, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@ToString.Exclude\n@EqualsAndHashCode.Exclude\n@JsonManagedReference\nList&lt;Address&gt; addressList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>I am deleting <code>Address</code> using <code>AddressRespository.deleteAll(//list of address)</code> inside a <code>@Transactional</code> method. This method then calls another method from a different service which is also annotated with <code>@Transactional</code> and updates one of the property of Person and performs the <code>save</code> operation.</p>\n<p>As this stage it returns an error <code>deleted instance passed to merge</code>.</p>\n<p>I tried to use <code>flush</code> after <code>deleteAll</code> which resolves this error but it did not delete anything in the database.</p>\n<p>How can I achieve the desired outcome here?</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea","cucumber"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1684269324,"post_id":76266771,"comment_id":134493098,"body_markdown":"Make sure your run configuration [looks like this](https://i.imgur.com/2oey7ty.png).","body":"Make sure your run configuration <a href=\"https://i.imgur.com/2oey7ty.png\" rel=\"nofollow noreferrer\">looks like this</a>."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1684270511,"post_id":76266771,"comment_id":134493303,"body_markdown":"Also, copy this projects code. Your `pom.xml` is going to cause you grief in the long run. https://github.com/cucumber/cucumber-java-skeleton","body":"Also, copy this projects code. Your <code>pom.xml</code> is going to cause you grief in the long run. <a href=\"https://github.com/cucumber/cucumber-java-skeleton\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-java-skeleton</a>"},{"owner":{"account_id":28614750,"reputation":1,"user_id":21909010,"display_name":"Mahmood Alsaftawi"},"score":0,"creation_date":1684276103,"post_id":76266771,"comment_id":134494146,"body_markdown":"@CrazyCoder I tried that exact config and still had the same issue","body":"@CrazyCoder I tried that exact config and still had the same issue"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1684276158,"post_id":76266771,"comment_id":134494150,"body_markdown":"This config works for me in a project you shared. Using IntelliJ IDEA 2023.1.1.","body":"This config works for me in a project you shared. Using IntelliJ IDEA 2023.1.1."}],"answers":[{"tags":[],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684317298,"creation_date":1684317298,"answer_id":76270808,"question_id":76266771,"body_markdown":"The main problem was that the feature file couldn&#39;t find the location of your steps. I created a RunnerClass for you, and it worked out on my PC\r\n\r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = &quot;src/test/resources&quot;,\r\n            glue = &quot;com.test.definitions&quot;\r\n    )\r\n    public class CucumberRunner {\r\n    \r\n    }\r\n\r\nI&#39;ll add a Pull Request on your github project.","title":"Cucumber/Selenium Maven Project - Running into step undefined issue even though I have steps defined in .java class","body":"<p>The main problem was that the feature file couldn't find the location of your steps. I created a RunnerClass for you, and it worked out on my PC</p>\n<pre><code>import io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = &quot;src/test/resources&quot;,\n        glue = &quot;com.test.definitions&quot;\n)\npublic class CucumberRunner {\n\n}\n</code></pre>\n<p>I'll add a Pull Request on your github project.</p>\n"}],"owner":{"account_id":28614750,"reputation":1,"user_id":21909010,"display_name":"Mahmood Alsaftawi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684317298,"creation_date":1684268142,"question_id":76266771,"body_markdown":"I have a very simple maven project setup and im using selenium webdriver and cucumber to run some basic tests. I have my step definitions .java file in a package under java &gt; test and my .feature file in a resources folder which I have set as the test resources root.\r\n\r\n[Issue](https://i.stack.imgur.com/y0lkA.png)\r\n\r\nHere&#39;s the link to my repository in case that helps: https://github.com/mahmood-alsaftawi/AmazonSelenium\r\n\r\nThe things ive tried so far so updating intelliJ, ensuring the run config glue field was set to the step definitions .java file. Ive tried some other recommendations but I&#39;ve had no luck.","title":"Cucumber/Selenium Maven Project - Running into step undefined issue even though I have steps defined in .java class","body":"<p>I have a very simple maven project setup and im using selenium webdriver and cucumber to run some basic tests. I have my step definitions .java file in a package under java &gt; test and my .feature file in a resources folder which I have set as the test resources root.</p>\n<p><a href=\"https://i.stack.imgur.com/y0lkA.png\" rel=\"nofollow noreferrer\">Issue</a></p>\n<p>Here's the link to my repository in case that helps: <a href=\"https://github.com/mahmood-alsaftawi/AmazonSelenium\" rel=\"nofollow noreferrer\">https://github.com/mahmood-alsaftawi/AmazonSelenium</a></p>\n<p>The things ive tried so far so updating intelliJ, ensuring the run config glue field was set to the step definitions .java file. Ive tried some other recommendations but I've had no luck.</p>\n"},{"tags":["java","java-8","language-lawyer","default-method","object-class"],"comments":[{"owner":{"account_id":7048783,"reputation":173,"user_id":5398684,"display_name":"PANKAJ DUBEY"},"score":0,"creation_date":1684263037,"post_id":76266192,"comment_id":134492025,"body_markdown":"Followed this link: https://stackoverflow.com/questions/24016962/java8-why-is-it-forbidden-to-define-a-default-method-for-a-method-from-java-lan","body":"Followed this link: <a href=\"https://stackoverflow.com/questions/24016962/java8-why-is-it-forbidden-to-define-a-default-method-for-a-method-from-java-lan\" title=\"java8 why is it forbidden to define a default method for a method from java lan\">stackoverflow.com/questions/24016962/&hellip;</a>"},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1684264107,"post_id":76266192,"comment_id":134492221,"body_markdown":"It looks like a compiler error in java 8.  I suppose it gets confused by the fact that `Object.finalize()` is declared as `protected`.","body":"It looks like a compiler error in java 8.  I suppose it gets confused by the fact that <code>Object.finalize()</code> is declared as <code>protected</code>."},{"owner":{"account_id":7048783,"reputation":173,"user_id":5398684,"display_name":"PANKAJ DUBEY"},"score":0,"creation_date":1684267492,"post_id":76266192,"comment_id":134492811,"body_markdown":"@MikeNakis Seems same to me. But why unlike toString(), ovrriding clone() and finalize() inside iterface is allowed?","body":"@MikeNakis Seems same to me. But why unlike toString(), ovrriding clone() and finalize() inside iterface is allowed?"},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1684267884,"post_id":76266192,"comment_id":134492861,"body_markdown":"According to Brian Goetz on the answer that you linked to, the only methods they disallow in interfaces are `equals()`, `hashCode()`, and `toString()`. This list of methods does not contain `clone()` and `finalize()`. You might ask okay, so, why? I do not know.","body":"According to Brian Goetz on the answer that you linked to, the only methods they disallow in interfaces are <code>equals()</code>, <code>hashCode()</code>, and <code>toString()</code>. This list of methods does not contain <code>clone()</code> and <code>finalize()</code>. You might ask okay, so, why? I do not know."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1684308738,"post_id":76266192,"comment_id":134497596,"body_markdown":"The compiler is correct and I wouldn’t even call the error message misleading. A few more clarifying words would be helpful, though.","body":"The compiler is correct and I wouldn’t even call the error message misleading. A few more clarifying words would be helpful, though."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684308850,"creation_date":1684308024,"answer_id":76269470,"question_id":76266192,"body_markdown":"When a class inherits a method from an interface and from its superclass, the superclass method has precedence. This is regardless of whether any of the methods is `abstract`.\r\n\r\nTherefore, when your `FOO` class does not declare the `clone()` and `finalize()` methods, it will inherit the *`protected`* methods from its superclass. The fact that the interface’s methods are `default` does not matter here. But the fact that these interface methods are implicitly `public` does matter, as the inherited `protected` methods are incompatible with the interface’s `public` declarations.\r\n\r\nThat’s exactly what the error message tells you, the inherited protected “*finalize() in Object*” cannot implement the public interface method “*finalize() in ClonerFinalizer*” because that would “*assign weaker access privileges*”.\r\n\r\nThe fact that superclass methods have precedence implies that you can never override a class’s method with an interface’s `default` method and therefore, it is impossible to provide an implementation for any of the methods of `java.lang.Object` without redeclaring the method in the implementation class.\r\n\r\nThe additional rule that you can’t override methods of `Object` with `default` methods is not necessary to enforce this. It’s just there to keep you from trying, so you don’t waste your time.\r\n\r\nThe reason why this doesn’t prevent you from declaring a `clone()` or `finalize()` method is simple: these declarations do not override a method.\r\n\r\nInterfaces can’t have `protected` methods, hence, these `protected` methods do not exist in the interface in the first place and your declaration is not overriding them. You can check this by adding an `@Override` annotation—it will cause a compiler error as the method does not override a method.\r\n","title":"Override Object methods inside interface using default methods- Misleading error","body":"<p>When a class inherits a method from an interface and from its superclass, the superclass method has precedence. This is regardless of whether any of the methods is <code>abstract</code>.</p>\n<p>Therefore, when your <code>FOO</code> class does not declare the <code>clone()</code> and <code>finalize()</code> methods, it will inherit the <em><code>protected</code></em> methods from its superclass. The fact that the interface’s methods are <code>default</code> does not matter here. But the fact that these interface methods are implicitly <code>public</code> does matter, as the inherited <code>protected</code> methods are incompatible with the interface’s <code>public</code> declarations.</p>\n<p>That’s exactly what the error message tells you, the inherited protected “<em>finalize() in Object</em>” cannot implement the public interface method “<em>finalize() in ClonerFinalizer</em>” because that would “<em>assign weaker access privileges</em>”.</p>\n<p>The fact that superclass methods have precedence implies that you can never override a class’s method with an interface’s <code>default</code> method and therefore, it is impossible to provide an implementation for any of the methods of <code>java.lang.Object</code> without redeclaring the method in the implementation class.</p>\n<p>The additional rule that you can’t override methods of <code>Object</code> with <code>default</code> methods is not necessary to enforce this. It’s just there to keep you from trying, so you don’t waste your time.</p>\n<p>The reason why this doesn’t prevent you from declaring a <code>clone()</code> or <code>finalize()</code> method is simple: these declarations do not override a method.</p>\n<p>Interfaces can’t have <code>protected</code> methods, hence, these <code>protected</code> methods do not exist in the interface in the first place and your declaration is not overriding them. You can check this by adding an <code>@Override</code> annotation—it will cause a compiler error as the method does not override a method.</p>\n"}],"owner":{"account_id":7048783,"reputation":173,"user_id":5398684,"display_name":"PANKAJ DUBEY"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76269470,"answer_count":1,"score":1,"last_activity_date":1684316828,"creation_date":1684262712,"question_id":76266192,"body_markdown":"Question: Need to understand why in case of Program 1 getting this misleading error, but in Program 2 it gives correct error? Also why unlike `toString(),` `equals(Object),` and `hashCode(),` overriding `clone()` and `finalize()` inside interface is allowed?\r\n\r\nProgram 1\r\n\r\nFor below program getting misleading error:\r\n\r\n    FOO.java:10: error: finalize() in Object cannot implement finalize() in ClonerFinalizer\r\n\r\n    public class FOO implements ClonerFinalizer {\r\n                 ^\r\n    attempting to assign weaker access privileges; was public\r\n\r\n\r\n    interface ClonerFinalizer {\r\n    \tdefault Object clone() {\r\n    \t\tSystem.out.println(&quot;default clone&quot;); return this;\r\n    \t}\r\n    \tdefault void finalize() {\r\n    \t\tSystem.out.println(&quot;default finalize&quot;);\r\n    \t}\r\n    }\r\n    \t\r\n    public class FOO implements ClonerFinalizer {\r\n    // \t@Override\r\n    // \tpublic Object clone() {\r\n    // \t\treturn ClonerFinalizer.super.clone();\r\n    // \t}\r\n    // \t@Override\r\n    // \tpublic void finalize() {\r\n    // \t\tClonerFinalizer.super.finalize();\r\n    //     }\r\n        public static void main(String... args) {\r\n    \t\tnew FOO().clone();\r\n    \t\tnew FOO().finalize();\r\n    \t}\r\n    }\r\n\r\nBut if uncommenting above commented code then it gives correct output.\r\n\r\nProgram 2\r\n\r\nUnlike above program in below program clear/correct error\r\n\r\n    FOO.java:2: error: default method toString in interface ToStringer overrides a member of java.lang.Object\r\n\r\n\t\tdefault String toString() {\r\n\t\t               ^\r\n\r\n    1 error\r\n\r\n    interface ToStringer {\r\n    \tdefault String toString() {\r\n    \t\tSystem.out.println(&quot;default clone&quot;); return &quot;HI&quot;;\r\n    \t}\r\n    }\r\n    \t\t\t\r\n    public class FOO implements ToStringer {\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn ToStringer.super.toString();\r\n    \t}\r\n    \t\t\t\r\n    \tpublic static void main(String... args) {\r\n    \t\tnew FOO().toString();\r\n    \t}\r\n    }\r\n","title":"Override Object methods inside interface using default methods- Misleading error","body":"<p>Question: Need to understand why in case of Program 1 getting this misleading error, but in Program 2 it gives correct error? Also why unlike <code>toString(),</code> <code>equals(Object),</code> and <code>hashCode(),</code> overriding <code>clone()</code> and <code>finalize()</code> inside interface is allowed?</p>\n<p>Program 1</p>\n<p>For below program getting misleading error:</p>\n<pre><code>FOO.java:10: error: finalize() in Object cannot implement finalize() in ClonerFinalizer\n\npublic class FOO implements ClonerFinalizer {\n             ^\nattempting to assign weaker access privileges; was public\n\n\ninterface ClonerFinalizer {\n    default Object clone() {\n        System.out.println(&quot;default clone&quot;); return this;\n    }\n    default void finalize() {\n        System.out.println(&quot;default finalize&quot;);\n    }\n}\n    \npublic class FOO implements ClonerFinalizer {\n//  @Override\n//  public Object clone() {\n//      return ClonerFinalizer.super.clone();\n//  }\n//  @Override\n//  public void finalize() {\n//      ClonerFinalizer.super.finalize();\n//     }\n    public static void main(String... args) {\n        new FOO().clone();\n        new FOO().finalize();\n    }\n}\n</code></pre>\n<p>But if uncommenting above commented code then it gives correct output.</p>\n<p>Program 2</p>\n<p>Unlike above program in below program clear/correct error</p>\n<pre><code>FOO.java:2: error: default method toString in interface ToStringer overrides a member of java.lang.Object\n\n    default String toString() {\n                   ^\n\n1 error\n\ninterface ToStringer {\n    default String toString() {\n        System.out.println(&quot;default clone&quot;); return &quot;HI&quot;;\n    }\n}\n            \npublic class FOO implements ToStringer {\n    @Override\n    public String toString() {\n        return ToStringer.super.toString();\n    }\n            \n    public static void main(String... args) {\n        new FOO().toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"score":4,"creation_date":1648636231,"post_id":71675523,"comment_id":126673055,"body_markdown":"It checks that `ch` is a letter in the range abc...z.","body":"It checks that <code>ch</code> is a letter in the range abc...z."}],"answers":[{"tags":[],"owner":{"account_id":8937054,"reputation":1080,"user_id":6667539,"display_name":"Paplusc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648654292,"creation_date":1648636504,"answer_id":71675638,"question_id":71675523,"body_markdown":"A benefit of chars is that you can operate with them like if they were integers. \r\n\r\nFor example, you can do you this as well `&#39;a&#39; + 3 = &#39;d&#39;`\r\n\r\nMeaning that `&#39;a&#39; &lt; &#39;d&#39; = true`.\r\n","title":"Count Vowels and Consonants","body":"<p>A benefit of chars is that you can operate with them like if they were integers.</p>\n<p>For example, you can do you this as well <code>'a' + 3 = 'd'</code></p>\n<p>Meaning that <code>'a' &lt; 'd' = true</code>.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648636676,"creation_date":1648636676,"answer_id":71675677,"question_id":71675523,"body_markdown":"The comparison of characters the way it is done can create confusion, as you can see from https://stackoverflow.com/questions/43450659/java-character-comparison.\r\n\r\nBasically @TDG is correct by saying that ch is checked to be between &#39;a&#39; and &#39;z&#39;, and thus the check might be translated as &quot;is ch a lower case character?&quot;\r\n\r\nThe tricky part is that depending on the language people use the expectation can be different, especially since language specific characters are not taken into account. In German language, &#39;&#246;&#39; would definitely qualify as lower case character but is not in the range of the check. The complexity may get evident by studying the [Unicode code charts][1].\r\n\r\nThe best check is to use [Character.isLowerCase()][2].\r\n\r\n\r\n  [1]: http://www.unicode.org/charts/\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Character.html#isLowerCase(char)","title":"Count Vowels and Consonants","body":"<p>The comparison of characters the way it is done can create confusion, as you can see from <a href=\"https://stackoverflow.com/questions/43450659/java-character-comparison\">Java: Character comparison</a>.</p>\n<p>Basically @TDG is correct by saying that ch is checked to be between 'a' and 'z', and thus the check might be translated as &quot;is ch a lower case character?&quot;</p>\n<p>The tricky part is that depending on the language people use the expectation can be different, especially since language specific characters are not taken into account. In German language, 'ö' would definitely qualify as lower case character but is not in the range of the check. The complexity may get evident by studying the <a href=\"http://www.unicode.org/charts/\" rel=\"nofollow noreferrer\">Unicode code charts</a>.</p>\n<p>The best check is to use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Character.html#isLowerCase(char)\" rel=\"nofollow noreferrer\">Character.isLowerCase()</a>.</p>\n"},{"tags":[],"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648637845,"creation_date":1648637845,"answer_id":71675980,"question_id":71675523,"body_markdown":"`char` is a character that represented by a number which is the index of the character in the `ASCII/unicode` table, since the the alphabet characters are arranged in order in the `ASCII` table, the following code checks if the `ch` is in the range of the lowercase alphabet characters representation which is `97` to `122` in the table.\r\n\r\nusing `(int) ch` you can see the decimal value of the character and can compare it with the index in the ASCII table.\r\n\r\n\r\nyou can see the ASCII table here:https://www.asciitable.com/","title":"Count Vowels and Consonants","body":"<p><code>char</code> is a character that represented by a number which is the index of the character in the <code>ASCII/unicode</code> table, since the the alphabet characters are arranged in order in the <code>ASCII</code> table, the following code checks if the <code>ch</code> is in the range of the lowercase alphabet characters representation which is <code>97</code> to <code>122</code> in the table.</p>\n<p>using <code>(int) ch</code> you can see the decimal value of the character and can compare it with the index in the ASCII table.</p>\n<p>you can see the ASCII table here:<a href=\"https://www.asciitable.com/\" rel=\"nofollow noreferrer\">https://www.asciitable.com/</a></p>\n"},{"tags":[],"owner":{"account_id":18213949,"reputation":227,"user_id":13255918,"display_name":"DereckChamboko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648643529,"creation_date":1648643529,"answer_id":71677287,"question_id":71675523,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RrL70.png\r\n\r\n - notice the if statement catches all vowels\r\n- whats ever is not a vowel will either be a capital letter, a number, a special character or consonants\r\n\r\n    else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;)  \r\nthis checks if its not a vowel does it atleast fall in the range of small letter &#39;a&#39;-&#39;z&#39; and is not a special charecter or a number.( we knonw its not a vowel but is it in the ascii range 26=a -51=z)\r\n\r\nrefer to the ASCII table to understand the range comparison\r\n\r\n","title":"Count Vowels and Consonants","body":"<p><a href=\"https://i.stack.imgur.com/RrL70.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RrL70.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><p>notice the if statement catches all vowels</p>\n</li>\n<li><p>whats ever is not a vowel will either be a capital letter, a number, a special character or consonants</p>\n<p>else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z')<br />\nthis checks if its not a vowel does it atleast fall in the range of small letter 'a'-'z' and is not a special charecter or a number.( we knonw its not a vowel but is it in the ascii range 26=a -51=z)</p>\n</li>\n</ul>\n<p>refer to the ASCII table to understand the range comparison</p>\n"},{"tags":[],"owner":{"account_id":28619116,"reputation":1,"user_id":21912483,"display_name":"Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684316657,"creation_date":1684316657,"answer_id":76270702,"question_id":71675523,"body_markdown":"    package com.bharat;\r\n    \r\n    public class CaptchaGenerator {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Hello World&quot;);\r\n    \t\tString s = &quot;hello world welcome the programming world&quot;;\r\n    \t\tStringBuffer sb = new StringBuffer();\r\n    \t\tStringBuffer sb1 = new StringBuffer();\r\n    \t\tString k = null;\r\n    \t\tint vc = 0;\r\n    \t\tchar ch[] = new char[] { &#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39; };\r\n    \t\tint v = s.length();\r\n    \t\tSystem.out.println(&quot;the length of the given string is which includes with spaces:&quot;+v);\r\n    \t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n    \r\n    \t\t\tif (s.charAt(i) == &#39; &#39;) {\r\n    \t\t\t\tv--;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;the length of the given string after removing the spaces:&quot;+v);\r\n    \t\t\r\n    \r\n    \t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n    \r\n    \t\t\tif (s.charAt(i) != &#39; &#39;) {\r\n    \r\n    \t\t\t\tfor (int j = 0; j &lt; ch.length; j++) {\r\n    \r\n    \t\t\t\t\tif (s.charAt(i) == ch[j]) {\r\n    \t\t\t\t\t\t//System.out.println(&quot;vowels&quot;);\r\n    \t\t\t\t\t\tsb.append(s.charAt(i));\r\n    \t\t\t\t\t\tvc++;\r\n    \t\t\t\t\t\tk = sb.toString();\r\n    \r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;vowels count is:&quot; + vc);\r\n    \t\tint l = k.length();\r\n    \t\tint m = v - l;\r\n    \t\tSystem.out.println(&quot;the consonants in the string:&quot;+m);\r\n    \r\n    \t}\r\n    }","title":"Count Vowels and Consonants","body":"<pre><code>package com.bharat;\n\npublic class CaptchaGenerator {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World&quot;);\n        String s = &quot;hello world welcome the programming world&quot;;\n        StringBuffer sb = new StringBuffer();\n        StringBuffer sb1 = new StringBuffer();\n        String k = null;\n        int vc = 0;\n        char ch[] = new char[] { 'a', 'e', 'i', 'o', 'u' };\n        int v = s.length();\n        System.out.println(&quot;the length of the given string is which includes with spaces:&quot;+v);\n        for (int i = 0; i &lt; s.length(); i++) {\n\n            if (s.charAt(i) == ' ') {\n                v--;\n            }\n\n        }\n        System.out.println(&quot;the length of the given string after removing the spaces:&quot;+v);\n        \n\n        for (int i = 0; i &lt; s.length(); i++) {\n\n            if (s.charAt(i) != ' ') {\n\n                for (int j = 0; j &lt; ch.length; j++) {\n\n                    if (s.charAt(i) == ch[j]) {\n                        //System.out.println(&quot;vowels&quot;);\n                        sb.append(s.charAt(i));\n                        vc++;\n                        k = sb.toString();\n\n                    }\n\n                }\n\n            }\n\n        }\n        System.out.println(&quot;vowels count is:&quot; + vc);\n        int l = k.length();\n        int m = v - l;\n        System.out.println(&quot;the consonants in the string:&quot;+m);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18315148,"reputation":105,"user_id":13337068,"display_name":"Neel Chavan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71677287,"answer_count":5,"score":1,"last_activity_date":1684316657,"creation_date":1648636012,"question_id":71675523,"body_markdown":"I was exploring this code which gives a count of vowels and consonants, but didn&#39;t understand this `else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;)` line of code. Please tell me what&#39;s the logic behind it.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Vowels {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter string&quot;);\r\n\t\tString str = sc.nextLine();\r\n\t\tint vowl = 0;\r\n\t\tint conso = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n\t\t\tchar ch = str.charAt(i);\r\n\t\t\tif (ch == &#39;a&#39; || ch == &#39;e&#39; || ch == &#39;i&#39; || ch == &#39;o&#39; || ch == &#39;u&#39;) {\r\n\t\t\t\tvowl++;\r\n\t\t\t} else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) {\r\n\t\t\t\tconso++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(vowl);\r\n\t\tSystem.out.println(conso);\r\n\t}\r\n}\r\n```","title":"Count Vowels and Consonants","body":"<p>I was exploring this code which gives a count of vowels and consonants, but didn't understand this <code>else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z')</code> line of code. Please tell me what's the logic behind it.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Vowels {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter string&quot;);\n        String str = sc.nextLine();\n        int vowl = 0;\n        int conso = 0;\n\n        for (int i = 0; i &lt; str.length(); i++) {\n            char ch = str.charAt(i);\n            if (ch == 'a' || ch == 'e' || ch == 'i' || ch == 'o' || ch == 'u') {\n                vowl++;\n            } else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') {\n                conso++;\n            }\n        }\n        System.out.println(vowl);\n        System.out.println(conso);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2530619,"reputation":4812,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1684314834,"post_id":76270398,"comment_id":134499005,"body_markdown":"whats the repo?","body":"whats the repo?"},{"owner":{"account_id":28028828,"reputation":3,"user_id":21408341,"display_name":"user21408341"},"score":0,"creation_date":1684315128,"post_id":76270398,"comment_id":134499086,"body_markdown":"a Github repository","body":"a Github repository"},{"owner":{"account_id":2530619,"reputation":4812,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1684316233,"post_id":76270398,"comment_id":134499319,"body_markdown":"yes, i got that. If you&#39;d like some help, I could try to clone the repo and try to work out the problem.","body":"yes, i got that. If you&#39;d like some help, I could try to clone the repo and try to work out the problem."},{"owner":{"account_id":28028828,"reputation":3,"user_id":21408341,"display_name":"user21408341"},"score":0,"creation_date":1684316446,"post_id":76270398,"comment_id":134499364,"body_markdown":"https://github.com/hamza372/hamza372-ImageClassificationJavaStarter/tree/main","body":"<a href=\"https://github.com/hamza372/hamza372-ImageClassificationJavaStarter/tree/main\" rel=\"nofollow noreferrer\">github.com/hamza372/hamza372-ImageClassificationJavaStarter/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":2530619,"reputation":4812,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1684322834,"post_id":76270398,"comment_id":134500731,"body_markdown":"I&#39;ve cloned the repo. Android studio flagged that the sdk location was invalid and I allowed the known location for my sdk install. Gradle then sync&#39;d and the project built.","body":"I&#39;ve cloned the repo. Android studio flagged that the sdk location was invalid and I allowed the known location for my sdk install. Gradle then sync&#39;d and the project built."},{"owner":{"account_id":28028828,"reputation":3,"user_id":21408341,"display_name":"user21408341"},"score":0,"creation_date":1684330964,"post_id":76270398,"comment_id":134502685,"body_markdown":"thank you, I did so, but now I have this error: Failed to notify dependency resolution listener","body":"thank you, I did so, but now I have this error: Failed to notify dependency resolution listener"},{"owner":{"account_id":28028828,"reputation":3,"user_id":21408341,"display_name":"user21408341"},"score":0,"creation_date":1684331410,"post_id":76270398,"comment_id":134502800,"body_markdown":"and this error when I click on run button The state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem,Your project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\nIn the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes","body":"and this error when I click on run button The state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem,Your project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project. In the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes"},{"owner":{"account_id":2530619,"reputation":4812,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1684331487,"post_id":76270398,"comment_id":134502819,"body_markdown":"I&#39;d do what it says","body":"I&#39;d do what it says"},{"owner":{"account_id":8646856,"reputation":116,"user_id":6473807,"display_name":"Henry Letting"},"score":0,"creation_date":1688560829,"post_id":76270398,"comment_id":135089308,"body_markdown":"@user21408341, You can refer to [this question](https://stackoverflow.com/questions/56192983/android-studio-is-using-this-jdk-location-which-is-different-to-what-gradle)","body":"@user21408341, You can refer to <a href=\"https://stackoverflow.com/questions/56192983/android-studio-is-using-this-jdk-location-which-is-different-to-what-gradle\">this question</a>"}],"owner":{"account_id":28028828,"reputation":3,"user_id":21408341,"display_name":"user21408341"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684316009,"creation_date":1684314648,"question_id":76270398,"body_markdown":"I&#39;m trying to build a repo from `GitHub` using `Android Studio` and whenever I try to build it, this message appears:\r\n```\r\n-Unable to find Gradle tasks to build: [:]. Build mode: REBUILD. Tests: None.\r\n-Multiple Gradle daemons might be spawned because the Gradle JDK and JAVA_HOME locations are different. Project\r\n```\r\n\r\nI tried different versions of `Android SDK` and `Java JDK`.\r\nI tried to put `Java JDK` and the project file in the same path, but none of them worked.\r\n\r\nAny help in this matter is appreciated.","title":"failed to build Gradle","body":"<p>I'm trying to build a repo from <code>GitHub</code> using <code>Android Studio</code> and whenever I try to build it, this message appears:</p>\n<pre><code>-Unable to find Gradle tasks to build: [:]. Build mode: REBUILD. Tests: None.\n-Multiple Gradle daemons might be spawned because the Gradle JDK and JAVA_HOME locations are different. Project\n</code></pre>\n<p>I tried different versions of <code>Android SDK</code> and <code>Java JDK</code>.\nI tried to put <code>Java JDK</code> and the project file in the same path, but none of them worked.</p>\n<p>Any help in this matter is appreciated.</p>\n"},{"tags":["java","spring-boot","kotlin","redis","r2dbc"],"owner":{"account_id":24430527,"reputation":43,"user_id":20894830,"display_name":"Erkan Isuf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684315881,"creation_date":1684315881,"question_id":76270586,"body_markdown":"i am having quite big issues to configure redis to my application. I have this config file:\r\n\r\n&gt; @Configuration\r\nclass RedisConfig {\r\n\r\n    @Bean\r\n    fun redisConnectionFactory(): JedisConnectionFactory? {\r\n        val config = RedisStandaloneConfiguration(&quot;localhost&quot;, 6379)\r\n        return JedisConnectionFactory(config)\r\n    }\r\n\r\n    @Bean\r\n    fun redisTemplate(redisConnectionFactory: RedisConnectionFactory?): RedisTemplate&lt;String, Any&gt; {\r\n        val template = RedisTemplate&lt;String, Any&gt;()\r\n        template.setConnectionFactory(redisConnectionFactory!!)\r\n        return template\r\n    }\r\n}\r\n\r\n\r\nthe gradle file looks like this:\r\n\r\n     implementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;)\r\n        implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n        implementation(&quot;io.projectreactor.kotlin:reactor-kotlin-extensions&quot;)\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n        implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-reactor&quot;)\r\n        implementation(&quot;org.postgresql:r2dbc-postgresql&quot;)\r\n        implementation(&quot;io.github.microutils:kotlin-logging:3.0.2&quot;)\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n        implementation(&quot;org.apache.poi:poi-ooxml:5.2.3&quot;)\r\n        implementation(&quot;com.mailjet:mailjet-client:5.2.2&quot;)\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-data-redis&quot;\r\n        runtimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n\r\nError happens the moment I add the data-redis dependency:\r\n\r\n      implementation(&quot;org.springframework.boot:spring-boot-starter-data-redis&quot;)\r\n\r\n\r\nThe actual message of error is:\r\n\r\n&gt; Parameter 5 of constructor in\r\n&gt; com.skenarios.microservices.export.services.DataService required a\r\n&gt; bean of type\r\n&gt; &#39;com.skenarios.microservices.export.repository.MyRepo&#39;\r\n&gt; that could not be found.\r\n\r\n\r\nRepository looks like this:\r\n\r\n&gt; interface RenovationRepository : CoroutineCrudRepository&lt;TypeYearValue, Int&gt; {\r\n\r\n    @Query(\r\n        &quot;&quot;&quot;Here my query&quot;&quot;&quot;\r\n    )\r\n    fun findItemsById(buildingId: Int, start: LocalDateTime, end: LocalDateTime): Flow&lt;TypeYearValue&gt;\r\n\r\n\r\nI feel like redis somehow conflicts with r2dbc dependency. Atleast from the searches I made that&#39;s what people saying. All my entities got also annotation @Table (which was suggested in some places as a fix).","title":"Spring boot Redis issues (Kotlin)","body":"<p>i am having quite big issues to configure redis to my application. I have this config file:</p>\n<blockquote>\n<p>@Configuration\nclass RedisConfig {</p>\n</blockquote>\n<pre><code>@Bean\nfun redisConnectionFactory(): JedisConnectionFactory? {\n    val config = RedisStandaloneConfiguration(&quot;localhost&quot;, 6379)\n    return JedisConnectionFactory(config)\n}\n\n@Bean\nfun redisTemplate(redisConnectionFactory: RedisConnectionFactory?): RedisTemplate&lt;String, Any&gt; {\n    val template = RedisTemplate&lt;String, Any&gt;()\n    template.setConnectionFactory(redisConnectionFactory!!)\n    return template\n}\n</code></pre>\n<p>}</p>\n<p>the gradle file looks like this:</p>\n<pre><code> implementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;io.projectreactor.kotlin:reactor-kotlin-extensions&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-reactor&quot;)\n    implementation(&quot;org.postgresql:r2dbc-postgresql&quot;)\n    implementation(&quot;io.github.microutils:kotlin-logging:3.0.2&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\n    implementation(&quot;org.apache.poi:poi-ooxml:5.2.3&quot;)\n    implementation(&quot;com.mailjet:mailjet-client:5.2.2&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-redis&quot;\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n</code></pre>\n<p>Error happens the moment I add the data-redis dependency:</p>\n<pre><code>  implementation(&quot;org.springframework.boot:spring-boot-starter-data-redis&quot;)\n</code></pre>\n<p>The actual message of error is:</p>\n<blockquote>\n<p>Parameter 5 of constructor in\ncom.skenarios.microservices.export.services.DataService required a\nbean of type\n'com.skenarios.microservices.export.repository.MyRepo'\nthat could not be found.</p>\n</blockquote>\n<p>Repository looks like this:</p>\n<blockquote>\n<p>interface RenovationRepository : CoroutineCrudRepository&lt;TypeYearValue, Int&gt; {</p>\n</blockquote>\n<pre><code>@Query(\n    &quot;&quot;&quot;Here my query&quot;&quot;&quot;\n)\nfun findItemsById(buildingId: Int, start: LocalDateTime, end: LocalDateTime): Flow&lt;TypeYearValue&gt;\n</code></pre>\n<p>I feel like redis somehow conflicts with r2dbc dependency. Atleast from the searches I made that's what people saying. All my entities got also annotation @Table (which was suggested in some places as a fix).</p>\n"},{"tags":["java","spring-boot","spring-batch","batch-processing"],"answers":[{"tags":[],"owner":{"account_id":15738788,"reputation":294,"user_id":11356914,"display_name":"Manu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684315866,"creation_date":1684315866,"answer_id":76270584,"question_id":76235003,"body_markdown":"I solved my problem by removing `EnableBatchProcessing(modular = true)` (by deleting `MyModularBatchJobContextConfiguration`), re-adding `@Configuration` to my batch job configuration classes and adding `@ConditionalOnProperty(&quot;spring.batch.job.name&quot;, havingValue=&lt;job-name-goes-here&gt;)` to each of them.\r\n\r\nThis way, the configuration only gets initialized when the job is started with `--spring.batch.job.name=`. All other job configurations will not be initialized, thus the beans from other jobs won&#39;t get created.","title":"Modular Batch Job Contexts with Spring Batch 5","body":"<p>I solved my problem by removing <code>EnableBatchProcessing(modular = true)</code> (by deleting <code>MyModularBatchJobContextConfiguration</code>), re-adding <code>@Configuration</code> to my batch job configuration classes and adding <code>@ConditionalOnProperty(&quot;spring.batch.job.name&quot;, havingValue=&lt;job-name-goes-here&gt;)</code> to each of them.</p>\n<p>This way, the configuration only gets initialized when the job is started with <code>--spring.batch.job.name=</code>. All other job configurations will not be initialized, thus the beans from other jobs won't get created.</p>\n"}],"owner":{"account_id":15738788,"reputation":294,"user_id":11356914,"display_name":"Manu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76270584,"answer_count":1,"score":1,"last_activity_date":1684315866,"creation_date":1683884329,"question_id":76235003,"body_markdown":"I am upgrading to Spring Batch 5 / Spring Boot 3 / Jakarta 10. With Spring Batch 5, `@EnableBatchProcessing(modular=true)` does not behave as before, as it now disables the Auto-Configuration of Spring Batch, meaning I&#39;d have to configure nearly everything myself that was configured by Spring Batch before.\r\n\r\nI&#39;d like to avoid this (because I assume it requires far more effort) so I have to remove the `@EnableBatchProcessing(modular=true)` from my application and somehow modularize the contexts manually.\r\n\r\n## My Application\r\nI have a Batch Application with 4 jobs, more are likely to be added. \r\nEach job defines its own typical beans, like\r\n\r\n - ItemReader\r\n - ItemProcessor\r\n - ItemWriter\r\n - TransactionManager\r\n - Resource\r\n\r\nI basically need to have the whole configuration of the individual jobs modularized, so that all of the beans live in their own contexts and beans that are created by other jobs should not be found. For example, the `step()` method in the configuration of the job `job-a`, namely `BatchJobAConfiguration.class`, injects a bean of type `Resource`. The job `job-b` also defines a bean of type `Resource`, but the beans should live in different contexts so the application does not crash with an error like\r\n\r\n`Parameter 2 of method step in path.to.my.batch.jobs.BatchJobAConfiguration required a single bean, but 2 were found:`\r\n\r\nProbably, I could simply give each of my beans a `@Qualifier` and use it to prevent this type of error from occuring but, assuming this actually works, considering I already have 4 jobs and more are likely to be added I don&#39;t think this is the right way to do it. I would have to place like 15 `@Qualifier`s or so.\r\n\r\nHere is my current setup from before the update to Spring Batch 5. Please note that I cannot share the actual code because this is company code and thus i cannot share it here.\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableJpaRepositories(&quot;path.to.my.repositories&quot;)\r\n@EntityScan(&quot;path.to.my.entities&quot;)\r\n@EnableTask\r\npublic class MyBatchApplication{\r\n    public static void main(String[] args) {\r\n        System.exit(SpringApplication.exit(SpringApplication.run(MyBatchApplication.class, args)));\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is my config\r\n\r\n```java\r\n@Configuration\r\n@EnableBatchProcessing(modular = true)\r\npublic class MyModularBatchJobContextConfiguration {\r\n    @Bean\r\n    ApplicationContextFactory getJobAContext() {\r\n        return new GenericApplicationContextFactory(BatchJobAConfiguration.class);\r\n    }\r\n\r\n    @Bean\r\n    ApplicationContextFactory getJobBContext() {\r\n        return new GenericApplicationContextFactory(BatchJobBConfiguration.class);\r\n    }\r\n\r\n    // More jobs ...\r\n}\r\n```\r\n\r\n```java\r\npublic class BatchJobAConfiguration {\r\n\r\n    private static final String MY_JOB_NAME = &quot;job-a&quot;\r\n\r\n    @Autowired\r\n    private EntityManagerFactory emf;\r\n\r\n    @Bean\r\n    public Job jobA(JobRepository jobRepository, Step myStep) {\r\n        return new JobBuilder(MY_JOB_NAME, jobRepository)\r\n                .flow(myStep)\r\n                .end()\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Step myStep(JpaTransactionManager transactionManager,\r\n                       JobRepository jobRepository,\r\n                       FlatFileItemReader&lt;MyEntity&gt; reader,\r\n                       ItemProcessor&lt;MyEntity, MyEntity&gt; processor,\r\n                       JpaItemWriter&lt;MyEntity&gt; entityWriter) {\r\n        return new StepBuilder(MY_STEP_NAME, jobRepository)\r\n                .&lt;MyEntity, MyEntity&gt;chunk(10, transactionManager)\r\n                .reader(reader)\r\n                .processor(processor)\r\n                .writer(plzOrtEntityWriter)\r\n                .transactionManager(transactionManager)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    JpaTransactionManager jobATransactionManager() {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(emf);\r\n            return transactionManager;\r\n    }\r\n\r\n// Reader, Writer, Processor...\r\n```\r\n\r\nAdd the same time, I want to execute these jobs both from the IDE / CommandLine and from Spring Cloud Dataflow. Hence, the `@EnableTask` on the application class. But I would be already happy if I could make it work from IDE / CommandLine.\r\n\r\nBefore the update to Spring Boot 3, this setup worked like a charm.\r\n\r\nRight now, after the update to Spring Batch 5, the Application basically does not run any job when I start it. Which makes sense, as the auto configuration is turned off. \r\n\r\nRemoving `@EnableBatchProcessing(modular=true)` and `MyModularBatchJobContextConfiguration` and annotating my Batch job configuration classes with `@Configuration` now causes several bean clashes, which also makes sense because now all the beans are no longer present in their own isolated context.\r\n\r\nHow can i migrate my setup to Spring Batch 5 without `@EnableBatchProcessing(modular = true)` so my setup works again?\r\nKeeping `EnableBatchProcessing(modular = true)` is also an option, but I am not sure what I have to configure myself now in order to make it work.\r\n\r\nThanks in Advance!","title":"Modular Batch Job Contexts with Spring Batch 5","body":"<p>I am upgrading to Spring Batch 5 / Spring Boot 3 / Jakarta 10. With Spring Batch 5, <code>@EnableBatchProcessing(modular=true)</code> does not behave as before, as it now disables the Auto-Configuration of Spring Batch, meaning I'd have to configure nearly everything myself that was configured by Spring Batch before.</p>\n<p>I'd like to avoid this (because I assume it requires far more effort) so I have to remove the <code>@EnableBatchProcessing(modular=true)</code> from my application and somehow modularize the contexts manually.</p>\n<h2>My Application</h2>\n<p>I have a Batch Application with 4 jobs, more are likely to be added.\nEach job defines its own typical beans, like</p>\n<ul>\n<li>ItemReader</li>\n<li>ItemProcessor</li>\n<li>ItemWriter</li>\n<li>TransactionManager</li>\n<li>Resource</li>\n</ul>\n<p>I basically need to have the whole configuration of the individual jobs modularized, so that all of the beans live in their own contexts and beans that are created by other jobs should not be found. For example, the <code>step()</code> method in the configuration of the job <code>job-a</code>, namely <code>BatchJobAConfiguration.class</code>, injects a bean of type <code>Resource</code>. The job <code>job-b</code> also defines a bean of type <code>Resource</code>, but the beans should live in different contexts so the application does not crash with an error like</p>\n<p><code>Parameter 2 of method step in path.to.my.batch.jobs.BatchJobAConfiguration required a single bean, but 2 were found:</code></p>\n<p>Probably, I could simply give each of my beans a <code>@Qualifier</code> and use it to prevent this type of error from occuring but, assuming this actually works, considering I already have 4 jobs and more are likely to be added I don't think this is the right way to do it. I would have to place like 15 <code>@Qualifier</code>s or so.</p>\n<p>Here is my current setup from before the update to Spring Batch 5. Please note that I cannot share the actual code because this is company code and thus i cannot share it here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableJpaRepositories(&quot;path.to.my.repositories&quot;)\n@EntityScan(&quot;path.to.my.entities&quot;)\n@EnableTask\npublic class MyBatchApplication{\n    public static void main(String[] args) {\n        System.exit(SpringApplication.exit(SpringApplication.run(MyBatchApplication.class, args)));\n    }\n\n}\n</code></pre>\n<p>This is my config</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableBatchProcessing(modular = true)\npublic class MyModularBatchJobContextConfiguration {\n    @Bean\n    ApplicationContextFactory getJobAContext() {\n        return new GenericApplicationContextFactory(BatchJobAConfiguration.class);\n    }\n\n    @Bean\n    ApplicationContextFactory getJobBContext() {\n        return new GenericApplicationContextFactory(BatchJobBConfiguration.class);\n    }\n\n    // More jobs ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class BatchJobAConfiguration {\n\n    private static final String MY_JOB_NAME = &quot;job-a&quot;\n\n    @Autowired\n    private EntityManagerFactory emf;\n\n    @Bean\n    public Job jobA(JobRepository jobRepository, Step myStep) {\n        return new JobBuilder(MY_JOB_NAME, jobRepository)\n                .flow(myStep)\n                .end()\n                .build();\n    }\n\n    @Bean\n    public Step myStep(JpaTransactionManager transactionManager,\n                       JobRepository jobRepository,\n                       FlatFileItemReader&lt;MyEntity&gt; reader,\n                       ItemProcessor&lt;MyEntity, MyEntity&gt; processor,\n                       JpaItemWriter&lt;MyEntity&gt; entityWriter) {\n        return new StepBuilder(MY_STEP_NAME, jobRepository)\n                .&lt;MyEntity, MyEntity&gt;chunk(10, transactionManager)\n                .reader(reader)\n                .processor(processor)\n                .writer(plzOrtEntityWriter)\n                .transactionManager(transactionManager)\n                .build();\n    }\n\n    @Bean\n    JpaTransactionManager jobATransactionManager() {\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\n            transactionManager.setEntityManagerFactory(emf);\n            return transactionManager;\n    }\n\n// Reader, Writer, Processor...\n</code></pre>\n<p>Add the same time, I want to execute these jobs both from the IDE / CommandLine and from Spring Cloud Dataflow. Hence, the <code>@EnableTask</code> on the application class. But I would be already happy if I could make it work from IDE / CommandLine.</p>\n<p>Before the update to Spring Boot 3, this setup worked like a charm.</p>\n<p>Right now, after the update to Spring Batch 5, the Application basically does not run any job when I start it. Which makes sense, as the auto configuration is turned off.</p>\n<p>Removing <code>@EnableBatchProcessing(modular=true)</code> and <code>MyModularBatchJobContextConfiguration</code> and annotating my Batch job configuration classes with <code>@Configuration</code> now causes several bean clashes, which also makes sense because now all the beans are no longer present in their own isolated context.</p>\n<p>How can i migrate my setup to Spring Batch 5 without <code>@EnableBatchProcessing(modular = true)</code> so my setup works again?\nKeeping <code>EnableBatchProcessing(modular = true)</code> is also an option, but I am not sure what I have to configure myself now in order to make it work.</p>\n<p>Thanks in Advance!</p>\n"},{"tags":["java","android","android-studio","kotlin","companion-object"],"answers":[{"tags":[],"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684312514,"creation_date":1684312206,"answer_id":76270035,"question_id":76269902,"body_markdown":"you could put **pinAppWidget** method into an object, so you can easy call it in both Activity:\r\n\r\n```\r\nclass function : Activity() {\r\n    fun pinAppWidget(text: String?){}\r\n}\r\n\r\n//convert to\r\nobject function {\r\n    fun pinAppWidget(text: String?, activity: Activity){}\r\n}\r\n```\r\n\r\nAnother way, you could create BaseActivity and put pinAppWidget into it. Then make your MainActivity extend BaseActivity, you can easy call pinAppWidget from here\r\n```\r\nclass BaseActivity : AppCompatActivity() {\r\n   fun pinAppWidget (){}\r\n}\r\n\r\nclass MainActivity : BaseActivity() {\r\n   //call pinAppWidget()\r\n}\r\n```","title":"Android kotlin declare a function in an external class that can be used multiple times but needs a context","body":"<p>you could put <strong>pinAppWidget</strong> method into an object, so you can easy call it in both Activity:</p>\n<pre><code>class function : Activity() {\n    fun pinAppWidget(text: String?){}\n}\n\n//convert to\nobject function {\n    fun pinAppWidget(text: String?, activity: Activity){}\n}\n</code></pre>\n<p>Another way, you could create BaseActivity and put pinAppWidget into it. Then make your MainActivity extend BaseActivity, you can easy call pinAppWidget from here</p>\n<pre><code>class BaseActivity : AppCompatActivity() {\n   fun pinAppWidget (){}\n}\n\nclass MainActivity : BaseActivity() {\n   //call pinAppWidget()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18792674,"reputation":41,"user_id":13704799,"display_name":"Emre B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684312849,"creation_date":1684312849,"answer_id":76270111,"question_id":76269902,"body_markdown":"You can pass the `Context` object as a parameter to the `pinAppWidget` function in the `function` class.\r\n\r\n```kotlin\r\nimport android.app.PendingIntent\r\nimport android.appwidget.AppWidgetManager\r\nimport android.content.ComponentName\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.os.Build\r\nimport android.os.Bundle\r\nimport android.widget.Toast\r\n\r\nclass MyWidgetFunction {\r\n    fun pinAppWidget(context: Context, text: String?) {\r\n        val urlCode = extractLinks(text)\r\n        if (urlCode != &quot;&quot; &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            val mAppWidgetManager = context.getSystemService(\r\n                AppWidgetManager::class.java\r\n            )\r\n            // Rest of your code...\r\n        }\r\n    }\r\n\r\n    private fun extractLinks(text: String?): String {\r\n        val index = text!!.lastIndexOf(&quot;/&quot;)\r\n        return text.substring(index + 1)\r\n    }\r\n}\r\n```\r\n\r\nNow you can use the `MyWidgetFunction` class in both `MainActivity` and `ConfigurableWidgetConfigureActivity`. When calling the `pinAppWidget` function, make sure to pass the appropriate `Context` object.\r\n\r\nIn `MainActivity`:\r\n\r\n```kotlin\r\nval myWidgetFunction = MyWidgetFunction()\r\nmyWidgetFunction.pinAppWidget(this, text)\r\n```\r\n\r\nIn `ConfigurableWidgetConfigureActivity`:\r\n\r\n```kotlin\r\nval myWidgetFunction = MyWidgetFunction()\r\nmyWidgetFunction.pinAppWidget(this, text)\r\n```\r\n\r\nNote: Make sure to replace `MyWidget` with the actual name of your widget class.","title":"Android kotlin declare a function in an external class that can be used multiple times but needs a context","body":"<p>You can pass the <code>Context</code> object as a parameter to the <code>pinAppWidget</code> function in the <code>function</code> class.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import android.app.PendingIntent\nimport android.appwidget.AppWidgetManager\nimport android.content.ComponentName\nimport android.content.Context\nimport android.content.Intent\nimport android.os.Build\nimport android.os.Bundle\nimport android.widget.Toast\n\nclass MyWidgetFunction {\n    fun pinAppWidget(context: Context, text: String?) {\n        val urlCode = extractLinks(text)\n        if (urlCode != &quot;&quot; &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val mAppWidgetManager = context.getSystemService(\n                AppWidgetManager::class.java\n            )\n            // Rest of your code...\n        }\n    }\n\n    private fun extractLinks(text: String?): String {\n        val index = text!!.lastIndexOf(&quot;/&quot;)\n        return text.substring(index + 1)\n    }\n}\n</code></pre>\n<p>Now you can use the <code>MyWidgetFunction</code> class in both <code>MainActivity</code> and <code>ConfigurableWidgetConfigureActivity</code>. When calling the <code>pinAppWidget</code> function, make sure to pass the appropriate <code>Context</code> object.</p>\n<p>In <code>MainActivity</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myWidgetFunction = MyWidgetFunction()\nmyWidgetFunction.pinAppWidget(this, text)\n</code></pre>\n<p>In <code>ConfigurableWidgetConfigureActivity</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myWidgetFunction = MyWidgetFunction()\nmyWidgetFunction.pinAppWidget(this, text)\n</code></pre>\n<p>Note: Make sure to replace <code>MyWidget</code> with the actual name of your widget class.</p>\n"},{"tags":[],"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684315827,"creation_date":1684315827,"answer_id":76270578,"question_id":76269902,"body_markdown":"This questions covers at least two things: architecture decision and android platform limitations. \r\n\r\nFrom software architecture perspective you could:\r\n- create a common parent class and put this and the rest common logic inside; other activities will extend this class and inherit its behaviour. \r\n- create utility class to encapsulate common logic and instantiate this class within each activity. \r\n- inner classes (aka ```object:``` in kotlin) could be an alternative to this two options. \r\n- ```kotlin``` also provide such things as [extensions][1] which could a fourth way to achieve your task. \r\n\r\nFrom Android platform perspective component code should be called only from component (Activity, Service, BroadcastReceiver, ContentProvder). Your function uses component code (```mAppWidgetManager.requestPinAppWidget(...)```) and it would be good to keep it within component and do not put outside. Although, it is still possible to put it into a separate class and pass a ```context``` to run this code.   \r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/extensions.html#extension-functions","title":"Android kotlin declare a function in an external class that can be used multiple times but needs a context","body":"<p>This questions covers at least two things: architecture decision and android platform limitations.</p>\n<p>From software architecture perspective you could:</p>\n<ul>\n<li>create a common parent class and put this and the rest common logic inside; other activities will extend this class and inherit its behaviour.</li>\n<li>create utility class to encapsulate common logic and instantiate this class within each activity.</li>\n<li>inner classes (aka <code>object:</code> in kotlin) could be an alternative to this two options.</li>\n<li><code>kotlin</code> also provide such things as <a href=\"https://kotlinlang.org/docs/extensions.html#extension-functions\" rel=\"nofollow noreferrer\">extensions</a> which could a fourth way to achieve your task.</li>\n</ul>\n<p>From Android platform perspective component code should be called only from component (Activity, Service, BroadcastReceiver, ContentProvder). Your function uses component code (<code>mAppWidgetManager.requestPinAppWidget(...)</code>) and it would be good to keep it within component and do not put outside. Although, it is still possible to put it into a separate class and pass a <code>context</code> to run this code.</p>\n"}],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684315827,"creation_date":1684311232,"question_id":76269902,"body_markdown":"I have the following function `pinAppWidget` which I am using in `MainActivity` but I would need to be able to use it also in `ConfigurableWidgetConfigureActivity` to not have a duplicate of the function I would like to create a class that contains them.\r\n\r\nBut I&#39;m having some problems.\r\n\r\n\r\nCode original:\r\n```java\r\n    fun pinAppWidget(text: String?) {\r\n        val urlCode = extractLinks(text)\r\n        if (urlCode != &quot;&quot; &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            val mAppWidgetManager = getSystemService(\r\n                AppWidgetManager::class.java\r\n            )\r\n\r\n            if (!mAppWidgetManager.isRequestPinAppWidgetSupported) {\r\n                Toast.makeText(\r\n                    this@MainActivity,\r\n                    &quot;Pin app widget is not supported&quot;,\r\n                    Toast.LENGTH_SHORT\r\n                ).show()\r\n                return\r\n            }\r\n\r\n            val myProvider = ComponentName(this@MainActivity, MyWidget::class.java)\r\n\r\n\r\n            val pinnedWidgetCallbackIntent = Intent(this@MainActivity, MyWidget::class.java)\r\n            val successCallback = PendingIntent.getBroadcast(\r\n                this@MainActivity, 0,\r\n                pinnedWidgetCallbackIntent, PendingIntent.FLAG_IMMUTABLE\r\n            )\r\n            mAppWidgetManager.requestPinAppWidget(myProvider, Bundle(), successCallback)\r\n        }\r\n    }\r\n\r\nfun extractLinks(text: String?): String {\r\n        val index = text!!.lastIndexOf(&quot;/&quot;)\r\n        return text.substring(index + 1)\r\n    }\r\n```\r\n\r\n\r\nClass function:\r\n\r\n```java\r\n\r\nimport android.app.Activity\r\nimport android.app.PendingIntent\r\nimport android.appwidget.AppWidgetManager\r\nimport android.content.ComponentName\r\nimport android.content.Intent\r\nimport android.os.Build\r\nimport android.os.Bundle\r\nimport android.widget.Toast\r\n\r\nclass function : Activity() {\r\n    fun pinAppWidget(text: String?) {\r\n        val urlCode = extractLinks(text)\r\n        if (urlCode != &quot;&quot; &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            val mAppWidgetManager = getSystemService(\r\n                AppWidgetManager::class.java\r\n            )\r\n            if (!mAppWidgetManager.isRequestPinAppWidgetSupported) {\r\n                Toast.makeText(\r\n                    this@function,\r\n                    &quot;Pin app widget is not supported&quot;,\r\n                    Toast.LENGTH_SHORT\r\n                ).show()\r\n                return\r\n            }\r\n\r\n            val myProvider = ComponentName(this@function, MyWidget::class.java)\r\n            val pinnedWidgetCallbackIntent = Intent(this@function, MyWidget::class.java)\r\n            val successCallback = PendingIntent.getBroadcast(\r\n                this@function, 0,\r\n                pinnedWidgetCallbackIntent, PendingIntent.FLAG_IMMUTABLE\r\n            )\r\n            mAppWidgetManager.requestPinAppWidget(myProvider, Bundle(), successCallback)\r\n        }\r\n    }\r\n\r\n    fun extractLinks(text: String?): String {\r\n        val index = text!!.lastIndexOf(&quot;/&quot;)\r\n        return text.substring(index + 1)\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I call inside the `MainActivity` function I get the following problem:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I do it, can you help me?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZB2Wk.png","title":"Android kotlin declare a function in an external class that can be used multiple times but needs a context","body":"<p>I have the following function <code>pinAppWidget</code> which I am using in <code>MainActivity</code> but I would need to be able to use it also in <code>ConfigurableWidgetConfigureActivity</code> to not have a duplicate of the function I would like to create a class that contains them.</p>\n<p>But I'm having some problems.</p>\n<p>Code original:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    fun pinAppWidget(text: String?) {\n        val urlCode = extractLinks(text)\n        if (urlCode != &quot;&quot; &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val mAppWidgetManager = getSystemService(\n                AppWidgetManager::class.java\n            )\n\n            if (!mAppWidgetManager.isRequestPinAppWidgetSupported) {\n                Toast.makeText(\n                    this@MainActivity,\n                    &quot;Pin app widget is not supported&quot;,\n                    Toast.LENGTH_SHORT\n                ).show()\n                return\n            }\n\n            val myProvider = ComponentName(this@MainActivity, MyWidget::class.java)\n\n\n            val pinnedWidgetCallbackIntent = Intent(this@MainActivity, MyWidget::class.java)\n            val successCallback = PendingIntent.getBroadcast(\n                this@MainActivity, 0,\n                pinnedWidgetCallbackIntent, PendingIntent.FLAG_IMMUTABLE\n            )\n            mAppWidgetManager.requestPinAppWidget(myProvider, Bundle(), successCallback)\n        }\n    }\n\nfun extractLinks(text: String?): String {\n        val index = text!!.lastIndexOf(&quot;/&quot;)\n        return text.substring(index + 1)\n    }\n</code></pre>\n<p>Class function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport android.app.Activity\nimport android.app.PendingIntent\nimport android.appwidget.AppWidgetManager\nimport android.content.ComponentName\nimport android.content.Intent\nimport android.os.Build\nimport android.os.Bundle\nimport android.widget.Toast\n\nclass function : Activity() {\n    fun pinAppWidget(text: String?) {\n        val urlCode = extractLinks(text)\n        if (urlCode != &quot;&quot; &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val mAppWidgetManager = getSystemService(\n                AppWidgetManager::class.java\n            )\n            if (!mAppWidgetManager.isRequestPinAppWidgetSupported) {\n                Toast.makeText(\n                    this@function,\n                    &quot;Pin app widget is not supported&quot;,\n                    Toast.LENGTH_SHORT\n                ).show()\n                return\n            }\n\n            val myProvider = ComponentName(this@function, MyWidget::class.java)\n            val pinnedWidgetCallbackIntent = Intent(this@function, MyWidget::class.java)\n            val successCallback = PendingIntent.getBroadcast(\n                this@function, 0,\n                pinnedWidgetCallbackIntent, PendingIntent.FLAG_IMMUTABLE\n            )\n            mAppWidgetManager.requestPinAppWidget(myProvider, Bundle(), successCallback)\n        }\n    }\n\n    fun extractLinks(text: String?): String {\n        val index = text!!.lastIndexOf(&quot;/&quot;)\n        return text.substring(index + 1)\n    }\n\n}\n</code></pre>\n<p>When I call inside the <code>MainActivity</code> function I get the following problem:</p>\n<p><a href=\"https://i.stack.imgur.com/ZB2Wk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZB2Wk.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I do it, can you help me?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684365267,"post_id":76270575,"comment_id":134509703,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24397922,"reputation":1,"user_id":18327033,"display_name":"Bishwajit Sonar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684315797,"creation_date":1684315797,"question_id":76270575,"body_markdown":"I used RequestDispatcher to forward to signIn.jsp but it gives me error. not able to find the error and error be like javax.servlet.ServletException: javax.ws.rs.ProcessingException: java.io.IOException: Stream closed\r\n\r\nHere what it did the coding \r\n```\r\nimport java.io.IOException;\r\nimport javax.servlet.RequestDispatcher;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.ws.rs.FormParam;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.Context;\r\nimport javax.ws.rs.core.MediaType;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport com.hibernate.utils.HibernateUtils;\r\nimport com.lottery.classes.User;\r\n\r\nSessionFactory sfactory = HibernateUtils.getSessionFactory();\r\nSession session = sfactory.openSession();\r\nTransaction tx = session.beginTransaction();\r\nsession.save(user);\r\ntx.commit();\r\nsession.close();\r\nsfactory.close();\r\nRequestDispatcher rd = request.getRequestDispatcher(&quot;signIn.jsp&quot;);\r\nrd.forward(request, response);\r\n```\r\n\r\nwhat it expected and what i get \r\ni expected to open signIn.jsp page but giving me error stream closed ","title":"How to solve java.io.IOException: Stream closed error","body":"<p>I used RequestDispatcher to forward to signIn.jsp but it gives me error. not able to find the error and error be like javax.servlet.ServletException: javax.ws.rs.ProcessingException: java.io.IOException: Stream closed</p>\n<p>Here what it did the coding</p>\n<pre><code>import java.io.IOException;\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.ws.rs.FormParam;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.MediaType;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport com.hibernate.utils.HibernateUtils;\nimport com.lottery.classes.User;\n\nSessionFactory sfactory = HibernateUtils.getSessionFactory();\nSession session = sfactory.openSession();\nTransaction tx = session.beginTransaction();\nsession.save(user);\ntx.commit();\nsession.close();\nsfactory.close();\nRequestDispatcher rd = request.getRequestDispatcher(&quot;signIn.jsp&quot;);\nrd.forward(request, response);\n</code></pre>\n<p>what it expected and what i get\ni expected to open signIn.jsp page but giving me error stream closed</p>\n"},{"tags":["java","android","kotlin","escaping","stringescapeutils"],"comments":[{"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"score":0,"creation_date":1684072418,"post_id":76247722,"comment_id":134460060,"body_markdown":"It is not clear what is your original HTML with JSON. Example would help.","body":"It is not clear what is your original HTML with JSON. Example would help."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1684103764,"post_id":76247722,"comment_id":134463768,"body_markdown":"@P_M it&#39;s just an escaped URL. No need to post entire HTML. I&#39;ve added an example of its beginning","body":"@P_M it&#39;s just an escaped URL. No need to post entire HTML. I&#39;ve added an example of its beginning"}],"answers":[{"tags":[],"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684315663,"creation_date":1684077031,"answer_id":76248201,"question_id":76247722,"body_markdown":"Let me just give you my working example using `StringEscapeUtils.unescapeJson(input)` without `replace`. I&#39;ve also looked into the `StringEscapeUtils` source code, which might help you a bit.\r\n\r\n**Here is my working Kotlin code** (Java works the same in my test).\r\n```\r\nfun main(args: Array&lt;String&gt;) {\r\n    val input = &quot;Hello ampersand \\\\u0026 and forward slash \\\\/&quot;\r\n    println(input)\r\n\r\n    val output1 = StringEscapeUtils.unescapeJson(input)\r\n    println(output1)\r\n\r\n    val output2 = StringEscapeUtils.unescapeJson(input).replace(&quot;\\\\u0026&quot;, &quot;&amp;&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;)\r\n    println(output2)\r\n}\r\n```\r\n**Output:**\r\n```\r\nHello ampersand \\u0026 and forward slash \\/ - original input\r\nHello ampersand &amp; and forward slash /       - StringEscapeUtils.unescapeJson(input)\r\nHello ampersand &amp; and forward slash /       - StringEscapeUtils.unescapeJson(input).replace...\r\n```\r\nAs you can see, the outputs are identical regardless of using the `replace` logic. I&#39;m using `org.apache.commons:commons-text:1.10.0`.\r\n\r\nIf we look into their source code, it&#39;s could be clear that we don&#39;t have to add any `replace(&quot;\\\\u0026&quot;, &quot;&amp;&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;)` because:\r\n- the escaped-unicode representation of ampersand is handled by [UnicodeUnescaper][1]. You can see it being used in your `unescapeUrl` originally replicated from [UNESCAPE_JAVA][2] implementation.\r\n- the `\\\\/` string is handled by another existing rule at [UNESCAPE_JAVA][3], which is `unescapeJavaMap.put(&quot;\\\\&quot;, StringUtils.EMPTY)` and also replicated in your `unescapeUrl`.\r\n\r\n\r\n**So, answering your questions *(NB: also see the UPDATE below taking into account the &quot;broken&quot; input from the author, which was posted later)*:**\r\n1. Not obvious what is wrong in your example using just `StringEscapeUtils.unescapeJson(input)` as you can see, it works in my Kotlin example (Java as well). Maybe the version of the &quot;common-text&quot; library? But I doubt that. I&#39;m also using PC, not Android. *See the **UPDATE** below explaining the &quot;broken&quot; input posted later by the author and how to deal with that.*\r\n2. It is true, totally agree. And in this particular example, not even &quot;something similar&quot;. You should be fine using the out-of-the-box method. No need to customise that in either way.\r\n\r\nI hope, this answer helps. Also, as it was mentioned in the comments, a good example from you would be very helpful!\r\n\r\n**UPDATE:**\r\nLooking into the author&#39;s example (posted later), I can see that the escaped-unicode representation of ampersand is sort of double-escaped in the input as `\\\\u0026` instead of `\\u0026`. Thus, the problem. If you look into the source code of that [UNESCAPE_JAVA (UNESCAPE_JSON)][4], you will see that the `\\\\` string get transformed into a single backslash `\\` as in `unescapeJavaMap.put(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;)`, and then in [that translators iteration][5] the index advances **by 2** as two characters have been replaced, which places the index at the `u` character.\r\n\r\nI would say, this is the upstream problem that sends you a badly formatted string. **Ideally**, it should be fixed so that they don&#39;t double escape the characters represented in escaped-unicode format. Then `\\\\u0026` should become `\\u0026`.\r\n\r\nYou can also compose your own `AggregateTranslator` the way it properly handles this scenario. There might be few options but they could all be error-prone and stop working properly in other scenarios. So, you have to be careful with that.\r\n\r\nYou can also run the `unescapeJson` method twice and it works in your particular example as in `StringEscapeUtils.unescapeJson(StringEscapeUtils.unescapeJson(input))`. But obviously, you could easily over-unescape the input.\r\n\r\n\r\n  [1]: https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/translate/UnicodeUnescaper.java#L29\r\n  [2]: https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/StringEscapeUtils.java#L395\r\n  [3]: https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/StringEscapeUtils.java#L392\r\n  [4]: https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/StringEscapeUtils.java#L389\r\n  [5]: https://github.com/apache/commons-text/blob/master/src/main/java/org/apache/commons/text/translate/AggregateTranslator.java#L60","title":"How to unescape JSON/Java with support to ampersand?","body":"<p>Let me just give you my working example using <code>StringEscapeUtils.unescapeJson(input)</code> without <code>replace</code>. I've also looked into the <code>StringEscapeUtils</code> source code, which might help you a bit.</p>\n<p><strong>Here is my working Kotlin code</strong> (Java works the same in my test).</p>\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val input = &quot;Hello ampersand \\\\u0026 and forward slash \\\\/&quot;\n    println(input)\n\n    val output1 = StringEscapeUtils.unescapeJson(input)\n    println(output1)\n\n    val output2 = StringEscapeUtils.unescapeJson(input).replace(&quot;\\\\u0026&quot;, &quot;&amp;&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;)\n    println(output2)\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Hello ampersand \\u0026 and forward slash \\/ - original input\nHello ampersand &amp; and forward slash /       - StringEscapeUtils.unescapeJson(input)\nHello ampersand &amp; and forward slash /       - StringEscapeUtils.unescapeJson(input).replace...\n</code></pre>\n<p>As you can see, the outputs are identical regardless of using the <code>replace</code> logic. I'm using <code>org.apache.commons:commons-text:1.10.0</code>.</p>\n<p>If we look into their source code, it's could be clear that we don't have to add any <code>replace(&quot;\\\\u0026&quot;, &quot;&amp;&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;)</code> because:</p>\n<ul>\n<li>the escaped-unicode representation of ampersand is handled by <a href=\"https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/translate/UnicodeUnescaper.java#L29\" rel=\"nofollow noreferrer\">UnicodeUnescaper</a>. You can see it being used in your <code>unescapeUrl</code> originally replicated from <a href=\"https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/StringEscapeUtils.java#L395\" rel=\"nofollow noreferrer\">UNESCAPE_JAVA</a> implementation.</li>\n<li>the <code>\\\\/</code> string is handled by another existing rule at <a href=\"https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/StringEscapeUtils.java#L392\" rel=\"nofollow noreferrer\">UNESCAPE_JAVA</a>, which is <code>unescapeJavaMap.put(&quot;\\\\&quot;, StringUtils.EMPTY)</code> and also replicated in your <code>unescapeUrl</code>.</li>\n</ul>\n<p><strong>So, answering your questions <em>(NB: also see the UPDATE below taking into account the &quot;broken&quot; input from the author, which was posted later)</em>:</strong></p>\n<ol>\n<li>Not obvious what is wrong in your example using just <code>StringEscapeUtils.unescapeJson(input)</code> as you can see, it works in my Kotlin example (Java as well). Maybe the version of the &quot;common-text&quot; library? But I doubt that. I'm also using PC, not Android. <em>See the <strong>UPDATE</strong> below explaining the &quot;broken&quot; input posted later by the author and how to deal with that.</em></li>\n<li>It is true, totally agree. And in this particular example, not even &quot;something similar&quot;. You should be fine using the out-of-the-box method. No need to customise that in either way.</li>\n</ol>\n<p>I hope, this answer helps. Also, as it was mentioned in the comments, a good example from you would be very helpful!</p>\n<p><strong>UPDATE:</strong>\nLooking into the author's example (posted later), I can see that the escaped-unicode representation of ampersand is sort of double-escaped in the input as <code>\\\\u0026</code> instead of <code>\\u0026</code>. Thus, the problem. If you look into the source code of that <a href=\"https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/StringEscapeUtils.java#L389\" rel=\"nofollow noreferrer\">UNESCAPE_JAVA (UNESCAPE_JSON)</a>, you will see that the <code>\\\\</code> string get transformed into a single backslash <code>\\</code> as in <code>unescapeJavaMap.put(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;)</code>, and then in <a href=\"https://github.com/apache/commons-text/blob/master/src/main/java/org/apache/commons/text/translate/AggregateTranslator.java#L60\" rel=\"nofollow noreferrer\">that translators iteration</a> the index advances <strong>by 2</strong> as two characters have been replaced, which places the index at the <code>u</code> character.</p>\n<p>I would say, this is the upstream problem that sends you a badly formatted string. <strong>Ideally</strong>, it should be fixed so that they don't double escape the characters represented in escaped-unicode format. Then <code>\\\\u0026</code> should become <code>\\u0026</code>.</p>\n<p>You can also compose your own <code>AggregateTranslator</code> the way it properly handles this scenario. There might be few options but they could all be error-prone and stop working properly in other scenarios. So, you have to be careful with that.</p>\n<p>You can also run the <code>unescapeJson</code> method twice and it works in your particular example as in <code>StringEscapeUtils.unescapeJson(StringEscapeUtils.unescapeJson(input))</code>. But obviously, you could easily over-unescape the input.</p>\n"}],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684315663,"creation_date":1684070879,"question_id":76247722,"body_markdown":"Background\r\n--\r\nI need to parse some string from HTML that is of a URL (seems it&#39;s inside JSON), so I tried to use org.apache.commons.text.StringEscapeUtils.unescapeJson.\r\n\r\nAn example of such a URL started with this as the input:\r\n\r\n```\r\nhttps:\\/\\/scontent.cdninstagram.com\\/v\\/t51.2885-19\\/40405422_462181764265305_1222152915674726400_n.jpg?stp=dst-jpg_s150x150\\\\u0026\r\n```\r\n\r\nThe problem\r\n--\r\nIt seems it had some characters that weren&#39;t handled so if I perform this:\r\n\r\n```\r\nval test=&quot;https:\\\\/\\\\/scontent.cdninstagram.com\\\\/v\\\\/t51.2885-19\\\\/40405422_462181764265305_1222152915674726400_n.jpg?stp=dst-jpg_s150x150\\\\\\\\u0026\\n&quot;\r\nLog.d(&quot;AppLog&quot;, &quot;${StringEscapeUtils.unescapeJson(test)}&quot;)\r\n```\r\n\r\nthe result is:\r\n\r\n```\r\nhttps://scontent.cdninstagram.com/v/t51.2885-19/40405422_462181764265305_1222152915674726400_n.jpg?stp=dst-jpg_s150x150\\u0026\r\n```\r\n\r\nYou can see that there is still &quot;0026&quot; in it, so I&#39;ve found that using this solved it:\r\n\r\n```kt\r\nStringEscapeUtils.unescapeJson(input).replace(&quot;\\\\u0026&quot;,&quot;&amp;&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;) \r\n```\r\n\r\nThis works, but I think I should use something more official, as it might fail due to too-direct replacing of substrings.\r\n\r\nWhat I&#39;ve tried\r\n--\r\nLooking at unescapeJson code (which is the same for Java&amp;Json, it seems), I thought that maybe I could just add the rules:\r\n\r\n```\r\n/**based on StringEscapeUtils.unescapeJson, but with addition of 2 more rules*/\r\nfun unescapeUrl(input: String): String {\r\n    val unescapeJavaMap= hashMapOf&lt;CharSequence, CharSequence&gt;(\r\n        &quot;\\\\\\\\&quot; to &quot;\\\\&quot;,\r\n        &quot;\\\\\\\\&quot; to &quot;\\\\&quot;,\r\n        &quot;\\\\\\&quot;&quot; to &quot;\\&quot;&quot;,\r\n        &quot;\\\\&#39;&quot; to &quot;&#39;&quot;,\r\n        &quot;\\\\&quot; to StringUtils.EMPTY,\r\n        //added rules:\r\n        &quot;\\\\u0026&quot; to &quot;&amp;&quot;,\r\n        &quot;\\\\/&quot; to &quot;/&quot;\r\n    )\r\n    val aggregateTranslator = AggregateTranslator(\r\n        OctalUnescaper(),\r\n        UnicodeUnescaper(),\r\n        LookupTranslator(EntityArrays.JAVA_CTRL_CHARS_UNESCAPE),\r\n        LookupTranslator(Collections.unmodifiableMap(unescapeJavaMap))\r\n    )\r\n    return aggregateTranslator.translate(input)\r\n}\r\n```\r\n\r\nThis doesn&#39;t work. It leaves the string with &quot;\\u0026&quot; in it.\r\n\r\nThe questions\r\n--\r\n1. What did I do wrong here? How can I fix this?\r\n\r\n2. It is true it&#39;s best to use something similar to the original code, instead of using &quot;replace&quot;, right?\r\n\r\nBTW, I use this on Android using Kotlin, but same can be done on Java on PC.","title":"How to unescape JSON/Java with support to ampersand?","body":"<h2>Background</h2>\n<p>I need to parse some string from HTML that is of a URL (seems it's inside JSON), so I tried to use org.apache.commons.text.StringEscapeUtils.unescapeJson.</p>\n<p>An example of such a URL started with this as the input:</p>\n<pre><code>https:\\/\\/scontent.cdninstagram.com\\/v\\/t51.2885-19\\/40405422_462181764265305_1222152915674726400_n.jpg?stp=dst-jpg_s150x150\\\\u0026\n</code></pre>\n<h2>The problem</h2>\n<p>It seems it had some characters that weren't handled so if I perform this:</p>\n<pre><code>val test=&quot;https:\\\\/\\\\/scontent.cdninstagram.com\\\\/v\\\\/t51.2885-19\\\\/40405422_462181764265305_1222152915674726400_n.jpg?stp=dst-jpg_s150x150\\\\\\\\u0026\\n&quot;\nLog.d(&quot;AppLog&quot;, &quot;${StringEscapeUtils.unescapeJson(test)}&quot;)\n</code></pre>\n<p>the result is:</p>\n<pre><code>https://scontent.cdninstagram.com/v/t51.2885-19/40405422_462181764265305_1222152915674726400_n.jpg?stp=dst-jpg_s150x150\\u0026\n</code></pre>\n<p>You can see that there is still &quot;0026&quot; in it, so I've found that using this solved it:</p>\n<pre><code>StringEscapeUtils.unescapeJson(input).replace(&quot;\\\\u0026&quot;,&quot;&amp;&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;) \n</code></pre>\n<p>This works, but I think I should use something more official, as it might fail due to too-direct replacing of substrings.</p>\n<h2>What I've tried</h2>\n<p>Looking at unescapeJson code (which is the same for Java&amp;Json, it seems), I thought that maybe I could just add the rules:</p>\n<pre><code>/**based on StringEscapeUtils.unescapeJson, but with addition of 2 more rules*/\nfun unescapeUrl(input: String): String {\n    val unescapeJavaMap= hashMapOf&lt;CharSequence, CharSequence&gt;(\n        &quot;\\\\\\\\&quot; to &quot;\\\\&quot;,\n        &quot;\\\\\\\\&quot; to &quot;\\\\&quot;,\n        &quot;\\\\\\&quot;&quot; to &quot;\\&quot;&quot;,\n        &quot;\\\\'&quot; to &quot;'&quot;,\n        &quot;\\\\&quot; to StringUtils.EMPTY,\n        //added rules:\n        &quot;\\\\u0026&quot; to &quot;&amp;&quot;,\n        &quot;\\\\/&quot; to &quot;/&quot;\n    )\n    val aggregateTranslator = AggregateTranslator(\n        OctalUnescaper(),\n        UnicodeUnescaper(),\n        LookupTranslator(EntityArrays.JAVA_CTRL_CHARS_UNESCAPE),\n        LookupTranslator(Collections.unmodifiableMap(unescapeJavaMap))\n    )\n    return aggregateTranslator.translate(input)\n}\n</code></pre>\n<p>This doesn't work. It leaves the string with &quot;\\u0026&quot; in it.</p>\n<h2>The questions</h2>\n<ol>\n<li><p>What did I do wrong here? How can I fix this?</p>\n</li>\n<li><p>It is true it's best to use something similar to the original code, instead of using &quot;replace&quot;, right?</p>\n</li>\n</ol>\n<p>BTW, I use this on Android using Kotlin, but same can be done on Java on PC.</p>\n"},{"tags":["java","android","wifimanager","native-android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1684316591,"post_id":76270530,"comment_id":134499402,"body_markdown":"Please read https://developer.android.com/guide/topics/connectivity/wifi-scan Since Android 9 foreground apps can perform a Wifi scan every 2 minutes. In background every 30 minutes.","body":"Please read <a href=\"https://developer.android.com/guide/topics/connectivity/wifi-scan\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/wifi-scan</a> Since Android 9 foreground apps can perform a Wifi scan every 2 minutes. In background every 30 minutes."},{"owner":{"account_id":18203305,"reputation":45,"user_id":13247077,"display_name":"Qasim Malik"},"score":0,"creation_date":1684395014,"post_id":76270530,"comment_id":134512503,"body_markdown":"@Robert thanks for sharing this reference, I am creating this auto scanning mechanism in my activity class so this means that foreground policy will be applied in my case and i can get the updated wifi networks every 2mins, is this right?","body":"@Robert thanks for sharing this reference, I am creating this auto scanning mechanism in my activity class so this means that foreground policy will be applied in my case and i can get the updated wifi networks every 2mins, is this right?"}],"owner":{"account_id":18203305,"reputation":45,"user_id":13247077,"display_name":"Qasim Malik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684315494,"creation_date":1684315494,"question_id":76270530,"body_markdown":"I am developing a wifi manager app for android.\r\nhere&#39;s the code that i am using to scan the networks\r\n\r\n```\r\npublic void scanWifiList() {\r\n       \r\n            // Unregister the previous instance of the BroadcastReceiver\r\n            try {\r\n\r\n                unregisterReceiver(wifiReceiver);\r\n            }catch (Exception e){}\r\n            registerReceiver(wifiReceiver, new IntentFilter(WifiManager.SCAN_RESULTS_AVAILABLE_ACTION));\r\n\r\n            scanninghandler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    wifiManager.startScan();\r\n\r\n                     // Schedule the next scan after 5 seconds\r\n                    scanninghandler.postDelayed(runnable, 5000);\r\n                }\r\n            }, 1000); \r\n        \r\n    }\r\n\r\n    class WifiScanReceiver extends BroadcastReceiver {\r\n        public void onReceive(Context c, Intent intent) {\r\n            if (ActivityCompat.checkSelfPermission(c, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                return;\r\n            }\r\n\r\n            if(wifiScanList != null)\r\n                wifiScanList.clear();\r\n            wifiScanList = wifiManager.getScanResults();\r\n\r\n            \r\n            wifiAdapter = new WifiAdapter(WifiNetworkList.this, sortedwifilist(wifiScanList),connected_ssid);\r\nall_wifi.setAdapter(wifiAdapter);\r\n            unregisterReceiver(this);\r\n\r\n        }\r\n```\r\n\r\nas you can see I am using handler to repeat scanning again and again after 5sec to get updated available networks but the issue here is that I&#39;m only able to scan new wifi for the first 2,3 times and than it just keeps returning the old wifilist.\r\n\r\n\r\ni want to update the wifilist after every 5sec so that the user can see all the new networks available, Thanks ","title":"unable to implement auto wifi scanning","body":"<p>I am developing a wifi manager app for android.\nhere's the code that i am using to scan the networks</p>\n<pre><code>public void scanWifiList() {\n       \n            // Unregister the previous instance of the BroadcastReceiver\n            try {\n\n                unregisterReceiver(wifiReceiver);\n            }catch (Exception e){}\n            registerReceiver(wifiReceiver, new IntentFilter(WifiManager.SCAN_RESULTS_AVAILABLE_ACTION));\n\n            scanninghandler.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    wifiManager.startScan();\n\n                     // Schedule the next scan after 5 seconds\n                    scanninghandler.postDelayed(runnable, 5000);\n                }\n            }, 1000); \n        \n    }\n\n    class WifiScanReceiver extends BroadcastReceiver {\n        public void onReceive(Context c, Intent intent) {\n            if (ActivityCompat.checkSelfPermission(c, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                return;\n            }\n\n            if(wifiScanList != null)\n                wifiScanList.clear();\n            wifiScanList = wifiManager.getScanResults();\n\n            \n            wifiAdapter = new WifiAdapter(WifiNetworkList.this, sortedwifilist(wifiScanList),connected_ssid);\nall_wifi.setAdapter(wifiAdapter);\n            unregisterReceiver(this);\n\n        }\n</code></pre>\n<p>as you can see I am using handler to repeat scanning again and again after 5sec to get updated available networks but the issue here is that I'm only able to scan new wifi for the first 2,3 times and than it just keeps returning the old wifilist.</p>\n<p>i want to update the wifilist after every 5sec so that the user can see all the new networks available, Thanks</p>\n"},{"tags":["java","spring","spring-boot","swagger","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":18067649,"reputation":370,"user_id":13133059,"display_name":"Rza İsmayıl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684315384,"creation_date":1684313751,"answer_id":76270260,"question_id":76263231,"body_markdown":"I solved the problem with changes in `SwaggerConfig.java`, I extended the `WebMvcConfigurerAdapter` in `SwaggerConfig` and overrided `void addResourceHandlers(ResourceHandlerRegistry registry)`\r\n:\r\n```java\r\npackage com.company.app.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\nimport springfox.documentation.builders.PathSelectors;\r\nimport springfox.documentation.builders.RequestHandlerSelectors;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@Configuration\r\n@EnableSwagger2\r\n@EnableWebMvc\r\npublic class SwaggerConfig extends WebMvcConfigurerAdapter {\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.company&quot;))\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n         registry.addResourceHandler(&quot;swagger-ui.html&quot;)\r\n                 .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n\r\n         registry.addResourceHandler(&quot;/webjars/**&quot;)\r\n                 .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n     }\r\n}\r\n```","title":"Spring Boot swagger-ui.html 404","body":"<p>I solved the problem with changes in <code>SwaggerConfig.java</code>, I extended the <code>WebMvcConfigurerAdapter</code> in <code>SwaggerConfig</code> and overrided <code>void addResourceHandlers(ResourceHandlerRegistry registry)</code>\n:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company.app.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\n@EnableWebMvc\npublic class SwaggerConfig extends WebMvcConfigurerAdapter {\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.company&quot;))\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n         registry.addResourceHandler(&quot;swagger-ui.html&quot;)\n                 .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\n\n         registry.addResourceHandler(&quot;/webjars/**&quot;)\n                 .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":18067649,"reputation":370,"user_id":13133059,"display_name":"Rza İsmayıl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684315384,"creation_date":1684241538,"question_id":76263231,"body_markdown":"I want to setup swagger ui for my spring boot application but when I go to `http://localhost:8080/swagger-ui` I got 404 not found. I tried it with `http://localhost:8080/swagger-ui.html` and `http://localhost:8080/swagger-ui/index.html` but still got a 404. I have looked at countless tutorial and forms question but the problem continues. Here are my dependencies and swagger config file\r\n\r\nbuild.gradle:\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.10&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n}\r\n\r\n\r\ngroup = &#39;com.company&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.modelmapper:modelmapper:2.1.1&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    implementation &#39;io.springfox:springfox-swagger2:2.9.2&#39;\r\n    implementation &#39;io.springfox:springfox-swagger-ui:2.9.2&#39;\r\n}\r\n```\r\nSwaggerConfig.java:\r\n```java\r\npackage com.company.app.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport springfox.documentation.builders.PathSelectors;\r\nimport springfox.documentation.builders.RequestHandlerSelectors;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@Configuration\r\n@EnableSwagger2\r\n@EnableWebMvc\r\npublic class SwaggerConfig {\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.company&quot;))\r\n                .paths(PathSelectors.ant(&quot;/api/**&quot;))\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nI assume it is about the versions, which one should I use with the spring boot version I am using if it is about versions of swagger?\r\n","title":"Spring Boot swagger-ui.html 404","body":"<p>I want to setup swagger ui for my spring boot application but when I go to <code>http://localhost:8080/swagger-ui</code> I got 404 not found. I tried it with <code>http://localhost:8080/swagger-ui.html</code> and <code>http://localhost:8080/swagger-ui/index.html</code> but still got a 404. I have looked at countless tutorial and forms question but the problem continues. Here are my dependencies and swagger config file</p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.10'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\n\ngroup = 'com.company'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.modelmapper:modelmapper:2.1.1'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'org.postgresql:postgresql'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'io.springfox:springfox-swagger2:2.9.2'\n    implementation 'io.springfox:springfox-swagger-ui:2.9.2'\n}\n</code></pre>\n<p>SwaggerConfig.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company.app.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\n@EnableWebMvc\npublic class SwaggerConfig {\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.company&quot;))\n                .paths(PathSelectors.ant(&quot;/api/**&quot;))\n                .build();\n    }\n}\n</code></pre>\n<p>I assume it is about the versions, which one should I use with the spring boot version I am using if it is about versions of swagger?</p>\n"},{"tags":["java","spring","spring-boot","file-upload"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684315578,"post_id":76270432,"comment_id":134499175,"body_markdown":"Don&#39;t upload to `src/main/resources` that will break whe packaged as that is the classpath which you cannot upload to. Upload to an external directory instead.","body":"Don&#39;t upload to <code>src&#47;main&#47;resources</code> that will break whe packaged as that is the classpath which you cannot upload to. Upload to an external directory instead."}],"owner":{"account_id":7656937,"reputation":53,"user_id":5803464,"display_name":"Kristian -"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684314890,"creation_date":1684314890,"question_id":76270432,"body_markdown":"I am using Java Spring Boot to create a picture-uploading system. The function I used goes like this: \r\n\r\n``` \r\npublic static JSONObject uploadFile(MultipartFile file, String folder) {\r\n\t\tJSONObject result = new JSONObject();\r\n\t\ttry {\r\n    \t\tPath resourceDirectory = Paths.get(&quot;src&quot;,&quot;main&quot;,&quot;resources&quot;,&quot;templates&quot;,&quot;img&quot;, folder);\r\n    \t\tString absolutePath = resourceDirectory.toFile().getAbsolutePath();\r\n    \t\tfolderCheckAdd(absolutePath);\r\n    \t\tFile file2 = new File(absolutePath + &quot;/&quot; + file.getOriginalFilename());\r\n        \tString ext = FilenameUtils.getExtension(file2.getAbsolutePath());\r\n            if (ext.equalsIgnoreCase(&quot;png&quot;) || ext.equalsIgnoreCase(&quot;jpg&quot;)) {\r\n            \tInputStream is;\r\n        \t\tFileOutputStream os = null;\r\n        \t\ttry {\r\n        \t\t\tis = file.getInputStream();\r\n        \t\t\tos = new FileOutputStream(file2);\r\n        \t\t\tbyte[] buffer = new byte[1024];\r\n        \t\t\tint length;\r\n        \t\t\twhile ((length = is.read(buffer)) &gt; 0) {\r\n        \t\t\t\tos.write(buffer, 0, length);\r\n        \t\t\t}\r\n        \t\t} finally {\r\n        \t\t\tos.close();\r\n        \t\t}\r\n        \t\tresult.put(&quot;Result&quot;, &quot;Success&quot;);\r\n            } else {\r\n            \tresult.put(&quot;Result&quot;, &quot;Fail&quot;);\r\n        \t\tresult.put(&quot;Message&quot;, &quot;Picture not in PNG/JPG format&quot;);\r\n            }\r\n    \t} catch (IOException ex) {\r\n    \t\tresult.put(&quot;Result&quot;, &quot;Fail&quot;);\r\n    \t\tresult.put(&quot;Message&quot;, &quot;IO Exception caught&quot;);\r\n    \t\t\r\n    \t}\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tpublic static void folderCheckAdd(String path) throws IOException{\r\n\t\tFile file = new File(path);\r\n\t\tif (!file.exists()) {\r\n\t\t\tfile.mkdir();\r\n\t\t}\r\n\t}\r\n``` \r\n\r\nWhereas, the command I&#39;m using to load said picture goes like this.\r\n\r\n``` \r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\n\r\nimport org.apache.commons.io.FilenameUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.core.io.ResourceLoader;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.util.ResourceUtils;\r\nimport org.springframework.util.StreamUtils;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/project/img/&quot;)\r\npublic class ImageController {\r\n\t\r\n\t@Autowired\r\n\tResourceLoader resourceLoader;\r\n\r\n\t@GetMapping(&quot;/{name}&quot; )\r\n    public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable String name) throws IOException {\r\n\r\n    \treturn setupImage(name);\r\n    \t\r\n    }\r\n    \r\n    @GetMapping(&quot;/{category}/{name}&quot; )\r\n    public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable String category, @PathVariable String name) throws IOException {\r\n    \treturn setupImage(category+&quot;/&quot;+name);\r\n    }\r\n    \r\n    private ResponseEntity&lt;byte[]&gt; setupImage (String path) throws IOException {\r\n    \tFile imgFile ;\r\n    \tResource resource = resourceLoader.getResource(&quot;classpath:templates/img/&quot;+path);\r\n    \tif (resource.exists()) {\r\n    \t\timgFile = ResourceUtils.getFile(&quot;classpath:templates/img/&quot;+path);\r\n    \t} else {\r\n    \t\tSystem.out.println(resource.getFilename());\r\n    \t\timgFile = ResourceUtils.getFile(&quot;classpath:templates/img/noimage.png&quot;);\r\n    \t}\r\n    \tString ext = FilenameUtils.getExtension(imgFile.getAbsolutePath());\r\n        byte[] bytes = StreamUtils.copyToByteArray(new FileInputStream(imgFile));\r\n        MediaType type;\r\n        if (ext.equals(&quot;png&quot;)) {\r\n        \ttype = MediaType.IMAGE_PNG;\r\n        } else {\r\n        \ttype = MediaType.IMAGE_JPEG;\r\n        }\r\n        return ResponseEntity\r\n                .ok()\r\n                .contentType(type)\r\n                .body(bytes);\r\n    }\r\n}\r\n``` \r\n\r\nWhen the first code snippet is run, it successfully saved the picture in the resource, therefore, in my PC, the picture appears and are copied. However, when I try to load the picture by using the second snippet, the picture will not load, the &quot;if (resource.exists())&quot; part always returns false. Until I restart my server a few times, then it appears for good. But I believe that is not the ideal outcome.\r\n\r\nSo what should I do in order to ensure that once I upload, the picture can be displayed without needing to restart my server? Is there another coding that I should have used, or there&#39;s another framework as an alternative?\r\n\r\nThank you.","title":"Java Spring: Upload picture and the picture will not appear?","body":"<p>I am using Java Spring Boot to create a picture-uploading system. The function I used goes like this:</p>\n<pre><code>public static JSONObject uploadFile(MultipartFile file, String folder) {\n        JSONObject result = new JSONObject();\n        try {\n            Path resourceDirectory = Paths.get(&quot;src&quot;,&quot;main&quot;,&quot;resources&quot;,&quot;templates&quot;,&quot;img&quot;, folder);\n            String absolutePath = resourceDirectory.toFile().getAbsolutePath();\n            folderCheckAdd(absolutePath);\n            File file2 = new File(absolutePath + &quot;/&quot; + file.getOriginalFilename());\n            String ext = FilenameUtils.getExtension(file2.getAbsolutePath());\n            if (ext.equalsIgnoreCase(&quot;png&quot;) || ext.equalsIgnoreCase(&quot;jpg&quot;)) {\n                InputStream is;\n                FileOutputStream os = null;\n                try {\n                    is = file.getInputStream();\n                    os = new FileOutputStream(file2);\n                    byte[] buffer = new byte[1024];\n                    int length;\n                    while ((length = is.read(buffer)) &gt; 0) {\n                        os.write(buffer, 0, length);\n                    }\n                } finally {\n                    os.close();\n                }\n                result.put(&quot;Result&quot;, &quot;Success&quot;);\n            } else {\n                result.put(&quot;Result&quot;, &quot;Fail&quot;);\n                result.put(&quot;Message&quot;, &quot;Picture not in PNG/JPG format&quot;);\n            }\n        } catch (IOException ex) {\n            result.put(&quot;Result&quot;, &quot;Fail&quot;);\n            result.put(&quot;Message&quot;, &quot;IO Exception caught&quot;);\n            \n        }\n        return result;\n    }\n    \n    public static void folderCheckAdd(String path) throws IOException{\n        File file = new File(path);\n        if (!file.exists()) {\n            file.mkdir();\n        }\n    }\n</code></pre>\n<p>Whereas, the command I'm using to load said picture goes like this.</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\nimport org.apache.commons.io.FilenameUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.ResourceLoader;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.util.ResourceUtils;\nimport org.springframework.util.StreamUtils;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(&quot;/project/img/&quot;)\npublic class ImageController {\n    \n    @Autowired\n    ResourceLoader resourceLoader;\n\n    @GetMapping(&quot;/{name}&quot; )\n    public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable String name) throws IOException {\n\n        return setupImage(name);\n        \n    }\n    \n    @GetMapping(&quot;/{category}/{name}&quot; )\n    public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable String category, @PathVariable String name) throws IOException {\n        return setupImage(category+&quot;/&quot;+name);\n    }\n    \n    private ResponseEntity&lt;byte[]&gt; setupImage (String path) throws IOException {\n        File imgFile ;\n        Resource resource = resourceLoader.getResource(&quot;classpath:templates/img/&quot;+path);\n        if (resource.exists()) {\n            imgFile = ResourceUtils.getFile(&quot;classpath:templates/img/&quot;+path);\n        } else {\n            System.out.println(resource.getFilename());\n            imgFile = ResourceUtils.getFile(&quot;classpath:templates/img/noimage.png&quot;);\n        }\n        String ext = FilenameUtils.getExtension(imgFile.getAbsolutePath());\n        byte[] bytes = StreamUtils.copyToByteArray(new FileInputStream(imgFile));\n        MediaType type;\n        if (ext.equals(&quot;png&quot;)) {\n            type = MediaType.IMAGE_PNG;\n        } else {\n            type = MediaType.IMAGE_JPEG;\n        }\n        return ResponseEntity\n                .ok()\n                .contentType(type)\n                .body(bytes);\n    }\n}\n</code></pre>\n<p>When the first code snippet is run, it successfully saved the picture in the resource, therefore, in my PC, the picture appears and are copied. However, when I try to load the picture by using the second snippet, the picture will not load, the &quot;if (resource.exists())&quot; part always returns false. Until I restart my server a few times, then it appears for good. But I believe that is not the ideal outcome.</p>\n<p>So what should I do in order to ensure that once I upload, the picture can be displayed without needing to restart my server? Is there another coding that I should have used, or there's another framework as an alternative?</p>\n<p>Thank you.</p>\n"},{"tags":["java","php","mysql"],"comments":[{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1684316158,"post_id":76270377,"comment_id":134499303,"body_markdown":"Does `http://192.168.0.128/senior2/signup.php` time out if you access it a different way (e.g. via a browser)? If so then the problem is likely to be in the PHP or webserver. If not, then maybe it&#39;s a connection error between the Android app and your server. I notice you&#39;re using a local LAN IP address...is your Android device connected to the same LAN?","body":"Does <code>http:&#47;&#47;192.168.0.128&#47;senior2&#47;signup.php</code> time out if you access it a different way (e.g. via a browser)? If so then the problem is likely to be in the PHP or webserver. If not, then maybe it&#39;s a connection error between the Android app and your server. I notice you&#39;re using a local LAN IP address...is your Android device connected to the same LAN?"},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1684316254,"post_id":76270377,"comment_id":134499325,"body_markdown":"P.S. It&#39;s not very secure to send a password in a URL GET parameter...it can easily by logged by webservers, routers etc. Better to send a POST request with the data in the body, and use HTTPS.","body":"P.S. It&#39;s not very secure to send a password in a URL GET parameter...it can easily by logged by webservers, routers etc. Better to send a POST request with the data in the body, and use HTTPS."},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1684316264,"post_id":76270377,"comment_id":134499328,"body_markdown":"Also, please don&#39;t store passwords in plain text - that is another security risk. Learn about [password hashing](https://www.php.net/manual/en/faq.passwords.php) instead. See also [How to use PHP&#39;s password_hash to hash and verify passwords](https://stackoverflow.com/questions/30279321/how-to-use-phps-password-hash-to-hash-and-verify-passwords)","body":"Also, please don&#39;t store passwords in plain text - that is another security risk. Learn about <a href=\"https://www.php.net/manual/en/faq.passwords.php\" rel=\"nofollow noreferrer\">password hashing</a> instead. See also <a href=\"https://stackoverflow.com/questions/30279321/how-to-use-phps-password-hash-to-hash-and-verify-passwords\">How to use PHP&#39;s password_hash to hash and verify passwords</a>"},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1684316284,"post_id":76270377,"comment_id":134499336,"body_markdown":"And please bring your error handling into the 21st century. Add `mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);` before your `mysqli_connect()` (or `new mysqli()`) command, and this will ensure that errors with your SQL queries are reported correctly to PHP automatically. That way you don&#39;t need to clutter your script with repetitive code to keep checking errors after every mysqli command. And you should never be echoing error data deliberately - it can easily reveal sensitive info to attackers by accident.","body":"And please bring your error handling into the 21st century. Add <code>mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);</code> before your <code>mysqli_connect()</code> (or <code>new mysqli()</code>) command, and this will ensure that errors with your SQL queries are reported correctly to PHP automatically. That way you don&#39;t need to clutter your script with repetitive code to keep checking errors after every mysqli command. And you should never be echoing error data deliberately - it can easily reveal sensitive info to attackers by accident."},{"owner":{"account_id":7336923,"reputation":593,"user_id":5587982,"display_name":"A. Cedano"},"score":1,"creation_date":1684326947,"post_id":76270377,"comment_id":134501630,"body_markdown":"Notice how you are sending certain data from Android: `data.put(&quot;name&quot;, name);` and how do you try to retrieve them on the server: `$_GET[&quot;username&quot;]` Also, you never send `id`, but you try to retrieve it: `$_GET[&quot;id&quot;]`. Also, your style of programming in PHP is &quot;naive&quot;, too optimistic, you don&#39;t check that the values exist in `$_GET`. One other thing, in Android you said you will use `POST`, why do you use `$_GET` on the server and not `$_POST`?","body":"Notice how you are sending certain data from Android: <code>data.put(&quot;name&quot;, name);</code> and how do you try to retrieve them on the server: <code>$_GET[&quot;username&quot;]</code> Also, you never send <code>id</code>, but you try to retrieve it: <code>$_GET[&quot;id&quot;]</code>. Also, your style of programming in PHP is &quot;naive&quot;, too optimistic, you don&#39;t check that the values exist in <code>$_GET</code>. One other thing, in Android you said you will use <code>POST</code>, why do you use <code>$_GET</code> on the server and not <code>$_POST</code>?"},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1684327578,"post_id":76270377,"comment_id":134501786,"body_markdown":"Agree with the above...on closer inspection this does appear to be two pieces of separate code, not particularly designed to work together, but thrown together on the basis of...what? Guesswork, perhaps? It&#39;s unclear _why_ you ever expected this to be correct? Programming is not guesswork. Learn how submitting data in a HTTP request works, especially in terms of the different HTTP methods (GET, POST etc) and specifying the names of the fields you submit (hint: it&#39;s not rocket science...the names of the parameters you send from the client must match what the server code is looking for....)","body":"Agree with the above...on closer inspection this does appear to be two pieces of separate code, not particularly designed to work together, but thrown together on the basis of...what? Guesswork, perhaps? It&#39;s unclear <i>why</i> you ever expected this to be correct? Programming is not guesswork. Learn how submitting data in a HTTP request works, especially in terms of the different HTTP methods (GET, POST etc) and specifying the names of the fields you submit (hint: it&#39;s not rocket science...the names of the parameters you send from the client must match what the server code is looking for....)"}],"owner":{"account_id":28470851,"reputation":1,"user_id":21786188,"display_name":"Aisha Omar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684314816,"creation_date":1684314516,"question_id":76270377,"body_markdown":"This is my register code for the app the error i got doesnt show where is the problem it just says timeout error when i press the button register  \r\n```\r\npackage com.example.registerlogindemo;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.android.volley.AuthFailureError;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Register extends AppCompatActivity {\r\n    private EditText etName, etEmail, etPassword, etReenterPassword;\r\n    private TextView tvStatus;\r\n    private Button btnRegister;\r\n    private String URL = &quot;http://192.168.0.128/senior2/signup.php&quot;;\r\n    private String name, email, password, reenterPassword;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.register);\r\n        etName = findViewById(R.id.etName);\r\n        etEmail = findViewById(R.id.etEmail);\r\n        etPassword = findViewById(R.id.etPassword);\r\n        etReenterPassword = findViewById(R.id.etReenterPassword);\r\n        tvStatus = findViewById(R.id.tvStatus);\r\n        btnRegister = findViewById(R.id.btnRegister);\r\n        name = email = password = reenterPassword = &quot;&quot;;\r\n    }\r\n\r\n    public void save(View view) {\r\n        name = etName.getText().toString().trim();\r\n        email = etEmail.getText().toString().trim();\r\n        password = etPassword.getText().toString().trim();\r\n        reenterPassword = etReenterPassword.getText().toString().trim();\r\n        if(!password.equals(reenterPassword)){\r\n            Toast.makeText(this, &quot;Password Mismatch&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else if(!name.equals(&quot;&quot;) &amp;&amp; !email.equals(&quot;&quot;) &amp;&amp; !password.equals(&quot;&quot;)){\r\n            StringRequest stringRequest = new StringRequest(Request.Method.POST, URL, new Response.Listener&lt;String&gt;() {\r\n                @Override\r\n                public void onResponse(String response) {\r\n                    if (response.equals(&quot;success&quot;)) {\r\n                        tvStatus.setText(&quot;Successfully registered.&quot;);\r\n                        btnRegister.setClickable(false);\r\n                    } else if (response.equals(&quot;failure&quot;)) {\r\n                        tvStatus.setText(&quot;Something went wrong!&quot;);                    }\r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    Toast.makeText(getApplicationContext(), error.toString().trim(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }){\r\n                @Override\r\n                protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                    Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\r\n                    data.put(&quot;name&quot;, name);\r\n                    data.put(&quot;email&quot;, email);\r\n                    data.put(&quot;password&quot;, password);\r\n                    return data;\r\n                }\r\n            };\r\n            RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\r\n            requestQueue.add(stringRequest);\r\n        }\r\n    }\r\n\r\n    public void login(View view) {\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n}\r\n```\r\nThis is my php signup that i created and it is working i tested it \r\n\r\n```\r\n&lt;?php\r\n$con = new mysqli(&quot;localhost&quot;, &quot;root&quot;, &quot;Aisha55733441&quot;, &quot;signupdb&quot;, 3307);\r\n\r\n$st_check = $con-&gt;prepare(&quot;SELECT * FROM users WHERE email = ?&quot;);\r\n$st_check-&gt;bind_param(&quot;s&quot;, $_GET[&quot;email&quot;]);\r\n$st_check-&gt;execute();\r\n$rs = $st_check-&gt;get_result();\r\n\r\nif ($rs-&gt;num_rows == 0) {\r\n    $st = $con-&gt;prepare(&quot;INSERT INTO users (id, username, email, password) VALUES (?, ?, ?, ?)&quot;);\r\n    if (!$st) {\r\n        die(&#39;Invalid query: &#39; . $con-&gt;error);\r\n    }\r\n    $st-&gt;bind_param(&quot;isss&quot;,$_GET[&quot;id&quot;], $_GET[&quot;username&quot;], $_GET[&quot;email&quot;],$_GET[&quot;password&quot;]);\r\n\r\n    if (!$st-&gt;execute()) {\r\n        die(&#39;Invalid query: &#39; . $st-&gt;error);\r\n    }\r\n    echo &quot;successful&quot;;\r\n} else {\r\n    $user = $rs-&gt;fetch_assoc();\r\n    echo &quot;User with ID &quot; . $user[&quot;id&quot;] . &quot; already exists&quot;;\r\n}\r\n\r\n```\r\nI searched everywhere and i couldnt find the error cause so please if anybody can help \r\n\r\ni want the user information to be inserted here ","title":"I am trying to register with android studio to mysql data base using php but i am getting error com.android.volley.TimeoutError","body":"<p>This is my register code for the app the error i got doesnt show where is the problem it just says timeout error when i press the button register</p>\n<pre><code>package com.example.registerlogindemo;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.android.volley.AuthFailureError;\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Register extends AppCompatActivity {\n    private EditText etName, etEmail, etPassword, etReenterPassword;\n    private TextView tvStatus;\n    private Button btnRegister;\n    private String URL = &quot;http://192.168.0.128/senior2/signup.php&quot;;\n    private String name, email, password, reenterPassword;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.register);\n        etName = findViewById(R.id.etName);\n        etEmail = findViewById(R.id.etEmail);\n        etPassword = findViewById(R.id.etPassword);\n        etReenterPassword = findViewById(R.id.etReenterPassword);\n        tvStatus = findViewById(R.id.tvStatus);\n        btnRegister = findViewById(R.id.btnRegister);\n        name = email = password = reenterPassword = &quot;&quot;;\n    }\n\n    public void save(View view) {\n        name = etName.getText().toString().trim();\n        email = etEmail.getText().toString().trim();\n        password = etPassword.getText().toString().trim();\n        reenterPassword = etReenterPassword.getText().toString().trim();\n        if(!password.equals(reenterPassword)){\n            Toast.makeText(this, &quot;Password Mismatch&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else if(!name.equals(&quot;&quot;) &amp;&amp; !email.equals(&quot;&quot;) &amp;&amp; !password.equals(&quot;&quot;)){\n            StringRequest stringRequest = new StringRequest(Request.Method.POST, URL, new Response.Listener&lt;String&gt;() {\n                @Override\n                public void onResponse(String response) {\n                    if (response.equals(&quot;success&quot;)) {\n                        tvStatus.setText(&quot;Successfully registered.&quot;);\n                        btnRegister.setClickable(false);\n                    } else if (response.equals(&quot;failure&quot;)) {\n                        tvStatus.setText(&quot;Something went wrong!&quot;);                    }\n                }\n            }, new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    Toast.makeText(getApplicationContext(), error.toString().trim(), Toast.LENGTH_SHORT).show();\n                }\n            }){\n                @Override\n                protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n                    Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\n                    data.put(&quot;name&quot;, name);\n                    data.put(&quot;email&quot;, email);\n                    data.put(&quot;password&quot;, password);\n                    return data;\n                }\n            };\n            RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\n            requestQueue.add(stringRequest);\n        }\n    }\n\n    public void login(View view) {\n        Intent intent = new Intent(this, MainActivity.class);\n        startActivity(intent);\n        finish();\n    }\n}\n</code></pre>\n<p>This is my php signup that i created and it is working i tested it</p>\n<pre><code>&lt;?php\n$con = new mysqli(&quot;localhost&quot;, &quot;root&quot;, &quot;Aisha55733441&quot;, &quot;signupdb&quot;, 3307);\n\n$st_check = $con-&gt;prepare(&quot;SELECT * FROM users WHERE email = ?&quot;);\n$st_check-&gt;bind_param(&quot;s&quot;, $_GET[&quot;email&quot;]);\n$st_check-&gt;execute();\n$rs = $st_check-&gt;get_result();\n\nif ($rs-&gt;num_rows == 0) {\n    $st = $con-&gt;prepare(&quot;INSERT INTO users (id, username, email, password) VALUES (?, ?, ?, ?)&quot;);\n    if (!$st) {\n        die('Invalid query: ' . $con-&gt;error);\n    }\n    $st-&gt;bind_param(&quot;isss&quot;,$_GET[&quot;id&quot;], $_GET[&quot;username&quot;], $_GET[&quot;email&quot;],$_GET[&quot;password&quot;]);\n\n    if (!$st-&gt;execute()) {\n        die('Invalid query: ' . $st-&gt;error);\n    }\n    echo &quot;successful&quot;;\n} else {\n    $user = $rs-&gt;fetch_assoc();\n    echo &quot;User with ID &quot; . $user[&quot;id&quot;] . &quot; already exists&quot;;\n}\n\n</code></pre>\n<p>I searched everywhere and i couldnt find the error cause so please if anybody can help</p>\n<p>i want the user information to be inserted here</p>\n"},{"tags":["java","hibernate","spring-data-jpa","hibernate-6.x"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1684274648,"post_id":76264419,"comment_id":134493967,"body_markdown":"Certainly looks like a bug from here, but _please_ simplify this down to a **minimal** reproducer before reporting it.","body":"Certainly looks like a bug from here, but <i>please</i> simplify this down to a <b>minimal</b> reproducer before reporting it."},{"owner":{"account_id":23503316,"reputation":35,"user_id":17552915,"display_name":"CodeWizard1985"},"score":0,"creation_date":1684393525,"post_id":76264419,"comment_id":134512293,"body_markdown":"One thing to mention: When i change the order of the LEFT JOIN clauses (first the manufacterer and the the positions), the error disappears.","body":"One thing to mention: When i change the order of the LEFT JOIN clauses (first the manufacterer and the the positions), the error disappears."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684314712,"creation_date":1684314712,"answer_id":76270405,"question_id":76264419,"body_markdown":"As far as I understand from the query your are returning the DTO having the same name as the entity you are querying from. So you need to distinguish between them somehow. Please use fully-qualified name for DTO declaration:\r\n\r\n```java\r\n@Query(\r\n      &quot;SELECT new com.your.package.name.Position(p, CASE WHEN p.sourceSetId IS NULL THEN p.sourceSetName ELSE s.name END as sourceSetName, pos.optimizedDisplayOrder) FROM Position p &quot;\r\n          + &quot;LEFT JOIN Position pos ON pos.projectId = p.projectId AND pos.positionId = p.sourceSetPositionId &quot;\r\n          + &quot;LEFT JOIN Manufacturer m ON p.optimizedItem.manufacturer.manufacturerId = m.manufacturerId &quot;\r\n          + &quot;LEFT JOIN Set s ON p.sourceSetId = s.setId AND p.projectId = s.projectId &quot;\r\n          + &quot;WHERE p.setId = :setId AND p.projectId = :projectId &quot;\r\n          + &quot;AND (UPPER(p.optimizedItem.code) LIKE UPPER(CONCAT(&#39;%&#39;, :searchParam, &#39;%&#39;)) &quot;\r\n          + &quot;OR UPPER(m.name) LIKE UPPER(CONCAT(&#39;%&#39;, :searchParam, &#39;%&#39;)) &quot;\r\n          + &quot;OR UPPER(p.optimizedItem.description) LIKE UPPER(CONCAT(&#39;%&#39;, :searchParam, &#39;%&#39;)))&quot;)","title":"Queries broken after migration to Hibernate 6","body":"<p>As far as I understand from the query your are returning the DTO having the same name as the entity you are querying from. So you need to distinguish between them somehow. Please use fully-qualified name for DTO declaration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(\n      &quot;SELECT new com.your.package.name.Position(p, CASE WHEN p.sourceSetId IS NULL THEN p.sourceSetName ELSE s.name END as sourceSetName, pos.optimizedDisplayOrder) FROM Position p &quot;\n          + &quot;LEFT JOIN Position pos ON pos.projectId = p.projectId AND pos.positionId = p.sourceSetPositionId &quot;\n          + &quot;LEFT JOIN Manufacturer m ON p.optimizedItem.manufacturer.manufacturerId = m.manufacturerId &quot;\n          + &quot;LEFT JOIN Set s ON p.sourceSetId = s.setId AND p.projectId = s.projectId &quot;\n          + &quot;WHERE p.setId = :setId AND p.projectId = :projectId &quot;\n          + &quot;AND (UPPER(p.optimizedItem.code) LIKE UPPER(CONCAT('%', :searchParam, '%')) &quot;\n          + &quot;OR UPPER(m.name) LIKE UPPER(CONCAT('%', :searchParam, '%')) &quot;\n          + &quot;OR UPPER(p.optimizedItem.description) LIKE UPPER(CONCAT('%', :searchParam, '%')))&quot;)\n</code></pre>\n"}],"owner":{"account_id":23503316,"reputation":35,"user_id":17552915,"display_name":"CodeWizard1985"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684314712,"creation_date":1684248581,"question_id":76264419,"body_markdown":"When updating to Hibernate 6 (coming from 5.6) some of the existing queries gets broken. \r\n\r\nFor example, executing this query works fine in 5.6:\r\n\r\n```\r\n  @Query(\r\n      &quot;SELECT new Position(p, CASE WHEN p.sourceSetId IS NULL THEN p.sourceSetName ELSE s.name END as sourceSetName, pos.optimizedDisplayOrder) FROM Position p &quot;\r\n          + &quot;LEFT JOIN Position pos ON pos.projectId = p.projectId AND pos.positionId = p.sourceSetPositionId &quot;\r\n          + &quot;LEFT JOIN Manufacturer m ON p.optimizedItem.manufacturer.manufacturerId = m.manufacturerId &quot;\r\n          + &quot;LEFT JOIN Set s ON p.sourceSetId = s.setId AND p.projectId = s.projectId &quot;\r\n          + &quot;WHERE p.setId = :setId AND p.projectId = :projectId &quot;\r\n          + &quot;AND (UPPER(p.optimizedItem.code) LIKE UPPER(CONCAT(&#39;%&#39;, :searchParam, &#39;%&#39;)) &quot;\r\n          + &quot;OR UPPER(m.name) LIKE UPPER(CONCAT(&#39;%&#39;, :searchParam, &#39;%&#39;)) &quot;\r\n          + &quot;OR UPPER(p.optimizedItem.description) LIKE UPPER(CONCAT(&#39;%&#39;, :searchParam, &#39;%&#39;)))&quot;)\r\n```\r\nbut leads to the following error in 6:\r\n\r\n\r\n```\r\n2023-05-16T16:35:37.867+02:00  WARN 21803 --- [nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\r\n2023-05-16T16:35:37.867+02:00 ERROR 21803 --- [nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: missing FROM-clause entry for table &quot;o1_0&quot;\r\n  Position: 743\r\n2023-05-16T16:35:37.875+02:00 ERROR 21803 --- [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.position_id,p1_0.comment,p1_0.create_date,p1_0.last_modified_by,p1_0.last_modified_date,p1_0.optimized_display_order,case when p1_0.optimized_item_id IS NULL then p1_0.original_item_id else p1_0.optimized_item_id end ,p1_0.optimized_item_id,p1_0.optimized_quantity,p1_0.original_display_order,p1_0.original_item_id,p1_0.original_quantity,p1_0.project_id,p1_0.set_id,p1_0.source_set_id,p1_0.source_set_name,p1_0.source_set_position_id,case when p1_0.source_set_id is null then p1_0.source_set_name else s1_0.name end,p2_0.optimized_display_order from nemo_dev.position p1_0 left join nemo_dev.position p2_0 on p2_0.project_id=p1_0.project_id and p2_0.position_id=p1_0.source_set_position_id left join nemo_dev.manufacturer m1_0 on o1_0.manufacturer_id=m1_0.manufacturer_id left join nemo_dev.set s1_0 on p1_0.source_set_id=s1_0.set_id and p1_0.project_id=s1_0.project_id join nemo_dev.item o1_0 on o1_0.item_id=case when p1_0.optimized_item_id IS NULL then p1_0.original_item_id else p1_0.optimized_item_id end  where p1_0.set_id=? and p1_0.project_id=? and (upper(o1_0.code) like upper((&#39;%&#39;||?||&#39;%&#39;)) escape &#39;&#39; or upper(m1_0.name) like upper((&#39;%&#39;||?||&#39;%&#39;)) escape &#39;&#39; or upper(o1_0.description) like upper((&#39;%&#39;||?||&#39;%&#39;)) escape &#39;&#39;) order by p1_0.optimized_display_order asc offset ? rows fetch first ? rows only]; SQL [n/a]] with root cause\r\n\r\norg.postgresql.util.PSQLException: ERROR: missing FROM-clause entry for table &quot;o1_0&quot;\r\n  Position: 743\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.4.jar:42.5.4]\r\n```\r\n\r\n\r\n\r\nI have read the [migration guide](https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc) but couldn&#39;t find an explanation for this.\r\n\r\nAm i missing something? ","title":"Queries broken after migration to Hibernate 6","body":"<p>When updating to Hibernate 6 (coming from 5.6) some of the existing queries gets broken.</p>\n<p>For example, executing this query works fine in 5.6:</p>\n<pre><code>  @Query(\n      &quot;SELECT new Position(p, CASE WHEN p.sourceSetId IS NULL THEN p.sourceSetName ELSE s.name END as sourceSetName, pos.optimizedDisplayOrder) FROM Position p &quot;\n          + &quot;LEFT JOIN Position pos ON pos.projectId = p.projectId AND pos.positionId = p.sourceSetPositionId &quot;\n          + &quot;LEFT JOIN Manufacturer m ON p.optimizedItem.manufacturer.manufacturerId = m.manufacturerId &quot;\n          + &quot;LEFT JOIN Set s ON p.sourceSetId = s.setId AND p.projectId = s.projectId &quot;\n          + &quot;WHERE p.setId = :setId AND p.projectId = :projectId &quot;\n          + &quot;AND (UPPER(p.optimizedItem.code) LIKE UPPER(CONCAT('%', :searchParam, '%')) &quot;\n          + &quot;OR UPPER(m.name) LIKE UPPER(CONCAT('%', :searchParam, '%')) &quot;\n          + &quot;OR UPPER(p.optimizedItem.description) LIKE UPPER(CONCAT('%', :searchParam, '%')))&quot;)\n</code></pre>\n<p>but leads to the following error in 6:</p>\n<pre><code>2023-05-16T16:35:37.867+02:00  WARN 21803 --- [nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\n2023-05-16T16:35:37.867+02:00 ERROR 21803 --- [nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: missing FROM-clause entry for table &quot;o1_0&quot;\n  Position: 743\n2023-05-16T16:35:37.875+02:00 ERROR 21803 --- [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.position_id,p1_0.comment,p1_0.create_date,p1_0.last_modified_by,p1_0.last_modified_date,p1_0.optimized_display_order,case when p1_0.optimized_item_id IS NULL then p1_0.original_item_id else p1_0.optimized_item_id end ,p1_0.optimized_item_id,p1_0.optimized_quantity,p1_0.original_display_order,p1_0.original_item_id,p1_0.original_quantity,p1_0.project_id,p1_0.set_id,p1_0.source_set_id,p1_0.source_set_name,p1_0.source_set_position_id,case when p1_0.source_set_id is null then p1_0.source_set_name else s1_0.name end,p2_0.optimized_display_order from nemo_dev.position p1_0 left join nemo_dev.position p2_0 on p2_0.project_id=p1_0.project_id and p2_0.position_id=p1_0.source_set_position_id left join nemo_dev.manufacturer m1_0 on o1_0.manufacturer_id=m1_0.manufacturer_id left join nemo_dev.set s1_0 on p1_0.source_set_id=s1_0.set_id and p1_0.project_id=s1_0.project_id join nemo_dev.item o1_0 on o1_0.item_id=case when p1_0.optimized_item_id IS NULL then p1_0.original_item_id else p1_0.optimized_item_id end  where p1_0.set_id=? and p1_0.project_id=? and (upper(o1_0.code) like upper(('%'||?||'%')) escape '' or upper(m1_0.name) like upper(('%'||?||'%')) escape '' or upper(o1_0.description) like upper(('%'||?||'%')) escape '') order by p1_0.optimized_display_order asc offset ? rows fetch first ? rows only]; SQL [n/a]] with root cause\n\norg.postgresql.util.PSQLException: ERROR: missing FROM-clause entry for table &quot;o1_0&quot;\n  Position: 743\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.4.jar:42.5.4]\n</code></pre>\n<p>I have read the <a href=\"https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc\" rel=\"nofollow noreferrer\">migration guide</a> but couldn't find an explanation for this.</p>\n<p>Am i missing something?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1462967283,"creation_date":1285309517,"answer_id":3784695,"question_id":3784657,"body_markdown":"I usually store in user data directory, with sub directories of application name followed by application version.\r\n\r\n    public static String getUserDataDirectory() {\r\n        return System.getProperty(&quot;user.home&quot;) + File.separator + &quot;.jstock&quot; + File.separator + getApplicationVersionString() + File.separator;\r\n    }\r\n\r\nI had been using the following code for 3 years. This method works quite well either in Windows, Linux or Mac.\r\n\r\nPlease note that, in Windows, never store it in `Program Files`, as UAC in Windows Vista or newer may give you a lot of trouble.\r\n\r\nRemember put a dot in-front of your application name, so that it will become a hidden folder in Linux.\r\n\r\nGood thing by using this methology is that, you are not limited your self in storing primitive value only. Instead, you may save the entire object state to the disk by using [xstream][1]\r\n\r\nFor example :\r\n\r\n    public static boolean toXML(Object object, File file) {\r\n        XStream xStream = new XStream();\r\n        OutputStream outputStream = null;\r\n        Writer writer = null;\r\n    \r\n        try {\r\n            outputStream = new FileOutputStream(file);\r\n            writer = new OutputStreamWriter(outputStream, Charset.forName(&quot;UTF-8&quot;));\r\n            xStream.toXML(object, writer);\r\n        }\r\n        catch (Exception exp) {\r\n            log.error(null, exp);\r\n            return false;\r\n        }\r\n        finally {\r\n            close(writer);\r\n            close(outputStream);\r\n        }\r\n    \r\n        return true;\r\n    } \r\n\r\n\r\n  [1]: http://xstream.codehaus.org/","title":"What is the best way to save user settings in java application?","body":"<p>I usually store in user data directory, with sub directories of application name followed by application version.</p>\n\n<pre><code>public static String getUserDataDirectory() {\n    return System.getProperty(\"user.home\") + File.separator + \".jstock\" + File.separator + getApplicationVersionString() + File.separator;\n}\n</code></pre>\n\n<p>I had been using the following code for 3 years. This method works quite well either in Windows, Linux or Mac.</p>\n\n<p>Please note that, in Windows, never store it in <code>Program Files</code>, as UAC in Windows Vista or newer may give you a lot of trouble.</p>\n\n<p>Remember put a dot in-front of your application name, so that it will become a hidden folder in Linux.</p>\n\n<p>Good thing by using this methology is that, you are not limited your self in storing primitive value only. Instead, you may save the entire object state to the disk by using <a href=\"http://xstream.codehaus.org/\" rel=\"noreferrer\">xstream</a></p>\n\n<p>For example :</p>\n\n<pre><code>public static boolean toXML(Object object, File file) {\n    XStream xStream = new XStream();\n    OutputStream outputStream = null;\n    Writer writer = null;\n\n    try {\n        outputStream = new FileOutputStream(file);\n        writer = new OutputStreamWriter(outputStream, Charset.forName(\"UTF-8\"));\n        xStream.toXML(object, writer);\n    }\n    catch (Exception exp) {\n        log.error(null, exp);\n        return false;\n    }\n    finally {\n        close(writer);\n        close(outputStream);\n    }\n\n    return true;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1285310279,"creation_date":1285310279,"answer_id":3784757,"question_id":3784657,"body_markdown":"\r\nStoring a single password *securely* is quite difficult. Suppose you encrypt the password using some secret key. Then when your applciation starts again it needs that secret key, where does it get that from? \r\n\r\nIf it asks the user then he might as well just enter the ftp password which you stored in the first place. If it reads the secret key from somewhere then you need to secure the secret key, and we&#39;re back where we started. \r\n\r\nIf you are keeping several passwords then asking the user for a single password to some &quot;vault&quot; may be much friendlier, but you then get into all the hassle of dealing with expired passwords. \r\n\r\nThere are products available to deal with this wort of stuff, if you have a serious need then you probably need to investigate them.","title":"What is the best way to save user settings in java application?","body":"<p>Storing a single password <em>securely</em> is quite difficult. Suppose you encrypt the password using some secret key. Then when your applciation starts again it needs that secret key, where does it get that from? </p>\n\n<p>If it asks the user then he might as well just enter the ftp password which you stored in the first place. If it reads the secret key from somewhere then you need to secure the secret key, and we're back where we started. </p>\n\n<p>If you are keeping several passwords then asking the user for a single password to some \"vault\" may be much friendlier, but you then get into all the hassle of dealing with expired passwords. </p>\n\n<p>There are products available to deal with this wort of stuff, if you have a serious need then you probably need to investigate them.</p>\n"},{"tags":[],"owner":{"account_id":198008,"reputation":12189,"user_id":442433,"display_name":"Giorgos Dimtsas"},"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1285310874,"creation_date":1285310874,"answer_id":3784813,"question_id":3784657,"body_markdown":"The [Preferences API][1] is a nice way to store user and system preferences. If you want to store passwords, you&#39;ll have to encrypt them. Here is a nice article that can get you started. \r\n\r\n[Encrypted Preferences in Java][2]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/guide/preferences/index.html\r\n  [2]: http://www.drdobbs.com/184416587","title":"What is the best way to save user settings in java application?","body":"<p>The <a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/preferences/index.html\" rel=\"noreferrer\">Preferences API</a> is a nice way to store user and system preferences. If you want to store passwords, you'll have to encrypt them. Here is a nice article that can get you started. </p>\n\n<p><a href=\"http://www.drdobbs.com/184416587\" rel=\"noreferrer\">Encrypted Preferences in Java</a></p>\n"}],"owner":{"account_id":151106,"reputation":9166,"user_id":364746,"accept_rate":84,"display_name":"Feras Odeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59891,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":3784813,"answer_count":3,"score":70,"last_activity_date":1684314652,"creation_date":1285308952,"question_id":3784657,"body_markdown":"What is the best way to save user settings in java desktop app securely? For example If I want to save an Ftp account settings what is the best way to do that?\r\n\r\nThanks","title":"What is the best way to save user settings in java application?","body":"<p>What is the best way to save user settings in java desktop app securely? For example If I want to save an Ftp account settings what is the best way to do that?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":256679,"reputation":840,"user_id":537566,"accept_rate":85,"display_name":"TungstenX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550748615,"creation_date":1550748615,"answer_id":54806060,"question_id":54802060,"body_markdown":"If I understand this correctly; `Map&lt;String, Object&gt; resultFromProcedure` consist of 2 entries having keys `#result-set-1` and `#update-count-1`.\r\n\r\nAnd the object of `#result-set-1` is an object having 4 member variables. (If it is a String, then you&#39;d need to convert the Json to a Java Object ([Example][1]))\r\n\r\nThus your call to `resultFromProcedure.get(&quot;accountnumber&quot;)` is trying to fetch an object using the key `accountnumber`, but the map doesn&#39;t contain that key. You need to first get the object for `#result-set-1` e.g.\r\n\r\n    SomeDTO someDTO = resultFromProcedure.get(&quot;#result-set-1&quot;);\r\n\r\nThen you can call\r\n\r\n    someDTO.getAccountNumber();\r\n\r\n  [1]: https://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/","title":"How to get values from #result-set-1 in SimpleJdbcCall","body":"<p>If I understand this correctly; <code>Map&lt;String, Object&gt; resultFromProcedure</code> consist of 2 entries having keys <code>#result-set-1</code> and <code>#update-count-1</code>.</p>\n\n<p>And the object of <code>#result-set-1</code> is an object having 4 member variables. (If it is a String, then you'd need to convert the Json to a Java Object (<a href=\"https://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/\" rel=\"nofollow noreferrer\">Example</a>))</p>\n\n<p>Thus your call to <code>resultFromProcedure.get(\"accountnumber\")</code> is trying to fetch an object using the key <code>accountnumber</code>, but the map doesn't contain that key. You need to first get the object for <code>#result-set-1</code> e.g.</p>\n\n<pre><code>SomeDTO someDTO = resultFromProcedure.get(\"#result-set-1\");\n</code></pre>\n\n<p>Then you can call</p>\n\n<pre><code>someDTO.getAccountNumber();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5583981,"reputation":1,"user_id":4425007,"display_name":"nsFunction"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559079123,"creation_date":1559079123,"answer_id":56350295,"question_id":54802060,"body_markdown":"As there could be more than one result set, SimpleJdbcCall returns an object in the arraylist within another map marked as &quot;#result-set-1&quot;. To access the values in it, try the following:\r\n\r\n    ArrayList arrayList = new ArrayList();\r\n    arrayList = (ArrayList) resultFromProcedure.get(&quot;#result-set-1&quot;);\r\n    Map resultMap = (Map) arrayList.get(0);\r\n\r\n    System.out.println(&quot;Account Number: &quot; + resultMap.get(&quot;accountnumber&quot;));","title":"How to get values from #result-set-1 in SimpleJdbcCall","body":"<p>As there could be more than one result set, SimpleJdbcCall returns an object in the arraylist within another map marked as \"#result-set-1\". To access the values in it, try the following:</p>\n\n<pre><code>ArrayList arrayList = new ArrayList();\narrayList = (ArrayList) resultFromProcedure.get(\"#result-set-1\");\nMap resultMap = (Map) arrayList.get(0);\n\nSystem.out.println(\"Account Number: \" + resultMap.get(\"accountnumber\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1101469,"reputation":545,"user_id":1093782,"accept_rate":50,"display_name":"98percentmonkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684314649,"creation_date":1684314649,"answer_id":76270399,"question_id":54802060,"body_markdown":"Here is a solution with a Rowmapper for &quot;#result-set-1&quot;\r\n\r\n    \r\n\r\n\r\n\r\n\r\n     // Parameters\r\n        SqlParameter[] parameters = { new SqlParameter(&quot;MYINPUT1&quot;, Types.VARCHAR), // Example input parameter\r\n                new SqlParameter(&quot;MYINPUT2&quot;, Types.VARCHAR), // Example input parameter\r\n                new SqlParameter(&quot;INPUT&quot;, Types.VARCHAR), // Input Parameters \r\n                new SqlOutParameter(&quot;RC&quot;, Types.VARCHAR), // maybe Return Code \r\n                new SqlOutParameter(&quot;OUTPUT&quot;, Types.VARCHAR), // Result-Set Mapping - this will solve the LinkedCaseInsensitiveMap\r\n                new SqlReturnResultSet(&quot;#result-set-1&quot;, (RowMapper&lt;YourPojo&gt;) (rs, rowNum) -&gt; {\r\n                    YourPojo example = new YourPojo();\r\n                    YourPojo.setWhatEver(rs.getInt(&quot;WHATEVER&quot;));\r\n                    YourPojo.setWhenEver(rs.getInt(&quot;DATE&quot;));\r\n                    return example;\r\n                }) };\r\n\r\n         SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate).withProcedureName(&quot;MYSP001&quot;).withSchemaName(&quot;SYSPROC&quot;).declareParameters(parameters);\r\n\r\n        // Inputvalues\r\n        Map&lt;String, String&gt; inParamMap = new HashMap&lt;&gt;();\r\n        inParamMap.put(&quot;INPUT1&quot;, &quot;inputvalueExample&quot;);      \r\n        inParamMap.put(&quot;INPUT2&quot;, &quot;inputvalueExample2&quot;);\r\n        SqlParameterSource source = new MapSqlParameterSource(inParamMap);\r\n        Map&lt;String, Object&gt; resultFromSP = simpleJdbcCall.execute(source);\r\n        List&lt;YourPojo&gt; mylist = (List&lt;YourPojo&gt;) resultFromSP.get(&quot;#result-set-1&quot;);","title":"How to get values from #result-set-1 in SimpleJdbcCall","body":"<p>Here is a solution with a Rowmapper for &quot;#result-set-1&quot;</p>\n<pre><code> // Parameters\n    SqlParameter[] parameters = { new SqlParameter(&quot;MYINPUT1&quot;, Types.VARCHAR), // Example input parameter\n            new SqlParameter(&quot;MYINPUT2&quot;, Types.VARCHAR), // Example input parameter\n            new SqlParameter(&quot;INPUT&quot;, Types.VARCHAR), // Input Parameters \n            new SqlOutParameter(&quot;RC&quot;, Types.VARCHAR), // maybe Return Code \n            new SqlOutParameter(&quot;OUTPUT&quot;, Types.VARCHAR), // Result-Set Mapping - this will solve the LinkedCaseInsensitiveMap\n            new SqlReturnResultSet(&quot;#result-set-1&quot;, (RowMapper&lt;YourPojo&gt;) (rs, rowNum) -&gt; {\n                YourPojo example = new YourPojo();\n                YourPojo.setWhatEver(rs.getInt(&quot;WHATEVER&quot;));\n                YourPojo.setWhenEver(rs.getInt(&quot;DATE&quot;));\n                return example;\n            }) };\n\n     SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate).withProcedureName(&quot;MYSP001&quot;).withSchemaName(&quot;SYSPROC&quot;).declareParameters(parameters);\n\n    // Inputvalues\n    Map&lt;String, String&gt; inParamMap = new HashMap&lt;&gt;();\n    inParamMap.put(&quot;INPUT1&quot;, &quot;inputvalueExample&quot;);      \n    inParamMap.put(&quot;INPUT2&quot;, &quot;inputvalueExample2&quot;);\n    SqlParameterSource source = new MapSqlParameterSource(inParamMap);\n    Map&lt;String, Object&gt; resultFromSP = simpleJdbcCall.execute(source);\n    List&lt;YourPojo&gt; mylist = (List&lt;YourPojo&gt;) resultFromSP.get(&quot;#result-set-1&quot;);\n</code></pre>\n"}],"owner":{"account_id":12244605,"reputation":163,"user_id":9266349,"display_name":"Liyakhat Ali Sheikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2992,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1684314649,"creation_date":1550736234,"question_id":54802060,"body_markdown":"When executing SimpleJdbcCall, I get two parameters #result-set-1, #update-count-1\r\n\r\n    MapSqlParameterSource parameterSource = new MapSqlParameterSource();\r\n    parameterSource.addValue(&quot;name&quot;, &quot;something&quot;);\r\n    Map&lt;String, Object&gt; resultFromProcedure = cstmt.execute(parameterSource);\r\n\r\n# #result-set-1 have variables\r\n\r\n    [{\r\n     id = 123,\r\n     name = &quot;something&quot;,\r\n     accountnumber = 123456,\r\n     balance = 789999\r\n    }]\r\n\r\nEverything is fine until I tried to access \r\n\r\n    resultFromProcedure.get(&quot;accountnumber&quot;)\r\n\r\nWhich getting null. The Question is how to access the values in #result-set-1","title":"How to get values from #result-set-1 in SimpleJdbcCall","body":"<p>When executing SimpleJdbcCall, I get two parameters #result-set-1, #update-count-1</p>\n\n<pre><code>MapSqlParameterSource parameterSource = new MapSqlParameterSource();\nparameterSource.addValue(\"name\", \"something\");\nMap&lt;String, Object&gt; resultFromProcedure = cstmt.execute(parameterSource);\n</code></pre>\n\n<h1>#result-set-1 have variables</h1>\n\n<pre><code>[{\n id = 123,\n name = \"something\",\n accountnumber = 123456,\n balance = 789999\n}]\n</code></pre>\n\n<p>Everything is fine until I tried to access </p>\n\n<pre><code>resultFromProcedure.get(\"accountnumber\")\n</code></pre>\n\n<p>Which getting null. The Question is how to access the values in #result-set-1</p>\n"},{"tags":["java","spring-boot","spring-mvc","generics","response-entity"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1684321875,"post_id":76270371,"comment_id":134500538,"body_markdown":"If `A` and `B` don&#39;t share a useful superclass or interface, then using `?` is reasonable. Is there any indication as to when this would return `A` or `B`? Specifically, anything that could be known at compile time?","body":"If <code>A</code> and <code>B</code> don&#39;t share a useful superclass or interface, then using <code>?</code> is reasonable. Is there any indication as to when this would return <code>A</code> or <code>B</code>? Specifically, anything that could be known at compile time?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684326959,"post_id":76270371,"comment_id":134501637,"body_markdown":"For most purposes, there is no difference between `&lt;?&gt;` or `&lt;? extends Object&gt;`. But this method `getDataFromService` doesn’t have any options anyway if `forwardToRespectiveService` is already returning a `ResponseEntity&lt;?&gt;`.","body":"For most purposes, there is no difference between <code>&lt;?&gt;</code> or <code>&lt;? extends Object&gt;</code>. But this method <code>getDataFromService</code> doesn’t have any options anyway if <code>forwardToRespectiveService</code> is already returning a <code>ResponseEntity&lt;?&gt;</code>."},{"owner":{"account_id":28618736,"reputation":11,"user_id":21912167,"display_name":"Ashutosh Sharma"},"score":0,"creation_date":1684384292,"post_id":76270371,"comment_id":134511251,"body_markdown":"A and B are two completely different classes that do not share any superclass or interface. \n\n`forwardToRespectiveService` method fires a REST request to another service and gives me the response from that service. So, I do not have a way of differentiating at compile time the cases in which I get A or B. @JoachimSauer","body":"A and B are two completely different classes that do not share any superclass or interface.   <code>forwardToRespectiveService</code> method fires a REST request to another service and gives me the response from that service. So, I do not have a way of differentiating at compile time the cases in which I get A or B. @JoachimSauer"},{"owner":{"account_id":28618736,"reputation":11,"user_id":21912167,"display_name":"Ashutosh Sharma"},"score":0,"creation_date":1684384526,"post_id":76270371,"comment_id":134511268,"body_markdown":"I have put the response of `forwardToRespectiveService` as `ResponseEntity&lt;?&gt;` because I do not know whether the response body would contain an object of class A or class B. I am returning the same response entity as such, hence the return type of `getDataFromService` is `ResponseEntiity&lt;?&gt;`. Clarifying on my original question a little more, I wanted to know if there is a better way to go about things. @Holger","body":"I have put the response of <code>forwardToRespectiveService</code> as <code>ResponseEntity&lt;?&gt;</code> because I do not know whether the response body would contain an object of class A or class B. I am returning the same response entity as such, hence the return type of <code>getDataFromService</code> is <code>ResponseEntiity&lt;?&gt;</code>. Clarifying on my original question a little more, I wanted to know if there is a better way to go about things. @Holger"}],"owner":{"account_id":28618736,"reputation":11,"user_id":21912167,"display_name":"Ashutosh Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684314583,"creation_date":1684314482,"question_id":76270371,"body_markdown":"I am working on a service has to forward the incoming requests to a destination service after performing some alterations on the object received in the request body and return the response received from the service. There are only two types of objects (A or B) expected in the response body for which I want to use a wildcard instead of Object class to keep the code cleaner.\r\n\r\nNow I know that we can not use generics with two classes such that the generic class object must belong to either of the two classes. \r\n\r\n    public ResponseEntity&lt;?&gt; getDataFromService(C requestBody) {\r\n      C updatedRequestBody = performAlterationsOnRequestBody (requestBody);\r\n  \r\n      ResponseEntity&lt;?&gt; responseObject = forwardToRespectiveService(updatedRequestBody);\r\n      // responseObject body can contain object of either class A or class B.\r\n      return response;\r\n    }\r\n\r\nIs the approach to use a wildcard correct way to go about?","title":"Is using a wildcard (unbounded) instead of Object class a better approach?","body":"<p>I am working on a service has to forward the incoming requests to a destination service after performing some alterations on the object received in the request body and return the response received from the service. There are only two types of objects (A or B) expected in the response body for which I want to use a wildcard instead of Object class to keep the code cleaner.</p>\n<p>Now I know that we can not use generics with two classes such that the generic class object must belong to either of the two classes.</p>\n<pre><code>public ResponseEntity&lt;?&gt; getDataFromService(C requestBody) {\n  C updatedRequestBody = performAlterationsOnRequestBody (requestBody);\n\n  ResponseEntity&lt;?&gt; responseObject = forwardToRespectiveService(updatedRequestBody);\n  // responseObject body can contain object of either class A or class B.\n  return response;\n}\n</code></pre>\n<p>Is the approach to use a wildcard correct way to go about?</p>\n"},{"tags":["java","spring-boot","mongock"],"answers":[{"tags":[],"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684314510,"creation_date":1684314510,"answer_id":76270376,"question_id":76269387,"body_markdown":"In terms of the concept of &quot;production units&quot; - this refers to the number of mongodb databases where you are using Mongock as a tool for migration (in production instances). Notice that the minimum is 5 units or production instances.\r\n\r\nThis means that if you have 3 MongoDB databases in production using Mongock, it would count as 3 units. ChangeUnits are unlimited per database where Mongock is installe.\r\n\r\nNotice that Mongock creates a couple of collections/tables in your database - which is the basis for Mongock to operate (and for us to help support with the tool).\r\n\r\nAdditionally, all environments outside production are free of charge. \r\n","title":"How to calculate price for mongock professional?","body":"<p>In terms of the concept of &quot;production units&quot; - this refers to the number of mongodb databases where you are using Mongock as a tool for migration (in production instances). Notice that the minimum is 5 units or production instances.</p>\n<p>This means that if you have 3 MongoDB databases in production using Mongock, it would count as 3 units. ChangeUnits are unlimited per database where Mongock is installe.</p>\n<p>Notice that Mongock creates a couple of collections/tables in your database - which is the basis for Mongock to operate (and for us to help support with the tool).</p>\n<p>Additionally, all environments outside production are free of charge.</p>\n"}],"owner":{"account_id":28618065,"reputation":3,"user_id":21911611,"display_name":"Roman Osadchuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684359404,"accepted_answer_id":76270376,"answer_count":1,"score":0,"last_activity_date":1684314510,"creation_date":1684307332,"question_id":76269387,"body_markdown":"can someone please explain how exactly pricing strategy for mongock professional works?\r\n\r\nI can see on this [webpage](https://mongock.io/professional/pricing/) that price is &quot;$20 / unit in production per month&quot;, but what is &quot;unit&quot; in this context? Is it single ChangeUnit class? How can I calculate approximate pricing for my application?","title":"How to calculate price for mongock professional?","body":"<p>can someone please explain how exactly pricing strategy for mongock professional works?</p>\n<p>I can see on this <a href=\"https://mongock.io/professional/pricing/\" rel=\"nofollow noreferrer\">webpage</a> that price is &quot;$20 / unit in production per month&quot;, but what is &quot;unit&quot; in this context? Is it single ChangeUnit class? How can I calculate approximate pricing for my application?</p>\n"},{"tags":["java","jpa","spring-data-jpa","orm","persistence"],"owner":{"account_id":23410475,"reputation":56,"user_id":17472262,"display_name":"Alireza Asgarian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684314352,"creation_date":1684308378,"question_id":76269515,"body_markdown":"I have a class which I want to persist. It contains one list which has a parent class and parent has two children. The list contains both inheritors. I don&#39;t know how I can use `@ElementCollection` and `@JoinTable` to persist this class. I know I have to put setters and getters and no-arg constructor but now this is not important, I want to know how to annotate `List&lt;Parent&gt;`. Tables of Child1 and Child2 has foreign key by entityName to name of entity class. \r\n```java\r\n@Entity\r\n@Table\r\npublic class entity {\r\n     String name;\r\n     List&lt;Parent&gt; parents;\r\n}\r\n```\r\nand parent class has two inheritor\r\n\r\n```java\r\n@MappedSuperclass\r\n@Embeddable\r\npublic class Parent {\r\n   String name;\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Table\r\npublic class Child1 extends Parent {\r\n   String entityName;\r\n   @Id\r\n   Double firstChildField;\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Table\r\npublic class Child2 extends Parent {\r\n   String entityName;\r\n   @Id\r\n   String secondChildField;\r\n}\r\n```","title":"Persist List which Contains Parent Class in JPA","body":"<p>I have a class which I want to persist. It contains one list which has a parent class and parent has two children. The list contains both inheritors. I don't know how I can use <code>@ElementCollection</code> and <code>@JoinTable</code> to persist this class. I know I have to put setters and getters and no-arg constructor but now this is not important, I want to know how to annotate <code>List&lt;Parent&gt;</code>. Tables of Child1 and Child2 has foreign key by entityName to name of entity class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class entity {\n     String name;\n     List&lt;Parent&gt; parents;\n}\n</code></pre>\n<p>and parent class has two inheritor</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\n@Embeddable\npublic class Parent {\n   String name;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class Child1 extends Parent {\n   String entityName;\n   @Id\n   Double firstChildField;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class Child2 extends Parent {\n   String entityName;\n   @Id\n   String secondChildField;\n}\n</code></pre>\n"},{"tags":["java","servlets","glassfish","web.xml","redeploy"],"owner":{"account_id":28612525,"reputation":11,"user_id":21907230,"display_name":"Sven Petrović"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684314189,"creation_date":1684242230,"question_id":76263349,"body_markdown":"What should I do ?\r\n\r\n - I got the server up (Payara/glassfish).\r\n - I used /asadmin to create jms and jdbc resources for applicaton and          I got connection-pool up. \r\n - I&#39;m using payara-full-6.2023.4.\r\n\r\n\r\n**Here is my successful install:**\r\n ```\r\n`INFO[m] Installing /home/NWTiS_1/spetrovic/spetrovic_zadaca_3/pom.xml to /opt/m2/org/foi/nwtis/spetrovic/spetrovic_zadaca_3/1.0.0/spetrovic_zadaca_3-1.0.0.pom\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] [1mReactor Summary:[m\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] spetrovic_zadaca_3_lib_1 1.0.3 ..................... [1;32mSUCCESS[m [  2.618 s]\r\n[[1;34mINFO[m] spetrovic_zadaca_3_lib_2 1.0.4 ..................... [1;32mSUCCESS[m [  0.838 s]\r\n[[1;34mINFO[m] spetrovic_zadaca_3_wa_1 1.0.0 ...................... [1;32mSUCCESS[m [  4.975 s]\r\n[[1;34mINFO[m] spetrovic_zadaca_3_wa_2 1.0.0 ...................... [1;32mSUCCESS[m [  2.171 s]\r\n[[1;34mINFO[m] spetrovic_zadaca_3 1.0.0 ........................... [1;32mSUCCESS[m [  0.010 s]\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] [1;32mBUILD SUCCESS[m\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------`\r\n ```\r\n\r\n\r\n**When i try do redeploy my application &quot;spetrovic_zadaca_3_wa_1&quot; here is the problem:**\r\n```\r\n[[1;34mINFO[m] [DeployerRedeployMojo] Resolved container artifact org.codehaus.cargo:cargo-core-container-payara:jar:1.9.10 for container payara\r\n[[1;34mINFO[m] [talledLocalContainer] Parsed GlassFish version = [6.2023.4]\r\n[[1;34mINFO[m] [talledLocalContainer] Command deploy failed.\r\n[[1;34mINFO[m] [talledLocalContainer] remote failure: Error occurred during deployment: Exception while loading the app : java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint &#39;&#39; failure. Please see server.log for more details.\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] [1;31mBUILD FAILURE[m\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] Total time:  7.685 s\r\n[[1;34mINFO[m] Finished at: 2023-05-16T14:45:11+02:00\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;31mERROR[m] Failed to execute goal [32morg.codehaus.cargo:cargo-maven3-plugin:1.9.10:redeploy[m [1m(default-cli)[m on project [36mspetrovic_zadaca_3_wa_1[m: [1;31mExecution default-cli of goal org.codehaus.cargo:cargo-maven3-plugin:1.9.10:redeploy failed: GlassFish admin command with args (--interactive=false --host localhost --port 4848 --user admin --passwordfile /opt/payara-full-6.2023.4/glassfish/domains/password.properties deploy --force --contextroot spetrovic_zadaca_3_wa_1 /home/NWTiS_1/spetrovic/spetrovic_zadaca_3/spetrovic_zadaca_3_wa_1/target/spetrovic_zadaca_3_wa_1-1.0.0.war) failed: asadmin exited 1[m -&gt; [1m[Help 1][m\r\n[[1;31mERROR[m] \r\n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\r\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\r\n[[1;31mERROR[m] \r\n[[1;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\r\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n\r\n```\r\n\r\nServer log that I got here is this:\r\n```\r\n[2023-05-16T16:17:05.961+0200] [Payara 6.2023.4] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625961] [levelValue: 1000] [[\r\n  Exception during lifecycle processing\r\njava.lang.Exception: java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint &#39;&#39; failure\r\n\tat com.sun.enterprise.web.WebApplication.start(WebApplication.java:136)\r\n\tat org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)\r\n\tat org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:292)\r\n\tat org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:361)\r\n\tat com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:630)\r\n\tat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:617)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:556)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:552)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/javax.security.auth.Subject.doAs(Subject.java:376)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:551)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:582)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:574)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/javax.security.auth.Subject.doAs(Subject.java:376)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:573)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1497)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1879)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1755)\r\n\tat org.glassfish.admin.rest.resources.admin.CommandResource.executeCommand(CommandResource.java:409)\r\n\tat org.glassfish.admin.rest.resources.admin.CommandResource.execCommandSimpInMultOut(CommandResource.java:236)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\r\n\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n\tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:261)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:240)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:697)\r\n\tat org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:367)\r\n\tat org.glassfish.admin.rest.adapter.JerseyContainerCommandService$3.service(JerseyContainerCommandService.java:179)\r\n\tat org.glassfish.admin.rest.adapter.RestAdapter.service(RestAdapter.java:189)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:174)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:153)\r\n\tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:196)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:88)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:246)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:178)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:118)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:96)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:51)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:510)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:82)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:83)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:101)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n]]\r\n\r\n[2023-05-16T16:17:05.962+0200] [Payara 6.2023.4] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625962] [levelValue: 1000] [[\r\n  Exception while loading the app]]\r\n\r\n[2023-05-16T16:17:05.972+0200] [Payara 6.2023.4] [SEVERE] [] [] [tid: _ThreadID=243 _ThreadName=Thread-30] [timeMillis: 1684246625972] [levelValue: 1000] [[\r\n  Exception in thread &quot;Thread-30&quot; ]]\r\n\r\n[2023-05-16T16:17:05.973+0200] [Payara 6.2023.4] [SEVERE] [] [] [tid: _ThreadID=243 _ThreadName=Thread-30] [timeMillis: 1684246625973] [levelValue: 1000] [[\r\n  jakarta.ejb.EJBException: Attempt to invoke when container is in Undeployed\r\n\tat com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2109)\r\n\tat com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2104)\r\n\tat com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)\r\n\tat com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)\r\n\tat jdk.proxy101/jdk.proxy101.$Proxy413.saljiPoruku(Unknown Source)\r\n\tat org.foi.nwtis.spetrovic.zadaca_3.zrna.__EJB31_Generated__JmsPosiljatelj__Intf____Bean__.saljiPoruku(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)\r\n\tat org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)\r\n\tat org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)\r\n\tat org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)\r\n\tat org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)\r\n\tat org.foi.nwtis.spetrovic.zadaca_3.zrna.JmsPosiljatelj$Proxy$_$$_Weld$EnterpriseProxy$.saljiPoruku(Unknown Source)\r\n\tat org.foi.nwtis.spetrovic.zadaca_3.dretve.SakupljacLetovaAviona.run(SakupljacLetovaAviona.java:31)\r\n]]\r\n\r\n[2023-05-16T16:17:05.974+0200] [Payara 6.2023.4] [SEVERE] [AS-WEB-GLUE-00192] [jakarta.enterprise.web] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625974] [levelValue: 1000] [[\r\n  Undeployment failed for context /spetrovic_zadaca_3_wa_1]]\r\n\r\n[2023-05-16T16:17:05.989+0200] [Payara 6.2023.4] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625989] [levelValue: 1000] [[\r\n  Exception while loading the app : java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint &#39;&#39; failure]]\r\n\r\n[2023-05-16T16:17:05.989+0200] [Payara 6.2023.4] [WARNING] [] [javax.enterprise.resource.resourceadapter.org.glassfish.jdbc.deployer] [tid: _ThreadID=249 _ThreadName=Executor-Service-28] [timeMillis: 1684246625989] [levelValue: 900] [[\r\n  Cannot invoke &quot;Object.getClass()&quot; because &quot;resource&quot; is null]]\r\n\r\n```\r\n\r\n\r\n\r\n","title":"How to fix: Servlet web service endpoint &#39;&#39; failure. ? ContainerBase.addChild: start: org.apache.catalina.LifecycleException","body":"<p>What should I do ?</p>\n<ul>\n<li>I got the server up (Payara/glassfish).</li>\n<li>I used /asadmin to create jms and jdbc resources for applicaton and          I got connection-pool up.</li>\n<li>I'm using payara-full-6.2023.4.</li>\n</ul>\n<p><strong>Here is my successful install:</strong></p>\n<pre><code>`INFO[m] Installing /home/NWTiS_1/spetrovic/spetrovic_zadaca_3/pom.xml to /opt/m2/org/foi/nwtis/spetrovic/spetrovic_zadaca_3/1.0.0/spetrovic_zadaca_3-1.0.0.pom\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] [1mReactor Summary:[m\n[[1;34mINFO[m] \n[[1;34mINFO[m] spetrovic_zadaca_3_lib_1 1.0.3 ..................... [1;32mSUCCESS[m [  2.618 s]\n[[1;34mINFO[m] spetrovic_zadaca_3_lib_2 1.0.4 ..................... [1;32mSUCCESS[m [  0.838 s]\n[[1;34mINFO[m] spetrovic_zadaca_3_wa_1 1.0.0 ...................... [1;32mSUCCESS[m [  4.975 s]\n[[1;34mINFO[m] spetrovic_zadaca_3_wa_2 1.0.0 ...................... [1;32mSUCCESS[m [  2.171 s]\n[[1;34mINFO[m] spetrovic_zadaca_3 1.0.0 ........................... [1;32mSUCCESS[m [  0.010 s]\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] [1;32mBUILD SUCCESS[m\n[[1;34mINFO[m] [1m------------------------------------------------------------------------`\n</code></pre>\n<p><strong>When i try do redeploy my application &quot;spetrovic_zadaca_3_wa_1&quot; here is the problem:</strong></p>\n<pre><code>[[1;34mINFO[m] [DeployerRedeployMojo] Resolved container artifact org.codehaus.cargo:cargo-core-container-payara:jar:1.9.10 for container payara\n[[1;34mINFO[m] [talledLocalContainer] Parsed GlassFish version = [6.2023.4]\n[[1;34mINFO[m] [talledLocalContainer] Command deploy failed.\n[[1;34mINFO[m] [talledLocalContainer] remote failure: Error occurred during deployment: Exception while loading the app : java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint '' failure. Please see server.log for more details.\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] [1;31mBUILD FAILURE[m\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] Total time:  7.685 s\n[[1;34mINFO[m] Finished at: 2023-05-16T14:45:11+02:00\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;31mERROR[m] Failed to execute goal [32morg.codehaus.cargo:cargo-maven3-plugin:1.9.10:redeploy[m [1m(default-cli)[m on project [36mspetrovic_zadaca_3_wa_1[m: [1;31mExecution default-cli of goal org.codehaus.cargo:cargo-maven3-plugin:1.9.10:redeploy failed: GlassFish admin command with args (--interactive=false --host localhost --port 4848 --user admin --passwordfile /opt/payara-full-6.2023.4/glassfish/domains/password.properties deploy --force --contextroot spetrovic_zadaca_3_wa_1 /home/NWTiS_1/spetrovic/spetrovic_zadaca_3/spetrovic_zadaca_3_wa_1/target/spetrovic_zadaca_3_wa_1-1.0.0.war) failed: asadmin exited 1[m -&gt; [1m[Help 1][m\n[[1;31mERROR[m] \n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\n[[1;31mERROR[m] \n[[1;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n\n</code></pre>\n<p>Server log that I got here is this:</p>\n<pre><code>[2023-05-16T16:17:05.961+0200] [Payara 6.2023.4] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625961] [levelValue: 1000] [[\n  Exception during lifecycle processing\njava.lang.Exception: java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint '' failure\n    at com.sun.enterprise.web.WebApplication.start(WebApplication.java:136)\n    at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)\n    at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:292)\n    at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:361)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:630)\n    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:617)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:556)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:552)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/javax.security.auth.Subject.doAs(Subject.java:376)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:551)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:582)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:574)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/javax.security.auth.Subject.doAs(Subject.java:376)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:573)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1497)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1879)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1755)\n    at org.glassfish.admin.rest.resources.admin.CommandResource.executeCommand(CommandResource.java:409)\n    at org.glassfish.admin.rest.resources.admin.CommandResource.execCommandSimpInMultOut(CommandResource.java:236)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n    at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:261)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:240)\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:697)\n    at org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:367)\n    at org.glassfish.admin.rest.adapter.JerseyContainerCommandService$3.service(JerseyContainerCommandService.java:179)\n    at org.glassfish.admin.rest.adapter.RestAdapter.service(RestAdapter.java:189)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)\n    at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:174)\n    at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:153)\n    at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:196)\n    at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:88)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:246)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:178)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:118)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:96)\n    at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:51)\n    at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:510)\n    at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:82)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:83)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:101)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n]]\n\n[2023-05-16T16:17:05.962+0200] [Payara 6.2023.4] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625962] [levelValue: 1000] [[\n  Exception while loading the app]]\n\n[2023-05-16T16:17:05.972+0200] [Payara 6.2023.4] [SEVERE] [] [] [tid: _ThreadID=243 _ThreadName=Thread-30] [timeMillis: 1684246625972] [levelValue: 1000] [[\n  Exception in thread &quot;Thread-30&quot; ]]\n\n[2023-05-16T16:17:05.973+0200] [Payara 6.2023.4] [SEVERE] [] [] [tid: _ThreadID=243 _ThreadName=Thread-30] [timeMillis: 1684246625973] [levelValue: 1000] [[\n  jakarta.ejb.EJBException: Attempt to invoke when container is in Undeployed\n    at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2109)\n    at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2104)\n    at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)\n    at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)\n    at jdk.proxy101/jdk.proxy101.$Proxy413.saljiPoruku(Unknown Source)\n    at org.foi.nwtis.spetrovic.zadaca_3.zrna.__EJB31_Generated__JmsPosiljatelj__Intf____Bean__.saljiPoruku(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)\n    at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)\n    at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)\n    at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)\n    at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)\n    at org.foi.nwtis.spetrovic.zadaca_3.zrna.JmsPosiljatelj$Proxy$_$$_Weld$EnterpriseProxy$.saljiPoruku(Unknown Source)\n    at org.foi.nwtis.spetrovic.zadaca_3.dretve.SakupljacLetovaAviona.run(SakupljacLetovaAviona.java:31)\n]]\n\n[2023-05-16T16:17:05.974+0200] [Payara 6.2023.4] [SEVERE] [AS-WEB-GLUE-00192] [jakarta.enterprise.web] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625974] [levelValue: 1000] [[\n  Undeployment failed for context /spetrovic_zadaca_3_wa_1]]\n\n[2023-05-16T16:17:05.989+0200] [Payara 6.2023.4] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625989] [levelValue: 1000] [[\n  Exception while loading the app : java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint '' failure]]\n\n[2023-05-16T16:17:05.989+0200] [Payara 6.2023.4] [WARNING] [] [javax.enterprise.resource.resourceadapter.org.glassfish.jdbc.deployer] [tid: _ThreadID=249 _ThreadName=Executor-Service-28] [timeMillis: 1684246625989] [levelValue: 900] [[\n  Cannot invoke &quot;Object.getClass()&quot; because &quot;resource&quot; is null]]\n\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","apache-spark","geolocation"],"owner":{"account_id":8460842,"reputation":554,"user_id":6346653,"display_name":"nick_j_white"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684313902,"creation_date":1684313902,"question_id":76270283,"body_markdown":"I am attempting to run some clustering algorithms (Bisecting K-Means, HDBSCAN etc) on a subset of a MongoDb collection. \r\nThe documents in the collection contain geo-coordinates (stored as both a GeoJsonPoint and as separate lat/lon)\r\ne.g.:\r\n\r\n\t{\r\n\t  &quot;_id&quot;: {\r\n\t\t&quot;$oid&quot;: &quot;6453b52f26d1a71e6124ce59&quot;\r\n\t  },\r\n\t  &quot;lat&quot;: 51.1315842777413,\r\n\t  &quot;lon&quot;: 0.515861112040389,\r\n\t  &quot;location&quot;: {\r\n\t\t&quot;type&quot;: &quot;Point&quot;,\r\n\t\t&quot;coordinates&quot;: [\r\n\t\t  0.515861112040389,\r\n\t\t  51.1315842777413\r\n\t\t]\r\n\t  },\r\n\t  &quot;lastUpdatedTimestamp&quot;: {\r\n\t\t&quot;$numberLong&quot;: &quot;1683902535038&quot;\r\n\t  },\r\n\t  &quot;_class&quot;: &quot;com.example.DataPoint&quot;\r\n\t}\r\n\r\n\r\nI need to be able to filter the documents based on 2 sets of criteria:\r\n\r\n1. Location is inside a predefined GeoJsonPolygon (these are stored in another collection elsewhere)\r\n2. LastUpdatedTimestamp &gt; than a fixed time\r\n\r\nand then read the filtered collection into Spark to perform the clustering.\r\n\r\nThe application is being developed in Springboot Java, so I am able to setup a mongo respository with methods than will perform this filtering (which use Mongo&#39;s inbuilt geometry functions)\r\n\r\nDataPointRepository class:\r\n\r\n\tpackage com.example;\r\n\r\n\timport java.util.List;\r\n\r\n\timport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\r\n\timport org.springframework.data.mongodb.repository.MongoRepository;\r\n\timport org.springframework.stereotype.Repository;\r\n\r\n\t@Repository\r\n\tpublic interface DataPointRepository extends MongoRepository&lt;DataPoint, ObjectId&gt; {\r\n\t\t\r\n\t\t//Extract by within GeoPolygon And Last updated &gt; cutoff \r\n\t\tList&lt;DataPoint&gt; findAllByLocationWithinAndLastUpdatedTimestampGreaterThan(GeoJsonPolygon geoJsonPolygon, double lastUpdatedCutoff);\r\n\r\n\t}\r\n\t\r\nDataPoint class:\r\n\r\n\tpackage com.example;\r\n\r\n\timport org.springframework.data.mongodb.core.geo.GeoJsonPoint;\r\n\timport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\r\n\timport org.springframework.data.mongodb.core.index.GeoSpatialIndexType;\r\n\timport org.springframework.data.mongodb.core.index.GeoSpatialIndexed;\r\n\timport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n\timport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\n\timport lombok.AllArgsConstructor;\r\n\timport lombok.Getter;\r\n\timport lombok.NonNull;\r\n\timport lombok.Setter;\r\n\timport lombok.ToString;\r\n\r\n\t@ToString\r\n\t@Document(collection =&quot;DataPoint&quot;) \r\n\t@AllArgsConstructor\r\n\t@JsonIgnoreProperties(ignoreUnknown = true)\r\n\tpublic class DataPoint {\r\n\t\t\r\n\t\t//System generated PK\r\n\t\t@Getter @Setter @NonNull private String id;\r\n\t\t\r\n\t\t//Co-ordinates\r\n\t\t@Getter @Setter private double lat;\r\n\t\t@Getter @Setter private double lon;\r\n\t\t\r\n\t\t@GeoSpatialIndexed(name= &quot;location_idx&quot;, type = GeoSpatialIndexType.GEO_2DSPHERE)\r\n\t\t@Getter @Setter private GeoJsonPoint location;\r\n\t\t\r\n\t\t//Last Updated\r\n\t\t@Getter @Setter private long lastUpdatedTimestamp;\t\r\n\t}\r\n\r\n\t\r\nThe below service will then run when the application is initialised and performs the collection filtering and loading of the data into spark:\r\n\r\n\tpackage com.example;\r\n\r\n\timport static org.apache.spark.sql.functions.col;\r\n\r\n\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\r\n\timport org.apache.spark.SparkConf;\r\n\timport org.apache.spark.SparkContext;\r\n\timport org.apache.spark.sql.Dataset;\r\n\timport org.apache.spark.sql.Row;\r\n\timport org.apache.spark.sql.RowFactory;\r\n\timport org.apache.spark.sql.SparkSession;\r\n\timport org.apache.spark.sql.types.DataTypes;\r\n\timport org.apache.spark.sql.types.Metadata;\r\n\timport org.apache.spark.sql.types.StructField;\r\n\timport org.apache.spark.sql.types.StructType;\r\n\timport org.bson.types.ObjectId;\r\n\timport org.slf4j.Logger;\r\n\timport org.slf4j.LoggerFactory;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.boot.CommandLineRunner;\r\n\timport org.springframework.data.geo.Point;\r\n\timport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\r\n\timport org.springframework.stereotype.Service;\r\n\r\n\timport lombok.Getter;\r\n\timport lombok.Setter;\r\n\r\n\t@Service\r\n\tpublic class ExampleService implements CommandLineRunner {\r\n\t\t\r\n\t\tprivate static final Logger logger = LoggerFactory.getLogger(ExampleService.class);\r\n\r\n\t\t@Autowired\r\n\t\tDataPointRepository dataPointRepository;\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void run(String... args) throws Exception {\r\n\t\t\t//Log that service is running\r\n\t\t\tlogger.info(&quot;Example Service is running&quot;);\r\n\t\t\t\r\n\t\t\t//Example GeoJsonPolygon\r\n\t\t\tList&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\r\n\t\t\tpoints.add(new Point(0,0));\r\n\t\t\tpoints.add(new Point(180,0));\r\n\t\t\tpoints.add(new Point(180,90));\r\n\t\t\tpoints.add(new Point(0,0));\r\n\t\t\tGeoJsonPolygon geoJsonPolygon = new GeoJsonPolygon(points);\r\n\t\t\t\r\n\t\t\t//Cutoff time default to T-10mins\r\n\t\t\tdouble cutoffTime = System.currentTimeMillis() - (10 * 60 * 1000);\r\n\t\t\t\r\n\t\t\t//Filter the DataPoint collection\r\n\t\t\tList&lt;DataPoint&gt; filteredDataPointList = dataPointRepository.findAllByLocationWithinAndLastUpdatedTimestampGreaterThan(geoJsonPolygon,cutoffTime);\r\n\t\t\t\r\n\t\t\t//Initialise Spark session\r\n\t\t\tSparkConf conf = new SparkConf();\r\n\t\t\t\r\n\t\t\tconf.set(&quot;spark.master&quot;,&quot;local&quot;);\r\n\t\t\tconf.set(&quot;spark.app.name&quot;,&quot;ExampleApp&quot;);\r\n\r\n\t\t\tSparkContext context = new SparkContext(conf);\r\n\t\t\tSparkSession spark = SparkSession.builder().sparkContext(context).getOrCreate();\r\n\t\t\t\r\n\t\t\t//Convert filteredDataPointList to List&lt;Row&gt; for spark dataframe\r\n\t\t\tList&lt;Row&gt; rowList = new ArrayList&lt;Row&gt;();\r\n\t\t\tfor (DataPoint dp: filteredDataPointList) {\r\n\t\t\t\tList&lt;Object&gt; data = new ArrayList&lt;&gt;();\r\n\t\t\t\tdata.add(dp.getId());\r\n\t\t\t\tdata.add(dp.getLat());\r\n\t\t\t\tdata.add(dp.getLon());\r\n\t\t\t\t\r\n\t\t\t\tRow row = RowFactory.create(data.toArray());\r\n\t\t\t\trowList.add(row);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Generate schema from StructFields\r\n\t\t\tList&lt;StructField&gt; structFields = new ArrayList&lt;&gt;();\r\n\t\t\tstructFields.add(new StructField(&quot;_id&quot;, DataTypes.StringType, true, Metadata.empty()));\r\n\t\t\tstructFields.add(new StructField(&quot;lat&quot;, DataTypes.DoubleType, true, Metadata.empty()));\r\n\t\t\tstructFields.add(new StructField(&quot;lon&quot;, DataTypes.DoubleType, true, Metadata.empty()));\r\n\t\t\tStructType schema = new StructType(structFields.toArray(new StructField[0]));\r\n\r\n\t\t\t//Initialise DataFrame from rowList\r\n\t\t\tDataset&lt;Row&gt; dataset = spark.createDataFrame(rowList, schema);\r\n\t\t\tdataset.withColumn(&quot;lat&quot;, dataset.col(&quot;lat&quot;).cast(&quot;float&quot;));\r\n\t\t\tdataset.withColumn(&quot;lon&quot;, dataset.col(&quot;lon&quot;).cast(&quot;float&quot;));\r\n\t\t\tdataset.na().drop();\r\n\t\t\tdataset.printSchema();\r\n\t\t\tdataset.show(false);\r\n\t\t\t\r\n\t\t\t//Run clustering algorithms....\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n(output as below)\r\n\r\n\troot\r\n\t |-- _id: string (nullable = true)\r\n\t |-- lat: double (nullable = true)\r\n\t |-- lon: double (nullable = true)\r\n\r\n\t+------------------------+----------------+------------------+\r\n\t|_id                     |lat             |lon               |\r\n\t+------------------------+----------------+------------------+\r\n\t|6453b52f26d1a71e6124ce59|51.1315842777413|0.515861112040389 |\r\n\t|6453b52f26d1a71e6124ce5a|53.7236662883316|-3.03878489019157 |\r\n\t|6453b52f26d1a71e6124ce5b|53.025813155572 |0.289110683451985 |\r\n\t|6453b52f26d1a71e6124ce5c|51.3606995421023|-0.45591666788182 |\r\n\t|6453b52f26d1a71e6124ce5d|55.3587772650236|-0.43234332482597 |\r\n\t|6453b52f26d1a71e6124ce5e|53.3132727039887|-1.2439138924336  |\r\n\t|6453b52f26d1a71e6124ce5f|55.5844946099286|-2.71052395578811 |\r\n\t|6453b52f26d1a71e6124ce60|52.3681859288013|-1.73289160535643 |\r\n\t|6453b52f26d1a71e6124ce61|53.6486857624155|0.879253900600117 |\r\n\t|6453b52f26d1a71e6124ce62|51.8974330698587|-1.64057831174821 |\r\n\t|6453b52f26d1a71e6124ce63|51.4130112162052|0.0813730046672143|\r\n\t|6453b52f26d1a71e6124ce64|55.7826244597159|-1.89958309132911 |\r\n\t|6453b52f26d1a71e6124ce65|51.9251715855348|-2.50507999470767 |\r\n\t|6453b52f26d1a71e6124ce66|52.2918854778935|-1.97167759407929 |\r\n\t|6453b52f26d1a71e6124ce67|54.8403636027267|-1.36478903883441 |\r\n\t|6453b52f26d1a71e6124ce68|52.6971321174423|-0.111767454525473|\r\n\t|6453b52f26d1a71e6124ce69|53.0566617126824|-0.15553981089494 |\r\n\t|6453b52f26d1a71e6124ce6a|52.8988372634014|-1.41853339786962 |\r\n\t|6453b52f26d1a71e6124ce6b|55.717825981325 |0.211642792759744 |\r\n\t|6453b52f26d1a71e6124ce6c|52.3840761519566|-0.653960353317823|\r\n\t+------------------------+----------------+------------------+\r\n\r\nHowever, I would like to load the data from the collection directly into spark without having to read the extracted documents into a list and iterate through in java to perform the dataframe conversion.\r\nCurrently though, I am only able to read in the entire collection if I read directly into spark:\r\n\r\n\r\n\tSparkConf conf = new SparkConf();\r\n\t\t\r\n\tconf.set(&quot;spark.master&quot;,&quot;local&quot;);\r\n\tconf.set(&quot;spark.app.name&quot;,&quot;ExampleApp&quot;);\r\n\t\t\r\n\tconf.set(&quot;spark.jars.packages&quot;,&quot;org.mongodb.spark:mongo-spark-connector:10.0.1&quot;);\r\n\r\n\t// Set up read connection :\r\n\tconf.set(&quot;spark.mongodb.read.connection.uri&quot;, &quot;mongodb://user:password@example.com:27017&quot;);\r\n\tconf.set(&quot;spark.mongodb.read.database&quot;, &quot;ExampleDb&quot;);\r\n\tconf.set(&quot;spark.mongodb.read.collection&quot;, &quot;DataPoint&quot;);\r\n\r\n\t// Set up write connection\r\n\tconf.set(&quot;spark.mongodb.write.connection.uri&quot;, &quot;mongodb://user:password@example.com:27017&quot;);\r\n\tconf.set(&quot;spark.mongodb.write.database&quot;, &quot;ExampleDb&quot;);\r\n\tconf.set(&quot;spark.mongodb.write.collection&quot;, &quot;DataPoint&quot;);\r\n\r\n\tSparkContext context = new SparkContext(conf);\r\n\tSparkSession spark = SparkSession.builder().sparkContext(context).getOrCreate();\r\n\r\n\tDataset&lt;Row&gt; dataset = spark.read().format(&quot;mongodb&quot;).load().select(col(&quot;_id&quot;), col(&quot;lat&quot;), col(&quot;lon&quot;));\r\n\tdataset.withColumn(&quot;lat&quot;, dataset.col(&quot;lat&quot;).cast(&quot;float&quot;));\r\n\tdataset.withColumn(&quot;lon&quot;, dataset.col(&quot;lon&quot;).cast(&quot;float&quot;));\r\n\tdataset.na().drop();\r\n\tdataset.printSchema();\r\n\tdataset.show(false);\r\n\r\nMy questions are:\r\n\r\nWhat is the most efficient way of reading the desired data into Spark? Should the entire collection be loaded, the repository methods above scrapped, and Spark&#39;s functions used to perform the filtering instead, or is there a away to apply mongo&#39;s geo functions to the read?&lt;br/&gt;\r\nIf the former, is there an efficient way to compare lat/lon doubles to a predefined geo polygon and only keep rows in the dataframe where the coordinates lie inside?\r\n\r\nOr, if is still better to keep the repository methods above, is there a more efficient way to convert the list into a dataframe?\r\n\r\nIf the answer depends on the volume of data, then I&#39;d certainly want to entertain both approaches and run performance tests myself.","title":"Filtering a MongoDb collection with geo functions and loading into Spark","body":"<p>I am attempting to run some clustering algorithms (Bisecting K-Means, HDBSCAN etc) on a subset of a MongoDb collection.\nThe documents in the collection contain geo-coordinates (stored as both a GeoJsonPoint and as separate lat/lon)\ne.g.:</p>\n<pre><code>{\n  &quot;_id&quot;: {\n    &quot;$oid&quot;: &quot;6453b52f26d1a71e6124ce59&quot;\n  },\n  &quot;lat&quot;: 51.1315842777413,\n  &quot;lon&quot;: 0.515861112040389,\n  &quot;location&quot;: {\n    &quot;type&quot;: &quot;Point&quot;,\n    &quot;coordinates&quot;: [\n      0.515861112040389,\n      51.1315842777413\n    ]\n  },\n  &quot;lastUpdatedTimestamp&quot;: {\n    &quot;$numberLong&quot;: &quot;1683902535038&quot;\n  },\n  &quot;_class&quot;: &quot;com.example.DataPoint&quot;\n}\n</code></pre>\n<p>I need to be able to filter the documents based on 2 sets of criteria:</p>\n<ol>\n<li>Location is inside a predefined GeoJsonPolygon (these are stored in another collection elsewhere)</li>\n<li>LastUpdatedTimestamp &gt; than a fixed time</li>\n</ol>\n<p>and then read the filtered collection into Spark to perform the clustering.</p>\n<p>The application is being developed in Springboot Java, so I am able to setup a mongo respository with methods than will perform this filtering (which use Mongo's inbuilt geometry functions)</p>\n<p>DataPointRepository class:</p>\n<pre><code>package com.example;\n\nimport java.util.List;\n\nimport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface DataPointRepository extends MongoRepository&lt;DataPoint, ObjectId&gt; {\n    \n    //Extract by within GeoPolygon And Last updated &gt; cutoff \n    List&lt;DataPoint&gt; findAllByLocationWithinAndLastUpdatedTimestampGreaterThan(GeoJsonPolygon geoJsonPolygon, double lastUpdatedCutoff);\n\n}\n</code></pre>\n<p>DataPoint class:</p>\n<pre><code>package com.example;\n\nimport org.springframework.data.mongodb.core.geo.GeoJsonPoint;\nimport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\nimport org.springframework.data.mongodb.core.index.GeoSpatialIndexType;\nimport org.springframework.data.mongodb.core.index.GeoSpatialIndexed;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NonNull;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@ToString\n@Document(collection =&quot;DataPoint&quot;) \n@AllArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class DataPoint {\n    \n    //System generated PK\n    @Getter @Setter @NonNull private String id;\n    \n    //Co-ordinates\n    @Getter @Setter private double lat;\n    @Getter @Setter private double lon;\n    \n    @GeoSpatialIndexed(name= &quot;location_idx&quot;, type = GeoSpatialIndexType.GEO_2DSPHERE)\n    @Getter @Setter private GeoJsonPoint location;\n    \n    //Last Updated\n    @Getter @Setter private long lastUpdatedTimestamp;  \n}\n</code></pre>\n<p>The below service will then run when the application is initialised and performs the collection filtering and loading of the data into spark:</p>\n<pre><code>package com.example;\n\nimport static org.apache.spark.sql.functions.col;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.SparkContext;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.RowFactory;\nimport org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.types.DataTypes;\nimport org.apache.spark.sql.types.Metadata;\nimport org.apache.spark.sql.types.StructField;\nimport org.apache.spark.sql.types.StructType;\nimport org.bson.types.ObjectId;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.data.geo.Point;\nimport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\nimport org.springframework.stereotype.Service;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Service\npublic class ExampleService implements CommandLineRunner {\n    \n    private static final Logger logger = LoggerFactory.getLogger(ExampleService.class);\n\n    @Autowired\n    DataPointRepository dataPointRepository;\n    \n    @Override\n    public void run(String... args) throws Exception {\n        //Log that service is running\n        logger.info(&quot;Example Service is running&quot;);\n        \n        //Example GeoJsonPolygon\n        List&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\n        points.add(new Point(0,0));\n        points.add(new Point(180,0));\n        points.add(new Point(180,90));\n        points.add(new Point(0,0));\n        GeoJsonPolygon geoJsonPolygon = new GeoJsonPolygon(points);\n        \n        //Cutoff time default to T-10mins\n        double cutoffTime = System.currentTimeMillis() - (10 * 60 * 1000);\n        \n        //Filter the DataPoint collection\n        List&lt;DataPoint&gt; filteredDataPointList = dataPointRepository.findAllByLocationWithinAndLastUpdatedTimestampGreaterThan(geoJsonPolygon,cutoffTime);\n        \n        //Initialise Spark session\n        SparkConf conf = new SparkConf();\n        \n        conf.set(&quot;spark.master&quot;,&quot;local&quot;);\n        conf.set(&quot;spark.app.name&quot;,&quot;ExampleApp&quot;);\n\n        SparkContext context = new SparkContext(conf);\n        SparkSession spark = SparkSession.builder().sparkContext(context).getOrCreate();\n        \n        //Convert filteredDataPointList to List&lt;Row&gt; for spark dataframe\n        List&lt;Row&gt; rowList = new ArrayList&lt;Row&gt;();\n        for (DataPoint dp: filteredDataPointList) {\n            List&lt;Object&gt; data = new ArrayList&lt;&gt;();\n            data.add(dp.getId());\n            data.add(dp.getLat());\n            data.add(dp.getLon());\n            \n            Row row = RowFactory.create(data.toArray());\n            rowList.add(row);\n        }\n        \n        //Generate schema from StructFields\n        List&lt;StructField&gt; structFields = new ArrayList&lt;&gt;();\n        structFields.add(new StructField(&quot;_id&quot;, DataTypes.StringType, true, Metadata.empty()));\n        structFields.add(new StructField(&quot;lat&quot;, DataTypes.DoubleType, true, Metadata.empty()));\n        structFields.add(new StructField(&quot;lon&quot;, DataTypes.DoubleType, true, Metadata.empty()));\n        StructType schema = new StructType(structFields.toArray(new StructField[0]));\n\n        //Initialise DataFrame from rowList\n        Dataset&lt;Row&gt; dataset = spark.createDataFrame(rowList, schema);\n        dataset.withColumn(&quot;lat&quot;, dataset.col(&quot;lat&quot;).cast(&quot;float&quot;));\n        dataset.withColumn(&quot;lon&quot;, dataset.col(&quot;lon&quot;).cast(&quot;float&quot;));\n        dataset.na().drop();\n        dataset.printSchema();\n        dataset.show(false);\n        \n        //Run clustering algorithms....\n        \n    }\n}\n</code></pre>\n<p>(output as below)</p>\n<pre><code>root\n |-- _id: string (nullable = true)\n |-- lat: double (nullable = true)\n |-- lon: double (nullable = true)\n\n+------------------------+----------------+------------------+\n|_id                     |lat             |lon               |\n+------------------------+----------------+------------------+\n|6453b52f26d1a71e6124ce59|51.1315842777413|0.515861112040389 |\n|6453b52f26d1a71e6124ce5a|53.7236662883316|-3.03878489019157 |\n|6453b52f26d1a71e6124ce5b|53.025813155572 |0.289110683451985 |\n|6453b52f26d1a71e6124ce5c|51.3606995421023|-0.45591666788182 |\n|6453b52f26d1a71e6124ce5d|55.3587772650236|-0.43234332482597 |\n|6453b52f26d1a71e6124ce5e|53.3132727039887|-1.2439138924336  |\n|6453b52f26d1a71e6124ce5f|55.5844946099286|-2.71052395578811 |\n|6453b52f26d1a71e6124ce60|52.3681859288013|-1.73289160535643 |\n|6453b52f26d1a71e6124ce61|53.6486857624155|0.879253900600117 |\n|6453b52f26d1a71e6124ce62|51.8974330698587|-1.64057831174821 |\n|6453b52f26d1a71e6124ce63|51.4130112162052|0.0813730046672143|\n|6453b52f26d1a71e6124ce64|55.7826244597159|-1.89958309132911 |\n|6453b52f26d1a71e6124ce65|51.9251715855348|-2.50507999470767 |\n|6453b52f26d1a71e6124ce66|52.2918854778935|-1.97167759407929 |\n|6453b52f26d1a71e6124ce67|54.8403636027267|-1.36478903883441 |\n|6453b52f26d1a71e6124ce68|52.6971321174423|-0.111767454525473|\n|6453b52f26d1a71e6124ce69|53.0566617126824|-0.15553981089494 |\n|6453b52f26d1a71e6124ce6a|52.8988372634014|-1.41853339786962 |\n|6453b52f26d1a71e6124ce6b|55.717825981325 |0.211642792759744 |\n|6453b52f26d1a71e6124ce6c|52.3840761519566|-0.653960353317823|\n+------------------------+----------------+------------------+\n</code></pre>\n<p>However, I would like to load the data from the collection directly into spark without having to read the extracted documents into a list and iterate through in java to perform the dataframe conversion.\nCurrently though, I am only able to read in the entire collection if I read directly into spark:</p>\n<pre><code>SparkConf conf = new SparkConf();\n    \nconf.set(&quot;spark.master&quot;,&quot;local&quot;);\nconf.set(&quot;spark.app.name&quot;,&quot;ExampleApp&quot;);\n    \nconf.set(&quot;spark.jars.packages&quot;,&quot;org.mongodb.spark:mongo-spark-connector:10.0.1&quot;);\n\n// Set up read connection :\nconf.set(&quot;spark.mongodb.read.connection.uri&quot;, &quot;mongodb://user:password@example.com:27017&quot;);\nconf.set(&quot;spark.mongodb.read.database&quot;, &quot;ExampleDb&quot;);\nconf.set(&quot;spark.mongodb.read.collection&quot;, &quot;DataPoint&quot;);\n\n// Set up write connection\nconf.set(&quot;spark.mongodb.write.connection.uri&quot;, &quot;mongodb://user:password@example.com:27017&quot;);\nconf.set(&quot;spark.mongodb.write.database&quot;, &quot;ExampleDb&quot;);\nconf.set(&quot;spark.mongodb.write.collection&quot;, &quot;DataPoint&quot;);\n\nSparkContext context = new SparkContext(conf);\nSparkSession spark = SparkSession.builder().sparkContext(context).getOrCreate();\n\nDataset&lt;Row&gt; dataset = spark.read().format(&quot;mongodb&quot;).load().select(col(&quot;_id&quot;), col(&quot;lat&quot;), col(&quot;lon&quot;));\ndataset.withColumn(&quot;lat&quot;, dataset.col(&quot;lat&quot;).cast(&quot;float&quot;));\ndataset.withColumn(&quot;lon&quot;, dataset.col(&quot;lon&quot;).cast(&quot;float&quot;));\ndataset.na().drop();\ndataset.printSchema();\ndataset.show(false);\n</code></pre>\n<p>My questions are:</p>\n<p>What is the most efficient way of reading the desired data into Spark? Should the entire collection be loaded, the repository methods above scrapped, and Spark's functions used to perform the filtering instead, or is there a away to apply mongo's geo functions to the read?<br/>\nIf the former, is there an efficient way to compare lat/lon doubles to a predefined geo polygon and only keep rows in the dataframe where the coordinates lie inside?</p>\n<p>Or, if is still better to keep the repository methods above, is there a more efficient way to convert the list into a dataframe?</p>\n<p>If the answer depends on the volume of data, then I'd certainly want to entertain both approaches and run performance tests myself.</p>\n"},{"tags":["java","spring","api","runtime-error","webclient"],"owner":{"account_id":28618213,"reputation":1,"user_id":21911736,"display_name":"Xoroma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684313178,"creation_date":1684310500,"question_id":76269802,"body_markdown":"I&#39;m trying to send an apk file using the spring web client for static analysis to the mobfs api service. But I am getting an error with json response  `{&quot;error&quot;: {&quot;file&quot;: &quot;This field is required.&quot;}}`.    \r\n\r\nThis is an example cUrl from doc.          \r\n\r\n&gt; curl -F &#39;file=@/Users/ajin/Desktop/diva-beta.apk&#39;\r\n&gt; http://localhost:8000/api/v1/upload -H\r\n&gt; &quot;X-Mobsf-Api-Key:bbe2a81af7e42b82222bbfe4fcf54d681dbc1ba34ef6d41a17ce1881cfda0709&quot;\r\n\r\n\r\n```\r\n  File file = new File(&quot;/light.apk&quot;);\r\n\r\n  ContentDisposition contentDisposition = ContentDisposition\r\n                .builder(&quot;form-data&quot;)\r\n                .name(&quot;file&quot;)\r\n                .filename(&quot;light.apk&quot;)\r\n                .build();\r\n\r\n  return webClient.post()\r\n                .uri(UPLOAD_FILE_URL)\r\n                .header(&quot;Content-Disposition&quot;, contentDisposition.toString())\r\n                .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                .body(BodyInserters.fromMultipartData(fromFile(file)))\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .block();\r\n\r\n    }\r\n\r\n    public MultiValueMap&lt;String, HttpEntity&lt;?&gt;&gt; fromFile(File file) {\r\n        MultipartBodyBuilder builder = new MultipartBodyBuilder();\r\n        builder.part(&quot;file&quot;, new FileSystemResource(file));\r\n        return builder.build();\r\n    }\r\n```\r\n\r\nLogs:\r\n\r\n[![logs][1]][1]\r\n\r\n What am I doing wrong?\r\n \r\n[1]: https://i.stack.imgur.com/LDscL.png","title":"Issue with sending file using Spring WebClient to MobfsApi","body":"<p>I'm trying to send an apk file using the spring web client for static analysis to the mobfs api service. But I am getting an error with json response  <code>{&quot;error&quot;: {&quot;file&quot;: &quot;This field is required.&quot;}}</code>.</p>\n<p>This is an example cUrl from doc.</p>\n<blockquote>\n<p>curl -F 'file=@/Users/ajin/Desktop/diva-beta.apk'\nhttp://localhost:8000/api/v1/upload -H\n&quot;X-Mobsf-Api-Key:bbe2a81af7e42b82222bbfe4fcf54d681dbc1ba34ef6d41a17ce1881cfda0709&quot;</p>\n</blockquote>\n<pre><code>  File file = new File(&quot;/light.apk&quot;);\n\n  ContentDisposition contentDisposition = ContentDisposition\n                .builder(&quot;form-data&quot;)\n                .name(&quot;file&quot;)\n                .filename(&quot;light.apk&quot;)\n                .build();\n\n  return webClient.post()\n                .uri(UPLOAD_FILE_URL)\n                .header(&quot;Content-Disposition&quot;, contentDisposition.toString())\n                .contentType(MediaType.MULTIPART_FORM_DATA)\n                .body(BodyInserters.fromMultipartData(fromFile(file)))\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n\n    }\n\n    public MultiValueMap&lt;String, HttpEntity&lt;?&gt;&gt; fromFile(File file) {\n        MultipartBodyBuilder builder = new MultipartBodyBuilder();\n        builder.part(&quot;file&quot;, new FileSystemResource(file));\n        return builder.build();\n    }\n</code></pre>\n<p>Logs:</p>\n<p><a href=\"https://i.stack.imgur.com/LDscL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LDscL.png\" alt=\"logs\" /></a></p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1541103183,"post_id":53108676,"comment_id":93112673,"body_markdown":"`Optional#ofNullable`, or better yet you can do some actions if the key is absent e.g. `Map#computeIfAbsent`","body":"<code>Optional#ofNullable</code>, or better yet you can do some actions if the key is absent e.g. <code>Map#computeIfAbsent</code>"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1541103252,"post_id":53108676,"comment_id":93112696,"body_markdown":"but think of that null a little, `null` might mean value not present or key *actually* mapped to null, depends of your map and application","body":"but think of that null a little, <code>null</code> might mean value not present or key <i>actually</i> mapped to null, depends of your map and application"},{"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"score":0,"creation_date":1541103330,"post_id":53108676,"comment_id":93112730,"body_markdown":"@Eugene - Thanks. Yup, I am constructing the map myself from a stream so if the value doesn&#39;t exist then the entry would never have existed either. Still, I&#39;m trying to cover all null cases.","body":"@Eugene - Thanks. Yup, I am constructing the map myself from a stream so if the value doesn&#39;t exist then the entry would never have existed either. Still, I&#39;m trying to cover all null cases."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1541103958,"creation_date":1541103174,"answer_id":53108695,"question_id":53108676,"body_markdown":"Why not simply:\r\n\r\n\r\n    return Optional.ofNullable(myMap.get(myKey));\r\n\r\n[JavaDocs][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ofNullable-T-","title":"How to make `Map::get` return either an `Optional` of the found value or `Optional.empty()`","body":"<p>Why not simply:</p>\n\n<pre><code>return Optional.ofNullable(myMap.get(myKey));\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ofNullable-T-\" rel=\"noreferrer\">JavaDocs</a></p>\n"},{"tags":[],"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1541103549,"creation_date":1541103549,"answer_id":53108790,"question_id":53108676,"body_markdown":"This\r\n\r\n    Optional.of(myMap.getOrDefault(myKey, null));\r\n\r\nor really\r\n\r\n    Optional.of(null);\r\n\r\nwould&#39;ve failed with a `NullPointerException`. As the [javadoc][1] states\r\n\r\n&gt; Throws:  \r\n&gt; **NullPointerException** - if `value` is null\r\n\r\n\r\n[`Optional#ofNullable`][2] exists when you don&#39;t know if the value you&#39;re passing to it is `null` or not:\r\n\r\n&gt; **Parameters**:  \r\n&gt; `value` - the possibly-null value to describe\r\n\r\nAnd since [`Map#get(Object)`][3] already returns `null` when there is no entry for the given key\r\n\r\n&gt; **Returns**:  \r\n&gt; the value to which the specified key is mapped, or `null` if\r\n&gt; this map contains no mapping for the key\r\n\r\nyou don&#39;t need to use `getOrDefault` with a `null` value for the default. You can instead directly use\r\n\r\n    Optional.ofNullable(myMap.get(myKey));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#of(T)\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#ofNullable(T)\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#get(java.lang.Object)","title":"How to make `Map::get` return either an `Optional` of the found value or `Optional.empty()`","body":"<p>This</p>\n\n<pre><code>Optional.of(myMap.getOrDefault(myKey, null));\n</code></pre>\n\n<p>or really</p>\n\n<pre><code>Optional.of(null);\n</code></pre>\n\n<p>would've failed with a <code>NullPointerException</code>. As the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#of(T)\" rel=\"noreferrer\">javadoc</a> states</p>\n\n<blockquote>\n  <p>Throws:<br>\n  <strong>NullPointerException</strong> - if <code>value</code> is null</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#ofNullable(T)\" rel=\"noreferrer\"><code>Optional#ofNullable</code></a> exists when you don't know if the value you're passing to it is <code>null</code> or not:</p>\n\n<blockquote>\n  <p><strong>Parameters</strong>:<br>\n  <code>value</code> - the possibly-null value to describe</p>\n</blockquote>\n\n<p>And since <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#get(java.lang.Object)\" rel=\"noreferrer\"><code>Map#get(Object)</code></a> already returns <code>null</code> when there is no entry for the given key</p>\n\n<blockquote>\n  <p><strong>Returns</strong>:<br>\n  the value to which the specified key is mapped, or <code>null</code> if\n  this map contains no mapping for the key</p>\n</blockquote>\n\n<p>you don't need to use <code>getOrDefault</code> with a <code>null</code> value for the default. You can instead directly use</p>\n\n<pre><code>Optional.ofNullable(myMap.get(myKey));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1603375585,"creation_date":1603375265,"answer_id":64483909,"question_id":53108676,"body_markdown":"Functional and definitely too long solution:\r\n```\r\nmyMap.entrySet().stream()\r\n  .filter(it -&gt; it.getKey().equals(myKey))\r\n  .findFirst()\r\n  .map(Map.Entry::getValue);\r\n```\r\n","title":"How to make `Map::get` return either an `Optional` of the found value or `Optional.empty()`","body":"<p>Functional and definitely too long solution:</p>\n<pre><code>myMap.entrySet().stream()\n  .filter(it -&gt; it.getKey().equals(myKey))\n  .findFirst()\n  .map(Map.Entry::getValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2445,"reputation":27389,"user_id":3408,"accept_rate":51,"display_name":"rjmunro"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684313126,"creation_date":1684313126,"answer_id":76270158,"question_id":53108676,"body_markdown":"If the map contains a null value, the `Optional.ofNullable(...)` solution won&#39;t work. You need to do something like:\r\n\r\n```java\r\nmyMap.containsKey(myKey) ? Optional.of(myMap.get(myKey)) : Optional.empty();\r\n```\r\n\r\nIt&#39;s annoying to have to check the map twice, but there doesn&#39;t seem to be a better way.","title":"How to make `Map::get` return either an `Optional` of the found value or `Optional.empty()`","body":"<p>If the map contains a null value, the <code>Optional.ofNullable(...)</code> solution won't work. You need to do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myMap.containsKey(myKey) ? Optional.of(myMap.get(myKey)) : Optional.empty();\n</code></pre>\n<p>It's annoying to have to check the map twice, but there doesn't seem to be a better way.</p>\n"}],"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35674,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":53108695,"answer_count":4,"score":34,"last_activity_date":1684313126,"creation_date":1541103043,"question_id":53108676,"body_markdown":"I&#39;m trying to do this:\r\n\r\n    return Optional.of(myMap.getOrDefault(myKey, null));\r\n\r\nReally, what I want is to return an `Optional.of(foundVal)` if found, otherwise `Optional.empty()`. I don&#39;t believe `Optional.of(null)` equates to that. What syntax does what I want to do?\r\n\r\nThat is, how can I get a map `get` to return a proper `Optional`?","title":"How to make `Map::get` return either an `Optional` of the found value or `Optional.empty()`","body":"<p>I'm trying to do this:</p>\n\n<pre><code>return Optional.of(myMap.getOrDefault(myKey, null));\n</code></pre>\n\n<p>Really, what I want is to return an <code>Optional.of(foundVal)</code> if found, otherwise <code>Optional.empty()</code>. I don't believe <code>Optional.of(null)</code> equates to that. What syntax does what I want to do?</p>\n\n<p>That is, how can I get a map <code>get</code> to return a proper <code>Optional</code>?</p>\n"},{"tags":["java","spring-boot","spring-profiles"],"owner":{"account_id":27971475,"reputation":1,"user_id":21361105,"display_name":"raja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684312730,"creation_date":1684308548,"question_id":76269533,"body_markdown":"```\r\n12:43:08.877 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed org.springframework.boot.context.config.InvalidConfigDataPropertyException: Property &#39;spring.profiles&#39; imported from location &#39;class path resource [application.yml]&#39; is invalid and should be replaced with \r\n```\r\n\r\n\r\n\r\n```yaml\r\nspring:\r\n   profiles:\r\n      active: test\r\n---\r\n  spring:\r\n     profiles: dev\r\n        \r\n     datasource:\r\n        driver-class-name: com.mysql.cj.jdbc.Driver\r\n        password: root\r\n        type: org.apache.commons.dbcp2.BasicDataSource\r\n        url: jdbc:mysql:///ntspbms615db\r\n        username: root\r\n---    \r\n  spring: \r\n     profiles: prod\r\n     \r\n     datasource:\r\n        driver-class-name: oracle.jdbc.driver.OracleDriver\r\n        password: sam\r\n        url: jdbc:oracle:thin:@localhost:1521:orcl\r\n        username: mydb6pm\r\n     \r\n---\r\n  spring:\r\n     profiles: test\r\n     \r\n     datasource:\r\n           driver-class-name: com.mysql.cj.jdbc.Driver\r\n           password: root\r\n           type: org.apache.tomcat.jdbc.pool.DataSource\r\n           url: jdbc:mysql:///ntspbms615db\r\n           username: root        \r\n           \r\n---    \r\n   spring:\r\n      profiles: uat\r\n      datasource:\r\n         driver-class-name: oracle.jdbc.driver.OracleDriver\r\n         password: sam\r\n         url: jdbc:oracle:thin:@localhost:1521:orcl\r\n         username: mydb6pm       \r\n           \r\n```\r\n\r\n\r\ngetting the above error in eclipse ide by specifying spring profiles in single yml file.","title":"getting the error in eclipse specifying spring profiles in single yml file","body":"<pre><code>12:43:08.877 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed org.springframework.boot.context.config.InvalidConfigDataPropertyException: Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with \n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n   profiles:\n      active: test\n---\n  spring:\n     profiles: dev\n        \n     datasource:\n        driver-class-name: com.mysql.cj.jdbc.Driver\n        password: root\n        type: org.apache.commons.dbcp2.BasicDataSource\n        url: jdbc:mysql:///ntspbms615db\n        username: root\n---    \n  spring: \n     profiles: prod\n     \n     datasource:\n        driver-class-name: oracle.jdbc.driver.OracleDriver\n        password: sam\n        url: jdbc:oracle:thin:@localhost:1521:orcl\n        username: mydb6pm\n     \n---\n  spring:\n     profiles: test\n     \n     datasource:\n           driver-class-name: com.mysql.cj.jdbc.Driver\n           password: root\n           type: org.apache.tomcat.jdbc.pool.DataSource\n           url: jdbc:mysql:///ntspbms615db\n           username: root        \n           \n---    \n   spring:\n      profiles: uat\n      datasource:\n         driver-class-name: oracle.jdbc.driver.OracleDriver\n         password: sam\n         url: jdbc:oracle:thin:@localhost:1521:orcl\n         username: mydb6pm       \n           \n</code></pre>\n<p>getting the above error in eclipse ide by specifying spring profiles in single yml file.</p>\n"},{"tags":["java","spring","kotlin","testing","mockito"],"owner":{"account_id":19445478,"reputation":1094,"user_id":14223108,"display_name":"Emin Bilgi&#231;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684312660,"creation_date":1684312660,"question_id":76270093,"body_markdown":"\r\nI am having `io.mockk.MockKException: Missing calls inside every { ... } block.` exception from the test below. The weird part is I am not getting this error when the class run by itself. The error occurs if I run this test class with others. I don&#39;t have any static fields in the other class and I am sure all fields created as `MoneyCalculator` are private and cannot be reached from other classes.\r\n\r\nThe Error occurs when mocking `moneyCalculator`, is there any idea about why this error occurs?\r\n\r\n```\r\nclass AccountingJournalLineItemServiceTest : AbstractAccountingUnitTest() {\r\n\r\n    @MockK\r\n    private lateinit var moneyCalculator: MoneyCalculator\r\n\r\n    @InjectMockKs\r\n    private lateinit var service: Service\r\n\r\n    @Test\r\n    fun testCreateResponsePayload_whenNoEntryFound() {\r\n     // Other mocks\r\n\r\n        every { // Here error occurs\r\n            moneyCalculator.sum(emptyList&lt;AccountingJournalLineMoney&gt;())\r\n        } returns Money(\r\n            creditAmount = BigDecimal.ZERO,\r\n            debitAmount = BigDecimal.ZERO,\r\n            currency = Currency.AED\r\n        )\r\n\r\n        val actual = service.getJournalLinesAsResponsePayload(\r\n            &quot;company&quot;.Id,\r\n            &quot;sync&quot;.Id,\r\n            mockk()\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nopen class AbstractAccountingUnitTest {\r\n\r\n    protected val companyId = &quot;company&quot;.Id\r\n    protected val regularCycleId = &quot;regularCycle&quot;.Id\r\n    protected val synchronizationId = &quot;synchronization&quot;.Id\r\n\r\n    @BeforeEach\r\n    open fun setup() {\r\n        MockKAnnotations.init(this)\r\n    }\r\n}","title":"Error, missing calls inside every; when running tests together","body":"<p>I am having <code>io.mockk.MockKException: Missing calls inside every { ... } block.</code> exception from the test below. The weird part is I am not getting this error when the class run by itself. The error occurs if I run this test class with others. I don't have any static fields in the other class and I am sure all fields created as <code>MoneyCalculator</code> are private and cannot be reached from other classes.</p>\n<p>The Error occurs when mocking <code>moneyCalculator</code>, is there any idea about why this error occurs?</p>\n<pre><code>class AccountingJournalLineItemServiceTest : AbstractAccountingUnitTest() {\n\n    @MockK\n    private lateinit var moneyCalculator: MoneyCalculator\n\n    @InjectMockKs\n    private lateinit var service: Service\n\n    @Test\n    fun testCreateResponsePayload_whenNoEntryFound() {\n     // Other mocks\n\n        every { // Here error occurs\n            moneyCalculator.sum(emptyList&lt;AccountingJournalLineMoney&gt;())\n        } returns Money(\n            creditAmount = BigDecimal.ZERO,\n            debitAmount = BigDecimal.ZERO,\n            currency = Currency.AED\n        )\n\n        val actual = service.getJournalLinesAsResponsePayload(\n            &quot;company&quot;.Id,\n            &quot;sync&quot;.Id,\n            mockk()\n        )\n    }\n\n}\n\n\n\nopen class AbstractAccountingUnitTest {\n\n    protected val companyId = &quot;company&quot;.Id\n    protected val regularCycleId = &quot;regularCycle&quot;.Id\n    protected val synchronizationId = &quot;synchronization&quot;.Id\n\n    @BeforeEach\n    open fun setup() {\n        MockKAnnotations.init(this)\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","google-app-engine","jdo","datanucleus"],"comments":[{"owner":{"account_id":17627317,"reputation":127,"user_id":12792142,"display_name":"TestingCodes"},"score":0,"creation_date":1688610298,"post_id":76268037,"comment_id":135097701,"body_markdown":"Did you find a solution?","body":"Did you find a solution?"},{"owner":{"account_id":5458872,"reputation":2254,"user_id":4341561,"accept_rate":65,"display_name":"Kiran Subedi"},"score":0,"creation_date":1688659384,"post_id":76268037,"comment_id":135106761,"body_markdown":"Yes, upgrading the org.datanucleus plugin works for me. I did update the version to: \t\t\t\t&lt;version&gt;3.2.0-m1&lt;/version&gt;.","body":"Yes, upgrading the org.datanucleus plugin works for me. I did update the version to: \t\t\t\t&lt;version&gt;3.2.0-m1&lt;/version&gt;."}],"owner":{"account_id":5458872,"reputation":2254,"user_id":4341561,"accept_rate":65,"display_name":"Kiran Subedi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684312014,"creation_date":1684287210,"question_id":76268037,"body_markdown":"I have old project and whenever I run the command like `mvn clean install` or `mvn datanucleus:enchance` I am getting errors like  \r\n\r\n&gt; Failed to execute goal\r\n&gt; org.datanucleus:maven-datanucleus-plugin:3.1.1:enhance (default) on\r\n&gt; project springboot-appengine-standard: Execution default of goal\r\n&gt; org.datanucleus:maven-datanucleus-plugin:3.1.1:enhance failed: A\r\n&gt; required class was missing while executing\r\n&gt; org.datanucleus:maven-datanucleus-plugin:3.1.1:enhance:\r\n&gt; java/sql/SQLException\r\n\r\nI have the following pom.xml file: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.google.appengine.demos&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springboot-appengine-standard&lt;/artifactId&gt;\r\n\t&lt;version&gt;1&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;springboot-appengine-standard&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t \r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;spring.boot.version&gt;2.1.1.RELEASE&lt;/spring.boot.version&gt; &lt;!-- DO NOT UPDATE w/o MANUAL TESTING --&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\r\n\r\n\t\t&lt;datanucleus.version&gt;3.1.3&lt;/datanucleus.version&gt;\r\n\t\t&lt;datanucleus.plugin.version&gt;3.1.1&lt;/datanucleus.plugin.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--  Securtiy Start.. --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-commons-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\r\n\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t\t    &lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t    &lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.13.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20230227&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.42.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.47.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-services-drive&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;v3-rev188-1.25.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-services-admin-directory&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;directory_v1-rev110-1.25.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.30.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;google-api-services-sheets&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;v4-rev581-1.25.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.28.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.28.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.28.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.28.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.appengine.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;datanucleus-appengine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.75&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;appengine-api-labs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.75&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;datanucleus-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${datanucleus.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;datanucleus-api-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${datanucleus.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;geronimo-jpa_2.0_spec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;datanucleus-api-jdo&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${datanucleus.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;appengine-endpoints-deps&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.21&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.jdo&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jdo-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.13.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;merchantsdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.15.122&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.13.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;permissionssdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.109&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;!-- Import dependency management from Spring Boot --&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- [START cloudplugin] --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- [END cloudplugin] --&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;display-dependency-updates&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;display-plugin-updates&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;javax.servlet:javax.servlet-api&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;com.google.guava:guava&lt;/exclude&gt; \r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-datanucleus-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${datanucleus.plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;api&gt;JDO&lt;/api&gt;\r\n\t\t\t\t\t&lt;props&gt;${basedir}/datanucleus.properties&lt;/props&gt;\r\n\t\t\t\t\t&lt;fork&gt;false&lt;/fork&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-classes&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;enhance&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;datanucleus-core&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${datanucleus.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nI have the following datanucleus.properties file: \r\n\r\n    javax.jdo.option.ConnectionDriverName=org.apache.derby.jdbc.EmbeddedDriver\r\n    javax.jdo.option.ConnectionURL=jdbc:derby:eg;create=true \r\n    javax.jdo.option.ConnectionUserName=root\r\n    javax.jdo.option.ConnectionPassword=root\r\n\r\n    datanucleus.autoCreateTables=true\r\n    datanucleus.autoCreateSchema=true\r\n    datanucleus.autoCreateColumns=true\r\n    datanucleus.autoCreateConstraints=true\r\n    datanucleus.RetainValues=true\r\n\r\n\r\nI have tried updating the maven-datanucleus-plugin to different version. But, it didn&#39;t work. **How can I solve the above issue?** ","title":"How to resolve a required class was missing while executing : java/sql/SQLException","body":"<p>I have old project and whenever I run the command like <code>mvn clean install</code> or <code>mvn datanucleus:enchance</code> I am getting errors like</p>\n<blockquote>\n<p>Failed to execute goal\norg.datanucleus:maven-datanucleus-plugin:3.1.1:enhance (default) on\nproject springboot-appengine-standard: Execution default of goal\norg.datanucleus:maven-datanucleus-plugin:3.1.1:enhance failed: A\nrequired class was missing while executing\norg.datanucleus:maven-datanucleus-plugin:3.1.1:enhance:\njava/sql/SQLException</p>\n</blockquote>\n<p>I have the following pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.google.appengine.demos&lt;/groupId&gt;\n&lt;artifactId&gt;springboot-appengine-standard&lt;/artifactId&gt;\n&lt;version&gt;1&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;name&gt;springboot-appengine-standard&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n \n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;spring.boot.version&gt;2.1.1.RELEASE&lt;/spring.boot.version&gt; &lt;!-- DO NOT UPDATE w/o MANUAL TESTING --&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n\n\n    &lt;datanucleus.version&gt;3.1.3&lt;/datanucleus.version&gt;\n    &lt;datanucleus.plugin.version&gt;3.1.1&lt;/datanucleus.plugin.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        \n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--  Securtiy Start.. --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-commons-core&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n        &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n        &lt;version&gt;1.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;5.1.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;joda-time&lt;/groupId&gt;\n        &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20230227&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\n        &lt;version&gt;1.42.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;1.47.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n        &lt;artifactId&gt;google-api-services-drive&lt;/artifactId&gt;\n        &lt;version&gt;v3-rev188-1.25.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n        &lt;artifactId&gt;google-api-services-admin-directory&lt;/artifactId&gt;\n        &lt;version&gt;directory_v1-rev110-1.25.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n        &lt;version&gt;1.30.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n        &lt;artifactId&gt;google-api-services-sheets&lt;/artifactId&gt;\n        &lt;version&gt;v4-rev581-1.25.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\n        &lt;version&gt;1.28.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.14&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-http-client-jackson&lt;/artifactId&gt;\n        &lt;version&gt;1.28.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\n        &lt;version&gt;1.28.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\n        &lt;version&gt;1.28.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine.orm&lt;/groupId&gt;\n        &lt;artifactId&gt;datanucleus-appengine&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.9.75&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-api-labs&lt;/artifactId&gt;\n        &lt;version&gt;1.9.75&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n        &lt;artifactId&gt;datanucleus-core&lt;/artifactId&gt;\n        &lt;version&gt;${datanucleus.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n        &lt;artifactId&gt;datanucleus-api-jpa&lt;/artifactId&gt;\n        &lt;version&gt;${datanucleus.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n        &lt;artifactId&gt;geronimo-jpa_2.0_spec&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n        &lt;artifactId&gt;datanucleus-api-jdo&lt;/artifactId&gt;\n        &lt;version&gt;${datanucleus.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-endpoints-deps&lt;/artifactId&gt;\n        &lt;version&gt;1.9.21&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n        &lt;version&gt;1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.jdo&lt;/groupId&gt;\n        &lt;artifactId&gt;jdo-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;merchantsdk&lt;/artifactId&gt;\n        &lt;version&gt;2.15.122&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;permissionssdk&lt;/artifactId&gt;\n        &lt;version&gt;2.4.109&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;!-- Import dependency management from Spring Boot --&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- [START cloudplugin] --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n            &lt;configuration&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;!-- [END cloudplugin] --&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;display-dependency-updates&lt;/goal&gt;\n                        &lt;goal&gt;display-plugin-updates&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;javax.servlet:javax.servlet-api&lt;/exclude&gt;\n                    &lt;exclude&gt;com.google.guava:guava&lt;/exclude&gt; \n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-datanucleus-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${datanucleus.plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;api&gt;JDO&lt;/api&gt;\n                &lt;props&gt;${basedir}/datanucleus.properties&lt;/props&gt;\n                &lt;fork&gt;false&lt;/fork&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;process-classes&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;enhance&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n                    &lt;artifactId&gt;datanucleus-core&lt;/artifactId&gt;\n                    &lt;version&gt;${datanucleus.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I have the following datanucleus.properties file:</p>\n<pre><code>javax.jdo.option.ConnectionDriverName=org.apache.derby.jdbc.EmbeddedDriver\njavax.jdo.option.ConnectionURL=jdbc:derby:eg;create=true \njavax.jdo.option.ConnectionUserName=root\njavax.jdo.option.ConnectionPassword=root\n\ndatanucleus.autoCreateTables=true\ndatanucleus.autoCreateSchema=true\ndatanucleus.autoCreateColumns=true\ndatanucleus.autoCreateConstraints=true\ndatanucleus.RetainValues=true\n</code></pre>\n<p>I have tried updating the maven-datanucleus-plugin to different version. But, it didn't work. <strong>How can I solve the above issue?</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9564,"page":428,"page_size":100}
