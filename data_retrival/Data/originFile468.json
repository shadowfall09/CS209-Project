{"items":[{"tags":["java","security","certificate","code-signing","pki"],"comments":[{"owner":{"account_id":20177,"reputation":45320,"user_id":47961,"accept_rate":83,"display_name":"Eugene Mayevski &#39;Callback"},"score":1,"creation_date":1283840905,"post_id":3655263,"comment_id":3845785,"body_markdown":"You know, dealing with certificates closely (we develop and sell PKI library), I have the same questions and no response. This seems marketing BS, cause as you correctly noticed, key usage is the same and from technical point of view the certificates are the same. Maybe they try to fool some users into buying several different certificates, or issue them directly in applicable format (PKCS#7/PKCS#8, JKS, PKCS#12).","body":"You know, dealing with certificates closely (we develop and sell PKI library), I have the same questions and no response. This seems marketing BS, cause as you correctly noticed, key usage is the same and from technical point of view the certificates are the same. Maybe they try to fool some users into buying several different certificates, or issue them directly in applicable format (PKCS#7/PKCS#8, JKS, PKCS#12)."},{"owner":{"account_id":647863,"reputation":113,"user_id":441024,"display_name":"Daniel Marschall"},"score":0,"creation_date":1283892922,"post_id":3655263,"comment_id":3853660,"body_markdown":"Thank you for your comment. Well, what do you think? Might a CA revoke my certificate if they find out that I also sign JAR software? I am very unsure if it is according to their legal terms, since there are these &quot;products&quot;.","body":"Thank you for your comment. Well, what do you think? Might a CA revoke my certificate if they find out that I also sign JAR software? I am very unsure if it is according to their legal terms, since there are these &quot;products&quot;."},{"owner":{"account_id":20177,"reputation":45320,"user_id":47961,"accept_rate":83,"display_name":"Eugene Mayevski &#39;Callback"},"score":0,"creation_date":1288798589,"post_id":3655263,"comment_id":4397670,"body_markdown":"Sorry for not answering before - your question was not noticed . I am investigating this question again now and for GlobalSign CA there&#39;s no indication in their documents that explicitly prohibits use of say Authenticode certificates for Adobe AIR. It can happen, though, that they treat it as violation of Subscriber Agreement (though there&#39;s no such restriction set there). So I am having this problem myself now (trying to decide if I need to buy another certificates for different signing types) and have no solution.","body":"Sorry for not answering before - your question was not noticed . I am investigating this question again now and for GlobalSign CA there&#39;s no indication in their documents that explicitly prohibits use of say Authenticode certificates for Adobe AIR. It can happen, though, that they treat it as violation of Subscriber Agreement (though there&#39;s no such restriction set there). So I am having this problem myself now (trying to decide if I need to buy another certificates for different signing types) and have no solution."}],"answers":[{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681591863,"creation_date":1337030160,"answer_id":10591180,"question_id":3655263,"body_markdown":"There is no technical difference as you guessed, the certificate provided works for any code signing context (except macOS/iOS which use certificates issued by Apple). The CAs just try to deliver the certificate in a format suitable for the developer environment. For example a JKS file for Java developers signing JAR files, a SPC file (i.e. a DER encoded PKCS#7 certificate) or a PKCS#12 file for Authenticode.\r\n\r\nThe code signing tools often accept various key and certificate formats:\r\n* [signtool][1] can use PKCS#12 keystores and PKV+SPC files for Authenticode signing\r\n* [keytool][2] can use PKCS#12 and JKS keystores for signing JAR files\r\n* [Jsign][3] can use PKCS#12 and JKS keystores, or PKV+SPC files  for Authenticode signing (disclaimer: I&#39;m the author)\r\n* [osslsigncode][4] PKCS#12 keystores or PKV+SPC files\r\n\r\nRegardless of the format used, these tools will produce the same signature for a given file (except for the signing time and the timestamp of course).\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/seccrypto/signtool\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/keytool.html\r\n  [3]: https://ebourg.github.io/jsign/\r\n  [4]: https://github.com/mtrojnar/osslsigncode","title":"Difference between Authenticode, SPC and Java CodeSign?","body":"<p>There is no technical difference as you guessed, the certificate provided works for any code signing context (except macOS/iOS which use certificates issued by Apple). The CAs just try to deliver the certificate in a format suitable for the developer environment. For example a JKS file for Java developers signing JAR files, a SPC file (i.e. a DER encoded PKCS#7 certificate) or a PKCS#12 file for Authenticode.</p>\n<p>The code signing tools often accept various key and certificate formats:</p>\n<ul>\n<li><a href=\"https://learn.microsoft.com/en-us/windows/win32/seccrypto/signtool\" rel=\"nofollow noreferrer\">signtool</a> can use PKCS#12 keystores and PKV+SPC files for Authenticode signing</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/keytool.html\" rel=\"nofollow noreferrer\">keytool</a> can use PKCS#12 and JKS keystores for signing JAR files</li>\n<li><a href=\"https://ebourg.github.io/jsign/\" rel=\"nofollow noreferrer\">Jsign</a> can use PKCS#12 and JKS keystores, or PKV+SPC files  for Authenticode signing (disclaimer: I'm the author)</li>\n<li><a href=\"https://github.com/mtrojnar/osslsigncode\" rel=\"nofollow noreferrer\">osslsigncode</a> PKCS#12 keystores or PKV+SPC files</li>\n</ul>\n<p>Regardless of the format used, these tools will produce the same signature for a given file (except for the signing time and the timestamp of course).</p>\n"}],"owner":{"account_id":647863,"reputation":113,"user_id":441024,"display_name":"Daniel Marschall"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2280,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1682700347,"creation_date":1283824267,"question_id":3655263,"body_markdown":"Most CAs are selling code signing certificates in different &quot;products&quot;, like Verisign or Certum:\r\n\r\n- Microsoft Authenticode - &quot;Allows you to sign EXE, OCX, DLL, bla...&quot;\r\n\r\n- Java CodeSign - &quot;Allows you to sign Java code&quot;\r\n\r\n- Software Publisher Certificate - &quot;Allows you to sign software&quot;\r\n\r\nWell, I am REALLY confused about this. What is the difference between all these products - except the PRICE? I asked Verisign and other CAs a few times since I am curious, but got no answer.\r\n\r\nI got a Authenticode certificate from Certum CA. I enrolled it in Internet Explorer, exported it as PKCS#12 PFX and could sign EXE, DLL, ... as promised.\r\n\r\nNow... I tried to import this PFX into Java with keytool, then I tried to sign a JAR. And it worked!\r\n\r\nAnd then there is the mysterious &quot;Software Publisher certificate&quot; as product. I don&#39;t know what I can/should sign with that... Mac? Linux? Isn&#39;t &quot;Microsoft Authenticode&quot; a Software publisher certificate too? Isn&#39;t a EXE &quot;software&quot;? That really confuses me.\r\n\r\n\r\nSo, my question is now: When I have ordered a Microsoft Authenticode cert, is it then illegal to use it to sign e.g. JAR files or if possible any other content? There seems to be no technical difference between these certificates. All of those products should have the same codesigning EKU-OID &quot;1.3.6.1.5.5.7.3.3&quot;, which does not make any differences between EXE, JAR, Adobe Air and what the hell also exists around there. So, if all &quot;CodeSigning&quot; certificates are technically equal, why do I have to decide then if I want to be a &quot;Java Developer&quot; or &quot;Windows Developer&quot; or &quot;Software Developer&quot;?\r\n\r\nMaybe there are still differences in the certificate? Maybe I get not enough rights in JARs when I use Authenticode-certs for signing?\r\n\r\n(PS: I do not use my software commercially!)","title":"Difference between Authenticode, SPC and Java CodeSign?","body":"<p>Most CAs are selling code signing certificates in different \"products\", like Verisign or Certum:</p>\n\n<ul>\n<li><p>Microsoft Authenticode - \"Allows you to sign EXE, OCX, DLL, bla...\"</p></li>\n<li><p>Java CodeSign - \"Allows you to sign Java code\"</p></li>\n<li><p>Software Publisher Certificate - \"Allows you to sign software\"</p></li>\n</ul>\n\n<p>Well, I am REALLY confused about this. What is the difference between all these products - except the PRICE? I asked Verisign and other CAs a few times since I am curious, but got no answer.</p>\n\n<p>I got a Authenticode certificate from Certum CA. I enrolled it in Internet Explorer, exported it as PKCS#12 PFX and could sign EXE, DLL, ... as promised.</p>\n\n<p>Now... I tried to import this PFX into Java with keytool, then I tried to sign a JAR. And it worked!</p>\n\n<p>And then there is the mysterious \"Software Publisher certificate\" as product. I don't know what I can/should sign with that... Mac? Linux? Isn't \"Microsoft Authenticode\" a Software publisher certificate too? Isn't a EXE \"software\"? That really confuses me.</p>\n\n<p>So, my question is now: When I have ordered a Microsoft Authenticode cert, is it then illegal to use it to sign e.g. JAR files or if possible any other content? There seems to be no technical difference between these certificates. All of those products should have the same codesigning EKU-OID \"1.3.6.1.5.5.7.3.3\", which does not make any differences between EXE, JAR, Adobe Air and what the hell also exists around there. So, if all \"CodeSigning\" certificates are technically equal, why do I have to decide then if I want to be a \"Java Developer\" or \"Windows Developer\" or \"Software Developer\"?</p>\n\n<p>Maybe there are still differences in the certificate? Maybe I get not enough rights in JARs when I use Authenticode-certs for signing?</p>\n\n<p>(PS: I do not use my software commercially!)</p>\n"},{"tags":["java","apache-kafka","avro","confluent-schema-registry","jackson-dataformat-avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682610494,"post_id":76122258,"comment_id":134246386,"body_markdown":"Confluent&#39;s KafkaAvroSerializer already supports Avro ReflectDatum types. You shouldn&#39;t need Jackson. Otherwise, you should use Avro schema to generate a POJO, not the other way around","body":"Confluent&#39;s KafkaAvroSerializer already supports Avro ReflectDatum types. You shouldn&#39;t need Jackson. Otherwise, you should use Avro schema to generate a POJO, not the other way around"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682610539,"post_id":76122258,"comment_id":134246393,"body_markdown":"Also, `writeValueAsBytes` doesn&#39;t encode the data correctly for the Schema Registry","body":"Also, <code>writeValueAsBytes</code> doesn&#39;t encode the data correctly for the Schema Registry"},{"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"score":0,"creation_date":1682615944,"post_id":76122258,"comment_id":134247758,"body_markdown":"@OneCricketeer the DTO are already existing. I would like to reuse it. I see no need to create extra avro files and then regenerate the same classes and then need a mapping between DTO and Avro DTOs. You see in the Link how you can generate a Schema during runtime from an Object. That&#39;s the idea what Jackson supports\n\n&quot;Also, writeValueAsBytes doesn&#39;t encode the data correctly for the Schema Registry&quot; --&gt; Thats the message payload from the DTO and not the schema.\n\nFor the schema registry it&#39;s the line before the return. And this ist just a Schema","body":"@OneCricketeer the DTO are already existing. I would like to reuse it. I see no need to create extra avro files and then regenerate the same classes and then need a mapping between DTO and Avro DTOs. You see in the Link how you can generate a Schema during runtime from an Object. That&#39;s the idea what Jackson supports  &quot;Also, writeValueAsBytes doesn&#39;t encode the data correctly for the Schema Registry&quot; --&gt; Thats the message payload from the DTO and not the schema.  For the schema registry it&#39;s the line before the return. And this ist just a Schema"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682617385,"post_id":76122258,"comment_id":134248089,"body_markdown":"Okay fine. Your error is with the HTTP response, anyway. So, what url are you using? What version of the registry client and server?","body":"Okay fine. Your error is with the HTTP response, anyway. So, what url are you using? What version of the registry client and server?"},{"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"score":0,"creation_date":1682666135,"post_id":76122258,"comment_id":134254527,"body_markdown":"@OneCricketeer added the information in the Post.","body":"@OneCricketeer added the information in the Post."},{"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"score":1,"creation_date":1682680852,"post_id":76122258,"comment_id":134257532,"body_markdown":"@OneCricketeer ok its a general issue, because json schema also not work to register","body":"@OneCricketeer ok its a general issue, because json schema also not work to register"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682685111,"post_id":76122258,"comment_id":134258517,"body_markdown":"Can you verify things work without using testcontainers with the same image? And just using kafka-avro-console-producer, for example? Also, do you really need Docker / Integration tests, when there are mocks available?","body":"Can you verify things work without using testcontainers with the same image? And just using kafka-avro-console-producer, for example? Also, do you really need Docker / Integration tests, when there are mocks available?"}],"answers":[{"tags":[],"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682700247,"creation_date":1682700247,"answer_id":76131638,"question_id":76122258,"body_markdown":"The env for the Schema Registry Testcontainer was wrong\r\nchanged from\r\n  \r\n\r\n    withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;localhost&quot; );\r\n\r\nto\r\n\r\n \r\n\r\n    withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;cp-schema-registry&quot; );","title":"Error register jackson avro schema with confluent cloud schema registry client","body":"<p>The env for the Schema Registry Testcontainer was wrong\nchanged from</p>\n<pre><code>withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;localhost&quot; );\n</code></pre>\n<p>to</p>\n<pre><code>withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;cp-schema-registry&quot; );\n</code></pre>\n"}],"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76131638,"answer_count":1,"score":1,"last_activity_date":1682700247,"creation_date":1682609878,"question_id":76122258,"body_markdown":"I generate an Avro schema from a POJO using [Jackson][1] and serialize it. This works quite well so far with the help of Jackson.\r\n\r\nHowever, I cannot upload this schema to the schema registry using the Cached Schema registry.\r\n\r\nTest setup is with Testcontainer see [here][2]:\r\n\r\n\r\n\r\n      SchemaRegistryClient schemaRegistryClient( final String url ) {\r\n         return new CachedSchemaRegistryClient( url, 100 );\r\n      }\r\n\r\n     public byte[] serialize( final Optional&lt;Object&gt; root ) {\r\n          if ( root.isEmpty() ) {\r\n             return new byte[0];\r\n          }\r\n          final Object rootObject = root.get();\r\n          final String subjectName = rootObject.getClass().getSimpleName();\r\n    \r\n          try {\r\n             // Jackson Avro Schema\r\n             final AvroSchema schema = getAvroSchema( rootObject );\r\n             final io.confluent.kafka.schemaregistry.avro.AvroSchema avroSchema = new io.confluent.kafka.schemaregistry.avro.AvroSchema( schema.getAvroSchema(),\r\n                   1 );\r\n             schemaRegistryClient.register( subjectName, avroSchema, false );\r\n             return avroMapper.writer( schema ).writeValueAsBytes( rootObject );\r\n          } catch ( final IOException | RuntimeException e ) {\r\n             throw new SerializationException( &quot;Error serializing Avro message&quot;, e );\r\n          } catch ( final RestClientException e ) {\r\n             throw toKafkaException( e );\r\n          }\r\n    \r\n       }\r\n\r\n\r\nError is:\r\n\r\n    java.net.SocketException: Unexpected end of file from server\r\n    \tat java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:903)\r\n    \tat java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:726)\r\n    \tat java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:900)\r\n    \tat java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:726)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1688)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n    \tat java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\r\n    \tat io.confluent.kafka.schemaregistry.client.rest.RestService.sendHttpRequest(RestService.java:294)\r\n    \tat io.confluent.kafka.schemaregistry.client.rest.RestService.httpRequest(RestService.java:384)\r\n    \tat io.confluent.kafka.schemaregistry.client.rest.RestService.registerSchema(RestService.java:561)\r\n    \tat io.confluent.kafka.schemaregistry.client.rest.RestService.registerSchema(RestService.java:549)\r\n    \tat io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.registerAndGetId(CachedSchemaRegistryClient.java:290)\r\n    \tat io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.register(CachedSchemaRegistryClient.java:397)\r\n    \tat io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.register(CachedSchemaRegistryClient.java:370)\r\n\r\nAnyone know experience with this?\r\n\r\n\r\nEDIT\r\n\r\nClient is 7.3.3 and the Container is confluentinc/cp-schema-registry:7.3.3.\r\n\r\nInteresting is the url. Reused the idea from KafkaContainer, but maybe I need another port?\r\n\r\nFirst try:\r\n\r\n       public String getClientUrl() {\r\n          return String.format( &quot;http://%s:%s&quot;, getHost(), getMappedPort( SCHEMA_REGISTRY_PORT ) );\r\n       }\r\n\r\nError:\r\n\r\n    Caused by: java.net.SocketException: Unexpected end of file from server\r\n\r\nSecond try:\r\n\r\n           public String getClientUrl() {\r\n              return String.format( &quot;http://%s:%s&quot;, getHost(), getExposedPorts().get( 0 ) );\r\n           }\r\n    \r\nError:\r\n\r\n    Caused by: java.net.ConnectException: Connection refused\r\n\r\n\r\nAvro Schema looks like this:\r\n\r\n    {\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;TestDto&quot;,\r\n      &quot;namespace&quot;: &quot;test.model&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;id&quot;,\r\n          &quot;type&quot;: [\r\n            &quot;null&quot;,\r\n            {\r\n              &quot;type&quot;: &quot;long&quot;,\r\n              &quot;java-class&quot;: &quot;java.lang.Long&quot;\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;labels&quot;,\r\n          &quot;type&quot;: [\r\n            &quot;null&quot;,\r\n            {\r\n              &quot;type&quot;: &quot;array&quot;,\r\n              &quot;items&quot;: &quot;string&quot;,\r\n              &quot;java-class&quot;: &quot;java.util.Set&quot;\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\nI&#39;m a little puzzled as to why all the java types are in there, but I guess that&#39;s another topic.\r\n\r\n\r\nNext try, was to take the confluent user avro example:\r\n\r\n          final io.confluent.kafka.schemaregistry.avro.AvroSchema schema1 = new io.confluent.kafka.schemaregistry.avro.AvroSchema( new Schema.Parser().parse( &quot;{\\n&quot;\r\n                + &quot;  \\&quot;namespace\\&quot;: \\&quot;io.confluent.developer\\&quot;,\\n&quot;\r\n                + &quot;  \\&quot;type\\&quot;: \\&quot;record\\&quot;,\\n&quot;\r\n                + &quot;  \\&quot;name\\&quot;: \\&quot;User\\&quot;,\\n&quot;\r\n                + &quot;  \\&quot;fields\\&quot;: [\\n&quot;\r\n                + &quot;    {\\n&quot;\r\n                + &quot;      \\&quot;name\\&quot;: \\&quot;name\\&quot;,\\n&quot;\r\n                + &quot;      \\&quot;type\\&quot;: \\&quot;string\\&quot;,\\n&quot;\r\n                + &quot;      \\&quot;avro.java.string\\&quot;: \\&quot;String\\&quot;\\n&quot;\r\n                + &quot;    },\\n&quot;\r\n                + &quot;    {\\n&quot;\r\n                + &quot;      \\&quot;name\\&quot;: \\&quot;age\\&quot;,\\n&quot;\r\n                + &quot;      \\&quot;type\\&quot;: \\&quot;int\\&quot;\\n&quot;\r\n                + &quot;    }\\n&quot;\r\n                + &quot;  ]\\n&quot;\r\n                + &quot;}&quot;));\r\n    schemaRegistryClient.register( subjectName, schema1, false );\r\n\r\nJson Schema register is also not working right now. So looks for a general issue with the schema registry.\r\n\r\nTried with:\r\n\r\n    spring.kafka.producer.value-serializer=io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer\r\n\r\n    Caused by: java.net.SocketException: Unexpected end of file from server\r\n    \tat java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:903)\r\n\r\n  [1]: https://github.com/FasterXML/jackson-dataformats-binary/tree/master/avro#generating-avro-schema-from-pojo-definition\r\n  [2]: https://stackoverflow.com/questions/76119369/containers-schemaregistry-cant-connect-to-kafka-container/76121640#76121640\r\n\r\n\r\n\r\n\r\n","title":"Error register jackson avro schema with confluent cloud schema registry client","body":"<p>I generate an Avro schema from a POJO using <a href=\"https://github.com/FasterXML/jackson-dataformats-binary/tree/master/avro#generating-avro-schema-from-pojo-definition\" rel=\"nofollow noreferrer\">Jackson</a> and serialize it. This works quite well so far with the help of Jackson.</p>\n<p>However, I cannot upload this schema to the schema registry using the Cached Schema registry.</p>\n<p>Test setup is with Testcontainer see <a href=\"https://stackoverflow.com/questions/76119369/containers-schemaregistry-cant-connect-to-kafka-container/76121640#76121640\">here</a>:</p>\n<pre><code>  SchemaRegistryClient schemaRegistryClient( final String url ) {\n     return new CachedSchemaRegistryClient( url, 100 );\n  }\n\n public byte[] serialize( final Optional&lt;Object&gt; root ) {\n      if ( root.isEmpty() ) {\n         return new byte[0];\n      }\n      final Object rootObject = root.get();\n      final String subjectName = rootObject.getClass().getSimpleName();\n\n      try {\n         // Jackson Avro Schema\n         final AvroSchema schema = getAvroSchema( rootObject );\n         final io.confluent.kafka.schemaregistry.avro.AvroSchema avroSchema = new io.confluent.kafka.schemaregistry.avro.AvroSchema( schema.getAvroSchema(),\n               1 );\n         schemaRegistryClient.register( subjectName, avroSchema, false );\n         return avroMapper.writer( schema ).writeValueAsBytes( rootObject );\n      } catch ( final IOException | RuntimeException e ) {\n         throw new SerializationException( &quot;Error serializing Avro message&quot;, e );\n      } catch ( final RestClientException e ) {\n         throw toKafkaException( e );\n      }\n\n   }\n</code></pre>\n<p>Error is:</p>\n<pre><code>java.net.SocketException: Unexpected end of file from server\n    at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:903)\n    at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:726)\n    at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:900)\n    at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:726)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1688)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.sendHttpRequest(RestService.java:294)\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.httpRequest(RestService.java:384)\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.registerSchema(RestService.java:561)\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.registerSchema(RestService.java:549)\n    at io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.registerAndGetId(CachedSchemaRegistryClient.java:290)\n    at io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.register(CachedSchemaRegistryClient.java:397)\n    at io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.register(CachedSchemaRegistryClient.java:370)\n</code></pre>\n<p>Anyone know experience with this?</p>\n<p>EDIT</p>\n<p>Client is 7.3.3 and the Container is confluentinc/cp-schema-registry:7.3.3.</p>\n<p>Interesting is the url. Reused the idea from KafkaContainer, but maybe I need another port?</p>\n<p>First try:</p>\n<pre><code>   public String getClientUrl() {\n      return String.format( &quot;http://%s:%s&quot;, getHost(), getMappedPort( SCHEMA_REGISTRY_PORT ) );\n   }\n</code></pre>\n<p>Error:</p>\n<pre><code>Caused by: java.net.SocketException: Unexpected end of file from server\n</code></pre>\n<p>Second try:</p>\n<pre><code>       public String getClientUrl() {\n          return String.format( &quot;http://%s:%s&quot;, getHost(), getExposedPorts().get( 0 ) );\n       }\n</code></pre>\n<p>Error:</p>\n<pre><code>Caused by: java.net.ConnectException: Connection refused\n</code></pre>\n<p>Avro Schema looks like this:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;TestDto&quot;,\n  &quot;namespace&quot;: &quot;test.model&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;id&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        {\n          &quot;type&quot;: &quot;long&quot;,\n          &quot;java-class&quot;: &quot;java.lang.Long&quot;\n        }\n      ]\n    },\n    {\n      &quot;name&quot;: &quot;labels&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        {\n          &quot;type&quot;: &quot;array&quot;,\n          &quot;items&quot;: &quot;string&quot;,\n          &quot;java-class&quot;: &quot;java.util.Set&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>I'm a little puzzled as to why all the java types are in there, but I guess that's another topic.</p>\n<p>Next try, was to take the confluent user avro example:</p>\n<pre><code>      final io.confluent.kafka.schemaregistry.avro.AvroSchema schema1 = new io.confluent.kafka.schemaregistry.avro.AvroSchema( new Schema.Parser().parse( &quot;{\\n&quot;\n            + &quot;  \\&quot;namespace\\&quot;: \\&quot;io.confluent.developer\\&quot;,\\n&quot;\n            + &quot;  \\&quot;type\\&quot;: \\&quot;record\\&quot;,\\n&quot;\n            + &quot;  \\&quot;name\\&quot;: \\&quot;User\\&quot;,\\n&quot;\n            + &quot;  \\&quot;fields\\&quot;: [\\n&quot;\n            + &quot;    {\\n&quot;\n            + &quot;      \\&quot;name\\&quot;: \\&quot;name\\&quot;,\\n&quot;\n            + &quot;      \\&quot;type\\&quot;: \\&quot;string\\&quot;,\\n&quot;\n            + &quot;      \\&quot;avro.java.string\\&quot;: \\&quot;String\\&quot;\\n&quot;\n            + &quot;    },\\n&quot;\n            + &quot;    {\\n&quot;\n            + &quot;      \\&quot;name\\&quot;: \\&quot;age\\&quot;,\\n&quot;\n            + &quot;      \\&quot;type\\&quot;: \\&quot;int\\&quot;\\n&quot;\n            + &quot;    }\\n&quot;\n            + &quot;  ]\\n&quot;\n            + &quot;}&quot;));\nschemaRegistryClient.register( subjectName, schema1, false );\n</code></pre>\n<p>Json Schema register is also not working right now. So looks for a general issue with the schema registry.</p>\n<p>Tried with:</p>\n<pre><code>spring.kafka.producer.value-serializer=io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer\n\nCaused by: java.net.SocketException: Unexpected end of file from server\n    at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:903)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","ldap","rbac"],"answers":[{"tags":[],"owner":{"account_id":7994008,"reputation":82,"user_id":6030990,"display_name":"S Mayer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682699811,"creation_date":1682699811,"answer_id":76131588,"question_id":76131098,"body_markdown":"Turns out all I needed to do was call `factory.setLdapAuthoritiesPopulator(ldapAuthoritiesPopulator(contextSource));` within `authenticationManager()`.\r\n\r\nThe POC repo has been updated with [these changes](https://github.com/samayer12/spring-ldap-poc/commit/6deea476c71afe96ca3267317542abcf046ef816), you can clone and run that to see the desired outcome.","title":"LDAP-based RBAC using newer versions of spring-security","body":"<p>Turns out all I needed to do was call <code>factory.setLdapAuthoritiesPopulator(ldapAuthoritiesPopulator(contextSource));</code> within <code>authenticationManager()</code>.</p>\n<p>The POC repo has been updated with <a href=\"https://github.com/samayer12/spring-ldap-poc/commit/6deea476c71afe96ca3267317542abcf046ef816\" rel=\"nofollow noreferrer\">these changes</a>, you can clone and run that to see the desired outcome.</p>\n"}],"owner":{"account_id":7994008,"reputation":82,"user_id":6030990,"display_name":"S Mayer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76131588,"answer_count":1,"score":0,"last_activity_date":1682699811,"creation_date":1682695795,"question_id":76131098,"body_markdown":"## Goal\r\n\r\nGiven a `/secure` endpoint that requires an LDAP user to be in the `admin` group, how do I check their granted authorities using more current versions of spring security?\r\n\r\n## Background\r\n\r\nHere&#39;s a [github repo](https://github.com/samayer12/spring-ldap-poc) with a reproducible example of LDAP authentication with an openLDAP container. At tag [pre-upgrade](https://github.com/samayer12/spring-ldap-poc/tree/pre-upgrade), you can authenticate as `unauthorized` but cannot view the `/secure` endpoint. At the current commit on [main](https://github.com/samayer12/spring-ldap-poc/tree/995f0aca09480da4dce85c8262dfb958f0ca9c96), `unauthorized` can authenticate and view `/secure`, which it not desired.\r\n\r\nIn the upgrade, changes to the `ldapAuthoritiesPopulator()` probably cause the issue. You can view the diff between `main` and `pre-upgrade` [here](https://github.com/samayer12/spring-ldap-poc/compare/7bf69c3e..main#diff-8aea6551c0dd1ff124ff9a78088484ed6feb579c988802bcb4c54ab844cc20a3), take a look at `SecurityConfig.java`.\r\n\r\nAn internal method (`getGroupMembershipRoles()`) for `ldapAuthoritiesPopulator()` did the roles check, but after upgrading it looks like that function was [removed](https://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/ldap/userdetails/LdapAuthoritiesPopulator.html). _Where should the logic for securing endpoints based upon LDAP group membership go instead?_\r\n\r\n## Related Resources\r\n\r\n* [Document how to publish an AuthenticationManager @Bean without WebSecurityConfigurerAdapter - #11926](https://github.com/spring-projects/spring-security/issues/11926)\r\n* [LDAP Authentication with Embedded server](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter#ldap-authentication)\r\n* [Spring LDAP Docs - Attribute Access with DirContextAdapter](https://docs.spring.io/spring-ldap/docs/2.3.0.BUILD-SNAPSHOT/reference/html/dirobjectfactory.html)\r\n\r\n\r\n## Authentication Log Output\r\n\r\n* Pre-Upgrade - `authorized` user logs in, followed by `unauthorized` user\r\n\r\n```\r\n10:22:07.156 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event AuthenticationSuccessEvent: authorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A978FE05724BD750548AD8148347D665]\r\n10:22:07.157 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event SessionFixationProtectionEvent: authorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A978FE05724BD750548AD8148347D665]\r\n10:22:07.157 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event InteractiveAuthenticationSuccessEvent: authorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A978FE05724BD750548AD8148347D665]\r\n10:23:43.668 [http-nio-8080-exec-8] WARN  org.example.LoggerListener - Authentication event AuthenticationFailureBadCredentialsEvent: unauthorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=65900F1284AA62D158BCA96A22D3744A]; exception: User must be a member of ROLE_ADMIN\r\n```\r\n\r\n* Post-Upgrade - `authorized` user logs in, followed by `unauthorized` user\r\n\r\n```\r\n10:15:24.101 [http-nio-8080-exec-4] WARN  org.example.LoggerListener - Authentication event SessionFixationProtectionEvent: authorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E3CDB4A1CF9B3766A5DB70F9D7C50586]\r\n10:15:24.102 [http-nio-8080-exec-4] WARN  org.example.LoggerListener - Authentication event InteractiveAuthenticationSuccessEvent: authorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E3CDB4A1CF9B3766A5DB70F9D7C50586]\r\n10:25:38.098 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event SessionFixationProtectionEvent: unauthorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=10D2AD100DDFF5CB15FDE5526BE85722]\r\n10:25:38.098 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event InteractiveAuthenticationSuccessEvent: unauthorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=10D2AD100DDFF5CB15FDE5526BE85722]","title":"LDAP-based RBAC using newer versions of spring-security","body":"<h2>Goal</h2>\n<p>Given a <code>/secure</code> endpoint that requires an LDAP user to be in the <code>admin</code> group, how do I check their granted authorities using more current versions of spring security?</p>\n<h2>Background</h2>\n<p>Here's a <a href=\"https://github.com/samayer12/spring-ldap-poc\" rel=\"nofollow noreferrer\">github repo</a> with a reproducible example of LDAP authentication with an openLDAP container. At tag <a href=\"https://github.com/samayer12/spring-ldap-poc/tree/pre-upgrade\" rel=\"nofollow noreferrer\">pre-upgrade</a>, you can authenticate as <code>unauthorized</code> but cannot view the <code>/secure</code> endpoint. At the current commit on <a href=\"https://github.com/samayer12/spring-ldap-poc/tree/995f0aca09480da4dce85c8262dfb958f0ca9c96\" rel=\"nofollow noreferrer\">main</a>, <code>unauthorized</code> can authenticate and view <code>/secure</code>, which it not desired.</p>\n<p>In the upgrade, changes to the <code>ldapAuthoritiesPopulator()</code> probably cause the issue. You can view the diff between <code>main</code> and <code>pre-upgrade</code> <a href=\"https://github.com/samayer12/spring-ldap-poc/compare/7bf69c3e..main#diff-8aea6551c0dd1ff124ff9a78088484ed6feb579c988802bcb4c54ab844cc20a3\" rel=\"nofollow noreferrer\">here</a>, take a look at <code>SecurityConfig.java</code>.</p>\n<p>An internal method (<code>getGroupMembershipRoles()</code>) for <code>ldapAuthoritiesPopulator()</code> did the roles check, but after upgrading it looks like that function was <a href=\"https://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/ldap/userdetails/LdapAuthoritiesPopulator.html\" rel=\"nofollow noreferrer\">removed</a>. <em>Where should the logic for securing endpoints based upon LDAP group membership go instead?</em></p>\n<h2>Related Resources</h2>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-security/issues/11926\" rel=\"nofollow noreferrer\">Document how to publish an AuthenticationManager @Bean without WebSecurityConfigurerAdapter - #11926</a></li>\n<li><a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter#ldap-authentication\" rel=\"nofollow noreferrer\">LDAP Authentication with Embedded server</a></li>\n<li><a href=\"https://docs.spring.io/spring-ldap/docs/2.3.0.BUILD-SNAPSHOT/reference/html/dirobjectfactory.html\" rel=\"nofollow noreferrer\">Spring LDAP Docs - Attribute Access with DirContextAdapter</a></li>\n</ul>\n<h2>Authentication Log Output</h2>\n<ul>\n<li>Pre-Upgrade - <code>authorized</code> user logs in, followed by <code>unauthorized</code> user</li>\n</ul>\n<pre><code>10:22:07.156 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event AuthenticationSuccessEvent: authorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A978FE05724BD750548AD8148347D665]\n10:22:07.157 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event SessionFixationProtectionEvent: authorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A978FE05724BD750548AD8148347D665]\n10:22:07.157 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event InteractiveAuthenticationSuccessEvent: authorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A978FE05724BD750548AD8148347D665]\n10:23:43.668 [http-nio-8080-exec-8] WARN  org.example.LoggerListener - Authentication event AuthenticationFailureBadCredentialsEvent: unauthorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=65900F1284AA62D158BCA96A22D3744A]; exception: User must be a member of ROLE_ADMIN\n</code></pre>\n<ul>\n<li>Post-Upgrade - <code>authorized</code> user logs in, followed by <code>unauthorized</code> user</li>\n</ul>\n<pre><code>10:15:24.101 [http-nio-8080-exec-4] WARN  org.example.LoggerListener - Authentication event SessionFixationProtectionEvent: authorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E3CDB4A1CF9B3766A5DB70F9D7C50586]\n10:15:24.102 [http-nio-8080-exec-4] WARN  org.example.LoggerListener - Authentication event InteractiveAuthenticationSuccessEvent: authorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E3CDB4A1CF9B3766A5DB70F9D7C50586]\n10:25:38.098 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event SessionFixationProtectionEvent: unauthorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=10D2AD100DDFF5CB15FDE5526BE85722]\n10:25:38.098 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event InteractiveAuthenticationSuccessEvent: unauthorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=10D2AD100DDFF5CB15FDE5526BE85722]\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","spring-mvc"],"owner":{"account_id":26458049,"reputation":11,"user_id":20100381,"display_name":"LoZTwilight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682699789,"creation_date":1682699789,"question_id":76131583,"body_markdown":"So i am currently doing tests for my controllers starting with the register controller. I want to mock a post that creates a user and sends back the intended response (this is not in the code yet since i hit a brick wall)\r\n\r\nWhenever i run the test it keeps saying :\r\n\r\n```Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;com.appdiabetic.application.models.Role.getRoleName()&quot; because &quot;role&quot; is null```\r\n\r\nThe code where this is happening is in the UserImpl.java:\r\n```\r\n@Service\r\n@Transactional\r\n@RequiredArgsConstructor\r\npublic class UserImpl implements UserService {\r\n\r\n    private final AuthenticationManager authenticationManager ;\r\n    private final UserRepo userRepo;\r\n    private final RoleRepo roleRepo;\r\n    private final PasswordEncoder passwordEncoder ;\r\n    private final JwtUtilities jwtUtilities ;\r\n\r\n    //some more functions\r\n\r\n    @Override\r\n    public ResponseEntity&lt;?&gt; register(RegisterDto registerDto) {\r\n        if(userRepo.existsByEmail(registerDto.getEmail()))\r\n        { return  new ResponseEntity&lt;&gt;(&quot;email is already taken !&quot;, HttpStatus.SEE_OTHER); }\r\n        else\r\n        { User user = new User();\r\n            user.setEmail(registerDto.getEmail());\r\n            user.setFirstName(registerDto.getFirstName());\r\n            user.setLastName(registerDto.getLastName());\r\n            user.setPassword(passwordEncoder.encode(registerDto.getPassword()));\r\n            //By Default , he/she is a simple user\r\n            Role role = roleRepo.findByRoleName(RoleName.USER);\r\n            user.setRoles(Collections.singletonList(role));\r\n            userRepo.save(user);\r\n            String token = jwtUtilities.generateToken(registerDto.getEmail(),Collections.singletonList(role.getRoleName())); &lt;--- this part is the error\r\n            return new ResponseEntity&lt;&gt;(new BearerToken(token , &quot;Bearer &quot;),HttpStatus.OK);\r\n\r\n        }\r\n     }\r\n```\r\nWhen i change the ```role.getRoleName()``` into ```Collections.singletonList(&quot;USER&quot;))``` It works fine and i get the expected 200 return. But that is because i am manually adding the USER to the List and dont make the request call anymore, therefor the Role role = .. Is obselete.\r\n\r\nNow my question is:  Why is it returning null. Is it because it cant get anything out of a database that it cannot connect to since i dont have a mock DB in place yet (And if so how would i go about it to implement it?)\r\n\r\nThe test is as follows:\r\n```package com.appdiabetic.application.database;\r\n\r\nimport com.appdiabetic.application.Application;\r\nimport com.appdiabetic.application.businessLogic.UserImpl;\r\nimport com.appdiabetic.application.security.JwtAuthenticationFilter;\r\nimport com.appdiabetic.application.security.JwtUtilities;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\nimport org.springframework.web.context.WebApplicationContext;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = Application.class)\r\npublic class registerUserTest{\r\n    @Autowired\r\n    private UserImpl userImpl;\r\n    @MockBean\r\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\r\n    @MockBean\r\n    private JwtUtilities jwtUtilities;\r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n    private MockMvc mockMvc;\r\n    @Before\r\n    public void setUp() {\r\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n    }\r\n    @Test\r\n    public void createEmployeeAPI() throws Exception\r\n    {\r\n        mockMvc.perform( MockMvcRequestBuilders\r\n                        .post(&quot;/api/user/register&quot;)\r\n                        .content(&quot;{\\&quot;email\\&quot;: \\&quot;mockFirstName@name.com\\&quot;,\\&quot;password\\&quot;: \\&quot;mockPassword\\&quot;}&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .accept(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().isOk());\r\n    }\r\n\r\n}\r\n```","title":"Issue with testing SpringBoot mockMvc for user authentication, the &quot;role&quot; keeps returning null","body":"<p>So i am currently doing tests for my controllers starting with the register controller. I want to mock a post that creates a user and sends back the intended response (this is not in the code yet since i hit a brick wall)</p>\n<p>Whenever i run the test it keeps saying :</p>\n<p><code>Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;com.appdiabetic.application.models.Role.getRoleName()&quot; because &quot;role&quot; is null</code></p>\n<p>The code where this is happening is in the UserImpl.java:</p>\n<pre><code>@Service\n@Transactional\n@RequiredArgsConstructor\npublic class UserImpl implements UserService {\n\n    private final AuthenticationManager authenticationManager ;\n    private final UserRepo userRepo;\n    private final RoleRepo roleRepo;\n    private final PasswordEncoder passwordEncoder ;\n    private final JwtUtilities jwtUtilities ;\n\n    //some more functions\n\n    @Override\n    public ResponseEntity&lt;?&gt; register(RegisterDto registerDto) {\n        if(userRepo.existsByEmail(registerDto.getEmail()))\n        { return  new ResponseEntity&lt;&gt;(&quot;email is already taken !&quot;, HttpStatus.SEE_OTHER); }\n        else\n        { User user = new User();\n            user.setEmail(registerDto.getEmail());\n            user.setFirstName(registerDto.getFirstName());\n            user.setLastName(registerDto.getLastName());\n            user.setPassword(passwordEncoder.encode(registerDto.getPassword()));\n            //By Default , he/she is a simple user\n            Role role = roleRepo.findByRoleName(RoleName.USER);\n            user.setRoles(Collections.singletonList(role));\n            userRepo.save(user);\n            String token = jwtUtilities.generateToken(registerDto.getEmail(),Collections.singletonList(role.getRoleName())); &lt;--- this part is the error\n            return new ResponseEntity&lt;&gt;(new BearerToken(token , &quot;Bearer &quot;),HttpStatus.OK);\n\n        }\n     }\n</code></pre>\n<p>When i change the <code>role.getRoleName()</code> into <code>Collections.singletonList(&quot;USER&quot;))</code> It works fine and i get the expected 200 return. But that is because i am manually adding the USER to the List and dont make the request call anymore, therefor the Role role = .. Is obselete.</p>\n<p>Now my question is:  Why is it returning null. Is it because it cant get anything out of a database that it cannot connect to since i dont have a mock DB in place yet (And if so how would i go about it to implement it?)</p>\n<p>The test is as follows:</p>\n<pre><code>\nimport com.appdiabetic.application.Application;\nimport com.appdiabetic.application.businessLogic.UserImpl;\nimport com.appdiabetic.application.security.JwtAuthenticationFilter;\nimport com.appdiabetic.application.security.JwtUtilities;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport org.springframework.web.context.WebApplicationContext;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = Application.class)\npublic class registerUserTest{\n    @Autowired\n    private UserImpl userImpl;\n    @MockBean\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\n    @MockBean\n    private JwtUtilities jwtUtilities;\n    @Autowired\n    private WebApplicationContext webApplicationContext;\n    private MockMvc mockMvc;\n    @Before\n    public void setUp() {\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n    }\n    @Test\n    public void createEmployeeAPI() throws Exception\n    {\n        mockMvc.perform( MockMvcRequestBuilders\n                        .post(&quot;/api/user/register&quot;)\n                        .content(&quot;{\\&quot;email\\&quot;: \\&quot;mockFirstName@name.com\\&quot;,\\&quot;password\\&quot;: \\&quot;mockPassword\\&quot;}&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .accept(MediaType.APPLICATION_JSON))\n                .andExpect(status().isOk());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","arrays","json","list"],"answers":[{"tags":[],"owner":{"account_id":12292022,"reputation":849,"user_id":8968956,"display_name":"trinadh thatakula"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1570169186,"creation_date":1570169186,"answer_id":58230772,"question_id":58229124,"body_markdown":"I have taken your source json and tried to convert it as per your specification and this is the solution which is working, pass your source JSON as string and you will get the desired output\r\n\r\n    private String parseJson(String source) {\r\n        JSONArray result = new JSONArray();\r\n        List&lt;Integer&gt; ids = new ArrayList&lt;&gt;();\r\n        HashMap&lt;Integer,JSONObject&gt; programs = new HashMap&lt;&gt;();\r\n        try {\r\n            JSONObject jSource = new JSONObject(source);\r\n            JSONArray orderDetails = jSource.getJSONArray(&quot;order_details&quot;);\r\n            if (orderDetails.length() &gt; 0) {\r\n                for (int i = 0; i &lt; orderDetails.length(); i++) {\r\n                    JSONObject jsonObject = orderDetails.getJSONObject(i);\r\n                    JSONObject item = jsonObject.getJSONObject(&quot;item&quot;);\r\n                    JSONObject program = jsonObject.getJSONObject(&quot;program&quot;);\r\n                    int programId = jsonObject.getJSONObject(&quot;program&quot;).getInt(&quot;id&quot;);\r\n                    if (!ids.contains(programId)) {\r\n                        ids.add(programId);\r\n                        program.put(&quot;item&quot;,new JSONArray().put(item));\r\n                        programs.put(programId,program);\r\n                    }else{\r\n                        program.put(&quot;item&quot;,programs.get(programId).getJSONArray(&quot;item&quot;).put(item));\r\n                    }\r\n                }\r\n\r\n                for(int k :programs.keySet()){\r\n                    result.put(programs.get(k));\r\n                }\r\n\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return result.toString();\r\n    }","title":"Group a list of json object by property inside the common Array in Java","body":"<p>I have taken your source json and tried to convert it as per your specification and this is the solution which is working, pass your source JSON as string and you will get the desired output</p>\n\n<pre><code>private String parseJson(String source) {\n    JSONArray result = new JSONArray();\n    List&lt;Integer&gt; ids = new ArrayList&lt;&gt;();\n    HashMap&lt;Integer,JSONObject&gt; programs = new HashMap&lt;&gt;();\n    try {\n        JSONObject jSource = new JSONObject(source);\n        JSONArray orderDetails = jSource.getJSONArray(\"order_details\");\n        if (orderDetails.length() &gt; 0) {\n            for (int i = 0; i &lt; orderDetails.length(); i++) {\n                JSONObject jsonObject = orderDetails.getJSONObject(i);\n                JSONObject item = jsonObject.getJSONObject(\"item\");\n                JSONObject program = jsonObject.getJSONObject(\"program\");\n                int programId = jsonObject.getJSONObject(\"program\").getInt(\"id\");\n                if (!ids.contains(programId)) {\n                    ids.add(programId);\n                    program.put(\"item\",new JSONArray().put(item));\n                    programs.put(programId,program);\n                }else{\n                    program.put(\"item\",programs.get(programId).getJSONArray(\"item\").put(item));\n                }\n            }\n\n            for(int k :programs.keySet()){\n                result.put(programs.get(k));\n            }\n\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return result.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682699612,"creation_date":1682699612,"answer_id":76131560,"question_id":58229124,"body_markdown":"JSON library _Josson_ can transform the JSON by a simple expression.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;\\&quot;id\\&quot;: \\&quot;\\&quot;,&quot; +\r\n        &quot;\\&quot;ordered_by\\&quot;: 64,&quot; +\r\n        &quot;\\&quot;order_details\\&quot;: [&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;resource\\&quot;: \\&quot;Product\\&quot;,&quot; +\r\n        &quot;        \\&quot;required_prescription\\&quot;: false,&quot; +\r\n        &quot;        \\&quot;item\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 6,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Synergistic Copper Gloves\\&quot;,&quot; +\r\n        &quot;            \\&quot;code\\&quot;: \\&quot;51537661-C\\&quot;,&quot; +\r\n        &quot;            \\&quot;enabled\\&quot;: true,&quot; +\r\n        &quot;            \\&quot;generic_name\\&quot;: \\&quot;Mediocre Steel Wallet\\&quot;,&quot; +\r\n        &quot;            \\&quot;price_cents\\&quot;: 200000&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        \\&quot;program\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 12,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Synergistic Wooden Shoes\\&quot;,&quot; +\r\n        &quot;            \\&quot;provider\\&quot;: \\&quot;Synergistic Rubber Coat\\&quot;,&quot; +\r\n        &quot;            \\&quot;discount_type\\&quot;: \\&quot;fixed\\&quot;&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;resource\\&quot;: \\&quot;Product\\&quot;,&quot; +\r\n        &quot;        \\&quot;required_prescription\\&quot;: true,&quot; +\r\n        &quot;        \\&quot;item\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 7,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Rustic Leather Table\\&quot;,&quot; +\r\n        &quot;            \\&quot;code\\&quot;: \\&quot;74283131-P\\&quot;,&quot; +\r\n        &quot;            \\&quot;enabled\\&quot;: true,&quot; +\r\n        &quot;            \\&quot;generic_name\\&quot;: \\&quot;Incredible Bronze Clock\\&quot;,&quot; +\r\n        &quot;            \\&quot;price_cents\\&quot;: 8994&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        \\&quot;program\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 12,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Synergistic Wooden Shoes\\&quot;,&quot; +\r\n        &quot;            \\&quot;provider\\&quot;: \\&quot;Synergistic Rubber Coat\\&quot;,&quot; +\r\n        &quot;            \\&quot;discount_type\\&quot;: \\&quot;fixed\\&quot;&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;resource\\&quot;: \\&quot;Product\\&quot;,&quot; +\r\n        &quot;        \\&quot;required_prescription\\&quot;: false,&quot; +\r\n        &quot;        \\&quot;item\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 116,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Ergonomic Marble Hat\\&quot;,&quot; +\r\n        &quot;            \\&quot;code\\&quot;: \\&quot;98845056-A\\&quot;,&quot; +\r\n        &quot;            \\&quot;enabled\\&quot;: true,&quot; +\r\n        &quot;            \\&quot;generic_name\\&quot;: \\&quot;Incredible Granite Lamp\\&quot;,&quot; +\r\n        &quot;            \\&quot;price_cents\\&quot;: 8267&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        \\&quot;program\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 10,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Durable Rubber Bag\\&quot;,&quot; +\r\n        &quot;            \\&quot;provider\\&quot;: \\&quot;Aerodynamic Steel Chair\\&quot;,&quot; +\r\n        &quot;            \\&quot;discount_type\\&quot;: \\&quot;fixed\\&quot;&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;]}&quot;);\r\n\r\n__Transformation__\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;order_details.group(program, item).field(program:, **:program)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    [ {\r\n      &quot;item&quot; : [ {\r\n        &quot;id&quot; : 6,\r\n        &quot;name&quot; : &quot;Synergistic Copper Gloves&quot;,\r\n        &quot;code&quot; : &quot;51537661-C&quot;,\r\n        &quot;enabled&quot; : true,\r\n        &quot;generic_name&quot; : &quot;Mediocre Steel Wallet&quot;,\r\n        &quot;price_cents&quot; : 200000\r\n      }, {\r\n        &quot;id&quot; : 7,\r\n        &quot;name&quot; : &quot;Rustic Leather Table&quot;,\r\n        &quot;code&quot; : &quot;74283131-P&quot;,\r\n        &quot;enabled&quot; : true,\r\n        &quot;generic_name&quot; : &quot;Incredible Bronze Clock&quot;,\r\n        &quot;price_cents&quot; : 8994\r\n      } ],\r\n      &quot;id&quot; : 12,\r\n      &quot;name&quot; : &quot;Synergistic Wooden Shoes&quot;,\r\n      &quot;provider&quot; : &quot;Synergistic Rubber Coat&quot;,\r\n      &quot;discount_type&quot; : &quot;fixed&quot;\r\n    }, {\r\n      &quot;item&quot; : [ {\r\n        &quot;id&quot; : 116,\r\n        &quot;name&quot; : &quot;Ergonomic Marble Hat&quot;,\r\n        &quot;code&quot; : &quot;98845056-A&quot;,\r\n        &quot;enabled&quot; : true,\r\n        &quot;generic_name&quot; : &quot;Incredible Granite Lamp&quot;,\r\n        &quot;price_cents&quot; : 8267\r\n      } ],\r\n      &quot;id&quot; : 10,\r\n      &quot;name&quot; : &quot;Durable Rubber Bag&quot;,\r\n      &quot;provider&quot; : &quot;Aerodynamic Steel Chair&quot;,\r\n      &quot;discount_type&quot; : &quot;fixed&quot;\r\n    } ]","title":"Group a list of json object by property inside the common Array in Java","body":"<p>JSON library <em>Josson</em> can transform the JSON by a simple expression.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;\\&quot;id\\&quot;: \\&quot;\\&quot;,&quot; +\n    &quot;\\&quot;ordered_by\\&quot;: 64,&quot; +\n    &quot;\\&quot;order_details\\&quot;: [&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;resource\\&quot;: \\&quot;Product\\&quot;,&quot; +\n    &quot;        \\&quot;required_prescription\\&quot;: false,&quot; +\n    &quot;        \\&quot;item\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: 6,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Synergistic Copper Gloves\\&quot;,&quot; +\n    &quot;            \\&quot;code\\&quot;: \\&quot;51537661-C\\&quot;,&quot; +\n    &quot;            \\&quot;enabled\\&quot;: true,&quot; +\n    &quot;            \\&quot;generic_name\\&quot;: \\&quot;Mediocre Steel Wallet\\&quot;,&quot; +\n    &quot;            \\&quot;price_cents\\&quot;: 200000&quot; +\n    &quot;        },&quot; +\n    &quot;        \\&quot;program\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: 12,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Synergistic Wooden Shoes\\&quot;,&quot; +\n    &quot;            \\&quot;provider\\&quot;: \\&quot;Synergistic Rubber Coat\\&quot;,&quot; +\n    &quot;            \\&quot;discount_type\\&quot;: \\&quot;fixed\\&quot;&quot; +\n    &quot;        }&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;resource\\&quot;: \\&quot;Product\\&quot;,&quot; +\n    &quot;        \\&quot;required_prescription\\&quot;: true,&quot; +\n    &quot;        \\&quot;item\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: 7,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Rustic Leather Table\\&quot;,&quot; +\n    &quot;            \\&quot;code\\&quot;: \\&quot;74283131-P\\&quot;,&quot; +\n    &quot;            \\&quot;enabled\\&quot;: true,&quot; +\n    &quot;            \\&quot;generic_name\\&quot;: \\&quot;Incredible Bronze Clock\\&quot;,&quot; +\n    &quot;            \\&quot;price_cents\\&quot;: 8994&quot; +\n    &quot;        },&quot; +\n    &quot;        \\&quot;program\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: 12,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Synergistic Wooden Shoes\\&quot;,&quot; +\n    &quot;            \\&quot;provider\\&quot;: \\&quot;Synergistic Rubber Coat\\&quot;,&quot; +\n    &quot;            \\&quot;discount_type\\&quot;: \\&quot;fixed\\&quot;&quot; +\n    &quot;        }&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;resource\\&quot;: \\&quot;Product\\&quot;,&quot; +\n    &quot;        \\&quot;required_prescription\\&quot;: false,&quot; +\n    &quot;        \\&quot;item\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: 116,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Ergonomic Marble Hat\\&quot;,&quot; +\n    &quot;            \\&quot;code\\&quot;: \\&quot;98845056-A\\&quot;,&quot; +\n    &quot;            \\&quot;enabled\\&quot;: true,&quot; +\n    &quot;            \\&quot;generic_name\\&quot;: \\&quot;Incredible Granite Lamp\\&quot;,&quot; +\n    &quot;            \\&quot;price_cents\\&quot;: 8267&quot; +\n    &quot;        },&quot; +\n    &quot;        \\&quot;program\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: 10,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Durable Rubber Bag\\&quot;,&quot; +\n    &quot;            \\&quot;provider\\&quot;: \\&quot;Aerodynamic Steel Chair\\&quot;,&quot; +\n    &quot;            \\&quot;discount_type\\&quot;: \\&quot;fixed\\&quot;&quot; +\n    &quot;        }&quot; +\n    &quot;    }&quot; +\n    &quot;]}&quot;);\n</code></pre>\n<p><strong>Transformation</strong></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;order_details.group(program, item).field(program:, **:program)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[ {\n  &quot;item&quot; : [ {\n    &quot;id&quot; : 6,\n    &quot;name&quot; : &quot;Synergistic Copper Gloves&quot;,\n    &quot;code&quot; : &quot;51537661-C&quot;,\n    &quot;enabled&quot; : true,\n    &quot;generic_name&quot; : &quot;Mediocre Steel Wallet&quot;,\n    &quot;price_cents&quot; : 200000\n  }, {\n    &quot;id&quot; : 7,\n    &quot;name&quot; : &quot;Rustic Leather Table&quot;,\n    &quot;code&quot; : &quot;74283131-P&quot;,\n    &quot;enabled&quot; : true,\n    &quot;generic_name&quot; : &quot;Incredible Bronze Clock&quot;,\n    &quot;price_cents&quot; : 8994\n  } ],\n  &quot;id&quot; : 12,\n  &quot;name&quot; : &quot;Synergistic Wooden Shoes&quot;,\n  &quot;provider&quot; : &quot;Synergistic Rubber Coat&quot;,\n  &quot;discount_type&quot; : &quot;fixed&quot;\n}, {\n  &quot;item&quot; : [ {\n    &quot;id&quot; : 116,\n    &quot;name&quot; : &quot;Ergonomic Marble Hat&quot;,\n    &quot;code&quot; : &quot;98845056-A&quot;,\n    &quot;enabled&quot; : true,\n    &quot;generic_name&quot; : &quot;Incredible Granite Lamp&quot;,\n    &quot;price_cents&quot; : 8267\n  } ],\n  &quot;id&quot; : 10,\n  &quot;name&quot; : &quot;Durable Rubber Bag&quot;,\n  &quot;provider&quot; : &quot;Aerodynamic Steel Chair&quot;,\n  &quot;discount_type&quot; : &quot;fixed&quot;\n} ]\n</code></pre>\n"}],"owner":{"account_id":4466071,"reputation":949,"user_id":3633680,"accept_rate":6,"display_name":"vidalbenjoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1998,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58230772,"answer_count":2,"score":0,"last_activity_date":1682699612,"creation_date":1570155942,"question_id":58229124,"body_markdown":"I would like to ask if it is possible to group the object by another object inside its common array.\r\n\r\nHere&#39;s the JSON response, I need to group the list of **item** by **program id**.\r\nI&#39;m trying to put it on the HashMap but it didn&#39;t work well. \r\n\r\n\r\n    {\r\n    &quot;id&quot;: &quot;&quot;,\r\n    &quot;ordered_by&quot;: 64,\r\n    &quot;order_details&quot;: [\r\n        {\r\n            &quot;resource&quot;: &quot;Product&quot;,\r\n            &quot;required_prescription&quot;: false,\r\n            &quot;item&quot;: {\r\n                &quot;id&quot;: 6,\r\n                &quot;name&quot;: &quot;Synergistic Copper Gloves&quot;,\r\n                &quot;code&quot;: &quot;51537661-C&quot;,\r\n                &quot;enabled&quot;: true,\r\n                &quot;generic_name&quot;: &quot;Mediocre Steel Wallet&quot;,\r\n                &quot;price_cents&quot;: 200000\r\n            },\r\n            &quot;program&quot;: {\r\n                &quot;id&quot;: 12,\r\n                &quot;name&quot;: &quot;Synergistic Wooden Shoes&quot;,\r\n                &quot;provider&quot;: &quot;Synergistic Rubber Coat&quot;,\r\n                &quot;discount_type&quot;: &quot;fixed&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;resource&quot;: &quot;Product&quot;,\r\n            &quot;required_prescription&quot;: true,\r\n            &quot;item&quot;: {\r\n                &quot;id&quot;: 7,\r\n                &quot;name&quot;: &quot;Rustic Leather Table&quot;,\r\n                &quot;code&quot;: &quot;74283131-P&quot;,\r\n                &quot;enabled&quot;: true,\r\n                &quot;generic_name&quot;: &quot;Incredible Bronze Clock&quot;,\r\n                &quot;price_cents&quot;: 8994\r\n            },\r\n            &quot;program&quot;: {\r\n                &quot;id&quot;: 12,\r\n                &quot;name&quot;: &quot;Synergistic Wooden Shoes&quot;,\r\n                &quot;provider&quot;: &quot;Synergistic Rubber Coat&quot;,\r\n                &quot;discount_type&quot;: &quot;fixed&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;resource&quot;: &quot;Product&quot;,\r\n            &quot;required_prescription&quot;: false,\r\n            &quot;item&quot;: {\r\n                &quot;id&quot;: 116,\r\n                &quot;name&quot;: &quot;Ergonomic Marble Hat&quot;,\r\n                &quot;code&quot;: &quot;98845056-A&quot;,\r\n                &quot;enabled&quot;: true,\r\n                &quot;generic_name&quot;: &quot;Incredible Granite Lamp&quot;,\r\n                &quot;price_cents&quot;: 8267\r\n            },\r\n            &quot;program&quot;: {\r\n                &quot;id&quot;: 10,\r\n                &quot;name&quot;: &quot;Durable Rubber Bag&quot;,\r\n                &quot;provider&quot;: &quot;Aerodynamic Steel Chair&quot;,\r\n                &quot;discount_type&quot;: &quot;fixed&quot;\r\n            }\r\n        }\r\n    ]}\r\n\r\nThis should be the expected object after grouping. The item was grouped by program id 12 &amp; 10.\r\n\r\n    [\r\n      {\r\n        &quot;id&quot;: 12,\r\n        &quot;name&quot;: &quot;Synergistic Wooden Shoes&quot;,\r\n        &quot;provider&quot;: &quot;Synergistic Rubber Coat&quot;,\r\n        &quot;discount_type&quot;: &quot;fixed&quot;,\r\n        &quot;item&quot;: [\r\n          {\r\n            &quot;id&quot;: 6,\r\n            &quot;name&quot;: &quot;Synergistic Copper Gloves&quot;,\r\n            &quot;code&quot;: &quot;51537661-C&quot;,\r\n            &quot;enabled&quot;: true,\r\n            &quot;generic_name&quot;: &quot;Mediocre Steel Wallet&quot;,\r\n            &quot;price_cents&quot;: 200000\r\n          },\r\n          {\r\n            &quot;id&quot;: 7,\r\n            &quot;name&quot;: &quot;Rustic Leather Table&quot;,\r\n            &quot;code&quot;: &quot;74283131-P&quot;,\r\n            &quot;enabled&quot;: true,\r\n            &quot;generic_name&quot;: &quot;Incredible Bronze Clock&quot;,\r\n            &quot;price_cents&quot;: 8994\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        &quot;id&quot;: 10,\r\n        &quot;name&quot;: &quot;Durable Rubber Bag&quot;,\r\n        &quot;provider&quot;: &quot;Aerodynamic Steel Chair&quot;,\r\n        &quot;discount_type&quot;: &quot;fixed&quot;,\r\n        &quot;item&quot;: [\r\n          {\r\n            &quot;id&quot;: 116,\r\n            &quot;name&quot;: &quot;Ergonomic Marble Hat&quot;,\r\n            &quot;code&quot;: &quot;98845056-A&quot;,\r\n            &quot;enabled&quot;: true,\r\n            &quot;generic_name&quot;: &quot;Incredible Granite Lamp&quot;,\r\n            &quot;price_cents&quot;: 8267\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n\r\n\r\nAll comments would be highly appreciated. Thanks in advance!\r\n","title":"Group a list of json object by property inside the common Array in Java","body":"<p>I would like to ask if it is possible to group the object by another object inside its common array.</p>\n\n<p>Here's the JSON response, I need to group the list of <strong>item</strong> by <strong>program id</strong>.\nI'm trying to put it on the HashMap but it didn't work well. </p>\n\n<pre><code>{\n\"id\": \"\",\n\"ordered_by\": 64,\n\"order_details\": [\n    {\n        \"resource\": \"Product\",\n        \"required_prescription\": false,\n        \"item\": {\n            \"id\": 6,\n            \"name\": \"Synergistic Copper Gloves\",\n            \"code\": \"51537661-C\",\n            \"enabled\": true,\n            \"generic_name\": \"Mediocre Steel Wallet\",\n            \"price_cents\": 200000\n        },\n        \"program\": {\n            \"id\": 12,\n            \"name\": \"Synergistic Wooden Shoes\",\n            \"provider\": \"Synergistic Rubber Coat\",\n            \"discount_type\": \"fixed\"\n        }\n    },\n    {\n        \"resource\": \"Product\",\n        \"required_prescription\": true,\n        \"item\": {\n            \"id\": 7,\n            \"name\": \"Rustic Leather Table\",\n            \"code\": \"74283131-P\",\n            \"enabled\": true,\n            \"generic_name\": \"Incredible Bronze Clock\",\n            \"price_cents\": 8994\n        },\n        \"program\": {\n            \"id\": 12,\n            \"name\": \"Synergistic Wooden Shoes\",\n            \"provider\": \"Synergistic Rubber Coat\",\n            \"discount_type\": \"fixed\"\n        }\n    },\n    {\n        \"resource\": \"Product\",\n        \"required_prescription\": false,\n        \"item\": {\n            \"id\": 116,\n            \"name\": \"Ergonomic Marble Hat\",\n            \"code\": \"98845056-A\",\n            \"enabled\": true,\n            \"generic_name\": \"Incredible Granite Lamp\",\n            \"price_cents\": 8267\n        },\n        \"program\": {\n            \"id\": 10,\n            \"name\": \"Durable Rubber Bag\",\n            \"provider\": \"Aerodynamic Steel Chair\",\n            \"discount_type\": \"fixed\"\n        }\n    }\n]}\n</code></pre>\n\n<p>This should be the expected object after grouping. The item was grouped by program id 12 &amp; 10.</p>\n\n<pre><code>[\n  {\n    \"id\": 12,\n    \"name\": \"Synergistic Wooden Shoes\",\n    \"provider\": \"Synergistic Rubber Coat\",\n    \"discount_type\": \"fixed\",\n    \"item\": [\n      {\n        \"id\": 6,\n        \"name\": \"Synergistic Copper Gloves\",\n        \"code\": \"51537661-C\",\n        \"enabled\": true,\n        \"generic_name\": \"Mediocre Steel Wallet\",\n        \"price_cents\": 200000\n      },\n      {\n        \"id\": 7,\n        \"name\": \"Rustic Leather Table\",\n        \"code\": \"74283131-P\",\n        \"enabled\": true,\n        \"generic_name\": \"Incredible Bronze Clock\",\n        \"price_cents\": 8994\n      }\n    ]\n  },\n  {\n    \"id\": 10,\n    \"name\": \"Durable Rubber Bag\",\n    \"provider\": \"Aerodynamic Steel Chair\",\n    \"discount_type\": \"fixed\",\n    \"item\": [\n      {\n        \"id\": 116,\n        \"name\": \"Ergonomic Marble Hat\",\n        \"code\": \"98845056-A\",\n        \"enabled\": true,\n        \"generic_name\": \"Incredible Granite Lamp\",\n        \"price_cents\": 8267\n      }\n    ]\n  }\n]\n</code></pre>\n\n<p>All comments would be highly appreciated. Thanks in advance!</p>\n"},{"tags":["java","generics","java-17"],"comments":[{"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1682736968,"post_id":76131324,"comment_id":134266894,"body_markdown":"It seems from your question that you don&#39;t really understand what this code is for. This code can only obtain information that is hard-coded at compile-time (e.g. the hard-coded generic superclass of an anonymous class). This code can never get generic arguments for an instance, because such information does not exist.","body":"It seems from your question that you don&#39;t really understand what this code is for. This code can only obtain information that is hard-coded at compile-time (e.g. the hard-coded generic superclass of an anonymous class). This code can never get generic arguments for an instance, because such information does not exist."},{"owner":{"account_id":8736919,"reputation":129,"user_id":6535239,"display_name":"Elegant.Obj"},"score":1,"creation_date":1682768178,"post_id":76131324,"comment_id":134269352,"body_markdown":"Yep, It was. Thank you guys I have a little more understanding of this now. So the only one way to achieve my intention is to pass the class as a constructor argument","body":"Yep, It was. Thank you guys I have a little more understanding of this now. So the only one way to achieve my intention is to pass the class as a constructor argument"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682699143,"creation_date":1682699143,"answer_id":76131510,"question_id":76131324,"body_markdown":"The superclass of `Generic&lt;T&gt;` is `Object`, which isn&#39;t generic.\r\n\r\nYou need to subclass `Generic` for this to work:\r\n\r\n```\r\nGeneric&lt;String&gt; g = new Generic&lt;&gt;() {};\r\n```\r\n\r\nConsider making `Generic` `abstract` in order to force it to be subclassed in order to instantiate it.","title":"Can&#39;t cast to ParameterizedType","body":"<p>The superclass of <code>Generic&lt;T&gt;</code> is <code>Object</code>, which isn't generic.</p>\n<p>You need to subclass <code>Generic</code> for this to work:</p>\n<pre><code>Generic&lt;String&gt; g = new Generic&lt;&gt;() {};\n</code></pre>\n<p>Consider making <code>Generic</code> <code>abstract</code> in order to force it to be subclassed in order to instantiate it.</p>\n"}],"owner":{"account_id":8736919,"reputation":129,"user_id":6535239,"display_name":"Elegant.Obj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76131510,"answer_count":1,"score":0,"last_activity_date":1682699143,"creation_date":1682697571,"question_id":76131324,"body_markdown":"I am trying to get a Class&lt;?&gt; instance for the generic type. There is a lot of answers how to do that, but I am getting the error:\r\n```\r\njava.lang.ClassCastException: class java.lang.Class cannot be cast to class java.lang.reflect.ParameterizedType (java.lang.Class and java.lang.reflect.ParameterizedType are in module java.base of loader &#39;bootstrap&#39;)\r\n```\r\n\r\nI use Java 17. The code to reproduce the error:\r\n```java\r\nclass GenericTypeTest {\r\n    @Test\r\n    void showsTheError() {\r\n        Generic&lt;String&gt; g = new Generic&lt;&gt;();\r\n        assertEquals(String.class, g.getType());\r\n    }\r\n\r\n    static class Generic&lt;T&gt; {\r\n        Class&lt;?&gt; getType() {\r\n            Type type = getClass().getGenericSuperclass();\r\n            ParameterizedType paramType = (ParameterizedType) type;\r\n            return (Class&lt;?&gt;) paramType.getActualTypeArguments()[0];\r\n        }\r\n    }\r\n}\r\n```","title":"Can&#39;t cast to ParameterizedType","body":"<p>I am trying to get a Class&lt;?&gt; instance for the generic type. There is a lot of answers how to do that, but I am getting the error:</p>\n<pre><code>java.lang.ClassCastException: class java.lang.Class cannot be cast to class java.lang.reflect.ParameterizedType (java.lang.Class and java.lang.reflect.ParameterizedType are in module java.base of loader 'bootstrap')\n</code></pre>\n<p>I use Java 17. The code to reproduce the error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class GenericTypeTest {\n    @Test\n    void showsTheError() {\n        Generic&lt;String&gt; g = new Generic&lt;&gt;();\n        assertEquals(String.class, g.getType());\n    }\n\n    static class Generic&lt;T&gt; {\n        Class&lt;?&gt; getType() {\n            Type type = getClass().getGenericSuperclass();\n            ParameterizedType paramType = (ParameterizedType) type;\n            return (Class&lt;?&gt;) paramType.getActualTypeArguments()[0];\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","hook","picocontainer"],"owner":{"account_id":17447487,"reputation":29,"user_id":12648202,"display_name":"Poo M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682699136,"creation_date":1682699136,"question_id":76131509,"body_markdown":"I want to use single instance of WebDriver across multiple classes.\r\n\r\nI have `pageObject.java` class that contains web elements and actions ex: click links, send value, etc.\r\n\r\n```\r\npublic class pageObject {\r\n\r\n\tprivate WebDriver driver;\r\n\r\n\tprivate BaseTest baseTest;\r\n\r\npublic pageObject(BaseTest baseTest) {\r\n\t\tthis.driver = baseTest.driver;\r\n\t}\r\n```\r\n\r\nI have another class `stepDefinitionTest.java` that contains BDD glue code.\r\n\r\n```\r\npublic class stepDefinitionTest {\r\n\r\n\tpageObject homepage;\r\n\r\n\tprivate BaseTest baseTest;\r\n\tprivate WebDriver driver;\r\n\r\n\tpublic stepDefinitionTest(BaseTest baseTest) {\r\n\t\tthis.baseTest = baseTest;\r\n\t\tdriver = baseTest.driver;\r\n\t}\r\n\r\n```\r\nI have third class `BaseStep.java` that contain @Before and @After method for setup and close browser.\r\n\r\n```\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\n\r\npublic class BaseTest {\r\n\r\n    public WebDriver driver;\r\n@Before\r\n    public void before(){\r\ncode\r\n}\r\n@After\r\n    public void after(){\r\ncode\r\n}\r\n```\r\n\r\nThis isn&#39;t working and I&#39;m failing to understand the root cause.\r\n\r\nerror message\r\n\r\n```\r\nStep failed\r\norg.picocontainer.injectors.AbstractInjector$UnsatisfiableDependenciesException: StepDefinitions.stepDefinition has unsatisfied dependency &#39;interface org.openqa.selenium.WebDriver&#39; for constructor &#39;public StepDefinitions.stepDefinition(org.openqa.selenium.WebDriver)&#39; from org.picocontainer.DefaultPicoContainer@2fb0623e:2&lt;|\r\n```\r\n\r\n\r\n ","title":"How to use single instance of Selenium WebDriver in multiple java classes including hooks?","body":"<p>I want to use single instance of WebDriver across multiple classes.</p>\n<p>I have <code>pageObject.java</code> class that contains web elements and actions ex: click links, send value, etc.</p>\n<pre><code>public class pageObject {\n\n    private WebDriver driver;\n\n    private BaseTest baseTest;\n\npublic pageObject(BaseTest baseTest) {\n        this.driver = baseTest.driver;\n    }\n</code></pre>\n<p>I have another class <code>stepDefinitionTest.java</code> that contains BDD glue code.</p>\n<pre><code>public class stepDefinitionTest {\n\n    pageObject homepage;\n\n    private BaseTest baseTest;\n    private WebDriver driver;\n\n    public stepDefinitionTest(BaseTest baseTest) {\n        this.baseTest = baseTest;\n        driver = baseTest.driver;\n    }\n\n</code></pre>\n<p>I have third class <code>BaseStep.java</code> that contain @Before and @After method for setup and close browser.</p>\n<pre><code>import org.junit.After;\nimport org.junit.Before;\n\npublic class BaseTest {\n\n    public WebDriver driver;\n@Before\n    public void before(){\ncode\n}\n@After\n    public void after(){\ncode\n}\n</code></pre>\n<p>This isn't working and I'm failing to understand the root cause.</p>\n<p>error message</p>\n<pre><code>Step failed\norg.picocontainer.injectors.AbstractInjector$UnsatisfiableDependenciesException: StepDefinitions.stepDefinition has unsatisfied dependency 'interface org.openqa.selenium.WebDriver' for constructor 'public StepDefinitions.stepDefinition(org.openqa.selenium.WebDriver)' from org.picocontainer.DefaultPicoContainer@2fb0623e:2&lt;|\n</code></pre>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":13807809,"reputation":420,"user_id":9966240,"display_name":"KSs"},"score":0,"creation_date":1682712840,"post_id":76131486,"comment_id":134264457,"body_markdown":"Probably something is missing in your jpa configuration. Try to add @EnableJpaRepositories annotation in your configuration class","body":"Probably something is missing in your jpa configuration. Try to add @EnableJpaRepositories annotation in your configuration class"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1682714454,"post_id":76131486,"comment_id":134264731,"body_markdown":"is the package of the repository also scanned by Spring DI?","body":"is the package of the repository also scanned by Spring DI?"}],"owner":{"account_id":28447433,"reputation":1,"user_id":21765970,"display_name":"Rares Burghelea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682698915,"creation_date":1682698915,"question_id":76131486,"body_markdown":"I have this starter application with spring and javaFX, and I can&#39;t seem to get past this issue where I&#39;m trying to get information from my JPA repository. I get the following error: \r\n`Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;server.repository.UserRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}`\r\n\r\nHere is what I tried to do: \r\n```java\r\npackage server.controller;\r\n//...imports\r\n@Controller\r\n@RequestMapping(&quot;/api/users&quot;)\r\npublic class UserController {\r\n\r\n    private final UserService userService;\r\n\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(&quot;/{userId}&quot;)\r\n    public ResponseEntity&lt;User&gt; getById(@PathVariable(&quot;userId&quot;) Long userId) {\r\n        return ResponseEntity.ok(userService.getUserById(userId));\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is the repository\r\n```java\r\npackage server.repository;\r\n//...imports\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    User findUserById(long userId);\r\n}\r\n```\r\nAnd here is the User Service that is supposed to handle my requests\r\n```java\r\npackage server.service;\r\n//...imports\r\n@Service\r\npublic class UserService {\r\n    private final UserRepository users;\r\n\r\n    public UserService(UserRepository users) {\r\n        this.users = users;\r\n    }\r\n\r\n    public User getUserById(long id) {\r\n        if(id &lt; 0 || !users.existsById(id)) {\r\n            return null;\r\n        }\r\n        return users.findUserById(id);\r\n    }\r\n}\r\n```","title":"No qualifying bean of type... Error ( Spring + JavaFX )","body":"<p>I have this starter application with spring and javaFX, and I can't seem to get past this issue where I'm trying to get information from my JPA repository. I get the following error:\n<code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'server.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</code></p>\n<p>Here is what I tried to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package server.controller;\n//...imports\n@Controller\n@RequestMapping(&quot;/api/users&quot;)\npublic class UserController {\n\n    private final UserService userService;\n\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @GetMapping(&quot;/{userId}&quot;)\n    public ResponseEntity&lt;User&gt; getById(@PathVariable(&quot;userId&quot;) Long userId) {\n        return ResponseEntity.ok(userService.getUserById(userId));\n    }\n}\n\n</code></pre>\n<p>Here is the repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>package server.repository;\n//...imports\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    User findUserById(long userId);\n}\n</code></pre>\n<p>And here is the User Service that is supposed to handle my requests</p>\n<pre class=\"lang-java prettyprint-override\"><code>package server.service;\n//...imports\n@Service\npublic class UserService {\n    private final UserRepository users;\n\n    public UserService(UserRepository users) {\n        this.users = users;\n    }\n\n    public User getUserById(long id) {\n        if(id &lt; 0 || !users.existsById(id)) {\n            return null;\n        }\n        return users.findUserById(id);\n    }\n}\n</code></pre>\n"},{"tags":["java","precision","java-time","platform"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1535314701,"post_id":52029920,"comment_id":91010281,"body_markdown":"[`LocalDateTime.now()`](https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#now()) uses the [system `Clock`](https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html#systemDefaultZone()) which means whatever precision the system clock has that&#39;s how much precision `LocalDateTime.now()` will have.","body":"<a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#now()\" rel=\"nofollow noreferrer\"><code>LocalDateTime.now()</code></a> uses the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html#systemDefaultZone()\" rel=\"nofollow noreferrer\">system <code>Clock</code></a> which means whatever precision the system clock has that&#39;s how much precision <code>LocalDateTime.now()</code> will have."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1535314706,"post_id":52029920,"comment_id":91010282,"body_markdown":"&quot;milliseconds precision of 6&quot; is that the same as microsecond precision? (Perhaps better phrased as &quot;subsecond precision&quot;).","body":"&quot;milliseconds precision of 6&quot; is that the same as microsecond precision? (Perhaps better phrased as &quot;subsecond precision&quot;)."},{"owner":{"account_id":8201126,"reputation":2419,"user_id":6172447,"accept_rate":50,"display_name":"Tobias Marschall"},"score":0,"creation_date":1535314873,"post_id":52029920,"comment_id":91010319,"body_markdown":"Sorry! It&#180;s actually called &quot;nano&quot;.","body":"Sorry! It&#180;s actually called &quot;nano&quot;."},{"owner":{"account_id":8201126,"reputation":2419,"user_id":6172447,"accept_rate":50,"display_name":"Tobias Marschall"},"score":0,"creation_date":1535315038,"post_id":52029920,"comment_id":91010345,"body_markdown":"@Slaw Running `System.currentTimeMillis()` provides the same level of precision on both machines.","body":"@Slaw Running <code>System.currentTimeMillis()</code> provides the same level of precision on both machines."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1535315262,"post_id":52029920,"comment_id":91010401,"body_markdown":"@TobiasMarschall because that&#39;s the time with *milli*second precision.","body":"@TobiasMarschall because that&#39;s the time with <i>milli</i>second precision."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1535315290,"post_id":52029920,"comment_id":91010407,"body_markdown":"The system `Clock` may use `System.currentTimeMillis()` _or a higher resolution clock if available_. It looks like your Mac has a clock with microsecond precision.","body":"The system <code>Clock</code> may use <code>System.currentTimeMillis()</code> <i>or a higher resolution clock if available</i>. It looks like your Mac has a clock with microsecond precision."},{"owner":{"account_id":8201126,"reputation":2419,"user_id":6172447,"accept_rate":50,"display_name":"Tobias Marschall"},"score":0,"creation_date":1535315394,"post_id":52029920,"comment_id":91010433,"body_markdown":"Is there some kind of &quot;default clock&quot; that can provide the same level of presicion on both machines?","body":"Is there some kind of &quot;default clock&quot; that can provide the same level of presicion on both machines?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1535319502,"post_id":52029920,"comment_id":91011269,"body_markdown":"By the way, `LocalDateTime` is the wrong class when your intention is to track moments. Use `Instant`, `OffsetDateTime`, or `ZonedDateTime` instead. Lacking any concept of time zone or offset-from-UTC, the `LocalDateTime` *cannot* track moments.","body":"By the way, <code>LocalDateTime</code> is the wrong class when your intention is to track moments. Use <code>Instant</code>, <code>OffsetDateTime</code>, or <code>ZonedDateTime</code> instead. Lacking any concept of time zone or offset-from-UTC, the <code>LocalDateTime</code> <i>cannot</i> track moments."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1535319945,"post_id":52029920,"comment_id":91011358,"body_markdown":"Whose implementation of Java 8 are you using on macOS? I do not know of any that can capture current moment in microseconds. See OpenJDK issue ticket `JDK-8068730`, [*Increase the precision of the implementation of java.time.Clock.systemUTC()*](https://bugs.openjdk.java.net/browse/JDK-8068730)  Discussed [here](https://stackoverflow.com/q/33477695/642706).","body":"Whose implementation of Java 8 are you using on macOS? I do not know of any that can capture current moment in microseconds. See OpenJDK issue ticket <code>JDK-8068730</code>, <a href=\"https://bugs.openjdk.java.net/browse/JDK-8068730\" rel=\"nofollow noreferrer\"><i>Increase the precision of the implementation of java.time.Clock.systemUTC()</i></a>  Discussed <a href=\"https://stackoverflow.com/q/33477695/642706\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1535320137,"creation_date":1535315414,"answer_id":52030034,"question_id":52029920,"body_markdown":"I dont think you can get any better precision than the one you are already getting. If you want to reduce the precision to match that of the other system, its straightforward (when you know how):\r\n\r\n    LocalDateTime.now(ZoneId.of(&quot;Europe/Berlin&quot;)).truncatedTo(ChronoUnit.MILLIS);\r\n\r\nThe precision you get depends on the hardware, the settings, the OS and the integration of the JVM with all of those. Its well known that Mac generally offers better precision than Windows (though I was under the impression that this was only the case from Java 9, per OpenJDK issue # [JDK8068730](https://bugs.openjdk.java.net/browse/JDK-8068730)).","title":"LocalDateTime.now() has different levels of precision on Windows and Mac machine","body":"<p>I dont think you can get any better precision than the one you are already getting. If you want to reduce the precision to match that of the other system, its straightforward (when you know how):</p>\n\n<pre><code>LocalDateTime.now(ZoneId.of(\"Europe/Berlin\")).truncatedTo(ChronoUnit.MILLIS);\n</code></pre>\n\n<p>The precision you get depends on the hardware, the settings, the OS and the integration of the JVM with all of those. Its well known that Mac generally offers better precision than Windows (though I was under the impression that this was only the case from Java 9, per OpenJDK issue # <a href=\"https://bugs.openjdk.java.net/browse/JDK-8068730\" rel=\"noreferrer\">JDK8068730</a>).</p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1682698819,"creation_date":1535316579,"answer_id":52030157,"question_id":52029920,"body_markdown":"The precision is different because [`LocalDateTime.now()`][1] uses a system default [`Clock`][2].\r\n\r\n&gt;Obtains the current date-time from the system clock in the default time-zone.\r\n&gt;\r\n&gt;This will query the [system clock][3] in the default time-zone to obtain the current date-time. \r\n&gt;\r\n&gt;...\r\n\r\nThe link in this Javadoc takes you to `Clock.systemDefaultZone()` which states (**emphasis** mine):\r\n\r\n&gt;Obtains a clock that returns the current instant using the best available system clock, converting to date and time using the default time-zone.\r\n&gt;\r\n&gt;This clock is based on the best available system clock. **This may use [System.currentTimeMillis()][4], or a higher resolution clock if one is available.**\r\n&gt;\r\n&gt;...\r\n\r\nWhich clock Java uses can depend on a lot of things and it looks like your Mac computer has a clock with &lt;i&gt;micro&lt;/i&gt;second precision whereas your Windows computer has a clock with &lt;i&gt;milli&lt;/i&gt;second precision. I&#39;m not aware of any way to _increase_ the precision of a clock but you can definitely _decrease_ the precision so that it matches across platforms.\r\n\r\nOne option is to use [`LocalDateTime.truncatedTo(TemporalUnit)`][6]:\r\n\r\n```lang-java\r\nimport java.time.Instant;\r\nimport java.time.temporal.ChronoUnit;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) {\r\n    Instant original = Instant.now();\r\n    System.out.printf(&quot;Original instant  : %s%n&quot;, original);\r\n\r\n    Instant truncated = original.truncatedTo(ChronoUnit.MILLIS);\r\n    System.out.printf(&quot;Truncated instant : %s%n&quot;, truncated);\r\n  }\r\n}\r\n```\r\n\r\n&lt;sup&gt;_-[Also see answer by Ole V.V.][5]_&lt;/sup&gt;\r\n\r\nAnother option is to plug in your own `Clock` and use [`LocalDateTime.now(Clock)`][7]. If possible, I would use [`Clock.tickMillis(ZoneId)`][8] since this method returns a `Clock` that truncates to milliseconds.\r\n\r\n&gt;Obtains a clock that returns the current instant ticking in whole milliseconds using the best available system clock.\r\n&gt;\r\n&gt;This clock will always have the nano-of-second field truncated to milliseconds. This ensures that the visible time ticks in whole milliseconds. The underlying clock is the best available system clock, equivalent to using system(ZoneId).\r\n&gt;\r\n&gt;...\r\n&gt;\r\n&gt;**Since:**&lt;br&gt;\r\n&gt;9\r\n\r\nFor example:\r\n\r\n```lang-java\r\nimport java.time.Clock;\r\n// import java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.time.ZoneId;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) {\r\n    // Java 8\r\n    // Clock clock = Clock.tick(Clock.systemDefaultZone(), Duration.ofMillis(1));\r\n\r\n    // Java 9+\r\n    Clock clock = Clock.tickMillis(ZoneId.systemDefault());\r\n\r\n    Instant instant = Instant.now(clock);\r\n    System.out.printf(&quot;Instant : %s%n&quot;, instant);\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#now()\r\n[2]: https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html\r\n[3]: https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html#systemDefaultZone()\r\n[4]: https://docs.oracle.com/javase/10/docs/api/java/lang/System.html#currentTimeMillis()\r\n[5]: https://stackoverflow.com/a/52030034/6395627\r\n[6]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#truncatedTo(java.time.temporal.TemporalUnit)\r\n[7]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#now(java.time.Clock)\r\n[8]: https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html#tickMillis(java.time.ZoneId)","title":"LocalDateTime.now() has different levels of precision on Windows and Mac machine","body":"<p>The precision is different because <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#now()\" rel=\"nofollow noreferrer\"><code>LocalDateTime.now()</code></a> uses a system default <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>Clock</code></a>.</p>\n<blockquote>\n<p>Obtains the current date-time from the system clock in the default time-zone.</p>\n<p>This will query the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html#systemDefaultZone()\" rel=\"nofollow noreferrer\">system clock</a> in the default time-zone to obtain the current date-time.</p>\n<p>...</p>\n</blockquote>\n<p>The link in this Javadoc takes you to <code>Clock.systemDefaultZone()</code> which states (<strong>emphasis</strong> mine):</p>\n<blockquote>\n<p>Obtains a clock that returns the current instant using the best available system clock, converting to date and time using the default time-zone.</p>\n<p>This clock is based on the best available system clock. <strong>This may use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/System.html#currentTimeMillis()\" rel=\"nofollow noreferrer\">System.currentTimeMillis()</a>, or a higher resolution clock if one is available.</strong></p>\n<p>...</p>\n</blockquote>\n<p>Which clock Java uses can depend on a lot of things and it looks like your Mac computer has a clock with <i>micro</i>second precision whereas your Windows computer has a clock with <i>milli</i>second precision. I'm not aware of any way to <em>increase</em> the precision of a clock but you can definitely <em>decrease</em> the precision so that it matches across platforms.</p>\n<p>One option is to use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#truncatedTo(java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\"><code>LocalDateTime.truncatedTo(TemporalUnit)</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.Instant;\nimport java.time.temporal.ChronoUnit;\n\npublic class Main {\n\n  public static void main(String[] args) {\n    Instant original = Instant.now();\n    System.out.printf(&quot;Original instant  : %s%n&quot;, original);\n\n    Instant truncated = original.truncatedTo(ChronoUnit.MILLIS);\n    System.out.printf(&quot;Truncated instant : %s%n&quot;, truncated);\n  }\n}\n</code></pre>\n<p><sup><em>-<a href=\"https://stackoverflow.com/a/52030034/6395627\">Also see answer by Ole V.V.</a></em></sup></p>\n<p>Another option is to plug in your own <code>Clock</code> and use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#now(java.time.Clock)\" rel=\"nofollow noreferrer\"><code>LocalDateTime.now(Clock)</code></a>. If possible, I would use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html#tickMillis(java.time.ZoneId)\" rel=\"nofollow noreferrer\"><code>Clock.tickMillis(ZoneId)</code></a> since this method returns a <code>Clock</code> that truncates to milliseconds.</p>\n<blockquote>\n<p>Obtains a clock that returns the current instant ticking in whole milliseconds using the best available system clock.</p>\n<p>This clock will always have the nano-of-second field truncated to milliseconds. This ensures that the visible time ticks in whole milliseconds. The underlying clock is the best available system clock, equivalent to using system(ZoneId).</p>\n<p>...</p>\n<p><strong>Since:</strong><br>\n9</p>\n</blockquote>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.Clock;\n// import java.time.Duration;\nimport java.time.Instant;\nimport java.time.ZoneId;\n\npublic class Main {\n\n  public static void main(String[] args) {\n    // Java 8\n    // Clock clock = Clock.tick(Clock.systemDefaultZone(), Duration.ofMillis(1));\n\n    // Java 9+\n    Clock clock = Clock.tickMillis(ZoneId.systemDefault());\n\n    Instant instant = Instant.now(clock);\n    System.out.printf(&quot;Instant : %s%n&quot;, instant);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603268334,"creation_date":1603268334,"answer_id":64459488,"question_id":52029920,"body_markdown":"You can set the precision using a formatter, without resorting to `truncatedTo` or `Clock.tickMillis`: \r\n\r\n```\r\njshell&gt; OffsetDateTime.now().format(ISO_DATE_TIME)\r\n$5 ==&gt; &quot;2020-10-21T10:13:48.57776451+02:00&quot;\r\n\r\njshell&gt; OffsetDateTime.now().format(ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSZ&quot;))\r\n$8 ==&gt; &quot;2020-10-21T10:15:31.27+0200&quot;\r\n```\r\n\r\nI realized this after discovering that [JDK 15 has different precision on macOS and Linux][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/64444357/why-does-jdk-15s-time-api-have-increased-precision-on-linux-but-not-on-macos?noredirect=1&amp;lq=1","title":"LocalDateTime.now() has different levels of precision on Windows and Mac machine","body":"<p>You can set the precision using a formatter, without resorting to <code>truncatedTo</code> or <code>Clock.tickMillis</code>:</p>\n<pre><code>jshell&gt; OffsetDateTime.now().format(ISO_DATE_TIME)\n$5 ==&gt; &quot;2020-10-21T10:13:48.57776451+02:00&quot;\n\njshell&gt; OffsetDateTime.now().format(ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSZ&quot;))\n$8 ==&gt; &quot;2020-10-21T10:15:31.27+0200&quot;\n</code></pre>\n<p>I realized this after discovering that <a href=\"https://stackoverflow.com/questions/64444357/why-does-jdk-15s-time-api-have-increased-precision-on-linux-but-not-on-macos?noredirect=1&amp;lq=1\">JDK 15 has different precision on macOS and Linux</a>.</p>\n"},{"tags":[],"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1615458124,"creation_date":1615458124,"answer_id":66580584,"question_id":52029920,"body_markdown":"If anyone had the same issue with `Instant` precision on `mac` or `ubuntu` on Java 15 that I want to show the difference:\r\n\r\nmac Instant precision: `2021-03-10T12:28:19.228816Z`\r\n\r\nubuntu Instant precision: `2021-03-10T12:28:19.228816800Z`\r\n\r\nSolution: please add `.truncatedTo(ChronoUnit.MILLIS)` to `Instant` variable if You want to have the same precision on this OS","title":"LocalDateTime.now() has different levels of precision on Windows and Mac machine","body":"<p>If anyone had the same issue with <code>Instant</code> precision on <code>mac</code> or <code>ubuntu</code> on Java 15 that I want to show the difference:</p>\n<p>mac Instant precision: <code>2021-03-10T12:28:19.228816Z</code></p>\n<p>ubuntu Instant precision: <code>2021-03-10T12:28:19.228816800Z</code></p>\n<p>Solution: please add <code>.truncatedTo(ChronoUnit.MILLIS)</code> to <code>Instant</code> variable if You want to have the same precision on this OS</p>\n"}],"owner":{"account_id":8201126,"reputation":2419,"user_id":6172447,"accept_rate":50,"display_name":"Tobias Marschall"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11253,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":52030157,"answer_count":4,"score":30,"last_activity_date":1682698819,"creation_date":1535314512,"question_id":52029920,"body_markdown":"When creating a new `LocalDateTime` using `LocalDateTime.now()` on my Mac and Windows machine i get a nano **precision of 6** on my Mac and a nano **precision of 3** on my Windows machine. Both are running `jdk-1.8.0-172`. \r\n\r\n - Is it possible to limit or increase the precision on one of the\r\n   machines?\r\n - And why is the precision actually different?","title":"LocalDateTime.now() has different levels of precision on Windows and Mac machine","body":"<p>When creating a new <code>LocalDateTime</code> using <code>LocalDateTime.now()</code> on my Mac and Windows machine i get a nano <strong>precision of 6</strong> on my Mac and a nano <strong>precision of 3</strong> on my Windows machine. Both are running <code>jdk-1.8.0-172</code>. </p>\n\n<ul>\n<li>Is it possible to limit or increase the precision on one of the\nmachines?</li>\n<li>And why is the precision actually different?</li>\n</ul>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":22151019,"reputation":431,"user_id":16399561,"display_name":"ojonasplima"},"score":0,"creation_date":1641481451,"post_id":70607225,"comment_id":124819187,"body_markdown":"I think that&#39;s not a error on your selenium, as the trace `java.net.SocketException: Connection reset` shows. It&#39;s a server problem like you can check [here](http://net-informations.com/java/err/reset.htm).","body":"I think that&#39;s not a error on your selenium, as the trace <code>java.net.SocketException: Connection reset</code> shows. It&#39;s a server problem like you can check <a href=\"http://net-informations.com/java/err/reset.htm\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":25113330,"reputation":1,"user_id":18962685,"display_name":" "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651048888,"creation_date":1651048888,"answer_id":72025774,"question_id":70607225,"body_markdown":"I think you should change driver.close to .quit","title":"Chromedriver Selenium getting &#39;Connection Reset&#39; when versions match","body":"<p>I think you should change driver.close to .quit</p>\n"},{"tags":[],"owner":{"account_id":5165021,"reputation":108,"user_id":4135343,"display_name":"PVDM"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682698324,"creation_date":1682698324,"answer_id":76131420,"question_id":70607225,"body_markdown":"I&#39;ve struggled with this for a bit and finally figured out what the problem was. When you see a &quot;java.net.SocketException: Connection reset&quot;, it&#39;s (as far as I&#39;ve seen) an issue specific to Chrome and ChromeDriver.\r\n\r\nChromeDriver uses a WebSocket to communicate with Chrome and when the quit() method is called and ChromeDriver tells Chrome to shut down ChromeDriver does not always close the browser process gracefully. Specifically, ChromeDriver does not disconnect/close the WebSocket before closing/quitting browser. This causes the error.\r\n\r\nThe (hopefully temporary) work-around is to add an argument to the ChromeOptions:\r\n`--user-data-dir=/tmp/your_tmp_folder`\r\n\r\nIn Java, you can do:\r\n```\r\noptions.addArguments(&quot;--user-data-dir=&quot; + System.getProperty(&quot;java.io.tmpdir&quot;));\r\n```\r\n\r\nThis will make ChromeDriver send a SIGTERM first to Chrome.\r\n\r\nSource for this solution:\r\nhttps://bugs.chromium.org/p/chromedriver/issues/detail?id=3689&amp;q=websocket&amp;can=2","title":"Chromedriver Selenium getting &#39;Connection Reset&#39; when versions match","body":"<p>I've struggled with this for a bit and finally figured out what the problem was. When you see a &quot;java.net.SocketException: Connection reset&quot;, it's (as far as I've seen) an issue specific to Chrome and ChromeDriver.</p>\n<p>ChromeDriver uses a WebSocket to communicate with Chrome and when the quit() method is called and ChromeDriver tells Chrome to shut down ChromeDriver does not always close the browser process gracefully. Specifically, ChromeDriver does not disconnect/close the WebSocket before closing/quitting browser. This causes the error.</p>\n<p>The (hopefully temporary) work-around is to add an argument to the ChromeOptions:\n<code>--user-data-dir=/tmp/your_tmp_folder</code></p>\n<p>In Java, you can do:</p>\n<pre><code>options.addArguments(&quot;--user-data-dir=&quot; + System.getProperty(&quot;java.io.tmpdir&quot;));\n</code></pre>\n<p>This will make ChromeDriver send a SIGTERM first to Chrome.</p>\n<p>Source for this solution:\n<a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=3689&amp;q=websocket&amp;can=2\" rel=\"nofollow noreferrer\">https://bugs.chromium.org/p/chromedriver/issues/detail?id=3689&amp;q=websocket&amp;can=2</a></p>\n"}],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1829,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682790181,"answer_count":2,"score":0,"last_activity_date":1682698324,"creation_date":1641472765,"question_id":70607225,"body_markdown":"I am using chromedriver but am sometimes getting the following errors:\r\n```\r\n03:34:09.188 [AsyncHttpClient-1-2] WARN org.openqa.selenium.remote.http.WebSocket - Connection reset\r\n2022-01-05 21:34:09java.net.SocketException: Connection reset\r\n2022-01-05 21:34:09at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:367)\r\n2022-01-05 21:34:0903:34:09.180 [AsyncHttpClient-1-2] WARN org.asynchttpclient.netty.handler.WebSocketHandler - onError\r\n2022-01-05 21:34:09java.net.SocketException: Connection reset\r\n2022-01-05 21:34:09at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:367)\r\n2022-01-05 21:34:09at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:398)\r\n2022-01-05 21:34:09at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\r\n2022-01-05 21:34:09at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1134)\r\n2022-01-05 21:34:09at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\r\n2022-01-05 21:34:09at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\r\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n2022-01-05 21:34:09at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n2022-01-05 21:34:09at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n2022-01-05 21:34:09at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n2022-01-05 21:34:09at java.base/java.lang.Thread.run(Thread.java:832)\r\n```\r\n\r\nI have:\r\n```\r\nARG CHROME_VERSION=96.0.4664.45-1\r\nARG CHROME_DRIVER_VERSION=96.0.4664.45\r\n```\r\n\r\nand I am using selenium 4:\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nNote selenium 4 supports CDP up to v96 per https://github.com/SeleniumHQ/selenium/blob/201fad38296f9ea47ac1b1b59c160963dc7b2907/java/CHANGELOG\r\n\r\nSo I think the chromedriver and chrome version match. Does anyone know what could be causing the connection reset?","title":"Chromedriver Selenium getting &#39;Connection Reset&#39; when versions match","body":"<p>I am using chromedriver but am sometimes getting the following errors:</p>\n<pre><code>03:34:09.188 [AsyncHttpClient-1-2] WARN org.openqa.selenium.remote.http.WebSocket - Connection reset\n2022-01-05 21:34:09java.net.SocketException: Connection reset\n2022-01-05 21:34:09at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:367)\n2022-01-05 21:34:0903:34:09.180 [AsyncHttpClient-1-2] WARN org.asynchttpclient.netty.handler.WebSocketHandler - onError\n2022-01-05 21:34:09java.net.SocketException: Connection reset\n2022-01-05 21:34:09at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:367)\n2022-01-05 21:34:09at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:398)\n2022-01-05 21:34:09at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\n2022-01-05 21:34:09at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1134)\n2022-01-05 21:34:09at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\n2022-01-05 21:34:09at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n2022-01-05 21:34:09at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n2022-01-05 21:34:09at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n2022-01-05 21:34:09at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n2022-01-05 21:34:09at java.base/java.lang.Thread.run(Thread.java:832)\n</code></pre>\n<p>I have:</p>\n<pre><code>ARG CHROME_VERSION=96.0.4664.45-1\nARG CHROME_DRIVER_VERSION=96.0.4664.45\n</code></pre>\n<p>and I am using selenium 4:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Note selenium 4 supports CDP up to v96 per <a href=\"https://github.com/SeleniumHQ/selenium/blob/201fad38296f9ea47ac1b1b59c160963dc7b2907/java/CHANGELOG\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/blob/201fad38296f9ea47ac1b1b59c160963dc7b2907/java/CHANGELOG</a></p>\n<p>So I think the chromedriver and chrome version match. Does anyone know what could be causing the connection reset?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1682690033,"post_id":76130250,"comment_id":134259691,"body_markdown":"How would this 1 function determine which return type to use?","body":"How would this 1 function determine which return type to use?"},{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":1,"creation_date":1682690273,"post_id":76130250,"comment_id":134259782,"body_markdown":"Will you already know which type to cast to, at the call site?","body":"Will you already know which type to cast to, at the call site?"}],"answers":[{"tags":[],"owner":{"account_id":16037279,"reputation":135,"user_id":11574636,"display_name":"Fabian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682690726,"creation_date":1682690726,"answer_id":76130399,"question_id":76130250,"body_markdown":"You can use Java Generics for this. Here is a link to a good dokumentation:\r\n\r\nhttps://www.baeldung.com/java-generics\r\n\r\n```java\r\nprivate &lt;T&gt; T getFlag(String argument, Class&lt;T&gt; returnType) {\r\nObject[][] code = restConnector.getCodes(argument);\r\nreturn returnType.cast(code[0][0]);\r\n}\r\n```\r\n\r\nWith this modification, you can call the function with different return types as follows:\r\n\r\n```java\r\nBoolean bool = getFlag(&quot;argument&quot;, Boolean.class);\r\nString text = getFlag(&quot;argument&quot;, String.class);\r\nInteger num = getFlag(&quot;argument&quot;, Integer.class);\r\n```","title":"Same method that could return 3 different types depending on REST call&#39;s result","body":"<p>You can use Java Generics for this. Here is a link to a good dokumentation:</p>\n<p><a href=\"https://www.baeldung.com/java-generics\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-generics</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;T&gt; T getFlag(String argument, Class&lt;T&gt; returnType) {\nObject[][] code = restConnector.getCodes(argument);\nreturn returnType.cast(code[0][0]);\n}\n</code></pre>\n<p>With this modification, you can call the function with different return types as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Boolean bool = getFlag(&quot;argument&quot;, Boolean.class);\nString text = getFlag(&quot;argument&quot;, String.class);\nInteger num = getFlag(&quot;argument&quot;, Integer.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682692136,"creation_date":1682692136,"answer_id":76130600,"question_id":76130250,"body_markdown":"Write type-specific methods that call a common method:\r\n\r\n```\r\npublic boolean getBooleanFlag(String argument) {\r\n   return (boolean) getFlag(argument);\r\n}\r\n\r\npublic String getStringFlag(String argument) {\r\n   return (String) getFlag(argument);\r\n}\r\n\r\npublic int getIntFlag(String argument) {\r\n   return (int) getFlag(argument);\r\n}\r\n\r\nprivate Object getFlag(String argument) {\r\n   Object [][] code = restConnector.getCodes(argument);\r\n   return code[0][0]\r\n}\r\n```","title":"Same method that could return 3 different types depending on REST call&#39;s result","body":"<p>Write type-specific methods that call a common method:</p>\n<pre><code>public boolean getBooleanFlag(String argument) {\n   return (boolean) getFlag(argument);\n}\n\npublic String getStringFlag(String argument) {\n   return (String) getFlag(argument);\n}\n\npublic int getIntFlag(String argument) {\n   return (int) getFlag(argument);\n}\n\nprivate Object getFlag(String argument) {\n   Object [][] code = restConnector.getCodes(argument);\n   return code[0][0]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682698031,"creation_date":1682698031,"answer_id":76131384,"question_id":76130250,"body_markdown":"Although not safe, you can use generics like so:\r\n\r\n```\r\npublic class Main {\r\n    \r\n    private static Object match(final String argument) {\r\n        if (&quot;boolean&quot;.equals(argument))\r\n            return true;\r\n        if (&quot;integer&quot;.equals(argument))\r\n            return 0;\r\n        if (&quot;string&quot;.equals(argument))\r\n            return &quot;str&quot;;\r\n        return null;\r\n    }\r\n    \r\n    public static &lt;T&gt; T getFlag(final String argument) {\r\n        final Object[][] code = new Object[][]{new Object[]{ match(argument) }}; //restConnector.getCodes(argument);\r\n        return (T) code[0][0];\r\n    }\r\n    \r\n    public static void main(final String[] args) {\r\n        final Boolean booleanFlag = getFlag(&quot;boolean&quot;);\r\n        final int integerFlag = getFlag(&quot;integer&quot;);\r\n        final String stringFlag = getFlag(&quot;string&quot;);\r\n        final Object randomFlag = getFlag(&quot;random&quot;);\r\n        System.out.println(&quot;Boolean: &quot; + booleanFlag);\r\n        System.out.println(&quot;Integer: &quot; + integerFlag);\r\n        System.out.println(&quot;String:  &quot; + stringFlag);\r\n        System.out.println(&quot;Random:  &quot; + randomFlag);\r\n    }\r\n}\r\n```\r\n\r\nprints:\r\n\r\n&gt; Boolean: true  \r\n&gt; Integer: 0  \r\n&gt; String:  str  \r\n&gt; Random:  null\r\n\r\nBut when the type cannot be inferred, then it will not work. For example the following is a compilation error:\r\n\r\n    System.out.println(getFlag(&quot;any&quot;));\r\n\r\nThis is because `println` is overloaded (accepts different types).\r\n\r\nNote that with this method, you are also running the risk of a `java.lang.ClassCastException` if you don&#39;t known what type your `getCodes` will return. Take for example the following code:\r\n\r\n```\r\npublic class Main {\r\n    \r\n    public static &lt;T&gt; T getFlag(final String argument) {\r\n        final Object[][] code = new Object[][]{new Object[]{&quot;Always a string!&quot;}}; //restConnector.getCodes(argument);\r\n        return (T) code[0][0];\r\n    }\r\n    \r\n    public static void main(final String[] args) {\r\n        final Boolean booleanFlag = getFlag(&quot;boolean&quot;);\r\n        final int integerFlag = getFlag(&quot;integer&quot;);\r\n        final String stringFlag = getFlag(&quot;string&quot;);\r\n        final Object randomFlag = getFlag(&quot;random&quot;);\r\n        System.out.println(&quot;Boolean: &quot; + booleanFlag);\r\n        System.out.println(&quot;Integer: &quot; + integerFlag);\r\n        System.out.println(&quot;String:  &quot; + stringFlag);\r\n        System.out.println(&quot;Random:  &quot; + randomFlag);\r\n    }\r\n}\r\n```\r\n\r\n... which throws a `java.lang.ClassCastException` in the first call.\r\n\r\nFinally note that you are also running the risk of a `java.lang.NullPointerException` if you don&#39;t known if your `getCodes` will return `null`. Replace for example `&quot;Always a string!&quot;` with `null` in the above code, and you will get a `java.lang.NullPointerException` in the *second* call.\r\n","title":"Same method that could return 3 different types depending on REST call&#39;s result","body":"<p>Although not safe, you can use generics like so:</p>\n<pre><code>public class Main {\n    \n    private static Object match(final String argument) {\n        if (&quot;boolean&quot;.equals(argument))\n            return true;\n        if (&quot;integer&quot;.equals(argument))\n            return 0;\n        if (&quot;string&quot;.equals(argument))\n            return &quot;str&quot;;\n        return null;\n    }\n    \n    public static &lt;T&gt; T getFlag(final String argument) {\n        final Object[][] code = new Object[][]{new Object[]{ match(argument) }}; //restConnector.getCodes(argument);\n        return (T) code[0][0];\n    }\n    \n    public static void main(final String[] args) {\n        final Boolean booleanFlag = getFlag(&quot;boolean&quot;);\n        final int integerFlag = getFlag(&quot;integer&quot;);\n        final String stringFlag = getFlag(&quot;string&quot;);\n        final Object randomFlag = getFlag(&quot;random&quot;);\n        System.out.println(&quot;Boolean: &quot; + booleanFlag);\n        System.out.println(&quot;Integer: &quot; + integerFlag);\n        System.out.println(&quot;String:  &quot; + stringFlag);\n        System.out.println(&quot;Random:  &quot; + randomFlag);\n    }\n}\n</code></pre>\n<p>prints:</p>\n<blockquote>\n<p>Boolean: true<br />\nInteger: 0<br />\nString:  str<br />\nRandom:  null</p>\n</blockquote>\n<p>But when the type cannot be inferred, then it will not work. For example the following is a compilation error:</p>\n<pre><code>System.out.println(getFlag(&quot;any&quot;));\n</code></pre>\n<p>This is because <code>println</code> is overloaded (accepts different types).</p>\n<p>Note that with this method, you are also running the risk of a <code>java.lang.ClassCastException</code> if you don't known what type your <code>getCodes</code> will return. Take for example the following code:</p>\n<pre><code>public class Main {\n    \n    public static &lt;T&gt; T getFlag(final String argument) {\n        final Object[][] code = new Object[][]{new Object[]{&quot;Always a string!&quot;}}; //restConnector.getCodes(argument);\n        return (T) code[0][0];\n    }\n    \n    public static void main(final String[] args) {\n        final Boolean booleanFlag = getFlag(&quot;boolean&quot;);\n        final int integerFlag = getFlag(&quot;integer&quot;);\n        final String stringFlag = getFlag(&quot;string&quot;);\n        final Object randomFlag = getFlag(&quot;random&quot;);\n        System.out.println(&quot;Boolean: &quot; + booleanFlag);\n        System.out.println(&quot;Integer: &quot; + integerFlag);\n        System.out.println(&quot;String:  &quot; + stringFlag);\n        System.out.println(&quot;Random:  &quot; + randomFlag);\n    }\n}\n</code></pre>\n<p>... which throws a <code>java.lang.ClassCastException</code> in the first call.</p>\n<p>Finally note that you are also running the risk of a <code>java.lang.NullPointerException</code> if you don't known if your <code>getCodes</code> will return <code>null</code>. Replace for example <code>&quot;Always a string!&quot;</code> with <code>null</code> in the above code, and you will get a <code>java.lang.NullPointerException</code> in the <em>second</em> call.</p>\n"}],"owner":{"account_id":17197306,"reputation":119,"user_id":12449753,"display_name":"w97802"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1682698031,"creation_date":1682689733,"question_id":76130250,"body_markdown":"I have a function that will:\r\n 1. make a REST call to an endpoint. The endpoint might return a String, Integer or Boolean depending on the field I want to query the endpoint for. \r\n 2. accordingly, we will cast the result to String/ Boolean/ Integer to be returned from the function.\r\n\r\nThe simplified version of the function is similar to this: \r\n```\r\nprivate Boolean getFlag (String argument) {\r\n   Object [][] code = restConnector.getCodes(argument);\r\n   return (Boolean) code[0][0]\r\n}\r\n```\r\n\r\nExcept for the return type, the code for the function is the same.\r\n\r\nThe simple way will be to have 3 functions, each have different return type, but this means a lot of boilerplate code (because except for return type, everything else is the same for 3 functions).\r\n\r\nI am wondering if there is a better way to design the code so that I only have 1 function / the boilerplate code could be minimal?\r\n\r\nThanks in advance.\r\n\r\n\r\n ","title":"Same method that could return 3 different types depending on REST call&#39;s result","body":"<p>I have a function that will:</p>\n<ol>\n<li>make a REST call to an endpoint. The endpoint might return a String, Integer or Boolean depending on the field I want to query the endpoint for.</li>\n<li>accordingly, we will cast the result to String/ Boolean/ Integer to be returned from the function.</li>\n</ol>\n<p>The simplified version of the function is similar to this:</p>\n<pre><code>private Boolean getFlag (String argument) {\n   Object [][] code = restConnector.getCodes(argument);\n   return (Boolean) code[0][0]\n}\n</code></pre>\n<p>Except for the return type, the code for the function is the same.</p>\n<p>The simple way will be to have 3 functions, each have different return type, but this means a lot of boilerplate code (because except for return type, everything else is the same for 3 functions).</p>\n<p>I am wondering if there is a better way to design the code so that I only have 1 function / the boilerplate code could be minimal?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","apache-zookeeper"],"answers":[{"tags":[],"owner":{"account_id":2360600,"reputation":669,"user_id":2067335,"display_name":"Lagrang"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1610634649,"creation_date":1610634649,"answer_id":65720928,"question_id":65709722,"body_markdown":"Binary release of Zookeeper contains `bin` directory with following files in which you interested in:\r\n- zkServer.sh\r\n- zkEnv.sh\r\n\r\n`zkEnv.sh` defines location of all config files and some JVM tuning knobs, such as JVM heap size. JVM heap size can be changed by shell variable `ZK_SERVER_HEAP`(in MB).   \r\nUse following command to set custom heap size: \r\n```\r\ncd bin/\r\nZK_SERVER_HEAP=128 ./zkServer.sh start-foreground\r\n``` \r\n\r\nIn output of recent versions of Zookeeper you can find following lines: \r\n```\r\n2021-01-14 17:24:18,400 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.free=114MB\r\n2021-01-14 17:24:18,400 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.max=128MB\r\n2021-01-14 17:24:18,400 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.total=128MB\r\n```\r\n\r\nOther JVM opts can be set using `SERVER_JVMFLAGS`, for instance, use non default GC:\r\n```\r\nZK_SERVER_HEAP=128 SERVER_JVMFLAGS=&quot;-XX:+UseShenandoahGC&quot; ./zkServer.sh start-foreground\r\n```","title":"How do you configure the java heap size for zookeeper?","body":"<p>Binary release of Zookeeper contains <code>bin</code> directory with following files in which you interested in:</p>\n<ul>\n<li>zkServer.sh</li>\n<li>zkEnv.sh</li>\n</ul>\n<p><code>zkEnv.sh</code> defines location of all config files and some JVM tuning knobs, such as JVM heap size. JVM heap size can be changed by shell variable <code>ZK_SERVER_HEAP</code>(in MB).<br />\nUse following command to set custom heap size:</p>\n<pre><code>cd bin/\nZK_SERVER_HEAP=128 ./zkServer.sh start-foreground\n</code></pre>\n<p>In output of recent versions of Zookeeper you can find following lines:</p>\n<pre><code>2021-01-14 17:24:18,400 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.free=114MB\n2021-01-14 17:24:18,400 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.max=128MB\n2021-01-14 17:24:18,400 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.total=128MB\n</code></pre>\n<p>Other JVM opts can be set using <code>SERVER_JVMFLAGS</code>, for instance, use non default GC:</p>\n<pre><code>ZK_SERVER_HEAP=128 SERVER_JVMFLAGS=&quot;-XX:+UseShenandoahGC&quot; ./zkServer.sh start-foreground\n</code></pre>\n"}],"owner":{"account_id":17150251,"reputation":55,"user_id":12412339,"display_name":"CodifiedChaos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65720928,"answer_count":1,"score":1,"last_activity_date":1682697813,"creation_date":1610571713,"question_id":65709722,"body_markdown":"I am trying to set up Zookeeper 3.4.10 on an Ubuntu 18.04LTS Azure VM. \r\n\r\nPer the [ZooKeeper Administrator&#39;s Guide](https://zookeeper.apache.org/doc/r3.4.10/zookeeperAdmin.html#sc_maintenance)\r\n&quot;incorrect Java heap size\r\nYou should take special care to set your Java max heap size correctly. In particular, you should not create a situation in which ZooKeeper swaps to disk...&quot;\r\n\r\nThe guide does not give instructions on how to set the max heap size. I&#39;ve already done a little searching and found suggestions to create a java.env in the zookeeper/conf directory. I&#39;ve done this and have tried setting the variable using two different methods I&#39;ve found during research:\r\n\r\nAttempt #1:\r\n```\r\nexport JVMFLAGS=&quot;-Xmx6144m&quot;\r\n```\r\nAttempt #2\r\n```\r\n#!/bin/bash\r\nexport CLASSPATH=&quot;~/zookeeper-3.4.10/conf/log4j.properties&quot;\r\nexport JVMFLAGS=&quot;-Xmx6144m&quot;\r\n```\r\nAfter making these changes, and restarting zookeeper, I checked the java heap size with:\r\n```\r\njava -XshowSettings:vm\r\n```\r\nAnd the max heap size is not changing.\r\n\r\nWhat are the proper steps for configuring the max heap for zookeeper?\r\n","title":"How do you configure the java heap size for zookeeper?","body":"<p>I am trying to set up Zookeeper 3.4.10 on an Ubuntu 18.04LTS Azure VM.</p>\n<p>Per the <a href=\"https://zookeeper.apache.org/doc/r3.4.10/zookeeperAdmin.html#sc_maintenance\" rel=\"nofollow noreferrer\">ZooKeeper Administrator's Guide</a>\n&quot;incorrect Java heap size\nYou should take special care to set your Java max heap size correctly. In particular, you should not create a situation in which ZooKeeper swaps to disk...&quot;</p>\n<p>The guide does not give instructions on how to set the max heap size. I've already done a little searching and found suggestions to create a java.env in the zookeeper/conf directory. I've done this and have tried setting the variable using two different methods I've found during research:</p>\n<p>Attempt #1:</p>\n<pre><code>export JVMFLAGS=&quot;-Xmx6144m&quot;\n</code></pre>\n<p>Attempt #2</p>\n<pre><code>#!/bin/bash\nexport CLASSPATH=&quot;~/zookeeper-3.4.10/conf/log4j.properties&quot;\nexport JVMFLAGS=&quot;-Xmx6144m&quot;\n</code></pre>\n<p>After making these changes, and restarting zookeeper, I checked the java heap size with:</p>\n<pre><code>java -XshowSettings:vm\n</code></pre>\n<p>And the max heap size is not changing.</p>\n<p>What are the proper steps for configuring the max heap for zookeeper?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":4,"creation_date":1682697086,"post_id":76131152,"comment_id":134261471,"body_markdown":"Very complex topic. It doesn&#39;t has a simple answer.","body":"Very complex topic. It doesn&#39;t has a simple answer."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1682697156,"post_id":76131152,"comment_id":134261498,"body_markdown":"&quot;However many your CPU supports, minus however many seem to be persistently in use already&quot;. Less than that, you&#39;re leaving the CPU underutilized, more than that and you&#39;ll slowing down the work because of threads execution scheduling. So it depends entirely on both the hardware you&#39;re running on, and the software that hardware&#39;s already running, which will be different for every computer.","body":"&quot;However many your CPU supports, minus however many seem to be persistently in use already&quot;. Less than that, you&#39;re leaving the CPU underutilized, more than that and you&#39;ll slowing down the work because of threads execution scheduling. So it depends entirely on both the hardware you&#39;re running on, and the software that hardware&#39;s already running, which will be different for every computer."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1682698198,"post_id":76131152,"comment_id":134261697,"body_markdown":"OTOH, in order to deal with varying loads, the Fork-Join system in Java by default uses 4 x the number of CPU cores so that the system doesn&#39;t get starved for threads.  600 total threads is probably too much but some number less than 100 is probably acceptable.  I&#39;d be more concerned about why you have 600 threads in the first place, it seems like something is generating too many threads and needs a different strategy.","body":"OTOH, in order to deal with varying loads, the Fork-Join system in Java by default uses 4 x the number of CPU cores so that the system doesn&#39;t get starved for threads.  600 total threads is probably too much but some number less than 100 is probably acceptable.  I&#39;d be more concerned about why you have 600 threads in the first place, it seems like something is generating too many threads and needs a different strategy."},{"owner":{"account_id":23229984,"reputation":27,"user_id":17320905,"display_name":"sion"},"score":0,"creation_date":1682699075,"post_id":76131152,"comment_id":134261883,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I just want to find a suitable pool size under the idea condition  .","body":"@Mike&#39;Pomax&#39;Kamermans I just want to find a suitable pool size under the idea condition  ."},{"owner":{"account_id":23229984,"reputation":27,"user_id":17320905,"display_name":"sion"},"score":0,"creation_date":1682699078,"post_id":76131152,"comment_id":134261884,"body_markdown":"@markspace 600 threads are created because the thread pool size is set to 600 now, and the QPS of this service is more than 1000. It seems like reducing the pool size to some number around 50 is a good idea.","body":"@markspace 600 threads are created because the thread pool size is set to 600 now, and the QPS of this service is more than 1000. It seems like reducing the pool size to some number around 50 is a good idea."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1682700230,"post_id":76131152,"comment_id":134262142,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans, What do you mean by &quot;However many your CPU supports?&quot; Do you mean, however many your CPU can execute in parallel? That&#39;s great advice if the threads are working cooperatively to perform a massive calculation, but there are other reasons for using threads. In a web crawler, for example, it might make sense if, for every thread that actually was running on a CPU, there were ten other threads that were blocked, awaiting replies from different web sites.","body":"@Mike&#39;Pomax&#39;Kamermans, What do you mean by &quot;However many your CPU supports?&quot; Do you mean, however many your CPU can execute in parallel? That&#39;s great advice if the threads are working cooperatively to perform a massive calculation, but there are other reasons for using threads. In a web crawler, for example, it might make sense if, for every thread that actually was running on a CPU, there were ten other threads that were blocked, awaiting replies from different web sites."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1682700509,"post_id":76131152,"comment_id":134262203,"body_markdown":"@SolomonSlow tying back into the first comment.","body":"@SolomonSlow tying back into the first comment."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1682700622,"post_id":76131152,"comment_id":134262230,"body_markdown":"@sion There are no ideal conditions, you&#39;re always going to have to juggle your own threads around whatever the rest of the system&#39;s doing, so figure out how many threads you absolutely need at minimum, and benchmark your project in terms of when adding more threads leads to diminishing returns. Ideally in a way that lets you do that analysis while your project&#39;s running so it can limit or expand the number of threads it&#39;s using. There are no simple solutions here, you picked one of the hardest problems to ask about.","body":"@sion There are no ideal conditions, you&#39;re always going to have to juggle your own threads around whatever the rest of the system&#39;s doing, so figure out how many threads you absolutely need at minimum, and benchmark your project in terms of when adding more threads leads to diminishing returns. Ideally in a way that lets you do that analysis while your project&#39;s running so it can limit or expand the number of threads it&#39;s using. There are no simple solutions here, you picked one of the hardest problems to ask about."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1682756738,"post_id":76131152,"comment_id":134268303,"body_markdown":"Add details on which thread pool are you talking about, and what do those thread do - that may help you decide on more suitable balance.","body":"Add details on which thread pool are you talking about, and what do those thread do - that may help you decide on more suitable balance."}],"owner":{"account_id":23229984,"reputation":27,"user_id":17320905,"display_name":"sion"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682696843,"creation_date":1682696216,"question_id":76131152,"body_markdown":"I am digging into the stack dumped by jstack to find out the reason why CPU usage is quite high. According to the stack, there are more than 200 threads RUNNABLE and 400 threads WAITING. Should I reduce the thread pool until RUNNABLE threads reducing to 8, which is the number of cores.\r\n\r\nIs there any good documents about how to adjust the thread pool size.\r\n\r\nThere are many blogs suggesting to set thread pool size according to the time cost by waiting time and cpu time, but there is no idea tool to testing them. I am not quite familiar tuning java application, but it is common sense that only 8 thread can be executed at the same time in a machine with 8 cores.\r\n","title":"How many runnable thread is suitable in jvm?","body":"<p>I am digging into the stack dumped by jstack to find out the reason why CPU usage is quite high. According to the stack, there are more than 200 threads RUNNABLE and 400 threads WAITING. Should I reduce the thread pool until RUNNABLE threads reducing to 8, which is the number of cores.</p>\n<p>Is there any good documents about how to adjust the thread pool size.</p>\n<p>There are many blogs suggesting to set thread pool size according to the time cost by waiting time and cpu time, but there is no idea tool to testing them. I am not quite familiar tuning java application, but it is common sense that only 8 thread can be executed at the same time in a machine with 8 cores.</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":8104502,"reputation":48,"user_id":6106524,"display_name":"Anatolie Lupacescu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1512046542,"creation_date":1512046542,"answer_id":47574061,"question_id":47573521,"body_markdown":"When do you want to choose the job you want to run?\r\nIf it&#39;s before the application starts I would recommend using profiles and then activating the profile for the job you want to run (`-Dspring.profiles.active=job1`)\r\nOr if you want to choose during run-time then just @Autowire both of your jobs you can use qualifiers like described here: https://stackoverflow.com/questions/40830548/spring-autowired-and-qualifier","title":"Have multiple jobs and choose which one I want to run in Spring","body":"<p>When do you want to choose the job you want to run?\nIf it's before the application starts I would recommend using profiles and then activating the profile for the job you want to run (<code>-Dspring.profiles.active=job1</code>)\nOr if you want to choose during run-time then just @Autowire both of your jobs you can use qualifiers like described here: <a href=\"https://stackoverflow.com/questions/40830548/spring-autowired-and-qualifier\">Spring @Autowired and @Qualifier</a></p>\n"}],"owner":{"account_id":2664162,"reputation":538,"user_id":2303116,"accept_rate":82,"display_name":"Julia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47574061,"answer_count":1,"score":0,"last_activity_date":1682696814,"creation_date":1512044913,"question_id":47573521,"body_markdown":"I need to implement two different jobs, and choose which one of them I want to run, but I currently can&#39;t, it is giving me the following error:\r\n\r\n&gt;Field processJob in JobInvokerController required a single bean, but 2 were found:  \r\n&gt;- procesaClientesJob: defined by method &#39;procesaClientesJob&#39; in class path resource [BatchConfig.class]  \r\n&gt;- procesaParcialClientesJob: defined by method &#39;procesaParcialClientesJob&#39; in class path resource [BatchConfig.class]\r\n\r\n\r\nAction:\r\n\r\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\r\n\r\nMy BatchConfig.java is like:\r\n\r\n[....]\r\n\r\n    @Bean\r\n    \tJob procesaClientesJob(JobBuilderFactory jobBuilderFactory,\r\n    \t\t\t\t\t\t   @Qualifier(&quot;flowCargaIdsClientes&quot;) Flow flowCargaIdsClientes,\r\n    \t\t\t\t\t\t   @Qualifier(&quot;flowCargaDatosClientes&quot;) Flow flowCargaDatosClientes,\r\n    \t\t\t\t\t\t   @Qualifier(&quot;flowCargaParcialIdsClientes&quot;) Flow flowCargaParcialIdsClientes,\r\n    \t\t\t\t\t\t   @Qualifier(&quot;flowCargaParcialDatosClientes&quot;) Flow flowCargaParcialDatosClientes\r\n    \t\t\t\t\t\t   ) {\r\n    \t\treturn jobBuilderFactory.get(&quot;procesaClientesJob&quot;)\r\n    \t\t\t\t.incrementer(new RunIdIncrementer())\r\n    \t\t\t\t.start(flowCargaIdsClientes).next(flowCargaDatosClientes).end()\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    \t\r\n    \t@Bean\r\n    \tJob procesaParcialClientesJob(JobBuilderFactory jobBuilderFactory,\r\n    \t\t\t\t\t\t   @Qualifier(&quot;flowCargaParcialIdsClientes&quot;) Flow flowCargaParcialIdsClientes,\r\n    \t\t\t\t\t\t   @Qualifier(&quot;flowCargaParcialDatosClientes&quot;) Flow flowCargaParcialDatosClientes\r\n    \t\t\t\t\t\t   ) {\r\n    \t\treturn jobBuilderFactory.get(&quot;procesaClientesJob&quot;)\r\n    \t\t\t\t\t\t\t\t.incrementer(new RunIdIncrementer())\r\n    \t\t\t\t\t\t\t\t.start(flowCargaParcialIdsClientes).next(flowCargaParcialDatosClientes).end()\r\n    \t\t\t\t\t\t\t\t.build();\r\n    \t}\r\n\r\nMy class JobInvokeController.java is like:\r\n\r\n    @RestController\r\n    public class JobInvokerController {\r\n    \tprivate static final Logger log = Logger.getLogger(JobInvokerController.class);\r\n    \t\r\n        @Autowired\r\n        JobLauncher jobLauncher;\r\n     \r\n        @Autowired\r\n        Job processJob;\r\n     \r\n        @GetMapping(&quot;/invokejob/{strFecha}&quot;)\r\n        public String invokejob(@PathVariable String strFecha) throws Exception {\r\n        \tDate fecha;\r\n        \tif (log.isDebugEnabled()) {\r\n        \t\tlog.debug(&quot;Procesamos el par&#225;metro de entrada &quot; + strFecha);\r\n        \t}\r\n    \r\n        \ttry {\r\n        \t\tif (!StringUtils.isEmpty(strFecha)) {\r\n        \t\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd&quot;);\r\n            \t\tfecha = sdf.parse(strFecha);\r\n            \t} else {\r\n            \t\tfecha = new Date();\r\n            \t}\r\n        \t} catch (Exception e) {\r\n        \t\tfecha = new Date();\r\n        \t}\r\n    \r\n        \tif (log.isDebugEnabled()) {\r\n        \t\tlog.debug(&quot;Invocamos al batch con la fecha: &quot; + fecha);\r\n        \t}\r\n        \t\r\n        \tJobParameters jobParameters = new JobParametersBuilder().addLong(&quot;time&quot;,System.currentTimeMillis()).addDate(&quot;fecha&quot;, fecha).toJobParameters();\r\n            jobLauncher.run(processJob, jobParameters);\r\n     \r\n            return &quot;Batch job has been invoked&quot;;\r\n        }\r\n        \r\n    }\r\n\r\nAnd I also have a SpringBatchApplication.java:\r\n\r\n    @SpringBootApplication\r\n    public class SpringBatchApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringBatchApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nHow can I have two simultaneous jobs and choose what I want to run?","title":"Have multiple jobs and choose which one I want to run in Spring","body":"<p>I need to implement two different jobs, and choose which one of them I want to run, but I currently can't, it is giving me the following error:</p>\n<blockquote>\n<p>Field processJob in JobInvokerController required a single bean, but 2 were found:</p>\n<ul>\n<li>procesaClientesJob: defined by method 'procesaClientesJob' in class path resource [BatchConfig.class]</li>\n<li>procesaParcialClientesJob: defined by method 'procesaParcialClientesJob' in class path resource [BatchConfig.class]</li>\n</ul>\n</blockquote>\n<p>Action:</p>\n<p>Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed</p>\n<p>My BatchConfig.java is like:</p>\n<p>[....]</p>\n<pre><code>@Bean\n    Job procesaClientesJob(JobBuilderFactory jobBuilderFactory,\n                           @Qualifier(&quot;flowCargaIdsClientes&quot;) Flow flowCargaIdsClientes,\n                           @Qualifier(&quot;flowCargaDatosClientes&quot;) Flow flowCargaDatosClientes,\n                           @Qualifier(&quot;flowCargaParcialIdsClientes&quot;) Flow flowCargaParcialIdsClientes,\n                           @Qualifier(&quot;flowCargaParcialDatosClientes&quot;) Flow flowCargaParcialDatosClientes\n                           ) {\n        return jobBuilderFactory.get(&quot;procesaClientesJob&quot;)\n                .incrementer(new RunIdIncrementer())\n                .start(flowCargaIdsClientes).next(flowCargaDatosClientes).end()\n                .build();\n    }\n\n    \n    @Bean\n    Job procesaParcialClientesJob(JobBuilderFactory jobBuilderFactory,\n                           @Qualifier(&quot;flowCargaParcialIdsClientes&quot;) Flow flowCargaParcialIdsClientes,\n                           @Qualifier(&quot;flowCargaParcialDatosClientes&quot;) Flow flowCargaParcialDatosClientes\n                           ) {\n        return jobBuilderFactory.get(&quot;procesaClientesJob&quot;)\n                                .incrementer(new RunIdIncrementer())\n                                .start(flowCargaParcialIdsClientes).next(flowCargaParcialDatosClientes).end()\n                                .build();\n    }\n</code></pre>\n<p>My class JobInvokeController.java is like:</p>\n<pre><code>@RestController\npublic class JobInvokerController {\n    private static final Logger log = Logger.getLogger(JobInvokerController.class);\n    \n    @Autowired\n    JobLauncher jobLauncher;\n \n    @Autowired\n    Job processJob;\n \n    @GetMapping(&quot;/invokejob/{strFecha}&quot;)\n    public String invokejob(@PathVariable String strFecha) throws Exception {\n        Date fecha;\n        if (log.isDebugEnabled()) {\n            log.debug(&quot;Procesamos el parmetro de entrada &quot; + strFecha);\n        }\n\n        try {\n            if (!StringUtils.isEmpty(strFecha)) {\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd&quot;);\n                fecha = sdf.parse(strFecha);\n            } else {\n                fecha = new Date();\n            }\n        } catch (Exception e) {\n            fecha = new Date();\n        }\n\n        if (log.isDebugEnabled()) {\n            log.debug(&quot;Invocamos al batch con la fecha: &quot; + fecha);\n        }\n        \n        JobParameters jobParameters = new JobParametersBuilder().addLong(&quot;time&quot;,System.currentTimeMillis()).addDate(&quot;fecha&quot;, fecha).toJobParameters();\n        jobLauncher.run(processJob, jobParameters);\n \n        return &quot;Batch job has been invoked&quot;;\n    }\n    \n}\n</code></pre>\n<p>And I also have a SpringBatchApplication.java:</p>\n<pre><code>@SpringBootApplication\npublic class SpringBatchApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBatchApplication.class, args);\n    }\n}\n</code></pre>\n<p>How can I have two simultaneous jobs and choose what I want to run?</p>\n"},{"tags":["java","android","kotlin","datetime"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":3,"creation_date":1682695223,"post_id":76130927,"comment_id":134261073,"body_markdown":"What is `DateUtils`?","body":"What is <code>DateUtils</code>?"},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":1,"creation_date":1682695963,"post_id":76130927,"comment_id":134261232,"body_markdown":"I think it&#39;s from Android: https://developer.android.com/reference/android/text/format/DateUtils#getRelativeTimeSpanString(android.content.Context,%20long,%20boolean)","body":"I think it&#39;s from Android: <a href=\"https://developer.android.com/reference/android/text/format/DateUtils#getRelativeTimeSpanString(android.content.Context,%20long,%20boolean)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/text/format/&hellip;</a>"},{"owner":{"account_id":10465788,"reputation":12036,"user_id":7715250,"accept_rate":74,"display_name":"J. Doe"},"score":1,"creation_date":1682696074,"post_id":76130927,"comment_id":134261253,"body_markdown":"@SedJ601 I am sorry, I didn&#39;t include it in the question. I added the fully qualified path, hopefully its more clear now!","body":"@SedJ601 I am sorry, I didn&#39;t include it in the question. I added the fully qualified path, hopefully its more clear now!"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1682696277,"post_id":76130927,"comment_id":134261308,"body_markdown":"I think you are using [this](https://developer.android.com/reference/android/text/format/DateUtils#getRelativeTimeSpanString(long,%20long,%20long,%20int)) method. It&#39;s not going to show any time. It is going to show time as a time relative to now, according to the document. Things like `42 minutes ago`, `Yesterday`, `Tomorrow`, etc.","body":"I think you are using <a href=\"https://developer.android.com/reference/android/text/format/DateUtils#getRelativeTimeSpanString(long,%20long,%20long,%20int)\" rel=\"nofollow noreferrer\">this</a> method. It&#39;s not going to show any time. It is going to show time as a time relative to now, according to the document. Things like <code>42 minutes ago</code>, <code>Yesterday</code>, <code>Tomorrow</code>, etc."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1682696551,"post_id":76130927,"comment_id":134261364,"body_markdown":"It&#39;s clearer now.","body":"It&#39;s clearer now."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1682696672,"post_id":76130927,"comment_id":134261393,"body_markdown":"I think this method only takes one of two flags, `FORMAT_NUMERIC_DATE` or `FORMAT_ABBREV_RELATIVE`. I am not 100% sure about this, though. My Android is very limited.","body":"I think this method only takes one of two flags, <code>FORMAT_NUMERIC_DATE</code> or <code>FORMAT_ABBREV_RELATIVE</code>. I am not 100% sure about this, though. My Android is very limited."}],"answers":[{"tags":[],"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682696630,"creation_date":1682696630,"answer_id":76131214,"question_id":76130927,"body_markdown":"According to the documentation, `FORMAT_SHOW_TIME` is only relevant to method [`formatDateRange`][1]. The documentation for [`getRelativeTimeSpanString`][2] says the only valid flags are `FORMAT_NUMERIC_DATE or FORMAT_ABBREV_RELATIVE` so I&#39;d say it&#39;s working as intended\r\n \r\n[1]: https://developer.android.com/reference/android/text/format/DateUtils#formatDateRange(android.content.Context,%20java.util.Formatter,%20long,%20long,%20int,%20java.lang.String)\r\n[2]: https://developer.android.com/reference/android/text/format/DateUtils#getRelativeTimeSpanString(long,%20long,%20long,%20int)","title":"Why does FORMAT_SHOW_TIME doesn&#39;t show the time when using getRelativeTimeSpanString?","body":"<p>According to the documentation, <code>FORMAT_SHOW_TIME</code> is only relevant to method <a href=\"https://developer.android.com/reference/android/text/format/DateUtils#formatDateRange(android.content.Context,%20java.util.Formatter,%20long,%20long,%20int,%20java.lang.String)\" rel=\"nofollow noreferrer\"><code>formatDateRange</code></a>. The documentation for <a href=\"https://developer.android.com/reference/android/text/format/DateUtils#getRelativeTimeSpanString(long,%20long,%20long,%20int)\" rel=\"nofollow noreferrer\"><code>getRelativeTimeSpanString</code></a> says the only valid flags are <code>FORMAT_NUMERIC_DATE or FORMAT_ABBREV_RELATIVE</code> so I'd say it's working as intended</p>\n"}],"owner":{"account_id":10465788,"reputation":12036,"user_id":7715250,"accept_rate":74,"display_name":"J. Doe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682696630,"creation_date":1682694702,"question_id":76130927,"body_markdown":"This just gives me `Yesterday`, however I would expect `Yesterday, 11:00 AM` because I used the `FORMAT_SHOW_TIME` flag. Why doesn&#39;t this work?\r\n\r\n```\r\nandroid.text.format.DateUtils.getRelativeTimeSpanString(\r\n    currentTimeInMilliseconds() - 1_000 * 60 * 60 * 25,\r\n    System.currentTimeMillis(),\r\n    MINUTE_IN_MILLIS,\r\n    FORMAT_SHOW_TIME\r\n)\r\n```","title":"Why does FORMAT_SHOW_TIME doesn&#39;t show the time when using getRelativeTimeSpanString?","body":"<p>This just gives me <code>Yesterday</code>, however I would expect <code>Yesterday, 11:00 AM</code> because I used the <code>FORMAT_SHOW_TIME</code> flag. Why doesn't this work?</p>\n<pre><code>android.text.format.DateUtils.getRelativeTimeSpanString(\n    currentTimeInMilliseconds() - 1_000 * 60 * 60 * 25,\n    System.currentTimeMillis(),\n    MINUTE_IN_MILLIS,\n    FORMAT_SHOW_TIME\n)\n</code></pre>\n"},{"tags":["java","mysql","jdbc","precision"],"comments":[{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1682702103,"post_id":76130901,"comment_id":134262536,"body_markdown":"`float` is an approximate numeric data type all the time, so you shouldn&#39;t rely on it not rounding off. Read https://dev.mysql.com/doc/refman/8.0/en/problems-with-float.html","body":"<code>float</code> is an approximate numeric data type all the time, so you shouldn&#39;t rely on it not rounding off. Read <a href=\"https://dev.mysql.com/doc/refman/8.0/en/problems-with-float.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/8.0/en/problems-with-float.html</a>"}],"owner":{"account_id":2333642,"reputation":4060,"user_id":2046462,"accept_rate":63,"display_name":"Kannan Ramamoorthy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682696576,"creation_date":1682694525,"question_id":76130901,"body_markdown":"In our application recently we had to change the Mysql connection param `useServerPrepStmts` from `true` to `false` for various reason.\r\n\r\nAfter the change, we found that, this started affecting the precision of the value of `float` columns queried from DB. When the param was `true`, we were exactly getting what we were setting. After it is set to `false`, the float values are rounded off to 5 digits. \r\n\r\nAny idea why is this happening and what&#39;s the right way to fix it?","title":"Mysql useServerPrepStmts affects the precision of queried float value","body":"<p>In our application recently we had to change the Mysql connection param <code>useServerPrepStmts</code> from <code>true</code> to <code>false</code> for various reason.</p>\n<p>After the change, we found that, this started affecting the precision of the value of <code>float</code> columns queried from DB. When the param was <code>true</code>, we were exactly getting what we were setting. After it is set to <code>false</code>, the float values are rounded off to 5 digits.</p>\n<p>Any idea why is this happening and what's the right way to fix it?</p>\n"},{"tags":["java","eclipse","class","object","superclass"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1682694192,"post_id":76130827,"comment_id":134260837,"body_markdown":"Navigate &gt; Open Type... and type in Object. It is not all that interesting as a lot of methods are `native`","body":"Navigate &gt; Open Type... and type in Object. It is not all that interesting as a lot of methods are <code>native</code>"}],"answers":[{"tags":[],"owner":{"account_id":11986209,"reputation":1,"user_id":8770656,"display_name":"user8770656"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682696563,"creation_date":1682696563,"answer_id":76131200,"question_id":76130827,"body_markdown":"Hold on ctrl key and right click on any class you want see source code.","title":"How to open Object class of java.lang package in eclipse ide?","body":"<p>Hold on ctrl key and right click on any class you want see source code.</p>\n"}],"owner":{"account_id":28446559,"reputation":1,"user_id":21765193,"display_name":"Hema"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682696563,"creation_date":1682693899,"question_id":76130827,"body_markdown":"How to open the Object class of java.lang package in eclipse ide? Every class in java is directly or indirectly derived from the Object class, hence it is a child of the Object class. So how do I view this Object class in eclipse ide? \r\n\r\nObject class is the default parent class of all the classes in java but I just want to open this class file in eclipse ide. I&#39;m unable to do it. How to open this class file?","title":"How to open Object class of java.lang package in eclipse ide?","body":"<p>How to open the Object class of java.lang package in eclipse ide? Every class in java is directly or indirectly derived from the Object class, hence it is a child of the Object class. So how do I view this Object class in eclipse ide?</p>\n<p>Object class is the default parent class of all the classes in java but I just want to open this class file in eclipse ide. I'm unable to do it. How to open this class file?</p>\n"},{"tags":["java","android","android-package-managers"],"owner":{"account_id":22534564,"reputation":1,"user_id":16726070,"display_name":"Kira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682696472,"creation_date":1682696472,"question_id":76131189,"body_markdown":"Im trying to get all apps and separate it to User Installed and System apps using PackageManager.I can get all apps but I can&#39;t figure out how to separate them.\r\n\r\nThis is my current approach:\r\n```java\r\npublic List&lt;ApplicationInfo&gt; getApps(String s) {\r\n\t\tList&lt;ApplicationInfo&gt; list = getPackageManager().getInstalledApplications(PackageManager.GET_META_DATA);\r\n\t\tList&lt;ApplicationInfo&gt; userApps = new ArrayList&lt;&gt;();\r\n\t\tList&lt;ApplicationInfo&gt; sysApps = new ArrayList&lt;&gt;();\r\n\r\n\t\tfor (ApplicationInfo app : list) {\r\n\r\n\t\t\tif (getPackageManager().getLaunchIntentForPackage(app.packageName)==null) {\r\n\t\t\t\t\r\n\t\t\t\tsysApps.add(app);\r\n\t\t\t} else {\r\n\t\t\t\tuserApps.add(app);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(s.equals(USER_APPS)){\r\n\t\t\treturn userApps;\r\n\t\t}else {\r\n\t\t\treturn sysApps;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThis returns user apps but there are still some pre installed apps like clock, calendar, weather etc, which are not safe to close. Any app that is preinstalled should be considered a system app and not a user app.\r\n\r\nI need this in order to automatically force-stop apps.","title":"How To Get System Apps And User Installed Apps separately","body":"<p>Im trying to get all apps and separate it to User Installed and System apps using PackageManager.I can get all apps but I can't figure out how to separate them.</p>\n<p>This is my current approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;ApplicationInfo&gt; getApps(String s) {\n        List&lt;ApplicationInfo&gt; list = getPackageManager().getInstalledApplications(PackageManager.GET_META_DATA);\n        List&lt;ApplicationInfo&gt; userApps = new ArrayList&lt;&gt;();\n        List&lt;ApplicationInfo&gt; sysApps = new ArrayList&lt;&gt;();\n\n        for (ApplicationInfo app : list) {\n\n            if (getPackageManager().getLaunchIntentForPackage(app.packageName)==null) {\n                \n                sysApps.add(app);\n            } else {\n                userApps.add(app);\n            }\n        }\n\n        if(s.equals(USER_APPS)){\n            return userApps;\n        }else {\n            return sysApps;\n        }\n    }\n</code></pre>\n<p>This returns user apps but there are still some pre installed apps like clock, calendar, weather etc, which are not safe to close. Any app that is preinstalled should be considered a system app and not a user app.</p>\n<p>I need this in order to automatically force-stop apps.</p>\n"},{"tags":["java","binary-search-tree"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1682626450,"post_id":76124245,"comment_id":134249836,"body_markdown":"Your code is never returning a node from the tree. It returns a newly constructed node. This is not what is expected.","body":"Your code is never returning a node from the tree. It returns a newly constructed node. This is not what is expected."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1682626832,"post_id":76124245,"comment_id":134249909,"body_markdown":"When two nodes have values that are not in the expected BST order, then which of the two nodes are the one to return? Can you quote the code challenge literally?","body":"When two nodes have values that are not in the expected BST order, then which of the two nodes are the one to return? Can you quote the code challenge literally?"},{"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"score":0,"creation_date":1682627686,"post_id":76124245,"comment_id":134250050,"body_markdown":"You don&#39;t need maxValue or minValue methods. Just keep checking the left and right nodes at each node for BST property and recurse. And your code probably should return rootNode instead of rootNode.left or rootNode.right if the BST property is broken.","body":"You don&#39;t need maxValue or minValue methods. Just keep checking the left and right nodes at each node for BST property and recurse. And your code probably should return rootNode instead of rootNode.left or rootNode.right if the BST property is broken."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1682628820,"post_id":76124245,"comment_id":134250250,"body_markdown":"@SomeDude, how do you know they *&quot;probably should return rootNode instead of rooNode.left or rootNode.right&quot;*? Do you have access to the original code challenge where this is specified?","body":"@SomeDude, how do you know they <i>&quot;probably should return rootNode instead of rooNode.left or rootNode.right&quot;</i>? Do you have access to the original code challenge where this is specified?"},{"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"score":0,"creation_date":1682628982,"post_id":76124245,"comment_id":134250272,"body_markdown":"@trincot I don&#39;t know the code challenge. It is my guess that it should return rootNode because you don&#39;t know whether it is left or right that breaks the property , it could be both in which case we don&#39;t know what to return. And that could be one of the reasons why OP&#39;s code is returning so many incorrect values (it is inefficient nonetheless and incorrect too as it returns new Node)","body":"@trincot I don&#39;t know the code challenge. It is my guess that it should return rootNode because you don&#39;t know whether it is left or right that breaks the property , it could be both in which case we don&#39;t know what to return. And that could be one of the reasons why OP&#39;s code is returning so many incorrect values (it is inefficient nonetheless and incorrect too as it returns new Node)"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1682630034,"post_id":76124245,"comment_id":134250464,"body_markdown":"Well, yes the new Node is the main issue, which I raised at the first comment here, but the argument that there could be more violations doesn&#39;t really work, as there may be other locations in the tree that have violations too. The point is that even when there is only a single violation there are still two nodes involved, and it is not specified which one to return.","body":"Well, yes the new Node is the main issue, which I raised at the first comment here, but the argument that there could be more violations doesn&#39;t really work, as there may be other locations in the tree that have violations too. The point is that even when there is only a single violation there are still two nodes involved, and it is not specified which one to return."},{"owner":{"account_id":28438549,"reputation":7,"user_id":21758270,"display_name":"MissMidg"},"score":0,"creation_date":1682633352,"post_id":76124245,"comment_id":134250942,"body_markdown":"For the challenge it says to implement checkBSTValidity() that takes the tree&#39;s root node as a parameter and returns the node that violating node. A violating node will be one of three things:\nA node in the left subtree of an ancestor with a lesser key\nA node in the right subtree of an ancestor with a greater key\nA node with the left or right field referencing an ancestor","body":"For the challenge it says to implement checkBSTValidity() that takes the tree&#39;s root node as a parameter and returns the node that violating node. A violating node will be one of three things: A node in the left subtree of an ancestor with a lesser key A node in the right subtree of an ancestor with a greater key A node with the left or right field referencing an ancestor"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1682664941,"creation_date":1682628584,"answer_id":76124548,"question_id":76124245,"body_markdown":"The main issue is that your function is creating a new Node instance and returns that, while the task is to return a node that already exists in the tree.\r\n\r\nBut in comments you also mention that the function should check whether a child node is the same node reference as one of its ancestors. There is no provision for that in your code. I would suggest to use a HashSet for that purpose, to which you can add a node each time you recur to one of the sub trees.\r\n\r\nFinally, it is not efficient to call `minValue` and `maxValue` on every node, as this way you&#39;ll visit nodes multiple times, giving the whole process a time complexity of O(&#119899;log&#119899;), while this can be done with O(&#119899;) time complexity.\r\n\r\nOne idea is to pass to the recursive call a &quot;window&quot; that must contain all values in the subtree. Initially this window is unbounded. If the data type for the keys is `int`, we could use `Integer.MIN_VALUE` and `Integer.MAX_VALUE` as boundaries of the window.\r\n\r\nHere is how it could be coded:\r\n\r\n```\r\nprivate static Node checkBSTValidity(Node rootNode, int low, int high,\r\n                                     HashSet&lt;Node&gt; ancestors) {\r\n    if (rootNode == null) {\r\n        return null;\r\n    }\r\n    // Track each ancestor as we traverse down the tree\r\n    ancestors.add(rootNode);\r\n    // Any violation?\r\n    if (rootNode.key &lt; low || rootNode.key &gt; high \r\n            || ancestors.contains(rootNode.left) \r\n            || ancestors.contains(rootNode.right)) {\r\n        return rootNode;\r\n    }\r\n    // Check the sub trees\r\n    Node node = checkBSTValidity(rootNode.left, low, rootNode.key, ancestors);\r\n    if (node == null) {\r\n        node = checkBSTValidity(rootNode.right, rootNode.key, high, ancestors);\r\n    }\r\n    ancestors.remove(rootNode); // Backtrack\r\n    return node;\r\n}\r\n\r\npublic static Node checkBSTValidity(Node rootNode) {\r\n    HashSet&lt;Node&gt; ancestors = new HashSet&lt;&gt;();\r\n    return checkBSTValidity(rootNode, Integer.MIN_VALUE, Integer.MAX_VALUE,\r\n                            ancestors);\r\n}\r\n```\r\n\r\nTo collect all ancestors in a set may seem overkill, but it is needed to track all of them in case duplicate keys are allowed in the tree. We could have a path down the tree with nodes that all have the same keys, and where a child is a reference to one of those ancestors. In that case the key would not violate the BST property, but the back reference should still be detected.\r\n","title":"Java: How to return the node the breaks a binary search tree?","body":"<p>The main issue is that your function is creating a new Node instance and returns that, while the task is to return a node that already exists in the tree.</p>\n<p>But in comments you also mention that the function should check whether a child node is the same node reference as one of its ancestors. There is no provision for that in your code. I would suggest to use a HashSet for that purpose, to which you can add a node each time you recur to one of the sub trees.</p>\n<p>Finally, it is not efficient to call <code>minValue</code> and <code>maxValue</code> on every node, as this way you'll visit nodes multiple times, giving the whole process a time complexity of O(log), while this can be done with O() time complexity.</p>\n<p>One idea is to pass to the recursive call a &quot;window&quot; that must contain all values in the subtree. Initially this window is unbounded. If the data type for the keys is <code>int</code>, we could use <code>Integer.MIN_VALUE</code> and <code>Integer.MAX_VALUE</code> as boundaries of the window.</p>\n<p>Here is how it could be coded:</p>\n<pre><code>private static Node checkBSTValidity(Node rootNode, int low, int high,\n                                     HashSet&lt;Node&gt; ancestors) {\n    if (rootNode == null) {\n        return null;\n    }\n    // Track each ancestor as we traverse down the tree\n    ancestors.add(rootNode);\n    // Any violation?\n    if (rootNode.key &lt; low || rootNode.key &gt; high \n            || ancestors.contains(rootNode.left) \n            || ancestors.contains(rootNode.right)) {\n        return rootNode;\n    }\n    // Check the sub trees\n    Node node = checkBSTValidity(rootNode.left, low, rootNode.key, ancestors);\n    if (node == null) {\n        node = checkBSTValidity(rootNode.right, rootNode.key, high, ancestors);\n    }\n    ancestors.remove(rootNode); // Backtrack\n    return node;\n}\n\npublic static Node checkBSTValidity(Node rootNode) {\n    HashSet&lt;Node&gt; ancestors = new HashSet&lt;&gt;();\n    return checkBSTValidity(rootNode, Integer.MIN_VALUE, Integer.MAX_VALUE,\n                            ancestors);\n}\n</code></pre>\n<p>To collect all ancestors in a set may seem overkill, but it is needed to track all of them in case duplicate keys are allowed in the tree. We could have a path down the tree with nodes that all have the same keys, and where a child is a reference to one of those ancestors. In that case the key would not violate the BST property, but the back reference should still be detected.</p>\n"}],"owner":{"account_id":28438549,"reputation":7,"user_id":21758270,"display_name":"MissMidg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76124548,"answer_count":1,"score":-2,"last_activity_date":1682696226,"creation_date":1682625957,"question_id":76124245,"body_markdown":"Working on a method that is supposed to return the node that breaks a binary search tree, or null if none of them do. A few of the test cases pass but some of them are failing and I&#39;m not sure why. \r\nHere&#39;s my code so far:\r\n\r\n\tpublic static Node checkBSTValidity(Node rootNode) {\r\n\t\t// Your code here (remove the placeholder line below)\r\n\t\tif (rootNode == null) {\r\n\t\t   return null;\r\n\t\t}\r\n\t\t\r\n\t\t// Check if left child node is greater than root node\r\n\t\tif (rootNode.left != null &amp;&amp; maxValue(rootNode.left) &gt;= rootNode.key) {\r\n\t\t   Node node = new Node(maxValue(rootNode.left));\r\n\t\t   return node;\r\n\t\t}\r\n\t\t\r\n\t\t// Check if right child node is less than root node\r\n\t\tif (rootNode.right != null &amp;&amp; minValue(rootNode.right) &lt;= rootNode.key) {\r\n\t\t   Node node = new Node(minValue(rootNode.right));\r\n\t\t   return node;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tNode leftResult = checkBSTValidity(rootNode.left);\r\n\t\t\r\n\t\tif (leftResult != null) {\r\n\t\t   return leftResult;\r\n\t\t}\r\n\t\t\r\n\t\treturn checkBSTValidity(rootNode.right);\r\n\t\t\r\n\t}\r\n\r\nAfter submitting the code above, it says: Invalid tree with left/right child linking to ancestor, and my program produces no output. It also says: Invalid tree with left child&#39;s key greater than parent&#39;s key doesn&#39;t return the correct node. Any help would be appreciated!\r\n\r\nEdit: For the challenge it says to implement checkBSTValidity() that takes the tree&#39;s root node as a parameter and returns the node that is violating tree. A violating node will be one of three things: \r\n\r\n1. A node in the left subtree of an ancestor with a lesser key \r\n2. A node in the right subtree of an ancestor with a greater key \r\n3. A node with the left or right field referencing an ancestor","title":"Java: How to return the node the breaks a binary search tree?","body":"<p>Working on a method that is supposed to return the node that breaks a binary search tree, or null if none of them do. A few of the test cases pass but some of them are failing and I'm not sure why.\nHere's my code so far:</p>\n<pre><code>public static Node checkBSTValidity(Node rootNode) {\n    // Your code here (remove the placeholder line below)\n    if (rootNode == null) {\n       return null;\n    }\n    \n    // Check if left child node is greater than root node\n    if (rootNode.left != null &amp;&amp; maxValue(rootNode.left) &gt;= rootNode.key) {\n       Node node = new Node(maxValue(rootNode.left));\n       return node;\n    }\n    \n    // Check if right child node is less than root node\n    if (rootNode.right != null &amp;&amp; minValue(rootNode.right) &lt;= rootNode.key) {\n       Node node = new Node(minValue(rootNode.right));\n       return node;\n    }\n    \n    \n    Node leftResult = checkBSTValidity(rootNode.left);\n    \n    if (leftResult != null) {\n       return leftResult;\n    }\n    \n    return checkBSTValidity(rootNode.right);\n    \n}\n</code></pre>\n<p>After submitting the code above, it says: Invalid tree with left/right child linking to ancestor, and my program produces no output. It also says: Invalid tree with left child's key greater than parent's key doesn't return the correct node. Any help would be appreciated!</p>\n<p>Edit: For the challenge it says to implement checkBSTValidity() that takes the tree's root node as a parameter and returns the node that is violating tree. A violating node will be one of three things:</p>\n<ol>\n<li>A node in the left subtree of an ancestor with a lesser key</li>\n<li>A node in the right subtree of an ancestor with a greater key</li>\n<li>A node with the left or right field referencing an ancestor</li>\n</ol>\n"},{"tags":["java","jol"],"answers":[{"tags":[],"owner":{"account_id":13840921,"reputation":31,"user_id":9991282,"display_name":"SvenJu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682694184,"creation_date":1682693131,"answer_id":76130740,"question_id":76130264,"body_markdown":"Gradle 7.4.1 with java 17/19 via intellij-plugin no problem with record-sizes.\r\n[![intellij-plugin with size][1]][1]\r\n\r\nopenjdk 19.0.2: Unsafe.java\r\n[![Unsafe.java with UOE for Record][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Euevc.png\r\n  [2]: https://i.stack.imgur.com/TULGf.png","title":"Does Java Object Layout work with Java Records?","body":"<p>Gradle 7.4.1 with java 17/19 via intellij-plugin no problem with record-sizes.\n<a href=\"https://i.stack.imgur.com/Euevc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Euevc.png\" alt=\"intellij-plugin with size\" /></a></p>\n<p>openjdk 19.0.2: Unsafe.java\n<a href=\"https://i.stack.imgur.com/TULGf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TULGf.png\" alt=\"Unsafe.java with UOE for Record\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1682695952,"creation_date":1682695047,"answer_id":76130970,"question_id":76130264,"body_markdown":"The answer is **Yes**, Java Object Layout does work with Java Records and requires the option `-Djol.magicFieldOffset=true` to be passed on the command line. According to Aleksey, this option was added specifically to work with records.\r\n\r\nI was running the code from IntelliJ and was setting the option in program arguments text box instead of vmoptions text box (which I had to add first). Adding the option to vmoptions in Run/Debug Configurations fixed the issue.","title":"Does Java Object Layout work with Java Records?","body":"<p>The answer is <strong>Yes</strong>, Java Object Layout does work with Java Records and requires the option <code>-Djol.magicFieldOffset=true</code> to be passed on the command line. According to Aleksey, this option was added specifically to work with records.</p>\n<p>I was running the code from IntelliJ and was setting the option in program arguments text box instead of vmoptions text box (which I had to add first). Adding the option to vmoptions in Run/Debug Configurations fixed the issue.</p>\n"}],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":76130970,"answer_count":2,"score":5,"last_activity_date":1682695952,"creation_date":1682689849,"question_id":76130264,"body_markdown":"I&#39;m attempting to use Java Object Layout ([JOL](https://github.com/openjdk/jol)) to measure the instance size of an object that holds onto instances of some Java Records. I am getting an `UnsupportedOperationException` with a description &quot;can&#39;t get field offset on a record class&quot; when using `GraphLayout.parseInstance`. I get the same error when using `ClassLayout.parseClass`. \r\n\r\nI was initially using Java 20, but have downgraded to Java 17. I tried the last two versions of JOL (0.17 and 0.16). I tried the recommendation from the stack trace &quot;Cannot get the field offset, try with -Djol.magicFieldOffset=true&quot;. It looks like Records are not supported in `HotspotUnsafe.fieldOffset` and specifically at line 647 in Unsafe.\r\n\r\nHere&#39;s an example of a class that passes and similar record that throws the exception.\r\n\r\n```\r\npublic class Outer {\r\n    public static void main(String[] args) {\r\n        // Passes - outputs 72\r\n        System.out.println(GraphLayout.parseInstance(new A(1, &quot;one&quot;)).totalSize());\r\n\r\n        // Fails with UnsupportedOperationException\r\n        // &quot;can&#39;t get field offset on a record class: private final int Outer$B.value&quot;\r\n        // sun.misc.Unsafe.objectFieldOffset - line 648\r\n        System.out.println(GraphLayout.parseInstance(new B(1, &quot;one&quot;)).totalSize());\r\n    }\r\n\r\n    public static class A {\r\n        int value;\r\n        String name;\r\n\r\n        public A(int value, String name) {\r\n            this.value = value;\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n    public static record B(int value, String name) {\r\n    }\r\n}\r\n```\r\n\r\nI did some searching to find examples of using JOL with Java Records but did not find anything. Is this possible with JOL currently, using some configuration settings I may have missed?\r\n","title":"Does Java Object Layout work with Java Records?","body":"<p>I'm attempting to use Java Object Layout (<a href=\"https://github.com/openjdk/jol\" rel=\"noreferrer\">JOL</a>) to measure the instance size of an object that holds onto instances of some Java Records. I am getting an <code>UnsupportedOperationException</code> with a description &quot;can't get field offset on a record class&quot; when using <code>GraphLayout.parseInstance</code>. I get the same error when using <code>ClassLayout.parseClass</code>.</p>\n<p>I was initially using Java 20, but have downgraded to Java 17. I tried the last two versions of JOL (0.17 and 0.16). I tried the recommendation from the stack trace &quot;Cannot get the field offset, try with -Djol.magicFieldOffset=true&quot;. It looks like Records are not supported in <code>HotspotUnsafe.fieldOffset</code> and specifically at line 647 in Unsafe.</p>\n<p>Here's an example of a class that passes and similar record that throws the exception.</p>\n<pre><code>public class Outer {\n    public static void main(String[] args) {\n        // Passes - outputs 72\n        System.out.println(GraphLayout.parseInstance(new A(1, &quot;one&quot;)).totalSize());\n\n        // Fails with UnsupportedOperationException\n        // &quot;can't get field offset on a record class: private final int Outer$B.value&quot;\n        // sun.misc.Unsafe.objectFieldOffset - line 648\n        System.out.println(GraphLayout.parseInstance(new B(1, &quot;one&quot;)).totalSize());\n    }\n\n    public static class A {\n        int value;\n        String name;\n\n        public A(int value, String name) {\n            this.value = value;\n            this.name = name;\n        }\n    }\n\n    public static record B(int value, String name) {\n    }\n}\n</code></pre>\n<p>I did some searching to find examples of using JOL with Java Records but did not find anything. Is this possible with JOL currently, using some configuration settings I may have missed?</p>\n"},{"tags":["java","request-queueing"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1682686678,"post_id":76129793,"comment_id":134258906,"body_markdown":"Remove the `static` keyword. You cannot access `this` when your function is static.","body":"Remove the <code>static</code> keyword. You cannot access <code>this</code> when your function is static."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":1,"creation_date":1682687771,"post_id":76129793,"comment_id":134259165,"body_markdown":"Note that JavaScript and Java aren&#39;t related, so have removed the tag for the former.","body":"Note that JavaScript and Java aren&#39;t related, so have removed the tag for the former."},{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":0,"creation_date":1682688309,"post_id":76129793,"comment_id":134259286,"body_markdown":"Does this answer your question? [Why can&#39;t we use &#39;this&#39; keyword in a static method](https://stackoverflow.com/questions/11664522/why-cant-we-use-this-keyword-in-a-static-method)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11664522/why-cant-we-use-this-keyword-in-a-static-method\">Why can&#39;t we use &#39;this&#39; keyword in a static method</a>"}],"owner":{"account_id":28445455,"reputation":1,"user_id":21764229,"display_name":"Adrian Mos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682850365,"answer_count":0,"score":0,"last_activity_date":1682695618,"creation_date":1682686451,"question_id":76129793,"body_markdown":"```java\r\npublic static List&lt;GasType&gt; getGasTypeList() {\r\n    RequestQueue queue = Volley.newRequestQueue(this);\r\n}\r\n```\r\n\r\nthis can not be referenced from a static context\r\n\r\nI tried everything I know but still no result.","title":"how to create a Request Queue in a static function","body":"<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;GasType&gt; getGasTypeList() {\n    RequestQueue queue = Volley.newRequestQueue(this);\n}\n</code></pre>\n<p>this can not be referenced from a static context</p>\n<p>I tried everything I know but still no result.</p>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":75156,"reputation":12077,"user_id":215651,"accept_rate":50,"display_name":"lreeder"},"score":2,"creation_date":1391830769,"post_id":21641398,"comment_id":32706451,"body_markdown":"sqlite-jdbc4-3.8.2-SNAPSHOT.jar is not in your classpath","body":"sqlite-jdbc4-3.8.2-SNAPSHOT.jar is not in your classpath"},{"owner":{"account_id":9074441,"reputation":833,"user_id":6756523,"display_name":"Paul"},"score":0,"creation_date":1491403594,"post_id":21641398,"comment_id":73539189,"body_markdown":"http://stackoverflow.com/a/43234518/6756523","body":"<a href=\"http://stackoverflow.com/a/43234518/6756523\">stackoverflow.com/a/43234518/6756523</a>"}],"answers":[{"tags":[],"owner":{"account_id":3495598,"reputation":1675,"user_id":2923929,"accept_rate":61,"display_name":"safaiyeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426610663,"creation_date":1391835739,"answer_id":21642148,"question_id":21641398,"body_markdown":"You have to add the .jar to your project. You can simply do that by opening Eclipse, right click the .jar files, then add to project.","title":"ClassNotFoundException: org.sqlite.JDBC","body":"<p>You have to add the .jar to your project. You can simply do that by opening Eclipse, right click the .jar files, then add to project.</p>\n"},{"tags":[],"owner":{"account_id":17580707,"reputation":11,"user_id":12754592,"display_name":"Javu Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615544606,"creation_date":1615544606,"answer_id":66598116,"question_id":21641398,"body_markdown":"You can directly add sqlite-jdbcXXX.jar to your tomcat/lib.","title":"ClassNotFoundException: org.sqlite.JDBC","body":"<p>You can directly add sqlite-jdbcXXX.jar to your tomcat/lib.</p>\n"},{"tags":[],"owner":{"account_id":4666386,"reputation":664,"user_id":3779344,"display_name":"Calvin Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682695504,"creation_date":1682695504,"answer_id":76131053,"question_id":21641398,"body_markdown":"in my case I was using gradle and needed to add\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.sqlite:sqlite-jdbc:3.25.2&#39;\r\n    }","title":"ClassNotFoundException: org.sqlite.JDBC","body":"<p>in my case I was using gradle and needed to add</p>\n<pre><code>dependencies {\n    implementation 'org.sqlite:sqlite-jdbc:3.25.2'\n}\n</code></pre>\n"}],"owner":{"account_id":3985463,"reputation":1,"user_id":3286170,"display_name":"user3286170"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1682695504,"creation_date":1391828815,"question_id":21641398,"body_markdown":"I&#39;m trying to set up a simple database for an Android app using sqlite but got the following error:\r\n\r\n    java.lang.ClassNotFoundException: org.sqlite.JDBC\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:202)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:171)\r\n    \tat testDB.main(testDB.java:16)\r\n    \r\nHere is my code:\r\n    \r\n    public class testDB {\r\n        public static void main(String args[]) {\r\n            Connection c = null;\r\n            try {\r\n            \tClass.forName(&quot;org.sqlite.JDBC&quot;);\r\n                c = DriverManager.getConnection(&quot;jdbc:sqlite:/Users/Dropbox/csProject/test.db&quot;, &quot;&quot;, &quot;&quot;);\r\n            } \r\n        }\r\n\r\nI have added sqlite-jdbc4-3.8.2-SNAPSHOT.jar in the library and I also tried to create a path in my home directory but am still getting the same error..","title":"ClassNotFoundException: org.sqlite.JDBC","body":"<p>I'm trying to set up a simple database for an Android app using sqlite but got the following error:</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.sqlite.JDBC\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:171)\n    at testDB.main(testDB.java:16)\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>public class testDB {\n    public static void main(String args[]) {\n        Connection c = null;\n        try {\n            Class.forName(\"org.sqlite.JDBC\");\n            c = DriverManager.getConnection(\"jdbc:sqlite:/Users/Dropbox/csProject/test.db\", \"\", \"\");\n        } \n    }\n</code></pre>\n\n<p>I have added sqlite-jdbc4-3.8.2-SNAPSHOT.jar in the library and I also tried to create a path in my home directory but am still getting the same error..</p>\n"},{"tags":["java","regex","unicode","coldfusion"],"comments":[{"owner":{"account_id":2054462,"reputation":20774,"user_id":1832636,"accept_rate":67,"display_name":"Dan Bracuk"},"score":0,"creation_date":1682597594,"post_id":76120058,"comment_id":134242893,"body_markdown":"Check cflib.org to see if there is an existing UDF that meets your needs.","body":"Check cflib.org to see if there is an existing UDF that meets your needs."},{"owner":{"account_id":213468,"reputation":103487,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1682599366,"post_id":76120058,"comment_id":134243386,"body_markdown":"The occurrence between each character makes me wonder if you&#39;re source isn&#39;t actually UTF-16 instead of UTF-8.","body":"The occurrence between each character makes me wonder if you&#39;re source isn&#39;t actually UTF-16 instead of UTF-8."},{"owner":{"account_id":28433839,"reputation":41,"user_id":21754183,"display_name":"upgrad3"},"score":0,"creation_date":1682601305,"post_id":76120058,"comment_id":134243955,"body_markdown":"My apologies. It is UTF-16. The other album I was testing was UTF-8 ---- ID3v2.30 82242\ncompression        = false\nunsynchronization  = false\ncrcData            = 0\ncrcDataFlag        = false\nexperimental       = false\nextended           = false\npaddingSize        = 0\nTRCK\nText Encoding = UTF-16\nText = &#255;&#254;1/6","body":"My apologies. It is UTF-16. The other album I was testing was UTF-8 ---- ID3v2.30 82242 compression        = false unsynchronization  = false crcData            = 0 crcDataFlag        = false experimental       = false extended           = false paddingSize        = 0 TRCK Text Encoding = UTF-16 Text = &#255;&#254;1/6"},{"owner":{"account_id":28433839,"reputation":41,"user_id":21754183,"display_name":"upgrad3"},"score":0,"creation_date":1682607886,"post_id":76120058,"comment_id":134245725,"body_markdown":"Thanks for the suggestions. After looking all over, I finally found the solution, and it was simple like I thought. Update in the post.","body":"Thanks for the suggestions. After looking all over, I finally found the solution, and it was simple like I thought. Update in the post."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1682698804,"post_id":76120058,"comment_id":134261830,"body_markdown":"@upgrad3 Please remove the update to your question that provides your solution. The appropriate way to post a resolution is to post an answer, and you have already done that. As a separate matter, could you also accept your answer, because questions with an accepted answer are more helpful for the community.","body":"@upgrad3 Please remove the update to your question that provides your solution. The appropriate way to post a resolution is to post an answer, and you have already done that. As a separate matter, could you also accept your answer, because questions with an accepted answer are more helpful for the community."}],"answers":[{"tags":[],"owner":{"account_id":28433839,"reputation":41,"user_id":21754183,"display_name":"upgrad3"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682607969,"creation_date":1682607969,"answer_id":76121947,"question_id":76120058,"body_markdown":"Here is the simple Regex that worked for me:\r\n\r\n    &lt;cfset tag = REReplace(tag,&quot;[^\\w ]&quot;,&quot;&quot;,&quot;All&quot;)&gt;","title":"Removing Unicode/invalid characters from string","body":"<p>Here is the simple Regex that worked for me:</p>\n<pre><code>&lt;cfset tag = REReplace(tag,&quot;[^\\w ]&quot;,&quot;&quot;,&quot;All&quot;)&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":354610,"reputation":4370,"user_id":693068,"display_name":"James Moberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682695242,"creation_date":1682695242,"answer_id":76131008,"question_id":76120058,"body_markdown":"The regex &quot;word&quot; filter may work, but some non-decorative, international UTF-8 characters could be dropped.\r\n\r\nI&#39;ve used a lot of different methods. If you want to convert Unicode to ASCII7 using ColdFusion, I highly recommend checking out [Junidecode](https://github.com/gcardone/junidecode). (I shared some proof-of-concept code [here](https://stackoverflow.com/a/56600717/693068).)\r\n\r\nThere are couple different methods other than the third-party JAR library, but your mileage will vary. I highly recommend performing a unit test with a large sample to ensure that it is doing what you expect.\r\n\r\nHere&#39;s a [gist](https://gist.github.com/JamoCA/ae63641dc0fdd5138cc8b2f5ee92f032) that you can test at [TryCF.com](https://www.trycf.com/).\r\n\r\n## rereplace (strip all high ASCII characters) \r\n```java\r\nk = &quot;Electronic&quot;;\r\nk2 = rereplace(k, &quot;[^\\x20-\\x7E]&quot;, &quot;&quot;, &quot;ALL&quot;);\r\n// k2 is now &quot;Electronic&quot;\r\n```\r\n\r\n## Java (convert if possible. if not, strip)\r\nUse `java.text.Normalizer`, but be aware that it may strip anything it doesn&#39;t understand. ([source](https://stackoverflow.com/a/11642205/693068))\r\n```java\r\nk = &quot;Electronic&quot;;\r\nk2 = createObject( &#39;java&#39;, &#39;java.text.Normalizer&#39; ).normalize( k, createObject( &#39;java&#39;, &#39;java.text.Normalizer$Form&#39; ).valueOf(&#39;NFD&#39;) ).replaceAll(&#39;\\p{InCombiningDiacriticalMarks}+&#39;,&#39;&#39;).replaceAll(&#39;[^\\p{ASCII}]+&#39;,&#39;&#39;);\r\n// k2 is now &quot;Electronic&quot;\r\n```\r\n","title":"Removing Unicode/invalid characters from string","body":"<p>The regex &quot;word&quot; filter may work, but some non-decorative, international UTF-8 characters could be dropped.</p>\n<p>I've used a lot of different methods. If you want to convert Unicode to ASCII7 using ColdFusion, I highly recommend checking out <a href=\"https://github.com/gcardone/junidecode\" rel=\"nofollow noreferrer\">Junidecode</a>. (I shared some proof-of-concept code <a href=\"https://stackoverflow.com/a/56600717/693068\">here</a>.)</p>\n<p>There are couple different methods other than the third-party JAR library, but your mileage will vary. I highly recommend performing a unit test with a large sample to ensure that it is doing what you expect.</p>\n<p>Here's a <a href=\"https://gist.github.com/JamoCA/ae63641dc0fdd5138cc8b2f5ee92f032\" rel=\"nofollow noreferrer\">gist</a> that you can test at <a href=\"https://www.trycf.com/\" rel=\"nofollow noreferrer\">TryCF.com</a>.</p>\n<h2>rereplace (strip all high ASCII characters)</h2>\n<pre class=\"lang-java prettyprint-override\"><code>k = &quot;Electronic&quot;;\nk2 = rereplace(k, &quot;[^\\x20-\\x7E]&quot;, &quot;&quot;, &quot;ALL&quot;);\n// k2 is now &quot;Electronic&quot;\n</code></pre>\n<h2>Java (convert if possible. if not, strip)</h2>\n<p>Use <code>java.text.Normalizer</code>, but be aware that it may strip anything it doesn't understand. (<a href=\"https://stackoverflow.com/a/11642205/693068\">source</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>k = &quot;Electronic&quot;;\nk2 = createObject( 'java', 'java.text.Normalizer' ).normalize( k, createObject( 'java', 'java.text.Normalizer$Form' ).valueOf('NFD') ).replaceAll('\\p{InCombiningDiacriticalMarks}+','').replaceAll('[^\\p{ASCII}]+','');\n// k2 is now &quot;Electronic&quot;\n</code></pre>\n"}],"owner":{"account_id":28433839,"reputation":41,"user_id":21754183,"display_name":"upgrad3"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682695242,"creation_date":1682596245,"question_id":76120058,"body_markdown":"I&#39;ve had this problem before, and finally wrote some code to fix it (I remember it was an easy fix). But, I had to revert to a version of code from a few weeks back, and lost what I wrote.\r\n\r\nI&#39;m dealing with ID3 tags using &#39;org.farng.mp3&#39; and I run into invalid characters like the &#39;Replacement Character&#39;, char 65533, \\u25AF, etc. in some tags. \r\n\r\nInput: **Electronic**\r\nWhich output like this:**Electronic**\r\n\r\nI know they are UTF-8 encoded, so I&#39;m not sure if I need to try to encode them into some other char set.\r\n\r\nHere are some of the replacements I&#39;ve used (and variations of the below):\r\n\r\n\t&lt;cfset tag = REReplace(tag,&quot;\\\\p{C}&quot;, &quot;&quot;, &quot;All&quot;)&gt;\r\n\t&lt;cfset tag = REReplace(tag,&quot;\\p{Cf}&quot;, &quot;&quot;, &quot;All&quot;)&gt;\r\n\t&lt;cfset tag = ReReplace(tag,&quot;[^\\\\x00-\\\\x7F]&quot;, &quot;&quot;, &quot;All&quot;)&gt;\t\r\n\t&lt;cfset tag = Replace(tag, &quot;[\\\\u25AF]&quot;, &quot;&quot;, &quot;All&quot;)&gt;\r\n\t&lt;cfset tag = ReplaceNoCase(tag,chr(65533),&quot;&quot;,&quot;All&quot;)&gt;\r\n\r\nI&#39;ve looked through all old resolutions I&#39;ve found previously, and nothing is working, but I know it&#39;s something I am doing wrong.\r\n\r\n**UPDATE/Resolved**\r\n\r\nHere is what worked for me:\r\n\r\n    &lt;cfset tag = REReplace(tag,&quot;[^\\w ]&quot;,&quot;&quot;,&quot;All&quot;)&gt;","title":"Removing Unicode/invalid characters from string","body":"<p>I've had this problem before, and finally wrote some code to fix it (I remember it was an easy fix). But, I had to revert to a version of code from a few weeks back, and lost what I wrote.</p>\n<p>I'm dealing with ID3 tags using 'org.farng.mp3' and I run into invalid characters like the 'Replacement Character', char 65533, \\u25AF, etc. in some tags.</p>\n<p>Input: <strong>Electronic</strong>\nWhich output like this:<strong>Electronic</strong></p>\n<p>I know they are UTF-8 encoded, so I'm not sure if I need to try to encode them into some other char set.</p>\n<p>Here are some of the replacements I've used (and variations of the below):</p>\n<pre><code>&lt;cfset tag = REReplace(tag,&quot;\\\\p{C}&quot;, &quot;&quot;, &quot;All&quot;)&gt;\n&lt;cfset tag = REReplace(tag,&quot;\\p{Cf}&quot;, &quot;&quot;, &quot;All&quot;)&gt;\n&lt;cfset tag = ReReplace(tag,&quot;[^\\\\x00-\\\\x7F]&quot;, &quot;&quot;, &quot;All&quot;)&gt;    \n&lt;cfset tag = Replace(tag, &quot;[\\\\u25AF]&quot;, &quot;&quot;, &quot;All&quot;)&gt;\n&lt;cfset tag = ReplaceNoCase(tag,chr(65533),&quot;&quot;,&quot;All&quot;)&gt;\n</code></pre>\n<p>I've looked through all old resolutions I've found previously, and nothing is working, but I know it's something I am doing wrong.</p>\n<p><strong>UPDATE/Resolved</strong></p>\n<p>Here is what worked for me:</p>\n<pre><code>&lt;cfset tag = REReplace(tag,&quot;[^\\w ]&quot;,&quot;&quot;,&quot;All&quot;)&gt;\n</code></pre>\n"},{"tags":["java","android","google-maps","model-view-controller"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682692710,"post_id":76129919,"comment_id":134260475,"body_markdown":"Why MVC? That&#39;s not standard practice in Android. / &quot;i&#39;ve read some articles with examples&quot; - what did you learn from those articles? What have you tried? What isn&#39;t working? What specifically don&#39;t you understand? You need to ask focused, detailed questions. It&#39;s unlikely anyone will come through to rewrite your code for you.","body":"Why MVC? That&#39;s not standard practice in Android. / &quot;i&#39;ve read some articles with examples&quot; - what did you learn from those articles? What have you tried? What isn&#39;t working? What specifically don&#39;t you understand? You need to ask focused, detailed questions. It&#39;s unlikely anyone will come through to rewrite your code for you."}],"owner":{"account_id":28307293,"reputation":1,"user_id":21645094,"display_name":"Dina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682695158,"creation_date":1682687403,"question_id":76129919,"body_markdown":"I don&#39;t understand how to implement MVC (Model - View - Controller) pattern within an android application.\r\n\r\nCould someone please advise me how to divide my code according to MVC pattern. \r\n\r\nI&#39;m working with google maps api. I&#39;ve read some articles with examples but it would help me to see on my real example. I would be really glad if someone could explain\r\n\r\nMy MapsActivity class is included below.\r\n```\r\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback, GoogleMap.OnMapLoadedCallback {\r\n\r\n    private RequestQueue queue;\r\n    private View mapView;\r\n    private SupportMapFragment supportMapFragment;\r\n    public LatLng pnt;\r\n    private GoogleMap mMap;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_maps);\r\n        queue = Volley.newRequestQueue(this);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        assert mapFragment != null;\r\n        mapFragment.getMapAsync(this);\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(@NonNull GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        setUpMap();\r\n    }\r\n\r\n    public void setUpMap() {\r\n        mMap.setOnMapLoadedCallback(this);\r\n\r\n        LatLng spb = new LatLng(59.93, 30.36);\r\n        mMap.addMarker(new MarkerOptions().position(spb).title(&quot;me&quot;));\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(spb));\r\n\r\n        mMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            return;\r\n        }\r\n        mMap.setMyLocationEnabled(true);\r\n        mMap.getUiSettings().setZoomControlsEnabled(true);\r\n    }\r\n\r\n    public void onArrowClick(View view) {\r\n\r\n    }\r\n\r\n\r\n    public void getBounds() {\r\n        LatLngBounds b = mMap.getProjection().getVisibleRegion().latLngBounds;\r\n        Toast.makeText(this, b.toString(), Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n    public void OnAddMarkClick(View view) {\r\n        Intent intent = new Intent(this, SendForm.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void getRequest() {\r\n//sending request here to place marks according to location\r\n        String url =&quot;&quot;;\r\n        \r\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\r\n                new Response.Listener&lt;JSONObject&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        try {\r\n                            JSONObject data = response.getJSONObject(&quot;data&quot;);\r\n                            JSONArray points = data.getJSONArray(&quot;points&quot;);\r\n                            for (int i = 0; i &lt; points.length(); i++) {\r\n                                JSONObject point = points.getJSONObject(i);\r\n                                String id = point.getString(&quot;pointId&quot;);\r\n                                String title = point.getString(&quot;title&quot;);\r\n                                String geom = point.getString(&quot;geom&quot;);\r\n                                geom = geom.replaceAll((&quot;[\\\\[\\\\](){}]&quot;),&quot;&quot;);\r\n                                geom = geom.replaceAll(&quot;[a-zA-Z]&quot;, &quot;&quot;);\r\n\r\n                                String[] coord = geom.split(&quot; &quot;);\r\n\r\n                                pnt = new LatLng(Double.parseDouble(coord[1]), Double.parseDouble(coord[0]));\r\n\r\n                                Marker marker = mMap.addMarker(new MarkerOptions().position(pnt).title(&quot;&quot;).\r\n                                        icon(BitmapDescriptorFactory.fromResource(R.drawable.mark)));\r\n                            }\r\n\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                error.printStackTrace();\r\n            }\r\n        });\r\n        queue.add(request);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onMapLoaded() {\r\n        getRequest();\r\n    }\r\n\r\n   }\r\n```\r\n","title":"how to make my maps activity as MVC architecture in android app java?","body":"<p>I don't understand how to implement MVC (Model - View - Controller) pattern within an android application.</p>\n<p>Could someone please advise me how to divide my code according to MVC pattern.</p>\n<p>I'm working with google maps api. I've read some articles with examples but it would help me to see on my real example. I would be really glad if someone could explain</p>\n<p>My MapsActivity class is included below.</p>\n<pre><code>public class MapsActivity extends FragmentActivity implements OnMapReadyCallback, GoogleMap.OnMapLoadedCallback {\n\n    private RequestQueue queue;\n    private View mapView;\n    private SupportMapFragment supportMapFragment;\n    public LatLng pnt;\n    private GoogleMap mMap;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        queue = Volley.newRequestQueue(this);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        assert mapFragment != null;\n        mapFragment.getMapAsync(this);\n    }\n\n    @Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n        mMap = googleMap;\n        setUpMap();\n    }\n\n    public void setUpMap() {\n        mMap.setOnMapLoadedCallback(this);\n\n        LatLng spb = new LatLng(59.93, 30.36);\n        mMap.addMarker(new MarkerOptions().position(spb).title(&quot;me&quot;));\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(spb));\n\n        mMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n\n            return;\n        }\n        mMap.setMyLocationEnabled(true);\n        mMap.getUiSettings().setZoomControlsEnabled(true);\n    }\n\n    public void onArrowClick(View view) {\n\n    }\n\n\n    public void getBounds() {\n        LatLngBounds b = mMap.getProjection().getVisibleRegion().latLngBounds;\n        Toast.makeText(this, b.toString(), Toast.LENGTH_LONG).show();\n    }\n\n    public void OnAddMarkClick(View view) {\n        Intent intent = new Intent(this, SendForm.class);\n        startActivity(intent);\n    }\n\n    private void getRequest() {\n//sending request here to place marks according to location\n        String url =&quot;&quot;;\n        \n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\n                new Response.Listener&lt;JSONObject&gt;() {\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        try {\n                            JSONObject data = response.getJSONObject(&quot;data&quot;);\n                            JSONArray points = data.getJSONArray(&quot;points&quot;);\n                            for (int i = 0; i &lt; points.length(); i++) {\n                                JSONObject point = points.getJSONObject(i);\n                                String id = point.getString(&quot;pointId&quot;);\n                                String title = point.getString(&quot;title&quot;);\n                                String geom = point.getString(&quot;geom&quot;);\n                                geom = geom.replaceAll((&quot;[\\\\[\\\\](){}]&quot;),&quot;&quot;);\n                                geom = geom.replaceAll(&quot;[a-zA-Z]&quot;, &quot;&quot;);\n\n                                String[] coord = geom.split(&quot; &quot;);\n\n                                pnt = new LatLng(Double.parseDouble(coord[1]), Double.parseDouble(coord[0]));\n\n                                Marker marker = mMap.addMarker(new MarkerOptions().position(pnt).title(&quot;&quot;).\n                                        icon(BitmapDescriptorFactory.fromResource(R.drawable.mark)));\n                            }\n\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                error.printStackTrace();\n            }\n        });\n        queue.add(request);\n\n    }\n\n\n    @Override\n    public void onMapLoaded() {\n        getRequest();\n    }\n\n   }\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1357296641,"creation_date":1357296641,"answer_id":14155703,"question_id":14155423,"body_markdown":"Take a look at [my answer to a previous question](https://stackoverflow.com/questions/14053055/how-to-get-the-value-of-a-cell-at-a-specified-position-in-an-excel-sheet-using-j/14062181#14062181):\r\n\r\nYou probably want to use the [CellReference](http://poi.apache.org/apidocs/org/apache/poi/ss/util/CellReference.html) utility class to help you out. It offers conversion between Excel style letter+number references, and POI style 0-based rows+columns. When using it, you can do something like:\r\n\r\n     Sheet sheet = workbook.getSheet(&quot;MyInterestingSheet&quot;);\r\n\r\n     CellReference ref = new CellReference(&quot;B12&quot;);\r\n     Row r = sheet.getRow(ref.getRow());\r\n     if (r != null) {\r\n        Cell c = r.getCell(ref.getCol());\r\n     }\r\n\r\nThat will let you find the cell at a given Excel-style reference (if it&#39;s defined, else null)","title":"Get Cell by a Cell reference letter identifier with Apache POI","body":"<p>Take a look at <a href=\"https://stackoverflow.com/questions/14053055/how-to-get-the-value-of-a-cell-at-a-specified-position-in-an-excel-sheet-using-j/14062181#14062181\">my answer to a previous question</a>:</p>\n\n<p>You probably want to use the <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/util/CellReference.html\" rel=\"noreferrer\">CellReference</a> utility class to help you out. It offers conversion between Excel style letter+number references, and POI style 0-based rows+columns. When using it, you can do something like:</p>\n\n<pre><code> Sheet sheet = workbook.getSheet(\"MyInterestingSheet\");\n\n CellReference ref = new CellReference(\"B12\");\n Row r = sheet.getRow(ref.getRow());\n if (r != null) {\n    Cell c = r.getCell(ref.getCol());\n }\n</code></pre>\n\n<p>That will let you find the cell at a given Excel-style reference (if it's defined, else null)</p>\n"},{"tags":[],"owner":{"account_id":2152350,"reputation":13,"user_id":1908358,"display_name":"user1908358"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682689955,"creation_date":1682689955,"answer_id":76130272,"question_id":14155423,"body_markdown":"for getting multiple rows/columns: \r\n\r\n      CellReference ref1 = new CellReference(&quot;A36&quot;); // First LINE 1\r\n      CellReference ref2 = new CellReference(&quot;B36&quot;); \r\n      CellReference ref3 = new CellReference(&quot;C36&quot;); \r\n      CellReference ref4 = new CellReference(&quot;D36&quot;);\r\n\r\n      XSSFRow r1 = sheet.getRow(ref1.getRow()); \r\n        if (r1 != null) {\r\n                Cell a36 = r1.getCell(ref1.getCol());\r\n                Cell b36 = r1.getCell(ref2.getCol());\r\n                Cell c36 = r1.getCell(ref3.getCol());\r\n                Cell d36 = r1.getCell(ref4.getCol());\r\n                Cell e36 = r1.getCell(ref5.getCol());\r\n                                \r\n                AMT1 = a36.getStringCellValue();\r\n                AMT2 = b36.getStringCellValue();\r\n                AMT3 = c36.getStringCellValue();\r\n                AMT4 = d36.getNumericCellValue();\r\n                AMT5 = e36.getNumericCellValue();\r\n                AMT5A = AMT5.intValue();\r\n               }           \r\n\r\nwhere r1 is the first row. This takes the xlsx entry in the first designated row and assigns it to a variable (AMTx ) as shown below. Place the variable designations right after the &quot;public class ........&quot; line of the java file. \r\n\r\n   \r\n      public static String AMT1;//Line 1 \r\n      public static String AMT2;  \r\n      public static String AMT3; \r\n      public static Double AMT4;  \r\n      public static Double AMT5;  \r\n      public static Integer AMT5A;  \r\n\r\nNote that Excel xlsx files store numbers as Double within cells -hence the conversion to integer in AMT5A. \r\n \r\n","title":"Get Cell by a Cell reference letter identifier with Apache POI","body":"<p>for getting multiple rows/columns:</p>\n<pre><code>  CellReference ref1 = new CellReference(&quot;A36&quot;); // First LINE 1\n  CellReference ref2 = new CellReference(&quot;B36&quot;); \n  CellReference ref3 = new CellReference(&quot;C36&quot;); \n  CellReference ref4 = new CellReference(&quot;D36&quot;);\n\n  XSSFRow r1 = sheet.getRow(ref1.getRow()); \n    if (r1 != null) {\n            Cell a36 = r1.getCell(ref1.getCol());\n            Cell b36 = r1.getCell(ref2.getCol());\n            Cell c36 = r1.getCell(ref3.getCol());\n            Cell d36 = r1.getCell(ref4.getCol());\n            Cell e36 = r1.getCell(ref5.getCol());\n                            \n            AMT1 = a36.getStringCellValue();\n            AMT2 = b36.getStringCellValue();\n            AMT3 = c36.getStringCellValue();\n            AMT4 = d36.getNumericCellValue();\n            AMT5 = e36.getNumericCellValue();\n            AMT5A = AMT5.intValue();\n           }           \n</code></pre>\n<p>where r1 is the first row. This takes the xlsx entry in the first designated row and assigns it to a variable (AMTx ) as shown below. Place the variable designations right after the &quot;public class ........&quot; line of the java file.</p>\n<pre><code>  public static String AMT1;//Line 1 \n  public static String AMT2;  \n  public static String AMT3; \n  public static Double AMT4;  \n  public static Double AMT5;  \n  public static Integer AMT5A;  \n</code></pre>\n<p>Note that Excel xlsx files store numbers as Double within cells -hence the conversion to integer in AMT5A.</p>\n"},{"tags":[],"owner":{"account_id":2152350,"reputation":13,"user_id":1908358,"display_name":"user1908358"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682694812,"creation_date":1682694812,"answer_id":76130935,"question_id":14155423,"body_markdown":"All: The code requires that the r1 (row 1) be exactly like the actual row number where the cells are located. In this case, it&#39;s r36 and not r1. Please change all the r1 to r36. Please excuse this oversight on my part. ","title":"Get Cell by a Cell reference letter identifier with Apache POI","body":"<p>All: The code requires that the r1 (row 1) be exactly like the actual row number where the cells are located. In this case, it's r36 and not r1. Please change all the r1 to r36. Please excuse this oversight on my part.</p>\n"}],"owner":{"display_name":"user1759136"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31106,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":14155703,"answer_count":3,"score":17,"last_activity_date":1682694812,"creation_date":1357295591,"question_id":14155423,"body_markdown":"I am trying to get the Cell from the Row by a Cell reference and I have a problem. For example I have:\r\n\r\n    row.getCell(CellReference.convertColStringToIndex(&quot;B&quot;));\r\n\r\nThat works fine if the Column index is `1`, but if Column was deleted so the `B` Column index became `2` and the method: `CellReference.convertColStringToIndex(&quot;B&quot;)` is still converting it to `1` in which case I can&#39;t get my Column, I am getting `null`.\r\n\r\nSo the question is how can I get the Column from the Row depending on Cell identifier which is a letter?","title":"Get Cell by a Cell reference letter identifier with Apache POI","body":"<p>I am trying to get the Cell from the Row by a Cell reference and I have a problem. For example I have:</p>\n\n<pre><code>row.getCell(CellReference.convertColStringToIndex(\"B\"));\n</code></pre>\n\n<p>That works fine if the Column index is <code>1</code>, but if Column was deleted so the <code>B</code> Column index became <code>2</code> and the method: <code>CellReference.convertColStringToIndex(\"B\")</code> is still converting it to <code>1</code> in which case I can't get my Column, I am getting <code>null</code>.</p>\n\n<p>So the question is how can I get the Column from the Row depending on Cell identifier which is a letter?</p>\n"},{"tags":["java","selenium-webdriver","ui-automation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682855425,"post_id":76125898,"comment_id":134277732,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682676973,"creation_date":1682676973,"answer_id":76128587,"question_id":76125898,"body_markdown":"Try these ways to set value\r\n\r\n#1 Clear, enter value and Send tab key to move control out of input\r\n\r\n    element.clear()\r\n    element.sendKeys(&quot;value&quot;+ Keys.TAB);\r\n\r\n#2 using Javascript\r\n\r\n    driver.execute_script(&quot;arguments[0].value=&#39;arguments[1]&#39;;&quot;, element,value)\r\n\r\n#3 using Actions\r\n\r\n    new Actions(driver).moveToElement(element).click().sendKeys(&quot;text to set&quot;).perform();\r\n","title":"Selenium driver is entering value in the text box but it is getting cleared","body":"<p>Try these ways to set value</p>\n<p>#1 Clear, enter value and Send tab key to move control out of input</p>\n<pre><code>element.clear()\nelement.sendKeys(&quot;value&quot;+ Keys.TAB);\n</code></pre>\n<p>#2 using Javascript</p>\n<pre><code>driver.execute_script(&quot;arguments[0].value='arguments[1]';&quot;, element,value)\n</code></pre>\n<p>#3 using Actions</p>\n<pre><code>new Actions(driver).moveToElement(element).click().sendKeys(&quot;text to set&quot;).perform();\n</code></pre>\n"}],"owner":{"account_id":21996793,"reputation":1,"user_id":16269173,"display_name":"ahmad_aftab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682694740,"creation_date":1682649480,"question_id":76125898,"body_markdown":"I am stuck in this issue. Webdriver is able to enter the value in the text box and then the value is getting cleared\r\n\r\nI tried this to resolve this issue with the below logic but unfortunately this one is even not working.Any help regarding this will be highly appreciated\r\n\r\n\r\n    var count =0;\r\n    \r\n    do {\r\n    \r\n    _webHelper.PerformWebDriverAction(getTxtBox_ProductionDate(), INPUT, ProductionDate);\r\n    \r\n    count++;\r\n    \r\n    } while (!_webHelper.IsTextBoxFilled(getTxtBox_ProductionDate()) &amp;&amp; count&lt;10);","title":"Selenium driver is entering value in the text box but it is getting cleared","body":"<p>I am stuck in this issue. Webdriver is able to enter the value in the text box and then the value is getting cleared</p>\n<p>I tried this to resolve this issue with the below logic but unfortunately this one is even not working.Any help regarding this will be highly appreciated</p>\n<pre><code>var count =0;\n\ndo {\n\n_webHelper.PerformWebDriverAction(getTxtBox_ProductionDate(), INPUT, ProductionDate);\n\ncount++;\n\n} while (!_webHelper.IsTextBoxFilled(getTxtBox_ProductionDate()) &amp;&amp; count&lt;10);\n</code></pre>\n"},{"tags":["java","web-services","wsdl","ibm-rad","junit-jupiter"],"answers":[{"tags":[],"owner":{"account_id":11176723,"reputation":37,"user_id":8202069,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682694303,"creation_date":1682694303,"answer_id":76130882,"question_id":75632068,"body_markdown":"I had this exact problem and fixed it by passing the following JVM arg to the JUnit test (e.g. in Run Configurations):\r\n\r\n    -Dcom.ibm.xml.xlxp.jaxb.opti.level=0\r\n\r\nThis will force the use of the JRE JAXB library (instead of the IBM one). I never got to the root cause but I guessed it was some JRE/IBM library version incompatibility. ","title":"AssertionError calling a webservice from junit in IBM RAD","body":"<p>I had this exact problem and fixed it by passing the following JVM arg to the JUnit test (e.g. in Run Configurations):</p>\n<pre><code>-Dcom.ibm.xml.xlxp.jaxb.opti.level=0\n</code></pre>\n<p>This will force the use of the JRE JAXB library (instead of the IBM one). I never got to the root cause but I guessed it was some JRE/IBM library version incompatibility.</p>\n"}],"owner":{"account_id":1221072,"reputation":1229,"user_id":1187719,"accept_rate":37,"display_name":"Entropy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682694303,"creation_date":1677879223,"question_id":75632068,"body_markdown":"We have a webservice that works and has been working fine. We call it from our EAR project and it works fine in localhost in RAD as well as from the server. However, now I&#39;m trying to call it from a junit project and it&#39;s failing with an AssertionError with no message to help me debug it.  \r\n\r\nCode:\r\n```\r\n    public ReportServiceGeneratedClient(String url) throws MalformedURLException {\r\n\t\tSubmissionWSService service = new SubmissionWSService(new URL(url), new QName(&quot;http://wsdl.report.changed.for.privacy/&quot;, &quot;SubmissionWSService&quot;));\r\n\t\treportService = service.getSubmissionWSPort(); //kaboom here\r\n\t}\r\n```\r\n\r\n```\r\njava.lang.AssertionError\r\n\tat com.ibm.xml.xlxp2.runtime.VMContext.stopSchemaAssessment(VMContext.java:609)\r\n\tat com.ibm.xml.xlxp2.api.jaxb.JAXBXMLStreamReader.unmarshal(JAXBXMLStreamReader.java:127)\r\n\tat com.ibm.xml.xlxp2.jaxb.unmarshal.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:256)\r\n\tat com.sun.xml.internal.ws.assembler.MetroConfigLoader.loadMetroConfig(MetroConfigLoader.java:256)\r\n\tat com.sun.xml.internal.ws.assembler.MetroConfigLoader.init(MetroConfigLoader.java:143)\r\n\tat com.sun.xml.internal.ws.assembler.MetroConfigLoader.&lt;init&gt;(MetroConfigLoader.java:116)\r\n\tat com.sun.xml.internal.ws.assembler.TubelineAssemblyController.getTubeCreators(TubelineAssemblyController.java:90)\r\n\tat com.sun.xml.internal.ws.assembler.MetroTubelineAssembler.createClient(MetroTubelineAssembler.java:115)\r\n\tat com.sun.xml.internal.ws.client.Stub.createPipeline(Stub.java:340)\r\n\tat com.sun.xml.internal.ws.client.Stub.&lt;init&gt;(Stub.java:307)\r\n\tat com.sun.xml.internal.ws.client.Stub.&lt;init&gt;(Stub.java:240)\r\n\tat com.sun.xml.internal.ws.client.Stub.&lt;init&gt;(Stub.java:255)\r\n\tat com.sun.xml.internal.ws.client.sei.SEIStub.&lt;init&gt;(SEIStub.java:96)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.getStubHandler(WSServiceDelegate.java:827)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.createEndpointIFBaseProxy(WSServiceDelegate.java:816)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:449)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:417)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:399)\r\n\tat javax.xml.ws.Service.getPort(Service.java:130)\r\n```\r\n\r\nI found a stackoverflow claiming that a property was needed, but I tried both of these and neither solved my problem, though I also didn&#39;t get the message that poster was getting.\r\n\r\n```\r\n\t\tSystem.setProperty(&quot;javax.xml.accessExternalSchema&quot;, &quot;all&quot;);\r\n\t\tSystem.setProperty(&quot;javax.xml.accessExternalDTD&quot;, &quot;all&quot;);\r\n```\r\n\r\nThe code and webservice work in other contexts, so I&#39;m sure it&#39;s that I&#39;m not setting the environment right, but the lack of message leaves me with no real clues. Anyone know anything that can help me here?","title":"AssertionError calling a webservice from junit in IBM RAD","body":"<p>We have a webservice that works and has been working fine. We call it from our EAR project and it works fine in localhost in RAD as well as from the server. However, now I'm trying to call it from a junit project and it's failing with an AssertionError with no message to help me debug it.</p>\n<p>Code:</p>\n<pre><code>    public ReportServiceGeneratedClient(String url) throws MalformedURLException {\n        SubmissionWSService service = new SubmissionWSService(new URL(url), new QName(&quot;http://wsdl.report.changed.for.privacy/&quot;, &quot;SubmissionWSService&quot;));\n        reportService = service.getSubmissionWSPort(); //kaboom here\n    }\n</code></pre>\n<pre><code>java.lang.AssertionError\n    at com.ibm.xml.xlxp2.runtime.VMContext.stopSchemaAssessment(VMContext.java:609)\n    at com.ibm.xml.xlxp2.api.jaxb.JAXBXMLStreamReader.unmarshal(JAXBXMLStreamReader.java:127)\n    at com.ibm.xml.xlxp2.jaxb.unmarshal.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:256)\n    at com.sun.xml.internal.ws.assembler.MetroConfigLoader.loadMetroConfig(MetroConfigLoader.java:256)\n    at com.sun.xml.internal.ws.assembler.MetroConfigLoader.init(MetroConfigLoader.java:143)\n    at com.sun.xml.internal.ws.assembler.MetroConfigLoader.&lt;init&gt;(MetroConfigLoader.java:116)\n    at com.sun.xml.internal.ws.assembler.TubelineAssemblyController.getTubeCreators(TubelineAssemblyController.java:90)\n    at com.sun.xml.internal.ws.assembler.MetroTubelineAssembler.createClient(MetroTubelineAssembler.java:115)\n    at com.sun.xml.internal.ws.client.Stub.createPipeline(Stub.java:340)\n    at com.sun.xml.internal.ws.client.Stub.&lt;init&gt;(Stub.java:307)\n    at com.sun.xml.internal.ws.client.Stub.&lt;init&gt;(Stub.java:240)\n    at com.sun.xml.internal.ws.client.Stub.&lt;init&gt;(Stub.java:255)\n    at com.sun.xml.internal.ws.client.sei.SEIStub.&lt;init&gt;(SEIStub.java:96)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.getStubHandler(WSServiceDelegate.java:827)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.createEndpointIFBaseProxy(WSServiceDelegate.java:816)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:449)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:417)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:399)\n    at javax.xml.ws.Service.getPort(Service.java:130)\n</code></pre>\n<p>I found a stackoverflow claiming that a property was needed, but I tried both of these and neither solved my problem, though I also didn't get the message that poster was getting.</p>\n<pre><code>        System.setProperty(&quot;javax.xml.accessExternalSchema&quot;, &quot;all&quot;);\n        System.setProperty(&quot;javax.xml.accessExternalDTD&quot;, &quot;all&quot;);\n</code></pre>\n<p>The code and webservice work in other contexts, so I'm sure it's that I'm not setting the environment right, but the lack of message leaves me with no real clues. Anyone know anything that can help me here?</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":3112422,"reputation":741,"user_id":2633917,"display_name":"tobifasc"},"score":1,"creation_date":1682692696,"post_id":76120040,"comment_id":134260469,"body_markdown":"Pretty abvious but just to be sure because it&#39;s not in your question: How does your package declaration in `FilePrepareApplication` look like?","body":"Pretty abvious but just to be sure because it&#39;s not in your question: How does your package declaration in <code>FilePrepareApplication</code> look like?"},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1682693282,"post_id":76120040,"comment_id":134260619,"body_markdown":"package com.example.fileutil    I updated my code-snipped","body":"package com.example.fileutil    I updated my code-snipped"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682693393,"post_id":76120040,"comment_id":134260643,"body_markdown":"https://spring.io/guides/gs/spring-boot/","body":"<a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/spring-boot</a>"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1682693397,"post_id":76120040,"comment_id":134260644,"body_markdown":"I can&#39;t reproduce your error using the code provided. But for your case, better use gradle springboot plugin, take a look https://docs.spring.io/spring-boot/docs/2.7.x/gradle-plugin/reference/htmlsingle/","body":"I can&#39;t reproduce your error using the code provided. But for your case, better use gradle springboot plugin, take a look <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/gradle-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.7.x/gradle-plugin/referenc&zwnj;&#8203;e/&hellip;</a>"}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682693257,"creation_date":1682596150,"question_id":76120040,"body_markdown":"My gradle file contains:\r\n\r\n      plugins {\r\n           id &#39;java&#39;\r\n       }\r\n\r\n      configurations {\r\n           compileOnly {\r\n               extendsFrom annotationProcessor\r\n           }\r\n      }\r\n\r\n      jar {\r\n          duplicatesStrategy = DuplicatesStrategy.INCLUDE\r\n          project.configurations.getByName(&quot;implementation&quot;).setCanBeResolved(true)\r\n          manifest {\r\n               attributes &#39;Main-Class&#39;: &#39;com.example.fileutil.FilePrepareApplication&#39;\r\n          }\r\n\r\n          from { configurations.implementation.collect { it.isDirectory() ? it : zipTree(it) } }\r\n         }\r\n\r\n        repositories {\r\n           mavenLocal()\r\n           gradlePluginPortal()\r\n           mavenCentral()\r\n        }\r\n\r\n        dependencies {\r\n           implementation (&#39;org.springframework.boot:spring-boot-starter:2.7.10&#39;){\r\n               exclude module: &quot;spring-boot-starter-logging&quot;\r\n               exclude module: &quot;logback-classic&quot;\r\n           }\r\n       }\r\n\r\nAnd Main SpringBoot class contains:\r\n\r\n      package com.example.fileutil\r\n\r\n      @SpringBootApplication\r\n      @ComponentScan(basePackages = &quot;com.example.fileutil.service&quot;)\r\n      public class FilePrepareApplication implements CommandLineRunner {\r\n\r\n            public static void main(String[] args) throws Exception {\r\n                   SpringApplication.run(FilePrepareApplication.class, args);\r\n            }\r\n\r\n            @Override\r\n            public void run(String... args) throws Exception { \r\n                       System.out.println(&quot;checkResult&quot;);\r\n             }          \r\n        }\r\n\r\nAfter clean build, I run my application with: \r\n\r\n       java -jar build/libs/file_util.jar -cp build/classes/java/main/ com.example.fileutil.FilePrepareApplication\r\n\r\nAnd receive the error:  java.lang.NoClassDefFoundError: com.example.fileutil.FilePrepareApplication\r\n\r\n","title":"Gradle SpringBoot: Could not find main class","body":"<p>My gradle file contains:</p>\n<pre><code>  plugins {\n       id 'java'\n   }\n\n  configurations {\n       compileOnly {\n           extendsFrom annotationProcessor\n       }\n  }\n\n  jar {\n      duplicatesStrategy = DuplicatesStrategy.INCLUDE\n      project.configurations.getByName(&quot;implementation&quot;).setCanBeResolved(true)\n      manifest {\n           attributes 'Main-Class': 'com.example.fileutil.FilePrepareApplication'\n      }\n\n      from { configurations.implementation.collect { it.isDirectory() ? it : zipTree(it) } }\n     }\n\n    repositories {\n       mavenLocal()\n       gradlePluginPortal()\n       mavenCentral()\n    }\n\n    dependencies {\n       implementation ('org.springframework.boot:spring-boot-starter:2.7.10'){\n           exclude module: &quot;spring-boot-starter-logging&quot;\n           exclude module: &quot;logback-classic&quot;\n       }\n   }\n</code></pre>\n<p>And Main SpringBoot class contains:</p>\n<pre><code>  package com.example.fileutil\n\n  @SpringBootApplication\n  @ComponentScan(basePackages = &quot;com.example.fileutil.service&quot;)\n  public class FilePrepareApplication implements CommandLineRunner {\n\n        public static void main(String[] args) throws Exception {\n               SpringApplication.run(FilePrepareApplication.class, args);\n        }\n\n        @Override\n        public void run(String... args) throws Exception { \n                   System.out.println(&quot;checkResult&quot;);\n         }          \n    }\n</code></pre>\n<p>After clean build, I run my application with:</p>\n<pre><code>   java -jar build/libs/file_util.jar -cp build/classes/java/main/ com.example.fileutil.FilePrepareApplication\n</code></pre>\n<p>And receive the error:  java.lang.NoClassDefFoundError: com.example.fileutil.FilePrepareApplication</p>\n"},{"tags":["java","apache-poi","subscript","superscript"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":2,"creation_date":1682647455,"post_id":76122277,"comment_id":134252390,"body_markdown":"I don&#39;t know how to do it, but I&#39;d suggest watching [How to write a superscript and subscript at the same time in Word](https://www.youtube.com/watch?v=_Ztgn3neikY) and then make a Word doc just containing your desired result. Then, use POI to read that file and investigate how it was encoded.","body":"I don&#39;t know how to do it, but I&#39;d suggest watching <a href=\"https://www.youtube.com/watch?v=_Ztgn3neikY\" rel=\"nofollow noreferrer\">How to write a superscript and subscript at the same time in Word</a> and then make a Word doc just containing your desired result. Then, use POI to read that file and investigate how it was encoded."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682693084,"creation_date":1682690202,"answer_id":76130307,"question_id":76122277,"body_markdown":"The only possibility to have something like this [![enter image description here][1]][1] in a Word document is inserting an equation of form **&lt;i&gt;e&lt;/i&gt;&lt;sup&gt;x&lt;/sup&gt;**.\r\n\r\nIn Word GUI one would select **Insert** &gt; **Equation** &gt; **&lt;i&gt;e&lt;/i&gt;&lt;sup&gt;x&lt;/sup&gt;**.\r\n\r\nUsing Apache POI this can be done using following code:\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath;\r\n    import org.openxmlformats.schemas.officeDocument.x2006.math.CTSSubSup;\r\n    import org.openxmlformats.schemas.officeDocument.x2006.math.CTOMathArg;\r\n    import org.openxmlformats.schemas.officeDocument.x2006.math.CTR;\r\n    import org.openxmlformats.schemas.officeDocument.x2006.math.CTText;\r\n    \r\n    public class CreateWordFormulaSubSup {\r\n        \r\n     static CTOMath createOMathSupSub(String eText, String supText, String subText) {\r\n      CTOMath ctOMath = CTOMath.Factory.newInstance();\r\n      CTSSubSup ctSSubSup = ctOMath.addNewSSubSup();\r\n      \r\n      CTOMathArg ctOMathArg = ctSSubSup.addNewE();\r\n      CTR ctR = ctOMathArg.addNewR();\r\n      CTText ctText = ctR.addNewT2();\r\n      ctText.setStringValue(eText);\r\n      \r\n      ctOMathArg = ctSSubSup.addNewSup();\r\n      ctR = ctOMathArg.addNewR();\r\n      ctText = ctR.addNewT2();\r\n      ctText.setStringValue(supText);\r\n      \r\n      ctOMathArg = ctSSubSup.addNewSub();\r\n      ctR = ctOMathArg.addNewR();\r\n      ctText = ctR.addNewT2();\r\n      ctText.setStringValue(subText);\r\n    \r\n      return ctOMath;\r\n     }\r\n    \r\n     static void createOMathInParagraph(XWPFParagraph paragraph, CTOMath ctOMath) {\r\n      CTOMath ctOMathTemp = paragraph.getCTP().addNewOMath();\r\n      paragraph.getCTP().setOMathArray(paragraph.getCTP().getOMathArray().length-1, ctOMath);\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument document = new XWPFDocument();\r\n    \r\n      XWPFParagraph paragraph = document.createParagraph();\r\n      XWPFRun run = paragraph.createRun();\r\n      run.setText(&quot;Formula: &quot;);\r\n        \r\n      createOMathInParagraph(paragraph, createOMathSupSub(&quot;2000&quot;, &quot;+2000&quot;, &quot;-180&quot;));\r\n      \r\n      run = paragraph.createRun();\r\n      run.setText(&quot; text after formula.&quot;);\r\n      \r\n      paragraph = document.createParagraph();\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;./CreateWordFormulaSubSup.docx&quot;);\r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n    \r\n     }\r\n    }\r\n\r\nResult:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/XclqV.png\r\n  [2]: https://i.stack.imgur.com/Dd7cT.png\r\n","title":"How to set superscript and subscript position in same vertical line in word document using apache poi","body":"<p>The only possibility to have something like this <a href=\"https://i.stack.imgur.com/XclqV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XclqV.png\" alt=\"enter image description here\" /></a> in a Word document is inserting an equation of form <strong><i>e</i><sup>x</sup></strong>.</p>\n<p>In Word GUI one would select <strong>Insert</strong> &gt; <strong>Equation</strong> &gt; <strong><i>e</i><sup>x</sup></strong>.</p>\n<p>Using Apache POI this can be done using following code:</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath;\nimport org.openxmlformats.schemas.officeDocument.x2006.math.CTSSubSup;\nimport org.openxmlformats.schemas.officeDocument.x2006.math.CTOMathArg;\nimport org.openxmlformats.schemas.officeDocument.x2006.math.CTR;\nimport org.openxmlformats.schemas.officeDocument.x2006.math.CTText;\n\npublic class CreateWordFormulaSubSup {\n    \n static CTOMath createOMathSupSub(String eText, String supText, String subText) {\n  CTOMath ctOMath = CTOMath.Factory.newInstance();\n  CTSSubSup ctSSubSup = ctOMath.addNewSSubSup();\n  \n  CTOMathArg ctOMathArg = ctSSubSup.addNewE();\n  CTR ctR = ctOMathArg.addNewR();\n  CTText ctText = ctR.addNewT2();\n  ctText.setStringValue(eText);\n  \n  ctOMathArg = ctSSubSup.addNewSup();\n  ctR = ctOMathArg.addNewR();\n  ctText = ctR.addNewT2();\n  ctText.setStringValue(supText);\n  \n  ctOMathArg = ctSSubSup.addNewSub();\n  ctR = ctOMathArg.addNewR();\n  ctText = ctR.addNewT2();\n  ctText.setStringValue(subText);\n\n  return ctOMath;\n }\n\n static void createOMathInParagraph(XWPFParagraph paragraph, CTOMath ctOMath) {\n  CTOMath ctOMathTemp = paragraph.getCTP().addNewOMath();\n  paragraph.getCTP().setOMathArray(paragraph.getCTP().getOMathArray().length-1, ctOMath);\n }\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument document = new XWPFDocument();\n\n  XWPFParagraph paragraph = document.createParagraph();\n  XWPFRun run = paragraph.createRun();\n  run.setText(&quot;Formula: &quot;);\n    \n  createOMathInParagraph(paragraph, createOMathSupSub(&quot;2000&quot;, &quot;+2000&quot;, &quot;-180&quot;));\n  \n  run = paragraph.createRun();\n  run.setText(&quot; text after formula.&quot;);\n  \n  paragraph = document.createParagraph();\n\n  FileOutputStream out = new FileOutputStream(&quot;./CreateWordFormulaSubSup.docx&quot;);\n  document.write(out);\n  out.close();\n  document.close();\n\n }\n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/Dd7cT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dd7cT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17064150,"reputation":13,"user_id":12346801,"display_name":"Sharana Avali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76130307,"answer_count":1,"score":0,"last_activity_date":1682693084,"creation_date":1682610017,"question_id":76122277,"body_markdown":"I am trying to add superscript and subscripts using apache poi in word file but not getting in same like below\r\n\r\n\r\ngetting like this \r\nbut i need proper like this\r\n  [1]: https://i.stack.imgur.com/ZhWyX.png","title":"How to set superscript and subscript position in same vertical line in word document using apache poi","body":"<p>I am trying to add superscript and subscripts using apache poi in word file but not getting in same like below</p>\n<p>getting like this\nbut i need proper like this\n[1]: <a href=\"https://i.stack.imgur.com/ZhWyX.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ZhWyX.png</a></p>\n"},{"tags":["java","kotlin","xml-parsing"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665432060,"creation_date":1665432060,"answer_id":74020155,"question_id":74020121,"body_markdown":"Yes, you can just use a `StringReader`.  If you like, you can even make it a little more Kotliny by writing `setInput(&quot;&lt;foo&gt;Hello World!&lt;/foo&gt;&quot;.reader())`, using the [`reader()`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/reader.html) extension function.","title":"how to parse xml string in kotlin (not from a file)","body":"<p>Yes, you can just use a <code>StringReader</code>.  If you like, you can even make it a little more Kotliny by writing <code>setInput(&quot;&lt;foo&gt;Hello World!&lt;/foo&gt;&quot;.reader())</code>, using the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/reader.html\" rel=\"nofollow noreferrer\"><code>reader()</code></a> extension function.</p>\n"},{"tags":[],"owner":{"account_id":158578,"reputation":3109,"user_id":377320,"accept_rate":25,"display_name":"Martin Vysny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682692950,"creation_date":1682692950,"answer_id":76130719,"question_id":74020121,"body_markdown":"Maybe you&#39;ll like https://gitlab.com/mvysny/konsume-xml :\r\n\r\n```kotlin\r\n&quot;&quot;&quot;\r\n&lt;employee&gt;\r\n    &lt;id&gt;1&lt;/id&gt;\r\n    &lt;name&gt;Alba&lt;/name&gt;\r\n    &lt;salary&gt;100&lt;/salary&gt;\r\n&lt;/employee&gt;\r\n&quot;&quot;&quot;.konsumeXml().apply {\r\n    child(&quot;employee&quot;) { \r\n        println(childInt(&quot;id&quot;))\r\n        println(childText(&quot;name&quot;))\r\n        println(childInt(&quot;salary&quot;))\r\n    }\r\n}\r\n```\r\n","title":"how to parse xml string in kotlin (not from a file)","body":"<p>Maybe you'll like <a href=\"https://gitlab.com/mvysny/konsume-xml\" rel=\"nofollow noreferrer\">https://gitlab.com/mvysny/konsume-xml</a> :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>&quot;&quot;&quot;\n&lt;employee&gt;\n    &lt;id&gt;1&lt;/id&gt;\n    &lt;name&gt;Alba&lt;/name&gt;\n    &lt;salary&gt;100&lt;/salary&gt;\n&lt;/employee&gt;\n&quot;&quot;&quot;.konsumeXml().apply {\n    child(&quot;employee&quot;) { \n        println(childInt(&quot;id&quot;))\n        println(childText(&quot;name&quot;))\n        println(childInt(&quot;salary&quot;))\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8081567,"reputation":307,"user_id":6090578,"display_name":"quinn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1681,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74020155,"answer_count":2,"score":0,"last_activity_date":1682692950,"creation_date":1665431887,"question_id":74020121,"body_markdown":"I have Kotlin code that others have written that parses an xml file. The code is here: https://www.javatpoint.com/kotlin-android-xmlpullparser-tutorial.  I would like to change it so that it parses a string, say from textview for example. I have code in Java that pareses a string, but it&#39;s not in Kotlin. That code is here: https://developer.android.com/reference/kotlin/org/xmlpull/v1/XmlPullParser\r\n\r\nThe key difference seems to be on setting the input stream. The Kotlin code snippet looks like:\r\n\r\n    fun parse(inputStream: InputStream): List&lt;Employee&gt; {  \r\n            try {  \r\n                val factory = XmlPullParserFactory.newInstance()  \r\n                factory.isNamespaceAware = true  \r\n                val parser = factory.newPullParser()  \r\n                parser.setInput(inputStream, null)  \r\n\r\nwhereas the java code looks like:\r\n\r\n    public static void main (String args[])\r\n            throws XmlPullParserException, IOException\r\n        {\r\n            XmlPullParserFactory factory = XmlPullParserFactory.newInstance();\r\n            factory.setNamespaceAware(true);\r\n            XmlPullParser xpp = factory.newPullParser();\r\n    \r\n            xpp.setInput( new StringReader ( &quot;&lt;foo&gt;Hello World!&lt;/foo&gt;&quot; ) );\r\n\r\nso I guess the question boils to where .setInput is done. That is, does Kotlin have a StringReader? or similar function? I tried to using Android Studio to convert the java code to Kotlin and it looks like still wants to use Java libraries. Is that ok if one wants a true Kotlin app? The conversion is here:\r\n\r\n    \r\n    \r\n    import kotlin.Throws\r\n    import org.xmlpull.v1.XmlPullParserException\r\n    import kotlin.jvm.JvmStatic\r\n    import org.xmlpull.v1.XmlPullParserFactory\r\n    import org.xmlpull.v1.XmlPullParser\r\n    import java.io.IOException\r\n    import java.io.StringReader\r\n    \r\n    object SimpleXmlPullApp {\r\n        @Throws(XmlPullParserException::class, IOException::class)\r\n        @JvmStatic\r\n        fun main(args: Array&lt;String&gt;) {\r\n            val factory = XmlPullParserFactory.newInstance()\r\n            factory.isNamespaceAware = true\r\n            val xpp = factory.newPullParser()\r\n            xpp.setInput(StringReader(&quot;&lt;foo&gt;Hello World!&lt;/foo&gt;&quot;))\r\n            var eventType = xpp.eventType\r\n            while (eventType != XmlPullParser.END_DOCUMENT) {\r\n                if (eventType == XmlPullParser.START_DOCUMENT) {\r\n                    println(&quot;Start document&quot;)\r\n                } else if (eventType == XmlPullParser.END_DOCUMENT) {\r\n                    println(&quot;End document&quot;)\r\n                } else if (eventType == XmlPullParser.START_TAG) {\r\n                    println(&quot;Start tag &quot; + xpp.name)\r\n                } else if (eventType == XmlPullParser.END_TAG) {\r\n                    println(&quot;End tag &quot; + xpp.name)\r\n                } else if (eventType == XmlPullParser.TEXT) {\r\n                    println(&quot;Text &quot; + xpp.text)\r\n                }\r\n                eventType = xpp.next()\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n","title":"how to parse xml string in kotlin (not from a file)","body":"<p>I have Kotlin code that others have written that parses an xml file. The code is here: <a href=\"https://www.javatpoint.com/kotlin-android-xmlpullparser-tutorial\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/kotlin-android-xmlpullparser-tutorial</a>.  I would like to change it so that it parses a string, say from textview for example. I have code in Java that pareses a string, but it's not in Kotlin. That code is here: <a href=\"https://developer.android.com/reference/kotlin/org/xmlpull/v1/XmlPullParser\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/org/xmlpull/v1/XmlPullParser</a></p>\n<p>The key difference seems to be on setting the input stream. The Kotlin code snippet looks like:</p>\n<pre><code>fun parse(inputStream: InputStream): List&lt;Employee&gt; {  \n        try {  \n            val factory = XmlPullParserFactory.newInstance()  \n            factory.isNamespaceAware = true  \n            val parser = factory.newPullParser()  \n            parser.setInput(inputStream, null)  \n</code></pre>\n<p>whereas the java code looks like:</p>\n<pre><code>public static void main (String args[])\n        throws XmlPullParserException, IOException\n    {\n        XmlPullParserFactory factory = XmlPullParserFactory.newInstance();\n        factory.setNamespaceAware(true);\n        XmlPullParser xpp = factory.newPullParser();\n\n        xpp.setInput( new StringReader ( &quot;&lt;foo&gt;Hello World!&lt;/foo&gt;&quot; ) );\n</code></pre>\n<p>so I guess the question boils to where .setInput is done. That is, does Kotlin have a StringReader? or similar function? I tried to using Android Studio to convert the java code to Kotlin and it looks like still wants to use Java libraries. Is that ok if one wants a true Kotlin app? The conversion is here:</p>\n<pre><code>import kotlin.Throws\nimport org.xmlpull.v1.XmlPullParserException\nimport kotlin.jvm.JvmStatic\nimport org.xmlpull.v1.XmlPullParserFactory\nimport org.xmlpull.v1.XmlPullParser\nimport java.io.IOException\nimport java.io.StringReader\n\nobject SimpleXmlPullApp {\n    @Throws(XmlPullParserException::class, IOException::class)\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n        val factory = XmlPullParserFactory.newInstance()\n        factory.isNamespaceAware = true\n        val xpp = factory.newPullParser()\n        xpp.setInput(StringReader(&quot;&lt;foo&gt;Hello World!&lt;/foo&gt;&quot;))\n        var eventType = xpp.eventType\n        while (eventType != XmlPullParser.END_DOCUMENT) {\n            if (eventType == XmlPullParser.START_DOCUMENT) {\n                println(&quot;Start document&quot;)\n            } else if (eventType == XmlPullParser.END_DOCUMENT) {\n                println(&quot;End document&quot;)\n            } else if (eventType == XmlPullParser.START_TAG) {\n                println(&quot;Start tag &quot; + xpp.name)\n            } else if (eventType == XmlPullParser.END_TAG) {\n                println(&quot;End tag &quot; + xpp.name)\n            } else if (eventType == XmlPullParser.TEXT) {\n                println(&quot;Text &quot; + xpp.text)\n            }\n            eventType = xpp.next()\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","pdfbox","digital-signature"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682692780,"creation_date":1682692780,"answer_id":76130695,"question_id":76129996,"body_markdown":"For Acrobat 9.0 Adobe had this cheat sheet for the meaning of the symbols in the signature panel:\r\n\r\n[![Acrobat Signature Validation Cheat Sheet][1]][1]\r\n\r\nThe exact appearance of those symbols changed a bit over time but the _Certifi&#233;_ icon can be recognized as\r\n\r\n[![Certified entry of table][2]][2]\r\n\r\nThus, just like the second signature in your example it is a successfully verified signature. In contrast, though, it is a &quot;certification&quot; (aka &quot;author&quot;) signature while the other is an &quot;approval&quot; signature.\r\n\r\nPDFBox creates certification signatures as first signatures only if you ask it to. E.g. the signing example code for that contains this code:\r\n\r\n```\r\n        // Optional: certify \r\n        if (accessPermissions == 0)\r\n        {\r\n            SigUtils.setMDPPermission(document, signature, 2);\r\n        }        \r\n```\r\n\r\nIf you don&#39;t want a certification signature, drop the `SigUtils.setMDPPermission` call.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xld3X.png\r\n  [2]: https://i.stack.imgur.com/2eRFZ.png","title":"What is the significance of the certificate in a PDF document signed using PDFBox?","body":"<p>For Acrobat 9.0 Adobe had this cheat sheet for the meaning of the symbols in the signature panel:</p>\n<p><a href=\"https://i.stack.imgur.com/xld3X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xld3X.png\" alt=\"Acrobat Signature Validation Cheat Sheet\" /></a></p>\n<p>The exact appearance of those symbols changed a bit over time but the <em>Certifi</em> icon can be recognized as</p>\n<p><a href=\"https://i.stack.imgur.com/2eRFZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2eRFZ.png\" alt=\"Certified entry of table\" /></a></p>\n<p>Thus, just like the second signature in your example it is a successfully verified signature. In contrast, though, it is a &quot;certification&quot; (aka &quot;author&quot;) signature while the other is an &quot;approval&quot; signature.</p>\n<p>PDFBox creates certification signatures as first signatures only if you ask it to. E.g. the signing example code for that contains this code:</p>\n<pre><code>        // Optional: certify \n        if (accessPermissions == 0)\n        {\n            SigUtils.setMDPPermission(document, signature, 2);\n        }        \n</code></pre>\n<p>If you don't want a certification signature, drop the <code>SigUtils.setMDPPermission</code> call.</p>\n"}],"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76130695,"answer_count":1,"score":0,"last_activity_date":1682692780,"creation_date":1682687940,"question_id":76129996,"body_markdown":"How can I interpret the left icon in the first signature of a signed PDF document using PDFBox 3? The right icon is displaying correctly in the second signature, but I am unsure about the meaning of the left icon.\r\n\r\nHere is a screenshot for reference:\r\n\r\n![screenshot ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nAKnj.png\r\n\r\n","title":"What is the significance of the certificate in a PDF document signed using PDFBox?","body":"<p>How can I interpret the left icon in the first signature of a signed PDF document using PDFBox 3? The right icon is displaying correctly in the second signature, but I am unsure about the meaning of the left icon.</p>\n<p>Here is a screenshot for reference:</p>\n<p><img src=\"https://i.stack.imgur.com/nAKnj.png\" alt=\"screenshot \" /></p>\n"},{"tags":["java","formatting"],"comments":[{"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"score":0,"creation_date":1355374472,"post_id":13851743,"comment_id":19072441,"body_markdown":"possible duplicate of [How to get hex value from integer in java](http://stackoverflow.com/questions/5258415/how-to-get-hex-value-from-integer-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5258415/how-to-get-hex-value-from-integer-in-java\">How to get hex value from integer in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1355364073,"creation_date":1355364073,"answer_id":13851784,"question_id":13851743,"body_markdown":"You can use the String.format to format an integer as a hex string.\r\n\r\n       System.out.println(String.format(&quot;0x%08X&quot;, 1));\r\n\r\nThat is, pad with zeros, and make the total width 8. The 1 is converted to hex for you. The above line gives: `0x00000001` and \r\n\r\n       System.out.println(String.format(&quot;0x%08X&quot;, 234));\r\n\r\ngives: `0x000000EA`","title":"How to format numbers to a hex strings?","body":"<p>You can use the String.format to format an integer as a hex string.</p>\n\n<pre><code>   System.out.println(String.format(\"0x%08X\", 1));\n</code></pre>\n\n<p>That is, pad with zeros, and make the total width 8. The 1 is converted to hex for you. The above line gives: <code>0x00000001</code> and </p>\n\n<pre><code>   System.out.println(String.format(\"0x%08X\", 234));\n</code></pre>\n\n<p>gives: <code>0x000000EA</code></p>\n"},{"tags":[],"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355364087,"creation_date":1355364087,"answer_id":13851787,"question_id":13851743,"body_markdown":"You can use a [java.util.Formatter](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html) or [the printf method](http://docs.oracle.com/javase/6/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29) on a PrintStream.","title":"How to format numbers to a hex strings?","body":"<p>You can use a <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html\" rel=\"nofollow\">java.util.Formatter</a> or <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29\" rel=\"nofollow\">the printf method</a> on a PrintStream.</p>\n"},{"tags":[],"owner":{"account_id":1926927,"reputation":4206,"user_id":1737130,"accept_rate":77,"display_name":"Drogba"},"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1355364097,"creation_date":1355364097,"answer_id":13851790,"question_id":13851743,"body_markdown":"Try this\r\n\r\n    System.out.println(String.format(&quot;0x%08X&quot;, 1));","title":"How to format numbers to a hex strings?","body":"<p>Try this</p>\n\n<pre><code>System.out.println(String.format(\"0x%08X\", 1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":316802,"reputation":10754,"user_id":633150,"display_name":"Brent Worden"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1355364124,"creation_date":1355364124,"answer_id":13851792,"question_id":13851743,"body_markdown":"From formatting syntax documented on Java&#39;s [Formatter][1] class:\r\n\r\n    Integer intObject = Integer.valueOf(1);\r\n    String s = String.format(&quot;0x%08x&quot;, intObject);\r\n    System.out.println(s);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html","title":"How to format numbers to a hex strings?","body":"<p>From formatting syntax documented on Java's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">Formatter</a> class:</p>\n\n<pre><code>Integer intObject = Integer.valueOf(1);\nString s = String.format(\"0x%08x\", intObject);\nSystem.out.println(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2140965,"reputation":21,"user_id":1899609,"display_name":"esteban"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1355364299,"creation_date":1355364299,"answer_id":13851818,"question_id":13851743,"body_markdown":"I don&#39;t know Java too intimately, but there must be a way you can pad the output from the toHexString function with a &#39;0&#39; to a length of 8.  If &quot;0x&quot; will always be at the beginning, just tack on that string to the beginning.","title":"How to format numbers to a hex strings?","body":"<p>I don't know Java too intimately, but there must be a way you can pad the output from the toHexString function with a '0' to a length of 8.  If \"0x\" will always be at the beginning, just tack on that string to the beginning.</p>\n"},{"tags":[],"owner":{"account_id":3522245,"reputation":174,"user_id":2944221,"display_name":"pratyahara"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1627299103,"creation_date":1626382244,"answer_id":68400627,"question_id":13851743,"body_markdown":"Less verbose:\r\n\r\n    System.out.printf(&quot;0x%08x&quot;, 1); //&quot;Use %0X for upper case letters","title":"How to format numbers to a hex strings?","body":"<p>Less verbose:</p>\n<pre><code>System.out.printf(&quot;0x%08x&quot;, 1); //&quot;Use %0X for upper case letters\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633452419,"creation_date":1633452419,"answer_id":69454370,"question_id":13851743,"body_markdown":"&lt;h4&gt;Java 17+&lt;/h4&gt;\r\n\r\nThere is a new immutable class dedicated to conversion into and formatting hexadecimal numbers. The easiest way to go is using [`HexFormat::toHexDigits`][1] which includes leading zeroes:\r\n\r\n```\r\nString hex = &quot;0x&quot; + HexFormat.of().toHexDigits(1);\r\n// 0x00000001\r\n```\r\n\r\n**Beware**, one has to concatenate with the `&quot;0x&quot;` prefix as such method ignores defined prefixes and suffixes, so the following snippet doesn&#39;t work as expected (only [`HexFormat::formatHex`][2] methods work with them):\r\n\r\n```\r\nString hex = HexFormat.of().withPrefix(&quot;0x&quot;).toHexDigits(1);\r\n// 00000001\r\n```\r\n\r\n&gt; Returns the eight hexadecimal characters for the int value. Each nibble `(4 bits)` from most significant to least significant of the value is formatted as if by `toLowHexDigit(nibble)`. **The delimiter, prefix and suffix are not used.**\r\n\r\n**Alternatively** use the advantage of [`HexFormat::formatHex`][2] formatting to two hexadecimal characters, and a `StringBuilder` as an `Appendable` prefix containing `&quot;0x&quot;`:\r\n\r\n&gt; Each byte value is formatted as the prefix, **two hexadecimal characters** selected from uppercase or lowercase digits, and the suffix.\r\n\r\n```\r\nStringBuilder hex = HexFormat.of()\r\n    .formatHex(new StringBuilder(&quot;0x&quot;), new byte[] {0, 0, 0, 1});\r\n// 0x00000001\r\n```\r\n```\r\nStringBuilder hex = HexFormat.of()\r\n    .formatHex(new StringBuilder(&quot;0x&quot;), ByteBuffer.allocate(4).putInt(1).array());\r\n// 0x00000001\r\n```\r\n\r\n  [1]: https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/HexFormat.html#toHexDigits(int)\r\n  [2]: https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/HexFormat.html#formatHex(byte%5B%5D)","title":"How to format numbers to a hex strings?","body":"<h4>Java 17+</h4>\n<p>There is a new immutable class dedicated to conversion into and formatting hexadecimal numbers. The easiest way to go is using <a href=\"https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/HexFormat.html#toHexDigits(int)\" rel=\"nofollow noreferrer\"><code>HexFormat::toHexDigits</code></a> which includes leading zeroes:</p>\n<pre><code>String hex = &quot;0x&quot; + HexFormat.of().toHexDigits(1);\n// 0x00000001\n</code></pre>\n<p><strong>Beware</strong>, one has to concatenate with the <code>&quot;0x&quot;</code> prefix as such method ignores defined prefixes and suffixes, so the following snippet doesn't work as expected (only <a href=\"https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/HexFormat.html#formatHex(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>HexFormat::formatHex</code></a> methods work with them):</p>\n<pre><code>String hex = HexFormat.of().withPrefix(&quot;0x&quot;).toHexDigits(1);\n// 00000001\n</code></pre>\n<blockquote>\n<p>Returns the eight hexadecimal characters for the int value. Each nibble <code>(4 bits)</code> from most significant to least significant of the value is formatted as if by <code>toLowHexDigit(nibble)</code>. <strong>The delimiter, prefix and suffix are not used.</strong></p>\n</blockquote>\n<p><strong>Alternatively</strong> use the advantage of <a href=\"https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/HexFormat.html#formatHex(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>HexFormat::formatHex</code></a> formatting to two hexadecimal characters, and a <code>StringBuilder</code> as an <code>Appendable</code> prefix containing <code>&quot;0x&quot;</code>:</p>\n<blockquote>\n<p>Each byte value is formatted as the prefix, <strong>two hexadecimal characters</strong> selected from uppercase or lowercase digits, and the suffix.</p>\n</blockquote>\n<pre><code>StringBuilder hex = HexFormat.of()\n    .formatHex(new StringBuilder(&quot;0x&quot;), new byte[] {0, 0, 0, 1});\n// 0x00000001\n</code></pre>\n<pre><code>StringBuilder hex = HexFormat.of()\n    .formatHex(new StringBuilder(&quot;0x&quot;), ByteBuffer.allocate(4).putInt(1).array());\n// 0x00000001\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4489693,"reputation":399,"user_id":3651090,"accept_rate":50,"display_name":"donmj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656384869,"creation_date":1656384869,"answer_id":72780256,"question_id":13851743,"body_markdown":"This is String extension for Kotlin\r\n\r\n    //if lengthOfResultTextNeeded = 3 and input String is &quot;AC&quot;, the result is = &quot;0AC&quot;\r\n    //if lengthOfResultTextNeeded = 4 and input String is &quot;AC&quot;, the result is = &quot;00AC&quot;\r\n\r\n    fun String.unSignedHex(lengthOfResultTextNeeded: Int): String {\r\n        val count =\r\n            lengthOfResultTextNeeded - this.length \r\n        val buildHex4DigitString = StringBuilder()\r\n        var i = 1\r\n        while (i &lt;= count) {\r\n            buildHex4DigitString.append(&quot;0&quot;)\r\n            ++i\r\n        }\r\n        return buildHex4DigitString.toString() + this\r\n    }","title":"How to format numbers to a hex strings?","body":"<p>This is String extension for Kotlin</p>\n<pre><code>//if lengthOfResultTextNeeded = 3 and input String is &quot;AC&quot;, the result is = &quot;0AC&quot;\n//if lengthOfResultTextNeeded = 4 and input String is &quot;AC&quot;, the result is = &quot;00AC&quot;\n\nfun String.unSignedHex(lengthOfResultTextNeeded: Int): String {\n    val count =\n        lengthOfResultTextNeeded - this.length \n    val buildHex4DigitString = StringBuilder()\n    var i = 1\n    while (i &lt;= count) {\n        buildHex4DigitString.append(&quot;0&quot;)\n        ++i\n    }\n    return buildHex4DigitString.toString() + this\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17001418,"reputation":23,"user_id":15434673,"display_name":"Mister Sir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682692684,"creation_date":1682692684,"answer_id":76130683,"question_id":13851743,"body_markdown":"Just use &quot;Integer.toString(n,x).toUpperCase()&quot; where n=Number, x= the Base\r\n\r\n    Integer.toString(123,16).toUpperCase()  //7B\r\n\r\n","title":"How to format numbers to a hex strings?","body":"<p>Just use &quot;Integer.toString(n,x).toUpperCase()&quot; where n=Number, x= the Base</p>\n<pre><code>Integer.toString(123,16).toUpperCase()  //7B\n</code></pre>\n"}],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101755,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":13851790,"answer_count":9,"score":38,"last_activity_date":1682692684,"creation_date":1355363666,"question_id":13851743,"body_markdown":"I want to format int numbers as hex strings.  `System.out.println(Integer.toHexString(1));` prints `1` but I want it as `0x00000001`. How do I do that?\r\n\r\n","title":"How to format numbers to a hex strings?","body":"<p>I want to format int numbers as hex strings.  <code>System.out.println(Integer.toHexString(1));</code> prints <code>1</code> but I want it as <code>0x00000001</code>. How do I do that?</p>\n"},{"tags":["java","docker"],"owner":{"account_id":1519247,"reputation":582,"user_id":1419420,"accept_rate":60,"display_name":"Joel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682733253,"answer_count":0,"score":0,"last_activity_date":1682692383,"creation_date":1682692383,"question_id":76130637,"body_markdown":"\r\nI&#39;m running a single docker container locally - it&#39;s running a spring boot java microservice.  \r\nThat service must connect to a windows hosted server at 9037. I&#39;m getting this exception stack trace:\r\n\r\n    Caused by: com.companyname.security.wam.util.WebClientException: Error executing request http://localhost:9037/services/policySvc/policy/All\r\n        at com.companyname.security.wam.util.WebClient.createAndCallHttpPost(WebClient.java:110)\r\n        at com.companyname.security.wam.util.WebClient.callPost(WebClient.java:61)\r\n        at com.companyname.security.wam.policy.client.ZoneAndPolicyClient.getAllPolicies(ZoneAndPolicyClient.java:37)\r\n        ... 14 common frames omitted\r\n    Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:9037 [localhost/127.0.0.1] failed: Connection refused\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\r\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n        at com.companyname.security.wam.util.WebClient.createAndCallHttpPost(WebClient.java:105)\r\n        ... 16 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused\r\n        at java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n        at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\r\n        at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\r\n        at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n        at java.base/java.net.Socket.connect(Socket.java:633)\r\n        at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n         26 common frames omitted\r\n\r\nThis works fine when run directly from Intellij.\r\n\r\n","title":"Docker connection refused to host service on port 9037","body":"<p>I'm running a single docker container locally - it's running a spring boot java microservice.<br />\nThat service must connect to a windows hosted server at 9037. I'm getting this exception stack trace:</p>\n<pre><code>Caused by: com.companyname.security.wam.util.WebClientException: Error executing request http://localhost:9037/services/policySvc/policy/All\n    at com.companyname.security.wam.util.WebClient.createAndCallHttpPost(WebClient.java:110)\n    at com.companyname.security.wam.util.WebClient.callPost(WebClient.java:61)\n    at com.companyname.security.wam.policy.client.ZoneAndPolicyClient.getAllPolicies(ZoneAndPolicyClient.java:37)\n    ... 14 common frames omitted\nCaused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:9037 [localhost/127.0.0.1] failed: Connection refused\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at com.companyname.security.wam.util.WebClient.createAndCallHttpPost(WebClient.java:105)\n    ... 16 common frames omitted\nCaused by: java.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n     26 common frames omitted\n</code></pre>\n<p>This works fine when run directly from Intellij.</p>\n"},{"tags":["java","gremlin","rdbms","tinkerpop3"],"comments":[{"owner":{"account_id":22385601,"reputation":1411,"user_id":16598470,"display_name":"HadoopMarc"},"score":0,"creation_date":1682675673,"post_id":76128111,"comment_id":134256484,"body_markdown":"SO did not let me edit for lack of capacity, so upvoted to 0. Question can be understood by TinkerPop experts, but not by the general audience.","body":"SO did not let me edit for lack of capacity, so upvoted to 0. Question can be understood by TinkerPop experts, but not by the general audience."}],"answers":[{"tags":[],"owner":{"account_id":14025132,"reputation":2074,"user_id":10130372,"display_name":"Taylor Riggan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682684021,"creation_date":1682684021,"answer_id":76129470,"question_id":76128111,"body_markdown":"This doc linked below discusses the main points of converting from a traditional, tabular RDBMS schema into a graph model and writing data into a TinkerPop-compatible datastore using Grmelin:\r\n\r\nhttps://aws-samples.github.io/aws-dbs-refarch-graph/src/converting-to-graph/\r\n\r\n","title":"How to load data from RDBMS to Tinkergraph using Gremlin using java code?","body":"<p>This doc linked below discusses the main points of converting from a traditional, tabular RDBMS schema into a graph model and writing data into a TinkerPop-compatible datastore using Grmelin:</p>\n<p><a href=\"https://aws-samples.github.io/aws-dbs-refarch-graph/src/converting-to-graph/\" rel=\"nofollow noreferrer\">https://aws-samples.github.io/aws-dbs-refarch-graph/src/converting-to-graph/</a></p>\n"}],"owner":{"account_id":7776395,"reputation":19,"user_id":5884381,"display_name":"Riya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1682691978,"creation_date":1682673760,"question_id":76128111,"body_markdown":"I need to load data from RDBMS to Tinkergraph using Gremlin using java code. \r\n\r\nEx: Select name,age from employee. There are 1000 rows. How to construct tinkergraph for such data?\r\n\r\n\r\nTried going through content available online but did not get to load data from rdbms table to graph for hundreds of thousands of rows","title":"How to load data from RDBMS to Tinkergraph using Gremlin using java code?","body":"<p>I need to load data from RDBMS to Tinkergraph using Gremlin using java code.</p>\n<p>Ex: Select name,age from employee. There are 1000 rows. How to construct tinkergraph for such data?</p>\n<p>Tried going through content available online but did not get to load data from rdbms table to graph for hundreds of thousands of rows</p>\n"},{"tags":["java","android","android-layout","scroll","datepicker"],"answers":[{"tags":[],"owner":{"account_id":22402825,"reputation":46,"user_id":16612929,"display_name":"ginger_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682691349,"creation_date":1682691349,"answer_id":76130486,"question_id":76093247,"body_markdown":"I guess your problem is that you have your datepicker inside scrollview. Can you check [this][1] answer?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/42294154/16612929\r\n\r\n","title":"Unable to scroll to choose the year in DatePicker widget in android java","body":"<p>I guess your problem is that you have your datepicker inside scrollview. Can you check <a href=\"https://stackoverflow.com/a/42294154/16612929\">this</a> answer?</p>\n"}],"owner":{"account_id":27384334,"reputation":1,"user_id":20888445,"display_name":"muzammil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682691349,"creation_date":1682348233,"question_id":76093247,"body_markdown":"your text I have a datepicker view in android java that is used in a registration form so that users can give their date of birth, now when the year option is selected to scroll and choose the year user was born in, the year refuses to scroll an inch either up or down so i cannot select the birth year due to this.\r\n\r\nI expected the year list to be scrollable so user can easily scroll and select but it isn&#39;t, i have tried some stuff chatgpt told me but they didn&#39;t work\r\n\r\nHere is the xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    tools:context=&quot;.ECMainActivity&quot;&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:scrollbars=&quot;vertical&quot;\r\n        android:fillViewport=&quot;true&quot;\r\n        &gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            android:padding=&quot;5dp&quot;&gt;\r\n            &lt;androidx.cardview.widget.CardView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:cardElevation=&quot;10dp&quot;\r\n                app:contentPadding=&quot;10dp&quot;\r\n                app:cardCornerRadius=&quot;5dp&quot;\r\n                app:cardMaxElevation=&quot;12dp&quot;\r\n                app:cardPreventCornerOverlap=&quot;true&quot;\r\n                app:cardUseCompatPadding=&quot;true&quot;&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:orientation=&quot;vertical&quot;\r\n                    android:gravity=&quot;center_vertical&quot;&gt;\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:textSize=&quot;20dp&quot;\r\n                        android:text=&quot;Enter Details&quot;/&gt;\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/filledTextFieldFirstName&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n                        android:layout_marginEnd=&quot;10dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:hint=&quot;Enter First Name&quot;&gt;\r\n\r\n                        &lt;!--this is the actual edit text which takes the input--&gt;\r\n                        &lt;com.google.android.material.textfield.TextInputEditText\r\n                            android:id=&quot;@+id/firstName&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/filledTextFieldLastName&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n                        android:layout_marginEnd=&quot;10dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:hint=&quot;Enter Last Name&quot;&gt;\r\n\r\n                        &lt;!--this is the actual edit text which takes the input--&gt;\r\n                        &lt;com.google.android.material.textfield.TextInputEditText\r\n                            android:id=&quot;@+id/lastName&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/filledTextFieldPartyName&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n                        android:layout_marginEnd=&quot;10dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:hint=&quot;Enter Party Name&quot;&gt;\r\n\r\n                        &lt;!--this is the actual edit text which takes the input--&gt;\r\n                        &lt;com.google.android.material.textfield.TextInputEditText\r\n                            android:id=&quot;@+id/partyName&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n                    &lt;RadioGroup\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:id=&quot;@+id/genderGrp&quot;&gt;\r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:orientation=&quot;horizontal&quot;&gt;\r\n                            &lt;RadioButton\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:id=&quot;@+id/male&quot;\r\n                                android:text=&quot;Male&quot;/&gt;\r\n\r\n                            &lt;RadioButton\r\n                                android:id=&quot;@+id/female&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:text=&quot;Female&quot; /&gt;\r\n                            &lt;RadioButton\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:id=&quot;@+id/others&quot;\r\n                                android:text=&quot;Others&quot;/&gt;\r\n                        &lt;/LinearLayout&gt;\r\n                    &lt;/RadioGroup&gt;\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/filledTextFieldAN&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n                        android:layout_marginEnd=&quot;10dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:hint=&quot;Enter Aadhar Number&quot;&gt;\r\n\r\n                        &lt;!--this is the actual edit text which takes the input--&gt;\r\n                        &lt;com.google.android.material.textfield.TextInputEditText\r\n                            android:id=&quot;@+id/aadharNumber&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/androidx.cardview.widget.CardView&gt;\r\n            &lt;androidx.cardview.widget.CardView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:cardElevation=&quot;10dp&quot;\r\n                app:contentPadding=&quot;10dp&quot;\r\n                app:cardCornerRadius=&quot;5dp&quot;\r\n                app:cardMaxElevation=&quot;12dp&quot;\r\n                app:cardPreventCornerOverlap=&quot;true&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                app:cardUseCompatPadding=&quot;true&quot;&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:textSize=&quot;20dp&quot;\r\n                        android:text=&quot;Choose Date of Birth&quot;/&gt;\r\n\r\n                    &lt;DatePicker\r\n                        android:id=&quot;@+id/datePicker&quot;\r\n                        android:layout_width=&quot;fill_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:headerBackground=&quot;@android:color/holo_blue_dark&quot;\r\n                        android:padding=&quot;10px&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/androidx.cardview.widget.CardView&gt;\r\n            &lt;androidx.cardview.widget.CardView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:cardElevation=&quot;10dp&quot;\r\n                app:contentPadding=&quot;10dp&quot;\r\n                app:cardCornerRadius=&quot;5dp&quot;\r\n                app:cardMaxElevation=&quot;12dp&quot;\r\n                app:cardPreventCornerOverlap=&quot;true&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                app:cardUseCompatPadding=&quot;true&quot;&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:textSize=&quot;20dp&quot;\r\n                        android:text=&quot;Add Aadhar Card Picture&quot;/&gt;\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                        &lt;Button\r\n                            android:id=&quot;@+id/chooseFileBtn&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_marginRight=&quot;10dp&quot;\r\n                            android:text=&quot;Choose File&quot;\r\n                            app:backgroundTint=&quot;#4CAF50&quot; /&gt;\r\n\r\n                        &lt;Button\r\n                            android:id=&quot;@+id/submitBtn&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center&quot;\r\n                            android:text=&quot;Submit Details&quot;\r\n                            app:backgroundTint=&quot;#FF5722&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:gravity=&quot;center_vertical&quot;\r\n                        android:visibility=&quot;gone&quot;\r\n                        android:id=&quot;@+id/uploadEC&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n                        &lt;TextView\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center_horizontal&quot;\r\n                            android:text=&quot;Processing...&quot;/&gt;\r\n                        &lt;ProgressBar\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center_horizontal&quot;/&gt;\r\n                    &lt;/LinearLayout&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/goBackToInfoPage&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:text=&quot;Go Back To Info&quot;\r\n                android:visibility=&quot;invisible&quot;\r\n                app:backgroundTint=&quot;#2196F3&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n","title":"Unable to scroll to choose the year in DatePicker widget in android java","body":"<p>your text I have a datepicker view in android java that is used in a registration form so that users can give their date of birth, now when the year option is selected to scroll and choose the year user was born in, the year refuses to scroll an inch either up or down so i cannot select the birth year due to this.</p>\n<p>I expected the year list to be scrollable so user can easily scroll and select but it isn't, i have tried some stuff chatgpt told me but they didn't work</p>\n<p>Here is the xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    tools:context=&quot;.ECMainActivity&quot;&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:scrollbars=&quot;vertical&quot;\n        android:fillViewport=&quot;true&quot;\n        &gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:padding=&quot;5dp&quot;&gt;\n            &lt;androidx.cardview.widget.CardView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:cardElevation=&quot;10dp&quot;\n                app:contentPadding=&quot;10dp&quot;\n                app:cardCornerRadius=&quot;5dp&quot;\n                app:cardMaxElevation=&quot;12dp&quot;\n                app:cardPreventCornerOverlap=&quot;true&quot;\n                app:cardUseCompatPadding=&quot;true&quot;&gt;\n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:orientation=&quot;vertical&quot;\n                    android:gravity=&quot;center_vertical&quot;&gt;\n                    &lt;TextView\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textSize=&quot;20dp&quot;\n                        android:text=&quot;Enter Details&quot;/&gt;\n                    &lt;com.google.android.material.textfield.TextInputLayout\n                        android:id=&quot;@+id/filledTextFieldFirstName&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;10dp&quot;\n                        android:layout_marginEnd=&quot;10dp&quot;\n                        android:layout_marginRight=&quot;10dp&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:hint=&quot;Enter First Name&quot;&gt;\n\n                        &lt;!--this is the actual edit text which takes the input--&gt;\n                        &lt;com.google.android.material.textfield.TextInputEditText\n                            android:id=&quot;@+id/firstName&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n                    &lt;com.google.android.material.textfield.TextInputLayout\n                        android:id=&quot;@+id/filledTextFieldLastName&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;10dp&quot;\n                        android:layout_marginEnd=&quot;10dp&quot;\n                        android:layout_marginRight=&quot;10dp&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:hint=&quot;Enter Last Name&quot;&gt;\n\n                        &lt;!--this is the actual edit text which takes the input--&gt;\n                        &lt;com.google.android.material.textfield.TextInputEditText\n                            android:id=&quot;@+id/lastName&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n                    &lt;com.google.android.material.textfield.TextInputLayout\n                        android:id=&quot;@+id/filledTextFieldPartyName&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;10dp&quot;\n                        android:layout_marginEnd=&quot;10dp&quot;\n                        android:layout_marginRight=&quot;10dp&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:hint=&quot;Enter Party Name&quot;&gt;\n\n                        &lt;!--this is the actual edit text which takes the input--&gt;\n                        &lt;com.google.android.material.textfield.TextInputEditText\n                            android:id=&quot;@+id/partyName&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n                    &lt;RadioGroup\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:id=&quot;@+id/genderGrp&quot;&gt;\n                        &lt;LinearLayout\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:orientation=&quot;horizontal&quot;&gt;\n                            &lt;RadioButton\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:id=&quot;@+id/male&quot;\n                                android:text=&quot;Male&quot;/&gt;\n\n                            &lt;RadioButton\n                                android:id=&quot;@+id/female&quot;\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:text=&quot;Female&quot; /&gt;\n                            &lt;RadioButton\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:id=&quot;@+id/others&quot;\n                                android:text=&quot;Others&quot;/&gt;\n                        &lt;/LinearLayout&gt;\n                    &lt;/RadioGroup&gt;\n                    &lt;com.google.android.material.textfield.TextInputLayout\n                        android:id=&quot;@+id/filledTextFieldAN&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;10dp&quot;\n                        android:layout_marginEnd=&quot;10dp&quot;\n                        android:layout_marginRight=&quot;10dp&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:hint=&quot;Enter Aadhar Number&quot;&gt;\n\n                        &lt;!--this is the actual edit text which takes the input--&gt;\n                        &lt;com.google.android.material.textfield.TextInputEditText\n                            android:id=&quot;@+id/aadharNumber&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n                &lt;/LinearLayout&gt;\n            &lt;/androidx.cardview.widget.CardView&gt;\n            &lt;androidx.cardview.widget.CardView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:cardElevation=&quot;10dp&quot;\n                app:contentPadding=&quot;10dp&quot;\n                app:cardCornerRadius=&quot;5dp&quot;\n                app:cardMaxElevation=&quot;12dp&quot;\n                app:cardPreventCornerOverlap=&quot;true&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                app:cardUseCompatPadding=&quot;true&quot;&gt;\n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n                    &lt;TextView\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textSize=&quot;20dp&quot;\n                        android:text=&quot;Choose Date of Birth&quot;/&gt;\n\n                    &lt;DatePicker\n                        android:id=&quot;@+id/datePicker&quot;\n                        android:layout_width=&quot;fill_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:headerBackground=&quot;@android:color/holo_blue_dark&quot;\n                        android:padding=&quot;10px&quot; /&gt;\n                &lt;/LinearLayout&gt;\n            &lt;/androidx.cardview.widget.CardView&gt;\n            &lt;androidx.cardview.widget.CardView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:cardElevation=&quot;10dp&quot;\n                app:contentPadding=&quot;10dp&quot;\n                app:cardCornerRadius=&quot;5dp&quot;\n                app:cardMaxElevation=&quot;12dp&quot;\n                app:cardPreventCornerOverlap=&quot;true&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                app:cardUseCompatPadding=&quot;true&quot;&gt;\n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n                    &lt;TextView\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textSize=&quot;20dp&quot;\n                        android:text=&quot;Add Aadhar Card Picture&quot;/&gt;\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:orientation=&quot;horizontal&quot;&gt;\n\n                        &lt;Button\n                            android:id=&quot;@+id/chooseFileBtn&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginRight=&quot;10dp&quot;\n                            android:text=&quot;Choose File&quot;\n                            app:backgroundTint=&quot;#4CAF50&quot; /&gt;\n\n                        &lt;Button\n                            android:id=&quot;@+id/submitBtn&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_gravity=&quot;center&quot;\n                            android:text=&quot;Submit Details&quot;\n                            app:backgroundTint=&quot;#FF5722&quot; /&gt;\n                    &lt;/LinearLayout&gt;\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:gravity=&quot;center_vertical&quot;\n                        android:visibility=&quot;gone&quot;\n                        android:id=&quot;@+id/uploadEC&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_gravity=&quot;center_horizontal&quot;\n                            android:text=&quot;Processing...&quot;/&gt;\n                        &lt;ProgressBar\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_gravity=&quot;center_horizontal&quot;/&gt;\n                    &lt;/LinearLayout&gt;\n                &lt;/LinearLayout&gt;\n            &lt;/androidx.cardview.widget.CardView&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/goBackToInfoPage&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:text=&quot;Go Back To Info&quot;\n                android:visibility=&quot;invisible&quot;\n                app:backgroundTint=&quot;#2196F3&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/ScrollView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","jpa","configuration"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1682813890,"post_id":76129845,"comment_id":134274442,"body_markdown":"You can&#39;t disable the EntityListener, but you can inject a property into your listener and carry out the listener logic conditionally.","body":"You can&#39;t disable the EntityListener, but you can inject a property into your listener and carry out the listener logic conditionally."}],"answers":[{"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682691332,"creation_date":1682691332,"answer_id":76130484,"question_id":76129845,"body_markdown":"An easy way to achieve this is by using a `@Value` and test if post-update should be executed.\r\n\r\n```java\r\n\r\n@Service\r\nclass MyListener {\r\n\r\n\t@Value(&quot;${my-listener-update:false}&quot;)\r\n\tboolean update;\r\n\r\n\t@PostUpdate\r\n\tvoid updated(Object entity){\r\n\t\tif(update) { // check if post update should be used\r\n\t\t\tSystem.out.println(&quot;updated &quot; + entity);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\napplication.properties\r\n```\r\nmy-listener-update = true\r\n```\r\n\r\nBest to provide a default value, in the example it&#39;s set to `false`\r\n\r\n","title":"Spring - conditionally disable EntityListener","body":"<p>An easy way to achieve this is by using a <code>@Value</code> and test if post-update should be executed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Service\nclass MyListener {\n\n    @Value(&quot;${my-listener-update:false}&quot;)\n    boolean update;\n\n    @PostUpdate\n    void updated(Object entity){\n        if(update) { // check if post update should be used\n            System.out.println(&quot;updated &quot; + entity);\n        }\n    }\n\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>my-listener-update = true\n</code></pre>\n<p>Best to provide a default value, in the example it's set to <code>false</code></p>\n"}],"owner":{"account_id":15910003,"reputation":531,"user_id":11480186,"display_name":"Nickname11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682691332,"creation_date":1682686896,"question_id":76129845,"body_markdown":"```\r\n@Entity\r\n@EntityListeners({MyListener.class})\r\npublic class MyEntityClass {\r\n...\r\n}\r\n```\r\n```\r\n@Service\r\npublic class MyListener {\r\n   @PostUpdate\r\n   public void myPostUpdate() {\r\n   ...\r\n   }\r\n}\r\n\r\n```\r\nI would like to conditionally (the best would by based on ```application.properties``` property) disable EntityListener. **Is it possible to achieve?**","title":"Spring - conditionally disable EntityListener","body":"<pre><code>@Entity\n@EntityListeners({MyListener.class})\npublic class MyEntityClass {\n...\n}\n</code></pre>\n<pre><code>@Service\npublic class MyListener {\n   @PostUpdate\n   public void myPostUpdate() {\n   ...\n   }\n}\n\n</code></pre>\n<p>I would like to conditionally (the best would by based on <code>application.properties</code> property) disable EntityListener. <strong>Is it possible to achieve?</strong></p>\n"},{"tags":["java","android","android-activity","recreate"],"answers":[{"tags":[],"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682690731,"creation_date":1433638741,"answer_id":30689024,"question_id":30688976,"body_markdown":"Yes it will. \r\n\r\nOne simple way to test this is to rotate the screen when the receiving activity is running, it will be will be destroyed and recreated, and you will notice that you can still get the extras. \r\n\r\nTry it and see by your own.","title":"Does a recreated activity remember the original intent started it?","body":"<p>Yes it will.</p>\n<p>One simple way to test this is to rotate the screen when the receiving activity is running, it will be will be destroyed and recreated, and you will notice that you can still get the extras.</p>\n<p>Try it and see by your own.</p>\n"},{"tags":[],"owner":{"account_id":1672480,"reputation":431,"user_id":1538674,"display_name":"queencodemonkey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433639300,"creation_date":1433639300,"answer_id":30689078,"question_id":30688976,"body_markdown":"Yes, it will be the same intent.\r\n\r\nAlso just to clarify, when you leave Activity B to answer the call, and go back, Activity B is not necessarily re-created. It is only re-created if the process containing it was killed to reclaim resources. It happens often that in the scenario you describe, Activity B still exists.\r\n\r\nFor a similar discussion see:\r\nhttps://stackoverflow.com/questions/15414093/android-is-the-intent-preserved-during-activity-recreation","title":"Does a recreated activity remember the original intent started it?","body":"<p>Yes, it will be the same intent.</p>\n\n<p>Also just to clarify, when you leave Activity B to answer the call, and go back, Activity B is not necessarily re-created. It is only re-created if the process containing it was killed to reclaim resources. It happens often that in the scenario you describe, Activity B still exists.</p>\n\n<p>For a similar discussion see:\n<a href=\"https://stackoverflow.com/questions/15414093/android-is-the-intent-preserved-during-activity-recreation\">Android - Is the intent preserved during activity recreation?</a></p>\n"}],"owner":{"account_id":3534015,"reputation":781,"user_id":2952782,"accept_rate":74,"display_name":"Jacob.B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":30689024,"answer_count":2,"score":3,"last_activity_date":1682690731,"creation_date":1433638190,"question_id":30688976,"body_markdown":"While checking the documentation about using onSaveInstanceState, a question popped up.\r\n\r\nLet&#39;s say I&#39;m using an app with several activities and now I&#39;m in a specific activity that got started by a previous one. The current activity accepts extra values from the previous one. \r\n\r\nIf I get a phone call and then navigate back to the activity, it&#39;s recreated. But will it remember the original intent of the previous activity that started it? will it be able to get the extra variables from it after recreating itself?\r\n\r\nTo simplify things:\r\n\r\nActivity A starts Activity B (and passing extras to it). Then (while in B) there&#39;s an incoming call. \r\nI go back to the app so B is recreated- will I still be able to get the extras passed from original the original activity A ?","title":"Does a recreated activity remember the original intent started it?","body":"<p>While checking the documentation about using onSaveInstanceState, a question popped up.</p>\n<p>Let's say I'm using an app with several activities and now I'm in a specific activity that got started by a previous one. The current activity accepts extra values from the previous one.</p>\n<p>If I get a phone call and then navigate back to the activity, it's recreated. But will it remember the original intent of the previous activity that started it? will it be able to get the extra variables from it after recreating itself?</p>\n<p>To simplify things:</p>\n<p>Activity A starts Activity B (and passing extras to it). Then (while in B) there's an incoming call.\nI go back to the app so B is recreated- will I still be able to get the extras passed from original the original activity A ?</p>\n"},{"tags":["java","android","kotlin","imageview"],"owner":{"account_id":18955587,"reputation":135,"user_id":13832244,"display_name":"Sanket Bhangale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682690661,"creation_date":1682690661,"question_id":76130388,"body_markdown":"I am working on an app that supports zoomable images\r\n\r\nCurrently, I am stuck at a point where I can not find a solution on how to programmatically scale (or zoom in) the image in an image view so that, in the resultant scaled image the object of interest is not cut off.\r\n\r\nThe app is receiving the coordinates of objects of interest relative to the original image&#39;s resolution.\r\n\r\nFrom the coordinates of objects, I can calculate the bounding box for an object of interest\r\n\r\nFor Example\r\n\r\n[![Image with different objects][1]][1]\r\n\r\n**Image with different objects**\r\n\r\n\r\n[![Object of interest][2]][2]\r\n\r\n**Object of interest (Marked with blue color bounding box)**\r\n\r\n\r\n[![Programmatically scaled image inside image view][3]][3]\r\n\r\n**Programmatically scaled image inside image view**\r\n\r\n\r\n\r\n\r\n\r\nI have tried this github library\r\nhttps://github.com/jsibbold/zoomage\r\n\r\n\r\nIn the above-mentioned library, I tried doing some changes\r\nThis library provides double tap to zoom\r\nI have abstracted those lines of code and put them in a function\r\n\r\nAs I am already getting a bounding box of object of interest, I have calculated the center of that\r\nand then called the same function with center x and center y \r\n\r\n\r\n    public void scaleAt(float x, float y) {\r\n            matrix.set(getImageMatrix());\r\n            matrix.getValues(matrixValues);\r\n            updateBounds(matrixValues);\r\n            Matrix zoomMatrix = new Matrix(matrix);\r\n            zoomMatrix.postScale(doubleTapToZoomScaleFactor, doubleTapToZoomScaleFactor, x, y);\r\n            animateScaleAndTranslationToMatrix(zoomMatrix, RESET_DURATION);\r\n    }\r\n\r\n\r\n    private void updateBounds(final float[] values) {\r\n            if (getDrawable() != null) {\r\n                bounds.set(values[Matrix.MTRANS_X],\r\n                        values[Matrix.MTRANS_Y],\r\n                        getDrawable().getIntrinsicWidth() * values[Matrix.MSCALE_X] + values[Matrix.MTRANS_X],\r\n                        getDrawable().getIntrinsicHeight() * values[Matrix.MSCALE_Y] + values[Matrix.MTRANS_Y]);\r\n            }\r\n        }\r\n\r\n\r\n    private void animateScaleAndTranslationToMatrix(final Matrix targetMatrix, final int duration) {\r\n    \r\n            final float[] targetValues = new float[9];\r\n            targetMatrix.getValues(targetValues);\r\n    \r\n            final Matrix beginMatrix = new Matrix(getImageMatrix());\r\n            beginMatrix.getValues(matrixValues);\r\n    \r\n            //difference in current and original values\r\n            final float xsdiff = targetValues[Matrix.MSCALE_X] - matrixValues[Matrix.MSCALE_X];\r\n            final float ysdiff = targetValues[Matrix.MSCALE_Y] - matrixValues[Matrix.MSCALE_Y];\r\n            final float xtdiff = targetValues[Matrix.MTRANS_X] - matrixValues[Matrix.MTRANS_X];\r\n            final float ytdiff = targetValues[Matrix.MTRANS_Y] - matrixValues[Matrix.MTRANS_Y];\r\n    \r\n            resetAnimator = ValueAnimator.ofFloat(0, 1f);\r\n            resetAnimator.addUpdateListener(new AnimatorUpdateListener() {\r\n    \r\n                final Matrix activeMatrix = new Matrix(getImageMatrix());\r\n                final float[] values = new float[9];\r\n    \r\n                @Override\r\n                public void onAnimationUpdate(ValueAnimator animation) {\r\n                    float val = (Float) animation.getAnimatedValue();\r\n                    activeMatrix.set(beginMatrix);\r\n                    activeMatrix.getValues(values);\r\n                    values[Matrix.MTRANS_X] = values[Matrix.MTRANS_X] + xtdiff * val;\r\n                    values[Matrix.MTRANS_Y] = values[Matrix.MTRANS_Y] + ytdiff * val;\r\n                    values[Matrix.MSCALE_X] = values[Matrix.MSCALE_X] + xsdiff * val;\r\n                    values[Matrix.MSCALE_Y] = values[Matrix.MSCALE_Y] + ysdiff * val;\r\n                    activeMatrix.setValues(values);\r\n                    setImageMatrix(activeMatrix);\r\n                }\r\n            });\r\n    \r\n            resetAnimator.addListener(new SimpleAnimatorListener() {\r\n                @Override\r\n                public void onAnimationEnd(Animator animation) {\r\n                    setImageMatrix(targetMatrix);\r\n                }\r\n            });\r\n    \r\n            resetAnimator.setDuration(duration);\r\n            resetAnimator.start();\r\n        }\r\n\r\n\r\nIt produces this type of result\r\n\r\n[![Custom try][4]][4]\r\n\r\n\r\nPlease help me solve this issue\r\n\r\nThank you\r\n\r\n  [1]: https://i.stack.imgur.com/jcFT6.jpg\r\n  [2]: https://i.stack.imgur.com/wDwpR.jpg\r\n  [3]: https://i.stack.imgur.com/AUF64.jpg\r\n  [4]: https://i.stack.imgur.com/L2eFN.jpg","title":"Native android - Preset the zoom on the basis of a bounding box for a object in image","body":"<p>I am working on an app that supports zoomable images</p>\n<p>Currently, I am stuck at a point where I can not find a solution on how to programmatically scale (or zoom in) the image in an image view so that, in the resultant scaled image the object of interest is not cut off.</p>\n<p>The app is receiving the coordinates of objects of interest relative to the original image's resolution.</p>\n<p>From the coordinates of objects, I can calculate the bounding box for an object of interest</p>\n<p>For Example</p>\n<p><a href=\"https://i.stack.imgur.com/jcFT6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jcFT6.jpg\" alt=\"Image with different objects\" /></a></p>\n<p><strong>Image with different objects</strong></p>\n<p><a href=\"https://i.stack.imgur.com/wDwpR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wDwpR.jpg\" alt=\"Object of interest\" /></a></p>\n<p><strong>Object of interest (Marked with blue color bounding box)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/AUF64.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AUF64.jpg\" alt=\"Programmatically scaled image inside image view\" /></a></p>\n<p><strong>Programmatically scaled image inside image view</strong></p>\n<p>I have tried this github library\n<a href=\"https://github.com/jsibbold/zoomage\" rel=\"nofollow noreferrer\">https://github.com/jsibbold/zoomage</a></p>\n<p>In the above-mentioned library, I tried doing some changes\nThis library provides double tap to zoom\nI have abstracted those lines of code and put them in a function</p>\n<p>As I am already getting a bounding box of object of interest, I have calculated the center of that\nand then called the same function with center x and center y</p>\n<pre><code>public void scaleAt(float x, float y) {\n        matrix.set(getImageMatrix());\n        matrix.getValues(matrixValues);\n        updateBounds(matrixValues);\n        Matrix zoomMatrix = new Matrix(matrix);\n        zoomMatrix.postScale(doubleTapToZoomScaleFactor, doubleTapToZoomScaleFactor, x, y);\n        animateScaleAndTranslationToMatrix(zoomMatrix, RESET_DURATION);\n}\n\n\nprivate void updateBounds(final float[] values) {\n        if (getDrawable() != null) {\n            bounds.set(values[Matrix.MTRANS_X],\n                    values[Matrix.MTRANS_Y],\n                    getDrawable().getIntrinsicWidth() * values[Matrix.MSCALE_X] + values[Matrix.MTRANS_X],\n                    getDrawable().getIntrinsicHeight() * values[Matrix.MSCALE_Y] + values[Matrix.MTRANS_Y]);\n        }\n    }\n\n\nprivate void animateScaleAndTranslationToMatrix(final Matrix targetMatrix, final int duration) {\n\n        final float[] targetValues = new float[9];\n        targetMatrix.getValues(targetValues);\n\n        final Matrix beginMatrix = new Matrix(getImageMatrix());\n        beginMatrix.getValues(matrixValues);\n\n        //difference in current and original values\n        final float xsdiff = targetValues[Matrix.MSCALE_X] - matrixValues[Matrix.MSCALE_X];\n        final float ysdiff = targetValues[Matrix.MSCALE_Y] - matrixValues[Matrix.MSCALE_Y];\n        final float xtdiff = targetValues[Matrix.MTRANS_X] - matrixValues[Matrix.MTRANS_X];\n        final float ytdiff = targetValues[Matrix.MTRANS_Y] - matrixValues[Matrix.MTRANS_Y];\n\n        resetAnimator = ValueAnimator.ofFloat(0, 1f);\n        resetAnimator.addUpdateListener(new AnimatorUpdateListener() {\n\n            final Matrix activeMatrix = new Matrix(getImageMatrix());\n            final float[] values = new float[9];\n\n            @Override\n            public void onAnimationUpdate(ValueAnimator animation) {\n                float val = (Float) animation.getAnimatedValue();\n                activeMatrix.set(beginMatrix);\n                activeMatrix.getValues(values);\n                values[Matrix.MTRANS_X] = values[Matrix.MTRANS_X] + xtdiff * val;\n                values[Matrix.MTRANS_Y] = values[Matrix.MTRANS_Y] + ytdiff * val;\n                values[Matrix.MSCALE_X] = values[Matrix.MSCALE_X] + xsdiff * val;\n                values[Matrix.MSCALE_Y] = values[Matrix.MSCALE_Y] + ysdiff * val;\n                activeMatrix.setValues(values);\n                setImageMatrix(activeMatrix);\n            }\n        });\n\n        resetAnimator.addListener(new SimpleAnimatorListener() {\n            @Override\n            public void onAnimationEnd(Animator animation) {\n                setImageMatrix(targetMatrix);\n            }\n        });\n\n        resetAnimator.setDuration(duration);\n        resetAnimator.start();\n    }\n</code></pre>\n<p>It produces this type of result</p>\n<p><a href=\"https://i.stack.imgur.com/L2eFN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L2eFN.jpg\" alt=\"Custom try\" /></a></p>\n<p>Please help me solve this issue</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","javabeans"],"answers":[{"tags":[],"owner":{"account_id":10648335,"reputation":66,"user_id":7840215,"display_name":"nogalo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682684192,"creation_date":1682684192,"answer_id":76129494,"question_id":76127544,"body_markdown":"Maybe you can try adding \r\n\r\n    @EnableJpaRepositories(basePackages = &quot;path.toservice.repository&quot;)\r\nto the configuration. If that solves your problem, then probably something is wrong with your packages structure.","title":"Parameter 0 of constructor in ComponentClass required a bean of type &#39;JpaRepository&#39; that could not be found","body":"<p>Maybe you can try adding</p>\n<pre><code>@EnableJpaRepositories(basePackages = &quot;path.toservice.repository&quot;)\n</code></pre>\n<p>to the configuration. If that solves your problem, then probably something is wrong with your packages structure.</p>\n"},{"tags":[],"owner":{"account_id":23183409,"reputation":69,"user_id":17280912,"display_name":"lvbartow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682684491,"creation_date":1682684491,"answer_id":76129523,"question_id":76127544,"body_markdown":"In your class &quot;SomeComponentClass&quot;, you could try putting the annotation @Autowired above your private repo, and remove it from your constructor.\r\n\r\n```java\r\n@Autowired\r\nprivate final SomeJpaRepository repository;\r\n\r\npublic Constructor(prop1, prop2, someMapper){\r\n      this.property_1 = prop1;\r\n      this.property_2 = prop2;\r\n      this.someMapper = someMapper;\r\n}\r\n```\r\n","title":"Parameter 0 of constructor in ComponentClass required a bean of type &#39;JpaRepository&#39; that could not be found","body":"<p>In your class &quot;SomeComponentClass&quot;, you could try putting the annotation @Autowired above your private repo, and remove it from your constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate final SomeJpaRepository repository;\n\npublic Constructor(prop1, prop2, someMapper){\n      this.property_1 = prop1;\n      this.property_2 = prop2;\n      this.someMapper = someMapper;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3022615,"reputation":320,"user_id":2563277,"display_name":"Toufic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682690595,"creation_date":1682690595,"answer_id":76130376,"question_id":76127544,"body_markdown":"The issue is related to the order of beans creation, so it is better to create SomeJpaRepository in the context file to avoid similar issues\r\nCheck this [answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7868335/spring-make-sure-a-particular-bean-gets-initialized-first","title":"Parameter 0 of constructor in ComponentClass required a bean of type &#39;JpaRepository&#39; that could not be found","body":"<p>The issue is related to the order of beans creation, so it is better to create SomeJpaRepository in the context file to avoid similar issues\nCheck this <a href=\"https://stackoverflow.com/questions/7868335/spring-make-sure-a-particular-bean-gets-initialized-first\">answer</a></p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76129494,"answer_count":3,"score":0,"last_activity_date":1682690595,"creation_date":1682669629,"question_id":76127544,"body_markdown":"```\r\n@Repository\r\npublic interface SomeJpaRepository extends JpaRepository&lt;SomeEntity, String&gt;\r\n{\r\n   @Modifying\r\n  //....\r\n}\r\n```\r\n\r\nmy component:\r\n```\r\n@Component\r\n@Slf4j\r\npublic class SomeComponentClass\r\n{\r\n   private final SomeJpaRepository repository;\r\n   private final SomeMapper someMapper;\r\n   private final int property_1;\r\n   private final int property_2;\r\n\r\n   public SapRequestQueue(SomeJpaRepository somejpaRepository, SomeMapper someMapper,\r\n                          @Value(&quot;${xxx.property_1}&quot;) int property_1, @Value(&quot;${xxx.property_2}&quot;) int property_2)\r\n   {\r\n      this.property_1 = property_1;\r\n      this.property_2 = property_2;\r\n      this.someMapper = someMapper;\r\n      this.somejpaRepository = somejpaRepository;\r\n   }\r\n```\r\n\r\nMy error:\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023.04.28 10:01:02.622 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter:40 - \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in path.service.SomeComponentClass required a bean of type &#39;path.service.repository.SomeJpaRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;path.service.repository.SomeJpaRepository &#39; in your configuration.\r\n\r\nDisconnected from the target VM, address: &#39;127.0.0.1:61815&#39;, transport: &#39;socket&#39;\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nMy code structure\r\nModule:\r\n \r\n\r\n - src    \r\n - main\r\n - java\r\n - path.toserviceSomeComponentClass\r\n - path.toservice.repository.SomeJpaRepository\r\n  \r\n\r\n   ","title":"Parameter 0 of constructor in ComponentClass required a bean of type &#39;JpaRepository&#39; that could not be found","body":"<pre><code>@Repository\npublic interface SomeJpaRepository extends JpaRepository&lt;SomeEntity, String&gt;\n{\n   @Modifying\n  //....\n}\n</code></pre>\n<p>my component:</p>\n<pre><code>@Component\n@Slf4j\npublic class SomeComponentClass\n{\n   private final SomeJpaRepository repository;\n   private final SomeMapper someMapper;\n   private final int property_1;\n   private final int property_2;\n\n   public SapRequestQueue(SomeJpaRepository somejpaRepository, SomeMapper someMapper,\n                          @Value(&quot;${xxx.property_1}&quot;) int property_1, @Value(&quot;${xxx.property_2}&quot;) int property_2)\n   {\n      this.property_1 = property_1;\n      this.property_2 = property_2;\n      this.someMapper = someMapper;\n      this.somejpaRepository = somejpaRepository;\n   }\n</code></pre>\n<p>My error:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023.04.28 10:01:02.622 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter:40 - \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in path.service.SomeComponentClass required a bean of type 'path.service.repository.SomeJpaRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'path.service.repository.SomeJpaRepository ' in your configuration.\n\nDisconnected from the target VM, address: '127.0.0.1:61815', transport: 'socket'\n\nProcess finished with exit code 1\n</code></pre>\n<p>My code structure\nModule:</p>\n<ul>\n<li>src</li>\n<li>main</li>\n<li>java</li>\n<li>path.toserviceSomeComponentClass</li>\n<li>path.toservice.repository.SomeJpaRepository</li>\n</ul>\n"},{"tags":["java","spring-boot","google-app-engine","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1669123230,"post_id":74533039,"comment_id":131568213,"body_markdown":"While native starts faster you loose some of the runtime optimizations that can be done, so eventually running a native app can have slower runtime performance (although will start faster). I also wonder what factor Google App Engine plays here.","body":"While native starts faster you loose some of the runtime optimizations that can be done, so eventually running a native app can have slower runtime performance (although will start faster). I also wonder what factor Google App Engine plays here."},{"owner":{"account_id":3399031,"reputation":319,"user_id":2851799,"display_name":"Ben"},"score":0,"creation_date":1682064090,"post_id":74533039,"comment_id":134159980,"body_markdown":"Any news on this topic?","body":"Any news on this topic?"}],"owner":{"account_id":26985788,"reputation":41,"user_id":20549480,"display_name":"Aedious"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1682690275,"creation_date":1669122099,"question_id":74533039,"body_markdown":"Hi I&#39;ve done a PoC to test out SpringBoot v2.7.5 Native with GraalVM v22.3.0.\r\n\r\nThe purpose of the project was to run native SpringBoot on GCP AppEngine.\r\n\r\nTo test the performances I&#39;ve implemented a basic Fibonacci sequence.\r\n\r\nGoing native makes heavy process taking twice time than normal ones.\r\n\r\nDid somebody know why ?\r\n\r\nHere is the results I had during my tests sessions :\r\n\r\nStarting time:\r\n\r\n| Starting time | AppEngine | Locally |\r\n|---------------|-----------|---------|\r\n| Native        | 4 245ms   | 8ms     |\r\n| Classic       | 10 220ms  | 2115ms  |\r\n\r\nLocal tests:\r\n\r\n*Quarkus Native tests was also made by using GraalVM*\r\n\r\n| Fibonacci  | SpringBoot | SpringBoot Native | Quarkus | Quarkus Native |\r\n|------------|------------|-------------------|---------|----------------|\r\n| 1 000 000  | 77ms       | 125ms             | 103ms   | 110ms          |\r\n| 5 000 000  | 204ms      | 426ms             | 363ms   | 356ms          |\r\n| 10 000 000 | 327ms      | 854ms             | 435ms   | 663ms          |\r\n| 30 000 000 | 894ms      | 2 495ms           | 1 523ms | 1 960ms        |\r\n| 90 000 000 | 3 571ms    | 7 026ms           | 4 464ms | 6 161ms        |\r\n\r\nIf you want to check the code i&#39;m using to make this test here it is :\r\n\r\nhttps://github.com/tal0si/spring-boot-native-on-gcp-appengine","title":"SpringBoot Native with GraalVM have expecting starting time but is really slow for heavy calculations","body":"<p>Hi I've done a PoC to test out SpringBoot v2.7.5 Native with GraalVM v22.3.0.</p>\n<p>The purpose of the project was to run native SpringBoot on GCP AppEngine.</p>\n<p>To test the performances I've implemented a basic Fibonacci sequence.</p>\n<p>Going native makes heavy process taking twice time than normal ones.</p>\n<p>Did somebody know why ?</p>\n<p>Here is the results I had during my tests sessions :</p>\n<p>Starting time:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Starting time</th>\n<th>AppEngine</th>\n<th>Locally</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Native</td>\n<td>4 245ms</td>\n<td>8ms</td>\n</tr>\n<tr>\n<td>Classic</td>\n<td>10 220ms</td>\n<td>2115ms</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Local tests:</p>\n<p><em>Quarkus Native tests was also made by using GraalVM</em></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Fibonacci</th>\n<th>SpringBoot</th>\n<th>SpringBoot Native</th>\n<th>Quarkus</th>\n<th>Quarkus Native</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1 000 000</td>\n<td>77ms</td>\n<td>125ms</td>\n<td>103ms</td>\n<td>110ms</td>\n</tr>\n<tr>\n<td>5 000 000</td>\n<td>204ms</td>\n<td>426ms</td>\n<td>363ms</td>\n<td>356ms</td>\n</tr>\n<tr>\n<td>10 000 000</td>\n<td>327ms</td>\n<td>854ms</td>\n<td>435ms</td>\n<td>663ms</td>\n</tr>\n<tr>\n<td>30 000 000</td>\n<td>894ms</td>\n<td>2 495ms</td>\n<td>1 523ms</td>\n<td>1 960ms</td>\n</tr>\n<tr>\n<td>90 000 000</td>\n<td>3 571ms</td>\n<td>7 026ms</td>\n<td>4 464ms</td>\n<td>6 161ms</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>If you want to check the code i'm using to make this test here it is :</p>\n<p><a href=\"https://github.com/tal0si/spring-boot-native-on-gcp-appengine\" rel=\"nofollow noreferrer\">https://github.com/tal0si/spring-boot-native-on-gcp-appengine</a></p>\n"},{"tags":["java","hibernate","hql"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":1,"creation_date":1682671570,"post_id":76124487,"comment_id":134255655,"body_markdown":"What database is this? *Which* posts recommend this?","body":"What database is this? <i>Which</i> posts recommend this?"},{"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"score":0,"creation_date":1682687566,"post_id":76124487,"comment_id":134259116,"body_markdown":"using postgreSql. And poste like these: https://stackoverflow.com/questions/17813492/postgres-not-in-performance, https://stackoverflow.com/questions/24647503/performance-issue-in-update-query","body":"using postgreSql. And poste like these: <a href=\"https://stackoverflow.com/questions/17813492/postgres-not-in-performance\" title=\"postgres not in performance\">stackoverflow.com/questions/17813492/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/24647503/performance-issue-in-update-query\" title=\"performance issue in update query\">stackoverflow.com/questions/24647503/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682689966,"creation_date":1682689966,"answer_id":76130277,"question_id":76124487,"body_markdown":"I mean, look, you *can* in principle do this extremely easily by just passing a native SQL query to `createNativeQuery()`.\r\n\r\nBut you really need to ask yourself:\r\n\r\n&gt; what am I even doing here?\r\n\r\nIf you have such a huge quantity of ids that there are too many for Postgres to handle them efficiently in an `in` predicate, then it&#39;s highly unlikely that pulling all that state into the JVM and materializing entity objects to represent all those rows is an efficient or reasonable thing to do.\r\n\r\nIf you absolutely *have* to do this, make sure you use `StatelessSession`.\r\n\r\nBut have you considered using a stored procedure or something like that?","title":"Hibernate run IN (VALUES ...) rather than IN query","body":"<p>I mean, look, you <em>can</em> in principle do this extremely easily by just passing a native SQL query to <code>createNativeQuery()</code>.</p>\n<p>But you really need to ask yourself:</p>\n<blockquote>\n<p>what am I even doing here?</p>\n</blockquote>\n<p>If you have such a huge quantity of ids that there are too many for Postgres to handle them efficiently in an <code>in</code> predicate, then it's highly unlikely that pulling all that state into the JVM and materializing entity objects to represent all those rows is an efficient or reasonable thing to do.</p>\n<p>If you absolutely <em>have</em> to do this, make sure you use <code>StatelessSession</code>.</p>\n<p>But have you considered using a stored procedure or something like that?</p>\n"}],"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682689966,"creation_date":1682628091,"question_id":76124487,"body_markdown":"I have a huge number of entities i need to load from the DB, i have a query like this\r\n```\r\nFROM ${entityName} x WHERE x.id IN :ids\r\n```\r\nthe above generates SQL queries like this: `... where EntityName.id in (? , ? , ? , ? , ? , ? , ? , ? , ...)`\r\nThis is incredibly slow for large `ids` sets. Multiple posts here have suggested instead to run an `IN VALUES` query like this:\r\n```\r\n... where EntityName.id in (VALUES (?) , (?) , (?) , (?) , (?) , (?) , (?) , (?) , ...)\r\n```\r\n\r\nHere is my Java:\r\n```\r\nList&lt;T&gt; result = entityManager.createQuery(queryString, queryEntity)\r\n    .setParameter(&quot;ids&quot;, batch)\r\n    .getResultList()\r\n```\r\n\r\nWondering how i can get hibernate to do that?\r\nDo i need to specify that in the HQL somehow?\r\nI tried this not expecting it to work, and it didn&#39;t.\r\n`SELECT x FROM ${entityName} x WHERE x.id IN (VALUES :ids)`\r\n\r\nIs this even possible in HQL, or do i need to write a native query?","title":"Hibernate run IN (VALUES ...) rather than IN query","body":"<p>I have a huge number of entities i need to load from the DB, i have a query like this</p>\n<pre><code>FROM ${entityName} x WHERE x.id IN :ids\n</code></pre>\n<p>the above generates SQL queries like this: <code>... where EntityName.id in (? , ? , ? , ? , ? , ? , ? , ? , ...)</code>\nThis is incredibly slow for large <code>ids</code> sets. Multiple posts here have suggested instead to run an <code>IN VALUES</code> query like this:</p>\n<pre><code>... where EntityName.id in (VALUES (?) , (?) , (?) , (?) , (?) , (?) , (?) , (?) , ...)\n</code></pre>\n<p>Here is my Java:</p>\n<pre><code>List&lt;T&gt; result = entityManager.createQuery(queryString, queryEntity)\n    .setParameter(&quot;ids&quot;, batch)\n    .getResultList()\n</code></pre>\n<p>Wondering how i can get hibernate to do that?\nDo i need to specify that in the HQL somehow?\nI tried this not expecting it to work, and it didn't.\n<code>SELECT x FROM ${entityName} x WHERE x.id IN (VALUES :ids)</code></p>\n<p>Is this even possible in HQL, or do i need to write a native query?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682688780,"post_id":76129892,"comment_id":134259393,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":8346376,"reputation":389,"user_id":6269962,"display_name":"Alexandr Ivanov"},"score":1,"creation_date":1682689469,"post_id":76129892,"comment_id":134259551,"body_markdown":"You generate one key pair in Server, and then you generate another key pair in Client. There is no chance you can decrypt by a key from one pair a message encrypted by a key from another pair.","body":"You generate one key pair in Server, and then you generate another key pair in Client. There is no chance you can decrypt by a key from one pair a message encrypted by a key from another pair."},{"owner":{"account_id":23929393,"reputation":3,"user_id":18223315,"display_name":" "},"score":0,"creation_date":1682689677,"post_id":76129892,"comment_id":134259601,"body_markdown":"But shouldn&#39;t the private key for decryption be created inside the client, and not sent? How else? Thanks","body":"But shouldn&#39;t the private key for decryption be created inside the client, and not sent? How else? Thanks"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682695032,"post_id":76129892,"comment_id":134261036,"body_markdown":"You should be encrypting the message you want to send with the public key of your counter party. And try RSA/ECB/PKCS1Padding, although RSA is regarded as insecure afaik","body":"You should be encrypting the message you want to send with the public key of your counter party. And try RSA/ECB/PKCS1Padding, although RSA is regarded as insecure afaik"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1682703392,"post_id":76129892,"comment_id":134262772,"body_markdown":"The privatekey should be created by the decrypter and kept private (not sent); the publickey should _also_ be created by the decrypter and _must_ be sent at least to the encrypter(s); often it is sent to everybody, because you don&#39;t always know in advance who will be sending encrypted messages to a given party. See the first two graphics at the right-side of https://en.wikipedia.org/wiki/Public-key_cryptography .","body":"The privatekey should be created by the decrypter and kept private (not sent); the publickey should <i>also</i> be created by the decrypter and <i>must</i> be sent at least to the encrypter(s); often it is sent to everybody, because you don&#39;t always know in advance who will be sending encrypted messages to a given party. See the first two graphics at the right-side of <a href=\"https://en.wikipedia.org/wiki/Public-key_cryptography\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Public-key_cryptography</a> ."}],"owner":{"account_id":23929393,"reputation":3,"user_id":18223315,"display_name":" "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682689481,"creation_date":1682687264,"question_id":76129892,"body_markdown":"Im testing: Server encrypting of public key message and sending to client, that should decrypting message, but called Exception.\r\n\r\nServer\r\n```\r\n            Socket socket = serverSocket.accept();\r\n            System.out.println(&quot;New client connected&quot;);\r\n            output = socket.getOutputStream();\r\n            DataOutputStream dOut = new DataOutputStream(socket.getOutputStream());\r\n\r\n            String message = &quot;Hello there?&quot;;\r\n            byte[] encbyte = rsa.encryptByPublicKey(message.getBytes(), publickey);\r\n            String enc = new BigInteger(1, encbyte).toString(); \r\n            System.out.println(&quot;enc &quot; + enc );\r\n\r\n            dOut.writeInt(encbyte.length);\r\n            dOut.write(encbyte);\r\n\r\n            byte[] decodebyte = rsa.decryptByPrivateKey(encbyte, privatekey); //test\r\n            String decodedata = new String(decodebyte);\r\n            System.out.println(&quot;decodedata &quot; + decodedata);\r\n\r\n            while (true);\r\n```\r\nClient\r\n```\r\n            socket = new Socket(&quot;127.0.0.1&quot;, 5556);\r\n            key = rsa.initKey();\r\n            publickey = rsa.getPublicKey(key);\r\n            privatekey = rsa.getPrivateKey(key);\r\n\r\n            in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n            out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n            inputStream = socket.getInputStream();\r\n            DataInputStream dIn = new DataInputStream(socket.getInputStream());\r\n\r\n            Thread.sleep(300);\r\n            System.out.println(&quot;connected&quot;);\r\n\r\n            byte[] array = null;\r\n            int length = dIn.readInt(); // read length of incoming message\r\n            if(length&gt;0) {\r\n                array = new byte[length];\r\n                dIn.readFully(array, 0, array.length); // read the message\r\n            }\r\n\r\n            String enc = new BigInteger(1, array).toString();\r\n            byte[] decodebyte = rsa.decryptByPrivateKey(array, privatekey); //error\r\n            String decodedata = new String(decodebyte);\r\n            System.out.println(&quot;decodedata &quot; + decodedata);\r\n\r\n```\r\nI use this library (rsa decrypting and encrypting)\r\n```\r\npublic class rsa {\r\n    public static final String KEY_ALGORITHM = &quot;RSA&quot;;\r\n    public static final String SIGNATURE_ALGORITHM = &quot;MD5withRSA&quot;;\r\n\r\n    private static final String PUBLIC_KEY = &quot;RSAPublicKey&quot;; //RSAPublicKey\r\n    private static final String PRIVATE_KEY = &quot;rsa&quot;; //RSAPrivateKey\r\n\r\n    public static byte[] decryptBASE64(String key) throws Exception {\r\n        return Base64.getDecoder().decode(key);\r\n    }\r\n\r\n    public static String encryptBASE64(byte[] key) throws Exception {\r\n        return Base64.getEncoder().encodeToString(key);\r\n    }\r\n\r\n    public static byte[] decryptByPrivateKey(byte[] data, String key)\r\n            throws Exception {\r\n        // \r\n        byte[] keyBytes = decryptBASE64(key);\r\n        \r\n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\r\n\r\n        \r\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n\r\n        return cipher.doFinal(data);\r\n    }\r\n\r\n    public static byte[] decryptByPublicKey(byte[] data, String key)\r\n            throws Exception {\r\n        // \r\n        byte[] keyBytes = decryptBASE64(key);\r\n\r\n        // \r\n        X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n        Key publicKey = keyFactory.generatePublic(x509KeySpec);\r\n\r\n        // \r\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n        cipher.init(Cipher.DECRYPT_MODE, publicKey);\r\n\r\n        return cipher.doFinal(data);\r\n    }\r\n\r\n    public static byte[] encryptByPublicKey(byte[] data, String key)\r\n            throws Exception {\r\n        // \r\n        byte[] keyBytes = decryptBASE64(key);\r\n\r\n        // \r\n        X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n        Key publicKey = keyFactory.generatePublic(x509KeySpec);\r\n\r\n        // \r\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n\r\n        return cipher.doFinal(data);\r\n    }\r\n\r\n    public static byte[] encryptByPrivateKey(byte[] data, String key)\r\n            throws Exception {\r\n        byte[] keyBytes = decryptBASE64(key);\r\n\r\n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\r\n\r\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n        cipher.init(Cipher.ENCRYPT_MODE, privateKey);\r\n\r\n        return cipher.doFinal(data);\r\n    }\r\n\r\n    public static String getPrivateKey(Map&lt;String, Object&gt; keyMap)\r\n            throws Exception {\r\n        Key key = (Key) keyMap.get(PRIVATE_KEY);\r\n\r\n        return encryptBASE64(key.getEncoded());\r\n    }\r\n\r\n    public static String getPublicKey(Map&lt;String, Object&gt; keyMap)\r\n            throws Exception {\r\n        Key key = (Key) keyMap.get(PUBLIC_KEY);\r\n\r\n        return encryptBASE64(key.getEncoded());\r\n    }\r\n\r\n    public static Map&lt;String, Object&gt; initKey() throws Exception {\r\n        KeyPairGenerator keyPairGen = KeyPairGenerator\r\n                .getInstance(KEY_ALGORITHM);\r\n        keyPairGen.initialize(1024);\r\n\r\n        KeyPair keyPair = keyPairGen.generateKeyPair();\r\n\r\n        // \r\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\r\n\r\n        // \r\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\r\n\r\n        Map&lt;String, Object&gt; keyMap = new HashMap&lt;String, Object&gt;(2);\r\n\r\n        keyMap.put(PUBLIC_KEY, publicKey);\r\n        keyMap.put(PRIVATE_KEY, privateKey);\r\n        return keyMap;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nWhat could be the problem? Library? Message? I checked message, and length on client and server same \r\nWorked great on one project.\r\nThank for the help.","title":"javax.crypto.BadPaddingException: Decryption error rsa encryption","body":"<p>Im testing: Server encrypting of public key message and sending to client, that should decrypting message, but called Exception.</p>\n<p>Server</p>\n<pre><code>            Socket socket = serverSocket.accept();\n            System.out.println(&quot;New client connected&quot;);\n            output = socket.getOutputStream();\n            DataOutputStream dOut = new DataOutputStream(socket.getOutputStream());\n\n            String message = &quot;Hello there?&quot;;\n            byte[] encbyte = rsa.encryptByPublicKey(message.getBytes(), publickey);\n            String enc = new BigInteger(1, encbyte).toString(); \n            System.out.println(&quot;enc &quot; + enc );\n\n            dOut.writeInt(encbyte.length);\n            dOut.write(encbyte);\n\n            byte[] decodebyte = rsa.decryptByPrivateKey(encbyte, privatekey); //test\n            String decodedata = new String(decodebyte);\n            System.out.println(&quot;decodedata &quot; + decodedata);\n\n            while (true);\n</code></pre>\n<p>Client</p>\n<pre><code>            socket = new Socket(&quot;127.0.0.1&quot;, 5556);\n            key = rsa.initKey();\n            publickey = rsa.getPublicKey(key);\n            privatekey = rsa.getPrivateKey(key);\n\n            in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n            out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n            inputStream = socket.getInputStream();\n            DataInputStream dIn = new DataInputStream(socket.getInputStream());\n\n            Thread.sleep(300);\n            System.out.println(&quot;connected&quot;);\n\n            byte[] array = null;\n            int length = dIn.readInt(); // read length of incoming message\n            if(length&gt;0) {\n                array = new byte[length];\n                dIn.readFully(array, 0, array.length); // read the message\n            }\n\n            String enc = new BigInteger(1, array).toString();\n            byte[] decodebyte = rsa.decryptByPrivateKey(array, privatekey); //error\n            String decodedata = new String(decodebyte);\n            System.out.println(&quot;decodedata &quot; + decodedata);\n\n</code></pre>\n<p>I use this library (rsa decrypting and encrypting)</p>\n<pre><code>public class rsa {\n    public static final String KEY_ALGORITHM = &quot;RSA&quot;;\n    public static final String SIGNATURE_ALGORITHM = &quot;MD5withRSA&quot;;\n\n    private static final String PUBLIC_KEY = &quot;RSAPublicKey&quot;; //RSAPublicKey\n    private static final String PRIVATE_KEY = &quot;rsa&quot;; //RSAPrivateKey\n\n    public static byte[] decryptBASE64(String key) throws Exception {\n        return Base64.getDecoder().decode(key);\n    }\n\n    public static String encryptBASE64(byte[] key) throws Exception {\n        return Base64.getEncoder().encodeToString(key);\n    }\n\n    public static byte[] decryptByPrivateKey(byte[] data, String key)\n            throws Exception {\n        // \n        byte[] keyBytes = decryptBASE64(key);\n        \n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\n\n        \n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\n\n        return cipher.doFinal(data);\n    }\n\n    public static byte[] decryptByPublicKey(byte[] data, String key)\n            throws Exception {\n        // \n        byte[] keyBytes = decryptBASE64(key);\n\n        // \n        X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n        Key publicKey = keyFactory.generatePublic(x509KeySpec);\n\n        // \n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n        cipher.init(Cipher.DECRYPT_MODE, publicKey);\n\n        return cipher.doFinal(data);\n    }\n\n    public static byte[] encryptByPublicKey(byte[] data, String key)\n            throws Exception {\n        // \n        byte[] keyBytes = decryptBASE64(key);\n\n        // \n        X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n        Key publicKey = keyFactory.generatePublic(x509KeySpec);\n\n        // \n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey);\n\n        return cipher.doFinal(data);\n    }\n\n    public static byte[] encryptByPrivateKey(byte[] data, String key)\n            throws Exception {\n        byte[] keyBytes = decryptBASE64(key);\n\n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\n\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n        cipher.init(Cipher.ENCRYPT_MODE, privateKey);\n\n        return cipher.doFinal(data);\n    }\n\n    public static String getPrivateKey(Map&lt;String, Object&gt; keyMap)\n            throws Exception {\n        Key key = (Key) keyMap.get(PRIVATE_KEY);\n\n        return encryptBASE64(key.getEncoded());\n    }\n\n    public static String getPublicKey(Map&lt;String, Object&gt; keyMap)\n            throws Exception {\n        Key key = (Key) keyMap.get(PUBLIC_KEY);\n\n        return encryptBASE64(key.getEncoded());\n    }\n\n    public static Map&lt;String, Object&gt; initKey() throws Exception {\n        KeyPairGenerator keyPairGen = KeyPairGenerator\n                .getInstance(KEY_ALGORITHM);\n        keyPairGen.initialize(1024);\n\n        KeyPair keyPair = keyPairGen.generateKeyPair();\n\n        // \n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\n\n        // \n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\n\n        Map&lt;String, Object&gt; keyMap = new HashMap&lt;String, Object&gt;(2);\n\n        keyMap.put(PUBLIC_KEY, publicKey);\n        keyMap.put(PRIVATE_KEY, privateKey);\n        return keyMap;\n    }\n}\n</code></pre>\n<p>What could be the problem? Library? Message? I checked message, and length on client and server same\nWorked great on one project.\nThank for the help.</p>\n"},{"tags":["java","rx-java2","vert.x"],"comments":[{"owner":{"account_id":12617245,"reputation":522,"user_id":9256127,"display_name":"Lukas Weber"},"score":0,"creation_date":1683089419,"post_id":76130199,"comment_id":134311190,"body_markdown":"You want to use the vertx-web-openapi module. The [docs](https://vertx.io/docs/vertx-web-openapi/java/) are really good","body":"You want to use the vertx-web-openapi module. The <a href=\"https://vertx.io/docs/vertx-web-openapi/java/\" rel=\"nofollow noreferrer\">docs</a> are really good"},{"owner":{"display_name":"user20405467"},"score":0,"creation_date":1683104900,"post_id":76130199,"comment_id":134314000,"body_markdown":"No sorry that don&#39;t respond to my problem, and already saw it before questionning ... sorry, is for 4.4.1 version and not precise something for schemaParser","body":"No sorry that don&#39;t respond to my problem, and already saw it before questionning ... sorry, is for 4.4.1 version and not precise something for schemaParser"}],"owner":{"display_name":"user20405467"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682689415,"creation_date":1682689415,"question_id":76130199,"body_markdown":"I&#39;m in Vertx 4.3.4 with RX java, and I want to initialize my routes with a openapiv3.yaml and especially (the main purpose) validate user input of each declared route in yaml (with the input model too in file).\r\n\r\nI use a code like that:\r\n\r\n    router.get(&quot;/configs&quot;).handler(this.handlers.configHandler::getAll));\r\n\r\nand I would like to add something like this:\r\n\r\n      .handler(\r\n        ValidationHandlerBuilder\r\n          .create(schemaParser)\r\n          .build()\r\n      );\r\n\r\nbut I didn&#39;t found anything to get a &quot;schemaParser&quot; in the documentation or to create it, and all the API of the 4.3.4 was deprecated without any example to use it.\r\nI precise that I don&#39;t have a json file for validation but a yaml and a  io.vertx.reactivex.ext.web.Route of:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;vertx-rx-java2&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThank a lot and best regards","title":"Use OpenApi v3 yaml to generate route and validator with Vertx","body":"<p>I'm in Vertx 4.3.4 with RX java, and I want to initialize my routes with a openapiv3.yaml and especially (the main purpose) validate user input of each declared route in yaml (with the input model too in file).</p>\n<p>I use a code like that:</p>\n<pre><code>router.get(&quot;/configs&quot;).handler(this.handlers.configHandler::getAll));\n</code></pre>\n<p>and I would like to add something like this:</p>\n<pre><code>  .handler(\n    ValidationHandlerBuilder\n      .create(schemaParser)\n      .build()\n  );\n</code></pre>\n<p>but I didn't found anything to get a &quot;schemaParser&quot; in the documentation or to create it, and all the API of the 4.3.4 was deprecated without any example to use it.\nI precise that I don't have a json file for validation but a yaml and a  io.vertx.reactivex.ext.web.Route of:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n    &lt;artifactId&gt;vertx-rx-java2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Thank a lot and best regards</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":6840438,"reputation":1508,"user_id":5261030,"display_name":"Dmitrii Cheremisin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587564163,"creation_date":1587564163,"answer_id":61367061,"question_id":61366276,"body_markdown":"It happens because findAll method triggers flush of all changes from memory(persistence context) to database.\r\n\r\nYou can see in my screen the place where it all happens:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EyQJW.png\r\n\r\nThere is also a corresponding method in JpaRepository:\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#flush--  \r\nIt may be used to flush changes immediately.\r\n\r\nAdditionally, you may use saveAndFlush method:\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#saveAndFlush-S-","title":"@DataJpaTest saving entity using repository, can&#39;t retrieve the data using JdbcTemplate","body":"<p>It happens because findAll method triggers flush of all changes from memory(persistence context) to database.</p>\n\n<p>You can see in my screen the place where it all happens:\n<a href=\"https://i.stack.imgur.com/EyQJW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EyQJW.png\" alt=\"enter image description here\"></a></p>\n\n<p>There is also a corresponding method in JpaRepository:</p>\n\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#flush--\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#flush--</a><br>\nIt may be used to flush changes immediately.</p>\n\n<p>Additionally, you may use saveAndFlush method:</p>\n\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#saveAndFlush-S-\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#saveAndFlush-S-</a></p>\n"},{"tags":[],"owner":{"account_id":6121205,"reputation":442,"user_id":4774683,"display_name":"Youness HARDI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682689328,"creation_date":1682689014,"answer_id":76130149,"question_id":61366276,"body_markdown":"This will not work because JPA does not flush immediately after `save(entity)`. This means that the JdbcTemplate would not be able to retreive what you saved using JPA without the **flush**. So you could use the `repository.saveAndFlush(entity)` to make saved data available immediately for jdbcTemplate.\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @DataJpaTest\r\n    public class SomeTest {\r\n\r\n        @Autowired\r\n        private SomeRepository repository;\r\n        @Autowired\r\n        private JdbcTemplate template;\r\n\r\n\r\n        @Test\r\n        public void save() {\r\n\r\n            String number = &quot;123&quot;;\r\n\r\n            SomeEntity entity = SomeEntity.builder()\r\n                .number(number)\r\n                //some attributes here\r\n                .build();\r\n\r\n            repository.saveAndFlush(entity);\r\n\r\n\r\n            //that line fails because SELECT returns nothing back\r\n            Map&lt;String, Object&gt; result = template.queryForMap(&quot;select id, version from some_entity where number=?&quot;, number);\r\n\r\n    }","title":"@DataJpaTest saving entity using repository, can&#39;t retrieve the data using JdbcTemplate","body":"<p>This will not work because JPA does not flush immediately after <code>save(entity)</code>. This means that the JdbcTemplate would not be able to retreive what you saved using JPA without the <strong>flush</strong>. So you could use the <code>repository.saveAndFlush(entity)</code> to make saved data available immediately for jdbcTemplate.</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@DataJpaTest\npublic class SomeTest {\n\n    @Autowired\n    private SomeRepository repository;\n    @Autowired\n    private JdbcTemplate template;\n\n\n    @Test\n    public void save() {\n\n        String number = &quot;123&quot;;\n\n        SomeEntity entity = SomeEntity.builder()\n            .number(number)\n            //some attributes here\n            .build();\n\n        repository.saveAndFlush(entity);\n\n\n        //that line fails because SELECT returns nothing back\n        Map&lt;String, Object&gt; result = template.queryForMap(&quot;select id, version from some_entity where number=?&quot;, number);\n\n}\n</code></pre>\n"}],"owner":{"account_id":250515,"reputation":29,"user_id":2519543,"display_name":"user2519543"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682689328,"creation_date":1587561898,"question_id":61366276,"body_markdown":"I am migrating from spring-boot 1.5.x to 2.0.4 and noticed an interesting case/behaviour with @DataJpaTest\r\n\r\nI have a test\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@DataJpaTest\r\npublic class SomeTest {\r\n\r\n    @Autowired\r\n    private SomeRepository repository;\r\n    @Autowired\r\n    private JdbcTemplate template;\r\n\r\n\r\n    @Test\r\n    public void save() {\r\n       \r\n        String number = &quot;123&quot;;\r\n\r\n        SomeEntity entity = SomeEntity.builder()\r\n                .number(number)\r\n                //some attributes here\r\n                .build();\r\n\r\n        repository.save(entity);\r\n\r\n\r\n//that line fails because SELECT returns nothing back\r\n        Map&lt;String, Object&gt; result = template.queryForMap(&quot;select id, version from some_entity where number=?&quot;, number);\r\n\r\n}\r\n```\r\nThis test above fails because nothing is returned from the template. I can&#39;t see even INSERT statement fired in the logs. \r\nBut with old version of spring-boot of 1.5.x I can see the INSERT been fired and test passes.\r\n\r\n\r\n\r\n\r\nBut the interesting thing with upgraded version is if I add a line `repository.findAll` (not `repository.findById(id)` -&gt; that one won&#39;t help)  before `repository.save(entity)` it all works good and in the logs, I can see and INSERT statement fired.\r\n\r\n\r\nCan someone please help me to understand what&#39;s going on and how it works under the hood.\r\nWhy the entity has not been persisted? and why `repository.findAll` is so special that makes it to persist the data.\r\n\r\nThanks.\r\n","title":"@DataJpaTest saving entity using repository, can&#39;t retrieve the data using JdbcTemplate","body":"<p>I am migrating from spring-boot 1.5.x to 2.0.4 and noticed an interesting case/behaviour with @DataJpaTest</p>\n\n<p>I have a test</p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@DataJpaTest\npublic class SomeTest {\n\n    @Autowired\n    private SomeRepository repository;\n    @Autowired\n    private JdbcTemplate template;\n\n\n    @Test\n    public void save() {\n\n        String number = \"123\";\n\n        SomeEntity entity = SomeEntity.builder()\n                .number(number)\n                //some attributes here\n                .build();\n\n        repository.save(entity);\n\n\n//that line fails because SELECT returns nothing back\n        Map&lt;String, Object&gt; result = template.queryForMap(\"select id, version from some_entity where number=?\", number);\n\n}\n</code></pre>\n\n<p>This test above fails because nothing is returned from the template. I can't see even INSERT statement fired in the logs. \nBut with old version of spring-boot of 1.5.x I can see the INSERT been fired and test passes.</p>\n\n<p>But the interesting thing with upgraded version is if I add a line <code>repository.findAll</code> (not <code>repository.findById(id)</code> -> that one won't help)  before <code>repository.save(entity)</code> it all works good and in the logs, I can see and INSERT statement fired.</p>\n\n<p>Can someone please help me to understand what's going on and how it works under the hood.\nWhy the entity has not been persisted? and why <code>repository.findAll</code> is so special that makes it to persist the data.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","docker","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1682688296,"post_id":76129962,"comment_id":134259284,"body_markdown":"Your fat jar most likely isnt. Go inside and investigate with the jar command.","body":"Your fat jar most likely isnt. Go inside and investigate with the jar command."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682689371,"post_id":76129962,"comment_id":134259524,"body_markdown":"If the answer isn&#39;t correct ( I suspect it is) you can check your manifest and look at the classpath. The classpath might reference a lib folder with more jar files that you are not including. A fat jar file should include all of the other jar files, but the way you are copying makes me suspicious.","body":"If the answer isn&#39;t correct ( I suspect it is) you can check your manifest and look at the classpath. The classpath might reference a lib folder with more jar files that you are not including. A fat jar file should include all of the other jar files, but the way you are copying makes me suspicious."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682688690,"creation_date":1682688690,"answer_id":76130108,"question_id":76129962,"body_markdown":"In your Dockerfile you have:\r\n\r\n    COPY ./target/*.jar ./app.jar\r\n\r\nThis is (probably) copying your original jar **AND** the fat jar (`*.jar`) to /app/.\r\n\r\nOnly copy the jar you need.","title":"Fat Jar runs in host machine but fails in Docker Container","body":"<p>In your Dockerfile you have:</p>\n<pre><code>COPY ./target/*.jar ./app.jar\n</code></pre>\n<p>This is (probably) copying your original jar <strong>AND</strong> the fat jar (<code>*.jar</code>) to /app/.</p>\n<p>Only copy the jar you need.</p>\n"}],"owner":{"account_id":3700863,"reputation":33,"user_id":3080662,"display_name":"Simone Brigante"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76130108,"answer_count":1,"score":1,"last_activity_date":1682688690,"creation_date":1682687707,"question_id":76129962,"body_markdown":"I have fat .jar file created using Maven that runs correctly when executed on many laptops (I tried it on 3 machines) using the command \r\n\r\n    java -jar target/appname.jar\r\n\r\nbut whenever I try to dockerize it, it fails with the following error:\r\n\r\n    Error: unable to initialize main class mypackage.MyMainClass\r\n    Caused by: java.lang.NoClassDefFoundError: externaljarname/src/MyOtherClass\r\n\r\nI can&#39;t understand why on three different machines, that I have never used, I can run easily the .jar file but in Docker no.\r\n\r\nMore info:\r\n\r\nThe fat .jar that fails is an application that makes use of a custom library that I have created. This means, initially I had a custom Java library exported as jar, then my new project imports this Library to perform some operations. \r\n\r\nFor generating the current fat .jar, I firstly installed it using\r\n\r\n    mvn clean org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=&quot;mylibrary.jar&quot;\r\n\r\nthen I packaged everything:\r\n\r\n    mvn clean package\r\n\r\nMy current fat .jar, in the pom.xml, has a dependency to my library and I use the Maven Shade Plugin to generate the fat .jar as follows:\r\n\r\n    &lt;plugin&gt; \r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.1&lt;/version&gt;\r\n                &lt;executions&gt; \r\n                    &lt;execution&gt; \r\n                        &lt;phase&gt;package&lt;/phase&gt; \r\n                        &lt;goals&gt; \r\n                            &lt;goal&gt;shade&lt;/goal&gt; \r\n                        &lt;/goals&gt; \r\n                        &lt;configuration&gt; \r\n                            &lt;transformers&gt; \r\n                                 &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt; \r\n                                    &lt;mainClass&gt;\r\n                                        mypackage.MyMainClass\r\n                                    &lt;/mainClass&gt; \r\n                                &lt;/transformer&gt; \r\n                            &lt;/transformers&gt; \r\n                            &lt;createDependencyReducedPom&gt;\r\n                                false\r\n                            &lt;/createDependencyReducedPom&gt;     \r\n                        &lt;/configuration&gt; \r\n                    &lt;/execution&gt; \r\n                &lt;/executions&gt; \r\n            &lt;/plugin&gt;\r\n\r\nDo you have any idea why this happens?\r\n\r\nP.S: The JDK used is the 11 and the Dockerfile looks as follows:\r\n\r\n    FROM openjdk:11-jre-slim\r\n    MAINTAINER &quot;Docker App &lt;docker@app.com&gt;&quot;\r\n    WORKDIR /app\r\n    \r\n    COPY ./target/*.jar ./app.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\r\n\r\nThanks.","title":"Fat Jar runs in host machine but fails in Docker Container","body":"<p>I have fat .jar file created using Maven that runs correctly when executed on many laptops (I tried it on 3 machines) using the command</p>\n<pre><code>java -jar target/appname.jar\n</code></pre>\n<p>but whenever I try to dockerize it, it fails with the following error:</p>\n<pre><code>Error: unable to initialize main class mypackage.MyMainClass\nCaused by: java.lang.NoClassDefFoundError: externaljarname/src/MyOtherClass\n</code></pre>\n<p>I can't understand why on three different machines, that I have never used, I can run easily the .jar file but in Docker no.</p>\n<p>More info:</p>\n<p>The fat .jar that fails is an application that makes use of a custom library that I have created. This means, initially I had a custom Java library exported as jar, then my new project imports this Library to perform some operations.</p>\n<p>For generating the current fat .jar, I firstly installed it using</p>\n<pre><code>mvn clean org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=&quot;mylibrary.jar&quot;\n</code></pre>\n<p>then I packaged everything:</p>\n<pre><code>mvn clean package\n</code></pre>\n<p>My current fat .jar, in the pom.xml, has a dependency to my library and I use the Maven Shade Plugin to generate the fat .jar as follows:</p>\n<pre><code>&lt;plugin&gt; \n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n            &lt;executions&gt; \n                &lt;execution&gt; \n                    &lt;phase&gt;package&lt;/phase&gt; \n                    &lt;goals&gt; \n                        &lt;goal&gt;shade&lt;/goal&gt; \n                    &lt;/goals&gt; \n                    &lt;configuration&gt; \n                        &lt;transformers&gt; \n                             &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt; \n                                &lt;mainClass&gt;\n                                    mypackage.MyMainClass\n                                &lt;/mainClass&gt; \n                            &lt;/transformer&gt; \n                        &lt;/transformers&gt; \n                        &lt;createDependencyReducedPom&gt;\n                            false\n                        &lt;/createDependencyReducedPom&gt;     \n                    &lt;/configuration&gt; \n                &lt;/execution&gt; \n            &lt;/executions&gt; \n        &lt;/plugin&gt;\n</code></pre>\n<p>Do you have any idea why this happens?</p>\n<p>P.S: The JDK used is the 11 and the Dockerfile looks as follows:</p>\n<pre><code>FROM openjdk:11-jre-slim\nMAINTAINER &quot;Docker App &lt;docker@app.com&gt;&quot;\nWORKDIR /app\n\nCOPY ./target/*.jar ./app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","amazon-web-services","gradle","karate","aws-device-farm"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1682688282,"post_id":76129429,"comment_id":134259282,"body_markdown":"stop() also has to be implemented as explained here: https://github.com/karatelabs/karate/tree/master/karate-core#configure-drivertarget","body":"stop() also has to be implemented as explained here: <a href=\"https://github.com/karatelabs/karate/tree/master/karate-core#configure-drivertarget\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/tree/master/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682688483,"creation_date":1682688483,"answer_id":76130083,"question_id":76129429,"body_markdown":"You seem to be moving from a very old version, and this part of the 1.0 upgrade guide has details: https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide#karate-ui\r\n\r\n    &gt; if you implemented a custom Target, the method signature for start() and stop() takes a com.intuit.karate.core.ScenarioRuntime as the single argument instead of a Logger.\r\n\r\nI strongly suggest you move to 1.3.0 which is the latest, but yes you need to read all the release notes. If still stuck, follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","title":"Issue when Integrate Karate with AWS Device farm","body":"<p>You seem to be moving from a very old version, and this part of the 1.0 upgrade guide has details: <a href=\"https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide#karate-ui\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide#karate-ui</a></p>\n<pre><code>&gt; if you implemented a custom Target, the method signature for start() and stop() takes a com.intuit.karate.core.ScenarioRuntime as the single argument instead of a Logger.\n</code></pre>\n<p>I strongly suggest you move to 1.3.0 which is the latest, but yes you need to read all the release notes. If still stuck, follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a></p>\n"}],"owner":{"account_id":28445060,"reputation":31,"user_id":21763890,"display_name":"Faizil Mohammed Eliyas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682688483,"creation_date":1682683684,"question_id":76129429,"body_markdown":"Trying to integrate Karate with AWS Device Farm and implement the **Target** Interface throws Class is not abstract and does not override abstract method stop(ScenarioRuntime) in Target.\r\nKarate version: 1.2.0\r\n\r\n\r\nJava application not compiled because of this and the build should work without this error\r\n\r\n```\r\nimport com.intuit.karate.driver.Target;\r\n\r\npublic class DeviceFarmTarget implements Target {\r\n @Override\r\n    public Map&lt;String, Object&gt; start(Logger logger) {\r\n    // implementation\r\n    }\r\n\r\n}\r\n```","title":"Issue when Integrate Karate with AWS Device farm","body":"<p>Trying to integrate Karate with AWS Device Farm and implement the <strong>Target</strong> Interface throws Class is not abstract and does not override abstract method stop(ScenarioRuntime) in Target.\nKarate version: 1.2.0</p>\n<p>Java application not compiled because of this and the build should work without this error</p>\n<pre><code>import com.intuit.karate.driver.Target;\n\npublic class DeviceFarmTarget implements Target {\n @Override\n    public Map&lt;String, Object&gt; start(Logger logger) {\n    // implementation\n    }\n\n}\n</code></pre>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1682688735,"post_id":76130014,"comment_id":134259386,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":27452549,"reputation":1,"user_id":20944538,"display_name":"Jayesh Vani"},"score":0,"creation_date":1682689126,"post_id":76130014,"comment_id":134259472,"body_markdown":"I depolyee two project [application] in one Tomcat\nTomcat&#39;s memory is 4 gb.\nI want to give specific memory to one project [application] \nFor example : \n1 application with 1 gb memory\nand \n2 application with 3 gb memory\nwhat should i do regarding same ?","body":"I depolyee two project [application] in one Tomcat Tomcat&#39;s memory is 4 gb. I want to give specific memory to one project [application]  For example :  1 application with 1 gb memory and  2 application with 3 gb memory what should i do regarding same ?"}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682688370,"creation_date":1682688370,"answer_id":76130061,"question_id":76130014,"body_markdown":"No. There is no such option _within a single process_. All webapplications share the memory that is allocated to their common JVM.\r\n\r\nThere is an option to start multiple processes from the same installation - `CATALINA_HOME` vs `CATALINA_BASE` are the configuration options from the command line, and you can also install with different service-names (if I&#39;m not misremembering) and configure the individual services to deploy different web applications.","title":"In one tomcat, project wise memory","body":"<p>No. There is no such option <em>within a single process</em>. All webapplications share the memory that is allocated to their common JVM.</p>\n<p>There is an option to start multiple processes from the same installation - <code>CATALINA_HOME</code> vs <code>CATALINA_BASE</code> are the configuration options from the command line, and you can also install with different service-names (if I'm not misremembering) and configure the individual services to deploy different web applications.</p>\n"}],"owner":{"account_id":27452549,"reputation":1,"user_id":20944538,"display_name":"Jayesh Vani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682688383,"creation_date":1682688033,"question_id":76130014,"body_markdown":"how i can give specific amount of memory to my web application,i deployed more than one project in single instance of tomcat ,i want to allocate memory to my each web application specific amount of memory \r\n\r\nset &quot;CATALINA_OPTS=%CATALINA_OPTS% -Xms512m -Xmx1024m&quot;\r\nset &quot;CATALINA_OPTS=%CATALINA_OPTS% -DT247ApiAnalytics.heap.size=512m&quot;\r\n\r\ni tried this command to set in setenv.bat file catalina.bat file but i want to start my tocat as a window services not from the bat file  and i want it for permanet is there any way to allocate specific amount of memory to my each web application deployed on single instance of tomcat. its working but it setting the jvm memoty not web application memory ,i want to set the specific amount of memory ,\r\n\r\nalso this command too \r\nset &quot;CATALINA_OPTS=&quot;-Xms512m -Xmx512m&quot; &amp;&amp; [ &quot;$APP_NAME&quot; == &quot;&lt;Project_Name&gt;&quot; ] &amp;&amp; CATALINA_OPTS=&quot;$CATALINA_OPTS -Dapp.name=&lt;Project_Name&gt;&quot;\r\n\r\nbut this also not worked for me .if u have any solution please help me","title":"In one tomcat, project wise memory","body":"<p>how i can give specific amount of memory to my web application,i deployed more than one project in single instance of tomcat ,i want to allocate memory to my each web application specific amount of memory</p>\n<p>set &quot;CATALINA_OPTS=%CATALINA_OPTS% -Xms512m -Xmx1024m&quot;\nset &quot;CATALINA_OPTS=%CATALINA_OPTS% -DT247ApiAnalytics.heap.size=512m&quot;</p>\n<p>i tried this command to set in setenv.bat file catalina.bat file but i want to start my tocat as a window services not from the bat file  and i want it for permanet is there any way to allocate specific amount of memory to my each web application deployed on single instance of tomcat. its working but it setting the jvm memoty not web application memory ,i want to set the specific amount of memory ,</p>\n<p>also this command too\nset &quot;CATALINA_OPTS=&quot;-Xms512m -Xmx512m&quot; &amp;&amp; [ &quot;$APP_NAME&quot; == &quot;&lt;Project_Name&gt;&quot; ] &amp;&amp; CATALINA_OPTS=&quot;$CATALINA_OPTS -Dapp.name=&lt;Project_Name&gt;&quot;</p>\n<p>but this also not worked for me .if u have any solution please help me</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":1,"creation_date":1546517068,"post_id":54021754,"comment_id":94879776,"body_markdown":"What&#39;s a typical value for the &#39;file&#39; argument you are using?","body":"What&#39;s a typical value for the &#39;file&#39; argument you are using?"},{"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"score":0,"creation_date":1546517122,"post_id":54021754,"comment_id":94879813,"body_markdown":"Please check [this](https://stackoverflow.com/questions/48673769/java-9-module-system-resources-files-location) question out","body":"Please check <a href=\"https://stackoverflow.com/questions/48673769/java-9-module-system-resources-files-location\">this</a> question out"},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":5,"creation_date":1546519693,"post_id":54021754,"comment_id":94881210,"body_markdown":"Class.class.getResourceAsStream(...) will attempt to locate the resource in the java.base module. Replace &quot;Class.class&quot; with the name of your class so that it finds it in your module (or on the class path).","body":"Class.class.getResourceAsStream(...) will attempt to locate the resource in the java.base module. Replace &quot;Class.class&quot; with the name of your class so that it finds it in your module (or on the class path)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1547134149,"post_id":54021754,"comment_id":95095081,"body_markdown":"Further, its worth learning about the [try-with-resources statement](https://docs.oracle.com/javase/8/docs/technotes/guides/language/try-with-resources.html)","body":"Further, its worth learning about the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/try-with-resources.html\" rel=\"nofollow noreferrer\">try-with-resources statement</a>"},{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1570298236,"post_id":54021754,"comment_id":102872215,"body_markdown":"Possible duplicate of [Accessing resource files from external modules](https://stackoverflow.com/questions/46861589/accessing-resource-files-from-external-modules)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/46861589/accessing-resource-files-from-external-modules\">Accessing resource files from external modules</a>"},{"owner":{"account_id":15050330,"reputation":119,"user_id":10862228,"display_name":"Alexey"},"score":0,"creation_date":1588155381,"post_id":54021754,"comment_id":108789055,"body_markdown":"@Holger I agree, its good, for super-sonic coding of simple modules, on small programs. Bad for: a) self explanatory code; b) backwards-compatibility; c) debug using stack trace.","body":"@Holger I agree, its good, for super-sonic coding of simple modules, on small programs. Bad for: a) self explanatory code; b) backwards-compatibility; c) debug using stack trace."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1588156612,"post_id":54021754,"comment_id":108789655,"body_markdown":"@Alexey **a)** try-with-resource is part of the language for a decade and should be understood by Java developers without further explanation. Its not different to any other high level language construct, e.g. for-each loop or string concatenation, or using OOP concepts. Verbosity doesnt imply self explanatory. **b)** Backward compatibility to what? You are asking a question about Java&#160;11 but insist on compatibility to Java&#160;6 or even older? **c)** in which regard does using try-with-resource hinder debugging?","body":"@Alexey <b>a)</b> try-with-resource is part of the language for a decade and should be understood by Java developers without further explanation. Its not different to any other high level language construct, e.g. for-each loop or string concatenation, or using OOP concepts. Verbosity doesnt imply self explanatory. <b>b)</b> Backward compatibility to what? You are asking a question about Java 11 but insist on compatibility to Java 6 or even older? <b>c)</b> in which regard does using try-with-resource hinder debugging?"}],"answers":[{"tags":[],"owner":{"account_id":3054958,"reputation":14923,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1546837796,"creation_date":1546518046,"answer_id":54022205,"question_id":54021754,"body_markdown":"I&#39;ve tried your application with both openjdk 8 and 11 on MacOS and it does not work with both. I think you need to look at [1] and [2] in order to understand how `getResourceAsStream` works. \r\n\r\nTLDR:\r\n \r\n1. If the path is absolute (i.e. starts with a slash - `/`), then `class.getResourceAsStream()` searches in the provided path\r\n\r\n2. If the path is NOT absolute (i.e. does not start with a slash) , then `class.getResourceAsStream()` searches in a constructed path that corresponds to the package name, where the dots are replaced with slashes\r\n\r\n\r\nSo whether it works or not depends on 2 things:\r\n\r\n1. Is your path absolute or not ? \r\n2. Is the `file` located in the same package as the class or not ? \r\n\r\nBasically in your exaple as is provided, it can never work if the path is not absolute, because `Class.class.getResourceAsStream()` will always resolve the path to `java/lang/&lt;file&gt;`, so your file must be in a system package. So instead you must use `&lt;MyClass&gt;.class.getResourceAsStream()` or alternatively use an absolute path\r\n\r\n[1] https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResource(java.lang.String)\r\n\r\n[2] https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource%28java.lang.String%29\r\n\r\n\r\n----\r\n### Update\r\n\r\nSince Java SE 9, invoking getResourceXXX on a class in a named module will only locate the resource in that module, it will not search the class path as it did in previous release. So when you use `Class.class.getResourceAsStream()` it will attempt to locate the resource in module containing `java.lang.Class`, which is the `java.base` module. Obviously your resource is not in that module, so it returns null. \r\n\r\nYou have to make java 9+ search for the file in your module, which most probably is an &quot;unnamed module&quot;. You can do that by changing `Class` to any class defined in your module in order to make java use the proper class loader.","title":"Why does the getResource() method return null in JDK 11?","body":"<p>I've tried your application with both openjdk 8 and 11 on MacOS and it does not work with both. I think you need to look at [1] and [2] in order to understand how <code>getResourceAsStream</code> works. </p>\n\n<p>TLDR:</p>\n\n<ol>\n<li><p>If the path is absolute (i.e. starts with a slash - <code>/</code>), then <code>class.getResourceAsStream()</code> searches in the provided path</p></li>\n<li><p>If the path is NOT absolute (i.e. does not start with a slash) , then <code>class.getResourceAsStream()</code> searches in a constructed path that corresponds to the package name, where the dots are replaced with slashes</p></li>\n</ol>\n\n<p>So whether it works or not depends on 2 things:</p>\n\n<ol>\n<li>Is your path absolute or not ? </li>\n<li>Is the <code>file</code> located in the same package as the class or not ? </li>\n</ol>\n\n<p>Basically in your exaple as is provided, it can never work if the path is not absolute, because <code>Class.class.getResourceAsStream()</code> will always resolve the path to <code>java/lang/&lt;file&gt;</code>, so your file must be in a system package. So instead you must use <code>&lt;MyClass&gt;.class.getResourceAsStream()</code> or alternatively use an absolute path</p>\n\n<p>[1] <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResource(java.lang.String)\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResource(java.lang.String)</a></p>\n\n<p>[2] <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource%28java.lang.String%29\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource%28java.lang.String%29</a></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>Since Java SE 9, invoking getResourceXXX on a class in a named module will only locate the resource in that module, it will not search the class path as it did in previous release. So when you use <code>Class.class.getResourceAsStream()</code> it will attempt to locate the resource in module containing <code>java.lang.Class</code>, which is the <code>java.base</code> module. Obviously your resource is not in that module, so it returns null. </p>\n\n<p>You have to make java 9+ search for the file in your module, which most probably is an \"unnamed module\". You can do that by changing <code>Class</code> to any class defined in your module in order to make java use the proper class loader.</p>\n"},{"tags":[],"owner":{"account_id":1225414,"reputation":3180,"user_id":1191058,"accept_rate":100,"display_name":"j123b567"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1597223004,"creation_date":1597223004,"answer_id":63373260,"question_id":54021754,"body_markdown":"There is another solution using `ClassLoader`\r\n\r\n```java\r\nClassLoader.getSystemResourceAsStream(file)\r\n```\r\n\r\nloads from all locations. I&#39;m using it to load resources from JAR file which holds just resources and no executable code so the previous trick can&#39;t work because there is no `SomeClass` in the JAR to do `SomeClass.class.getResourceAsStream()`\r\n\r\nI just don&#39;t understand the internals and I must change also the path of the file.\r\n\r\nI have JAR file with file &quot;my-file.txt&quot; in the root of the JAR archive.\r\n\r\nFor java 8, this worked\r\n```java\r\nClass.class.getResourceAsStream(&quot;/my-file.txt&quot;);\r\n```\r\n\r\nFor java 11, I must remove the leading `/` even when the file is in the root path\r\n```\r\nClassLoader.getSystemResourceAsStream(&quot;my-file.txt&quot;);\r\n```","title":"Why does the getResource() method return null in JDK 11?","body":"<p>There is another solution using <code>ClassLoader</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassLoader.getSystemResourceAsStream(file)\n</code></pre>\n<p>loads from all locations. I'm using it to load resources from JAR file which holds just resources and no executable code so the previous trick can't work because there is no <code>SomeClass</code> in the JAR to do <code>SomeClass.class.getResourceAsStream()</code></p>\n<p>I just don't understand the internals and I must change also the path of the file.</p>\n<p>I have JAR file with file &quot;my-file.txt&quot; in the root of the JAR archive.</p>\n<p>For java 8, this worked</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class.class.getResourceAsStream(&quot;/my-file.txt&quot;);\n</code></pre>\n<p>For java 11, I must remove the leading <code>/</code> even when the file is in the root path</p>\n<pre><code>ClassLoader.getSystemResourceAsStream(&quot;my-file.txt&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22029257,"reputation":1,"user_id":16296787,"display_name":"Pascal Mika"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672159069,"creation_date":1672132164,"answer_id":74927458,"question_id":54021754,"body_markdown":"I ran into that same problem. The solution is to use the `ClassPathResource` in Java versions later than 8.\r\n\r\n```java\r\nClassPathResource resource = new ClassPathResource(&quot;/path/to/file.txt&quot;);\r\n```\r\n\r\n- v1 as file:\r\n\r\n```java\r\nURL url = resource.getURL();\r\n```\r\n \r\n- v2 as Stream:\r\n\r\n```java\r\nin = resource.getInputStream();\r\n```\r\n","title":"Why does the getResource() method return null in JDK 11?","body":"<p>I ran into that same problem. The solution is to use the <code>ClassPathResource</code> in Java versions later than 8.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassPathResource resource = new ClassPathResource(&quot;/path/to/file.txt&quot;);\n</code></pre>\n<ul>\n<li>v1 as file:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = resource.getURL();\n</code></pre>\n<ul>\n<li>v2 as Stream:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>in = resource.getInputStream();\n</code></pre>\n"}],"owner":{"account_id":15050330,"reputation":119,"user_id":10862228,"display_name":"Alexey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12080,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":54022205,"answer_count":3,"score":11,"last_activity_date":1682688254,"creation_date":1546516332,"question_id":54021754,"body_markdown":"Simple Java program:\r\n\r\n    public static String loadText(String file) {\r\n    \tStringBuilder finalString = new StringBuilder();\r\n    \t\t\r\n    \tInputStream in = null;\r\n    \tBufferedReader reader = null;\r\n    \tInputStreamReader isr = null;\r\n    \r\n    \ttry{\r\n    \t\tSystem.out.println(&quot;Text File: &quot; + file);\r\n    \t\t\t\r\n    \t\t// Version 1\r\n    \t\t//URL url = Thread.currentThread().getClass().getResource(file); \r\n    \t\t//in = url.openStream();\r\n\r\n    \t\t// Version 2\r\n    \t\tin = Class.class.getResourceAsStream(file);\r\n\r\n    \t\tisr = new InputStreamReader(in);\r\n    \t\treader = new BufferedReader(isr);\r\n    \t\tString line;\r\n    \t\twhile((line = reader.readLine()) != null) {\r\n    \t\t\tfinalString.append(line).append(&quot;//\\n&quot;);\r\n    \t\t}\r\n    \t}\r\n    \tcatch(IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t\tSystem.exit(-1);\r\n    \t}\r\n    \tfinally {\r\n    \t\ttry {\r\n    \t\t\tif (isr != null) { isr.close(); }\r\n    \t\t\tif (reader != null) { reader.close(); }\r\n    \t\t\tif (in != null) { in.close(); }\r\n    \t\t\t} catch (IOException e) { e.printStackTrace(); }\r\n    \t\t}\r\n    \treturn finalString.toString();\r\n    }\r\n\r\n\r\nThe `getResource` and `getResourceAsStream` methods works fine in JDK 8 (java-8-openjdk-amd64) but they always return `null` in JDK 11.\r\n\r\nQuestions: Why? And how can I fix this?\r\n\r\n - Operation System: Linux Mint 19 Tara x64\r\n - IDE: Eclipse 2018-12 (4.10.0)\r\n","title":"Why does the getResource() method return null in JDK 11?","body":"<p>Simple Java program:</p>\n\n<pre><code>public static String loadText(String file) {\n    StringBuilder finalString = new StringBuilder();\n\n    InputStream in = null;\n    BufferedReader reader = null;\n    InputStreamReader isr = null;\n\n    try{\n        System.out.println(\"Text File: \" + file);\n\n        // Version 1\n        //URL url = Thread.currentThread().getClass().getResource(file); \n        //in = url.openStream();\n\n        // Version 2\n        in = Class.class.getResourceAsStream(file);\n\n        isr = new InputStreamReader(in);\n        reader = new BufferedReader(isr);\n        String line;\n        while((line = reader.readLine()) != null) {\n            finalString.append(line).append(\"//\\n\");\n        }\n    }\n    catch(IOException e) {\n        e.printStackTrace();\n        System.exit(-1);\n    }\n    finally {\n        try {\n            if (isr != null) { isr.close(); }\n            if (reader != null) { reader.close(); }\n            if (in != null) { in.close(); }\n            } catch (IOException e) { e.printStackTrace(); }\n        }\n    return finalString.toString();\n}\n</code></pre>\n\n<p>The <code>getResource</code> and <code>getResourceAsStream</code> methods works fine in JDK 8 (java-8-openjdk-amd64) but they always return <code>null</code> in JDK 11.</p>\n\n<p>Questions: Why? And how can I fix this?</p>\n\n<ul>\n<li>Operation System: Linux Mint 19 Tara x64</li>\n<li>IDE: Eclipse 2018-12 (4.10.0)</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","maven","wildfly"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1635231395,"post_id":69718194,"comment_id":123233777,"body_markdown":"Is there more to the log?  Can you see which port wildfly is using?  I dont think it is the same 8080","body":"Is there more to the log?  Can you see which port wildfly is using?  I dont think it is the same 8080"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635246406,"post_id":69718194,"comment_id":123239749,"body_markdown":"Is there a good reason why you use SNAPSHOT versions of spring boot instead of releases?","body":"Is there a good reason why you use SNAPSHOT versions of spring boot instead of releases?"},{"owner":{"account_id":4784320,"reputation":441,"user_id":4868379,"accept_rate":81,"display_name":"davids182009"},"score":0,"creation_date":1635254848,"post_id":69718194,"comment_id":123243589,"body_markdown":"I&#39;m using this version because is the last one available, nothing special, also on the question i added the log of wildfly","body":"I&#39;m using this version because is the last one available, nothing special, also on the question i added the log of wildfly"},{"owner":{"account_id":4784320,"reputation":441,"user_id":4868379,"accept_rate":81,"display_name":"davids182009"},"score":0,"creation_date":1635258299,"post_id":69718194,"comment_id":123245381,"body_markdown":"the port of wildfly is default (8080) also added part of standalone.xml file","body":"the port of wildfly is default (8080) also added part of standalone.xml file"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635324730,"post_id":69718194,"comment_id":123264348,"body_markdown":"The current available version for 2.6.X is [2.6.0-RC1](https://spring.io/blog/2021/10/21/spring-boot-2-6-0-rc1-is-available-now) furthermore there had several milestones before (m1...m3)...which is available from central repository. I would always to recommend to use those instead of SNAPSHOT&#39;s... Furthermore there are releases of 2.5.X line available (2.5.4, 2.5.5).. so I don&#39;t understand the usage of SNAPSHOT..","body":"The current available version for 2.6.X is <a href=\"https://spring.io/blog/2021/10/21/spring-boot-2-6-0-rc1-is-available-now\" rel=\"nofollow noreferrer\">2.6.0-RC1</a> furthermore there had several milestones before (m1...m3)...which is available from central repository. I would always to recommend to use those instead of SNAPSHOT&#39;s... Furthermore there are releases of 2.5.X line available (2.5.4, 2.5.5).. so I don&#39;t understand the usage of SNAPSHOT.."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635334047,"creation_date":1635334047,"answer_id":69737807,"question_id":69718194,"body_markdown":"Could you try the following maven dependency changes:\r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- We need to include the javax.servlet API specs, the implementation \r\n             will be provided by Wildfly / JBoss / Tomcat --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    ...\r\n\r\nInstead of\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;scope&gt;provide&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring Boot 2.6 App on WildFly 19 - Can&#39;t reach my app","body":"<p>Could you try the following maven dependency changes:</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;!-- We need to include the javax.servlet API specs, the implementation \n         will be provided by Wildfly / JBoss / Tomcat --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n...\n</code></pre>\n<p>Instead of</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;provide&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4784320,"reputation":441,"user_id":4868379,"accept_rate":81,"display_name":"davids182009"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1654,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682688203,"creation_date":1635228741,"question_id":69718194,"body_markdown":"I have a Java API Spring Boot application (2.6.0-SNAPSHOT) without any context, also have a FrontEnd written in VueJS on path `/src/main/resources/static`, in my local development environment when i run the project, i can view the FrontEnd app over the url `localhost:8080` and can access to my API project in Spring Boot over the url for example `localhost:8080/security/myEndpoint`, and everything works well.\r\n\r\nNow i need to deploy my project on WildFly 19 application server (wildfly-19.0.0.Final), first i&#39;m using maven to build the war file and then put it into `\\standalone\\deployments\\` path to deploy.\r\n\r\nWhen i&#39;m execute `standalone` file to start the deploy the server do all the process and starts ok, but i&#39;m trying to access to my front app or my API Endpoints and get 404 error.\r\n\r\nWhat is missing on this configuration to get the same functioning that on my development environment?\r\n\r\nMy pom.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.co.myapp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;RED&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;RED&lt;/name&gt;\r\n\t&lt;description&gt;My app&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-ldap&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t      &lt;version&gt;1.5.10&lt;/version&gt;\r\n\t   &lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nMain Class\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    @PropertySource(value = &quot;file:${spring.config.location}/applicationconfig.properties&quot;)\r\n    @PropertySource(value = &quot;file:${spring.config.location}/propiedades.properties&quot;)\r\n    public class BackRedApplication extends SpringBootServletInitializer {\r\n\t\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(BackRedApplication.class);\r\n    }\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BackRedApplication.class, args);\r\n\t}\r\n\t\r\n\t@Bean\r\n    public static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() {\r\n       return new PropertySourcesPlaceholderConfigurer();\r\n    }\r\n    }\r\n\r\nMy application.properties\r\n\r\n    spring.servlet.multipart.max-file-size=250MB\r\n    spring.servlet.multipart.max-request-size=250MB\r\n    spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\r\n    #spring.profiles.active=dev\r\n    #spring.profiles.active=test\r\n    #spring.config.location=path_to_my_spring_configuration\r\n    #server.servlet.context-path=/api-red\r\n\r\n    #\r\n    #spring.mvc.static-path-pattern=/uploads/**\r\n    #spring.web.resources.static-locations=file:/opt/files\r\n\r\n\r\nMy applicationconfig.properties (defined on main class)\r\n\r\n    #\r\n    spring.datasource.jdbc-url=jdbc:mysql://mydb.com:3306/MYDB\r\n    spring.datasource.username=user\r\n    spring.datasource.password=password\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    server.port = 8080\r\n\r\n    springdoc.packagesToScan=the_package_to_scan\r\n    #springdoc.pathsToMatch=/v1, /api/balance/**\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\n    #Generate camelCase columns names in DB as delcared in Entities\r\n    spring.jpa.hibernate.naming.physical- \r\n    strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    #logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n\r\nPart of WildFly Log\r\n    \r\n    2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92) ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n    \r\n    2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92)  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n    \r\n    2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92)   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n    \r\n    2021-10-26 00:47:21,143 INFO  [stdout] (ServerService Thread Pool -- 92)  =========|_|==============|___/=/_/_/_/\r\n    \r\n    2021-10-26 00:47:21,143 INFO  [stdout] (ServerService Thread Pool -- 92)  :: Spring Boot ::       (v2.6.0-SNAPSHOT)\r\n    \r\n    2021-10-26 00:47:21,144 INFO  [stdout] (ServerService Thread Pool -- 92) \r\n    \r\n    2021-10-26 00:47:21,146 INFO  [org.hibernate.validator.internal.util.Version] (background-preinit) HV000001: Hibernate Validator 6.0.18.Final\r\n    2021-10-26 00:47:21,186 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) Starting BackRedApplication using Java 11.0.12 on DAVID-DESKTOP with PID 4500 (started by david in C:\\Users\\david\\Documents\\Emprendimiento\\CLIENTES_EXTERNOS\\UTADEO\\wildfly-19.0.0.Final\\bin)\r\n    2021-10-26 00:47:21,187 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) No active profile set, falling back to default profiles: default\r\n    2021-10-26 00:47:21,635 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\r\n    2021-10-26 00:47:21,637 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2021-10-26 00:47:21,706 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 62 ms. Found 8 JPA repository interfaces.\r\n    2021-10-26 00:47:21,712 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\r\n    2021-10-26 00:47:21,713 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data LDAP repositories in DEFAULT mode.\r\n    2021-10-26 00:47:21,725 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.job.RepositorioCampaniasImportadas. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,726 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioDomain. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,726 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioRol. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,727 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurvey. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,727 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestion. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,728 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAnswer. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAttribute. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioUsers. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 15 ms. Found 0 LDAP repository interfaces.\r\n    2021-10-26 00:47:21,978 INFO  [io.undertow.servlet] (ServerService Thread Pool -- 92) Initializing Spring embedded WebApplicationContext\r\n    2021-10-26 00:47:21,979 INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext] (ServerService Thread Pool -- 92) Root WebApplicationContext: initialization completed in 773 ms\r\n    2021-10-26 00:47:22,145 ERROR [stderr] (ServerService Thread Pool -- 92) Loading class `com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver&#39;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\r\n    \r\n    2021-10-26 00:47:22,253 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 92) HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2021-10-26 00:47:22,301 INFO  [org.hibernate.Version] (ServerService Thread Pool -- 92) HHH000412: Hibernate ORM core version 5.6.0.Final\r\n    2021-10-26 00:47:22,424 INFO  [org.hibernate.annotations.common.Version] (ServerService Thread Pool -- 92) HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2021-10-26 00:47:22,493 INFO  [com.zaxxer.hikari.HikariDataSource] (ServerService Thread Pool -- 92) HikariPool-1 - Starting...\r\n    2021-10-26 00:47:22,497 WARN  [com.zaxxer.hikari.util.DriverDataSource] (ServerService Thread Pool -- 92) Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.\r\n    2021-10-26 00:47:23,851 INFO  [com.zaxxer.hikari.HikariDataSource] (ServerService Thread Pool -- 92) HikariPool-1 - Start completed.\r\n    2021-10-26 00:47:23,862 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool -- 92) HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n    2021-10-26 00:47:23,988 INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator] (ServerService Thread Pool -- 92) HHH000490: Using JtaPlatform implementation: [org.springframework.boot.orm.jpa.hibernate.SpringJtaPlatform]\r\n    2021-10-26 00:47:30,064 INFO  [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean] (ServerService Thread Pool -- 92) Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2021-10-26 00:47:30,896 WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration] (ServerService Thread Pool -- 92) spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2021-10-26 00:47:31,104 INFO  [org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping] (ServerService Thread Pool -- 92) Adding welcome page: class path resource [static/index.html]\r\n    2021-10-26 00:47:32,432 INFO  [org.springframework.ldap.core.support.AbstractContextSource] (ServerService Thread Pool -- 92) Property &#39;userDn&#39; not set - anonymous context will be used for read-write operations\r\n    2021-10-26 00:47:32,481 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Using default implementation for ThreadExecutor\r\n    2021-10-26 00:47:32,494 INFO  [org.quartz.core.SchedulerSignalerImpl] (ServerService Thread Pool -- 92) Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\r\n    2021-10-26 00:47:32,495 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Quartz Scheduler v.2.3.2 created.\r\n    2021-10-26 00:47:32,496 INFO  [org.quartz.simpl.RAMJobStore] (ServerService Thread Pool -- 92) RAMJobStore initialized.\r\n    2021-10-26 00:47:32,497 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Scheduler meta-data: Quartz Scheduler (v2.3.2) &#39;quartzScheduler&#39; with instanceId &#39;NON_CLUSTERED&#39;\r\n      Scheduler class: &#39;org.quartz.core.QuartzScheduler&#39; - running locally.\r\n      NOT STARTED.\r\n      Currently in standby mode.\r\n      Number of jobs executed: 0\r\n      Using thread pool &#39;org.quartz.simpl.SimpleThreadPool&#39; - with 10 threads.\r\n      Using job-store &#39;org.quartz.simpl.RAMJobStore&#39; - which does not support persistence. and is not clustered.\r\n    \r\n    2021-10-26 00:47:32,497 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Quartz scheduler &#39;quartzScheduler&#39; initialized from an externally provided properties instance.\r\n    2021-10-26 00:47:32,498 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Quartz scheduler version: 2.3.2\r\n    2021-10-26 00:47:32,498 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@435e5276\r\n    2021-10-26 00:47:32,527 INFO  [org.springframework.scheduling.quartz.SchedulerFactoryBean] (ServerService Thread Pool -- 92) Starting Quartz Scheduler now\r\n    2021-10-26 00:47:32,528 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Scheduler quartzScheduler_$_NON_CLUSTERED started.\r\n    2021-10-26 00:47:32,542 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) Started BackRedApplication in 11.605 seconds (JVM running for 19.378)\r\n    2021-10-26 00:47:32,545 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) Root context already created (using as parent).\r\n    2021-10-26 00:47:32,582 INFO  [stdout] (ServerService Thread Pool -- 92) \r\n    \r\n    2021-10-26 00:47:32,583 INFO  [stdout] (ServerService Thread Pool -- 92)   .   ____          _            __ _ _\r\n    \r\n    2021-10-26 00:47:32,585 INFO  [stdout] (ServerService Thread Pool -- 92)  /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    \r\n    2021-10-26 00:47:32,590 INFO  [stdout] (ServerService Thread Pool -- 92) ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n    \r\n    2021-10-26 00:47:32,591 INFO  [stdout] (ServerService Thread Pool -- 92)  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n    \r\n    2021-10-26 00:47:32,591 INFO  [stdout] (ServerService Thread Pool -- 92)   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n    \r\n    2021-10-26 00:47:32,592 INFO  [stdout] (ServerService Thread Pool -- 92)  =========|_|==============|___/=/_/_/_/\r\n    \r\n    2021-10-26 00:47:32,592 INFO  [stdout] (ServerService Thread Pool -- 92)  :: Spring Boot ::       (v2.6.0-SNAPSHOT)\r\n    \r\n    2021-10-26 00:47:32,593 INFO  [stdout] (ServerService Thread Pool -- 92) \r\n    \r\n    2021-10-26 00:47:32,596 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) No active profile set, falling back to default profiles: default\r\n    2021-10-26 00:47:32,777 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\r\n    2021-10-26 00:47:32,777 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data LDAP repositories in DEFAULT mode.\r\n    2021-10-26 00:47:32,791 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.job.RepositorioCampaniasImportadas. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,792 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioDomain. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,793 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioRol. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,793 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurvey. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,794 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestion. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,794 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAnswer. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAttribute. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioUsers. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 16 ms. Found 0 LDAP repository interfaces.\r\n    2021-10-26 00:47:32,823 INFO  [io.undertow.servlet] (ServerService Thread Pool -- 92) Initializing Spring embedded WebApplicationContext\r\n    2021-10-26 00:47:32,823 INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext] (ServerService Thread Pool -- 92) Root WebApplicationContext: initialization completed in 221 ms\r\n    2021-10-26 00:47:32,830 INFO  [org.springframework.boot.web.servlet.RegistrationBean] (ServerService Thread Pool -- 92) Filter errorPageFilter was not registered (possibly already registered?)\r\n    2021-10-26 00:47:32,830 INFO  [org.springframework.boot.web.servlet.RegistrationBean] (ServerService Thread Pool -- 92) Filter vueRoutePathFilter was not registered (possibly already registered?)\r\n    2021-10-26 00:47:32,915 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) Started ServletInitializer in 0.368 seconds (JVM running for 19.751)\r\n    2021-10-26 00:47:32,957 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 92) Initializing Mojarra 2.3.9.SP06 for context &#39;/api-red&#39;\r\n    2021-10-26 00:47:34,146 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 92) WFLYUT0021: Registered web context: &#39;/api-red&#39; for server &#39;default-server&#39;\r\n    2021-10-26 00:47:34,177 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;RED-0.0.1-SNAPSHOT.war&quot; (runtime-name : &quot;RED-0.0.1-SNAPSHOT.war&quot;)\r\n    2021-10-26 00:47:34,204 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n    2021-10-26 00:47:34,206 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\r\n    2021-10-26 00:47:34,207 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\r\n    2021-10-26 00:47:34,208 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 19.0.0.Final (WildFly Core 11.0.0.Final) started in 20962ms - Started 539 of 768 services (379 services are lazy, passive or on-demand)\r\n\r\n\r\nWildFly standalone.xml\r\n\r\n[![enter image description here][1]][1]\r\n\r\nVueJS App path on Spring Boot Project:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFrontEnd on my Local Development Environment\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBackEnd on my Local Development Environment\r\n\r\n[![enter image description here][4]][4]\r\n\r\nWildFly Environment Execution\r\n\r\n[![enter image description here][5]][5]\r\n\r\nFrontEnd over WildFly Environment Execution\r\n\r\n[![enter image description here][6]][6]\r\n\r\nBackEnd over WildFly Environment Execution\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BnXT3.png\r\n  [2]: https://i.stack.imgur.com/2uEdU.png\r\n  [3]: https://i.stack.imgur.com/aYfIU.png\r\n  [4]: https://i.stack.imgur.com/lfZJV.png\r\n  [5]: https://i.stack.imgur.com/OAvDA.png\r\n  [6]: https://i.stack.imgur.com/Q5Ozc.png\r\n  [7]: https://i.stack.imgur.com/vtM3e.png","title":"Spring Boot 2.6 App on WildFly 19 - Can&#39;t reach my app","body":"<p>I have a Java API Spring Boot application (2.6.0-SNAPSHOT) without any context, also have a FrontEnd written in VueJS on path <code>/src/main/resources/static</code>, in my local development environment when i run the project, i can view the FrontEnd app over the url <code>localhost:8080</code> and can access to my API project in Spring Boot over the url for example <code>localhost:8080/security/myEndpoint</code>, and everything works well.</p>\n<p>Now i need to deploy my project on WildFly 19 application server (wildfly-19.0.0.Final), first i'm using maven to build the war file and then put it into <code>\\standalone\\deployments\\</code> path to deploy.</p>\n<p>When i'm execute <code>standalone</code> file to start the deploy the server do all the process and starts ok, but i'm trying to access to my front app or my API Endpoints and get 404 error.</p>\n<p>What is missing on this configuration to get the same functioning that on my development environment?</p>\n<p>My pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.co.myapp&lt;/groupId&gt;\n&lt;artifactId&gt;RED&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;name&gt;RED&lt;/name&gt;\n&lt;description&gt;My app&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-ldap&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.5.10&lt;/version&gt;\n   &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;name&gt;Spring Snapshots&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/releases&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/pluginRepository&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;name&gt;Spring Snapshots&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/releases&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n\n<p>Main Class</p>\n<pre><code>@SpringBootApplication\n@EnableScheduling\n@PropertySource(value = &quot;file:${spring.config.location}/applicationconfig.properties&quot;)\n@PropertySource(value = &quot;file:${spring.config.location}/propiedades.properties&quot;)\npublic class BackRedApplication extends SpringBootServletInitializer {\n\n@Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application.sources(BackRedApplication.class);\n}\n\npublic static void main(String[] args) {\n    SpringApplication.run(BackRedApplication.class, args);\n}\n\n@Bean\npublic static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() {\n   return new PropertySourcesPlaceholderConfigurer();\n}\n}\n</code></pre>\n<p>My application.properties</p>\n<pre><code>spring.servlet.multipart.max-file-size=250MB\nspring.servlet.multipart.max-request-size=250MB\nspring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\n#spring.profiles.active=dev\n#spring.profiles.active=test\n#spring.config.location=path_to_my_spring_configuration\n#server.servlet.context-path=/api-red\n\n#\n#spring.mvc.static-path-pattern=/uploads/**\n#spring.web.resources.static-locations=file:/opt/files\n</code></pre>\n<p>My applicationconfig.properties (defined on main class)</p>\n<pre><code>#\nspring.datasource.jdbc-url=jdbc:mysql://mydb.com:3306/MYDB\nspring.datasource.username=user\nspring.datasource.password=password\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\nserver.port = 8080\n\nspringdoc.packagesToScan=the_package_to_scan\n#springdoc.pathsToMatch=/v1, /api/balance/**\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.properties.hibernate.format_sql=true\n\n#Generate camelCase columns names in DB as delcared in Entities\nspring.jpa.hibernate.naming.physical- \nstrategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\nlogging.level.org.hibernate.SQL=DEBUG\n#logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n<p>Part of WildFly Log</p>\n<pre><code>2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92) ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n\n2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92)  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n\n2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92)   '  |____| .__|_| |_|_| |_\\__, | / / / /\n\n2021-10-26 00:47:21,143 INFO  [stdout] (ServerService Thread Pool -- 92)  =========|_|==============|___/=/_/_/_/\n\n2021-10-26 00:47:21,143 INFO  [stdout] (ServerService Thread Pool -- 92)  :: Spring Boot ::       (v2.6.0-SNAPSHOT)\n\n2021-10-26 00:47:21,144 INFO  [stdout] (ServerService Thread Pool -- 92) \n\n2021-10-26 00:47:21,146 INFO  [org.hibernate.validator.internal.util.Version] (background-preinit) HV000001: Hibernate Validator 6.0.18.Final\n2021-10-26 00:47:21,186 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) Starting BackRedApplication using Java 11.0.12 on DAVID-DESKTOP with PID 4500 (started by david in C:\\Users\\david\\Documents\\Emprendimiento\\CLIENTES_EXTERNOS\\UTADEO\\wildfly-19.0.0.Final\\bin)\n2021-10-26 00:47:21,187 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) No active profile set, falling back to default profiles: default\n2021-10-26 00:47:21,635 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-10-26 00:47:21,637 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2021-10-26 00:47:21,706 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 62 ms. Found 8 JPA repository interfaces.\n2021-10-26 00:47:21,712 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-10-26 00:47:21,713 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data LDAP repositories in DEFAULT mode.\n2021-10-26 00:47:21,725 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.job.RepositorioCampaniasImportadas. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,726 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioDomain. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,726 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioRol. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,727 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurvey. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,727 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestion. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,728 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAnswer. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAttribute. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioUsers. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 15 ms. Found 0 LDAP repository interfaces.\n2021-10-26 00:47:21,978 INFO  [io.undertow.servlet] (ServerService Thread Pool -- 92) Initializing Spring embedded WebApplicationContext\n2021-10-26 00:47:21,979 INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext] (ServerService Thread Pool -- 92) Root WebApplicationContext: initialization completed in 773 ms\n2021-10-26 00:47:22,145 ERROR [stderr] (ServerService Thread Pool -- 92) Loading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\n\n2021-10-26 00:47:22,253 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 92) HHH000204: Processing PersistenceUnitInfo [name: default]\n2021-10-26 00:47:22,301 INFO  [org.hibernate.Version] (ServerService Thread Pool -- 92) HHH000412: Hibernate ORM core version 5.6.0.Final\n2021-10-26 00:47:22,424 INFO  [org.hibernate.annotations.common.Version] (ServerService Thread Pool -- 92) HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2021-10-26 00:47:22,493 INFO  [com.zaxxer.hikari.HikariDataSource] (ServerService Thread Pool -- 92) HikariPool-1 - Starting...\n2021-10-26 00:47:22,497 WARN  [com.zaxxer.hikari.util.DriverDataSource] (ServerService Thread Pool -- 92) Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.\n2021-10-26 00:47:23,851 INFO  [com.zaxxer.hikari.HikariDataSource] (ServerService Thread Pool -- 92) HikariPool-1 - Start completed.\n2021-10-26 00:47:23,862 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool -- 92) HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n2021-10-26 00:47:23,988 INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator] (ServerService Thread Pool -- 92) HHH000490: Using JtaPlatform implementation: [org.springframework.boot.orm.jpa.hibernate.SpringJtaPlatform]\n2021-10-26 00:47:30,064 INFO  [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean] (ServerService Thread Pool -- 92) Initialized JPA EntityManagerFactory for persistence unit 'default'\n2021-10-26 00:47:30,896 WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration] (ServerService Thread Pool -- 92) spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2021-10-26 00:47:31,104 INFO  [org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping] (ServerService Thread Pool -- 92) Adding welcome page: class path resource [static/index.html]\n2021-10-26 00:47:32,432 INFO  [org.springframework.ldap.core.support.AbstractContextSource] (ServerService Thread Pool -- 92) Property 'userDn' not set - anonymous context will be used for read-write operations\n2021-10-26 00:47:32,481 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Using default implementation for ThreadExecutor\n2021-10-26 00:47:32,494 INFO  [org.quartz.core.SchedulerSignalerImpl] (ServerService Thread Pool -- 92) Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\n2021-10-26 00:47:32,495 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Quartz Scheduler v.2.3.2 created.\n2021-10-26 00:47:32,496 INFO  [org.quartz.simpl.RAMJobStore] (ServerService Thread Pool -- 92) RAMJobStore initialized.\n2021-10-26 00:47:32,497 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\n  NOT STARTED.\n  Currently in standby mode.\n  Number of jobs executed: 0\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.\n  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.\n\n2021-10-26 00:47:32,497 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.\n2021-10-26 00:47:32,498 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Quartz scheduler version: 2.3.2\n2021-10-26 00:47:32,498 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@435e5276\n2021-10-26 00:47:32,527 INFO  [org.springframework.scheduling.quartz.SchedulerFactoryBean] (ServerService Thread Pool -- 92) Starting Quartz Scheduler now\n2021-10-26 00:47:32,528 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Scheduler quartzScheduler_$_NON_CLUSTERED started.\n2021-10-26 00:47:32,542 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) Started BackRedApplication in 11.605 seconds (JVM running for 19.378)\n2021-10-26 00:47:32,545 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) Root context already created (using as parent).\n2021-10-26 00:47:32,582 INFO  [stdout] (ServerService Thread Pool -- 92) \n\n2021-10-26 00:47:32,583 INFO  [stdout] (ServerService Thread Pool -- 92)   .   ____          _            __ _ _\n\n2021-10-26 00:47:32,585 INFO  [stdout] (ServerService Thread Pool -- 92)  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n\n2021-10-26 00:47:32,590 INFO  [stdout] (ServerService Thread Pool -- 92) ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n\n2021-10-26 00:47:32,591 INFO  [stdout] (ServerService Thread Pool -- 92)  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n\n2021-10-26 00:47:32,591 INFO  [stdout] (ServerService Thread Pool -- 92)   '  |____| .__|_| |_|_| |_\\__, | / / / /\n\n2021-10-26 00:47:32,592 INFO  [stdout] (ServerService Thread Pool -- 92)  =========|_|==============|___/=/_/_/_/\n\n2021-10-26 00:47:32,592 INFO  [stdout] (ServerService Thread Pool -- 92)  :: Spring Boot ::       (v2.6.0-SNAPSHOT)\n\n2021-10-26 00:47:32,593 INFO  [stdout] (ServerService Thread Pool -- 92) \n\n2021-10-26 00:47:32,596 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) No active profile set, falling back to default profiles: default\n2021-10-26 00:47:32,777 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-10-26 00:47:32,777 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data LDAP repositories in DEFAULT mode.\n2021-10-26 00:47:32,791 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.job.RepositorioCampaniasImportadas. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,792 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioDomain. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,793 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioRol. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,793 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurvey. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,794 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestion. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,794 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAnswer. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAttribute. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioUsers. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 16 ms. Found 0 LDAP repository interfaces.\n2021-10-26 00:47:32,823 INFO  [io.undertow.servlet] (ServerService Thread Pool -- 92) Initializing Spring embedded WebApplicationContext\n2021-10-26 00:47:32,823 INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext] (ServerService Thread Pool -- 92) Root WebApplicationContext: initialization completed in 221 ms\n2021-10-26 00:47:32,830 INFO  [org.springframework.boot.web.servlet.RegistrationBean] (ServerService Thread Pool -- 92) Filter errorPageFilter was not registered (possibly already registered?)\n2021-10-26 00:47:32,830 INFO  [org.springframework.boot.web.servlet.RegistrationBean] (ServerService Thread Pool -- 92) Filter vueRoutePathFilter was not registered (possibly already registered?)\n2021-10-26 00:47:32,915 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) Started ServletInitializer in 0.368 seconds (JVM running for 19.751)\n2021-10-26 00:47:32,957 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 92) Initializing Mojarra 2.3.9.SP06 for context '/api-red'\n2021-10-26 00:47:34,146 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 92) WFLYUT0021: Registered web context: '/api-red' for server 'default-server'\n2021-10-26 00:47:34,177 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;RED-0.0.1-SNAPSHOT.war&quot; (runtime-name : &quot;RED-0.0.1-SNAPSHOT.war&quot;)\n2021-10-26 00:47:34,204 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n2021-10-26 00:47:34,206 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\n2021-10-26 00:47:34,207 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\n2021-10-26 00:47:34,208 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 19.0.0.Final (WildFly Core 11.0.0.Final) started in 20962ms - Started 539 of 768 services (379 services are lazy, passive or on-demand)\n</code></pre>\n<p>WildFly standalone.xml</p>\n<p><a href=\"https://i.stack.imgur.com/BnXT3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BnXT3.png\" alt=\"enter image description here\" /></a></p>\n<p>VueJS App path on Spring Boot Project:</p>\n<p><a href=\"https://i.stack.imgur.com/2uEdU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2uEdU.png\" alt=\"enter image description here\" /></a></p>\n<p>FrontEnd on my Local Development Environment</p>\n<p><a href=\"https://i.stack.imgur.com/aYfIU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aYfIU.png\" alt=\"enter image description here\" /></a></p>\n<p>BackEnd on my Local Development Environment</p>\n<p><a href=\"https://i.stack.imgur.com/lfZJV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lfZJV.png\" alt=\"enter image description here\" /></a></p>\n<p>WildFly Environment Execution</p>\n<p><a href=\"https://i.stack.imgur.com/OAvDA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OAvDA.png\" alt=\"enter image description here\" /></a></p>\n<p>FrontEnd over WildFly Environment Execution</p>\n<p><a href=\"https://i.stack.imgur.com/Q5Ozc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q5Ozc.png\" alt=\"enter image description here\" /></a></p>\n<p>BackEnd over WildFly Environment Execution</p>\n<p><a href=\"https://i.stack.imgur.com/vtM3e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vtM3e.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682630513,"post_id":76124728,"comment_id":134250546,"body_markdown":"This `setBackground(new java.awt.Color(0,0,0,1));` is suspious - Swing doesn&#39;t support alpha based colors, instead, use `Color.BLACK`","body":"This <code>setBackground(new java.awt.Color(0,0,0,1));</code> is suspious - Swing doesn&#39;t support alpha based colors, instead, use <code>Color.BLACK</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682630612,"post_id":76124728,"comment_id":134250560,"body_markdown":"I would also make `setVisible(true);` the last thing you do, in fact, I&#39;d remove it from the constructor and have the caller do it, for example `Login login = new Login(); login.setVisible(true);` as it provides the caller the control","body":"I would also make <code>setVisible(true);</code> the last thing you do, in fact, I&#39;d remove it from the constructor and have the caller do it, for example <code>Login login = new Login(); login.setVisible(true);</code> as it provides the caller the control"},{"owner":{"account_id":16351685,"reputation":3,"user_id":11810035,"display_name":"Sahand"},"score":0,"creation_date":1682631199,"post_id":76124728,"comment_id":134250654,"body_markdown":"@MadProgrammer if I change this tho `Color.BLACK` the text field background will not be transparent, I want it to be transparent that is the point, and tried to remove those from the constructor and call it from the main method no luck.","body":"@MadProgrammer if I change this tho <code>Color.BLACK</code> the text field background will not be transparent, I want it to be transparent that is the point, and tried to remove those from the constructor and call it from the main method no luck."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1682631500,"post_id":76124728,"comment_id":134250695,"body_markdown":"Not sure why you want the text fields to be be transparent - but you should use `setOpaque` instead, as stated, Swing components can&#39;t handle transparent colors - they are either fully opaque or fully transparent, which is controlled via the opaque property","body":"Not sure why you want the text fields to be be transparent - but you should use <code>setOpaque</code> instead, as stated, Swing components can&#39;t handle transparent colors - they are either fully opaque or fully transparent, which is controlled via the opaque property"},{"owner":{"account_id":16351685,"reputation":3,"user_id":11810035,"display_name":"Sahand"},"score":0,"creation_date":1682633424,"post_id":76124728,"comment_id":134250949,"body_markdown":"@MadProgrammer transparent background looks cool and more modern, anyway thanks for your suggestion man.","body":"@MadProgrammer transparent background looks cool and more modern, anyway thanks for your suggestion man."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682633863,"post_id":76124728,"comment_id":134251011,"body_markdown":"But you seem to be placing it over a white background, so not really seeing the difference  &#129335; . As a user, Id prefer to see common over cool, but thats me","body":"But you seem to be placing it over a white background, so not really seeing the difference   . As a user, Id prefer to see common over cool, but thats me"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682688134,"creation_date":1682637631,"answer_id":76125267,"question_id":76124728,"body_markdown":"Swing components do not support alpha based colors, a Swing component is either full opaque or fully transparent.\r\n\r\nYou should be using `setOpaque(false)` over `setBackground(new java.awt.Color(0,0,0,1))`\r\n\r\nI would also recommend against extending directly from `JFrame`, it&#39;s locking you into a single use case.  You should also avoid calling `setVisible` in the constructor, this is generally consider a &quot;side effect&quot; and isn&#39;t something you always want do.  Instead, allow the caller to decide when it&#39;s best to do this.\r\n\r\nAs a side note, updating the UI update it&#39;s been made visible will require you to call `revalidate` and `repaint` to ensure that a new layout and paint pass are executed, which is why I suggest not doing it in the constructor.\r\n\r\nAlso, beware, not all look and feels may support setting a text component to transparent (they may choose to ignore it) and getting around this won&#39;t be easy.\r\n\r\nIf you prefer to support translucent backgrounds, then you&#39;re going to need to fake it, for example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSlider;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.border.CompoundBorder;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.LineBorder;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() throws IOException {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                FancyPancyTextField tf = new FancyPancyTextField();\r\n                tf.setColumns(20);\r\n                tf.setText(&quot;This is some text&quot;);\r\n\r\n                JSlider slider = new JSlider(0, 100, 100);\r\n\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                add(tf, gbc);\r\n                add(slider, gbc);\r\n\r\n                slider.addChangeListener(new ChangeListener() {\r\n                    @Override\r\n                    public void stateChanged(ChangeEvent e) {\r\n                        float value = (float)slider.getValue() / 100f;\r\n                        tf.setAlpha(value);\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        public class FancyPancyTextField extends JTextField {\r\n\r\n            private float alpha = 1;\r\n            private Color desiredBackgroundColor;\r\n\r\n            public FancyPancyTextField() {\r\n                setOpaque(false);\r\n                desiredBackgroundColor = getBackground();\r\n                setBorder(new CompoundBorder(new LineBorder(Color.LIGHT_GRAY), new EmptyBorder(2, 2, 2, 2)));\r\n            }\r\n\r\n            public void setAlpha(float alpha) {\r\n                if (alpha == this.alpha) {\r\n                    return;\r\n                }\r\n                this.alpha = alpha;\r\n                Color background = getBackground();\r\n                desiredBackgroundColor = new Color(\r\n                        background.getRed(), \r\n                        background.getGreen(), \r\n                        background.getBlue(), \r\n                        (int)(255 * alpha)\r\n                );\r\n                repaint();\r\n            }\r\n\r\n            public float getAlpha() {\r\n                return alpha;\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(desiredBackgroundColor);\r\n                g2d.fillRect(0, 0, getWidth(), getHeight());\r\n                super.paintComponent(g);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nNow, please beware, &quot;user acceptance&quot; is a hard thing to achieve.  Users don&#39;t care about what you think is &quot;cool&quot;, they care about how easy your UI is to use.  Spend more time focusing on making your interface intuitive, easy to understand and navigable, users will find that more &quot;cool&quot; then most of what you &quot;visually&quot; consider cool.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i74DI.gif","title":"GUI Artifacts when trying to run a form from main method in Java","body":"<p>Swing components do not support alpha based colors, a Swing component is either full opaque or fully transparent.</p>\n<p>You should be using <code>setOpaque(false)</code> over <code>setBackground(new java.awt.Color(0,0,0,1))</code></p>\n<p>I would also recommend against extending directly from <code>JFrame</code>, it's locking you into a single use case.  You should also avoid calling <code>setVisible</code> in the constructor, this is generally consider a &quot;side effect&quot; and isn't something you always want do.  Instead, allow the caller to decide when it's best to do this.</p>\n<p>As a side note, updating the UI update it's been made visible will require you to call <code>revalidate</code> and <code>repaint</code> to ensure that a new layout and paint pass are executed, which is why I suggest not doing it in the constructor.</p>\n<p>Also, beware, not all look and feels may support setting a text component to transparent (they may choose to ignore it) and getting around this won't be easy.</p>\n<p>If you prefer to support translucent backgrounds, then you're going to need to fake it, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/i74DI.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i74DI.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JSlider;\nimport javax.swing.JTextField;\nimport javax.swing.border.CompoundBorder;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() throws IOException {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            FancyPancyTextField tf = new FancyPancyTextField();\n            tf.setColumns(20);\n            tf.setText(&quot;This is some text&quot;);\n\n            JSlider slider = new JSlider(0, 100, 100);\n\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            add(tf, gbc);\n            add(slider, gbc);\n\n            slider.addChangeListener(new ChangeListener() {\n                @Override\n                public void stateChanged(ChangeEvent e) {\n                    float value = (float)slider.getValue() / 100f;\n                    tf.setAlpha(value);\n                }\n            });\n        }\n\n    }\n\n    public class FancyPancyTextField extends JTextField {\n\n        private float alpha = 1;\n        private Color desiredBackgroundColor;\n\n        public FancyPancyTextField() {\n            setOpaque(false);\n            desiredBackgroundColor = getBackground();\n            setBorder(new CompoundBorder(new LineBorder(Color.LIGHT_GRAY), new EmptyBorder(2, 2, 2, 2)));\n        }\n\n        public void setAlpha(float alpha) {\n            if (alpha == this.alpha) {\n                return;\n            }\n            this.alpha = alpha;\n            Color background = getBackground();\n            desiredBackgroundColor = new Color(\n                    background.getRed(), \n                    background.getGreen(), \n                    background.getBlue(), \n                    (int)(255 * alpha)\n            );\n            repaint();\n        }\n\n        public float getAlpha() {\n            return alpha;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(desiredBackgroundColor);\n            g2d.fillRect(0, 0, getWidth(), getHeight());\n            super.paintComponent(g);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Now, please beware, &quot;user acceptance&quot; is a hard thing to achieve.  Users don't care about what you think is &quot;cool&quot;, they care about how easy your UI is to use.  Spend more time focusing on making your interface intuitive, easy to understand and navigable, users will find that more &quot;cool&quot; then most of what you &quot;visually&quot; consider cool.</p>\n"}],"owner":{"account_id":16351685,"reputation":3,"user_id":11810035,"display_name":"Sahand"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76125267,"answer_count":1,"score":-1,"last_activity_date":1682688134,"creation_date":1682630122,"question_id":76124728,"body_markdown":"I want to run a form from another package in the default packages main method.\r\n```\r\n// default package\r\npackage com.salesmanagement.system\r\n\r\n// imported package\r\nimport loginForm.*;\r\n\r\n// Main class\r\npublic class SalesManagementSystem {\r\n    public static void main(String[] args) {\r\n    Login login = new Login();\r\n    }\r\n}\r\n\r\n// the other package\r\npackage LoginForm;\r\nimport com.salesmanagement.system\r\n\r\npublic class Login extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form loginForm\r\n     */\r\n    public Login() {\r\n        initComponents();\r\n        setVisible(true);\r\n        setLocationRelativeTo(null);\r\n        emailtxt.setBackground(new java.awt.Color(0,0,0,1));\r\n        passwordtxt.setBackground(new java.awt.Color(0,0,0,1));\r\n    }\r\n}\r\n\r\n```\r\n\r\nwhen I run the form from the default package main method I will have UI artifacts:\r\n[running the code from the main method of default package](https://i.stack.imgur.com/Fnp7Y.png)\r\n\r\nwhen I set the `loginForum` package as the main class it doesn&#39;t have any problem:\r\n[running the code from package&#39;s main method](https://i.stack.imgur.com/vkLH9.png)\r\n\r\nany idea?\r\n\r\nthanks.","title":"GUI Artifacts when trying to run a form from main method in Java","body":"<p>I want to run a form from another package in the default packages main method.</p>\n<pre><code>// default package\npackage com.salesmanagement.system\n\n// imported package\nimport loginForm.*;\n\n// Main class\npublic class SalesManagementSystem {\n    public static void main(String[] args) {\n    Login login = new Login();\n    }\n}\n\n// the other package\npackage LoginForm;\nimport com.salesmanagement.system\n\npublic class Login extends javax.swing.JFrame {\n\n    /**\n     * Creates new form loginForm\n     */\n    public Login() {\n        initComponents();\n        setVisible(true);\n        setLocationRelativeTo(null);\n        emailtxt.setBackground(new java.awt.Color(0,0,0,1));\n        passwordtxt.setBackground(new java.awt.Color(0,0,0,1));\n    }\n}\n\n</code></pre>\n<p>when I run the form from the default package main method I will have UI artifacts:\n<a href=\"https://i.stack.imgur.com/Fnp7Y.png\" rel=\"nofollow noreferrer\">running the code from the main method of default package</a></p>\n<p>when I set the <code>loginForum</code> package as the main class it doesn't have any problem:\n<a href=\"https://i.stack.imgur.com/vkLH9.png\" rel=\"nofollow noreferrer\">running the code from package's main method</a></p>\n<p>any idea?</p>\n<p>thanks.</p>\n"},{"tags":["java","arrays","string","netbeans","jframe"],"comments":[{"owner":{"account_id":28443234,"reputation":9,"user_id":21762311,"display_name":"brithy carvajal"},"score":0,"creation_date":1682670503,"post_id":76127677,"comment_id":134255448,"body_markdown":"Well, I just noticed that I can&#39;t leave the code later","body":"Well, I just noticed that I can&#39;t leave the code later"}],"owner":{"account_id":28443234,"reputation":9,"user_id":21762311,"display_name":"brithy carvajal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1077,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682688115,"creation_date":1682670416,"question_id":76127677,"body_markdown":"I&#39;m developing an object-oriented Netbeans application. \r\n\r\nMy J Internal Frame is giving a problem that says: \r\n\r\n&gt; class `java.util.ArrayList` cannot be cast to class `model.servicecls` (`java.util.ArrayList` is in module `java.base` of loader &#39;bootstrap&#39;; `model.servicecls` is in unnamed module of loader &#39;app&#39;)&quot; \r\n\r\nI&#39;m just trying to log and save information to a Jtable but doing so doesn&#39;t save or project anything to that Jtable. \r\n\r\nIn other Form it does work, so I have the assumption that it is because of the combo box but I can&#39;t solve it. I will leave my jframe code and its respective save class to which it is linked.\r\n\r\n","title":"java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; model.servicecls is in unnamed module of loader &#39;app&#39;","body":"<p>I'm developing an object-oriented Netbeans application.</p>\n<p>My J Internal Frame is giving a problem that says:</p>\n<blockquote>\n<p>class <code>java.util.ArrayList</code> cannot be cast to class <code>model.servicecls</code> (<code>java.util.ArrayList</code> is in module <code>java.base</code> of loader 'bootstrap'; <code>model.servicecls</code> is in unnamed module of loader 'app')&quot;</p>\n</blockquote>\n<p>I'm just trying to log and save information to a Jtable but doing so doesn't save or project anything to that Jtable.</p>\n<p>In other Form it does work, so I have the assumption that it is because of the combo box but I can't solve it. I will leave my jframe code and its respective save class to which it is linked.</p>\n"},{"tags":["java","maven","dependencies","jlink"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1682690582,"post_id":76129911,"comment_id":134259871,"body_markdown":"You might want to consider using the [java.net.http](https://docs.oracle.com/en/java/javase/20/docs/api/java.net.http/java/net/http/package-summary.html) package instead of Apache httpcore.","body":"You might want to consider using the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.net.http/java/net/http/package-summary.html\" rel=\"nofollow noreferrer\">java.net.http</a> package instead of Apache httpcore."}],"owner":{"account_id":13705919,"reputation":23,"user_id":9889547,"display_name":"void"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682687381,"creation_date":1682687381,"question_id":76129911,"body_markdown":"I&#39;m trying to use jlink to create a custom JRE for my Maven project using the following command:\r\n\r\n```\r\nmvn clean javafx:jlink\r\n```\r\nHowever, I&#39;m getting the following error:\r\n```\r\nError: automatic module cannot be used with jlink: org.apache.httpcomponents.httpcore from file:///C:/Users/user/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar\r\n```\r\nI have already tried adding the following to my pom.xml file, but it didn&#39;t help:\r\n```\r\n&lt;configuration&gt;\r\n    &lt;automaticModuleName&gt;true&lt;/automaticModuleName&gt;\r\n&lt;/configuration&gt;\r\n```\r\nMy pom file looks like this:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.project&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;com.project&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Project&lt;/name&gt;\r\n\t&lt;description&gt;project&lt;/description&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0-alpha.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0-alpha.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.dom4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;17&lt;/release&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.0.8&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;com.project.gui.Main&lt;/mainClass&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-httpcore&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;artifactItems&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactItem&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;version&gt;4.4.13&lt;/version&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;overWrite&gt;true&lt;/overWrite&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/jlinkbase/lib&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t\t&lt;/artifactItem&gt;\r\n\t\t\t\t\t\t\t&lt;/artifactItems&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nthis is my module-info.java:\r\n```\r\nmodule project {\r\n\trequires transitive java.desktop;\r\n\trequires javafx.base;\r\n\trequires javafx.controls;\r\n\trequires javafx.fxml;\r\n\trequires transitive javafx.graphics;\r\n\trequires javafx.swing;\r\n\trequires okhttp3;\r\n\trequires okio;\r\n\trequires com.fasterxml.jackson.databind;\r\n\trequires org.apache.httpcomponents.httpcore;\r\n\trequires org.apache.httpcomponents.httpclient;\r\n\trequires java.base;\r\n\trequires org.apache.httpcomponents.httpmime;\r\n\trequires org.apache.commons.codec;\r\n\trequires java.xml;\r\n\trequires java.net.http;\r\n\t\r\n\topens com.project.gui;\r\n\topens com.project.gui.controllers;\r\n\topens com.project.utils;\r\n\topens com.project.logic;\r\n\topens com.project.pojos;\r\n\topens com.project.pojos.actions;\r\n}\r\n```\r\nHow can I resolve this issue and successfully create a custom JRE for my Maven project using jlink?","title":"Error using jlink with automatic module in Maven project","body":"<p>I'm trying to use jlink to create a custom JRE for my Maven project using the following command:</p>\n<pre><code>mvn clean javafx:jlink\n</code></pre>\n<p>However, I'm getting the following error:</p>\n<pre><code>Error: automatic module cannot be used with jlink: org.apache.httpcomponents.httpcore from file:///C:/Users/user/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar\n</code></pre>\n<p>I have already tried adding the following to my pom.xml file, but it didn't help:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;automaticModuleName&gt;true&lt;/automaticModuleName&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>My pom file looks like this:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.project&lt;/groupId&gt;\n    &lt;artifactId&gt;com.project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Project&lt;/name&gt;\n    &lt;description&gt;project&lt;/description&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0-alpha.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n            &lt;artifactId&gt;okio&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-alpha.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n            &lt;version&gt;5.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n            &lt;version&gt;4.5.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dom4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n            &lt;version&gt;2.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.project.gui.Main&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-httpcore&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n                                    &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n                                    &lt;version&gt;4.4.13&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                    &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                    &lt;outputDirectory&gt;${project.build.directory}/jlinkbase/lib&lt;/outputDirectory&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>this is my module-info.java:</p>\n<pre><code>module project {\n    requires transitive java.desktop;\n    requires javafx.base;\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires transitive javafx.graphics;\n    requires javafx.swing;\n    requires okhttp3;\n    requires okio;\n    requires com.fasterxml.jackson.databind;\n    requires org.apache.httpcomponents.httpcore;\n    requires org.apache.httpcomponents.httpclient;\n    requires java.base;\n    requires org.apache.httpcomponents.httpmime;\n    requires org.apache.commons.codec;\n    requires java.xml;\n    requires java.net.http;\n    \n    opens com.project.gui;\n    opens com.project.gui.controllers;\n    opens com.project.utils;\n    opens com.project.logic;\n    opens com.project.pojos;\n    opens com.project.pojos.actions;\n}\n</code></pre>\n<p>How can I resolve this issue and successfully create a custom JRE for my Maven project using jlink?</p>\n"},{"tags":["java","spotbugs"],"comments":[{"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"score":0,"creation_date":1682662508,"post_id":76126709,"comment_id":134253816,"body_markdown":"Seems reasonable approach as you know the use-case.","body":"Seems reasonable approach as you know the use-case."},{"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"score":1,"creation_date":1682662785,"post_id":76126709,"comment_id":134253874,"body_markdown":"Suggestion: You can use concurrent hashmap for multi-threaded environment.","body":"Suggestion: You can use concurrent hashmap for multi-threaded environment."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1682665183,"post_id":76126709,"comment_id":134254357,"body_markdown":"@doptimusprime: It&#39;s absolutely *not* a reasonable approach, given that `LinkedHashMap` isn&#39;t thread-safe.","body":"@doptimusprime: It&#39;s absolutely <i>not</i> a reasonable approach, given that <code>LinkedHashMap</code> isn&#39;t thread-safe."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1682665623,"post_id":76126709,"comment_id":134254449,"body_markdown":"i think there was some library that offered a concurrentlinkedhashmap you can check it out and see if it fits your needs https://cayenne.apache.org/docs/3.1/api/org/apache/cayenne/util/concurrentlinkedhashmap/ConcurrentLinkedHashMap.html","body":"i think there was some library that offered a concurrentlinkedhashmap you can check it out and see if it fits your needs <a href=\"https://cayenne.apache.org/docs/3.1/api/org/apache/cayenne/util/concurrentlinkedhashmap/ConcurrentLinkedHashMap.html\" rel=\"nofollow noreferrer\">cayenne.apache.org/docs/3.1/api/org/apache/cayenne/util/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682686862,"creation_date":1682662676,"answer_id":76126748,"question_id":76126709,"body_markdown":"IMHO you can suppress the warning.\r\n\r\nAlternatively, you can do the following:\r\n\r\nInstead of providing `getter` to this instance, you can provide public methods like `get` or `add` which will use this `Map`. It means, threads will not have direct access to your hashmap, but only through the method. In this way, you need not to suppress the warning.","title":"Share a single instance of LinkedHashMap in Multithreaded environiment","body":"<p>IMHO you can suppress the warning.</p>\n<p>Alternatively, you can do the following:</p>\n<p>Instead of providing <code>getter</code> to this instance, you can provide public methods like <code>get</code> or <code>add</code> which will use this <code>Map</code>. It means, threads will not have direct access to your hashmap, but only through the method. In this way, you need not to suppress the warning.</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682686788,"creation_date":1682663371,"answer_id":76126806,"question_id":76126709,"body_markdown":"The whole approach is faulty!\r\n\r\nYou synchronised the creation of the map, but then your getter returns it to the wild, where the access to it is not forced to be synchronised  knowing that it is used by different threads!! Bad idea!\r\n\r\nYou need to omit the getter and setter; instead you create the map in the constructor and provide methods that modify it  this way you have always full control about the manipulation of the map.\r\n\r\nIf you need the contents of the map somewhere, you write a &#39;getter&#39; like this:\r\n```Java\r\npublic final Map&lt;Long,String&gt; obtainMapContents()\r\n{\r\n  return new LinkedHashMap&lt;&gt;( myMap );\r\n\r\n  // Or if you do not need the semantics of LinkedHashMap:\r\n  // return Map.copyOf( myMap );\r\n}\r\n```\r\nOf course, this may need synchronisation, too. So if you always use the instance as monitor (`this`), you *can* write\r\n```Java\r\npublic synchronized final Map&lt;Long,String&gt; obtainMapContents()\r\n{\r\n  return new LinkedHashMap&lt;&gt;( myMap );\r\n\r\n  // Or if you do not need the semantics of LinkedHashMap:\r\n  // return Map.copyOf( myMap );\r\n}\r\n```\r\nbut this has other drawbacks.\r\n\r\nThe most sophisticated solution would use `ReentrantReadWriteLock` instances and looks like this:\r\n```Java\r\npublic final class MyClassWithAMap\r\n{\r\n  private final Map&lt;Long,String&gt; m_Map = new LinkedHashMap&lt;&gt;();\r\n  private final ReadLock m_ReadLock;\r\n  private final WriteLock m_WriteLock;\r\n\r\n  public MyClassWithAMap()\r\n  {\r\n    final var lock = new ReentrantReadWriteLock();\r\n    m_ReadLock = lock.readLock();\r\n    m_WriteLock = lock.writeLock();\r\n  }\r\n\r\n  public final void addEntry( final Long long, final String string )\r\n  {\r\n    m_WriteLock.lock();\r\n    try\r\n    {\r\n      m_Map.put( long, string );\r\n      m_WriteLock.unlock();\r\n    }\r\n  }\r\n\r\n  public final String getEntry( final Long long )\r\n  {\r\n    String retValue = null;\r\n    m_ReadLock.lock();\r\n    try\r\n    {\r\n      retValue = m_Map.get( long );\r\n      m_ReadLock.unlock();\r\n    }\r\n    return retValue;\r\n  }\r\n\r\n  public final Map&lt;Long,String&gt; getEntries()\r\n  {\r\n    final Map&lt;Long,String&gt; retValue;\r\n    m_ReadLock.lock();\r\n    try\r\n    {\r\n      retValue = new LinkedHashMap&lt;&gt;( m_Map );\r\n      m_ReadLock.unlock();\r\n    }\r\n    return retValue;\r\n  }\r\n\r\n  public final String removeEntry( final Long long )\r\n  {\r\n    String retValue = null;\r\n    m_WriteLock.lock();\r\n    try\r\n    {\r\n      retValue = m_Map.delete( long );\r\n      m_WriteLock.unlock();\r\n    }\r\n    return retValue;\r\n  }\r\n}\r\n```\r\nbut it also might be overkill for your use case.","title":"Share a single instance of LinkedHashMap in Multithreaded environiment","body":"<p>The whole approach is faulty!</p>\n<p>You synchronised the creation of the map, but then your getter returns it to the wild, where the access to it is not forced to be synchronised  knowing that it is used by different threads!! Bad idea!</p>\n<p>You need to omit the getter and setter; instead you create the map in the constructor and provide methods that modify it  this way you have always full control about the manipulation of the map.</p>\n<p>If you need the contents of the map somewhere, you write a 'getter' like this:</p>\n<pre><code>public final Map&lt;Long,String&gt; obtainMapContents()\n{\n  return new LinkedHashMap&lt;&gt;( myMap );\n\n  // Or if you do not need the semantics of LinkedHashMap:\n  // return Map.copyOf( myMap );\n}\n</code></pre>\n<p>Of course, this may need synchronisation, too. So if you always use the instance as monitor (<code>this</code>), you <em>can</em> write</p>\n<pre><code>public synchronized final Map&lt;Long,String&gt; obtainMapContents()\n{\n  return new LinkedHashMap&lt;&gt;( myMap );\n\n  // Or if you do not need the semantics of LinkedHashMap:\n  // return Map.copyOf( myMap );\n}\n</code></pre>\n<p>but this has other drawbacks.</p>\n<p>The most sophisticated solution would use <code>ReentrantReadWriteLock</code> instances and looks like this:</p>\n<pre><code>public final class MyClassWithAMap\n{\n  private final Map&lt;Long,String&gt; m_Map = new LinkedHashMap&lt;&gt;();\n  private final ReadLock m_ReadLock;\n  private final WriteLock m_WriteLock;\n\n  public MyClassWithAMap()\n  {\n    final var lock = new ReentrantReadWriteLock();\n    m_ReadLock = lock.readLock();\n    m_WriteLock = lock.writeLock();\n  }\n\n  public final void addEntry( final Long long, final String string )\n  {\n    m_WriteLock.lock();\n    try\n    {\n      m_Map.put( long, string );\n      m_WriteLock.unlock();\n    }\n  }\n\n  public final String getEntry( final Long long )\n  {\n    String retValue = null;\n    m_ReadLock.lock();\n    try\n    {\n      retValue = m_Map.get( long );\n      m_ReadLock.unlock();\n    }\n    return retValue;\n  }\n\n  public final Map&lt;Long,String&gt; getEntries()\n  {\n    final Map&lt;Long,String&gt; retValue;\n    m_ReadLock.lock();\n    try\n    {\n      retValue = new LinkedHashMap&lt;&gt;( m_Map );\n      m_ReadLock.unlock();\n    }\n    return retValue;\n  }\n\n  public final String removeEntry( final Long long )\n  {\n    String retValue = null;\n    m_WriteLock.lock();\n    try\n    {\n      retValue = m_Map.delete( long );\n      m_WriteLock.unlock();\n    }\n    return retValue;\n  }\n}\n</code></pre>\n<p>but it also might be overkill for your use case.</p>\n"},{"tags":[],"owner":{"account_id":2557352,"reputation":361,"user_id":2219041,"display_name":"Abhinaba Basu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682668848,"creation_date":1682668848,"answer_id":76127448,"question_id":76126709,"body_markdown":"You can use a wrapper over the map instead of returning the map directly. This way you wont expose the map. \r\n\r\n    Map&lt;String, String&gt; test = new HashMap&lt;&gt;();\r\n    \r\n    public String get(String key){\r\n    \treturn test.get(key);\r\n    }\r\n(just a example test code w/o null or any other checks)","title":"Share a single instance of LinkedHashMap in Multithreaded environiment","body":"<p>You can use a wrapper over the map instead of returning the map directly. This way you wont expose the map.</p>\n<pre><code>Map&lt;String, String&gt; test = new HashMap&lt;&gt;();\n\npublic String get(String key){\n    return test.get(key);\n}\n</code></pre>\n<p>(just a example test code w/o null or any other checks)</p>\n"}],"owner":{"account_id":28442148,"reputation":21,"user_id":21761363,"display_name":"neha chawla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1682686862,"creation_date":1682662276,"question_id":76126709,"body_markdown":"I need to initialize a single instance of `LinkedHashMap` while starting my `SpringBoot` application .I tried to initialize the same in the following way\r\n\r\n```\r\n@Getter\r\n private Map&lt;Long, String&gt; myMap;\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) {\r\n            synchronized (this) {\r\n                if (null == myMap) {\r\n                    myMap = new LinkedHashMap&lt;&gt;();\r\n                }\r\n            }\r\n\r\n    }\r\n```\r\n My static code analysis tool ` spotbugs` reported the following  \r\n`EI: May expose internal representation by returning reference to mutable object`\r\n\r\n\r\n\r\nI cannot return the copy of `LinkedHashMap` since it needs to be shared among all the threads. So I decided to supress warning . Is this approach correct or is there any other efficient way?","title":"Share a single instance of LinkedHashMap in Multithreaded environiment","body":"<p>I need to initialize a single instance of <code>LinkedHashMap</code> while starting my <code>SpringBoot</code> application .I tried to initialize the same in the following way</p>\n<pre><code>@Getter\n private Map&lt;Long, String&gt; myMap;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) {\n            synchronized (this) {\n                if (null == myMap) {\n                    myMap = new LinkedHashMap&lt;&gt;();\n                }\n            }\n\n    }\n</code></pre>\n<p>My static code analysis tool <code> spotbugs</code> reported the following<br />\n<code>EI: May expose internal representation by returning reference to mutable object</code></p>\n<p>I cannot return the copy of <code>LinkedHashMap</code> since it needs to be shared among all the threads. So I decided to supress warning . Is this approach correct or is there any other efficient way?</p>\n"},{"tags":["java","spring-boot","jpa","junit","h2"],"owner":{"account_id":15062579,"reputation":396,"user_id":10870798,"display_name":"kinnu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682686652,"creation_date":1682671967,"question_id":76127866,"body_markdown":"I&#39;m trying to write `JUnit` using embedded `h2` in memory `db`. We are using `MS SQL` for live connection.\r\n\r\nBelow are the files.\r\n\r\n*application.properties*:\r\n\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n    spring.datasource.user=sa\r\n    spring.datasource.password=\r\n    spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=true;MODE=MySQL\r\n    spring.h2.console.enabled=true\r\n    spring.jpa.defer-datasource-initialization=true\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\n*test class*:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = {SqlServerConfig.class },loader = AnnotationConfigContextLoader.class)\r\n    @Transactional\r\n    @AutoConfigureTestDatabase\r\n    @Rollback\r\n    public class JPACriteriaQueryTest {\r\n    \r\n        @Autowired\r\n        private CategoryRepository categoryRepository;\r\n    \r\n        private Category category;\r\n    \r\n    \r\n    \r\n        @Test\r\n        public void givenFirstAndLastName_whenGettingListOfUsers_thenCorrect() {\r\n            Category category=new Category();\r\n            category.id(&quot;10&quot;);\r\n            category.setDeptId(&quot;21031&quot;);\r\n            category.repType(&quot;7&quot;);\r\n            category.save(category);\r\n    \r\n    }}\r\n\r\n\r\nsave method over here is throwing exception \r\n\r\n\r\n    org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\r\n    \tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2122)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2059)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:956)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:327)\r\n    \tat org.hibernate.loader.Loader.loadEntity(Loader.java:2440)\r\n            \r\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CATEGORY&quot; not found (this database is empty); SQL statement:\r\n\r\nI have checked my entity and there is no usage of any reserved `SQL` keyword.\r\n\r\nCan anyone, please, help on this.","title":"Spring Boot H2 db for testing throws &quot;Table not found(this database is empty)&quot; and &quot;SQLGrammarException&quot;","body":"<p>I'm trying to write <code>JUnit</code> using embedded <code>h2</code> in memory <code>db</code>. We are using <code>MS SQL</code> for live connection.</p>\n<p>Below are the files.</p>\n<p><em>application.properties</em>:</p>\n<pre><code>spring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.user=sa\nspring.datasource.password=\nspring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=true;MODE=MySQL\nspring.h2.console.enabled=true\nspring.jpa.defer-datasource-initialization=true\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p><em>test class</em>:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {SqlServerConfig.class },loader = AnnotationConfigContextLoader.class)\n@Transactional\n@AutoConfigureTestDatabase\n@Rollback\npublic class JPACriteriaQueryTest {\n\n    @Autowired\n    private CategoryRepository categoryRepository;\n\n    private Category category;\n\n\n\n    @Test\n    public void givenFirstAndLastName_whenGettingListOfUsers_thenCorrect() {\n        Category category=new Category();\n        category.id(&quot;10&quot;);\n        category.setDeptId(&quot;21031&quot;);\n        category.repType(&quot;7&quot;);\n        category.save(category);\n\n}}\n</code></pre>\n<p>save method over here is throwing exception</p>\n<pre><code>org.hibernate.exception.SQLGrammarException: could not prepare statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2122)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2059)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:956)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:327)\n    at org.hibernate.loader.Loader.loadEntity(Loader.java:2440)\n        \nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CATEGORY&quot; not found (this database is empty); SQL statement:\n</code></pre>\n<p>I have checked my entity and there is no usage of any reserved <code>SQL</code> keyword.</p>\n<p>Can anyone, please, help on this.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1682081562,"post_id":76073296,"comment_id":134163765,"body_markdown":"You want to create multiple schools? Grouped by students? So ... `.groupBy`?","body":"You want to create multiple schools? Grouped by students? So ... <code>.groupBy</code>?"},{"owner":{"account_id":452919,"reputation":3460,"user_id":849632,"accept_rate":85,"display_name":"Arun"},"score":0,"creation_date":1682081624,"post_id":76073296,"comment_id":134163778,"body_markdown":"I want to create just one school object finally","body":"I want to create just one school object finally"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682083960,"post_id":76073296,"comment_id":134164356,"body_markdown":"Just an aside: I think code readability is more important/useful than avoiding that `forEach`.","body":"Just an aside: I think code readability is more important/useful than avoiding that <code>forEach</code>."},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1682084800,"post_id":76073296,"comment_id":134164563,"body_markdown":"I think what you want is a collect, not a reduce.","body":"I think what you want is a collect, not a reduce."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1682085070,"post_id":76073296,"comment_id":134164647,"body_markdown":"Create the filtered list and then do `MySchool.getStudents().addAll(theFilteredList);` What am I missing?","body":"Create the filtered list and then do <code>MySchool.getStudents().addAll(theFilteredList);</code> What am I missing?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1682086567,"post_id":76073296,"comment_id":134165038,"body_markdown":"Not exactly related, but keeping count in instance variable `studentCount` is unnecessary complication. You can always get the count using `this.students.size()`.","body":"Not exactly related, but keeping count in instance variable <code>studentCount</code> is unnecessary complication. You can always get the count using <code>this.students.size()</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1682332741,"post_id":76073296,"comment_id":134193054,"body_markdown":"@Chaosfire indeed and even if the OP insists on maintaing the redundant counter, the `addStudent` method should take care to increment the counter, instead of relying on the caller to always perform matching `addStudent` and `addStudentCount` calls.","body":"@Chaosfire indeed and even if the OP insists on maintaing the redundant counter, the <code>addStudent</code> method should take care to increment the counter, instead of relying on the caller to always perform matching <code>addStudent</code> and <code>addStudentCount</code> calls."}],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682085572,"creation_date":1682085572,"answer_id":76073907,"question_id":76073296,"body_markdown":"**DISCLAIMER**: I&#39;d not use this method in production code. I&#39;d favor readability and maintainability over anything else. Use with caution.\r\n\r\nI&#39;d also look at the design of the MySchool class to make it more flexible for example. It can for example accept a `Stream` or a `List` in its constructor.\r\n\r\n---\r\n\r\n\r\nYou can use a `Collector` for this. It only creates an intermediary `List`.\r\n\r\n```java\r\npublic static class MySchoolCollector implements Collector&lt;Student, List&lt;Student&gt;, MySchool&gt; {\r\n\r\n    private static final MySchoolCollector INSTANCE = new MySchoolCollector();\r\n\r\n    @Override\r\n    public Supplier&lt;List&lt;Student&gt;&gt; supplier() {\r\n        return ArrayList::new;\r\n    }\r\n\r\n    @Override\r\n    public BiConsumer&lt;List&lt;Student&gt;, Student&gt; accumulator() {\r\n        return List::add;\r\n    }\r\n\r\n    @Override\r\n    public BinaryOperator&lt;List&lt;Student&gt;&gt; combiner() {\r\n        return (l1, l2) -&gt; {\r\n            l1.addAll(l2);\r\n            return l1;\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public Function&lt;List&lt;Student&gt;, MySchool&gt; finisher() {\r\n        return studentsList -&gt; {\r\n            MySchool mySchool = new MySchool();\r\n            studentsList.forEach(mySchool::addStudent);\r\n            studentsList.forEach(student -&gt; mySchool.addStudentCount());\r\n            return mySchool;\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Characteristics&gt; characteristics() {\r\n        return Set.of(UNORDERED);\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhich you can use like this\r\n\r\n```\r\nMySchool school = students.stream()\r\n        .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\r\n        .collect(MySchoolCollector.INSTANCE);\r\n\r\nSystem.out.println(school);\r\n```","title":"Reduce a stream to single object without multiple object creation and explicit mutation","body":"<p><strong>DISCLAIMER</strong>: I'd not use this method in production code. I'd favor readability and maintainability over anything else. Use with caution.</p>\n<p>I'd also look at the design of the MySchool class to make it more flexible for example. It can for example accept a <code>Stream</code> or a <code>List</code> in its constructor.</p>\n<hr />\n<p>You can use a <code>Collector</code> for this. It only creates an intermediary <code>List</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class MySchoolCollector implements Collector&lt;Student, List&lt;Student&gt;, MySchool&gt; {\n\n    private static final MySchoolCollector INSTANCE = new MySchoolCollector();\n\n    @Override\n    public Supplier&lt;List&lt;Student&gt;&gt; supplier() {\n        return ArrayList::new;\n    }\n\n    @Override\n    public BiConsumer&lt;List&lt;Student&gt;, Student&gt; accumulator() {\n        return List::add;\n    }\n\n    @Override\n    public BinaryOperator&lt;List&lt;Student&gt;&gt; combiner() {\n        return (l1, l2) -&gt; {\n            l1.addAll(l2);\n            return l1;\n        };\n    }\n\n    @Override\n    public Function&lt;List&lt;Student&gt;, MySchool&gt; finisher() {\n        return studentsList -&gt; {\n            MySchool mySchool = new MySchool();\n            studentsList.forEach(mySchool::addStudent);\n            studentsList.forEach(student -&gt; mySchool.addStudentCount());\n            return mySchool;\n        };\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return Set.of(UNORDERED);\n    }\n}\n</code></pre>\n<p>Which you can use like this</p>\n<pre><code>MySchool school = students.stream()\n        .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\n        .collect(MySchoolCollector.INSTANCE);\n\nSystem.out.println(school);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":452919,"reputation":3460,"user_id":849632,"accept_rate":85,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682686548,"creation_date":1682686548,"answer_id":76129802,"question_id":76073296,"body_markdown":"I was able to achieve this by using [`Collectors.teeing()`][1] API\r\n\r\n```java\r\nMySchool mySchool = allStudents.stream()\r\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\r\n                .collect(\r\n                        Collectors.teeing(\r\n                                Collectors.toList(),\r\n                                Collectors.counting(),\r\n                                mySchool()\r\n                        ));\r\n```\r\n\r\nAnd this is my Merger Bi-Function\r\n\r\n```java\r\nprivate BiFunction&lt;List&lt;Student&gt;, Long, MySchool&gt; mySchool() {\r\n\r\n        return (students, count) -&gt; {\r\n            var mySchool = new MySchool();\r\n            mySchool.addAllStudents(students);\r\n            mySchool.addStudentCount(count.intValue());\r\n            return mySchool;\r\n        };\r\n    }\r\n```\r\n\r\nTeeing is where I get two inputs and giving a merger function will merge and give back the desired result.\r\n\r\nAbsolutely excellent !!\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)","title":"Reduce a stream to single object without multiple object creation and explicit mutation","body":"<p>I was able to achieve this by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collectors.teeing()</code></a> API</p>\n<pre class=\"lang-java prettyprint-override\"><code>MySchool mySchool = allStudents.stream()\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\n                .collect(\n                        Collectors.teeing(\n                                Collectors.toList(),\n                                Collectors.counting(),\n                                mySchool()\n                        ));\n</code></pre>\n<p>And this is my Merger Bi-Function</p>\n<pre class=\"lang-java prettyprint-override\"><code>private BiFunction&lt;List&lt;Student&gt;, Long, MySchool&gt; mySchool() {\n\n        return (students, count) -&gt; {\n            var mySchool = new MySchool();\n            mySchool.addAllStudents(students);\n            mySchool.addStudentCount(count.intValue());\n            return mySchool;\n        };\n    }\n</code></pre>\n<p>Teeing is where I get two inputs and giving a merger function will merge and give back the desired result.</p>\n<p>Absolutely excellent !!</p>\n"}],"owner":{"account_id":452919,"reputation":3460,"user_id":849632,"accept_rate":85,"display_name":"Arun"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76129802,"answer_count":2,"score":1,"last_activity_date":1682686548,"creation_date":1682081083,"question_id":76073296,"body_markdown":"I want to create an aggregate object after streaming a collection of incoming object. But what I want is to not create a reference outside the stream and mutate that object &quot;explicitly&quot;. \r\n\r\nLet&#39;s take this scenario. I get a list of students. I want to stream the list and collect only certain elements and form a aggregate object named `MySchool`\r\n\r\n```java\r\npublic record Student(String name, String section, String schoolName) {\r\n}\r\n\r\nList&lt;Student&gt; students =\r\n\r\n                List.of(\r\n                        new Student(&quot;John&quot;, &quot;2&quot;, &quot;Holy school&quot;),\r\n                        new Student(&quot;Raghav&quot;, &quot;8&quot;, &quot;California school&quot;),\r\n                        new Student(&quot;Prem&quot;, &quot;5&quot;, &quot;Holy school&quot;),\r\n                        new Student(&quot;Peter&quot;, &quot;7&quot;, &quot;California school&quot;),\r\n                        new Student(&quot;Akbar&quot;, &quot;9&quot;, &quot;Arun school&quot;),\r\n                        new Student(&quot;Ashok&quot;, &quot;6&quot;, &quot;Arun school&quot;),\r\n                        new Student(&quot;Arun&quot;, &quot;4&quot;, &quot;Arun school&quot;),\r\n                        new Student(&quot;Ram&quot;, &quot;2&quot;, &quot;Arun school&quot;),\r\n                        new Student(&quot;James&quot;, &quot;2&quot;, &quot;California school&quot;)\r\n                );\r\n\r\npublic class MySchool {\r\n\r\n    private List&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\r\n\r\n    private int studentCount = 0;\r\n\r\n    public MySchool addStudent(Student student) {\r\n        this.students.add(student);\r\n        return this;\r\n    }\r\n\r\n    public List&lt;Student&gt; getStudents () {\r\n        return this.students;\r\n    }\r\n\r\n    public void addStudentCount() {\r\n        this.studentCount++;\r\n    }\r\n\r\n    public int getStudentCount() {\r\n        return this.studentCount;\r\n    }\r\n\r\n    \r\n}\r\n```\r\n\r\n**I don&#39;t want to do like below, where I mutate an external reference**\r\n\r\n```java\r\npublic void getMySchoolData(List&lt;Student&gt; allStudents) {\r\n\r\n        MySchool mySchool = new MySchool();\r\n\r\n        allStudents.stream()\r\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\r\n                .forEach(student -&gt; {\r\n                    mySchool.addStudent(student);\r\n                    mySchool.addStudentCount();\r\n                });\r\n\r\n\r\n        System.out.println(mySchool);\r\n```\r\n\r\nTo avoid doing like above, I used `reduce()` method of streams, but I ended up creating lot of `MySchool` objects\r\n\r\n```java\r\npublic void getMySchoolData1(List&lt;Student&gt; allStudents) {\r\n        Optional&lt;MySchool&gt; mySchool = allStudents.stream()\r\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\r\n                .map(this::addStudentsToSchool)\r\n                .reduce((mySchool1, mySchool2) -&gt; {\r\n                    mySchool1.combineMySchool(mySchool2);\r\n                    return mySchool1;\r\n                });\r\n\r\n        var sss = mySchool.get();\r\n\r\n        System.out.println(sss);\r\n\r\n    }\r\n\r\n\r\nprivate MySchool addStudentsToSchool(Student student) {\r\n\r\n        var mySchool = new MySchool();\r\n        mySchool.addStudent(student);\r\n        mySchool.addStudentCount();\r\n\r\n        return mySchool;\r\n    }\r\n\r\n// added this method to MySchool class\r\n\r\npublic void combineMySchool (MySchool otherSchoolObject) {\r\n        this.studentCount+= otherSchoolObject.getStudentCount();\r\n        this.students.addAll(otherSchoolObject.getStudents());\r\n\r\n    }\r\n```\r\n\r\nAs you can clearly see, I am able to successfully avoid external mutation after using `reduce()`, but I end up creating multiple objects and finally combine them and reduce\r\n\r\nIs there anyway where I can avoid multiple object creation, rather just create one object and have streams fill that for me and give back ? \r\n","title":"Reduce a stream to single object without multiple object creation and explicit mutation","body":"<p>I want to create an aggregate object after streaming a collection of incoming object. But what I want is to not create a reference outside the stream and mutate that object &quot;explicitly&quot;.</p>\n<p>Let's take this scenario. I get a list of students. I want to stream the list and collect only certain elements and form a aggregate object named <code>MySchool</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Student(String name, String section, String schoolName) {\n}\n\nList&lt;Student&gt; students =\n\n                List.of(\n                        new Student(&quot;John&quot;, &quot;2&quot;, &quot;Holy school&quot;),\n                        new Student(&quot;Raghav&quot;, &quot;8&quot;, &quot;California school&quot;),\n                        new Student(&quot;Prem&quot;, &quot;5&quot;, &quot;Holy school&quot;),\n                        new Student(&quot;Peter&quot;, &quot;7&quot;, &quot;California school&quot;),\n                        new Student(&quot;Akbar&quot;, &quot;9&quot;, &quot;Arun school&quot;),\n                        new Student(&quot;Ashok&quot;, &quot;6&quot;, &quot;Arun school&quot;),\n                        new Student(&quot;Arun&quot;, &quot;4&quot;, &quot;Arun school&quot;),\n                        new Student(&quot;Ram&quot;, &quot;2&quot;, &quot;Arun school&quot;),\n                        new Student(&quot;James&quot;, &quot;2&quot;, &quot;California school&quot;)\n                );\n\npublic class MySchool {\n\n    private List&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\n\n    private int studentCount = 0;\n\n    public MySchool addStudent(Student student) {\n        this.students.add(student);\n        return this;\n    }\n\n    public List&lt;Student&gt; getStudents () {\n        return this.students;\n    }\n\n    public void addStudentCount() {\n        this.studentCount++;\n    }\n\n    public int getStudentCount() {\n        return this.studentCount;\n    }\n\n    \n}\n</code></pre>\n<p><strong>I don't want to do like below, where I mutate an external reference</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getMySchoolData(List&lt;Student&gt; allStudents) {\n\n        MySchool mySchool = new MySchool();\n\n        allStudents.stream()\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\n                .forEach(student -&gt; {\n                    mySchool.addStudent(student);\n                    mySchool.addStudentCount();\n                });\n\n\n        System.out.println(mySchool);\n</code></pre>\n<p>To avoid doing like above, I used <code>reduce()</code> method of streams, but I ended up creating lot of <code>MySchool</code> objects</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getMySchoolData1(List&lt;Student&gt; allStudents) {\n        Optional&lt;MySchool&gt; mySchool = allStudents.stream()\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\n                .map(this::addStudentsToSchool)\n                .reduce((mySchool1, mySchool2) -&gt; {\n                    mySchool1.combineMySchool(mySchool2);\n                    return mySchool1;\n                });\n\n        var sss = mySchool.get();\n\n        System.out.println(sss);\n\n    }\n\n\nprivate MySchool addStudentsToSchool(Student student) {\n\n        var mySchool = new MySchool();\n        mySchool.addStudent(student);\n        mySchool.addStudentCount();\n\n        return mySchool;\n    }\n\n// added this method to MySchool class\n\npublic void combineMySchool (MySchool otherSchoolObject) {\n        this.studentCount+= otherSchoolObject.getStudentCount();\n        this.students.addAll(otherSchoolObject.getStudents());\n\n    }\n</code></pre>\n<p>As you can clearly see, I am able to successfully avoid external mutation after using <code>reduce()</code>, but I end up creating multiple objects and finally combine them and reduce</p>\n<p>Is there anyway where I can avoid multiple object creation, rather just create one object and have streams fill that for me and give back ?</p>\n"},{"tags":["java","android","android-studio","listview","adapter"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682685413,"creation_date":1682685413,"answer_id":76129666,"question_id":76125298,"body_markdown":"You need to call `startActivity(intent)` after creating an intent to go there. You could do this with a series of if-else statements, a switch-case, or a list of destination classes. Remember that the `position` index starts at 0.\r\n\r\n```java\r\nIntent intent = null;\r\nif( position == 0 ) {\r\n    intent = new Intent(MainActivity.this, Foo.class);\r\n}\r\nelse if( position == 1 ) {\r\n    intent = new Intent(MainActivity.this, Bar.class);\r\n}\r\n\r\nif( intent != null ) {\r\n    startActivity(intent);\r\n}\r\n```\r\n\r\n```java\r\nIntent intent = null;\r\nswitch(position) {\r\n    case 0:\r\n        intent = new Intent(MainActivity.this, Foo.class);\r\n        break;\r\n    case 1:\r\n        intent = new Intent(MainActivity.this, Bar.class);\r\n        break;\r\n}\r\n\r\nif( intent != null ) {\r\n    startActivity(intent);\r\n}\r\n```\r\n\r\n```java\r\nList&lt;Class&lt;?&gt;&gt; destinations = Arrays.asList(\r\n    Foo.class, \r\n    Bar.class\r\n);\r\n\r\nif( position &lt; destinations.size() ) {\r\n    Intent i = new Intent(MainActivity.this, destinations.get(0));\r\n    startActivity(i);\r\n}\r\n```","title":"New activity with ListView and adapter","body":"<p>You need to call <code>startActivity(intent)</code> after creating an intent to go there. You could do this with a series of if-else statements, a switch-case, or a list of destination classes. Remember that the <code>position</code> index starts at 0.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = null;\nif( position == 0 ) {\n    intent = new Intent(MainActivity.this, Foo.class);\n}\nelse if( position == 1 ) {\n    intent = new Intent(MainActivity.this, Bar.class);\n}\n\nif( intent != null ) {\n    startActivity(intent);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = null;\nswitch(position) {\n    case 0:\n        intent = new Intent(MainActivity.this, Foo.class);\n        break;\n    case 1:\n        intent = new Intent(MainActivity.this, Bar.class);\n        break;\n}\n\nif( intent != null ) {\n    startActivity(intent);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Class&lt;?&gt;&gt; destinations = Arrays.asList(\n    Foo.class, \n    Bar.class\n);\n\nif( position &lt; destinations.size() ) {\n    Intent i = new Intent(MainActivity.this, destinations.get(0));\n    startActivity(i);\n}\n</code></pre>\n"}],"owner":{"account_id":25873542,"reputation":1,"user_id":19604011,"display_name":"Patrick Kossik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682685413,"creation_date":1682638306,"question_id":76125298,"body_markdown":"So, I want to start a new activity every time a person clicks on a child from the listView, but I don&#39;t know how. Firstly, I created string\r\n```\r\n&lt;string-array name=&quot;title&quot;&gt;\r\n        &lt;item&gt;eeeeee &lt;/item&gt;\r\n        &lt;item&gt;wwwww &lt;/item&gt;\r\n        &lt;item&gt;qqqqq &lt;/item&gt;\r\n        &lt;item&gt;aaaaa &lt;/item&gt;\r\n        &lt;item&gt;nnnnn &lt;/item&gt;\r\n        &lt;item&gt;ccccc &lt;/item&gt;\r\n        \r\n\r\n\r\n    &lt;/string-array&gt;\r\n```\r\n\r\nAfter that I created one layout for the list, and one layout for the appearance of items in the listview.\r\nI created an adapter, that looks like this : \r\n\r\n```\r\npublic class InformatiiAdapter extends BaseAdapter {\r\n    Informatii informatii;\r\n    String[] title;\r\n    Animation animation;\r\n\r\n    public InformatiiAdapter(Informatii informatii, String[] title) {\r\n        this.informatii = informatii;\r\n        this.title = title;\r\n    }\r\n    public static int getRandom(int max)\r\n    {\r\n        return (int )(Math.random()*max);\r\n    }\r\n    @Override\r\n    public int getCount() {\r\n        return title.length;\r\n    }\r\n\r\n    @Override\r\n    public Object getItem(int position) {\r\n        return position;\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        convertView= LayoutInflater.from(informatii).inflate(R.layout.new_item_layout, parent, false);\r\n        animation= AnimationUtils.loadAnimation(informatii, R.anim.animation1);\r\n        TextView textView;\r\n        LinearLayout ll_bg;\r\n        ll_bg=convertView.findViewById(R.id.ll_bg);\r\n        textView=convertView.findViewById(R.id.textView);\r\n        int number=getRandom(8);\r\n        if(number==1)\r\n        {\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_1));\r\n        } else if(number==2){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_2));\r\n        } else if(number==3){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_3));\r\n        } else if(number==4){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_4));\r\n        } else if(number==5){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_5));\r\n        } else if(number==6){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_6));\r\n        } else if(number==7){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_7));\r\n        } else if(number==8){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_8));\r\n        } else {\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_1));\r\n        }\r\n\r\n        textView.setText(title[position]);\r\n        textView.setAnimation(animation);\r\n        return convertView;\r\n    }\r\n}\r\n\r\n```\r\nAnd a mainactivity like this : \r\n\r\n```\r\npublic class Informatii extends AppCompatActivity {\r\n    ListView listView;\r\n    Animation animation;\r\n    String[] title;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_informatii);\r\n        getSupportActionBar().setTitle(&quot;Informaii anxietate&quot;);\r\n\r\n        listView=findViewById(R.id.list_view);\r\n        title=getResources().getStringArray(R.array.title);\r\n        InformatiiAdapter adapter=new InformatiiAdapter(Informatii.this, title);\r\n        animation= AnimationUtils.loadAnimation(this,R.anim.animation1);\r\n        listView.setAdapter(adapter);\r\n\r\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                if(position==1){\r\n                    Intent intent= new Intent(Informatii.this, Anxietate.class);\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nAs you see, I tried at onItemClick something like if position of the array is 1 , to go to another class, I will have 6-7 childs in the listview and I want to start a new activity for each one.","title":"New activity with ListView and adapter","body":"<p>So, I want to start a new activity every time a person clicks on a child from the listView, but I don't know how. Firstly, I created string</p>\n<pre><code>&lt;string-array name=&quot;title&quot;&gt;\n        &lt;item&gt;eeeeee &lt;/item&gt;\n        &lt;item&gt;wwwww &lt;/item&gt;\n        &lt;item&gt;qqqqq &lt;/item&gt;\n        &lt;item&gt;aaaaa &lt;/item&gt;\n        &lt;item&gt;nnnnn &lt;/item&gt;\n        &lt;item&gt;ccccc &lt;/item&gt;\n        \n\n\n    &lt;/string-array&gt;\n</code></pre>\n<p>After that I created one layout for the list, and one layout for the appearance of items in the listview.\nI created an adapter, that looks like this :</p>\n<pre><code>public class InformatiiAdapter extends BaseAdapter {\n    Informatii informatii;\n    String[] title;\n    Animation animation;\n\n    public InformatiiAdapter(Informatii informatii, String[] title) {\n        this.informatii = informatii;\n        this.title = title;\n    }\n    public static int getRandom(int max)\n    {\n        return (int )(Math.random()*max);\n    }\n    @Override\n    public int getCount() {\n        return title.length;\n    }\n\n    @Override\n    public Object getItem(int position) {\n        return position;\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return position;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        convertView= LayoutInflater.from(informatii).inflate(R.layout.new_item_layout, parent, false);\n        animation= AnimationUtils.loadAnimation(informatii, R.anim.animation1);\n        TextView textView;\n        LinearLayout ll_bg;\n        ll_bg=convertView.findViewById(R.id.ll_bg);\n        textView=convertView.findViewById(R.id.textView);\n        int number=getRandom(8);\n        if(number==1)\n        {\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_1));\n        } else if(number==2){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_2));\n        } else if(number==3){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_3));\n        } else if(number==4){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_4));\n        } else if(number==5){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_5));\n        } else if(number==6){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_6));\n        } else if(number==7){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_7));\n        } else if(number==8){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_8));\n        } else {\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_1));\n        }\n\n        textView.setText(title[position]);\n        textView.setAnimation(animation);\n        return convertView;\n    }\n}\n\n</code></pre>\n<p>And a mainactivity like this :</p>\n<pre><code>public class Informatii extends AppCompatActivity {\n    ListView listView;\n    Animation animation;\n    String[] title;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_informatii);\n        getSupportActionBar().setTitle(&quot;Informaii anxietate&quot;);\n\n        listView=findViewById(R.id.list_view);\n        title=getResources().getStringArray(R.array.title);\n        InformatiiAdapter adapter=new InformatiiAdapter(Informatii.this, title);\n        animation= AnimationUtils.loadAnimation(this,R.anim.animation1);\n        listView.setAdapter(adapter);\n\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                if(position==1){\n                    Intent intent= new Intent(Informatii.this, Anxietate.class);\n                }\n\n            }\n        });\n    }\n}\n</code></pre>\n<p>As you see, I tried at onItemClick something like if position of the array is 1 , to go to another class, I will have 6-7 childs in the listview and I want to start a new activity for each one.</p>\n"},{"tags":["java","maven","directory","jar"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1682686148,"post_id":76129658,"comment_id":134258782,"body_markdown":"You cannot write to resources in a JAR. You need to use a directory outside the resources to store the data of your game.","body":"You cannot write to resources in a JAR. You need to use a directory outside the resources to store the data of your game."},{"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"score":0,"creation_date":1682689093,"post_id":76129658,"comment_id":134259464,"body_markdown":"Have you tried using java.nio.file.DirectoryStream to load the files within jar as suggested in one of the below reference answers https://stackoverflow.com/questions/11012819/how-can-i-access-a-folder-inside-of-a-resource-folder-from-inside-my-jar-file","body":"Have you tried using java.nio.file.DirectoryStream to load the files within jar as suggested in one of the below reference answers <a href=\"https://stackoverflow.com/questions/11012819/how-can-i-access-a-folder-inside-of-a-resource-folder-from-inside-my-jar-file\" title=\"how can i access a folder inside of a resource folder from inside my jar file\">stackoverflow.com/questions/11012819/&hellip;</a>"}],"owner":{"account_id":27348771,"reputation":19,"user_id":20858275,"display_name":"ASDQWERTYUI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1682685376,"creation_date":1682685376,"question_id":76129658,"body_markdown":"I created a game in Java, and for the game I need to save gaming configurations in files, and all files are in resources/team/. In order to open, create and delete teams I get all filenames in this directory using listFiles() and &quot;src/main/resources/team/&quot; as directory path.\r\n\r\nThe problem is that in Intellij IDEA it works perfectly both from Main and from JAR-file, but if I try to run it in console ```java -jar Game.jar``` or open it from folder with Java, I get NullPointer from Scanner, because in directory /team/ is simply in root of JAR, without src/main. \r\n\r\n\r\nI tried to replace it with Directory Streams and some other solutions for getting filenames, but they all use File, so I still need to write &quot;src/main&quot; for it to work in IDEA. \r\nIs there any possible way to change it with relative paths for /team/ in JAR or different way to get filenames using getResourceAsStream, so I could use only this with directories in resources, without listFiles()? \r\nAlso I use Maven, I supposed, It&#39;s possible to solve it in pom.xml, but I couldnt find any information about it.","title":"How can I configure maven and directories in jar to open files and get filenames in direcotries correctly?","body":"<p>I created a game in Java, and for the game I need to save gaming configurations in files, and all files are in resources/team/. In order to open, create and delete teams I get all filenames in this directory using listFiles() and &quot;src/main/resources/team/&quot; as directory path.</p>\n<p>The problem is that in Intellij IDEA it works perfectly both from Main and from JAR-file, but if I try to run it in console <code>java -jar Game.jar</code> or open it from folder with Java, I get NullPointer from Scanner, because in directory /team/ is simply in root of JAR, without src/main.</p>\n<p>I tried to replace it with Directory Streams and some other solutions for getting filenames, but they all use File, so I still need to write &quot;src/main&quot; for it to work in IDEA.\nIs there any possible way to change it with relative paths for /team/ in JAR or different way to get filenames using getResourceAsStream, so I could use only this with directories in resources, without listFiles()?\nAlso I use Maven, I supposed, It's possible to solve it in pom.xml, but I couldnt find any information about it.</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1682684653,"post_id":76127994,"comment_id":134258393,"body_markdown":"Your stacktrace shows you&#39;re using Junit. Please show all code as a [mcve] along with your Gradle dependencies","body":"Your stacktrace shows you&#39;re using Junit. Please show all code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> along with your Gradle dependencies"}],"owner":{"account_id":27963688,"reputation":1,"user_id":21354969,"display_name":"redisLearner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682684707,"creation_date":1682672847,"question_id":76127994,"body_markdown":"I am reading data from s3 in the below schema:\r\n\r\n```\r\npublic static final StructType DATA_SCHEMA =  new StructType()\r\n            .add(KEY, StringType, false)\r\n            .add(DATASETS, createArrayType(StringType), true);\r\n```\r\n\r\nand converting the data into this JAVA Object:\r\n\r\n```\r\npublic class Request {\r\n    private String key;\r\n    private List&lt;Input&gt; input;\r\n}\r\n\r\npublic class Input {\r\n    private String key;\r\n    private List&lt;String&gt; datasets;\r\n}\r\n```\r\n\r\nusing the below method :\r\n\r\n```\r\npublic Request get(final Dataset&lt;Row&gt; dataset) {\r\n        final List&lt;Input&gt; result = dataset.map((MapFunction&lt;Row, Input&gt;) row -&gt; {\r\n\r\n            final String key = row.getAs(&quot;key&quot;);\r\n\r\n            List&lt;String&gt; datasets = getListFromColumnName(row, &quot;datasets&quot;);\r\n\r\n            Input input = new Input();\r\n            input(key);\r\n            input.setDatasets(datasets);\r\n            return input;\r\n        }, Encoders.bean(Input)).collectAsList();\r\n\r\n        Request request = new Request();\r\n        request.setInput(result);\r\n        request.setKey(key);\r\n\r\n        return request;\r\n    }\r\n\r\nprivate List&lt;String&gt; getListFromColumnName(final Row row, final String columnName) {\r\n        final Object datasetsObj = row.getAs(columnName);\r\n\r\n        if (datasetsObj != null) {\r\n            if (datasetsObj instanceof scala.collection.mutable.WrappedArray&lt;?&gt;) {\r\n                scala.collection.mutable.WrappedArray&lt;String&gt; wrappedArray = (scala.collection.mutable.WrappedArray&lt;String&gt;) datasetsObj;\r\n                return JavaConverters.seqAsJavaListConverter(wrappedArray).asJava();\r\n            } else if (datasetsObj instanceof List&lt;?&gt;) {\r\n                return (List&lt;String&gt;) datasetsObj;\r\n            }\r\n        }\r\n        return null;\r\n}\r\n```\r\n\r\nIm getting \r\n\r\n```\r\nTask not serializable\r\norg.apache.spark.SparkException: Task not serializable\r\n\tat org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:416)\r\n\tat org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:406)\r\n\tat org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:162)\r\n\tat org.apache.spark.SparkContext.clean(SparkContext.scala:2459)\r\n\tat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$1(RDD.scala:912)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n\tat org.apache.spark.rdd.RDD.withScope(RDD.scala:414)\r\n\tat org.apache.spark.rdd.RDD.mapPartitionsWithIndex(RDD.scala:911)\r\n\tat org.apache.spark.sql.execution.WholeStageCodegenExec.doExecute(WholeStageCodegenExec.scala:749)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\r\n\tat org.apache.spark.sql.execution.SparkPlan.getByteArrayRdd(SparkPlan.scala:321)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeCollect(SparkPlan.scala:387)\r\n\tat org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:3696)\r\n\tat org.apache.spark.sql.Dataset.$anonfun$collectAsList$1(Dataset.scala:2977)\r\n\tat org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3687)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n\tat org.apache.spark.sql.Dataset.withAction(Dataset.scala:3685)\r\n\tat org.apache.spark.sql.Dataset.collectAsList(Dataset.scala:2976)\r\n\tat RequestTransformer.get(RequestTransformer.java:32)\r\n\tat RequestTransformerTest.testGet(RequestTransformerTest.java:47)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy5.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.io.NotSerializableException: RequestTransformer\r\nSerialization stack:\r\n\t- object not serializable (class: RequestTransformer, value: RequestTransformer@69753056)\r\n\t- element of array (index: 0)\r\n\t- array (class [Ljava.lang.Object;, size 1)\r\n\t- field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n\t- object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class RequestTransformer, functionalInterfaceMethod=org/apache/spark/api/java/function/MapFunction.call:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeSpecial RequestTransformer.lambda$get$483224b0$1:(Lorg/apache/spark/sql/Row;)LInput;, instantiatedMethodType=(Lorg/apache/spark/sql/Row;)LInput;, numCaptured=1])\r\n\t- writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n\t- object (class RequestTransformer$$Lambda$1534/0x0000000800c2c440, RequestTransformer$$Lambda$1534/0x0000000800c2c440@4ee6cbba)\r\n\t- element of array (index: 2)\r\n\t- array (class [Ljava.lang.Object;, size 8)\r\n\t- element of array (index: 1)\r\n\t- array (class [Ljava.lang.Object;, size 3)\r\n\t- field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n\t- object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.execution.WholeStageCodegenExec, functionalInterfaceMethod=scala/Function2.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/execution/WholeStageCodegenExec.$anonfun$doExecute$4$adapted:(Lorg/apache/spark/sql/catalyst/expressions/codegen/CodeAndComment;[Ljava/lang/Object;Lorg/apache/spark/sql/execution/metric/SQLMetric;Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, instantiatedMethodType=(Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, numCaptured=3])\r\n\t- writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n\t- object (class org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$1956/0x0000000800eba040, org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$1956/0x0000000800eba040@6d611c54)\r\n\tat org.apache.spark.serializer.SerializationDebugger$.improveException(SerializationDebugger.scala:41)\r\n\tat org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:47)\r\n\tat org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:101)\r\n\tat org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:413)\r\n\t... 120 more\r\n```\r\n\r\nCan someone help me understand what I am doing wrong here? \r\n\r\nIm getting  `Task not serializable for converting a Scala column to JAVA list&lt;String&gt;`","title":"Caused by: java.io.NotSerializableException: when converting spark ArrayType to java List&lt;String&gt;","body":"<p>I am reading data from s3 in the below schema:</p>\n<pre><code>public static final StructType DATA_SCHEMA =  new StructType()\n            .add(KEY, StringType, false)\n            .add(DATASETS, createArrayType(StringType), true);\n</code></pre>\n<p>and converting the data into this JAVA Object:</p>\n<pre><code>public class Request {\n    private String key;\n    private List&lt;Input&gt; input;\n}\n\npublic class Input {\n    private String key;\n    private List&lt;String&gt; datasets;\n}\n</code></pre>\n<p>using the below method :</p>\n<pre><code>public Request get(final Dataset&lt;Row&gt; dataset) {\n        final List&lt;Input&gt; result = dataset.map((MapFunction&lt;Row, Input&gt;) row -&gt; {\n\n            final String key = row.getAs(&quot;key&quot;);\n\n            List&lt;String&gt; datasets = getListFromColumnName(row, &quot;datasets&quot;);\n\n            Input input = new Input();\n            input(key);\n            input.setDatasets(datasets);\n            return input;\n        }, Encoders.bean(Input)).collectAsList();\n\n        Request request = new Request();\n        request.setInput(result);\n        request.setKey(key);\n\n        return request;\n    }\n\nprivate List&lt;String&gt; getListFromColumnName(final Row row, final String columnName) {\n        final Object datasetsObj = row.getAs(columnName);\n\n        if (datasetsObj != null) {\n            if (datasetsObj instanceof scala.collection.mutable.WrappedArray&lt;?&gt;) {\n                scala.collection.mutable.WrappedArray&lt;String&gt; wrappedArray = (scala.collection.mutable.WrappedArray&lt;String&gt;) datasetsObj;\n                return JavaConverters.seqAsJavaListConverter(wrappedArray).asJava();\n            } else if (datasetsObj instanceof List&lt;?&gt;) {\n                return (List&lt;String&gt;) datasetsObj;\n            }\n        }\n        return null;\n}\n</code></pre>\n<p>Im getting</p>\n<pre><code>Task not serializable\norg.apache.spark.SparkException: Task not serializable\n    at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:416)\n    at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:406)\n    at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:162)\n    at org.apache.spark.SparkContext.clean(SparkContext.scala:2459)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$1(RDD.scala:912)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:414)\n    at org.apache.spark.rdd.RDD.mapPartitionsWithIndex(RDD.scala:911)\n    at org.apache.spark.sql.execution.WholeStageCodegenExec.doExecute(WholeStageCodegenExec.scala:749)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\n    at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\n    at org.apache.spark.sql.execution.SparkPlan.getByteArrayRdd(SparkPlan.scala:321)\n    at org.apache.spark.sql.execution.SparkPlan.executeCollect(SparkPlan.scala:387)\n    at org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:3696)\n    at org.apache.spark.sql.Dataset.$anonfun$collectAsList$1(Dataset.scala:2977)\n    at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3687)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n    at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3685)\n    at org.apache.spark.sql.Dataset.collectAsList(Dataset.scala:2976)\n    at RequestTransformer.get(RequestTransformer.java:32)\n    at RequestTransformerTest.testGet(RequestTransformerTest.java:47)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.io.NotSerializableException: RequestTransformer\nSerialization stack:\n    - object not serializable (class: RequestTransformer, value: RequestTransformer@69753056)\n    - element of array (index: 0)\n    - array (class [Ljava.lang.Object;, size 1)\n    - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n    - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class RequestTransformer, functionalInterfaceMethod=org/apache/spark/api/java/function/MapFunction.call:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeSpecial RequestTransformer.lambda$get$483224b0$1:(Lorg/apache/spark/sql/Row;)LInput;, instantiatedMethodType=(Lorg/apache/spark/sql/Row;)LInput;, numCaptured=1])\n    - writeReplace data (class: java.lang.invoke.SerializedLambda)\n    - object (class RequestTransformer$$Lambda$1534/0x0000000800c2c440, RequestTransformer$$Lambda$1534/0x0000000800c2c440@4ee6cbba)\n    - element of array (index: 2)\n    - array (class [Ljava.lang.Object;, size 8)\n    - element of array (index: 1)\n    - array (class [Ljava.lang.Object;, size 3)\n    - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n    - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.execution.WholeStageCodegenExec, functionalInterfaceMethod=scala/Function2.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/execution/WholeStageCodegenExec.$anonfun$doExecute$4$adapted:(Lorg/apache/spark/sql/catalyst/expressions/codegen/CodeAndComment;[Ljava/lang/Object;Lorg/apache/spark/sql/execution/metric/SQLMetric;Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, instantiatedMethodType=(Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, numCaptured=3])\n    - writeReplace data (class: java.lang.invoke.SerializedLambda)\n    - object (class org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$1956/0x0000000800eba040, org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$1956/0x0000000800eba040@6d611c54)\n    at org.apache.spark.serializer.SerializationDebugger$.improveException(SerializationDebugger.scala:41)\n    at org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:47)\n    at org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:101)\n    at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:413)\n    ... 120 more\n</code></pre>\n<p>Can someone help me understand what I am doing wrong here?</p>\n<p>Im getting  <code>Task not serializable for converting a Scala column to JAVA list&lt;String&gt;</code></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"score":0,"creation_date":1682683185,"post_id":76128738,"comment_id":134258046,"body_markdown":"Take the warning for what it is: a warning. Understand what they are saying, and realise that &quot;normally&quot; you&#39;d not do it this way. I think for what you are trying to do, this is a perfectly valid approach. A good naming convention for these related strings would be very helpful to decide on early.","body":"Take the warning for what it is: a warning. Understand what they are saying, and realise that &quot;normally&quot; you&#39;d not do it this way. I think for what you are trying to do, this is a perfectly valid approach. A good naming convention for these related strings would be very helpful to decide on early."},{"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"score":0,"creation_date":1682683255,"post_id":76128738,"comment_id":134258052,"body_markdown":"I would also suggest, for maintainability, that you consider moving these dynamic strings into a separate strings resource file; your normal strings in `strings.xml` and these ones in something like `recipe_details.xml`.","body":"I would also suggest, for maintainability, that you consider moving these dynamic strings into a separate strings resource file; your normal strings in <code>strings.xml</code> and these ones in something like <code>recipe_details.xml</code>."}],"answers":[{"tags":[],"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682684652,"creation_date":1682678931,"answer_id":76128824,"question_id":76128738,"body_markdown":"If I correctly understood your problem, you have several options:\r\n\r\n 1. Pass all data you need on the `RecipeActivity` in Intent. Not only recipe name. Something like this:\r\n\r\n\r\n        val intent = Intent(activity, RecipeActivity::class)\r\n        intent.extras = Bundle().apply {\r\n            KEY_NAME = R.string.recipe_name\r\n            KEY_COOKING_TIME = R.string.recipe_cooking_time\r\n            ...\r\n        }\r\nIn this case you can also **create a Data class** (if you use Kotlin) which implements Parcelable, and put just this Parcelable to intent.\r\n\r\n2. Put the recipe id in Intent and create some `RecipesProvider` which will return strings by id of a recipe:\r\n\r\n        class RecipesProvider {\r\n            \r\n            fun getCookingTimeById(id: Int) {\r\n                when (id) {\r\n                    R.string.recipe_1 -&gt; return ...\r\n                    else -&gt; return ...\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        class RecipeActivity: AppCompatActivity() {\r\n\r\n            private val recipesProvider = RecipesProvider()\r\n            \r\n            override fun onCreate(bundle: Bundle?) {\r\n                ...\r\n                cookingTimeTextView.text = recipesProvider.getCookingTimeById(intent?.extras?.getInt(RECIPE_ID))\r\n            }\r\n\r\n        }\r\n\r\n\r\n**Update:**\r\nI&#39;m not sure that the approach you&#39;re using with string array is valid, because it&#39;s really confusing to lean to text which is stored there and build some logic based on these strings.\r\n\r\nWhy don&#39;t you create some class `Recipes` which will contain the list with all recipes?\r\n\r\n    object Recipes {\r\n        private val recipes = listOf(\r\n            Recipe(\r\n                name = R.string.recipe1_name,\r\n                cookingTime = R.string.recipe1_cooking_time,\r\n                .....\r\n            )\r\n        )\r\n\r\n        fun getRecipe(position: Int): Recipe {}\r\n    }\r\n\r\nAnd then you can rewrite your adapter like this:\r\n\r\n\r\n    public class RecipesViewPagerAdapter extends RecyclerView.Adapter&lt;RecipesViewPagerAdapter.ViewHolder&gt; {\r\n        ....\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return Recipes.Companion.size();\r\n        }\r\n\r\n        private void onReceiptClick(int adapterPosition) {\r\n             Receipt receipt = Recipes.Companion.getRecipe(adapterPosition)\r\n             // Start activity with this receipt\r\n        }\r\n    }\r\n\r\n","title":"Using R.string.&lt;string-name&gt; dynamically","body":"<p>If I correctly understood your problem, you have several options:</p>\n<ol>\n<li><p>Pass all data you need on the <code>RecipeActivity</code> in Intent. Not only recipe name. Something like this:</p>\n<pre><code>val intent = Intent(activity, RecipeActivity::class)\nintent.extras = Bundle().apply {\n    KEY_NAME = R.string.recipe_name\n    KEY_COOKING_TIME = R.string.recipe_cooking_time\n    ...\n}\n</code></pre>\n</li>\n</ol>\n<p>In this case you can also <strong>create a Data class</strong> (if you use Kotlin) which implements Parcelable, and put just this Parcelable to intent.</p>\n<ol start=\"2\">\n<li><p>Put the recipe id in Intent and create some <code>RecipesProvider</code> which will return strings by id of a recipe:</p>\n<pre><code> class RecipesProvider {\n\n     fun getCookingTimeById(id: Int) {\n         when (id) {\n             R.string.recipe_1 -&gt; return ...\n             else -&gt; return ...\n         }\n     }\n\n }\n\n class RecipeActivity: AppCompatActivity() {\n\n     private val recipesProvider = RecipesProvider()\n\n     override fun onCreate(bundle: Bundle?) {\n         ...\n         cookingTimeTextView.text = recipesProvider.getCookingTimeById(intent?.extras?.getInt(RECIPE_ID))\n     }\n\n }\n</code></pre>\n</li>\n</ol>\n<p><strong>Update:</strong>\nI'm not sure that the approach you're using with string array is valid, because it's really confusing to lean to text which is stored there and build some logic based on these strings.</p>\n<p>Why don't you create some class <code>Recipes</code> which will contain the list with all recipes?</p>\n<pre><code>object Recipes {\n    private val recipes = listOf(\n        Recipe(\n            name = R.string.recipe1_name,\n            cookingTime = R.string.recipe1_cooking_time,\n            .....\n        )\n    )\n\n    fun getRecipe(position: Int): Recipe {}\n}\n</code></pre>\n<p>And then you can rewrite your adapter like this:</p>\n<pre><code>public class RecipesViewPagerAdapter extends RecyclerView.Adapter&lt;RecipesViewPagerAdapter.ViewHolder&gt; {\n    ....\n\n    @Override\n    public int getItemCount() {\n        return Recipes.Companion.size();\n    }\n\n    private void onReceiptClick(int adapterPosition) {\n         Receipt receipt = Recipes.Companion.getRecipe(adapterPosition)\n         // Start activity with this receipt\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27469504,"reputation":23,"user_id":20958695,"display_name":"user20958695"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76128824,"answer_count":1,"score":0,"last_activity_date":1682684652,"creation_date":1682678200,"question_id":76128738,"body_markdown":"My app uses a single activity to load multiple different contents by the user choice. If the user presses `recipe1` button from a Recyclerview from the *main activity* it should start the *recipes activity* and load the details matching this specific recipe. \r\n\r\nSince I don&#39;t want to create an activity for each recipe, I need to load the details dynamically. The main activity starts the recipe activity with an intent containing the recipe name, e.g. `recipe1`, and using this data I want to load the details from my `strings.xml` file, e.g. `cooking_time_recipe1`, `ingredients_recipe1` and so on.\r\n\r\nI found the function `getIdentifier()` and it works perfectly, although Android Studio shows a warning: `\r\nUse of this function is discouraged because resource reflection makes it harder to perform build optimizations and compile-time verification of code. It is much more efficient to retrieve resources by identifier (e.g. R.foo.bar) than by name (e.g. getIdentifier(&quot;bar&quot;, &quot;foo&quot;, null)).`\r\n\r\nIs there any way to avoid using this function?\r\n\r\nI can write a function that recieves a recipe name and retrieves all its details&#39; names from the `string.xml`, i.e. \r\n\r\ninput: `recipe1`, output: `cooking_time_recipe1, ingredients_recipe1, ...`\r\n\r\nalthough I couldn&#39;t find a way to avoid the finding process of the id. I could manually maintain a HashMap to match strings to ids but I was thinking `getIdentifier()` is probably using a HashMap anyway, so no use to implement the same thing myself but not sure.\r\n\r\nThe adapter code (excluding the ViewHolder subclass):\r\n\r\n    public class RecipesViewPagerAdapter extends RecyclerView.Adapter&lt;RecipesViewPagerAdapter.ViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;String&gt; recipes;\r\n\r\n    public RecipesViewPagerAdapter(Context context, ArrayList&lt;String&gt; recipes) {\r\n    this.context = context;\r\n    this.recipes = recipes;\r\n    }\r\n    \r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.item_recipes_pager, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n    \r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        CardTriplet currentRecipes = recipes.get(position);\r\n        holder.cardRecipe1.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 0));\r\n        if (currentRecipes.get(1) != null) {\r\n            holder.textRecipe2.setText(currentRecipes.get(1).getName());\r\n            holder.cardRecipe2.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 1));\r\n        } else {\r\n            holder.cardRecipe2.setVisibility(View.INVISIBLE);\r\n        }\r\n        if (currentRecipes.get(2) != null) {\r\n            holder.textRecipe3.setText(currentRecipes.get(2).getName());\r\n            holder.cardRecipe3.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 2));\r\n        } else {\r\n            holder.cardRecipe3.setVisibility(View.INVISIBLE);\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public int getItemCount() {\r\n        return Recipes.size();\r\n    }\r\n    \r\n    private void onCardClick(int tripletNumber, int cardNumber) {\r\n        Card card = Recipes.get(tripletNumber).get(cardNumber);\r\n        Intent intent = new Intent(context, RecipeActivity.class);\r\n        intent.putExtra(&quot;name&quot;, card.getName());\r\n        context.startActivity(intent);\r\n        }\r\n    }\r\n\r\nAnd the main activity gets the recipes for the adapter with:\r\n\r\n    String[] recipeNames = getResources().getStringArray(R.string.recipes)\r\n\r\nAnd initializes the `ArrayList&lt;CardTriplet&gt; recipes` by looping over the `recipeNames` array and putting the values in `CardTriplet` objects\r\n\r\n\r\n","title":"Using R.string.&lt;string-name&gt; dynamically","body":"<p>My app uses a single activity to load multiple different contents by the user choice. If the user presses <code>recipe1</code> button from a Recyclerview from the <em>main activity</em> it should start the <em>recipes activity</em> and load the details matching this specific recipe.</p>\n<p>Since I don't want to create an activity for each recipe, I need to load the details dynamically. The main activity starts the recipe activity with an intent containing the recipe name, e.g. <code>recipe1</code>, and using this data I want to load the details from my <code>strings.xml</code> file, e.g. <code>cooking_time_recipe1</code>, <code>ingredients_recipe1</code> and so on.</p>\n<p>I found the function <code>getIdentifier()</code> and it works perfectly, although Android Studio shows a warning: <code> Use of this function is discouraged because resource reflection makes it harder to perform build optimizations and compile-time verification of code. It is much more efficient to retrieve resources by identifier (e.g. R.foo.bar) than by name (e.g. getIdentifier(&quot;bar&quot;, &quot;foo&quot;, null)).</code></p>\n<p>Is there any way to avoid using this function?</p>\n<p>I can write a function that recieves a recipe name and retrieves all its details' names from the <code>string.xml</code>, i.e.</p>\n<p>input: <code>recipe1</code>, output: <code>cooking_time_recipe1, ingredients_recipe1, ...</code></p>\n<p>although I couldn't find a way to avoid the finding process of the id. I could manually maintain a HashMap to match strings to ids but I was thinking <code>getIdentifier()</code> is probably using a HashMap anyway, so no use to implement the same thing myself but not sure.</p>\n<p>The adapter code (excluding the ViewHolder subclass):</p>\n<pre><code>public class RecipesViewPagerAdapter extends RecyclerView.Adapter&lt;RecipesViewPagerAdapter.ViewHolder&gt; {\n\nContext context;\nArrayList&lt;String&gt; recipes;\n\npublic RecipesViewPagerAdapter(Context context, ArrayList&lt;String&gt; recipes) {\nthis.context = context;\nthis.recipes = recipes;\n}\n\n@NonNull\n@Override\npublic ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.item_recipes_pager, parent, false);\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    CardTriplet currentRecipes = recipes.get(position);\n    holder.cardRecipe1.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 0));\n    if (currentRecipes.get(1) != null) {\n        holder.textRecipe2.setText(currentRecipes.get(1).getName());\n        holder.cardRecipe2.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 1));\n    } else {\n        holder.cardRecipe2.setVisibility(View.INVISIBLE);\n    }\n    if (currentRecipes.get(2) != null) {\n        holder.textRecipe3.setText(currentRecipes.get(2).getName());\n        holder.cardRecipe3.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 2));\n    } else {\n        holder.cardRecipe3.setVisibility(View.INVISIBLE);\n    }\n}\n\n@Override\npublic int getItemCount() {\n    return Recipes.size();\n}\n\nprivate void onCardClick(int tripletNumber, int cardNumber) {\n    Card card = Recipes.get(tripletNumber).get(cardNumber);\n    Intent intent = new Intent(context, RecipeActivity.class);\n    intent.putExtra(&quot;name&quot;, card.getName());\n    context.startActivity(intent);\n    }\n}\n</code></pre>\n<p>And the main activity gets the recipes for the adapter with:</p>\n<pre><code>String[] recipeNames = getResources().getStringArray(R.string.recipes)\n</code></pre>\n<p>And initializes the <code>ArrayList&lt;CardTriplet&gt; recipes</code> by looping over the <code>recipeNames</code> array and putting the values in <code>CardTriplet</code> objects</p>\n"},{"tags":["java","sql-server","prepared-statement","always-encrypted"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682684819,"post_id":76129343,"comment_id":134258438,"body_markdown":"This is by no means an answer - but if I were in your position I&#39;d try just running the insert statement (just `.execute()`, not`.addBatch()`), and commit every ~1000 inserts or so (committing too often _and_ creating too-large transactions both can be performance issues, so, split the difference, commit every 1000).","body":"This is by no means an answer - but if I were in your position I&#39;d try just running the insert statement (just <code>.execute()</code>, not<code>.addBatch()</code>), and commit every ~1000 inserts or so (committing too often <i>and</i> creating too-large transactions both can be performance issues, so, split the difference, commit every 1000)."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1682684822,"post_id":76129343,"comment_id":134258440,"body_markdown":"you could run each batch in own thread.","body":"you could run each batch in own thread."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682684875,"post_id":76129343,"comment_id":134258456,"body_markdown":"The thing is, JDBC&#39;s various peculiarities, such as `addBatch`, exist _because_ some DB engines need code structured that way to do a thing unique to them or provide the best performance. However, that doesn&#39;t mean all JDBC drivers are _required_ to be more performant. They just need to implement it. As a consequence, sometimes just rewriting to another JDBC &#39;way&#39; solves the problem. We don&#39;t have your test setup to test any of this.","body":"The thing is, JDBC&#39;s various peculiarities, such as <code>addBatch</code>, exist <i>because</i> some DB engines need code structured that way to do a thing unique to them or provide the best performance. However, that doesn&#39;t mean all JDBC drivers are <i>required</i> to be more performant. They just need to implement it. As a consequence, sometimes just rewriting to another JDBC &#39;way&#39; solves the problem. We don&#39;t have your test setup to test any of this."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682684917,"post_id":76129343,"comment_id":134258468,"body_markdown":"@siggemannen Answering &#39;my code that pretty much _just_ interacts with the DB is running slowly&#39; with: &quot;Did you try threading?&quot; is.. not appropriate advice, to say the least. That never works.","body":"@siggemannen Answering &#39;my code that pretty much <i>just</i> interacts with the DB is running slowly&#39; with: &quot;Did you try threading?&quot; is.. not appropriate advice, to say the least. That never works."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682684935,"post_id":76129343,"comment_id":134258472,"body_markdown":"In general trying to answer performance questions with wild stabs in the dark is bad. Please don&#39;t do that.","body":"In general trying to answer performance questions with wild stabs in the dark is bad. Please don&#39;t do that."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1682685088,"post_id":76129343,"comment_id":134258511,"body_markdown":"Lol, the comments ARE for wild stabs in the dark @rzwitserloot, but thanks for playing. Obviously it might help otherwise there would be no point of using multi-threaded built-in in bulk imports etc.","body":"Lol, the comments ARE for wild stabs in the dark @rzwitserloot, but thanks for playing. Obviously it might help otherwise there would be no point of using multi-threaded built-in in bulk imports etc."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1682685175,"post_id":76129343,"comment_id":134258531,"body_markdown":"@OP, another thing you can speed up your code is using raw sql + VALUES construct, batched up 1000 rows or so. The jdbc binding methods are usually always slower. Of course, i don&#39;t know if always encrypted thing supports that, but maybe rzwitserloot does","body":"@OP, another thing you can speed up your code is using raw sql + VALUES construct, batched up 1000 rows or so. The jdbc binding methods are usually always slower. Of course, i don&#39;t know if always encrypted thing supports that, but maybe rzwitserloot does"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":2,"creation_date":1682690300,"post_id":76129343,"comment_id":134259792,"body_markdown":"So have you tried to race your horses using this code without Always Encrypted? I don&#39;t think it would be any/much faster because although you&#39;re sending a single batch with 1,000 insert statements it&#39;s still inserting RBAR (Row-By-Agonizing Row), not a single insert with 1,000 rows. Batching only serves to reduce communication overhead (round-tripping between client and server), it doesn&#39;t make the statements execute any faster on the server.","body":"So have you tried to race your horses using this code without Always Encrypted? I don&#39;t think it would be any/much faster because although you&#39;re sending a single batch with 1,000 insert statements it&#39;s still inserting RBAR (Row-By-Agonizing Row), not a single insert with 1,000 rows. Batching only serves to reduce communication overhead (round-tripping between client and server), it doesn&#39;t make the statements execute any faster on the server."},{"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"score":0,"creation_date":1682704120,"post_id":76129343,"comment_id":134262923,"body_markdown":"I tested execute() using 1000 rows with always encrypted on it took  52 min without always encrypted 22 min \nso, using addBatch() is still better\n@siggemannen usinf spark I&#39;m already in parallel execution","body":"I tested execute() using 1000 rows with always encrypted on it took  52 min without always encrypted 22 min  so, using addBatch() is still better @siggemannen usinf spark I&#39;m already in parallel execution"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":1,"creation_date":1682712478,"post_id":76129343,"comment_id":134264403,"body_markdown":"How many columns is it? And are you really in parallell? jdbcConnection.getConnection looks suspiciously like shared connection to me, but i don&#39;t know anything about spark","body":"How many columns is it? And are you really in parallell? jdbcConnection.getConnection looks suspiciously like shared connection to me, but i don&#39;t know anything about spark"},{"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"score":0,"creation_date":1682789203,"post_id":76129343,"comment_id":134271767,"body_markdown":"There&#39;s 241 columns. Yes, you&#39;re right it was a shared connexion. While spark manages the parallel execution, all the process was using a single connexion. By fixing this, the execution time was improved (now about 4 min for 60K/ 44min for 1M) but still not like before.","body":"There&#39;s 241 columns. Yes, you&#39;re right it was a shared connexion. While spark manages the parallel execution, all the process was using a single connexion. By fixing this, the execution time was improved (now about 4 min for 60K/ 44min for 1M) but still not like before."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1683054422,"post_id":76129343,"comment_id":134306967,"body_markdown":"That&#39;s not bad of an improvement! But i&#39;m still not sure why you can&#39;t use bulk import: https://learn.microsoft.com/en-us/sql/connect/jdbc/using-bulk-copy-with-the-jdbc-driver?view=sql-server-ver16#bulk-copy-with-always-encrypted-columns","body":"That&#39;s not bad of an improvement! But i&#39;m still not sure why you can&#39;t use bulk import: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-bulk-copy-with-the-jdbc-driver?view=sql-server-ver16#bulk-copy-with-always-encrypted-columns\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a>"},{"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"score":0,"creation_date":1683116776,"post_id":76129343,"comment_id":134316691,"body_markdown":"@siggemannen I will check this again, but from what I remember this is valid only to copy from a file / table to another table.","body":"@siggemannen I will check this again, but from what I remember this is valid only to copy from a file / table to another table."},{"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"score":0,"creation_date":1683116857,"post_id":76129343,"comment_id":134316711,"body_markdown":"update : I did test the new solution in the server, the performance now it&#39;s almost like before 32min for 7M rows. \nAs a conclusion using the multiple connexion with spark (or any multi threads solution), give me a good result. I hope this will help someone and thanks all for your time and support.","body":"update : I did test the new solution in the server, the performance now it&#39;s almost like before 32min for 7M rows.  As a conclusion using the multiple connexion with spark (or any multi threads solution), give me a good result. I hope this will help someone and thanks all for your time and support."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1683118288,"post_id":76129343,"comment_id":134317052,"body_markdown":"Excellent! Glad you gave an update","body":"Excellent! Glad you gave an update"}],"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682684547,"creation_date":1682683065,"question_id":76129343,"body_markdown":"I have a spring boot application, with SQL server as database. One of the services that the app offer is a function who will insert data in a table (staging database). For more clarity, I will describe the solution before and after the problem.\r\n\r\nBefore : \r\n\r\nThe injection will be done using spark bulk inject, so everything was managed by spark, I needed only to add the connexion configuration for spark. Everything was fine using this solution, the insert took about 30 min for 7M row.\r\n\r\nAfter:\r\n\r\nWe need to add the encryption for some columns (always encryption) in the table. so the bulk inject wasn&#39;t a possible solution anymore. \r\n\r\nThe new solution was to keep using spark but the insertion itself will be done using statement, the idea is to repartition the spark RDD (the data that will be inserted) in a small partition, each partition will be injected using a batch statement.\r\n\r\nFor example : \r\n\r\nI have a file with 60K rows, I want to insert 1000 each time, I will repartition the input into 6K partition and each partition will be injected in a batch.\r\n\r\nBelow the code who will manage the insertion:\r\n\r\n\r\n```\r\n    @Override\r\n    public void call(Iterator&lt;String&gt; partition) {\r\n\r\n        try {\r\n            PreparedStatement preparedStatement = jdbcConnection.getConnection().prepareStatement(compiledQuery.toString());\r\n            jdbcConnection.getConnection().setAutoCommit(false);\r\n            long start = System.currentTimeMillis();\r\n            while (partition.hasNext()) {\r\n\r\n                String row = partition.next();\r\n                Object[] rowValidated = controlRow(row);\r\n\r\n                for (int index = 0; index &lt; rowValidated.length; index++) {\r\n\r\n                    PremiumTableFormat refColumn = getElementByIndexFromFixedSchema(index);\r\n                    if (refColumn.isEncrypted()) {\r\n\r\n                        if (!refColumn.getType().equalsIgnoreCase(&quot;date&quot;)) {\r\n                            preparedStatement.setObject(index + 1, rowValidated[index], java.sql.Types.NVARCHAR, 264);\r\n                        } else {\r\n                            preparedStatement.setDate(index + 1, (Date) rowValidated[index]);\r\n                        }\r\n                    } else {\r\n                        preparedStatement.setObject(index + 1, rowValidated[index]);\r\n                    }\r\n                }\r\n                preparedStatement.addBatch();\r\n            }\r\n            long end = System.currentTimeMillis();\r\n            log.info(&quot;prepare batch data take = &quot; + ((end - start)) + &quot; ms&quot;);\r\n\r\n            start = System.currentTimeMillis();\r\n            preparedStatement.executeBatch();\r\n            jdbcConnection.getConnection().commit();\r\n            preparedStatement.clearBatch();\r\n            end = System.currentTimeMillis();\r\n            log.info(&quot;total time taken to insert the batch = &quot; + ((end - start)) + &quot; ms&quot;);\r\n\r\n        } catch (SQLServerException e) {\r\n            e.printStackTrace();\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nThe problem is the executeBatch() take too much time, 30min for 60K rows.\r\n\r\nI used different batch size, 10, 50, 10, 1000 and 5000 row the small number work better but still slow (best time 28 min for 60K using 50 rows)\r\n\r\nPlease note :\r\n - controlRow (row) don&#39;t take too much 20ms for each partition with 1000 rows. \r\n - When the connection string doesn&#39;t contain always encrypted params, the insert is better (4.7 min) \r\n - connexion string with always encytpted ``` &quot;jdbc:sqlserver://&quot; + parameters.server + &quot;;encrypt=true;databaseName=&quot; + parameters.getDatabase() + &quot;;encrypt=true;trustServerCertificate=true;columnEncryptionSetting=Enabled;&quot; ```\r\n\r\n\r\nDo you think that something is missing or not in the corrected way?\r\n\r\n\r\nThank you in adavnce.\r\n","title":"inserting is very slow using statement when always encrypted is on","body":"<p>I have a spring boot application, with SQL server as database. One of the services that the app offer is a function who will insert data in a table (staging database). For more clarity, I will describe the solution before and after the problem.</p>\n<p>Before :</p>\n<p>The injection will be done using spark bulk inject, so everything was managed by spark, I needed only to add the connexion configuration for spark. Everything was fine using this solution, the insert took about 30 min for 7M row.</p>\n<p>After:</p>\n<p>We need to add the encryption for some columns (always encryption) in the table. so the bulk inject wasn't a possible solution anymore.</p>\n<p>The new solution was to keep using spark but the insertion itself will be done using statement, the idea is to repartition the spark RDD (the data that will be inserted) in a small partition, each partition will be injected using a batch statement.</p>\n<p>For example :</p>\n<p>I have a file with 60K rows, I want to insert 1000 each time, I will repartition the input into 6K partition and each partition will be injected in a batch.</p>\n<p>Below the code who will manage the insertion:</p>\n<pre><code>    @Override\n    public void call(Iterator&lt;String&gt; partition) {\n\n        try {\n            PreparedStatement preparedStatement = jdbcConnection.getConnection().prepareStatement(compiledQuery.toString());\n            jdbcConnection.getConnection().setAutoCommit(false);\n            long start = System.currentTimeMillis();\n            while (partition.hasNext()) {\n\n                String row = partition.next();\n                Object[] rowValidated = controlRow(row);\n\n                for (int index = 0; index &lt; rowValidated.length; index++) {\n\n                    PremiumTableFormat refColumn = getElementByIndexFromFixedSchema(index);\n                    if (refColumn.isEncrypted()) {\n\n                        if (!refColumn.getType().equalsIgnoreCase(&quot;date&quot;)) {\n                            preparedStatement.setObject(index + 1, rowValidated[index], java.sql.Types.NVARCHAR, 264);\n                        } else {\n                            preparedStatement.setDate(index + 1, (Date) rowValidated[index]);\n                        }\n                    } else {\n                        preparedStatement.setObject(index + 1, rowValidated[index]);\n                    }\n                }\n                preparedStatement.addBatch();\n            }\n            long end = System.currentTimeMillis();\n            log.info(&quot;prepare batch data take = &quot; + ((end - start)) + &quot; ms&quot;);\n\n            start = System.currentTimeMillis();\n            preparedStatement.executeBatch();\n            jdbcConnection.getConnection().commit();\n            preparedStatement.clearBatch();\n            end = System.currentTimeMillis();\n            log.info(&quot;total time taken to insert the batch = &quot; + ((end - start)) + &quot; ms&quot;);\n\n        } catch (SQLServerException e) {\n            e.printStackTrace();\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n</code></pre>\n<p>The problem is the executeBatch() take too much time, 30min for 60K rows.</p>\n<p>I used different batch size, 10, 50, 10, 1000 and 5000 row the small number work better but still slow (best time 28 min for 60K using 50 rows)</p>\n<p>Please note :</p>\n<ul>\n<li>controlRow (row) don't take too much 20ms for each partition with 1000 rows.</li>\n<li>When the connection string doesn't contain always encrypted params, the insert is better (4.7 min)</li>\n<li>connexion string with always encytpted <code>&quot;jdbc:sqlserver://&quot; + parameters.server + &quot;;encrypt=true;databaseName=&quot; + parameters.getDatabase() + &quot;;encrypt=true;trustServerCertificate=true;columnEncryptionSetting=Enabled;&quot;</code></li>\n</ul>\n<p>Do you think that something is missing or not in the corrected way?</p>\n<p>Thank you in adavnce.</p>\n"},{"tags":["java","unit-testing","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682669345,"creation_date":1682669345,"answer_id":76127507,"question_id":76124016,"body_markdown":"I suggest you use a `@MethodSource` to wrap your constant:\r\n\r\n```java\r\nprivate static final String[] myParameters = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n\r\nstatic List&lt;String&gt; myParameters() {\r\n    return Arrays.asList(myParameters);\r\n}\r\n\r\n@ParameterizedTest\r\n@MethodSource(&quot;myParameters&quot;)\r\npublic void myTestWithMethodSource(String param) {\r\n    System.out.println(param);\r\n}\r\n```\r\n","title":"Pass externally defined variable to JUnit @ValueSource annotation in a @ParameterizedTest","body":"<p>I suggest you use a <code>@MethodSource</code> to wrap your constant:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String[] myParameters = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\n\nstatic List&lt;String&gt; myParameters() {\n    return Arrays.asList(myParameters);\n}\n\n@ParameterizedTest\n@MethodSource(&quot;myParameters&quot;)\npublic void myTestWithMethodSource(String param) {\n    System.out.println(param);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1682670490,"creation_date":1682670490,"answer_id":76127687,"question_id":76124016,"body_markdown":"I am not sure if you can achieve this with `@ValueSource`, but it can be done with `@MethodSource` and `DynamicTests` for sure: \r\n\r\n```java\r\n@ParameterizedTest\r\n@MethodSource(&quot;myParameters&quot;)\r\npublic void myTest(String param) {\r\n\tSystem.out.println(param);\r\n\r\n}\r\n\r\nStream&lt;String&gt; myParameters() {\r\n\treturn Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n}\r\n```\r\nAlternatively, this is how you&#39;d do it with Dynamic tests. It is a cool feature of junit5 that allows you to dynamically create unit tests:\r\n\r\n\r\n    static Stream&lt;String&gt; myParameters() {\r\n\t\treturn Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n\t}\r\n\r\n\t@TestFactory\r\n\tStream&lt;DynamicTest&gt; myTests() {\r\n\t\treturn myParameters()\r\n            .map(p -&gt; DynamicTest.dynamicTest(\r\n                 &quot;testing for: &quot; + p, \r\n                  () -&gt; myTest(p)\r\n            ));\r\n\t}\r\n\r\n\tvoid myTest(String param) {\r\n\t\tSystem.out.println(param);\r\n\t\tassertEquals(1, param.length());\r\n\t}\r\n\r\nif you find this interesting, read more about it here:  https://medium.com/javarevisited/streamline-your-testing-workflow-with-junit-5-dynamic-tests-66787740f39c?sk=b10eacd4e6f6b85c51f194b240555895","title":"Pass externally defined variable to JUnit @ValueSource annotation in a @ParameterizedTest","body":"<p>I am not sure if you can achieve this with <code>@ValueSource</code>, but it can be done with <code>@MethodSource</code> and <code>DynamicTests</code> for sure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@MethodSource(&quot;myParameters&quot;)\npublic void myTest(String param) {\n    System.out.println(param);\n\n}\n\nStream&lt;String&gt; myParameters() {\n    return Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n}\n</code></pre>\n<p>Alternatively, this is how you'd do it with Dynamic tests. It is a cool feature of junit5 that allows you to dynamically create unit tests:</p>\n<pre><code>static Stream&lt;String&gt; myParameters() {\n    return Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n}\n\n@TestFactory\nStream&lt;DynamicTest&gt; myTests() {\n    return myParameters()\n        .map(p -&gt; DynamicTest.dynamicTest(\n             &quot;testing for: &quot; + p, \n              () -&gt; myTest(p)\n        ));\n}\n\nvoid myTest(String param) {\n    System.out.println(param);\n    assertEquals(1, param.length());\n}\n</code></pre>\n<p>if you find this interesting, read more about it here:  <a href=\"https://medium.com/javarevisited/streamline-your-testing-workflow-with-junit-5-dynamic-tests-66787740f39c?sk=b10eacd4e6f6b85c51f194b240555895\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/streamline-your-testing-workflow-with-junit-5-dynamic-tests-66787740f39c?sk=b10eacd4e6f6b85c51f194b240555895</a></p>\n"}],"owner":{"account_id":10775582,"reputation":1190,"user_id":7927748,"accept_rate":67,"display_name":"Torc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76127507,"answer_count":2,"score":1,"last_activity_date":1682684250,"creation_date":1682623863,"question_id":76124016,"body_markdown":"I have an array of strings that I would like to use for multiple unit tests. In an effort to de-duplicate my code and to minimize the number of changes I would need to make to my test parameters in the future, I have tried defining a variable within my JUnit test class and then re-using this variable as the input parameter for each of my `@ValueSource` annotations. Is this even possible or am I overlooking a simple mistake?\r\n\r\n\r\n```java\r\nprivate static final String[] myParameters = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n\r\n// This fails with the message that `myParameters` isn&#39;t a recognized symbol, probably because it&#39;s not a valid Element for @ValueSource\r\n@ParameterizedTest\r\n@ValueSource(myParameters)\r\npublic void myTest(String param) {\r\n  // doesn&#39;t compile\r\n}\r\n\r\n// This fails with the message that &quot;incompatible types: String[] cannot be converted to String&quot;\r\n@ParameterizedTest\r\n@ValueSource(strings = myParameters)\r\npublic void myTest(String param) {\r\n  // doesn&#39;t compile\r\n}\r\n\r\n// This works fine, but I would need to duplicate the values of `strings` for each test\r\n@ParameterizedTest\r\n@ValueSource(strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;})\r\npublic void myTest(String param) {\r\n  // works fine, but its duplicative in terms of the @ValueSource parameter\r\n}\r\n```\r\n\r\n\r\nReferences:\r\n- [Annotation Type ValueSource][1]\r\n- [JUnit GitHub][2]\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.7.1/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/ValueSource.html\r\n  [2]: https://github.com/jashburn8020/junit-5-user-guide#valuesource","title":"Pass externally defined variable to JUnit @ValueSource annotation in a @ParameterizedTest","body":"<p>I have an array of strings that I would like to use for multiple unit tests. In an effort to de-duplicate my code and to minimize the number of changes I would need to make to my test parameters in the future, I have tried defining a variable within my JUnit test class and then re-using this variable as the input parameter for each of my <code>@ValueSource</code> annotations. Is this even possible or am I overlooking a simple mistake?</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String[] myParameters = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\n\n// This fails with the message that `myParameters` isn't a recognized symbol, probably because it's not a valid Element for @ValueSource\n@ParameterizedTest\n@ValueSource(myParameters)\npublic void myTest(String param) {\n  // doesn't compile\n}\n\n// This fails with the message that &quot;incompatible types: String[] cannot be converted to String&quot;\n@ParameterizedTest\n@ValueSource(strings = myParameters)\npublic void myTest(String param) {\n  // doesn't compile\n}\n\n// This works fine, but I would need to duplicate the values of `strings` for each test\n@ParameterizedTest\n@ValueSource(strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;})\npublic void myTest(String param) {\n  // works fine, but its duplicative in terms of the @ValueSource parameter\n}\n</code></pre>\n<p>References:</p>\n<ul>\n<li><a href=\"https://junit.org/junit5/docs/5.7.1/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/ValueSource.html\" rel=\"nofollow noreferrer\">Annotation Type ValueSource</a></li>\n<li><a href=\"https://github.com/jashburn8020/junit-5-user-guide#valuesource\" rel=\"nofollow noreferrer\">JUnit GitHub</a></li>\n</ul>\n"},{"tags":["java","rest","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682684135,"creation_date":1682684135,"answer_id":76129483,"question_id":76128911,"body_markdown":"U must use &#39;toD&#39; (to Dynamic )instead of &#39;to&#39; \r\n\r\n    .toD(&quot;weather:foo?location=${header.city},${header.country}&amp;appid=8bb3bc2e4efb92992ed3e7190&amp;units=metric&quot;)\r\n\r\n","title":"apache camel rest dsl parameter passing","body":"<p>U must use 'toD' (to Dynamic )instead of 'to'</p>\n<pre><code>.toD(&quot;weather:foo?location=${header.city},${header.country}&amp;appid=8bb3bc2e4efb92992ed3e7190&amp;units=metric&quot;)\n</code></pre>\n"}],"owner":{"account_id":2232350,"reputation":72,"user_id":1969611,"accept_rate":86,"display_name":"cihad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76129483,"answer_count":1,"score":1,"last_activity_date":1682684135,"creation_date":1682679652,"question_id":76128911,"body_markdown":"I want to get whether information by city via apache camel weather api.\r\nI can get whether information from api but when I want to pass cirt and country information to rest api I got error. \r\n\r\nI couldnt find any example that shows how to pass a header information from consumer to processor.\r\n\r\nHere is my code\r\n\r\n      @Override\r\n    public void configure() throws Exception {\r\n\r\n        rest(&quot;/api&quot;).description(&quot;Weather api&quot;)\r\n                .consumes(MediaType.APPLICATION_JSON_VALUE)\r\n                .produces(MediaType.APPLICATION_JSON_VALUE)\r\n                .get(&quot;/weather&quot;).description(&quot;Get weather by city&quot;)\r\n                .param().name(&quot;city&quot;).type(RestParamType.header).description(&quot;The city name&quot;).dataType(&quot;string&quot;).endParam()\r\n                .param().name(&quot;country&quot;).type(RestParamType.header).description(&quot;The country name&quot;).dataType(&quot;string&quot;).endParam()\r\n                .to(&quot;direct:weather&quot;);\r\n\r\n        from(&quot;direct:weather&quot;)\r\n                .log(&quot;Get weather by city&quot;)\r\n                .to(&quot;weather:foo?location=${header.city},${header.country}&amp;appid=8bb3bc2e4efb92992ed3e7190&amp;units=metric&quot;)\r\n                .log(&quot;Weather: ${body}&quot;);\r\n    }\r\nas you can see I got 2 parameters in rest api and I want to use these parameters in &quot;from&quot; part to pass these parameters to my camel weather api\r\n\r\nhave any idea","title":"apache camel rest dsl parameter passing","body":"<p>I want to get whether information by city via apache camel weather api.\nI can get whether information from api but when I want to pass cirt and country information to rest api I got error.</p>\n<p>I couldnt find any example that shows how to pass a header information from consumer to processor.</p>\n<p>Here is my code</p>\n<pre><code>  @Override\npublic void configure() throws Exception {\n\n    rest(&quot;/api&quot;).description(&quot;Weather api&quot;)\n            .consumes(MediaType.APPLICATION_JSON_VALUE)\n            .produces(MediaType.APPLICATION_JSON_VALUE)\n            .get(&quot;/weather&quot;).description(&quot;Get weather by city&quot;)\n            .param().name(&quot;city&quot;).type(RestParamType.header).description(&quot;The city name&quot;).dataType(&quot;string&quot;).endParam()\n            .param().name(&quot;country&quot;).type(RestParamType.header).description(&quot;The country name&quot;).dataType(&quot;string&quot;).endParam()\n            .to(&quot;direct:weather&quot;);\n\n    from(&quot;direct:weather&quot;)\n            .log(&quot;Get weather by city&quot;)\n            .to(&quot;weather:foo?location=${header.city},${header.country}&amp;appid=8bb3bc2e4efb92992ed3e7190&amp;units=metric&quot;)\n            .log(&quot;Weather: ${body}&quot;);\n}\n</code></pre>\n<p>as you can see I got 2 parameters in rest api and I want to use these parameters in &quot;from&quot; part to pass these parameters to my camel weather api</p>\n<p>have any idea</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"score":0,"creation_date":1682681123,"post_id":76128880,"comment_id":134257582,"body_markdown":"Reference: https://rules.sonarsource.com/java/RSPEC-5845","body":"Reference: <a href=\"https://rules.sonarsource.com/java/RSPEC-5845\" rel=\"nofollow noreferrer\">rules.sonarsource.com/java/RSPEC-5845</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1682681992,"post_id":76128880,"comment_id":134257769,"body_markdown":"Lombok transforms your code into `Object transformedValue = engine.eval(script, bindings);`. And SonarQube warns when &quot;_comparing an object with an unrelated primitive (E.G. a string with an int)_&quot;. A possible fix on your side might be to change the assertion to `assertEquals(Boolean.TRUE, transformedValue);`","body":"Lombok transforms your code into <code>Object transformedValue = engine.eval(script, bindings);</code>. And SonarQube warns when &quot;<i>comparing an object with an unrelated primitive (E.G. a string with an int)</i>&quot;. A possible fix on your side might be to change the assertion to <code>assertEquals(Boolean.TRUE, transformedValue);</code>"}],"answers":[{"tags":[],"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682683842,"creation_date":1682681753,"answer_id":76129185,"question_id":76128880,"body_markdown":"I assume value of `transformedValue` is `&quot;true&quot;`, so I recommend changing:\r\n```java\r\nassertEquals(true, transformedValue);\r\n```\r\nto\r\n```java\r\nassertEquals(true, new Boolean(transformedValue.toString()));\r\n```\r\nfor getting the same type.\r\n\r\n---\r\n\r\n**Edit**\r\n\r\nYou can also create custom function:\r\n```java\r\npublic void myAssertEquals(boolean bool, Object obj) {\r\n  assertEquals(bool, new Boolean(obj.toString()));\r\n}\r\n```\r\n\r\nUsage:\r\n```java\r\nmyAssertEquals(true, transformedValue);\r\n```","title":"SonarQube recognize Lombok Val as Bug","body":"<p>I assume value of <code>transformedValue</code> is <code>&quot;true&quot;</code>, so I recommend changing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertEquals(true, transformedValue);\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertEquals(true, new Boolean(transformedValue.toString()));\n</code></pre>\n<p>for getting the same type.</p>\n<hr />\n<p><strong>Edit</strong></p>\n<p>You can also create custom function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void myAssertEquals(boolean bool, Object obj) {\n  assertEquals(bool, new Boolean(obj.toString()));\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myAssertEquals(true, transformedValue);\n</code></pre>\n"}],"owner":{"account_id":5031571,"reputation":805,"user_id":4528799,"accept_rate":81,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682683842,"creation_date":1682679444,"question_id":76128880,"body_markdown":"I have a java program with a line of code like this in the corresponding test file:\r\n\r\n```java\r\nval transformedValue = engine.eval(script, bindings);\r\nassertEquals(true, transformedValue);\r\n```\r\n\r\nWe are using the `Lombok::val` here but SonarQube Report says this is a bug.\r\n\r\n```\r\nChange the assertion arguments to not compare dissimilar types.\r\n```\r\n\r\nIs there a flag which could be used so that sonar get the right datatype?","title":"SonarQube recognize Lombok Val as Bug","body":"<p>I have a java program with a line of code like this in the corresponding test file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>val transformedValue = engine.eval(script, bindings);\nassertEquals(true, transformedValue);\n</code></pre>\n<p>We are using the <code>Lombok::val</code> here but SonarQube Report says this is a bug.</p>\n<pre><code>Change the assertion arguments to not compare dissimilar types.\n</code></pre>\n<p>Is there a flag which could be used so that sonar get the right datatype?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"score":0,"creation_date":1682683697,"post_id":76129403,"comment_id":134258157,"body_markdown":"Did you add the correct permission into the manifest? https://developer.android.com/guide/topics/permissions/overview","body":"Did you add the correct permission into the manifest? <a href=\"https://developer.android.com/guide/topics/permissions/overview\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/permissions/overview</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1682683857,"post_id":76129403,"comment_id":134258188,"body_markdown":"@GabeRAMturn, please tell which permissions. This is too vague. There are no permissions needed to my knowledge.","body":"@GabeRAMturn, please tell which permissions. This is too vague. There are no permissions needed to my knowledge."},{"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"score":0,"creation_date":1682683933,"post_id":76129403,"comment_id":134258209,"body_markdown":"Well, considering youre trying to access files, youd probably need to add file system permissions into the manifest.","body":"Well, considering youre trying to access files, youd probably need to add file system permissions into the manifest."},{"owner":{"display_name":"user18540930"},"score":0,"creation_date":1682683986,"post_id":76129403,"comment_id":134258222,"body_markdown":"I am checking it right now","body":"I am checking it right now"},{"owner":{"display_name":"user18540930"},"score":0,"creation_date":1682684198,"post_id":76129403,"comment_id":134258274,"body_markdown":"I added the permissions internet into the manifest file","body":"I added the permissions internet into the manifest file"},{"owner":{"account_id":10698530,"reputation":582,"user_id":7874746,"display_name":"Abdullah Javed"},"score":0,"creation_date":1682687620,"post_id":76129403,"comment_id":134259126,"body_markdown":"https://developer.android.com/training/data-storage/shared/photopicker\nhttps://android-developers.googleblog.com/2023/04/photo-picker-everywhere.html","body":"<a href=\"https://developer.android.com/training/data-storage/shared/photopicker\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/shared/photopick&zwnj;&#8203;er</a> <a href=\"https://android-developers.googleblog.com/2023/04/photo-picker-everywhere.html\" rel=\"nofollow noreferrer\">android-developers.googleblog.com/2023/04/&hellip;</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1682688994,"post_id":76129403,"comment_id":134259439,"body_markdown":"@GabeRAMturn, No, certainly not if you let the user pick files. No permissions needed. Please dont confuse poster.","body":"@GabeRAMturn, No, certainly not if you let the user pick files. No permissions needed. Please dont confuse poster."},{"owner":{"display_name":"user18540930"},"score":0,"creation_date":1682689341,"post_id":76129403,"comment_id":134259518,"body_markdown":"Why isn&#39;t my activitylauncher working?? i ve been stuck to it for 2 days. Please help, where am i mistaking","body":"Why isn&#39;t my activitylauncher working?? i ve been stuck to it for 2 days. Please help, where am i mistaking"},{"owner":{"account_id":5849714,"reputation":86,"user_id":5362509,"display_name":"Lakshmi"},"score":0,"creation_date":1682752415,"post_id":76129403,"comment_id":134267916,"body_markdown":"I think you would need permissions to read the contents of the device for selecting image from the device. Refer to the below link.  https://stackoverflow.com/a/32617585/5362509","body":"I think you would need permissions to read the contents of the device for selecting image from the device. Refer to the below link.  <a href=\"https://stackoverflow.com/a/32617585/5362509\">stackoverflow.com/a/32617585/5362509</a>"},{"owner":{"display_name":"user18540930"},"score":0,"creation_date":1683374016,"post_id":76129403,"comment_id":134359007,"body_markdown":"I cannot use permission inside the fragment either. Program says &#39;cannot resolve symbol READ_EXTERNAL_STORAGE&#39; , even though it is in my manifests file.","body":"I cannot use permission inside the fragment either. Program says &#39;cannot resolve symbol READ_EXTERNAL_STORAGE&#39; , even though it is in my manifests file."}],"owner":{"display_name":"user18540930"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682683757,"creation_date":1682683526,"question_id":76129403,"body_markdown":"[![Login page][1]][1]I am coding the add fragment. That is on the right of the bottom navigation menu. But when i press add on the navigation it keeps navigating to the home page. And when it works properly i can not add a photo picker to users to pick image from gallery. My code is below[![enter image description here][2]][2]\r\n\r\n```\r\npackage com.example.uninotes;\r\n\r\nimport static android.app.Activity.RESULT_OK;\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport android.Manifest;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\npublic class AddFragment extends Fragment {\r\n\r\n    ImageView imgGallery;\r\n    Button btnGallery;\r\n\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; activitylauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    Log.d(TAG, &quot;onActivityResult: &quot;);\r\n                }\r\n            }\r\n    );\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_add,container,false);\r\n        btnGallery = getView().findViewById(R.id.clickable);\r\n        imgGallery = getView().findViewById(R.id.imageView2);\r\n\r\n        btnGallery.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Intent.ACTION_PICK,MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                activitylauncher.launch(intent);\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI was trying to make the user pick image from the gallery.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rBMT9.png\r\n  [2]: https://i.stack.imgur.com/atxlV.png","title":"I cannot add images from gallery Android Studio","body":"<p><a href=\"https://i.stack.imgur.com/rBMT9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rBMT9.png\" alt=\"Login page\" /></a>I am coding the add fragment. That is on the right of the bottom navigation menu. But when i press add on the navigation it keeps navigating to the home page. And when it works properly i can not add a photo picker to users to pick image from gallery. My code is below<a href=\"https://i.stack.imgur.com/atxlV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/atxlV.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package com.example.uninotes;\n\nimport static android.app.Activity.RESULT_OK;\nimport static android.content.ContentValues.TAG;\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.core.app.ActivityCompat;\nimport androidx.fragment.app.Fragment;\n\npublic class AddFragment extends Fragment {\n\n    ImageView imgGallery;\n    Button btnGallery;\n\n\n    ActivityResultLauncher&lt;Intent&gt; activitylauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    Log.d(TAG, &quot;onActivityResult: &quot;);\n                }\n            }\n    );\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n        View view = inflater.inflate(R.layout.fragment_add,container,false);\n        btnGallery = getView().findViewById(R.id.clickable);\n        imgGallery = getView().findViewById(R.id.imageView2);\n\n        btnGallery.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(Intent.ACTION_PICK,MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                activitylauncher.launch(intent);\n            }\n        });\n\n        return view;\n    }\n}\n</code></pre>\n<p>I was trying to make the user pick image from the gallery.</p>\n"},{"tags":["java","android","kotlin","surfaceview"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1682530546,"post_id":76113178,"comment_id":134232358,"body_markdown":"You&#39;d need to show us the actual code you&#39;re trying to optimize.  There&#39;s too many things you could be doing wrong to guess from a description","body":"You&#39;d need to show us the actual code you&#39;re trying to optimize.  There&#39;s too many things you could be doing wrong to guess from a description"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1682530590,"post_id":76113178,"comment_id":134232369,"body_markdown":"But if 565 gets your 60fps and 8888 gets your 25, and 565 doesn&#39;t display correctly, odds are it&#39;s not actually doing any work.","body":"But if 565 gets your 60fps and 8888 gets your 25, and 565 doesn&#39;t display correctly, odds are it&#39;s not actually doing any work."},{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":0,"creation_date":1682533296,"post_id":76113178,"comment_id":134232885,"body_markdown":"Hi @GabeSechan I added the important code. I hope it is quite understandable...","body":"Hi @GabeSechan I added the important code. I hope it is quite understandable..."}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682683294,"creation_date":1682527237,"question_id":76113178,"body_markdown":"I am trying to improve speed of my drawing bitmap (bitmaps are made in Tiled application). I read that I can try to use RGB_565 option instead of ARGB_8888 when it comes to `createBitmap(...)` last argument. I also set `getHolder().setFormat(PixelFormat.RGB_565)` in the constructors of my custom SurfaceView class like somebody said in this post https://stackoverflow.com/a/14615533/21172734. \r\n\r\nNow **what I want is** to display all tiles on the screen because now only one of them shows up (because of changing Bitmap option from ARGB_8888 to RGB_565).\r\n\r\n&lt;s&gt;The problem is that when I set this RGB_565 in all those places the bitmaps are not drawing and I get blank screen but when there is ARGB_8888 set I have my bitmaps correctly displayed but slow. According to TinyDancer library with RGB_565 (empty screen) I get 60FPS while with ARGB_8888  I get only 20FPS so I want to improve it as much as possible.&lt;/s&gt;\r\n\r\n**EDIT**\r\n\r\nIt turned out my map somehow displays but only one layer, and this layer is even displayed partialy (only one tile). The majority of tiles don&#39;t show up. Before, I didn&#39;t notice that simply because my map was quite big. Now I reduce its size almost to minimum (8x8) and this map visual might makes no sense but it is for learning purposes and then later on making a tiled based game. \r\n\r\nNow, how it should looks like (screenshot from Tiled app). &#39;Grass&#39; layer is static layer of grass but layer &#39;anim&#39; is located in two places this tree  and moshrooms and they animate, tree - three frames of anim, moshrooms - two frames of anim:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd the only one tile that is displayed in phone when Bitmap.Config.RGB_565 is set. I bordered it with yellow circle \r\n\r\n\r\n[![enter image description here][2]][2]:\r\n\r\n\r\n\r\n\r\nARGB_8888 displays all tiles correctly, but as I said before I want RGB_565 because of better performance:\r\n\r\n**EDIT2**\r\n\r\nHere is my code.\r\n\r\nGameMainSurface.java\r\n\r\n    public class GameMainSurface extends GameSurface implements SurfaceHolder.Callback {\r\n\r\n    (...)\r\n    \r\n        public GameMainSurface(Context context) {\r\n            super(context);\r\n            this.context = context;\r\n            getHolder().setFormat(PixelFormat.RGB_565);\r\n            getHolder().addCallback(this);\r\n            setWillNotDraw(false);\r\n        }\r\n    \r\n        public GameMainSurface(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n            this.context = context;\r\n            getHolder().setFormat(PixelFormat.RGB_565);\r\n            getHolder().addCallback(this);\r\n            setWillNotDraw(false);\r\n        }\r\n    \r\n        public GameMainSurface(Context context, AttributeSet attrs, int defStyle) {\r\n            super(context, attrs, defStyle);\r\n            this.context = context;\r\n            getHolder().setFormat(PixelFormat.RGB_565);\r\n            getHolder().addCallback(this);\r\n            setWillNotDraw(false);\r\n        }\r\n    \r\n        @Override\r\n        public void draw(Canvas canvas) {\r\n            super.draw(canvas);\r\n    \r\n            Loader.drawTmxMaps(canvas, getContext());\r\n    \r\n            invalidate();\r\n        }\r\n\r\n    @Override\r\n    public void surfaceCreated(SurfaceHolder holder) {\r\n        this.holder = holder;\r\n        (...)\r\n        initMaps();\r\n    }\r\n\r\n    protected void initMaps() {\r\n        TileMapData tileMainMapData = TmxLoader.readTMX(&quot;map_main4.tmx&quot;, context);\r\n        TmxLoader.createBitmaps(tileMainMapData, 0, 4, this);\r\n     } \r\n    }\r\n\r\n  \r\n\r\nLoader.java\r\n\r\n    public class Loader {\r\n\r\n    private static final String TAG = TmxLoader.class.getSimpleName();\r\n\r\n    private static final Map&lt;Integer, Bitmap[]&gt; framesMap = new HashMap&lt;&gt;();\r\n    private static final Map&lt;Integer, Canvas[]&gt; canvasesMap = new HashMap&lt;&gt;();\r\n    private static final Map&lt;Integer, Long&gt; animsDuration = new HashMap&lt;&gt;();\r\n    private static final List&lt;Runnable&gt; runnables = new ArrayList&lt;&gt;();\r\n    private static final Handler handler = new Handler();\r\n\r\n    private static boolean isIterStarted = false;\r\n\r\n    (...)\r\n\r\n    public static TileMapData readTMX(String filename, Context c) {\r\n        TileMapData tileMapData = null;\r\n\r\n        // Initialize SAX\r\n        try {\r\n\r\n            SAXParserFactory spf = SAXParserFactory.newInstance();\r\n            SAXParser parser = spf.newSAXParser();\r\n            XMLReader reader = parser.getXMLReader();\r\n\r\n            // Create an instance of the TMX XML handler\r\n            // that will create a TileMapData object\r\n            TmxHandler handler = new TmxHandler();\r\n\r\n            reader.setContentHandler(handler);\r\n\r\n            AssetManager assetManager = c.getAssets();\r\n\r\n            reader.parse((new InputSource(assetManager.open(filename))));\r\n\r\n            // Extract the created object\r\n            tileMapData = handler.getData();\r\n\r\n\r\n        } catch (ParserConfigurationException pce) {\r\n            Log.e(TAG, &quot;SAX XML parse error&quot;, pce);\r\n        } catch (SAXException se) {\r\n            Log.e(TAG, &quot;SAX XML error&quot;, se);\r\n        } catch (IOException ioe) {\r\n            Log.e(TAG, &quot;SAX XML parse io error&quot;, ioe);\r\n        }\r\n\r\n        return tileMapData;\r\n    }\r\n\r\n    public static void createBitmaps(TileMapData t, int startLayer, int endLayer, GameSurface gameSurface) {\r\n\r\n        try {\r\n            AssetManager assetManager = gameSurface.getContext().getAssets();\r\n\r\n            Bitmap[] tilesets = new Bitmap[t.tilesets.size()];\r\n\r\n            for (int i = 0; i &lt; tilesets.length; i++) {\r\n                tilesets[i] = BitmapFactory.decodeStream(assetManager.open(t.tilesets.get(i).ImageFilename));\r\n            }\r\n\r\n            long currentGID;\r\n            Long localGID;\r\n            Integer currentTileSetIndex;\r\n            Rect source = new Rect(0, 0, 0, 0);\r\n            Rect dest = new Rect(0, 0, 0, 0);\r\n\r\n            boolean isAfterInit = false;\r\n            List&lt;Integer&gt; animFrames = new ArrayList&lt;&gt;();\r\n\r\n            for (int i = startLayer; i &lt; endLayer; i++) {\r\n                // endlessblow_main4.tmx = 12\r\n                for (int j = 0; j &lt; t.layers.get(i).height; j++) {\r\n                    // endlessblow_main4.tmx = 8\r\n                    for (int k = 0; k &lt; t.layers.get(i).width; k++) {\r\n\r\n                        currentGID = t.getGIDAt(k, j, i);\r\n                        localGID = t.getLocalID(currentGID);\r\n                        currentTileSetIndex = t.getTileSetIndex(currentGID);\r\n\r\n\r\n\r\n                        if (!isAfterInit) {\r\n                            animFrames = Stream.of(t.tilesets.get(currentTileSetIndex).tileAnimations).map(tileAnimation -&gt; tileAnimation.getTileFrames().size()).collect(Collectors.toList());\r\n                            for (int l = 0; l &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.size(); l++) {\r\n                                for (int m = 0; m &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().size(); m++) {\r\n                                    animsDuration.put(l, t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(m).getDuration());\r\n                                }\r\n                            }\r\n                            init(animFrames, t);\r\n                            isAfterInit = true;\r\n                        }\r\n\r\n                        if (localGID != null) {\r\n                            if (i == startLayer) {\r\n                                source.top = (((localGID).intValue()) / ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tileheight;\r\n                                source.left = (((localGID).intValue()) % ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tilewidth;\r\n                                source.bottom = source.top + t.tileheight;\r\n                                source.right = source.left + t.tilewidth;\r\n\r\n                                dest.top = j * t.tileheight;\r\n                                dest.left = k * t.tilewidth;\r\n                                dest.bottom = dest.top + t.tileheight;\r\n                                dest.right = dest.left + t.tilewidth;\r\n\r\n                                for (Canvas canvas : canvasesMap.get(0)) {\r\n                                    canvas.drawBitmap(tilesets[currentTileSetIndex], source, dest, null);\r\n                                }\r\n                            } else {\r\n                                for (int l = 0; l &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.size(); l++) {\r\n\r\n                                    if (localGID == t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getLocalGID()) {\r\n                                        for (int frame = 0; frame &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().size(); frame++) {\r\n\r\n                                            source.top = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() / ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tileheight);\r\n                                            source.left = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() % ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tilewidth);\r\n                                            source.bottom = source.top + t.tileheight;\r\n                                            source.right = source.left + t.tilewidth;\r\n\r\n                                            dest.top = j * t.tileheight;\r\n                                            dest.left = k * t.tilewidth;\r\n                                            dest.bottom = dest.top + t.tileheight;\r\n                                            dest.right = dest.left + t.tilewidth;\r\n\r\n                                            canvasesMap.get(l)[frame].drawBitmap(tilesets[currentTileSetIndex], source, dest, null);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (int i = 0; i &lt; framesMap.size(); i++) {\r\n                for (int j = 0; j &lt; animFrames.get(i); j++) {\r\n                    framesMap.get(i)[j] = Bitmap.createScaledBitmap(framesMap.get(i)[j], gameSurface.getCellWidth() * t.width, gameSurface.getCellHeight() * t.height, false);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            Log.e(TAG, e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n    private static void init(List&lt;Integer&gt; animFrames, TileMapData t) {\r\n        for (int i = 0; i &lt; animFrames.size(); i++) {\r\n            runnables.add(new FrameDurationRunnable(animFrames.get(i), animsDuration.get(i)));\r\n            framesMap.put(i, new Bitmap[animFrames.get(i)]);\r\n            canvasesMap.put(i, new Canvas[animFrames.get(i)]);\r\n            for (int j = 0; j &lt; animFrames.get(i); j++) {\r\n                framesMap.get(i)[j] = Bitmap.createBitmap(t.width * t.tilewidth, t.height * t.tileheight, Bitmap.Config.RGB_565);\r\n                canvasesMap.get(i)[j] = new Canvas(framesMap.get(i)[j]);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static void drawTmxMaps(Canvas canvas, Context context) {\r\n        for (int i = 0; i &lt; framesMap.size(); i++) {\r\n            canvas.drawBitmap(framesMap.get(i)[((FrameDurationRunnable) runnables.get(i)).iter], 0, 0, null);\r\n        }\r\n\r\n        if (!isIterStarted) {\r\n            iterTmxFrames();\r\n            isIterStarted = true;\r\n        }\r\n    }\r\n\r\n\r\n    private static void iterTmxFrames() {\r\n        for (int i = 0; i &lt; runnables.size(); i++) {\r\n            handler.postDelayed(runnables.get(i), animsDuration.get(i));\r\n        }\r\n    }\r\n\r\n    private static class FrameDurationRunnable implements Runnable {\r\n        private final int animMaxIter;\r\n        private final long frameDuration;\r\n\r\n        private int iter;\r\n\r\n        FrameDurationRunnable(final int animMaxIter, final long frameDuration) {\r\n            this.animMaxIter = animMaxIter;\r\n            this.frameDuration = frameDuration;\r\n        }\r\n\r\n        public void run() {\r\n            iter++;\r\n            if (iter == animMaxIter) iter = 0;\r\n            handler.postDelayed(this, frameDuration);\r\n        }\r\n    }\r\n    }\r\n\r\nWhat solutions do you see?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ttqon.png\r\n  [2]: https://i.stack.imgur.com/fKmww.png","title":"Android createBitmap(...) with RGB_565 option instead of ARGB_8888 do not show most of tiles","body":"<p>I am trying to improve speed of my drawing bitmap (bitmaps are made in Tiled application). I read that I can try to use RGB_565 option instead of ARGB_8888 when it comes to <code>createBitmap(...)</code> last argument. I also set <code>getHolder().setFormat(PixelFormat.RGB_565)</code> in the constructors of my custom SurfaceView class like somebody said in this post <a href=\"https://stackoverflow.com/a/14615533/21172734\">https://stackoverflow.com/a/14615533/21172734</a>.</p>\n<p>Now <strong>what I want is</strong> to display all tiles on the screen because now only one of them shows up (because of changing Bitmap option from ARGB_8888 to RGB_565).</p>\n<p><s>The problem is that when I set this RGB_565 in all those places the bitmaps are not drawing and I get blank screen but when there is ARGB_8888 set I have my bitmaps correctly displayed but slow. According to TinyDancer library with RGB_565 (empty screen) I get 60FPS while with ARGB_8888  I get only 20FPS so I want to improve it as much as possible.</s></p>\n<p><strong>EDIT</strong></p>\n<p>It turned out my map somehow displays but only one layer, and this layer is even displayed partialy (only one tile). The majority of tiles don't show up. Before, I didn't notice that simply because my map was quite big. Now I reduce its size almost to minimum (8x8) and this map visual might makes no sense but it is for learning purposes and then later on making a tiled based game.</p>\n<p>Now, how it should looks like (screenshot from Tiled app). 'Grass' layer is static layer of grass but layer 'anim' is located in two places this tree  and moshrooms and they animate, tree - three frames of anim, moshrooms - two frames of anim:</p>\n<p><a href=\"https://i.stack.imgur.com/ttqon.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ttqon.png\" alt=\"enter image description here\" /></a></p>\n<p>And the only one tile that is displayed in phone when Bitmap.Config.RGB_565 is set. I bordered it with yellow circle</p>\n<p><a href=\"https://i.stack.imgur.com/fKmww.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fKmww.png\" alt=\"enter image description here\" /></a>:</p>\n<p>ARGB_8888 displays all tiles correctly, but as I said before I want RGB_565 because of better performance:</p>\n<p><strong>EDIT2</strong></p>\n<p>Here is my code.</p>\n<p>GameMainSurface.java</p>\n<pre><code>public class GameMainSurface extends GameSurface implements SurfaceHolder.Callback {\n\n(...)\n\n    public GameMainSurface(Context context) {\n        super(context);\n        this.context = context;\n        getHolder().setFormat(PixelFormat.RGB_565);\n        getHolder().addCallback(this);\n        setWillNotDraw(false);\n    }\n\n    public GameMainSurface(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        this.context = context;\n        getHolder().setFormat(PixelFormat.RGB_565);\n        getHolder().addCallback(this);\n        setWillNotDraw(false);\n    }\n\n    public GameMainSurface(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n        this.context = context;\n        getHolder().setFormat(PixelFormat.RGB_565);\n        getHolder().addCallback(this);\n        setWillNotDraw(false);\n    }\n\n    @Override\n    public void draw(Canvas canvas) {\n        super.draw(canvas);\n\n        Loader.drawTmxMaps(canvas, getContext());\n\n        invalidate();\n    }\n\n@Override\npublic void surfaceCreated(SurfaceHolder holder) {\n    this.holder = holder;\n    (...)\n    initMaps();\n}\n\nprotected void initMaps() {\n    TileMapData tileMainMapData = TmxLoader.readTMX(&quot;map_main4.tmx&quot;, context);\n    TmxLoader.createBitmaps(tileMainMapData, 0, 4, this);\n } \n}\n</code></pre>\n<p>Loader.java</p>\n<pre><code>public class Loader {\n\nprivate static final String TAG = TmxLoader.class.getSimpleName();\n\nprivate static final Map&lt;Integer, Bitmap[]&gt; framesMap = new HashMap&lt;&gt;();\nprivate static final Map&lt;Integer, Canvas[]&gt; canvasesMap = new HashMap&lt;&gt;();\nprivate static final Map&lt;Integer, Long&gt; animsDuration = new HashMap&lt;&gt;();\nprivate static final List&lt;Runnable&gt; runnables = new ArrayList&lt;&gt;();\nprivate static final Handler handler = new Handler();\n\nprivate static boolean isIterStarted = false;\n\n(...)\n\npublic static TileMapData readTMX(String filename, Context c) {\n    TileMapData tileMapData = null;\n\n    // Initialize SAX\n    try {\n\n        SAXParserFactory spf = SAXParserFactory.newInstance();\n        SAXParser parser = spf.newSAXParser();\n        XMLReader reader = parser.getXMLReader();\n\n        // Create an instance of the TMX XML handler\n        // that will create a TileMapData object\n        TmxHandler handler = new TmxHandler();\n\n        reader.setContentHandler(handler);\n\n        AssetManager assetManager = c.getAssets();\n\n        reader.parse((new InputSource(assetManager.open(filename))));\n\n        // Extract the created object\n        tileMapData = handler.getData();\n\n\n    } catch (ParserConfigurationException pce) {\n        Log.e(TAG, &quot;SAX XML parse error&quot;, pce);\n    } catch (SAXException se) {\n        Log.e(TAG, &quot;SAX XML error&quot;, se);\n    } catch (IOException ioe) {\n        Log.e(TAG, &quot;SAX XML parse io error&quot;, ioe);\n    }\n\n    return tileMapData;\n}\n\npublic static void createBitmaps(TileMapData t, int startLayer, int endLayer, GameSurface gameSurface) {\n\n    try {\n        AssetManager assetManager = gameSurface.getContext().getAssets();\n\n        Bitmap[] tilesets = new Bitmap[t.tilesets.size()];\n\n        for (int i = 0; i &lt; tilesets.length; i++) {\n            tilesets[i] = BitmapFactory.decodeStream(assetManager.open(t.tilesets.get(i).ImageFilename));\n        }\n\n        long currentGID;\n        Long localGID;\n        Integer currentTileSetIndex;\n        Rect source = new Rect(0, 0, 0, 0);\n        Rect dest = new Rect(0, 0, 0, 0);\n\n        boolean isAfterInit = false;\n        List&lt;Integer&gt; animFrames = new ArrayList&lt;&gt;();\n\n        for (int i = startLayer; i &lt; endLayer; i++) {\n            // endlessblow_main4.tmx = 12\n            for (int j = 0; j &lt; t.layers.get(i).height; j++) {\n                // endlessblow_main4.tmx = 8\n                for (int k = 0; k &lt; t.layers.get(i).width; k++) {\n\n                    currentGID = t.getGIDAt(k, j, i);\n                    localGID = t.getLocalID(currentGID);\n                    currentTileSetIndex = t.getTileSetIndex(currentGID);\n\n\n\n                    if (!isAfterInit) {\n                        animFrames = Stream.of(t.tilesets.get(currentTileSetIndex).tileAnimations).map(tileAnimation -&gt; tileAnimation.getTileFrames().size()).collect(Collectors.toList());\n                        for (int l = 0; l &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.size(); l++) {\n                            for (int m = 0; m &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().size(); m++) {\n                                animsDuration.put(l, t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(m).getDuration());\n                            }\n                        }\n                        init(animFrames, t);\n                        isAfterInit = true;\n                    }\n\n                    if (localGID != null) {\n                        if (i == startLayer) {\n                            source.top = (((localGID).intValue()) / ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tileheight;\n                            source.left = (((localGID).intValue()) % ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tilewidth;\n                            source.bottom = source.top + t.tileheight;\n                            source.right = source.left + t.tilewidth;\n\n                            dest.top = j * t.tileheight;\n                            dest.left = k * t.tilewidth;\n                            dest.bottom = dest.top + t.tileheight;\n                            dest.right = dest.left + t.tilewidth;\n\n                            for (Canvas canvas : canvasesMap.get(0)) {\n                                canvas.drawBitmap(tilesets[currentTileSetIndex], source, dest, null);\n                            }\n                        } else {\n                            for (int l = 0; l &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.size(); l++) {\n\n                                if (localGID == t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getLocalGID()) {\n                                    for (int frame = 0; frame &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().size(); frame++) {\n\n                                        source.top = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() / ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tileheight);\n                                        source.left = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() % ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tilewidth);\n                                        source.bottom = source.top + t.tileheight;\n                                        source.right = source.left + t.tilewidth;\n\n                                        dest.top = j * t.tileheight;\n                                        dest.left = k * t.tilewidth;\n                                        dest.bottom = dest.top + t.tileheight;\n                                        dest.right = dest.left + t.tilewidth;\n\n                                        canvasesMap.get(l)[frame].drawBitmap(tilesets[currentTileSetIndex], source, dest, null);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        for (int i = 0; i &lt; framesMap.size(); i++) {\n            for (int j = 0; j &lt; animFrames.get(i); j++) {\n                framesMap.get(i)[j] = Bitmap.createScaledBitmap(framesMap.get(i)[j], gameSurface.getCellWidth() * t.width, gameSurface.getCellHeight() * t.height, false);\n            }\n        }\n    } catch (IOException e) {\n        Log.e(TAG, e.getMessage());\n    }\n}\n\n\nprivate static void init(List&lt;Integer&gt; animFrames, TileMapData t) {\n    for (int i = 0; i &lt; animFrames.size(); i++) {\n        runnables.add(new FrameDurationRunnable(animFrames.get(i), animsDuration.get(i)));\n        framesMap.put(i, new Bitmap[animFrames.get(i)]);\n        canvasesMap.put(i, new Canvas[animFrames.get(i)]);\n        for (int j = 0; j &lt; animFrames.get(i); j++) {\n            framesMap.get(i)[j] = Bitmap.createBitmap(t.width * t.tilewidth, t.height * t.tileheight, Bitmap.Config.RGB_565);\n            canvasesMap.get(i)[j] = new Canvas(framesMap.get(i)[j]);\n        }\n    }\n}\n\n\npublic static void drawTmxMaps(Canvas canvas, Context context) {\n    for (int i = 0; i &lt; framesMap.size(); i++) {\n        canvas.drawBitmap(framesMap.get(i)[((FrameDurationRunnable) runnables.get(i)).iter], 0, 0, null);\n    }\n\n    if (!isIterStarted) {\n        iterTmxFrames();\n        isIterStarted = true;\n    }\n}\n\n\nprivate static void iterTmxFrames() {\n    for (int i = 0; i &lt; runnables.size(); i++) {\n        handler.postDelayed(runnables.get(i), animsDuration.get(i));\n    }\n}\n\nprivate static class FrameDurationRunnable implements Runnable {\n    private final int animMaxIter;\n    private final long frameDuration;\n\n    private int iter;\n\n    FrameDurationRunnable(final int animMaxIter, final long frameDuration) {\n        this.animMaxIter = animMaxIter;\n        this.frameDuration = frameDuration;\n    }\n\n    public void run() {\n        iter++;\n        if (iter == animMaxIter) iter = 0;\n        handler.postDelayed(this, frameDuration);\n    }\n}\n}\n</code></pre>\n<p>What solutions do you see?</p>\n"},{"tags":["java","selenium-webdriver","testng","rest-assured"],"comments":[{"owner":{"account_id":8808401,"reputation":243,"user_id":6582190,"accept_rate":7,"display_name":"Shankar Daitha"},"score":0,"creation_date":1682682947,"post_id":76129319,"comment_id":134257993,"body_markdown":"&lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;6.797&quot;/&gt;\n\n  &lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;0.371&quot;/&gt;\n\n  &lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;0.505&quot;/&gt;\n\n  &lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;0.481&quot;/&gt;\n\n\nMy TEST-TestSuite.xml file generated like this","body":"&lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;6.797&quot;/&gt;    &lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;0.371&quot;/&gt;    &lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;0.505&quot;/&gt;    &lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;0.481&quot;/&gt;   My TEST-TestSuite.xml file generated like this"}],"owner":{"account_id":8808401,"reputation":243,"user_id":6582190,"accept_rate":7,"display_name":"Shankar Daitha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682682835,"creation_date":1682682835,"question_id":76129319,"body_markdown":"I am using TestNg framework to execute the test cases. I am planning to integrate Jenkins with Testrail. Jenkins reads the TEST-TestSuite.xml file and send details to testRail. \r\n\r\nBut Testcase name is not coming in TEST-TestSuite.xml file. Following is my testNg.xml to execute tests. I tried two or three types but still not working.\r\n\r\nFile1 : \r\n\r\n```  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;External API regression Suite&quot; parallel=&quot;tests&quot; thread-count=&quot;3&quot;&gt;\r\n    &lt;groups&gt;\r\n        &lt;run&gt;\r\n            &lt;include name=&quot;Regression&quot;/&gt;\r\n        &lt;/run&gt;\r\n    &lt;/groups&gt;\r\n\r\n    &lt;test name=&quot;Token Generation Test Cases&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;ai.test.api.testsuite.test&quot;&gt;\r\n                &lt;methods&gt;\r\n                    &lt;include name=&quot;verifyTokenResponseWithValidCredentials&quot;&gt;\r\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token Response with Valid Credentials&quot;/&gt;\r\n                    &lt;/include&gt;\r\n                    &lt;include name=&quot;verifyTokenWithInvalidCredentials&quot;&gt;\r\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token with Invalid Credentials&quot;/&gt;\r\n                    &lt;/include&gt;\r\n                    &lt;include name=&quot;verifyTokenWithoutUsername&quot;&gt;\r\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token Without Username&quot;/&gt;\r\n                    &lt;/include&gt;\r\n                    &lt;include name=&quot;verifyTokenWithoutXapi&quot;&gt;\r\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token Without Xapi&quot;/&gt;\r\n                    &lt;/include&gt;\r\n                &lt;/methods&gt;\r\n            &lt;/class&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt; \r\n ```\r\n\r\n\r\nFile2 :\r\n\r\n\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;External API regression Suite&quot; parallel=&quot;tests&quot; thread-count=&quot;3&quot;&gt;\r\n    &lt;groups&gt;\r\n        &lt;run&gt;\r\n            &lt;include name=&quot;Regression&quot;/&gt;\r\n        &lt;/run&gt;\r\n    &lt;/groups&gt;\r\n\r\n    &lt;test name=&quot;Token Generation Test Cases&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;ai.test.api.testsuite.test&quot;&gt;\r\n                &lt;methods&gt;\r\n                    &lt;include name=&quot;verifyTokenResponseWithValidCredentials&quot; description=&quot;Verify token response with valid credentials&quot;/&gt;\r\n                    &lt;include name=&quot;verifyTokenWithInvalidCredentials&quot; description=&quot;Verify token response with invalid credentials&quot;/&gt;\r\n                    &lt;include name=&quot;verifyTokenWithoutUsername&quot; description=&quot;Verify token response without username&quot;/&gt;\r\n                    &lt;include name=&quot;verifyTokenWithouttoken&quot; description=&quot;Verify token response without xapi&quot;/&gt;\r\n                &lt;/methods&gt;\r\n            &lt;/class&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt; \r\n ```\r\n\r\n\r\nHow to get test name in &quot;TEST-TestSuite.xml&quot; file","title":"Testcase name is not coming in TEST-TestSuite.xml file","body":"<p>I am using TestNg framework to execute the test cases. I am planning to integrate Jenkins with Testrail. Jenkins reads the TEST-TestSuite.xml file and send details to testRail.</p>\n<p>But Testcase name is not coming in TEST-TestSuite.xml file. Following is my testNg.xml to execute tests. I tried two or three types but still not working.</p>\n<p>File1 :</p>\n<pre><code>&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;External API regression Suite&quot; parallel=&quot;tests&quot; thread-count=&quot;3&quot;&gt;\n    &lt;groups&gt;\n        &lt;run&gt;\n            &lt;include name=&quot;Regression&quot;/&gt;\n        &lt;/run&gt;\n    &lt;/groups&gt;\n\n    &lt;test name=&quot;Token Generation Test Cases&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;ai.test.api.testsuite.test&quot;&gt;\n                &lt;methods&gt;\n                    &lt;include name=&quot;verifyTokenResponseWithValidCredentials&quot;&gt;\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token Response with Valid Credentials&quot;/&gt;\n                    &lt;/include&gt;\n                    &lt;include name=&quot;verifyTokenWithInvalidCredentials&quot;&gt;\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token with Invalid Credentials&quot;/&gt;\n                    &lt;/include&gt;\n                    &lt;include name=&quot;verifyTokenWithoutUsername&quot;&gt;\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token Without Username&quot;/&gt;\n                    &lt;/include&gt;\n                    &lt;include name=&quot;verifyTokenWithoutXapi&quot;&gt;\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token Without Xapi&quot;/&gt;\n                    &lt;/include&gt;\n                &lt;/methods&gt;\n            &lt;/class&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt; \n</code></pre>\n<p>File2 :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;External API regression Suite&quot; parallel=&quot;tests&quot; thread-count=&quot;3&quot;&gt;\n    &lt;groups&gt;\n        &lt;run&gt;\n            &lt;include name=&quot;Regression&quot;/&gt;\n        &lt;/run&gt;\n    &lt;/groups&gt;\n\n    &lt;test name=&quot;Token Generation Test Cases&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;ai.test.api.testsuite.test&quot;&gt;\n                &lt;methods&gt;\n                    &lt;include name=&quot;verifyTokenResponseWithValidCredentials&quot; description=&quot;Verify token response with valid credentials&quot;/&gt;\n                    &lt;include name=&quot;verifyTokenWithInvalidCredentials&quot; description=&quot;Verify token response with invalid credentials&quot;/&gt;\n                    &lt;include name=&quot;verifyTokenWithoutUsername&quot; description=&quot;Verify token response without username&quot;/&gt;\n                    &lt;include name=&quot;verifyTokenWithouttoken&quot; description=&quot;Verify token response without xapi&quot;/&gt;\n                &lt;/methods&gt;\n            &lt;/class&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt; \n</code></pre>\n<p>How to get test name in &quot;TEST-TestSuite.xml&quot; file</p>\n"},{"tags":["java","string","comparison"],"answers":[{"tags":[],"owner":{"account_id":95151,"reputation":14008,"user_id":259310,"accept_rate":25,"display_name":"Kilian Foth"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1345704173,"creation_date":1345704173,"answer_id":12089968,"question_id":12089967,"body_markdown":"Without iterating through the strings you can only know *that* they are different, not *where* - and that only if they are of different length. If you really need to know what the different characters are, you must step through both strings in tandem and compare characters at the corresponding places.","title":"Find difference between two Strings","body":"<p>Without iterating through the strings you can only know <em>that</em> they are different, not <em>where</em> - and that only if they are of different length. If you really need to know what the different characters are, you must step through both strings in tandem and compare characters at the corresponding places.</p>\n"},{"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1499131357,"creation_date":1345717676,"answer_id":12089970,"question_id":12089967,"body_markdown":"You can use [StringUtils.difference(String first, String second)][1].\r\n\r\nThis is how they implemented it:\r\n\r\n    public static String difference(String str1, String str2) {\r\n        if (str1 == null) {\r\n            return str2;\r\n        }\r\n        if (str2 == null) {\r\n            return str1;\r\n        }\r\n        int at = indexOfDifference(str1, str2);\r\n        if (at == INDEX_NOT_FOUND) {\r\n            return EMPTY;\r\n        }\r\n        return str2.substring(at);\r\n    }\r\n\r\n    public static int indexOfDifference(CharSequence cs1, CharSequence cs2) {\r\n        if (cs1 == cs2) {\r\n            return INDEX_NOT_FOUND;\r\n        }\r\n        if (cs1 == null || cs2 == null) {\r\n            return 0;\r\n        }\r\n        int i;\r\n        for (i = 0; i &lt; cs1.length() &amp;&amp; i &lt; cs2.length(); ++i) {\r\n            if (cs1.charAt(i) != cs2.charAt(i)) {\r\n                break;\r\n            }\r\n        }\r\n        if (i &lt; cs2.length() || i &lt; cs1.length()) {\r\n            return i;\r\n        }\r\n        return INDEX_NOT_FOUND;\r\n    }\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#difference(java.lang.String,%20java.lang.String)","title":"Find difference between two Strings","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#difference(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\">StringUtils.difference(String first, String second)</a>.</p>\n\n<p>This is how they implemented it:</p>\n\n<pre><code>public static String difference(String str1, String str2) {\n    if (str1 == null) {\n        return str2;\n    }\n    if (str2 == null) {\n        return str1;\n    }\n    int at = indexOfDifference(str1, str2);\n    if (at == INDEX_NOT_FOUND) {\n        return EMPTY;\n    }\n    return str2.substring(at);\n}\n\npublic static int indexOfDifference(CharSequence cs1, CharSequence cs2) {\n    if (cs1 == cs2) {\n        return INDEX_NOT_FOUND;\n    }\n    if (cs1 == null || cs2 == null) {\n        return 0;\n    }\n    int i;\n    for (i = 0; i &lt; cs1.length() &amp;&amp; i &lt; cs2.length(); ++i) {\n        if (cs1.charAt(i) != cs2.charAt(i)) {\n            break;\n        }\n    }\n    if (i &lt; cs2.length() || i &lt; cs1.length()) {\n        return i;\n    }\n    return INDEX_NOT_FOUND;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":515883,"reputation":4966,"user_id":1128668,"accept_rate":54,"display_name":"GlenPeterson"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1345722931,"creation_date":1345722931,"answer_id":12090993,"question_id":12089967,"body_markdown":"    String strDiffChop(String s1, String s2) {\r\n        if (s1.length &gt; s2.length) {\r\n            return s1.substring(s2.length - 1);\r\n        } else if (s2.length &gt; s1.length) {\r\n            return s2.substring(s1.length - 1);\r\n        } else {\r\n            return null;\r\n        }\r\n    }","title":"Find difference between two Strings","body":"<pre><code>String strDiffChop(String s1, String s2) {\n    if (s1.length &gt; s2.length) {\n        return s1.substring(s2.length - 1);\n    } else if (s2.length &gt; s1.length) {\n        return s2.substring(s1.length - 1);\n    } else {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3746354,"reputation":1442,"user_id":3114945,"accept_rate":60,"display_name":"stolen_leaves"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426075459,"creation_date":1426075459,"answer_id":28986180,"question_id":12089967,"body_markdown":"To find the words that are different in the two lines, one can use the following code. \r\n\r\n\r\n        String[] strList1 = str1.split(&quot; &quot;);\r\n        String[] strList2 = str2.split(&quot; &quot;);\r\n\r\n        List&lt;String&gt; list1 = Arrays.asList(strList1);\r\n        List&lt;String&gt; list2 = Arrays.asList(strList2);\r\n\r\n        // Prepare a union\r\n        List&lt;String&gt; union = new ArrayList&lt;&gt;(list1);\r\n        union.addAll(list2);\r\n\r\n        // Prepare an intersection\r\n        List&lt;String&gt; intersection = new ArrayList&lt;&gt;(list1);\r\n        intersection.retainAll(list2);\r\n\r\n        // Subtract the intersection from the union\r\n        union.removeAll(intersection);\r\n\r\n        for (String s : union) {\r\n            System.out.println(s);\r\n        }\r\n\r\nIn the end, you will have a list of words that are different in both the lists. One can modify it easily to simply have the different words in the first list or the second list and not simultaneously. This can be done by removing the intersection from only from list1 or list2 instead of the union. \r\n\r\nComputing the exact location can be done by adding up the lengths of each word in the split list (along with the splitting regex) or by simply doing String.indexOf(&quot;subStr&quot;).","title":"Find difference between two Strings","body":"<p>To find the words that are different in the two lines, one can use the following code. </p>\n\n<pre><code>    String[] strList1 = str1.split(\" \");\n    String[] strList2 = str2.split(\" \");\n\n    List&lt;String&gt; list1 = Arrays.asList(strList1);\n    List&lt;String&gt; list2 = Arrays.asList(strList2);\n\n    // Prepare a union\n    List&lt;String&gt; union = new ArrayList&lt;&gt;(list1);\n    union.addAll(list2);\n\n    // Prepare an intersection\n    List&lt;String&gt; intersection = new ArrayList&lt;&gt;(list1);\n    intersection.retainAll(list2);\n\n    // Subtract the intersection from the union\n    union.removeAll(intersection);\n\n    for (String s : union) {\n        System.out.println(s);\n    }\n</code></pre>\n\n<p>In the end, you will have a list of words that are different in both the lists. One can modify it easily to simply have the different words in the first list or the second list and not simultaneously. This can be done by removing the intersection from only from list1 or list2 instead of the union. </p>\n\n<p>Computing the exact location can be done by adding up the lengths of each word in the split list (along with the splitting regex) or by simply doing String.indexOf(\"subStr\").</p>\n"},{"tags":[],"owner":{"account_id":3356749,"reputation":472,"user_id":2819501,"display_name":"ccu"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1646785572,"creation_date":1430335813,"answer_id":29952864,"question_id":12089967,"body_markdown":"To find the difference between 2 Strings you can use the **[StringUtils][1]** class and the ***difference*** method. It compares the two Strings, and returns the portion where they differ. \r\n\r\n     StringUtils.difference(null, null) = null\r\n     StringUtils.difference(&quot;&quot;, &quot;&quot;) = &quot;&quot;\r\n     StringUtils.difference(&quot;&quot;, &quot;abc&quot;) = &quot;abc&quot;\r\n     StringUtils.difference(&quot;abc&quot;, &quot;&quot;) = &quot;&quot;\r\n     StringUtils.difference(&quot;abc&quot;, &quot;abc&quot;) = &quot;&quot;\r\n     StringUtils.difference(&quot;ab&quot;, &quot;abxyz&quot;) = &quot;xyz&quot;\r\n     StringUtils.difference(&quot;abcde&quot;, &quot;abxyz&quot;) = &quot;xyz&quot;\r\n     StringUtils.difference(&quot;abcde&quot;, &quot;xyz&quot;) = &quot;xyz&quot;\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html","title":"Find difference between two Strings","body":"<p>To find the difference between 2 Strings you can use the <strong><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a></strong> class and the <em><strong>difference</strong></em> method. It compares the two Strings, and returns the portion where they differ.</p>\n<pre><code> StringUtils.difference(null, null) = null\n StringUtils.difference(&quot;&quot;, &quot;&quot;) = &quot;&quot;\n StringUtils.difference(&quot;&quot;, &quot;abc&quot;) = &quot;abc&quot;\n StringUtils.difference(&quot;abc&quot;, &quot;&quot;) = &quot;&quot;\n StringUtils.difference(&quot;abc&quot;, &quot;abc&quot;) = &quot;&quot;\n StringUtils.difference(&quot;ab&quot;, &quot;abxyz&quot;) = &quot;xyz&quot;\n StringUtils.difference(&quot;abcde&quot;, &quot;abxyz&quot;) = &quot;xyz&quot;\n StringUtils.difference(&quot;abcde&quot;, &quot;xyz&quot;) = &quot;xyz&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1942318,"reputation":661,"user_id":1898348,"display_name":"jjoller"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1549275584,"creation_date":1539185251,"answer_id":52743737,"question_id":12089967,"body_markdown":"The following Java snippet efficiently computes a minimal set of characters that have to be removed from (or added to) the respective strings in order to make the strings equal. It&#39;s an example of dynamic programming.\r\n\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class StringUtils {\r\n    \r\n    \t/**\r\n    \t * Examples\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(diff(&quot;this is a example&quot;, &quot;this is a examp&quot;)); // prints (le,)\r\n    \t\tSystem.out.println(diff(&quot;Honda&quot;, &quot;Hyundai&quot;)); // prints (o,yui)\r\n    \t\tSystem.out.println(diff(&quot;Toyota&quot;, &quot;Coyote&quot;)); // prints (Ta,Ce)\r\n    \t\tSystem.out.println(diff(&quot;Flomax&quot;, &quot;Volmax&quot;)); // prints (Fo,Vo)\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns a minimal set of characters that have to be removed from (or added to) the respective\r\n    \t * strings to make the strings equal.\r\n    \t */\r\n    \tpublic static Pair&lt;String&gt; diff(String a, String b) {\r\n    \t\treturn diffHelper(a, b, new HashMap&lt;&gt;());\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Recursively compute a minimal set of characters while remembering already computed substrings.\r\n    \t * Runs in O(n^2).\r\n    \t */\r\n    \tprivate static Pair&lt;String&gt; diffHelper(String a, String b, Map&lt;Long, Pair&lt;String&gt;&gt; lookup) {\r\n    \t\tlong key = ((long) a.length()) &lt;&lt; 32 | b.length();\r\n            if (!lookup.containsKey(key)) {\r\n                Pair&lt;String&gt; value;\r\n                if (a.isEmpty() || b.isEmpty()) {\r\n                    value = new Pair&lt;&gt;(a, b);\r\n                } else if (a.charAt(0) == b.charAt(0)) {\r\n                    value = diffHelper(a.substring(1), b.substring(1), lookup);\r\n                } else {\r\n                    Pair&lt;String&gt; aa = diffHelper(a.substring(1), b, lookup);\r\n                    Pair&lt;String&gt; bb = diffHelper(a, b.substring(1), lookup);\r\n                    if (aa.first.length() + aa.second.length() &lt; bb.first.length() + bb.second.length()) {\r\n                        value = new Pair&lt;&gt;(a.charAt(0) + aa.first, aa.second);\r\n                    } else {\r\n                        value = new Pair&lt;&gt;(bb.first, b.charAt(0) + bb.second);\r\n                    }\r\n                }\r\n                lookup.put(key, value);\r\n            }\r\n            return lookup.get(key);\r\n    \t}\r\n    \r\n    \tpublic static class Pair&lt;T&gt; {\r\n    \t\tpublic Pair(T first, T second) {\r\n    \t\t\tthis.first = first;\r\n    \t\t\tthis.second = second;\r\n    \t\t}\r\n    \r\n    \t\tpublic final T first, second;\r\n    \r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;(&quot; + first + &quot;,&quot; + second + &quot;)&quot;;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Find difference between two Strings","body":"<p>The following Java snippet efficiently computes a minimal set of characters that have to be removed from (or added to) the respective strings in order to make the strings equal. It's an example of dynamic programming.</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class StringUtils {\n\n    /**\n     * Examples\n     */\n    public static void main(String[] args) {\n        System.out.println(diff(\"this is a example\", \"this is a examp\")); // prints (le,)\n        System.out.println(diff(\"Honda\", \"Hyundai\")); // prints (o,yui)\n        System.out.println(diff(\"Toyota\", \"Coyote\")); // prints (Ta,Ce)\n        System.out.println(diff(\"Flomax\", \"Volmax\")); // prints (Fo,Vo)\n    }\n\n    /**\n     * Returns a minimal set of characters that have to be removed from (or added to) the respective\n     * strings to make the strings equal.\n     */\n    public static Pair&lt;String&gt; diff(String a, String b) {\n        return diffHelper(a, b, new HashMap&lt;&gt;());\n    }\n\n    /**\n     * Recursively compute a minimal set of characters while remembering already computed substrings.\n     * Runs in O(n^2).\n     */\n    private static Pair&lt;String&gt; diffHelper(String a, String b, Map&lt;Long, Pair&lt;String&gt;&gt; lookup) {\n        long key = ((long) a.length()) &lt;&lt; 32 | b.length();\n        if (!lookup.containsKey(key)) {\n            Pair&lt;String&gt; value;\n            if (a.isEmpty() || b.isEmpty()) {\n                value = new Pair&lt;&gt;(a, b);\n            } else if (a.charAt(0) == b.charAt(0)) {\n                value = diffHelper(a.substring(1), b.substring(1), lookup);\n            } else {\n                Pair&lt;String&gt; aa = diffHelper(a.substring(1), b, lookup);\n                Pair&lt;String&gt; bb = diffHelper(a, b.substring(1), lookup);\n                if (aa.first.length() + aa.second.length() &lt; bb.first.length() + bb.second.length()) {\n                    value = new Pair&lt;&gt;(a.charAt(0) + aa.first, aa.second);\n                } else {\n                    value = new Pair&lt;&gt;(bb.first, b.charAt(0) + bb.second);\n                }\n            }\n            lookup.put(key, value);\n        }\n        return lookup.get(key);\n    }\n\n    public static class Pair&lt;T&gt; {\n        public Pair(T first, T second) {\n            this.first = first;\n            this.second = second;\n        }\n\n        public final T first, second;\n\n        public String toString() {\n            return \"(\" + first + \",\" + second + \")\";\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":946995,"reputation":43606,"user_id":974045,"display_name":"Gibolt"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1610317074,"creation_date":1564541734,"answer_id":57282530,"question_id":12089967,"body_markdown":"To directly get only the changed section, and not just the end, you can use Google&#39;s [Diff Match Patch][1].\r\n\r\n    List&lt;Diff&gt; diffs = new DiffMatchPatch().diffMain(&quot;stringend&quot;, &quot;stringdiffend&quot;);\r\n    for (Diff diff : diffs) {\r\n      if (diff.operation == Operation.INSERT) {\r\n        return diff.text; // Return only single diff, can also find multiple based on use case\r\n      }\r\n    }\r\n\r\nFor Android, add: `implementation &#39;org.bitbucket.cowwoc:diff-match-patch:1.2&#39;`\r\n\r\nThis package is far more powerful than just this feature, it is mainly used for creating diff related tools.\r\n\r\n  [1]: https://github.com/google/diff-match-patch","title":"Find difference between two Strings","body":"<p>To directly get only the changed section, and not just the end, you can use Google's <a href=\"https://github.com/google/diff-match-patch\" rel=\"noreferrer\">Diff Match Patch</a>.</p>\n<pre><code>List&lt;Diff&gt; diffs = new DiffMatchPatch().diffMain(&quot;stringend&quot;, &quot;stringdiffend&quot;);\nfor (Diff diff : diffs) {\n  if (diff.operation == Operation.INSERT) {\n    return diff.text; // Return only single diff, can also find multiple based on use case\n  }\n}\n</code></pre>\n<p>For Android, add: <code>implementation 'org.bitbucket.cowwoc:diff-match-patch:1.2'</code></p>\n<p>This package is far more powerful than just this feature, it is mainly used for creating diff related tools.</p>\n"},{"tags":[],"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571243943,"creation_date":1571243943,"answer_id":58418006,"question_id":12089967,"body_markdown":"Another great library for discovering the difference between strings is DiffUtils at https://github.com/java-diff-utils.  I used Dmitry Naumenko&#39;s fork:\r\n\r\n    public void testDiffChange() {\r\n\t\tfinal List&lt;String&gt; changeTestFrom = Arrays.asList(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;);\r\n\t\tfinal List&lt;String&gt; changeTestTo = Arrays.asList(&quot;aaa&quot;, &quot;zzz&quot;, &quot;ccc&quot;);\r\n\t\tSystem.out.println(&quot;changeTestFrom=&quot; + changeTestFrom);\r\n\t\tSystem.out.println(&quot;changeTestTo=&quot; + changeTestTo);\r\n\t\tfinal Patch&lt;String&gt; patch0 = DiffUtils.diff(changeTestFrom, changeTestTo);\r\n\t\tSystem.out.println(&quot;patch=&quot; + Arrays.toString(patch0.getDeltas().toArray()));\r\n\t\t\r\n\t\tString original = &quot;abcdefghijk&quot;;\r\n\t\tString badCopy =  &quot;abmdefghink&quot;;\r\n\t\tList&lt;Character&gt; originalList = original\r\n\t\t\t\t.chars() // Convert to an IntStream\r\n\t\t\t\t.mapToObj(i -&gt; (char) i) // Convert int to char, which gets boxed to Character\r\n\t\t\t\t.collect(Collectors.toList()); // Collect in a List&lt;Character&gt;\r\n\t\tList&lt;Character&gt; badCopyList = badCopy.chars().mapToObj(i -&gt; (char) i).collect(Collectors.toList());\r\n\t\tSystem.out.println(&quot;original=&quot; + original);\r\n\t\tSystem.out.println(&quot;badCopy=&quot; + badCopy);\r\n\t\tfinal Patch&lt;Character&gt; patch = DiffUtils.diff(originalList, badCopyList);\r\n\t\tSystem.out.println(&quot;patch=&quot; + Arrays.toString(patch.getDeltas().toArray()));\r\n\t}\r\n\r\nThe results show exactly what changed where (zero based counting):\r\n\r\n    changeTestFrom=[aaa, bbb, ccc]\r\n    changeTestTo=[aaa, zzz, ccc]\r\n    patch=[[ChangeDelta, position: 1, lines: [bbb] to [zzz]]]\r\n    original=abcdefghijk\r\n    badCopy=abmdefghink\r\n    patch=[[ChangeDelta, position: 2, lines: [c] to [m]], [ChangeDelta, position: 9, lines: [j] to [n]]]\r\n\r\n","title":"Find difference between two Strings","body":"<p>Another great library for discovering the difference between strings is DiffUtils at <a href=\"https://github.com/java-diff-utils\" rel=\"nofollow noreferrer\">https://github.com/java-diff-utils</a>.  I used Dmitry Naumenko's fork:</p>\n\n<pre><code>public void testDiffChange() {\n    final List&lt;String&gt; changeTestFrom = Arrays.asList(\"aaa\", \"bbb\", \"ccc\");\n    final List&lt;String&gt; changeTestTo = Arrays.asList(\"aaa\", \"zzz\", \"ccc\");\n    System.out.println(\"changeTestFrom=\" + changeTestFrom);\n    System.out.println(\"changeTestTo=\" + changeTestTo);\n    final Patch&lt;String&gt; patch0 = DiffUtils.diff(changeTestFrom, changeTestTo);\n    System.out.println(\"patch=\" + Arrays.toString(patch0.getDeltas().toArray()));\n\n    String original = \"abcdefghijk\";\n    String badCopy =  \"abmdefghink\";\n    List&lt;Character&gt; originalList = original\n            .chars() // Convert to an IntStream\n            .mapToObj(i -&gt; (char) i) // Convert int to char, which gets boxed to Character\n            .collect(Collectors.toList()); // Collect in a List&lt;Character&gt;\n    List&lt;Character&gt; badCopyList = badCopy.chars().mapToObj(i -&gt; (char) i).collect(Collectors.toList());\n    System.out.println(\"original=\" + original);\n    System.out.println(\"badCopy=\" + badCopy);\n    final Patch&lt;Character&gt; patch = DiffUtils.diff(originalList, badCopyList);\n    System.out.println(\"patch=\" + Arrays.toString(patch.getDeltas().toArray()));\n}\n</code></pre>\n\n<p>The results show exactly what changed where (zero based counting):</p>\n\n<pre><code>changeTestFrom=[aaa, bbb, ccc]\nchangeTestTo=[aaa, zzz, ccc]\npatch=[[ChangeDelta, position: 1, lines: [bbb] to [zzz]]]\noriginal=abcdefghijk\nbadCopy=abmdefghink\npatch=[[ChangeDelta, position: 2, lines: [c] to [m]], [ChangeDelta, position: 9, lines: [j] to [n]]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571244968,"creation_date":1571244968,"answer_id":58418246,"question_id":12089967,"body_markdown":"Google&#39;s Diff Match Patch is good, but it was a pain to install into my Java maven project. Just adding a maven dependency did not work; eclipse just created the directory and added the lastUpdated info files. Finally, on the third try, I added the following to my pom:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;fun.mike&lt;/groupId&gt;\r\n    \t &lt;artifactId&gt;diff-match-patch&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen I manually placed the jar and source jar files into my .m2 repo from https://search.maven.org/search?q=g:fun.mike%20AND%20a:diff-match-patch%20AND%20v:0.0.2 \r\n\r\nAfter all that, the following code worked:\r\n\r\n    import fun.mike.dmp.Diff;\r\n    import fun.mike.dmp.DiffMatchPatch;\r\n    \r\n    DiffMatchPatch dmp = new DiffMatchPatch();\r\n    LinkedList&lt;Diff&gt; diffs = dmp.diff_main(&quot;Hello World.&quot;, &quot;Goodbye World.&quot;);\r\n    System.out.println(diffs);\r\n\r\nThe result:\r\n\r\n    [Diff(DELETE,&quot;Hell&quot;), Diff(INSERT,&quot;G&quot;), Diff(EQUAL,&quot;o&quot;), Diff(INSERT,&quot;odbye&quot;), Diff(EQUAL,&quot; World.&quot;)]\r\n\r\nObviously, this was not originally written (or even ported fully) into Java. (diff_main? I can feel the C burning into my eyes :-) )\r\nStill, it works. And for people working with long and complex strings, it can be a valuable tool.\r\n","title":"Find difference between two Strings","body":"<p>Google's Diff Match Patch is good, but it was a pain to install into my Java maven project. Just adding a maven dependency did not work; eclipse just created the directory and added the lastUpdated info files. Finally, on the third try, I added the following to my pom:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;fun.mike&lt;/groupId&gt;\n     &lt;artifactId&gt;diff-match-patch&lt;/artifactId&gt;\n    &lt;version&gt;0.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then I manually placed the jar and source jar files into my .m2 repo from <a href=\"https://search.maven.org/search?q=g:fun.mike%20AND%20a:diff-match-patch%20AND%20v:0.0.2\" rel=\"nofollow noreferrer\">https://search.maven.org/search?q=g:fun.mike%20AND%20a:diff-match-patch%20AND%20v:0.0.2</a> </p>\n\n<p>After all that, the following code worked:</p>\n\n<pre><code>import fun.mike.dmp.Diff;\nimport fun.mike.dmp.DiffMatchPatch;\n\nDiffMatchPatch dmp = new DiffMatchPatch();\nLinkedList&lt;Diff&gt; diffs = dmp.diff_main(\"Hello World.\", \"Goodbye World.\");\nSystem.out.println(diffs);\n</code></pre>\n\n<p>The result:</p>\n\n<pre><code>[Diff(DELETE,\"Hell\"), Diff(INSERT,\"G\"), Diff(EQUAL,\"o\"), Diff(INSERT,\"odbye\"), Diff(EQUAL,\" World.\")]\n</code></pre>\n\n<p>Obviously, this was not originally written (or even ported fully) into Java. (diff_main? I can feel the C burning into my eyes :-) )\nStill, it works. And for people working with long and complex strings, it can be a valuable tool.</p>\n"},{"tags":[],"owner":{"account_id":19450392,"reputation":1,"user_id":14226944,"display_name":"Tathagata Chakraborti"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682682734,"creation_date":1624284839,"answer_id":68069520,"question_id":12089967,"body_markdown":"You may try this\r\n\r\n    String a = &quot;this is a example&quot;;\r\n    String b = &quot;this is a examp&quot;;\r\n    \r\n    String ans= a.replace(b, &quot;&quot;);\r\n    \r\n    System.out.print(ans);      \r\n    //ans=le","title":"Find difference between two Strings","body":"<p>You may try this</p>\n<pre><code>String a = &quot;this is a example&quot;;\nString b = &quot;this is a examp&quot;;\n\nString ans= a.replace(b, &quot;&quot;);\n\nSystem.out.print(ans);      \n//ans=le\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1607170,"reputation":7876,"user_id":1487025,"accept_rate":50,"display_name":"Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646334190,"creation_date":1646334190,"answer_id":71342471,"question_id":12089967,"body_markdown":"For a simple use case like this. You can check the sizes of the string and use the split function. For your example\r\n\r\n    a.split(b)[1]","title":"Find difference between two Strings","body":"<p>For a simple use case like this. You can check the sizes of the string and use the split function. For your example</p>\n<pre><code>a.split(b)[1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17049867,"reputation":2224,"user_id":12335762,"display_name":"Jasperan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646772192,"creation_date":1646772192,"answer_id":71401212,"question_id":12089967,"body_markdown":"On top of using `StringUtils.difference(String first, String second)` as seen in other answers, you can also use `StringUtils.indexOfDifference(String first, String second)` to get the index of where the strings start to differ. Ex:\r\n\r\n```Java\r\nStringUtils.indexOfDifference(&quot;abc&quot;, &quot;dabc&quot;) = 0\r\nStringUtils.indexOfDifference(&quot;abc&quot;, &quot;abcd&quot;) = 3\r\n```\r\n\r\nwhere 0 is used as the starting index.","title":"Find difference between two Strings","body":"<p>On top of using <code>StringUtils.difference(String first, String second)</code> as seen in other answers, you can also use <code>StringUtils.indexOfDifference(String first, String second)</code> to get the index of where the strings start to differ. Ex:</p>\n<pre><code>StringUtils.indexOfDifference(&quot;abc&quot;, &quot;dabc&quot;) = 0\nStringUtils.indexOfDifference(&quot;abc&quot;, &quot;abcd&quot;) = 3\n</code></pre>\n<p>where 0 is used as the starting index.</p>\n"},{"tags":[],"owner":{"account_id":171978,"reputation":1460,"user_id":399723,"accept_rate":25,"display_name":"Douglas Held"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674933760,"creation_date":1674933760,"answer_id":75270258,"question_id":12089967,"body_markdown":"I think the Levenshtein algorithm and the 3rd party libraries brought out for this very simple (and perhaps poorly stated?) test case are WAY overblown.\r\n\r\nAssuming your example does not suggest the two bytes are always different at the end, I&#39;d suggest the JDK&#39;s `Arrays.mismatch( byte[], byte[] )` to find the first index where the two bytes differ.\r\n\r\n\t\tString longer  = &quot;this is a example&quot;;\r\n\t\tString shorter = &quot;this is a examp&quot;;\r\n\t\tint differencePoint = Arrays.mismatch( longer.toCharArray(), shorter.toCharArray() );\r\n\t\tSystem.out.println( differencePoint );\r\n\r\nYou could now repeat the process if you suspect the second character is further along in the String. \r\n\r\nOr, if as you suggest in your example the two characters are together, there is nothing further to do. Your answer then would be:\r\n\r\n\t\tSystem.out.println( longer.charAt( differencePoint ) );\r\n\t\tSystem.out.println( longer.charAt( differencePoint + 1 ) );\r\n\r\nIf your string contains characters outside of the Basic Multilingual Plane - for example emoji - then you have to use a different technique. For example,\r\n\r\n\t\tString a = &quot;a &#128035; is cuter than a &#128007;.&quot;;\r\n\t\tString b = &quot;a &#128035; is cuter than a &#128057;.&quot;;\r\n\t\tint firstDifferentChar \t\t= Arrays.mismatch( a.toCharArray(), b.toCharArray() );\r\n\t\tint firstDifferentCodepoint\t= Arrays.mismatch( a.codePoints().toArray(), b.codePoints().toArray() );\r\n\t\tSystem.out.println( firstDifferentChar );\t\t// prints 22!\r\n\t\tSystem.out.println( firstDifferentCodepoint );\t// prints 20, which is correct.\r\n\t\tSystem.out.println( a.codePoints().toArray()[ firstDifferentCodepoint ] ); // prints out 128007\r\n\t\tSystem.out.println( new String( Character.toChars( 128007 ) ) ); // this prints the rabbit glyph.","title":"Find difference between two Strings","body":"<p>I think the Levenshtein algorithm and the 3rd party libraries brought out for this very simple (and perhaps poorly stated?) test case are WAY overblown.</p>\n<p>Assuming your example does not suggest the two bytes are always different at the end, I'd suggest the JDK's <code>Arrays.mismatch( byte[], byte[] )</code> to find the first index where the two bytes differ.</p>\n<pre><code>    String longer  = &quot;this is a example&quot;;\n    String shorter = &quot;this is a examp&quot;;\n    int differencePoint = Arrays.mismatch( longer.toCharArray(), shorter.toCharArray() );\n    System.out.println( differencePoint );\n</code></pre>\n<p>You could now repeat the process if you suspect the second character is further along in the String.</p>\n<p>Or, if as you suggest in your example the two characters are together, there is nothing further to do. Your answer then would be:</p>\n<pre><code>    System.out.println( longer.charAt( differencePoint ) );\n    System.out.println( longer.charAt( differencePoint + 1 ) );\n</code></pre>\n<p>If your string contains characters outside of the Basic Multilingual Plane - for example emoji - then you have to use a different technique. For example,</p>\n<pre><code>    String a = &quot;a  is cuter than a .&quot;;\n    String b = &quot;a  is cuter than a .&quot;;\n    int firstDifferentChar      = Arrays.mismatch( a.toCharArray(), b.toCharArray() );\n    int firstDifferentCodepoint = Arrays.mismatch( a.codePoints().toArray(), b.codePoints().toArray() );\n    System.out.println( firstDifferentChar );       // prints 22!\n    System.out.println( firstDifferentCodepoint );  // prints 20, which is correct.\n    System.out.println( a.codePoints().toArray()[ firstDifferentCodepoint ] ); // prints out 128007\n    System.out.println( new String( Character.toChars( 128007 ) ) ); // this prints the rabbit glyph.\n</code></pre>\n"}],"owner":{"account_id":1648811,"reputation":345,"user_id":4607167,"display_name":"user17526"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137606,"favorite_count":0,"down_vote_count":2,"up_vote_count":35,"answer_count":13,"score":33,"last_activity_date":1682682734,"creation_date":1345704029,"question_id":12089967,"body_markdown":"Suppose I have two long strings. They are almost same. \r\n\r\n\r\n    String a = &quot;this is a example&quot;\r\n    String b = &quot;this is a examp&quot;\r\n\r\nAbove code is just for example. Actual strings are quite long.\r\n\r\nProblem is one string have **2 more characters** than the other. \r\n\r\nHow can I check which are those two character? \r\n\r\n","title":"Find difference between two Strings","body":"<p>Suppose I have two long strings. They are almost same. </p>\n\n<pre><code>String a = \"this is a example\"\nString b = \"this is a examp\"\n</code></pre>\n\n<p>Above code is just for example. Actual strings are quite long.</p>\n\n<p>Problem is one string have <strong>2 more characters</strong> than the other. </p>\n\n<p>How can I check which are those two character? </p>\n"},{"tags":["java","annotations","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1682752536,"post_id":76129218,"comment_id":134267930,"body_markdown":"Welcome to SO. Your question is a typical instance of the [XY problem](https://meta.stackexchange.com/a/66378/309898): Your are descibing what you want to do technically instead of showing code and explaining the problem you actually want to solve. What is the point of putting the method signature into an annotation? You can easily get the signature from an aspect advice (via the joinpoint instance) or even from plain Java (via reflection). You would not put an extra sticker with your name on your ID card either, would you? The name is printed on the ID card already.","body":"Welcome to SO. Your question is a typical instance of the <a href=\"https://meta.stackexchange.com/a/66378/309898\">XY problem</a>: Your are descibing what you want to do technically instead of showing code and explaining the problem you actually want to solve. What is the point of putting the method signature into an annotation? You can easily get the signature from an aspect advice (via the joinpoint instance) or even from plain Java (via reflection). You would not put an extra sticker with your name on your ID card either, would you? The name is printed on the ID card already."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1682752693,"post_id":76129218,"comment_id":134267943,"body_markdown":"As for manipulating an annotation value via reflection: Don&#39;t even try, it will not yield consistent results, and it is not meant to either. The whole idea of annotation values is that they are constants defined at compile time. If you feel a need to change them, it only tells you that your application design is flawed. Don&#39;t try to dig a whole with a hammer.","body":"As for manipulating an annotation value via reflection: Don&#39;t even try, it will not yield consistent results, and it is not meant to either. The whole idea of annotation values is that they are constants defined at compile time. If you feel a need to change them, it only tells you that your application design is flawed. Don&#39;t try to dig a whole with a hammer."}],"owner":{"account_id":28084151,"reputation":1,"user_id":21454773,"display_name":"Ti1991"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682682149,"creation_date":1682682067,"question_id":76129218,"body_markdown":"I want to create an aspect, to declare some annotations to some methods, but with an variable parameter.\r\n\r\nAnnotation:\r\n\r\n\r\n```\r\n@Target({ElementType.METHOD, ElementType.CONSTRUCTOR})\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface MyCousomAnnotation {\r\n    String value() default &quot;&quot;;\r\n}\r\n```\r\n\r\nTrying to declare these annotation to methods in package: &quot;com.foo&quot; like this below:\r\nBut &lt;MethodSignuature&gt; should be the Signature of the Method, which is annotated with these annotation above. \r\n\r\n```\r\ndeclare @method : * com.foo..*(..) : @MyCustomAnnotaion(value=&lt;MethodSignuature&gt;)\r\n```\r\n\r\nIs it possible?\r\n \r\n\r\nTried to manipulate the &quot;value&quot; of the annotation with java reflection api.","title":"AspectJ Declaring Annotation with various Parameter values dependent on the method?","body":"<p>I want to create an aspect, to declare some annotations to some methods, but with an variable parameter.</p>\n<p>Annotation:</p>\n<pre><code>@Target({ElementType.METHOD, ElementType.CONSTRUCTOR})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyCousomAnnotation {\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p>Trying to declare these annotation to methods in package: &quot;com.foo&quot; like this below:\nBut  should be the Signature of the Method, which is annotated with these annotation above.</p>\n<pre><code>declare @method : * com.foo..*(..) : @MyCustomAnnotaion(value=&lt;MethodSignuature&gt;)\n</code></pre>\n<p>Is it possible?</p>\n<p>Tried to manipulate the &quot;value&quot; of the annotation with java reflection api.</p>\n"},{"tags":["java","xml","json","rest","restful-architecture"],"comments":[{"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"score":1,"creation_date":1394655018,"post_id":22362607,"comment_id":33992049,"body_markdown":"you mean using double the bandwidth for the same content?","body":"you mean using double the bandwidth for the same content?"},{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":1,"creation_date":1394657604,"post_id":22362607,"comment_id":33993706,"body_markdown":"Sorry for the confusion. But my question should have been &quot;Can a RESTful service generated both XML and JSON response at the same time but just send one based on the client&#39;s &#39;Accept&#39; header&quot; ?","body":"Sorry for the confusion. But my question should have been &quot;Can a RESTful service generated both XML and JSON response at the same time but just send one based on the client&#39;s &#39;Accept&#39; header&quot; ?"}],"answers":[{"tags":[],"owner":{"account_id":83351,"reputation":1229,"user_id":233751,"display_name":"Pl&#237;nio Pantale&#227;o"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394655821,"creation_date":1394655821,"answer_id":22362982,"question_id":22362607,"body_markdown":"No. The way you represent your resource should be defined by what your clients expect (there is a http-header to say what representations the client accept). \r\nThis means your server should check what is the representation the current client accepts and send the response in this representation (or send a response that says he cannot represent the resource in that media-type)","title":"Can a RESTful service return both JSON and XML for the same resource, depending on the request header?","body":"<p>No. The way you represent your resource should be defined by what your clients expect (there is a http-header to say what representations the client accept). \nThis means your server should check what is the representation the current client accepts and send the response in this representation (or send a response that says he cannot represent the resource in that media-type)</p>\n"},{"tags":[],"owner":{"account_id":3838966,"reputation":1970,"user_id":3182611,"display_name":"Mike Dunker"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1394730871,"creation_date":1394730871,"answer_id":22386032,"question_id":22362607,"body_markdown":"The same resource may return either XML or JSON depending upon the request, but it shouldn&#39;t return both at the same time. You will know which one to return based upon the request, so there is no need to generate both -- just generate the one you&#39;ll be returning.\r\n\r\nHere is how you might choose to decide which to return. Evaluate in order, stopping when you&#39;ve determined the format to return:\r\n\r\n 1. If an extension has been added to the resource (`GET /user/1234.json` or `GET /user/1234.xml`), use that as the requested format.\r\n 2. If an Accept header is set, use that header&#39;s value as the requested format.\r\n 3. If there is a request body (as in the case of a POST), and the Content-Type header specifies JSON or XML, use that.\r\n 4. Use a default format if none of the above apply (generally use JSON as your default unless your customers are generally still using XML).","title":"Can a RESTful service return both JSON and XML for the same resource, depending on the request header?","body":"<p>The same resource may return either XML or JSON depending upon the request, but it shouldn't return both at the same time. You will know which one to return based upon the request, so there is no need to generate both -- just generate the one you'll be returning.</p>\n\n<p>Here is how you might choose to decide which to return. Evaluate in order, stopping when you've determined the format to return:</p>\n\n<ol>\n<li>If an extension has been added to the resource (<code>GET /user/1234.json</code> or <code>GET /user/1234.xml</code>), use that as the requested format.</li>\n<li>If an Accept header is set, use that header's value as the requested format.</li>\n<li>If there is a request body (as in the case of a POST), and the Content-Type header specifies JSON or XML, use that.</li>\n<li>Use a default format if none of the above apply (generally use JSON as your default unless your customers are generally still using XML).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10480311,"reputation":39,"user_id":7725500,"display_name":"Kaji Rafiqul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682681799,"creation_date":1682681799,"answer_id":76129192,"question_id":22362607,"body_markdown":"**Step 1:** Add below dependency under dependencies section in pom.xml\r\n\r\n [![enter image description here][1]][1]\r\n\r\n**Step 2**: Go to your controller class (where mention @RestController) and add below :\r\n\r\n**For get method :**&lt;br&gt;\r\n@GetMapping(path = &quot;/getNews&quot;,produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE})&lt;br&gt;\r\npublic getmethod\r\n&lt;br&gt;{\r\n&lt;br&gt;//your logic &lt;br&gt;\r\n}\r\n\r\nsame like for other method  POST,PUT...&lt;br&gt;\r\n**For post method :**&lt;br&gt;\r\n@PostMapping(produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE} )  \r\npublic postmethod\r\n&lt;br&gt;{\r\n&lt;br&gt;//your logic&lt;br&gt; \r\n}\r\n\r\n**Step 3:** OUTPUT in POSTMAN &lt;br&gt;\r\nIn header section add Key and value&lt;br&gt;\r\n**For XML output** add -&gt; Key as Accept and Value as application/xml as below\r\n[![enter image description here][2]][2]\r\n**For JSON output** add -&gt; Key as Accept and Value as application/json as below\r\n [![enter image description here][3]][3]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sfown.png\r\n  [2]: https://i.stack.imgur.com/2Nzoo.png\r\n  [3]: https://i.stack.imgur.com/f8EGd.png","title":"Can a RESTful service return both JSON and XML for the same resource, depending on the request header?","body":"<p><strong>Step 1:</strong> Add below dependency under dependencies section in pom.xml</p>\n<p><a href=\"https://i.stack.imgur.com/sfown.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sfown.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step 2</strong>: Go to your controller class (where mention @RestController) and add below :</p>\n<p><strong>For get method :</strong><br>\n@GetMapping(path = &quot;/getNews&quot;,produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE})<br>\npublic getmethod\n<br>{\n<br>//your logic <br>\n}</p>\n<p>same like for other method  POST,PUT...<br>\n<strong>For post method :</strong><br>\n@PostMapping(produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE} )<br />\npublic postmethod\n<br>{\n<br>//your logic<br>\n}</p>\n<p><strong>Step 3:</strong> OUTPUT in POSTMAN <br>\nIn header section add Key and value<br>\n<strong>For XML output</strong> add -&gt; Key as Accept and Value as application/xml as below\n<a href=\"https://i.stack.imgur.com/2Nzoo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Nzoo.png\" alt=\"enter image description here\" /></a>\n<strong>For JSON output</strong> add -&gt; Key as Accept and Value as application/json as below\n<a href=\"https://i.stack.imgur.com/f8EGd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f8EGd.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51780,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":22386032,"answer_count":3,"score":10,"last_activity_date":1682681799,"creation_date":1394654672,"question_id":22362607,"body_markdown":"I have a simple RESTful method which currently returns JSON representation of an object. \r\n\r\nMy question is more of from the architectural perspective and not completely technical. \r\n\r\nShould a RESTful service be designed in such a way that it returns both JSON and XML at the same time?\r\n\r\nAs far as I know this is a bad practice and separate resources should be defined for this. One resource should return JSON data and other one XML. \r\n\r\nAm I thinking it correctly?","title":"Can a RESTful service return both JSON and XML for the same resource, depending on the request header?","body":"<p>I have a simple RESTful method which currently returns JSON representation of an object. </p>\n\n<p>My question is more of from the architectural perspective and not completely technical. </p>\n\n<p>Should a RESTful service be designed in such a way that it returns both JSON and XML at the same time?</p>\n\n<p>As far as I know this is a bad practice and separate resources should be defined for this. One resource should return JSON data and other one XML. </p>\n\n<p>Am I thinking it correctly?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157110,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624801748,"creation_date":1624797748,"answer_id":68151270,"question_id":68150947,"body_markdown":"You might use\r\n\r\n    &lt;(?:\\s{1,5}&lt;)*\\s*(?:\\d+\\s*)+&gt;(?:\\s{1,5}&gt;)*\r\n\r\n- `&lt;` Match literally\r\n- `(?:\\s{1,5}&lt;)*` Repeat 0+ times matches 1-5 whitespace chars followed by `&lt;`\r\n- `\\s*` Match optional whitespace chars\r\n- `(?:\\d+\\s*)+` Match 1+ times matching 1+ digits and optional whitespace chars\r\n- `&gt;` Match literally\r\n- `(?:\\s{1,5}&gt;)+` Repeat 0+ times matching 1-5 whitespace chars followed by `&gt;`\r\n\r\n[Regex demo](https://regex101.com/r/IFH0SK/1) | [Java demo](https://ideone.com/ht2d7O)\r\n\r\nNote that `\\s` could also match a newline. In Java you might also use `\\h{1,5}` to match horizontal whitespace chars.\r\n\r\nExample in Java:\r\n\r\n    String regex = &quot;&lt;(?:\\\\s{1,5}&lt;)*\\\\s*(?:\\\\d+\\\\s*)+&gt;(?:\\\\s{1,5}&gt;)*&quot;;\r\n    String string = &quot;&lt; &lt; &lt; &lt;      06   76           &gt; &gt;\\n&quot;\r\n    + &quot;&lt; &lt; &lt; &lt;                 &gt; &gt;\\n&quot;\r\n    + &quot;&lt; &lt; &lt; &lt;      06   76  &gt;\\n&quot;\r\n    + &quot;&lt; &lt; &lt; &lt;      06   76  \\n&quot;;\r\n    \r\n    Pattern pattern = Pattern.compile(regex);\r\n    Matcher matcher = pattern.matcher(string);\r\n    \r\n    while (matcher.find()) {\r\n        System.out.println(matcher.group(0));\r\n    }\r\n\r\nOutput\r\n\r\n    &lt; &lt; &lt; &lt;      06   76           &gt; &gt;\r\n    &lt; &lt; &lt; &lt;      06   76  &gt;\r\n\r\n**EDIT**\r\n\r\nThe pattern for the start of the paragraph\r\n\r\n    &lt;(?:\\s{1,4}&lt;){3}(?:\\s*\\d\\d){2}\\s*&gt;\\s{1,4}&gt;\r\n\r\n[Regex demo](https://regex101.com/r/mxcZcR/1)\r\n\r\nThe pattern for the end of the paragraph\r\n\r\n    &lt;\\s{1,4}&lt;(?:\\s*\\d\\d){2}\\s*&gt;(?:\\s{1,4}&gt;){3}\r\n\r\n[Regex demo](https://regex101.com/r/R6Gdcg/1)\r\n\r\nIf you want for example to get the content of the paragraph, you could use a capture group.\r\n\r\n    &lt;(?:\\s{1,4}&lt;){3}(?:\\s*\\d\\d){2}\\s*&gt;\\s{1,4}&gt;([\\s\\S]*?)&lt;\\s{1,4}&lt;(?:\\s*\\d\\d){2}\\s*&gt;(?:\\s{1,4}&gt;){3}\r\n\r\n[Regex demo](https://regex101.com/r/7CAe9I/1)\r\n","title":"RegEx issue using JAVA","body":"<p>You might use</p>\n<pre><code>&lt;(?:\\s{1,5}&lt;)*\\s*(?:\\d+\\s*)+&gt;(?:\\s{1,5}&gt;)*\n</code></pre>\n<ul>\n<li><code>&lt;</code> Match literally</li>\n<li><code>(?:\\s{1,5}&lt;)*</code> Repeat 0+ times matches 1-5 whitespace chars followed by <code>&lt;</code></li>\n<li><code>\\s*</code> Match optional whitespace chars</li>\n<li><code>(?:\\d+\\s*)+</code> Match 1+ times matching 1+ digits and optional whitespace chars</li>\n<li><code>&gt;</code> Match literally</li>\n<li><code>(?:\\s{1,5}&gt;)+</code> Repeat 0+ times matching 1-5 whitespace chars followed by <code>&gt;</code></li>\n</ul>\n<p><a href=\"https://regex101.com/r/IFH0SK/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/ht2d7O\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<p>Note that <code>\\s</code> could also match a newline. In Java you might also use <code>\\h{1,5}</code> to match horizontal whitespace chars.</p>\n<p>Example in Java:</p>\n<pre><code>String regex = &quot;&lt;(?:\\\\s{1,5}&lt;)*\\\\s*(?:\\\\d+\\\\s*)+&gt;(?:\\\\s{1,5}&gt;)*&quot;;\nString string = &quot;&lt; &lt; &lt; &lt;      06   76           &gt; &gt;\\n&quot;\n+ &quot;&lt; &lt; &lt; &lt;                 &gt; &gt;\\n&quot;\n+ &quot;&lt; &lt; &lt; &lt;      06   76  &gt;\\n&quot;\n+ &quot;&lt; &lt; &lt; &lt;      06   76  \\n&quot;;\n\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(string);\n\nwhile (matcher.find()) {\n    System.out.println(matcher.group(0));\n}\n</code></pre>\n<p>Output</p>\n<pre><code>&lt; &lt; &lt; &lt;      06   76           &gt; &gt;\n&lt; &lt; &lt; &lt;      06   76  &gt;\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>The pattern for the start of the paragraph</p>\n<pre><code>&lt;(?:\\s{1,4}&lt;){3}(?:\\s*\\d\\d){2}\\s*&gt;\\s{1,4}&gt;\n</code></pre>\n<p><a href=\"https://regex101.com/r/mxcZcR/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>The pattern for the end of the paragraph</p>\n<pre><code>&lt;\\s{1,4}&lt;(?:\\s*\\d\\d){2}\\s*&gt;(?:\\s{1,4}&gt;){3}\n</code></pre>\n<p><a href=\"https://regex101.com/r/R6Gdcg/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>If you want for example to get the content of the paragraph, you could use a capture group.</p>\n<pre><code>&lt;(?:\\s{1,4}&lt;){3}(?:\\s*\\d\\d){2}\\s*&gt;\\s{1,4}&gt;([\\s\\S]*?)&lt;\\s{1,4}&lt;(?:\\s*\\d\\d){2}\\s*&gt;(?:\\s{1,4}&gt;){3}\n</code></pre>\n<p><a href=\"https://regex101.com/r/7CAe9I/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"},{"tags":[],"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624799554,"creation_date":1624797841,"answer_id":68151289,"question_id":68150947,"body_markdown":"Something like this?\r\n```java\r\nString input = &quot;&lt;  &lt;       &lt;      &lt; 06  76    &gt;         &gt; &quot;;\r\n\r\n//For all tags\r\nPattern pat = Pattern.compile(&quot;(&lt; +)+([0-9]+ +)+(&gt; +)+&quot;);\r\n\r\n//For tag &lt; &lt; &lt; &lt; 06 76 &gt; &gt;\r\n//Pattern pat = Pattern.compile(&quot;(&lt; +){4}([0-9]+ +)+(&gt; +)+&quot;);\r\n\r\n//For tag &lt; &lt; 39 85 &gt; &gt; &gt; &gt;\r\n//Pattern pat = Pattern.compile(&quot;(&lt; +){2}([0-9]+ +)+(&gt; +)+&quot;);\r\n\r\nMatcher mat = pat.matcher(input);\r\n\r\nwhile(mat.find()) {\r\n    System.out.println(mat.group());\r\n}\r\n\r\n//Prints:\r\n//&lt;  &lt;       &lt;      &lt; 06  76    &gt;         &gt; \r\n```","title":"RegEx issue using JAVA","body":"<p>Something like this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;&lt;  &lt;       &lt;      &lt; 06  76    &gt;         &gt; &quot;;\n\n//For all tags\nPattern pat = Pattern.compile(&quot;(&lt; +)+([0-9]+ +)+(&gt; +)+&quot;);\n\n//For tag &lt; &lt; &lt; &lt; 06 76 &gt; &gt;\n//Pattern pat = Pattern.compile(&quot;(&lt; +){4}([0-9]+ +)+(&gt; +)+&quot;);\n\n//For tag &lt; &lt; 39 85 &gt; &gt; &gt; &gt;\n//Pattern pat = Pattern.compile(&quot;(&lt; +){2}([0-9]+ +)+(&gt; +)+&quot;);\n\nMatcher mat = pat.matcher(input);\n\nwhile(mat.find()) {\n    System.out.println(mat.group());\n}\n\n//Prints:\n//&lt;  &lt;       &lt;      &lt; 06  76    &gt;         &gt; \n</code></pre>\n"}],"owner":{"account_id":22065075,"reputation":35,"user_id":16327091,"display_name":"Lee Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68151289,"answer_count":2,"score":1,"last_activity_date":1682681606,"creation_date":1624795359,"question_id":68150947,"body_markdown":"After a week of searching the web and trying different approaches, i give up.\r\nI am facing an issue with regEx in Java and i am wondering if i can find some help here.\r\n\r\nI am trying to find this `&quot;&lt; &lt; &lt; &lt;      06   76           &gt; &gt; &quot;` pattern in a huge string that i have to search through.\r\nWhat i know is that, between the last `&quot;&lt;&quot;` and the first `&quot;&gt;&quot;` there can only be numbers type characters and any amount of spaces between the last `&quot;&gt;&quot;` and the first `&quot;&lt;&quot;`. Also, between each `&quot;&lt;&quot;` or `&quot;&gt;&quot;` can be from 1 to 5 spaces.\r\nI was able to create part of a pattern to use for my search, but i cant move forward from there.\r\nHere is what i was able to create as a search pattern. \r\n\r\n    \t\tString tag_open = &quot;&lt;\\\\s{0,4}&lt;\\\\s{0,4}&lt;\\\\s{0,4}&lt;\\\\s{0,4}&quot;;\r\n\r\nI am stuck trying to include the idea of &quot;any numbers, not more than 4 digits, separated by 1 to 5 spaces&quot;.\r\n\r\nFinally, i am able to &quot;close&quot; the pattern to be searched with\r\n\r\n    &quot;\\\\s{0,4}&gt;\\\\s{0,4}&gt;\\\\s{0,4}&quot;\r\n\r\n   \r\nSorry for the long text. I am trying to be as detailed as possible.\r\nThanks so much! \r\nRegards.\r\n\r\n\r\nI think i forgot to say something... I actually did... There are 2 types of &quot;tags&quot; that i have to look for... One is &quot; &lt; &lt; &lt; &lt; 06 76 &gt; &gt; &quot; and the second one is &quot; &lt; &lt; 39 85 &gt; &gt; &gt; &gt; &quot;. Where, the amount of spaces between each &quot;&lt;&quot; and &quot;&gt;&quot; can be from 1 to 4 and the same amount of spaces between the last &quot;&lt;&quot; and the first number character. The same idea is between the last number character and the first &quot;&gt;&quot;. Last, from 1 to 6 spaces between the numbers.\r\n\r\n\r\n\r\n\r\nOk... Hope its my last edit. :-)\r\nI have to find the position of those TWO type of tags that will show me the begging and the end of each paragraph. The begging of the paragraph is establish by the pattern:\r\nStart of paragraph: Four &quot;&lt;&lt;&lt;&lt;&quot;* + some spaces + 2 random digits + some spaces + 2 random digits + some spaces + Two &quot;&gt;&gt;&quot;*.\r\n* between the &quot;&lt;&quot; and &quot;&gt;&quot; can be between 1 to 4 spaces.\r\n\r\nEnd of paragraph: Two &quot;&lt;&lt;&quot;* + some spaces + 2 random digits + some spaces + 2 random digits + some spaces + Four &quot;&gt;&gt;&gt;&gt;&quot;*.\r\n* between the &quot;&lt;&quot; and &quot;&gt;&quot; can be between 1 to 4 spaces.\r\n\r\nHere is an example of a text paragraph:\r\n\r\n &lt; &lt; &lt; &lt;      06   76           &gt; &gt;\r\n Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec sit amet mauris lorem. Etiam aliquam iaculis tellus, ac accumsan velit. Vivamus venenatis diam sit amet elementum sollicitudin. Curabitur nec finibus tellus. Proin vestibulum placerat diam. Sed eget risus volutpat, placerat arcu non, commodo ex. Vivamus et ipsum efficitur, ornare nisi sit amet, venenatis diam. Sed aliquet lacinia nulla eu mattis. Integer dapibus, odio a rhoncus porttitor, tellus ligula imperdiet sem, at semper magna arcu a mauris. Vestibulum accumsan ornare aliquet. Curabitur a mollis ex, a ullamcorper enim. Donec urna nibh, vestibulum ut gravida vel, posuere id elit. Proin ut fringilla turpis.\r\n &lt; &lt;       06   76           &gt; &gt; &gt; &gt;\r\n \r\n \r\n&lt; &lt; &lt; &lt;      12   23           &gt; &gt;\r\nMorbi aliquet condimentum tempus. Fusce quis rutrum lacus. Curabitur blandit vestibulum lacinia. Ut ac maximus dolor. Suspendisse potenti. Sed quis turpis felis. Sed magna mauris, mattis non mi id, mollis posuere massa. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Suspendisse dictum sapien bibendum dictum ultricies. Suspendisse sed lectus egestas, congue ligula quis, fringilla sapien. Nullam et odio elit. Nullam pellentesque nunc tellus, vitae pharetra lorem congue id. \r\n&lt; &lt;      12   23           &gt; &gt; &gt; &gt;\r\n\r\nAgain, sorry for the long post and the many last minute edits.","title":"RegEx issue using JAVA","body":"<p>After a week of searching the web and trying different approaches, i give up.\nI am facing an issue with regEx in Java and i am wondering if i can find some help here.</p>\n<p>I am trying to find this <code>&quot;&lt; &lt; &lt; &lt;      06   76           &gt; &gt; &quot;</code> pattern in a huge string that i have to search through.\nWhat i know is that, between the last <code>&quot;&lt;&quot;</code> and the first <code>&quot;&gt;&quot;</code> there can only be numbers type characters and any amount of spaces between the last <code>&quot;&gt;&quot;</code> and the first <code>&quot;&lt;&quot;</code>. Also, between each <code>&quot;&lt;&quot;</code> or <code>&quot;&gt;&quot;</code> can be from 1 to 5 spaces.\nI was able to create part of a pattern to use for my search, but i cant move forward from there.\nHere is what i was able to create as a search pattern.</p>\n<pre><code>        String tag_open = &quot;&lt;\\\\s{0,4}&lt;\\\\s{0,4}&lt;\\\\s{0,4}&lt;\\\\s{0,4}&quot;;\n</code></pre>\n<p>I am stuck trying to include the idea of &quot;any numbers, not more than 4 digits, separated by 1 to 5 spaces&quot;.</p>\n<p>Finally, i am able to &quot;close&quot; the pattern to be searched with</p>\n<pre><code>&quot;\\\\s{0,4}&gt;\\\\s{0,4}&gt;\\\\s{0,4}&quot;\n</code></pre>\n<p>Sorry for the long text. I am trying to be as detailed as possible.\nThanks so much!\nRegards.</p>\n<p>I think i forgot to say something... I actually did... There are 2 types of &quot;tags&quot; that i have to look for... One is &quot; &lt; &lt; &lt; &lt; 06 76 &gt; &gt; &quot; and the second one is &quot; &lt; &lt; 39 85 &gt; &gt; &gt; &gt; &quot;. Where, the amount of spaces between each &quot;&lt;&quot; and &quot;&gt;&quot; can be from 1 to 4 and the same amount of spaces between the last &quot;&lt;&quot; and the first number character. The same idea is between the last number character and the first &quot;&gt;&quot;. Last, from 1 to 6 spaces between the numbers.</p>\n<p>Ok... Hope its my last edit. :-)\nI have to find the position of those TWO type of tags that will show me the begging and the end of each paragraph. The begging of the paragraph is establish by the pattern:\nStart of paragraph: Four &quot;&lt;&lt;&lt;&lt;&quot;* + some spaces + 2 random digits + some spaces + 2 random digits + some spaces + Two &quot;&gt;&gt;&quot;*.</p>\n<ul>\n<li>between the &quot;&lt;&quot; and &quot;&gt;&quot; can be between 1 to 4 spaces.</li>\n</ul>\n<p>End of paragraph: Two &quot;&lt;&lt;&quot;* + some spaces + 2 random digits + some spaces + 2 random digits + some spaces + Four &quot;&gt;&gt;&gt;&gt;&quot;*.</p>\n<ul>\n<li>between the &quot;&lt;&quot; and &quot;&gt;&quot; can be between 1 to 4 spaces.</li>\n</ul>\n<p>Here is an example of a text paragraph:</p>\n<p>&lt; &lt; &lt; &lt;      06   76           &gt; &gt;\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Donec sit amet mauris lorem. Etiam aliquam iaculis tellus, ac accumsan velit. Vivamus venenatis diam sit amet elementum sollicitudin. Curabitur nec finibus tellus. Proin vestibulum placerat diam. Sed eget risus volutpat, placerat arcu non, commodo ex. Vivamus et ipsum efficitur, ornare nisi sit amet, venenatis diam. Sed aliquet lacinia nulla eu mattis. Integer dapibus, odio a rhoncus porttitor, tellus ligula imperdiet sem, at semper magna arcu a mauris. Vestibulum accumsan ornare aliquet. Curabitur a mollis ex, a ullamcorper enim. Donec urna nibh, vestibulum ut gravida vel, posuere id elit. Proin ut fringilla turpis.\n&lt; &lt;       06   76           &gt; &gt; &gt; &gt;</p>\n<p>&lt; &lt; &lt; &lt;      12   23           &gt; &gt;\nMorbi aliquet condimentum tempus. Fusce quis rutrum lacus. Curabitur blandit vestibulum lacinia. Ut ac maximus dolor. Suspendisse potenti. Sed quis turpis felis. Sed magna mauris, mattis non mi id, mollis posuere massa. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Suspendisse dictum sapien bibendum dictum ultricies. Suspendisse sed lectus egestas, congue ligula quis, fringilla sapien. Nullam et odio elit. Nullam pellentesque nunc tellus, vitae pharetra lorem congue id.\n&lt; &lt;      12   23           &gt; &gt; &gt; &gt;</p>\n<p>Again, sorry for the long post and the many last minute edits.</p>\n"},{"tags":["java","extends"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1682680454,"post_id":76128981,"comment_id":134257467,"body_markdown":"What do you mean by &quot; have this in a while with a switch&quot;? Please show a [mcve]. How does this prevent you from casting it?","body":"What do you mean by &quot; have this in a while with a switch&quot;? Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. How does this prevent you from casting it?"},{"owner":{"account_id":213468,"reputation":103487,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682680541,"post_id":76128981,"comment_id":134257485,"body_markdown":"You use `if (msg instanceof ConnectionMessage connectionMessage) { connectionMessage.getInfo(); }` or similar.","body":"You use <code>if (msg instanceof ConnectionMessage connectionMessage) { connectionMessage.getInfo(); }</code> or similar."}],"answers":[{"tags":[],"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682681457,"creation_date":1682681457,"answer_id":76129140,"question_id":76128981,"body_markdown":"You can cast you message into the specific sub-type \r\n\r\n**Before Java 14**\r\n\r\n    if (msg instanceof ConnectionMessage) {\r\n       User user = ((ConnectionMessage) message).getInfo(); \r\n       // do something with the user\r\n    }\r\n\r\n\r\n**After Java 14**\r\n\r\n    if (msg instanceof ConnectionMessage connectionMessage) { \r\n        User user = connectionMessage.getInfo(); \r\n        // do something with the user\r\n    }\r\n\r\nIn this way, you will call the correct method.\r\n\r\nOther solutions would be:\r\n\r\n* adding an abstract method to your `Message` class. There you could call method without casting. Disadvantage: You need to implement the abstract method to every subclass of `Message`.\r\n* using reflections and test for the existance of the `getInfo` and call it via reflections. Generally speaking, you should not use reflections, if there is an native java way (like casting)\r\n","title":"How do I call a method from an extend Class in Java?","body":"<p>You can cast you message into the specific sub-type</p>\n<p><strong>Before Java 14</strong></p>\n<pre><code>if (msg instanceof ConnectionMessage) {\n   User user = ((ConnectionMessage) message).getInfo(); \n   // do something with the user\n}\n</code></pre>\n<p><strong>After Java 14</strong></p>\n<pre><code>if (msg instanceof ConnectionMessage connectionMessage) { \n    User user = connectionMessage.getInfo(); \n    // do something with the user\n}\n</code></pre>\n<p>In this way, you will call the correct method.</p>\n<p>Other solutions would be:</p>\n<ul>\n<li>adding an abstract method to your <code>Message</code> class. There you could call method without casting. Disadvantage: You need to implement the abstract method to every subclass of <code>Message</code>.</li>\n<li>using reflections and test for the existance of the <code>getInfo</code> and call it via reflections. Generally speaking, you should not use reflections, if there is an native java way (like casting)</li>\n</ul>\n"}],"owner":{"account_id":28444561,"reputation":11,"user_id":21763466,"display_name":"Danielps1818"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76129140,"answer_count":1,"score":0,"last_activity_date":1682681457,"creation_date":1682680234,"question_id":76128981,"body_markdown":"I have a general Class called &quot;Message&quot;:\r\n\r\n```\r\npublic abstract class Message {\r\n\r\n\tprivate int type;\r\n\tprivate String origin;\r\n\tprivate String destination;\r\n\t\r\n\tpublic Message(int type, String origin, String destination) {\r\n\t\tthis.type = type;\r\n\t\tthis.origin = origin;\r\n\t\tthis.destination = destination;\r\n\t}\r\n\r\n\tpublic int getType() {\r\n\t\treturn type;\r\n\t}\r\n\r\n\tpublic String getOrigin() {\r\n\t\treturn origin;\r\n\t}\r\n\r\n\tpublic String getDestination() {\r\n\t\treturn destination;\r\n\t}\r\n\t\r\n}\r\n````\r\n\r\nAlso I have 2 more classes that extend from that one. &quot;Conffirmation Connection Message&quot;\r\n\r\n```\r\npublic class ConnectionConffirmationMessage extends Message{\r\n\r\n\tpublic ConnectionConffirmationMessage(int type, String origin, String destination) {\r\n\t\tsuper(type, origin, destination);\r\n\t}\r\n\r\n}\r\n```\r\nand &quot;Connection Message&quot;\r\n\r\n\r\n```\r\npublic class ConnectionMessage extends Message{\r\n\t\r\n\tUser info;\r\n\r\n\tpublic ConnectionMessage(int type, String origin, String destination, User info) {\r\n\t\tsuper(type, origin, destination);\r\n\t\tthis.info = info;\r\n\t}\r\n\r\n\tpublic User getInfo() {\r\n\t\treturn info;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nMy problem is that now when I want to ask for the info when the Connection Message arrives I can&#39;t. Because the general class &quot;Message&quot; doesn&#39;t have the method &quot;getInfo()&quot;.\r\n\r\n`Message msg = (Message) fin.readObject();`\r\n\r\nAny idea of what can I do?\r\n\r\nAlso, I can&#39;t simply change the type because I have this in a while with a switch, so if another type of Message arrives I have to process it.\r\n\r\n","title":"How do I call a method from an extend Class in Java?","body":"<p>I have a general Class called &quot;Message&quot;:</p>\n<pre><code>public abstract class Message {\n\n    private int type;\n    private String origin;\n    private String destination;\n    \n    public Message(int type, String origin, String destination) {\n        this.type = type;\n        this.origin = origin;\n        this.destination = destination;\n    }\n\n    public int getType() {\n        return type;\n    }\n\n    public String getOrigin() {\n        return origin;\n    }\n\n    public String getDestination() {\n        return destination;\n    }\n    \n}\n</code></pre>\n<p>Also I have 2 more classes that extend from that one. &quot;Conffirmation Connection Message&quot;</p>\n<pre><code>public class ConnectionConffirmationMessage extends Message{\n\n    public ConnectionConffirmationMessage(int type, String origin, String destination) {\n        super(type, origin, destination);\n    }\n\n}\n</code></pre>\n<p>and &quot;Connection Message&quot;</p>\n<pre><code>public class ConnectionMessage extends Message{\n    \n    User info;\n\n    public ConnectionMessage(int type, String origin, String destination, User info) {\n        super(type, origin, destination);\n        this.info = info;\n    }\n\n    public User getInfo() {\n        return info;\n    }\n    \n}\n</code></pre>\n<p>My problem is that now when I want to ask for the info when the Connection Message arrives I can't. Because the general class &quot;Message&quot; doesn't have the method &quot;getInfo()&quot;.</p>\n<p><code>Message msg = (Message) fin.readObject();</code></p>\n<p>Any idea of what can I do?</p>\n<p>Also, I can't simply change the type because I have this in a while with a switch, so if another type of Message arrives I have to process it.</p>\n"},{"tags":["java","eclipse","maven","fortify"],"comments":[{"owner":{"account_id":450425,"reputation":560,"user_id":845737,"accept_rate":40,"display_name":"Eric"},"score":0,"creation_date":1438610547,"post_id":31771796,"comment_id":51506879,"body_markdown":"The only place you can download Fortify is the HP Portal (https://softwaresupport.hp.com). Here&#39;s another post on how to use the maven plugin from Fortify: https://stackoverflow.com/questions/29742146/fortify-scanning-in-eclipse-over-maven-projects/29756342#29756342","body":"The only place you can download Fortify is the HP Portal (<a href=\"https://softwaresupport.hp.com\" rel=\"nofollow noreferrer\">softwaresupport.hp.com</a>). Here&#39;s another post on how to use the maven plugin from Fortify: <a href=\"https://stackoverflow.com/questions/29742146/fortify-scanning-in-eclipse-over-maven-projects/29756342#29756342\" title=\"fortify scanning in eclipse over maven projects\">stackoverflow.com/questions/29742146/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5855107,"reputation":246,"user_id":4612668,"display_name":"Dave C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1438910644,"creation_date":1438910644,"answer_id":31868294,"question_id":31771796,"body_markdown":"I don&#39;t think the Fortify installation is required, but it&#39;s pretty hard to get the maven sca plugin without it.  If you install on another machine you could copy just the plugin over, but then you wouldn&#39;t have the Audit Workbench application to work with the generated FPR.  As @Eric said, you have to get it through HP and it will not work without a license.\r\n\r\nOnce you get that installed you add profiles to your pom.xml to execute the sca targets:\r\n\r\n\r\n    &lt;profile&gt;\r\n      &lt;id&gt;sca-clean&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;4.30&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;jre64&gt;true&lt;/jre64&gt;\r\n              &lt;buildId&gt;myproject&lt;/buildId&gt;\r\n              &lt;toplevelArtifactId&gt;myproject.parent&lt;/toplevelArtifactId&gt;\r\n              &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;clean&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n\r\n\r\n    &lt;profile&gt;\r\n      &lt;id&gt;sca-translate&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;4.30&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;jre64&gt;true&lt;/jre64&gt;\r\n              &lt;jreStack&gt;8M&lt;/jreStack&gt;\r\n              &lt;maxHeap&gt;12000M&lt;/maxHeap&gt;\r\n              &lt;verbose&gt;true&lt;/verbose&gt;\r\n              &lt;buildId&gt;myproject&lt;/buildId&gt;\r\n              &lt;toplevelArtifactId&gt;myproject.parent&lt;/toplevelArtifactId&gt;\r\n              &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n              &lt;failOnSCAError&gt;true&lt;/failOnSCAError&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;translate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n\r\n\r\n    &lt;profile&gt;\r\n      &lt;id&gt;sca-scan&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;4.30&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;jre64&gt;true&lt;/jre64&gt;\r\n              &lt;jreStack&gt;8M&lt;/jreStack&gt;\r\n              &lt;maxHeap&gt;12000M&lt;/maxHeap&gt;\r\n              &lt;verbose&gt;true&lt;/verbose&gt;\r\n              &lt;buildId&gt;myproject&lt;/buildId&gt;\r\n              &lt;toplevelArtifactId&gt;myproject.parent&lt;/toplevelArtifactId&gt;\r\n              &lt;failOnSCAError&gt;true&lt;/failOnSCAError&gt;\r\n              &lt;upload&gt;false&lt;/upload&gt;\r\n              &lt;projectName&gt;My Project Main Development&lt;/projectName&gt;\r\n              &lt;projectVersion&gt;${project.version}&lt;/projectVersion&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n\r\n\r\nRun the scan from the command line:\r\n\r\n    mvn -Dmaven.test.skip=true -Dfortify.sca.buildId=myproject -Dfortify.sca.toplevel.artifactId=myproject.parent com.fortify.ps.maven.plugin:sca-maven-plugin:clean\r\n\r\n\r\nObviously, you will have to figure out the buildId and artifactId naming, and it varies a little depending on if you&#39;re using parent, aggregator, or nothing.","title":"Fortify integration with Maven - install","body":"<p>I don't think the Fortify installation is required, but it's pretty hard to get the maven sca plugin without it.  If you install on another machine you could copy just the plugin over, but then you wouldn't have the Audit Workbench application to work with the generated FPR.  As @Eric said, you have to get it through HP and it will not work without a license.</p>\n\n<p>Once you get that installed you add profiles to your pom.xml to execute the sca targets:</p>\n\n<pre><code>&lt;profile&gt;\n  &lt;id&gt;sca-clean&lt;/id&gt;\n  &lt;activation&gt;\n    &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n  &lt;/activation&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\n        &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;4.30&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;jre64&gt;true&lt;/jre64&gt;\n          &lt;buildId&gt;myproject&lt;/buildId&gt;\n          &lt;toplevelArtifactId&gt;myproject.parent&lt;/toplevelArtifactId&gt;\n          &lt;skipTests&gt;true&lt;/skipTests&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;clean&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n\n\n&lt;profile&gt;\n  &lt;id&gt;sca-translate&lt;/id&gt;\n  &lt;activation&gt;\n    &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n  &lt;/activation&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\n        &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;4.30&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;jre64&gt;true&lt;/jre64&gt;\n          &lt;jreStack&gt;8M&lt;/jreStack&gt;\n          &lt;maxHeap&gt;12000M&lt;/maxHeap&gt;\n          &lt;verbose&gt;true&lt;/verbose&gt;\n          &lt;buildId&gt;myproject&lt;/buildId&gt;\n          &lt;toplevelArtifactId&gt;myproject.parent&lt;/toplevelArtifactId&gt;\n          &lt;skipTests&gt;true&lt;/skipTests&gt;\n          &lt;failOnSCAError&gt;true&lt;/failOnSCAError&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;translate&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n\n\n&lt;profile&gt;\n  &lt;id&gt;sca-scan&lt;/id&gt;\n  &lt;activation&gt;\n    &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n  &lt;/activation&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\n        &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;4.30&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;jre64&gt;true&lt;/jre64&gt;\n          &lt;jreStack&gt;8M&lt;/jreStack&gt;\n          &lt;maxHeap&gt;12000M&lt;/maxHeap&gt;\n          &lt;verbose&gt;true&lt;/verbose&gt;\n          &lt;buildId&gt;myproject&lt;/buildId&gt;\n          &lt;toplevelArtifactId&gt;myproject.parent&lt;/toplevelArtifactId&gt;\n          &lt;failOnSCAError&gt;true&lt;/failOnSCAError&gt;\n          &lt;upload&gt;false&lt;/upload&gt;\n          &lt;projectName&gt;My Project Main Development&lt;/projectName&gt;\n          &lt;projectVersion&gt;${project.version}&lt;/projectVersion&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n\n<p>Run the scan from the command line:</p>\n\n<pre><code>mvn -Dmaven.test.skip=true -Dfortify.sca.buildId=myproject -Dfortify.sca.toplevel.artifactId=myproject.parent com.fortify.ps.maven.plugin:sca-maven-plugin:clean\n</code></pre>\n\n<p>Obviously, you will have to figure out the buildId and artifactId naming, and it varies a little depending on if you're using parent, aggregator, or nothing.</p>\n"},{"tags":[],"owner":{"account_id":9081135,"reputation":71,"user_id":6760949,"display_name":"Prokis"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1472205823,"creation_date":1472205823,"answer_id":39163659,"question_id":31771796,"body_markdown":"Actually profiles are not needed, only the plugin configuration.\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt; \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.30&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;findbugs&gt;true&lt;/findbugs&gt;\r\n                    &lt;htmlReport&gt;true&lt;/htmlReport&gt;\r\n                    &lt;maxHeap&gt;800M&lt;/maxHeap&gt;\r\n                    &lt;source&gt;myJavaVersion&lt;/source&gt;\r\n                    &lt;buildId&gt;myBuildId&lt;/buildId&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                    &lt;toplevelArtifactId&gt;myTopLevelId&lt;/toplevelArtifactId&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nBy using a single Jenkins job you can write, as a pre-step, a shell script:\r\n\r\n    mvn clean sca:clean -DskipTests\r\n    mvn sca:translate -DskipTests\r\n\r\nAnd then define the actual &quot;Goals and options&quot; as:\r\n\r\n    install sca:scan -DskipTests\r\n\r\nHaving them as separate command lines is the only way to have the sca-clean,translate and scan (and report file sending to Fortify) done in one Jenkins job.\r\n\r\nHope this works for you too!","title":"Fortify integration with Maven - install","body":"<p>Actually profiles are not needed, only the plugin configuration.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt; \n        &lt;plugin&gt;\n            &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\n            &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.30&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;findbugs&gt;true&lt;/findbugs&gt;\n                &lt;htmlReport&gt;true&lt;/htmlReport&gt;\n                &lt;maxHeap&gt;800M&lt;/maxHeap&gt;\n                &lt;source&gt;myJavaVersion&lt;/source&gt;\n                &lt;buildId&gt;myBuildId&lt;/buildId&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;toplevelArtifactId&gt;myTopLevelId&lt;/toplevelArtifactId&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>By using a single Jenkins job you can write, as a pre-step, a shell script:</p>\n\n<pre><code>mvn clean sca:clean -DskipTests\nmvn sca:translate -DskipTests\n</code></pre>\n\n<p>And then define the actual \"Goals and options\" as:</p>\n\n<pre><code>install sca:scan -DskipTests\n</code></pre>\n\n<p>Having them as separate command lines is the only way to have the sca-clean,translate and scan (and report file sending to Fortify) done in one Jenkins job.</p>\n\n<p>Hope this works for you too!</p>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665702544,"creation_date":1665702544,"answer_id":74062712,"question_id":31771796,"body_markdown":"The Mac OS Fortify install installs a program called ScanWizard that is able to generate a Maven/Java integrated .sh script to run the scan BUT problem is that it requires you edit the pom and put in the fortify plugin.  On my network, my Nexus server blocks me from downloading it, probably because the artifact is not on Maven central and my Nexus is setup only to be able to mirror from central only.","title":"Fortify integration with Maven - install","body":"<p>The Mac OS Fortify install installs a program called ScanWizard that is able to generate a Maven/Java integrated .sh script to run the scan BUT problem is that it requires you edit the pom and put in the fortify plugin.  On my network, my Nexus server blocks me from downloading it, probably because the artifact is not on Maven central and my Nexus is setup only to be able to mirror from central only.</p>\n"}],"owner":{"account_id":414855,"reputation":2868,"user_id":789320,"accept_rate":61,"display_name":"Rory Lester"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33441,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":31868294,"answer_count":3,"score":7,"last_activity_date":1682681451,"creation_date":1438517666,"question_id":31771796,"body_markdown":"I want to run a Fortify scan against a Maven Eclipse project. \r\n\r\nWhere should I start? \r\n\r\nI understand that I need to update my `pom.xml` file to include the Fortify plugin however do I also require to have Fortify SCA installed on my machine? (I&#39;m running MacOS X). I have been trying to find a place to download Fortify SCA but have not been able find it. \r\n\r\nI would appreciate it if someone could share some links to point me in the right direction in getting the setup complete.","title":"Fortify integration with Maven - install","body":"<p>I want to run a Fortify scan against a Maven Eclipse project. </p>\n\n<p>Where should I start? </p>\n\n<p>I understand that I need to update my <code>pom.xml</code> file to include the Fortify plugin however do I also require to have Fortify SCA installed on my machine? (I'm running MacOS X). I have been trying to find a place to download Fortify SCA but have not been able find it. </p>\n\n<p>I would appreciate it if someone could share some links to point me in the right direction in getting the setup complete.</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1682684560,"post_id":76129109,"comment_id":134258365,"body_markdown":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682689025,"post_id":76129109,"comment_id":134259446,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":28444709,"reputation":1,"user_id":21763588,"display_name":"drej"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682681254,"creation_date":1682681254,"question_id":76129109,"body_markdown":"I&#39;ve been trying to call from my database and the textviews dont work, it&#39;s from a QR Scanner, it also cannot find the button123\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n`public class QR extends AppCompatActivity {\r\n\r\n    private CodeScanner codeScanner;\r\n    private static final int CAMERA_REQUEST_CODE = 101;\r\n\r\n    private DatabaseReference mbase;\r\n    public String decodedResult;\r\n    private Spinner spinnerLanguages;\r\n    private String itemID;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_qr);\r\n        setUpPermissions();\r\n        codeScanner();\r\n        mbase = FirebaseDatabase.getInstance().getReference();\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    private void codeScanner() {\r\n        CodeScannerView scannerView = findViewById(R.id.scannerView);\r\n        TextView tv_textView = findViewById(R.id.tv_textView);\r\n\r\n        codeScanner = new CodeScanner(this, scannerView);\r\n\r\n        codeScanner.setCamera(CodeScanner.CAMERA_BACK);\r\n        codeScanner.setFormats(CodeScanner.ALL_FORMATS);\r\n        codeScanner.setAutoFocusMode(AutoFocusMode.SAFE);\r\n        codeScanner.setScanMode(ScanMode.CONTINUOUS);\r\n        codeScanner.setAutoFocusEnabled(true);\r\n        codeScanner.setFlashEnabled(false);\r\n\r\n\r\n        codeScanner.setDecodeCallback(new DecodeCallback() {\r\n            @Override\r\n            public void onDecoded(@NonNull final Result result) {\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        tv_textView.setText(result.getText());\r\n                        decodedResult =result.getText();\r\n\r\n\r\n\r\n\r\n                    }\r\n                });\r\n            }\r\n        });}\r\n    public void buttonPopupwindow(View view) {\r\n        // Inflate popup window layout\r\n        LayoutInflater layoutInflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        View viewPopupwindow = layoutInflater.inflate(R.layout.popupwindowlayout, null);\r\n        // Find views inside popup window layout\r\n        Button btn123 = viewPopupwindow.findViewById(R.id.button123);\r\n        TextView nameTextView = viewPopupwindow.findViewById(R.id.name);\r\n        TextView emailTextView = viewPopupwindow.findViewById(R.id.email);\r\n        TextView companyIDTextView = viewPopupwindow.findViewById(R.id.CompanyID);\r\n        TextView statusTextView = viewPopupwindow.findViewById(R.id.status);\r\n        EditText companyIDInput = viewPopupwindow.findViewById(R.id.companyIDinput);\r\n        Spinner spinnerLanguages = viewPopupwindow.findViewById(R.id.spinner_languages);\r\n\r\n        // Set up adapter for spinner\r\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this, R.array.languages, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinnerLanguages.setAdapter(adapter);\r\n\r\n        // Set up and show popup window\r\n        final PopupWindow popupWindow = new PopupWindow(viewPopupwindow, 700, 500, true);\r\n        popupWindow.setAnimationStyle(R.style.PopupAnimation);\r\n        popupWindow.showAtLocation(view, Gravity.BOTTOM, 0, 0);\r\n\r\n        // Set up database listener to get item data\r\n        ValueEventListener postListener = new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                    // Loop through all items in the &quot;Item&quot; node of the database\r\n                    Item item = snapshot.getValue(Item.class);\r\n                    if (item.getEmail().equals(decodedResult)) {\r\n\r\n                        String name = item.getName();\r\n                        String email = item.getEmail();\r\n                        String CompanyID = item.getCompanyID();\r\n                        String Status = item.getStatus();\r\n                        itemID = snapshot.getKey();\r\n\r\n                        // Set text for views in popup window\r\n                        nameTextView.setText(name);\r\n                        emailTextView.setText(email);\r\n                        companyIDTextView.setText(CompanyID);\r\n                        statusTextView.setText(Status);\r\n\r\n                        // Update values for button and input fields based on item status\r\n                        if (Status.equals(&quot;In Storage&quot;)) {\r\n                            btn123.setText(&quot;Lend&quot;);\r\n                            companyIDInput.setVisibility(View.VISIBLE);\r\n                            spinnerLanguages.setVisibility(View.VISIBLE);\r\n                        } else if (Status.equals(&quot;Borrowed&quot;)) {\r\n                            btn123.setText(&quot;Return&quot;);\r\n                            companyIDInput.setVisibility(View.GONE);\r\n                            spinnerLanguages.setVisibility(View.GONE);\r\n                        }\r\n\r\n                        // Set up button click listener to update item status and close popup window\r\n                        btn123.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                switch(v.getId()) {\r\n                                    case R.id.button123:\r\n                                        DatabaseReference itemRef = mbase.child(itemID);\r\n                                        if (Status.equals(&quot;In Storage&quot;)) {\r\n                                            String companyID1 = companyIDInput.getText().toString();\r\n                                            String selectedLanguage = spinnerLanguages.getSelectedItem().toString();\r\n                                            itemRef.child(&quot;Status&quot;).setValue(&quot;Borrowed&quot;);\r\n                                            itemRef.child(&quot;CompanyID&quot;).setValue(companyID1);\r\n                                            itemRef.child(&quot;cat&quot;).setValue(selectedLanguage);\r\n                                        } else if (Status.equals(&quot;Borrowed&quot;)) {\r\n                                            itemRef.child(&quot;Status&quot;).setValue(&quot;In Storage&quot;);\r\n                                            itemRef.child(&quot;CompanyID&quot;).setValue(&quot;&quot;);\r\n                                            itemRef.child(&quot;cat&quot;).setValue(&quot;&quot;);\r\n                                        }\r\n                                        popupWindow.dismiss();\r\n                                        break;\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        // Exit loop after finding matching item\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                // Handle errors\r\n                Log.w(&quot;onCancelled&quot;, databaseError.toException());\r\n            }\r\n        };\r\n        mbase.child(&quot;Item&quot;).addValueEventListener(postListener);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        codeScanner.startPreview();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        codeScanner.releaseResources();\r\n        super.onPause();\r\n    }\r\n\r\n    private void setUpPermissions() {\r\n        final int permission = ContextCompat.checkSelfPermission(this, android.Manifest.permission.CAMERA);\r\n\r\n        if (permission != PackageManager.PERMISSION_GRANTED) {\r\n            makeRequest();\r\n        }\r\n    }\r\n\r\n    private void makeRequest() {\r\n        ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.CAMERA}, CAMERA_REQUEST_CODE);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        if (requestCode == CAMERA_REQUEST_CODE) {\r\n            if (grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;Camera permission granted&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        } else {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        }\r\n    }\r\n\r\n}`\r\n\r\n\r\nI tried setting a value to my decoded to see if it can call from the database, it still doesnt.tried chatgpt too, he said it&#39;s right","title":"I can&#39;t call from my database in firebase, or the Textviews didn&#39;t change","body":"<p>I've been trying to call from my database and the textviews dont work, it's from a QR Scanner, it also cannot find the button123</p>\n<p>`public class QR extends AppCompatActivity {</p>\n<pre><code>private CodeScanner codeScanner;\nprivate static final int CAMERA_REQUEST_CODE = 101;\n\nprivate DatabaseReference mbase;\npublic String decodedResult;\nprivate Spinner spinnerLanguages;\nprivate String itemID;\n\n\n\n\n\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_qr);\n    setUpPermissions();\n    codeScanner();\n    mbase = FirebaseDatabase.getInstance().getReference();\n\n\n\n\n}\n\n\nprivate void codeScanner() {\n    CodeScannerView scannerView = findViewById(R.id.scannerView);\n    TextView tv_textView = findViewById(R.id.tv_textView);\n\n    codeScanner = new CodeScanner(this, scannerView);\n\n    codeScanner.setCamera(CodeScanner.CAMERA_BACK);\n    codeScanner.setFormats(CodeScanner.ALL_FORMATS);\n    codeScanner.setAutoFocusMode(AutoFocusMode.SAFE);\n    codeScanner.setScanMode(ScanMode.CONTINUOUS);\n    codeScanner.setAutoFocusEnabled(true);\n    codeScanner.setFlashEnabled(false);\n\n\n    codeScanner.setDecodeCallback(new DecodeCallback() {\n        @Override\n        public void onDecoded(@NonNull final Result result) {\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    tv_textView.setText(result.getText());\n                    decodedResult =result.getText();\n\n\n\n\n                }\n            });\n        }\n    });}\npublic void buttonPopupwindow(View view) {\n    // Inflate popup window layout\n    LayoutInflater layoutInflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    View viewPopupwindow = layoutInflater.inflate(R.layout.popupwindowlayout, null);\n    // Find views inside popup window layout\n    Button btn123 = viewPopupwindow.findViewById(R.id.button123);\n    TextView nameTextView = viewPopupwindow.findViewById(R.id.name);\n    TextView emailTextView = viewPopupwindow.findViewById(R.id.email);\n    TextView companyIDTextView = viewPopupwindow.findViewById(R.id.CompanyID);\n    TextView statusTextView = viewPopupwindow.findViewById(R.id.status);\n    EditText companyIDInput = viewPopupwindow.findViewById(R.id.companyIDinput);\n    Spinner spinnerLanguages = viewPopupwindow.findViewById(R.id.spinner_languages);\n\n    // Set up adapter for spinner\n    ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this, R.array.languages, android.R.layout.simple_spinner_item);\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinnerLanguages.setAdapter(adapter);\n\n    // Set up and show popup window\n    final PopupWindow popupWindow = new PopupWindow(viewPopupwindow, 700, 500, true);\n    popupWindow.setAnimationStyle(R.style.PopupAnimation);\n    popupWindow.showAtLocation(view, Gravity.BOTTOM, 0, 0);\n\n    // Set up database listener to get item data\n    ValueEventListener postListener = new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n                // Loop through all items in the &quot;Item&quot; node of the database\n                Item item = snapshot.getValue(Item.class);\n                if (item.getEmail().equals(decodedResult)) {\n\n                    String name = item.getName();\n                    String email = item.getEmail();\n                    String CompanyID = item.getCompanyID();\n                    String Status = item.getStatus();\n                    itemID = snapshot.getKey();\n\n                    // Set text for views in popup window\n                    nameTextView.setText(name);\n                    emailTextView.setText(email);\n                    companyIDTextView.setText(CompanyID);\n                    statusTextView.setText(Status);\n\n                    // Update values for button and input fields based on item status\n                    if (Status.equals(&quot;In Storage&quot;)) {\n                        btn123.setText(&quot;Lend&quot;);\n                        companyIDInput.setVisibility(View.VISIBLE);\n                        spinnerLanguages.setVisibility(View.VISIBLE);\n                    } else if (Status.equals(&quot;Borrowed&quot;)) {\n                        btn123.setText(&quot;Return&quot;);\n                        companyIDInput.setVisibility(View.GONE);\n                        spinnerLanguages.setVisibility(View.GONE);\n                    }\n\n                    // Set up button click listener to update item status and close popup window\n                    btn123.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            switch(v.getId()) {\n                                case R.id.button123:\n                                    DatabaseReference itemRef = mbase.child(itemID);\n                                    if (Status.equals(&quot;In Storage&quot;)) {\n                                        String companyID1 = companyIDInput.getText().toString();\n                                        String selectedLanguage = spinnerLanguages.getSelectedItem().toString();\n                                        itemRef.child(&quot;Status&quot;).setValue(&quot;Borrowed&quot;);\n                                        itemRef.child(&quot;CompanyID&quot;).setValue(companyID1);\n                                        itemRef.child(&quot;cat&quot;).setValue(selectedLanguage);\n                                    } else if (Status.equals(&quot;Borrowed&quot;)) {\n                                        itemRef.child(&quot;Status&quot;).setValue(&quot;In Storage&quot;);\n                                        itemRef.child(&quot;CompanyID&quot;).setValue(&quot;&quot;);\n                                        itemRef.child(&quot;cat&quot;).setValue(&quot;&quot;);\n                                    }\n                                    popupWindow.dismiss();\n                                    break;\n                            }\n                        }\n                    });\n\n                    // Exit loop after finding matching item\n                    break;\n                }\n            }\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n            // Handle errors\n            Log.w(&quot;onCancelled&quot;, databaseError.toException());\n        }\n    };\n    mbase.child(&quot;Item&quot;).addValueEventListener(postListener);\n}\n\n\n\n\n\n\n\n\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    codeScanner.startPreview();\n}\n\n@Override\nprotected void onPause() {\n    codeScanner.releaseResources();\n    super.onPause();\n}\n\nprivate void setUpPermissions() {\n    final int permission = ContextCompat.checkSelfPermission(this, android.Manifest.permission.CAMERA);\n\n    if (permission != PackageManager.PERMISSION_GRANTED) {\n        makeRequest();\n    }\n}\n\nprivate void makeRequest() {\n    ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.CAMERA}, CAMERA_REQUEST_CODE);\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    if (requestCode == CAMERA_REQUEST_CODE) {\n        if (grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            Toast.makeText(this, &quot;Camera permission granted&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\n        }\n    } else {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n}\n</code></pre>\n<p>}`</p>\n<p>I tried setting a value to my decoded to see if it can call from the database, it still doesnt.tried chatgpt too, he said it's right</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":43726,"reputation":9735,"user_id":127938,"accept_rate":89,"display_name":"Paul Gregoire"},"score":1,"creation_date":1375918195,"post_id":10615628,"comment_id":26524004,"body_markdown":"I&#39;ve got a similar issue myself: http://stackoverflow.com/questions/18112155/access-to-the-color-palette-in-an-xssfworkbook I also get an indexed value of 64 for background which I&#39;m pretty sure is not a valid value. I get it for both Orange and Black.","body":"I&#39;ve got a similar issue myself: <a href=\"http://stackoverflow.com/questions/18112155/access-to-the-color-palette-in-an-xssfworkbook\" title=\"access to the color palette in an xssfworkbook\">stackoverflow.com/questions/18112155/&hellip;</a> I also get an indexed value of 64 for background which I&#39;m pretty sure is not a valid value. I get it for both Orange and Black."}],"answers":[{"tags":[],"owner":{"account_id":539735,"reputation":9276,"user_id":907687,"accept_rate":91,"display_name":"vikiiii"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337161447,"creation_date":1337160606,"answer_id":10615699,"question_id":10615628,"body_markdown":"You can use this code to get the cell color.\r\n\r\n    cell.getCellStyle().getFillBackgroundColor();\r\n\r\nTry \r\n\r\n    HSSFColor.getIndexHash().get(myCell.getCellStyle().getFillBackgroundColor())","title":"Apache POI get cell color when reading xlsx file","body":"<p>You can use this code to get the cell color.</p>\n\n<pre><code>cell.getCellStyle().getFillBackgroundColor();\n</code></pre>\n\n<p>Try </p>\n\n<pre><code>HSSFColor.getIndexHash().get(myCell.getCellStyle().getFillBackgroundColor())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1291067,"reputation":515,"user_id":1243167,"display_name":"TikkaBhuna"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1337165728,"creation_date":1337165728,"answer_id":10617068,"question_id":10615628,"body_markdown":"I posted a comment to vikiiii&#39;s answer.  I thought I&#39;d expand on it a bit more.  His answer is specific to HSSF (.xls) but both the HSSF and XSSF classes descend from the same interface so the code is the same, you just use XSSF instead of HSSF.  Seeing as you want to reuse the color I&#39;d recommend using:\r\n\r\n    XSSFColor bgColor = xssfCell.getCellStyle().getFillBackgroundColorColor();\r\n\r\nSee [here][1] for the Javadoc.  Now to set a new cell to that color you can use [this][3].\r\n\r\n    secondCell.getCellStyle().setFillBackgroundColor(bgColor);\r\n\r\nI&#39;d recommend looking at the interfaces that the XSSF and HSSF classes descend from and have a look at making your code be able to handle both xls and xlsx files.  As far as I&#39;m aware the only difference is the way you set up the workbook, using [WorkbookFactory][2].\r\n\r\n\r\n\r\n  [1]: http://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFCellStyle.html#getFillBackgroundColorColor%28%29\r\n  [2]: http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/WorkbookFactory.html#create%28java.io.File%29\r\n  [3]: http://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFCellStyle.html#setFillBackgroundColor%28org.apache.poi.xssf.usermodel.XSSFColor%29","title":"Apache POI get cell color when reading xlsx file","body":"<p>I posted a comment to vikiiii's answer.  I thought I'd expand on it a bit more.  His answer is specific to HSSF (.xls) but both the HSSF and XSSF classes descend from the same interface so the code is the same, you just use XSSF instead of HSSF.  Seeing as you want to reuse the color I'd recommend using:</p>\n\n<pre><code>XSSFColor bgColor = xssfCell.getCellStyle().getFillBackgroundColorColor();\n</code></pre>\n\n<p>See <a href=\"http://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFCellStyle.html#getFillBackgroundColorColor%28%29\" rel=\"noreferrer\">here</a> for the Javadoc.  Now to set a new cell to that color you can use <a href=\"http://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFCellStyle.html#setFillBackgroundColor%28org.apache.poi.xssf.usermodel.XSSFColor%29\" rel=\"noreferrer\">this</a>.</p>\n\n<pre><code>secondCell.getCellStyle().setFillBackgroundColor(bgColor);\n</code></pre>\n\n<p>I'd recommend looking at the interfaces that the XSSF and HSSF classes descend from and have a look at making your code be able to handle both xls and xlsx files.  As far as I'm aware the only difference is the way you set up the workbook, using <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/WorkbookFactory.html#create%28java.io.File%29\" rel=\"noreferrer\">WorkbookFactory</a>.</p>\n"},{"tags":[],"owner":{"account_id":16320561,"reputation":91,"user_id":11786463,"display_name":"Volodymyr Taras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682681234,"creation_date":1682681234,"answer_id":76129107,"question_id":10615628,"body_markdown":"I had .xlsx file, and this code helped me to retrieve correct HEX color values from cell background:\r\n\r\n    XSSFColor color = (XSSFColor) cell\r\n        .getCellStyle()\r\n        .getFillForegroundColorColor();\r\n    String hexColorValue = color\r\n        .getCTColor()\r\n        .xgetRgb()\r\n        .getStringValue();\r\n\r\nMy org.apache.poi version is 3.17","title":"Apache POI get cell color when reading xlsx file","body":"<p>I had .xlsx file, and this code helped me to retrieve correct HEX color values from cell background:</p>\n<pre><code>XSSFColor color = (XSSFColor) cell\n    .getCellStyle()\n    .getFillForegroundColorColor();\nString hexColorValue = color\n    .getCTColor()\n    .xgetRgb()\n    .getStringValue();\n</code></pre>\n<p>My org.apache.poi version is 3.17</p>\n"}],"owner":{"account_id":976472,"reputation":1964,"user_id":997482,"accept_rate":46,"display_name":"Lalit Chattar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12509,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10617068,"answer_count":3,"score":5,"last_activity_date":1682681234,"creation_date":1337160423,"question_id":10615628,"body_markdown":"Hello all i am reading one `xlsx` file using `XSSF` of `Apche POI`. Now i want to read color of the cell and apply same color on new `xlsx` file. how will i do it. my code is:\r\n\r\n    public void readXLSXFile(String filePath) throws FileNotFoundException, IOException\r\n    \t{\r\n    \t\tXSSFRow row;\r\n    \t\tXSSFRow new_row;\r\n    \t\tXSSFSheet sheet;\r\n    \t\tXSSFCell cell;\r\n    \t\tXSSFCell new_cell;\r\n    \t\tXSSFCellStyle cellStyle;\r\n    \t\tXSSFDataFormat dataFormat;\r\n    \t\tXSSFColor color;\r\n    \t\t\r\n    \t\tXSSFWorkbook xssfWorkbook = new XSSFWorkbook(new FileInputStream(filePath));\r\n    \t\tXSSFWorkbook workbook = new XSSFWorkbook();\r\n    \t\tXSSFSheet new_sheet = (XSSFSheet) workbook.createSheet();\r\n    \t\tfor(int i = 0; i &lt; xssfWorkbook.getNumberOfSheets(); i++ )\r\n    \t\t{\r\n    \t\t\tsheet = xssfWorkbook.getSheetAt(i);\r\n    \t\t\tfor(int j =0; j&lt;sheet.getLastRowNum(); j++)\r\n    \t\t\t{\r\n    \t\t\t\trow = (XSSFRow) sheet.getRow(j);\r\n    \t\t\t\tnew_row = new_sheet.createRow(j);\r\n    \t\t\t\tfor(int k = 0; k&lt;row.getLastCellNum(); k++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tcell = row.getCell(k);\r\n    \t\t\t\t\tnew_cell = new_row.createCell(k);\r\n    \t\t\t\t\tcellStyle = workbook.createCellStyle();\r\n    \t\t\t\t\tdataFormat = workbook.createDataFormat();\r\n    \t\t\t\t\tcellStyle.setDataFormat(dataFormat.getFormat(cell.getCellStyle().getDataFormatString()));\r\n    \t\t\t\t\tcolor = cell.getCellStyle().getFillBackgroundColorColor();\r\n    \t\t\t\t\tcellStyle.setFillForegroundColor(color);\r\n    \t\t\t\t\tnew_cell.setCellStyle(cellStyle);\r\n    \t\t\t\t\tSystem.out.println(cell.getCellStyle().getFillForegroundColor()+&quot;#&quot;);\r\n    \t\t\t\t\tswitch (cell.getCellType()) {\r\n    \t\t\t\t\tcase 0:\r\n    \t\t\t\t\t\tnew_cell.setCellValue(cell.getNumericCellValue());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 1:\r\n    \t\t\t\t\t\tnew_cell.setCellValue(cell.getStringCellValue());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 2:\r\n    \t\t\t\t\t\tnew_cell.setCellValue(cell.getNumericCellValue());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 3:\r\n    \t\t\t\t\t\tnew_cell.setCellValue(cell.getStringCellValue());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 4:\r\n    \t\t\t\t\t\tnew_cell.setCellValue(cell.getBooleanCellValue());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 5:\r\n    \t\t\t\t\t\tnew_cell.setCellValue(cell.getErrorCellString());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tdefault:\r\n    \t\t\t\t\t\tnew_cell.setCellValue(cell.getStringCellValue());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tworkbook.write(new FileOutputStream(&quot;G:\\\\lalit.xlsx&quot;));\r\n    \t}\r\n\r\nI an using Apche POI 3.8.","title":"Apache POI get cell color when reading xlsx file","body":"<p>Hello all i am reading one <code>xlsx</code> file using <code>XSSF</code> of <code>Apche POI</code>. Now i want to read color of the cell and apply same color on new <code>xlsx</code> file. how will i do it. my code is:</p>\n\n<pre><code>public void readXLSXFile(String filePath) throws FileNotFoundException, IOException\n    {\n        XSSFRow row;\n        XSSFRow new_row;\n        XSSFSheet sheet;\n        XSSFCell cell;\n        XSSFCell new_cell;\n        XSSFCellStyle cellStyle;\n        XSSFDataFormat dataFormat;\n        XSSFColor color;\n\n        XSSFWorkbook xssfWorkbook = new XSSFWorkbook(new FileInputStream(filePath));\n        XSSFWorkbook workbook = new XSSFWorkbook();\n        XSSFSheet new_sheet = (XSSFSheet) workbook.createSheet();\n        for(int i = 0; i &lt; xssfWorkbook.getNumberOfSheets(); i++ )\n        {\n            sheet = xssfWorkbook.getSheetAt(i);\n            for(int j =0; j&lt;sheet.getLastRowNum(); j++)\n            {\n                row = (XSSFRow) sheet.getRow(j);\n                new_row = new_sheet.createRow(j);\n                for(int k = 0; k&lt;row.getLastCellNum(); k++)\n                {\n                    cell = row.getCell(k);\n                    new_cell = new_row.createCell(k);\n                    cellStyle = workbook.createCellStyle();\n                    dataFormat = workbook.createDataFormat();\n                    cellStyle.setDataFormat(dataFormat.getFormat(cell.getCellStyle().getDataFormatString()));\n                    color = cell.getCellStyle().getFillBackgroundColorColor();\n                    cellStyle.setFillForegroundColor(color);\n                    new_cell.setCellStyle(cellStyle);\n                    System.out.println(cell.getCellStyle().getFillForegroundColor()+\"#\");\n                    switch (cell.getCellType()) {\n                    case 0:\n                        new_cell.setCellValue(cell.getNumericCellValue());\n                        break;\n                    case 1:\n                        new_cell.setCellValue(cell.getStringCellValue());\n                        break;\n                    case 2:\n                        new_cell.setCellValue(cell.getNumericCellValue());\n                        break;\n                    case 3:\n                        new_cell.setCellValue(cell.getStringCellValue());\n                        break;\n                    case 4:\n                        new_cell.setCellValue(cell.getBooleanCellValue());\n                        break;\n                    case 5:\n                        new_cell.setCellValue(cell.getErrorCellString());\n                        break;\n                    default:\n                        new_cell.setCellValue(cell.getStringCellValue());\n                        break;\n                    }\n                }\n            }\n        }\n        workbook.write(new FileOutputStream(\"G:\\\\lalit.xlsx\"));\n    }\n</code></pre>\n\n<p>I an using Apche POI 3.8.</p>\n"},{"tags":["java","graph","dijkstra","path-finding","adjacency-matrix"],"answers":[{"tags":[],"owner":{"account_id":7737658,"reputation":2769,"user_id":5858704,"display_name":"MartinS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1456113998,"creation_date":1456113998,"answer_id":35545664,"question_id":35523518,"body_markdown":"Ok it took me a while to figure out why and how your algorithm is broken because there are quite a few things wrong:\r\n\r\n**1. getMinDistance() is wrong**\r\n\r\nIn this method you try to find the cheapest node to visit next which is the right idea but the implementation is wrong. First you are considering ALL nodes in the graph, not just the neighbors of the node you are currently visiting and secondly you use the `distance` array to look up the cost. But in there the values for all unvisited nodes are `Integer.MAX_VALUE` so the method will always choose the node with the highest index.\r\n\r\n**2. You are using the wrong Adjancency List**\r\n\r\nFor the shortest path you are creating a modified copy of the original adjacency list, but then you are not using it.\r\n\r\n**3. Your modified Adjancency List is wrong**\r\n\r\nWhen creating the modified copy for shortest path, you set the value to `1` everywhere instead of `1` where there is an edge and `Integer.MAX_VALUE` for everything else (actually you should use `-1` in that case and check for it in your code. Otherwise your algorithm will say that there is a path between nodes that are disconnected).\r\n\r\n**4. This is NOT Dijkstra**\r\n\r\nIt took me a while to see that because sometimes you get the right result but this is not [Dijkstra&#39;s Algorithm][1]. To implement it properly you need a priority queue or some other mechanism to track the distances and get the minimum. You tried that with your &#39;getMinDistance&#39; method but this approach was wrong because you considered all nodes in the graph and not only the ones &#39;in the queue&#39;.\r\n\r\nSee below for a fixed version of your code. You should try to reimplement it yourself but since I have it now anyways...\r\n\r\n    public class Dijkstra {\r\n\r\n\t  private static final class DijkstraComparator implements Comparator&lt;Integer&gt; {\r\n\t\tprivate final int[] distance;\r\n\r\n\t\tDijkstraComparator(int[] distance) {\r\n\t\t\tthis.distance = distance;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic int compare(Integer o1, Integer o2) {\r\n\t\t\treturn Integer.compare(distance[o1], distance[o2]);\r\n\t\t}\r\n\t  }\r\n\r\n      private Graph graph;\r\n\t  private int[] distance;\r\n\t  private boolean[] visited;\r\n\t  private int[] parents;\r\n\t  private int startNode;\r\n\t  private int endNode;\r\n\r\n\t  public Dijkstra(Graph graph, int startNode, int endNode) {\r\n\t\tthis.graph = graph;\r\n\t\tdistance = new int[graph.getAdjList().length];\r\n\t\tvisited = new boolean[graph.getAdjList().length];\r\n\t\tparents = new int[graph.getAdjList().length];\r\n\t\tthis.startNode = startNode;\r\n\t\tthis.endNode = endNode;\r\n\t  }\r\n\r\n\t  public void findPath(boolean isUnweighted) {\r\n\t\tif (endNode == startNode) {\r\n\t\t\tSystem.out.println(&quot;Starting node  &quot; + startNode + &quot;  and target node &quot; + endNode + &quot; are identical.&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tint[][] graphForPathFinding;\r\n\t\tif (isUnweighted) {\r\n\t\t\t// set all weights to 1\r\n\t\t\tgraphForPathFinding = convertGraphToUnweighted();\r\n\t\t} else {\r\n\t\t\tgraphForPathFinding = graph.getAdjList();\r\n\t\t}\r\n\r\n\t\t// initialize\r\n\t\tfor (int i = 0; i &lt; parents.length; i++) {\r\n\t\t\tparents[i] = Integer.MAX_VALUE;\r\n\t\t\tvisited[i] = false;\r\n\t\t\tdistance[i] = Integer.MAX_VALUE;\r\n\t\t}\r\n\r\n\t\tPriorityQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(1, new DijkstraComparator(distance));\r\n\t\tdistance[startNode] = 0;\r\n\t\tqueue.add(startNode);\r\n\r\n\t\twhile (queue.isEmpty() == false) {\r\n\t\t\tint nextNode = queue.poll();\r\n\t\t\tvisited[nextNode] = true;\r\n\r\n\t\t\tif (nextNode == endNode) {\r\n\t\t\t\tprintResults();\r\n\t\t\t\treturn; // target node reached\r\n\t\t\t}\r\n\r\n\t\t\tint[] neighbors = graph.getNeighbors(nextNode);\r\n\t\t\tfor (int neighbor : neighbors) {\r\n\t\t\t\tif (visited[neighbor] == false) {\r\n\t\t\t\t\t// update distance\r\n\t\t\t\t\tint d = distance[nextNode] + graphForPathFinding[nextNode][neighbor];\r\n\t\t\t\t\tif (d &lt; distance[neighbor]) {\r\n\t\t\t\t\t\tdistance[neighbor] = d;\r\n\t\t\t\t\t\tparents[neighbor] = nextNode;\r\n\r\n\t\t\t\t\t\t// remove neighbors from queue so the value gets updated\r\n\t\t\t\t\t\tif (queue.contains(neighbor)) {\r\n\t\t\t\t\t\t\tqueue.remove(neighbor);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tqueue.add(neighbor);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;No path found between &quot; + startNode + &quot; and &quot; + endNode);\r\n\t  }\r\n\r\n\t  private int[][] convertGraphToUnweighted() {\r\n\t\tint[][] adjMatrix = graph.getAdjList();\r\n\t\tint[][] graphForConverting = new int[adjMatrix.length][adjMatrix.length];\r\n\t\tfor (int i = 0; i &lt; adjMatrix.length; i++) {\r\n\t\t\tint[] adjList = adjMatrix[i];\r\n\t\t\tfor (int j = 0; j &lt; adjList.length; j++) {\r\n\t\t\t\tif (adjList[j] != 0) {\r\n\t\t\t\t\tgraphForConverting[i][j] = 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgraphForConverting[i][j] = Integer.MAX_VALUE;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn graphForConverting;\r\n\t  }\r\n\r\n\t  private void printResults() {\r\n\t\tint weight = 0;\r\n\t\tint steps = 0;\r\n\t\tSystem.out.println(&quot;Pfad: &quot;);\r\n\t\tfor (int node = endNode; node != startNode; steps++) {\r\n\t\t\tSystem.out.print(node + &quot;    &quot;);\r\n\t\t\tweight += graph.getAdjList()[parents[node]][node];\r\n\t\t\tnode = parents[node];\r\n\t\t}\r\n\t\tSystem.out.println(startNode);\r\n\t\tSystem.out.println(&quot;Number of nodes: &quot; + steps);\r\n\t\tSystem.out.println(&quot;Weight:  &quot; + weight);\r\n\t  }\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm","title":"Dijkstra for Adjacency matrix, Shortest and cheapest Path, single source, single target","body":"<p>Ok it took me a while to figure out why and how your algorithm is broken because there are quite a few things wrong:</p>\n\n<p><strong>1. getMinDistance() is wrong</strong></p>\n\n<p>In this method you try to find the cheapest node to visit next which is the right idea but the implementation is wrong. First you are considering ALL nodes in the graph, not just the neighbors of the node you are currently visiting and secondly you use the <code>distance</code> array to look up the cost. But in there the values for all unvisited nodes are <code>Integer.MAX_VALUE</code> so the method will always choose the node with the highest index.</p>\n\n<p><strong>2. You are using the wrong Adjancency List</strong></p>\n\n<p>For the shortest path you are creating a modified copy of the original adjacency list, but then you are not using it.</p>\n\n<p><strong>3. Your modified Adjancency List is wrong</strong></p>\n\n<p>When creating the modified copy for shortest path, you set the value to <code>1</code> everywhere instead of <code>1</code> where there is an edge and <code>Integer.MAX_VALUE</code> for everything else (actually you should use <code>-1</code> in that case and check for it in your code. Otherwise your algorithm will say that there is a path between nodes that are disconnected).</p>\n\n<p><strong>4. This is NOT Dijkstra</strong></p>\n\n<p>It took me a while to see that because sometimes you get the right result but this is not <a href=\"https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm\" rel=\"nofollow\">Dijkstra's Algorithm</a>. To implement it properly you need a priority queue or some other mechanism to track the distances and get the minimum. You tried that with your 'getMinDistance' method but this approach was wrong because you considered all nodes in the graph and not only the ones 'in the queue'.</p>\n\n<p>See below for a fixed version of your code. You should try to reimplement it yourself but since I have it now anyways...</p>\n\n<pre><code>public class Dijkstra {\n\n  private static final class DijkstraComparator implements Comparator&lt;Integer&gt; {\n    private final int[] distance;\n\n    DijkstraComparator(int[] distance) {\n        this.distance = distance;\n    }\n\n    @Override\n    public int compare(Integer o1, Integer o2) {\n        return Integer.compare(distance[o1], distance[o2]);\n    }\n  }\n\n  private Graph graph;\n  private int[] distance;\n  private boolean[] visited;\n  private int[] parents;\n  private int startNode;\n  private int endNode;\n\n  public Dijkstra(Graph graph, int startNode, int endNode) {\n    this.graph = graph;\n    distance = new int[graph.getAdjList().length];\n    visited = new boolean[graph.getAdjList().length];\n    parents = new int[graph.getAdjList().length];\n    this.startNode = startNode;\n    this.endNode = endNode;\n  }\n\n  public void findPath(boolean isUnweighted) {\n    if (endNode == startNode) {\n        System.out.println(\"Starting node  \" + startNode + \"  and target node \" + endNode + \" are identical.\");\n        return;\n    }\n\n    int[][] graphForPathFinding;\n    if (isUnweighted) {\n        // set all weights to 1\n        graphForPathFinding = convertGraphToUnweighted();\n    } else {\n        graphForPathFinding = graph.getAdjList();\n    }\n\n    // initialize\n    for (int i = 0; i &lt; parents.length; i++) {\n        parents[i] = Integer.MAX_VALUE;\n        visited[i] = false;\n        distance[i] = Integer.MAX_VALUE;\n    }\n\n    PriorityQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(1, new DijkstraComparator(distance));\n    distance[startNode] = 0;\n    queue.add(startNode);\n\n    while (queue.isEmpty() == false) {\n        int nextNode = queue.poll();\n        visited[nextNode] = true;\n\n        if (nextNode == endNode) {\n            printResults();\n            return; // target node reached\n        }\n\n        int[] neighbors = graph.getNeighbors(nextNode);\n        for (int neighbor : neighbors) {\n            if (visited[neighbor] == false) {\n                // update distance\n                int d = distance[nextNode] + graphForPathFinding[nextNode][neighbor];\n                if (d &lt; distance[neighbor]) {\n                    distance[neighbor] = d;\n                    parents[neighbor] = nextNode;\n\n                    // remove neighbors from queue so the value gets updated\n                    if (queue.contains(neighbor)) {\n                        queue.remove(neighbor);\n                    }\n                    queue.add(neighbor);\n                }\n            }\n        }\n    }\n    System.out.println(\"No path found between \" + startNode + \" and \" + endNode);\n  }\n\n  private int[][] convertGraphToUnweighted() {\n    int[][] adjMatrix = graph.getAdjList();\n    int[][] graphForConverting = new int[adjMatrix.length][adjMatrix.length];\n    for (int i = 0; i &lt; adjMatrix.length; i++) {\n        int[] adjList = adjMatrix[i];\n        for (int j = 0; j &lt; adjList.length; j++) {\n            if (adjList[j] != 0) {\n                graphForConverting[i][j] = 1;\n            } else {\n                graphForConverting[i][j] = Integer.MAX_VALUE;\n            }\n        }\n    }\n    return graphForConverting;\n  }\n\n  private void printResults() {\n    int weight = 0;\n    int steps = 0;\n    System.out.println(\"Pfad: \");\n    for (int node = endNode; node != startNode; steps++) {\n        System.out.print(node + \"    \");\n        weight += graph.getAdjList()[parents[node]][node];\n        node = parents[node];\n    }\n    System.out.println(startNode);\n    System.out.println(\"Number of nodes: \" + steps);\n    System.out.println(\"Weight:  \" + weight);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4217198,"reputation":153,"user_id":3453011,"accept_rate":86,"display_name":"Scorch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35545664,"answer_count":1,"score":0,"last_activity_date":1682680705,"creation_date":1455972687,"question_id":35523518,"body_markdown":"I&#39;m trying to implement the Dijkstra algorithm in order to get the shortest and cheapest path from one vertex to another vertex, not for all vertices. The graph is built randomly by using random nodes which are connected with random weights.\r\n\r\nBut either I get negative costs or the path for both methods, cheapest and shortest, is the same.\r\nI&#39;m trying to find both results by using the same method since shortest path is just ignoring the weights. This is controlled by a boolean variable.\r\n\r\n\r\nDijkstra - Class:\r\n\r\n    public class Dijkstra {\r\n\r\n\tprivate Graph graph;\r\n\tprivate int[] distance;\r\n\tprivate boolean[] visited;\r\n\tprivate int[] parents;\r\n\tprivate int startNode;\r\n\tprivate int endNode;\r\n\r\n\tpublic Dijkstra(Graph graph, int startNode, int endNode) {\r\n\t\tthis.graph = graph;\r\n\t\tdistance = new int[graph.getAdjList().length];\r\n\t\tvisited = new boolean[graph.getAdjList().length];\r\n\t\tparents = new int[graph.getAdjList().length];\r\n\t\tthis.startNode = startNode;\r\n\t\tthis.endNode = endNode;\r\n\t}\r\n\r\n\tpublic void findPath(boolean isUnweighted) {\r\n\t\tif (endNode == startNode) {\r\n\t\t\tSystem.out.println(\r\n\t\t\t\t\t&quot;Starting node  &quot; + startNode + &quot;  and target node &quot; + endNode + &quot; are identical.&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Starting node: &quot; + startNode);\r\n\t\tSystem.out.println(&quot;Target node:  &quot; + endNode);\r\n\t\tint[][] adjList = graph.getAdjList();\r\n\t\tint[][] graphForPathFinding = new int[adjList.length][adjList.length];\r\n\r\n\t\tif (isUnweighted) {\r\n\t\t\t// set all weights to 1\r\n\t\t\tgraphForPathFinding = convertGraphToUnweighted(graphForPathFinding);\r\n\t\t} else\r\n\t\t\tgraphForPathFinding = adjList;\r\n\t\t// initialize\r\n\t\tfor (int i = 0; i &lt; adjList.length; i++) {\r\n\t\t\tparents[i] = Integer.MAX_VALUE;\r\n\t\t\tvisited[i] = false;\r\n\t\t\tdistance[i] = Integer.MAX_VALUE;\r\n\t\t}\r\n\r\n\t\tdistance[startNode] = 0;\r\n\t\tfor (int i = 0; i &lt; graphForPathFinding.length; i++) {\r\n\r\n\t\t\tint nextNode = getMinDistance();\r\n\t\t\tif (nextNode == -1) { // no path found\r\n\t\t\t\tSystem.out.println(\r\n\t\t\t\t\t\t&quot;No path found between &quot; + startNode + &quot; and &quot; + endNode);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvisited[nextNode] = true;\r\n\t\t\tparents[i] = nextNode;\r\n\r\n\t\t\tif (nextNode == endNode) {\r\n\t\t\t\tprintResults();\r\n\t\t\t\treturn; // target node reached\r\n\t\t\t}\r\n\t\t\tint[] neighbors = graph.getNeighbors(nextNode);\r\n\t\t\tfor (int j = 0; j &lt; neighbors.length; j++) {\r\n\r\n\t\t\t\t if (!visited[j] &amp;&amp; neighbors[j] &gt; 0 &amp;&amp; distance[nextNode] !=\r\n\t\t\t\t Integer.MAX_VALUE\r\n\t\t\t\t &amp;&amp; distance[nextNode] + neighbors[j] &lt; distance[j])\r\n\t\t\t\t distance[j] = distance[nextNode] + neighbors[j];\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate int getMinDistance() {\r\n\t\tint min = Integer.MAX_VALUE;\r\n\t\tint min_index = -1;\r\n\r\n\t\tfor (int i = 0; i &lt; graph.getAdjList().length; i++) {\r\n\t\t\tif (visited[i] == false &amp;&amp; distance[i] &lt;= min) {\r\n\t\t\t\tmin = distance[i];\r\n\t\t\t\tmin_index = i;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn min_index;\r\n\t}\r\n\r\n\tprivate int[][] convertGraphToUnweighted(int[][] graphForConverting) {\r\n\t\tfor (int i = 0; i &lt; graph.getAdjList().length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; graph.getAdjList()[i].length; j++) {\r\n\t\t\t\t //if (graph.getAdjList()[i][j] &gt; 0) {\r\n\t\t\t\tgraphForConverting[i][j] = 1;\r\n\t\t\t// }\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn graphForConverting;\r\n\t}\r\n\r\n\tprivate void printResults() {\r\n\tint weight = 0;\r\n\tint steps = 0;\r\n\tSystem.out.println(&quot;Pfad: &quot;);\r\n\t\tfor(int i = endNode; i&gt;=0; i--){\r\n\t\t\tif(parents[i] &lt; Integer.MAX_VALUE){\r\n\t\t\t\tSystem.out.print(parents[i] + &quot;    &quot;);\r\n\t\t\t\tsteps++;\r\n\t\t\t\tweight += graph.getAdjList()[i][parents[i]];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Number of nodes: &quot; + steps);\r\n\t\t System.out.println(&quot;Weight:  &quot; + weight);\r\n\t}\r\n}\r\n\r\nGraph - Class getNeighbors\r\n\r\n    public int[] getNeighbors(int node){\r\n    \t\tint neighborCount = 0;\r\n    \t\tfor(int i = 0; i &lt; adjList[node].length; ++i)\r\n    \t\t\tif(adjList[node][i] &gt; 0)\r\n    \t\t\t\t++neighborCount;\r\n    \t\tint[] neighbours = new int[neighborCount];\r\n    \t\tneighborCount = 0;\r\n    \t\tfor(int i = 0; i &lt; adjList[node].length; ++i)\r\n    \t\t\tif(adjList[node][i] &gt; 0)\r\n    \t\t\t\tneighbours[neighborCount++] = i;\r\n    \t\t\t\r\n    \t\treturn neighbours;\r\n    \t}\r\n\r\nMain - method:\r\n   \r\n\r\n     public static void main(String[] args) {\r\n                int startNode = rnd.nextInt(graph.getAdjList().length);\r\n        \t\tint endNode = rnd.nextInt(graph.getAdjList().length);\r\n        \t\tDijkstra d = new Dijkstra(graph, startNode, endNode);\r\n        \t\t\r\n        \t\tSystem.out.println(&quot;Shortest path:&quot;);\r\n        \t\td.findPath(true); // true = unweighted, false = weighted\r\n        \t\tSystem.out.println();\r\n        \t\tSystem.out.println(&quot;Cheapest path:&quot;);\r\n        \t\td.findPath(false);\r\n    }","title":"Dijkstra for Adjacency matrix, Shortest and cheapest Path, single source, single target","body":"<p>I'm trying to implement the Dijkstra algorithm in order to get the shortest and cheapest path from one vertex to another vertex, not for all vertices. The graph is built randomly by using random nodes which are connected with random weights.</p>\n\n<p>But either I get negative costs or the path for both methods, cheapest and shortest, is the same.\nI'm trying to find both results by using the same method since shortest path is just ignoring the weights. This is controlled by a boolean variable.</p>\n\n<p>Dijkstra - Class:</p>\n\n<pre><code>public class Dijkstra {\n\nprivate Graph graph;\nprivate int[] distance;\nprivate boolean[] visited;\nprivate int[] parents;\nprivate int startNode;\nprivate int endNode;\n\npublic Dijkstra(Graph graph, int startNode, int endNode) {\n    this.graph = graph;\n    distance = new int[graph.getAdjList().length];\n    visited = new boolean[graph.getAdjList().length];\n    parents = new int[graph.getAdjList().length];\n    this.startNode = startNode;\n    this.endNode = endNode;\n}\n\npublic void findPath(boolean isUnweighted) {\n    if (endNode == startNode) {\n        System.out.println(\n                \"Starting node  \" + startNode + \"  and target node \" + endNode + \" are identical.\");\n        return;\n    }\n    System.out.println(\"Starting node: \" + startNode);\n    System.out.println(\"Target node:  \" + endNode);\n    int[][] adjList = graph.getAdjList();\n    int[][] graphForPathFinding = new int[adjList.length][adjList.length];\n\n    if (isUnweighted) {\n        // set all weights to 1\n        graphForPathFinding = convertGraphToUnweighted(graphForPathFinding);\n    } else\n        graphForPathFinding = adjList;\n    // initialize\n    for (int i = 0; i &lt; adjList.length; i++) {\n        parents[i] = Integer.MAX_VALUE;\n        visited[i] = false;\n        distance[i] = Integer.MAX_VALUE;\n    }\n\n    distance[startNode] = 0;\n    for (int i = 0; i &lt; graphForPathFinding.length; i++) {\n\n        int nextNode = getMinDistance();\n        if (nextNode == -1) { // no path found\n            System.out.println(\n                    \"No path found between \" + startNode + \" and \" + endNode);\n            return;\n        }\n        visited[nextNode] = true;\n        parents[i] = nextNode;\n\n        if (nextNode == endNode) {\n            printResults();\n            return; // target node reached\n        }\n        int[] neighbors = graph.getNeighbors(nextNode);\n        for (int j = 0; j &lt; neighbors.length; j++) {\n\n             if (!visited[j] &amp;&amp; neighbors[j] &gt; 0 &amp;&amp; distance[nextNode] !=\n             Integer.MAX_VALUE\n             &amp;&amp; distance[nextNode] + neighbors[j] &lt; distance[j])\n             distance[j] = distance[nextNode] + neighbors[j];\n        }\n\n    }\n\n}\n\nprivate int getMinDistance() {\n    int min = Integer.MAX_VALUE;\n    int min_index = -1;\n\n    for (int i = 0; i &lt; graph.getAdjList().length; i++) {\n        if (visited[i] == false &amp;&amp; distance[i] &lt;= min) {\n            min = distance[i];\n            min_index = i;\n        }\n\n    }\n    return min_index;\n}\n\nprivate int[][] convertGraphToUnweighted(int[][] graphForConverting) {\n    for (int i = 0; i &lt; graph.getAdjList().length; i++) {\n        for (int j = 0; j &lt; graph.getAdjList()[i].length; j++) {\n             //if (graph.getAdjList()[i][j] &gt; 0) {\n            graphForConverting[i][j] = 1;\n        // }\n        }\n    }\n    return graphForConverting;\n}\n\nprivate void printResults() {\nint weight = 0;\nint steps = 0;\nSystem.out.println(\"Pfad: \");\n    for(int i = endNode; i&gt;=0; i--){\n        if(parents[i] &lt; Integer.MAX_VALUE){\n            System.out.print(parents[i] + \"    \");\n            steps++;\n            weight += graph.getAdjList()[i][parents[i]];\n        }\n\n    }\n\n    System.out.println();\n    System.out.println(\"Number of nodes: \" + steps);\n     System.out.println(\"Weight:  \" + weight);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Graph - Class getNeighbors</p>\n\n<pre><code>public int[] getNeighbors(int node){\n        int neighborCount = 0;\n        for(int i = 0; i &lt; adjList[node].length; ++i)\n            if(adjList[node][i] &gt; 0)\n                ++neighborCount;\n        int[] neighbours = new int[neighborCount];\n        neighborCount = 0;\n        for(int i = 0; i &lt; adjList[node].length; ++i)\n            if(adjList[node][i] &gt; 0)\n                neighbours[neighborCount++] = i;\n\n        return neighbours;\n    }\n</code></pre>\n\n<p>Main - method:</p>\n\n<pre><code> public static void main(String[] args) {\n            int startNode = rnd.nextInt(graph.getAdjList().length);\n            int endNode = rnd.nextInt(graph.getAdjList().length);\n            Dijkstra d = new Dijkstra(graph, startNode, endNode);\n\n            System.out.println(\"Shortest path:\");\n            d.findPath(true); // true = unweighted, false = weighted\n            System.out.println();\n            System.out.println(\"Cheapest path:\");\n            d.findPath(false);\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682601506,"post_id":76120808,"comment_id":134244010,"body_markdown":"`System.err.println(value.replaceAll(&quot;[^-,.\\\\d]&quot;, &quot;&quot;));` !?","body":"<code>System.err.println(value.replaceAll(&quot;[^-,.\\\\d]&quot;, &quot;&quot;));</code> !?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682601538,"post_id":76120808,"comment_id":134244019,"body_markdown":"`-,.` and all digits &quot;remain&quot; ..","body":"<code>-,.</code> and all digits &quot;remain&quot; .."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682603086,"post_id":76120808,"comment_id":134244398,"body_markdown":"maybe it is dup&#39;ed, but not by [that](https://stackoverflow.com/questions/2555059/javascript-regular-expressions-replace-non-numeric-characters) tag:javascript..meanwhile i found: https://howtodoinjava.com/java/regex/java-regex-match-any-currency-symbol/ ! which eneables us (for the specific &quot;information loss&quot;) to `value.replaceAll(&quot;[\\\\p{Sc}]&quot;, &quot;&quot;)` (replaces all &quot;currency characters&quot; with &quot;empty string&quot;)","body":"maybe it is dup&#39;ed, but not by <a href=\"https://stackoverflow.com/questions/2555059/javascript-regular-expressions-replace-non-numeric-characters\">that</a> tag:javascript..meanwhile i found: <a href=\"https://howtodoinjava.com/java/regex/java-regex-match-any-currency-symbol/\" rel=\"nofollow noreferrer\">howtodoinjava.com/java/regex/&hellip;</a> ! which eneables us (for the specific &quot;information loss&quot;) to <code>value.replaceAll(&quot;[\\\\p{Sc}]&quot;, &quot;&quot;)</code> (replaces all &quot;currency characters&quot; with &quot;empty string&quot;)"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682603342,"post_id":76120808,"comment_id":134244474,"body_markdown":"Sometimes there may be a plus sign.","body":"Sometimes there may be a plus sign."},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1682603671,"post_id":76120808,"comment_id":134244555,"body_markdown":"Yeah it still keeps commas I think... Which is not good","body":"Yeah it still keeps commas I think... Which is not good"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682604474,"post_id":76120808,"comment_id":134244774,"body_markdown":"What is your use case?  Do you want to parse this to a double?","body":"What is your use case?  Do you want to parse this to a double?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1682605001,"post_id":76120808,"comment_id":134244902,"body_markdown":"Are you required to use a regular expression for this?  `NumberFormat.getCurrencyInstance(Locale.US).parse(value).intValue()` would accomplish your goal.","body":"Are you required to use a regular expression for this?  <code>NumberFormat.getCurrencyInstance(Locale.US).parse(value).int&zwnj;&#8203;Value()</code> would accomplish your goal."}],"answers":[{"tags":[],"owner":{"account_id":26335795,"reputation":948,"user_id":19995658,"display_name":"Sparkling Marcel "},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682601596,"creation_date":1682601596,"answer_id":76120908,"question_id":76120808,"body_markdown":"In your example, the string only contains what refers to the money, but can the string get longer and contains &quot; - &quot; signs that are not the negative signs?\r\n\r\nIf your string always follow the same pattern as the one you just posted, you can change your regex to ignore &quot; - &quot; signs \r\n\r\n    String value = &quot;-$54.34&quot;;\r\n    value = value.replaceAll(&quot;[^-\\\\d.]+&quot;, &quot;&quot;);\r\n    System.out.println(value); // prints -54.34","title":"Remove the non-decimal parts of a String using regular expression","body":"<p>In your example, the string only contains what refers to the money, but can the string get longer and contains &quot; - &quot; signs that are not the negative signs?</p>\n<p>If your string always follow the same pattern as the one you just posted, you can change your regex to ignore &quot; - &quot; signs</p>\n<pre><code>String value = &quot;-$54.34&quot;;\nvalue = value.replaceAll(&quot;[^-\\\\d.]+&quot;, &quot;&quot;);\nSystem.out.println(value); // prints -54.34\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682606883,"creation_date":1682602261,"answer_id":76121017,"question_id":76120808,"body_markdown":"Try it like this.  Removes those characters that should not be part of a regular decimal number.\r\n```\r\nString[] testData = {\r\n        &quot;+$54.34&quot;,&quot;-$54.34&quot;,&quot;+54.34&quot;,&quot;-54.34&quot;,&quot;$54.34&quot;, &quot;54.34&quot;,\r\n        &quot;+$1,054.34&quot;,&quot;-$1,054.34&quot;,&quot;+1,054.34&quot;,&quot;-1,054.34&quot;,&quot;$1,054.34&quot;, &quot;1,054.34&quot;\r\n        \r\n};\r\nfor (String value : testData) {\r\n    String result = value.replaceAll(&quot;[^\\\\d.+-]+&quot;, &quot;&quot;);\r\n    System.out.printf(&quot;%10s -&gt; %6s%n&quot;, value, result);\r\n}\r\n```\r\nprints\r\n```\r\n   +$54.34 -&gt;  54.34\r\n   -$54.34 -&gt; -54.34\r\n    +54.34 -&gt;  54.34\r\n    -54.34 -&gt; -54.34\r\n    $54.34 -&gt;  54.34\r\n     54.34 -&gt;  54.34\r\n+$1,054.34 -&gt;  1054.34\r\n-$1,054.34 -&gt; -1054.34\r\n +1,054.34 -&gt;  1054.34\r\n -1,054.34 -&gt; -1054.34\r\n $1,054.34 -&gt; 1054.34\r\n  1,054.34 -&gt; 1054.34\r\n```\r\nI also suggest you check out [DecimalFormat](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/text/DecimalFormat.html) which allows you to parse a `currencyInstance` to a double or to apply your own format.\r\nIf you want to convert to a double, first remove any plus or currency sign and parse.\r\n```\r\nDecimalFormat df = (DecimalFormat)DecimalFormat.getCurrencyInstance();\r\ndf.applyPattern(&quot;#,##0.##&quot;);\r\nfor (String value : testData) {\r\n    try {\r\n       double result = df.parse(value.replaceAll(&quot;[+$]&quot;,&quot;&quot;)).doubleValue();\r\n       System.out.printf(&quot;%10s -&gt; %6s%n&quot;, value, result);\r\n    } catch (ParseException pe) {\r\n       pe.printStackTrace();\r\n    }\r\n }\r\n```\r\nprints the same as above.","title":"Remove the non-decimal parts of a String using regular expression","body":"<p>Try it like this.  Removes those characters that should not be part of a regular decimal number.</p>\n<pre><code>String[] testData = {\n        &quot;+$54.34&quot;,&quot;-$54.34&quot;,&quot;+54.34&quot;,&quot;-54.34&quot;,&quot;$54.34&quot;, &quot;54.34&quot;,\n        &quot;+$1,054.34&quot;,&quot;-$1,054.34&quot;,&quot;+1,054.34&quot;,&quot;-1,054.34&quot;,&quot;$1,054.34&quot;, &quot;1,054.34&quot;\n        \n};\nfor (String value : testData) {\n    String result = value.replaceAll(&quot;[^\\\\d.+-]+&quot;, &quot;&quot;);\n    System.out.printf(&quot;%10s -&gt; %6s%n&quot;, value, result);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>   +$54.34 -&gt;  54.34\n   -$54.34 -&gt; -54.34\n    +54.34 -&gt;  54.34\n    -54.34 -&gt; -54.34\n    $54.34 -&gt;  54.34\n     54.34 -&gt;  54.34\n+$1,054.34 -&gt;  1054.34\n-$1,054.34 -&gt; -1054.34\n +1,054.34 -&gt;  1054.34\n -1,054.34 -&gt; -1054.34\n $1,054.34 -&gt; 1054.34\n  1,054.34 -&gt; 1054.34\n</code></pre>\n<p>I also suggest you check out <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat</a> which allows you to parse a <code>currencyInstance</code> to a double or to apply your own format.\nIf you want to convert to a double, first remove any plus or currency sign and parse.</p>\n<pre><code>DecimalFormat df = (DecimalFormat)DecimalFormat.getCurrencyInstance();\ndf.applyPattern(&quot;#,##0.##&quot;);\nfor (String value : testData) {\n    try {\n       double result = df.parse(value.replaceAll(&quot;[+$]&quot;,&quot;&quot;)).doubleValue();\n       System.out.printf(&quot;%10s -&gt; %6s%n&quot;, value, result);\n    } catch (ParseException pe) {\n       pe.printStackTrace();\n    }\n }\n</code></pre>\n<p>prints the same as above.</p>\n"}],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76121017,"answer_count":2,"score":1,"last_activity_date":1682680264,"creation_date":1682600900,"question_id":76120808,"body_markdown":"I want to remove the non-decimal parts of a String which could include money (positive or negative values). \r\n\r\n    String value = &quot;-$54.34&quot;\r\n    value = value.replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;)\r\n\r\n\r\nGives me `54.34`\r\n\r\nIt works when it&#39;s a non-negative, but in this case I want the negative sign to remain. All the other questions/answers seem to skip on the negative sign aspect.\r\n\r\nI also don&#39;t want commas to show up in it...\r\n\r\n$4,230.33 should strip out the commas.","title":"Remove the non-decimal parts of a String using regular expression","body":"<p>I want to remove the non-decimal parts of a String which could include money (positive or negative values).</p>\n<pre><code>String value = &quot;-$54.34&quot;\nvalue = value.replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;)\n</code></pre>\n<p>Gives me <code>54.34</code></p>\n<p>It works when it's a non-negative, but in this case I want the negative sign to remain. All the other questions/answers seem to skip on the negative sign aspect.</p>\n<p>I also don't want commas to show up in it...</p>\n<p>$4,230.33 should strip out the commas.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1682677106,"post_id":76128487,"comment_id":134256805,"body_markdown":"Does the code work in general? Then it might be a better fit for https://codereview.stackexchange.com/","body":"Does the code work in general? Then it might be a better fit for <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1682678067,"post_id":76128487,"comment_id":134256998,"body_markdown":"I dont see how the code as shown can possibly work.  For example, each call to `guess` returns the `numCorrect` variable, but that result is totally ignored for making the future guesses !!    In fact, whatever the result of the First guess (even 0 ! ), the code immediately goes into ` // update correct positions for each key` and will simply repeat the guess - In fact I dont see how your guesses are ever going to change !","body":"I dont see how the code as shown can possibly work.  For example, each call to <code>guess</code> returns the <code>numCorrect</code> variable, but that result is totally ignored for making the future guesses !!    In fact, whatever the result of the First guess (even 0 ! ), the code immediately goes into ` // update correct positions for each key` and will simply repeat the guess - In fact I dont see how your guesses are ever going to change !"}],"answers":[{"tags":[],"owner":{"account_id":28443698,"reputation":19,"user_id":21762715,"display_name":"Amad&#233;3812"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682680253,"creation_date":1682680253,"answer_id":76128987,"question_id":76128487,"body_markdown":"I think your approach is too inefficient, as you only know the number of correct chars, but not which one are correct. I would use an approach rather like this:\r\n\r\n    public void start() {\r\n        // generate keys\r\n        SecretKey key = new SecretKey();\r\n\r\n        // rather start from an all-wrong key, then you don&#39;t have to look which are already correct\r\n        String guess = &quot;XXXXXXXXXXXXXXXX&quot;;\r\n\r\n        char[] chars = guess.toCharArray();\r\n        int numCorrect = 0;\r\n        int newNumCorrect = 0;\r\n\r\n        int i = 0;\r\n        while (i &lt; 16 &amp;&amp; numCorrect != 16) {\r\n            while (newNumCorrect == numCorrect) {\r\n                chars[i] = switch (chars[i]) {\r\n                    case &#39;R&#39; -&gt; &#39;M&#39;;\r\n                    case &#39;M&#39; -&gt; &#39;I&#39;;\r\n                    case &#39;I&#39; -&gt; &#39;T&#39;;\r\n                    default -&gt; &#39;R&#39;;\r\n                };\r\n                guess = String.copyValueOf(chars);\r\n                //System.out.println(guess);\r\n                newNumCorrect = key.guess(guess);\r\n            }\r\n            numCorrect = newNumCorrect;\r\n            i++;\r\n        }\r\n\r\n        System.out.println(&quot;I found the secret key. It is &quot; + String.copyValueOf(chars));\r\n    }\r\n\r\nBy this, even in the worst case the program only needs 64 (=16*4) guesses, and runs in under one second. You only have to comment / delete `if (c != &#39;R&#39; &amp;&amp; c != &#39;M&#39; &amp;&amp; c != &#39;I&#39; &amp;&amp; c != &#39;T&#39;) {return -1;}` in the SecretKey.java file, it isn&#39;t necessary anyway. ","title":"How do I make this code to produce a result in a reasonable time","body":"<p>I think your approach is too inefficient, as you only know the number of correct chars, but not which one are correct. I would use an approach rather like this:</p>\n<pre><code>public void start() {\n    // generate keys\n    SecretKey key = new SecretKey();\n\n    // rather start from an all-wrong key, then you don't have to look which are already correct\n    String guess = &quot;XXXXXXXXXXXXXXXX&quot;;\n\n    char[] chars = guess.toCharArray();\n    int numCorrect = 0;\n    int newNumCorrect = 0;\n\n    int i = 0;\n    while (i &lt; 16 &amp;&amp; numCorrect != 16) {\n        while (newNumCorrect == numCorrect) {\n            chars[i] = switch (chars[i]) {\n                case 'R' -&gt; 'M';\n                case 'M' -&gt; 'I';\n                case 'I' -&gt; 'T';\n                default -&gt; 'R';\n            };\n            guess = String.copyValueOf(chars);\n            //System.out.println(guess);\n            newNumCorrect = key.guess(guess);\n        }\n        numCorrect = newNumCorrect;\n        i++;\n    }\n\n    System.out.println(&quot;I found the secret key. It is &quot; + String.copyValueOf(chars));\n}\n</code></pre>\n<p>By this, even in the worst case the program only needs 64 (=16*4) guesses, and runs in under one second. You only have to comment / delete <code>if (c != 'R' &amp;&amp; c != 'M' &amp;&amp; c != 'I' &amp;&amp; c != 'T') {return -1;}</code> in the SecretKey.java file, it isn't necessary anyway.</p>\n"}],"owner":{"account_id":28432462,"reputation":1,"user_id":21752953,"display_name":"L.T.A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682680253,"creation_date":1682676345,"question_id":76128487,"body_markdown":"I am developing a class to guess a secret key. The secret key containing 16 random letters of &quot;t&quot; &quot;r&quot; &quot;m&quot; &quot;i&quot;. But the run time is taking too long to produce. The goal is to produce the lowest guess count, in this case, if the code were to produce actual result, it will only take 4 guesses. Here is the code for the 2 classes &quot;secretkey&quot; and the one I am working on it &quot;secretkeyguesser&quot;:\r\npackage project;\r\n\r\n```\r\npublic class SecretKey {\r\n    private String correctKey;\r\n    private int counter;\r\n\r\n    public SecretKey() {\r\n        // for the real test, your program will not know this\r\n        correctKey = &quot;RRRRRRRRRMITRMIT&quot;;\r\n        counter = 0;\r\n    }\r\n\r\n    public int guess(String guessedKey) {\r\n        counter++;\r\n        // validation\r\n        if (guessedKey.length() != correctKey.length()) {\r\n            return -1;\r\n        }\r\n        int matched = 0;\r\n        for (int i = 0; i &lt; guessedKey.length(); i++) {\r\n            char c = guessedKey.charAt(i);\r\n            if (c != &#39;R&#39; &amp;&amp; c != &#39;M&#39; &amp;&amp; c != &#39;I&#39; &amp;&amp; c != &#39;T&#39;) {\r\n                return -1;\r\n            }\r\n            if (c == correctKey.charAt(i)) {\r\n                matched++;\r\n            }\r\n        }\r\n        if (matched == correctKey.length()) {\r\n            System.out.println(&quot;Number of guesses: &quot; + counter);\r\n        }\r\n        return matched;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new SecretKeyGuesser().start();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage project;\r\n\r\npublic class SecretKeyGuesser {\r\n    public void start() {\r\n        // generate keys\r\n        String key1 = &quot;RRRRRRRRRRRRRRRR&quot;;\r\n        String key2 = &quot;MMMMMMMMMMMMMMMM&quot;;\r\n        String key3 = &quot;IIIIIIIIIIIIIIII&quot;;\r\n        String key4 = &quot;TTTTTTTTTTTTTTTT&quot;;\r\n\r\n        // initialize correct positions\r\n        int[] correct1 = new int[16];\r\n        int[] correct2 = new int[16];\r\n        int[] correct3 = new int[16];\r\n        int[] correct4 = new int[16];\r\n\r\n        SecretKey key = new SecretKey();\r\n        String guess = &quot;RRRRRRRRRRRRRRRR&quot;;\r\n        int numCorrect = key.guess(guess);\r\n\r\n        while (numCorrect != 16) {\r\n            // update correct positions for each key\r\n            for (int i = 0; i &lt; 16; i++) {\r\n                char c = guess.charAt(i);\r\n                if (c == &#39;R&#39;) {\r\n                    correct1[i] += 1;\r\n                } else if (c == &#39;M&#39;) {\r\n                    correct2[i] += 1;\r\n                } else if (c == &#39;I&#39;) {\r\n                    correct3[i] += 1;\r\n                } else {\r\n                    correct4[i] += 1;\r\n                }\r\n            }\r\n\r\n            // generate next guess\r\n            guess = nextGuess(correct1, correct2, correct3, correct4);\r\n            numCorrect = key.guess(guess);\r\n        }\r\n\r\n        // merge keys based on correct positions\r\n        StringBuilder secretKey = new StringBuilder();\r\n        for (int i = 0; i &lt; 16; i++) {\r\n            if (correct1[i] == 1) {\r\n                secretKey.append(guess.charAt(i));\r\n            } else if (correct2[i] == 1) {\r\n                secretKey.append(guess.charAt(i));\r\n            } else if (correct3[i] == 1) {\r\n                secretKey.append(guess.charAt(i));\r\n            } else {\r\n                secretKey.append(guess.charAt(i));\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;I found the secret key. It is &quot; + secretKey.toString());\r\n    }\r\n\r\n    // return the next guess based on correct positions\r\n    public String nextGuess(int[] correct1, int[] correct2, int[] correct3, int[] correct4) {\r\n        StringBuilder nextGuess = new StringBuilder();\r\n        for (int i = 0; i &lt; 16; i++) {\r\n            if (correct1[i] == 0) {\r\n                nextGuess.append(&#39;R&#39;);\r\n            } else if (correct2[i] == 0) {\r\n                nextGuess.append(&#39;M&#39;);\r\n            } else if (correct3[i] == 0) {\r\n                nextGuess.append(&#39;I&#39;);\r\n            } else {\r\n                nextGuess.append(&#39;T&#39;);\r\n            }\r\n        }\r\n        return nextGuess.toString();\r\n    }\r\n}\r\n```\r\n\r\nwhat was trying to do in the secretkeyguesser class is to scan for the correct index position for each of 4 letters and then once having all of the correct position, put them all in a string. ","title":"How do I make this code to produce a result in a reasonable time","body":"<p>I am developing a class to guess a secret key. The secret key containing 16 random letters of &quot;t&quot; &quot;r&quot; &quot;m&quot; &quot;i&quot;. But the run time is taking too long to produce. The goal is to produce the lowest guess count, in this case, if the code were to produce actual result, it will only take 4 guesses. Here is the code for the 2 classes &quot;secretkey&quot; and the one I am working on it &quot;secretkeyguesser&quot;:\npackage project;</p>\n<pre><code>public class SecretKey {\n    private String correctKey;\n    private int counter;\n\n    public SecretKey() {\n        // for the real test, your program will not know this\n        correctKey = &quot;RRRRRRRRRMITRMIT&quot;;\n        counter = 0;\n    }\n\n    public int guess(String guessedKey) {\n        counter++;\n        // validation\n        if (guessedKey.length() != correctKey.length()) {\n            return -1;\n        }\n        int matched = 0;\n        for (int i = 0; i &lt; guessedKey.length(); i++) {\n            char c = guessedKey.charAt(i);\n            if (c != 'R' &amp;&amp; c != 'M' &amp;&amp; c != 'I' &amp;&amp; c != 'T') {\n                return -1;\n            }\n            if (c == correctKey.charAt(i)) {\n                matched++;\n            }\n        }\n        if (matched == correctKey.length()) {\n            System.out.println(&quot;Number of guesses: &quot; + counter);\n        }\n        return matched;\n    }\n\n    public static void main(String[] args) {\n        new SecretKeyGuesser().start();\n    }\n}\n</code></pre>\n<pre><code>package project;\n\npublic class SecretKeyGuesser {\n    public void start() {\n        // generate keys\n        String key1 = &quot;RRRRRRRRRRRRRRRR&quot;;\n        String key2 = &quot;MMMMMMMMMMMMMMMM&quot;;\n        String key3 = &quot;IIIIIIIIIIIIIIII&quot;;\n        String key4 = &quot;TTTTTTTTTTTTTTTT&quot;;\n\n        // initialize correct positions\n        int[] correct1 = new int[16];\n        int[] correct2 = new int[16];\n        int[] correct3 = new int[16];\n        int[] correct4 = new int[16];\n\n        SecretKey key = new SecretKey();\n        String guess = &quot;RRRRRRRRRRRRRRRR&quot;;\n        int numCorrect = key.guess(guess);\n\n        while (numCorrect != 16) {\n            // update correct positions for each key\n            for (int i = 0; i &lt; 16; i++) {\n                char c = guess.charAt(i);\n                if (c == 'R') {\n                    correct1[i] += 1;\n                } else if (c == 'M') {\n                    correct2[i] += 1;\n                } else if (c == 'I') {\n                    correct3[i] += 1;\n                } else {\n                    correct4[i] += 1;\n                }\n            }\n\n            // generate next guess\n            guess = nextGuess(correct1, correct2, correct3, correct4);\n            numCorrect = key.guess(guess);\n        }\n\n        // merge keys based on correct positions\n        StringBuilder secretKey = new StringBuilder();\n        for (int i = 0; i &lt; 16; i++) {\n            if (correct1[i] == 1) {\n                secretKey.append(guess.charAt(i));\n            } else if (correct2[i] == 1) {\n                secretKey.append(guess.charAt(i));\n            } else if (correct3[i] == 1) {\n                secretKey.append(guess.charAt(i));\n            } else {\n                secretKey.append(guess.charAt(i));\n            }\n        }\n\n        System.out.println(&quot;I found the secret key. It is &quot; + secretKey.toString());\n    }\n\n    // return the next guess based on correct positions\n    public String nextGuess(int[] correct1, int[] correct2, int[] correct3, int[] correct4) {\n        StringBuilder nextGuess = new StringBuilder();\n        for (int i = 0; i &lt; 16; i++) {\n            if (correct1[i] == 0) {\n                nextGuess.append('R');\n            } else if (correct2[i] == 0) {\n                nextGuess.append('M');\n            } else if (correct3[i] == 0) {\n                nextGuess.append('I');\n            } else {\n                nextGuess.append('T');\n            }\n        }\n        return nextGuess.toString();\n    }\n}\n</code></pre>\n<p>what was trying to do in the secretkeyguesser class is to scan for the correct index position for each of 4 letters and then once having all of the correct position, put them all in a string.</p>\n"},{"tags":["java","swing","user-interface"],"answers":[{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1234477981,"creation_date":1234477981,"answer_id":543793,"question_id":543574,"body_markdown":"[`GroupLayout`][1] wasn&#39;t really designed for hand-coding; it&#39;s much, much more verbose than any other layout manager (except possibly [`GridBagLayout`][2]). Since you say you&#39;re new to Swing, I suggest starting with the basic layout managers ([`BorderLayout`][3] and [`FlowLayout`][4]); you can use them in NetBeans by right-clicking the panel or frame and choosing &quot;Set Layout&quot;. After you&#39;re familiar with those, I suggest you check out [`MiGLayout`][5].\r\n\r\nTo answer your other question: I think of NetBeans form designer as similar to a calculator; it&#39;s a wonderful tool if you already know the basics, but you&#39;ll never learn anything if you just use it as a crutch.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/javax/swing/GroupLayout.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/awt/GridBagLayout.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/awt/BorderLayout.html\r\n  [4]: http://java.sun.com/javase/6/docs/api/java/awt/FlowLayout.html\r\n  [5]: http://www.miglayout.com/","title":"GroupLayout: Is it worth learning?","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/GroupLayout.html\" rel=\"nofollow noreferrer\"><code>GroupLayout</code></a> wasn't really designed for hand-coding; it's much, much more verbose than any other layout manager (except possibly <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/GridBagLayout.html\" rel=\"nofollow noreferrer\"><code>GridBagLayout</code></a>). Since you say you're new to Swing, I suggest starting with the basic layout managers (<a href=\"http://java.sun.com/javase/6/docs/api/java/awt/BorderLayout.html\" rel=\"nofollow noreferrer\"><code>BorderLayout</code></a> and <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/FlowLayout.html\" rel=\"nofollow noreferrer\"><code>FlowLayout</code></a>); you can use them in NetBeans by right-clicking the panel or frame and choosing \"Set Layout\". After you're familiar with those, I suggest you check out <a href=\"http://www.miglayout.com/\" rel=\"nofollow noreferrer\"><code>MiGLayout</code></a>.</p>\n\n<p>To answer your other question: I think of NetBeans form designer as similar to a calculator; it's a wonderful tool if you already know the basics, but you'll never learn anything if you just use it as a crutch.</p>\n"},{"tags":[],"owner":{"account_id":22779,"reputation":129011,"user_id":56541,"accept_rate":81,"display_name":"David Z"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1234478699,"creation_date":1234478699,"answer_id":543840,"question_id":543574,"body_markdown":"I&#39;d say it&#39;s worth taking some time to understand `GroupLayout` if only because it&#39;s always a good idea to understand what your IDE is doing. Knowing what goes on behind the scenes actually makes you more flexible, because if you wind up in a situation where you don&#39;t have access to Netbeans, you&#39;ll know how to replicate the layout it would have produced for you.  Besides, after you&#39;ve gotten a decent amount of experience, you&#39;ll probably wind up saving time overall. You can often develop a simple GUI faster by hand than by using a visual editor, especially considering the time it takes you to copy and paste the code from Netbeans to Eclipse.\r\n\r\nAnd of course, learning how to use `GroupLayout` by hand will also make it easier for you to transition to any of the other layout managers Java offers, which in turn can lead to simpler code and even more time saved.","title":"GroupLayout: Is it worth learning?","body":"<p>I'd say it's worth taking some time to understand <code>GroupLayout</code> if only because it's always a good idea to understand what your IDE is doing. Knowing what goes on behind the scenes actually makes you more flexible, because if you wind up in a situation where you don't have access to Netbeans, you'll know how to replicate the layout it would have produced for you.  Besides, after you've gotten a decent amount of experience, you'll probably wind up saving time overall. You can often develop a simple GUI faster by hand than by using a visual editor, especially considering the time it takes you to copy and paste the code from Netbeans to Eclipse.</p>\n\n<p>And of course, learning how to use <code>GroupLayout</code> by hand will also make it easier for you to transition to any of the other layout managers Java offers, which in turn can lead to simpler code and even more time saved.</p>\n"},{"tags":[],"owner":{"account_id":23146,"reputation":27,"user_id":57762,"display_name":"jtplumber"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1234497196,"creation_date":1234497196,"answer_id":544643,"question_id":543574,"body_markdown":"Most of the more complicated layout managers are not meant to be hand-coded.  You can do it, but you&#39;ll likely have trouble understanding your own layout a few months from now.  GroupLayout is no exception, worse it&#39;s not intuitive at all, you have to contort your mind forcing your layout into GroupLayout terms.\r\n\r\nIt&#39;s my opinion that these layout managers are not worth learning.  GridBagLayout is the worst of all.  It has more options than you can possibly figure out, and they never seem to do what you think they do.  MiGLayout is very powerful, reasonably intuitive, and mostly does what you think it does, but I&#39;ll still argue that it&#39;s too powerful and too complicated for its, and the programmer&#39;s own good.  GroupLayout is not as powerful, not as intuitive, and not worth the trouble.\r\n\r\nMy advice from years of laying out Java GUI and maintaining them is to learn and use the most powerful layout manager you can master in two hours and that you&#39;ll never forget, then layout your GUI with nested containers using this layout manager and the basic BorderLayout/GridLayout/FlowLayout/BoxLayout.\r\n","title":"GroupLayout: Is it worth learning?","body":"<p>Most of the more complicated layout managers are not meant to be hand-coded.  You can do it, but you'll likely have trouble understanding your own layout a few months from now.  GroupLayout is no exception, worse it's not intuitive at all, you have to contort your mind forcing your layout into GroupLayout terms.</p>\n\n<p>It's my opinion that these layout managers are not worth learning.  GridBagLayout is the worst of all.  It has more options than you can possibly figure out, and they never seem to do what you think they do.  MiGLayout is very powerful, reasonably intuitive, and mostly does what you think it does, but I'll still argue that it's too powerful and too complicated for its, and the programmer's own good.  GroupLayout is not as powerful, not as intuitive, and not worth the trouble.</p>\n\n<p>My advice from years of laying out Java GUI and maintaining them is to learn and use the most powerful layout manager you can master in two hours and that you'll never forget, then layout your GUI with nested containers using this layout manager and the basic BorderLayout/GridLayout/FlowLayout/BoxLayout.</p>\n"},{"tags":[],"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1322145296,"creation_date":1322145296,"answer_id":8258707,"question_id":543574,"body_markdown":"**`GroupLayout` is worth learning to use programmatically.**\r\n\r\nI use `GroupLayout` as my default layout on nearly every panel I create which uses standard Swing components.  I find that the results are always very pleasing to the eye and resize very well.  I always set these options:\r\n\r\n\tgroupLayout.setAutoCreateGaps(true);\r\n\tgroupLayout.setAutoCreateContainerGaps(true);\r\n\r\nUsing this layout repeatedly has not only given me great-looking layouts, but it gives me the low-level experience required to be able to put together some complicated panels with a number of components that is unknown at compile time.  I also find, when the number of components is dynamic, that I can lay out all the components and then turn them on and off with `setVisible(boolean)` without recreating the horizontal and vertical groups.","title":"GroupLayout: Is it worth learning?","body":"<p><strong><code>GroupLayout</code> is worth learning to use programmatically.</strong></p>\n\n<p>I use <code>GroupLayout</code> as my default layout on nearly every panel I create which uses standard Swing components.  I find that the results are always very pleasing to the eye and resize very well.  I always set these options:</p>\n\n<pre><code>groupLayout.setAutoCreateGaps(true);\ngroupLayout.setAutoCreateContainerGaps(true);\n</code></pre>\n\n<p>Using this layout repeatedly has not only given me great-looking layouts, but it gives me the low-level experience required to be able to put together some complicated panels with a number of components that is unknown at compile time.  I also find, when the number of components is dynamic, that I can lay out all the components and then turn them on and off with <code>setVisible(boolean)</code> without recreating the horizontal and vertical groups.</p>\n"},{"tags":[],"owner":{"account_id":2151168,"reputation":1,"user_id":1907499,"display_name":"L.Sankaranarayanan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355649175,"creation_date":1355649175,"answer_id":13899941,"question_id":543574,"body_markdown":"If you are  inclined  to  a VB Program Style you spend time on GroupLayouts. Otherwise try to understand GridBagLayout Manager with suitable examples.  It is the best for those who want every gui component should be under our pen control(We should write and not the IDE). A good java developer should spend time in gui objects and business objects and must know how to separate them. \r\nL.Sankaranarayanan.","title":"GroupLayout: Is it worth learning?","body":"<p>If you are  inclined  to  a VB Program Style you spend time on GroupLayouts. Otherwise try to understand GridBagLayout Manager with suitable examples.  It is the best for those who want every gui component should be under our pen control(We should write and not the IDE). A good java developer should spend time in gui objects and business objects and must know how to separate them. \nL.Sankaranarayanan.</p>\n"}],"owner":{"account_id":25569,"reputation":1928,"user_id":65765,"accept_rate":65,"display_name":"Ciaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7437,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1682685890,"accepted_answer_id":543840,"answer_count":5,"score":10,"last_activity_date":1682679753,"creation_date":1234475812,"question_id":543574,"body_markdown":"I&#39;m relatively new to java (specifically swing) and have recently been making some fairly simple applications, learning as I go. The latest one has lots of form components such as JLabels, JTextFields, JButtons, etc etc. All were placed in NetBeans using a visual builder. I have to say I&#39;m not really taking to NetBeans and have really just been designing the GUI and copying the code straight to Eclipse.\r\n\r\nMy question is: Is it worth getting a very good understanding of GroupLayout and coding by hand (and therefore having more control over my GUI) or just continuing on as is?","title":"GroupLayout: Is it worth learning?","body":"<p>I'm relatively new to java (specifically swing) and have recently been making some fairly simple applications, learning as I go. The latest one has lots of form components such as JLabels, JTextFields, JButtons, etc etc. All were placed in NetBeans using a visual builder. I have to say I'm not really taking to NetBeans and have really just been designing the GUI and copying the code straight to Eclipse.</p>\n\n<p>My question is: Is it worth getting a very good understanding of GroupLayout and coding by hand (and therefore having more control over my GUI) or just continuing on as is?</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682509416,"post_id":76109463,"comment_id":134226499,"body_markdown":"web..xml version 3 isn&#39;t compatible with Spring 6 which requires version 5 at least. You will need jakarta.servlet and not javax.servlet and a more recent version of the web.xml and at least tomcat 10.x to run. Anything else won&#39;t work.","body":"web..xml version 3 isn&#39;t compatible with Spring 6 which requires version 5 at least. You will need jakarta.servlet and not javax.servlet and a more recent version of the web.xml and at least tomcat 10.x to run. Anything else won&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682509265,"creation_date":1682509265,"answer_id":76110297,"question_id":76109463,"body_markdown":"You don&#39;t have a controller that handles requests to `/PhoneAccessories`, only the `HomeController` that handles `/`.\r\n\r\nNote that an HTTP response status code beginning with a 4 (like the 404 you&#39;re getting) indicates that the _client_ did something wrong in the request (in this case, you made a request for a path that doesn&#39;t exist).","title":"Why do I get version error when using Spring MVC","body":"<p>You don't have a controller that handles requests to <code>/PhoneAccessories</code>, only the <code>HomeController</code> that handles <code>/</code>.</p>\n<p>Note that an HTTP response status code beginning with a 4 (like the 404 you're getting) indicates that the <em>client</em> did something wrong in the request (in this case, you made a request for a path that doesn't exist).</p>\n"}],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682679692,"creation_date":1682503177,"question_id":76109463,"body_markdown":"I am creating my first application for my website, but when I finish creating I get an error:\r\n\r\n&gt; The origin server did not find a current representation for the target\r\n&gt; resource or is not willing to divulge that one exists\r\n\r\nI think it&#39;s because my version doesn&#39;t match. Does anyone have a suitable version?\r\n\r\nThis is my controller:\r\n```java\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class HomeController {\r\n\t@GetMapping\r\n\tpublic String Default() {\r\n\t\treturn &quot;Home&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nThis is my web.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app\r\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    version=&quot;3.0&quot;&gt;\r\n    &lt;display-name&gt;Phone-Accessories&lt;/display-name&gt;\r\n    &lt;!-- The front controller of this Spring Web application, responsible for handling all application requests --&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/PhoneAccessories-servlet.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;!-- Map all requests to the DispatcherServlet for handling --&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nThis is my servlet.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\r\n\r\n\r\n\t&lt;context:component-scan base-package=&quot;com.dth.Controller&quot;&gt;&lt;/context:component-scan&gt;\r\n\t&lt;import resource=&quot;classpath:IoC.xml&quot; /&gt;\r\n\t&lt;bean\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t\r\n\t\r\n\t&lt;mvc:resources location=&quot;/resources/&quot; mapping=&quot;/resources/**&quot;&gt;&lt;/mvc:resources&gt;\r\n\t&lt;mvc:annotation-driven enable-matrix-variables=&quot;true&quot;/&gt;\r\n\t\r\n&lt;/beans&gt;\r\n```\r\nThis is my pom.xml:\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.dth&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PhoneAccessories&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;finalName&gt;project name&lt;/finalName&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nThis is my configure:\r\n\r\n[![this is my configure:](https://i.stack.imgur.com/ilZYs.png)](https://i.stack.imgur.com/ilZYs.png)\r\n\r\nAnd this is the result I get:\r\n\r\n[![and this is the result I get:](https://i.stack.imgur.com/YkvQd.png)](https://i.stack.imgur.com/YkvQd.png)","title":"Why do I get version error when using Spring MVC","body":"<p>I am creating my first application for my website, but when I finish creating I get an error:</p>\n<blockquote>\n<p>The origin server did not find a current representation for the target\nresource or is not willing to divulge that one exists</p>\n</blockquote>\n<p>I think it's because my version doesn't match. Does anyone have a suitable version?</p>\n<p>This is my controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;/&quot;)\npublic class HomeController {\n    @GetMapping\n    public String Default() {\n        return &quot;Home&quot;;\n    }\n}\n</code></pre>\n<p>This is my web.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n    version=&quot;3.0&quot;&gt;\n    &lt;display-name&gt;Phone-Accessories&lt;/display-name&gt;\n    &lt;!-- The front controller of this Spring Web application, responsible for handling all application requests --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/PhoneAccessories-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;!-- Map all requests to the DispatcherServlet for handling --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>This is my servlet.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-4.3.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\n        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.3.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\n\n\n    &lt;context:component-scan base-package=&quot;com.dth.Controller&quot;&gt;&lt;/context:component-scan&gt;\n    &lt;import resource=&quot;classpath:IoC.xml&quot; /&gt;\n    &lt;bean\n        class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n\n    \n    \n    &lt;mvc:resources location=&quot;/resources/&quot; mapping=&quot;/resources/**&quot;&gt;&lt;/mvc:resources&gt;\n    &lt;mvc:annotation-driven enable-matrix-variables=&quot;true&quot;/&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>This is my pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.dth&lt;/groupId&gt;\n    &lt;artifactId&gt;PhoneAccessories&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;project name&lt;/finalName&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is my configure:</p>\n<p><a href=\"https://i.stack.imgur.com/ilZYs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ilZYs.png\" alt=\"this is my configure:\" /></a></p>\n<p>And this is the result I get:</p>\n<p><a href=\"https://i.stack.imgur.com/YkvQd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YkvQd.png\" alt=\"and this is the result I get:\" /></a></p>\n"},{"tags":["java","android","kotlin","rotation","android-custom-view"],"comments":[{"owner":{"account_id":8125310,"reputation":2565,"user_id":6120487,"display_name":"Lev Leontev"},"score":0,"creation_date":1681871007,"post_id":76049338,"comment_id":134125383,"body_markdown":"When you rotate the view around different pivots, you get different results (obviously). So, when you change the pivot, you have to translate the view to compensate for this. To calculate the exact translation needed, you need to use some math like sines and cosines. Google (or ask ChatGPT) about rotation matrices if you don&#39;t know what that&#39;s about.","body":"When you rotate the view around different pivots, you get different results (obviously). So, when you change the pivot, you have to translate the view to compensate for this. To calculate the exact translation needed, you need to use some math like sines and cosines. Google (or ask ChatGPT) about rotation matrices if you don&#39;t know what that&#39;s about."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1681872673,"post_id":76049338,"comment_id":134125521,"body_markdown":"Thank you, @LevLeontev I know about matrix rotation, but I&#39;m unsure how it can be applied to address my current problem.","body":"Thank you, @LevLeontev I know about matrix rotation, but I&#39;m unsure how it can be applied to address my current problem."},{"owner":{"account_id":13680665,"reputation":735,"user_id":9871101,"display_name":"Dinh Lam"},"score":0,"creation_date":1682488092,"post_id":76049338,"comment_id":134221896,"body_markdown":"Your expectation looks like move one point and update its coordinate. I don&#39;t sure why need to use rotation?","body":"Your expectation looks like move one point and update its coordinate. I don&#39;t sure why need to use rotation?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1682636577,"post_id":76049338,"comment_id":134251303,"body_markdown":"I believe it would be best to work the movements through [Matrix](https://developer.android.com/reference/android/graphics/Matrix) operations. [This](https://stackoverflow.com/q/31234875/6287910) question/answer may help.","body":"I believe it would be best to work the movements through <a href=\"https://developer.android.com/reference/android/graphics/Matrix\" rel=\"nofollow noreferrer\">Matrix</a> operations. <a href=\"https://stackoverflow.com/q/31234875/6287910\">This</a> question/answer may help."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1682680101,"post_id":76049338,"comment_id":134257395,"body_markdown":"Thanks @Cheticamp! After performing the required calculations using the `Matrix` class. I cannot find a `View::setMatrix()` method to apply the new matrix to the view! How can I tell the view to use the new matrix? Additionally, I have also made some updates to the question, which you may want to check out.","body":"Thanks @Cheticamp! After performing the required calculations using the <code>Matrix</code> class. I cannot find a <code>View::setMatrix()</code> method to apply the new matrix to the view! How can I tell the view to use the new matrix? Additionally, I have also made some updates to the question, which you may want to check out."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1682687934,"post_id":76049338,"comment_id":134259214,"body_markdown":"There is no _setMatrix_ method. When you rotate/translate/scale you are operating on internal values that are used by the view to draw. [_View#getMatrix()_](https://developer.android.com/reference/android/view/View#getMatrix()) will give you access to this matrix, but you should not need to directly modify it or replace it with one of your own.","body":"There is no <i>setMatrix</i> method. When you rotate/translate/scale you are operating on internal values that are used by the view to draw. <a href=\"https://developer.android.com/reference/android/view/View#getMatrix()\" rel=\"nofollow noreferrer\"><i>View#getMatrix()</i></a> will give you access to this matrix, but you should not need to directly modify it or replace it with one of your own."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1682688393,"post_id":76049338,"comment_id":134259299,"body_markdown":"_ImageViews_ do, however, have an optional matrix. See [ImageView#setImageMatrix](https://developer.android.com/reference/android/widget/ImageView#setImageMatrix(android.graphics.Matrix)). If you want your own matrix, you can take a look at how _ImageView_ does it or use an _ImageView_.","body":"<i>ImageViews</i> do, however, have an optional matrix. See <a href=\"https://developer.android.com/reference/android/widget/ImageView#setImageMatrix(android.graphics.Matrix)\" rel=\"nofollow noreferrer\">ImageView#setImageMatrix</a>. If you want your own matrix, you can take a look at how <i>ImageView</i> does it or use an <i>ImageView</i>."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1682713170,"post_id":76049338,"comment_id":134264507,"body_markdown":"You can also use a matrix with the canvas: See [Canvas#setMatrix](https://developer.android.com/reference/android/graphics/Canvas#setMatrix(android.graphics.Matrix)) although _getMatrix()_ has a caveat for hardware acceleration.","body":"You can also use a matrix with the canvas: See <a href=\"https://developer.android.com/reference/android/graphics/Canvas#setMatrix(android.graphics.Matrix)\" rel=\"nofollow noreferrer\">Canvas#setMatrix</a> although <i>getMatrix()</i> has a caveat for hardware acceleration."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1682937573,"post_id":76049338,"comment_id":134286457,"body_markdown":"Thank you, @Cheticamp! I attempted to add `Matrix` property into `MyView` class and then using it inside `onDraw` by starting with `canvas.concat(matrix)`. However, I faced some issues. When I attempt to rotate the view, only the view appears to rotate while the viewport remains unaffected, causing the view to become invisible (out of its viewport).","body":"Thank you, @Cheticamp! I attempted to add <code>Matrix</code> property into <code>MyView</code> class and then using it inside <code>onDraw</code> by starting with <code>canvas.concat(matrix)</code>. However, I faced some issues. When I attempt to rotate the view, only the view appears to rotate while the viewport remains unaffected, causing the view to become invisible (out of its viewport)."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1682942321,"post_id":76049338,"comment_id":134287185,"body_markdown":"The matrix will effect all drawing while the matrix operation is applied. It sounds like the code is misapplying or miscalculating the rotation although it is difficult to know from what you say. You may want to consider taking a look at online tutorials about canvas and matrix operations and, maybe, set up a small project to test things out.","body":"The matrix will effect all drawing while the matrix operation is applied. It sounds like the code is misapplying or miscalculating the rotation although it is difficult to know from what you say. You may want to consider taking a look at online tutorials about canvas and matrix operations and, maybe, set up a small project to test things out."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1682961643,"post_id":76049338,"comment_id":134291028,"body_markdown":"I think I see what you mean about &quot;out of its viewport.&quot; This is probably the clipping that occurs when you define the dimensions of your view but then move outside of those dimensions. You can make the boundary of the view larger to hold all possible variations or you can set `android:clipChildren=&quot;false&quot;` to the view&#39;s parent view group.","body":"I think I see what you mean about &quot;out of its viewport.&quot; This is probably the clipping that occurs when you define the dimensions of your view but then move outside of those dimensions. You can make the boundary of the view larger to hold all possible variations or you can set <code>android:clipChildren=&quot;false&quot;</code> to the view&#39;s parent view group."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1682969167,"post_id":76049338,"comment_id":134292492,"body_markdown":"You may want to scratch `android:clipChildren=&quot;false&quot;`. It will look OK, but you will have trouble with touches that appear to be within the view but actually fall outside it and can&#39;t be detected by the view without some machinations. You would have to detect touches in the parent view group which you may not want to do. Just be aware of this potential pitfall.","body":"You may want to scratch <code>android:clipChildren=&quot;false&quot;</code>. It will look OK, but you will have trouble with touches that appear to be within the view but actually fall outside it and can&#39;t be detected by the view without some machinations. You would have to detect touches in the parent view group which you may not want to do. Just be aware of this potential pitfall."}],"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1682679420,"creation_date":1681855043,"question_id":76049338,"body_markdown":"I have a custom view named `MyView` that has two anchors. I would like to be able to rotate this view from its anchors, with one anchor acting as the center of rotation while the user drags the other anchor.\r\n\r\n**For simplicity, I have drawn a line, but in reality, I will be drawing something else**. Here are the steps:\r\n- If the user clicks on the view itself, translate the view.\r\n- If the user clicks on one of its anchors, calculate the rotation angle and make the other anchor the center of rotation by using `setPivotX()` and `setPivotY()`.\r\n\r\nHere is the relevant code:\r\n \r\n\r\n    @Override\r\n        public boolean onTouchEvent(MotionEvent event) {\r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN: {\r\n                    tapX = event.getX();\r\n                    tapY = event.getY();\r\n    \r\n                    if (anchorRect1.contains(tapX, tapY)) {\r\n                        viewState = ViewState.ANCHOR1;\r\n                        setPivotX(anchorRect2.centerX());\r\n                        setPivotY(anchorRect2.centerY());\r\n                    } else if (anchorRect2.contains(tapX, tapY)) {\r\n                        viewState = ViewState.ANCHOR2;\r\n                        setPivotX(anchorRect1.centerX());\r\n                        setPivotY(anchorRect1.centerY());\r\n                    } else {\r\n                        viewState = ViewState.VIEW;\r\n                    }\r\n                    break;\r\n                }\r\n                case MotionEvent.ACTION_MOVE: {\r\n                    switch (viewState) {\r\n                        //Anchor 1 clicked\r\n                        case ANCHOR1: {\r\n                            float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect2.centerY(), getWidth()));\r\n                            setRotation(getRotation() - angle);\r\n                            break;\r\n                        }\r\n                        //Anchor 2 clicked\r\n                        case ANCHOR2: {\r\n                            float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect1.centerY(), getWidth()));\r\n                            setRotation(getRotation() + angle);\r\n                            break;\r\n                        }\r\n                        //View Clicked\r\n                        case VIEW: {\r\n                            float deltaX = event.getX() - tapX;\r\n                            float deltaY = event.getY() - tapY;\r\n    \r\n                            // Transform point\r\n                            PointF transformedPoint = transformPoint(deltaX, deltaY, getRotation());\r\n    \r\n                            //Perform the rotation\r\n                            setX(getX() + transformedPoint.x);\r\n                            setY(getY() + transformedPoint.y);\r\n                            break;\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case MotionEvent.ACTION_UP:\r\n                case MotionEvent.ACTION_CANCEL: {\r\n                    break;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n\r\nHere is the screenshot of the current output:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe issue is that when I rotate the view for the first time, it works correctly, but when I rotate it from the other anchor, it jumps to another position. I believe this is because the rotation doesn&#39;t affect the position of the view. To fix this, I need to recalculate the new position of the view so that it moves accordingly, but I&#39;m not sure how to do that.\r\n\r\nThis is what I am trying to achieve (created with the GeoGebra tool):\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAdditionally, I believe that this issue is not limited to the Android platform as I have faced a similar problem while implementing [this][3] feature using the Qt framework.\r\n\r\nI&#39;ve invested a significant amount of time in addressing this issue, and any assistance you could provide would be greatly appreciated.\r\n\r\n\r\n**--------------------Start Edit-----------------------------------**\r\n\r\nAccording to the answer on [here][3], it seems like the issue with the current implementation is that the view isn&#39;t saving the previous transformation. Every time the pivot point is updated, all the previous transformations are reset, which causes the view to behave incorrectly.\r\n\r\nTo resolve this issue, we need to chain those transformations (one applied after another). In Qt, this can be achieved by saving the transformations in a list, as in this code:\r\n\r\n    QList&lt;QGraphicsTransform*&gt; trans;\r\n    \r\n    \r\n    auto angle = qRadiansToDegrees(qAtan2( _anchor2.y() -p.y(), width));\r\n    QGraphicsRotation* rot = new QGraphicsRotation;\r\n    rot-&gt;setOrigin(QVector3D(cp2.x(), cp2.y(), 0));\r\n    rot-&gt;setAxis(Qt::ZAxis);\r\n    rot-&gt;setAngle(angle);\r\n    trans.push_back(rot);\r\n    setTransformations(_trans);\r\n\r\nAnother way to achieve this behavior is to use the [QTransform][4] class directly. In this case, it&#39;s important to set the `isRelative` parameter to true in `setTransform()` so that the transformations are chained together.\r\n\r\n    QTransform t;\r\n    auto angle = qRadiansToDegrees(qAtan2(_anchor2.y() -p.y(), width));\r\n    t.translate(cp2.x(), cp2.y());\r\n    t.rotate(angle);\r\n    t.translate(-cp2.x(), -cp2.y());\r\n    setTransform(t, true);\r\n\r\nIn Android, the equivalent of the [QTransform][4] is the [Matrix][4] class. However, unlike QT, the `View` class in Android does not have a `setMatrix()` method. This means that when performing transformations, you cannot simply apply the current matrix to the view, which makes it more difficult to work with.\r\n\r\n**-------------------End Edit---------------------------------------**\r\n\r\nHere is a [repo][5] to reproduce the issue, and below is the complete code:\r\n\r\n\r\nMyView.java\r\n\r\n    public class MyView extends View {\r\n    \r\n        enum ViewState {\r\n            ANCHOR1, ANCHOR2, VIEW\r\n        }\r\n    \r\n        public static final int RADIUS = 24; // Anchor radius\r\n        public static final int OFFSET = 1;\r\n    \r\n        private final Paint paint;\r\n    \r\n        public RectF anchorRect1;\r\n        public RectF anchorRect2;\r\n    \r\n        private ViewState viewState;\r\n    \r\n        private float tapX;\r\n        private float tapY;\r\n    \r\n    \r\n        public MyView(Context context) {\r\n            super(context);\r\n    \r\n            paint = new Paint();\r\n            paint.setStyle(Paint.Style.STROKE);\r\n    \r\n            anchorRect1 = new RectF();\r\n            anchorRect2 = new RectF();\r\n        }\r\n    \r\n        @Override\r\n        protected void onDraw(Canvas canvas) {\r\n            var width = getWidth();\r\n            var height = getHeight();\r\n    \r\n            //Draw line between anchor points\r\n            canvas.drawLine(\r\n                    anchorRect1.centerX(), anchorRect1.centerY(),\r\n                    anchorRect2.centerX(), anchorRect2.centerY(), paint);\r\n    \r\n            //Draw anchor circle\r\n            canvas.drawCircle(anchorRect1.centerX(), anchorRect1.centerY(), RADIUS, paint);\r\n            canvas.drawCircle(anchorRect2.centerX(), anchorRect2.centerY(), RADIUS, paint);\r\n    \r\n            //Draw bounding rect\r\n            canvas.drawRect(OFFSET, OFFSET, width - OFFSET, height - OFFSET, paint);\r\n        }\r\n    \r\n        @Override\r\n        protected void onSizeChanged(int w, int h, int oldw, int oldh) {\r\n            //Recompute anchors rect\r\n            anchorRect1.set(\r\n                    OFFSET, h /2f - RADIUS + OFFSET,\r\n                    2*RADIUS, h /2f + RADIUS - OFFSET\r\n            );\r\n    \r\n            anchorRect2.set(\r\n                    w - 2*RADIUS, h /2f - RADIUS + OFFSET,\r\n                    w - OFFSET, h /2f + RADIUS - OFFSET\r\n            );\r\n        }\r\n    \r\n        @Override\r\n        protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n    \r\n            // Measure exactly\r\n            int width = MeasureSpec.getSize(widthMeasureSpec);\r\n            int height = MeasureSpec.getSize(heightMeasureSpec);\r\n    \r\n            setMeasuredDimension(width, height);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onTouchEvent(MotionEvent event) {\r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN: {\r\n                    tapX = event.getX();\r\n                    tapY = event.getY();\r\n    \r\n                    // Anchor 1 clicked\r\n                    if (anchorRect1.contains(tapX, tapY)) {\r\n                        viewState = ViewState.ANCHOR1;\r\n                        setPivotX(anchorRect2.centerX());\r\n                        setPivotY(anchorRect2.centerY());\r\n                    }\r\n                    // Anchor 2 clicked\r\n                    else if (anchorRect2.contains(tapX, tapY)) {\r\n                        viewState = ViewState.ANCHOR2;\r\n                        setPivotX(anchorRect1.centerX());\r\n                        setPivotY(anchorRect1.centerY());\r\n                    }\r\n                    // View body clicked\r\n                    else {\r\n                        viewState = ViewState.VIEW;\r\n                    }\r\n                    break;\r\n                }\r\n                case MotionEvent.ACTION_MOVE: {\r\n                    switch (viewState) {\r\n                        //Anchor 1 clicked\r\n                        case ANCHOR1: {\r\n                            float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect2.centerY(), getWidth()));\r\n                            setRotation(getRotation() - angle);\r\n                            break;\r\n                        }\r\n                        //Anchor 2 clicked\r\n                        case ANCHOR2: {\r\n                            float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect1.centerY(), getWidth()));\r\n                            setRotation(getRotation() + angle);\r\n                            break;\r\n                        }\r\n                        //View Clicked\r\n                        case VIEW: {\r\n                            float deltaX = event.getX() - tapX;\r\n                            float deltaY = event.getY() - tapY;\r\n    \r\n                            // Transform point\r\n                            PointF transformedPoint = transformPoint(deltaX, deltaY, getRotation());\r\n    \r\n                            //Perform the rotation\r\n                            setX(getX() + transformedPoint.x);\r\n                            setY(getY() + transformedPoint.y);\r\n                            break;\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case MotionEvent.ACTION_UP:\r\n                case MotionEvent.ACTION_CANCEL: {\r\n                    break;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        private PointF transformPoint(float x, float y, float degree) {\r\n            //https://en.wikipedia.org/wiki/Rotation_matrix\r\n            double radian = Math.toRadians(degree);\r\n            float xp = (float) (x*Math.cos(radian) - y*Math.sin(radian));\r\n            float yp = (float) (x*Math.sin(radian) + y*Math.cos(radian));\r\n            return new PointF(xp, yp);\r\n        }\r\n    }\r\n\r\nFixedPosLayout.java\r\n\r\n    public class FixedPosLayout extends ViewGroup {\r\n    \r\n        public FixedPosLayout(Context context) {\r\n            super(context);\r\n        }\r\n    \r\n        public FixedPosLayout(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n    \r\n        public FixedPosLayout(Context context, AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n        }\r\n    \r\n        @Override\r\n        protected void onLayout(boolean changed, int l, int t, int r, int b) {\r\n            int count = getChildCount();\r\n    \r\n            for (int i = 0; i&lt;count; ++i) {\r\n                View child = getChildAt(i);\r\n    \r\n                FixedPosLayout.LayoutParams params =\r\n                        (FixedPosLayout.LayoutParams) child.getLayoutParams();\r\n    \r\n                int left = params.x;\r\n                int top = params.y;\r\n    \r\n                child.layout(left, top,\r\n                        left + child.getMeasuredWidth(),\r\n                        top + child.getMeasuredHeight());\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n            // Measure this view\r\n            super.onMeasure(widthMeasureSpec, heightMeasureSpec);\r\n    \r\n            // Measure children\r\n            int count = getChildCount();\r\n            for (int i = 0; i&lt;count; ++i) {\r\n                View child = getChildAt(i);\r\n    \r\n                FixedPosLayout.LayoutParams lp =\r\n                        (FixedPosLayout.LayoutParams) child.getLayoutParams();\r\n    \r\n                int childWidthMeasureSpec =\r\n                        MeasureSpec.makeMeasureSpec(lp.width, MeasureSpec.EXACTLY);\r\n    \r\n                int childHeightMeasureSpec =\r\n                        MeasureSpec.makeMeasureSpec(lp.height, MeasureSpec.EXACTLY);\r\n    \r\n                child.measure(childWidthMeasureSpec, childHeightMeasureSpec);\r\n            }\r\n        }\r\n    \r\n        public static class LayoutParams extends ViewGroup.LayoutParams {\r\n            public int x;\r\n            public int y;\r\n    \r\n            public LayoutParams(int width, int height, int x, int y) {\r\n                super(width, height);\r\n                this.x = x;\r\n                this.y = y;\r\n            }\r\n        }\r\n    }\r\nMainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            FixedPosLayout fixedPosLayout = findViewById(R.id.fixedPosLayout);\r\n    \r\n            MyView myView = new MyView(this);\r\n    \r\n            FixedPosLayout.LayoutParams params = new FixedPosLayout.LayoutParams(300, 80, 200, 400);\r\n            fixedPosLayout.addView(myView, params);\r\n        }\r\n    }\r\nmain_activity.xml\r\n\r\n    &lt;com.abdo.rotateviewquestion.FixedPosLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/fixedPosLayout&quot;\r\n        tools:context=&quot;.MainActivity&quot;/&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ngzwp.gif\r\n  [2]: https://i.stack.imgur.com/wUnHs.gif\r\n  [3]: https://stackoverflow.com/questions/75944102/how-to-correctly-rotate-a-qgraphicsitem-around-different-anchors-in-qt-c\r\n  [4]: https://developer.android.com/reference/android/opengl/Matrix\r\n  [5]: https://github.com/elhaouzi/RotateViewQuestion","title":"How can I fix the position of a custom view while rotating it from its anchors in Android?","body":"<p>I have a custom view named <code>MyView</code> that has two anchors. I would like to be able to rotate this view from its anchors, with one anchor acting as the center of rotation while the user drags the other anchor.</p>\n<p><strong>For simplicity, I have drawn a line, but in reality, I will be drawing something else</strong>. Here are the steps:</p>\n<ul>\n<li>If the user clicks on the view itself, translate the view.</li>\n<li>If the user clicks on one of its anchors, calculate the rotation angle and make the other anchor the center of rotation by using <code>setPivotX()</code> and <code>setPivotY()</code>.</li>\n</ul>\n<p>Here is the relevant code:</p>\n<pre><code>@Override\n    public boolean onTouchEvent(MotionEvent event) {\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN: {\n                tapX = event.getX();\n                tapY = event.getY();\n\n                if (anchorRect1.contains(tapX, tapY)) {\n                    viewState = ViewState.ANCHOR1;\n                    setPivotX(anchorRect2.centerX());\n                    setPivotY(anchorRect2.centerY());\n                } else if (anchorRect2.contains(tapX, tapY)) {\n                    viewState = ViewState.ANCHOR2;\n                    setPivotX(anchorRect1.centerX());\n                    setPivotY(anchorRect1.centerY());\n                } else {\n                    viewState = ViewState.VIEW;\n                }\n                break;\n            }\n            case MotionEvent.ACTION_MOVE: {\n                switch (viewState) {\n                    //Anchor 1 clicked\n                    case ANCHOR1: {\n                        float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect2.centerY(), getWidth()));\n                        setRotation(getRotation() - angle);\n                        break;\n                    }\n                    //Anchor 2 clicked\n                    case ANCHOR2: {\n                        float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect1.centerY(), getWidth()));\n                        setRotation(getRotation() + angle);\n                        break;\n                    }\n                    //View Clicked\n                    case VIEW: {\n                        float deltaX = event.getX() - tapX;\n                        float deltaY = event.getY() - tapY;\n\n                        // Transform point\n                        PointF transformedPoint = transformPoint(deltaX, deltaY, getRotation());\n\n                        //Perform the rotation\n                        setX(getX() + transformedPoint.x);\n                        setY(getY() + transformedPoint.y);\n                        break;\n                    }\n                }\n                break;\n            }\n            case MotionEvent.ACTION_UP:\n            case MotionEvent.ACTION_CANCEL: {\n                break;\n            }\n        }\n        return true;\n    }\n</code></pre>\n<p>Here is the screenshot of the current output:</p>\n<p><a href=\"https://i.stack.imgur.com/ngzwp.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ngzwp.gif\" alt=\"enter image description here\" /></a></p>\n<p>The issue is that when I rotate the view for the first time, it works correctly, but when I rotate it from the other anchor, it jumps to another position. I believe this is because the rotation doesn't affect the position of the view. To fix this, I need to recalculate the new position of the view so that it moves accordingly, but I'm not sure how to do that.</p>\n<p>This is what I am trying to achieve (created with the GeoGebra tool):</p>\n<p><a href=\"https://i.stack.imgur.com/wUnHs.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wUnHs.gif\" alt=\"enter image description here\" /></a></p>\n<p>Additionally, I believe that this issue is not limited to the Android platform as I have faced a similar problem while implementing <a href=\"https://stackoverflow.com/questions/75944102/how-to-correctly-rotate-a-qgraphicsitem-around-different-anchors-in-qt-c\">this</a> feature using the Qt framework.</p>\n<p>I've invested a significant amount of time in addressing this issue, and any assistance you could provide would be greatly appreciated.</p>\n<p><strong>--------------------Start Edit-----------------------------------</strong></p>\n<p>According to the answer on <a href=\"https://stackoverflow.com/questions/75944102/how-to-correctly-rotate-a-qgraphicsitem-around-different-anchors-in-qt-c\">here</a>, it seems like the issue with the current implementation is that the view isn't saving the previous transformation. Every time the pivot point is updated, all the previous transformations are reset, which causes the view to behave incorrectly.</p>\n<p>To resolve this issue, we need to chain those transformations (one applied after another). In Qt, this can be achieved by saving the transformations in a list, as in this code:</p>\n<pre><code>QList&lt;QGraphicsTransform*&gt; trans;\n\n\nauto angle = qRadiansToDegrees(qAtan2( _anchor2.y() -p.y(), width));\nQGraphicsRotation* rot = new QGraphicsRotation;\nrot-&gt;setOrigin(QVector3D(cp2.x(), cp2.y(), 0));\nrot-&gt;setAxis(Qt::ZAxis);\nrot-&gt;setAngle(angle);\ntrans.push_back(rot);\nsetTransformations(_trans);\n</code></pre>\n<p>Another way to achieve this behavior is to use the <a href=\"https://developer.android.com/reference/android/opengl/Matrix\" rel=\"nofollow noreferrer\">QTransform</a> class directly. In this case, it's important to set the <code>isRelative</code> parameter to true in <code>setTransform()</code> so that the transformations are chained together.</p>\n<pre><code>QTransform t;\nauto angle = qRadiansToDegrees(qAtan2(_anchor2.y() -p.y(), width));\nt.translate(cp2.x(), cp2.y());\nt.rotate(angle);\nt.translate(-cp2.x(), -cp2.y());\nsetTransform(t, true);\n</code></pre>\n<p>In Android, the equivalent of the <a href=\"https://developer.android.com/reference/android/opengl/Matrix\" rel=\"nofollow noreferrer\">QTransform</a> is the <a href=\"https://developer.android.com/reference/android/opengl/Matrix\" rel=\"nofollow noreferrer\">Matrix</a> class. However, unlike QT, the <code>View</code> class in Android does not have a <code>setMatrix()</code> method. This means that when performing transformations, you cannot simply apply the current matrix to the view, which makes it more difficult to work with.</p>\n<p><strong>-------------------End Edit---------------------------------------</strong></p>\n<p>Here is a <a href=\"https://github.com/elhaouzi/RotateViewQuestion\" rel=\"nofollow noreferrer\">repo</a> to reproduce the issue, and below is the complete code:</p>\n<p>MyView.java</p>\n<pre><code>public class MyView extends View {\n\n    enum ViewState {\n        ANCHOR1, ANCHOR2, VIEW\n    }\n\n    public static final int RADIUS = 24; // Anchor radius\n    public static final int OFFSET = 1;\n\n    private final Paint paint;\n\n    public RectF anchorRect1;\n    public RectF anchorRect2;\n\n    private ViewState viewState;\n\n    private float tapX;\n    private float tapY;\n\n\n    public MyView(Context context) {\n        super(context);\n\n        paint = new Paint();\n        paint.setStyle(Paint.Style.STROKE);\n\n        anchorRect1 = new RectF();\n        anchorRect2 = new RectF();\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        var width = getWidth();\n        var height = getHeight();\n\n        //Draw line between anchor points\n        canvas.drawLine(\n                anchorRect1.centerX(), anchorRect1.centerY(),\n                anchorRect2.centerX(), anchorRect2.centerY(), paint);\n\n        //Draw anchor circle\n        canvas.drawCircle(anchorRect1.centerX(), anchorRect1.centerY(), RADIUS, paint);\n        canvas.drawCircle(anchorRect2.centerX(), anchorRect2.centerY(), RADIUS, paint);\n\n        //Draw bounding rect\n        canvas.drawRect(OFFSET, OFFSET, width - OFFSET, height - OFFSET, paint);\n    }\n\n    @Override\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n        //Recompute anchors rect\n        anchorRect1.set(\n                OFFSET, h /2f - RADIUS + OFFSET,\n                2*RADIUS, h /2f + RADIUS - OFFSET\n        );\n\n        anchorRect2.set(\n                w - 2*RADIUS, h /2f - RADIUS + OFFSET,\n                w - OFFSET, h /2f + RADIUS - OFFSET\n        );\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n\n        // Measure exactly\n        int width = MeasureSpec.getSize(widthMeasureSpec);\n        int height = MeasureSpec.getSize(heightMeasureSpec);\n\n        setMeasuredDimension(width, height);\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN: {\n                tapX = event.getX();\n                tapY = event.getY();\n\n                // Anchor 1 clicked\n                if (anchorRect1.contains(tapX, tapY)) {\n                    viewState = ViewState.ANCHOR1;\n                    setPivotX(anchorRect2.centerX());\n                    setPivotY(anchorRect2.centerY());\n                }\n                // Anchor 2 clicked\n                else if (anchorRect2.contains(tapX, tapY)) {\n                    viewState = ViewState.ANCHOR2;\n                    setPivotX(anchorRect1.centerX());\n                    setPivotY(anchorRect1.centerY());\n                }\n                // View body clicked\n                else {\n                    viewState = ViewState.VIEW;\n                }\n                break;\n            }\n            case MotionEvent.ACTION_MOVE: {\n                switch (viewState) {\n                    //Anchor 1 clicked\n                    case ANCHOR1: {\n                        float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect2.centerY(), getWidth()));\n                        setRotation(getRotation() - angle);\n                        break;\n                    }\n                    //Anchor 2 clicked\n                    case ANCHOR2: {\n                        float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect1.centerY(), getWidth()));\n                        setRotation(getRotation() + angle);\n                        break;\n                    }\n                    //View Clicked\n                    case VIEW: {\n                        float deltaX = event.getX() - tapX;\n                        float deltaY = event.getY() - tapY;\n\n                        // Transform point\n                        PointF transformedPoint = transformPoint(deltaX, deltaY, getRotation());\n\n                        //Perform the rotation\n                        setX(getX() + transformedPoint.x);\n                        setY(getY() + transformedPoint.y);\n                        break;\n                    }\n                }\n                break;\n            }\n            case MotionEvent.ACTION_UP:\n            case MotionEvent.ACTION_CANCEL: {\n                break;\n            }\n        }\n        return true;\n    }\n\n    private PointF transformPoint(float x, float y, float degree) {\n        //https://en.wikipedia.org/wiki/Rotation_matrix\n        double radian = Math.toRadians(degree);\n        float xp = (float) (x*Math.cos(radian) - y*Math.sin(radian));\n        float yp = (float) (x*Math.sin(radian) + y*Math.cos(radian));\n        return new PointF(xp, yp);\n    }\n}\n</code></pre>\n<p>FixedPosLayout.java</p>\n<pre><code>public class FixedPosLayout extends ViewGroup {\n\n    public FixedPosLayout(Context context) {\n        super(context);\n    }\n\n    public FixedPosLayout(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public FixedPosLayout(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n    }\n\n    @Override\n    protected void onLayout(boolean changed, int l, int t, int r, int b) {\n        int count = getChildCount();\n\n        for (int i = 0; i&lt;count; ++i) {\n            View child = getChildAt(i);\n\n            FixedPosLayout.LayoutParams params =\n                    (FixedPosLayout.LayoutParams) child.getLayoutParams();\n\n            int left = params.x;\n            int top = params.y;\n\n            child.layout(left, top,\n                    left + child.getMeasuredWidth(),\n                    top + child.getMeasuredHeight());\n        }\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        // Measure this view\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n\n        // Measure children\n        int count = getChildCount();\n        for (int i = 0; i&lt;count; ++i) {\n            View child = getChildAt(i);\n\n            FixedPosLayout.LayoutParams lp =\n                    (FixedPosLayout.LayoutParams) child.getLayoutParams();\n\n            int childWidthMeasureSpec =\n                    MeasureSpec.makeMeasureSpec(lp.width, MeasureSpec.EXACTLY);\n\n            int childHeightMeasureSpec =\n                    MeasureSpec.makeMeasureSpec(lp.height, MeasureSpec.EXACTLY);\n\n            child.measure(childWidthMeasureSpec, childHeightMeasureSpec);\n        }\n    }\n\n    public static class LayoutParams extends ViewGroup.LayoutParams {\n        public int x;\n        public int y;\n\n        public LayoutParams(int width, int height, int x, int y) {\n            super(width, height);\n            this.x = x;\n            this.y = y;\n        }\n    }\n}\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        FixedPosLayout fixedPosLayout = findViewById(R.id.fixedPosLayout);\n\n        MyView myView = new MyView(this);\n\n        FixedPosLayout.LayoutParams params = new FixedPosLayout.LayoutParams(300, 80, 200, 400);\n        fixedPosLayout.addView(myView, params);\n    }\n}\n</code></pre>\n<p>main_activity.xml</p>\n<pre><code>&lt;com.abdo.rotateviewquestion.FixedPosLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/fixedPosLayout&quot;\n    tools:context=&quot;.MainActivity&quot;/&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","logging","logback"],"owner":{"account_id":15015135,"reputation":1,"user_id":10838364,"display_name":"susurs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682678777,"creation_date":1682673782,"question_id":76128115,"body_markdown":"I have a 3rd party SpringBoot application with logs being configured in application.yml\r\n\r\n```\r\nlogging:\r\n    level:\r\n        root: debug\r\n        com:\r\n            companyname: debug\r\n```\r\n\r\nWe are trying to use logback.xml on top of it like so\r\n```\r\nlogging:\r\n    config: logback.xml\r\n```\r\n\r\nLogback.xml looks like this\r\n```\r\n&lt;root level=&quot;debug&quot;&gt;\r\n&lt;appender-ref../&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\nAnd it works normally, except the part that I don&#39;t see specifically com: companyname: DEBUG logs.\r\nThe question is how to configure log level for com: companyname: in logback.xml.\r\n\r\nTried this, but didn&#39;t work:\r\n```\r\n&lt;logger name = &quot;com.companyname&quot; level = &quot;DEBUG&quot;&gt;\r\n&lt;appender-ref.../&gt;\r\n&lt;/logger&gt;\r\n```","title":"Logging properties using logback.xml on top of application.yml","body":"<p>I have a 3rd party SpringBoot application with logs being configured in application.yml</p>\n<pre><code>logging:\n    level:\n        root: debug\n        com:\n            companyname: debug\n</code></pre>\n<p>We are trying to use logback.xml on top of it like so</p>\n<pre><code>logging:\n    config: logback.xml\n</code></pre>\n<p>Logback.xml looks like this</p>\n<pre><code>&lt;root level=&quot;debug&quot;&gt;\n&lt;appender-ref../&gt;\n&lt;/root&gt;\n</code></pre>\n<p>And it works normally, except the part that I don't see specifically com: companyname: DEBUG logs.\nThe question is how to configure log level for com: companyname: in logback.xml.</p>\n<p>Tried this, but didn't work:</p>\n<pre><code>&lt;logger name = &quot;com.companyname&quot; level = &quot;DEBUG&quot;&gt;\n&lt;appender-ref.../&gt;\n&lt;/logger&gt;\n</code></pre>\n"},{"tags":["java","database","performance","jpa","criteriaquery"],"answers":[{"tags":[],"owner":{"account_id":20835131,"reputation":11,"user_id":15303361,"display_name":"Rikkarth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682674784,"creation_date":1682674784,"answer_id":76128240,"question_id":76127864,"body_markdown":"Just an idea, but maybe you can make some sort of method that measures how much time it takes to perform one and the other.\r\n\r\n    public static void main(String[] args) {\r\n            // Measure the time before the method call\r\n            long startTime = System.nanoTime();\r\n    \r\n            // Call the method you want to track\r\n            exampleMethod();\r\n    \r\n            // Measure the time after the method call\r\n            long endTime = System.nanoTime();\r\n    \r\n            // Calculate the elapsed time in milliseconds\r\n            long elapsedTime = (endTime - startTime) / 1_000_000;\r\n            System.out.println(&quot;The method took &quot; + elapsedTime + &quot; milliseconds to run.&quot;);\r\n        }","title":"Should I get data using methods of an object or using jpa queries?","body":"<p>Just an idea, but maybe you can make some sort of method that measures how much time it takes to perform one and the other.</p>\n<pre><code>public static void main(String[] args) {\n        // Measure the time before the method call\n        long startTime = System.nanoTime();\n\n        // Call the method you want to track\n        exampleMethod();\n\n        // Measure the time after the method call\n        long endTime = System.nanoTime();\n\n        // Calculate the elapsed time in milliseconds\n        long elapsedTime = (endTime - startTime) / 1_000_000;\n        System.out.println(&quot;The method took &quot; + elapsedTime + &quot; milliseconds to run.&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25251803,"reputation":88,"user_id":19084192,"display_name":"Kaiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682678654,"creation_date":1682678654,"answer_id":76128791,"question_id":76127864,"body_markdown":"In my opinion, the second approach is the better one, but it really depends on how you configured your entities relationships and your use case.\r\n\r\nIf your parent entity has a lot of EAGER relationships (because lets say that you need them when you actually want the parent), get the parent each time only to access one of the child is going to generate lot of unnecessary join.\r\n\r\nIn the scenario of having all the relationship LAZY, I&#39;m not really sure if there is a difference between the two approach, because the child is going to be loaded only when accessed anyway.\r\n\r\nAs a rule of thumb, it&#39;s better to let the database get the data for you when it&#39;s possible instead of process it by yourself later.","title":"Should I get data using methods of an object or using jpa queries?","body":"<p>In my opinion, the second approach is the better one, but it really depends on how you configured your entities relationships and your use case.</p>\n<p>If your parent entity has a lot of EAGER relationships (because lets say that you need them when you actually want the parent), get the parent each time only to access one of the child is going to generate lot of unnecessary join.</p>\n<p>In the scenario of having all the relationship LAZY, I'm not really sure if there is a difference between the two approach, because the child is going to be loaded only when accessed anyway.</p>\n<p>As a rule of thumb, it's better to let the database get the data for you when it's possible instead of process it by yourself later.</p>\n"}],"owner":{"account_id":28033349,"reputation":1,"user_id":21412455,"display_name":"Xudla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682678654,"creation_date":1682671952,"question_id":76127864,"body_markdown":"I have a java project and I am using JPA, so I have entity classes and the correspective database tables. Everything is set and ready and is working fine.\r\nFrom my database I can simply retrieve an object using a JPA query (for exemple `getById()`) and from this object I can get every other data I need, without using other queries. I was wondering if this is good practice or if I should use queries for getting all needed data. \r\n\r\nExample:\r\n- First approach: Get the main object from the database using `EntityManager.getObjectById(1)` and get its children using `object.getChildren()`.\r\n\r\n- Second approach: Get the main object from the database using `EntityManager.getObjectById(1)` and get its children using `CriteriaQuery.select(Root).where(CriteriaBuilder.equal(Root.get(&quot;parent&quot;), object))` getting a ResultList from the query.\r\n\r\nAlso, would this improve or worsen performance?\r\n\r\nI searched for a while on google and stackoverflow but I couldn&#39;t find any information.\r\nI would expect the first approach to be fine.","title":"Should I get data using methods of an object or using jpa queries?","body":"<p>I have a java project and I am using JPA, so I have entity classes and the correspective database tables. Everything is set and ready and is working fine.\nFrom my database I can simply retrieve an object using a JPA query (for exemple <code>getById()</code>) and from this object I can get every other data I need, without using other queries. I was wondering if this is good practice or if I should use queries for getting all needed data.</p>\n<p>Example:</p>\n<ul>\n<li><p>First approach: Get the main object from the database using <code>EntityManager.getObjectById(1)</code> and get its children using <code>object.getChildren()</code>.</p>\n</li>\n<li><p>Second approach: Get the main object from the database using <code>EntityManager.getObjectById(1)</code> and get its children using <code>CriteriaQuery.select(Root).where(CriteriaBuilder.equal(Root.get(&quot;parent&quot;), object))</code> getting a ResultList from the query.</p>\n</li>\n</ul>\n<p>Also, would this improve or worsen performance?</p>\n<p>I searched for a while on google and stackoverflow but I couldn't find any information.\nI would expect the first approach to be fine.</p>\n"},{"tags":["java","maven","tomcat","jax-rs","cdi"],"owner":{"account_id":1319042,"reputation":301,"user_id":1265267,"accept_rate":33,"display_name":"TinoK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682678559,"creation_date":1682678559,"question_id":76128780,"body_markdown":"I would like to obtain the remote address of a client calling my web service. I am trying to gain access to HttpServletRequest, but the ambiguous dependencies exception is thrown when a client calls the service.\r\n\r\nDependencies were automatically added by IntelliJ and I will admit to being a novice when it comes to tracking down issues in code that I did not write! My endpoint code, the stack trace and POM follow.\r\n\r\nI have been hacking away at this for a couple of days now, so any help greatly appreciated!!\r\n\r\n```\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.ws.rs.*;\r\nimport javax.ws.rs.core.*;\r\n\r\n@Path(&quot;/visitor&quot;)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class Visitors {\r\n\r\n    @POST\r\n    @Path(&quot;/web&quot;)\r\n    public Response identify(@Context HttpServletRequest req, Visit visit) {\r\n\r\n        String remoteAddr = req.getRemoteAddr();\r\n        ...\r\n```\r\n\r\nTrace:\r\n```\r\norg.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [vv.vvApplication] in context with path [/vv_war_exploded] threw exception [org.jboss.weld.exceptions.AmbiguousResolutionException: WELD-001335: Ambiguous dependencies for type Ref&lt;HttpServletRequest&gt; with qualifiers @Default\r\n Possible dependencies: \r\n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@730f19db,\r\n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@62233485] with root cause\r\n\torg.jboss.weld.exceptions.AmbiguousResolutionException: WELD-001335: Ambiguous dependencies for type Ref&lt;HttpServletRequest&gt; with qualifiers @Default\r\n Possible dependencies: \r\n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@730f19db,\r\n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@62233485\r\n\t\tat org.jboss.weld.bean.builtin.InstanceImpl.checkBeanResolved(InstanceImpl.java:244)\r\n\t\tat org.jboss.weld.bean.builtin.InstanceImpl.get(InstanceImpl.java:113)\r\n\t\tat org.glassfish.jersey.internal.inject.ReferencingFactory.get(ReferencingFactory.java:69)\r\n\t\tat org.glassfish.jersey.inject.cdi.se.bean.SupplierBeanBridge.create(SupplierBeanBridge.java:110)\r\n\t\tat org.glassfish.jersey.inject.cdi.se.injector.ContextInjectionResolverImpl.resolve(ContextInjectionResolverImpl.java:76)\r\n\t\tat org.glassfish.jersey.server.internal.inject.DelegatedInjectionValueParamProvider.lambda$getValueProvider$0(DelegatedInjectionValueParamProvider.java:67)\r\n\t\tat org.glassfish.jersey.server.spi.internal.ParamValueFactoryWithSource.apply(ParamValueFactoryWithSource.java:50)\r\n\t\tat org.glassfish.jersey.server.spi.internal.ParameterValueHelper.getParameterValues(ParameterValueHelper.java:64)\r\n\t\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$AbstractMethodParamInvoker.getParamValues(JavaResourceMethodDispatcherProvider.java:109)\r\n\t\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\r\n\t\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\r\n\t\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\r\n\t\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\r\n\t\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n\t\tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n\t\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n\t\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n\t\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\t\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\t\tat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n\t\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n\t\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n\t\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\r\n\t\tat org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\r\n\t\tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n\t\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\r\n\t\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\r\n\t\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\r\n...\r\n```\r\n\r\nPOM\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;vv&lt;/groupId&gt;\r\n    &lt;artifactId&gt;vv&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;vv&lt;/name&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- MySQL Dependencies --&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- MySQL Dependencies --&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.auth0/java-jwt --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Logging --&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.35&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-reload4j --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.35&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Logging --&gt;\r\n\r\n        &lt;!-- StringUtils --&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- SHA256 Hashing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;2.34&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.34&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-cdi2-se&lt;/artifactId&gt;\r\n            &lt;version&gt;2.34&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.8.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Needed for LocalDateTime object mapping--&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"WELD-001335: Ambiguous dependencies for type Ref&lt;HttpServletRequest&gt;","body":"<p>I would like to obtain the remote address of a client calling my web service. I am trying to gain access to HttpServletRequest, but the ambiguous dependencies exception is thrown when a client calls the service.</p>\n<p>Dependencies were automatically added by IntelliJ and I will admit to being a novice when it comes to tracking down issues in code that I did not write! My endpoint code, the stack trace and POM follow.</p>\n<p>I have been hacking away at this for a couple of days now, so any help greatly appreciated!!</p>\n<pre><code>import javax.servlet.http.HttpServletRequest;\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.*;\n\n@Path(&quot;/visitor&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic class Visitors {\n\n    @POST\n    @Path(&quot;/web&quot;)\n    public Response identify(@Context HttpServletRequest req, Visit visit) {\n\n        String remoteAddr = req.getRemoteAddr();\n        ...\n</code></pre>\n<p>Trace:</p>\n<pre><code>org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [vv.vvApplication] in context with path [/vv_war_exploded] threw exception [org.jboss.weld.exceptions.AmbiguousResolutionException: WELD-001335: Ambiguous dependencies for type Ref&lt;HttpServletRequest&gt; with qualifiers @Default\n Possible dependencies: \n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@730f19db,\n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@62233485] with root cause\n    org.jboss.weld.exceptions.AmbiguousResolutionException: WELD-001335: Ambiguous dependencies for type Ref&lt;HttpServletRequest&gt; with qualifiers @Default\n Possible dependencies: \n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@730f19db,\n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@62233485\n        at org.jboss.weld.bean.builtin.InstanceImpl.checkBeanResolved(InstanceImpl.java:244)\n        at org.jboss.weld.bean.builtin.InstanceImpl.get(InstanceImpl.java:113)\n        at org.glassfish.jersey.internal.inject.ReferencingFactory.get(ReferencingFactory.java:69)\n        at org.glassfish.jersey.inject.cdi.se.bean.SupplierBeanBridge.create(SupplierBeanBridge.java:110)\n        at org.glassfish.jersey.inject.cdi.se.injector.ContextInjectionResolverImpl.resolve(ContextInjectionResolverImpl.java:76)\n        at org.glassfish.jersey.server.internal.inject.DelegatedInjectionValueParamProvider.lambda$getValueProvider$0(DelegatedInjectionValueParamProvider.java:67)\n        at org.glassfish.jersey.server.spi.internal.ParamValueFactoryWithSource.apply(ParamValueFactoryWithSource.java:50)\n        at org.glassfish.jersey.server.spi.internal.ParameterValueHelper.getParameterValues(ParameterValueHelper.java:64)\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$AbstractMethodParamInvoker.getParamValues(JavaResourceMethodDispatcherProvider.java:109)\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\n        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\n        at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\n        at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\n...\n</code></pre>\n<p>POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;vv&lt;/groupId&gt;\n    &lt;artifactId&gt;vv&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;vv&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- MySQL Dependencies --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- MySQL Dependencies --&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;1.9.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.auth0/java-jwt --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;3.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Logging --&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.35&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-reload4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\n            &lt;version&gt;1.7.35&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Logging --&gt;\n\n        &lt;!-- StringUtils --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.10&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- SHA256 Hashing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;2.34&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;2.34&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-cdi2-se&lt;/artifactId&gt;\n            &lt;version&gt;2.34&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;\n            &lt;version&gt;3.1.8.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Needed for LocalDateTime object mapping--&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;2.14.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":6,"creation_date":1437673438,"post_id":31594537,"comment_id":51140806,"body_markdown":"I&#39;m confused as to your requirements. So you want to reverse every other word? Please clarify exactly what it is that you&#39;re trying to do.","body":"I&#39;m confused as to your requirements. So you want to reverse every other word? Please clarify exactly what it is that you&#39;re trying to do."},{"owner":{"account_id":6301885,"reputation":385,"user_id":4896247,"accept_rate":25,"display_name":"Bhupi"},"score":0,"creation_date":1437673594,"post_id":31594537,"comment_id":51140882,"body_markdown":"what is pattern here , you only want even position word to be reversed ?","body":"what is pattern here , you only want even position word to be reversed ?"},{"owner":{"account_id":6549973,"reputation":1407,"user_id":5064707,"display_name":"Robert Wadowski"},"score":0,"creation_date":1437673597,"post_id":31594537,"comment_id":51140885,"body_markdown":"As stated your question is unclear. There is ready library for this ( reversing a string - reverse method ) https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#reverse(java.lang.String) ? But no idea what you want to achieve. I have the same understanding of problem as MadConan","body":"As stated your question is unclear. There is ready library for this ( reversing a string - reverse method ) <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#reverse(java.lang.String)\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/&zwnj;&#8203;&hellip;</a> ? But no idea what you want to achieve. I have the same understanding of problem as MadConan"},{"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"score":2,"creation_date":1437673605,"post_id":31594537,"comment_id":51140893,"body_markdown":"&quot;Reverse a sentence&quot; to me implies &quot;The dog ate the world&quot; becomes &quot;world the ate dog The&quot; or possibly &quot;dlrow eht eta god ehT&quot;.   You should edit your title if that isn&#39;t what you want.","body":"&quot;Reverse a sentence&quot; to me implies &quot;The dog ate the world&quot; becomes &quot;world the ate dog The&quot; or possibly &quot;dlrow eht eta god ehT&quot;.   You should edit your title if that isn&#39;t what you want."},{"owner":{"account_id":463295,"reputation":2840,"user_id":866104,"accept_rate":86,"display_name":"Michelle"},"score":0,"creation_date":1437673920,"post_id":31594537,"comment_id":51141083,"body_markdown":"Adding to the confusion, there are also comments in your code that indicate the result you&#39;re getting is exactly what you want (`//produce: &quot;iH ym eman...`).","body":"Adding to the confusion, there are also comments in your code that indicate the result you&#39;re getting is exactly what you want (<code>&#47;&#47;produce: &quot;iH ym eman...</code>)."}],"answers":[{"tags":[],"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437674530,"creation_date":1437674093,"answer_id":31594758,"question_id":31594537,"body_markdown":"The following code does this &quot;special reverse&quot; which reverses any other word in the sentence:\r\n\r\n    public static void main(String[] args) {\r\n        String sentence = &quot;My name is xyz&quot;;\r\n        System.out.println(specialReverse(sentence)); //  My eman is zyx\r\n    }\r\n\r\n    private static String specialReverse(String sentence) {\r\n        String result = &quot;&quot;;\r\n        String[] words = sentence.split(&quot; &quot;);\r\n        // we&#39;ll reverse only every second word according to even/odd index\r\n        for (int i = 0; i &lt; words.length; i++) {\r\n            if (i % 2 == 1) {\r\n                result += &quot; &quot; + reverse(words[i]);\r\n            } else {\r\n                result += &quot; &quot; + words[i];\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    // easiest way to reverse a string in Java in a &quot;one-liner&quot;\r\n    private static String reverse(String word) {\r\n        return new StringBuilder(word).reverse().toString();\r\n    }\r\n","title":"Reverse every 2nd word of a sentence","body":"<p>The following code does this \"special reverse\" which reverses any other word in the sentence:</p>\n\n<pre><code>public static void main(String[] args) {\n    String sentence = \"My name is xyz\";\n    System.out.println(specialReverse(sentence)); //  My eman is zyx\n}\n\nprivate static String specialReverse(String sentence) {\n    String result = \"\";\n    String[] words = sentence.split(\" \");\n    // we'll reverse only every second word according to even/odd index\n    for (int i = 0; i &lt; words.length; i++) {\n        if (i % 2 == 1) {\n            result += \" \" + reverse(words[i]);\n        } else {\n            result += \" \" + words[i];\n        }\n    }\n    return result;\n}\n\n// easiest way to reverse a string in Java in a \"one-liner\"\nprivate static String reverse(String word) {\n    return new StringBuilder(word).reverse().toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437674833,"creation_date":1437674102,"answer_id":31594764,"question_id":31594537,"body_markdown":"If you want to reverse the alternate word you can try something like splitting the whole `String` into words delimited by whitespaces and apply `StringBuilder reverse()` on every second word like :-\r\n\r\n            String s = &quot;My name is xyz&quot;;\r\n    \t    String[] wordsArr = s.split(&quot; &quot;); // broke string into array delimited by &quot; &quot; whitespace\r\n    \t    StringBuilder sb = new StringBuilder();\r\n    \t    for(int i = 0 ; i&lt; wordsArr.length; i++){ // loop over array length\r\n    \t    \tif(i%2 == 0) // if 1st word, 3rd word, 5th word..and so on words \r\n    \t    \t\tsb.append(wordsArr[i]); // add  the word as it is\r\n    \t    \telse sb.append(new StringBuilder(wordsArr[i]).reverse()); // else use StringBuilder revrese() to reverse it\r\n    \t    \tsb.append(&quot; &quot;);// add a whitespace in between words\r\n    \t    }\r\n    \t    System.out.println(sb.toString().trim()); //remove extra whitespace from the end and convert StringBuilder to String\r\n\r\nOutput :- `My eman is zyx`","title":"Reverse every 2nd word of a sentence","body":"<p>If you want to reverse the alternate word you can try something like splitting the whole <code>String</code> into words delimited by whitespaces and apply <code>StringBuilder reverse()</code> on every second word like :-</p>\n\n<pre><code>        String s = \"My name is xyz\";\n        String[] wordsArr = s.split(\" \"); // broke string into array delimited by \" \" whitespace\n        StringBuilder sb = new StringBuilder();\n        for(int i = 0 ; i&lt; wordsArr.length; i++){ // loop over array length\n            if(i%2 == 0) // if 1st word, 3rd word, 5th word..and so on words \n                sb.append(wordsArr[i]); // add  the word as it is\n            else sb.append(new StringBuilder(wordsArr[i]).reverse()); // else use StringBuilder revrese() to reverse it\n            sb.append(\" \");// add a whitespace in between words\n        }\n        System.out.println(sb.toString().trim()); //remove extra whitespace from the end and convert StringBuilder to String\n</code></pre>\n\n<p>Output :- <code>My eman is zyx</code></p>\n"},{"tags":[],"owner":{"account_id":1936502,"reputation":5581,"user_id":1743849,"display_name":"mazhar islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1437674607,"creation_date":1437674607,"answer_id":31594906,"question_id":31594537,"body_markdown":"You can solve your problem vary easy way! Just use a `flag` variable which will indicate the *even* or *odd* position, more precisely whether any word will gonna be reversed or not!\r\n\r\nLook at the following modification I made in your code, just added three extra line:\r\n\r\n    private static boolean flag = true;// added a variable flag to check if we reverse the word or not.\r\n\tprivate static char[] ReverseSentence(char[] sentence)\r\n\t{\r\n\t    //Given: &quot;Hi my name is person!&quot;\r\n\t    //produce: &quot;iH ym eman si !nosrep&quot;\r\n\r\n\t    if(sentence == null) return null;\r\n\t    if(sentence.length == 1) return sentence;\r\n\r\n\t    int startPosition=0;\r\n\t    int counter = 0;\r\n\t    int sentenceLength = sentence.length-1;\r\n\r\n\t    //Solution handles any amount of spaces before, between words etc...\r\n\r\n\t    while(counter &lt;= sentenceLength)\r\n\t    {\r\n\t        if(sentence[counter] == &#39; &#39; &amp;&amp; startPosition != -1 || sentenceLength == counter) //Have passed over a word so upon encountering a space or end of string reverse word\r\n\t        {\r\n\t        \tflag = !flag; // first time (odd position) we are not going to reverse!\r\n\t            //swap from startPos to counter - 1\r\n\t            //set start position to -1 and increment counter\r\n\t            int begin = startPosition;\r\n\r\n\t            int end;\r\n\t            if(sentenceLength == counter)\r\n\t            {\r\n\t                end = counter;\r\n\t            }\r\n\t            else\r\n\t                end = counter -1;\r\n\t            char tmp;\r\n\r\n\t            //Reverse characters\r\n\t            while(end &gt;= begin &amp; flag){ //lets see whether we are going to reverse or not\r\n\r\n\t                tmp = sentence[begin];\r\n\t                sentence[begin] = sentence[end];\r\n\t                sentence[end] = tmp;\r\n\r\n\t                end--; begin++;\r\n\r\n\t            }\r\n\r\n\t            startPosition = -1; //flag used to indicate we have no encountered a character of a string\r\n\r\n\r\n\t        }\r\n\r\n\t        else if(sentence[counter] !=&#39; &#39; &amp;&amp; startPosition == -1) //first time you encounter a letter in a word set the start position\r\n\t        {\r\n\t            startPosition = counter;\r\n\t        }\r\n\r\n\t        counter++;\r\n\t    }\r\n\r\n\t    return sentence;\r\n\t}\r\n\r\nInput \r\n\r\n&gt; My name is xyz\r\n\r\nOutput:\r\n\r\n&gt; My eman is zyx\r\n","title":"Reverse every 2nd word of a sentence","body":"<p>You can solve your problem vary easy way! Just use a <code>flag</code> variable which will indicate the <em>even</em> or <em>odd</em> position, more precisely whether any word will gonna be reversed or not!</p>\n\n<p>Look at the following modification I made in your code, just added three extra line:</p>\n\n<pre><code>private static boolean flag = true;// added a variable flag to check if we reverse the word or not.\nprivate static char[] ReverseSentence(char[] sentence)\n{\n    //Given: \"Hi my name is person!\"\n    //produce: \"iH ym eman si !nosrep\"\n\n    if(sentence == null) return null;\n    if(sentence.length == 1) return sentence;\n\n    int startPosition=0;\n    int counter = 0;\n    int sentenceLength = sentence.length-1;\n\n    //Solution handles any amount of spaces before, between words etc...\n\n    while(counter &lt;= sentenceLength)\n    {\n        if(sentence[counter] == ' ' &amp;&amp; startPosition != -1 || sentenceLength == counter) //Have passed over a word so upon encountering a space or end of string reverse word\n        {\n            flag = !flag; // first time (odd position) we are not going to reverse!\n            //swap from startPos to counter - 1\n            //set start position to -1 and increment counter\n            int begin = startPosition;\n\n            int end;\n            if(sentenceLength == counter)\n            {\n                end = counter;\n            }\n            else\n                end = counter -1;\n            char tmp;\n\n            //Reverse characters\n            while(end &gt;= begin &amp; flag){ //lets see whether we are going to reverse or not\n\n                tmp = sentence[begin];\n                sentence[begin] = sentence[end];\n                sentence[end] = tmp;\n\n                end--; begin++;\n\n            }\n\n            startPosition = -1; //flag used to indicate we have no encountered a character of a string\n\n\n        }\n\n        else if(sentence[counter] !=' ' &amp;&amp; startPosition == -1) //first time you encounter a letter in a word set the start position\n        {\n            startPosition = counter;\n        }\n\n        counter++;\n    }\n\n    return sentence;\n}\n</code></pre>\n\n<p>Input </p>\n\n<blockquote>\n  <p>My name is xyz</p>\n</blockquote>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>My eman is zyx</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439963283,"creation_date":1439963283,"answer_id":32087424,"question_id":31594537,"body_markdown":"Just for completeness here&#39;s Java-8 solution:\r\n\r\n\tpublic static String reverseSentence(String input) {\r\n\t\tString[] words = input.split(&quot; &quot;);\r\n\t\treturn IntStream.range(0, words.length)\r\n\t\t\t\t.mapToObj( i -&gt; i % 2 == 0 ? words[i] : \r\n\t\t\t\t\t\tnew StringBuilder(words[i]).reverse().toString())\r\n\t\t\t\t.collect(Collectors.joining(&quot; &quot;));\r\n\t}\r\n\r\n    reverseSentence(&quot;My name is xyz&quot;); // -&gt; My eman is zyx","title":"Reverse every 2nd word of a sentence","body":"<p>Just for completeness here's Java-8 solution:</p>\n\n<pre><code>public static String reverseSentence(String input) {\n    String[] words = input.split(\" \");\n    return IntStream.range(0, words.length)\n            .mapToObj( i -&gt; i % 2 == 0 ? words[i] : \n                    new StringBuilder(words[i]).reverse().toString())\n            .collect(Collectors.joining(\" \"));\n}\n\nreverseSentence(\"My name is xyz\"); // -&gt; My eman is zyx\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17640193,"reputation":1,"user_id":12802618,"display_name":"Jaswanth Harsha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593091147,"creation_date":1593090720,"answer_id":62576183,"question_id":31594537,"body_markdown":"    package com.eg.str;\r\n    \r\n    // Without using StringBuilder  \r\n    // INPUT: &quot;Java is very cool prog lang&quot;\r\n    // OUTPUT: Java si very looc prog gnal\r\n    \r\n    public class StrRev {\r\n    \t\r\n    \tpublic void reverse(String str) {\r\n    \t\tString[] tokens = str.split(&quot; &quot;);\r\n    \t\tString result = &quot;&quot;;\r\n    \t\tString k = &quot;&quot;;\r\n    \t\tfor(int i=0; i&lt;tokens.length; i++) {\r\n    \t\t\tif(i%2 == 0)\r\n    \t\t\t\tSystem.out.print(&quot; &quot; + tokens[i] + &quot; &quot;);\r\n    \t\t\telse\r\n    \t\t\t\tresult = tokens[i];\r\n    \t\t\t\t\r\n    \t\t\t\tfor (int j = result.length()-1; j &gt;= 0; j--)  {\r\n    \t\t\t\t\tk = &quot;&quot; + result.charAt(j);\r\n    \t\t\t\t\tSystem.out.print(k);\r\n    \t\t\t\t}\r\n    \t\t\t\tresult = &quot;&quot;;\r\n    \t\t}\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tStrRev obj = new StrRev();\r\n    \t\tobj.reverse(&quot;Java is very cool prog lang&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Reverse every 2nd word of a sentence","body":"<pre><code>package com.eg.str;\n\n// Without using StringBuilder  \n// INPUT: &quot;Java is very cool prog lang&quot;\n// OUTPUT: Java si very looc prog gnal\n\npublic class StrRev {\n    \n    public void reverse(String str) {\n        String[] tokens = str.split(&quot; &quot;);\n        String result = &quot;&quot;;\n        String k = &quot;&quot;;\n        for(int i=0; i&lt;tokens.length; i++) {\n            if(i%2 == 0)\n                System.out.print(&quot; &quot; + tokens[i] + &quot; &quot;);\n            else\n                result = tokens[i];\n                \n                for (int j = result.length()-1; j &gt;= 0; j--)  {\n                    k = &quot;&quot; + result.charAt(j);\n                    System.out.print(k);\n                }\n                result = &quot;&quot;;\n        }   \n    }\n    \n    \n\n    public static void main(String[] args) {\n        \n        StrRev obj = new StrRev();\n        obj.reverse(&quot;Java is very cool prog lang&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26604131,"reputation":1,"user_id":20225293,"display_name":"rushikesh sarolkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665601262,"creation_date":1665601262,"answer_id":74046833,"question_id":31594537,"body_markdown":"//reverse second word of sentence in java\r\npublic class ReverseSecondWord {\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString s=&quot;hello how are you?&quot;;\r\n\t\tString str[]=s.split(&quot; &quot;);\r\n\t\tString rev=&quot;&quot;;\r\n\t\t\r\n\t\tfor(int i=0;i&lt;str[1].length();i++)\r\n\t\t{\r\n\t\tchar ch=str[1].charAt(i);\r\n\t\trev=ch+rev;\r\n\t\t}\t\t\r\n\t\tstr[1]=rev;\t\t\r\n\t\tfor(int i=0;i&lt;str.length;i++)\r\n\t\t{\r\n\t\t\tSystem.out.print(str[i]+&quot; &quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n}","title":"Reverse every 2nd word of a sentence","body":"<p>//reverse second word of sentence in java\npublic class ReverseSecondWord {</p>\n<pre><code>public static void main(String[] args) {\n    \n    String s=&quot;hello how are you?&quot;;\n    String str[]=s.split(&quot; &quot;);\n    String rev=&quot;&quot;;\n    \n    for(int i=0;i&lt;str[1].length();i++)\n    {\n    char ch=str[1].charAt(i);\n    rev=ch+rev;\n    }       \n    str[1]=rev;     \n    for(int i=0;i&lt;str.length;i++)\n    {\n        System.out.print(str[i]+&quot; &quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":28429938,"reputation":1,"user_id":21750738,"display_name":"jagdeesh kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682678420,"creation_date":1682568431,"answer_id":76116665,"question_id":31594537,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Reverse_alternate_word {\r\n    public static String reverseWord(String str){  // input :  my name is rohit\r\n        char ch;                                   // output : my eman is tihor\r\n        String rev=&quot;&quot;;\r\n\r\n        for(int i=0; i&lt;str.length(); i++){\r\n             ch = str.charAt(i);\r\n             rev =ch + rev;\r\n        }\r\n        return  rev;\r\n    }\r\n    public static void main(String[] args) {\r\n        Scanner sc=new Scanner(System.in);\r\n        String sentence=sc.nextLine();\r\n\r\n        int count = 0;\r\n        String arr[] = sentence.split(&quot; &quot;);\r\n        for(int i=0; i&lt; arr.length; i++)\r\n        {\r\n            if(i%2==1){\r\n               String rev_word= reverseWord(arr[i]);\r\n                System.out.print(rev_word+&quot; &quot;);\r\n            }else{\r\n                System.out.print(arr[i]+&quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Reverse every 2nd word of a sentence","body":"<pre><code>import java.util.Scanner;\n\npublic class Reverse_alternate_word {\n    public static String reverseWord(String str){  // input :  my name is rohit\n        char ch;                                   // output : my eman is tihor\n        String rev=&quot;&quot;;\n\n        for(int i=0; i&lt;str.length(); i++){\n             ch = str.charAt(i);\n             rev =ch + rev;\n        }\n        return  rev;\n    }\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        String sentence=sc.nextLine();\n\n        int count = 0;\n        String arr[] = sentence.split(&quot; &quot;);\n        for(int i=0; i&lt; arr.length; i++)\n        {\n            if(i%2==1){\n               String rev_word= reverseWord(arr[i]);\n                System.out.print(rev_word+&quot; &quot;);\n            }else{\n                System.out.print(arr[i]+&quot; &quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user4274413"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9548,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":31594906,"answer_count":7,"score":0,"last_activity_date":1682678420,"creation_date":1437673375,"question_id":31594537,"body_markdown":"I am trying to reverse every 2nd words of every single sentence like\r\n\r\nIf a given string is : \r\n\r\n    My name is xyz\r\n\r\nThe desired output should be : \r\n\r\n    My eman is zyx\r\n\r\nMy current output is:\r\n\r\n    Ym eman s1 zyx\r\n\r\nI am not able to achieve my desired output.Don&#39;t know what I am doing wrong here\r\n\r\nHere is my code\r\n\r\n        char[] sentence = &quot;  Hi my name is person!&quot;.toCharArray();\r\n        System.out.println(ReverseSentence(sentence));\r\n\r\n    }\r\n    private static char[] ReverseSentence(char[] sentence)\r\n    {\r\n        //Given: &quot;Hi my name is person!&quot;\r\n        //produce: &quot;iH ym eman si !nosrep&quot;\r\n\r\n        if(sentence == null) return null;\r\n        if(sentence.length == 1) return sentence;\r\n\r\n        int startPosition=0;\r\n        int counter = 0;\r\n        int sentenceLength = sentence.length-1;\r\n\r\n        //Solution handles any amount of spaces before, between words etc...\r\n\r\n        while(counter &lt;= sentenceLength)\r\n        {\r\n            if(sentence[counter] == &#39; &#39; &amp;&amp; startPosition != -1 || sentenceLength == counter) //Have passed over a word so upon encountering a space or end of string reverse word\r\n            {\r\n                //swap from startPos to counter - 1\r\n                //set start position to -1 and increment counter\r\n                int begin = startPosition;\r\n\r\n                int end;\r\n                if(sentenceLength == counter)\r\n                {\r\n                    end = counter;\r\n                }\r\n                else\r\n                    end = counter -1;\r\n                char tmp;\r\n\r\n                //Reverse characters\r\n                while(end &gt;= begin){\r\n\r\n                    tmp = sentence[begin];\r\n                    sentence[begin] = sentence[end];\r\n                    sentence[end] = tmp;\r\n\r\n                    end--; begin++;\r\n\r\n                }\r\n\r\n                startPosition = -1; //flag used to indicate we have no encountered a character of a string\r\n\r\n\r\n            }\r\n\r\n            else if(sentence[counter] !=&#39; &#39; &amp;&amp; startPosition == -1) //first time you encounter a letter in a word set the start position\r\n            {\r\n                startPosition = counter;\r\n            }\r\n\r\n            counter++;\r\n        }\r\n\r\n        return sentence;\r\n    }","title":"Reverse every 2nd word of a sentence","body":"<p>I am trying to reverse every 2nd words of every single sentence like</p>\n\n<p>If a given string is : </p>\n\n<pre><code>My name is xyz\n</code></pre>\n\n<p>The desired output should be : </p>\n\n<pre><code>My eman is zyx\n</code></pre>\n\n<p>My current output is:</p>\n\n<pre><code>Ym eman s1 zyx\n</code></pre>\n\n<p>I am not able to achieve my desired output.Don't know what I am doing wrong here</p>\n\n<p>Here is my code</p>\n\n<pre><code>    char[] sentence = \"  Hi my name is person!\".toCharArray();\n    System.out.println(ReverseSentence(sentence));\n\n}\nprivate static char[] ReverseSentence(char[] sentence)\n{\n    //Given: \"Hi my name is person!\"\n    //produce: \"iH ym eman si !nosrep\"\n\n    if(sentence == null) return null;\n    if(sentence.length == 1) return sentence;\n\n    int startPosition=0;\n    int counter = 0;\n    int sentenceLength = sentence.length-1;\n\n    //Solution handles any amount of spaces before, between words etc...\n\n    while(counter &lt;= sentenceLength)\n    {\n        if(sentence[counter] == ' ' &amp;&amp; startPosition != -1 || sentenceLength == counter) //Have passed over a word so upon encountering a space or end of string reverse word\n        {\n            //swap from startPos to counter - 1\n            //set start position to -1 and increment counter\n            int begin = startPosition;\n\n            int end;\n            if(sentenceLength == counter)\n            {\n                end = counter;\n            }\n            else\n                end = counter -1;\n            char tmp;\n\n            //Reverse characters\n            while(end &gt;= begin){\n\n                tmp = sentence[begin];\n                sentence[begin] = sentence[end];\n                sentence[end] = tmp;\n\n                end--; begin++;\n\n            }\n\n            startPosition = -1; //flag used to indicate we have no encountered a character of a string\n\n\n        }\n\n        else if(sentence[counter] !=' ' &amp;&amp; startPosition == -1) //first time you encounter a letter in a word set the start position\n        {\n            startPosition = counter;\n        }\n\n        counter++;\n    }\n\n    return sentence;\n}\n</code></pre>\n"},{"tags":["java","if-statement","lambda","refactoring"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1682649032,"post_id":76125228,"comment_id":134252518,"body_markdown":"The best way to do deal with this is to make sure the List is never null in the first place.  null is a poison value that should never occur in code under normal circumstances.  null definitely should never be used as a synonym for an empty collection, array, or Map.","body":"The best way to do deal with this is to make sure the List is never null in the first place.  null is a poison value that should never occur in code under normal circumstances.  null definitely should never be used as a synonym for an empty collection, array, or Map."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682637066,"creation_date":1682637066,"answer_id":76125236,"question_id":76125228,"body_markdown":"You could use [`.map`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#map(java.util.function.Function)) and [`.orElse`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#orElse(T)):\r\n\r\n```java\r\nreturn Optional.ofNullable(list).map(l -&gt; StringUtils.join(l, &quot;,&quot;)).orElse(null);\r\n```","title":"How to replace if null for lambda","body":"<p>You could use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>.map</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#orElse(T)\" rel=\"nofollow noreferrer\"><code>.orElse</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Optional.ofNullable(list).map(l -&gt; StringUtils.join(l, &quot;,&quot;)).orElse(null);\n</code></pre>\n"}],"owner":{"account_id":27813651,"reputation":13,"user_id":21235535,"display_name":"OptimusPrime98"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682678020,"creation_date":1682636947,"question_id":76125228,"body_markdown":"How should I use lambda expression to get the same result as &#39;if else&#39; below:\r\n\r\n    List&lt;String&gt; list = List.of(&quot;a&quot;, &quot;b&quot;);\r\n\r\n    if (list == null) {\r\n        return null;\r\n    } else {\r\n        return StringUtils.join(list, &quot;,&quot;);\r\n    }\r\n\r\nOn start I have to check if list is different than null, so:\r\n\r\n    Optional.ofNullable(list)...\r\n\r\nand now I do not know what I should do next","title":"How to replace if null for lambda","body":"<p>How should I use lambda expression to get the same result as 'if else' below:</p>\n<pre><code>List&lt;String&gt; list = List.of(&quot;a&quot;, &quot;b&quot;);\n\nif (list == null) {\n    return null;\n} else {\n    return StringUtils.join(list, &quot;,&quot;);\n}\n</code></pre>\n<p>On start I have to check if list is different than null, so:</p>\n<pre><code>Optional.ofNullable(list)...\n</code></pre>\n<p>and now I do not know what I should do next</p>\n"},{"tags":["java","typescript","express"],"answers":[{"tags":[],"owner":{"account_id":21707196,"reputation":221,"user_id":16019434,"display_name":"Maggie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682677458,"creation_date":1645088325,"answer_id":71155042,"question_id":71120551,"body_markdown":"Eventual implementation can be found [here](https://github.com/balena-labs-research/starter-interface/blob/5cc4965c6caecdad07875942ab209c8092ab6910/expressjs/src/middleware/queueCache.ts), which resolves some bugs in the below.\r\n\r\n---\r\nHere is what I have for now. Would be great to hear about improvements or issues. It is converted to Typescript as it is what I ultimately will be using.\r\n\r\n    import queueCache from &#39;./middleware/queueCache&#39;\r\n\r\n    ...\r\n\r\n    app.locals.cacheTimeout = 3000\r\n\r\n    app.get(&#39;/test&#39;, queueCache, (_req, res) =&gt; {\r\n      res.json({ test: &#39;test&#39; })\r\n    })\r\n    \r\n    app.get(&#39;/test1&#39;, queueCache, (_req, res) =&gt; {\r\n      res.json({ test1: &#39;test1&#39; })\r\n    })\r\n\r\nqueueCache.ts:\r\n\r\n    import { Request, Response, NextFunction } from &#39;express&#39;\r\n    \r\n    interface requestData {\r\n      queueName?: string\r\n      cachedData?: string\r\n      runtime?: number\r\n    }\r\n    \r\n    const cachedItemList = {} as Array&lt;requestData&gt;\r\n    const queue = [] as Array&lt;QueueUnique&gt;\r\n    const requestCache = [] as Array&lt;requestData&gt;\r\n    \r\n    // Class to queue items and cache results\r\n    class QueueUnique {\r\n      func\r\n      q: Promise&lt;unknown&gt;\r\n    \r\n      constructor(\r\n        func: (req: Request, res: Response, next: NextFunction) =&gt; Promise&lt;unknown&gt;\r\n      ) {\r\n        this.func = func\r\n        this.q = Promise.resolve()\r\n      }\r\n    \r\n      add(req: Request, res: Response, next: NextFunction) {\r\n        // Check if the item is already cached\r\n        if (checkCache(req, res)) {\r\n          return\r\n        }\r\n    \r\n        // If not cached, add to queue\r\n        const queuedFunc = this.queue(req, res, next)\r\n        queuedFunc()\r\n      }\r\n    \r\n      queue(req: Request, res: Response, next: NextFunction) {\r\n        return () =&gt; {\r\n          this.q = this.q\r\n            .then(() =&gt; this.func(req, res, next))\r\n            .catch((err) =&gt; {\r\n              console.log(err)\r\n            })\r\n          return this.q\r\n        }\r\n      }\r\n    }\r\n    \r\n    const response = (req: Request, res: Response, next: NextFunction) =&gt; {\r\n      // Do another check to see if item just finished in queue created a useful cache\r\n      return new Promise((resolve) =&gt; {\r\n        if (checkCache(req, res)) {\r\n          resolve(true)\r\n          return\r\n        }\r\n        setTimeout(() =&gt; {\r\n          if (cachedItemList[0].queueName) {\r\n            // Got this far, and cache exists so it must be older than set time, starting new request.\r\n    \r\n            // Return response to user\r\n            res.sendResponse = res.json\r\n            res.json = (body) =&gt; {\r\n              res.sendResponse(body)\r\n              // Find the current item in the request cache\r\n              const arrayIndex = requestCache?.findIndex(\r\n                (itm) =&gt; itm.queueName === req.url\r\n              )\r\n              // Set the time that the request was stored\r\n              requestCache[arrayIndex].runtime = new Date().getTime()\r\n              // Store the body of the response in the cache\r\n              requestCache[arrayIndex].cachedData = body\r\n              return res\r\n            }\r\n          } else {\r\n            // There was no cache\r\n    \r\n            // Return the response to the caller\r\n            res.sendResponse = res.json\r\n            res.json = (body) =&gt; {\r\n              res.sendResponse(body)\r\n              // Only use cache on GET requests. When not GET, this middleware only acts as a queue.\r\n              if (req.method === &#39;GET&#39;) {\r\n                // Check if it is already in cache to avoid duplicates\r\n                // Overcomes an error: https://github.com/expressjs/express/issues/4826\r\n                const arrayIndex = requestCache?.findIndex(\r\n                  (itm) =&gt; itm.queueName === req.url\r\n                )\r\n    \r\n                if (arrayIndex === -1) {\r\n                  requestCache.push({\r\n                    cachedData: body, // Add the new item to the permanent cache\r\n                    queueName: req.url, // Add the request URL to the item for later reference\r\n                    runtime: new Date().getTime() // Add the time the request was made\r\n                  })\r\n                }\r\n              }\r\n              return res\r\n            }\r\n          }\r\n          next()\r\n          resolve(true)\r\n        }, 4000)\r\n      })\r\n    }\r\n    \r\n    function checkCache(req: Request, res: Response) {\r\n      // Fetch all cached items related to the current endpoint queue, which is named after the endpoint url\r\n      cachedItemList[0] =\r\n        requestCache.find((itm) =&gt; itm.queueName === req.url) || {}\r\n    \r\n      // If the current request is within X seconds of the last successful requesst, return the cached version\r\n      if (\r\n        cachedItemList[0].runtime &amp;&amp;\r\n        new Date().getTime() - cachedItemList[0].runtime &lt;\r\n          req.app.locals.cacheTimeout\r\n      ) {\r\n        // Return the cached item to the user\r\n        res.json(cachedItemList[0].cachedData)\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    \r\n    // Create multipule queues, one for each endpoint\r\n    function sortQueues(req: Request, res: Response, next: NextFunction) {\r\n      // Use the endpoint name to create a queue within the queues array\r\n      if (!queue[req.route.path]) {\r\n        queue[req.route.path] = new QueueUnique(response)\r\n      }\r\n      queue[req.route.path].add(req, res, next)\r\n    }\r\n    \r\n    export default sortQueues\r\n\r\n","title":"ExpressJS queue requests","body":"<p>Eventual implementation can be found <a href=\"https://github.com/balena-labs-research/starter-interface/blob/5cc4965c6caecdad07875942ab209c8092ab6910/expressjs/src/middleware/queueCache.ts\" rel=\"nofollow noreferrer\">here</a>, which resolves some bugs in the below.</p>\n<hr />\n<p>Here is what I have for now. Would be great to hear about improvements or issues. It is converted to Typescript as it is what I ultimately will be using.</p>\n<pre><code>import queueCache from './middleware/queueCache'\n\n...\n\napp.locals.cacheTimeout = 3000\n\napp.get('/test', queueCache, (_req, res) =&gt; {\n  res.json({ test: 'test' })\n})\n\napp.get('/test1', queueCache, (_req, res) =&gt; {\n  res.json({ test1: 'test1' })\n})\n</code></pre>\n<p>queueCache.ts:</p>\n<pre><code>import { Request, Response, NextFunction } from 'express'\n\ninterface requestData {\n  queueName?: string\n  cachedData?: string\n  runtime?: number\n}\n\nconst cachedItemList = {} as Array&lt;requestData&gt;\nconst queue = [] as Array&lt;QueueUnique&gt;\nconst requestCache = [] as Array&lt;requestData&gt;\n\n// Class to queue items and cache results\nclass QueueUnique {\n  func\n  q: Promise&lt;unknown&gt;\n\n  constructor(\n    func: (req: Request, res: Response, next: NextFunction) =&gt; Promise&lt;unknown&gt;\n  ) {\n    this.func = func\n    this.q = Promise.resolve()\n  }\n\n  add(req: Request, res: Response, next: NextFunction) {\n    // Check if the item is already cached\n    if (checkCache(req, res)) {\n      return\n    }\n\n    // If not cached, add to queue\n    const queuedFunc = this.queue(req, res, next)\n    queuedFunc()\n  }\n\n  queue(req: Request, res: Response, next: NextFunction) {\n    return () =&gt; {\n      this.q = this.q\n        .then(() =&gt; this.func(req, res, next))\n        .catch((err) =&gt; {\n          console.log(err)\n        })\n      return this.q\n    }\n  }\n}\n\nconst response = (req: Request, res: Response, next: NextFunction) =&gt; {\n  // Do another check to see if item just finished in queue created a useful cache\n  return new Promise((resolve) =&gt; {\n    if (checkCache(req, res)) {\n      resolve(true)\n      return\n    }\n    setTimeout(() =&gt; {\n      if (cachedItemList[0].queueName) {\n        // Got this far, and cache exists so it must be older than set time, starting new request.\n\n        // Return response to user\n        res.sendResponse = res.json\n        res.json = (body) =&gt; {\n          res.sendResponse(body)\n          // Find the current item in the request cache\n          const arrayIndex = requestCache?.findIndex(\n            (itm) =&gt; itm.queueName === req.url\n          )\n          // Set the time that the request was stored\n          requestCache[arrayIndex].runtime = new Date().getTime()\n          // Store the body of the response in the cache\n          requestCache[arrayIndex].cachedData = body\n          return res\n        }\n      } else {\n        // There was no cache\n\n        // Return the response to the caller\n        res.sendResponse = res.json\n        res.json = (body) =&gt; {\n          res.sendResponse(body)\n          // Only use cache on GET requests. When not GET, this middleware only acts as a queue.\n          if (req.method === 'GET') {\n            // Check if it is already in cache to avoid duplicates\n            // Overcomes an error: https://github.com/expressjs/express/issues/4826\n            const arrayIndex = requestCache?.findIndex(\n              (itm) =&gt; itm.queueName === req.url\n            )\n\n            if (arrayIndex === -1) {\n              requestCache.push({\n                cachedData: body, // Add the new item to the permanent cache\n                queueName: req.url, // Add the request URL to the item for later reference\n                runtime: new Date().getTime() // Add the time the request was made\n              })\n            }\n          }\n          return res\n        }\n      }\n      next()\n      resolve(true)\n    }, 4000)\n  })\n}\n\nfunction checkCache(req: Request, res: Response) {\n  // Fetch all cached items related to the current endpoint queue, which is named after the endpoint url\n  cachedItemList[0] =\n    requestCache.find((itm) =&gt; itm.queueName === req.url) || {}\n\n  // If the current request is within X seconds of the last successful requesst, return the cached version\n  if (\n    cachedItemList[0].runtime &amp;&amp;\n    new Date().getTime() - cachedItemList[0].runtime &lt;\n      req.app.locals.cacheTimeout\n  ) {\n    // Return the cached item to the user\n    res.json(cachedItemList[0].cachedData)\n    return true\n  } else {\n    return false\n  }\n}\n\n// Create multipule queues, one for each endpoint\nfunction sortQueues(req: Request, res: Response, next: NextFunction) {\n  // Use the endpoint name to create a queue within the queues array\n  if (!queue[req.route.path]) {\n    queue[req.route.path] = new QueueUnique(response)\n  }\n  queue[req.route.path].add(req, res, next)\n}\n\nexport default sortQueues\n</code></pre>\n"}],"owner":{"account_id":21707196,"reputation":221,"user_id":16019434,"display_name":"Maggie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71155042,"answer_count":1,"score":0,"last_activity_date":1682677458,"creation_date":1644893067,"question_id":71120551,"body_markdown":"I am looking to queue requests to ExpressJs so that only one request is processed on an endpoint at a time. I have found some examples of this: https://stackoverflow.com/questions/36083121/expressjs-backend-put-requests-into-a-queue\r\n\r\nIt seems though they require a separate function for each endpoint. I am trying to create one function that allows me to pass a queue name, and then stack items in the specified queues. \r\n\r\nIt is an API listening for requests, and upon receiving one will then execute a request to another online API before relaying the result back to the user through the original express endpoint. Ultimately I will then look to add some very basic caching for each endpoint, just to store a short JSON string for 3 seconds before expiring. That way it returns the cached string within the 3 second limit rather than fetch the data again from online. \r\n\r\nHere is as far as I got, I would be curious to hear if there are better ways:\r\n\r\n    //UI request -&gt; check cache -&gt; return response || call request then return response\r\n    \r\n    // Queue items on endpoint\r\n    class QueueUnique {\r\n      func;\r\n      q;\r\n      requestCache = [];\r\n    \r\n      constructor(func) {\r\n        this.q = Promise.resolve();\r\n        this.func = func;\r\n      }\r\n    \r\n      add(request) {\r\n        // Fetch all cached items related to the current endpoint queue\r\n        const cachedItem = this.requestCache.find(\r\n          (itm) =&gt; itm.queueName === request.queueName\r\n        );\r\n        // If the current request is within X seconds of the last successful requesst, return the cache\r\n        // otherwise make a new request\r\n        if (cachedItem &amp;&amp; new Date().getTime() - cachedItem.runtime &gt; 3000) {\r\n          console.log(\r\n            &quot;Cache is over 3 seconds old. Doing new request. Queue name: &quot; +\r\n              request.queueName\r\n            // no cahe, forward request:\r\n            //seperate this in to function\r\n            //res.sendResponse = res.send\r\n            // res.send = (body) =&gt; {\r\n            //  request.body = body\r\n            //  this.updateCache(request);\r\n            // res.sendResponse(body)\r\n            //}\r\n            //next()\r\n          );\r\n          this.updateCache(request);\r\n        } else if (cachedItem) {\r\n          console.log(&quot;Valid cache, return cache&quot;);\r\n          // res.send(request.body)\r\n          this.updateCache(request);\r\n        } else {\r\n          console.log(&quot;no cache&quot;);\r\n          //continue as normal as if no cache\r\n          // no cahe, forward request: Same as first run\r\n          this.addToCache(request);\r\n        }\r\n    \r\n        // Do I need to use await before setting datetime?\r\n    \r\n        //then cache\r\n    \r\n        // Set the current time as a value in the item Array\r\n        request.runtime = new Date().getTime();\r\n    \r\n        const queuedFunc = this.queue(request);\r\n        queuedFunc();\r\n      }\r\n    \r\n      addToCache(request) {\r\n        // Add the new item to the permanent cache\r\n        this.requestCache.push(request);\r\n      }\r\n    \r\n      updateCache(request) {\r\n        // Update the permanent request cache entry\r\n        const arrayIndex = this.requestCache.findIndex(\r\n          (itm) =&gt; itm.queueName === request.queueName\r\n        );\r\n        this.requestCache[arrayIndex] = request;\r\n      }\r\n    \r\n      queue(item) {\r\n        return () =&gt; {\r\n          this.q = this.q\r\n            .then(() =&gt; this.func(item))\r\n            .catch((err) =&gt; {\r\n              console.log(err);\r\n            });\r\n          return this.q;\r\n        };\r\n      }\r\n    }\r\n    \r\n    const response = (item) =&gt; {\r\n      return new Promise((resolve) =&gt; {\r\n        setTimeout(() =&gt; {\r\n          console.log(&quot;say&quot;, item.payload);\r\n          resolve();\r\n        }, item.delay);\r\n      });\r\n    };\r\n    \r\n    const queue = [];\r\n    function test(bar, payload) {\r\n      if (!queue[bar]) {\r\n        queue[bar] = new QueueUnique(response);\r\n      }\r\n      queue[bar].add(payload);\r\n      console.log(queue);\r\n      return queue;\r\n    }\r\n    \r\n    test(&quot;te&quot;, {\r\n      queueName: &quot;ping&quot;,\r\n      payload: &quot;one&quot;,\r\n      delay: 3000,\r\n    });\r\n    \r\n    test(&quot;te&quot;, {\r\n      queueName: &quot;ping&quot;,\r\n      payload: &quot;one&quot;,\r\n      delay: 3000,\r\n    });\r\n    \r\n    test(&quot;te&quot;, {\r\n      queueName: &quot;ping&quot;,\r\n      payload: &quot;one&quot;,\r\n      delay: 3000,\r\n    });\r\n    \r\n    test(&quot;te2&quot;, {\r\n      queueName: &quot;ping&quot;,\r\n      payload: &quot;two&quot;,\r\n      delay: 1000,\r\n    });\r\n    \r\n    test(&quot;te2&quot;, {\r\n      queueName: &quot;ping&quot;,\r\n      payload: &quot;two&quot;,\r\n      delay: 1000,\r\n    });\r\n\r\n\r\n","title":"ExpressJS queue requests","body":"<p>I am looking to queue requests to ExpressJs so that only one request is processed on an endpoint at a time. I have found some examples of this: <a href=\"https://stackoverflow.com/questions/36083121/expressjs-backend-put-requests-into-a-queue\">ExpressJS backend put requests into a queue</a></p>\n<p>It seems though they require a separate function for each endpoint. I am trying to create one function that allows me to pass a queue name, and then stack items in the specified queues.</p>\n<p>It is an API listening for requests, and upon receiving one will then execute a request to another online API before relaying the result back to the user through the original express endpoint. Ultimately I will then look to add some very basic caching for each endpoint, just to store a short JSON string for 3 seconds before expiring. That way it returns the cached string within the 3 second limit rather than fetch the data again from online.</p>\n<p>Here is as far as I got, I would be curious to hear if there are better ways:</p>\n<pre><code>//UI request -&gt; check cache -&gt; return response || call request then return response\n\n// Queue items on endpoint\nclass QueueUnique {\n  func;\n  q;\n  requestCache = [];\n\n  constructor(func) {\n    this.q = Promise.resolve();\n    this.func = func;\n  }\n\n  add(request) {\n    // Fetch all cached items related to the current endpoint queue\n    const cachedItem = this.requestCache.find(\n      (itm) =&gt; itm.queueName === request.queueName\n    );\n    // If the current request is within X seconds of the last successful requesst, return the cache\n    // otherwise make a new request\n    if (cachedItem &amp;&amp; new Date().getTime() - cachedItem.runtime &gt; 3000) {\n      console.log(\n        &quot;Cache is over 3 seconds old. Doing new request. Queue name: &quot; +\n          request.queueName\n        // no cahe, forward request:\n        //seperate this in to function\n        //res.sendResponse = res.send\n        // res.send = (body) =&gt; {\n        //  request.body = body\n        //  this.updateCache(request);\n        // res.sendResponse(body)\n        //}\n        //next()\n      );\n      this.updateCache(request);\n    } else if (cachedItem) {\n      console.log(&quot;Valid cache, return cache&quot;);\n      // res.send(request.body)\n      this.updateCache(request);\n    } else {\n      console.log(&quot;no cache&quot;);\n      //continue as normal as if no cache\n      // no cahe, forward request: Same as first run\n      this.addToCache(request);\n    }\n\n    // Do I need to use await before setting datetime?\n\n    //then cache\n\n    // Set the current time as a value in the item Array\n    request.runtime = new Date().getTime();\n\n    const queuedFunc = this.queue(request);\n    queuedFunc();\n  }\n\n  addToCache(request) {\n    // Add the new item to the permanent cache\n    this.requestCache.push(request);\n  }\n\n  updateCache(request) {\n    // Update the permanent request cache entry\n    const arrayIndex = this.requestCache.findIndex(\n      (itm) =&gt; itm.queueName === request.queueName\n    );\n    this.requestCache[arrayIndex] = request;\n  }\n\n  queue(item) {\n    return () =&gt; {\n      this.q = this.q\n        .then(() =&gt; this.func(item))\n        .catch((err) =&gt; {\n          console.log(err);\n        });\n      return this.q;\n    };\n  }\n}\n\nconst response = (item) =&gt; {\n  return new Promise((resolve) =&gt; {\n    setTimeout(() =&gt; {\n      console.log(&quot;say&quot;, item.payload);\n      resolve();\n    }, item.delay);\n  });\n};\n\nconst queue = [];\nfunction test(bar, payload) {\n  if (!queue[bar]) {\n    queue[bar] = new QueueUnique(response);\n  }\n  queue[bar].add(payload);\n  console.log(queue);\n  return queue;\n}\n\ntest(&quot;te&quot;, {\n  queueName: &quot;ping&quot;,\n  payload: &quot;one&quot;,\n  delay: 3000,\n});\n\ntest(&quot;te&quot;, {\n  queueName: &quot;ping&quot;,\n  payload: &quot;one&quot;,\n  delay: 3000,\n});\n\ntest(&quot;te&quot;, {\n  queueName: &quot;ping&quot;,\n  payload: &quot;one&quot;,\n  delay: 3000,\n});\n\ntest(&quot;te2&quot;, {\n  queueName: &quot;ping&quot;,\n  payload: &quot;two&quot;,\n  delay: 1000,\n});\n\ntest(&quot;te2&quot;, {\n  queueName: &quot;ping&quot;,\n  payload: &quot;two&quot;,\n  delay: 1000,\n});\n</code></pre>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682676952,"creation_date":1682676952,"answer_id":76128584,"question_id":76128414,"body_markdown":"The problem is that `?` is any type. That means, it can be a `Object`, a `String`, a `Boolean`, etc.\r\n\r\nIf you change your test function to the following, it will take your second call.\r\n\r\n    public static void testFunction(Function&lt;? extends String, Boolean&gt; whatever)\r\n\r\nWith `? extends String` you limit the range of the type to `String` and all subclasses, whereas before it was `Object` and every other type.\r\n\r\nAlso you can notice that if you change the method to `private static Boolean b (Object a)`, you can pass it to the method `testFunction` without any changes.\r\n\r\n\r\nIf you call your function with explictly stating the function, you see that it expects an `Object`.\r\n\r\n    testFunction(new Function&lt;Object, Boolean&gt;() {\r\n    \r\n        @Override\r\n        public Boolean apply(Object o) {\r\n            return null;\r\n        }\r\n    });\r\n\r\nSince your method `b` is explictly taking a `String`, you need to make sure that a `String` is passed to the method. \r\n\r\nThis can be done by explictly stating your function (1. call), or casting your function. Another way can be by casting your parameter to `String`, which is passed to the function.\r\n\r\n    testFunction(parameter -&gt; b((String) parameter));\r\n\r\n","title":"the strange java code when using Summarize","body":"<p>The problem is that <code>?</code> is any type. That means, it can be a <code>Object</code>, a <code>String</code>, a <code>Boolean</code>, etc.</p>\n<p>If you change your test function to the following, it will take your second call.</p>\n<pre><code>public static void testFunction(Function&lt;? extends String, Boolean&gt; whatever)\n</code></pre>\n<p>With <code>? extends String</code> you limit the range of the type to <code>String</code> and all subclasses, whereas before it was <code>Object</code> and every other type.</p>\n<p>Also you can notice that if you change the method to <code>private static Boolean b (Object a)</code>, you can pass it to the method <code>testFunction</code> without any changes.</p>\n<p>If you call your function with explictly stating the function, you see that it expects an <code>Object</code>.</p>\n<pre><code>testFunction(new Function&lt;Object, Boolean&gt;() {\n\n    @Override\n    public Boolean apply(Object o) {\n        return null;\n    }\n});\n</code></pre>\n<p>Since your method <code>b</code> is explictly taking a <code>String</code>, you need to make sure that a <code>String</code> is passed to the method.</p>\n<p>This can be done by explictly stating your function (1. call), or casting your function. Another way can be by casting your parameter to <code>String</code>, which is passed to the function.</p>\n<pre><code>testFunction(parameter -&gt; b((String) parameter));\n</code></pre>\n"}],"owner":{"account_id":27908454,"reputation":11,"user_id":21311149,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682676952,"creation_date":1682675959,"question_id":76128414,"body_markdown":"I have a code block listed below:\r\n```\r\npublic class {\r\n    private static Boolean b (String a){\r\n            return false;\r\n    }\r\n    public static void testFunction(Function&lt;?,Boolean&gt; whatever){\r\n\r\n    }\r\n    public void test() {\r\n        Function&lt;String, Boolean&gt; noUse = Demo::b;\r\n        testFunction(noUse);\r\n\r\n\r\n        testFunction((Function&lt;String,Boolean&gt;)Demo::b);\r\n        //why it&#39;s wrong\r\n        testFunction(Demo::b);\r\n    }\r\n}\r\n```\r\nI&#39;m confused by `testFunction(Demo::b)`. \r\nIt&#39;s obvious that function b has signature `Boolean(String)` which exactly matches `Function&lt;?, Boolean&gt;` due to convarint. And `Function&lt;String, Boolean&gt; noUse = Demo::b` proves this. \r\nBut why the statement is wrong `testFunction(Demo::b)` ?\r\n\r\n\r\nI have searched it in google and chatgpt. But I can&#39;t summarize it quite well.","title":"the strange java code when using Summarize","body":"<p>I have a code block listed below:</p>\n<pre><code>public class {\n    private static Boolean b (String a){\n            return false;\n    }\n    public static void testFunction(Function&lt;?,Boolean&gt; whatever){\n\n    }\n    public void test() {\n        Function&lt;String, Boolean&gt; noUse = Demo::b;\n        testFunction(noUse);\n\n\n        testFunction((Function&lt;String,Boolean&gt;)Demo::b);\n        //why it's wrong\n        testFunction(Demo::b);\n    }\n}\n</code></pre>\n<p>I'm confused by <code>testFunction(Demo::b)</code>.\nIt's obvious that function b has signature <code>Boolean(String)</code> which exactly matches <code>Function&lt;?, Boolean&gt;</code> due to convarint. And <code>Function&lt;String, Boolean&gt; noUse = Demo::b</code> proves this.\nBut why the statement is wrong <code>testFunction(Demo::b)</code> ?</p>\n<p>I have searched it in google and chatgpt. But I can't summarize it quite well.</p>\n"},{"tags":["java","mysql","eclipse","servlets","thymeleaf"],"comments":[{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":0,"creation_date":1682688897,"post_id":76128573,"comment_id":134259417,"body_markdown":"Have you tried using a real debugger in an IDE? It might help you to understand to flow of the programm better","body":"Have you tried using a real debugger in an IDE? It might help you to understand to flow of the programm better"},{"owner":{"account_id":28444001,"reputation":1,"user_id":21762976,"display_name":"Francesco Vinci"},"score":0,"creation_date":1682804378,"post_id":76128573,"comment_id":134273654,"body_markdown":"In eclipse, i cant debug with tomcat. I can only run my webapp on server. Have you some advice for debugging a web application?","body":"In eclipse, i cant debug with tomcat. I can only run my webapp on server. Have you some advice for debugging a web application?"}],"owner":{"account_id":28444001,"reputation":1,"user_id":21762976,"display_name":"Francesco Vinci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682676889,"creation_date":1682676889,"question_id":76128573,"body_markdown":"this is my first question here.\r\nI created a login form that check login username and password from a database.\r\n\r\n\r\nI don&#39;t understand why when i put right username and password (&quot;ok&quot;, &quot;ok&quot;) and click submit, the page is refreshed, but do nothing. I try to write some sendError message for &quot;debugging&quot; and no one of these is shown.\r\nI hope someone can help me :)\r\nP.S. thymeleaf tags are commented because they do not work and i have to understand why, but it&#39;s a secondary problem.\r\n\r\n\r\nGoToPlaylistPage.java\r\n~~~\r\n@WebServlet(&quot;/GoToPlaylistPage&quot;)\r\npublic class GoToPlaylistPage extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate TemplateEngine templateEngine;\r\n\tprivate Connection connection = null;\r\n\r\n\r\n\tpublic GoToPlaylistPage() {\r\n\t\tsuper();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\tpublic void init() throws ServletException {\r\n\t\ttry {\r\n\t\t\tServletContext context = getServletContext();\r\n\t\t\tString driver = context.getInitParameter(&quot;dbDriver&quot;);\r\n\t\t\tString url = context.getInitParameter(&quot;dbUrl&quot;);\r\n\t\t\tString user = context.getInitParameter(&quot;dbUser&quot;);\r\n\t\t\tString password = context.getInitParameter(&quot;dbPassword&quot;);\r\n\t\t\tClass.forName(driver);\r\n\t\t\tconnection = DriverManager.getConnection(url, user, password);\r\n\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new UnavailableException(&quot;Can&#39;t load database driver&quot;);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new UnavailableException(&quot;Couldn&#39;t get db connection&quot;);\r\n\t\t}\r\n\r\n\t\tServletContext servletContext = getServletContext();\r\n\t\tServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(servletContext);\r\n\t\ttemplateResolver.setTemplateMode(TemplateMode.HTML);\r\n\t\tthis.templateEngine = new TemplateEngine();\r\n\t\tthis.templateEngine.setTemplateResolver(templateResolver);\r\n\t\ttemplateResolver.setSuffix(&quot;.html&quot;);\r\n\t}\r\n\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\tHttpSession session = request.getSession(true);\r\n\t\tString path = &quot;&quot;;\t\t\r\n\t\tif(session.isNew() || session.getAttribute(&quot;user&quot;)==null) {\r\n\t\t\tpath=&quot;LoginPage.html&quot;;\r\n\t\t\tresponse.sendRedirect(path);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tString ctxpath = getServletContext().getContextPath();\r\n\t\t\tpath = ctxpath + &quot;/getPlaylist&quot;;\r\n\t\t\tresponse.sendRedirect(path);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\r\n\t\r\n\t@Override\r\n\tpublic void destroy() {\r\n\t\tif (connection != null) {\r\n\t\t\ttry {\r\n\t\t\t\tconnection.close();\r\n\t\t\t} catch (SQLException e){\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n~~~\r\n\r\nLoginPage.html\r\n~~~\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Login Page&lt;/title&gt;\r\n&lt;!-- &lt;link th:href=&quot;@{/css/style.css}&quot; rel=&quot;stylesheet&quot;&gt; --&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt; \r\n    &lt;div class=&quot;container&quot;&gt;\r\n      &lt;div class=&quot;wrapper&quot;&gt;\r\n        &lt;div class=&quot;title&quot;&gt;&lt;span&gt;Use this form if you&#39;re already registered to musical playlist web application&lt;/span&gt;&lt;/div&gt;\r\n\t        &lt;form th:action=&quot;@{/checkLogin}&quot; method=&quot;post&quot;&gt;\r\n\t          \t&lt;div class=&quot;row&quot;&gt;\r\n\t           \r\n\t            \tUsername &lt;input type=&quot;text&quot; name=&quot;username&quot; required autofocus&gt;\r\n\t          \t&lt;/div&gt;\r\n\t          \t&lt;div class=&quot;row&quot;&gt;\r\n\t            \tPassword &lt;input type=&quot;password&quot; name=&quot;password&quot; required&gt;\r\n\t          \t&lt;/div&gt;\r\n\t          \t&lt;!-- p th:text=${missing==true} ? &#39;Both Username and Password required&#39;&gt;&lt;/p&gt;\r\n\t          \t&lt;p th:if=&quot;${invalid==true}&quot;&gt;Wrong Username or Password&lt;/p&gt;--&gt;\r\n\t          \t&lt;div class=&quot;row button&quot;&gt;\r\n\t            \t&lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;\r\n\t          \t&lt;/div&gt;\r\n\t          \t&lt;div&gt;If you&#39;re not registered, please sign up &lt;a href=&quot;RegisterPage.html&quot;&gt;here&lt;/a&gt;&lt;/div&gt;\r\n\t        &lt;/form&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n~~~\r\n\r\nCheckLogin.java\r\n~~~\r\n/**\r\n * Servlet implementation class CheckLogin\r\n */\r\n@WebServlet(&quot;/checkLogin&quot;)\r\npublic class CheckLogin extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate TemplateEngine templateEngine;\r\n\tprivate Connection connection = null;\r\n       \r\n    /**\r\n     * @see HttpServlet#HttpServlet()\r\n     */\r\n    public CheckLogin() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n    }\r\n    \r\n    \r\n    public void init() throws ServletException {\r\n\t\ttry {\r\n\t\t\tServletContext context = getServletContext();\r\n\t\t\tString driver = context.getInitParameter(&quot;dbDriver&quot;);\r\n\t\t\tString url = context.getInitParameter(&quot;dbUrl&quot;);\r\n\t\t\tString user = context.getInitParameter(&quot;dbUser&quot;);\r\n\t\t\tString password = context.getInitParameter(&quot;dbPassword&quot;);\r\n\t\t\tClass.forName(driver);\r\n\t\t\tconnection = DriverManager.getConnection(url, user, password);\r\n\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new UnavailableException(&quot;Can&#39;t load database driver&quot;);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new UnavailableException(&quot;Couldn&#39;t get db connection&quot;);\r\n\t\t}\r\n\r\n\t\tServletContext servletContext = getServletContext();\r\n\t\tServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(servletContext);\r\n\t\ttemplateResolver.setTemplateMode(TemplateMode.HTML);\r\n\t\tthis.templateEngine = new TemplateEngine();\r\n\t\tthis.templateEngine.setTemplateResolver(templateResolver);\r\n\t\ttemplateResolver.setSuffix(&quot;.html&quot;);\r\n\t}\r\n\t/**\r\n\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\r\n\t/**\r\n\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n    @Override\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\tString username = request.getParameter(&quot;username&quot;);\r\n\t\tString password = request.getParameter(&quot;password&quot;);\r\n\t\tString path=&quot;&quot;;\r\n\t\tboolean missing=false, invalid=false;\r\n\t\tHttpSession session=request.getSession();\r\n\t\tUser user=null;\r\n\t\tUserDAO userDAO = new UserDAO(connection);\r\n\t\tServletContext servletContext = getServletContext();\r\n\t\tfinal WebContext ctx = new WebContext(request, response, servletContext, request.getLocale());\r\n\t\tif(username == null || password == null) {\r\n\t\t\tmissing=true;\r\n\t\t\tctx.setVariable(&quot;missing&quot;, missing);\r\n\t\t\tsession.invalidate();\r\n\t\t\tpath=&quot;/WEB-INF/LoginPage.html&quot;;\r\n\t\t\tresponse.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;if user, pass null&quot;);\r\n\t\t\ttemplateEngine.process(path, ctx, response.getWriter());\r\n\t\t}\r\n\t\telse {\r\n\t\t\ttry {\r\n\t\t\t\tuser=userDAO.checkCredentials(username, password);\r\n\t\t\t\tif(user==null) {\r\n\t\t\t\t\tinvalid=true;\r\n\t\t\t\t\tsession.invalidate();\r\n\t\t\t\t\tctx.setVariable(&quot;invalid&quot;, invalid);\r\n\t\t\t\t\tpath=&quot;/WEB-INF/LoginPage.html&quot;;\r\n\t\t\t\t\tresponse.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;if no user&quot;);\r\n\t\t\t\t\ttemplateEngine.process(path, ctx, response.getWriter());\r\n\r\n\t\t\t\t}else {\r\n\t\t\t\t\tsession.setAttribute(&quot;user&quot;, user);\r\n\t\t\t\t\tString ctxpath = getServletContext().getContextPath();\r\n\t\t\t\t\tpath = ctxpath + &quot;/goToPlaylistPage&quot;;\r\n\t\t\t\t\tresponse.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;indirizzo verso la pagina GoToPlaylist&quot;);\r\n\t\t\t\t\tresponse.sendRedirect(path);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}catch(SQLException e) {\r\n\t\t\t\tresponse.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Database Acess Failed1&quot;);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n~~~\r\n\r\nGetPlaylist.java\r\n~~~\r\n/**\r\n * Servlet implementation class GetPlaylist\r\n */\r\n@WebServlet(&quot;/getPlaylist&quot;)\r\npublic class GetPlaylist extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate Connection connection=null;\r\n\tprivate TemplateEngine templateEngine;\r\n       \r\n    /**\r\n     * @see HttpServlet#HttpServlet()\r\n     */\r\n    public GetPlaylist() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n    }\r\n    \r\n    public void init() throws ServletException {\r\n\t\ttry {\r\n\t\t\tServletContext context = getServletContext();\r\n\t\t\tString driver = context.getInitParameter(&quot;dbDriver&quot;);\r\n\t\t\tString url = context.getInitParameter(&quot;dbUrl&quot;);\r\n\t\t\tString user = context.getInitParameter(&quot;dbUser&quot;);\r\n\t\t\tString password = context.getInitParameter(&quot;dbPassword&quot;);\r\n\t\t\tClass.forName(driver);\r\n\t\t\tconnection = DriverManager.getConnection(url, user, password);\r\n\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new UnavailableException(&quot;Can&#39;t load database driver&quot;);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new UnavailableException(&quot;Couldn&#39;t get db connection&quot;);\r\n\t\t}\r\n\r\n\t\tServletContext servletContext = getServletContext();\r\n\t\tServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(servletContext);\r\n\t\ttemplateResolver.setTemplateMode(TemplateMode.HTML);\r\n\t\tthis.templateEngine = new TemplateEngine();\r\n\t\tthis.templateEngine.setTemplateResolver(templateResolver);\r\n\t\ttemplateResolver.setSuffix(&quot;.html&quot;);\r\n\t}\r\n\r\n\t/**\r\n\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\tList&lt;Playlist&gt; playlists = null;\r\n\t\tPlaylistDAO pdao = new PlaylistDAO(connection);\r\n\t\tHttpSession session = request.getSession(true);\r\n\t\tString path=&quot;/WEB-INF/Home.html&quot;;\r\n\t\tServletContext servletContext = getServletContext();\r\n\t\tfinal WebContext ctx = new WebContext(request, response, servletContext, request.getLocale());\r\n\t\ttry {\r\n\t\tplaylists = pdao.getPlaylists((User)session.getAttribute(&quot;user&quot;));\r\n\t\tctx.setVariable(&quot;ownerPlaylists&quot;, playlists);\r\n\t\ttemplateEngine.process(path, ctx, response.getWriter());\r\n\t\t}catch(SQLException e) {\r\n\t\t\tresponse.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Database Acess Failed3&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\r\n}\r\n~~~\r\n\r\nPlaylistDAO.java\r\n~~~\r\npublic class PlaylistDAO {\r\n\tprivate Connection connection;\r\n\t\r\n\tpublic PlaylistDAO() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\tpublic PlaylistDAO(Connection con) {\r\n\t\tthis.connection = con;\r\n\t}\r\n\t\r\n\tpublic List&lt;Playlist&gt; getPlaylists(User user)throws SQLException{\r\n\t\tList&lt;Playlist&gt; p = new ArrayList&lt;Playlist&gt;();\r\n\t\tString query = &quot;SELECT * FROM playlist WHERE Creator = ?&quot;;\r\n\t\tResultSet result = null;\r\n\t\tPreparedStatement pstatement = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tpstatement = connection.prepareStatement(query);\r\n\t\t\tpstatement.setString(1, user.getUsername());\r\n\t\t\tresult=pstatement.executeQuery();\r\n\t\t\twhile(result.next()) {\r\n\t\t\t\tPlaylist pl = new Playlist();\r\n\t\t\t\tpl.setId(result.getInt(&quot;ID&quot;));\r\n\t\t\t\tpl.setOwner(result.getString(&quot;Creator&quot;));\r\n\t\t\t\tpl.setTitle(result.getString(&quot;Title&quot;));\r\n\t\t\t\tpl.setDate(result.getString(&quot;Date&quot;));\r\n\t\t\t\tp.add(pl);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (SQLException e) {\r\n\t\t    e.printStackTrace();\r\n\t\t\tthrow new SQLException(e);\r\n\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tresult.close();\r\n\t\t\t} catch (Exception e1) {\r\n\t\t\t\tthrow new SQLException(e1);\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tpstatement.close();\r\n\t\t\t} catch (Exception e2) {\r\n\t\t\t\tthrow new SQLException(e2);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\treturn p;\r\n\t}\r\n}\r\n~~~\r\n\r\nUserDAO.java\r\n\r\n~~~\r\npublic class UserDAO {\r\n\tprivate Connection connection;\r\n\r\n\tpublic UserDAO() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic UserDAO(Connection con) {\r\n\t\tthis.connection = con;\r\n\t}\r\n\t\r\n\tpublic User checkCredentials(String u, String p)throws SQLException {\r\n\t\tUser user = null;\r\n\t\tString query = &quot;SELECT * FROM user WHERE username = ? and password = ?&quot;;\r\n\t\tResultSet result = null;\r\n\t\tPreparedStatement pstatement = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tpstatement = connection.prepareStatement(query);\r\n\t\t\tpstatement.setString(1, u);\r\n\t\t\tpstatement.setString(2, p);\r\n\t\t\tresult=pstatement.executeQuery();\r\n\t\t\twhile(result.next()) {\r\n\t\t\t\tuser= new User();\r\n\t\t\t\tuser.setUsername(result.getString(&quot;username&quot;));\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (SQLException e) {\r\n\t\t    e.printStackTrace();\r\n\t\t\tthrow new SQLException(e);\r\n\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tresult.close();\r\n\t\t\t} catch (Exception e1) {\r\n\t\t\t\tthrow new SQLException(e1);\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tpstatement.close();\r\n\t\t\t} catch (Exception e2) {\r\n\t\t\t\tthrow new SQLException(e2);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\treturn user;\r\n\t}\r\n\t\r\n\tpublic boolean existingUsername(String u)throws SQLException {\r\n\t\tString query = &quot;SELECT * FROM user WHERE username = ?&quot;;\r\n\t\tResultSet result = null;\r\n\t\tPreparedStatement pstatement = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tpstatement = connection.prepareStatement(query);\r\n\t\t\tpstatement.setString(1, u);\r\n\t\t\tresult=pstatement.executeQuery();\r\n\t\t\twhile(result.next()) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tcatch (SQLException e) {\r\n\t\t    e.printStackTrace();\r\n\t\t\tthrow new SQLException(e);\r\n\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tresult.close();\r\n\t\t\t} catch (Exception e1) {\r\n\t\t\t\tthrow new SQLException(e1);\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tpstatement.close();\r\n\t\t\t} catch (Exception e2) {\r\n\t\t\t\tthrow new SQLException(e2);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t}\r\n\t\r\n\tpublic User registerNewUser(String u, String p) throws SQLException{\r\n\t\tString query = &quot;INSERT INTO user (Username, Password) VALUES (&#39;?&#39;,&#39;?&#39;)&quot;;\r\n\t\tint n;\r\n\t\tUser user = new User();\r\n\t\tconnection.setAutoCommit(false);\r\n\t\tPreparedStatement pstatement = null;\r\n\t\ttry {\r\n\t\t\tpstatement = connection.prepareStatement(query);\r\n\t\t\tpstatement.setString(1, u);\r\n\t\t\tpstatement.setString(2, p);\r\n\t\t\tn=pstatement.executeUpdate();\r\n\t\t\tconnection.commit();\r\n\t\t\tconnection.setAutoCommit(true);\r\n\t\t\tif(n==1) {\r\n\t\t\t\tuser.setUsername(u);\r\n\t\t\t\treturn user;\r\n\t\t\t}\r\n\t\t\telse return null;\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (SQLException e) {\r\n\t\t\tconnection.rollback();\r\n\t\t    e.printStackTrace();\r\n\t\t\tthrow new SQLException(e);\r\n\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tpstatement.close();\r\n\t\t\t} catch (Exception e2) {\r\n\t\t\t\tthrow new SQLException(e2);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t}\r\n}\r\n~~~\r\n\r\nweb.xml\r\n~~~\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n\txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n\tversion=&quot;4.0&quot;&gt;\r\n\t&lt;display-name&gt;TIW_Bom&lt;/display-name&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;dbUrl&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;jdbc:mysql://localhost:3306/tiw_project_playlist?serverTimezone=UTC&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;dbUser&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;root&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;dbPassword&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;rootPassword&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;dbDriver&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;com.mysql.cj.jdbc.Driver&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;welcome-file-list&gt;\r\n\t\t&lt;welcome-file&gt;GoToPlaylistPage&lt;/welcome-file&gt;\r\n\t&lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n~~~\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Login Form thymeleaf (no Spring) does not work","body":"<p>this is my first question here.\nI created a login form that check login username and password from a database.</p>\n<p>I don't understand why when i put right username and password (&quot;ok&quot;, &quot;ok&quot;) and click submit, the page is refreshed, but do nothing. I try to write some sendError message for &quot;debugging&quot; and no one of these is shown.\nI hope someone can help me :)\nP.S. thymeleaf tags are commented because they do not work and i have to understand why, but it's a secondary problem.</p>\n<p>GoToPlaylistPage.java</p>\n<pre><code>@WebServlet(&quot;/GoToPlaylistPage&quot;)\npublic class GoToPlaylistPage extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private TemplateEngine templateEngine;\n    private Connection connection = null;\n\n\n    public GoToPlaylistPage() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    public void init() throws ServletException {\n        try {\n            ServletContext context = getServletContext();\n            String driver = context.getInitParameter(&quot;dbDriver&quot;);\n            String url = context.getInitParameter(&quot;dbUrl&quot;);\n            String user = context.getInitParameter(&quot;dbUser&quot;);\n            String password = context.getInitParameter(&quot;dbPassword&quot;);\n            Class.forName(driver);\n            connection = DriverManager.getConnection(url, user, password);\n\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n            throw new UnavailableException(&quot;Can't load database driver&quot;);\n        } catch (SQLException e) {\n            e.printStackTrace();\n            throw new UnavailableException(&quot;Couldn't get db connection&quot;);\n        }\n\n        ServletContext servletContext = getServletContext();\n        ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(servletContext);\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        this.templateEngine = new TemplateEngine();\n        this.templateEngine.setTemplateResolver(templateResolver);\n        templateResolver.setSuffix(&quot;.html&quot;);\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        HttpSession session = request.getSession(true);\n        String path = &quot;&quot;;       \n        if(session.isNew() || session.getAttribute(&quot;user&quot;)==null) {\n            path=&quot;LoginPage.html&quot;;\n            response.sendRedirect(path);\n            return;\n        }\n        else {\n            String ctxpath = getServletContext().getContextPath();\n            path = ctxpath + &quot;/getPlaylist&quot;;\n            response.sendRedirect(path);\n            return;\n        }\n        \n        \n    }\n\n\n    \n    @Override\n    public void destroy() {\n        if (connection != null) {\n            try {\n                connection.close();\n            } catch (SQLException e){\n                \n            }\n        }\n    }\n\n}\n</code></pre>\n<p>LoginPage.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Login Page&lt;/title&gt;\n&lt;!-- &lt;link th:href=&quot;@{/css/style.css}&quot; rel=&quot;stylesheet&quot;&gt; --&gt;\n&lt;/head&gt;\n&lt;body&gt; \n    &lt;div class=&quot;container&quot;&gt;\n      &lt;div class=&quot;wrapper&quot;&gt;\n        &lt;div class=&quot;title&quot;&gt;&lt;span&gt;Use this form if you're already registered to musical playlist web application&lt;/span&gt;&lt;/div&gt;\n            &lt;form th:action=&quot;@{/checkLogin}&quot; method=&quot;post&quot;&gt;\n                &lt;div class=&quot;row&quot;&gt;\n               \n                    Username &lt;input type=&quot;text&quot; name=&quot;username&quot; required autofocus&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;row&quot;&gt;\n                    Password &lt;input type=&quot;password&quot; name=&quot;password&quot; required&gt;\n                &lt;/div&gt;\n                &lt;!-- p th:text=${missing==true} ? 'Both Username and Password required'&gt;&lt;/p&gt;\n                &lt;p th:if=&quot;${invalid==true}&quot;&gt;Wrong Username or Password&lt;/p&gt;--&gt;\n                &lt;div class=&quot;row button&quot;&gt;\n                    &lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;\n                &lt;/div&gt;\n                &lt;div&gt;If you're not registered, please sign up &lt;a href=&quot;RegisterPage.html&quot;&gt;here&lt;/a&gt;&lt;/div&gt;\n            &lt;/form&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>CheckLogin.java</p>\n<pre><code>/**\n * Servlet implementation class CheckLogin\n */\n@WebServlet(&quot;/checkLogin&quot;)\npublic class CheckLogin extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private TemplateEngine templateEngine;\n    private Connection connection = null;\n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public CheckLogin() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n    \n    \n    public void init() throws ServletException {\n        try {\n            ServletContext context = getServletContext();\n            String driver = context.getInitParameter(&quot;dbDriver&quot;);\n            String url = context.getInitParameter(&quot;dbUrl&quot;);\n            String user = context.getInitParameter(&quot;dbUser&quot;);\n            String password = context.getInitParameter(&quot;dbPassword&quot;);\n            Class.forName(driver);\n            connection = DriverManager.getConnection(url, user, password);\n\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n            throw new UnavailableException(&quot;Can't load database driver&quot;);\n        } catch (SQLException e) {\n            e.printStackTrace();\n            throw new UnavailableException(&quot;Couldn't get db connection&quot;);\n        }\n\n        ServletContext servletContext = getServletContext();\n        ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(servletContext);\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        this.templateEngine = new TemplateEngine();\n        this.templateEngine.setTemplateResolver(templateResolver);\n        templateResolver.setSuffix(&quot;.html&quot;);\n    }\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        String username = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n        String path=&quot;&quot;;\n        boolean missing=false, invalid=false;\n        HttpSession session=request.getSession();\n        User user=null;\n        UserDAO userDAO = new UserDAO(connection);\n        ServletContext servletContext = getServletContext();\n        final WebContext ctx = new WebContext(request, response, servletContext, request.getLocale());\n        if(username == null || password == null) {\n            missing=true;\n            ctx.setVariable(&quot;missing&quot;, missing);\n            session.invalidate();\n            path=&quot;/WEB-INF/LoginPage.html&quot;;\n            response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;if user, pass null&quot;);\n            templateEngine.process(path, ctx, response.getWriter());\n        }\n        else {\n            try {\n                user=userDAO.checkCredentials(username, password);\n                if(user==null) {\n                    invalid=true;\n                    session.invalidate();\n                    ctx.setVariable(&quot;invalid&quot;, invalid);\n                    path=&quot;/WEB-INF/LoginPage.html&quot;;\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;if no user&quot;);\n                    templateEngine.process(path, ctx, response.getWriter());\n\n                }else {\n                    session.setAttribute(&quot;user&quot;, user);\n                    String ctxpath = getServletContext().getContextPath();\n                    path = ctxpath + &quot;/goToPlaylistPage&quot;;\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;indirizzo verso la pagina GoToPlaylist&quot;);\n                    response.sendRedirect(path);\n                    return;\n                }\n            }catch(SQLException e) {\n                response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Database Acess Failed1&quot;);\n                return;\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>GetPlaylist.java</p>\n<pre><code>/**\n * Servlet implementation class GetPlaylist\n */\n@WebServlet(&quot;/getPlaylist&quot;)\npublic class GetPlaylist extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private Connection connection=null;\n    private TemplateEngine templateEngine;\n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public GetPlaylist() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n    \n    public void init() throws ServletException {\n        try {\n            ServletContext context = getServletContext();\n            String driver = context.getInitParameter(&quot;dbDriver&quot;);\n            String url = context.getInitParameter(&quot;dbUrl&quot;);\n            String user = context.getInitParameter(&quot;dbUser&quot;);\n            String password = context.getInitParameter(&quot;dbPassword&quot;);\n            Class.forName(driver);\n            connection = DriverManager.getConnection(url, user, password);\n\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n            throw new UnavailableException(&quot;Can't load database driver&quot;);\n        } catch (SQLException e) {\n            e.printStackTrace();\n            throw new UnavailableException(&quot;Couldn't get db connection&quot;);\n        }\n\n        ServletContext servletContext = getServletContext();\n        ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(servletContext);\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        this.templateEngine = new TemplateEngine();\n        this.templateEngine.setTemplateResolver(templateResolver);\n        templateResolver.setSuffix(&quot;.html&quot;);\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        List&lt;Playlist&gt; playlists = null;\n        PlaylistDAO pdao = new PlaylistDAO(connection);\n        HttpSession session = request.getSession(true);\n        String path=&quot;/WEB-INF/Home.html&quot;;\n        ServletContext servletContext = getServletContext();\n        final WebContext ctx = new WebContext(request, response, servletContext, request.getLocale());\n        try {\n        playlists = pdao.getPlaylists((User)session.getAttribute(&quot;user&quot;));\n        ctx.setVariable(&quot;ownerPlaylists&quot;, playlists);\n        templateEngine.process(path, ctx, response.getWriter());\n        }catch(SQLException e) {\n            response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Database Acess Failed3&quot;);\n            return;\n        }\n        \n    }\n\n    \n\n}\n</code></pre>\n<p>PlaylistDAO.java</p>\n<pre><code>public class PlaylistDAO {\n    private Connection connection;\n    \n    public PlaylistDAO() {\n        super();\n    }\n    \n    public PlaylistDAO(Connection con) {\n        this.connection = con;\n    }\n    \n    public List&lt;Playlist&gt; getPlaylists(User user)throws SQLException{\n        List&lt;Playlist&gt; p = new ArrayList&lt;Playlist&gt;();\n        String query = &quot;SELECT * FROM playlist WHERE Creator = ?&quot;;\n        ResultSet result = null;\n        PreparedStatement pstatement = null;\n        \n        try {\n            pstatement = connection.prepareStatement(query);\n            pstatement.setString(1, user.getUsername());\n            result=pstatement.executeQuery();\n            while(result.next()) {\n                Playlist pl = new Playlist();\n                pl.setId(result.getInt(&quot;ID&quot;));\n                pl.setOwner(result.getString(&quot;Creator&quot;));\n                pl.setTitle(result.getString(&quot;Title&quot;));\n                pl.setDate(result.getString(&quot;Date&quot;));\n                p.add(pl);\n            }\n        }\n        catch (SQLException e) {\n            e.printStackTrace();\n            throw new SQLException(e);\n\n        } finally {\n            try {\n                result.close();\n            } catch (Exception e1) {\n                throw new SQLException(e1);\n            }\n            try {\n                pstatement.close();\n            } catch (Exception e2) {\n                throw new SQLException(e2);\n            }\n        }       \n        return p;\n    }\n}\n</code></pre>\n<p>UserDAO.java</p>\n<pre><code>public class UserDAO {\n    private Connection connection;\n\n    public UserDAO() {\n        super();\n    }\n\n    public UserDAO(Connection con) {\n        this.connection = con;\n    }\n    \n    public User checkCredentials(String u, String p)throws SQLException {\n        User user = null;\n        String query = &quot;SELECT * FROM user WHERE username = ? and password = ?&quot;;\n        ResultSet result = null;\n        PreparedStatement pstatement = null;\n        \n        try {\n            pstatement = connection.prepareStatement(query);\n            pstatement.setString(1, u);\n            pstatement.setString(2, p);\n            result=pstatement.executeQuery();\n            while(result.next()) {\n                user= new User();\n                user.setUsername(result.getString(&quot;username&quot;));\n            }\n        }\n        catch (SQLException e) {\n            e.printStackTrace();\n            throw new SQLException(e);\n\n        } finally {\n            try {\n                result.close();\n            } catch (Exception e1) {\n                throw new SQLException(e1);\n            }\n            try {\n                pstatement.close();\n            } catch (Exception e2) {\n                throw new SQLException(e2);\n            }\n        }       \n        return user;\n    }\n    \n    public boolean existingUsername(String u)throws SQLException {\n        String query = &quot;SELECT * FROM user WHERE username = ?&quot;;\n        ResultSet result = null;\n        PreparedStatement pstatement = null;\n        \n        try {\n            pstatement = connection.prepareStatement(query);\n            pstatement.setString(1, u);\n            result=pstatement.executeQuery();\n            while(result.next()) {\n                return true;\n            }\n            return false;\n        }\n        catch (SQLException e) {\n            e.printStackTrace();\n            throw new SQLException(e);\n\n        } finally {\n            try {\n                result.close();\n            } catch (Exception e1) {\n                throw new SQLException(e1);\n            }\n            try {\n                pstatement.close();\n            } catch (Exception e2) {\n                throw new SQLException(e2);\n            }\n        }       \n    }\n    \n    public User registerNewUser(String u, String p) throws SQLException{\n        String query = &quot;INSERT INTO user (Username, Password) VALUES ('?','?')&quot;;\n        int n;\n        User user = new User();\n        connection.setAutoCommit(false);\n        PreparedStatement pstatement = null;\n        try {\n            pstatement = connection.prepareStatement(query);\n            pstatement.setString(1, u);\n            pstatement.setString(2, p);\n            n=pstatement.executeUpdate();\n            connection.commit();\n            connection.setAutoCommit(true);\n            if(n==1) {\n                user.setUsername(u);\n                return user;\n            }\n            else return null;\n            \n        }\n        catch (SQLException e) {\n            connection.rollback();\n            e.printStackTrace();\n            throw new SQLException(e);\n\n        } finally {\n            try {\n                pstatement.close();\n            } catch (Exception e2) {\n                throw new SQLException(e2);\n            }\n        }       \n    }\n}\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n    version=&quot;4.0&quot;&gt;\n    &lt;display-name&gt;TIW_Bom&lt;/display-name&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;dbUrl&lt;/param-name&gt;\n        &lt;param-value&gt;jdbc:mysql://localhost:3306/tiw_project_playlist?serverTimezone=UTC&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;dbUser&lt;/param-name&gt;\n        &lt;param-value&gt;root&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;dbPassword&lt;/param-name&gt;\n        &lt;param-value&gt;rootPassword&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;dbDriver&lt;/param-name&gt;\n        &lt;param-value&gt;com.mysql.cj.jdbc.Driver&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;GoToPlaylistPage&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","netty","apache-nifi","netty-socketio"],"comments":[{"owner":{"account_id":15508885,"reputation":1854,"user_id":11188210,"display_name":"Phaelax z"},"score":0,"creation_date":1679333165,"post_id":75769450,"comment_id":133699434,"body_markdown":"What&#39;s your queue limit and is it filled up when you start seeing the error?  Can you adjust the timeout for that process and see if you get fewer (or none) errors? I mean it almost feels like some sort of race condition, but that shouldn&#39;t really happen..","body":"What&#39;s your queue limit and is it filled up when you start seeing the error?  Can you adjust the timeout for that process and see if you get fewer (or none) errors? I mean it almost feels like some sort of race condition, but that shouldn&#39;t really happen.."},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1679333297,"post_id":75769450,"comment_id":133699488,"body_markdown":"What do you mean in queue limit? I don&#39;t have such. It feels like so, yes.. but timeout is 5 seconds as you can see in the screenshot, which must be quite enough for such a race.","body":"What do you mean in queue limit? I don&#39;t have such. It feels like so, yes.. but timeout is 5 seconds as you can see in the screenshot, which must be quite enough for such a race."},{"owner":{"account_id":15508885,"reputation":1854,"user_id":11188210,"display_name":"Phaelax z"},"score":0,"creation_date":1679333371,"post_id":75769450,"comment_id":133699515,"body_markdown":"I might be thinking of a global setting, can&#39;t remember exactly. But I&#39;m pretty sure there was a limit on how many flows can sit in a queue. But the default is quite high so I was only curious.","body":"I might be thinking of a global setting, can&#39;t remember exactly. But I&#39;m pretty sure there was a limit on how many flows can sit in a queue. But the default is quite high so I was only curious."},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1679333457,"post_id":75769450,"comment_id":133699540,"body_markdown":"Even if we&#39;ve cleared that queue (just stopped processor and redirected the connection/relation somewhere else), this still (not piling up, but the `Channel unregistered...` exception) happens every since in a while.","body":"Even if we&#39;ve cleared that queue (just stopped processor and redirected the connection/relation somewhere else), this still (not piling up, but the <code>Channel unregistered...</code> exception) happens every since in a while."},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1679390100,"post_id":75769450,"comment_id":133708710,"body_markdown":"@Phaelaxz it&#39;s 10 000.. so, it&#39;s not a problem.","body":"@Phaelaxz it&#39;s 10 000.. so, it&#39;s not a problem."},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1679572700,"post_id":75769450,"comment_id":133747341,"body_markdown":"And what&#39;s the closing vote reason?","body":"And what&#39;s the closing vote reason?"},{"owner":{"account_id":15508885,"reputation":1854,"user_id":11188210,"display_name":"Phaelax z"},"score":0,"creation_date":1679586450,"post_id":75769450,"comment_id":133751571,"body_markdown":"Not sure who voted to close it, not me. But I&#39;m afraid I can&#39;t help any further in your case. There&#39;s still many aspects of nifi I&#39;m still learning myself.","body":"Not sure who voted to close it, not me. But I&#39;m afraid I can&#39;t help any further in your case. There&#39;s still many aspects of nifi I&#39;m still learning myself."},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1679593124,"post_id":75769450,"comment_id":133753463,"body_markdown":"@Phaelaxz thanks, I didn&#39;t even suspect it was you.. otherwise, why would you have got involved into discussion at all.","body":"@Phaelaxz thanks, I didn&#39;t even suspect it was you.. otherwise, why would you have got involved into discussion at all."}],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682676760,"creation_date":1679067100,"question_id":75769450,"body_markdown":"I have a very unclear and difficult to understand problem. In the NiFi flow, certain processors use services:\r\n- `DistributedMapCacheClientService` (v. 1.20.0)\r\n- `DistributedMapCacheServer` (v. 1.20.0)\r\n\r\nand `DistributedMapCacheClientService` connects to `DistributedMapCacheServer`.\r\n\r\nFor some reason, we sometimes get:\r\n\r\n```none\r\njava.io.IOException: Request invocation failed\r\n\tat org.apache.nifi.distributed.cache.client.CacheClientRequestHandler.invoke(CacheClientRequestHandler.java:103)\r\n\tat org.apache.nifi.distributed.cache.client.MyDistributedCacheClient.invoke(DistributedCacheClient.java:69)\r\n\tat org.apache.nifi.distributed.cache.client.NettyDistributedMapCacheClient.getAndPutIfAbsent(NettyDistributedMapCacheClient.java:140)\r\n\tat org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService.getAndPutIfAbsent(DistributedMapCacheClientService.java:154)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor471.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.nifi.controller.service.StandardControllerServiceInvocationHandler.invoke(StandardControllerServiceInvocationHandler.java:254)\r\n\tat org.apache.nifi.controller.service.StandardControllerServiceInvocationHandler.invoke(StandardControllerServiceInvocationHandler.java:105)\r\n\tat com.sun.proxy.$Proxy175.getAndPutIfAbsent(Unknown Source)\r\n\tat org.apache.nifi.processors.standard.DetectDuplicate.onTrigger(DetectDuplicate.java:184)\r\n\tat org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\r\n\tat org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1357)\r\n\tat org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:246)\r\n\tat org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:102)\r\n\tat org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.io.IOException: Channel unregistered before processing completed: [id: 0x7288e0ed, L:0.0.0.0/0.0.0.0:38868]\r\n\tat org.apache.nifi.distributed.cache.client.CacheClientRequestHandler.channelUnregistered(CacheClientRequestHandler.java:70)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:219)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:195)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelUnregistered(AbstractChannelHandlerContext.java:188)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelUnregistered(DefaultChannelPipeline.java:1388)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:215)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:195)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelUnregistered(DefaultChannelPipeline.java:821)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:821)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t... 1 more\r\n```\r\n\r\nThis is the configuration of `DistributedMapCacheClientService`:\r\n![](https://i.stack.imgur.com/GPA4Z.png)\r\nHost name and port are all well configured.\r\n\r\nI have examined all the log files, but I&#39;m unable to find the root cause of this problem.\r\n\r\nWe have been debugging the project by connecting from the NiFi source to the remote JVM (i.e. NiFi running instance). We&#39;ve managed to find out, that `handShakeHandler`, from the source below (`CacheClientRequestHandler`), occasionally happens to be `null`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhy `handShakeHandler` can be `null` and in what circumstances?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BvgfT.png","title":"Channel unregistered before processing completed","body":"<p>I have a very unclear and difficult to understand problem. In the NiFi flow, certain processors use services:</p>\n<ul>\n<li><code>DistributedMapCacheClientService</code> (v. 1.20.0)</li>\n<li><code>DistributedMapCacheServer</code> (v. 1.20.0)</li>\n</ul>\n<p>and <code>DistributedMapCacheClientService</code> connects to <code>DistributedMapCacheServer</code>.</p>\n<p>For some reason, we sometimes get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.io.IOException: Request invocation failed\n    at org.apache.nifi.distributed.cache.client.CacheClientRequestHandler.invoke(CacheClientRequestHandler.java:103)\n    at org.apache.nifi.distributed.cache.client.MyDistributedCacheClient.invoke(DistributedCacheClient.java:69)\n    at org.apache.nifi.distributed.cache.client.NettyDistributedMapCacheClient.getAndPutIfAbsent(NettyDistributedMapCacheClient.java:140)\n    at org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService.getAndPutIfAbsent(DistributedMapCacheClientService.java:154)\n    at jdk.internal.reflect.GeneratedMethodAccessor471.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.nifi.controller.service.StandardControllerServiceInvocationHandler.invoke(StandardControllerServiceInvocationHandler.java:254)\n    at org.apache.nifi.controller.service.StandardControllerServiceInvocationHandler.invoke(StandardControllerServiceInvocationHandler.java:105)\n    at com.sun.proxy.$Proxy175.getAndPutIfAbsent(Unknown Source)\n    at org.apache.nifi.processors.standard.DetectDuplicate.onTrigger(DetectDuplicate.java:184)\n    at org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\n    at org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1357)\n    at org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:246)\n    at org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:102)\n    at org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.io.IOException: Channel unregistered before processing completed: [id: 0x7288e0ed, L:0.0.0.0/0.0.0.0:38868]\n    at org.apache.nifi.distributed.cache.client.CacheClientRequestHandler.channelUnregistered(CacheClientRequestHandler.java:70)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:219)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:195)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelUnregistered(AbstractChannelHandlerContext.java:188)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelUnregistered(DefaultChannelPipeline.java:1388)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:215)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:195)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelUnregistered(DefaultChannelPipeline.java:821)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:821)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    ... 1 more\n</code></pre>\n<p>This is the configuration of <code>DistributedMapCacheClientService</code>:\n<img src=\"https://i.stack.imgur.com/GPA4Z.png\" alt=\"\" />\nHost name and port are all well configured.</p>\n<p>I have examined all the log files, but I'm unable to find the root cause of this problem.</p>\n<p>We have been debugging the project by connecting from the NiFi source to the remote JVM (i.e. NiFi running instance). We've managed to find out, that <code>handShakeHandler</code>, from the source below (<code>CacheClientRequestHandler</code>), occasionally happens to be <code>null</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/BvgfT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BvgfT.png\" alt=\"enter image description here\" /></a></p>\n<p>Why <code>handShakeHandler</code> can be <code>null</code> and in what circumstances?</p>\n"},{"tags":["java","list","collections","iterator","reverse"],"comments":[{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":1,"creation_date":1287431428,"post_id":3962766,"comment_id":4236153,"body_markdown":"Can you build the list in the reverse order to begin with?","body":"Can you build the list in the reverse order to begin with?"},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1287431982,"post_id":3962766,"comment_id":4236259,"body_markdown":"Yes it does - java.uitl.List.listIterator(int) http://download.oracle.com/javase/6/docs/api/java/util/List.html#listIterator%28int%29","body":"Yes it does - java.uitl.List.listIterator(int) <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#listIterator%28int%29\" rel=\"nofollow noreferrer\">download.oracle.com/javase/6/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"score":1,"creation_date":1537593887,"post_id":3962766,"comment_id":91850449,"body_markdown":"If you visit this link to find the answer how to reverse(modify) the list, this is the answer: `Collections.reverse(list)`","body":"If you visit this link to find the answer how to reverse(modify) the list, this is the answer: <code>Collections.reverse(list)</code>"},{"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":1,"creation_date":1682676493,"post_id":3962766,"comment_id":134256659,"body_markdown":"`List.reverse()` is available since [Java 21](https://openjdk.org/jeps/431).","body":"<code>List.reverse()</code> is available since <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">Java 21</a>."}],"answers":[{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":17,"up_vote_count":251,"is_accepted":true,"score":234,"last_activity_date":1467051580,"creation_date":1287431406,"answer_id":3962803,"question_id":3962766,"body_markdown":"[Guava][1] provides this: [Lists.reverse(List)][2]\r\n\r\n    List&lt;String&gt; letters = ImmutableList.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    List&lt;String&gt; reverseView = Lists.reverse(letters); \r\n    System.out.println(reverseView); // [c, b, a]\r\n\r\nUnlike `Collections.reverse`, this is purely a _view_... it doesn&#39;t alter the ordering of elements in the original list. Additionally, with an original list that is modifiable, changes to both the original list and the view are reflected in the other.\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Lists.html#reverse%28java.util.List%29","title":"How to get a reversed list view on a list in Java?","body":"<p><a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> provides this: <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Lists.html#reverse%28java.util.List%29\" rel=\"noreferrer\">Lists.reverse(List)</a></p>\n\n<pre><code>List&lt;String&gt; letters = ImmutableList.of(\"a\", \"b\", \"c\");\nList&lt;String&gt; reverseView = Lists.reverse(letters); \nSystem.out.println(reverseView); // [c, b, a]\n</code></pre>\n\n<p>Unlike <code>Collections.reverse</code>, this is purely a <em>view</em>... it doesn't alter the ordering of elements in the original list. Additionally, with an original list that is modifiable, changes to both the original list and the view are reflected in the other.</p>\n"},{"tags":[],"owner":{"account_id":47625,"reputation":797,"user_id":141179,"display_name":"kkress"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1647552881,"creation_date":1287431465,"answer_id":3962811,"question_id":3962766,"body_markdown":"Its not exactly elegant, but if you use List.listIterator(int index) you can get a bi-directional ListIterator to the end of the list:  \r\n\r\n    //Assume List&lt;String&gt; foo;\r\n    ListIterator li = foo.listIterator(foo.size());\r\n    \r\n    while (li.hasPrevious()) {\r\n       String curr = li.previous();\r\n    }","title":"How to get a reversed list view on a list in Java?","body":"<p>Its not exactly elegant, but if you use List.listIterator(int index) you can get a bi-directional ListIterator to the end of the list:</p>\n<pre><code>//Assume List&lt;String&gt; foo;\nListIterator li = foo.listIterator(foo.size());\n\nwhile (li.hasPrevious()) {\n   String curr = li.previous();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1287431784,"creation_date":1287431784,"answer_id":3962851,"question_id":3962766,"body_markdown":"`java.util.Deque` has `descendingIterator()` - if your `List` is a `Deque`, you can use that.","title":"How to get a reversed list view on a list in Java?","body":"<p><code>java.util.Deque</code> has <code>descendingIterator()</code> - if your <code>List</code> is a <code>Deque</code>, you can use that.</p>\n"},{"tags":[],"owner":{"account_id":177464,"reputation":3638,"user_id":408815,"display_name":"jcalvert"},"down_vote_count":19,"up_vote_count":260,"is_accepted":false,"score":241,"last_activity_date":1459792509,"creation_date":1287433505,"answer_id":3963075,"question_id":3962766,"body_markdown":"Use the .clone() method on your List. It will return a shallow copy, meaning that it will contain pointers to the same objects, so you won&#39;t have to copy the list. Then just use Collections. \r\n\r\nErgo, \r\n\r\n    Collections.reverse(list.clone());\r\n\r\nIf you are using a `List` and don&#39;t have access to `clone()` you can use [`subList()`][1]:\r\n \r\n    List&lt;?&gt; shallowCopy = list.subList(0, list.size());\r\n    Collections.reverse(shallowCopy);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-","title":"How to get a reversed list view on a list in Java?","body":"<p>Use the .clone() method on your List. It will return a shallow copy, meaning that it will contain pointers to the same objects, so you won't have to copy the list. Then just use Collections. </p>\n\n<p>Ergo, </p>\n\n<pre><code>Collections.reverse(list.clone());\n</code></pre>\n\n<p>If you are using a <code>List</code> and don't have access to <code>clone()</code> you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-\" rel=\"noreferrer\"><code>subList()</code></a>:</p>\n\n<pre><code>List&lt;?&gt; shallowCopy = list.subList(0, list.size());\nCollections.reverse(shallowCopy);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1191973,"reputation":121,"user_id":1164526,"accept_rate":100,"display_name":"CocheLee"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1335531115,"creation_date":1335529660,"answer_id":10350598,"question_id":3962766,"body_markdown":"I know this is an old post but today I was looking for something like this. In the end I wrote the code myself:\r\n\r\n    private List reverseList(List myList) {\r\n\t\tList invertedList = new ArrayList();\r\n\t\tfor (int i = myList.size() - 1; i &gt;= 0; i--) {\r\n\t\t\tinvertedList.add(myList.get(i));\r\n\t\t}\r\n\t\treturn invertedList;\r\n\t}\r\n\r\nNot recommended for long Lists, this is not optimized at all. It&#39;s kind of an easy solution for controlled scenarios (the Lists I handle have no more than 100 elements).\r\n\r\nHope it helps somebody.","title":"How to get a reversed list view on a list in Java?","body":"<p>I know this is an old post but today I was looking for something like this. In the end I wrote the code myself:</p>\n\n<pre><code>private List reverseList(List myList) {\n    List invertedList = new ArrayList();\n    for (int i = myList.size() - 1; i &gt;= 0; i--) {\n        invertedList.add(myList.get(i));\n    }\n    return invertedList;\n}\n</code></pre>\n\n<p>Not recommended for long Lists, this is not optimized at all. It's kind of an easy solution for controlled scenarios (the Lists I handle have no more than 100 elements).</p>\n\n<p>Hope it helps somebody.</p>\n"},{"tags":[],"owner":{"account_id":2246877,"reputation":23,"user_id":1980035,"display_name":"jhdrosos"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1358249256,"creation_date":1358247750,"answer_id":14336309,"question_id":3962766,"body_markdown":"You can also do this: \r\n\r\n    static ArrayList&lt;String&gt; reverseReturn(ArrayList&lt;String&gt; alist)\r\n    {\r\n       if(alist==null || alist.isEmpty())\r\n       { \r\n           return null;\r\n       }\r\n\r\n       ArrayList&lt;String&gt; rlist = new ArrayList&lt;&gt;(alist);\r\n\r\n       Collections.reverse(rlist);\r\n       return rlist;\r\n    }\r\n\r\n","title":"How to get a reversed list view on a list in Java?","body":"<p>You can also do this: </p>\n\n<pre><code>static ArrayList&lt;String&gt; reverseReturn(ArrayList&lt;String&gt; alist)\n{\n   if(alist==null || alist.isEmpty())\n   { \n       return null;\n   }\n\n   ArrayList&lt;String&gt; rlist = new ArrayList&lt;&gt;(alist);\n\n   Collections.reverse(rlist);\n   return rlist;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2067095,"reputation":6226,"user_id":1842414,"accept_rate":65,"display_name":"Shakeeb Ayaz"},"down_vote_count":19,"up_vote_count":100,"is_accepted":false,"score":81,"last_activity_date":1388992870,"creation_date":1388989079,"answer_id":20944168,"question_id":3962766,"body_markdown":"If i have understood correct then it is one line of code .It worked for me .\r\n\r\n     Collections.reverse(yourList);","title":"How to get a reversed list view on a list in Java?","body":"<p>If i have understood correct then it is one line of code .It worked for me .</p>\n\n<pre><code> Collections.reverse(yourList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":438783,"reputation":6771,"user_id":827280,"accept_rate":93,"display_name":"Museful"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1444760100,"creation_date":1444760100,"answer_id":33109770,"question_id":3962766,"body_markdown":"I use this:\r\n\r\n    public class ReversedView&lt;E&gt; extends AbstractList&lt;E&gt;{\r\n\r\n        public static &lt;E&gt; List&lt;E&gt; of(List&lt;E&gt; list) {\r\n            return new ReversedView&lt;&gt;(list);\r\n        }\r\n\r\n        private final List&lt;E&gt; backingList;\r\n\r\n        private ReversedView(List&lt;E&gt; backingList){\r\n            this.backingList = backingList;\r\n        }\r\n\r\n        @Override\r\n        public E get(int i) {\r\n            return backingList.get(backingList.size()-i-1);\r\n        }\r\n\r\n        @Override\r\n        public int size() {\r\n            return backingList.size();\r\n        }\r\n\r\n    }\r\n\r\nlike this:\r\n\r\n    ReversedView.of(backingList) // is a fully-fledged generic (but read-only) list","title":"How to get a reversed list view on a list in Java?","body":"<p>I use this:</p>\n\n<pre><code>public class ReversedView&lt;E&gt; extends AbstractList&lt;E&gt;{\n\n    public static &lt;E&gt; List&lt;E&gt; of(List&lt;E&gt; list) {\n        return new ReversedView&lt;&gt;(list);\n    }\n\n    private final List&lt;E&gt; backingList;\n\n    private ReversedView(List&lt;E&gt; backingList){\n        this.backingList = backingList;\n    }\n\n    @Override\n    public E get(int i) {\n        return backingList.get(backingList.size()-i-1);\n    }\n\n    @Override\n    public int size() {\n        return backingList.size();\n    }\n\n}\n</code></pre>\n\n<p>like this:</p>\n\n<pre><code>ReversedView.of(backingList) // is a fully-fledged generic (but read-only) list\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1703654,"reputation":2068,"user_id":1563174,"display_name":"Krishna Kumar Chourasiya"},"down_vote_count":16,"up_vote_count":22,"is_accepted":false,"score":6,"last_activity_date":1526466030,"creation_date":1470451588,"answer_id":38800084,"question_id":3962766,"body_markdown":"Collections.reverse(nums) ... It actually reverse the order of the elements. \r\nBelow code should be much appreciated -\r\n\r\n    List&lt;Integer&gt; nums = new ArrayList&lt;Integer&gt;();\r\n    nums.add(61);\r\n    nums.add(42);\r\n    nums.add(83);\r\n    nums.add(94);\r\n    nums.add(15);\r\n    //Tosort the collections uncomment the below line\r\n    //Collections.sort(nums); \r\n    \r\n    Collections.reverse(nums);\r\n    \r\n    System.out.println(nums);\r\n\r\nOutput: 15,94,83,42,61","title":"How to get a reversed list view on a list in Java?","body":"<p>Collections.reverse(nums) ... It actually reverse the order of the elements. \nBelow code should be much appreciated -</p>\n\n<pre><code>List&lt;Integer&gt; nums = new ArrayList&lt;Integer&gt;();\nnums.add(61);\nnums.add(42);\nnums.add(83);\nnums.add(94);\nnums.add(15);\n//Tosort the collections uncomment the below line\n//Collections.sort(nums); \n\nCollections.reverse(nums);\n\nSystem.out.println(nums);\n</code></pre>\n\n<p>Output: 15,94,83,42,61</p>\n"},{"tags":[],"owner":{"account_id":6011671,"reputation":2828,"user_id":4721932,"accept_rate":75,"display_name":"fede1608"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474655860,"creation_date":1474655860,"answer_id":39667502,"question_id":3962766,"body_markdown":"You can also invert the position when you request an object:\r\n\r\n    Object obj = list.get(list.size() - 1 - position);","title":"How to get a reversed list view on a list in Java?","body":"<p>You can also invert the position when you request an object:</p>\n\n<pre><code>Object obj = list.get(list.size() - 1 - position);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539871642,"creation_date":1508080693,"answer_id":46756611,"question_id":3962766,"body_markdown":"For small sized list we can create `LinkedList` and then can make use of descending iterator as:\r\n\r\n    List&lt;String&gt; stringList = new ArrayList&lt;&gt;(Arrays.asList(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;));\r\n    stringList.stream().collect(Collectors.toCollection(LinkedList::new))\r\n             .descendingIterator().\r\n             forEachRemaining(System.out::println); // Three, Two, One\r\n    System.out.println(stringList); // One, Two, Three\r\n\r\n","title":"How to get a reversed list view on a list in Java?","body":"<p>For small sized list we can create <code>LinkedList</code> and then can make use of descending iterator as:</p>\n\n<pre><code>List&lt;String&gt; stringList = new ArrayList&lt;&gt;(Arrays.asList(\"One\", \"Two\", \"Three\"));\nstringList.stream().collect(Collectors.toCollection(LinkedList::new))\n         .descendingIterator().\n         forEachRemaining(System.out::println); // Three, Two, One\nSystem.out.println(stringList); // One, Two, Three\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682676342,"creation_date":1682676342,"answer_id":76128465,"question_id":3962766,"body_markdown":"Since Java 21 there is a new interface [`SequencedCollection`][1] (which is a superinteface for `List`). It has the method [`reversed()`][2] which provides a reverse-ordered view of a collection:\r\n\r\n    jshell&gt; List.of(1, 2, 3, 4, 5).reversed()\r\n    $1 ==&gt; [5, 4, 3, 2, 1]\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/431\r\n  [2]: https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/util/SequencedCollection.html#reversed()","title":"How to get a reversed list view on a list in Java?","body":"<p>Since Java 21 there is a new interface <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a> (which is a superinteface for <code>List</code>). It has the method <a href=\"https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/util/SequencedCollection.html#reversed()\" rel=\"nofollow noreferrer\"><code>reversed()</code></a> which provides a reverse-ordered view of a collection:</p>\n<pre><code>jshell&gt; List.of(1, 2, 3, 4, 5).reversed()\n$1 ==&gt; [5, 4, 3, 2, 1]\n</code></pre>\n"}],"owner":{"account_id":45260,"reputation":66054,"user_id":133374,"accept_rate":79,"display_name":"Albert"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321774,"favorite_count":0,"down_vote_count":0,"up_vote_count":246,"accepted_answer_id":3962803,"answer_count":12,"score":246,"last_activity_date":1682676342,"creation_date":1287431127,"question_id":3962766,"body_markdown":"I want to have a reversed list view on a list (in a similar way than `List#sublist` provides a sublist view on a list). Is there some function which provides this functionality?\r\n\r\nI don&#39;t want to make any sort of copy of the list nor modify the list.\r\n\r\nIt would be enough if I could get at least a reverse iterator on a list in this case though.\r\n\r\n---\r\n\r\nAlso, I know how to implement this myself. I&#39;m just asking if Java already provides something like this.\r\n\r\nDemo implementation:\r\n\r\n    static &lt;T&gt; Iterable&lt;T&gt; iterableReverseList(final List&lt;T&gt; l) {\r\n    \treturn new Iterable&lt;T&gt;() {\r\n    \t\tpublic Iterator&lt;T&gt; iterator() {\r\n    \t\t\treturn new Iterator&lt;T&gt;() {\r\n    \t\t\t\tListIterator&lt;T&gt; listIter = l.listIterator(l.size());    \t\t\t\t\r\n\t\t\t\t\tpublic boolean hasNext() { return listIter.hasPrevious(); }\r\n\t\t\t\t\tpublic T next() { return listIter.previous(); }\r\n\t\t\t\t\tpublic void remove() { listIter.remove(); }    \t\t\t\t\r\n\t\t\t\t};\r\n    \t\t}\r\n\t\t};\r\n    }\r\n\r\n---\r\n\r\nI just have found out that some `List` implementations have `descendingIterator()` which is what I need. Though there is no general such implementation for `List`. Which is kind of strange because the implementation I have seen in `LinkedList` is general enough to work with any `List`.","title":"How to get a reversed list view on a list in Java?","body":"<p>I want to have a reversed list view on a list (in a similar way than <code>List#sublist</code> provides a sublist view on a list). Is there some function which provides this functionality?</p>\n\n<p>I don't want to make any sort of copy of the list nor modify the list.</p>\n\n<p>It would be enough if I could get at least a reverse iterator on a list in this case though.</p>\n\n<hr>\n\n<p>Also, I know how to implement this myself. I'm just asking if Java already provides something like this.</p>\n\n<p>Demo implementation:</p>\n\n<pre><code>static &lt;T&gt; Iterable&lt;T&gt; iterableReverseList(final List&lt;T&gt; l) {\n    return new Iterable&lt;T&gt;() {\n        public Iterator&lt;T&gt; iterator() {\n            return new Iterator&lt;T&gt;() {\n                ListIterator&lt;T&gt; listIter = l.listIterator(l.size());                    \n                public boolean hasNext() { return listIter.hasPrevious(); }\n                public T next() { return listIter.previous(); }\n                public void remove() { listIter.remove(); }                 \n            };\n        }\n    };\n}\n</code></pre>\n\n<hr>\n\n<p>I just have found out that some <code>List</code> implementations have <code>descendingIterator()</code> which is what I need. Though there is no general such implementation for <code>List</code>. Which is kind of strange because the implementation I have seen in <code>LinkedList</code> is general enough to work with any <code>List</code>.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682683268,"post_id":76122829,"comment_id":134258056,"body_markdown":"Please also test it in &quot;real container&quot; (not only mock environment) .. experiment!) Iin &quot;full&quot; (servlet) environment it will behave differently/better! To test against &quot;full&quot; context: replace all &quot;mockMvc&quot;, with &quot;(test)restTemplate/webclient/any other http client(tech)&quot;  preserving `@SpringBootTest` ... see https://spring.io/guides/gs/testing-web/ + below links","body":"Please also test it in &quot;real container&quot; (not only mock environment) .. experiment!) Iin &quot;full&quot; (servlet) environment it will behave differently/better! To test against &quot;full&quot; context: replace all &quot;mockMvc&quot;, with &quot;(test)restTemplate/webclient/any other http client(tech)&quot;  preserving <code>@SpringBootTest</code> ... see <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/testing-web</a> + below links"},{"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"score":0,"creation_date":1682683983,"post_id":76122829,"comment_id":134258219,"body_markdown":"I don&#39;t have tests in my current production environment :/ I am using `@RestController` since it is a Restful API and it works for now. I just don&#39;t get proper exception handling, I will look!","body":"I don&#39;t have tests in my current production environment :/ I am using <code>@RestController</code> since it is a Restful API and it works for now. I just don&#39;t get proper exception handling, I will look!"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682676238,"creation_date":1682635185,"answer_id":76125122,"question_id":76122829,"body_markdown":"Update:\r\n\r\n&gt; ..  I would like to be able to apply validation annotations on my json properties\r\n\r\nYes, we can also do that, but cannot use the &quot;ValidMediaType&quot; annotation on `SomeDto` (as a root):\r\n```\r\n// ...\r\n@PutMapping(value = &quot;/pdf/json/v2&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n  public ResponseEntity&lt;String&gt; pdf2Controller(\r\n      @Valid @RequestPart SomeDto someJson,\r\n      @Valid @ValidMediaType(MediaType.APPLICATION_PDF_VALUE) @RequestPart MultipartFile someFile) throws IOException {\r\n    System.err.println(someJson);\r\n    return new ResponseEntity&lt;&gt;(someFile.getOriginalFilename(), HttpStatus.OK);\r\n  }\r\n}\r\n\r\n@lombok.Value(staticConstructor = &quot;of&quot;)\r\nclass SomeDto {\r\n  @NotNull\r\n  String foo;\r\n  @Size(min = 3, max = 6)\r\n  String bar;\r\n}\r\n```\r\nAnd Tests ... :\r\n\r\n```\r\n@Test\r\nvoid testPdfJson2Valid() throws Exception {\r\n  final MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;,\r\n      testValidJson.getInputStream().readAllBytes());\r\n  // we need this! (so implicitely validate, but other error code)\r\n  jsonPart.getHeaders().setContentType(MediaType.APPLICATION_JSON);\r\n  mockMvc.perform(putMultipart(&quot;/validated/pdf/json/v2&quot;)\r\n      .file(mockPdf)\r\n      .part(jsonPart)) // !\r\n      .andExpectAll(status().isOk(), // !!\r\n          content().string(&quot;aha.pdf&quot;));\r\n}\r\n\r\n@Test\r\nvoid testPdfJson2ValidAlt() throws Exception {\r\n  mockMvc.perform(\r\n      putMultipart(&quot;/validated/pdf/json/v2&quot;)\r\n          .file(mockPdf)\r\n          // also\r\n          .file(validJsonFile()))\r\n      .andExpectAll(status().isOk(), // ..works !!\r\n          content().string(&quot;aha.pdf&quot;));\r\n}\r\n\r\n@Test\r\nvoid testPdfJson2unsupportedMediaType() throws Exception {\r\n  MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testValidJson.getInputStream().readAllBytes());\r\n  mockMvc.perform(\r\n      putMultipart(&quot;/validated/pdf/json/v2&quot;)\r\n          .file(mockPdf)\r\n          .part(jsonPart)) // no/wrong content type\r\n      .andExpect(status().isUnsupportedMediaType()); // !\r\n}\r\n\r\n@Test\r\nvoid testPdfJson2Invalid() throws Exception {\r\n  MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testInvalidJson.getInputStream().readAllBytes());\r\n  jsonPart.getHeaders().setContentType(MediaType.APPLICATION_JSON);\r\n  mockMvc.perform(\r\n      putMultipart(&quot;/validated/pdf/json/v2&quot;)\r\n          .file(mockPdf)\r\n          .part(jsonPart))\r\n      .andExpect(status().isBadRequest()); // !\r\n}\r\n```\r\n\r\n[all here][1]\r\n\r\nOriginal:\r\n\r\n----------\r\n\r\nI updated my [old repository][1] with your new controller:\r\n&lt;!-- language-all: lang-java --&gt;\r\n```\r\n@PutMapping(value = &quot;/pdf/{id}&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\npublic ResponseEntity&lt;String&gt; pdfController(\r\n    @PathVariable Integer id,\r\n    @Valid @ValidMediaType(MediaType.APPLICATION_PDF_VALUE) @RequestPart(&quot;custom_file&quot;) MultipartFile file) {\r\n  // just a test/demo:\r\n  return new ResponseEntity&lt;&gt;(file.getOriginalFilename(), HttpStatus.OK);\r\n}\r\n```\r\n\r\n..and Tests:\r\n```\r\n@Test\r\nvoid testPdfInvalid() throws Exception {\r\n  mockMvc.perform(\r\n      putMultipart(&quot;/validated/pdf/1&quot;)\r\n          .file(new MockMultipartFile(\r\n              &quot;custom_file&quot;,\r\n              &quot;ohoh.jpg&quot;,\r\n              MediaType.IMAGE_JPEG_VALUE, // ??\r\n              (byte[]) null)))\r\n      .andExpect(status().isBadRequest()) // !!\r\n      .andExpect(content().string(endsWith(&quot;application/pdf.\\&quot;}&quot;)));\r\n}\r\n\r\n@Test\r\nvoid testPdfValid() throws Exception {\r\n  mockMvc.perform(\r\n      putMultipart(&quot;/validated/pdf/1&quot;)\r\n          .file(new MockMultipartFile(\r\n              &quot;custom_file&quot;,\r\n              &quot;aha.pdf&quot;,\r\n              MediaType.APPLICATION_PDF_VALUE, // !\r\n              (byte[]) null)))\r\n      .andExpectAll(status().isOk(), // !!\r\n          content().string(&quot;aha.pdf&quot;)); /// !!!\r\n}\r\n```\r\n...works like charm.\r\n\r\n----------------------------------------------------------\r\n\r\nHere is, how I could handle the multipart file + json parts scenario:\r\n\r\nUpdated controller:\r\n```\r\n// 1.\r\nimport javax.servlet.http.Part;\r\n// - it has built-in handling (as method argument by spring-web(flux))\r\n// - it has &quot;content-type&quot; attribute (to validate)\r\n// - and it has input stream (to read json) \r\n// ...\r\n\r\n// normally we would get &quot;json objects&quot; in controller, now due to validation, we have to read it from the Part\r\n@Autowired ObjectMapper objectMapper;\r\n\r\n@PutMapping(value = &quot;/pdf/json&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\npublic ResponseEntity&lt;String&gt; pdf1Controller(\r\n    @Valid @ValidMediaType(MediaType.APPLICATION_JSON_VALUE) @RequestPart Part someJson,\r\n    @Valid @ValidMediaType(MediaType.APPLICATION_PDF_VALUE) @RequestPart MultipartFile someFile) throws IOException {\r\n  System.err.println(\r\n    objectMapper.readValue(someJson.getInputStream(), SomeDto.class)\r\n  );\r\n  return new ResponseEntity&lt;&gt;(someFile.getOriginalFilename(), HttpStatus.OK);\r\n}\r\n```\r\n\r\nWe need to extend/an additional Validator (which is capable of `Part` and our &quot;custom annotation&quot;):\r\n\r\n```\r\nclass MultiPartPartValidator implements ConstraintValidator&lt;ValidMediaType, Part&gt; { // ... analogous to existing\r\n```\r\n\r\nWe need to mention/enable/wire it on our annotation:\r\n```\r\n@Constraint(validatedBy = {MultiPartPartValidator.class // , ... \r\n```\r\n\r\nThe tests (hardest part:) can look like this:\r\n\r\n```\r\n@Test\r\nvoid testPdfJsonValid() throws Exception {\r\n  MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testJson.getInputStream().readAllBytes());\r\n  jsonPart.getHeaders().setContentType(MediaType.APPLICATION_JSON);\r\n  mockMvc.perform(\r\n      putMultipart(&quot;/validated/pdf/json&quot;)\r\n          .file(mockPdf)\r\n          .part(jsonPart)) // !\r\n      .andExpectAll(status().isOk(), // !!\r\n          content().string(&quot;aha.pdf&quot;));\r\n}\r\n\r\n@Test\r\nvoid testPdfJsonInvalid() throws Exception {\r\n  mockMvc.perform(\r\n      putMultipart(&quot;/validated/pdf/json&quot;)\r\n          .file(mockPdf)\r\n          .part(new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testJson.getInputStream().readAllBytes()))) // ??\r\n      .andExpect(status().isBadRequest()); // !\r\n}\r\n```\r\n\r\nLooks also good in postman:\r\n\r\n[![postman screenshot][2]][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/xerx593/soq70225979\r\n  [2]: https://i.stack.imgur.com/35bgW.png","title":"Spring: validation with @RequestPart isn&#39;t working","body":"<p>Update:</p>\n<blockquote>\n<p>..  I would like to be able to apply validation annotations on my json properties</p>\n</blockquote>\n<p>Yes, we can also do that, but cannot use the &quot;ValidMediaType&quot; annotation on <code>SomeDto</code> (as a root):</p>\n<pre><code>// ...\n@PutMapping(value = &quot;/pdf/json/v2&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n  public ResponseEntity&lt;String&gt; pdf2Controller(\n      @Valid @RequestPart SomeDto someJson,\n      @Valid @ValidMediaType(MediaType.APPLICATION_PDF_VALUE) @RequestPart MultipartFile someFile) throws IOException {\n    System.err.println(someJson);\n    return new ResponseEntity&lt;&gt;(someFile.getOriginalFilename(), HttpStatus.OK);\n  }\n}\n\n@lombok.Value(staticConstructor = &quot;of&quot;)\nclass SomeDto {\n  @NotNull\n  String foo;\n  @Size(min = 3, max = 6)\n  String bar;\n}\n</code></pre>\n<p>And Tests ... :</p>\n<pre><code>@Test\nvoid testPdfJson2Valid() throws Exception {\n  final MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;,\n      testValidJson.getInputStream().readAllBytes());\n  // we need this! (so implicitely validate, but other error code)\n  jsonPart.getHeaders().setContentType(MediaType.APPLICATION_JSON);\n  mockMvc.perform(putMultipart(&quot;/validated/pdf/json/v2&quot;)\n      .file(mockPdf)\n      .part(jsonPart)) // !\n      .andExpectAll(status().isOk(), // !!\n          content().string(&quot;aha.pdf&quot;));\n}\n\n@Test\nvoid testPdfJson2ValidAlt() throws Exception {\n  mockMvc.perform(\n      putMultipart(&quot;/validated/pdf/json/v2&quot;)\n          .file(mockPdf)\n          // also\n          .file(validJsonFile()))\n      .andExpectAll(status().isOk(), // ..works !!\n          content().string(&quot;aha.pdf&quot;));\n}\n\n@Test\nvoid testPdfJson2unsupportedMediaType() throws Exception {\n  MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testValidJson.getInputStream().readAllBytes());\n  mockMvc.perform(\n      putMultipart(&quot;/validated/pdf/json/v2&quot;)\n          .file(mockPdf)\n          .part(jsonPart)) // no/wrong content type\n      .andExpect(status().isUnsupportedMediaType()); // !\n}\n\n@Test\nvoid testPdfJson2Invalid() throws Exception {\n  MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testInvalidJson.getInputStream().readAllBytes());\n  jsonPart.getHeaders().setContentType(MediaType.APPLICATION_JSON);\n  mockMvc.perform(\n      putMultipart(&quot;/validated/pdf/json/v2&quot;)\n          .file(mockPdf)\n          .part(jsonPart))\n      .andExpect(status().isBadRequest()); // !\n}\n</code></pre>\n<p><a href=\"https://github.com/xerx593/soq70225979\" rel=\"nofollow noreferrer\">all here</a></p>\n<p>Original:</p>\n<hr />\n<p>I updated my <a href=\"https://github.com/xerx593/soq70225979\" rel=\"nofollow noreferrer\">old repository</a> with your new controller:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@PutMapping(value = &quot;/pdf/{id}&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;String&gt; pdfController(\n    @PathVariable Integer id,\n    @Valid @ValidMediaType(MediaType.APPLICATION_PDF_VALUE) @RequestPart(&quot;custom_file&quot;) MultipartFile file) {\n  // just a test/demo:\n  return new ResponseEntity&lt;&gt;(file.getOriginalFilename(), HttpStatus.OK);\n}\n</code></pre>\n<p>..and Tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testPdfInvalid() throws Exception {\n  mockMvc.perform(\n      putMultipart(&quot;/validated/pdf/1&quot;)\n          .file(new MockMultipartFile(\n              &quot;custom_file&quot;,\n              &quot;ohoh.jpg&quot;,\n              MediaType.IMAGE_JPEG_VALUE, // ??\n              (byte[]) null)))\n      .andExpect(status().isBadRequest()) // !!\n      .andExpect(content().string(endsWith(&quot;application/pdf.\\&quot;}&quot;)));\n}\n\n@Test\nvoid testPdfValid() throws Exception {\n  mockMvc.perform(\n      putMultipart(&quot;/validated/pdf/1&quot;)\n          .file(new MockMultipartFile(\n              &quot;custom_file&quot;,\n              &quot;aha.pdf&quot;,\n              MediaType.APPLICATION_PDF_VALUE, // !\n              (byte[]) null)))\n      .andExpectAll(status().isOk(), // !!\n          content().string(&quot;aha.pdf&quot;)); /// !!!\n}\n</code></pre>\n<p>...works like charm.</p>\n<hr />\n<p>Here is, how I could handle the multipart file + json parts scenario:</p>\n<p>Updated controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// 1.\nimport javax.servlet.http.Part;\n// - it has built-in handling (as method argument by spring-web(flux))\n// - it has &quot;content-type&quot; attribute (to validate)\n// - and it has input stream (to read json) \n// ...\n\n// normally we would get &quot;json objects&quot; in controller, now due to validation, we have to read it from the Part\n@Autowired ObjectMapper objectMapper;\n\n@PutMapping(value = &quot;/pdf/json&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;String&gt; pdf1Controller(\n    @Valid @ValidMediaType(MediaType.APPLICATION_JSON_VALUE) @RequestPart Part someJson,\n    @Valid @ValidMediaType(MediaType.APPLICATION_PDF_VALUE) @RequestPart MultipartFile someFile) throws IOException {\n  System.err.println(\n    objectMapper.readValue(someJson.getInputStream(), SomeDto.class)\n  );\n  return new ResponseEntity&lt;&gt;(someFile.getOriginalFilename(), HttpStatus.OK);\n}\n</code></pre>\n<p>We need to extend/an additional Validator (which is capable of <code>Part</code> and our &quot;custom annotation&quot;):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MultiPartPartValidator implements ConstraintValidator&lt;ValidMediaType, Part&gt; { // ... analogous to existing\n</code></pre>\n<p>We need to mention/enable/wire it on our annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Constraint(validatedBy = {MultiPartPartValidator.class // , ... \n</code></pre>\n<p>The tests (hardest part:) can look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testPdfJsonValid() throws Exception {\n  MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testJson.getInputStream().readAllBytes());\n  jsonPart.getHeaders().setContentType(MediaType.APPLICATION_JSON);\n  mockMvc.perform(\n      putMultipart(&quot;/validated/pdf/json&quot;)\n          .file(mockPdf)\n          .part(jsonPart)) // !\n      .andExpectAll(status().isOk(), // !!\n          content().string(&quot;aha.pdf&quot;));\n}\n\n@Test\nvoid testPdfJsonInvalid() throws Exception {\n  mockMvc.perform(\n      putMultipart(&quot;/validated/pdf/json&quot;)\n          .file(mockPdf)\n          .part(new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testJson.getInputStream().readAllBytes()))) // ??\n      .andExpect(status().isBadRequest()); // !\n}\n</code></pre>\n<p>Looks also good in postman:</p>\n<p><a href=\"https://i.stack.imgur.com/35bgW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/35bgW.png\" alt=\"postman screenshot\" /></a></p>\n"}],"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76125122,"answer_count":1,"score":1,"last_activity_date":1682676238,"creation_date":1682613763,"question_id":76122829,"body_markdown":"If I send a PNG file, the file name is returned with a HTTP 200 code. While only a PDF file should be accepted :\r\n\r\n```java\r\n@PutMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\npublic ResponseEntity&lt;String&gt; send(\r\n    @PathVariable Integer id,\r\n    @Valid @FileContentType(contentTypes = {\r\n      MediaType.APPLICATION_PDF_VALUE\r\n    }) @RequestPart(&quot;custom_file&quot;) MultipartFile file\r\n) {\r\n    return new ResponseEntity&lt;&gt;(file.getOriginalFilename(), HttpStatus.OK);\r\n}\r\n```\r\n\r\nNote that my validator works when I use it on @RequestBody...\r\n\r\nI tried to log my validator to see if it is triggered or not, but I don&#39;t even get in.\r\n\r\n**EDIT 1 (partial solution) :**\r\n\r\n`@Valid` seems to work only for complex objects. It doesn&#39;t work on @RequestParam/Part directly cause there is no binding. The easiest way is to create a class that englobe the multipart file and where there is the validation logic.\r\n\r\n**However, this does not apply to my case, because in reality I want it to work with mixed content. I send both a json body and a multipart file.**\r\n\r\nSo I can&#39;t put all my validation in the same class.\r\n","title":"Spring: validation with @RequestPart isn&#39;t working","body":"<p>If I send a PNG file, the file name is returned with a HTTP 200 code. While only a PDF file should be accepted :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PutMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;String&gt; send(\n    @PathVariable Integer id,\n    @Valid @FileContentType(contentTypes = {\n      MediaType.APPLICATION_PDF_VALUE\n    }) @RequestPart(&quot;custom_file&quot;) MultipartFile file\n) {\n    return new ResponseEntity&lt;&gt;(file.getOriginalFilename(), HttpStatus.OK);\n}\n</code></pre>\n<p>Note that my validator works when I use it on @RequestBody...</p>\n<p>I tried to log my validator to see if it is triggered or not, but I don't even get in.</p>\n<p><strong>EDIT 1 (partial solution) :</strong></p>\n<p><code>@Valid</code> seems to work only for complex objects. It doesn't work on @RequestParam/Part directly cause there is no binding. The easiest way is to create a class that englobe the multipart file and where there is the validation logic.</p>\n<p><strong>However, this does not apply to my case, because in reality I want it to work with mixed content. I send both a json body and a multipart file.</strong></p>\n<p>So I can't put all my validation in the same class.</p>\n"},{"tags":["java","linux","installation","bazel","manjaro"],"answers":[{"tags":[],"owner":{"account_id":27981666,"reputation":146,"user_id":21369318,"display_name":"Pavan Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682676238,"creation_date":1682676238,"answer_id":76128453,"question_id":73410276,"body_markdown":"From the shared log, this looks like a Java language issue.\r\nRecommended solution is to reinstall JRE. Also, can you try this with a more recent version of Bazel? JavaCompilationHelper has changed quite a bit in the last year, so an updated repro might help here.\r\nhttps://bazel.build/docs/bazel-and-java#java-versions","title":"Bazel fails to build/install under Arch/Manjaro (KDE) Linux 5.19rt returning ExceptionInInitializerError/NullPointerException","body":"<p>From the shared log, this looks like a Java language issue.\nRecommended solution is to reinstall JRE. Also, can you try this with a more recent version of Bazel? JavaCompilationHelper has changed quite a bit in the last year, so an updated repro might help here.\n<a href=\"https://bazel.build/docs/bazel-and-java#java-versions\" rel=\"nofollow noreferrer\">https://bazel.build/docs/bazel-and-java#java-versions</a></p>\n"}],"owner":{"account_id":7421894,"reputation":87,"user_id":5645885,"display_name":"Logan Rios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76128453,"answer_count":1,"score":1,"last_activity_date":1682676238,"creation_date":1660863927,"question_id":73410276,"body_markdown":"**Problem:**\r\nI&#39;m trying to install tensorflow-amd and one of the dependencies is bazel. On installation of bazel I get the following error message:\r\n\r\n    [miner-ms7a59 Downloads]# sudo pacman -S bazel\r\n    resolving dependencies...\r\n    looking for conflicting packages...\r\n    \r\n    Packages (7) jdk11-openjdk-11.0.16.1.u1-2  jre11-openjdk-11.0.16.1.u1-2  jre11-openjdk-headless-11.0.16.1.u1-2  libnet-1:1.1.6-1  unzip-6.0-19  zip-3.0-10\r\n                 bazel-5.2.0-1\r\n    \r\n    Total Installed Size:  382.41 MiB\r\n    \r\n    :: Proceed with installation? [Y/n] \r\n    (7/7) checking keys in keyring                                                                [#######################################################] 100%\r\n    (7/7) checking package integrity                                                              [#######################################################] 100%\r\n    (7/7) loading package files                                                                   [#######################################################] 100%\r\n    (7/7) checking for file conflicts                                                             [#######################################################] 100%\r\n    (7/7) checking available disk space                                                           [#######################################################] 100%\r\n    :: Processing package changes...\r\n    (1/7) installing libnet                                                                       [#######################################################] 100%\r\n    (2/7) installing jre11-openjdk-headless                                                       [#######################################################] 100%\r\n    Optional dependencies for jre11-openjdk-headless\r\n        java-rhino: for some JavaScript support\r\n    (3/7) installing jre11-openjdk                                                                [#######################################################] 100%\r\n    when you use a non-reparenting window manager,\r\n    set _JAVA_AWT_WM_NONREPARENTING=1 in /etc/profile.d/jre.sh\r\n    Optional dependencies for jre11-openjdk\r\n        alsa-lib: for basic sound support [installed]\r\n        gtk2: for the Gtk+ 2 look and feel - desktop usage [installed]\r\n        gtk3: for the Gtk+ 3 look and feel - desktop usage [installed]\r\n    (4/7) installing jdk11-openjdk                                                                [#######################################################] 100%\r\n    (5/7) installing zip                                                                          [#######################################################] 100%\r\n    (6/7) installing unzip                                                                        [#######################################################] 100%\r\n    (7/7) installing bazel                                                                        [#######################################################] 100%\r\n    :: Running post-transaction hooks...\r\n    (1/4) Arming ConditionNeedsUpdate...\r\n    (2/4) Refreshing PackageKit...\r\n    (3/4) Updating icon theme caches...\r\n    (4/4) Updating the desktop file MIME type cache...\r\n    [miner-ms7a59 Downloads]# bazel --version\r\n    bazel 5.2.0\r\n    [miner-ms7a59 Downloads]# bazel\r\n    WARNING: Invoking Bazel in batch mode since it is not invoked from within a workspace (below a directory having a WORKSPACE file).\r\n    Extracting Bazel installation...\r\n    FATAL: bazel crashed due to an internal error. Printing stack trace:\r\n    java.lang.ExceptionInInitializerError\r\n            at com.google.devtools.build.lib.skyframe.SkyframeExecutor.&lt;clinit&gt;(SkyframeExecutor.java:373)\r\n            at com.google.devtools.build.lib.skyframe.BazelSkyframeExecutorConstants.newBazelSkyframeExecutorBuilder(BazelSkyframeExecutorConstants.java:63)\r\n            at com.google.devtools.build.lib.skyframe.SequencedSkyframeExecutorFactory.create(SequencedSkyframeExecutorFactory.java:43)\r\n            at com.google.devtools.build.lib.runtime.WorkspaceBuilder.build(WorkspaceBuilder.java:73)\r\n            at com.google.devtools.build.lib.runtime.BlazeRuntime.initWorkspace(BlazeRuntime.java:265)\r\n            at com.google.devtools.build.lib.runtime.BlazeRuntime.newRuntime(BlazeRuntime.java:1316)\r\n            at com.google.devtools.build.lib.runtime.BlazeRuntime.batchMain(BlazeRuntime.java:925)\r\n            at com.google.devtools.build.lib.runtime.BlazeRuntime.main(BlazeRuntime.java:762)\r\n            at com.google.devtools.build.lib.bazel.Bazel.main(Bazel.java:87)\r\n    Caused by: java.lang.NullPointerException\r\n            at java.base/jdk.internal.platform.cgroupv2.CgroupV2Subsystem.getInstance(CgroupV2Subsystem.java:81)\r\n            at java.base/jdk.internal.platform.CgroupSubsystemFactory.create(CgroupSubsystemFactory.java:113)\r\n            at java.base/jdk.internal.platform.CgroupMetrics.getInstance(CgroupMetrics.java:167)\r\n            at java.base/jdk.internal.platform.SystemMetrics.instance(SystemMetrics.java:29)\r\n            at java.base/jdk.internal.platform.Metrics.systemMetrics(Metrics.java:58)\r\n            at java.base/jdk.internal.platform.Container.metrics(Container.java:43)\r\n            at jdk.management/com.sun.management.internal.OperatingSystemImpl.&lt;init&gt;(OperatingSystemImpl.java:182)\r\n            at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl.getOperatingSystemMXBean(PlatformMBeanProviderImpl.java:281)\r\n            at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl$3.nameToMBeanMap(PlatformMBeanProviderImpl.java:198)\r\n            at java.management/sun.management.spi.PlatformMBeanProvider$PlatformComponent.getMBeans(PlatformMBeanProvider.java:195)\r\n            at java.management/java.lang.management.ManagementFactory.getPlatformMXBean(ManagementFactory.java:686)\r\n            at java.management/java.lang.management.ManagementFactory.getOperatingSystemMXBean(ManagementFactory.java:388)\r\n            at com.google.devtools.build.lib.util.ResourceUsage.&lt;clinit&gt;(ResourceUsage.java:42)\r\n            ... 9 more\r\n    [miner-ms7a59 Downloads]# \r\nBuilding bazel with the git repository with yay didn&#39;t really help much either, since it gave the same error message in the middle of the build. A lot of other stackoverflow questions trail off into either the java version or the linux version, even though the java version I&#39;m running right now is *openjdk 11.0.16.1 2022-08-12* and I dont have any other jdk installed other than *jdk11-openjdk 11.0.16.1.u1-2, jre11-openjdk 11.0.16.1.u1-2, jre11-openjdk-headless 11.0.16.1.u1-2* (given by pacman -Q | grep jdk)","title":"Bazel fails to build/install under Arch/Manjaro (KDE) Linux 5.19rt returning ExceptionInInitializerError/NullPointerException","body":"<p><strong>Problem:</strong>\nI'm trying to install tensorflow-amd and one of the dependencies is bazel. On installation of bazel I get the following error message:</p>\n<pre><code>[miner-ms7a59 Downloads]# sudo pacman -S bazel\nresolving dependencies...\nlooking for conflicting packages...\n\nPackages (7) jdk11-openjdk-11.0.16.1.u1-2  jre11-openjdk-11.0.16.1.u1-2  jre11-openjdk-headless-11.0.16.1.u1-2  libnet-1:1.1.6-1  unzip-6.0-19  zip-3.0-10\n             bazel-5.2.0-1\n\nTotal Installed Size:  382.41 MiB\n\n:: Proceed with installation? [Y/n] \n(7/7) checking keys in keyring                                                                [#######################################################] 100%\n(7/7) checking package integrity                                                              [#######################################################] 100%\n(7/7) loading package files                                                                   [#######################################################] 100%\n(7/7) checking for file conflicts                                                             [#######################################################] 100%\n(7/7) checking available disk space                                                           [#######################################################] 100%\n:: Processing package changes...\n(1/7) installing libnet                                                                       [#######################################################] 100%\n(2/7) installing jre11-openjdk-headless                                                       [#######################################################] 100%\nOptional dependencies for jre11-openjdk-headless\n    java-rhino: for some JavaScript support\n(3/7) installing jre11-openjdk                                                                [#######################################################] 100%\nwhen you use a non-reparenting window manager,\nset _JAVA_AWT_WM_NONREPARENTING=1 in /etc/profile.d/jre.sh\nOptional dependencies for jre11-openjdk\n    alsa-lib: for basic sound support [installed]\n    gtk2: for the Gtk+ 2 look and feel - desktop usage [installed]\n    gtk3: for the Gtk+ 3 look and feel - desktop usage [installed]\n(4/7) installing jdk11-openjdk                                                                [#######################################################] 100%\n(5/7) installing zip                                                                          [#######################################################] 100%\n(6/7) installing unzip                                                                        [#######################################################] 100%\n(7/7) installing bazel                                                                        [#######################################################] 100%\n:: Running post-transaction hooks...\n(1/4) Arming ConditionNeedsUpdate...\n(2/4) Refreshing PackageKit...\n(3/4) Updating icon theme caches...\n(4/4) Updating the desktop file MIME type cache...\n[miner-ms7a59 Downloads]# bazel --version\nbazel 5.2.0\n[miner-ms7a59 Downloads]# bazel\nWARNING: Invoking Bazel in batch mode since it is not invoked from within a workspace (below a directory having a WORKSPACE file).\nExtracting Bazel installation...\nFATAL: bazel crashed due to an internal error. Printing stack trace:\njava.lang.ExceptionInInitializerError\n        at com.google.devtools.build.lib.skyframe.SkyframeExecutor.&lt;clinit&gt;(SkyframeExecutor.java:373)\n        at com.google.devtools.build.lib.skyframe.BazelSkyframeExecutorConstants.newBazelSkyframeExecutorBuilder(BazelSkyframeExecutorConstants.java:63)\n        at com.google.devtools.build.lib.skyframe.SequencedSkyframeExecutorFactory.create(SequencedSkyframeExecutorFactory.java:43)\n        at com.google.devtools.build.lib.runtime.WorkspaceBuilder.build(WorkspaceBuilder.java:73)\n        at com.google.devtools.build.lib.runtime.BlazeRuntime.initWorkspace(BlazeRuntime.java:265)\n        at com.google.devtools.build.lib.runtime.BlazeRuntime.newRuntime(BlazeRuntime.java:1316)\n        at com.google.devtools.build.lib.runtime.BlazeRuntime.batchMain(BlazeRuntime.java:925)\n        at com.google.devtools.build.lib.runtime.BlazeRuntime.main(BlazeRuntime.java:762)\n        at com.google.devtools.build.lib.bazel.Bazel.main(Bazel.java:87)\nCaused by: java.lang.NullPointerException\n        at java.base/jdk.internal.platform.cgroupv2.CgroupV2Subsystem.getInstance(CgroupV2Subsystem.java:81)\n        at java.base/jdk.internal.platform.CgroupSubsystemFactory.create(CgroupSubsystemFactory.java:113)\n        at java.base/jdk.internal.platform.CgroupMetrics.getInstance(CgroupMetrics.java:167)\n        at java.base/jdk.internal.platform.SystemMetrics.instance(SystemMetrics.java:29)\n        at java.base/jdk.internal.platform.Metrics.systemMetrics(Metrics.java:58)\n        at java.base/jdk.internal.platform.Container.metrics(Container.java:43)\n        at jdk.management/com.sun.management.internal.OperatingSystemImpl.&lt;init&gt;(OperatingSystemImpl.java:182)\n        at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl.getOperatingSystemMXBean(PlatformMBeanProviderImpl.java:281)\n        at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl$3.nameToMBeanMap(PlatformMBeanProviderImpl.java:198)\n        at java.management/sun.management.spi.PlatformMBeanProvider$PlatformComponent.getMBeans(PlatformMBeanProvider.java:195)\n        at java.management/java.lang.management.ManagementFactory.getPlatformMXBean(ManagementFactory.java:686)\n        at java.management/java.lang.management.ManagementFactory.getOperatingSystemMXBean(ManagementFactory.java:388)\n        at com.google.devtools.build.lib.util.ResourceUsage.&lt;clinit&gt;(ResourceUsage.java:42)\n        ... 9 more\n[miner-ms7a59 Downloads]# \n</code></pre>\n<p>Building bazel with the git repository with yay didn't really help much either, since it gave the same error message in the middle of the build. A lot of other stackoverflow questions trail off into either the java version or the linux version, even though the java version I'm running right now is <em>openjdk 11.0.16.1 2022-08-12</em> and I dont have any other jdk installed other than <em>jdk11-openjdk 11.0.16.1.u1-2, jre11-openjdk 11.0.16.1.u1-2, jre11-openjdk-headless 11.0.16.1.u1-2</em> (given by pacman -Q | grep jdk)</p>\n"},{"tags":["java","spring","comparison"],"owner":{"account_id":7872420,"reputation":25,"user_id":5949232,"display_name":"Manoj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682676208,"creation_date":1682676208,"question_id":76128449,"body_markdown":"I am currently having a use case to implement in JAVA, and i wanted to seek forum&#39;s suggestions if any\r\n\r\n**Problem Statement**\r\n\r\nWe want to do custom comparison between 2 values at runtime\r\n1. the first value is retrieved from DB (would always be String)\r\n2. the second value would be parsed from File (would always be String)\r\n\r\nThe values though in String, can be Integer, Date, Float, Decimal or String..which is inferred from one of the columns in DB\r\nThe condition which needs to be applied between 2 values (for e.g, &gt;=, &lt;=, &gt;, &lt;) is specified in one of the column of DB and available in String format\r\n\r\n\r\n\r\nHowever, is there a better framework to already take care of same??\r\n\r\nPossible Approach:\r\n1. To implement on our own the behavior for comparison based on DataType in java code and Condition in String. But the issue is there are lot of use cases to code and test. Also each time a new condition is added if not covered Code changes are required\r\n```\r\n\r\nimport org.apache.commons.lang3.ObjectUtils;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.NoSuchElementException;\r\n\r\npublic enum Operation {\r\n\r\n    EQUAL_DATE(&quot;EQUAL_DATE&quot;) {\r\n        @Override\r\n        public boolean apply(Object left, Object right) {\r\n            //Local\r\n            try {\r\n                LocalDate leftDate = (LocalDate) left;\r\n                LocalDate rightDate = (LocalDate) right;\r\n                return leftDate.isEqual(rightDate);\r\n            } catch (Exception e) {\r\n\r\n            }\r\n            return true;\r\n        }\r\n    },\r\n\r\n    LESS_THAN_EQUAL_DATE(&quot;LESSTHANEQUAL_DATE&quot;) {\r\n        @Override\r\n        public boolean apply(Object left, Object right) {\r\n            try {\r\n                LocalDate leftDate = (LocalDate) left;\r\n                LocalDate rightDate = (LocalDate) right;\r\n                return leftDate.isBefore(rightDate) || leftDate.isEqual(rightDate);\r\n            } catch (Exception e) {\r\n\r\n            }\r\n            return true;\r\n        }\r\n    },\r\n\r\n    GREATER_THAN_EQUAL_DATE(&quot;GREATERTHANEQUAL_DATE&quot;) {\r\n        @Override\r\n        public boolean apply(Object left, Object right) {\r\n            try {\r\n                LocalDate leftDate = (LocalDate) left;\r\n                LocalDate rightDate = (LocalDate) right;\r\n                return leftDate.isEqual(rightDate) || leftDate.isAfter(rightDate);\r\n            } catch (Exception e) {\r\n\r\n            }\r\n            return true;\r\n        }\r\n    },\r\n    /**\r\n     * for Data type agnostic checks ANY is appended\r\n     */\r\n    NOT_NULL_ANY(&quot;NOT_NULL_ANY&quot;) {\r\n        @Override\r\n        public boolean apply(Object left, Object right) {\r\n            // here right doesn&#39;t matter, ignore it, always left parameter is the data from file\r\n            return ObjectUtils.allNotNull(left);\r\n        }\r\n    };\r\n\r\n\r\n    private final String operation;\r\n    private Operation (String operation) {\r\n        this.operation = operation;\r\n    }\r\n\r\n    public static Operation parseOperator(String operator) {\r\n        for (Operation op : values()) {\r\n            if (op.operation.equals(operator)) return op;\r\n        }\r\n        throw new NoSuchElementException(String.format(&quot;Unknown operator [%s]&quot;, operator));\r\n    }\r\n    public abstract boolean apply(Object left, Object right);\r\n}\r\n\r\n```\r\n`","title":"Java Framework to validate values (Type identified at RunTime) and Condition (how to compare 2 values) at Run time","body":"<p>I am currently having a use case to implement in JAVA, and i wanted to seek forum's suggestions if any</p>\n<p><strong>Problem Statement</strong></p>\n<p>We want to do custom comparison between 2 values at runtime</p>\n<ol>\n<li>the first value is retrieved from DB (would always be String)</li>\n<li>the second value would be parsed from File (would always be String)</li>\n</ol>\n<p>The values though in String, can be Integer, Date, Float, Decimal or String..which is inferred from one of the columns in DB\nThe condition which needs to be applied between 2 values (for e.g, &gt;=, &lt;=, &gt;, &lt;) is specified in one of the column of DB and available in String format</p>\n<p>However, is there a better framework to already take care of same??</p>\n<p>Possible Approach:</p>\n<ol>\n<li>To implement on our own the behavior for comparison based on DataType in java code and Condition in String. But the issue is there are lot of use cases to code and test. Also each time a new condition is added if not covered Code changes are required</li>\n</ol>\n<pre><code>\nimport org.apache.commons.lang3.ObjectUtils;\n\nimport java.time.LocalDate;\nimport java.util.NoSuchElementException;\n\npublic enum Operation {\n\n    EQUAL_DATE(&quot;EQUAL_DATE&quot;) {\n        @Override\n        public boolean apply(Object left, Object right) {\n            //Local\n            try {\n                LocalDate leftDate = (LocalDate) left;\n                LocalDate rightDate = (LocalDate) right;\n                return leftDate.isEqual(rightDate);\n            } catch (Exception e) {\n\n            }\n            return true;\n        }\n    },\n\n    LESS_THAN_EQUAL_DATE(&quot;LESSTHANEQUAL_DATE&quot;) {\n        @Override\n        public boolean apply(Object left, Object right) {\n            try {\n                LocalDate leftDate = (LocalDate) left;\n                LocalDate rightDate = (LocalDate) right;\n                return leftDate.isBefore(rightDate) || leftDate.isEqual(rightDate);\n            } catch (Exception e) {\n\n            }\n            return true;\n        }\n    },\n\n    GREATER_THAN_EQUAL_DATE(&quot;GREATERTHANEQUAL_DATE&quot;) {\n        @Override\n        public boolean apply(Object left, Object right) {\n            try {\n                LocalDate leftDate = (LocalDate) left;\n                LocalDate rightDate = (LocalDate) right;\n                return leftDate.isEqual(rightDate) || leftDate.isAfter(rightDate);\n            } catch (Exception e) {\n\n            }\n            return true;\n        }\n    },\n    /**\n     * for Data type agnostic checks ANY is appended\n     */\n    NOT_NULL_ANY(&quot;NOT_NULL_ANY&quot;) {\n        @Override\n        public boolean apply(Object left, Object right) {\n            // here right doesn't matter, ignore it, always left parameter is the data from file\n            return ObjectUtils.allNotNull(left);\n        }\n    };\n\n\n    private final String operation;\n    private Operation (String operation) {\n        this.operation = operation;\n    }\n\n    public static Operation parseOperator(String operator) {\n        for (Operation op : values()) {\n            if (op.operation.equals(operator)) return op;\n        }\n        throw new NoSuchElementException(String.format(&quot;Unknown operator [%s]&quot;, operator));\n    }\n    public abstract boolean apply(Object left, Object right);\n}\n\n</code></pre>\n<p>`</p>\n"},{"tags":["java","maven","jenkins","maven-release-plugin"],"answers":[{"tags":[],"owner":{"account_id":205530,"reputation":622,"user_id":454335,"accept_rate":83,"display_name":"vinni_f"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1441293625,"creation_date":1441293625,"answer_id":32379650,"question_id":32319761,"body_markdown":"The best solution I found so far is to upgrage the JDK of the container in which jenkins runs and add a JAVA_OPTS to the latter to support the previous JDK version. e.g. `-Djava.version=1.7`\r\n\r\nThis way I can build and maven release projects that are java 7 or java 8.","title":"Jenkins maven release plugin with different jdk","body":"<p>The best solution I found so far is to upgrage the JDK of the container in which jenkins runs and add a JAVA_OPTS to the latter to support the previous JDK version. e.g. <code>-Djava.version=1.7</code></p>\n\n<p>This way I can build and maven release projects that are java 7 or java 8.</p>\n"},{"tags":[],"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682675260,"creation_date":1682675260,"answer_id":76128307,"question_id":32319761,"body_markdown":"A similar, but slightly different approach is to let Jenkins to have the current JVM, and install an alternate JVM on the Jenkins&#39; machine on a specific folder.\r\n\r\nThen on your project, you can define the JVM machine as a pre-step called `Inject environment variables` and set on `Properties Content`:\r\n\r\n```\r\nJAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64\r\n```\r\nThe advantage is that you do not need to modify all the old existing projects are using the previous JVM, and only on this project you are selecting a different JVM.\r\n\r\nNote that this approach is due to, despite Jenkins allowing to use multiples JDKs, they are working fine for a standard `mvn clean install` but is failing when using the &quot;Mvn Release Plugin&quot; as requested by the OP.  ","title":"Jenkins maven release plugin with different jdk","body":"<p>A similar, but slightly different approach is to let Jenkins to have the current JVM, and install an alternate JVM on the Jenkins' machine on a specific folder.</p>\n<p>Then on your project, you can define the JVM machine as a pre-step called <code>Inject environment variables</code> and set on <code>Properties Content</code>:</p>\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64\n</code></pre>\n<p>The advantage is that you do not need to modify all the old existing projects are using the previous JVM, and only on this project you are selecting a different JVM.</p>\n<p>Note that this approach is due to, despite Jenkins allowing to use multiples JDKs, they are working fine for a standard <code>mvn clean install</code> but is failing when using the &quot;Mvn Release Plugin&quot; as requested by the OP.</p>\n"}],"owner":{"account_id":205530,"reputation":622,"user_id":454335,"accept_rate":83,"display_name":"vinni_f"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32379650,"answer_count":2,"score":1,"last_activity_date":1682675260,"creation_date":1441054255,"question_id":32319761,"body_markdown":"I want to perform a maven release that compile java 1.8 code on a Jenkins install that runs on jdk 1.7\r\n\r\nI have a project that I compile with java 1.8 using the [ JDK Parameter Plugin ][1]. It works when doing a regular build.\r\n\r\nWhen I do a maven release using the maven release plugin, it forks a JVM with java 1.7 instead of the version specified on the plugin. I guess that it takes the java version in the environment.\r\n\r\nIf I set JAVA_HOME for that job to 1.8 it works.\r\n\r\nI am trying to find a solution where I don&#39;t have to override the JAVA_HOME in all my jobs.\r\n\r\nI tried to use the solution from a [similar post][2] which fixed OP problem by forcing a compiler version:\r\n\r\n    &lt;properties&gt;\r\n       &lt;jee.level&gt;1.8&lt;/jee.level&gt;\r\n       &lt;jdk.level&gt;1.8&lt;/jdk.level&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;configuration&gt;\r\n           &lt;source&gt;${jee.level}&lt;/source&gt;\r\n           &lt;target&gt;${jdk.level}&lt;/target&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nbut I end up with:\r\n\r\n     [INFO] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.3:compile (default-compile) on project redeem-commons-test: Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]\r\n\r\nany help would be appreciated.\r\n\r\n  [1]: https://wiki.jenkins-ci.org/display/JENKINS/JDK+Parameter+Plugin\r\n  [2]: https://stackoverflow.com/questions/23157231/jenkins-will-not-use-java-7-compiler","title":"Jenkins maven release plugin with different jdk","body":"<p>I want to perform a maven release that compile java 1.8 code on a Jenkins install that runs on jdk 1.7</p>\n\n<p>I have a project that I compile with java 1.8 using the <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/JDK+Parameter+Plugin\" rel=\"nofollow noreferrer\"> JDK Parameter Plugin </a>. It works when doing a regular build.</p>\n\n<p>When I do a maven release using the maven release plugin, it forks a JVM with java 1.7 instead of the version specified on the plugin. I guess that it takes the java version in the environment.</p>\n\n<p>If I set JAVA_HOME for that job to 1.8 it works.</p>\n\n<p>I am trying to find a solution where I don't have to override the JAVA_HOME in all my jobs.</p>\n\n<p>I tried to use the solution from a <a href=\"https://stackoverflow.com/questions/23157231/jenkins-will-not-use-java-7-compiler\">similar post</a> which fixed OP problem by forcing a compiler version:</p>\n\n<pre><code>&lt;properties&gt;\n   &lt;jee.level&gt;1.8&lt;/jee.level&gt;\n   &lt;jdk.level&gt;1.8&lt;/jdk.level&gt;\n&lt;/properties&gt;\n\n&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;configuration&gt;\n       &lt;source&gt;${jee.level}&lt;/source&gt;\n       &lt;target&gt;${jdk.level}&lt;/target&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>but I end up with:</p>\n\n<pre><code> [INFO] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.3:compile (default-compile) on project redeem-commons-test: Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]\n</code></pre>\n\n<p>any help would be appreciated.</p>\n"},{"tags":["java","networking","ssl","keystore","jsse"],"comments":[{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1696426441,"post_id":13173610,"comment_id":136151320,"body_markdown":"Does this answer your question? [Reloading a java.net.http.HttpClient&#39;s SSLContext](https://stackoverflow.com/questions/69506869/reloading-a-java-net-http-httpclients-sslcontext)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69506869/reloading-a-java-net-http-httpclients-sslcontext\">Reloading a java.net.http.HttpClient&#39;s SSLContext</a>"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351810592,"creation_date":1351810592,"answer_id":13186765,"question_id":13173610,"body_markdown":"You can&#39;t &#39;reload&#39; an `SSLContext`, but you can certainly create a new one. A custom `TrustManager` won&#39;t help, as it is the underlying `TrustManagerFactory` that has the connection to the keystore, not the `TrustManager`.","title":"SSLContext. Should I reload it?","body":"<p>You can't 'reload' an <code>SSLContext</code>, but you can certainly create a new one. A custom <code>TrustManager</code> won't help, as it is the underlying <code>TrustManagerFactory</code> that has the connection to the keystore, not the <code>TrustManager</code>.</p>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682674797,"creation_date":1682674797,"answer_id":76128243,"question_id":13173610,"body_markdown":"It is possible to reload the TrustManager within the SSLContext while using the existing SSLContext. See here for the answer which I posted for a similar question: https://stackoverflow.com/a/69507126/6777695 It contains the full snippet of code samples.","title":"SSLContext. Should I reload it?","body":"<p>It is possible to reload the TrustManager within the SSLContext while using the existing SSLContext. See here for the answer which I posted for a similar question: <a href=\"https://stackoverflow.com/a/69507126/6777695\">https://stackoverflow.com/a/69507126/6777695</a> It contains the full snippet of code samples.</p>\n"}],"owner":{"account_id":1136549,"reputation":18926,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1525,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682674797,"creation_date":1351759314,"question_id":13173610,"body_markdown":"I am interested in updating a truststore dynamically.  \r\nWhat would be the best option?  \r\nReload `SSLContext` or is it possible to recreate `TrustManagers`?  ","title":"SSLContext. Should I reload it?","body":"<p>I am interested in updating a truststore dynamically.<br>\nWhat would be the best option?<br>\nReload <code>SSLContext</code> or is it possible to recreate <code>TrustManagers</code>?  </p>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":6586022,"reputation":76,"user_id":5088766,"display_name":"mcarn"},"score":1,"creation_date":1675376629,"post_id":75329395,"comment_id":132921856,"body_markdown":"If you&#39;re using mac I recommend you installing java JDKs via SDKMan, it will set your default java as well. Then you shouldn&#39;t have version mismatch issues.","body":"If you&#39;re using mac I recommend you installing java JDKs via SDKMan, it will set your default java as well. Then you shouldn&#39;t have version mismatch issues."},{"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"score":1,"creation_date":1675376861,"post_id":75329395,"comment_id":132921914,"body_markdown":"for the management of different java environments I&#39;d recommend using (jenv)[https://www.jenv.be/]. Within Intellij check `File` &gt; `Project Structure...`. This setting contains the SDK. Also a restart (and/or invalidate caches) of Intellij can help","body":"for the management of different java environments I&#39;d recommend using (jenv)[<a href=\"https://www.jenv.be/]\" rel=\"nofollow noreferrer\">jenv.be/]</a>. Within Intellij check <code>File</code> &gt; <code>Project Structure...</code>. This setting contains the SDK. Also a restart (and/or invalidate caches) of Intellij can help"}],"answers":[{"tags":[],"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675411186,"creation_date":1675411186,"answer_id":75332931,"question_id":75329395,"body_markdown":"Since you are just importing the generated Spring Boot POM application, in this case, you may just [Disable](https://www.jetbrains.com/help/datagrip/managing-plugins.html)  the third-party plug-in `Spring Boot Assistant`(Settings &gt; Plugins &gt; Installed, disable it) then restart your IDEA and everything should work.\r\n\r\nIf you still want to use that plugin, make sure you are using the latest version of IDEA CE(at this time it&#39;s 2022.3.2) and install the `Spring Boot Assistant` plugin again.","title":"Can&#39;t set up Spring boot project in intelliJ (Cannot load class error)","body":"<p>Since you are just importing the generated Spring Boot POM application, in this case, you may just <a href=\"https://www.jetbrains.com/help/datagrip/managing-plugins.html\" rel=\"nofollow noreferrer\">Disable</a>  the third-party plug-in <code>Spring Boot Assistant</code>(Settings &gt; Plugins &gt; Installed, disable it) then restart your IDEA and everything should work.</p>\n<p>If you still want to use that plugin, make sure you are using the latest version of IDEA CE(at this time it's 2022.3.2) and install the <code>Spring Boot Assistant</code> plugin again.</p>\n"},{"tags":[],"owner":{"account_id":25996453,"reputation":1,"user_id":19707749,"display_name":"Gaby Banu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682674012,"creation_date":1682674012,"answer_id":76128141,"question_id":75329395,"body_markdown":"For me, it worked by just rebuilding (not build) the project.","title":"Can&#39;t set up Spring boot project in intelliJ (Cannot load class error)","body":"<p>For me, it worked by just rebuilding (not build) the project.</p>\n"}],"owner":{"account_id":17021372,"reputation":15,"user_id":12313856,"display_name":"Eren Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75332931,"answer_count":2,"score":0,"last_activity_date":1682674012,"creation_date":1675375278,"question_id":75329395,"body_markdown":"I installed maven on my MacOs device. Then I watched this tutorial on how to create a new Spring Boot project on intelliJ. https://www.youtube.com/watch?v=YDRNMAJo0MA\r\nWhen I press build project I get an error. This is the error I get:\r\n\r\n```\r\njava.util.concurrent.ExecutionException: com.intellij.diagnostic.PluginException: Cannot load class dev.flikas.spring.boot.assistant.idea.plugin.suggestion.filetype.YamlPropertiesFileType (\r\n  error: dev/flikas/spring/boot/assistant/idea/plugin/suggestion/filetype/YamlPropertiesFileType has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0,\r\n  classLoader=PluginClassLoader(plugin=PluginDescriptor(name=Spring Boot Assistant, id=dev.flikas.idea.spring.boot.assistant.plugin, descriptorPath=plugin.xml, path=~/Library/Application Support/JetBrains/IdeaIC2021.2/plugins/idea-spring-boot-assistant, version=0.17.2, package=null), packagePrefix=null, instanceId=67, state=active)\r\n)\r\n```\r\n\r\n\r\nAbove it says that this version of Java runtime only recognises class file versions up to 55.0 which is java 11. I created this Spring project firstly as java 17 project because on my macOs I have java 17 installed(I also have 11.0.12). Then in the pom.xml file I changed it to 11.0.12. Also on my project structure I changed it to JDK 11. \r\n\r\nI also tried changing my default jdk version on my macOs with this tutorial https://medium.com/@devkosal/switching-java-jdk-versions-on-macos-80bc868e686a \r\nWhen I use this line export JAVA_HOME=`/usr/libexec/java_home -v 11.0.12` and then write java -version it says that my jdk is java 11.0.12 but when I reset terminal and write java -version again it says that it&#39;s jdk 17. I also wrote\r\n export JAVA_HOME=`/usr/libexec/java_home -v 11.0.12` in my bash profile.\r\n\r\nI don&#39;t know what I have to do. \r\n\r\n","title":"Can&#39;t set up Spring boot project in intelliJ (Cannot load class error)","body":"<p>I installed maven on my MacOs device. Then I watched this tutorial on how to create a new Spring Boot project on intelliJ. <a href=\"https://www.youtube.com/watch?v=YDRNMAJo0MA\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=YDRNMAJo0MA</a>\nWhen I press build project I get an error. This is the error I get:</p>\n<pre><code>java.util.concurrent.ExecutionException: com.intellij.diagnostic.PluginException: Cannot load class dev.flikas.spring.boot.assistant.idea.plugin.suggestion.filetype.YamlPropertiesFileType (\n  error: dev/flikas/spring/boot/assistant/idea/plugin/suggestion/filetype/YamlPropertiesFileType has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0,\n  classLoader=PluginClassLoader(plugin=PluginDescriptor(name=Spring Boot Assistant, id=dev.flikas.idea.spring.boot.assistant.plugin, descriptorPath=plugin.xml, path=~/Library/Application Support/JetBrains/IdeaIC2021.2/plugins/idea-spring-boot-assistant, version=0.17.2, package=null), packagePrefix=null, instanceId=67, state=active)\n)\n</code></pre>\n<p>Above it says that this version of Java runtime only recognises class file versions up to 55.0 which is java 11. I created this Spring project firstly as java 17 project because on my macOs I have java 17 installed(I also have 11.0.12). Then in the pom.xml file I changed it to 11.0.12. Also on my project structure I changed it to JDK 11.</p>\n<p>I also tried changing my default jdk version on my macOs with this tutorial <a href=\"https://medium.com/@devkosal/switching-java-jdk-versions-on-macos-80bc868e686a\" rel=\"nofollow noreferrer\">https://medium.com/@devkosal/switching-java-jdk-versions-on-macos-80bc868e686a</a>\nWhen I use this line export JAVA_HOME=<code>/usr/libexec/java_home -v 11.0.12</code> and then write java -version it says that my jdk is java 11.0.12 but when I reset terminal and write java -version again it says that it's jdk 17. I also wrote\nexport JAVA_HOME=<code>/usr/libexec/java_home -v 11.0.12</code> in my bash profile.</p>\n<p>I don't know what I have to do.</p>\n"},{"tags":["java","database","hibernate"],"answers":[{"tags":[],"owner":{"account_id":6670441,"reputation":446,"user_id":5146699,"display_name":"Naveen Goyal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682673361,"creation_date":1682673361,"answer_id":76128063,"question_id":76127984,"body_markdown":"The java.io.NotSerializableException error is typically thrown in Spark when attempting to serialize an object that is not serializable. In your case, it looks like you are trying to convert a Spark ArrayType to a Java List&lt;String&gt;, which is not a serializable operation.\r\n\r\nTo resolve this issue, you can try converting the ArrayType to a serializable format before converting it to a List&lt;String&gt;. One way to do this is by converting the ArrayType to a Java array of String objects, which is serializable. You can then convert this Java array to a List&lt;String&gt; if needed.\r\n\r\nHere&#39;s an example code snippet that shows how to convert a Spark ArrayType to a Java array of String objects:\r\n\r\n    import org.apache.spark.sql.types.ArrayType;\r\n    import org.apache.spark.sql.types.DataType;\r\n    import org.apache.spark.sql.types.DataTypes;\r\n    \r\n    ArrayType arrayType = DataTypes.createArrayType(DataTypes.StringType);\r\n    String[] stringArray = (String[]) arrayType.sqlType().defaultSize();\r\n\r\nOnce you have the Java array of String objects, you can convert it to a List&lt;String&gt; using the Arrays.asList() method:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    List&lt;String&gt; stringList = Arrays.asList(stringArray);\r\n\r\nNote that this approach assumes that the ArrayType contains only String elements. If the ArrayType contains elements of another type, you&#39;ll need to adjust the code accordingly.","title":"How to get the reason of &#39;org.hibernate.exception.GenericJDBCException: could not execute statement&#39; via Try Catch and GetMessage?","body":"<p>The java.io.NotSerializableException error is typically thrown in Spark when attempting to serialize an object that is not serializable. In your case, it looks like you are trying to convert a Spark ArrayType to a Java List, which is not a serializable operation.</p>\n<p>To resolve this issue, you can try converting the ArrayType to a serializable format before converting it to a List. One way to do this is by converting the ArrayType to a Java array of String objects, which is serializable. You can then convert this Java array to a List if needed.</p>\n<p>Here's an example code snippet that shows how to convert a Spark ArrayType to a Java array of String objects:</p>\n<pre><code>import org.apache.spark.sql.types.ArrayType;\nimport org.apache.spark.sql.types.DataType;\nimport org.apache.spark.sql.types.DataTypes;\n\nArrayType arrayType = DataTypes.createArrayType(DataTypes.StringType);\nString[] stringArray = (String[]) arrayType.sqlType().defaultSize();\n</code></pre>\n<p>Once you have the Java array of String objects, you can convert it to a List using the Arrays.asList() method:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\nList&lt;String&gt; stringList = Arrays.asList(stringArray);\n</code></pre>\n<p>Note that this approach assumes that the ArrayType contains only String elements. If the ArrayType contains elements of another type, you'll need to adjust the code accordingly.</p>\n"}],"owner":{"account_id":7656937,"reputation":53,"user_id":5803464,"display_name":"Kristian -"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682673361,"creation_date":1682672753,"question_id":76127984,"body_markdown":"I attempt to run a line in Java (with Hibernate) to save to a database. I deliberately tried saving while making an error, like saving a 10-length string to a column set with VARCHAR(5).\r\n\r\nIf I use try-catch and then use getMessage() to store into a String, then I only get &quot;org.hibernate.exception.GenericJDBCException: could not execute statement&quot;. But if I use printStackTrace, I get the more detailed cause message of &quot;value too large for column&quot;. Using getStackTrace() seems to overbloat the memory, so I want to avoid using that.\r\n\r\nWhat should I use in order to get that cause mesage from the GenericJDBCException? Thanks.","title":"How to get the reason of &#39;org.hibernate.exception.GenericJDBCException: could not execute statement&#39; via Try Catch and GetMessage?","body":"<p>I attempt to run a line in Java (with Hibernate) to save to a database. I deliberately tried saving while making an error, like saving a 10-length string to a column set with VARCHAR(5).</p>\n<p>If I use try-catch and then use getMessage() to store into a String, then I only get &quot;org.hibernate.exception.GenericJDBCException: could not execute statement&quot;. But if I use printStackTrace, I get the more detailed cause message of &quot;value too large for column&quot;. Using getStackTrace() seems to overbloat the memory, so I want to avoid using that.</p>\n<p>What should I use in order to get that cause mesage from the GenericJDBCException? Thanks.</p>\n"},{"tags":["java","sql","spring-boot","jpa","db2"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1682609734,"post_id":76122048,"comment_id":134246199,"body_markdown":"that syntax is only for parameters not for table names or columns for that matter","body":"that syntax is only for parameters not for table names or columns for that matter"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1682614140,"post_id":76122048,"comment_id":134247309,"body_markdown":"Positional parameters are used to apply scalar values. Use Dynamic SQL if you want to change other parts of the SQL statement.","body":"Positional parameters are used to apply scalar values. Use Dynamic SQL if you want to change other parts of the SQL statement."},{"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"score":0,"creation_date":1682617081,"post_id":76122048,"comment_id":134248024,"body_markdown":"@TheImpaler Pardon my ignorance, but do you have any resources showing how Dynamic SQL could help here? A few searches didn&#39;t net me anything helpful.","body":"@TheImpaler Pardon my ignorance, but do you have any resources showing how Dynamic SQL could help here? A few searches didn&#39;t net me anything helpful."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1682638465,"post_id":76122048,"comment_id":134251487,"body_markdown":"Dynamic SQL is essentially the old way of concatenating strings to assemble a running query. This is highly unsafe, of course, and can be susceptible of SQL Injection. On the other hand, you are trying to **apply** a parameter using the `?` syntax. This syntax is always safe, but it does not cover all possible cases. One of them is your case.","body":"Dynamic SQL is essentially the old way of concatenating strings to assemble a running query. This is highly unsafe, of course, and can be susceptible of SQL Injection. On the other hand, you are trying to <b>apply</b> a parameter using the <code>?</code> syntax. This syntax is always safe, but it does not cover all possible cases. One of them is your case."}],"answers":[{"tags":[],"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682673225,"creation_date":1682673225,"answer_id":76128042,"question_id":76122048,"body_markdown":"I think there is a possibility to make this case a real false positive by using concatenation. You need to produce a statement where the value is surrounded by double quotes. That is, produce this kind of statement:\r\n\r\n```\r\nSELECT NEXTVAL FOR &quot;variable part&quot;.CNTCT_ID FROM SYSIBM.SYSDUMMY1\r\n```\r\n\r\nIn this case DB2 is forced to consider the variable part as the schema name of the sequence.\r\n\r\nThis is provided that the value does not itself contain a double quote.\r\n\r\nAnd this implies that the schema name value is now case sensitive.","title":"Can I use a positional parameter in the FROM portion of my native query?","body":"<p>I think there is a possibility to make this case a real false positive by using concatenation. You need to produce a statement where the value is surrounded by double quotes. That is, produce this kind of statement:</p>\n<pre><code>SELECT NEXTVAL FOR &quot;variable part&quot;.CNTCT_ID FROM SYSIBM.SYSDUMMY1\n</code></pre>\n<p>In this case DB2 is forced to consider the variable part as the schema name of the sequence.</p>\n<p>This is provided that the value does not itself contain a double quote.</p>\n<p>And this implies that the schema name value is now case sensitive.</p>\n"}],"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682673225,"creation_date":1682608607,"question_id":76122048,"body_markdown":"I am attempting to parameterize some SQL statements in my code in order to protect from SQL injection risks. My problem is that I am attempting to use the positional parameter in the FROM portion of my statement as opposed to the WHERE which is how I typically see it done.\r\n\r\nHere&#39;s an example:\r\n```java\r\n Query getNextContactIdQuery = entityManager.createNativeQuery(\r\n    &quot;SELECT NEXTVAL FOR ? FROM SYSIBM.SYSDUMMY1.CNTCT_ID&quot;).setParameter(1, sequenceSchema);\r\n```\r\n\r\nThe parameter is a schema that varies based on the environment the application is running in instead of an input variable that I typically see being used in these sorts of situations.\r\n\r\nWhen I attempt to run the code with the parameter in it&#39;s current position I receive a `org.hibernate.exception.ConstraintViolationException: could not execute statement` error.","title":"Can I use a positional parameter in the FROM portion of my native query?","body":"<p>I am attempting to parameterize some SQL statements in my code in order to protect from SQL injection risks. My problem is that I am attempting to use the positional parameter in the FROM portion of my statement as opposed to the WHERE which is how I typically see it done.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code> Query getNextContactIdQuery = entityManager.createNativeQuery(\n    &quot;SELECT NEXTVAL FOR ? FROM SYSIBM.SYSDUMMY1.CNTCT_ID&quot;).setParameter(1, sequenceSchema);\n</code></pre>\n<p>The parameter is a schema that varies based on the environment the application is running in instead of an input variable that I typically see being used in these sorts of situations.</p>\n<p>When I attempt to run the code with the parameter in it's current position I receive a <code>org.hibernate.exception.ConstraintViolationException: could not execute statement</code> error.</p>\n"},{"tags":["java","spring","spring-boot","microservices"],"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682672904,"creation_date":1682498112,"question_id":76108741,"body_markdown":"I&#39;m using spring cloud gateway in a microservices project.\r\nI have two services that are running locally in my system but in eureka server my hostname is like this `L14532.xyz.com` which is assigned to me by my employer network. In the spring gateway&#39;s configuration I have mentioned the routes like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    spring:\r\n      profiles:\r\n        active: dev\r\n      application:\r\n        name: APP_GATEWAY\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n            - id: users\r\n              uri: lb://USERS\r\n              predicates:\r\n                - Host=L14532.xyz.com\r\n                - Path=/users/**\r\n            - id: providers\r\n              uri: lb://PROVIDERS\r\n              predicates:\r\n                - Host=L14532.cts.com\r\n                - Path=/providers/**\r\n            - id: reviews-streaks\r\n              uri: lb://REVIEWSTREAKS\r\n              predicates:\r\n                - Host=L14532.cts.com\r\n                - Path=/review-streaks/**\r\n    logging:\r\n      level:\r\n        web: error\r\n    eureka:\r\n      client:\r\n        fetch-registry: true\r\n        register-with-eureka: true\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAfter mentioning the hostname also the request still not getting forwarded and application gateway is trying to find the page in src/resources like `spring mvc` and after not finding the page it is throwing **404 not found error**. And if I not mention the host name application gateway throws &quot;L14532.xyz.com&quot; could not be resolved. And throws **500 Internal Server Error**. And all this goes away if I try this project in my home computer where the host name is `localhost`. How can I solve this error.\r\n","title":"How to configure spring cloud gateway with custom host name","body":"<p>I'm using spring cloud gateway in a microservices project.\nI have two services that are running locally in my system but in eureka server my hostname is like this <code>L14532.xyz.com</code> which is assigned to me by my employer network. In the spring gateway's configuration I have mentioned the routes like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>spring:\n  profiles:\n    active: dev\n  application:\n    name: APP_GATEWAY\n  cloud:\n    gateway:\n      routes:\n        - id: users\n          uri: lb://USERS\n          predicates:\n            - Host=L14532.xyz.com\n            - Path=/users/**\n        - id: providers\n          uri: lb://PROVIDERS\n          predicates:\n            - Host=L14532.cts.com\n            - Path=/providers/**\n        - id: reviews-streaks\n          uri: lb://REVIEWSTREAKS\n          predicates:\n            - Host=L14532.cts.com\n            - Path=/review-streaks/**\nlogging:\n  level:\n    web: error\neureka:\n  client:\n    fetch-registry: true\n    register-with-eureka: true</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>After mentioning the hostname also the request still not getting forwarded and application gateway is trying to find the page in src/resources like <code>spring mvc</code> and after not finding the page it is throwing <strong>404 not found error</strong>. And if I not mention the host name application gateway throws &quot;L14532.xyz.com&quot; could not be resolved. And throws <strong>500 Internal Server Error</strong>. And all this goes away if I try this project in my home computer where the host name is <code>localhost</code>. How can I solve this error.</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1504252193,"creation_date":1504252193,"answer_id":45995545,"question_id":45986687,"body_markdown":"You can create `MessagePostProcessor` and use it in you `rabbitTemplate`:\r\n\r\n\tfinal String message = &quot;message&quot;;\r\n\tfinal MessagePostProcessor messagePostProcessor = new MyMessagePostProcessor(10000);\r\n\trabbitTemplate.convertAndSend(&quot;my.queue&quot;, &quot;routingKey&quot;, message, messagePostProcessor);\r\n\r\nThis will catch you message, apply changes and send further.\r\n\r\n    public class MyMessagePostProcessor implements MessagePostProcessor {\r\n\r\n\t\tprivate final Integer ttl;\r\n\t\t\r\n\t\tpublic MyMessagePostProcessor(final Integer ttl) {\r\n\t\t\tthis.ttl = ttl;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Message postProcessMessage(final Message message) throws AmqpException {\r\n\t\t\tmessage.getMessageProperties().getHeaders().put(&quot;expiration&quot;, ttl.toString());\r\n\t\t\treturn message;\r\n\t\t}\r\n\t}","title":"How to set per message TTL with RabbitTemplate?","body":"<p>You can create <code>MessagePostProcessor</code> and use it in you <code>rabbitTemplate</code>:</p>\n\n<pre><code>final String message = \"message\";\nfinal MessagePostProcessor messagePostProcessor = new MyMessagePostProcessor(10000);\nrabbitTemplate.convertAndSend(\"my.queue\", \"routingKey\", message, messagePostProcessor);\n</code></pre>\n\n<p>This will catch you message, apply changes and send further.</p>\n\n<pre><code>public class MyMessagePostProcessor implements MessagePostProcessor {\n\n    private final Integer ttl;\n\n    public MyMessagePostProcessor(final Integer ttl) {\n        this.ttl = ttl;\n    }\n\n    @Override\n    public Message postProcessMessage(final Message message) throws AmqpException {\n        message.getMessageProperties().getHeaders().put(\"expiration\", ttl.toString());\n        return message;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3674912,"reputation":953,"user_id":3061210,"accept_rate":22,"display_name":"Khoda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504252689,"creation_date":1504252689,"answer_id":45995653,"question_id":45986687,"body_markdown":"Just to have a little workaround:\r\n\r\n    @Autowired\r\n       private RabbitTemplate   rabbit;\r\n    \r\n       @Autowired\r\n       private MessageConverter jsonMessageConverter;\r\n    \r\n       public void produce() {\r\n    \r\n          rabbit.setExchange(&quot;My.Exchange&quot;);\r\n          rabbit.setRoutingKey(&quot;R.K&quot;);\r\n          rabbit.setMessageConverter(jsonMessageConverter);\r\n          MessageProperties props = new MessageProperties();\r\n          props.setExpiration(Long.toString(expiration));\r\n          Message toSend = new Message(message.toString().getBytes(), props);\r\n          rabbit.send(toSend);\r\n       }","title":"How to set per message TTL with RabbitTemplate?","body":"<p>Just to have a little workaround:</p>\n\n<pre><code>@Autowired\n   private RabbitTemplate   rabbit;\n\n   @Autowired\n   private MessageConverter jsonMessageConverter;\n\n   public void produce() {\n\n      rabbit.setExchange(\"My.Exchange\");\n      rabbit.setRoutingKey(\"R.K\");\n      rabbit.setMessageConverter(jsonMessageConverter);\n      MessageProperties props = new MessageProperties();\n      props.setExpiration(Long.toString(expiration));\n      Message toSend = new Message(message.toString().getBytes(), props);\n      rabbit.send(toSend);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21058634,"reputation":31,"user_id":15477470,"display_name":"Zhecker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616669681,"creation_date":1616669681,"answer_id":66798007,"question_id":45986687,"body_markdown":"If you&#39;re about to use `MessagePostProcessor` solution, you should add properties to your message instead of headers.\r\n\r\n    message.getMessageProperties().setExpiration(ttl.toString());","title":"How to set per message TTL with RabbitTemplate?","body":"<p>If you're about to use <code>MessagePostProcessor</code> solution, you should add properties to your message instead of headers.</p>\n<pre><code>message.getMessageProperties().setExpiration(ttl.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23414555,"reputation":79,"user_id":17475685,"display_name":"impactCn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682672885,"creation_date":1682672885,"answer_id":76128002,"question_id":45986687,"body_markdown":"    rabbitTemplate.convertAndSend(RabbitMqConfig.EXCHANGE,\r\n                        RabbitMqConfig.RK,\r\n                        String.valueOf(body),\r\n                        message -&gt; {\r\n                  message.getMessageProperties().setExpiration(String.valueOf(1000));\r\n                            return message;\r\n                        });","title":"How to set per message TTL with RabbitTemplate?","body":"<pre><code>rabbitTemplate.convertAndSend(RabbitMqConfig.EXCHANGE,\n                    RabbitMqConfig.RK,\n                    String.valueOf(body),\n                    message -&gt; {\n              message.getMessageProperties().setExpiration(String.valueOf(1000));\n                        return message;\n                    });\n</code></pre>\n"}],"owner":{"account_id":3674912,"reputation":953,"user_id":3061210,"accept_rate":22,"display_name":"Khoda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6729,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45995545,"answer_count":4,"score":3,"last_activity_date":1682672885,"creation_date":1504198702,"question_id":45986687,"body_markdown":"I&#39;m using spring-boot with rabbitMQ and I&#39;m wondering if I can use per message TTL using RabbitTemplate. So far I have :\r\n\r\n    @Autowired\r\n       private RabbitTemplate rabbit;\r\n    \r\n       public void produce() {\r\n    \r\n          rabbit.convertAndSend(&quot;My.Queue&quot;, routingKey, message);\r\n       }","title":"How to set per message TTL with RabbitTemplate?","body":"<p>I'm using spring-boot with rabbitMQ and I'm wondering if I can use per message TTL using RabbitTemplate. So far I have :</p>\n\n<pre><code>@Autowired\n   private RabbitTemplate rabbit;\n\n   public void produce() {\n\n      rabbit.convertAndSend(\"My.Queue\", routingKey, message);\n   }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9524,"page":468,"page_size":100}
