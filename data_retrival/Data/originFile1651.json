{"items":[{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":5936955,"reputation":7346,"user_id":4669617,"accept_rate":50,"display_name":"ceph3us"},"score":0,"creation_date":1468979128,"post_id":18168257,"comment_id":64345774,"body_markdown":"-ea  (enable assertions). Assertions are disabled by default in Oracle HotSpot","body":"-ea  (enable assertions). Assertions are disabled by default in Oracle HotSpot"}],"answers":[{"tags":[],"owner":{"account_id":95764,"reputation":12019,"user_id":260633,"accept_rate":100,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1509097193,"creation_date":1376189769,"answer_id":18168305,"question_id":18168257,"body_markdown":"The `-ea` option to enable assertions is passed to the JVM not to the compiler. Add it as a VM option for your runtime configuration.\r\n\r\nSpecific location in the menu: _Run &gt; Edit Configurations... &gt; Configuration &gt; VM options_:\r\n\r\n[![Where to put the `-ea` flag][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d1ZoO.png","title":"Where to add compiler options like -ea in IntelliJ IDEA?","body":"<p>The <code>-ea</code> option to enable assertions is passed to the JVM not to the compiler. Add it as a VM option for your runtime configuration.</p>\n\n<p>Specific location in the menu: <em>Run > Edit Configurations... > Configuration > VM options</em>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/d1ZoO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/d1ZoO.png\" alt=\"Where to put the &lt;code&gt;-ea&lt;/code&gt; flag\"></a></p>\n"},{"tags":[],"owner":{"account_id":7238440,"reputation":360,"user_id":5522793,"display_name":"neo"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1509097540,"creation_date":1446615705,"answer_id":33514506,"question_id":18168257,"body_markdown":"You can also make IntelliJ IDEA support assertions by default by changing the default Application configuration:\r\n\r\nIn the top menu, press _Run &gt; Edit Configurations &gt; Defaults &gt; Application &gt; VM options_.\r\n\r\nTo enable the assertion feature for all application, you could just fill the `VM options` with `-ea`\r\n","title":"Where to add compiler options like -ea in IntelliJ IDEA?","body":"<p>You can also make IntelliJ IDEA support assertions by default by changing the default Application configuration:</p>\n\n<p>In the top menu, press <em>Run > Edit Configurations > Defaults > Application > VM options</em>.</p>\n\n<p>To enable the assertion feature for all application, you could just fill the <code>VM options</code> with <code>-ea</code></p>\n"},{"tags":[],"owner":{"account_id":2921877,"reputation":1081,"user_id":2503939,"display_name":"Jimmy_Rw"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1610923491,"creation_date":1610923491,"answer_id":65766765,"question_id":18168257,"body_markdown":"For IntelliJ IDEA 2020.3:\r\n- Run -&gt; Edit Configurations... -&gt; Modify options -&gt; Add VM options.\r\n- Input `-ea` then click OK button. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SwyLW.png","title":"Where to add compiler options like -ea in IntelliJ IDEA?","body":"<p>For IntelliJ IDEA 2020.3:</p>\n<ul>\n<li>Run -&gt; Edit Configurations... -&gt; Modify options -&gt; Add VM options.</li>\n<li>Input <code>-ea</code> then click OK button.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/SwyLW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SwyLW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643108067,"creation_date":1643108067,"answer_id":70847422,"question_id":18168257,"body_markdown":"Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler -&gt; Override compiler parameters per-module -&gt; + \r\n\r\nYour project name is module name. And add `-ea` to the `Compilation options` for `javac`\r\n\r\nIt works for IDEA 2021.2, Fedora linux x86_64, OpenJDK  1.8 64bit","title":"Where to add compiler options like -ea in IntelliJ IDEA?","body":"<p>Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler -&gt; Override compiler parameters per-module -&gt; +</p>\n<p>Your project name is module name. And add <code>-ea</code> to the <code>Compilation options</code> for <code>javac</code></p>\n<p>It works for IDEA 2021.2, Fedora linux x86_64, OpenJDK  1.8 64bit</p>\n"}],"owner":{"account_id":1686073,"reputation":1974,"user_id":1549348,"accept_rate":52,"display_name":"duleshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48136,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":18168305,"answer_count":4,"score":67,"last_activity_date":1643108067,"creation_date":1376189203,"question_id":18168257,"body_markdown":"I want to add the `-ea` option. I set it in `Project Settings` --&gt; `Compiler` --&gt; `Java Compiler` : `Additional command line parameters`.  \r\n  \r\nBut it caused a make error: `invalid flag: -ea`.\r\nP.S.: the above error message may not be the same as yours, because IntelliJ showed error in my native language, not English. I translated it into English.","title":"Where to add compiler options like -ea in IntelliJ IDEA?","body":"<p>I want to add the <code>-ea</code> option. I set it in <code>Project Settings</code> --> <code>Compiler</code> --> <code>Java Compiler</code> : <code>Additional command line parameters</code>.  </p>\n\n<p>But it caused a make error: <code>invalid flag: -ea</code>.\nP.S.: the above error message may not be the same as yours, because IntelliJ showed error in my native language, not English. I translated it into English.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":1,"creation_date":1643108442,"post_id":70847349,"comment_id":125246848,"body_markdown":"Can you explain what is the code that uses this certificate ? The first screen grab seems to indicate that your system is backdated and the certificate validity is in the future","body":"Can you explain what is the code that uses this certificate ? The first screen grab seems to indicate that your system is backdated and the certificate validity is in the future"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1643109248,"post_id":70847349,"comment_id":125247180,"body_markdown":"It may help me to answer your question if you post the entire stack trace as text and not as separate images where each image contains part of the stack trace.","body":"It may help me to answer your question if you post the entire stack trace as text and not as separate images where each image contains part of the stack trace."}],"owner":{"account_id":23707782,"reputation":1,"user_id":17730045,"display_name":"ved prakash kamma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643107960,"creation_date":1643107721,"question_id":70847349,"body_markdown":"I am testing my functionality for **daylight timezone**. So for that, I changed my **local system timezone and time (EST)**. After that my appliction is not opening due to java Exception. Please find below image and please recommand a java solution for this. Currently, i am using java 8. \r\n\r\n[enter image description here][1]  \r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OC2tk.png\r\n  [2]: https://i.stack.imgur.com/87NB7.png","title":"Java Exception-Certificate not in the validity period","body":"<p>I am testing my functionality for <strong>daylight timezone</strong>. So for that, I changed my <strong>local system timezone and time (EST)</strong>. After that my appliction is not opening due to java Exception. Please find below image and please recommand a java solution for this. Currently, i am using java 8.</p>\n<p><a href=\"https://i.stack.imgur.com/OC2tk.png\" rel=\"nofollow noreferrer\">enter image description here</a><br />\n<a href=\"https://i.stack.imgur.com/87NB7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1643069532,"post_id":70841953,"comment_id":125237800,"body_markdown":"Do you have any idea about the difference between normal file and others (folder, link, and some other type of directory entries?)","body":"Do you have any idea about the difference between normal file and others (folder, link, and some other type of directory entries?)"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1643071517,"post_id":70841953,"comment_id":125238147,"body_markdown":"Windows won&#39;t allow a process to open a file for writing if any other process already has it open. Could that be what&#39;s happening? https://www.winhelponline.com/blog/find-process-locked-file-openfiles-utility/","body":"Windows won&#39;t allow a process to open a file for writing if any other process already has it open. Could that be what&#39;s happening? <a href=\"https://www.winhelponline.com/blog/find-process-locked-file-openfiles-utility/\" rel=\"nofollow noreferrer\">winhelponline.com/blog/&hellip;</a>"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1643081158,"post_id":70841953,"comment_id":125239554,"body_markdown":"As you can see in my code example I am trying to open a `FileWriter` instance pointing to a folder. I don&#39;t think such a restriction would apply in this case.","body":"As you can see in my code example I am trying to open a <code>FileWriter</code> instance pointing to a folder. I don&#39;t think such a restriction would apply in this case."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1643081982,"post_id":70841953,"comment_id":125239662,"body_markdown":"In that case, the problem is that you can’t create a `FileWriter` instance pointing to a folder. It needs to be a normal file.","body":"In that case, the problem is that you can’t create a <code>FileWriter</code> instance pointing to a folder. It needs to be a normal file."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643107755,"creation_date":1643107755,"answer_id":70847358,"question_id":70841953,"body_markdown":"You have reported expected behaviour . On Windows any attempt to write to a directory with `FileWriter` will fail, giving access denied:\r\n\r\n    File folder = new File(&quot;C:\\\\Temp\\java_play\\\\temp&quot;);\r\n    System.out.println(&quot;folder.isDirectory()=&quot;+folder.isDirectory()+&quot; folder.canWrite()=&quot;+folder.canWrite());\r\n    // prints &quot;folder.isDirectory()=true folder.canWrite()=true&quot;\r\n    \r\n    System.out.println(&quot;new FileWriter(&quot;+folder+&quot;)=&quot;+new FileWriter(folder));\r\n    // reports Exception java.io.FileNotFoundException: C:\\Temp\\java_play\\temp (Access is denied)\r\n\r\nChanging the path to a file within the folder should work fine as long as the filename provided is writable:\r\n\r\n    File file   = new File(folder, &quot;file&quot;+System.nanoTime()+&quot;.xyz&quot;);\r\n    try(FileWriter fw = new FileWriter(file)) {\r\n       // no exception\r\n    }","title":"Unable to create FileWriter","body":"<p>You have reported expected behaviour . On Windows any attempt to write to a directory with <code>FileWriter</code> will fail, giving access denied:</p>\n<pre><code>File folder = new File(&quot;C:\\\\Temp\\java_play\\\\temp&quot;);\nSystem.out.println(&quot;folder.isDirectory()=&quot;+folder.isDirectory()+&quot; folder.canWrite()=&quot;+folder.canWrite());\n// prints &quot;folder.isDirectory()=true folder.canWrite()=true&quot;\n\nSystem.out.println(&quot;new FileWriter(&quot;+folder+&quot;)=&quot;+new FileWriter(folder));\n// reports Exception java.io.FileNotFoundException: C:\\Temp\\java_play\\temp (Access is denied)\n</code></pre>\n<p>Changing the path to a file within the folder should work fine as long as the filename provided is writable:</p>\n<pre><code>File file   = new File(folder, &quot;file&quot;+System.nanoTime()+&quot;.xyz&quot;);\ntry(FileWriter fw = new FileWriter(file)) {\n   // no exception\n}\n</code></pre>\n"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":70847358,"answer_count":1,"score":-2,"last_activity_date":1643107755,"creation_date":1643069148,"question_id":70841953,"body_markdown":"I am trying to create a FileWriter instance pointing to a folder were everyone has write access:\r\n\r\n    new FileWriter(&quot;C:\\\\Temp\\java_play\\\\temp&quot;)\r\n\r\nAnd I am getting java.io.FileNotFoundException with detail message:\r\n\r\n    &quot;C:\\Temp\\java_play\\temp (Access is denied)&quot;\r\n\r\nThe folder exists and if I stop in debugger and evaluate expression below it always returns true as it should:\r\n\r\n    new File(&quot;C:\\\\Temp\\java_play\\\\temp&quot;).canWrite()\r\n\r\n\r\nI don&#39;t understand what is going on. I am using intelij and I have Windows 7 operating system and I am trying to run this using Java 8.\r\n\r\nThank you in advance.","title":"Unable to create FileWriter","body":"<p>I am trying to create a FileWriter instance pointing to a folder were everyone has write access:</p>\n<pre><code>new FileWriter(&quot;C:\\\\Temp\\java_play\\\\temp&quot;)\n</code></pre>\n<p>And I am getting java.io.FileNotFoundException with detail message:</p>\n<pre><code>&quot;C:\\Temp\\java_play\\temp (Access is denied)&quot;\n</code></pre>\n<p>The folder exists and if I stop in debugger and evaluate expression below it always returns true as it should:</p>\n<pre><code>new File(&quot;C:\\\\Temp\\java_play\\\\temp&quot;).canWrite()\n</code></pre>\n<p>I don't understand what is going on. I am using intelij and I have Windows 7 operating system and I am trying to run this using Java 8.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1643878836,"post_id":70845432,"comment_id":125457788,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23248192,"reputation":13,"user_id":17336458,"display_name":"Jeff Li"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643107379,"creation_date":1643107379,"answer_id":70847258,"question_id":70845432,"body_markdown":"It is the google play api that supports aggregated reports. I think it can help you.\r\n[https://support.google.com/googleplay/android-developer/answer][1]\r\n\r\n\r\n  [1]: https://support.google.com/googleplay/android-developer/answer/6135870?p=financial_export&amp;rd=1#export&amp;zippy=%2Cdetailed-reports%2Caggregated-reports","title":"I want to get count of installations for my app from app store and google play (programmatically), is there an official api","body":"<p>It is the google play api that supports aggregated reports. I think it can help you.\n<a href=\"https://support.google.com/googleplay/android-developer/answer/6135870?p=financial_export&amp;rd=1#export&amp;zippy=%2Cdetailed-reports%2Caggregated-reports\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/answer</a></p>\n"}],"owner":{"account_id":24046628,"reputation":29,"user_id":18025566,"display_name":"Saleem Alzoubi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1643107379,"creation_date":1643098970,"question_id":70845432,"body_markdown":"I am developing flutter mobile application with java(springboot) backend, I want to get the number of downloads(installations) for my app using java(springboot) from google play and play store. \r\n","title":"I want to get count of installations for my app from app store and google play (programmatically), is there an official api","body":"<p>I am developing flutter mobile application with java(springboot) backend, I want to get the number of downloads(installations) for my app using java(springboot) from google play and play store.</p>\n"},{"tags":["java","spring","spring-cloud"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643107924,"post_id":70847254,"comment_id":125246624,"body_markdown":"Does this help https://stackoverflow.com/questions/27131143/spring-cloud-configuration-server-not-working-with-local-properties-file","body":"Does this help <a href=\"https://stackoverflow.com/questions/27131143/spring-cloud-configuration-server-not-working-with-local-properties-file\" title=\"spring cloud configuration server not working with local properties file\">stackoverflow.com/questions/27131143/&hellip;</a>"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1643112425,"post_id":70847254,"comment_id":125248263,"body_markdown":"That is the default way of working. You just need to point boot at the local file and make config server optional","body":"That is the default way of working. You just need to point boot at the local file and make config server optional"},{"owner":{"account_id":5218685,"reputation":898,"user_id":4172765,"accept_rate":74,"display_name":"ThanhLam112358"},"score":0,"creation_date":1643157292,"post_id":70847254,"comment_id":125264560,"body_markdown":"@spencergibb Please help me in answer and I will accept your guide. Because I don&#39;t have enough experience in Java. So it can make me confused.","body":"@spencergibb Please help me in answer and I will accept your guide. Because I don&#39;t have enough experience in Java. So it can make me confused."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1643199308,"post_id":70847254,"comment_id":125274970,"body_markdown":"Please show what you have tried","body":"Please show what you have tried"}],"owner":{"account_id":5218685,"reputation":898,"user_id":4172765,"accept_rate":74,"display_name":"ThanhLam112358"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643107372,"creation_date":1643107372,"question_id":70847254,"body_markdown":"I have an issue like this: \r\n\r\n**First**, \r\n\r\nI have a spring cloud server to get properties for my Java app\r\n[![enter image description here][1]][1]\r\n\r\n**Second:** \r\n\r\nIf the spring cloud is not available, I want my Java app use local properties\r\n\r\nFor example, my file at `D:\\SOURCE-CODE\\configuration\\financial\\financialpartner-dev.properties`\r\n\r\nHow can I config like this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BdL03.png","title":"Java spring switch to use local properties if Spring cloud not available","body":"<p>I have an issue like this:</p>\n<p><strong>First</strong>,</p>\n<p>I have a spring cloud server to get properties for my Java app\n<a href=\"https://i.stack.imgur.com/BdL03.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BdL03.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Second:</strong></p>\n<p>If the spring cloud is not available, I want my Java app use local properties</p>\n<p>For example, my file at <code>D:\\SOURCE-CODE\\configuration\\financial\\financialpartner-dev.properties</code></p>\n<p>How can I config like this?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1643137986,"post_id":70847228,"comment_id":125259147,"body_markdown":"I assume that there is something on your solution that you don&#39;t like. What it is?","body":"I assume that there is something on your solution that you don&#39;t like. What it is?"},{"owner":{"account_id":303651,"reputation":1479,"user_id":612723,"accept_rate":20,"display_name":"mbonato"},"score":0,"creation_date":1643183459,"post_id":70847228,"comment_id":125269038,"body_markdown":"Thank you for your response! Deserialization returns a List&lt;Status&gt; with each Status only containing a single field. It works, but it would prefer it to return a single Status object containing all the properties.","body":"Thank you for your response! Deserialization returns a List&lt;Status&gt; with each Status only containing a single field. It works, but it would prefer it to return a single Status object containing all the properties."}],"owner":{"account_id":303651,"reputation":1479,"user_id":612723,"accept_rate":20,"display_name":"mbonato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643107220,"creation_date":1643107220,"question_id":70847228,"body_markdown":"I need to deserialize a given JSON structure like following into POJOs:\r\n\r\n\t[\r\n\t    {\r\n\t        &quot;alpha&quot;: [\r\n\t        \t{\r\n\t                &quot;serial&quot;: 123,\r\n\t                &quot;date&quot;: &quot;24-01-2022&quot;,\r\n\t                &quot;foo&quot;: &quot;...&quot;,\r\n\t                ...\r\n\t        \t}\r\n\t        ]\r\n\t    },\r\n\t    {\r\n\t        &quot;beta&quot;: [\r\n\t            {\r\n\t                &quot;serial&quot;: 456,\r\n\t                &quot;date&quot;: &quot;24-01-2022&quot;,\r\n\t                &quot;bar: &quot;...&quot;,\r\n\t                ...\r\n\t            }\r\n\t        ]\r\n\t    },\r\n\t    {\r\n\t        &quot;gamma&quot;: [\r\n\t            {\r\n\t                &quot;serial&quot;: 789,\r\n\t                &quot;date&quot;: &quot;24-01-2022&quot;,\r\n\t                &quot;foobar&quot;: &quot;...&quot;&quot;\r\n\t                ...\r\n\t            }\r\n\t        ]\r\n\t    },\r\n\t    {\r\n\t        &quot;key1&quot;: &quot;...&quot;,\r\n\t        &quot;key2&quot;: &quot;...&quot;\r\n\t    }\r\n\t]\r\n\r\nAlpha, beta, gamma are arrays of different objects that could share a common base type as they have some common properties. However, the last object in the JSON array is different.\r\n\r\nThe type of the objects in the arrays are determined by the field name (e.g. alpha, betta, gamma). Jackson provides a way to define the type of the object using a &quot;wrapper object&quot; (```@JsonTypeInfo(use = Id.CUSTOM, include = As.WRAPPER_OBJECT)```), but this assumes the value is an object and not an array.\r\n\r\nCurrently, I use a list of the following object to deserialize the JSON and interate over it.\r\n\r\n\tpublic class Status {\r\n\t\r\n\t\t@JsonProperty\r\n\t\tList&lt;AlphaStatus&gt; alpha;\r\n\t\t\r\n\t\t@JsonProperty\r\n\t\tList&lt;BettaStatus&gt; betta;\r\n\t\t\r\n\t\t@JsonProperty\r\n\t\tList&lt;GammaStatus&gt; gamma;\r\n\t\t\r\n\t\t@JsonProperty\r\n\t\tString key1;\r\n\t\t\r\n\t\t@JsonProperty\r\n\t\tString key2;\r\n\t\t\r\n\t}\r\n\r\nIs there a more elegant solution to this?\r\n\r\n","title":"Jackson: deserialization of object arrays","body":"<p>I need to deserialize a given JSON structure like following into POJOs:</p>\n<pre><code>[\n    {\n        &quot;alpha&quot;: [\n            {\n                &quot;serial&quot;: 123,\n                &quot;date&quot;: &quot;24-01-2022&quot;,\n                &quot;foo&quot;: &quot;...&quot;,\n                ...\n            }\n        ]\n    },\n    {\n        &quot;beta&quot;: [\n            {\n                &quot;serial&quot;: 456,\n                &quot;date&quot;: &quot;24-01-2022&quot;,\n                &quot;bar: &quot;...&quot;,\n                ...\n            }\n        ]\n    },\n    {\n        &quot;gamma&quot;: [\n            {\n                &quot;serial&quot;: 789,\n                &quot;date&quot;: &quot;24-01-2022&quot;,\n                &quot;foobar&quot;: &quot;...&quot;&quot;\n                ...\n            }\n        ]\n    },\n    {\n        &quot;key1&quot;: &quot;...&quot;,\n        &quot;key2&quot;: &quot;...&quot;\n    }\n]\n</code></pre>\n<p>Alpha, beta, gamma are arrays of different objects that could share a common base type as they have some common properties. However, the last object in the JSON array is different.</p>\n<p>The type of the objects in the arrays are determined by the field name (e.g. alpha, betta, gamma). Jackson provides a way to define the type of the object using a &quot;wrapper object&quot; (<code>@JsonTypeInfo(use = Id.CUSTOM, include = As.WRAPPER_OBJECT)</code>), but this assumes the value is an object and not an array.</p>\n<p>Currently, I use a list of the following object to deserialize the JSON and interate over it.</p>\n<pre><code>public class Status {\n\n    @JsonProperty\n    List&lt;AlphaStatus&gt; alpha;\n    \n    @JsonProperty\n    List&lt;BettaStatus&gt; betta;\n    \n    @JsonProperty\n    List&lt;GammaStatus&gt; gamma;\n    \n    @JsonProperty\n    String key1;\n    \n    @JsonProperty\n    String key2;\n    \n}\n</code></pre>\n<p>Is there a more elegant solution to this?</p>\n"},{"tags":["java","reactjs","angular","typescript","nestjs"],"comments":[{"owner":{"account_id":1282946,"reputation":1259,"user_id":1236627,"accept_rate":79,"display_name":"androidavid"},"score":1,"creation_date":1635923173,"post_id":69820554,"comment_id":123418290,"body_markdown":"Well you can always use a SubType and hence do `class A { addresses: Address[]}`","body":"Well you can always use a SubType and hence do <code>class A { addresses: Address[]}</code>"},{"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"score":0,"creation_date":1635923582,"post_id":69820554,"comment_id":123418409,"body_markdown":"Thanks...Can you guide me how to do in typescript?","body":"Thanks...Can you guide me how to do in typescript?"},{"owner":{"account_id":433419,"reputation":1293,"user_id":818722,"accept_rate":88,"display_name":"morsor"},"score":1,"creation_date":1635923825,"post_id":69820554,"comment_id":123418475,"body_markdown":"You want multiple addresses but only one zipcode?","body":"You want multiple addresses but only one zipcode?"},{"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"score":0,"creation_date":1635924092,"post_id":69820554,"comment_id":123418534,"body_markdown":"@morsor ya Mosor","body":"@morsor ya Mosor"}],"answers":[{"tags":[],"owner":{"account_id":1282946,"reputation":1259,"user_id":1236627,"accept_rate":79,"display_name":"androidavid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635923671,"creation_date":1635923671,"answer_id":69820929,"question_id":69820554,"body_markdown":"Have you tried something like this?\r\n\r\n```\r\nclass Address {\r\n//...\r\n  zipCode: string;\r\n  city: string; \r\n// ...\r\n}\r\n\r\nclass A {\r\n  addresses: Address[]\r\n}\r\n```","title":"Storing multiple fields of address in entity class","body":"<p>Have you tried something like this?</p>\n<pre><code>class Address {\n//...\n  zipCode: string;\n  city: string; \n// ...\n}\n\nclass A {\n  addresses: Address[]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":433419,"reputation":1293,"user_id":818722,"accept_rate":88,"display_name":"morsor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635924339,"creation_date":1635924339,"answer_id":69821031,"question_id":69820554,"body_markdown":"If only the addresses are multiple, it seems you have this situation:\r\n\r\n    class A {\r\n      AddressList: string[];\r\n      zipCode: number;\r\n      city: String;\r\n    }","title":"Storing multiple fields of address in entity class","body":"<p>If only the addresses are multiple, it seems you have this situation:</p>\n<pre><code>class A {\n  AddressList: string[];\n  zipCode: number;\n  city: String;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655255,"reputation":63,"user_id":5802413,"display_name":"jashinhidan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643107047,"creation_date":1643107047,"answer_id":70847185,"question_id":69820554,"body_markdown":"I would rather create a specific class for those fields, something like:\r\n\r\n    class A {\r\n        // many fields\r\n        address: AddressData\r\n    }\r\n\r\n    class AddressData {\r\n        address1: string;\r\n        address2: string;\r\n        zipCode: string;\r\n        city: string;\r\n    }\r\n\r\nIMO it&#39;s better to keep data that belong to the same group in a separated class. Also I wouldn&#39;t store the two addresses in an array because you would lose the information about the main address and the secondary address.","title":"Storing multiple fields of address in entity class","body":"<p>I would rather create a specific class for those fields, something like:</p>\n<pre><code>class A {\n    // many fields\n    address: AddressData\n}\n\nclass AddressData {\n    address1: string;\n    address2: string;\n    zipCode: string;\n    city: string;\n}\n</code></pre>\n<p>IMO it's better to keep data that belong to the same group in a separated class. Also I wouldn't store the two addresses in an array because you would lose the information about the main address and the secondary address.</p>\n"}],"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69821031,"answer_count":3,"score":0,"last_activity_date":1643107047,"creation_date":1635921319,"question_id":69820554,"body_markdown":"I need to store multiple addresses, like `address1` , `address2` and `zipcode` etc.\r\nShould I declare all the fields individually?\r\n\r\nfor instance:\r\n\r\n    class A{\r\n          // many fields\r\n         Address1:string;\r\n         Address2:string;\r\n         zipCode:number;\r\n         city:String;\r\n       }\r\n\r\nor is there any better way to declare them in entity class? I have been told creating entity classes is the best practice.\r\n\r\n[![enter image description here][1]][1]\r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TYJyW.png","title":"Storing multiple fields of address in entity class","body":"<p>I need to store multiple addresses, like <code>address1</code> , <code>address2</code> and <code>zipcode</code> etc.\nShould I declare all the fields individually?</p>\n<p>for instance:</p>\n<pre><code>class A{\n      // many fields\n     Address1:string;\n     Address2:string;\n     zipCode:number;\n     city:String;\n   }\n</code></pre>\n<p>or is there any better way to declare them in entity class? I have been told creating entity classes is the best practice.</p>\n<p><a href=\"https://i.stack.imgur.com/TYJyW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TYJyW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","uri","permission-denied"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642691537,"post_id":70786168,"comment_id":125143409,"body_markdown":"`target.setDataAndType(uri, &quot;application/pdf&quot;);` You are not showing how you build up your uri.","body":"<code>target.setDataAndType(uri, &quot;application&#47;pdf&quot;);</code> You are not showing how you build up your uri."},{"owner":{"account_id":23998890,"reputation":1,"user_id":17984074,"display_name":"Korre"},"score":0,"creation_date":1642773816,"post_id":70786168,"comment_id":125168108,"body_markdown":"my uri is existing and correct.","body":"my uri is existing and correct."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643108735,"post_id":70786168,"comment_id":125246974,"body_markdown":"You should call takePersistableUriPermission() only once.","body":"You should call takePersistableUriPermission() only once."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642693088,"creation_date":1642692525,"answer_id":70788957,"question_id":70786168,"body_markdown":"It is possible to build up nice uries for files once you have seen a few obtained with ACTION_OPEN_DOCUMENT.\r\n\r\nBut with ACTION_OPEN_DOCUMENT the content provider (or the OS, tell me!) also gives you permission to use that uri. And remembers them!\r\n\r\nWhat you have perceived now with:\r\n\r\n&gt;&gt; Caused by: java.lang.SecurityException: UID 10153 does not have permission to content://com.android.externalstorage.documents/document/primary%3ANot%2FBar%2Ftest.pdf [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs\r\n  \r\nIs that you have not obtained a permission to use your uri.\r\n\r\n","title":"How can i reach GrantUriPermission problem without Open_Document filedialog?","body":"<p>It is possible to build up nice uries for files once you have seen a few obtained with ACTION_OPEN_DOCUMENT.</p>\n<p>But with ACTION_OPEN_DOCUMENT the content provider (or the OS, tell me!) also gives you permission to use that uri. And remembers them!</p>\n<p>What you have perceived now with:</p>\n<blockquote>\n<blockquote>\n<p>Caused by: java.lang.SecurityException: UID 10153 does not have permission to content://com.android.externalstorage.documents/document/primary%3ANot%2FBar%2Ftest.pdf [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs</p>\n</blockquote>\n</blockquote>\n<p>Is that you have not obtained a permission to use your uri.</p>\n"}],"owner":{"account_id":23998890,"reputation":1,"user_id":17984074,"display_name":"Korre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643106899,"creation_date":1642681402,"question_id":70786168,"body_markdown":"I want to open a file in an external PDF viewer.\r\nif I call the file with the &quot;OPEN_DOCUMENT&quot; file picker everything works fine.\r\n\r\nif I call a a different file directly with hardcoded existing URI without user dialog I don&#39;t have permissions.\r\n\r\nget this Errors:\r\n\r\n&gt;    \r\n     Caused by: java.lang.SecurityException: UID 10153 does not have permission to content://com.android.externalstorage.documents/document/primary%3ANot%2FBar%2Ftest.pdf [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs\r\n        at android.os.Parcel.createException(Parcel.java:2071)\r\n        at android.os.Parcel.readException(Parcel.java:2039)\r\n        at android.os.Parcel.readException(Parcel.java:1987)\r\n        at android.app.IActivityManager$Stub$Proxy.grantUriPermission(IActivityManager.java:5748)\r\n        at android.app.ContextImpl.grantUriPermission(ContextImpl.java:1935)\r\n        at android.content.ContextWrapper.grantUriPermission(ContextWrapper.java:805)\r\n        at android.content.ContextWrapper.grantUriPermission(ContextWrapper.java:805)\r\n        at de.temaks.stepbystep.MainActivity.grantPermissions(MainActivity.java:203)\r\n        at de.temaks.stepbystep.MainActivity.oPDF(MainActivity.java:184)\r\n        at de.temaks.stepbystep.MainActivity.my10(MainActivity.java:144)\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:441)&#160;\r\n        at android.view.View.performClick(View.java:7146)&#160;\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)&#160;\r\n        at android.view.View.performClickInternal(View.java:7119)&#160;\r\n        at android.view.View.access$3500(View.java:803)&#160;\r\n        at android.view.View$PerformClick.run(View.java:27533)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:883)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7386)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:980)&#160;\r\n     Caused by: android.os.RemoteException: Remote stack trace:\r\n        at com.android.server.uri.UriGrantsManagerService.checkGrantUriPermission(UriGrantsManagerService.java:1174)\r\n        at com.android.server.uri.UriGrantsManagerService.grantUriPermission(UriGrantsManagerService.java:767)\r\n        at com.android.server.uri.UriGrantsManagerService$LocalService.grantUriPermission(UriGrantsManagerService.java:1317)\r\n\r\n\r\n\r\nI tried to set flags of all files in folder with ACTION_OPEN_DOCUMENT_TREE:\r\n\r\n    public void openDirectory(Uri uriToLoad) {\r\n    // Choose a directory using the system&#39;s file picker.\r\n    Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n\r\n    // Optionally, specify a URI for the directory that should be opened in\r\n    // the system file picker when it loads.\r\n    intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, uriToLoad);\r\n    intent.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\r\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n    intent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n\r\n    startActivityForResult(intent, 3333);\r\n}\r\nAnd in activityRusult tried to set flags for all the files in that folder:\r\n\r\n                if (requestCode == 3333\r\n                &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            // The result data contains a URI for the document or directory that\r\n            // the user selected.\r\n            Uri uri = null;\r\n            if (resultData != null) {\r\n                uri = resultData.getData();\r\n                // Perform operations on the document using its URI.\r\n                Log.i(&quot;Verzeichnis &quot;, &quot;gelesen: &quot;+uri.toString());\r\n\r\n                //take persist permission for later use\r\n                getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n                getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\r\n                int takeFlags = resultData.getFlags()&amp; (Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n                        | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n                ContentResolver resolver = this.getContentResolver();\r\n                resolver.takePersistableUriPermission(resultData.getData(),takeFlags);\r\n                File directory = new File(path);\r\n\r\n                Log.i(&quot;directory.exists():   &quot;,String.valueOf(directory.exists()));\r\n                Log.i(&quot;directory.canRead():  &quot;,String.valueOf( directory.canRead()));\r\n                Log.i(&quot;directory.length():   &quot;,String.valueOf( directory.length()));\r\n     \r\n                /*File[] files = directory.listFiles();\r\n                Log.i(&quot;Files&quot;, &quot;Size: &quot; + files.length);\r\n                Toast.makeText(this,String.valueOf(files.length) +&quot; \r\n    \r\n                String[] theNamesOfFiles = new String[files.length];\r\n                for (int i = 0; i &lt; files.length; i++) {  \r\n                        theNamesOfFiles[i] =  files[i].getName(); \r\n                 }*/\r\n\r\n\r\n\r\nThis take no effect, because the errors are after that still the same.\r\nMaybe i have the wrong flags?\r\n\r\n**directory.exists()  give &quot;true&quot;**\r\n\r\n**directory.canRead() give &quot;false&quot;**\r\n\r\nI set the flags just to the &quot;Directory tree&quot;.\r\nShould i set flags on each file seperatly?\r\n\r\n\r\nAt the moment in test case i build the uri manually (this uri (file) is in the tree i set the flags ). Later a i want to call saved uri&#39;s out of database.\r\n\r\n\r\n    Uri uri2 = Uri.parse(&quot;content://com.android.externalstorage.documents/document/primary%3ANoten_MVP%2FBariton%2F0018_Wiener%20Elan-Bariton.pdf&quot;);\r\n    oPDF(uri2);\r\n\r\nSend the uri to external App:\r\n\r\n        public void oPDF(Uri myUri){\r\n        Uri uri = null;\r\n\r\n        uri = myUri;\r\n\r\n        uri.getAuthority();\r\n\r\n        String mimeType = getContentResolver().getType(uri);\r\n\r\n        Log.i(&quot;mime Type &quot;, mimeType);\r\n\r\n        //this.grantUriPermission(null, uri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\r\n        Log.i(&quot;URI Import&quot;,uri.toString());\r\n\r\n        String path = uri.getLastPathSegment()  ;//getEncodedPath();\r\n        path = path.substring(path.indexOf(&quot;:&quot;) + 1);\r\n        Toast.makeText(this, &quot;importiert: &quot; + path, Toast.LENGTH_LONG).show();\r\n\r\n        Log.i(&quot;READ_REQUEST_CODE 42: &quot;,&quot; hier sind die Ergebnisse aus onActivityResult: &quot; );\r\n        Log.i(&quot;uri DER: &quot;, uri.toString());\r\n\r\n        Intent target = new Intent(Intent.ACTION_VIEW);\r\n        //target.setDataAndType(Uri.parse(&quot;content://com.android.externalstorage.documents/document/primary%3A&quot;+ path), &quot;application/pdf&quot;);\r\n        target.setDataAndType(uri, &quot;application/pdf&quot;);\r\n        target.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        //Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        Intent intent = Intent.createChooser(target, &quot;Open PDF using&quot;);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        grantPermissions(this,target,uri,true);\r\n        try {\r\n            startActivity(intent);\r\n        } catch (ActivityNotFoundException e) {\r\n            // Instruct the user to install a PDF reader here, or something\r\n            Toast.makeText(this, &quot;No Applications found to open pdf&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\nStill the same Error\r\n\r\n&gt;  Caused by: java.lang.SecurityException: UID 10153 does not have permission to content://com.android.externalstorage.documents/document/primary%3ANoten_MVP%2FBariton%2F0010_Laridah%20Marsch-Bariton.pdf [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs\r\n        \r\n\r\nHow can I get permissions of all files of a folder?\r\nWhat could I do? ","title":"How can i reach GrantUriPermission problem without Open_Document filedialog?","body":"<p>I want to open a file in an external PDF viewer.\nif I call the file with the &quot;OPEN_DOCUMENT&quot; file picker everything works fine.</p>\n<p>if I call a a different file directly with hardcoded existing URI without user dialog I don't have permissions.</p>\n<p>get this Errors:</p>\n<blockquote>\n</blockquote>\n<pre><code> Caused by: java.lang.SecurityException: UID 10153 does not have permission to content://com.android.externalstorage.documents/document/primary%3ANot%2FBar%2Ftest.pdf [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs\n    at android.os.Parcel.createException(Parcel.java:2071)\n    at android.os.Parcel.readException(Parcel.java:2039)\n    at android.os.Parcel.readException(Parcel.java:1987)\n    at android.app.IActivityManager$Stub$Proxy.grantUriPermission(IActivityManager.java:5748)\n    at android.app.ContextImpl.grantUriPermission(ContextImpl.java:1935)\n    at android.content.ContextWrapper.grantUriPermission(ContextWrapper.java:805)\n    at android.content.ContextWrapper.grantUriPermission(ContextWrapper.java:805)\n    at de.temaks.stepbystep.MainActivity.grantPermissions(MainActivity.java:203)\n    at de.temaks.stepbystep.MainActivity.oPDF(MainActivity.java:184)\n    at de.temaks.stepbystep.MainActivity.my10(MainActivity.java:144)\n    at java.lang.reflect.Method.invoke(Native Method) \n    at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:441) \n    at android.view.View.performClick(View.java:7146) \n    at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119) \n    at android.view.View.performClickInternal(View.java:7119) \n    at android.view.View.access$3500(View.java:803) \n    at android.view.View$PerformClick.run(View.java:27533) \n    at android.os.Handler.handleCallback(Handler.java:883) \n    at android.os.Handler.dispatchMessage(Handler.java:100) \n    at android.os.Looper.loop(Looper.java:214) \n    at android.app.ActivityThread.main(ActivityThread.java:7386) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:980) \n Caused by: android.os.RemoteException: Remote stack trace:\n    at com.android.server.uri.UriGrantsManagerService.checkGrantUriPermission(UriGrantsManagerService.java:1174)\n    at com.android.server.uri.UriGrantsManagerService.grantUriPermission(UriGrantsManagerService.java:767)\n    at com.android.server.uri.UriGrantsManagerService$LocalService.grantUriPermission(UriGrantsManagerService.java:1317)\n</code></pre>\n<p>I tried to set flags of all files in folder with ACTION_OPEN_DOCUMENT_TREE:</p>\n<pre><code>public void openDirectory(Uri uriToLoad) {\n// Choose a directory using the system's file picker.\nIntent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n\n// Optionally, specify a URI for the directory that should be opened in\n// the system file picker when it loads.\nintent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, uriToLoad);\nintent.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\nintent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n\nstartActivityForResult(intent, 3333);\n</code></pre>\n<p>}\nAnd in activityRusult tried to set flags for all the files in that folder:</p>\n<pre><code>            if (requestCode == 3333\n            &amp;&amp; resultCode == Activity.RESULT_OK) {\n        // The result data contains a URI for the document or directory that\n        // the user selected.\n        Uri uri = null;\n        if (resultData != null) {\n            uri = resultData.getData();\n            // Perform operations on the document using its URI.\n            Log.i(&quot;Verzeichnis &quot;, &quot;gelesen: &quot;+uri.toString());\n\n            //take persist permission for later use\n            getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n            getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\n            int takeFlags = resultData.getFlags()&amp; (Intent.FLAG_GRANT_READ_URI_PERMISSION\n                    | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n            ContentResolver resolver = this.getContentResolver();\n            resolver.takePersistableUriPermission(resultData.getData(),takeFlags);\n            File directory = new File(path);\n\n            Log.i(&quot;directory.exists():   &quot;,String.valueOf(directory.exists()));\n            Log.i(&quot;directory.canRead():  &quot;,String.valueOf( directory.canRead()));\n            Log.i(&quot;directory.length():   &quot;,String.valueOf( directory.length()));\n \n            /*File[] files = directory.listFiles();\n            Log.i(&quot;Files&quot;, &quot;Size: &quot; + files.length);\n            Toast.makeText(this,String.valueOf(files.length) +&quot; \n\n            String[] theNamesOfFiles = new String[files.length];\n            for (int i = 0; i &lt; files.length; i++) {  \n                    theNamesOfFiles[i] =  files[i].getName(); \n             }*/\n</code></pre>\n<p>This take no effect, because the errors are after that still the same.\nMaybe i have the wrong flags?</p>\n<p><strong>directory.exists()  give &quot;true&quot;</strong></p>\n<p><strong>directory.canRead() give &quot;false&quot;</strong></p>\n<p>I set the flags just to the &quot;Directory tree&quot;.\nShould i set flags on each file seperatly?</p>\n<p>At the moment in test case i build the uri manually (this uri (file) is in the tree i set the flags ). Later a i want to call saved uri's out of database.</p>\n<pre><code>Uri uri2 = Uri.parse(&quot;content://com.android.externalstorage.documents/document/primary%3ANoten_MVP%2FBariton%2F0018_Wiener%20Elan-Bariton.pdf&quot;);\noPDF(uri2);\n</code></pre>\n<p>Send the uri to external App:</p>\n<pre><code>    public void oPDF(Uri myUri){\n    Uri uri = null;\n\n    uri = myUri;\n\n    uri.getAuthority();\n\n    String mimeType = getContentResolver().getType(uri);\n\n    Log.i(&quot;mime Type &quot;, mimeType);\n\n    //this.grantUriPermission(null, uri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\n    Log.i(&quot;URI Import&quot;,uri.toString());\n\n    String path = uri.getLastPathSegment()  ;//getEncodedPath();\n    path = path.substring(path.indexOf(&quot;:&quot;) + 1);\n    Toast.makeText(this, &quot;importiert: &quot; + path, Toast.LENGTH_LONG).show();\n\n    Log.i(&quot;READ_REQUEST_CODE 42: &quot;,&quot; hier sind die Ergebnisse aus onActivityResult: &quot; );\n    Log.i(&quot;uri DER: &quot;, uri.toString());\n\n    Intent target = new Intent(Intent.ACTION_VIEW);\n    //target.setDataAndType(Uri.parse(&quot;content://com.android.externalstorage.documents/document/primary%3A&quot;+ path), &quot;application/pdf&quot;);\n    target.setDataAndType(uri, &quot;application/pdf&quot;);\n    target.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    //Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    Intent intent = Intent.createChooser(target, &quot;Open PDF using&quot;);\n    intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    grantPermissions(this,target,uri,true);\n    try {\n        startActivity(intent);\n    } catch (ActivityNotFoundException e) {\n        // Instruct the user to install a PDF reader here, or something\n        Toast.makeText(this, &quot;No Applications found to open pdf&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>Still the same Error</p>\n<blockquote>\n<p>Caused by: java.lang.SecurityException: UID 10153 does not have permission to content://com.android.externalstorage.documents/document/primary%3ANoten_MVP%2FBariton%2F0010_Laridah%20Marsch-Bariton.pdf [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs</p>\n</blockquote>\n<p>How can I get permissions of all files of a folder?\nWhat could I do?</p>\n"},{"tags":["java","spring-boot","azure-active-directory","openid-connect"],"comments":[{"owner":{"account_id":343790,"reputation":10861,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"score":0,"creation_date":1642632821,"post_id":70778686,"comment_id":125126334,"body_markdown":"I don&#39;t know why there is a button, or how to do this in Spring Framework, but once you have obtained an Authorization Token (server-side) in OAuth or OpenID Connect, you can use that token to interact with resources. One of those resources is the Userinfo Endpoint, which will return information about the user. Maybe this info will help you figure this out in the context of Spring..","body":"I don&#39;t know why there is a button, or how to do this in Spring Framework, but once you have obtained an Authorization Token (server-side) in OAuth or OpenID Connect, you can use that token to interact with resources. One of those resources is the Userinfo Endpoint, which will return information about the user. Maybe this info will help you figure this out in the context of Spring.."},{"owner":{"account_id":22301765,"reputation":4718,"user_id":16526895,"display_name":"Kartik Bhiwapurkar"},"score":0,"creation_date":1642685616,"post_id":70778686,"comment_id":125140382,"body_markdown":"I think you should try using &#39;Postman&#39; for authentication automated testing as it is a great API platform.","body":"I think you should try using &#39;Postman&#39; for authentication automated testing as it is a great API platform."}],"answers":[{"tags":[],"owner":{"account_id":22301765,"reputation":4718,"user_id":16526895,"display_name":"Kartik Bhiwapurkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643106473,"creation_date":1643106473,"answer_id":70847067,"question_id":70778686,"body_markdown":"•\tI tried to follow the github documentation link as mentioned by you in your question and successfully created the application as below screenshots display: -\r\n\r\nApplication.yml file: -\r\n \r\n[![Springboot app-application.yml][1]][1]\r\n\r\nApplication build execution: -\r\n\r\n[![Application code in VS][2]][2] \r\n\r\nApplication execution opening in browser: -\r\n\r\n[![App opening in browser][3]][3]\r\n[![App Azure AD Login page][4]][4]\r\n[![App after logging in to Azure AD][5]][5]\r\n\r\nThus, as you can see, it executes successfully and runs the springboot java application successfully. But if you want the ‘ID Token Details’ button to be not there and in its place, you want to display the ID token details to be shown directly, you would want to change the ‘href’ button class with the below probable HTML classes and scripts extensions, so that the redirection after logging in to the application will directly display the ‘https://jwt.ms’ page and it will capture the token and decode it accordingly showing the claims held by the token. Kindly refer to the below link for more detailed information: -\r\n\r\nhttps://stackoverflow.com/questions/2906582/how-to-create-an-html-button-that-acts-like-a-link\r\n\r\n      &#39; &lt;form action=&quot;https://google.com&quot;&gt;\r\n         &lt;input type=&quot;submit&quot; value=&quot;Go to Google&quot; /&gt;\r\n          &lt;/form&gt; &#39;\r\n\r\nThe above modifications in the ‘.html’ pages of the application should display you the required token details without the button class in HTML pages.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yZ5kc.png\r\n  [2]: https://i.stack.imgur.com/NVr3E.png\r\n  [3]: https://i.stack.imgur.com/OpoOe.png\r\n  [4]: https://i.stack.imgur.com/PUkCw.png\r\n  [5]: https://i.stack.imgur.com/Pprtn.png","title":"Azure Active Directory Spring Boot @AuthenticationPrincipal","body":"<p>•   I tried to follow the github documentation link as mentioned by you in your question and successfully created the application as below screenshots display: -</p>\n<p>Application.yml file: -</p>\n<p><a href=\"https://i.stack.imgur.com/yZ5kc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yZ5kc.png\" alt=\"Springboot app-application.yml\" /></a></p>\n<p>Application build execution: -</p>\n<p><a href=\"https://i.stack.imgur.com/NVr3E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NVr3E.png\" alt=\"Application code in VS\" /></a></p>\n<p>Application execution opening in browser: -</p>\n<p><a href=\"https://i.stack.imgur.com/OpoOe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OpoOe.png\" alt=\"App opening in browser\" /></a>\n<a href=\"https://i.stack.imgur.com/PUkCw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PUkCw.png\" alt=\"App Azure AD Login page\" /></a>\n<a href=\"https://i.stack.imgur.com/Pprtn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pprtn.png\" alt=\"App after logging in to Azure AD\" /></a></p>\n<p>Thus, as you can see, it executes successfully and runs the springboot java application successfully. But if you want the ‘ID Token Details’ button to be not there and in its place, you want to display the ID token details to be shown directly, you would want to change the ‘href’ button class with the below probable HTML classes and scripts extensions, so that the redirection after logging in to the application will directly display the ‘https://jwt.ms’ page and it will capture the token and decode it accordingly showing the claims held by the token. Kindly refer to the below link for more detailed information: -</p>\n<p><a href=\"https://stackoverflow.com/questions/2906582/how-to-create-an-html-button-that-acts-like-a-link\">How to create an HTML button that acts like a link</a></p>\n<pre><code>  ' &lt;form action=&quot;https://google.com&quot;&gt;\n     &lt;input type=&quot;submit&quot; value=&quot;Go to Google&quot; /&gt;\n      &lt;/form&gt; '\n</code></pre>\n<p>The above modifications in the ‘.html’ pages of the application should display you the required token details without the button class in HTML pages.</p>\n"}],"owner":{"account_id":23992827,"reputation":11,"user_id":17978712,"display_name":"cpatricio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":941,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643106473,"creation_date":1642632175,"question_id":70778686,"body_markdown":"Following this sample: https://github.com/Azure-Samples/ms-identity-java-spring-tutorial/tree/main/1-Authentication/sign-in\r\n\r\nTo extract token details, we need to use AuthenticationPrincipal and OidcUser object in a request mapping. See the Sample Controller for an example of this app making use of ID Token claims.\r\n\r\n    \r\n\r\n    import org.springframework.security.oauth2.core.oidc.user.OidcUser;\r\n    import org.springframework.security.core.annotation.AuthenticationPrincipal;\r\n    //...\r\n    @GetMapping(path = &quot;/some_path&quot;)\r\n    public String tokenDetails(@AuthenticationPrincipal OidcUser principal) {\r\n        Map&lt;String, Object&gt; claims = principal.getIdToken().getClaims();\r\n    }\r\n\r\n\r\nIn the sample, there&#180;s a button &quot;Id Token Details&quot; that calls &quot;/some_path&quot;\r\n[Screen][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hadid.png\r\n\r\nHow to do this without call a button? Is there a way to do this under the covers?\r\n\r\nAny help would be greatly appreciated","title":"Azure Active Directory Spring Boot @AuthenticationPrincipal","body":"<p>Following this sample: <a href=\"https://github.com/Azure-Samples/ms-identity-java-spring-tutorial/tree/main/1-Authentication/sign-in\" rel=\"nofollow noreferrer\">https://github.com/Azure-Samples/ms-identity-java-spring-tutorial/tree/main/1-Authentication/sign-in</a></p>\n<p>To extract token details, we need to use AuthenticationPrincipal and OidcUser object in a request mapping. See the Sample Controller for an example of this app making use of ID Token claims.</p>\n<pre><code>import org.springframework.security.oauth2.core.oidc.user.OidcUser;\nimport org.springframework.security.core.annotation.AuthenticationPrincipal;\n//...\n@GetMapping(path = &quot;/some_path&quot;)\npublic String tokenDetails(@AuthenticationPrincipal OidcUser principal) {\n    Map&lt;String, Object&gt; claims = principal.getIdToken().getClaims();\n}\n</code></pre>\n<p>In the sample, there´s a button &quot;Id Token Details&quot; that calls &quot;/some_path&quot;\n<a href=\"https://i.stack.imgur.com/Hadid.png\" rel=\"nofollow noreferrer\">Screen</a></p>\n<p>How to do this without call a button? Is there a way to do this under the covers?</p>\n<p>Any help would be greatly appreciated</p>\n"},{"tags":["java","server","client","bufferedreader","readline"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1643106386,"post_id":70846876,"comment_id":125246028,"body_markdown":"How does it &quot;crash&quot;?    Does it throw an exception?  Show us the stacktrace.","body":"How does it &quot;crash&quot;?    Does it throw an exception?  Show us the stacktrace."},{"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"score":1,"creation_date":1643106437,"post_id":70846876,"comment_id":125246047,"body_markdown":"what exactly is the error? are you getting null while doing readLine() on m_dataFromServer?","body":"what exactly is the error? are you getting null while doing readLine() on m_dataFromServer?"},{"owner":{"account_id":24047754,"reputation":1,"user_id":18026595,"display_name":"moreaubapt"},"score":1,"creation_date":1643106798,"post_id":70846876,"comment_id":125246203,"body_markdown":"the stackTrace is the problem too, i get 0 exeption, my api bug like button is unusable, and cant close the api ,when i run the code in debug run in eclypse , it send me to BufferedReader.class in the :                                        public String readLine() throws IOException {\n        return readLine(false);\n    }","body":"the stackTrace is the problem too, i get 0 exeption, my api bug like button is unusable, and cant close the api ,when i run the code in debug run in eclypse , it send me to BufferedReader.class in the :                                        public String readLine() throws IOException {         return readLine(false);     }"},{"owner":{"account_id":24047754,"reputation":1,"user_id":18026595,"display_name":"moreaubapt"},"score":0,"creation_date":1643107109,"post_id":70846876,"comment_id":125246337,"body_markdown":"i think the bug is because at the moment i use the while ((responseLine = m_dataFromServer.readLine()) != null), the programms cant goes in , because i think m_dataFromServer.readline = null; but i dont understand why","body":"i think the bug is because at the moment i use the while ((responseLine = m_dataFromServer.readLine()) != null), the programms cant goes in , because i think m_dataFromServer.readline = null; but i dont understand why"}],"owner":{"account_id":24047754,"reputation":1,"user_id":18026595,"display_name":"moreaubapt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643106056,"creation_date":1643105745,"question_id":70846876,"body_markdown":"thank you for helping me \r\nI m a begginer in java and i really need some help to fix a bug from my api client connect .\r\nI want to made an api who connect to a server , can send some request with a textfield and jButton, and print the answer from the server in a textArea . \r\nHere everithing is working, exept the buffered.readLine , that make my api crash .Apparently, my buffer got a byte value, but at the moment i do buffered.readline, that make her values goes to null and make all the code crash .\r\nCan somebody help me ? \r\nSry for my mistakes in english.\r\n\r\npublic class Serveur_client extends JPanel implements ActionListener {\r\n    \r\n    private static final long serialVersionUID = 4959710096704722844L;\r\n    private static Serveur_client m_serveurClient = null;\r\n    private JTextField m_txtFldToMachine;\r\n    private JTextArea txtAreaFromMachine;\r\n    private static BufferedWriter m_dataToServer = null;\r\n    private static BufferedReader m_dataFromServer = null;\r\n    private static Socket socketOfClient = null;\r\n    \r\n\r\n\r\n    public Serveur_client() {\r\n        initPanel();\r\n    }\r\n\r\n    /**\r\n     * Construct the Panel\r\n     */\r\n    private void initPanel() {\r\n\r\n        // Creation de l&#39;IHM\r\n\r\n        txtAreaFromMachine = new JTextArea(&quot;Ready to s command&quot;, 15, 38);\r\n        txtAreaFromMachine.setEditable(false);\r\n\r\n        m_txtFldToMachine = new JTextField(20);\r\n\r\n        JButton sendButton = new JButton(&quot;Envoi de la commande&quot;);\r\n\r\n        sendButton.addActionListener(new ActionListener() {\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                // TODO Auto-generated method stub\r\n                m_serveurClient.sendData();\r\n               \r\n            }\r\n        });\r\n\r\n        this.add(txtAreaFromMachine);\r\n        this.add(m_txtFldToMachine);\r\n        this.add(sendButton);\r\n    }\r\n\r\n    private static final String SEND_COMMAND = &quot;SEND&quot;;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(Arrays.toString(args));\r\n        m_serveurClient = new Serveur_client();\r\n        // Server Host\r\n\r\n        String serverHost = args != null &amp;&amp; args.length &gt; 0 ? args[0] : &quot;localhost&quot;;\r\n        String portString = args != null &amp;&amp; args.length &gt; 1 ? args[1] : &quot;9999&quot;;\r\n        int port = 9999;\r\n        try {\r\n            port = Integer.parseInt(portString);\r\n        } catch (Exception e) {\r\n            port = 9999;\r\n        }\r\n\r\n        String ipProp = System.getProperty(&quot;ipadresse&quot;);\r\n        String portProp = System.getProperty(&quot;port&quot;);\r\n\r\n        System.out.println(&quot;ipProp &quot; + ipProp);\r\n        System.out.println(&quot;portProp &quot; + portProp);\r\n\r\n        System.out.println(&quot;serverHost &quot; + serverHost);\r\n        System.out.println(&quot;port &quot; + port);\r\n\r\n        \r\n       \r\n\r\n        try {\r\n\r\n            // Send a request to connect to the server is listening on machine serverHost and port.\r\n            socketOfClient = new Socket(serverHost, port);\r\n\r\n            // Create output stream at the client (to send data to the server)\r\n            m_dataToServer = new BufferedWriter(new OutputStreamWriter(socketOfClient.getOutputStream()));\r\n\r\n            // Input stream at Client (Receive data from the server).\r\n            m_dataFromServer = new BufferedReader(new InputStreamReader(socketOfClient.getInputStream()));\r\n\r\n        } catch (UnknownHostException e) {\r\n            System.err.println(&quot;Erreur de connexion a l&#39;adresse&quot; + serverHost);\r\n            return;\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;IOExeption&quot;);\r\n            return;\r\n        }\r\n\r\n        // Creation de l&#39;IHM\r\n        JFrame frame = new JFrame(&quot;Test IHM&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(BorderLayout.CENTER, m_serveurClient);\r\n        frame.setSize(400, 350);\r\n        frame.setVisible(true);\r\n\r\n        \r\n    }\r\n\r\n    /**\r\n     * This method send data to serveur\r\n     */\r\n    private void sendData() {\r\n        String command = m_txtFldToMachine.getText();\r\n        System.out.println(&quot;message envoy&#233;: &quot; + command);\r\n        // TODO\r\n        txtAreaFromMachine.append(&quot;\\n&quot;);\r\n        txtAreaFromMachine.append(&quot;command receive: &quot; + command);\r\n\r\n        try {\r\n            m_dataToServer.write(command);\r\n            m_dataToServer.newLine();\r\n            m_dataToServer.flush();\r\n            receiveData();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void receiveData() {\r\n        try {\r\n            // Read data sent from the server.\r\n            // By reading the input stream of the Client Socket.\r\n            String responseLine;\r\n\r\n            while ((responseLine = m_dataFromServer.readLine()) != null) {\r\n                System.out.println(&quot;test&quot;);\r\n                System.out.println(responseLine);\r\n                System.out.println(&quot;Server: &quot; + responseLine);\r\n                if (responseLine.indexOf(&quot;OK&quot;) != -1) {\r\n                    break;\r\n                }\r\n            }\r\n\r\n            m_dataToServer.close();\r\n            m_dataFromServer.close();\r\n            socketOfClient.close();\r\n        } catch (UnknownHostException e) {\r\n            System.err.println(&quot;Impossible de se connecter a un hote inconnu &quot; + e);\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;IOException:  &quot; + e);\r\n        }\r\n    }\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n\r\n        String actionCommand = e.getActionCommand();\r\n        switch (actionCommand) {\r\n            case SEND_COMMAND:\r\n                m_serveurClient.sendData();\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n}","title":"my buffered.readline got a values to null, need help to understand why?","body":"<p>thank you for helping me\nI m a begginer in java and i really need some help to fix a bug from my api client connect .\nI want to made an api who connect to a server , can send some request with a textfield and jButton, and print the answer from the server in a textArea .\nHere everithing is working, exept the buffered.readLine , that make my api crash .Apparently, my buffer got a byte value, but at the moment i do buffered.readline, that make her values goes to null and make all the code crash .\nCan somebody help me ?\nSry for my mistakes in english.</p>\n<p>public class Serveur_client extends JPanel implements ActionListener {</p>\n<pre><code>private static final long serialVersionUID = 4959710096704722844L;\nprivate static Serveur_client m_serveurClient = null;\nprivate JTextField m_txtFldToMachine;\nprivate JTextArea txtAreaFromMachine;\nprivate static BufferedWriter m_dataToServer = null;\nprivate static BufferedReader m_dataFromServer = null;\nprivate static Socket socketOfClient = null;\n\n\n\npublic Serveur_client() {\n    initPanel();\n}\n\n/**\n * Construct the Panel\n */\nprivate void initPanel() {\n\n    // Creation de l'IHM\n\n    txtAreaFromMachine = new JTextArea(&quot;Ready to s command&quot;, 15, 38);\n    txtAreaFromMachine.setEditable(false);\n\n    m_txtFldToMachine = new JTextField(20);\n\n    JButton sendButton = new JButton(&quot;Envoi de la commande&quot;);\n\n    sendButton.addActionListener(new ActionListener() {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            // TODO Auto-generated method stub\n            m_serveurClient.sendData();\n           \n        }\n    });\n\n    this.add(txtAreaFromMachine);\n    this.add(m_txtFldToMachine);\n    this.add(sendButton);\n}\n\nprivate static final String SEND_COMMAND = &quot;SEND&quot;;\n\npublic static void main(String[] args) {\n\n    System.out.println(Arrays.toString(args));\n    m_serveurClient = new Serveur_client();\n    // Server Host\n\n    String serverHost = args != null &amp;&amp; args.length &gt; 0 ? args[0] : &quot;localhost&quot;;\n    String portString = args != null &amp;&amp; args.length &gt; 1 ? args[1] : &quot;9999&quot;;\n    int port = 9999;\n    try {\n        port = Integer.parseInt(portString);\n    } catch (Exception e) {\n        port = 9999;\n    }\n\n    String ipProp = System.getProperty(&quot;ipadresse&quot;);\n    String portProp = System.getProperty(&quot;port&quot;);\n\n    System.out.println(&quot;ipProp &quot; + ipProp);\n    System.out.println(&quot;portProp &quot; + portProp);\n\n    System.out.println(&quot;serverHost &quot; + serverHost);\n    System.out.println(&quot;port &quot; + port);\n\n    \n   \n\n    try {\n\n        // Send a request to connect to the server is listening on machine serverHost and port.\n        socketOfClient = new Socket(serverHost, port);\n\n        // Create output stream at the client (to send data to the server)\n        m_dataToServer = new BufferedWriter(new OutputStreamWriter(socketOfClient.getOutputStream()));\n\n        // Input stream at Client (Receive data from the server).\n        m_dataFromServer = new BufferedReader(new InputStreamReader(socketOfClient.getInputStream()));\n\n    } catch (UnknownHostException e) {\n        System.err.println(&quot;Erreur de connexion a l'adresse&quot; + serverHost);\n        return;\n    } catch (IOException e) {\n        System.err.println(&quot;IOExeption&quot;);\n        return;\n    }\n\n    // Creation de l'IHM\n    JFrame frame = new JFrame(&quot;Test IHM&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.getContentPane().add(BorderLayout.CENTER, m_serveurClient);\n    frame.setSize(400, 350);\n    frame.setVisible(true);\n\n    \n}\n\n/**\n * This method send data to serveur\n */\nprivate void sendData() {\n    String command = m_txtFldToMachine.getText();\n    System.out.println(&quot;message envoyé: &quot; + command);\n    // TODO\n    txtAreaFromMachine.append(&quot;\\n&quot;);\n    txtAreaFromMachine.append(&quot;command receive: &quot; + command);\n\n    try {\n        m_dataToServer.write(command);\n        m_dataToServer.newLine();\n        m_dataToServer.flush();\n        receiveData();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void receiveData() {\n    try {\n        // Read data sent from the server.\n        // By reading the input stream of the Client Socket.\n        String responseLine;\n\n        while ((responseLine = m_dataFromServer.readLine()) != null) {\n            System.out.println(&quot;test&quot;);\n            System.out.println(responseLine);\n            System.out.println(&quot;Server: &quot; + responseLine);\n            if (responseLine.indexOf(&quot;OK&quot;) != -1) {\n                break;\n            }\n        }\n\n        m_dataToServer.close();\n        m_dataFromServer.close();\n        socketOfClient.close();\n    } catch (UnknownHostException e) {\n        System.err.println(&quot;Impossible de se connecter a un hote inconnu &quot; + e);\n    } catch (IOException e) {\n        System.err.println(&quot;IOException:  &quot; + e);\n    }\n}\n@Override\npublic void actionPerformed(ActionEvent e) {\n\n    String actionCommand = e.getActionCommand();\n    switch (actionCommand) {\n        case SEND_COMMAND:\n            m_serveurClient.sendData();\n            break;\n    }\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":21414747,"reputation":1040,"user_id":15774176,"display_name":"Divyani Yadav"},"score":0,"creation_date":1645011769,"post_id":70846926,"comment_id":125755720,"body_markdown":"can you check this link : https://stackoverflow.com/a/62320163/15774176 is it helpful?","body":"can you check this link : <a href=\"https://stackoverflow.com/a/62320163/15774176\">stackoverflow.com/a/62320163/15774176</a> is it helpful?"},{"owner":{"account_id":477556,"reputation":2253,"user_id":889126,"accept_rate":80,"display_name":"Osify"},"score":0,"creation_date":1646116983,"post_id":70846926,"comment_id":126038463,"body_markdown":"@DivyaniYadav thanks, I aware that but I want to ignore the login as I don&#39;t use that service.","body":"@DivyaniYadav thanks, I aware that but I want to ignore the login as I don&#39;t use that service."}],"owner":{"account_id":477556,"reputation":2253,"user_id":889126,"accept_rate":80,"display_name":"Osify"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643105984,"creation_date":1643105984,"question_id":70846926,"body_markdown":"In our springboot project, we use only firestore, no other GCP services included\r\n\r\n    &lt;dependency&gt;\r\n\t   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;spring-cloud-gcp-starter-data-firestore&lt;/artifactId&gt;\r\n\t   &lt;version&gt;1.2.7.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nbut we always got error with GCP Credidential, I want to disable that track, how to do it?\r\n\r\n    java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n\r\nIn the application property we put as:\r\n\r\n    spring\r\n\t   cloud:\r\n          gcp:\r\n            firestore:\r\n                enabled: true\r\n                project-id: my-firestore-project-id\r\n                credentials:\r\n                    location: classpath:my-firestore-authentication-file-xxxx.json\r\n\r\nI already tried to disabled as:\r\n\r\n    spring.cloud.gcp.logging.enabled=false\r\n    spring.cloud.gcp.trace.enabled=false\r\n\r\nand still error, the error wont stop the application but it&#39;s disturb and how to disable that?","title":"Spring Boot with Cloud GCP Firestore, got error with Google Compute Engine GCP Credential, How to disable the error logs","body":"<p>In our springboot project, we use only firestore, no other GCP services included</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-cloud-gcp-starter-data-firestore&lt;/artifactId&gt;\n   &lt;version&gt;1.2.7.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but we always got error with GCP Credidential, I want to disable that track, how to do it?</p>\n<pre><code>java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\n</code></pre>\n<p>In the application property we put as:</p>\n<pre><code>spring\n   cloud:\n      gcp:\n        firestore:\n            enabled: true\n            project-id: my-firestore-project-id\n            credentials:\n                location: classpath:my-firestore-authentication-file-xxxx.json\n</code></pre>\n<p>I already tried to disabled as:</p>\n<pre><code>spring.cloud.gcp.logging.enabled=false\nspring.cloud.gcp.trace.enabled=false\n</code></pre>\n<p>and still error, the error wont stop the application but it's disturb and how to disable that?</p>\n"},{"tags":["java","collections","key-value","priority-queue"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1589051699,"post_id":61702224,"comment_id":109141366,"body_markdown":"Try using `Comparator.comparing(Pair::getValue)`.","body":"Try using <code>Comparator.comparing(Pair::getValue)</code>."},{"owner":{"account_id":17193383,"reputation":137,"user_id":12446743,"display_name":"Artaxerxes"},"score":0,"creation_date":1589051914,"post_id":61702224,"comment_id":109141436,"body_markdown":"can you please elaborate a little more. Or just post an modification. It&#39;d help because I&#39;m learning and uncomfortable with collections. Thanks","body":"can you please elaborate a little more. Or just post an modification. It&#39;d help because I&#39;m learning and uncomfortable with collections. Thanks"},{"owner":{"account_id":18173824,"reputation":1226,"user_id":13222971,"display_name":"Michael Kreutz"},"score":2,"creation_date":1589052021,"post_id":61702224,"comment_id":109141479,"body_markdown":"There is a constructor `public PriorityQueue(int initialCapacity,\n                         Comparator&lt;? super E&gt; comparator)` which accepts a comparator as second argument. The comparator describes how to sort.","body":"There is a constructor <code>public PriorityQueue(int initialCapacity,                          Comparator&lt;? super E&gt; comparator)</code> which accepts a comparator as second argument. The comparator describes how to sort."}],"answers":[{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1589053171,"creation_date":1589052062,"answer_id":61702424,"question_id":61702224,"body_markdown":"You need to use `Comparator` which will be used to order this priority queue.\r\n\r\nUse `Comparator.comparing()` and pass `Method reference` of  comparing parameter when create the `PriorityQueue`\r\n\r\n    PriorityQueue&lt;Pair&lt;Integer,Integer&gt; &gt; pq=\r\n                    new PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt;(n, Comparator.comparing(Pair::getKey));\r\n\r\nOr \r\n\r\nYou can use lambda expression \r\n\r\n    PriorityQueue&lt;Pair&lt;Integer,Integer&gt; &gt; pq=\r\n                        new PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt;(n,(a,b) -&gt; a.getKey() - b.getKey());","title":"How to use pair in a priority queue and then return the value using the key as the priority","body":"<p>You need to use <code>Comparator</code> which will be used to order this priority queue.</p>\n\n<p>Use <code>Comparator.comparing()</code> and pass <code>Method reference</code> of  comparing parameter when create the <code>PriorityQueue</code></p>\n\n<pre><code>PriorityQueue&lt;Pair&lt;Integer,Integer&gt; &gt; pq=\n                new PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt;(n, Comparator.comparing(Pair::getKey));\n</code></pre>\n\n<p>Or </p>\n\n<p>You can use lambda expression </p>\n\n<pre><code>PriorityQueue&lt;Pair&lt;Integer,Integer&gt; &gt; pq=\n                    new PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt;(n,(a,b) -&gt; a.getKey() - b.getKey());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1589399416,"creation_date":1589399416,"answer_id":61783610,"question_id":61702224,"body_markdown":"Alternative, use custom `Pair` class that implements `Comparable`.\r\n\r\n```\r\nclass Pair implements Comparable&lt;Pair&gt; {\r\n    Integer value;\r\n    Integer index;\r\n\r\n    public Pair(Integer value, Integer index) {\r\n        this.value = value;\r\n        this.index = index;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Pair o) {\r\n        return value - o.value;\r\n    }\r\n}\r\n```\r\n\r\nand then usage\r\n```\r\n// Add elements\r\nqueue.add(new Pair(valueKey, index));\r\n// do it for all your elements\r\n\r\nfinal Pair min = queue.poll();\r\nInteger index = min.index;\r\nInteger value = min.value;\r\n\r\n// Do with them what you want.\r\n```\r\n\r\nI used PriorityQueue in leetcode challenge.\r\nhttps://leetcode.com/problems/merge-k-sorted-lists/discuss/630580/Using-PriorityQueue-in-Java\r\n\r\nAnd this is full example\r\nhttps://github.com/yan-khonski-it/leetcode/blob/master/src/main/java/com/yk/training/leetcode/merge_sorted_lists/PriorityQueueSolution.java\r\n\r\n","title":"How to use pair in a priority queue and then return the value using the key as the priority","body":"<p>Alternative, use custom <code>Pair</code> class that implements <code>Comparable</code>.</p>\n\n<pre><code>class Pair implements Comparable&lt;Pair&gt; {\n    Integer value;\n    Integer index;\n\n    public Pair(Integer value, Integer index) {\n        this.value = value;\n        this.index = index;\n    }\n\n    @Override\n    public int compareTo(Pair o) {\n        return value - o.value;\n    }\n}\n</code></pre>\n\n<p>and then usage</p>\n\n<pre><code>// Add elements\nqueue.add(new Pair(valueKey, index));\n// do it for all your elements\n\nfinal Pair min = queue.poll();\nInteger index = min.index;\nInteger value = min.value;\n\n// Do with them what you want.\n</code></pre>\n\n<p>I used PriorityQueue in leetcode challenge.\n<a href=\"https://leetcode.com/problems/merge-k-sorted-lists/discuss/630580/Using-PriorityQueue-in-Java\" rel=\"noreferrer\">https://leetcode.com/problems/merge-k-sorted-lists/discuss/630580/Using-PriorityQueue-in-Java</a></p>\n\n<p>And this is full example\n<a href=\"https://github.com/yan-khonski-it/leetcode/blob/master/src/main/java/com/yk/training/leetcode/merge_sorted_lists/PriorityQueueSolution.java\" rel=\"noreferrer\">https://github.com/yan-khonski-it/leetcode/blob/master/src/main/java/com/yk/training/leetcode/merge_sorted_lists/PriorityQueueSolution.java</a></p>\n"},{"tags":[],"owner":{"account_id":1314647,"reputation":744,"user_id":1261816,"accept_rate":50,"display_name":"Sourabh86"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626844624,"creation_date":1626844624,"answer_id":68464302,"question_id":61702224,"body_markdown":"I prefer to use Map.Entry in most cases for this purpose. Other time a custom Pair class with Comparator in PriorityQueue constructor.\r\n\r\n```\r\nimport java.util.PriorityQueue;\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\n\r\npublic class Test\r\n{\r\n    public static void main (String[] args)\r\n    {\r\n        int n = 5;\r\n\r\n        PriorityQueue &lt;Map.Entry&lt;Integer,Integer&gt;&gt; l = new PriorityQueue &lt;&gt; (n,(a,b)-&gt;Integer.compare(a.getKey(),b.getKey()));\r\n        Map&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(1,90);\r\n        map.put(7,54);\r\n        map.put(2,99);\r\n        map.put(4,88);\r\n        map.put(9,89);\r\n        l.addAll(map.entrySet());\r\n        System.out.println(l.poll().getValue()); \r\n    }\r\n}\r\n```","title":"How to use pair in a priority queue and then return the value using the key as the priority","body":"<p>I prefer to use Map.Entry in most cases for this purpose. Other time a custom Pair class with Comparator in PriorityQueue constructor.</p>\n<pre><code>import java.util.PriorityQueue;\nimport java.util.Map;\nimport java.util.HashMap;\n\npublic class Test\n{\n    public static void main (String[] args)\n    {\n        int n = 5;\n\n        PriorityQueue &lt;Map.Entry&lt;Integer,Integer&gt;&gt; l = new PriorityQueue &lt;&gt; (n,(a,b)-&gt;Integer.compare(a.getKey(),b.getKey()));\n        Map&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();\n        map.put(1,90);\n        map.put(7,54);\n        map.put(2,99);\n        map.put(4,88);\n        map.put(9,89);\n        l.addAll(map.entrySet());\n        System.out.println(l.poll().getValue()); \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17193383,"reputation":137,"user_id":12446743,"display_name":"Artaxerxes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18120,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":61702424,"answer_count":3,"score":9,"last_activity_date":1643105324,"creation_date":1589051013,"question_id":61702224,"body_markdown":"So I want to use the smallest key as the priority and then return the VALUE of that corresponding key:\r\n````\r\nimport javafx.util.Pair;\r\nimport java.util.PriorityQueue;\r\n\r\npublic class Test\r\n{\r\n    public static void main (String[] args)\r\n    {\r\n        int n = 5;\r\n\r\n        PriorityQueue &lt;Pair &lt;Integer,Integer&gt; &gt; l = new PriorityQueue &lt;Pair &lt;Integer,Integer&gt; &gt; (n);\r\n\r\n        l.add(new Pair &lt;&gt; (1, 90));\r\n        l.add(new Pair &lt;&gt; (7, 54));\r\n        l.add(new Pair &lt;&gt; (2, 99));\r\n        l.add(new Pair &lt;&gt; (4, 88));\r\n        l.add(new Pair &lt;&gt; (9, 89));\r\n\r\n        System.out.println(l.poll().getValue()); \r\n    }\r\n}\r\n````\r\n\r\nThe output Im looking for is 90 because 1 is the smallest key. Its fine even if the value is used as the priority and the key is returned because I can just swap the data if neccessary. I want to display key/value using value/key as a priority (minimum value in this case). I do not know how this can be done in this scenario. This works fine in C++.\r\n","title":"How to use pair in a priority queue and then return the value using the key as the priority","body":"<p>So I want to use the smallest key as the priority and then return the VALUE of that corresponding key:</p>\n\n<pre><code>import javafx.util.Pair;\nimport java.util.PriorityQueue;\n\npublic class Test\n{\n    public static void main (String[] args)\n    {\n        int n = 5;\n\n        PriorityQueue &lt;Pair &lt;Integer,Integer&gt; &gt; l = new PriorityQueue &lt;Pair &lt;Integer,Integer&gt; &gt; (n);\n\n        l.add(new Pair &lt;&gt; (1, 90));\n        l.add(new Pair &lt;&gt; (7, 54));\n        l.add(new Pair &lt;&gt; (2, 99));\n        l.add(new Pair &lt;&gt; (4, 88));\n        l.add(new Pair &lt;&gt; (9, 89));\n\n        System.out.println(l.poll().getValue()); \n    }\n}\n</code></pre>\n\n<p>The output Im looking for is 90 because 1 is the smallest key. Its fine even if the value is used as the priority and the key is returned because I can just swap the data if neccessary. I want to display key/value using value/key as a priority (minimum value in this case). I do not know how this can be done in this scenario. This works fine in C++.</p>\n"},{"tags":["java","spring-boot","certificate","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643094156,"post_id":70843036,"comment_id":125241766,"body_markdown":"First of all, if a document has a certification signature, no approval signature may come before it. You claim JsignPDF can do otherwise but according to the specification that is impossible. Thus, either JsignPDF does something entirely different than you think it does or there is a bug in Adobe Acrobat which you appear to use as validator. To verify please share example docs (before and after certifying) with previous approval signatures and then a certification signature created by JsignPDF for analysis.","body":"First of all, if a document has a certification signature, no approval signature may come before it. You claim JsignPDF can do otherwise but according to the specification that is impossible. Thus, either JsignPDF does something entirely different than you think it does or there is a bug in Adobe Acrobat which you appear to use as validator. To verify please share example docs (before and after certifying) with previous approval signatures and then a certification signature created by JsignPDF for analysis."},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1643096163,"post_id":70843036,"comment_id":125242318,"body_markdown":"However, the first signature is always be certified or can be set ?","body":"However, the first signature is always be certified or can be set ?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643101732,"post_id":70843036,"comment_id":125244260,"body_markdown":"If there is a certification signature, it must be before all approval signatures. And if there is no signature in a document yet, you can add a certification signature. And no, you cannot swap signatures.","body":"If there is a certification signature, it must be before all approval signatures. And if there is no signature in a document yet, you can add a certification signature. And no, you cannot swap signatures."},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1643102338,"post_id":70843036,"comment_id":125244486,"body_markdown":"oke, i undestand. More question if the certification signature come first then next is approval like 3 signature approval, can the last the certification setMDPPermission with 1 ? so at the end the document can&#39;t add more approval signature","body":"oke, i undestand. More question if the certification signature come first then next is approval like 3 signature approval, can the last the certification setMDPPermission with 1 ? so at the end the document can&#39;t add more approval signature"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643102799,"post_id":70843036,"comment_id":125244659,"body_markdown":"*&quot;More question if the certification signature come first then next is approval like 3 signature approval, can the last the certification setMDPPermission with 1 ?&quot;* - You cannot use `setMDPPermission` for that as that would create another certification signature. What you can do, though, is adding a signature lock dictionary to the final signature field to sign with a **P** value of 1 to lock the document. Beware, though: This is a feature for PDF 2.0 conform viewers. Thus, Adobe Acrobat will respect that entry but some PDF viewers probably will not.","body":"<i>&quot;More question if the certification signature come first then next is approval like 3 signature approval, can the last the certification setMDPPermission with 1 ?&quot;</i> - You cannot use <code>setMDPPermission</code> for that as that would create another certification signature. What you can do, though, is adding a signature lock dictionary to the final signature field to sign with a <b>P</b> value of 1 to lock the document. Beware, though: This is a feature for PDF 2.0 conform viewers. Thus, Adobe Acrobat will respect that entry but some PDF viewers probably will not."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643105019,"post_id":70843036,"comment_id":125245533,"body_markdown":"By the way, *&#39;Signature with the parameter &quot;sign&quot; and Certified with parameter &quot;seal&quot;&#39;* - even with the parameter &quot;sign&quot; your code adds a **DocMDP** transform to the signature in case of `accessPermissions == 0`; but such a **DocMDP** transform makes a signature a certification. So this obviously is wrong.","body":"By the way, <i>&#39;Signature with the parameter &quot;sign&quot; and Certified with parameter &quot;seal&quot;&#39;</i> - even with the parameter &quot;sign&quot; your code adds a <b>DocMDP</b> transform to the signature in case of <code>accessPermissions == 0</code>; but such a <b>DocMDP</b> transform makes a signature a certification. So this obviously is wrong."},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1643105990,"post_id":70843036,"comment_id":125245889,"body_markdown":"yes, i have deleted that code. now just &quot;seal&quot; have DocMDP transform","body":"yes, i have deleted that code. now just &quot;seal&quot; have DocMDP transform"},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1643106210,"post_id":70843036,"comment_id":125245955,"body_markdown":"signature lock dictionary is show the signature pict ? i try it just show the rectangle box","body":"signature lock dictionary is show the signature pict ? i try it just show the rectangle box"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643107666,"post_id":70843036,"comment_id":125246524,"body_markdown":"*&quot;signature lock dictionary is show the signature pict ?&quot;* - The signature lock dictionary has nothing to do with some signature picture. Simply add a dictionary filled as described  in section 12.7.5.5 &quot;Signature fields&quot; of ISO 32000-2:2020 to the signature field dictionary.","body":"<i>&quot;signature lock dictionary is show the signature pict ?&quot;</i> - The signature lock dictionary has nothing to do with some signature picture. Simply add a dictionary filled as described  in section 12.7.5.5 &quot;Signature fields&quot; of ISO 32000-2:2020 to the signature field dictionary."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643104823,"creation_date":1643104823,"answer_id":70846674,"question_id":70843036,"body_markdown":"*This answer essentially is a more detailed version of the comments, essentially finding that what you want to do is not possible.*\r\n\r\nYou ask for a way to\r\n\r\n&gt;Certify Document when Approval Signature exist\r\n\r\nAccording to the current PDF specification:\r\n\r\n|ISO 32000-2:2020 subsection 12.8.1 &quot;General&quot; of 12.8 &quot;Digital signatures&quot;|\r\n|-|\r\n|A PDF document may contain the following standard types of signatures: [...] One or more approval signatures (also known as recipient signatures). These shall follow the certification signature if one is present.|\r\n\r\nThus, you cannot validly add a certification signature to a PDF which already has approval signatures.\r\n\r\n(This does not automatically mean that all validators will detect the issue if you add a certification signature after approval signatures, let alone correctly display the cause. Many validators only do a subset of the checks that strictly speaking are necessary...)\r\n\r\n&gt; More question if the certification signature come first then next is approval like 3 signature approval, can the last the certification setMDPPermission with 1 ? so at the end the document can&#39;t add more approval signature\r\n\r\n`setMDPPermission` adds a **DocMDP** transform to the signature, and such a transform makes the signature a certification signature. Thus, using this method when signing a document that already has an approval signature, will create an invalid PDF or fail entirely.\r\n\r\nYou can lock a PDF document with an approval signature, though, if you add a **Lock** dictionary to the signature field with a **P** entry of 1. Beware, though, this is a ISO 32000-2 feature originally introduced as a feature of an Adobe Extension to ISO 32000-1. Not all PDF viewers support ISO 32000-2 yet, so some viewers may not respect this entry.","title":"Certified Document when Approval Signature exist","body":"<p><em>This answer essentially is a more detailed version of the comments, essentially finding that what you want to do is not possible.</em></p>\n<p>You ask for a way to</p>\n<blockquote>\n<p>Certify Document when Approval Signature exist</p>\n</blockquote>\n<p>According to the current PDF specification:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ISO 32000-2:2020 subsection 12.8.1 &quot;General&quot; of 12.8 &quot;Digital signatures&quot;</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A PDF document may contain the following standard types of signatures: [...] One or more approval signatures (also known as recipient signatures). These shall follow the certification signature if one is present.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Thus, you cannot validly add a certification signature to a PDF which already has approval signatures.</p>\n<p>(This does not automatically mean that all validators will detect the issue if you add a certification signature after approval signatures, let alone correctly display the cause. Many validators only do a subset of the checks that strictly speaking are necessary...)</p>\n<blockquote>\n<p>More question if the certification signature come first then next is approval like 3 signature approval, can the last the certification setMDPPermission with 1 ? so at the end the document can't add more approval signature</p>\n</blockquote>\n<p><code>setMDPPermission</code> adds a <strong>DocMDP</strong> transform to the signature, and such a transform makes the signature a certification signature. Thus, using this method when signing a document that already has an approval signature, will create an invalid PDF or fail entirely.</p>\n<p>You can lock a PDF document with an approval signature, though, if you add a <strong>Lock</strong> dictionary to the signature field with a <strong>P</strong> entry of 1. Beware, though, this is a ISO 32000-2 feature originally introduced as a feature of an Adobe Extension to ISO 32000-1. Not all PDF viewers support ISO 32000-2 yet, so some viewers may not respect this entry.</p>\n"}],"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70846674,"answer_count":1,"score":1,"last_activity_date":1643104823,"creation_date":1643080704,"question_id":70843036,"body_markdown":"Working with java use Apache PDFBox to sign and certified, invalid certified if signature exist, with JsignPDF was able to certified when approval exist, the process is sign after that do certified (seal) document\r\n\r\nSignature with JsignPDF\r\n\r\n[![Document with approval sign][1]][1]\r\n\r\n\r\ndocument after certified with JsignPDF :\r\n\r\n[![Document signed with certified][2]][2]\r\n\r\nthe certified invalid with PDFBox\r\n\r\n[![Invalid certified PDFBox][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ILKh8.png\r\n  [2]: https://i.stack.imgur.com/uiU9Q.png\r\n  [3]: https://i.stack.imgur.com/S7E7J.png\r\n\r\nthe function from PDFBox with some editing was to try :\r\n\r\n\r\n    public void signPDF(File inputFile, File signedFile,  Rectangle2D humanRect, String tsaUrl, int page, String SignatureField, boolean isWithQR, String name, UserSignature userSignature) throws IOException, CertificateEncodingException, NoSuchAlgorithmException, OperatorCreationException, CMSException {\r\n            if (inputFile == null || !inputFile.exists()) {\r\n                throw new IOException(&quot;Document for signing does not exist&quot;);\r\n            }\r\n    \r\n            setTsaUrl(tsaUrl);\r\n            // creating output document and prepare the IO streams.\r\n    \r\n    //        try (FileOutputStream fos = new FileOutputStream(signedFile);\r\n    //             PDDocument doc = Loader.loadPDF(inputFile)) {\r\n    \r\n            // creating output document and prepare the IO streams.\r\n            FileOutputStream fos = new FileOutputStream(signedFile);\r\n    \r\n            // load document\r\n            PDDocument doc = PDDocument.load(inputFile);\r\n    \r\n                int accessPermissions = SigUtils.getMDPPermission(doc);\r\n                LogSystem.info(&quot;Document permission &quot; + accessPermissions);\r\n                if (accessPermissions == 1) {\r\n                    throw new IllegalStateException(&quot;No changes to the document are permitted due to DocMDP transform parameters dictionary&quot;);\r\n                }\r\n                // Note that PDFBox has a bug that visual signing on certified files with permission 2\r\n                // doesn&#39;t work properly, see PDFBOX-3699. As long as this issue is open, you may want to\r\n                // be careful with such files.\r\n    \r\n                PDSignature signature = null;\r\n                PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm(null);\r\n                PDRectangle rect = null;\r\n    \r\n                // sign a PDF with an existing empty signature, as created by the CreateEmptySignatureForm example.\r\n                if (acroForm != null) {\r\n                    signature = findExistingSignature(acroForm, SignatureField);\r\n                    if (signature != null) {\r\n                        rect = acroForm.getField(SignatureField).getWidgets().get(0).getRectangle();\r\n                    }\r\n                }\r\n    \r\n                if (signature == null) {\r\n                    // create signature dictionary\r\n                    signature = new PDSignature();\r\n                }\r\n    \r\n    \r\n                if (rect == null) {\r\n                    rect = createSignatureRectangle(doc, humanRect);\r\n                }\r\n    \r\n                // Optional: certify\r\n                // can be done only if version is at least 1.5 and if not already set\r\n                // doing this on a PDF/A-1b file fails validation by Adobe preflight (PDFBOX-3821)\r\n                // PDF/A-1b requires PDF version 1.4 max, so don&#39;t increase the version on such files.\r\n    \r\n    //            if (doc.getVersion() &gt;= 1.5f &amp;&amp; accessPermissions == 0)\r\n    //            {\r\n    //                SigUtils.setMDPPermission(doc, signature, 2);\r\n    //            }\r\n    \r\n                if (acroForm != null &amp;&amp; acroForm.getNeedAppearances()) {\r\n                    // PDFBOX-3738 NeedAppearances true results in visible signature becoming invisible\r\n                    // with Adobe Reader\r\n                    if (acroForm.getFields().isEmpty()) {\r\n                        // we can safely delete it if there are no fields\r\n                        acroForm.getCOSObject().removeItem(COSName.NEED_APPEARANCES);\r\n                        // note that if you&#39;ve set MDP permissions, the removal of this item\r\n                        // may result in Adobe Reader claiming that the document has been changed.\r\n                        // and/or that field content won&#39;t be displayed properly.\r\n                        // ==&gt; decide what you prefer and adjust your code accordingly.\r\n                    } else {\r\n                        System.out.println(&quot;/NeedAppearances is set, signature may be ignored by Adobe Reader&quot;);\r\n                    }\r\n                }\r\n    \r\n                // default filter\r\n                signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n    \r\n                // subfilter for basic and PAdES Part 2 signatures\r\n                signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n    \r\n                signature.setName(&quot;Name&quot;);\r\n                signature.setLocation(&quot;Location&quot;);\r\n                \r\n                if(userSignature.getType().equals(&quot;sign&quot;))\r\n                {\r\n                    signature.setReason(&quot;Reason&quot;);\r\n                    if (accessPermissions == 0) {\r\n\r\n                        COSDictionary sigDict = signature.getCOSObject();\r\n    \r\n                        // DocMDP specific stuff\r\n                        COSDictionary transformParameters = new COSDictionary();\r\n                        transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\r\n                        transformParameters.setInt(COSName.P, 0);\r\n                        transformParameters.setNeedToBeUpdated(true);\r\n    \r\n                        COSDictionary referenceDict = new COSDictionary();\r\n                        referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\r\n                        referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\r\n                        referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\r\n                        referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\r\n                        referenceDict.setNeedToBeUpdated(true);\r\n    \r\n                        COSArray referenceArray = new COSArray();\r\n                        referenceArray.add(referenceDict);\r\n                        sigDict.setItem(COSName.REFERENCE, referenceArray);\r\n                        referenceArray.setNeedToBeUpdated(true);\r\n    \r\n                        COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\r\n                        COSDictionary permsDict = new COSDictionary();\r\n                        catalogDict.setItem(COSName.PERMS, permsDict);\r\n                        permsDict.setItem(COSName.DOCMDP, signature);\r\n                        catalogDict.setNeedToBeUpdated(true);\r\n                        permsDict.setNeedToBeUpdated(true);\r\n                    }\r\n                }\r\n                if(userSignature.getType().equals(&quot;seal&quot;))\r\n                {\r\n                    signature.setReason(userSignature.getQrText());\r\n    //                try {\r\n    //                    if (doc.getVersion() &gt;= 1.5f &amp;&amp; accessPermissions == 0)\r\n    //                    {\r\n    //                        SigUtils.setMDPPermission(doc, signature, 2);\r\n    //                    }\r\n    //                }catch(Exception e)\r\n    //                {\r\n    //                    e.printStackTrace();\r\n    //                }\r\n                    if (accessPermissions == 0) {\r\n                        //            SigUtils.setMDPPermission(document, signature, 1);\r\n                        COSDictionary sigDict = signature.getCOSObject();\r\n    \r\n                        // DocMDP specific stuff\r\n                        COSDictionary transformParameters = new COSDictionary();\r\n                        transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\r\n                        transformParameters.setInt(COSName.P, 2);\r\n                        transformParameters.setNeedToBeUpdated(true);\r\n    \r\n                        COSDictionary referenceDict = new COSDictionary();\r\n                        referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\r\n                        referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\r\n                        referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\r\n                        referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\r\n                        referenceDict.setNeedToBeUpdated(true);\r\n    \r\n                        COSArray referenceArray = new COSArray();\r\n                        referenceArray.add(referenceDict);\r\n                        sigDict.setItem(COSName.REFERENCE, referenceArray);\r\n                        referenceArray.setNeedToBeUpdated(true);\r\n    \r\n                        COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\r\n                        COSDictionary permsDict = new COSDictionary();\r\n                        catalogDict.setItem(COSName.PERMS, permsDict);\r\n                        permsDict.setItem(COSName.DOCMDP, signature);\r\n                        catalogDict.setNeedToBeUpdated(true);\r\n                        permsDict.setNeedToBeUpdated(true);\r\n                    }\r\n                }\r\n    \r\n                // the signing date, needed for valid signature\r\n                signature.setSignDate(Calendar.getInstance());\r\n    \r\n                // do not set SignatureInterface instance, if external signing used\r\n                SignatureInterface signatureInterface = isExternalSigning() ? null : this;\r\n    \r\n                // register signature dictionary and sign interface\r\n                signatureOptions = new SignatureOptions();\r\n    \r\n                signatureOptions.setVisualSignature(createVisualSignatureTemplate(doc, 0, rect, signature, isWithQR, name, userSignature.getDescOnly(), userSignature.getType(), userSignature.isVisible()));\r\n                signatureOptions.setPage(page);\r\n    \r\n    \r\n    \r\n                doc.addSignature(signature, signatureInterface, signatureOptions);\r\n                doc.getDocumentCatalog().getAcroForm().getField(&quot;Signature1&quot;).setPartialName(SignatureField);\r\n    \r\n                if (isExternalSigning()) {\r\n                    this.tsaUrl=tsaUrl;\r\n    //                ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\r\n    //                // invoke external signature service\r\n    //                byte[] cmsSignature = sign(externalSigning.getContent());\r\n    \r\n    \r\n    \r\n                    ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\r\n    \r\n                    // invoke external signature service\r\n                    byte[] cmsSignature =IOUtils.toByteArray(externalSigning.getContent());\r\n                    String sgn= signingProcess(cmsSignature);\r\n    \r\n                    // set signature bytes received from the service\r\n                    externalSigning.setSignature(attachSignature(sgn));\r\n    \r\n                } else {\r\n                    // write incremental (only for signing purpose)\r\n                    doc.saveIncremental(fos);\r\n                }\r\n            doc.close();\r\n    //        } catch (CertificateEncodingException e) {\r\n    //            e.printStackTrace();\r\n    //        } catch (NoSuchAlgorithmException e) {\r\n    //            e.printStackTrace();\r\n    //        } catch (OperatorCreationException e) {\r\n    //            e.printStackTrace();\r\n    //        } catch (CMSException e) {\r\n    //            e.printStackTrace();\r\n    //        }\r\n    \r\n            // Do not close signatureOptions before saving, because some COSStream objects within\r\n            // are transferred to the signed document.\r\n            // Do not allow signatureOptions get out of scope before saving, because then the COSDocument\r\n            // in signature options might by closed by gc, which would close COSStream objects prematurely.\r\n            // See https://issues.apache.org/jira/browse/PDFBOX-3743\r\n            IOUtils.closeQuietly(signatureOptions);\r\n        }\r\n\r\nset setMDPermission to certified the document :\r\n\r\n    if (accessPermissions == 0) {\r\n\r\n        COSDictionary sigDict = signature.getCOSObject();\r\n        \r\n        // DocMDP specific stuff\r\n        COSDictionary transformParameters = new COSDictionary();\r\n        transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\r\n        transformParameters.setInt(COSName.P, 1);\r\n        transformParameters.setNeedToBeUpdated(true);\r\n        \r\n        COSDictionary referenceDict = new COSDictionary();\r\n        referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\r\n        referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\r\n        referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\r\n        referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\r\n        referenceDict.setNeedToBeUpdated(true);\r\n        \r\n        COSArray referenceArray = new COSArray();\r\n        referenceArray.add(referenceDict);\r\n        sigDict.setItem(COSName.REFERENCE, referenceArray);\r\n        referenceArray.setNeedToBeUpdated(true);\r\n        \r\n        COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\r\n        COSDictionary permsDict = new COSDictionary();\r\n        catalogDict.setItem(COSName.PERMS, permsDict);\r\n        permsDict.setItem(COSName.DOCMDP, signature);\r\n        catalogDict.setNeedToBeUpdated(true);\r\n        permsDict.setNeedToBeUpdated(true);\r\n    }\r\n\r\nSignature with the parameter &quot;sign&quot; and Certified with parameter &quot;seal&quot;\r\n\r\n*Update, on PDFBox the first existing signature always be certified, not second signature ? can the last sign be certified and swap the first one ?\r\n\r\nany suggest ?","title":"Certified Document when Approval Signature exist","body":"<p>Working with java use Apache PDFBox to sign and certified, invalid certified if signature exist, with JsignPDF was able to certified when approval exist, the process is sign after that do certified (seal) document</p>\n<p>Signature with JsignPDF</p>\n<p><a href=\"https://i.stack.imgur.com/ILKh8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ILKh8.png\" alt=\"Document with approval sign\" /></a></p>\n<p>document after certified with JsignPDF :</p>\n<p><a href=\"https://i.stack.imgur.com/uiU9Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uiU9Q.png\" alt=\"Document signed with certified\" /></a></p>\n<p>the certified invalid with PDFBox</p>\n<p><a href=\"https://i.stack.imgur.com/S7E7J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S7E7J.png\" alt=\"Invalid certified PDFBox\" /></a></p>\n<p>the function from PDFBox with some editing was to try :</p>\n<pre><code>public void signPDF(File inputFile, File signedFile,  Rectangle2D humanRect, String tsaUrl, int page, String SignatureField, boolean isWithQR, String name, UserSignature userSignature) throws IOException, CertificateEncodingException, NoSuchAlgorithmException, OperatorCreationException, CMSException {\n        if (inputFile == null || !inputFile.exists()) {\n            throw new IOException(&quot;Document for signing does not exist&quot;);\n        }\n\n        setTsaUrl(tsaUrl);\n        // creating output document and prepare the IO streams.\n\n//        try (FileOutputStream fos = new FileOutputStream(signedFile);\n//             PDDocument doc = Loader.loadPDF(inputFile)) {\n\n        // creating output document and prepare the IO streams.\n        FileOutputStream fos = new FileOutputStream(signedFile);\n\n        // load document\n        PDDocument doc = PDDocument.load(inputFile);\n\n            int accessPermissions = SigUtils.getMDPPermission(doc);\n            LogSystem.info(&quot;Document permission &quot; + accessPermissions);\n            if (accessPermissions == 1) {\n                throw new IllegalStateException(&quot;No changes to the document are permitted due to DocMDP transform parameters dictionary&quot;);\n            }\n            // Note that PDFBox has a bug that visual signing on certified files with permission 2\n            // doesn't work properly, see PDFBOX-3699. As long as this issue is open, you may want to\n            // be careful with such files.\n\n            PDSignature signature = null;\n            PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm(null);\n            PDRectangle rect = null;\n\n            // sign a PDF with an existing empty signature, as created by the CreateEmptySignatureForm example.\n            if (acroForm != null) {\n                signature = findExistingSignature(acroForm, SignatureField);\n                if (signature != null) {\n                    rect = acroForm.getField(SignatureField).getWidgets().get(0).getRectangle();\n                }\n            }\n\n            if (signature == null) {\n                // create signature dictionary\n                signature = new PDSignature();\n            }\n\n\n            if (rect == null) {\n                rect = createSignatureRectangle(doc, humanRect);\n            }\n\n            // Optional: certify\n            // can be done only if version is at least 1.5 and if not already set\n            // doing this on a PDF/A-1b file fails validation by Adobe preflight (PDFBOX-3821)\n            // PDF/A-1b requires PDF version 1.4 max, so don't increase the version on such files.\n\n//            if (doc.getVersion() &gt;= 1.5f &amp;&amp; accessPermissions == 0)\n//            {\n//                SigUtils.setMDPPermission(doc, signature, 2);\n//            }\n\n            if (acroForm != null &amp;&amp; acroForm.getNeedAppearances()) {\n                // PDFBOX-3738 NeedAppearances true results in visible signature becoming invisible\n                // with Adobe Reader\n                if (acroForm.getFields().isEmpty()) {\n                    // we can safely delete it if there are no fields\n                    acroForm.getCOSObject().removeItem(COSName.NEED_APPEARANCES);\n                    // note that if you've set MDP permissions, the removal of this item\n                    // may result in Adobe Reader claiming that the document has been changed.\n                    // and/or that field content won't be displayed properly.\n                    // ==&gt; decide what you prefer and adjust your code accordingly.\n                } else {\n                    System.out.println(&quot;/NeedAppearances is set, signature may be ignored by Adobe Reader&quot;);\n                }\n            }\n\n            // default filter\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n\n            // subfilter for basic and PAdES Part 2 signatures\n            signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n\n            signature.setName(&quot;Name&quot;);\n            signature.setLocation(&quot;Location&quot;);\n            \n            if(userSignature.getType().equals(&quot;sign&quot;))\n            {\n                signature.setReason(&quot;Reason&quot;);\n                if (accessPermissions == 0) {\n\n                    COSDictionary sigDict = signature.getCOSObject();\n\n                    // DocMDP specific stuff\n                    COSDictionary transformParameters = new COSDictionary();\n                    transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\n                    transformParameters.setInt(COSName.P, 0);\n                    transformParameters.setNeedToBeUpdated(true);\n\n                    COSDictionary referenceDict = new COSDictionary();\n                    referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\n                    referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\n                    referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\n                    referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\n                    referenceDict.setNeedToBeUpdated(true);\n\n                    COSArray referenceArray = new COSArray();\n                    referenceArray.add(referenceDict);\n                    sigDict.setItem(COSName.REFERENCE, referenceArray);\n                    referenceArray.setNeedToBeUpdated(true);\n\n                    COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\n                    COSDictionary permsDict = new COSDictionary();\n                    catalogDict.setItem(COSName.PERMS, permsDict);\n                    permsDict.setItem(COSName.DOCMDP, signature);\n                    catalogDict.setNeedToBeUpdated(true);\n                    permsDict.setNeedToBeUpdated(true);\n                }\n            }\n            if(userSignature.getType().equals(&quot;seal&quot;))\n            {\n                signature.setReason(userSignature.getQrText());\n//                try {\n//                    if (doc.getVersion() &gt;= 1.5f &amp;&amp; accessPermissions == 0)\n//                    {\n//                        SigUtils.setMDPPermission(doc, signature, 2);\n//                    }\n//                }catch(Exception e)\n//                {\n//                    e.printStackTrace();\n//                }\n                if (accessPermissions == 0) {\n                    //            SigUtils.setMDPPermission(document, signature, 1);\n                    COSDictionary sigDict = signature.getCOSObject();\n\n                    // DocMDP specific stuff\n                    COSDictionary transformParameters = new COSDictionary();\n                    transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\n                    transformParameters.setInt(COSName.P, 2);\n                    transformParameters.setNeedToBeUpdated(true);\n\n                    COSDictionary referenceDict = new COSDictionary();\n                    referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\n                    referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\n                    referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\n                    referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\n                    referenceDict.setNeedToBeUpdated(true);\n\n                    COSArray referenceArray = new COSArray();\n                    referenceArray.add(referenceDict);\n                    sigDict.setItem(COSName.REFERENCE, referenceArray);\n                    referenceArray.setNeedToBeUpdated(true);\n\n                    COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\n                    COSDictionary permsDict = new COSDictionary();\n                    catalogDict.setItem(COSName.PERMS, permsDict);\n                    permsDict.setItem(COSName.DOCMDP, signature);\n                    catalogDict.setNeedToBeUpdated(true);\n                    permsDict.setNeedToBeUpdated(true);\n                }\n            }\n\n            // the signing date, needed for valid signature\n            signature.setSignDate(Calendar.getInstance());\n\n            // do not set SignatureInterface instance, if external signing used\n            SignatureInterface signatureInterface = isExternalSigning() ? null : this;\n\n            // register signature dictionary and sign interface\n            signatureOptions = new SignatureOptions();\n\n            signatureOptions.setVisualSignature(createVisualSignatureTemplate(doc, 0, rect, signature, isWithQR, name, userSignature.getDescOnly(), userSignature.getType(), userSignature.isVisible()));\n            signatureOptions.setPage(page);\n\n\n\n            doc.addSignature(signature, signatureInterface, signatureOptions);\n            doc.getDocumentCatalog().getAcroForm().getField(&quot;Signature1&quot;).setPartialName(SignatureField);\n\n            if (isExternalSigning()) {\n                this.tsaUrl=tsaUrl;\n//                ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\n//                // invoke external signature service\n//                byte[] cmsSignature = sign(externalSigning.getContent());\n\n\n\n                ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\n\n                // invoke external signature service\n                byte[] cmsSignature =IOUtils.toByteArray(externalSigning.getContent());\n                String sgn= signingProcess(cmsSignature);\n\n                // set signature bytes received from the service\n                externalSigning.setSignature(attachSignature(sgn));\n\n            } else {\n                // write incremental (only for signing purpose)\n                doc.saveIncremental(fos);\n            }\n        doc.close();\n//        } catch (CertificateEncodingException e) {\n//            e.printStackTrace();\n//        } catch (NoSuchAlgorithmException e) {\n//            e.printStackTrace();\n//        } catch (OperatorCreationException e) {\n//            e.printStackTrace();\n//        } catch (CMSException e) {\n//            e.printStackTrace();\n//        }\n\n        // Do not close signatureOptions before saving, because some COSStream objects within\n        // are transferred to the signed document.\n        // Do not allow signatureOptions get out of scope before saving, because then the COSDocument\n        // in signature options might by closed by gc, which would close COSStream objects prematurely.\n        // See https://issues.apache.org/jira/browse/PDFBOX-3743\n        IOUtils.closeQuietly(signatureOptions);\n    }\n</code></pre>\n<p>set setMDPermission to certified the document :</p>\n<pre><code>if (accessPermissions == 0) {\n\n    COSDictionary sigDict = signature.getCOSObject();\n    \n    // DocMDP specific stuff\n    COSDictionary transformParameters = new COSDictionary();\n    transformParameters.setItem(COSName.TYPE, COSName.TRANSFORM_PARAMS);\n    transformParameters.setInt(COSName.P, 1);\n    transformParameters.setNeedToBeUpdated(true);\n    \n    COSDictionary referenceDict = new COSDictionary();\n    referenceDict.setItem(COSName.TYPE, COSName.SIG_REF);\n    referenceDict.setItem(COSName.TRANSFORM_METHOD, COSName.DOCMDP);\n    referenceDict.setItem(COSName.DIGEST_METHOD, COSName.getPDFName(&quot;SHA256&quot;));\n    referenceDict.setItem(COSName.TRANSFORM_PARAMS, transformParameters);\n    referenceDict.setNeedToBeUpdated(true);\n    \n    COSArray referenceArray = new COSArray();\n    referenceArray.add(referenceDict);\n    sigDict.setItem(COSName.REFERENCE, referenceArray);\n    referenceArray.setNeedToBeUpdated(true);\n    \n    COSDictionary catalogDict = doc.getDocumentCatalog().getCOSObject();\n    COSDictionary permsDict = new COSDictionary();\n    catalogDict.setItem(COSName.PERMS, permsDict);\n    permsDict.setItem(COSName.DOCMDP, signature);\n    catalogDict.setNeedToBeUpdated(true);\n    permsDict.setNeedToBeUpdated(true);\n}\n</code></pre>\n<p>Signature with the parameter &quot;sign&quot; and Certified with parameter &quot;seal&quot;</p>\n<p>*Update, on PDFBox the first existing signature always be certified, not second signature ? can the last sign be certified and swap the first one ?</p>\n<p>any suggest ?</p>\n"},{"tags":["java","jdbc","mariadb"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1643065545,"post_id":70841153,"comment_id":125237031,"body_markdown":"Before posting, thoroughly search Stack Overflow. You would have found *many* existing Answers with example code to study.","body":"Before posting, thoroughly search Stack Overflow. You would have found <i>many</i> existing Answers with example code to study."}],"answers":[{"tags":[],"owner":{"account_id":7829105,"reputation":327,"user_id":5919820,"accept_rate":100,"display_name":"motaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643104700,"creation_date":1643064520,"answer_id":70841425,"question_id":70841153,"body_markdown":"The error in your question is the String you pass to executeQuery.\r\nIt actually translates to this ```select * from names ; ORDER BY RAND() + Limit 1```\r\n\r\nBut it should look like this ```select * from names ORDER BY RAND() LIMIT 1;```\r\n\r\nSo adapt this row \r\n\r\n```resultSet = statement.executeQuery(sqlSelect + &quot; ; &quot; + sqlOrderBy + &quot; + &quot; + sqlLimit);```\r\n\r\nto:\r\n\r\n```resultSet = statement.executeQuery(sqlSelect + &quot; &quot; + sqlOrderBy + &quot; &quot; + sqlLimit+&quot;;&quot;);```\r\n\r\nAdditionally, you should close all resources or swap to a [try with resources block][1]\r\n\r\nEdit: there are still a few things wrong or should be optimized\r\n\r\n```\r\n@Override\r\n    public String createName() {\r\n        String result = &quot;empty&quot;;\r\n        String sqlSelect;\r\n        sqlSelect = &quot;select * from names&quot;;\r\n        String sqlOrderBy = &quot;ORDER BY RAND()&quot;;\r\n        String sqlLimit = &quot;Limit 1&quot;;\r\n\r\n        try (\r\n            Statement statement = connection.createStatement();\r\n            ResultSet resultSet = statement.executeQuery(sqlSelect + &quot; &quot; + sqlOrderBy + &quot; &quot; + sqlLimit+&quot;;&quot;))\r\n        {\r\n            while(restultSet.next(){\r\n                result = resultSet.getString(&quot;name&quot;);\r\n                System.out.println(&quot;Random name from database: &quot; + result);\r\n            }\r\n            \r\n\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\nI switched to try with resources, so you do not have to worry about closing them since they implement the [AutoClosable Interface][2].\r\nAdditionally you didn&#39;t mention ResultSet and Statement as variable type which makes me think that you declared it somewhere at class level. That would be a bad idea.\r\n\r\nEdit2:\r\nYou should also use the ```while(ResultSet.next())``` this moves the &quot;cursor&quot; forward and you can access the first element. If your resultset would return more rows, then it iterates over all rows and you can deal with the data in that block.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html","title":"How make complex request in jdbc?","body":"<p>The error in your question is the String you pass to executeQuery.\nIt actually translates to this <code>select * from names ; ORDER BY RAND() + Limit 1</code></p>\n<p>But it should look like this <code>select * from names ORDER BY RAND() LIMIT 1;</code></p>\n<p>So adapt this row</p>\n<p><code>resultSet = statement.executeQuery(sqlSelect + &quot; ; &quot; + sqlOrderBy + &quot; + &quot; + sqlLimit);</code></p>\n<p>to:</p>\n<p><code>resultSet = statement.executeQuery(sqlSelect + &quot; &quot; + sqlOrderBy + &quot; &quot; + sqlLimit+&quot;;&quot;);</code></p>\n<p>Additionally, you should close all resources or swap to a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try with resources block</a></p>\n<p>Edit: there are still a few things wrong or should be optimized</p>\n<pre><code>@Override\n    public String createName() {\n        String result = &quot;empty&quot;;\n        String sqlSelect;\n        sqlSelect = &quot;select * from names&quot;;\n        String sqlOrderBy = &quot;ORDER BY RAND()&quot;;\n        String sqlLimit = &quot;Limit 1&quot;;\n\n        try (\n            Statement statement = connection.createStatement();\n            ResultSet resultSet = statement.executeQuery(sqlSelect + &quot; &quot; + sqlOrderBy + &quot; &quot; + sqlLimit+&quot;;&quot;))\n        {\n            while(restultSet.next(){\n                result = resultSet.getString(&quot;name&quot;);\n                System.out.println(&quot;Random name from database: &quot; + result);\n            }\n            \n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return result;\n    }\n</code></pre>\n<p>I switched to try with resources, so you do not have to worry about closing them since they implement the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\">AutoClosable Interface</a>.\nAdditionally you didn't mention ResultSet and Statement as variable type which makes me think that you declared it somewhere at class level. That would be a bad idea.</p>\n<p>Edit2:\nYou should also use the <code>while(ResultSet.next())</code> this moves the &quot;cursor&quot; forward and you can access the first element. If your resultset would return more rows, then it iterates over all rows and you can deal with the data in that block.</p>\n"}],"owner":{"account_id":18376311,"reputation":11,"user_id":15061448,"display_name":"Vando"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1643126558,"accepted_answer_id":70841425,"answer_count":1,"score":-2,"last_activity_date":1643104700,"creation_date":1643062494,"question_id":70841153,"body_markdown":"I want to get random name from database. \r\n\r\n    @Override\r\n        public String createName() {\r\n            String result = &quot;empty&quot;;\r\n            String sqlSelect;\r\n            sqlSelect = &quot;select * from names&quot;;\r\n            String sqlOrderBy = &quot;ORDER BY RAND()&quot;;\r\n            String sqlLimit = &quot;Limit 1&quot;;\r\n    \r\n            try {\r\n                statement = connection.createStatement();\r\n                resultSet = statement.executeQuery(sqlSelect + &quot; ; &quot; + sqlOrderBy + &quot; + &quot; + sqlLimit);\r\n                //resultSet.getString(&quot;name&quot;);\r\n                System.out.println(&quot;Random name from database: &quot; + resultSet.getString(&quot;name&quot;));\r\n                result = resultSet.getString(&quot;name&quot;);\r\n    \r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return result;\r\n        }\r\n\r\nI don&#39;t know how to create request rightly. I&#39;m a beginner in jdbc","title":"How make complex request in jdbc?","body":"<p>I want to get random name from database.</p>\n<pre><code>@Override\n    public String createName() {\n        String result = &quot;empty&quot;;\n        String sqlSelect;\n        sqlSelect = &quot;select * from names&quot;;\n        String sqlOrderBy = &quot;ORDER BY RAND()&quot;;\n        String sqlLimit = &quot;Limit 1&quot;;\n\n        try {\n            statement = connection.createStatement();\n            resultSet = statement.executeQuery(sqlSelect + &quot; ; &quot; + sqlOrderBy + &quot; + &quot; + sqlLimit);\n            //resultSet.getString(&quot;name&quot;);\n            System.out.println(&quot;Random name from database: &quot; + resultSet.getString(&quot;name&quot;));\n            result = resultSet.getString(&quot;name&quot;);\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return result;\n    }\n</code></pre>\n<p>I don't know how to create request rightly. I'm a beginner in jdbc</p>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643105433,"post_id":70846607,"comment_id":125245684,"body_markdown":"did you try checking logs for any errors","body":"did you try checking logs for any errors"},{"owner":{"account_id":14512308,"reputation":1,"user_id":10482353,"display_name":"Collins. T"},"score":0,"creation_date":1643105507,"post_id":70846607,"comment_id":125245706,"body_markdown":"Yes I did but I did not receive any errors from Logcat.","body":"Yes I did but I did not receive any errors from Logcat."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643105529,"post_id":70846607,"comment_id":125245713,"body_markdown":"try to clean the project y this `Build`-&gt;`Clean Project`","body":"try to clean the project y this <code>Build</code>-&gt;<code>Clean Project</code>"},{"owner":{"account_id":14512308,"reputation":1,"user_id":10482353,"display_name":"Collins. T"},"score":0,"creation_date":1643105900,"post_id":70846607,"comment_id":125245851,"body_markdown":"I have tried to clean the project severally but did not solve the issue.","body":"I have tried to clean the project severally but did not solve the issue."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643105949,"post_id":70846607,"comment_id":125245868,"body_markdown":"are the other services working?","body":"are the other services working?"},{"owner":{"account_id":14512308,"reputation":1,"user_id":10482353,"display_name":"Collins. T"},"score":0,"creation_date":1643106114,"post_id":70846607,"comment_id":125245919,"body_markdown":"I&#39;ve tried Firebase Analytics but it also does not work.","body":"I&#39;ve tried Firebase Analytics but it also does not work."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643106786,"post_id":70846607,"comment_id":125246197,"body_markdown":"I faced the same issue. remove the `google-services.json` and then reconnect to firebase with other project","body":"I faced the same issue. remove the <code>google-services.json</code> and then reconnect to firebase with other project"},{"owner":{"account_id":14512308,"reputation":1,"user_id":10482353,"display_name":"Collins. T"},"score":0,"creation_date":1643110753,"post_id":70846607,"comment_id":125247710,"body_markdown":"I have tried replacing `google-services.json` with one from a new and different project but still has the same issue.","body":"I have tried replacing <code>google-services.json</code> with one from a new and different project but still has the same issue."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643120755,"post_id":70846607,"comment_id":125251583,"body_markdown":"`apply plugin: &#39;com.google.firebase.crashlytics&#39;\n\napply plugin: &#39;com.google.firebase.firebase-perf&#39;` remove them. and add these\n\n`apply plugin: &#39;com.google.gms.google-services&#39;`","body":"<code>apply plugin: &#39;com.google.firebase.crashlytics&#39;  apply plugin: &#39;com.google.firebase.firebase-perf&#39;</code> remove them. and add these  <code>apply plugin: &#39;com.google.gms.google-services&#39;</code>"}],"owner":{"account_id":14512308,"reputation":1,"user_id":10482353,"display_name":"Collins. T"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643104569,"creation_date":1643104569,"question_id":70846607,"body_markdown":"I am trying to use Firebase Cloud Messaging on an Android Project I inherited from my predecessor in my place of work.\r\n\r\nFor some unknown reason Firebase has refused to work on the project, it doesn&#39;t matter whether the app is in background or not.\r\n\r\nHowever if I create fresh projects and implement Firebase it works flawlessly.\r\n\r\n**build.gradle (app)**\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\napply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n\r\napply plugin: &#39;com.google.firebase.firebase-perf&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n    buildToolsVersion &#39;29.0.2&#39;\r\n    defaultConfig {\r\n        applicationId &quot;com.dmk.name_international&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 28\r\n        versionCode 5\r\n        versionName &quot;1.0-beta-2&quot;\r\n        multiDexEnabled true\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        vectorDrawables.useSupportLibrary = true\r\n    }\r\n    buildTypes {\r\n        release {\r\n            debuggable false\r\n            jniDebuggable false\r\n            minifyEnabled true\r\n            shrinkResources true //reduces apk size\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n        debug {\r\n            debuggable true\r\n            jniDebuggable true\r\n            minifyEnabled false\r\n            shrinkResources false //reduces apk size\r\n        }\r\n    }\r\n\r\n    flavorDimensions &quot;country&quot;\r\n    productFlavors {\r\n\r\n\r\n        tanzania {\r\n            dimension &quot;country&quot;\r\n            applicationId &quot;com.dmk.name_international&quot;\r\n\r\n        }\r\n\r\n        ethiopia {\r\n            dimension &quot;country&quot;\r\n            applicationId &quot;com.name.ethiopia&quot;\r\n        }\r\n\r\n        drc {\r\n            dimension &quot;country&quot;\r\n            applicationId &quot;com.name.drc&quot;\r\n        }\r\n\r\n    }\r\n\r\n    packagingOptions {\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n    }\r\n\r\n    dexOptions {\r\n        jumboMode true\r\n    }\r\n\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n        // Or, if you prefer, you can continue to check for errors in release builds,\r\n        // but continue the build even when errors are found:\r\n        abortOnError false\r\n    }\r\n\r\n    compileOptions {\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven {\r\n        url &quot;https://jitpack.io&quot;\r\n    }\r\n\r\n    maven { url &#39;https://maven.fabric.io/public&#39; }\r\n    jcenter()\r\n    google()\r\n}\r\n\r\nconfigurations {\r\n    cleanedAnnotations\r\n    compile.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;\r\n}\r\n\r\n\r\ndependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    //Views and Anim libs\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0-alpha02&#39;\r\n    implementation &#39;com.google.android.material:material:1.2.0-alpha04&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;com.makeramen:roundedimageview:2.3.0&#39;\r\n    implementation &#39;com.wang.avi:library:2.1.3&#39;\r\n\r\n    implementation &#39;net.cachapa.expandablelayout:expandablelayout:2.9.2&#39;\r\n    implementation &#39;com.github.florent37:expansionpanel:1.2.2&#39;\r\n    implementation &#39;com.ethanhua:skeleton:1.1.2&#39;\r\n    implementation &#39;io.supercharge:shimmerlayout:2.1.0&#39;\r\n    implementation &#39;com.github.smarteist:autoimageslider:1.3.3&#39;\r\n\r\n\r\n    //Glide for images\r\n    implementation(&#39;com.github.bumptech.glide:glide:4.11.0&#39;);\r\n    //video streaming\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-core:2.7.3&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-hls:2.7.3&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-ui:2.7.3&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-dash:2.7.3&#39;\r\n\r\n    //Internet\r\n    implementation &#39;com.loopj.android:android-async-http:1.4.10&#39;\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n\r\n    //utils\r\n    implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n    implementation &#39;com.nineoldandroids:library:2.4.0+&#39;\r\n    implementation &#39;com.facebook.android:facebook-android-sdk:[5,6)&#39;\r\n    implementation &#39;com.github.instacart.truetime-android:library:3.3&#39;\r\n\r\n\r\n    //firebase\r\n   // implementation &#39;com.google.firebase:firebase-core:17.2.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:21.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:21.3.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:18.0.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics:17.4.1&#39;\r\n\r\n\r\n    //implementation &#39;com.google.firebase:firebase-crash:16.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-perf:19.0.5&#39;\r\n    implementation &#39;com.google.firebase:firebase-config:19.1.0&#39;\r\n\r\n\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;com.github.mtotschnig:StickyListHeaders:2.7.1&#39;\r\n\r\n    //  implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    implementation project(&#39;:appRate&#39;)\r\n    implementation &#39;com.github.florent37:diagonallayout:1.0.9&#39;\r\n\r\n    //appsflyer\r\n    implementation &#39;com.appsflyer:af-android-sdk:6.3.2&#39;\r\n\r\n}\r\n\r\nbuildscript {\r\n    repositories {\r\n        maven { url &#39;https://maven.fabric.io/public&#39; }\r\n    }\r\n\r\n    dependencies {\r\n        // These docs use an open ended version so that our plugin\r\n        // can be updated quickly in response to Android tooling updates6\r\n\r\n        // We recommend changing it to the latest version from our changelog:\r\n        // https://docs.fabric.io/android/changelog.html#fabric-gradle-plugin\r\n        classpath &#39;io.fabric.tools:gradle:1.+&#39;\r\n\r\n    }\r\n}\r\n\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n```\r\n\r\n**build.gradle (project)**\r\n\r\n```\r\n\r\nbuildscript { \r\n    ext.kotlin_version = &#39;1.3.10&#39;\r\n\r\n    repositories {\r\n        jcenter()\r\n\r\n        maven {\r\n            url &#39;https://maven.google.com/&#39;\r\n            name &#39;Google&#39;\r\n        }\r\n        google()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.2&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n        classpath &#39;com.google.firebase:firebase-plugins:1.1.5&#39;\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.1.1&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        }\r\n\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        jcenter()\r\n        maven {\r\n            url &quot;https://maven.google.com&quot; // Google&#39;s Maven repository\r\n        }\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```\r\nAlready added the following code to my AndroidManifest.xm file;\r\n\r\n```\r\n&lt;service android:name=&quot;.fcm.MessagingService&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n&lt;/service&gt;\r\n\r\n```\r\nMessagingService class handles messages received through Firebase Cloud Messaging. The onMessageReceived method in this class is never called.\r\n\r\n**MessagingService.java**\r\n```\r\n\r\npublic class MessagingService extends FirebaseMessagingService {\r\n\r\n    private static final String TAG = &quot;MyFirebaseMsgService&quot;;\r\n\r\n    @Override\r\n    public void onNewToken(String s) {\r\n        super.onNewToken(s);\r\n\r\n        new PrefUtils(this).setFCMToken(s);\r\n\r\n        Looper.prepare();\r\n        new SyncModel(this).registerDevice(s,true);\r\n\r\n    }\r\n\r\n    /**\r\n     * Called when message is received.\r\n     *\r\n     * @param remoteMessage Object representing the message received from Firebase Cloud Messaging.\r\n     */\r\n    // [START receive_message]\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        \r\n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\r\n        Log.d(TAG, &quot;Data: &quot; + remoteMessage.getData());\r\n        Log.d(TAG, &quot;Message data payload: &quot; + new JSONObject(remoteMessage.getData()).toString());\r\n\r\n\r\n        // Check if message contains a notification payload.\r\n        String title = &quot;name&quot;, message = &quot;&quot;;\r\n        int game_id = 0;\r\n        String imageUrl = &quot;&quot;;\r\n        if (remoteMessage.getNotification() != null) {\r\n\r\n            Log.d(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\r\n\r\n            title = remoteMessage.getNotification().getTitle();\r\n            message = remoteMessage.getNotification().getBody();\r\n\r\n\r\n            if (message.contains(&quot;bet_id&quot;)) {\r\n\r\n                try {\r\n                    JSONObject jsonObject = new JSONObject(message);\r\n                    //get bet id\r\n                    // jsonObject.getString(&quot;bet_id&quot;);\r\n\r\n                    message = jsonObject.getString(&quot;response&quot;);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            //save message to db\r\n            InboxMessage im = new InboxMessage();\r\n            im.text = message;\r\n            im.title = title;\r\n            im.date_sent = TrueTime.isInitialized() ? TrueTime.now().toString() : Calendar.getInstance().getTime().toString();\r\n            im.image = imageUrl;\r\n\r\n            //SugarRecord.save(im);\r\n        }\r\n\r\n\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n\r\n            try {\r\n                JSONObject resp = new JSONObject(remoteMessage.getData());\r\n\r\n                if (resp.has(&quot;game_id&quot;))\r\n                    game_id = resp.getInt(&quot;game_id&quot;);\r\n                if (resp.has(&quot;imageUrl&quot;))\r\n                    imageUrl = resp.getString(&quot;imageUrl&quot;);\r\n\r\n                if (resp.has(&quot;message&quot;))\r\n                    message = resp.getString(&quot;message&quot;);\r\n\r\n                if (resp.has(&quot;title&quot;))\r\n                    title = resp.getString(&quot;title&quot;);\r\n\r\n\r\n                //save message to db\r\n                InboxMessage im = new InboxMessage();\r\n                im.text = message;\r\n                im.title = title;\r\n                im.date_sent = TrueTime.isInitialized() ? TrueTime.now().toString() : Calendar.getInstance().getTime().toString();\r\n                im.image = imageUrl;\r\n\r\n                //SugarRecord.save(im);\r\n\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n        sendNotification(title, message, imageUrl, game_id);\r\n\r\n\r\n        // Also if you intend on generating your own notifications as a result of a received FCM\r\n        // message, here is where that should be initiated. See sendNotification method below.\r\n    }\r\n    // [END receive_message]\r\n\r\n    private void sendNotification(String title, String messageBody, String imageUrl, int game_id) {\r\n\r\n\r\n        Intent intent = new Intent(this, NotificationActivity.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        intent.putExtra(&quot;game_id&quot;, game_id);\r\n        intent.putExtra(&quot;message&quot;, messageBody);\r\n\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\r\n                PendingIntent.FLAG_ONE_SHOT);\r\n\r\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        String NOTIFICATION_CHANNEL_ID = &quot;Promo&quot;;\r\n        NotificationManager notificationManager =\r\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, &quot;Notifications&quot;, NotificationManager.IMPORTANCE_MAX);\r\n\r\n            // Configure the notification channel.\r\n            notificationChannel.setDescription(&quot;Customised offers and Bonuses.&quot;);\r\n            notificationChannel.enableLights(true);\r\n            notificationChannel.setLightColor(Color.GREEN);\r\n            notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\r\n            notificationChannel.enableVibration(true);\r\n            notificationManager.createNotificationChannel(notificationChannel);\r\n        }\r\n\r\n\r\n        final NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\r\n\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            notificationBuilder.setColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimary));\r\n            notificationBuilder.setSmallIcon(R.drawable.android_icon_72);\r\n            notificationBuilder.setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.android_icon_72));\r\n        } else\r\n            notificationBuilder.setSmallIcon(R.drawable.android_icon_72);\r\n\r\n        notificationBuilder.setContentTitle(title);\r\n        notificationBuilder.setContentText(messageBody);\r\n        notificationBuilder.setColorized(true);\r\n\r\n        notificationBuilder.setSubText(&quot;app.name.com&quot;);\r\n\r\n\r\n        FutureTarget&lt;Bitmap&gt; futureTarget =\r\n                Glide.with(getApplicationContext())\r\n                        .asBitmap()\r\n                        .load(imageUrl)\r\n                        .submit(1024, 512);\r\n\r\n        try {\r\n            Bitmap bitmap = futureTarget.get();\r\n            notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(bitmap));\r\n\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n\r\n        notificationBuilder.setPriority(Notification.PRIORITY_MAX);\r\n        notificationBuilder.setAutoCancel(true);\r\n        notificationBuilder.setSound(defaultSoundUri);\r\n    //    notificationBuilder.setVibrate(new long[]{0, 1000, 500, 1000});\r\n        notificationBuilder.setContentIntent(pendingIntent);\r\n\r\n\r\n        notificationManager.notify(1 /* ID of notification */, notificationBuilder.build());\r\n\r\n        // Do something with the Bitmap and then when you&#39;re done with it:\r\n        Glide.with(getApplicationContext()).clear(futureTarget);\r\n\r\n    }\r\n}\r\n\r\n```\r\n**NB**\r\n\r\n1. On the dashboard, the message says it&#39;s been successfully sent but is never received by the device.\r\n\r\n2. I&#39;m getting the device token from Firebase.\r\n\r\n3. The `google-services.json` exists in ProjectName &gt; app and yes, the package name correspond with that in manifest.\r\n\r\n\r\nHow can I make the Notification messages appear on device?\r\n\r\nAny help is highly appreciated. Thank you!","title":"Firebase not working on my android app project","body":"<p>I am trying to use Firebase Cloud Messaging on an Android Project I inherited from my predecessor in my place of work.</p>\n<p>For some unknown reason Firebase has refused to work on the project, it doesn't matter whether the app is in background or not.</p>\n<p>However if I create fresh projects and implement Firebase it works flawlessly.</p>\n<p><strong>build.gradle (app)</strong></p>\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'com.google.firebase.crashlytics'\n\napply plugin: 'com.google.firebase.firebase-perf'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion '29.0.2'\n    defaultConfig {\n        applicationId &quot;com.dmk.name_international&quot;\n        minSdkVersion 16\n        targetSdkVersion 28\n        versionCode 5\n        versionName &quot;1.0-beta-2&quot;\n        multiDexEnabled true\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        vectorDrawables.useSupportLibrary = true\n    }\n    buildTypes {\n        release {\n            debuggable false\n            jniDebuggable false\n            minifyEnabled true\n            shrinkResources true //reduces apk size\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            debuggable true\n            jniDebuggable true\n            minifyEnabled false\n            shrinkResources false //reduces apk size\n        }\n    }\n\n    flavorDimensions &quot;country&quot;\n    productFlavors {\n\n\n        tanzania {\n            dimension &quot;country&quot;\n            applicationId &quot;com.dmk.name_international&quot;\n\n        }\n\n        ethiopia {\n            dimension &quot;country&quot;\n            applicationId &quot;com.name.ethiopia&quot;\n        }\n\n        drc {\n            dimension &quot;country&quot;\n            applicationId &quot;com.name.drc&quot;\n        }\n\n    }\n\n    packagingOptions {\n        exclude 'META-INF/LICENSE'\n    }\n\n    dexOptions {\n        jumboMode true\n    }\n\n    lintOptions {\n        checkReleaseBuilds false\n        // Or, if you prefer, you can continue to check for errors in release builds,\n        // but continue the build even when errors are found:\n        abortOnError false\n    }\n\n    compileOptions {\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven {\n        url &quot;https://jitpack.io&quot;\n    }\n\n    maven { url 'https://maven.fabric.io/public' }\n    jcenter()\n    google()\n}\n\nconfigurations {\n    cleanedAnnotations\n    compile.exclude group: 'org.jetbrains' , module:'annotations'\n}\n\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'androidx.multidex:multidex:2.0.1'\n    //Views and Anim libs\n    implementation 'androidx.appcompat:appcompat:1.2.0-alpha02'\n    implementation 'com.google.android.material:material:1.2.0-alpha04'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'com.makeramen:roundedimageview:2.3.0'\n    implementation 'com.wang.avi:library:2.1.3'\n\n    implementation 'net.cachapa.expandablelayout:expandablelayout:2.9.2'\n    implementation 'com.github.florent37:expansionpanel:1.2.2'\n    implementation 'com.ethanhua:skeleton:1.1.2'\n    implementation 'io.supercharge:shimmerlayout:2.1.0'\n    implementation 'com.github.smarteist:autoimageslider:1.3.3'\n\n\n    //Glide for images\n    implementation('com.github.bumptech.glide:glide:4.11.0');\n    //video streaming\n    implementation 'com.google.android.exoplayer:exoplayer-core:2.7.3'\n    implementation 'com.google.android.exoplayer:exoplayer-hls:2.7.3'\n    implementation 'com.google.android.exoplayer:exoplayer-ui:2.7.3'\n    implementation 'com.google.android.exoplayer:exoplayer-dash:2.7.3'\n\n    //Internet\n    implementation 'com.loopj.android:android-async-http:1.4.10'\n    implementation 'com.android.volley:volley:1.2.1'\n\n    //utils\n    implementation 'com.google.code.gson:gson:2.8.6'\n    implementation 'com.nineoldandroids:library:2.4.0+'\n    implementation 'com.facebook.android:facebook-android-sdk:[5,6)'\n    implementation 'com.github.instacart.truetime-android:library:3.3'\n\n\n    //firebase\n   // implementation 'com.google.firebase:firebase-core:17.2.2'\n    implementation 'com.google.firebase:firebase-messaging:21.1.0'\n    implementation 'com.google.firebase:firebase-firestore:21.3.1'\n    implementation 'com.google.firebase:firebase-analytics:18.0.3'\n    implementation 'com.google.firebase:firebase-crashlytics:17.4.1'\n\n\n    //implementation 'com.google.firebase:firebase-crash:16.0.1'\n    implementation 'com.google.firebase:firebase-perf:19.0.5'\n    implementation 'com.google.firebase:firebase-config:19.1.0'\n\n\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.github.mtotschnig:StickyListHeaders:2.7.1'\n\n    //  implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation project(':appRate')\n    implementation 'com.github.florent37:diagonallayout:1.0.9'\n\n    //appsflyer\n    implementation 'com.appsflyer:af-android-sdk:6.3.2'\n\n}\n\nbuildscript {\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n    }\n\n    dependencies {\n        // These docs use an open ended version so that our plugin\n        // can be updated quickly in response to Android tooling updates6\n\n        // We recommend changing it to the latest version from our changelog:\n        // https://docs.fabric.io/android/changelog.html#fabric-gradle-plugin\n        classpath 'io.fabric.tools:gradle:1.+'\n\n    }\n}\n\napply plugin: 'com.google.gms.google-services'\n\n</code></pre>\n<p><strong>build.gradle (project)</strong></p>\n<pre><code>\nbuildscript { \n    ext.kotlin_version = '1.3.10'\n\n    repositories {\n        jcenter()\n\n        maven {\n            url 'https://maven.google.com/'\n            name 'Google'\n        }\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.2'\n        classpath 'com.google.gms:google-services:4.3.3'\n        classpath 'com.google.firebase:firebase-plugins:1.1.5'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.1.1'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        }\n\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        maven {\n            url &quot;https://maven.google.com&quot; // Google's Maven repository\n        }\n        google()\n        mavenCentral()\n    }\n\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n<p>Already added the following code to my AndroidManifest.xm file;</p>\n<pre><code>&lt;service android:name=&quot;.fcm.MessagingService&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n            &lt;/intent-filter&gt;\n&lt;/service&gt;\n\n</code></pre>\n<p>MessagingService class handles messages received through Firebase Cloud Messaging. The onMessageReceived method in this class is never called.</p>\n<p><strong>MessagingService.java</strong></p>\n<pre><code>\npublic class MessagingService extends FirebaseMessagingService {\n\n    private static final String TAG = &quot;MyFirebaseMsgService&quot;;\n\n    @Override\n    public void onNewToken(String s) {\n        super.onNewToken(s);\n\n        new PrefUtils(this).setFCMToken(s);\n\n        Looper.prepare();\n        new SyncModel(this).registerDevice(s,true);\n\n    }\n\n    /**\n     * Called when message is received.\n     *\n     * @param remoteMessage Object representing the message received from Firebase Cloud Messaging.\n     */\n    // [START receive_message]\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        \n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\n        Log.d(TAG, &quot;Data: &quot; + remoteMessage.getData());\n        Log.d(TAG, &quot;Message data payload: &quot; + new JSONObject(remoteMessage.getData()).toString());\n\n\n        // Check if message contains a notification payload.\n        String title = &quot;name&quot;, message = &quot;&quot;;\n        int game_id = 0;\n        String imageUrl = &quot;&quot;;\n        if (remoteMessage.getNotification() != null) {\n\n            Log.d(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\n\n            title = remoteMessage.getNotification().getTitle();\n            message = remoteMessage.getNotification().getBody();\n\n\n            if (message.contains(&quot;bet_id&quot;)) {\n\n                try {\n                    JSONObject jsonObject = new JSONObject(message);\n                    //get bet id\n                    // jsonObject.getString(&quot;bet_id&quot;);\n\n                    message = jsonObject.getString(&quot;response&quot;);\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            //save message to db\n            InboxMessage im = new InboxMessage();\n            im.text = message;\n            im.title = title;\n            im.date_sent = TrueTime.isInitialized() ? TrueTime.now().toString() : Calendar.getInstance().getTime().toString();\n            im.image = imageUrl;\n\n            //SugarRecord.save(im);\n        }\n\n\n        if (remoteMessage.getData().size() &gt; 0) {\n\n            try {\n                JSONObject resp = new JSONObject(remoteMessage.getData());\n\n                if (resp.has(&quot;game_id&quot;))\n                    game_id = resp.getInt(&quot;game_id&quot;);\n                if (resp.has(&quot;imageUrl&quot;))\n                    imageUrl = resp.getString(&quot;imageUrl&quot;);\n\n                if (resp.has(&quot;message&quot;))\n                    message = resp.getString(&quot;message&quot;);\n\n                if (resp.has(&quot;title&quot;))\n                    title = resp.getString(&quot;title&quot;);\n\n\n                //save message to db\n                InboxMessage im = new InboxMessage();\n                im.text = message;\n                im.title = title;\n                im.date_sent = TrueTime.isInitialized() ? TrueTime.now().toString() : Calendar.getInstance().getTime().toString();\n                im.image = imageUrl;\n\n                //SugarRecord.save(im);\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n\n        }\n\n        sendNotification(title, message, imageUrl, game_id);\n\n\n        // Also if you intend on generating your own notifications as a result of a received FCM\n        // message, here is where that should be initiated. See sendNotification method below.\n    }\n    // [END receive_message]\n\n    private void sendNotification(String title, String messageBody, String imageUrl, int game_id) {\n\n\n        Intent intent = new Intent(this, NotificationActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        intent.putExtra(&quot;game_id&quot;, game_id);\n        intent.putExtra(&quot;message&quot;, messageBody);\n\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\n                PendingIntent.FLAG_ONE_SHOT);\n\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        String NOTIFICATION_CHANNEL_ID = &quot;Promo&quot;;\n        NotificationManager notificationManager =\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, &quot;Notifications&quot;, NotificationManager.IMPORTANCE_MAX);\n\n            // Configure the notification channel.\n            notificationChannel.setDescription(&quot;Customised offers and Bonuses.&quot;);\n            notificationChannel.enableLights(true);\n            notificationChannel.setLightColor(Color.GREEN);\n            notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\n            notificationChannel.enableVibration(true);\n            notificationManager.createNotificationChannel(notificationChannel);\n        }\n\n\n        final NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\n\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            notificationBuilder.setColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimary));\n            notificationBuilder.setSmallIcon(R.drawable.android_icon_72);\n            notificationBuilder.setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.android_icon_72));\n        } else\n            notificationBuilder.setSmallIcon(R.drawable.android_icon_72);\n\n        notificationBuilder.setContentTitle(title);\n        notificationBuilder.setContentText(messageBody);\n        notificationBuilder.setColorized(true);\n\n        notificationBuilder.setSubText(&quot;app.name.com&quot;);\n\n\n        FutureTarget&lt;Bitmap&gt; futureTarget =\n                Glide.with(getApplicationContext())\n                        .asBitmap()\n                        .load(imageUrl)\n                        .submit(1024, 512);\n\n        try {\n            Bitmap bitmap = futureTarget.get();\n            notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(bitmap));\n\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        }\n\n\n\n        notificationBuilder.setPriority(Notification.PRIORITY_MAX);\n        notificationBuilder.setAutoCancel(true);\n        notificationBuilder.setSound(defaultSoundUri);\n    //    notificationBuilder.setVibrate(new long[]{0, 1000, 500, 1000});\n        notificationBuilder.setContentIntent(pendingIntent);\n\n\n        notificationManager.notify(1 /* ID of notification */, notificationBuilder.build());\n\n        // Do something with the Bitmap and then when you're done with it:\n        Glide.with(getApplicationContext()).clear(futureTarget);\n\n    }\n}\n\n</code></pre>\n<p><strong>NB</strong></p>\n<ol>\n<li><p>On the dashboard, the message says it's been successfully sent but is never received by the device.</p>\n</li>\n<li><p>I'm getting the device token from Firebase.</p>\n</li>\n<li><p>The <code>google-services.json</code> exists in ProjectName &gt; app and yes, the package name correspond with that in manifest.</p>\n</li>\n</ol>\n<p>How can I make the Notification messages appear on device?</p>\n<p>Any help is highly appreciated. Thank you!</p>\n"},{"tags":["java","gradle","npm"],"answers":[{"tags":[],"owner":{"account_id":15748967,"reputation":159,"user_id":11364126,"display_name":"Sanlyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643103640,"creation_date":1643102204,"answer_id":70846076,"question_id":70846038,"body_markdown":"Try \r\n\r\n    task preBuild(type: Exec) {\r\n      commandLine &quot;npm.cmd&quot;, &quot;install&quot;\r\n    }","title":"Gradle cannot find npm","body":"<p>Try</p>\n<pre><code>task preBuild(type: Exec) {\n  commandLine &quot;npm.cmd&quot;, &quot;install&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643104289,"creation_date":1643102021,"question_id":70846038,"body_markdown":"I would like to execute `npm install` from `gradle`. To do this I&#39;ve tried using `commandLine` or `executable`. It seems to be unable to find `npm` however if I open `cmd` and run `npm` it is available.    \r\n\r\n**Task**\r\n\r\n    task preBuild(type: Exec) {\r\n        executable = &quot;npm&quot;\r\n        args = [&quot;install&quot;]\r\n    }\r\n\r\n**Exception**\r\n\r\n\t* What went wrong:\r\n\tExecution failed for task &#39;:my-project:preBuild&#39;.\r\n\t&gt; A problem occurred starting process &#39;command &#39;npm&#39;&#39;\r\n\r\n\t* Try:\r\n\tRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n\t* Exception is:\r\n\torg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:my-project:preBuild&#39;.\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\r\n\t\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\r\n\t\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\r\n\t\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\t\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n\t\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\t\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\t\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\r\n\t\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\t\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\t\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tCaused by: org.gradle.process.internal.ExecException: A problem occurred starting process &#39;command &#39;npm&#39;&#39;\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:372)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\r\n\t\tat org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\r\n\t\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tCaused by: net.rubygrapefruit.platform.NativeException: Could not start &#39;npm&#39;\r\n\t\tat net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\r\n\t\tat net.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\r\n\t\tat net.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\r\n\t\t... 4 more\r\n\tCaused by: java.io.IOException: Cannot run program &quot;npm&quot; (in directory &quot;C:\\Users\\michael\\IdeaProjects\\&lt;project_name&gt;&quot;): CreateProcess error=2, The system cannot find the file specified\r\n\t\tat net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\r\n\t\t... 8 more\r\n\tCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n\t\t... 9 more\r\n\r\n\r\n\t* Get more help at https://help.gradle.org\r\n\r\n\tBUILD FAILED in 669ms\r\n\r\n**executable = &quot;npm.cmd&quot;**\r\n\r\n\tFAILURE: Build failed with an exception.\r\n\r\n\t* What went wrong:\r\n\tExecution failed for task &#39;:my-project:preBuild&#39;.\r\n\t&gt; A problem occurred starting process &#39;command &#39;npm.cmd&#39;&#39;\r\n\r\n\t* Try:\r\n\tRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n\t* Exception is:\r\n\torg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:my-project:preBuild&#39;.\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\r\n\t\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\r\n\t\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\r\n\t\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\t\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n\t\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\t\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\t\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\r\n\t\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\t\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\t\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tCaused by: org.gradle.process.internal.ExecException: A problem occurred starting process &#39;command &#39;npm.cmd&#39;&#39;\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:372)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\r\n\t\tat org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\r\n\t\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tCaused by: net.rubygrapefruit.platform.NativeException: Could not start &#39;npm.cmd&#39;\r\n\t\tat net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\r\n\t\tat net.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\r\n\t\tat net.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\r\n\t\t... 4 more\r\n\tCaused by: java.io.IOException: Cannot run program &quot;npm.cmd&quot; (in directory &quot;C:\\Users\\michael\\IdeaProjects\\my-project&quot;): CreateProcess error=2, The system cannot find the file specified\r\n\t\tat net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\r\n\t\t... 8 more\r\n\tCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n\t\t... 9 more\r\n\r\n\r\n\t* Get more help at https://help.gradle.org\r\n\r\n\tBUILD FAILED in 2s\r\n\r\n\r\n**commandLine &quot;npm.cmd&quot;, &quot;install&quot;**\r\n\r\n\tFAILURE: Build failed with an exception.\r\n\r\n\t* What went wrong:\r\n\tExecution failed for task &#39;:my-project:preBuild&#39;.\r\n\t&gt; A problem occurred starting process &#39;command &#39;npm.cmd&#39;&#39;\r\n\r\n\t* Try:\r\n\tRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n\t* Exception is:\r\n\torg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:my-project:preBuild&#39;.\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\r\n\t\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\r\n\t\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\r\n\t\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\r\n\t\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\t\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n\t\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\t\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\t\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\r\n\t\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\r\n\t\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\t\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\t\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\t\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\t\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\t\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tCaused by: org.gradle.process.internal.ExecException: A problem occurred starting process &#39;command &#39;npm.cmd&#39;&#39;\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\r\n\t\tat org.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:372)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\r\n\t\tat org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\r\n\t\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tCaused by: net.rubygrapefruit.platform.NativeException: Could not start &#39;npm.cmd&#39;\r\n\t\tat net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\r\n\t\tat net.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\r\n\t\tat net.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\r\n\t\tat org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\r\n\t\t... 4 more\r\n\tCaused by: java.io.IOException: Cannot run program &quot;npm.cmd&quot; (in directory &quot;C:\\Users\\michael\\IdeaProjects\\my-project&quot;): CreateProcess error=2, The system cannot find the file specified\r\n\t\tat net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\r\n\t\t... 8 more\r\n\tCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n\t\t... 9 more\r\n\r\n\r\n\t* Get more help at https://help.gradle.org\r\n\r\n\tBUILD FAILED in 1s\r\n\r\nWhy is it that I can execute `npm` within `cmd` but `gradle` is unable to find it? ","title":"Gradle cannot find npm","body":"<p>I would like to execute <code>npm install</code> from <code>gradle</code>. To do this I've tried using <code>commandLine</code> or <code>executable</code>. It seems to be unable to find <code>npm</code> however if I open <code>cmd</code> and run <code>npm</code> it is available.</p>\n<p><strong>Task</strong></p>\n<pre><code>task preBuild(type: Exec) {\n    executable = &quot;npm&quot;\n    args = [&quot;install&quot;]\n}\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code>* What went wrong:\nExecution failed for task ':my-project:preBuild'.\n&gt; A problem occurred starting process 'command 'npm''\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':my-project:preBuild'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.process.internal.ExecException: A problem occurred starting process 'command 'npm''\n    at org.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\n    at org.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:372)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\n    at org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: net.rubygrapefruit.platform.NativeException: Could not start 'npm'\n    at net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\n    at net.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\n    at net.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\n    at org.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\n    ... 4 more\nCaused by: java.io.IOException: Cannot run program &quot;npm&quot; (in directory &quot;C:\\Users\\michael\\IdeaProjects\\&lt;project_name&gt;&quot;): CreateProcess error=2, The system cannot find the file specified\n    at net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\n    ... 8 more\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n    ... 9 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 669ms\n</code></pre>\n<p><strong>executable = &quot;npm.cmd&quot;</strong></p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':my-project:preBuild'.\n&gt; A problem occurred starting process 'command 'npm.cmd''\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':my-project:preBuild'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.process.internal.ExecException: A problem occurred starting process 'command 'npm.cmd''\n    at org.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\n    at org.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:372)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\n    at org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: net.rubygrapefruit.platform.NativeException: Could not start 'npm.cmd'\n    at net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\n    at net.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\n    at net.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\n    at org.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\n    ... 4 more\nCaused by: java.io.IOException: Cannot run program &quot;npm.cmd&quot; (in directory &quot;C:\\Users\\michael\\IdeaProjects\\my-project&quot;): CreateProcess error=2, The system cannot find the file specified\n    at net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\n    ... 8 more\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n    ... 9 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2s\n</code></pre>\n<p><strong>commandLine &quot;npm.cmd&quot;, &quot;install&quot;</strong></p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':my-project:preBuild'.\n&gt; A problem occurred starting process 'command 'npm.cmd''\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':my-project:preBuild'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.process.internal.ExecException: A problem occurred starting process 'command 'npm.cmd''\n    at org.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\n    at org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\n    at org.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:372)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\n    at org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: net.rubygrapefruit.platform.NativeException: Could not start 'npm.cmd'\n    at net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\n    at net.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\n    at net.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\n    at org.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\n    at org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\n    ... 4 more\nCaused by: java.io.IOException: Cannot run program &quot;npm.cmd&quot; (in directory &quot;C:\\Users\\michael\\IdeaProjects\\my-project&quot;): CreateProcess error=2, The system cannot find the file specified\n    at net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\n    ... 8 more\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n    ... 9 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n</code></pre>\n<p>Why is it that I can execute <code>npm</code> within <code>cmd</code> but <code>gradle</code> is unable to find it?</p>\n"},{"tags":["java","android","android-studio","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1643104256,"post_id":70846512,"comment_id":125245248,"body_markdown":"look  at this line: MyAdapter.java:63 (there, you&#39;re getting an NPE)","body":"look  at this line: MyAdapter.java:63 (there, you&#39;re getting an NPE)"},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1643107177,"post_id":70846512,"comment_id":125246363,"body_markdown":"Try using getBindingAdapterPosition().","body":"Try using getBindingAdapterPosition()."}],"owner":{"account_id":14796297,"reputation":21,"user_id":10685841,"display_name":"Harshavardhan N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1643107169,"answer_count":0,"score":0,"last_activity_date":1643104203,"creation_date":1643104203,"question_id":70846512,"body_markdown":"Basically, I&#39;m trying to list all the uploaded documents from Firebase&#39;s real-time database using the Recycler View. I have successfully listed the documents but what I want to achieve is to download the documents by clicking the document listed in the RecyclerView, but the line throws an error.\r\n\r\n&gt; intent.setData(Uri.parse(urls.get(position)));\r\n\r\nI&#39;m a beginner  at coding, so please help me with the error.\r\n```\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\r\n\r\n    RecyclerView recyclerView;\r\n    Context context;\r\n    ArrayList&lt;String&gt;items=new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt;urls = new ArrayList&lt;&gt;();\r\n\r\n    public void update(String name,String url){\r\n        items.add(name);\r\n        urls.add(url);\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n\r\n    public MyAdapter(RecyclerView recyclerView,Context context, ArrayList&lt;String&gt; items, ArrayList&lt;String&gt; urls){\r\n        this.recyclerView=recyclerView;\r\n        this.context=context;\r\n        this.items=items;\r\n        this.urls=urls;\r\n    }\r\n\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View view= LayoutInflater.from(context).inflate(R.layout.item,parent,false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder( ViewHolder holder, int position) {\r\n        holder.nameOfFile.setText(items.get(position));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return items.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n        TextView nameOfFile;\r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n            nameOfFile=itemView.findViewById(R.id.nameOfFile);\r\n            itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n\r\n                    int position=recyclerView.getChildLayoutPosition(view);\r\n                    Intent intent=new Intent();\r\n                    intent.setType(Intent.ACTION_VIEW);\r\n                    **intent.setData(Uri.parse(urls.get(position)));**\r\n                    context.startActivity(intent);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\nHere is all the operation behind the java activity\r\n```\r\npublic class MyRecyclerViewActivity extends AppCompatActivity {\r\n    RecyclerView recyclerView;\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.my_recycler_view);\r\n\r\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference();\r\n        databaseReference.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(DataSnapshot dataSnapshot, String s) {\r\n            String fileName=dataSnapshot.getKey();\r\n            String url=dataSnapshot.child(&quot;AI_Unit_1&quot;).getValue(String.class);\r\n                ((MyAdapter)recyclerView.getAdapter()).update(fileName,url);\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(DataSnapshot dataSnapshot, String s) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(DataSnapshot dataSnapshot) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(DataSnapshot dataSnapshot, String s) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError error) {\r\n\r\n            }\r\n        });\r\n        recyclerView =findViewById(R.id.recyclerView);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(MyRecyclerViewActivity.this));\r\n        MyAdapter myAdapter=new MyAdapter(recyclerView,MyRecyclerViewActivity.this, new ArrayList&lt;String&gt;(), new ArrayList&lt;&gt;());\r\n        recyclerView.setAdapter(myAdapter);\r\n    }\r\n}\r\n```\r\n\r\nHERE IS THE LOGCAT ---\r\n```\r\njava.lang.NullPointerException: uriString\r\n        at android.net.Uri$StringUri.&lt;init&gt;(Uri.java:496)\r\n        at android.net.Uri$StringUri.&lt;init&gt;(Uri.java:486)\r\n        at android.net.Uri.parse(Uri.java:458)\r\n        at com.example.ngitstudentportal.MyAdapter$ViewHolder$1.onClick(MyAdapter.java:63)\r\n        at android.view.View.performClick(View.java:7520)\r\n        at android.view.View.performClickInternal(View.java:7489)\r\n        at android.view.View.access$3600(View.java:826)\r\n        at android.view.View$PerformClick.run(View.java:28555)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:233)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8030)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:631)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:978)\r\n```\r\n\r\n\r\n\r\n ","title":"Java NullPointerException at uriString","body":"<p>Basically, I'm trying to list all the uploaded documents from Firebase's real-time database using the Recycler View. I have successfully listed the documents but what I want to achieve is to download the documents by clicking the document listed in the RecyclerView, but the line throws an error.</p>\n<blockquote>\n<p>intent.setData(Uri.parse(urls.get(position)));</p>\n</blockquote>\n<p>I'm a beginner  at coding, so please help me with the error.</p>\n<pre><code>\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\n\n    RecyclerView recyclerView;\n    Context context;\n    ArrayList&lt;String&gt;items=new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt;urls = new ArrayList&lt;&gt;();\n\n    public void update(String name,String url){\n        items.add(name);\n        urls.add(url);\n        notifyDataSetChanged();\n    }\n\n\n    public MyAdapter(RecyclerView recyclerView,Context context, ArrayList&lt;String&gt; items, ArrayList&lt;String&gt; urls){\n        this.recyclerView=recyclerView;\n        this.context=context;\n        this.items=items;\n        this.urls=urls;\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view= LayoutInflater.from(context).inflate(R.layout.item,parent,false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder( ViewHolder holder, int position) {\n        holder.nameOfFile.setText(items.get(position));\n    }\n\n    @Override\n    public int getItemCount() {\n        return items.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n        TextView nameOfFile;\n        public ViewHolder(View itemView) {\n            super(itemView);\n            nameOfFile=itemView.findViewById(R.id.nameOfFile);\n            itemView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n\n                    int position=recyclerView.getChildLayoutPosition(view);\n                    Intent intent=new Intent();\n                    intent.setType(Intent.ACTION_VIEW);\n                    **intent.setData(Uri.parse(urls.get(position)));**\n                    context.startActivity(intent);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>Here is all the operation behind the java activity</p>\n<pre><code>public class MyRecyclerViewActivity extends AppCompatActivity {\n    RecyclerView recyclerView;\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.my_recycler_view);\n\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference();\n        databaseReference.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(DataSnapshot dataSnapshot, String s) {\n            String fileName=dataSnapshot.getKey();\n            String url=dataSnapshot.child(&quot;AI_Unit_1&quot;).getValue(String.class);\n                ((MyAdapter)recyclerView.getAdapter()).update(fileName,url);\n            }\n\n            @Override\n            public void onChildChanged(DataSnapshot dataSnapshot, String s) {\n\n            }\n\n            @Override\n            public void onChildRemoved(DataSnapshot dataSnapshot) {\n\n            }\n\n            @Override\n            public void onChildMoved(DataSnapshot dataSnapshot, String s) {\n\n            }\n\n            @Override\n            public void onCancelled(DatabaseError error) {\n\n            }\n        });\n        recyclerView =findViewById(R.id.recyclerView);\n        recyclerView.setLayoutManager(new LinearLayoutManager(MyRecyclerViewActivity.this));\n        MyAdapter myAdapter=new MyAdapter(recyclerView,MyRecyclerViewActivity.this, new ArrayList&lt;String&gt;(), new ArrayList&lt;&gt;());\n        recyclerView.setAdapter(myAdapter);\n    }\n}\n</code></pre>\n<p>HERE IS THE LOGCAT ---</p>\n<pre><code>java.lang.NullPointerException: uriString\n        at android.net.Uri$StringUri.&lt;init&gt;(Uri.java:496)\n        at android.net.Uri$StringUri.&lt;init&gt;(Uri.java:486)\n        at android.net.Uri.parse(Uri.java:458)\n        at com.example.ngitstudentportal.MyAdapter$ViewHolder$1.onClick(MyAdapter.java:63)\n        at android.view.View.performClick(View.java:7520)\n        at android.view.View.performClickInternal(View.java:7489)\n        at android.view.View.access$3600(View.java:826)\n        at android.view.View$PerformClick.run(View.java:28555)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:233)\n        at android.app.ActivityThread.main(ActivityThread.java:8030)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:631)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:978)\n</code></pre>\n"},{"tags":["java","spring-boot","circuit-breaker","resilience4j"],"comments":[{"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"score":0,"creation_date":1594067602,"post_id":58383132,"comment_id":110991587,"body_markdown":"were you able to resole this issue?","body":"were you able to resole this issue?"}],"answers":[{"tags":[],"owner":{"account_id":10375812,"reputation":2008,"user_id":7652010,"display_name":"Akhil Bojedla"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643103894,"creation_date":1571225955,"answer_id":58412400,"question_id":58383132,"body_markdown":"I don&#39;t think this will work. Firstly, you are instantiating your `ResilientClient` as `new ResilientClient()`. You have to use the created Bean not instantiate it yourselves. The `@CircuitBreaker` annotation uses spring-aop. So you will have to run your class as SpringBootApplicaiton.\r\n\r\nSecondly, you are only recording `HttpServerErrorException` and `IOException` as failures. So circuit breaker treats all other exceptions (except the ones mentioned above and their children) as success.","title":"Spring Boot Resilience4J Annotation Not Opening Circuit","body":"<p>I don't think this will work. Firstly, you are instantiating your <code>ResilientClient</code> as <code>new ResilientClient()</code>. You have to use the created Bean not instantiate it yourselves. The <code>@CircuitBreaker</code> annotation uses spring-aop. So you will have to run your class as SpringBootApplicaiton.</p>\n<p>Secondly, you are only recording <code>HttpServerErrorException</code> and <code>IOException</code> as failures. So circuit breaker treats all other exceptions (except the ones mentioned above and their children) as success.</p>\n"}],"owner":{"account_id":16503887,"reputation":311,"user_id":11924465,"display_name":"Jeremy Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7986,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":58412400,"answer_count":1,"score":3,"last_activity_date":1643103894,"creation_date":1571082176,"question_id":58383132,"body_markdown":"I&#39;ve checked the questions on the site about Resilience4J, but have not had any luck with their answers. I&#39;m trying to implement ```@CircuitBreaker``` annotation from Resilience4J in my Spring Boot 2.x project. The circuit breaker is implemented around a pretty straightforward function. However, when I supply a bad URL, the circuit is not opening, no matter how many times I send the request. I&#39;ve gone so far as to extract everything into a standalone application and run it 100 times and observe it just endlessly failing. Any idea what I&#39;m doing wrong?\r\n\r\n```java\r\n    @CircuitBreaker(name = &quot;backendA&quot;)\r\n    @Component\r\n    public class ResilientClient {\r\n\r\n        private HttpClient httpClient;\r\n\r\n        private static final Logger log = LoggerFactory.getLogger(ResilientClient.class);\r\n\r\n        public ResilientClient() {\r\n\r\n            httpClient = HttpClient.newBuilder().build();\r\n        }\r\n\r\n\r\n        @Bulkhead(name = &quot;backendA&quot;)\r\n        public String processPostRequest(String body, String[] headers, String url) {\r\n\r\n            HttpResponse&lt;String&gt; response = null;\r\n    \r\n            HttpRequest request = HttpRequest.newBuilder()\r\n                .uri(URI.create(url))\r\n                .POST(HttpRequest.BodyPublishers.ofString(body))\r\n                .headers(headers)\r\n                .build();\r\n\r\n            try {\r\n                response =  httpClient.send(request, HttpResponse.BodyHandlers.ofString());\r\n            } catch (IOException e) {\r\n                throw new HttpServerErrorException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;This is a remote exception&quot;);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n                log.error(&quot;Interrupted Exception: &quot; + e.getLocalizedMessage(), e);\r\n    \r\n            }\r\n            return response != null ? response.body() : null;\r\n    };\r\n\r\n// None of these functions ever get invoked\r\n\r\n    private String fallback(Throwable e){\r\n        log.info(&quot;generic throwable caught&quot;);\r\n        return &quot;generic result&quot;;\r\n    }\r\n\r\n    private String fallback(String param1, String[] headers, String url, Throwable e) {\r\n        log.info(&quot;Fallback method invoked for Throwable: &quot; + param1);\r\n        return null;\r\n    }\r\n\r\n    private String fallback(String param1, String[] headers, String url, ConnectException e) {\r\n        log.info(&quot;Fallback method invoked for ConnectException: &quot; + param1);\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nThe config file is taken directly from the Github example\r\n\r\n```\r\nresilience4j.circuitbreaker:\r\n  configs:\r\n    default:\r\n      registerHealthIndicator: false\r\n      slidingWindowSize: 10\r\n      minimumNumberOfCalls: 5\r\n      permittedNumberOfCallsInHalfOpenState: 3\r\n      automaticTransitionFromOpenToHalfOpenEnabled: true\r\n      waitDurationInOpenState: 2s\r\n      failureRateThreshold: 50\r\n      eventConsumerBufferSize: 10\r\n      recordExceptions:\r\n        - org.springframework.web.client.HttpServerErrorException\r\n        - java.io.IOException\r\n      ignoreExceptions:\r\n        - io.github.robwin.exception.BusinessException\r\n    shared:\r\n      registerHealthIndicator: true\r\n      slidingWindowSize: 100\r\n      permittedNumberOfCallsInHalfOpenState: 30\r\n      waitDurationInOpenState: 1s\r\n      failureRateThreshold: 50\r\n      eventConsumerBufferSize: 10\r\n      ignoreExceptions:\r\n        - io.github.robwin.exception.BusinessException\r\n  instances:\r\n    backendA:\r\n      baseConfig: default\r\n    backendB:\r\n      registerHealthIndicator: true\r\n      slidingWindowSize: 10\r\n      minimumNumberOfCalls: 10\r\n      permittedNumberOfCallsInHalfOpenState: 3\r\n      waitDurationInOpenState: 1s\r\n      failureRateThreshold: 50\r\n      eventConsumerBufferSize: 10\r\n      recordFailurePredicate: io.github.robwin.exception.RecordFailurePredicate\r\nresilience4j.retry:\r\n  configs:\r\n    default:\r\n      maxRetryAttempts: 2\r\n      waitDuration: 100\r\n      retryExceptions:\r\n        - org.springframework.web.client.HttpServerErrorException\r\n        - java.io.IOException\r\n      ignoreExceptions:\r\n        - io.github.robwin.exception.BusinessException\r\n  instances:\r\n    backendA:\r\n      maxRetryAttempts: 3\r\n    backendB:\r\n      maxRetryAttempts: 3\r\nresilience4j.bulkhead:\r\n  configs:\r\n    default:\r\n      maxConcurrentCalls: 100\r\n  instances:\r\n    backendA:\r\n      maxConcurrentCalls: 10\r\n    backendB:\r\n      maxWaitDuration: 10ms\r\n      maxConcurrentCalls: 20\r\n\r\nresilience4j.thread-pool-bulkhead:\r\n  configs:\r\n    default:\r\n      maxThreadPoolSize: 4\r\n      coreThreadPoolSize: 2\r\n      queueCapacity: 2\r\n  instances:\r\n    backendA:\r\n      baseConfig: default\r\n    backendB:\r\n      maxThreadPoolSize: 1\r\n      coreThreadPoolSize: 1\r\n      queueCapacity: 1\r\n\r\nresilience4j.ratelimiter:\r\n  configs:\r\n    default:\r\n      registerHealthIndicator: false\r\n      limitForPeriod: 10\r\n      limitRefreshPeriod: 1s\r\n      timeoutDuration: 0\r\n      eventConsumerBufferSize: 100\r\n  instances:\r\n    backendA:\r\n      baseConfig: default\r\n    backendB:\r\n      limitForPeriod: 6\r\n      limitRefreshPeriod: 500ms\r\n      timeoutDuration: 3s\r\n\r\n```\r\n\r\nCode to try testing it\r\n\r\n```java\r\nSpringBootApplication\r\npublic class CircuitsApplication {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(CircuitsApplication.class);\r\n\r\n    static ResilientClient resilientClient = new ResilientClient();\r\n\r\n    public static void main(String[] args) {\r\n        //SpringApplication.run(CircuitsApplication.class, args);\r\n        for (int i = 0; i &lt; 100; i++){\r\n            try {\r\n                String body = &quot;body content&quot;;\r\n                String[] headers = new String[]{&quot;header&quot;, &quot;value&quot;};\r\n                String url = &quot;http://a.bad.url&quot;;\r\n                String result = resilientClient.processPostRequest(body, headers, url);\r\n                logger.info(result);\r\n            } catch (Exception ex){\r\n                logger.info(&quot;Error caught in main loop&quot;);\r\n                try {\r\n                    Thread.sleep(500);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI&#39;ve tried adding the Circuitbreaker annotation to the method itself. I&#39;ve tried creating a supplier and decorating it. I&#39;ve tried adding the Bulkhead, removing the Bulkhead. I&#39;ve tried adding additional fallback methods with different signatures. I&#39;ve tried with and without ```@Component```.\r\n\r\nAll I end up getting in my logs is this 100 times:\r\n\r\n```\r\n14:33:10.348 [main] INFO c.t.circuits.CircuitsApplication - Error caught in main loop\r\n```\r\n\r\nI&#39;m not sure what I&#39;m missing. Any help would be greatly appreciated.\r\n","title":"Spring Boot Resilience4J Annotation Not Opening Circuit","body":"<p>I've checked the questions on the site about Resilience4J, but have not had any luck with their answers. I'm trying to implement <code>@CircuitBreaker</code> annotation from Resilience4J in my Spring Boot 2.x project. The circuit breaker is implemented around a pretty straightforward function. However, when I supply a bad URL, the circuit is not opening, no matter how many times I send the request. I've gone so far as to extract everything into a standalone application and run it 100 times and observe it just endlessly failing. Any idea what I'm doing wrong?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @CircuitBreaker(name = \"backendA\")\n    @Component\n    public class ResilientClient {\n\n        private HttpClient httpClient;\n\n        private static final Logger log = LoggerFactory.getLogger(ResilientClient.class);\n\n        public ResilientClient() {\n\n            httpClient = HttpClient.newBuilder().build();\n        }\n\n\n        @Bulkhead(name = \"backendA\")\n        public String processPostRequest(String body, String[] headers, String url) {\n\n            HttpResponse&lt;String&gt; response = null;\n\n            HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(url))\n                .POST(HttpRequest.BodyPublishers.ofString(body))\n                .headers(headers)\n                .build();\n\n            try {\n                response =  httpClient.send(request, HttpResponse.BodyHandlers.ofString());\n            } catch (IOException e) {\n                throw new HttpServerErrorException(HttpStatus.INTERNAL_SERVER_ERROR, \"This is a remote exception\");\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n                log.error(\"Interrupted Exception: \" + e.getLocalizedMessage(), e);\n\n            }\n            return response != null ? response.body() : null;\n    };\n\n// None of these functions ever get invoked\n\n    private String fallback(Throwable e){\n        log.info(\"generic throwable caught\");\n        return \"generic result\";\n    }\n\n    private String fallback(String param1, String[] headers, String url, Throwable e) {\n        log.info(\"Fallback method invoked for Throwable: \" + param1);\n        return null;\n    }\n\n    private String fallback(String param1, String[] headers, String url, ConnectException e) {\n        log.info(\"Fallback method invoked for ConnectException: \" + param1);\n        return null;\n    }\n\n}\n\n\n</code></pre>\n\n<p>The config file is taken directly from the Github example</p>\n\n<pre><code>resilience4j.circuitbreaker:\n  configs:\n    default:\n      registerHealthIndicator: false\n      slidingWindowSize: 10\n      minimumNumberOfCalls: 5\n      permittedNumberOfCallsInHalfOpenState: 3\n      automaticTransitionFromOpenToHalfOpenEnabled: true\n      waitDurationInOpenState: 2s\n      failureRateThreshold: 50\n      eventConsumerBufferSize: 10\n      recordExceptions:\n        - org.springframework.web.client.HttpServerErrorException\n        - java.io.IOException\n      ignoreExceptions:\n        - io.github.robwin.exception.BusinessException\n    shared:\n      registerHealthIndicator: true\n      slidingWindowSize: 100\n      permittedNumberOfCallsInHalfOpenState: 30\n      waitDurationInOpenState: 1s\n      failureRateThreshold: 50\n      eventConsumerBufferSize: 10\n      ignoreExceptions:\n        - io.github.robwin.exception.BusinessException\n  instances:\n    backendA:\n      baseConfig: default\n    backendB:\n      registerHealthIndicator: true\n      slidingWindowSize: 10\n      minimumNumberOfCalls: 10\n      permittedNumberOfCallsInHalfOpenState: 3\n      waitDurationInOpenState: 1s\n      failureRateThreshold: 50\n      eventConsumerBufferSize: 10\n      recordFailurePredicate: io.github.robwin.exception.RecordFailurePredicate\nresilience4j.retry:\n  configs:\n    default:\n      maxRetryAttempts: 2\n      waitDuration: 100\n      retryExceptions:\n        - org.springframework.web.client.HttpServerErrorException\n        - java.io.IOException\n      ignoreExceptions:\n        - io.github.robwin.exception.BusinessException\n  instances:\n    backendA:\n      maxRetryAttempts: 3\n    backendB:\n      maxRetryAttempts: 3\nresilience4j.bulkhead:\n  configs:\n    default:\n      maxConcurrentCalls: 100\n  instances:\n    backendA:\n      maxConcurrentCalls: 10\n    backendB:\n      maxWaitDuration: 10ms\n      maxConcurrentCalls: 20\n\nresilience4j.thread-pool-bulkhead:\n  configs:\n    default:\n      maxThreadPoolSize: 4\n      coreThreadPoolSize: 2\n      queueCapacity: 2\n  instances:\n    backendA:\n      baseConfig: default\n    backendB:\n      maxThreadPoolSize: 1\n      coreThreadPoolSize: 1\n      queueCapacity: 1\n\nresilience4j.ratelimiter:\n  configs:\n    default:\n      registerHealthIndicator: false\n      limitForPeriod: 10\n      limitRefreshPeriod: 1s\n      timeoutDuration: 0\n      eventConsumerBufferSize: 100\n  instances:\n    backendA:\n      baseConfig: default\n    backendB:\n      limitForPeriod: 6\n      limitRefreshPeriod: 500ms\n      timeoutDuration: 3s\n\n</code></pre>\n\n<p>Code to try testing it</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>SpringBootApplication\npublic class CircuitsApplication {\n\n    private static final Logger logger = LoggerFactory.getLogger(CircuitsApplication.class);\n\n    static ResilientClient resilientClient = new ResilientClient();\n\n    public static void main(String[] args) {\n        //SpringApplication.run(CircuitsApplication.class, args);\n        for (int i = 0; i &lt; 100; i++){\n            try {\n                String body = \"body content\";\n                String[] headers = new String[]{\"header\", \"value\"};\n                String url = \"http://a.bad.url\";\n                String result = resilientClient.processPostRequest(body, headers, url);\n                logger.info(result);\n            } catch (Exception ex){\n                logger.info(\"Error caught in main loop\");\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n}\n\n</code></pre>\n\n<p>I've tried adding the Circuitbreaker annotation to the method itself. I've tried creating a supplier and decorating it. I've tried adding the Bulkhead, removing the Bulkhead. I've tried adding additional fallback methods with different signatures. I've tried with and without <code>@Component</code>.</p>\n\n<p>All I end up getting in my logs is this 100 times:</p>\n\n<pre><code>14:33:10.348 [main] INFO c.t.circuits.CircuitsApplication - Error caught in main loop\n</code></pre>\n\n<p>I'm not sure what I'm missing. Any help would be greatly appreciated.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1642137303,"post_id":70701938,"comment_id":124996550,"body_markdown":"there is no harm to the sdk. u can continue","body":"there is no harm to the sdk. u can continue"},{"owner":{"account_id":13951152,"reputation":135,"user_id":10074628,"display_name":"DealZg"},"score":0,"creation_date":1642151814,"post_id":70701938,"comment_id":124999895,"body_markdown":"I am asking if there is another way to set the text into the TextView. Forget about the SDK.","body":"I am asking if there is another way to set the text into the TextView. Forget about the SDK."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1642154142,"post_id":70701938,"comment_id":125000648,"body_markdown":"When u want to send data from 1 activity or class to another, there is no choice but to use an interface.","body":"When u want to send data from 1 activity or class to another, there is no choice but to use an interface."},{"owner":{"account_id":13951152,"reputation":135,"user_id":10074628,"display_name":"DealZg"},"score":0,"creation_date":1642156066,"post_id":70701938,"comment_id":125001306,"body_markdown":"Can you post an example of it as an answer how to make it.","body":"Can you post an example of it as an answer how to make it."}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643103522,"creation_date":1642166602,"answer_id":70711237,"question_id":70701938,"body_markdown":"## What to use\r\n---\r\nYou can do it by using an interface.\r\n\r\n## How to implement\r\n---\r\n\r\n- Create a new `interface` and give it a name whatever u like.(Here it is `SampleInterface`).\r\n\r\n- Add some void methods to like this\r\n\r\n      void onSomeEvent(String name);\r\n\r\n- Create a object of it in the class where you get the data from the sdk and add this listener in its constructor. Something like this\r\n\r\n      public YourJavaClassName(SampleInterface sampleInterface) {\r\n        this.sampleInterface= sampleInterface;\r\n      }\r\n\r\n- When you receive an update in the sdk, you can call it like this\r\n\r\n      void onDataReceived(String name){// I don&#39;t know how you get the value from the sdk so I wrote this\r\n          sampleInterface.onSomeEvent(name);\r\n      }\r\n      \r\n\r\nYou are done with implementing it in the sdk receiver class. Now you need to add to the main activity to receive and update data.\r\n\r\n- Create the object of the class where you receive the data from the sdk.Like this\r\n\r\n      MySDKReceiverClass mysdkreceiverclass;\r\n      mysdkreceiverclass = new MySDKReceiverClass(this);\r\n\r\n- Implement the interface in the activity and there you ge the values and you can set it in the textview.\r\n\r\n##### Note: You need not add any runnable or handler or anything.Whenever there is a value change, the listener is called and the value is set.","title":"Is there an alternative in Android Java for Message sendToTarget to access View in inner class of an activity?","body":"<h2>What to use</h2>\n<hr />\n<p>You can do it by using an interface.</p>\n<h2>How to implement</h2>\n<hr />\n<ul>\n<li><p>Create a new <code>interface</code> and give it a name whatever u like.(Here it is <code>SampleInterface</code>).</p>\n</li>\n<li><p>Add some void methods to like this</p>\n<pre><code>void onSomeEvent(String name);\n</code></pre>\n</li>\n<li><p>Create a object of it in the class where you get the data from the sdk and add this listener in its constructor. Something like this</p>\n<pre><code>public YourJavaClassName(SampleInterface sampleInterface) {\n  this.sampleInterface= sampleInterface;\n}\n</code></pre>\n</li>\n<li><p>When you receive an update in the sdk, you can call it like this</p>\n<pre><code>void onDataReceived(String name){// I don't know how you get the value from the sdk so I wrote this\n    sampleInterface.onSomeEvent(name);\n}\n</code></pre>\n</li>\n</ul>\n<p>You are done with implementing it in the sdk receiver class. Now you need to add to the main activity to receive and update data.</p>\n<ul>\n<li><p>Create the object of the class where you receive the data from the sdk.Like this</p>\n<pre><code>MySDKReceiverClass mysdkreceiverclass;\nmysdkreceiverclass = new MySDKReceiverClass(this);\n</code></pre>\n</li>\n<li><p>Implement the interface in the activity and there you ge the values and you can set it in the textview.</p>\n</li>\n</ul>\n<h5>Note: You need not add any runnable or handler or anything.Whenever there is a value change, the listener is called and the value is set.</h5>\n"}],"owner":{"account_id":13951152,"reputation":135,"user_id":10074628,"display_name":"DealZg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70711237,"answer_count":1,"score":0,"last_activity_date":1643103522,"creation_date":1642101507,"question_id":70701938,"body_markdown":"i have an activity where i have a text view. I am also using an sdk which has some events.\r\nWithin on of these events i need to display some data at the TextView.\r\nThe events are in an external class and i got them via some interfaces.\r\nThe interfaces iam implementing within the Activity.\r\nI am using Handler and Message to set the text into the TextView within the implementation of the interface. \r\nI would like to know if there is another way to set the text within the the interfaces except Handler and Message.\r\n\r\nHere is that code:\r\n\r\n    public class MyActivity extends AppCompatActivity {\r\n    \r\n        private TextView nameTextView;\r\n\r\n        // some code\r\n\r\n       \r\n        // implementing interfaces of external class\r\n        Service.ServiceEvents events = new Service.ServiceEvents() {\r\n           \r\n           @Override\r\n           public void onSomeEvent(String name) {\r\n               nameTextView.setText(name); // not working\r\n               Message m = myHandler.obtainMessage(0, nameTextView);\r\n               m.sendToTarget();\r\n           }\r\n           \r\n           Handler myHandler = new Handler(Looper.getMainLooper()) {\r\n              @Override\r\n              public void handleMessage(Message message) {\r\n\r\n                String s = message.obj.toString();\r\n\r\n                nameTextView.setText(s);\r\n\r\n              }\r\n           };\r\n        }\r\n\r\n     } // end of activity\r\n\r\n\r\nIs there another way to set the text in the TextView?\r\nPlease Help.","title":"Is there an alternative in Android Java for Message sendToTarget to access View in inner class of an activity?","body":"<p>i have an activity where i have a text view. I am also using an sdk which has some events.\nWithin on of these events i need to display some data at the TextView.\nThe events are in an external class and i got them via some interfaces.\nThe interfaces iam implementing within the Activity.\nI am using Handler and Message to set the text into the TextView within the implementation of the interface.\nI would like to know if there is another way to set the text within the the interfaces except Handler and Message.</p>\n<p>Here is that code:</p>\n<pre><code>public class MyActivity extends AppCompatActivity {\n\n    private TextView nameTextView;\n\n    // some code\n\n   \n    // implementing interfaces of external class\n    Service.ServiceEvents events = new Service.ServiceEvents() {\n       \n       @Override\n       public void onSomeEvent(String name) {\n           nameTextView.setText(name); // not working\n           Message m = myHandler.obtainMessage(0, nameTextView);\n           m.sendToTarget();\n       }\n       \n       Handler myHandler = new Handler(Looper.getMainLooper()) {\n          @Override\n          public void handleMessage(Message message) {\n\n            String s = message.obj.toString();\n\n            nameTextView.setText(s);\n\n          }\n       };\n    }\n\n } // end of activity\n</code></pre>\n<p>Is there another way to set the text in the TextView?\nPlease Help.</p>\n"},{"tags":["java","android","sqlite"],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643103244,"creation_date":1643102212,"answer_id":70846078,"question_id":70845998,"body_markdown":"I believe you want to set other fields on your `QuestionsDataBase` object here rather than `setQuestion()` for each column in the database query:\r\n\r\n```    questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Question)));\r\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option1)));\r\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option2)));\r\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option3)));\r\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option4)));\r\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Correct_Ans)));\r\n```\r\n\r\n&gt; Thanks, edited it. Now it shows the options, but doesn&#39;t show the question itself.\r\n\r\nYou are setting text to `questionCount` twice where the later overwrites the first one. Maybe the first one should set the question textview instead.","title":"Can&#39;t fetch data from SQLite database in AS","body":"<p>I believe you want to set other fields on your <code>QuestionsDataBase</code> object here rather than <code>setQuestion()</code> for each column in the database query:</p>\n<pre><code>            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option1)));\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option2)));\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option3)));\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option4)));\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Correct_Ans)));\n</code></pre>\n<blockquote>\n<p>Thanks, edited it. Now it shows the options, but doesn't show the question itself.</p>\n</blockquote>\n<p>You are setting text to <code>questionCount</code> twice where the later overwrites the first one. Maybe the first one should set the question textview instead.</p>\n"}],"owner":{"account_id":23975741,"reputation":25,"user_id":17963868,"display_name":"YakovMashin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70846078,"answer_count":1,"score":-2,"last_activity_date":1643103244,"creation_date":1643101823,"question_id":70845998,"body_markdown":"I&#39;m creating a Quiz app in Android Studio, and so I created a Database that contains the questions. In the helper class I have a method getAllQuestions that transfers the questions from the database to an array list, so then I can extract the Questions in Main and setText in Buttons. However, while I run my app the buttons and the Question are empty, without the app throwing exceptions like nullpointer if the list itself was empty.\r\n[![The Screenshot][1]][1]\r\n\r\nDB_Helper methods:\r\n\r\nprivate void addQuestions(QuestionsDataBase Questions)\r\n{\r\n\r\n        ContentValues cv =  new ContentValues();\r\n        cv.put(QuestionTable.Column_Question,Questions.getQuestion());\r\n        cv.put(QuestionTable.Column_Option1,Questions.getOption1());\r\n        cv.put(QuestionTable.Column_Option2,Questions.getOption2());\r\n        cv.put(QuestionTable.Column_Option3,Questions.getOption3());\r\n        cv.put(QuestionTable.Column_Option4,Questions.getOption4());\r\n        cv.put(QuestionTable.Column_Correct_Ans,Questions.getQuestion());\r\n        db.insert(QuestionTable.Table_Name,null,cv);\r\n    }\r\npublic  ArrayList&lt;QuestionsDataBase&gt; getAllQuestions(){\r\n\r\n        ArrayList&lt;QuestionsDataBase&gt; questionsList = new ArrayList&lt;&gt;();\r\n        db = getReadableDatabase();\r\n        String[] Projection ={\r\n                QuestionTable._ID,\r\n                QuestionTable.Column_Question,\r\n                QuestionTable.Column_Option1,\r\n                QuestionTable.Column_Option2,\r\n                QuestionTable.Column_Option3,\r\n                QuestionTable.Column_Option4,\r\n                QuestionTable.Column_Correct_Ans\r\n        };\r\n        Cursor c = db.query(QuestionTable.Table_Name,\r\n                Projection,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                null);\r\n        if(c.moveToFirst()){\r\n            do{\r\n                QuestionsDataBase questions = new QuestionsDataBase();\r\n                questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Question)));\r\n                questions.setOption1(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option1)));\r\n                questions.setOption2(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option2)));\r\n                questions.setOption3(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option3)));\r\n                questions.setOption4(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option4)));\r\n                questions.setCorrectAns(c.getInt(c.getColumnIndexOrThrow(QuestionTable.Column_Correct_Ans)));\r\n                questionsList.add(questions);\r\n                questionsList.add(questions);\r\n\r\n            }while(c.moveToNext());\r\n        }\r\n        c.close();\r\n        return questionsList;\r\n    }\r\n\r\nMethods in MainActivity:\r\n\r\nprivate void fecthDB(){\r\n\r\n        DB_Helper db = new DB_Helper(this);\r\n        questionList = db.getAllQuestions();\r\n        startQuiz();\r\n    }\r\n\r\nprivate void startQuiz() \r\n{\r\n\r\n        questionTotalCount = questionList.size(); // the total amount of questions in the current quizactivity( is set to 10)\r\n        Collections.shuffle(questionList); // shuffle the questions form the database that are stored in QuestionList\r\n        showQuestions();\r\n\r\n        nextbutton.setOnClickListener(view -&gt; {\r\n            if(!answered){\r\n                if(option1.isChecked() || option2.isChecked() || option3.isChecked() || option4.isChecked())\r\n                    QuizOperations();\r\n            }\r\n        });\r\n\r\n    }\r\nprivate void showQuestions() // Showing the question and the options from database\r\n{\r\n\r\n        rbGroup.clearCheck();\r\n        if(questionCounter&lt; questionTotalCount) // if not all the questions yet answered set text to new questions\r\n        {\r\n            currentQuestions = questionList.get(questionCounter);\r\n            questionCount.setText(currentQuestions.getQuestion());\r\n            option1.setText(currentQuestions.getOption1());\r\n            option2.setText(currentQuestions.getOption2());\r\n            option3.setText(currentQuestions.getOption3());\r\n            option4.setText(currentQuestions.getOption4());\r\n\r\n            questionCounter ++; // +1 to question counter\r\n            answered = false; // tye quiz is not yet completely answered while the current question is smaller then total\r\n            nextbutton.setText(&quot;Next&quot;);\r\n\r\n            questionCount.setText(&quot;Questions: &quot; + questionCounter + &quot;/&quot; + questionTotalCount); // how many questions answered out of 10\r\n        }\r\n        else{// if all the questions are answered\r\n            handler.postDelayed(() -&gt; {\r\n                Intent intent = new Intent(getApplicationContext(),QuizActivity.class); // open the next activity\r\n\r\n            }, 500); // wait for a half second\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GrCud.png","title":"Can&#39;t fetch data from SQLite database in AS","body":"<p>I'm creating a Quiz app in Android Studio, and so I created a Database that contains the questions. In the helper class I have a method getAllQuestions that transfers the questions from the database to an array list, so then I can extract the Questions in Main and setText in Buttons. However, while I run my app the buttons and the Question are empty, without the app throwing exceptions like nullpointer if the list itself was empty.\n<a href=\"https://i.stack.imgur.com/GrCud.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GrCud.png\" alt=\"The Screenshot\" /></a></p>\n<p>DB_Helper methods:</p>\n<p>private void addQuestions(QuestionsDataBase Questions)\n{</p>\n<pre><code>    ContentValues cv =  new ContentValues();\n    cv.put(QuestionTable.Column_Question,Questions.getQuestion());\n    cv.put(QuestionTable.Column_Option1,Questions.getOption1());\n    cv.put(QuestionTable.Column_Option2,Questions.getOption2());\n    cv.put(QuestionTable.Column_Option3,Questions.getOption3());\n    cv.put(QuestionTable.Column_Option4,Questions.getOption4());\n    cv.put(QuestionTable.Column_Correct_Ans,Questions.getQuestion());\n    db.insert(QuestionTable.Table_Name,null,cv);\n}\n</code></pre>\n<p>public  ArrayList getAllQuestions(){</p>\n<pre><code>    ArrayList&lt;QuestionsDataBase&gt; questionsList = new ArrayList&lt;&gt;();\n    db = getReadableDatabase();\n    String[] Projection ={\n            QuestionTable._ID,\n            QuestionTable.Column_Question,\n            QuestionTable.Column_Option1,\n            QuestionTable.Column_Option2,\n            QuestionTable.Column_Option3,\n            QuestionTable.Column_Option4,\n            QuestionTable.Column_Correct_Ans\n    };\n    Cursor c = db.query(QuestionTable.Table_Name,\n            Projection,\n            null,\n            null,\n            null,\n            null,\n            null);\n    if(c.moveToFirst()){\n        do{\n            QuestionsDataBase questions = new QuestionsDataBase();\n            questions.setQuestion(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Question)));\n            questions.setOption1(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option1)));\n            questions.setOption2(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option2)));\n            questions.setOption3(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option3)));\n            questions.setOption4(c.getString(c.getColumnIndexOrThrow(QuestionTable.Column_Option4)));\n            questions.setCorrectAns(c.getInt(c.getColumnIndexOrThrow(QuestionTable.Column_Correct_Ans)));\n            questionsList.add(questions);\n            questionsList.add(questions);\n\n        }while(c.moveToNext());\n    }\n    c.close();\n    return questionsList;\n}\n</code></pre>\n<p>Methods in MainActivity:</p>\n<p>private void fecthDB(){</p>\n<pre><code>    DB_Helper db = new DB_Helper(this);\n    questionList = db.getAllQuestions();\n    startQuiz();\n}\n</code></pre>\n<p>private void startQuiz()\n{</p>\n<pre><code>    questionTotalCount = questionList.size(); // the total amount of questions in the current quizactivity( is set to 10)\n    Collections.shuffle(questionList); // shuffle the questions form the database that are stored in QuestionList\n    showQuestions();\n\n    nextbutton.setOnClickListener(view -&gt; {\n        if(!answered){\n            if(option1.isChecked() || option2.isChecked() || option3.isChecked() || option4.isChecked())\n                QuizOperations();\n        }\n    });\n\n}\n</code></pre>\n<p>private void showQuestions() // Showing the question and the options from database\n{</p>\n<pre><code>    rbGroup.clearCheck();\n    if(questionCounter&lt; questionTotalCount) // if not all the questions yet answered set text to new questions\n    {\n        currentQuestions = questionList.get(questionCounter);\n        questionCount.setText(currentQuestions.getQuestion());\n        option1.setText(currentQuestions.getOption1());\n        option2.setText(currentQuestions.getOption2());\n        option3.setText(currentQuestions.getOption3());\n        option4.setText(currentQuestions.getOption4());\n\n        questionCounter ++; // +1 to question counter\n        answered = false; // tye quiz is not yet completely answered while the current question is smaller then total\n        nextbutton.setText(&quot;Next&quot;);\n\n        questionCount.setText(&quot;Questions: &quot; + questionCounter + &quot;/&quot; + questionTotalCount); // how many questions answered out of 10\n    }\n    else{// if all the questions are answered\n        handler.postDelayed(() -&gt; {\n            Intent intent = new Intent(getApplicationContext(),QuizActivity.class); // open the next activity\n\n        }, 500); // wait for a half second\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","session-cookies","unauthorized"],"answers":[{"tags":[],"owner":{"account_id":16824449,"reputation":174,"user_id":12164076,"display_name":"mint"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643102991,"creation_date":1643102991,"answer_id":70846239,"question_id":70769950,"body_markdown":"I started digging in Spring Security libraries, and noticed the session cookie was being set in `HttpSessionRequestCache.saveRequest(...)` method:\r\n\r\n```java\r\npublic void saveRequest(HttpServletRequest request, HttpServletResponse response) {\r\n  if (!this.requestMatcher.matches(request)) {\r\n    if (this.logger.isTraceEnabled()) {\r\n      this.logger.trace(LogMessage.format(&quot;Did not save request since it did not match [%s]&quot;, this.requestMatcher));\r\n    }\r\n  } else {\r\n    DefaultSavedRequest savedRequest = new DefaultSavedRequest(request, this.portResolver);\r\n    if (!this.createSessionAllowed &amp;&amp; request.getSession(false) == null) {\r\n      this.logger.trace(&quot;Did not save request since there&#39;s no session and createSessionAllowed is false&quot;);\r\n    } else {\r\n      request.getSession().setAttribute(this.sessionAttrName, savedRequest);\r\n      if (this.logger.isDebugEnabled()) {\r\n        this.logger.debug(LogMessage.format(&quot;Saved request %s to session&quot;, savedRequest.getRedirectUrl()));\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe &#39;Set-Cookie&#39; header appears when creating the `DefaultSavedRequest` object. \r\nI changed my `WebSecurityConfig` to the following:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n  ...\r\n\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http.httpBasic()\r\n        .and()\r\n          .requestCache().requestCache(getHttpSessionRequestCache()) // This is new\r\n        .and()\r\n          .authorizeRequests().antMatchers(authorizedWithoutAuth).permitAll()\r\n          .anyRequest().authenticated()\r\n        .and()\r\n          .csrf().disable()\r\n        .and()\r\n          .logout().logoutUrl(&quot;/api/v1/logout&quot;).invalidateHttpSession(true)\r\n          .deleteCookies(&quot;mySessionCookie&quot;);\r\n  }\r\n\r\n\r\n  public HttpSessionRequestCache getHttpSessionRequestCache()\r\n  {\r\n    HttpSessionRequestCache httpSessionRequestCache = new HttpSessionRequestCache();\r\n    httpSessionRequestCache.setCreateSessionAllowed(false); // I modified this parameter \r\n    return httpSessionRequestCache;\r\n  }\r\n}\r\n```\r\n\r\nand now it works. When logging in with Authorization headers, the cookie is being set correctly, but all the requests with an invalid session cookie or an expired one return a `401` response without setting a new one.\r\n\r\nAlso, after reading [this answer](https://stackoverflow.com/a/23665915/12164076), I understood better what this `createSessionAllowed` was doing\r\n\r\n","title":"Prevent unauthorized http requests redirected to /error from setting session cookie - spring boot - spring security","body":"<p>I started digging in Spring Security libraries, and noticed the session cookie was being set in <code>HttpSessionRequestCache.saveRequest(...)</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void saveRequest(HttpServletRequest request, HttpServletResponse response) {\n  if (!this.requestMatcher.matches(request)) {\n    if (this.logger.isTraceEnabled()) {\n      this.logger.trace(LogMessage.format(&quot;Did not save request since it did not match [%s]&quot;, this.requestMatcher));\n    }\n  } else {\n    DefaultSavedRequest savedRequest = new DefaultSavedRequest(request, this.portResolver);\n    if (!this.createSessionAllowed &amp;&amp; request.getSession(false) == null) {\n      this.logger.trace(&quot;Did not save request since there's no session and createSessionAllowed is false&quot;);\n    } else {\n      request.getSession().setAttribute(this.sessionAttrName, savedRequest);\n      if (this.logger.isDebugEnabled()) {\n        this.logger.debug(LogMessage.format(&quot;Saved request %s to session&quot;, savedRequest.getRedirectUrl()));\n      }\n    }\n  }\n}\n</code></pre>\n<p>The 'Set-Cookie' header appears when creating the <code>DefaultSavedRequest</code> object.\nI changed my <code>WebSecurityConfig</code> to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n  ...\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.httpBasic()\n        .and()\n          .requestCache().requestCache(getHttpSessionRequestCache()) // This is new\n        .and()\n          .authorizeRequests().antMatchers(authorizedWithoutAuth).permitAll()\n          .anyRequest().authenticated()\n        .and()\n          .csrf().disable()\n        .and()\n          .logout().logoutUrl(&quot;/api/v1/logout&quot;).invalidateHttpSession(true)\n          .deleteCookies(&quot;mySessionCookie&quot;);\n  }\n\n\n  public HttpSessionRequestCache getHttpSessionRequestCache()\n  {\n    HttpSessionRequestCache httpSessionRequestCache = new HttpSessionRequestCache();\n    httpSessionRequestCache.setCreateSessionAllowed(false); // I modified this parameter \n    return httpSessionRequestCache;\n  }\n}\n</code></pre>\n<p>and now it works. When logging in with Authorization headers, the cookie is being set correctly, but all the requests with an invalid session cookie or an expired one return a <code>401</code> response without setting a new one.</p>\n<p>Also, after reading <a href=\"https://stackoverflow.com/a/23665915/12164076\">this answer</a>, I understood better what this <code>createSessionAllowed</code> was doing</p>\n"}],"owner":{"account_id":16824449,"reputation":174,"user_id":12164076,"display_name":"mint"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1178,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":70846239,"answer_count":1,"score":7,"last_activity_date":1643102991,"creation_date":1642592355,"question_id":70769950,"body_markdown":"## Context\r\nI&#39;m having some trouble with my application. We&#39;re using Spring Boot 2.4.10 and Spring Security 5.4.8. We use cookies to interact with the app.\r\n\r\nWe have a frontend application stored in `src/main/resources` that, among other things, connects to a websocket endpoint exposed in `/api/v1/notification`. \r\n\r\n## My configuration\r\n`application.properties` file:\r\n```properties\r\n# cookie-related settings\r\nserver.servlet.session.cookie.name=mySessionCookie\r\nserver.servlet.session.cookie.path=/\r\nserver.servlet.session.cookie.http-only=true\r\nserver.servlet.session.cookie.secure=true\r\n```\r\n\r\n```java\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n  private final String[] authorizedWithoutAuth = {\r\n      &quot;/&quot;,\r\n      &quot;/index.html&quot;,\r\n      &quot;/static/**&quot;\r\n  };\r\n\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http.httpBasic()\r\n        .and()\r\n          .authorizeRequests()\r\n          .antMatchers(authorizedWithoutAuth).permitAll()\r\n          .anyRequest().authenticated()\r\n        .and()\r\n          .csrf().disable()\r\n        .and()\r\n        .logout().logoutUrl(&quot;/api/v1/logout&quot;).invalidateHttpSession(true)\r\n        .deleteCookies(&quot;mySessionCookie&quot;);\r\n  }\r\n}\r\n```\r\n\r\n## The problem\r\nWhile no user is logged in, the frontend tries to reach periodically the websocket endpoint to open a connection.\r\n\r\nThe first `api/v1/notification` ends redirected to the `/error` endpoint, which returns an `HttpServletResponse` with a &#39;Set-Cookie&#39; header (I think this may be an anonymous cookie set in the first request?) and a **401** status. I cannot change this behaviour.\r\n\r\nThe following requests to `api/v1/notification` use this cookie in the header  (while user is not logged in). These requests are also redirected to the `/error` endpoint, which returns each time an `HttpServletResponse` with **401** status but here, **no &#39;Set-Cookie&#39;** header is included.\r\n\r\nOnce the user logs in with Authorization headers, a correct cookie is set by the response and used in the following requests. \r\n\r\nThe thing is, sometimes the set cookie suddenly changes again to an invalid one, and the following requests, done with this new invalid cookie, turn into a redirection to the login page. \r\n\r\nAfter checking the code, it seems there is an old `api/v1/notification` request (previous to the login request) taking place, with an invalid cookie (the anonymous one, present before login).\r\n\r\nThis request is redirected to the `/error` endpoint: here, once again the `HttpServletResponse` has **401** status and **is containing a Set-Cookie header that is modifying the browser cookie** (replacing the good one).\r\n\r\nFollowing is a scheme of the problem, to hopefully make it easier to understand. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n## Expected behaviour\r\nI would like to prevent an unauthorized request from setting the session cookie.\r\n\r\nIt&#39;s ok if a previous request responds with a 401 code, but I don&#39;t want it to change the current set cookie. \r\n\r\n## I tried...\r\n\r\n - I tried extending the `ErrorController` by returning a `ResponseEntity` with all the headers present in the input `HttpServletResponse` except for the &#39;Set-Cookie&#39; header. This doesn&#39;t work. \r\n\r\n - I also tried modifying my configuration to disable anonymous requests:\r\n    ```java\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n      private final String[] authorizedWithoutAuth = {\r\n        &quot;/&quot;,\r\n        &quot;/index.html&quot;,\r\n        &quot;/static/**&quot;\r\n      };\r\n\r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        http.httpBasic()\r\n            .and()\r\n              .anonymous().disable()\r\n              .authorizeRequests()\r\n              // .antMatchers(authorizedWithoutAuth).permitAll() I had to remove these from here, and include them in the method below\r\n              .anyRequest().authenticated()\r\n            .and()\r\n              .csrf().disable()\r\n            .and()\r\n              .logout().logoutUrl(&quot;/api/v1/logout&quot;).invalidateHttpSession(true)\r\n              .deleteCookies(&quot;mySessionCookie&quot;);\r\n      }\r\n\r\n      @Override\r\n      public void configure(WebSecurity web) throws Exception {\r\n        web.ignoring().antMatchers(authorizedWithoutAuth);\r\n      }\r\n    }\r\n    ```\r\n    but the session cookie is still set this way too, with 401 requests.\r\n\r\n - I also tried using `@ControllerAdvice` to handle the exceptions, but these are thrown by Spring Security in the `AbstractSecurityInterceptor`, as learnt in [this](https://stackoverflow.com/a/37081059/12164076) response.\r\n\r\n\r\nThak you all for your time. Sorry for the post length :)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fZFtT.png","title":"Prevent unauthorized http requests redirected to /error from setting session cookie - spring boot - spring security","body":"<h2>Context</h2>\n<p>I'm having some trouble with my application. We're using Spring Boot 2.4.10 and Spring Security 5.4.8. We use cookies to interact with the app.</p>\n<p>We have a frontend application stored in <code>src/main/resources</code> that, among other things, connects to a websocket endpoint exposed in <code>/api/v1/notification</code>.</p>\n<h2>My configuration</h2>\n<p><code>application.properties</code> file:</p>\n<pre><code># cookie-related settings\nserver.servlet.session.cookie.name=mySessionCookie\nserver.servlet.session.cookie.path=/\nserver.servlet.session.cookie.http-only=true\nserver.servlet.session.cookie.secure=true\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n  private final String[] authorizedWithoutAuth = {\n      &quot;/&quot;,\n      &quot;/index.html&quot;,\n      &quot;/static/**&quot;\n  };\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.httpBasic()\n        .and()\n          .authorizeRequests()\n          .antMatchers(authorizedWithoutAuth).permitAll()\n          .anyRequest().authenticated()\n        .and()\n          .csrf().disable()\n        .and()\n        .logout().logoutUrl(&quot;/api/v1/logout&quot;).invalidateHttpSession(true)\n        .deleteCookies(&quot;mySessionCookie&quot;);\n  }\n}\n</code></pre>\n<h2>The problem</h2>\n<p>While no user is logged in, the frontend tries to reach periodically the websocket endpoint to open a connection.</p>\n<p>The first <code>api/v1/notification</code> ends redirected to the <code>/error</code> endpoint, which returns an <code>HttpServletResponse</code> with a 'Set-Cookie' header (I think this may be an anonymous cookie set in the first request?) and a <strong>401</strong> status. I cannot change this behaviour.</p>\n<p>The following requests to <code>api/v1/notification</code> use this cookie in the header  (while user is not logged in). These requests are also redirected to the <code>/error</code> endpoint, which returns each time an <code>HttpServletResponse</code> with <strong>401</strong> status but here, <strong>no 'Set-Cookie'</strong> header is included.</p>\n<p>Once the user logs in with Authorization headers, a correct cookie is set by the response and used in the following requests.</p>\n<p>The thing is, sometimes the set cookie suddenly changes again to an invalid one, and the following requests, done with this new invalid cookie, turn into a redirection to the login page.</p>\n<p>After checking the code, it seems there is an old <code>api/v1/notification</code> request (previous to the login request) taking place, with an invalid cookie (the anonymous one, present before login).</p>\n<p>This request is redirected to the <code>/error</code> endpoint: here, once again the <code>HttpServletResponse</code> has <strong>401</strong> status and <strong>is containing a Set-Cookie header that is modifying the browser cookie</strong> (replacing the good one).</p>\n<p>Following is a scheme of the problem, to hopefully make it easier to understand.</p>\n<p><a href=\"https://i.stack.imgur.com/fZFtT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fZFtT.png\" alt=\"enter image description here\" /></a></p>\n<h2>Expected behaviour</h2>\n<p>I would like to prevent an unauthorized request from setting the session cookie.</p>\n<p>It's ok if a previous request responds with a 401 code, but I don't want it to change the current set cookie.</p>\n<h2>I tried...</h2>\n<ul>\n<li><p>I tried extending the <code>ErrorController</code> by returning a <code>ResponseEntity</code> with all the headers present in the input <code>HttpServletResponse</code> except for the 'Set-Cookie' header. This doesn't work.</p>\n</li>\n<li><p>I also tried modifying my configuration to disable anonymous requests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n  private final String[] authorizedWithoutAuth = {\n    &quot;/&quot;,\n    &quot;/index.html&quot;,\n    &quot;/static/**&quot;\n  };\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.httpBasic()\n        .and()\n          .anonymous().disable()\n          .authorizeRequests()\n          // .antMatchers(authorizedWithoutAuth).permitAll() I had to remove these from here, and include them in the method below\n          .anyRequest().authenticated()\n        .and()\n          .csrf().disable()\n        .and()\n          .logout().logoutUrl(&quot;/api/v1/logout&quot;).invalidateHttpSession(true)\n          .deleteCookies(&quot;mySessionCookie&quot;);\n  }\n\n  @Override\n  public void configure(WebSecurity web) throws Exception {\n    web.ignoring().antMatchers(authorizedWithoutAuth);\n  }\n}\n</code></pre>\n<p>but the session cookie is still set this way too, with 401 requests.</p>\n</li>\n<li><p>I also tried using <code>@ControllerAdvice</code> to handle the exceptions, but these are thrown by Spring Security in the <code>AbstractSecurityInterceptor</code>, as learnt in <a href=\"https://stackoverflow.com/a/37081059/12164076\">this</a> response.</p>\n</li>\n</ul>\n<p>Thak you all for your time. Sorry for the post length :)</p>\n"},{"tags":["java","apache-flink","classloader","flink-sql","pyflink"],"comments":[{"owner":{"account_id":6703028,"reputation":492,"user_id":5168941,"display_name":"literg"},"score":0,"creation_date":1643023750,"post_id":70832592,"comment_id":125221420,"body_markdown":"Seems that if I use `flink-sql-avro-*.jar` that do have org.apache.avro inside shaded directory it works fine. What is the reason behind that?","body":"Seems that if I use <code>flink-sql-avro-*.jar</code> that do have org.apache.avro inside shaded directory it works fine. What is the reason behind that?"}],"answers":[{"tags":[],"owner":{"account_id":22700020,"reputation":780,"user_id":16867587,"display_name":"ChangLi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643102975,"creation_date":1643102975,"answer_id":70846235,"question_id":70832592,"body_markdown":"NoClassDefFoundError and ClassNotFoundException are different\r\n\r\n 1. **java.lang.ClassNotFoundException** This exception indicates that the\r\n    class was not found on the classpath. This indicates that we were\r\n    trying to load the class definition, and the class did not exist on\r\n    the classpath.\r\n 2. **java.lang.NoClassDefFoundError** This exception indicates that the JVM\r\n    looked in its internal class definition data structure for the\r\n    definition of a class and did not find it. This is different than\r\n    saying that it could not be loaded from the classpath. The point is,\r\n    a NoClassDefFoundError is not necessarily a classpath problem.\r\n\r\nflink-sql-avro-*.jar is a shaded jar which will relocate the path of org.apache.flink:flink-avro org.apache.avro:avro\r\n\r\nJudging from the NoClassDefFoundError, there may be a conflict between the avro version dependencies\r\n\r\n\r\n\r\n\r\n","title":"PyFlink &quot;pipeline.classpaths&quot; vs $FLINK_HOME/lib","body":"<p>NoClassDefFoundError and ClassNotFoundException are different</p>\n<ol>\n<li><strong>java.lang.ClassNotFoundException</strong> This exception indicates that the\nclass was not found on the classpath. This indicates that we were\ntrying to load the class definition, and the class did not exist on\nthe classpath.</li>\n<li><strong>java.lang.NoClassDefFoundError</strong> This exception indicates that the JVM\nlooked in its internal class definition data structure for the\ndefinition of a class and did not find it. This is different than\nsaying that it could not be loaded from the classpath. The point is,\na NoClassDefFoundError is not necessarily a classpath problem.</li>\n</ol>\n<p>flink-sql-avro-*.jar is a shaded jar which will relocate the path of org.apache.flink:flink-avro org.apache.avro:avro</p>\n<p>Judging from the NoClassDefFoundError, there may be a conflict between the avro version dependencies</p>\n"}],"owner":{"account_id":6703028,"reputation":492,"user_id":5168941,"display_name":"literg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70846235,"answer_count":1,"score":1,"last_activity_date":1643102975,"creation_date":1643021322,"question_id":70832592,"body_markdown":"What is the difference between class loading classes passed as part of PyFlink `pipeline.classpath` config and putting them into a `$FLINK_HOME\\lib` directory?\r\n\r\nWhen I want to use `flink-sql-connector-kafka-*.jar` it works fine just passing it using `pipeline.classpath` but when I want to use something that has some external dependencies like `flink-avro-*.jar` that needs `avro-*.jar` jars. It seems to load `flink-avro-*.jar`  but it looks like it fails to load `avro-*.jar` and throws:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.avro.SchemaBuilder\r\n```\r\n\r\nWhen I am dding `avro-*.jar` to `$FLINK_HOME\\lib` it works just fine.","title":"PyFlink &quot;pipeline.classpaths&quot; vs $FLINK_HOME/lib","body":"<p>What is the difference between class loading classes passed as part of PyFlink <code>pipeline.classpath</code> config and putting them into a <code>$FLINK_HOME\\lib</code> directory?</p>\n<p>When I want to use <code>flink-sql-connector-kafka-*.jar</code> it works fine just passing it using <code>pipeline.classpath</code> but when I want to use something that has some external dependencies like <code>flink-avro-*.jar</code> that needs <code>avro-*.jar</code> jars. It seems to load <code>flink-avro-*.jar</code>  but it looks like it fails to load <code>avro-*.jar</code> and throws:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class org.apache.avro.SchemaBuilder\n</code></pre>\n<p>When I am dding <code>avro-*.jar</code> to <code>$FLINK_HOME\\lib</code> it works just fine.</p>\n"},{"tags":["java","spring-boot","serialization","jackson","offsetdatetime"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643102968,"creation_date":1643102968,"answer_id":70846232,"question_id":70838691,"body_markdown":"You can register the serializer programatically in jackson. The class needing custom serialization:\r\n\r\n    public class SpecialObject {\r\n    \r\n        private String field;\r\n        private String anotherField;\r\n    \r\n        //getters, setters\r\n    }\r\nThe wrapper class, where it is a field:\r\n\r\n    public class WrapperObject {\r\n    \r\n        private String text;\r\n        private SpecialObject specialObject;\r\n    \r\n        //getters, setters\r\n    }\r\nThe serializer:\r\n\r\n    public class SpecialObjectSerializer extends StdSerializer&lt;SpecialObject&gt; {\r\n    \r\n        public SpecialObjectSerializer() {\r\n            super(SpecialObject.class);\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(SpecialObject value, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n            gen.writeStartObject();\r\n            gen.writeStringField(&quot;fieldChanged&quot;, value.getField());\r\n            gen.writeStringField(&quot;anotherFieldChanged&quot;, value.getAnotherField());\r\n            gen.writeEndObject();\r\n        }\r\n    }\r\nNothing fancy, just changing field names when serializing.\r\n\r\nNow you need to add your serializer in a `Module` and register that module in object mapper. You can do it like this:\r\n\r\n    public class NoAnnot {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            SimpleModule module = new SimpleModule();\r\n            //add serializer in module\r\n            module.addSerializer(SpecialObject.class, new SpecialObjectSerializer());\r\n            //register module\r\n            objectMapper.registerModule(module);\r\n            objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n            \r\n            SpecialObject specialObject = new SpecialObject();\r\n            specialObject.setField(&quot;foo&quot;);\r\n            specialObject.setAnotherField(&quot;bar&quot;);\r\n            WrapperObject wrapperObject = new WrapperObject();\r\n            wrapperObject.setText(&quot;bla&quot;);\r\n            wrapperObject.setSpecialObject(specialObject);\r\n            String json = objectMapper.writeValueAsString(wrapperObject);\r\n            System.out.println(json);\r\n        }\r\n    }","title":"Custom serialization without annotations","body":"<p>You can register the serializer programatically in jackson. The class needing custom serialization:</p>\n<pre><code>public class SpecialObject {\n\n    private String field;\n    private String anotherField;\n\n    //getters, setters\n}\n</code></pre>\n<p>The wrapper class, where it is a field:</p>\n<pre><code>public class WrapperObject {\n\n    private String text;\n    private SpecialObject specialObject;\n\n    //getters, setters\n}\n</code></pre>\n<p>The serializer:</p>\n<pre><code>public class SpecialObjectSerializer extends StdSerializer&lt;SpecialObject&gt; {\n\n    public SpecialObjectSerializer() {\n        super(SpecialObject.class);\n    }\n\n    @Override\n    public void serialize(SpecialObject value, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        gen.writeStartObject();\n        gen.writeStringField(&quot;fieldChanged&quot;, value.getField());\n        gen.writeStringField(&quot;anotherFieldChanged&quot;, value.getAnotherField());\n        gen.writeEndObject();\n    }\n}\n</code></pre>\n<p>Nothing fancy, just changing field names when serializing.</p>\n<p>Now you need to add your serializer in a <code>Module</code> and register that module in object mapper. You can do it like this:</p>\n<pre><code>public class NoAnnot {\n\n    public static void main(String[] args) throws Exception {\n        ObjectMapper objectMapper = new ObjectMapper();\n        SimpleModule module = new SimpleModule();\n        //add serializer in module\n        module.addSerializer(SpecialObject.class, new SpecialObjectSerializer());\n        //register module\n        objectMapper.registerModule(module);\n        objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\n        \n        SpecialObject specialObject = new SpecialObject();\n        specialObject.setField(&quot;foo&quot;);\n        specialObject.setAnotherField(&quot;bar&quot;);\n        WrapperObject wrapperObject = new WrapperObject();\n        wrapperObject.setText(&quot;bla&quot;);\n        wrapperObject.setSpecialObject(specialObject);\n        String json = objectMapper.writeValueAsString(wrapperObject);\n        System.out.println(json);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6261156,"reputation":33,"user_id":4868311,"display_name":"Rye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":897,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643102968,"creation_date":1643048878,"question_id":70838691,"body_markdown":"Is there a way on Springboot that I can implement a custom serializer for a specific field on my request without doing annotations?\r\n\r\nI prefer if we could create a bean or a override a configuration and serialize a string input (from json request) going to OffsetDateTime field on my request pojo.\r\n\r\nI cannot annotate because my request classes are auto-generated..\r\n","title":"Custom serialization without annotations","body":"<p>Is there a way on Springboot that I can implement a custom serializer for a specific field on my request without doing annotations?</p>\n<p>I prefer if we could create a bean or a override a configuration and serialize a string input (from json request) going to OffsetDateTime field on my request pojo.</p>\n<p>I cannot annotate because my request classes are auto-generated..</p>\n"},{"tags":["java","selenium","jenkins","selenium-webdriver","cucumber"],"answers":[{"tags":[],"owner":{"account_id":14631339,"reputation":1976,"user_id":10567003,"display_name":"TheSociety"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559134838,"creation_date":1559134838,"answer_id":56361303,"question_id":56360891,"body_markdown":"If this does not work then you may give a thought to below way of attaching screen shot to report on jenkins.\r\n\r\nHooks looks like below -\r\n\r\n    @After\r\n    \tpublic void afterScenario(Scenario scenario){\r\n    \t\ttry{\r\n    \t\t\tif(scenario.isFailed()){\r\n    \t\t\t\tExtentTestManager.addScreenShotsOnFailure();\r\n        // More code goes here....       \r\n\r\nMethod to capture image - please customize path as per your need.\r\n\r\n\tpublic static void addScreenShotsOnFailure() {\r\n\t\ti = i + 1;\r\n\t\tFile scrFile = ((TakesScreenshot) DriverManager.getDriver()).getScreenshotAs(OutputType.FILE);\r\n\r\n\t\tDate d = new Date();\r\n\t\tSimpleDateFormat formatter = new SimpleDateFormat(&quot;E dd MMM HH:mm:ss z yyyy&quot;);  \r\n\t    String strDate = formatter.format(d);\r\n\t\tscreenshotName = strDate.replace(&quot;:&quot;, &quot;_&quot;).replace(&quot; &quot;, &quot;_&quot;) + &quot;_&quot;+i+&quot;.jpg&quot;;\r\n\r\n\t\ttry {\r\n\t\t\tFileUtils.copyFile(scrFile, new File(System.getProperty(&quot;user.dir&quot;) + &quot;/target/extent-report/&quot; + screenshotName));\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n","title":"How to capture images and attach them to Cucumber Reports (Jenkins) using Selenium Hub, Node and Remote Webdriver?","body":"<p>If this does not work then you may give a thought to below way of attaching screen shot to report on jenkins.</p>\n\n<p>Hooks looks like below -</p>\n\n<pre><code>@After\n    public void afterScenario(Scenario scenario){\n        try{\n            if(scenario.isFailed()){\n                ExtentTestManager.addScreenShotsOnFailure();\n    // More code goes here....       \n</code></pre>\n\n<p>Method to capture image - please customize path as per your need.</p>\n\n<pre><code>public static void addScreenShotsOnFailure() {\n    i = i + 1;\n    File scrFile = ((TakesScreenshot) DriverManager.getDriver()).getScreenshotAs(OutputType.FILE);\n\n    Date d = new Date();\n    SimpleDateFormat formatter = new SimpleDateFormat(\"E dd MMM HH:mm:ss z yyyy\");  \n    String strDate = formatter.format(d);\n    screenshotName = strDate.replace(\":\", \"_\").replace(\" \", \"_\") + \"_\"+i+\".jpg\";\n\n    try {\n        FileUtils.copyFile(scrFile, new File(System.getProperty(\"user.dir\") + \"/target/extent-report/\" + screenshotName));\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7778423,"reputation":1414,"user_id":5885718,"accept_rate":25,"display_name":"Bhuvanesh Mani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559306300,"creation_date":1559306300,"answer_id":56395280,"question_id":56360891,"body_markdown":"I do not have direct answer for ubuntu problem. But, try adding path of captured images to your cucumber report as html links.\r\n\r\n    @After\r\n    public void after(Scenario scenario){\r\n       if (scenario.isFailed()) {\r\n            try {\r\n                WebDriver augmentedDriver = new Augmenter().augment(getDriver());\r\n                File path = ((TakesScreenshot)augmentedDriver).getScreenshotAs(OutputType.FILE);\r\n                FileUtils.copyFile(path,new File(localRepoPath));\r\n                String html = &quot;&lt;html&gt;&lt;body&gt;&lt;a href=\\&quot;&gt;&quot; + localRepoPath + &quot;\\&quot;&gt; screenshot &lt;/a&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n                scenario.embed(html.getBytes(), &quot;text/html&quot;);\r\n           }catch(Exception e){\r\n              // Do Something\r\n           }\r\n      }        \r\n    }","title":"How to capture images and attach them to Cucumber Reports (Jenkins) using Selenium Hub, Node and Remote Webdriver?","body":"<p>I do not have direct answer for ubuntu problem. But, try adding path of captured images to your cucumber report as html links.</p>\n\n<pre><code>@After\npublic void after(Scenario scenario){\n   if (scenario.isFailed()) {\n        try {\n            WebDriver augmentedDriver = new Augmenter().augment(getDriver());\n            File path = ((TakesScreenshot)augmentedDriver).getScreenshotAs(OutputType.FILE);\n            FileUtils.copyFile(path,new File(localRepoPath));\n            String html = \"&lt;html&gt;&lt;body&gt;&lt;a href=\\\"&gt;\" + localRepoPath + \"\\\"&gt; screenshot &lt;/a&gt;&lt;/body&gt;&lt;/html&gt;\";\n            scenario.embed(html.getBytes(), \"text/html\");\n       }catch(Exception e){\n          // Do Something\n       }\n  }        \n}\n</code></pre>\n"}],"owner":{"account_id":7194869,"reputation":1067,"user_id":5494014,"accept_rate":47,"display_name":"Gbru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5054,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643102905,"creation_date":1559133582,"question_id":56360891,"body_markdown":"Currently I&#39;m triggering my automation tests in the cloud using a Ubuntu instance. \r\n\r\nThe Ubuntu instance has a Jenkins instance running and also Selenium Hub and Node. It seems the screenshot images dont get saved within the builds\\3\\cucumber-html-reports\\embeddings on a ubuntu system however on a windows system this issue does not exist. \r\n\r\nI have currently added the below logic to capture and attach images to the Jenkins Cucumber reports however currently the images are not getting attached to the reports:\r\n\r\n    @After\r\n    public void after(Scenario scenario) {\r\n        if (scenario.isFailed()) {\r\n            try {\r\n                WebDriver augmentedDriver = new Augmenter().augment(getDriver());\r\n                byte[] s = ((TakesScreenshot)augmentedDriver).getScreenshotAs(OutputType.BYTES);\r\n                scenario.embed(s, &quot;image/png&quot;);\r\n\r\nExample Report (Generated in Jenkins), please note the images are getting saved and attached to the reports when running the tests locally. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VA6OW.png","title":"How to capture images and attach them to Cucumber Reports (Jenkins) using Selenium Hub, Node and Remote Webdriver?","body":"<p>Currently I'm triggering my automation tests in the cloud using a Ubuntu instance. </p>\n\n<p>The Ubuntu instance has a Jenkins instance running and also Selenium Hub and Node. It seems the screenshot images dont get saved within the builds\\3\\cucumber-html-reports\\embeddings on a ubuntu system however on a windows system this issue does not exist. </p>\n\n<p>I have currently added the below logic to capture and attach images to the Jenkins Cucumber reports however currently the images are not getting attached to the reports:</p>\n\n<pre><code>@After\npublic void after(Scenario scenario) {\n    if (scenario.isFailed()) {\n        try {\n            WebDriver augmentedDriver = new Augmenter().augment(getDriver());\n            byte[] s = ((TakesScreenshot)augmentedDriver).getScreenshotAs(OutputType.BYTES);\n            scenario.embed(s, \"image/png\");\n</code></pre>\n\n<p>Example Report (Generated in Jenkins), please note the images are getting saved and attached to the reports when running the tests locally. \n<a href=\"https://i.stack.imgur.com/VA6OW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VA6OW.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","spring-boot","google-cloud-pubsub"],"comments":[{"owner":{"account_id":12021665,"reputation":283,"user_id":8794926,"display_name":"Vladucu Voican"},"score":0,"creation_date":1578572987,"post_id":59663664,"comment_id":105486949,"body_markdown":"`@ServiceActivator(inputChannel = &quot;${pubsub.name}&quot; )` should work. What does the exception say?","body":"<code>@ServiceActivator(inputChannel = &quot;${pubsub.name}&quot; )</code> should work. What does the exception say?"},{"owner":{"account_id":2390663,"reputation":1891,"user_id":2090568,"accept_rate":86,"display_name":"Panup Pong"},"score":0,"creation_date":1578573372,"post_id":59663664,"comment_id":105487146,"body_markdown":"@Vladucu\nParameter 0 of method messageChannelAdapter in net.trueid.platform.cmschange.MyGcpSubPlanetApplication required a bean of type &#39;org.springframework.messaging.MessageChannel&#39; that could not be found.\n\nThe injection point has the following annotations:\n - @org.springframework.beans.factory.annotation.Qualifier(value=&quot;${pubsub.name}&quot;)\n\nThe following candidates were found but could not be injected:\n - User-defined bean method &#39;myInputChannel&#39; in &#39;MyGcpSubPlanetApplication&#39;\n - User-defined bean\n - User-defined bean","body":"@Vladucu Parameter 0 of method messageChannelAdapter in net.trueid.platform.cmschange.MyGcpSubPlanetApplication required a bean of type &#39;org.springframework.messaging.MessageChannel&#39; that could not be found.  The injection point has the following annotations:  - @org.springframework.beans.factory.annotation.Qualifier(valu&zwnj;&#8203;e=&quot;${pubsub.name}&quot;)  The following candidates were found but could not be injected:  - User-defined bean method &#39;myInputChannel&#39; in &#39;MyGcpSubPlanetApplication&#39;  - User-defined bean  - User-defined bean"},{"owner":{"account_id":12021665,"reputation":283,"user_id":8794926,"display_name":"Vladucu Voican"},"score":1,"creation_date":1578576444,"post_id":59663664,"comment_id":105488816,"body_markdown":"Ok, I realized where the problem is. You can&#39;t use `@ServiceActivator(inputChannel = &quot;${pubsub.name}&quot; )` since the `inputChannel` needs to receive the qualifier of a spring bean not an env variable. I suppose that somewhere in your code you have a channel with the qualifier `my-alpha-pubsub-topic` and that is why it worked for the first time. Maybe it will make sense to create all those beans using spring profiles and have something like this: `@Profile(&quot;Staging&quot;)\n@ServiceActivator(inputChannel = &quot;my-staging-pubsub-topic&quot; )\n public void messageReceiver`. One for each env.","body":"Ok, I realized where the problem is. You can&#39;t use <code>@ServiceActivator(inputChannel = &quot;${pubsub.name}&quot; )</code> since the <code>inputChannel</code> needs to receive the qualifier of a spring bean not an env variable. I suppose that somewhere in your code you have a channel with the qualifier <code>my-alpha-pubsub-topic</code> and that is why it worked for the first time. Maybe it will make sense to create all those beans using spring profiles and have something like this: <code>@Profile(&quot;Staging&quot;) @ServiceActivator(inputChannel = &quot;my-staging-pubsub-topic&quot; )  public void messageReceiver</code>. One for each env."},{"owner":{"account_id":2390663,"reputation":1891,"user_id":2090568,"accept_rate":86,"display_name":"Panup Pong"},"score":0,"creation_date":1578631842,"post_id":59663664,"comment_id":105509502,"body_markdown":"@Vladucu Voican That solve my problem. You can answer and I will accept your answer","body":"@Vladucu Voican That solve my problem. You can answer and I will accept your answer"},{"owner":{"account_id":12021665,"reputation":283,"user_id":8794926,"display_name":"Vladucu Voican"},"score":0,"creation_date":1578642692,"post_id":59663664,"comment_id":105512559,"body_markdown":"Glad to hear that, I will add it in a minute. Thank you as well.","body":"Glad to hear that, I will add it in a minute. Thank you as well."}],"answers":[{"tags":[],"owner":{"account_id":12021665,"reputation":283,"user_id":8794926,"display_name":"Vladucu Voican"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643102861,"creation_date":1578642814,"answer_id":59677437,"question_id":59663664,"body_markdown":"The problem is that you can&#39;t use \r\n`@ServiceActivator(inputChannel = &quot;${pubsub.name}&quot; )` since the **inputChannel** needs to specify the qualifier of a spring bean not an environment variable. \r\nI suppose that somewhere in your code you have a channel with the qualifier **my-alpha-pubsub-topic** and that is why it worked for the first time. \r\n\r\nFor my point of view it will make more sense to create all those beans using spring profiles and have something like the following for each environment\r\n    \r\n     @Profile(&quot;Staging&quot;) \r\n     @ServiceActivator(inputChannel = &quot;my-staging-pubsub-topic&quot; ) \r\n     public void messageReceiver(String payload) {\r\n        LOGGER.info(&quot;Message arrived! Payload: &quot; + payload);\r\n     }","title":"@ServiceActivator How to read inputChannel from property file in spring boot?","body":"<p>The problem is that you can't use\n<code>@ServiceActivator(inputChannel = &quot;${pubsub.name}&quot; )</code> since the <strong>inputChannel</strong> needs to specify the qualifier of a spring bean not an environment variable.\nI suppose that somewhere in your code you have a channel with the qualifier <strong>my-alpha-pubsub-topic</strong> and that is why it worked for the first time.</p>\n<p>For my point of view it will make more sense to create all those beans using spring profiles and have something like the following for each environment</p>\n<pre><code> @Profile(&quot;Staging&quot;) \n @ServiceActivator(inputChannel = &quot;my-staging-pubsub-topic&quot; ) \n public void messageReceiver(String payload) {\n    LOGGER.info(&quot;Message arrived! Payload: &quot; + payload);\n }\n</code></pre>\n"}],"owner":{"account_id":2390663,"reputation":1891,"user_id":2090568,"accept_rate":86,"display_name":"Panup Pong"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59677437,"answer_count":1,"score":0,"last_activity_date":1643102861,"creation_date":1578571721,"question_id":59663664,"body_markdown":"i develop google pubsub consumer and when i use fix value &quot;my-alpha-pubsub-topic&quot; it&#39;s complete running\r\n\r\n    @ServiceActivator(inputChannel = &quot;my-alpha-pubsub-topic&quot; )\r\n     public void messageReceiver(String payload) {\r\n      LOGGER.info(&quot;Message arrived! Payload: &quot; + payload);\r\n    \r\n     }\r\n\r\n\r\nBut i run it on Container in Kubernetes i need pass inputChannel value from env parameter by Environment for 1 container build support multiple environment\r\n\r\n    Alpha =&gt; inputChannel = &quot;my-alpha-pubsub-topic&quot;\r\n    Staging =&gt; inputChannel = &quot;my-staging-pubsub-topic&quot;\r\n    Production =&gt; inputChannel = &quot;my-pubsub-topic&quot;\r\n\r\n\r\nBuy i cannot pass parameter in inputChannel. it&#39;s run failed\r\n\r\n    @Value(&quot;${pubsub.name}&quot;)\r\n     private String pubsubName;\r\n    \r\n    \r\n    @ServiceActivator(inputChannel = &quot;${pubsubName}&quot; )\r\n     public void messageReceiver(String payload) {\r\n      LOGGER.info(&quot;Message arrived! Payload: &quot; + payload);\r\n    \r\n     }\r\n\r\n\r\nand i Try this and Failed \r\n\r\n    @ServiceActivator(inputChannel = &quot;${pubsubName}&quot; ) \r\n    @ServiceActivator(inputChannel = &quot;#{${pubsubName}}&quot; )\r\n    @ServiceActivator(inputChannel = &quot;${pubsub.name}&quot; )\r\n\r\nHow i can pass value to inputChannel from properties or env parameter","title":"@ServiceActivator How to read inputChannel from property file in spring boot?","body":"<p>i develop google pubsub consumer and when i use fix value \"my-alpha-pubsub-topic\" it's complete running</p>\n\n<pre><code>@ServiceActivator(inputChannel = \"my-alpha-pubsub-topic\" )\n public void messageReceiver(String payload) {\n  LOGGER.info(\"Message arrived! Payload: \" + payload);\n\n }\n</code></pre>\n\n<p>But i run it on Container in Kubernetes i need pass inputChannel value from env parameter by Environment for 1 container build support multiple environment</p>\n\n<pre><code>Alpha =&gt; inputChannel = \"my-alpha-pubsub-topic\"\nStaging =&gt; inputChannel = \"my-staging-pubsub-topic\"\nProduction =&gt; inputChannel = \"my-pubsub-topic\"\n</code></pre>\n\n<p>Buy i cannot pass parameter in inputChannel. it's run failed</p>\n\n<pre><code>@Value(\"${pubsub.name}\")\n private String pubsubName;\n\n\n@ServiceActivator(inputChannel = \"${pubsubName}\" )\n public void messageReceiver(String payload) {\n  LOGGER.info(\"Message arrived! Payload: \" + payload);\n\n }\n</code></pre>\n\n<p>and i Try this and Failed </p>\n\n<pre><code>@ServiceActivator(inputChannel = \"${pubsubName}\" ) \n@ServiceActivator(inputChannel = \"#{${pubsubName}}\" )\n@ServiceActivator(inputChannel = \"${pubsub.name}\" )\n</code></pre>\n\n<p>How i can pass value to inputChannel from properties or env parameter</p>\n"},{"tags":["java","apache-dubbo"],"owner":{"account_id":23215443,"reputation":75,"user_id":17308415,"display_name":"Koko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643102650,"creation_date":1643102650,"question_id":70846169,"body_markdown":"I am trying to run a online Spring Boot project locally. When I was calling an RPC service, sometimes the request was executed in another machine because of loadbalance. How to specify a consumer for a specific dubbo service?\r\nThe dubbo config for for consumer is:\r\n```\r\ndubbo:\r\n   application:\r\n      name: ${spring.application.name}\r\n   protocol:\r\n      name: dubbo\r\n      port: &quot;50020&quot;\r\n   consumer:\r\n      check: false \r\n      loadbalance: random \r\n      retries: 0 \r\n      timeout: 10000\r\n```\r\nand the reference\r\n```\r\n@DubboReference(check = false)\r\nprivate RpcPayService payService;\r\n```\r\nThe config for provider\r\n```\r\ndubbo:\r\n   application:\r\n      name: ${spring.application.name}\r\n   protocol:\r\n      name: dubbo\r\n      port: &quot;50002&quot;\r\n   consumer:\r\n      check: false\r\n      retries: 0 \r\n      loadbalance: random \r\n      timeout: 10000\r\n```\r\nand the provider\r\n```\r\n@DubboService\r\n@Slf4j\r\npublic class RpcPayServiceImpl implements RpcPayService {\r\n}\r\n```","title":"how to specify a consumer for a specific dubbo service?","body":"<p>I am trying to run a online Spring Boot project locally. When I was calling an RPC service, sometimes the request was executed in another machine because of loadbalance. How to specify a consumer for a specific dubbo service?\nThe dubbo config for for consumer is:</p>\n<pre><code>dubbo:\n   application:\n      name: ${spring.application.name}\n   protocol:\n      name: dubbo\n      port: &quot;50020&quot;\n   consumer:\n      check: false \n      loadbalance: random \n      retries: 0 \n      timeout: 10000\n</code></pre>\n<p>and the reference</p>\n<pre><code>@DubboReference(check = false)\nprivate RpcPayService payService;\n</code></pre>\n<p>The config for provider</p>\n<pre><code>dubbo:\n   application:\n      name: ${spring.application.name}\n   protocol:\n      name: dubbo\n      port: &quot;50002&quot;\n   consumer:\n      check: false\n      retries: 0 \n      loadbalance: random \n      timeout: 10000\n</code></pre>\n<p>and the provider</p>\n<pre><code>@DubboService\n@Slf4j\npublic class RpcPayServiceImpl implements RpcPayService {\n}\n</code></pre>\n"},{"tags":["java","android-studio","gradle"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":2,"creation_date":1635350650,"post_id":69741859,"comment_id":123276290,"body_markdown":"Have you tried following the instructions and editing the `gradle.properties` file and either adding/updating the `org.gradle.jvmargs` line with a memory size?","body":"Have you tried following the instructions and editing the <code>gradle.properties</code> file and either adding/updating the <code>org.gradle.jvmargs</code> line with a memory size?"},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1635350718,"post_id":69741859,"comment_id":123276321,"body_markdown":"https://stackoverflow.com/questions/35244961/how-do-i-add-default-jvm-arguments-with-gradle","body":"<a href=\"https://stackoverflow.com/questions/35244961/how-do-i-add-default-jvm-arguments-with-gradle\" title=\"how do i add default jvm arguments with gradle\">stackoverflow.com/questions/35244961/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1635377252,"post_id":69741859,"comment_id":123284817,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":14316137,"reputation":332,"user_id":10340870,"display_name":"M Azam Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643102031,"creation_date":1640859768,"answer_id":70530292,"question_id":69741859,"body_markdown":"In my case Invalidate cache and restart the android studio(which is automatically restarted) then an error will go after restarting the android studio\r\n\r\n\r\nFile-&gt; Invalidate cache/restart-&gt; Invalidate and restart\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nthen \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IYzMT.png\r\n  [2]: https://i.stack.imgur.com/tksvc.png\r\n\r\nI hope you will find the answer...\r\nplease share your feedback","title":"Error: Out of memory: Java heap space. Configure Gradle memory settings using &#39;-Xmx&#39; JVM option","body":"<p>In my case Invalidate cache and restart the android studio(which is automatically restarted) then an error will go after restarting the android studio</p>\n<p>File-&gt; Invalidate cache/restart-&gt; Invalidate and restart</p>\n<p><a href=\"https://i.stack.imgur.com/IYzMT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IYzMT.png\" alt=\"enter image description here\" /></a></p>\n<p>then\n<a href=\"https://i.stack.imgur.com/tksvc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tksvc.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope you will find the answer...\nplease share your feedback</p>\n"}],"owner":{"account_id":23162331,"reputation":21,"user_id":17262798,"display_name":"Safi Emile"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4544,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643102031,"creation_date":1635350234,"question_id":69741859,"body_markdown":"when in create new project in android studio i get this error\r\n\r\n&gt; &quot;Out of memory: Java heap space. Configure Gradle memory settings\r\n&gt; using &#39;-Xmx&#39; JVM option (e.g. &#39;-Xmx2048m&#39;.)\r\n&gt; \r\n&gt; Please fix the project&#39;s Gradle settings.\r\n\r\n","title":"Error: Out of memory: Java heap space. Configure Gradle memory settings using &#39;-Xmx&#39; JVM option","body":"<p>when in create new project in android studio i get this error</p>\n<blockquote>\n<p>&quot;Out of memory: Java heap space. Configure Gradle memory settings\nusing '-Xmx' JVM option (e.g. '-Xmx2048m'.)</p>\n<p>Please fix the project's Gradle settings.</p>\n</blockquote>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643101899,"creation_date":1643101899,"answer_id":70846012,"question_id":70845787,"body_markdown":"From the documentation of [`Thread.wait`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)) (relevant part highlighted in bold):\r\n\r\n&gt;Causes the current thread to wait until it is awakened, typically by being *notified* or *interrupted*, or until a certain amount of real time has elapsed.\r\n&gt;\r\n&gt;...\r\n&gt;\r\n&gt;This method causes the current thread (referred to here as T) to place itself in the wait set for this object and then to relinquish any and all synchronization claims on this object.\r\n&gt;\r\n&gt;Thread *T* then becomes disabled for thread scheduling purposes and lies dormant until one of the following occurs:\r\n&gt;\r\n&gt;- ...\r\n&gt;\r\n&gt;- Some other thread interrupts thread T.\r\n&gt;\r\n&gt;- ...\r\n&gt;\r\n&gt;The thread *T* is then removed from the wait set for this object and re-enabled for thread scheduling. **It competes in the usual manner with other threads for the right to synchronize on the object;** once it has regained control of the object, all its synchronization claims on the object are restored to the status quo ante - that is, to the situation as of the time that the wait method was invoked. Thread T then returns from the invocation of the wait method. Thus, on return from the wait method, the synchronization state of the object and of thread T is exactly as it was when the wait method was invoked.\r\n\r\nIn other words, when thread 1 is interrupted by the main thread, it still has to wait for thread 2 to finish to relinquish its lock, and only then thread 1 will regain control of the lock and continue.","title":"Strange behaviour with Thread.interrupt()","body":"<p>From the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)\" rel=\"nofollow noreferrer\"><code>Thread.wait</code></a> (relevant part highlighted in bold):</p>\n<blockquote>\n<p>Causes the current thread to wait until it is awakened, typically by being <em>notified</em> or <em>interrupted</em>, or until a certain amount of real time has elapsed.</p>\n<p>...</p>\n<p>This method causes the current thread (referred to here as T) to place itself in the wait set for this object and then to relinquish any and all synchronization claims on this object.</p>\n<p>Thread <em>T</em> then becomes disabled for thread scheduling purposes and lies dormant until one of the following occurs:</p>\n<ul>\n<li><p>...</p>\n</li>\n<li><p>Some other thread interrupts thread T.</p>\n</li>\n<li><p>...</p>\n</li>\n</ul>\n<p>The thread <em>T</em> is then removed from the wait set for this object and re-enabled for thread scheduling. <strong>It competes in the usual manner with other threads for the right to synchronize on the object;</strong> once it has regained control of the object, all its synchronization claims on the object are restored to the status quo ante - that is, to the situation as of the time that the wait method was invoked. Thread T then returns from the invocation of the wait method. Thus, on return from the wait method, the synchronization state of the object and of thread T is exactly as it was when the wait method was invoked.</p>\n</blockquote>\n<p>In other words, when thread 1 is interrupted by the main thread, it still has to wait for thread 2 to finish to relinquish its lock, and only then thread 1 will regain control of the lock and continue.</p>\n"}],"owner":{"account_id":4382011,"reputation":1790,"user_id":3573403,"accept_rate":62,"display_name":"user3573403"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70846012,"answer_count":1,"score":1,"last_activity_date":1643101899,"creation_date":1643100755,"question_id":70845787,"body_markdown":"I was trying to understand more about Thread.interrupt(), and so I wrote the following codes.\r\n\r\n    public class Test {\r\n\r\n        private Object object = new Object();\r\n\r\n        Runnable thread1 = () -&gt; {\r\n            synchronized (object) {\r\n                System.out.println(System.currentTimeMillis() + &quot; - Thread1 inside synchronized block&quot;);\r\n                try {\r\n                    object.wait();\r\n                    System.out.println(System.currentTimeMillis() + &quot; - Thread1 after wait()&quot;);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(System.currentTimeMillis() + &quot; - Thread1 ending&quot;);\r\n            }\r\n        };\r\n\r\n        Runnable thread2 = () -&gt; {\r\n            synchronized (object) {\r\n                System.out.println(System.currentTimeMillis() + &quot; - Thread2 inside synchronized block&quot;);\r\n                try {\r\n                    Thread.sleep(2000);\r\n                    System.out.println(System.currentTimeMillis() + &quot; - Thread2 after sleep&quot;);\r\n                    object.notify();\r\n                    System.out.println(System.currentTimeMillis() + &quot; - Thread2 after notify()&quot;);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(System.currentTimeMillis() + &quot; - Thread2 ending&quot;);\r\n            }\r\n        };\r\n\r\n        public void run() {\r\n            Thread t1 = new Thread(thread1);\r\n            Thread t2 = new Thread(thread2);\r\n            t1.start();\r\n            t2.start();\r\n            try {\r\n                Thread.sleep(500);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            t1.interrupt();\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            new Test().run();\r\n        }\r\n\r\n    }\r\n\r\nI couldn&#39;t understand the result. Firstly, why is the exception stack trace not showing on the third line of the output? The first thread was interrupted while the second thread was still sleeping, so the exception should occur before the second thread woke up. Secondly, why is &quot;Thread 1 ending&quot; showing up before the stack trace?\r\n\r\n    1643099950931 - Thread1 inside synchronized block\r\n    1643099950947 - Thread2 inside synchronized block\r\n    1643099952947 - Thread2 after sleep\r\n    1643099952947 - Thread2 after notify()\r\n    1643099952947 - Thread2 ending\r\n    1643099952947 - Thread1 ending\r\n    java.lang.InterruptedException\r\n\t    at java.base/java.lang.Object.wait(Native Method)\r\n\t    at java.base/java.lang.Object.wait(Object.java:328)\r\n\t    at com.ocbc.ms.Test.lambda$new$0(Test.java:13)\r\n\t    at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n","title":"Strange behaviour with Thread.interrupt()","body":"<p>I was trying to understand more about Thread.interrupt(), and so I wrote the following codes.</p>\n<pre><code>public class Test {\n\n    private Object object = new Object();\n\n    Runnable thread1 = () -&gt; {\n        synchronized (object) {\n            System.out.println(System.currentTimeMillis() + &quot; - Thread1 inside synchronized block&quot;);\n            try {\n                object.wait();\n                System.out.println(System.currentTimeMillis() + &quot; - Thread1 after wait()&quot;);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println(System.currentTimeMillis() + &quot; - Thread1 ending&quot;);\n        }\n    };\n\n    Runnable thread2 = () -&gt; {\n        synchronized (object) {\n            System.out.println(System.currentTimeMillis() + &quot; - Thread2 inside synchronized block&quot;);\n            try {\n                Thread.sleep(2000);\n                System.out.println(System.currentTimeMillis() + &quot; - Thread2 after sleep&quot;);\n                object.notify();\n                System.out.println(System.currentTimeMillis() + &quot; - Thread2 after notify()&quot;);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println(System.currentTimeMillis() + &quot; - Thread2 ending&quot;);\n        }\n    };\n\n    public void run() {\n        Thread t1 = new Thread(thread1);\n        Thread t2 = new Thread(thread2);\n        t1.start();\n        t2.start();\n        try {\n            Thread.sleep(500);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        t1.interrupt();\n    }\n\n    public static void main(String[] args) {\n        new Test().run();\n    }\n\n}\n</code></pre>\n<p>I couldn't understand the result. Firstly, why is the exception stack trace not showing on the third line of the output? The first thread was interrupted while the second thread was still sleeping, so the exception should occur before the second thread woke up. Secondly, why is &quot;Thread 1 ending&quot; showing up before the stack trace?</p>\n<pre><code>1643099950931 - Thread1 inside synchronized block\n1643099950947 - Thread2 inside synchronized block\n1643099952947 - Thread2 after sleep\n1643099952947 - Thread2 after notify()\n1643099952947 - Thread2 ending\n1643099952947 - Thread1 ending\njava.lang.InterruptedException\n    at java.base/java.lang.Object.wait(Native Method)\n    at java.base/java.lang.Object.wait(Object.java:328)\n    at com.ocbc.ms.Test.lambda$new$0(Test.java:13)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"},{"tags":["javascript","java","forms","jsp","servlets"],"answers":[{"tags":[],"owner":{"account_id":15166774,"reputation":91,"user_id":10944077,"display_name":"Awais Latif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643101623,"creation_date":1643035457,"answer_id":70835652,"question_id":70835540,"body_markdown":"First I want to know why do you add onChange on select? do you want to do anything on onchange event? If I consider current given information then just remove onChange from select. Submit button is already good to go. its type is submit it should work.\r\n\r\nIf it does not work, let me know more details, I will try to solve your issue.\r\n\r\n**Updated from here:**\r\n\r\nyou need to create a javascript function and call it onChange of first select. this function will reload this current page selected value of selection in current url.\r\n\r\n    funtion onLeagueChange(){\r\n      var leagueValue = document.getElementById(&quot;leagues&quot;).value;\r\n      window.location.href = your_url + &quot;?leagues=&quot;+leagueValue;\r\n    }\r\n\r\nthis is solve your problem without using and other file.\r\n\r\n**Your Updated Code**\r\n\r\n   \r\n\r\n    &lt;div class=&quot;row justify-content-center&quot;&gt;\r\n    &lt;div class=&quot;col-sm-4&quot;&gt;\r\n\r\n\r\n        &lt;form class=&quot;form-group&quot; action=&quot;addemp&quot; method=&quot;post&quot;&gt;\r\n\r\n\r\n            &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Choose a League &lt;/label&gt; &lt;select\r\n                name=&quot;leagues&quot; id=&quot;leagues&quot; class=&quot;form-control mb-3&quot;\r\n                style=&quot;width: 200px;&quot; onchange=&quot;onLeagueChange()&quot;&gt;\r\n                &lt;option value=&quot;0&quot;&gt;Select League&lt;/option&gt;\r\n                &lt;%\r\n        Connection conn;\r\n        Statement stm;\r\n        ResultSet rs;\r\n\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\r\n            String query = &quot;select * from leagues&quot;;\r\n            stm = conn.createStatement();\r\n            rs = stm.executeQuery(query);\r\n            while (rs.next()) {\r\n        %&gt;\r\n                &lt;option value=&quot;&lt;%=rs.getInt(&quot;league_id&quot;)%&gt;&quot;\r\n                    &lt;%\r\n            if(request.getParameter(&quot;leagues&quot;)!= null) \r\n            {\r\n                if(rs.getInt(&quot;league_id&quot;)==Integer.parseInt(request.getParameter(&quot;leagues&quot;))) \r\n                {\r\n                    out.print(&quot;selected&quot;);\r\n                }\r\n            }\r\n            %&gt;&gt;&lt;%=rs.getString(&quot;league_name&quot;)%&gt;&lt;/option&gt;\r\n                &lt;%\r\n            }\r\n        } \r\n        catch (Exception ex) {\r\n        ex.printStackTrace();\r\n        }\r\n            %&gt;\r\n            &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team&lt;/label&gt; &lt;select\r\n                name=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\r\n                &lt;option value=&quot;0&quot;&gt;Select Home Team&lt;/option&gt;\r\n                &lt;%\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\r\n            String query = &quot;select * from teams where league_id=?&quot;;\r\n            PreparedStatement psmt = con.prepareStatement(query);\r\n            psmt.setString(1, request.getParameter(&quot;leagues&quot;));\r\n            ResultSet rset = psmt.executeQuery();\r\n            while(rset.next()) \r\n            {\r\n            %&gt;\r\n                &lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\r\n                    &lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\r\n                &lt;%\r\n            }\r\n        } \r\n        catch (Exception ex) {\r\n        ex.printStackTrace();\r\n        }\r\n            %&gt;\r\n            &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Away Team&lt;/label&gt; &lt;select\r\n                name=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\r\n                &lt;option value=&quot;0&quot;&gt;Select Away Team&lt;/option&gt;\r\n                &lt;%\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\r\n            String query = &quot;select * from teams where league_id=?&quot;;\r\n            PreparedStatement psmt = con.prepareStatement(query);\r\n            psmt.setString(1, request.getParameter(&quot;leagues&quot;));\r\n            ResultSet rset = psmt.executeQuery();\r\n            while(rset.next()) \r\n            {\r\n            %&gt;\r\n                &lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\r\n                    &lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\r\n                &lt;%\r\n            }\r\n        } \r\n        catch (Exception ex) {\r\n        ex.printStackTrace();\r\n        }\r\n            %&gt;\r\n            &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Enter Match Date\r\n                (YYYY-MM-DD)&lt;/label&gt; &lt;input name=&quot;match_date&quot; type=&quot;text&quot;\r\n                class=&quot;form-control mb-3&quot; style=&quot;width: 200px&quot;&gt; &lt;label\r\n                class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Score&lt;/label&gt; &lt;input\r\n                name=&quot;home_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\r\n                style=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\r\n                for=&quot;name&quot;&gt;Away Score&lt;/label&gt; &lt;input name=&quot;away_score&quot; type=&quot;text&quot;\r\n                class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt; &lt;label\r\n                class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team HT Score&lt;/label&gt; &lt;input\r\n                name=&quot;home_ht_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\r\n                style=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\r\n                for=&quot;name&quot;&gt;Away Team HT Score&lt;/label&gt; &lt;input name=&quot;away_ht_score&quot;\r\n                type=&quot;text&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\r\n\r\n            &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Week&lt;/label&gt; &lt;input\r\n                name=&quot;week&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\r\n                style=&quot;width: 200px;&quot;&gt;\r\n\r\n            &lt;div class=&quot;d-md-flex justify-content-md-end&quot;&gt;\r\n                &lt;button class=&quot;btn btn-primary mb-4&quot; type=&quot;submit&quot;&gt;Save\r\n                    Match Result&lt;/button&gt;\r\n            &lt;/div&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;","title":"How do I to stop submitting in first dropdown list in .jsp?","body":"<p>First I want to know why do you add onChange on select? do you want to do anything on onchange event? If I consider current given information then just remove onChange from select. Submit button is already good to go. its type is submit it should work.</p>\n<p>If it does not work, let me know more details, I will try to solve your issue.</p>\n<p><strong>Updated from here:</strong></p>\n<p>you need to create a javascript function and call it onChange of first select. this function will reload this current page selected value of selection in current url.</p>\n<pre><code>funtion onLeagueChange(){\n  var leagueValue = document.getElementById(&quot;leagues&quot;).value;\n  window.location.href = your_url + &quot;?leagues=&quot;+leagueValue;\n}\n</code></pre>\n<p>this is solve your problem without using and other file.</p>\n<p><strong>Your Updated Code</strong></p>\n<pre><code>&lt;div class=&quot;row justify-content-center&quot;&gt;\n&lt;div class=&quot;col-sm-4&quot;&gt;\n\n\n    &lt;form class=&quot;form-group&quot; action=&quot;addemp&quot; method=&quot;post&quot;&gt;\n\n\n        &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Choose a League &lt;/label&gt; &lt;select\n            name=&quot;leagues&quot; id=&quot;leagues&quot; class=&quot;form-control mb-3&quot;\n            style=&quot;width: 200px;&quot; onchange=&quot;onLeagueChange()&quot;&gt;\n            &lt;option value=&quot;0&quot;&gt;Select League&lt;/option&gt;\n            &lt;%\n    Connection conn;\n    Statement stm;\n    ResultSet rs;\n\n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\n        String query = &quot;select * from leagues&quot;;\n        stm = conn.createStatement();\n        rs = stm.executeQuery(query);\n        while (rs.next()) {\n    %&gt;\n            &lt;option value=&quot;&lt;%=rs.getInt(&quot;league_id&quot;)%&gt;&quot;\n                &lt;%\n        if(request.getParameter(&quot;leagues&quot;)!= null) \n        {\n            if(rs.getInt(&quot;league_id&quot;)==Integer.parseInt(request.getParameter(&quot;leagues&quot;))) \n            {\n                out.print(&quot;selected&quot;);\n            }\n        }\n        %&gt;&gt;&lt;%=rs.getString(&quot;league_name&quot;)%&gt;&lt;/option&gt;\n            &lt;%\n        }\n    } \n    catch (Exception ex) {\n    ex.printStackTrace();\n    }\n        %&gt;\n        &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team&lt;/label&gt; &lt;select\n            name=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\n            &lt;option value=&quot;0&quot;&gt;Select Home Team&lt;/option&gt;\n            &lt;%\n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\n        String query = &quot;select * from teams where league_id=?&quot;;\n        PreparedStatement psmt = con.prepareStatement(query);\n        psmt.setString(1, request.getParameter(&quot;leagues&quot;));\n        ResultSet rset = psmt.executeQuery();\n        while(rset.next()) \n        {\n        %&gt;\n            &lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\n                &lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\n            &lt;%\n        }\n    } \n    catch (Exception ex) {\n    ex.printStackTrace();\n    }\n        %&gt;\n        &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Away Team&lt;/label&gt; &lt;select\n            name=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\n            &lt;option value=&quot;0&quot;&gt;Select Away Team&lt;/option&gt;\n            &lt;%\n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\n        String query = &quot;select * from teams where league_id=?&quot;;\n        PreparedStatement psmt = con.prepareStatement(query);\n        psmt.setString(1, request.getParameter(&quot;leagues&quot;));\n        ResultSet rset = psmt.executeQuery();\n        while(rset.next()) \n        {\n        %&gt;\n            &lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\n                &lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\n            &lt;%\n        }\n    } \n    catch (Exception ex) {\n    ex.printStackTrace();\n    }\n        %&gt;\n        &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Enter Match Date\n            (YYYY-MM-DD)&lt;/label&gt; &lt;input name=&quot;match_date&quot; type=&quot;text&quot;\n            class=&quot;form-control mb-3&quot; style=&quot;width: 200px&quot;&gt; &lt;label\n            class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Score&lt;/label&gt; &lt;input\n            name=&quot;home_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\n            style=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\n            for=&quot;name&quot;&gt;Away Score&lt;/label&gt; &lt;input name=&quot;away_score&quot; type=&quot;text&quot;\n            class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt; &lt;label\n            class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team HT Score&lt;/label&gt; &lt;input\n            name=&quot;home_ht_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\n            style=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\n            for=&quot;name&quot;&gt;Away Team HT Score&lt;/label&gt; &lt;input name=&quot;away_ht_score&quot;\n            type=&quot;text&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\n\n        &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Week&lt;/label&gt; &lt;input\n            name=&quot;week&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\n            style=&quot;width: 200px;&quot;&gt;\n\n        &lt;div class=&quot;d-md-flex justify-content-md-end&quot;&gt;\n            &lt;button class=&quot;btn btn-primary mb-4&quot; type=&quot;submit&quot;&gt;Save\n                Match Result&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n"}],"owner":{"account_id":23716690,"reputation":13,"user_id":17737735,"display_name":"En B&#252;y&#252;k Fenerbah&#231;e"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70835652,"answer_count":1,"score":0,"last_activity_date":1643101623,"creation_date":1643034998,"question_id":70835540,"body_markdown":"I have a file called add.jsp that I add data to the database with Java.\r\n\r\nIn this file, I bring the leagues from the database with the first dropdownlist, and the teams of that league are displayed in the 2nd and 3rd Dropdown lists of the selected league.\r\n\r\nThe form starts as follows.\r\n&lt;form class=&quot;form-group&quot; action=&quot;addemp&quot; method=&quot;post&quot;&gt;\r\n\r\nSince onchange=&quot;this.form.submit();&quot; is in the first dropdown list section, when the selection is made, the form submits and goes to the addemp servlet.\r\n\r\nHow do I prevent the form from submitting when I select the Leagues from the first dropdown list? and how do I make it go to the addemp servlet only when I click on the bottom submit button after selecting all the data and logging in?\r\n\r\nMy code is as below between body tags..\r\n\r\n[Screenshot is here][1]\r\n\r\n[Without onchange event screenshot is here][2]\r\n\r\n\r\n\r\n&lt;body&gt;\r\n\r\n\t&lt;div class=&quot;row justify-content-center&quot;&gt;\r\n\t\t&lt;div class=&quot;col-sm-4&quot;&gt;\r\n\r\n\r\n\t\t\t&lt;form class=&quot;form-group&quot; action=&quot;addemp&quot; method=&quot;post&quot;&gt;\r\n\r\n\r\n\t\t\t\t&lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Choose a League &lt;/label&gt; &lt;select\r\n\t\t\t\t\tname=&quot;leagues&quot; id=&quot;leagues&quot; class=&quot;form-control mb-3&quot;\r\n\t\t\t\t\tstyle=&quot;width: 200px;&quot; onchange=&quot;this.form.submit();&quot;&gt;\r\n\t\t\t\t\t&lt;option value=&quot;0&quot;&gt;Select League&lt;/option&gt;\r\n\t\t\t\t\t&lt;%\r\n\t\t\tConnection conn;\r\n\t\t\tStatement stm;\r\n\t\t\tResultSet rs;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\tconn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\r\n\t\t\t\tString query = &quot;select * from leagues&quot;;\r\n\t\t\t\tstm = conn.createStatement();\r\n\t\t\t\trs = stm.executeQuery(query);\r\n\t\t\t\twhile (rs.next()) {\r\n\t\t\t%&gt;\r\n\t\t\t\t\t&lt;option value=&quot;&lt;%=rs.getInt(&quot;league_id&quot;)%&gt;&quot;\r\n\t\t\t\t\t\t&lt;%\r\n\t\t\t\tif(request.getParameter(&quot;leagues&quot;)!= null) \r\n\t\t\t\t{\r\n\t\t\t\t\tif(rs.getInt(&quot;league_id&quot;)==Integer.parseInt(request.getParameter(&quot;leagues&quot;))) \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tout.print(&quot;selected&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t%&gt;&gt;&lt;%=rs.getString(&quot;league_name&quot;)%&gt;&lt;/option&gt;\r\n\t\t\t\t\t&lt;%\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\tcatch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\t%&gt;\r\n\t\t\t\t&lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team&lt;/label&gt; &lt;select\r\n\t\t\t\t\tname=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\r\n\t\t\t\t\t&lt;option value=&quot;0&quot;&gt;Select Home Team&lt;/option&gt;\r\n\t\t\t\t\t&lt;%\r\n\t\t\ttry {\r\n\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\r\n\t\t\t\tString query = &quot;select * from teams where league_id=?&quot;;\r\n\t\t\t\tPreparedStatement psmt = con.prepareStatement(query);\r\n\t\t\t\tpsmt.setString(1, request.getParameter(&quot;leagues&quot;));\r\n\t\t\t\tResultSet rset = psmt.executeQuery();\r\n\t\t\t\twhile(rset.next()) \r\n\t\t\t\t{\r\n\t\t\t\t%&gt;\r\n\t\t\t\t\t&lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\r\n\t\t\t\t\t\t&lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\r\n\t\t\t\t\t&lt;%\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\tcatch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\t%&gt;\r\n\t\t\t\t&lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Away Team&lt;/label&gt; &lt;select\r\n\t\t\t\t\tname=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\r\n\t\t\t\t\t&lt;option value=&quot;0&quot;&gt;Select Away Team&lt;/option&gt;\r\n\t\t\t\t\t&lt;%\r\n\t\t\ttry {\r\n\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\r\n\t\t\t\tString query = &quot;select * from teams where league_id=?&quot;;\r\n\t\t\t\tPreparedStatement psmt = con.prepareStatement(query);\r\n\t\t\t\tpsmt.setString(1, request.getParameter(&quot;leagues&quot;));\r\n\t\t\t\tResultSet rset = psmt.executeQuery();\r\n\t\t\t\twhile(rset.next()) \r\n\t\t\t\t{\r\n\t\t\t\t%&gt;\r\n\t\t\t\t\t&lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\r\n\t\t\t\t\t\t&lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\r\n\t\t\t\t\t&lt;%\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\tcatch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\t%&gt;\r\n\t\t\t\t&lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Enter Match Date\r\n\t\t\t\t\t(YYYY-MM-DD)&lt;/label&gt; &lt;input name=&quot;match_date&quot; type=&quot;text&quot;\r\n\t\t\t\t\tclass=&quot;form-control mb-3&quot; style=&quot;width: 200px&quot;&gt; &lt;label\r\n\t\t\t\t\tclass=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Score&lt;/label&gt; &lt;input\r\n\t\t\t\t\tname=&quot;home_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\r\n\t\t\t\t\tstyle=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\r\n\t\t\t\t\tfor=&quot;name&quot;&gt;Away Score&lt;/label&gt; &lt;input name=&quot;away_score&quot; type=&quot;text&quot;\r\n\t\t\t\t\tclass=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt; &lt;label\r\n\t\t\t\t\tclass=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team HT Score&lt;/label&gt; &lt;input\r\n\t\t\t\t\tname=&quot;home_ht_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\r\n\t\t\t\t\tstyle=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\r\n\t\t\t\t\tfor=&quot;name&quot;&gt;Away Team HT Score&lt;/label&gt; &lt;input name=&quot;away_ht_score&quot;\r\n\t\t\t\t\ttype=&quot;text&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\r\n\r\n\t\t\t\t&lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Week&lt;/label&gt; &lt;input\r\n\t\t\t\t\tname=&quot;week&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\r\n\t\t\t\t\tstyle=&quot;width: 200px;&quot;&gt;\r\n\r\n\t\t\t\t&lt;div class=&quot;d-md-flex justify-content-md-end&quot;&gt;\r\n\t\t\t\t\t&lt;button class=&quot;btn btn-primary mb-4&quot; type=&quot;submit&quot;&gt;Save\r\n\t\t\t\t\t\tMatch Result&lt;/button&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/form&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n\r\nBest regards, \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L02Gf.png\r\n  [2]: https://i.stack.imgur.com/lv5Tg.png","title":"How do I to stop submitting in first dropdown list in .jsp?","body":"<p>I have a file called add.jsp that I add data to the database with Java.</p>\n<p>In this file, I bring the leagues from the database with the first dropdownlist, and the teams of that league are displayed in the 2nd and 3rd Dropdown lists of the selected league.</p>\n<p>The form starts as follows.</p>\n\n<p>Since onchange=&quot;this.form.submit();&quot; is in the first dropdown list section, when the selection is made, the form submits and goes to the addemp servlet.</p>\n<p>How do I prevent the form from submitting when I select the Leagues from the first dropdown list? and how do I make it go to the addemp servlet only when I click on the bottom submit button after selecting all the data and logging in?</p>\n<p>My code is as below between body tags..</p>\n<p><a href=\"https://i.stack.imgur.com/L02Gf.png\" rel=\"nofollow noreferrer\">Screenshot is here</a></p>\n<p><a href=\"https://i.stack.imgur.com/lv5Tg.png\" rel=\"nofollow noreferrer\">Without onchange event screenshot is here</a></p>\n\n<pre><code>&lt;div class=&quot;row justify-content-center&quot;&gt;\n    &lt;div class=&quot;col-sm-4&quot;&gt;\n\n\n        &lt;form class=&quot;form-group&quot; action=&quot;addemp&quot; method=&quot;post&quot;&gt;\n\n\n            &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Choose a League &lt;/label&gt; &lt;select\n                name=&quot;leagues&quot; id=&quot;leagues&quot; class=&quot;form-control mb-3&quot;\n                style=&quot;width: 200px;&quot; onchange=&quot;this.form.submit();&quot;&gt;\n                &lt;option value=&quot;0&quot;&gt;Select League&lt;/option&gt;\n                &lt;%\n        Connection conn;\n        Statement stm;\n        ResultSet rs;\n\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\n            String query = &quot;select * from leagues&quot;;\n            stm = conn.createStatement();\n            rs = stm.executeQuery(query);\n            while (rs.next()) {\n        %&gt;\n                &lt;option value=&quot;&lt;%=rs.getInt(&quot;league_id&quot;)%&gt;&quot;\n                    &lt;%\n            if(request.getParameter(&quot;leagues&quot;)!= null) \n            {\n                if(rs.getInt(&quot;league_id&quot;)==Integer.parseInt(request.getParameter(&quot;leagues&quot;))) \n                {\n                    out.print(&quot;selected&quot;);\n                }\n            }\n            %&gt;&gt;&lt;%=rs.getString(&quot;league_name&quot;)%&gt;&lt;/option&gt;\n                &lt;%\n            }\n        } \n        catch (Exception ex) {\n        ex.printStackTrace();\n        }\n            %&gt;\n            &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team&lt;/label&gt; &lt;select\n                name=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\n                &lt;option value=&quot;0&quot;&gt;Select Home Team&lt;/option&gt;\n                &lt;%\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\n            String query = &quot;select * from teams where league_id=?&quot;;\n            PreparedStatement psmt = con.prepareStatement(query);\n            psmt.setString(1, request.getParameter(&quot;leagues&quot;));\n            ResultSet rset = psmt.executeQuery();\n            while(rset.next()) \n            {\n            %&gt;\n                &lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\n                    &lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\n                &lt;%\n            }\n        } \n        catch (Exception ex) {\n        ex.printStackTrace();\n        }\n            %&gt;\n            &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Away Team&lt;/label&gt; &lt;select\n                name=&quot;home_team&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\n                &lt;option value=&quot;0&quot;&gt;Select Away Team&lt;/option&gt;\n                &lt;%\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/teams&quot;, &quot;root&quot;, &quot;Fener2013&quot;);\n            String query = &quot;select * from teams where league_id=?&quot;;\n            PreparedStatement psmt = con.prepareStatement(query);\n            psmt.setString(1, request.getParameter(&quot;leagues&quot;));\n            ResultSet rset = psmt.executeQuery();\n            while(rset.next()) \n            {\n            %&gt;\n                &lt;option value=&quot;&lt;%=rset.getInt(&quot;team_id&quot;)%&gt;&quot;&gt;\n                    &lt;%=rset.getString(&quot;team_name&quot;)%&gt;&lt;/option&gt;\n                &lt;%\n            }\n        } \n        catch (Exception ex) {\n        ex.printStackTrace();\n        }\n            %&gt;\n            &lt;/select&gt; &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Enter Match Date\n                (YYYY-MM-DD)&lt;/label&gt; &lt;input name=&quot;match_date&quot; type=&quot;text&quot;\n                class=&quot;form-control mb-3&quot; style=&quot;width: 200px&quot;&gt; &lt;label\n                class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Score&lt;/label&gt; &lt;input\n                name=&quot;home_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\n                style=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\n                for=&quot;name&quot;&gt;Away Score&lt;/label&gt; &lt;input name=&quot;away_score&quot; type=&quot;text&quot;\n                class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt; &lt;label\n                class=&quot;form-label&quot; for=&quot;name&quot;&gt;Home Team HT Score&lt;/label&gt; &lt;input\n                name=&quot;home_ht_score&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\n                style=&quot;width: 200px;&quot;&gt; &lt;label class=&quot;form-label&quot;\n                for=&quot;name&quot;&gt;Away Team HT Score&lt;/label&gt; &lt;input name=&quot;away_ht_score&quot;\n                type=&quot;text&quot; class=&quot;form-control mb-3&quot; style=&quot;width: 200px;&quot;&gt;\n\n            &lt;label class=&quot;form-label&quot; for=&quot;name&quot;&gt;Week&lt;/label&gt; &lt;input\n                name=&quot;week&quot; type=&quot;text&quot; class=&quot;form-control mb-3&quot;\n                style=&quot;width: 200px;&quot;&gt;\n\n            &lt;div class=&quot;d-md-flex justify-content-md-end&quot;&gt;\n                &lt;button class=&quot;btn btn-primary mb-4&quot; type=&quot;submit&quot;&gt;Save\n                    Match Result&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Best regards,</p>\n"},{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"account_id":5806439,"reputation":319,"user_id":4578902,"accept_rate":57,"display_name":"sAm"},"score":1,"creation_date":1473929064,"post_id":39506612,"comment_id":66329811,"body_markdown":"please share your web.xml","body":"please share your web.xml"},{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":0,"creation_date":1473929436,"post_id":39506612,"comment_id":66330006,"body_markdown":"Check your deployment assembly if everything is deploying correctly, server class should be in `webapps/testh/WEB-INF/classes/hello.class` in tomcat. Also, name your classes staring with big letter like `Hello`.","body":"Check your deployment assembly if everything is deploying correctly, server class should be in <code>webapps&#47;testh&#47;WEB-INF&#47;classes&#47;hello.class</code> in tomcat. Also, name your classes staring with big letter like <code>Hello</code>."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1473931452,"post_id":39506612,"comment_id":66331237,"body_markdown":"It often helps enormously to read error messages carefully (see also the server logs).","body":"It often helps enormously to read error messages carefully (see also the server logs)."}],"answers":[{"tags":[],"owner":{"account_id":3455727,"reputation":11,"user_id":2894299,"display_name":"Oleh Yatskiv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643101370,"creation_date":1473929171,"answer_id":39506692,"question_id":39506612,"body_markdown":"Try to call [http://localhost:8080/hello][1]\r\n\r\n\r\n  [1]: http://localhost:8080/login\r\nBecause all you project is under the root \r\n\r\n&gt; /\r\n\r\nAnd then you have mapping `/hello`\r\n\r\nAlso if you need exactly `http://localhost:8080/testh/hello` you should deploy app using path **/testh** and then HTTP call will route you to **/testh/hello** because your servlet path is **/hello** + app path **/testh**","title":"404 the requested resource is not available on a very simple servlet","body":"<p>Try to call <a href=\"http://localhost:8080/login\" rel=\"nofollow noreferrer\">http://localhost:8080/hello</a></p>\n<p>Because all you project is under the root</p>\n<blockquote>\n<p>/</p>\n</blockquote>\n<p>And then you have mapping <code>/hello</code></p>\n<p>Also if you need exactly <code>http://localhost:8080/testh/hello</code> you should deploy app using path <strong>/testh</strong> and then HTTP call will route you to <strong>/testh/hello</strong> because your servlet path is <strong>/hello</strong> + app path <strong>/testh</strong></p>\n"}],"owner":{"account_id":9195475,"reputation":11,"user_id":6834341,"display_name":"John Solve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1473931377,"answer_count":1,"score":1,"last_activity_date":1643101370,"creation_date":1473928919,"question_id":39506612,"body_markdown":"I&#39;ve been stuck with this problem the whole morning and I can&#39;t seem to understand why.\r\n\r\nThis is my servlet. Very simple:\r\n\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    /**\r\n     * Servlet implementation class hello\r\n     */\r\n    @WebServlet(&quot;/hello&quot;)\r\n    public class hello extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n           \r\n        /**\r\n         * @see HttpServlet#HttpServlet()\r\n         */\r\n        public hello() {\r\n            super();\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tresponse.getWriter().write(&quot;test&quot;);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tdoGet(request, response);\r\n    \t}\r\n    \r\n    }\r\n\r\nWhen I start my tomcat server, and go to http://localhost:8080/testh/hello I receive the error message:\r\nHTTP Status 404 - /testh/hello\r\n\r\nWhy? The server is started, and I have this specific servlet /hello running under the project &quot;testh&quot;. I don&#39;t understand. Please help.","title":"404 the requested resource is not available on a very simple servlet","body":"<p>I've been stuck with this problem the whole morning and I can't seem to understand why.</p>\n\n<p>This is my servlet. Very simple:</p>\n\n<pre><code>import java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n * Servlet implementation class hello\n */\n@WebServlet(\"/hello\")\npublic class hello extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public hello() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        response.getWriter().write(\"test\");\n    }\n\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        doGet(request, response);\n    }\n\n}\n</code></pre>\n\n<p>When I start my tomcat server, and go to <a href=\"http://localhost:8080/testh/hello\" rel=\"nofollow\">http://localhost:8080/testh/hello</a> I receive the error message:\nHTTP Status 404 - /testh/hello</p>\n\n<p>Why? The server is started, and I have this specific servlet /hello running under the project \"testh\". I don't understand. Please help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1473836548,"post_id":39484294,"comment_id":66286960,"body_markdown":"It&#39;s probably due to the extra `;` after the comment.","body":"It&#39;s probably due to the extra <code>;</code> after the comment."},{"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":3,"creation_date":1473836586,"post_id":39484294,"comment_id":66286973,"body_markdown":"Poor Edmund. I don&#39;t see this as a particularly poor question, particularly if the IDE highlights the entire line.","body":"Poor Edmund. I don&#39;t see this as a particularly poor question, particularly if the IDE highlights the entire line."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1473838122,"post_id":39484294,"comment_id":66287797,"body_markdown":"@Bathsheba That&#39;s 6x5 reputation from upvotes minus 4x2 reputation loss from downvotes is net 22 reputation increase. The net result isn&#39;t so bad. :)","body":"@Bathsheba That&#39;s 6x5 reputation from upvotes minus 4x2 reputation loss from downvotes is net 22 reputation increase. The net result isn&#39;t so bad. :)"},{"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":0,"creation_date":1473839163,"post_id":39484294,"comment_id":66288365,"body_markdown":"@ErwinBolwidt: Yes SO is a funny old world. I&#39;m not convinced my answer is worth 10 * 10 + 15. Especially when you consider that&#39;s greater than the score of the excellent answer to http://stackoverflow.com/questions/39465404/precedence-of-const-member-function-over-return-value-type-match/39465464 which has more question upvotes.","body":"@ErwinBolwidt: Yes SO is a funny old world. I&#39;m not convinced my answer is worth 10 * 10 + 15. Especially when you consider that&#39;s greater than the score of the excellent answer to <a href=\"http://stackoverflow.com/questions/39465404/precedence-of-const-member-function-over-return-value-type-match/39465464\" title=\"precedence of const member function over return value type match\">stackoverflow.com/questions/39465404/&hellip;</a> which has more question upvotes."}],"answers":[{"tags":[],"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1473836552,"creation_date":1473836552,"answer_id":39484314,"question_id":39484294,"body_markdown":"This is clear if you remove the comment:\r\n\r\n`return foo.containsKey(MARKET_DATA) &amp;&amp; !foo.get(MARKET_DATA).isMissing();;`\r\n\r\nNote well the two semicolons at the end: empty statements *are* allowed in Java, but this particular empty statement is *unreachable* as the previous statement *always* `return`s.\r\n\r\n(For the avoidance of doubt, a *comment* should not be terminated with a `;`).","title":"This code does not compile due to an unreachable statement","body":"<p>This is clear if you remove the comment:</p>\n\n<p><code>return foo.containsKey(MARKET_DATA) &amp;&amp; !foo.get(MARKET_DATA).isMissing();;</code></p>\n\n<p>Note well the two semicolons at the end: empty statements <em>are</em> allowed in Java, but this particular empty statement is <em>unreachable</em> as the previous statement <em>always</em> <code>return</code>s.</p>\n\n<p>(For the avoidance of doubt, a <em>comment</em> should not be terminated with a <code>;</code>).</p>\n"},{"tags":[],"owner":{"account_id":382603,"reputation":9068,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643101352,"creation_date":1473836926,"answer_id":39484420,"question_id":39484294,"body_markdown":"   As per [Java specs][1] `;` is a empty statement. So there is a statement after return\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.6","title":"This code does not compile due to an unreachable statement","body":"<p>As per <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.6\" rel=\"nofollow noreferrer\">Java specs</a> <code>;</code> is a empty statement. So there is a statement after return</p>\n"},{"tags":[],"owner":{"account_id":9179746,"reputation":1206,"user_id":6824065,"display_name":"Sergiu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473884136,"creation_date":1473836931,"answer_id":39484422,"question_id":39484294,"body_markdown":"The issue is because of the `;` after the comment:\r\n`/*mapping code can inject a Missing type*/`;\r\n\r\nThe compiler thinks there is another statement after the return statement. If you delete the `;` after the comment it will work fine (or put it inside the comment).","title":"This code does not compile due to an unreachable statement","body":"<p>The issue is because of the <code>;</code> after the comment:\n<code>/*mapping code can inject a Missing type*/</code>;</p>\n\n<p>The compiler thinks there is another statement after the return statement. If you delete the <code>;</code> after the comment it will work fine (or put it inside the comment).</p>\n"}],"owner":{"account_id":8668214,"reputation":572,"user_id":6487923,"display_name":"Edmund Price"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":4,"up_vote_count":8,"closed_date":1473838866,"accepted_answer_id":39484314,"answer_count":3,"score":4,"last_activity_date":1643101352,"creation_date":1473836475,"question_id":39484294,"body_markdown":"I&#39;ve tried my utmost to reproduce this in another way, but it seems that only this line gives the error (please excuse the comment):\r\n\r    return foo.containsKey(MARKET_DATA) &amp;&amp; !foo.get(MARKET_DATA).isMissing();/*mapping code can inject a Missing type*/;\r\n\r\nHowever I type this it gives me an error: &quot;unreachable statement&quot;. Why is this?","title":"This code does not compile due to an unreachable statement","body":"<p>I've tried my utmost to reproduce this in another way, but it seems that only this line gives the error (please excuse the comment):</p>\n\n<pre><code>return foo.containsKey(MARKET_DATA) &amp;&amp; !foo.get(MARKET_DATA).isMissing();/*mapping code can inject a Missing type*/;\n</code></pre>\n\n<p>However I type this it gives me an error: \"unreachable statement\". Why is this?</p>\n"},{"tags":["java","android","security","webview","mobile-security"],"answers":[{"tags":[],"owner":{"account_id":232489,"reputation":8023,"user_id":497366,"accept_rate":92,"display_name":"Bj&#246;rn Kechel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457602596,"creation_date":1457602596,"answer_id":35912602,"question_id":35912434,"body_markdown":"this will cause nothing to happen when the link &quot;http://www.myweb.com/pepito&quot; is clicked\r\n\r\n\r\n    public class MyWebViewClient extends WebViewClient {\r\n        public boolean shuldOverrideKeyEvent (WebView view, KeyEvent event) {\r\n             // Do something with the event here\r\n             return true;\r\n        }\r\n    \r\n        public boolean shouldOverrideUrlLoading (WebView view, String url) {\r\n            return url.equals(&quot;http://www.myweb.com/pepito&quot;);\r\n        }\r\n    }","title":"Block a URL in a WebView on Android","body":"<p>this will cause nothing to happen when the link \"<a href=\"http://www.myweb.com/pepito\" rel=\"nofollow\">http://www.myweb.com/pepito</a>\" is clicked</p>\n\n<pre><code>public class MyWebViewClient extends WebViewClient {\n    public boolean shuldOverrideKeyEvent (WebView view, KeyEvent event) {\n         // Do something with the event here\n         return true;\n    }\n\n    public boolean shouldOverrideUrlLoading (WebView view, String url) {\n        return url.equals(\"http://www.myweb.com/pepito\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7567260,"reputation":2819,"user_id":5742304,"display_name":"Febi M Felix"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1607373513,"creation_date":1457602623,"answer_id":35912622,"question_id":35912434,"body_markdown":"*[`shouldOverrideUrlLoading`](https://developer.android.com/reference/android/webkit/WebViewClient#shouldOverrideUrlLoading(android.webkit.WebView,%20android.webkit.WebResourceRequest))* will examine the web page URL loaded into the WebView and all URLs loaded within the page content.\r\n\r\n    public class MyWebViewClient extends WebViewClient {\r\n        public boolean shouldOverrideKeyEvent (WebView view, KeyEvent event) {\r\n             \r\n             return true;\r\n        }\r\n    \r\n        public boolean shouldOverrideUrlLoading (WebView view, String url) {\r\n            if (Uri.parse(url).getHost().equals(&quot;http://www.myweb.com/pepito&quot;)) {\r\n                 // This is my web site, so do not override; let the WebView load the page.\r\n                 return false;\r\n            }\r\n    \r\n            // Reject everything else.\r\n            return true;\r\n        }\r\n    }","title":"Block a URL in a WebView on Android","body":"<p><em><a href=\"https://developer.android.com/reference/android/webkit/WebViewClient#shouldOverrideUrlLoading(android.webkit.WebView,%20android.webkit.WebResourceRequest)\" rel=\"nofollow noreferrer\"><code>shouldOverrideUrlLoading</code></a></em> will examine the web page URL loaded into the WebView and all URLs loaded within the page content.</p>\n<pre><code>public class MyWebViewClient extends WebViewClient {\n    public boolean shouldOverrideKeyEvent (WebView view, KeyEvent event) {\n         \n         return true;\n    }\n\n    public boolean shouldOverrideUrlLoading (WebView view, String url) {\n        if (Uri.parse(url).getHost().equals(&quot;http://www.myweb.com/pepito&quot;)) {\n             // This is my web site, so do not override; let the WebView load the page.\n             return false;\n        }\n\n        // Reject everything else.\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12881596,"reputation":31,"user_id":9316459,"display_name":"Mayur Kodhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567682514,"creation_date":1567682514,"answer_id":57804391,"question_id":35912434,"body_markdown":"        webView.setWebViewClient(new myWebClient()); \r\n    // add this while initializing webview\r\n    \r\n    \r\n    // then do add following code\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    public class myWebClient extends WebViewClient {\r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                // TODO Auto-generated method stub\r\n               // super.onPageStarted(view, url, favicon);\r\n                if (Uri.parse(url).getHost().contains(&quot;https://qa.mstitute.com/test/build/#!/&quot;)) {\r\n                    // This is my web site, so do not override; let my WebView load the page\r\n                    Log.d(&quot;web&quot;,&quot;block&quot;);\r\n    \r\n                }else{\r\n                    super.onPageStarted(view, url, favicon);\r\n                }\r\n    \r\n                Log.d(&quot;web&quot;,&quot;Started&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                // TODO Auto-generated method stub\r\n    \r\n                if (Uri.parse(url).getHost().equals(&quot;https://qa.mstitute.com/test/build/#!/&quot;)) {\r\n                    // This is my web site, so do not override; let my WebView load the page\r\n                    Log.d(&quot;web&quot;,&quot;block&quot;);\r\n                    return false;\r\n                }else {\r\n                    view.loadUrl(url);\r\n                    return true;\r\n                }\r\n    \r\n            }\r\n            @Override\r\n            public void onReceivedError(WebView view, WebResourceRequest request,\r\n                                        WebResourceError error) {\r\n                super.onReceivedError(view, request, error);\r\n                Log.d(&quot;web&quot;,&quot;got an error&quot;);\r\n    \r\n            }\r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                // TODO Auto-generated method stub\r\n    \r\n    \r\n    \r\n    \r\n    \r\n            }\r\n        }\r\n    \r\n     \r\n\r\n\r\n\r\n","title":"Block a URL in a WebView on Android","body":"<pre><code>    webView.setWebViewClient(new myWebClient()); \n// add this while initializing webview\n\n\n// then do add following code\n\n\n\n\n\npublic class myWebClient extends WebViewClient {\n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\n            // TODO Auto-generated method stub\n           // super.onPageStarted(view, url, favicon);\n            if (Uri.parse(url).getHost().contains(\"https://qa.mstitute.com/test/build/#!/\")) {\n                // This is my web site, so do not override; let my WebView load the page\n                Log.d(\"web\",\"block\");\n\n            }else{\n                super.onPageStarted(view, url, favicon);\n            }\n\n            Log.d(\"web\",\"Started\");\n        }\n\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            // TODO Auto-generated method stub\n\n            if (Uri.parse(url).getHost().equals(\"https://qa.mstitute.com/test/build/#!/\")) {\n                // This is my web site, so do not override; let my WebView load the page\n                Log.d(\"web\",\"block\");\n                return false;\n            }else {\n                view.loadUrl(url);\n                return true;\n            }\n\n        }\n        @Override\n        public void onReceivedError(WebView view, WebResourceRequest request,\n                                    WebResourceError error) {\n            super.onReceivedError(view, request, error);\n            Log.d(\"web\",\"got an error\");\n\n        }\n        @Override\n        public void onPageFinished(WebView view, String url) {\n            // TODO Auto-generated method stub\n\n\n\n\n\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18134865,"reputation":68,"user_id":13189540,"display_name":"Cemil AKAN"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643101333,"creation_date":1621518800,"answer_id":67621757,"question_id":35912434,"body_markdown":"**Solution 1**\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n      override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        val webView : WebView = findViewById(R.id.webView)\r\n        webView.webViewClient = object : WebViewClient() {\r\n            override fun shouldOverrideUrlLoading(view: WebView?, url: String?): Boolean {\r\n                // This is my web site, so do not override; let the WebView load the page.\r\n                if (Uri.parse(url).host == &quot;google.com&quot;) return false\r\n                // Reject everything else.\r\n                return true\r\n            }\r\n         }\r\n       }\r\n     }\r\n\r\n**Solution 2**\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n     override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        val webView : WebView = findViewById(R.id.webView)\r\n        webView.webViewClient = MyWebViewClient()\r\n    }\r\n\r\n    private class MyWebViewClient : WebViewClient() {\r\n        override fun shouldOverrideUrlLoading(view: WebView?, url: String?): Boolean {\r\n            // This is my web site, so do not override; let the WebView load the page.\r\n            if (Uri.parse(url).host == &quot;google.com&quot;) return false\r\n            // Reject everything else.\r\n            return true\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n&gt; if (Uri.parse(url).host == &quot;google.com&quot;) return false\r\nThis code wont allow to go google","title":"Block a URL in a WebView on Android","body":"<p><strong>Solution 1</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val webView : WebView = findViewById(R.id.webView)\n    webView.webViewClient = object : WebViewClient() {\n        override fun shouldOverrideUrlLoading(view: WebView?, url: String?): Boolean {\n            // This is my web site, so do not override; let the WebView load the page.\n            if (Uri.parse(url).host == &quot;google.com&quot;) return false\n            // Reject everything else.\n            return true\n        }\n     }\n   }\n }\n</code></pre>\n<p><strong>Solution 2</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val webView : WebView = findViewById(R.id.webView)\n    webView.webViewClient = MyWebViewClient()\n}\n\nprivate class MyWebViewClient : WebViewClient() {\n    override fun shouldOverrideUrlLoading(view: WebView?, url: String?): Boolean {\n        // This is my web site, so do not override; let the WebView load the page.\n        if (Uri.parse(url).host == &quot;google.com&quot;) return false\n        // Reject everything else.\n        return true\n    }\n  }\n}\n</code></pre>\n<blockquote>\n<p>if (Uri.parse(url).host == &quot;google.com&quot;) return false\nThis code wont allow to go google</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2178644,"reputation":3119,"user_id":1928691,"accept_rate":90,"display_name":"Federico Navarrete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634707057,"creation_date":1634707057,"answer_id":69640671,"question_id":35912434,"body_markdown":"For Xamarin Developers (it can be adapted to Native also), this is an updated answer because the method `ShouldOverrideUrlLoading(WebView view, string url)` is **[obsolete][1]**:\r\n\r\n    [System.Obsolete]\r\n    public override bool ShouldOverrideUrlLoading(WebView view, string url)\r\n    {\r\n        return !Uri.Parse(url).Host.Contains(&quot;YOUR_URL&quot;);\r\n    }\r\n\r\n    public override bool ShouldOverrideUrlLoading(WebView view, IWebResourceRequest request)\r\n    {\r\n        return !request.Url.ToString().Contains(&quot;YOUR_URL&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/webkit/WebViewClient","title":"Block a URL in a WebView on Android","body":"<p>For Xamarin Developers (it can be adapted to Native also), this is an updated answer because the method <code>ShouldOverrideUrlLoading(WebView view, string url)</code> is <strong><a href=\"https://developer.android.com/reference/android/webkit/WebViewClient\" rel=\"nofollow noreferrer\">obsolete</a></strong>:</p>\n<pre><code>[System.Obsolete]\npublic override bool ShouldOverrideUrlLoading(WebView view, string url)\n{\n    return !Uri.Parse(url).Host.Contains(&quot;YOUR_URL&quot;);\n}\n\npublic override bool ShouldOverrideUrlLoading(WebView view, IWebResourceRequest request)\n{\n    return !request.Url.ToString().Contains(&quot;YOUR_URL&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":4603392,"reputation":151,"user_id":3733523,"accept_rate":56,"display_name":"user3733523"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9858,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35912622,"answer_count":5,"score":4,"last_activity_date":1643101333,"creation_date":1457602247,"question_id":35912434,"body_markdown":"I want to block a link from loading within a Webview.\r\n\r\n**Code**\r\n\r\n    public class WebMy extends Activity {\r\n    \r\n    \r\n       \r\n        private WebView mWebview;\r\n    \r\n        @Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\t\r\n    \t\t\tsetContentView(R.layout.pantalla);\r\n    \t\t\tgetWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);  \r\n    \t\t\t\r\n    \t\r\n    \t\t\t \r\n    \t\t\tmWebview  = new WebView(this);\r\n    \t\t\tmWebview.setWebViewClient(new WebViewClient()); \r\n    \t        mWebview.getSettings().setJavaScriptEnabled(true); // Enable JavaScript.\r\n    \r\n    \t        mWebview .loadUrl(&quot;http://www.myweb.com&quot;);\r\n    \t        setContentView(mWebview );\r\n    \t       \r\n        }\r\n\r\n**Potential Solution**\r\n\r\n    public class MyWebViewClient extends WebViewClient {\r\n        public boolean shuldOverrideKeyEvent (WebView view, KeyEvent event) {\r\n             // Do something with the event here.\r\n             return true;\r\n        }\r\n    \r\n        public boolean shouldOverrideUrlLoading (WebView view, String url) {\r\n            if (Uri.parse(url).getHost().equals(&quot;www.google.com&quot;)) {\r\n                 // This is my web site, so do not override; let my WebView load the page.\r\n                 return false;\r\n            }\r\n    \r\n            // Reject everything else.\r\n            return true;\r\n        }\r\n    }\r\n\r\nI don&#180;t know how I have to use this in my code. For example, if I want to block this url `http://www.myweb.com/pepito`. How can I do this with this code? Thank you.","title":"Block a URL in a WebView on Android","body":"<p>I want to block a link from loading within a Webview.</p>\n<p><strong>Code</strong></p>\n<pre><code>public class WebMy extends Activity {\n\n\n   \n    private WebView mWebview;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        \n            setContentView(R.layout.pantalla);\n            getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);  \n            \n    \n             \n            mWebview  = new WebView(this);\n            mWebview.setWebViewClient(new WebViewClient()); \n            mWebview.getSettings().setJavaScriptEnabled(true); // Enable JavaScript.\n\n            mWebview .loadUrl(&quot;http://www.myweb.com&quot;);\n            setContentView(mWebview );\n           \n    }\n</code></pre>\n<p><strong>Potential Solution</strong></p>\n<pre><code>public class MyWebViewClient extends WebViewClient {\n    public boolean shuldOverrideKeyEvent (WebView view, KeyEvent event) {\n         // Do something with the event here.\n         return true;\n    }\n\n    public boolean shouldOverrideUrlLoading (WebView view, String url) {\n        if (Uri.parse(url).getHost().equals(&quot;www.google.com&quot;)) {\n             // This is my web site, so do not override; let my WebView load the page.\n             return false;\n        }\n\n        // Reject everything else.\n        return true;\n    }\n}\n</code></pre>\n<p>I don´t know how I have to use this in my code. For example, if I want to block this url <code>http://www.myweb.com/pepito</code>. How can I do this with this code? Thank you.</p>\n"},{"tags":["java","algorithm","arraylist","data-structures"],"answers":[{"tags":[],"owner":{"account_id":1119361,"reputation":46385,"user_id":1108032,"accept_rate":79,"display_name":"Boris Strandjev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643098654,"creation_date":1643098473,"answer_id":70845347,"question_id":70845233,"body_markdown":"The only problem I see is that you are expected to calculate `long` result, but are calculating intermediary values (e.g. total sum) in `int`. This can result in type overflow.\r\n\r\nBasically substitute `mapToInt` with `mapToLong` and use rather `longValue`.\r\n\r\nPS: Otherwise I like your solution in the sense it is concise and utilizes APIs well. If you are after pixel perfect performance you might want to spare unnecessary cycles over the list, but this is really extreme optimization (as your solution is also linear in complexity) and I doubt it will ever make a difference.\r\n","title":"Min Max Problem:Short Solution falling short of 3 test cases out of 15","body":"<p>The only problem I see is that you are expected to calculate <code>long</code> result, but are calculating intermediary values (e.g. total sum) in <code>int</code>. This can result in type overflow.</p>\n<p>Basically substitute <code>mapToInt</code> with <code>mapToLong</code> and use rather <code>longValue</code>.</p>\n<p>PS: Otherwise I like your solution in the sense it is concise and utilizes APIs well. If you are after pixel perfect performance you might want to spare unnecessary cycles over the list, but this is really extreme optimization (as your solution is also linear in complexity) and I doubt it will ever make a difference.</p>\n"}],"owner":{"account_id":5950834,"reputation":45,"user_id":4678940,"display_name":"user4678940"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70845347,"answer_count":1,"score":1,"last_activity_date":1643100992,"creation_date":1643097887,"question_id":70845233,"body_markdown":"There is a very famous and simple problem on hacker-rank that goes as follows:\r\n\r\n&gt; Given five positive integers, find the minimum and maximum values that can be calculated by summing exactly four of the five integers. Then print the respective minimum and maximum values as a single line of two space-separated long integers.\r\n&gt; Example arr = [1,3,5,7,9]\r\n&gt; The minimum sum is 1+3+5+7=16 and the maximum sum is 3+5+7+9=24. \r\n\r\nNow, i solved this problem as follows:\r\n\r\n \r\n\r\n    long max = Collections.max(intList);\r\n         long min = Collections.min(intList);\r\n         long sum = intList.stream().mapToInt(Integer::intValue).sum();\r\n         System.out.println((sum-max)+&quot; &quot;+(sum-min));\r\n\r\nIt works, but is falling short of 3 test cases. Any suggestions, or improvements that can be done? I am trying to improve my programming skills and this is something that i dont want to let go till i completely understand.\r\n\r\nThanks!\r\n\r\n**EDIT**\r\n\r\nHere is the improved code and the answer to anyone who is looking :\r\n\r\n    long max = Collections.max(arr);\r\n             long min = Collections.min(arr);\r\n             long sum = arr.stream().mapToLong(Integer::longValue).sum();\r\n             System.out.println((sum-max)+&quot; &quot;+(sum-min));","title":"Min Max Problem:Short Solution falling short of 3 test cases out of 15","body":"<p>There is a very famous and simple problem on hacker-rank that goes as follows:</p>\n<blockquote>\n<p>Given five positive integers, find the minimum and maximum values that can be calculated by summing exactly four of the five integers. Then print the respective minimum and maximum values as a single line of two space-separated long integers.\nExample arr = [1,3,5,7,9]\nThe minimum sum is 1+3+5+7=16 and the maximum sum is 3+5+7+9=24.</p>\n</blockquote>\n<p>Now, i solved this problem as follows:</p>\n<pre><code>long max = Collections.max(intList);\n     long min = Collections.min(intList);\n     long sum = intList.stream().mapToInt(Integer::intValue).sum();\n     System.out.println((sum-max)+&quot; &quot;+(sum-min));\n</code></pre>\n<p>It works, but is falling short of 3 test cases. Any suggestions, or improvements that can be done? I am trying to improve my programming skills and this is something that i dont want to let go till i completely understand.</p>\n<p>Thanks!</p>\n<p><strong>EDIT</strong></p>\n<p>Here is the improved code and the answer to anyone who is looking :</p>\n<pre><code>long max = Collections.max(arr);\n         long min = Collections.min(arr);\n         long sum = arr.stream().mapToLong(Integer::longValue).sum();\n         System.out.println((sum-max)+&quot; &quot;+(sum-min));\n</code></pre>\n"},{"tags":["java","jdbc","transactions","h2","isolation-level"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1422255156,"post_id":28145713,"comment_id":44663343,"body_markdown":"FWIW, in the source code (https://code.google.com/p/h2database/source/browse/trunk/h2/src/main/org/h2/jdbc/JdbcConnection.java#711) SERIALIZABLE does the same thing as REPEATABLE_READ. So maybe it&#39;s not supported.","body":"FWIW, in the source code (<a href=\"https://code.google.com/p/h2database/source/browse/trunk/h2/src/main/org/h2/jdbc/JdbcConnection.java#711\" rel=\"nofollow noreferrer\">code.google.com/p/h2database/source/browse/trunk/h2/src/mai&zwnj;&#8203;n/&hellip;</a>) SERIALIZABLE does the same thing as REPEATABLE_READ. So maybe it&#39;s not supported."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1422255324,"post_id":28145713,"comment_id":44663397,"body_markdown":"OTOH. the documentation (http://www.h2database.com/html/advanced.html#transaction_isolation) states that SERIALIZABLE is supported: When using the isolation level &#39;serializable&#39;, dirty reads, non-repeatable reads, and phantom reads are prohibited.","body":"OTOH. the documentation (<a href=\"http://www.h2database.com/html/advanced.html#transaction_isolation\" rel=\"nofollow noreferrer\">h2database.com/html/advanced.html#transaction_isolation</a>) states that SERIALIZABLE is supported: When using the isolation level &#39;serializable&#39;, dirty reads, non-repeatable reads, and phantom reads are prohibited."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1422255487,"post_id":28145713,"comment_id":44663440,"body_markdown":"Does it help if set the transaction isolation level for both connections? Or on a third connection before you start either of the two? Shouldn&#39;t this be a global setting?","body":"Does it help if set the transaction isolation level for both connections? Or on a third connection before you start either of the two? Shouldn&#39;t this be a global setting?"},{"owner":{"account_id":454795,"reputation":7624,"user_id":852604,"accept_rate":100,"display_name":"Andrey Agibalov"},"score":0,"creation_date":1422255894,"post_id":28145713,"comment_id":44663519,"body_markdown":"`SERIALIZABLE` includes `REPEATABLE_READ`, so it&#39;s fair enough if H2 handles `REPEATABLE_READ` as `SERIALIZABLE`. Setting both the connections to `SERIALIZABLE` didn&#39;t help. This indeed should not be a global setting: the app may be happy enough with the default `READ_COMMITTED` for some operations, but for others it might want `SERIALIZABLE`.","body":"<code>SERIALIZABLE</code> includes <code>REPEATABLE_READ</code>, so it&#39;s fair enough if H2 handles <code>REPEATABLE_READ</code> as <code>SERIALIZABLE</code>. Setting both the connections to <code>SERIALIZABLE</code> didn&#39;t help. This indeed should not be a global setting: the app may be happy enough with the default <code>READ_COMMITTED</code> for some operations, but for others it might want <code>SERIALIZABLE</code>."},{"owner":{"account_id":101340,"reputation":2439,"user_id":272742,"accept_rate":64,"display_name":"turbanoff"},"score":2,"creation_date":1441808470,"post_id":28145713,"comment_id":52824979,"body_markdown":"From http://www.h2database.com/html/advanced.html#transaction_isolation\n`Please note MVCC is enabled in version 1.4.x by default, when using the MVStore. In this case, table level locking is not used. Instead, rows are locked for update, and *read committed* is used in all cases (changing the isolation level has no effect)`. Looks like read commited is used by default in MVCC.","body":"From <a href=\"http://www.h2database.com/html/advanced.html#transaction_isolation\" rel=\"nofollow noreferrer\">h2database.com/html/advanced.html#transaction_isolation</a> <code>Please note MVCC is enabled in version 1.4.x by default, when using the MVStore. In this case, table level locking is not used. Instead, rows are locked for update, and *read committed* is used in all cases (changing the isolation level has no effect)</code>. Looks like read commited is used by default in MVCC."},{"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"score":0,"creation_date":1505020081,"post_id":28145713,"comment_id":79237087,"body_markdown":"Seems like hsqldb is the better embedded Java database regarding MVCC support -- it supports REPEATABLE_READS == SERIALIZABLE : http://hsqldb.org/doc/guide/guide.html#snc_tx_mvcc","body":"Seems like hsqldb is the better embedded Java database regarding MVCC support -- it supports REPEATABLE_READS == SERIALIZABLE : <a href=\"http://hsqldb.org/doc/guide/guide.html#snc_tx_mvcc\" rel=\"nofollow noreferrer\">hsqldb.org/doc/guide/guide.html#snc_tx_mvcc</a>"}],"answers":[{"tags":[],"owner":{"account_id":5046292,"reputation":64,"user_id":4052187,"display_name":"Martin Goik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1442333168,"creation_date":1442333168,"answer_id":32590729,"question_id":28145713,"body_markdown":"In presence of pessimistic locking when enabling isolation level &quot;serializable&quot; your first two read operations on connection 1 and 2 respectively should result in two shared (write) locks.\r\n\r\nThe subsequent `insertOne(connection1)` needs a range lock being incompatible with a shared lock from an alien transaction 2. Thus connection 1 will go into &quot;wait&quot; (polling) state. Without using `setQueryTimeout(1)` your application would hang.\r\n\r\nWith respect to https://en.wikipedia.org/wiki/Isolation_(database_systems)#Phantom_reads you should alter your application (not using `setQueryTimeout`) to allow for the following schedule, either by manually starting two JVM instances or by using different threads:\r\n\r\n    Transaction 1 | Transaction 2 | Comment\r\n    --------------+---------------+--------\r\n        -         | selectAll     | Acquiring shared lock in T2\r\n    insert        |     -         | Unable to acquire range lock\r\n      wait        |     -         | T1 polling\r\n      wait        | selectAll     | T2 gets identical row set\r\n      wait        |     -         |\r\n      wait        | commit        | T2 releasing shared lock\r\n                  |               | T1 resuming insert\r\n    commit        |               |\r\n\r\nIn case &quot;serializable&quot; is not being supported you will see:\r\n\r\n    Transaction 1 | Transaction 2 | Comment\r\n    --------------+---------------+--------\r\n        -         | selectAll     | Acquiring shared lock in T2\r\n    insert        |     -         | No need for range lock due to missing support\r\n    commit        |               | T1 releasing all locks\r\n                  | selectAll     | T2 gets different row set\r\n","title":"Does H2 support the serializable isolation level?","body":"<p>In presence of pessimistic locking when enabling isolation level \"serializable\" your first two read operations on connection 1 and 2 respectively should result in two shared (write) locks.</p>\n\n<p>The subsequent <code>insertOne(connection1)</code> needs a range lock being incompatible with a shared lock from an alien transaction 2. Thus connection 1 will go into \"wait\" (polling) state. Without using <code>setQueryTimeout(1)</code> your application would hang.</p>\n\n<p>With respect to <a href=\"https://en.wikipedia.org/wiki/Isolation_(database_systems)#Phantom_reads\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Isolation_(database_systems)#Phantom_reads</a> you should alter your application (not using <code>setQueryTimeout</code>) to allow for the following schedule, either by manually starting two JVM instances or by using different threads:</p>\n\n<pre><code>Transaction 1 | Transaction 2 | Comment\n--------------+---------------+--------\n    -         | selectAll     | Acquiring shared lock in T2\ninsert        |     -         | Unable to acquire range lock\n  wait        |     -         | T1 polling\n  wait        | selectAll     | T2 gets identical row set\n  wait        |     -         |\n  wait        | commit        | T2 releasing shared lock\n              |               | T1 resuming insert\ncommit        |               |\n</code></pre>\n\n<p>In case \"serializable\" is not being supported you will see:</p>\n\n<pre><code>Transaction 1 | Transaction 2 | Comment\n--------------+---------------+--------\n    -         | selectAll     | Acquiring shared lock in T2\ninsert        |     -         | No need for range lock due to missing support\ncommit        |               | T1 releasing all locks\n              | selectAll     | T2 gets different row set\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":"袁文涛"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643100969,"creation_date":1643100969,"answer_id":70845835,"question_id":28145713,"body_markdown":"as office doc [set_lock_mode][1] ,`To enable, execute the SQL statement SET LOCK_MODE 1\r\nor append ;LOCK_MODE=1 to the database URL: jdbc:h2:~/test;LOCK_MODE=1`\r\n\r\n\r\n  [1]: https://www.h2database.com/html/commands.html#set_lock_mode","title":"Does H2 support the serializable isolation level?","body":"<p>as office doc <a href=\"https://www.h2database.com/html/commands.html#set_lock_mode\" rel=\"nofollow noreferrer\">set_lock_mode</a> ,<code>To enable, execute the SQL statement SET LOCK_MODE 1 or append ;LOCK_MODE=1 to the database URL: jdbc:h2:~/test;LOCK_MODE=1</code></p>\n"}],"owner":{"account_id":454795,"reputation":7624,"user_id":852604,"accept_rate":100,"display_name":"Andrey Agibalov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3946,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":32590729,"answer_count":2,"score":9,"last_activity_date":1643100969,"creation_date":1422254613,"question_id":28145713,"body_markdown":"Wikipedia describes the Phantom read phenomenon as:\r\n&gt; A phantom read occurs when, in the course of a transaction, two identical queries are executed, and the collection of rows returned by the second query is different from the first.\r\n\r\nIt also states that with serializable isolation level, Phantom reads are not possible. I&#39;m trying to make sure it is so in H2, but either I expect the wrong thing, or I do a wrong thing, or something is wrong with H2. Nevertheless, here&#39;s the code:\r\n\r\n\ttry(Connection connection1 = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD)) {\r\n\t    connection1.setAutoCommit(false);\r\n\r\n\t    try(Connection connection2 = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD)) {\r\n\t        connection2.setTransactionIsolation(Connection.TRANSACTION_SERIALIZABLE);\r\n\t        connection2.setAutoCommit(false);\r\n\r\n\t        assertEquals(0, selectAll(connection1));\r\n\t        assertEquals(0, selectAll(connection2)); // A: select\r\n\r\n\t        insertOne(connection1);                  // B: insert\r\n\r\n\t        assertEquals(1, selectAll(connection1));\r\n\t        assertEquals(0, selectAll(connection2)); // A: select\r\n\r\n\t        connection1.commit();                    // B: commit for insert\r\n\r\n\t        assertEquals(1, selectAll(connection1));\r\n\t        assertEquals(0, selectAll(connection2)); // A: select  ???\r\n\t    }\r\n\t}\r\n\r\nHere, I start 2 concurrent connections and configure one of them to have serializable transaction isolation. After it, I make sure that both don&#39;t see any data. Then, using `connection1`, I insert a new row. After it, I make sure that this new row is visible to `connection1`, but not to `connection2`. Then, I commit the change and expect the `connection2` to keep being unaware of this change. Briefly, I expect all my `A: select` queries to return the same set of rows (an empty set in my case).\r\n\r\nBut this does not happen: the very last `selectAll(connection2)` returns the row that has just been inserted in a parallel connection. **Am I wrong and this behavior is expected, or is it something wrong with H2?**\r\n\r\nHere are the helper methods:\r\n\r\n    public void setUpDatabase() throws SQLException {\r\n        try(Connection connection = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD)) {\r\n            try (PreparedStatement s = connection.prepareStatement(&quot;create table Notes(text varchar(256) not null)&quot;)) {\r\n                s.executeUpdate();\r\n            }\r\n        }\r\n    }\r\n\r\n    private static int selectAll(Connection connection) throws SQLException {\r\n        int count = 0;\r\n        try (PreparedStatement s = connection.prepareStatement(&quot;select * from Notes&quot;)) {\r\n            s.setQueryTimeout(1);\r\n            try (ResultSet resultSet = s.executeQuery()) {\r\n                while (resultSet.next()) {\r\n                    ++count;\r\n                }\r\n            }\r\n        }\r\n\r\n        return count;\r\n    }\r\n\r\n    private static void insertOne(Connection connection) throws SQLException {\r\n        try (PreparedStatement s = connection.prepareStatement(&quot;insert into Notes(text) values(?)&quot;)) {\r\n            s.setString(1, &quot;hello&quot;);\r\n            s.setQueryTimeout(1);\r\n            s.executeUpdate();\r\n        }\r\n    }\r\n\r\nThe complete test is here: https://gist.github.com/loki2302/26f3c052f7e73fd22604\r\n\r\nI use H2 1.4.185.","title":"Does H2 support the serializable isolation level?","body":"<p>Wikipedia describes the Phantom read phenomenon as:</p>\n\n<blockquote>\n  <p>A phantom read occurs when, in the course of a transaction, two identical queries are executed, and the collection of rows returned by the second query is different from the first.</p>\n</blockquote>\n\n<p>It also states that with serializable isolation level, Phantom reads are not possible. I'm trying to make sure it is so in H2, but either I expect the wrong thing, or I do a wrong thing, or something is wrong with H2. Nevertheless, here's the code:</p>\n\n<pre><code>try(Connection connection1 = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD)) {\n    connection1.setAutoCommit(false);\n\n    try(Connection connection2 = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD)) {\n        connection2.setTransactionIsolation(Connection.TRANSACTION_SERIALIZABLE);\n        connection2.setAutoCommit(false);\n\n        assertEquals(0, selectAll(connection1));\n        assertEquals(0, selectAll(connection2)); // A: select\n\n        insertOne(connection1);                  // B: insert\n\n        assertEquals(1, selectAll(connection1));\n        assertEquals(0, selectAll(connection2)); // A: select\n\n        connection1.commit();                    // B: commit for insert\n\n        assertEquals(1, selectAll(connection1));\n        assertEquals(0, selectAll(connection2)); // A: select  ???\n    }\n}\n</code></pre>\n\n<p>Here, I start 2 concurrent connections and configure one of them to have serializable transaction isolation. After it, I make sure that both don't see any data. Then, using <code>connection1</code>, I insert a new row. After it, I make sure that this new row is visible to <code>connection1</code>, but not to <code>connection2</code>. Then, I commit the change and expect the <code>connection2</code> to keep being unaware of this change. Briefly, I expect all my <code>A: select</code> queries to return the same set of rows (an empty set in my case).</p>\n\n<p>But this does not happen: the very last <code>selectAll(connection2)</code> returns the row that has just been inserted in a parallel connection. <strong>Am I wrong and this behavior is expected, or is it something wrong with H2?</strong></p>\n\n<p>Here are the helper methods:</p>\n\n<pre><code>public void setUpDatabase() throws SQLException {\n    try(Connection connection = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD)) {\n        try (PreparedStatement s = connection.prepareStatement(\"create table Notes(text varchar(256) not null)\")) {\n            s.executeUpdate();\n        }\n    }\n}\n\nprivate static int selectAll(Connection connection) throws SQLException {\n    int count = 0;\n    try (PreparedStatement s = connection.prepareStatement(\"select * from Notes\")) {\n        s.setQueryTimeout(1);\n        try (ResultSet resultSet = s.executeQuery()) {\n            while (resultSet.next()) {\n                ++count;\n            }\n        }\n    }\n\n    return count;\n}\n\nprivate static void insertOne(Connection connection) throws SQLException {\n    try (PreparedStatement s = connection.prepareStatement(\"insert into Notes(text) values(?)\")) {\n        s.setString(1, \"hello\");\n        s.setQueryTimeout(1);\n        s.executeUpdate();\n    }\n}\n</code></pre>\n\n<p>The complete test is here: <a href=\"https://gist.github.com/loki2302/26f3c052f7e73fd22604\">https://gist.github.com/loki2302/26f3c052f7e73fd22604</a></p>\n\n<p>I use H2 1.4.185.</p>\n"},{"tags":["java","hibernate","relationship","hibernate-onetomany"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1609239140,"post_id":65489503,"comment_id":115785136,"body_markdown":"It&#39;s not clear. Do you want the `JComboBox` to display the list of the different &quot;unit&quot; names?","body":"It&#39;s not clear. Do you want the <code>JComboBox</code> to display the list of the different &quot;unit&quot; names?"},{"owner":{"account_id":17566349,"reputation":11,"user_id":12743089,"display_name":"sarifsidik"},"score":0,"creation_date":1609249731,"post_id":65489503,"comment_id":115789086,"body_markdown":"I want to store 2 related entities while the unit_id item is not the unit name required","body":"I want to store 2 related entities while the unit_id item is not the unit name required"}],"owner":{"account_id":17566349,"reputation":11,"user_id":12743089,"display_name":"sarifsidik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643100481,"creation_date":1609231472,"question_id":65489503,"body_markdown":"I have entity items and units, items are related one to many in the unit, I have difficulty entering data into items, where items need a primary key on the unit, while I don&#39;t understand how Jcombobox works in getting primary keys or IDs.\r\n\r\n**item class entity**\r\n\r\n    @Entity()\r\n    @Table(name = &quot;item&quot;)\r\n    public class Item extends Record{   \r\n    \r\n        @Column(unique = false, nullable = false, length = 100)\r\n        public String name;\r\n    \r\n        @Column(unique = false, nullable = false, length = 50)\r\n        public double stock; // untuk menambah terus data jumlah  item dari supplier\r\n    \r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;unit_id&quot;)\r\n        public Unit unit;\r\n\r\n**class unit entity**\r\n\r\n    @Entity()\r\n    @Table(name = &quot;unit&quot;)\r\n    public class Unit extends Record {\r\n    \r\n        @Column(unique = false, nullable = false, length = 100)\r\n        public String name;\r\n        @Column(unique = false, nullable = false, length = 100)\r\n        public String description;\r\n        \r\n      @OneToMany(mappedBy = &quot;unit&quot;, cascade = { CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH,\r\n          CascadeType.REFRESH })\r\n        private List&lt;Item&gt; item;\r\n\r\n**methode load data for combobox**\r\n\r\n   \r\n\r\n     private void getUnitItem() {\r\n    \r\n            List EntityUnitItem = new Unit(databaseSession).all();\r\n            for (Iterator iterator = EntityUnitItem.iterator(); iterator.hasNext();) {\r\n    \r\n                Model.Entity.Unit getUnitItem = (Model.Entity.Unit) iterator.next();\r\n                cmbSatuanItem.addItem(getUnitItem.name);\r\n    \r\n            }\r\n           \r\n        }\r\n\r\n\r\n**how do you save one to many on the button?**\r\n","title":"How to retrieve primary key id from Jcombobox in java with hibernate which has one to many relation?","body":"<p>I have entity items and units, items are related one to many in the unit, I have difficulty entering data into items, where items need a primary key on the unit, while I don't understand how Jcombobox works in getting primary keys or IDs.</p>\n<p><strong>item class entity</strong></p>\n<pre><code>@Entity()\n@Table(name = &quot;item&quot;)\npublic class Item extends Record{   \n\n    @Column(unique = false, nullable = false, length = 100)\n    public String name;\n\n    @Column(unique = false, nullable = false, length = 50)\n    public double stock; // untuk menambah terus data jumlah  item dari supplier\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;unit_id&quot;)\n    public Unit unit;\n</code></pre>\n<p><strong>class unit entity</strong></p>\n<pre><code>@Entity()\n@Table(name = &quot;unit&quot;)\npublic class Unit extends Record {\n\n    @Column(unique = false, nullable = false, length = 100)\n    public String name;\n    @Column(unique = false, nullable = false, length = 100)\n    public String description;\n    \n  @OneToMany(mappedBy = &quot;unit&quot;, cascade = { CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH,\n      CascadeType.REFRESH })\n    private List&lt;Item&gt; item;\n</code></pre>\n<p><strong>methode load data for combobox</strong></p>\n<pre><code> private void getUnitItem() {\n\n        List EntityUnitItem = new Unit(databaseSession).all();\n        for (Iterator iterator = EntityUnitItem.iterator(); iterator.hasNext();) {\n\n            Model.Entity.Unit getUnitItem = (Model.Entity.Unit) iterator.next();\n            cmbSatuanItem.addItem(getUnitItem.name);\n\n        }\n       \n    }\n</code></pre>\n<p><strong>how do you save one to many on the button?</strong></p>\n"},{"tags":["java","list","api","aem","sightly"],"comments":[{"owner":{"account_id":10143808,"reputation":310,"user_id":7492640,"display_name":"Pasan Jayawickrama"},"score":0,"creation_date":1596121391,"post_id":63175443,"comment_id":111715864,"body_markdown":"Possibly duplicate. You have to use write a method to get the size if you can. \n https://stackoverflow.com/questions/36178191/how-to-get-count-of-object-array-in-sightly","body":"Possibly duplicate. You have to use write a method to get the size if you can.   <a href=\"https://stackoverflow.com/questions/36178191/how-to-get-count-of-object-array-in-sightly\" title=\"how to get count of object array in sightly\">stackoverflow.com/questions/36178191/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":441424,"reputation":10612,"user_id":831507,"accept_rate":100,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596123391,"creation_date":1596123391,"answer_id":63176608,"question_id":63175443,"body_markdown":"Since [Resource#listChildren](https://sling.apache.org/apidocs/sling11/org/apache/sling/api/resource/Resource.html#listChildren--) will return an `Iterator&lt;Resource&gt;`, you will not be able to get the size of the list of children from there.\r\n\r\nHTL does not offer a way to get the list size either, however it allows getting [interesting properties of the current item](https://github.com/adobe/htl-spec/blob/master/SPECIFICATION.md#226-list):\r\n\r\n```\r\n* index: zero-based counter (0..length-1);\r\n* count: one-based counter (1..length);\r\n* first: true for the first element being iterated;\r\n* middle: true if element being iterated is neither the first nor the last;\r\n* last: true for the last element being iterated;\r\n* odd: true if count is odd;\r\n* even: true if count is even.\r\n```","title":"How to find the size of a sightly list","body":"<p>Since <a href=\"https://sling.apache.org/apidocs/sling11/org/apache/sling/api/resource/Resource.html#listChildren--\" rel=\"nofollow noreferrer\">Resource#listChildren</a> will return an <code>Iterator&lt;Resource&gt;</code>, you will not be able to get the size of the list of children from there.</p>\n<p>HTL does not offer a way to get the list size either, however it allows getting <a href=\"https://github.com/adobe/htl-spec/blob/master/SPECIFICATION.md#226-list\" rel=\"nofollow noreferrer\">interesting properties of the current item</a>:</p>\n<pre><code>* index: zero-based counter (0..length-1);\n* count: one-based counter (1..length);\n* first: true for the first element being iterated;\n* middle: true if element being iterated is neither the first nor the last;\n* last: true for the last element being iterated;\n* odd: true if count is odd;\n* even: true if count is even.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5997756,"reputation":1,"user_id":4711956,"display_name":"Sushant Patil"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1596376479,"creation_date":1596376479,"answer_id":63216820,"question_id":63175443,"body_markdown":"Inside your list, you can use things like ${itemList.count}, but this only works inside data-sly-list:\r\n\r\n&lt;ul data-sly-list=&quot;${currentPage.listChildren}&quot;&gt;\r\n\r\n&lt;li&gt;${item.name} Page ${itemList.index} of ${itemList.count}&lt;/li&gt;\r\n\r\n&lt;/ul&gt; \r\n\r\n","title":"How to find the size of a sightly list","body":"<p>Inside your list, you can use things like ${itemList.count}, but this only works inside data-sly-list:</p>\n\n<li>${item.name} Page ${itemList.index} of ${itemList.count}</li>\n \n"},{"tags":[],"owner":{"account_id":6905902,"reputation":636,"user_id":5303797,"display_name":"Anmol Bhardwaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597142110,"creation_date":1597142110,"answer_id":63356401,"question_id":63175443,"body_markdown":" 1. Try using a variable name for the list.\r\n 2. If you have a list inside a list(nested list), it is always recommended to use a variable name.\r\n\r\n&gt;     &lt;sly data-sly-list.item=&quot;resource.listChildren&quot;&gt;\r\n&gt;         &lt;sly data-sly-list.itemList=&quot;item.listChildren&quot;&gt;\r\n&gt;             ${itemList.length} / #I need the total count of item here#\r\n&gt;         &lt;/sly&gt;\r\n&gt;     &lt;/sly&gt;\r\n\r\nTry using length instead of size and count. \r\nIt works for me.\r\n\r\n","title":"How to find the size of a sightly list","body":"<ol>\n<li>Try using a variable name for the list.</li>\n<li>If you have a list inside a list(nested list), it is always recommended to use a variable name.</li>\n</ol>\n<blockquote>\n<pre><code>&lt;sly data-sly-list.item=&quot;resource.listChildren&quot;&gt;\n    &lt;sly data-sly-list.itemList=&quot;item.listChildren&quot;&gt;\n        ${itemList.length} / #I need the total count of item here#\n    &lt;/sly&gt;\n&lt;/sly&gt;\n</code></pre>\n</blockquote>\n<p>Try using length instead of size and count.\nIt works for me.</p>\n"},{"tags":[],"owner":{"account_id":19937810,"reputation":11,"user_id":14610128,"display_name":"Saiteja Gokada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604982829,"creation_date":1604981795,"answer_id":64762815,"question_id":63175443,"body_markdown":"` &lt;sly data-sly-list.demo=“${demo123.items.listChildren}”&gt;\r\n &lt;sly data-sly-test=“${demoList.last}”&gt;  ${demoList.count}&lt;/sly&gt; `\r\n\r\nTest condition-&gt; demoList.last -&gt; demoList.count ","title":"How to find the size of a sightly list","body":"<p><code>&lt;sly data-sly-list.demo=“${demo123.items.listChildren}”&gt; &lt;sly data-sly-test=“${demoList.last}”&gt;  ${demoList.count}&lt;/sly&gt;</code></p>\n<p>Test condition-&gt; demoList.last -&gt; demoList.count</p>\n"},{"tags":[],"owner":{"account_id":3379757,"reputation":640,"user_id":2837056,"accept_rate":50,"display_name":"MaynorSong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606252707,"creation_date":1606252707,"answer_id":64994975,"question_id":63175443,"body_markdown":"Java File:\r\n\r\n    private List&lt;MycustomObject&gt; myList = new ArrayList&lt;&gt;();\r\n\r\n\r\nHTL:\r\n\r\n    &lt;sly data-sly-use.myCustomModel=&quot;my.custom.location.myCustomModel&quot;&gt; \r\n     ${myCustomModel.myList.size}","title":"How to find the size of a sightly list","body":"<p>Java File:</p>\n<pre><code>private List&lt;MycustomObject&gt; myList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>HTL:</p>\n<pre><code>&lt;sly data-sly-use.myCustomModel=&quot;my.custom.location.myCustomModel&quot;&gt; \n ${myCustomModel.myList.size}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1152489,"reputation":745,"user_id":1957498,"display_name":"Praveen Poonia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643100391,"creation_date":1643100391,"answer_id":70845714,"question_id":63175443,"body_markdown":"We can count number of items in sightly/HTL like -\r\n\r\n    &lt;sly data-sly-test.totalItems=&quot;${0}&quot;&gt;&lt;/sly&gt;\r\n    &lt;sly data-sly-list.child=&quot;${resource.listChildren}&quot;&gt;\r\n        &lt;sly data-sly-test.totalItems=&quot;${ childList.count }&quot;&gt;&lt;/sly&gt;\r\n    &lt;/sly&gt;\r\n\r\n`${ totalItems }` - this will give you the number of items in the list.","title":"How to find the size of a sightly list","body":"<p>We can count number of items in sightly/HTL like -</p>\n<pre><code>&lt;sly data-sly-test.totalItems=&quot;${0}&quot;&gt;&lt;/sly&gt;\n&lt;sly data-sly-list.child=&quot;${resource.listChildren}&quot;&gt;\n    &lt;sly data-sly-test.totalItems=&quot;${ childList.count }&quot;&gt;&lt;/sly&gt;\n&lt;/sly&gt;\n</code></pre>\n<p><code>${ totalItems }</code> - this will give you the number of items in the list.</p>\n"}],"owner":{"account_id":10534269,"reputation":21,"user_id":7762666,"display_name":"Wulala2006"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6780,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1643100391,"creation_date":1596119672,"question_id":63175443,"body_markdown":"I need to check the size of list in sightly. I have tried resource.size, item.size, itemList.size, resource.listChildren.size, item.listChildren.size, but none of these works.\r\n\r\nI&#39;m planning to use Java USE-API, but I have no clue how to start.\r\n\r\n```\r\n&lt;sly data-sly-list=&quot;resource.listChildren&quot;&gt;\r\n    &lt;sly data-sly-list=&quot;item.listChildren&quot;&gt;\r\n        ${itemList.count} / #I need the total count of item here#\r\n    &lt;/sly&gt;\r\n&lt;/sly&gt;\r\n\r\n```\r\n\r\n","title":"How to find the size of a sightly list","body":"<p>I need to check the size of list in sightly. I have tried resource.size, item.size, itemList.size, resource.listChildren.size, item.listChildren.size, but none of these works.</p>\n<p>I'm planning to use Java USE-API, but I have no clue how to start.</p>\n<pre><code>&lt;sly data-sly-list=&quot;resource.listChildren&quot;&gt;\n    &lt;sly data-sly-list=&quot;item.listChildren&quot;&gt;\n        ${itemList.count} / #I need the total count of item here#\n    &lt;/sly&gt;\n&lt;/sly&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel","spring-camel","camel-rest"],"answers":[{"tags":[],"owner":{"account_id":15462565,"reputation":132,"user_id":11154866,"display_name":"lbma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643100350,"creation_date":1643100350,"answer_id":70845706,"question_id":70718529,"body_markdown":"You could try something along the lines of:\r\n\r\n```\r\n        onException(HttpOperationFailedException.class)     \r\n\t\t\t\t.choice()\r\n\t\t \t\t\t.when(simple(&quot;${exception.getStatusCode()} == &#39;400&#39;&quot;))\r\n                     //doSomething\r\n                    .endChoice()\r\n\t\t \t\t\t.when(simple(&quot;${exception.getStatusCode()} == &#39;500&#39;&quot;))\r\n                     //doSomething\r\n\t\t \t\t\t.otherwise()\r\n                    //retries\r\n                    .endChoice()\r\n\t\t\t \t.end()\r\n        ;\r\n```\r\n","title":"How to handle 4xx(without retry) and 5xx (with retry) exceptions in camel","body":"<p>You could try something along the lines of:</p>\n<pre><code>        onException(HttpOperationFailedException.class)     \n                .choice()\n                    .when(simple(&quot;${exception.getStatusCode()} == '400'&quot;))\n                     //doSomething\n                    .endChoice()\n                    .when(simple(&quot;${exception.getStatusCode()} == '500'&quot;))\n                     //doSomething\n                    .otherwise()\n                    //retries\n                    .endChoice()\n                .end()\n        ;\n</code></pre>\n"}],"owner":{"account_id":16669662,"reputation":478,"user_id":12047466,"display_name":"TechGeek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70845706,"answer_count":1,"score":0,"last_activity_date":1643100350,"creation_date":1642215114,"question_id":70718529,"body_markdown":"I&#39;ve a camel route which makes API request, the external service may though 4xx or 5xx. I have written `HttpOperationFailedException` handler to handle all HTTP related exception and I&#39;m retrying all the Http exceptions irrespective of whether its client side or server side exceptions. I would like to handle them in a way, I need to avoid the reties for client side exceptions.\r\n\r\nHere is my route and exception code, looks like. Can anyone suggest best way to handle these scenarios ?\r\n\r\n```\r\n\r\n  onException(HttpOperationFailedException.class)\r\n        .handled(true)\r\n        .redeliveryDelay(100)\r\n        .maximumRedeliveries(2)\r\n        .log(&quot;${exception} Http Communication Exception while making API request&quot;)\r\n        .end();\r\n\r\n\r\nfrom(&quot;direct:start&quot;)\r\n        .routeId(&quot;restApi&quot;)\r\n        .process(exchange -&gt; exchange.getIn().setBody(\r\n            new RequestBody(\r\n                &quot;${headers.camelFileName}&quot;)))\r\n        .marshal()\r\n        .json(JsonLibrary.Gson)\r\n        .setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\r\n        .setHeader(&quot;Content-Type&quot;,constant(&quot;application/json&quot;))\r\n        .to(url)\r\n        .end();\r\n```","title":"How to handle 4xx(without retry) and 5xx (with retry) exceptions in camel","body":"<p>I've a camel route which makes API request, the external service may though 4xx or 5xx. I have written <code>HttpOperationFailedException</code> handler to handle all HTTP related exception and I'm retrying all the Http exceptions irrespective of whether its client side or server side exceptions. I would like to handle them in a way, I need to avoid the reties for client side exceptions.</p>\n<p>Here is my route and exception code, looks like. Can anyone suggest best way to handle these scenarios ?</p>\n<pre><code>\n  onException(HttpOperationFailedException.class)\n        .handled(true)\n        .redeliveryDelay(100)\n        .maximumRedeliveries(2)\n        .log(&quot;${exception} Http Communication Exception while making API request&quot;)\n        .end();\n\n\nfrom(&quot;direct:start&quot;)\n        .routeId(&quot;restApi&quot;)\n        .process(exchange -&gt; exchange.getIn().setBody(\n            new RequestBody(\n                &quot;${headers.camelFileName}&quot;)))\n        .marshal()\n        .json(JsonLibrary.Gson)\n        .setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\n        .setHeader(&quot;Content-Type&quot;,constant(&quot;application/json&quot;))\n        .to(url)\n        .end();\n</code></pre>\n"},{"tags":["java","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":4767563,"reputation":121,"user_id":3853296,"display_name":"Takatam"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1441282820,"creation_date":1441282820,"answer_id":32375455,"question_id":32359969,"body_markdown":"JasperFillManager likes to get a data source, even when you don&#39;t really have any. You could try adding an empty data source as a third parameter to JasperFillManager.fillReport:\r\n\r\n    JasperPrint impressao = JasperFillManager.fillReport(getClass().getClassLoader().getResourceAsStream(&quot;example.jasper&quot;), parametros, new JREmptyDataSource());","title":"net.sf.jasperreports.engine.JRException: Invalid page index range : 0 - -1 of 0","body":"<p>JasperFillManager likes to get a data source, even when you don't really have any. You could try adding an empty data source as a third parameter to JasperFillManager.fillReport:</p>\n\n<pre><code>JasperPrint impressao = JasperFillManager.fillReport(getClass().getClassLoader().getResourceAsStream(\"example.jasper\"), parametros, new JREmptyDataSource());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16332826,"reputation":852,"user_id":11795725,"display_name":"nipun-kavishka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643100318,"creation_date":1643100318,"answer_id":70845697,"question_id":32359969,"body_markdown":"Check whether the parameters which you are passing to the `JasperFillManager.fillReport()` is not null or empty. If it is empty or null then you will receive this same error.\r\n\r\n     JasperPrint impressao = JasperFillManager.fillReport(getClass().getClassLoader().getResourceAsStream(&quot;example.jasper&quot;), parametros);","title":"net.sf.jasperreports.engine.JRException: Invalid page index range : 0 - -1 of 0","body":"<p>Check whether the parameters which you are passing to the <code>JasperFillManager.fillReport()</code> is not null or empty. If it is empty or null then you will receive this same error.</p>\n<pre><code> JasperPrint impressao = JasperFillManager.fillReport(getClass().getClassLoader().getResourceAsStream(&quot;example.jasper&quot;), parametros);\n</code></pre>\n"}],"owner":{"account_id":1974002,"reputation":504,"user_id":1772219,"display_name":"Eduardo Meneses"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1949,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":32375455,"answer_count":2,"score":4,"last_activity_date":1643100318,"creation_date":1441216337,"question_id":32359969,"body_markdown":"When I try printing the Jasper report it gets me the message:  &quot;net.sf.jasperreports.engine.JRException: Invalid page index range : 0 - -1 of 0&quot;.\r\n\r\nCode:\r\n\r\n        try {\r\n            JasperPrint impressao = JasperFillManager.fillReport(getClass().getClassLoader().getResourceAsStream(&quot;example.jasper&quot;), parametros);\r\n            JasperExportManager.exportReportToPdf(impressao);\r\n\r\n            JasperPrintManager.printReport(impressao, true);  \r\n        } catch (JRException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nReport:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;base-estadual&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;9cbb7afc-abb5-4207-a29b-a0c7adde7df6&quot;&gt;\r\n\t&lt;property name=&quot;ireport.zoom&quot; value=&quot;1.0&quot;/&gt;\r\n\t&lt;property name=&quot;ireport.x&quot; value=&quot;0&quot;/&gt;\r\n\t&lt;property name=&quot;ireport.y&quot; value=&quot;250&quot;/&gt;\r\n\t&lt;import value=&quot;com.myproject.ed.*&quot;/&gt;\r\n\t&lt;parameter name=&quot;PATH_IMAGENS&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;queryString&gt;\r\n\t\t&lt;![CDATA[]]&gt;\r\n\t&lt;/queryString&gt;\r\n\t&lt;background&gt;\r\n\t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/background&gt;\r\n\t&lt;pageHeader&gt;\r\n\t\t&lt;band height=&quot;63&quot;&gt;\r\n\t\t\t&lt;textField evaluationTime=&quot;Report&quot;&gt;\r\n\t\t\t\t&lt;reportElement x=&quot;515&quot; y=&quot;16&quot; width=&quot;40&quot; height=&quot;20&quot; uuid=&quot;3892152b-6880-41da-bbc7-7bf79588061d&quot;/&gt;\r\n\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[&quot; &quot; + $V{PAGE_NUMBER}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t&lt;/textField&gt;\r\n\t\t\t&lt;textElement textAlignment=&quot;Right&quot;/&gt;\r\n\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[&quot;Page &quot;+$V{PAGE_NUMBER}+&quot; of&quot;]]&gt;/textFieldExpression&gt;\r\n\t\t\t&lt;/textField&gt;\r\n\t\t&lt;/band&gt;\r\n\t&lt;/pageHeader&gt;\r\n&lt;/jasperReport&gt;\r\n\r\nCould someone help me to figure out why is it happening?","title":"net.sf.jasperreports.engine.JRException: Invalid page index range : 0 - -1 of 0","body":"<p>When I try printing the Jasper report it gets me the message:  \"net.sf.jasperreports.engine.JRException: Invalid page index range : 0 - -1 of 0\".</p>\n\n<p>Code:</p>\n\n<pre><code>    try {\n        JasperPrint impressao = JasperFillManager.fillReport(getClass().getClassLoader().getResourceAsStream(\"example.jasper\"), parametros);\n        JasperExportManager.exportReportToPdf(impressao);\n\n        JasperPrintManager.printReport(impressao, true);  \n    } catch (JRException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>Report:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"base-estadual\" pageWidth=\"595\" pageHeight=\"842\" columnWidth=\"555\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\" uuid=\"9cbb7afc-abb5-4207-a29b-a0c7adde7df6\"&gt;\n&lt;property name=\"ireport.zoom\" value=\"1.0\"/&gt;\n&lt;property name=\"ireport.x\" value=\"0\"/&gt;\n&lt;property name=\"ireport.y\" value=\"250\"/&gt;\n&lt;import value=\"com.myproject.ed.*\"/&gt;\n&lt;parameter name=\"PATH_IMAGENS\" class=\"java.lang.String\"/&gt;\n&lt;queryString&gt;\n    &lt;![CDATA[]]&gt;\n&lt;/queryString&gt;\n&lt;background&gt;\n    &lt;band splitType=\"Stretch\"/&gt;\n&lt;/background&gt;\n&lt;pageHeader&gt;\n    &lt;band height=\"63\"&gt;\n        &lt;textField evaluationTime=\"Report\"&gt;\n            &lt;reportElement x=\"515\" y=\"16\" width=\"40\" height=\"20\" uuid=\"3892152b-6880-41da-bbc7-7bf79588061d\"/&gt;\n            &lt;textFieldExpression&gt;&lt;![CDATA[\" \" + $V{PAGE_NUMBER}]]&gt;&lt;/textFieldExpression&gt;\n        &lt;/textField&gt;\n        &lt;textElement textAlignment=\"Right\"/&gt;\n        &lt;textFieldExpression&gt;&lt;![CDATA[\"Page \"+$V{PAGE_NUMBER}+\" of\"]]&gt;/textFieldExpression&gt;\n        &lt;/textField&gt;\n    &lt;/band&gt;\n&lt;/pageHeader&gt;\n</code></pre>\n\n<p></p>\n\n<p>Could someone help me to figure out why is it happening?</p>\n"},{"tags":["java","batch-file","javafx","cmd","jar"],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643049350,"creation_date":1643048929,"answer_id":70838702,"question_id":70838556,"body_markdown":"It should be sufficient to just change the version number in the header of your FXML file.\r\n\r\nI am talking about a line similar to this one:\r\n\r\n    &lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;640.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n\r\n","title":"How do I ignore warnings when running a jar?","body":"<p>It should be sufficient to just change the version number in the header of your FXML file.</p>\n<p>I am talking about a line similar to this one:</p>\n<pre><code>&lt;VBox prefHeight=&quot;400.0&quot; prefWidth=&quot;640.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":24040611,"reputation":11,"user_id":18020344,"display_name":"missingSemicolon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643100210,"creation_date":1643048190,"question_id":70838556,"body_markdown":"So I run my jar using a batch script with the following line:\r\n\r\n    start &quot;&quot; &quot;..\\jdk-11.0.13.8-hotspot\\bin\\java.exe&quot; -jar .\\myjar.jar\r\n\r\nThen I get the following output which I would like to ignore:\r\n\r\n&gt;     Jan 24, 2022 1:04:57 PM javafx.fxml.FXMLLoader$ValueElement processValue\r\n&gt;     WARNING: Loading FXML document with JavaFX API of version 17 by JavaFX runtime of version 11.0.2\r\n\r\nP.S. I need to use Java 11 and I am not sure if switching to JavaFX 11 will cause issues. Everything seems to be working fine so I would like to just ignore this warning and that first line. I would appreciate any help!\r\n\r\n","title":"How do I ignore warnings when running a jar?","body":"<p>So I run my jar using a batch script with the following line:</p>\n<pre><code>start &quot;&quot; &quot;..\\jdk-11.0.13.8-hotspot\\bin\\java.exe&quot; -jar .\\myjar.jar\n</code></pre>\n<p>Then I get the following output which I would like to ignore:</p>\n<blockquote>\n<pre><code>Jan 24, 2022 1:04:57 PM javafx.fxml.FXMLLoader$ValueElement processValue\nWARNING: Loading FXML document with JavaFX API of version 17 by JavaFX runtime of version 11.0.2\n</code></pre>\n</blockquote>\n<p>P.S. I need to use Java 11 and I am not sure if switching to JavaFX 11 will cause issues. Everything seems to be working fine so I would like to just ignore this warning and that first line. I would appreciate any help!</p>\n"},{"tags":["java","exception","collections","nullpointerexception"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1643050275,"post_id":70838768,"comment_id":125232181,"body_markdown":"Do you have a more precise stack trace?  How do you know which things are and aren&#39;t null?  (This may well be the result of a poor design choice by Java, depending on your version.)","body":"Do you have a more precise stack trace?  How do you know which things are and aren&#39;t null?  (This may well be the result of a poor design choice by Java, depending on your version.)"},{"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"score":0,"creation_date":1643091116,"post_id":70838768,"comment_id":125241147,"body_markdown":"@louis-wasserman updated question to include the exception stack trace and jdk version I am currently using is  `jdk-14.0.2`.","body":"@louis-wasserman updated question to include the exception stack trace and jdk version I am currently using is  <code>jdk-14.0.2</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1643100125,"post_id":70838768,"comment_id":125243575,"body_markdown":"Removed the `[java-8]` tag, as JDK 14 clearly is not Java&#160;8.","body":"Removed the <code>[java-8]</code> tag, as JDK 14 clearly is not Java 8."}],"answers":[{"tags":[],"owner":{"account_id":24041320,"reputation":31,"user_id":18020932,"display_name":"Pedro Rausch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643051685,"creation_date":1643051685,"answer_id":70839270,"question_id":70838768,"body_markdown":"From the API Documentation of [java.util.List](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#contains(java.lang.Object)):\r\n\r\n&gt; Some list implementations have restrictions on the elements that they may contain. For example, some implementations prohibit null elements, and some have restrictions on the types of their elements. Attempting to add an ineligible element throws an unchecked exception, typically NullPointerException or ClassCastException. Attempting to query the presence of an ineligible element may throw an exception, or it may simply return false; some implementations will exhibit the former behavior and some will exhibit the latter. More generally, attempting an operation on an ineligible element whose completion would not result in the insertion of an ineligible element into the list may throw an exception or it may succeed, at the option of the implementation. Such exceptions are marked as &quot;optional&quot; in the specification for this interface.\r\n\r\n\r\n&gt; boolean contains(Object o)\r\n&gt; \r\n&gt; Returns ```true``` if this list contains the specified element. More formally, returns true if and only if this list contains at least one element e such that Objects.equals(o, e).\r\n&gt; \r\n&gt; Specified by:\r\n&gt; \r\n&gt; contains in interface Collection&lt;E&gt;\r\n&gt; \r\n&gt; Parameters:\r\n&gt; \r\n&gt; o - element whose presence in this list is to be tested\r\n&gt; \r\n&gt; Returns:\r\n&gt; \r\n&gt; true if this list contains the specified element\r\n&gt; \r\n&gt; Throws:\r\n&gt; \r\n&gt; ClassCastException - if the type of the specified element is incompatible with this list (optional)\r\n&gt; \r\n&gt; **NullPointerException - if the specified element is null and this list does not permit null elements (optional)**\r\n\r\nIt seems that your ```countriesList``` is of a List type that doesn&#39;t accept ```null``` elements, such as those produced by ```List.of``` or ```List.copyOf```\r\n\r\n\r\n","title":"Why list.contains(null) throwing null pointer exception?","body":"<p>From the API Documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\">java.util.List</a>:</p>\n<blockquote>\n<p>Some list implementations have restrictions on the elements that they may contain. For example, some implementations prohibit null elements, and some have restrictions on the types of their elements. Attempting to add an ineligible element throws an unchecked exception, typically NullPointerException or ClassCastException. Attempting to query the presence of an ineligible element may throw an exception, or it may simply return false; some implementations will exhibit the former behavior and some will exhibit the latter. More generally, attempting an operation on an ineligible element whose completion would not result in the insertion of an ineligible element into the list may throw an exception or it may succeed, at the option of the implementation. Such exceptions are marked as &quot;optional&quot; in the specification for this interface.</p>\n</blockquote>\n<blockquote>\n<p>boolean contains(Object o)</p>\n<p>Returns <code>true</code> if this list contains the specified element. More formally, returns true if and only if this list contains at least one element e such that Objects.equals(o, e).</p>\n<p>Specified by:</p>\n<p>contains in interface Collection</p>\n<p>Parameters:</p>\n<p>o - element whose presence in this list is to be tested</p>\n<p>Returns:</p>\n<p>true if this list contains the specified element</p>\n<p>Throws:</p>\n<p>ClassCastException - if the type of the specified element is incompatible with this list (optional)</p>\n<p><strong>NullPointerException - if the specified element is null and this list does not permit null elements (optional)</strong></p>\n</blockquote>\n<p>It seems that your <code>countriesList</code> is of a List type that doesn't accept <code>null</code> elements, such as those produced by <code>List.of</code> or <code>List.copyOf</code></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1643093425,"creation_date":1643092958,"answer_id":70844383,"question_id":70838768,"body_markdown":"&gt; Why `list.contains(null)` throwing null pointer exception?\r\n\r\nBecause this is what the specs say can happen.\r\n\r\nThe specific reasoning for the `List.of(...)` case is as follows:\r\n\r\n1.  The `List.of` methods are [specified][1] as producing [unmodifiable lists][2].\r\n\r\n2.  Unmodifiable lists are [specified][2] to not permit `null` elements:\r\n\r\n    &gt; &quot;They disallow null elements. Attempts to create them with `null` elements result in `NullPointerException`.&quot;\r\n\r\n3.  The [javadoc][3] for `List.contains` states:\r\n\r\n    &gt; &quot;Throws: `NullPointerException` - if the specified element is `null` and this list does not permit `null` elements.\r\n\r\nIn other words, what you are seeing is *specified* behavior ... and not a result of an incorrect or capricious implementation.\r\n\r\nFor the case where you are searching `countryList` ... it will depend on the actual `List` implementation class.  But there is a clear expectation in the `List` spec for `contains` that *some* kinds of list may throw an NPE if you try to search for `null`.\r\n\r\n&lt;sup&gt;(Whether that is a &quot;poor design choice&quot; or not is a matter of opinion.  But it is moot.  The `List` design choices were made a long time ago and changing them would now would be too disruptive to contemplate.  Besides, I doubt that you would convince the current Java design team that `null` values in collection types are a good idea.)&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E,E,E)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#contains(java.lang.Object)","title":"Why list.contains(null) throwing null pointer exception?","body":"<blockquote>\n<p>Why <code>list.contains(null)</code> throwing null pointer exception?</p>\n</blockquote>\n<p>Because this is what the specs say can happen.</p>\n<p>The specific reasoning for the <code>List.of(...)</code> case is as follows:</p>\n<ol>\n<li><p>The <code>List.of</code> methods are <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E,E,E)\" rel=\"noreferrer\">specified</a> as producing <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"noreferrer\">unmodifiable lists</a>.</p>\n</li>\n<li><p>Unmodifiable lists are <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"noreferrer\">specified</a> to not permit <code>null</code> elements:</p>\n<blockquote>\n<p>&quot;They disallow null elements. Attempts to create them with <code>null</code> elements result in <code>NullPointerException</code>.&quot;</p>\n</blockquote>\n</li>\n<li><p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#contains(java.lang.Object)\" rel=\"noreferrer\">javadoc</a> for <code>List.contains</code> states:</p>\n<blockquote>\n<p>&quot;Throws: <code>NullPointerException</code> - if the specified element is <code>null</code> and this list does not permit <code>null</code> elements.</p>\n</blockquote>\n</li>\n</ol>\n<p>In other words, what you are seeing is <em>specified</em> behavior ... and not a result of an incorrect or capricious implementation.</p>\n<p>For the case where you are searching <code>countryList</code> ... it will depend on the actual <code>List</code> implementation class.  But there is a clear expectation in the <code>List</code> spec for <code>contains</code> that <em>some</em> kinds of list may throw an NPE if you try to search for <code>null</code>.</p>\n<p><sup>(Whether that is a &quot;poor design choice&quot; or not is a matter of opinion.  But it is moot.  The <code>List</code> design choices were made a long time ago and changing them would now would be too disruptive to contemplate.  Besides, I doubt that you would convince the current Java design team that <code>null</code> values in collection types are a good idea.)</sup></p>\n"}],"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8074,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70844383,"answer_count":2,"score":2,"last_activity_date":1643100074,"creation_date":1643049262,"question_id":70838768,"body_markdown":"I have `List&lt;Long&gt; countriesList` which contains `Long` values which are country ids.\r\n\r\nNow I am iterating over some `List&lt;UserRequests&gt;` list by using `streams`.\r\n\r\n    userRequests.stream().\r\n        forEach(userRequest-&gt;\r\n        {\r\n            UserData=userRepository.findById(userRequest.getId()); //fine\r\n            if (CollectionUtils.isNotEmpty(countriesList) &amp;&amp; countriesList.contains(userRequest.getCountryId()))//getting NPE here\r\n            {\r\n                //do some operation\r\n            }\r\n        });\r\n\r\nI tried to debug by evaluating individual statements.\r\nI have made sure `countriesList` have some data\r\nFirst part `CollectionUtils.isNotEmpty(countriesList)` is returning `true`.\r\n`userRequest` is also not null but `userRequest.getCountryId()` is null.\r\nAnd when I evaluated `countriesList.contains(userRequest.getCountryId())`, I am getting `Null pointer exception` here. why not `false` ?\r\nI am confused what wrong am I doing.\r\nIs default `list.contains(null)` behaviour is like that only or is it because I am calling it within `stream()`?\r\n\r\nJust for simplification I have created simple list and compared with `null`.\r\n\r\n    class Test {\r\n        public static void main(String[] args) {\r\n            List&lt;Long&gt; longList = List.of(1L, 2L, 3L);\r\n            System.out.println(&quot;Comparing long list with null::&quot; + longList.contains(null));\r\n        }\r\n    }\r\nThis is the exception I am getting:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat java.base/java.util.Objects.requireNonNull(Objects.java:222)\r\n    \tat java.base/java.util.ImmutableCollections$AbstractImmutableList.indexOf(ImmutableCollections.java:166)\r\n    \tat java.base/java.util.ImmutableCollections$AbstractImmutableList.contains(ImmutableCollections.java:197)\r\n    \tat com.test.Test.main(Test.java:26)\r\n\r\nBut If I do:\r\n\r\n        List&lt;Long&gt; longList = new ArrayList&lt;&gt;();\r\n        longList.add(1L);\r\n        System.out.println(&quot;Comparing long list with null::&quot; + longList.contains(null));\r\n\r\nWhy it is printing `false`? Why no `NullPointerException` here?","title":"Why list.contains(null) throwing null pointer exception?","body":"<p>I have <code>List&lt;Long&gt; countriesList</code> which contains <code>Long</code> values which are country ids.</p>\n<p>Now I am iterating over some <code>List&lt;UserRequests&gt;</code> list by using <code>streams</code>.</p>\n<pre><code>userRequests.stream().\n    forEach(userRequest-&gt;\n    {\n        UserData=userRepository.findById(userRequest.getId()); //fine\n        if (CollectionUtils.isNotEmpty(countriesList) &amp;&amp; countriesList.contains(userRequest.getCountryId()))//getting NPE here\n        {\n            //do some operation\n        }\n    });\n</code></pre>\n<p>I tried to debug by evaluating individual statements.\nI have made sure <code>countriesList</code> have some data\nFirst part <code>CollectionUtils.isNotEmpty(countriesList)</code> is returning <code>true</code>.\n<code>userRequest</code> is also not null but <code>userRequest.getCountryId()</code> is null.\nAnd when I evaluated <code>countriesList.contains(userRequest.getCountryId())</code>, I am getting <code>Null pointer exception</code> here. why not <code>false</code> ?\nI am confused what wrong am I doing.\nIs default <code>list.contains(null)</code> behaviour is like that only or is it because I am calling it within <code>stream()</code>?</p>\n<p>Just for simplification I have created simple list and compared with <code>null</code>.</p>\n<pre><code>class Test {\n    public static void main(String[] args) {\n        List&lt;Long&gt; longList = List.of(1L, 2L, 3L);\n        System.out.println(&quot;Comparing long list with null::&quot; + longList.contains(null));\n    }\n}\n</code></pre>\n<p>This is the exception I am getting:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.base/java.util.Objects.requireNonNull(Objects.java:222)\n    at java.base/java.util.ImmutableCollections$AbstractImmutableList.indexOf(ImmutableCollections.java:166)\n    at java.base/java.util.ImmutableCollections$AbstractImmutableList.contains(ImmutableCollections.java:197)\n    at com.test.Test.main(Test.java:26)\n</code></pre>\n<p>But If I do:</p>\n<pre><code>    List&lt;Long&gt; longList = new ArrayList&lt;&gt;();\n    longList.add(1L);\n    System.out.println(&quot;Comparing long list with null::&quot; + longList.contains(null));\n</code></pre>\n<p>Why it is printing <code>false</code>? Why no <code>NullPointerException</code> here?</p>\n"},{"tags":["java","mysql","import","twitter","coordinates"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643100020,"creation_date":1643100020,"answer_id":70845634,"question_id":70844564,"body_markdown":"Your query expects 4 parameters to be passed, but in your Java code the 4th one is set only when `if` condition is met. In the opposite case the last parameter is not passed resulting in exception.\r\n\r\nIf the case when the last parameter is not passed is legal then I&#39;d suggest to create one more query with only three params and use it.","title":"How to import data with getGeoLocation twitter4j to MySQL using Java Netbeans","body":"<p>Your query expects 4 parameters to be passed, but in your Java code the 4th one is set only when <code>if</code> condition is met. In the opposite case the last parameter is not passed resulting in exception.</p>\n<p>If the case when the last parameter is not passed is legal then I'd suggest to create one more query with only three params and use it.</p>\n"}],"owner":{"account_id":6413543,"reputation":83,"user_id":4972408,"accept_rate":86,"display_name":"razin kac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70845634,"answer_count":1,"score":1,"last_activity_date":1643100020,"creation_date":1643094142,"question_id":70844564,"body_markdown":"I want to execute my Twitter crawling using Java importing data to MySQL. My problem is when I set parameter for getGeoLocation, which contained latitude and longitude, then I found something error.\r\n\r\n    GeoLocation geoLocation = status.getGeoLocation();\r\n        \r\n        stmt = conne.prepareStatement(&quot;INSERT INTO tweet(ID,date,name,coordinate) VALUES (?,?,?,?)&quot;);\r\n\r\n        stmt.setInt(1, (int) status.getId());\r\n        stmt.setString(2, getTimeStamp());\r\n        stmt.setString(3, status.getUser().getScreenName());\r\n     if (status.getGeoLocation() != null){\r\n        stmt.setDouble(4, status.getGeoLocation().getLongitude() &amp;&amp; status.getGeoLocation().getLatitude());                                                                           \r\n      }  \r\n\r\n\r\n\r\n\r\n\r\nThe output said it is hard to specify for parameter 4 (geoLocation):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s8gaf.jpg\r\n\r\nMany thanks for any comment!","title":"How to import data with getGeoLocation twitter4j to MySQL using Java Netbeans","body":"<p>I want to execute my Twitter crawling using Java importing data to MySQL. My problem is when I set parameter for getGeoLocation, which contained latitude and longitude, then I found something error.</p>\n<pre><code>GeoLocation geoLocation = status.getGeoLocation();\n    \n    stmt = conne.prepareStatement(&quot;INSERT INTO tweet(ID,date,name,coordinate) VALUES (?,?,?,?)&quot;);\n\n    stmt.setInt(1, (int) status.getId());\n    stmt.setString(2, getTimeStamp());\n    stmt.setString(3, status.getUser().getScreenName());\n if (status.getGeoLocation() != null){\n    stmt.setDouble(4, status.getGeoLocation().getLongitude() &amp;&amp; status.getGeoLocation().getLatitude());                                                                           \n  }  \n</code></pre>\n<p>The output said it is hard to specify for parameter 4 (geoLocation):</p>\n<p><a href=\"https://i.stack.imgur.com/s8gaf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s8gaf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Many thanks for any comment!</p>\n"},{"tags":["java","collections","linked-list"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1643128658,"post_id":70845296,"comment_id":125255329,"body_markdown":"Is your task to display the list in reverse order, without modifying the list?","body":"Is your task to display the list in reverse order, without modifying the list?"},{"owner":{"account_id":1212966,"reputation":1590,"user_id":1181162,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1643238602,"post_id":70845296,"comment_id":125290062,"body_markdown":"I think what you have to understand here is the concept of mutability. You `Node` objects are mutable, so if you modify them, you&#39;re losing the state.\nYou could use immutable `Node`s to have the reverse linked list  and the original, which would essentially mean you&#39;re creating a copy.","body":"I think what you have to understand here is the concept of mutability. You <code>Node</code> objects are mutable, so if you modify them, you&#39;re losing the state. You could use immutable <code>Node</code>s to have the reverse linked list  and the original, which would essentially mean you&#39;re creating a copy."}],"answers":[{"tags":[],"owner":{"account_id":12564971,"reputation":79,"user_id":13082437,"display_name":"Pascal Sochacki"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643099104,"creation_date":1643099104,"answer_id":70845456,"question_id":70845296,"body_markdown":"1) Copy the list and reverse one or\r\n2) or build a Doubly linked list. In a Doubly linked list each node knows its previous and next node. With this you can easily print the list in reversed order ","title":"How to Reverse a linked list in java while preserving the original order?","body":"<ol>\n<li>Copy the list and reverse one or</li>\n<li>or build a Doubly linked list. In a Doubly linked list each node knows its previous and next node. With this you can easily print the list in reversed order</li>\n</ol>\n"}],"owner":{"account_id":12513969,"reputation":41,"user_id":9107994,"display_name":"Subhransu Sekhar Das"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643099663,"creation_date":1643098207,"question_id":70845296,"body_markdown":"I want to reverse a linked list . I am able to reverse the list but in doing so, original list is also affected .How to see both original and reverse linkedlist while using display function?\r\n\r\nAsking for the below codebase...\r\n\r\nPlease help with the display and reverseLink method . Added all the other classes as well.\r\n\r\n```\r\npublic class Node {\r\n\tint data;\r\n\tNode link;\r\n\r\n\tpublic Node(int data, Node link) {\r\n\t\tthis.data = data;\r\n\t\tthis.link = link;\r\n\t}\r\n\t\r\n\tpublic Node() {\r\n\t\tthis.data = 0;\r\n\t\tthis.link = null;\r\n\t}\r\n\r\n\tpublic int getData() {\r\n\t\treturn data;\r\n\t}\r\n\r\n\tpublic void setData(int data) {\r\n\t\tthis.data = data;\r\n\t}\r\n\r\n\tpublic Node getLink() {\r\n\t\treturn link;\r\n\t}\r\n\r\n\tpublic void setLink(Node link) {\r\n\t\tthis.link = link;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class Sa_LinkedList {\r\n\r\n\tNode start;\r\n\tNode end;\r\n\tint size;\r\n\tpublic Sa_LinkedList() {\r\n\t\tstart=null;\r\n\t\tend=null;\r\n\t\tsize=0;\r\n\t}\r\n\t\r\n\tpublic boolean isEmpty() {\r\n\t\treturn start==null;\r\n\t}\r\n\r\n\tpublic int getSize() {\r\n\t\treturn size;\r\n\t}\r\n\t\r\n\tpublic void insertAtStart(int val) {\r\n\t\tNode newNd=new Node(val,null);\r\n\t\tsize++;\r\n\t\t\r\n\t\tif(start==null) {\r\n\t\t\tstart=newNd;\r\n\t\t\tend=start;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tnewNd.setLink(start);\r\n\t\t\tstart=newNd;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void insertAtEnd(int val) {\r\n\t Node newNd=new Node(val,null);\r\n\t size++;\r\n\t\r\n\t if(end==null) {\r\n\t\t end=start=newNd;\r\n\t }\r\n\t else {\r\n\t\t end.setLink(newNd);\r\n\t\t end=newNd;\r\n\t }\r\n\t}\r\n\r\n\t\tpublic void insertAtPos(int val,int pos) {\r\n\t\t\tNode newNd=new Node(val,null);\r\n\t\t\tNode ptr=start;\r\n\t\t\tpos=pos-1;\r\n\t\t\tfor(int i=0;i&lt;size;i++) {\r\n\t\t\t\t\r\n\t\t\t\tif(i==pos) {\r\n\t\t\t\tNode temp=ptr.getLink();\r\n\t\t\t\tptr.setLink(newNd);\r\n\t\t\t\tnewNd.setLink(temp);\r\n\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tptr=ptr.getLink();\r\n\t\t\t}\r\n\t\t\tsize++;\r\n\t\t}\r\n\t\t\t\r\n\t\t\r\n\t\tpublic void deleteAtPos(int pos) {\r\n\t\r\n\t\t\tif(pos==1) {\r\n\t\t\t\tstart=start.getLink();\r\n\t\t\t\tsize--;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(pos==size) {\r\n              Node s=start;\r\n              Node t=start;\r\n              \r\n              while(t!=end) {\r\n            \t  s=t;\r\n            \t  t=t.getLink();\r\n              }\r\n              end=s;\r\n              end.setLink(null);\r\n              size--;\r\n              return;\r\n              \r\n\t\t\t}\r\n\t\t\tNode ptr=start;\r\n\t\t\tpos=pos-1;\r\n\t\t\tfor(int i=0;i&lt;size;i++) {\r\n\t\t\t\tif(i==pos) {\r\n\t\t\t\t\tNode temp=ptr.getLink();\r\n\t\t\t\t\ttemp=temp.getLink();\r\n\t\t\t\t\tptr.setLink(temp);\r\n\t\t\t\t    break;\r\n\t\t\t\t}\r\n\t\t\t\tptr=ptr.getLink();\r\n\t\t\t}\r\n\t\t\tsize--;\r\n\t\t}\r\n \r\n\t//*Function for displaying the linkedlist\r\n\tpublic void display() {\r\n\t\tSystem.out.println(&quot;Displaying the linkedlist elements:&quot;);\r\n\t\tNode ptr=start;\r\n\t\r\n\t\tif (size==0)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;sorry...------List is empty------&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(start.getLink()==null)\r\n\t\t{\r\n\t\t\tSystem.out.println(start.getData());\r\n\t\t\treturn;\r\n\t\t}\r\n\t\twhile(ptr.getLink()!=null) {\r\n\t\t\tSystem.out.println(ptr.getData()+&quot;,&quot;);\r\n\t\t\tptr=ptr.getLink();\r\n\t\t}\r\n\t\tSystem.out.println(ptr.getData()+&quot;\\n&quot;);\r\n\t}\r\n\t\r\n\t\r\n\tpublic void reverseLink() {\r\n\t\tNode current=start;\r\n\t\tNode next=null;\r\n\t\tNode prev=null;\r\n\t\t\r\n\t\twhile(current!=null) {\r\n\t\t\t\r\n\t\t\tnext=current.getLink();\r\n\t\t\tcurrent.setLink(prev);\r\n\t\t\tprev=current;\r\n\t\t\tcurrent=next;\r\n\t\t}\r\n\t\tstart=prev;\r\n\t}\r\n}\r\n```","title":"How to Reverse a linked list in java while preserving the original order?","body":"<p>I want to reverse a linked list . I am able to reverse the list but in doing so, original list is also affected .How to see both original and reverse linkedlist while using display function?</p>\n<p>Asking for the below codebase...</p>\n<p>Please help with the display and reverseLink method . Added all the other classes as well.</p>\n<pre><code>public class Node {\n    int data;\n    Node link;\n\n    public Node(int data, Node link) {\n        this.data = data;\n        this.link = link;\n    }\n    \n    public Node() {\n        this.data = 0;\n        this.link = null;\n    }\n\n    public int getData() {\n        return data;\n    }\n\n    public void setData(int data) {\n        this.data = data;\n    }\n\n    public Node getLink() {\n        return link;\n    }\n\n    public void setLink(Node link) {\n        this.link = link;\n    }\n}\n</code></pre>\n<pre><code>public class Sa_LinkedList {\n\n    Node start;\n    Node end;\n    int size;\n    public Sa_LinkedList() {\n        start=null;\n        end=null;\n        size=0;\n    }\n    \n    public boolean isEmpty() {\n        return start==null;\n    }\n\n    public int getSize() {\n        return size;\n    }\n    \n    public void insertAtStart(int val) {\n        Node newNd=new Node(val,null);\n        size++;\n        \n        if(start==null) {\n            start=newNd;\n            end=start;\n        }\n        else\n        {\n            newNd.setLink(start);\n            start=newNd;\n        }\n    }\n    \n    public void insertAtEnd(int val) {\n     Node newNd=new Node(val,null);\n     size++;\n    \n     if(end==null) {\n         end=start=newNd;\n     }\n     else {\n         end.setLink(newNd);\n         end=newNd;\n     }\n    }\n\n        public void insertAtPos(int val,int pos) {\n            Node newNd=new Node(val,null);\n            Node ptr=start;\n            pos=pos-1;\n            for(int i=0;i&lt;size;i++) {\n                \n                if(i==pos) {\n                Node temp=ptr.getLink();\n                ptr.setLink(newNd);\n                newNd.setLink(temp);\n                break;\n                }\n                ptr=ptr.getLink();\n            }\n            size++;\n        }\n            \n        \n        public void deleteAtPos(int pos) {\n    \n            if(pos==1) {\n                start=start.getLink();\n                size--;\n                return;\n            }\n            if(pos==size) {\n              Node s=start;\n              Node t=start;\n              \n              while(t!=end) {\n                  s=t;\n                  t=t.getLink();\n              }\n              end=s;\n              end.setLink(null);\n              size--;\n              return;\n              \n            }\n            Node ptr=start;\n            pos=pos-1;\n            for(int i=0;i&lt;size;i++) {\n                if(i==pos) {\n                    Node temp=ptr.getLink();\n                    temp=temp.getLink();\n                    ptr.setLink(temp);\n                    break;\n                }\n                ptr=ptr.getLink();\n            }\n            size--;\n        }\n \n    //*Function for displaying the linkedlist\n    public void display() {\n        System.out.println(&quot;Displaying the linkedlist elements:&quot;);\n        Node ptr=start;\n    \n        if (size==0)\n        {\n            System.out.println(&quot;sorry...------List is empty------&quot;);\n            return;\n        }\n        if(start.getLink()==null)\n        {\n            System.out.println(start.getData());\n            return;\n        }\n        while(ptr.getLink()!=null) {\n            System.out.println(ptr.getData()+&quot;,&quot;);\n            ptr=ptr.getLink();\n        }\n        System.out.println(ptr.getData()+&quot;\\n&quot;);\n    }\n    \n    \n    public void reverseLink() {\n        Node current=start;\n        Node next=null;\n        Node prev=null;\n        \n        while(current!=null) {\n            \n            next=current.getLink();\n            current.setLink(prev);\n            prev=current;\n            current=next;\n        }\n        start=prev;\n    }\n}\n</code></pre>\n"},{"tags":["java","apache","apache-camel","wildfly"],"comments":[{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":0,"creation_date":1643100176,"post_id":70845311,"comment_id":125243609,"body_markdown":"Is mod_jk project actively developed? Also there were some security issues with AJP in recent years. I would rather go for classic HTTP proxy solution with ProxyPreserveHost on one side and RemoteIpValve (or its WildFly equivalent) on the other. (Disclamer - I don&#39;t have experience with mod_jk, I have some experience with mod_proxy_ajp).","body":"Is mod_jk project actively developed? Also there were some security issues with AJP in recent years. I would rather go for classic HTTP proxy solution with ProxyPreserveHost on one side and RemoteIpValve (or its WildFly equivalent) on the other. (Disclamer - I don&#39;t have experience with mod_jk, I have some experience with mod_proxy_ajp)."},{"owner":{"account_id":11467258,"reputation":1984,"user_id":8405122,"display_name":"Francesco Clementi"},"score":0,"creation_date":1643100466,"post_id":70845311,"comment_id":125243722,"body_markdown":"mod_jk is working correctly as other application servers on the same instance are working correctly","body":"mod_jk is working correctly as other application servers on the same instance are working correctly"}],"owner":{"account_id":11467258,"reputation":1984,"user_id":8405122,"display_name":"Francesco Clementi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643099601,"creation_date":1643098285,"question_id":70845311,"body_markdown":"I developed an api server with Apache Camel and deployed on wildfly 20.\r\n\r\nThe apis are working without problem if I use the server ip address, but now I&#39;d like to use a domain.\r\n\r\nAll my endpoints have the prefix /AGServices so here is the apache vhost:\r\n```\r\n&lt;VirtualHost *:80&gt;\r\n        ServerAdmin &lt;serveradmin&gt;\r\n        ServerName &lt;domain&gt;\r\n        ServerAlias &lt;domainalias&gt;\r\n\r\n        DocumentRoot /srv/www/vhosts/_AG\r\n\r\n        ErrorLog &quot;|/usr/sbin/rotatelogs2 /var/log/apache2/_AG-error_log-%Y%m%d_%H%M%S 512M&quot;\r\n        TransferLog &quot;|/usr/sbin/rotatelogs2 /var/log/apache2/_AG-access_log-%Y%m%d_%H%M%S 512M&quot;\r\n        CustomLog &quot;|/usr/sbin/rotatelogs2 /var/log/apache2/_AG-request_log-%Y%m%d_%H%M%S 512M&quot; \r\n\r\n        LogLevel debug\r\n\r\n        &lt;Directory &quot;/srv/www/vhosts/_AG&quot;&gt;\r\n                AllowOverride None\r\n                Require all granted\r\n        &lt;/Directory&gt;\r\n\r\n        JkMount /jkstatus status\r\n        JkMount /jmx-console ag\r\n        JkMount /jmx-console/* ag\r\n\r\n        JkMount /AGServices ag\r\n        JkMount /AGServices/* ag\r\n\r\n&lt;/VirtualHost&gt;\r\n  ```\r\n\r\nThe worker properites:\r\n```\r\nworker.list=ag\r\n\r\nworker.ag.port=9309\r\nworker.ag.host=&lt;server host&gt;\r\nworker.ag.type=ajp13\r\n```\r\n\r\nThe ajp port is correct, the application is working correctly on wildfly, but when I try to call the endpoint with the domain it responds &quot;not found&quot;. The error is from jk_mod log, as the request never reach wildfly.\r\n```\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] map_uri_to_worker_ext::jk_uri_worker_map.c (1185): Attempting to map URI &#39;/AGServices/......&#39; from 9 maps\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] find_match::jk_uri_worker_map.c (980): Attempting to map context URI &#39;/jmx-console/*=ag&#39; source &#39;JkMount&#39;\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] find_match::jk_uri_worker_map.c (980): Attempting to map context URI &#39;/AGServices/*=ag&#39; source &#39;JkMount&#39;\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] find_match::jk_uri_worker_map.c (993): Found a wildchar match &#39;/AGServices/*=ag&#39;\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] jk_handler::mod_jk.c (2823): Into handler jakarta-servlet worker=ag r-&gt;proxyreq=0\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] wc_get_worker_for_name::jk_worker.c (120): found a worker ag\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] wc_maintain::jk_worker.c (353): Maintaining worker ag\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] wc_get_name_for_type::jk_worker.c (304): Found worker type &#39;ajp13&#39;\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] init_ws_service::mod_jk.c (1196): Service protocol=HTTP/1.1 method=GET ssl=false host=(null) addr=IP_ADDRESS name=SERVER_NAME port=80 auth=(null) user=(null) laddr=IP_ADDRESS raddr=AP_ADDRESS uaddr=IP_ADDRESS uri=/AGServices/.....\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_get_endpoint::jk_ajp_common.c (3356): (ag) acquired connection pool slot=0 after 0 retries\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_marshal_into_msgb::jk_ajp_common.c (684): (ag) ajp marshaling done\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_service::jk_ajp_common.c (2591): processing ag with 2 retries\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_send_request::jk_ajp_common.c (1722): (ag) no usable connection found, will create a new one.\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] jk_open_socket::jk_connect.c (675): socket TCP_NODELAY set to On\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] jk_open_socket::jk_connect.c (799): trying to connect socket 64 to 10.151.5.25:9309\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] jk_open_socket::jk_connect.c (825): socket 64 [10.151.5.25:59354 -&gt; 10.151.5.25:9309] connected\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_send_message::jk_ajp_common.c (1267): sending to ajp13 pos=4 len=1619 max=8192\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_send_message::jk_ajp_common.c (1267): 0000    12 34 06 4F 02 02 00 08 48 54 54 50 2F 31 2E 31  - .4.O....HTTP/1.1\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_send_message::jk_ajp_common.c (1267): 0010    00 00 29 2F 41 47 53 65 72 76 69 63 65 73 2F 6D  - ..)/AGServices/.\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_send_message::jk_ajp_common.c (1267): 0020    65 74 65 72 73 2F 30 37 4D 31 45 35 41 32 31 31  - eters/..........\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_send_message::jk_ajp_common.c (1267): 0030    33 30 39 39 36 34 34 2F 6B 65 79 73 00 00 0C 31  - ...............1\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_send_request::jk_ajp_common.c (1782): (ag) request body to send 0 - request body to resend 0\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): received from ajp13 pos=0 len=136 max=8192\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0000    04 01 94 00 09 4E 6F 74 20 46 6F 75 6E 64 00 00  - .....Not.Found..\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0010    05 00 0C 58 2D 50 6F 77 65 72 65 64 2D 42 79 00  - ...X-Powered-By.\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0020    00 0A 55 6E 64 65 72 74 6F 77 2F 31 00 00 06 53  - ..Undertow/1...S\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0030    65 72 76 65 72 00 00 0A 57 69 6C 64 46 6C 79 2F  - erver...WildFly/\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0040    31 30 00 A0 01 00 17 74 65 78 74 2F 68 74 6D 6C  - 10.....text/html\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0050    3B 63 68 61 72 73 65 74 3D 55 54 46 2D 38 00 A0  - ;charset=UTF-8..\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0060    03 00 02 36 38 00 A0 04 00 1D 54 75 65 2C 20 32  - ...68.....Tue,.2\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0070    35 20 4A 61 6E 20 32 30 32 32 20 30 38 3A 30 36  - 5.Jan.2022.08:06\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0080    3A 34 38 20 47 4D 54 00 00 00 00 00 00 00 00 00  - :48.GMT.........\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_unmarshal_response::jk_ajp_common.c (739): (ag) status = 404\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_unmarshal_response::jk_ajp_common.c (746): Number of headers is = 5\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_unmarshal_response::jk_ajp_common.c (802): (ag) Header[0] [X-Powered-By] = [Undertow/1]\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_unmarshal_response::jk_ajp_common.c (802): (ag) Header[1] [Server] = [WildFly/10]\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_unmarshal_response::jk_ajp_common.c (802): (ag) Header[2] [Content-Type] = [text/html;charset=UTF-8]\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_unmarshal_response::jk_ajp_common.c (802): (ag) Header[3] [Content-Length] = [68]\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_unmarshal_response::jk_ajp_common.c (802): (ag) Header[4] [Date] = [Tue, 25 Jan 2022 08:06:48 GMT]\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): received from ajp13 pos=0 len=72 max=8192\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0000    03 00 44 3C 68 74 6D 6C 3E 3C 68 65 61 64 3E 3C  - ..D&lt;html&gt;&lt;head&gt;&lt;\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0010    74 69 74 6C 65 3E 45 72 72 6F 72 3C 2F 74 69 74  - title&gt;Error&lt;/tit\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0020    6C 65 3E 3C 2F 68 65 61 64 3E 3C 62 6F 64 79 3E  - le&gt;&lt;/head&gt;&lt;body&gt;\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0030    4E 6F 74 20 46 6F 75 6E 64 3C 2F 62 6F 64 79 3E  - Not.Found&lt;/body&gt;\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0040    3C 2F 68 74 6D 6C 3E 00 00 00 00 00 00 00 00 00  - &lt;/html&gt;.........\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ws_write::mod_jk.c (552): written 68 out of 68\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): received from ajp13 pos=0 len=2 max=8192\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0000    05 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00  - ................\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_process_callback::jk_ajp_common.c (2135): (ag) AJP13 protocol: Reuse is OK\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_reset_endpoint::jk_ajp_common.c (851): (ag) resetting endpoint with socket 64\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_done::jk_ajp_common.c (3287): recycling connection pool for worker ag and socket 64\r\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] jk_handler::mod_jk.c (2979): Service finished with status=404 for worker=ag\r\n```\r\n\r\nThe apache camel has been configured with an undertow server working on port 9180","title":"Apache hostname and wildfly not working with ajp","body":"<p>I developed an api server with Apache Camel and deployed on wildfly 20.</p>\n<p>The apis are working without problem if I use the server ip address, but now I'd like to use a domain.</p>\n<p>All my endpoints have the prefix /AGServices so here is the apache vhost:</p>\n<pre><code>&lt;VirtualHost *:80&gt;\n        ServerAdmin &lt;serveradmin&gt;\n        ServerName &lt;domain&gt;\n        ServerAlias &lt;domainalias&gt;\n\n        DocumentRoot /srv/www/vhosts/_AG\n\n        ErrorLog &quot;|/usr/sbin/rotatelogs2 /var/log/apache2/_AG-error_log-%Y%m%d_%H%M%S 512M&quot;\n        TransferLog &quot;|/usr/sbin/rotatelogs2 /var/log/apache2/_AG-access_log-%Y%m%d_%H%M%S 512M&quot;\n        CustomLog &quot;|/usr/sbin/rotatelogs2 /var/log/apache2/_AG-request_log-%Y%m%d_%H%M%S 512M&quot; \n\n        LogLevel debug\n\n        &lt;Directory &quot;/srv/www/vhosts/_AG&quot;&gt;\n                AllowOverride None\n                Require all granted\n        &lt;/Directory&gt;\n\n        JkMount /jkstatus status\n        JkMount /jmx-console ag\n        JkMount /jmx-console/* ag\n\n        JkMount /AGServices ag\n        JkMount /AGServices/* ag\n\n&lt;/VirtualHost&gt;\n</code></pre>\n<p>The worker properites:</p>\n<pre><code>worker.list=ag\n\nworker.ag.port=9309\nworker.ag.host=&lt;server host&gt;\nworker.ag.type=ajp13\n</code></pre>\n<p>The ajp port is correct, the application is working correctly on wildfly, but when I try to call the endpoint with the domain it responds &quot;not found&quot;. The error is from jk_mod log, as the request never reach wildfly.</p>\n<pre><code>[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] map_uri_to_worker_ext::jk_uri_worker_map.c (1185): Attempting to map URI '/AGServices/......' from 9 maps\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] find_match::jk_uri_worker_map.c (980): Attempting to map context URI '/jmx-console/*=ag' source 'JkMount'\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] find_match::jk_uri_worker_map.c (980): Attempting to map context URI '/AGServices/*=ag' source 'JkMount'\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] find_match::jk_uri_worker_map.c (993): Found a wildchar match '/AGServices/*=ag'\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] jk_handler::mod_jk.c (2823): Into handler jakarta-servlet worker=ag r-&gt;proxyreq=0\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] wc_get_worker_for_name::jk_worker.c (120): found a worker ag\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] wc_maintain::jk_worker.c (353): Maintaining worker ag\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] wc_get_name_for_type::jk_worker.c (304): Found worker type 'ajp13'\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] init_ws_service::mod_jk.c (1196): Service protocol=HTTP/1.1 method=GET ssl=false host=(null) addr=IP_ADDRESS name=SERVER_NAME port=80 auth=(null) user=(null) laddr=IP_ADDRESS raddr=AP_ADDRESS uaddr=IP_ADDRESS uri=/AGServices/.....\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_get_endpoint::jk_ajp_common.c (3356): (ag) acquired connection pool slot=0 after 0 retries\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_marshal_into_msgb::jk_ajp_common.c (684): (ag) ajp marshaling done\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_service::jk_ajp_common.c (2591): processing ag with 2 retries\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_send_request::jk_ajp_common.c (1722): (ag) no usable connection found, will create a new one.\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] jk_open_socket::jk_connect.c (675): socket TCP_NODELAY set to On\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] jk_open_socket::jk_connect.c (799): trying to connect socket 64 to 10.151.5.25:9309\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] jk_open_socket::jk_connect.c (825): socket 64 [10.151.5.25:59354 -&gt; 10.151.5.25:9309] connected\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_send_message::jk_ajp_common.c (1267): sending to ajp13 pos=4 len=1619 max=8192\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_send_message::jk_ajp_common.c (1267): 0000    12 34 06 4F 02 02 00 08 48 54 54 50 2F 31 2E 31  - .4.O....HTTP/1.1\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_send_message::jk_ajp_common.c (1267): 0010    00 00 29 2F 41 47 53 65 72 76 69 63 65 73 2F 6D  - ..)/AGServices/.\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_send_message::jk_ajp_common.c (1267): 0020    65 74 65 72 73 2F 30 37 4D 31 45 35 41 32 31 31  - eters/..........\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_send_message::jk_ajp_common.c (1267): 0030    33 30 39 39 36 34 34 2F 6B 65 79 73 00 00 0C 31  - ...............1\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_send_request::jk_ajp_common.c (1782): (ag) request body to send 0 - request body to resend 0\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): received from ajp13 pos=0 len=136 max=8192\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0000    04 01 94 00 09 4E 6F 74 20 46 6F 75 6E 64 00 00  - .....Not.Found..\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0010    05 00 0C 58 2D 50 6F 77 65 72 65 64 2D 42 79 00  - ...X-Powered-By.\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0020    00 0A 55 6E 64 65 72 74 6F 77 2F 31 00 00 06 53  - ..Undertow/1...S\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0030    65 72 76 65 72 00 00 0A 57 69 6C 64 46 6C 79 2F  - erver...WildFly/\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0040    31 30 00 A0 01 00 17 74 65 78 74 2F 68 74 6D 6C  - 10.....text/html\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0050    3B 63 68 61 72 73 65 74 3D 55 54 46 2D 38 00 A0  - ;charset=UTF-8..\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0060    03 00 02 36 38 00 A0 04 00 1D 54 75 65 2C 20 32  - ...68.....Tue,.2\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0070    35 20 4A 61 6E 20 32 30 32 32 20 30 38 3A 30 36  - 5.Jan.2022.08:06\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0080    3A 34 38 20 47 4D 54 00 00 00 00 00 00 00 00 00  - :48.GMT.........\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_unmarshal_response::jk_ajp_common.c (739): (ag) status = 404\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_unmarshal_response::jk_ajp_common.c (746): Number of headers is = 5\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_unmarshal_response::jk_ajp_common.c (802): (ag) Header[0] [X-Powered-By] = [Undertow/1]\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_unmarshal_response::jk_ajp_common.c (802): (ag) Header[1] [Server] = [WildFly/10]\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_unmarshal_response::jk_ajp_common.c (802): (ag) Header[2] [Content-Type] = [text/html;charset=UTF-8]\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_unmarshal_response::jk_ajp_common.c (802): (ag) Header[3] [Content-Length] = [68]\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_unmarshal_response::jk_ajp_common.c (802): (ag) Header[4] [Date] = [Tue, 25 Jan 2022 08:06:48 GMT]\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): received from ajp13 pos=0 len=72 max=8192\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0000    03 00 44 3C 68 74 6D 6C 3E 3C 68 65 61 64 3E 3C  - ..D&lt;html&gt;&lt;head&gt;&lt;\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0010    74 69 74 6C 65 3E 45 72 72 6F 72 3C 2F 74 69 74  - title&gt;Error&lt;/tit\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0020    6C 65 3E 3C 2F 68 65 61 64 3E 3C 62 6F 64 79 3E  - le&gt;&lt;/head&gt;&lt;body&gt;\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0030    4E 6F 74 20 46 6F 75 6E 64 3C 2F 62 6F 64 79 3E  - Not.Found&lt;/body&gt;\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0040    3C 2F 68 74 6D 6C 3E 00 00 00 00 00 00 00 00 00  - &lt;/html&gt;.........\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ws_write::mod_jk.c (552): written 68 out of 68\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): received from ajp13 pos=0 len=2 max=8192\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_connection_tcp_get_message::jk_ajp_common.c (1462): 0000    05 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00  - ................\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_process_callback::jk_ajp_common.c (2135): (ag) AJP13 protocol: Reuse is OK\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_reset_endpoint::jk_ajp_common.c (851): (ag) resetting endpoint with socket 64\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] ajp_done::jk_ajp_common.c (3287): recycling connection pool for worker ag and socket 64\n[Tue Jan 25 09:06:48 2022] [13852:139737947764928] [debug] jk_handler::mod_jk.c (2979): Service finished with status=404 for worker=ag\n</code></pre>\n<p>The apache camel has been configured with an undertow server working on port 9180</p>\n"},{"tags":["java","spring-boot","rest","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643099491,"creation_date":1643053548,"answer_id":70839620,"question_id":70838549,"body_markdown":"You can start by creating example project using official [camel-archetype-spring-boot](https://camel.apache.org/manual/camel-maven-archetypes.html) maven archetype. You can generate project based on the archetype using your IDE or from command-line using following maven command.  \r\n\r\n```bash\r\nmvn archetype:generate -DarchetypeArtifactId=&quot;camel-archetype-spring-boot&quot; -DarchetypeGroupId=&quot;org.apache.camel.archetypes&quot; -DarchetypeVersion=&quot;3.14.0&quot;\r\n```\r\n\r\nNow in the maven project file `pom.xml` add following block to the dependencies\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;camel-jetty-starter&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nNote that version doesn&#39;t need to be specified as it is provided by `camel-spring-boot-dependencies` BOM (bill of materials) in dependencyManagement section. \r\n\r\nAfter that you can create new file ConfigureCamelContext.java where we can configure our CamelContext and provide it with RestConfiguration. We can do this by implementing [CamelContextConfiguration](https://camel.apache.org/camel-spring-boot/latest/spring-boot.html#_custom_camel_context_configuration) and `@Component` annotation. \r\n\r\nThe annotation tells spring-framework that it should create instance of the class and inject it to objects that request it based on its class-type or interface. Camel is configured to automatically ask spring-framework for these RestConfiguration instances which it will proceed to use configure CamelContext.\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport org.apache.camel.CamelContext;\r\nimport org.apache.camel.spi.RestConfiguration;\r\nimport org.apache.camel.spring.boot.CamelContextConfiguration;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class ConfigureCamelContext implements CamelContextConfiguration {\r\n\r\n    @Override\r\n    public void beforeApplicationStart(CamelContext camelContext) {\r\n        \r\n        RestConfiguration restConfiguration = new RestConfiguration();\r\n        restConfiguration.setApiComponent(&quot;jetty&quot;);\r\n        restConfiguration.setApiHost(&quot;localhost&quot;);\r\n        restConfiguration.setPort(8081);\r\n\r\n        camelContext.setRestConfiguration(restConfiguration);\r\n    }\r\n\r\n    @Override\r\n    public void afterApplicationStart(CamelContext camelContext) {   \r\n    }\r\n}\r\n```\r\n\r\nThis should work with [RestDSL](https://camel.apache.org/manual/rest-dsl.html) and [rest-component](https://camel.apache.org/components/latest/rest-component.html). \r\n\r\nEdit MySpringBootRouter.java to something like this:\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class MySpringBootRouter extends RouteBuilder {\r\n\r\n    static final String CONTET_TYPE_TEXT = &quot;text/plain&quot;;\r\n\r\n    @Override\r\n    public void configure() {\r\n        \r\n        rest()\r\n            .get(&quot;/hello/&quot;)\r\n                .route()\r\n                    .setHeader(Exchange.CONTENT_TYPE,  constant(CONTET_TYPE_TEXT))\r\n                    .setBody().constant(&quot;Hello world&quot;)\r\n                .end()\r\n            .endRest()\r\n            .get(&quot;/hello/{name}&quot;)\r\n                .route()\r\n                    .setHeader(Exchange.CONTENT_TYPE,  constant(CONTET_TYPE_TEXT))\r\n                    .setBody().simple(&quot;Hello ${headers.name}&quot;)\r\n                .end()\r\n            .endRest();\r\n\r\n        from(&quot;rest:get:test?produces=plain/text&quot;)\r\n            .setBody().constant(&quot;Hello from JavaDSL&quot;);\r\n    }\r\n}\r\n```\r\n\r\nComment out the class under `src/test/java/&lt;grouId&gt;/` as the example test provided by the archetype is not applicable for for MySpringBootRouter and will interrupt build.\r\n\r\nTo run the project you can use command\r\n\r\n```bash\r\nmvn spring-boot:run\r\n```\r\n\r\nNow you should be able to open up `localhost:8081/hello`, `localhost:8081/hello/&lt;Name&gt;` or `localhost:8081/test` get response in plain text. \r\n\r\n","title":"How to create RESTful Web Service with Spring Boot and Apache Camel?","body":"<p>You can start by creating example project using official <a href=\"https://camel.apache.org/manual/camel-maven-archetypes.html\" rel=\"nofollow noreferrer\">camel-archetype-spring-boot</a> maven archetype. You can generate project based on the archetype using your IDE or from command-line using following maven command.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn archetype:generate -DarchetypeArtifactId=&quot;camel-archetype-spring-boot&quot; -DarchetypeGroupId=&quot;org.apache.camel.archetypes&quot; -DarchetypeVersion=&quot;3.14.0&quot;\n</code></pre>\n<p>Now in the maven project file <code>pom.xml</code> add following block to the dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-jetty-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note that version doesn't need to be specified as it is provided by <code>camel-spring-boot-dependencies</code> BOM (bill of materials) in dependencyManagement section.</p>\n<p>After that you can create new file ConfigureCamelContext.java where we can configure our CamelContext and provide it with RestConfiguration. We can do this by implementing <a href=\"https://camel.apache.org/camel-spring-boot/latest/spring-boot.html#_custom_camel_context_configuration\" rel=\"nofollow noreferrer\">CamelContextConfiguration</a> and <code>@Component</code> annotation.</p>\n<p>The annotation tells spring-framework that it should create instance of the class and inject it to objects that request it based on its class-type or interface. Camel is configured to automatically ask spring-framework for these RestConfiguration instances which it will proceed to use configure CamelContext.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.spi.RestConfiguration;\nimport org.apache.camel.spring.boot.CamelContextConfiguration;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ConfigureCamelContext implements CamelContextConfiguration {\n\n    @Override\n    public void beforeApplicationStart(CamelContext camelContext) {\n        \n        RestConfiguration restConfiguration = new RestConfiguration();\n        restConfiguration.setApiComponent(&quot;jetty&quot;);\n        restConfiguration.setApiHost(&quot;localhost&quot;);\n        restConfiguration.setPort(8081);\n\n        camelContext.setRestConfiguration(restConfiguration);\n    }\n\n    @Override\n    public void afterApplicationStart(CamelContext camelContext) {   \n    }\n}\n</code></pre>\n<p>This should work with <a href=\"https://camel.apache.org/manual/rest-dsl.html\" rel=\"nofollow noreferrer\">RestDSL</a> and <a href=\"https://camel.apache.org/components/latest/rest-component.html\" rel=\"nofollow noreferrer\">rest-component</a>.</p>\n<p>Edit MySpringBootRouter.java to something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.apache.camel.Exchange;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class MySpringBootRouter extends RouteBuilder {\n\n    static final String CONTET_TYPE_TEXT = &quot;text/plain&quot;;\n\n    @Override\n    public void configure() {\n        \n        rest()\n            .get(&quot;/hello/&quot;)\n                .route()\n                    .setHeader(Exchange.CONTENT_TYPE,  constant(CONTET_TYPE_TEXT))\n                    .setBody().constant(&quot;Hello world&quot;)\n                .end()\n            .endRest()\n            .get(&quot;/hello/{name}&quot;)\n                .route()\n                    .setHeader(Exchange.CONTENT_TYPE,  constant(CONTET_TYPE_TEXT))\n                    .setBody().simple(&quot;Hello ${headers.name}&quot;)\n                .end()\n            .endRest();\n\n        from(&quot;rest:get:test?produces=plain/text&quot;)\n            .setBody().constant(&quot;Hello from JavaDSL&quot;);\n    }\n}\n</code></pre>\n<p>Comment out the class under <code>src/test/java/&lt;grouId&gt;/</code> as the example test provided by the archetype is not applicable for for MySpringBootRouter and will interrupt build.</p>\n<p>To run the project you can use command</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn spring-boot:run\n</code></pre>\n<p>Now you should be able to open up <code>localhost:8081/hello</code>, <code>localhost:8081/hello/&lt;Name&gt;</code> or <code>localhost:8081/test</code> get response in plain text.</p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1200,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70839620,"answer_count":1,"score":2,"last_activity_date":1643099491,"creation_date":1643048141,"question_id":70838549,"body_markdown":"I&#39;m learning Apache Camel in Spring Boot project and I try to create a Retful Webservice and the service is starting but the problem is that I get 404 when I call the endpoint. \r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class RestJavaDsl extends RouteBuilder {\r\n    \r\n        private final WeatherDataProvider weatherDataProvider;\r\n    \r\n        @Override\r\n        public void configure() throws Exception {\r\n    \r\n            from(&quot;rest:get:javadsl/weather/{city}?produces=application/json&quot;)\r\n                    .outputType(WeatherDto.class)\r\n                    .process(this::getWeatherData);\r\n        }\r\n    \r\n        private void getWeatherData(Exchange exchange) {\r\n            String city = exchange.getMessage().getHeader(&quot;city&quot;, String.class);\r\n            WeatherDto currentWeather = weatherDataProvider.getCurrentWeather(city);\r\n   \r\n            Message message = new DefaultMessage(exchange.getContext());\r\n            message.setBody(currentWeather);\r\n            exchange.setMessage(message);\r\n\r\n        }\r\n    \r\n    }\r\n\r\nI created this class to hardcode some data:\r\n\r\n    @Component\r\n    public class WeatherDataProvider {\r\n    \r\n        private static Map&lt;String, WeatherDto&gt; weatherData = new HashMap&lt;&gt;();\r\n    \r\n        public WeatherDataProvider() {\r\n            WeatherDto dto = WeatherDto.builder().city(&quot;London&quot;).temp(&quot;10&quot;).unit(&quot;C&quot;).receivedTime(new Date().toString()).id(1).build();\r\n            weatherData.put(&quot;LONDON&quot;, dto);\r\n        }\r\n    \r\n        public WeatherDto getCurrentWeather(String city) {\r\n            return weatherData.get(city.toUpperCase());\r\n        }\r\n    \r\n        public void setCurrentWeather(WeatherDto dto) {\r\n            dto.setReceivedTime(new Date().toString());\r\n            weatherData.put(dto.getCity().toUpperCase(), dto);\r\n        }\r\n    }\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class WeatherDto implements Serializable {\r\n        static int counter = 1;\r\n        private int id = counter++;\r\n        private String city;\r\n        private String temp;\r\n        private String unit;\r\n        private String receivedTime;\r\n    }\r\n\r\napplication.yml\r\n\r\n    camel:\r\n      component:\r\n        servlet:\r\n          mapping:\r\n            context-path: /services/*\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.dgs&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;camel-rest-springboot&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;camel-rest-springboot&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;camel.version&gt;3.14.0&lt;/camel.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-jaxb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-servlet&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-rest-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.18.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThe serviceis starting and this is the console log:\r\n\r\n    2022-01-24 20:01:40.353  INFO 15796 --- [           main] c.d.c.CamelRestSpringbootApplication     : Starting CamelRestSpringbootApplication using Java 11.0.5 on pc-PC with PID 15796 (D:\\Spring Boot\\camel-rest-springboot\\target\\classes started by pc in D:\\Spring Boot\\camel-rest-springboot)\r\n    2022-01-24 20:01:40.357  INFO 15796 --- [           main] c.d.c.CamelRestSpringbootApplication     : No active profile set, falling back to default profiles: default\r\n    2022-01-24 20:01:43.583  INFO 15796 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-01-24 20:01:43.604  INFO 15796 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-01-24 20:01:43.604  INFO 15796 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]\r\n    2022-01-24 20:01:43.820  INFO 15796 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-01-24 20:01:43.821  INFO 15796 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3235 ms\r\n    2022-01-24 20:01:45.228  INFO 15796 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]\r\n    2022-01-24 20:01:45.233  INFO 15796 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-01-24 20:01:45.592  INFO 15796 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Message DataType is enabled on CamelContext: camel-1\r\n    2022-01-24 20:01:45.607  INFO 15796 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:1 started:1)\r\n    2022-01-24 20:01:45.607  INFO 15796 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (rest://get:javadsl/weather/%7Bcity%7D)\r\n    2022-01-24 20:01:45.607  INFO 15796 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.14.0 (camel-1) started in 370ms (build:83ms init:269ms start:18ms)\r\n    2022-01-24 20:01:45.617  INFO 15796 --- [           main] c.d.c.CamelRestSpringbootApplication     : Started CamelRestSpringbootApplication in 6.569 seconds (JVM running for 8.087)\r\n\r\nBut when I try to call the endpoint http://localhost:8080/services/javadsl/weather/london\r\n\r\nIt looks like this endpoint doesn&#39;t exist, the rest isn&#39;t created. I used debugger and the method getWeatherData() isn&#39;t called. \r\nAnd I think this log is not ok: Started route1 (rest://get:javadsl/weather/%7Bcity%7D), it should be something like that: route1 started and consuming from servlet:/javadsl/weather/%7Bcity%7D\r\nAnd the tutorial is from here: https://www.youtube.com/watch?v=spDjbC8mZf0&amp;t=433s\r\nThank you in advance!\r\n\r\n\r\n","title":"How to create RESTful Web Service with Spring Boot and Apache Camel?","body":"<p>I'm learning Apache Camel in Spring Boot project and I try to create a Retful Webservice and the service is starting but the problem is that I get 404 when I call the endpoint.</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class RestJavaDsl extends RouteBuilder {\n\n    private final WeatherDataProvider weatherDataProvider;\n\n    @Override\n    public void configure() throws Exception {\n\n        from(&quot;rest:get:javadsl/weather/{city}?produces=application/json&quot;)\n                .outputType(WeatherDto.class)\n                .process(this::getWeatherData);\n    }\n\n    private void getWeatherData(Exchange exchange) {\n        String city = exchange.getMessage().getHeader(&quot;city&quot;, String.class);\n        WeatherDto currentWeather = weatherDataProvider.getCurrentWeather(city);\n\n        Message message = new DefaultMessage(exchange.getContext());\n        message.setBody(currentWeather);\n        exchange.setMessage(message);\n\n    }\n\n}\n</code></pre>\n<p>I created this class to hardcode some data:</p>\n<pre><code>@Component\npublic class WeatherDataProvider {\n\n    private static Map&lt;String, WeatherDto&gt; weatherData = new HashMap&lt;&gt;();\n\n    public WeatherDataProvider() {\n        WeatherDto dto = WeatherDto.builder().city(&quot;London&quot;).temp(&quot;10&quot;).unit(&quot;C&quot;).receivedTime(new Date().toString()).id(1).build();\n        weatherData.put(&quot;LONDON&quot;, dto);\n    }\n\n    public WeatherDto getCurrentWeather(String city) {\n        return weatherData.get(city.toUpperCase());\n    }\n\n    public void setCurrentWeather(WeatherDto dto) {\n        dto.setReceivedTime(new Date().toString());\n        weatherData.put(dto.getCity().toUpperCase(), dto);\n    }\n}\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class WeatherDto implements Serializable {\n    static int counter = 1;\n    private int id = counter++;\n    private String city;\n    private String temp;\n    private String unit;\n    private String receivedTime;\n}\n</code></pre>\n<p>application.yml</p>\n<pre><code>camel:\n  component:\n    servlet:\n      mapping:\n        context-path: /services/*\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.dgs&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-rest-springboot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;camel-rest-springboot&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;camel.version&gt;3.14.0&lt;/camel.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jaxb&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-servlet&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-rest-starter&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The serviceis starting and this is the console log:</p>\n<pre><code>2022-01-24 20:01:40.353  INFO 15796 --- [           main] c.d.c.CamelRestSpringbootApplication     : Starting CamelRestSpringbootApplication using Java 11.0.5 on pc-PC with PID 15796 (D:\\Spring Boot\\camel-rest-springboot\\target\\classes started by pc in D:\\Spring Boot\\camel-rest-springboot)\n2022-01-24 20:01:40.357  INFO 15796 --- [           main] c.d.c.CamelRestSpringbootApplication     : No active profile set, falling back to default profiles: default\n2022-01-24 20:01:43.583  INFO 15796 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-01-24 20:01:43.604  INFO 15796 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-01-24 20:01:43.604  INFO 15796 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]\n2022-01-24 20:01:43.820  INFO 15796 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-01-24 20:01:43.821  INFO 15796 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3235 ms\n2022-01-24 20:01:45.228  INFO 15796 --- [           main] o.a.c.c.s.CamelHttpTransportServlet      : Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]\n2022-01-24 20:01:45.233  INFO 15796 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-01-24 20:01:45.592  INFO 15796 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Message DataType is enabled on CamelContext: camel-1\n2022-01-24 20:01:45.607  INFO 15796 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (total:1 started:1)\n2022-01-24 20:01:45.607  INFO 15796 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (rest://get:javadsl/weather/%7Bcity%7D)\n2022-01-24 20:01:45.607  INFO 15796 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.14.0 (camel-1) started in 370ms (build:83ms init:269ms start:18ms)\n2022-01-24 20:01:45.617  INFO 15796 --- [           main] c.d.c.CamelRestSpringbootApplication     : Started CamelRestSpringbootApplication in 6.569 seconds (JVM running for 8.087)\n</code></pre>\n<p>But when I try to call the endpoint http://localhost:8080/services/javadsl/weather/london</p>\n<p>It looks like this endpoint doesn't exist, the rest isn't created. I used debugger and the method getWeatherData() isn't called.\nAnd I think this log is not ok: Started route1 (rest://get:javadsl/weather/%7Bcity%7D), it should be something like that: route1 started and consuming from servlet:/javadsl/weather/%7Bcity%7D\nAnd the tutorial is from here: <a href=\"https://www.youtube.com/watch?v=spDjbC8mZf0&amp;t=433s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=spDjbC8mZf0&amp;t=433s</a>\nThank you in advance!</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1643092322,"post_id":70844261,"comment_id":125241368,"body_markdown":"this is the basics of Java nothing to do with Lombok. Even basics of programming - you cant operate on an object without allocating memory to it first. So you need to change your first line to instantiate `FulfillmentOrder` with `FulfillmentOrder fo = new FulfillmentOrder()`.","body":"this is the basics of Java nothing to do with Lombok. Even basics of programming - you cant operate on an object without allocating memory to it first. So you need to change your first line to instantiate <code>FulfillmentOrder</code> with <code>FulfillmentOrder fo = new FulfillmentOrder()</code>."},{"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"score":0,"creation_date":1643092425,"post_id":70844261,"comment_id":125241384,"body_markdown":"@JAsgarov sorry I forgot to add that, even after adding that, the problem is same.","body":"@JAsgarov sorry I forgot to add that, even after adding that, the problem is same."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1643092590,"post_id":70844261,"comment_id":125241409,"body_markdown":"seems like Lombok generated setter (with return type void) is clashing with your custom setter (with return type Integer). You have to choose one, or change name of yours to not be identical","body":"seems like Lombok generated setter (with return type void) is clashing with your custom setter (with return type Integer). You have to choose one, or change name of yours to not be identical"},{"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"score":0,"creation_date":1643092916,"post_id":70844261,"comment_id":125241481,"body_markdown":"@JAsgarov my purpose is to set the orderNbr to be 89898989, because later I am converting to xml object. Is there a way of doing it with lombok annotation?","body":"@JAsgarov my purpose is to set the orderNbr to be 89898989, because later I am converting to xml object. Is there a way of doing it with lombok annotation?"},{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":1,"creation_date":1643093179,"post_id":70844261,"comment_id":125241538,"body_markdown":"In most cases setters return instance of current object(like in a builder) or void. There is little/no point in returning value passed inside, as it should remain immutable. So Maybe remove custom setters and let lombok create them.","body":"In most cases setters return instance of current object(like in a builder) or void. There is little/no point in returning value passed inside, as it should remain immutable. So Maybe remove custom setters and let lombok create them."},{"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"score":0,"creation_date":1643093502,"post_id":70844261,"comment_id":125241607,"body_markdown":"@Beri thanks for your comment, can you please provide a code snippet if I need to set the value of orderNum to 89898989 without using setOrderNbr.","body":"@Beri thanks for your comment, can you please provide a code snippet if I need to set the value of orderNum to 89898989 without using setOrderNbr."}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643099305,"creation_date":1643093179,"answer_id":70844413,"question_id":70844261,"body_markdown":"Your problem is that your class effectively has two methods with the same signature. Signature of a method is its name + parameters. So in your case `setOrderNbr(Integer orderNbr)`. Return type is not included in the signature.\r\n\r\nAs explained in Javadoc it is a compile time error to have methods with identical signature in the same class. https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.2\r\n\r\nFor you to allow Lombok to do the work - you need to delete your method `setOrderNbr(Integer orderNbr)` and call the Lombok generated setter that comes from `@Data`. It will have the same name but no return type in accordance with usual coding practices.\r\n\r\nIf you insist on having a setter with a return type you will have to define it yourself but it has to have a different signature - in your case a different name to not clash with the one that Lombok generates with @Data.","title":"@Data annotion not working to set the value in Java","body":"<p>Your problem is that your class effectively has two methods with the same signature. Signature of a method is its name + parameters. So in your case <code>setOrderNbr(Integer orderNbr)</code>. Return type is not included in the signature.</p>\n<p>As explained in Javadoc it is a compile time error to have methods with identical signature in the same class. <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.2\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.2</a></p>\n<p>For you to allow Lombok to do the work - you need to delete your method <code>setOrderNbr(Integer orderNbr)</code> and call the Lombok generated setter that comes from <code>@Data</code>. It will have the same name but no return type in accordance with usual coding practices.</p>\n<p>If you insist on having a setter with a return type you will have to define it yourself but it has to have a different signature - in your case a different name to not clash with the one that Lombok generates with @Data.</p>\n"}],"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":887,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70844413,"answer_count":1,"score":1,"last_activity_date":1643099305,"creation_date":1643092081,"question_id":70844261,"body_markdown":"I have this POJO class:\r\n\r\n    \r\n    import lombok.Data;\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import java.io.Serializable;\r\n    \r\n    @Data\r\n    @XmlAccessorType(XmlAccessType.FIELD )\r\n    public class FulfillmentOrder implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @XmlElement(name=&quot;orderNbr&quot;)\r\n        Integer orderNbr;\r\n    \r\n        public Integer setOrderNumbr(Integer orderNbr) {\r\n            this.orderNbr=orderNbr;\r\n            return orderNbr;\r\n        }\r\n    }\r\n\r\nI am trying to set the value of `orderNbr` from a different class.\r\n\r\n\r\n    FulfillmentOrder fo= new FulfillmentOrder();\r\n    Integer orderNum = \r\n      fo.setOrderNumbr(89898989);\r\n\r\nI am trying to update the value of `orderNbr` in my XML output to 89898 and I want to do it using @Data.\r\n\r\nBut when I am doing `fo.setOrderNbr(89898989)`I am getting a compile time error as Error:(56, 132) java: incompatible types: void cannot be converted to java.lang.Integer, since lombok returns void. \r\n\r\nAny way of `fo.setOrderNbr(89898989) to update the value?","title":"@Data annotion not working to set the value in Java","body":"<p>I have this POJO class:</p>\n<pre><code>import lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport java.io.Serializable;\n\n@Data\n@XmlAccessorType(XmlAccessType.FIELD )\npublic class FulfillmentOrder implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @XmlElement(name=&quot;orderNbr&quot;)\n    Integer orderNbr;\n\n    public Integer setOrderNumbr(Integer orderNbr) {\n        this.orderNbr=orderNbr;\n        return orderNbr;\n    }\n}\n</code></pre>\n<p>I am trying to set the value of <code>orderNbr</code> from a different class.</p>\n<pre><code>FulfillmentOrder fo= new FulfillmentOrder();\nInteger orderNum = \n  fo.setOrderNumbr(89898989);\n</code></pre>\n<p>I am trying to update the value of <code>orderNbr</code> in my XML output to 89898 and I want to do it using @Data.</p>\n<p>But when I am doing <code>fo.setOrderNbr(89898989)</code>I am getting a compile time error as Error:(56, 132) java: incompatible types: void cannot be converted to java.lang.Integer, since lombok returns void.</p>\n<p>Any way of `fo.setOrderNbr(89898989) to update the value?</p>\n"},{"tags":["java","spring","performance","http","client"],"answers":[{"tags":[],"owner":{"account_id":5066322,"reputation":183,"user_id":4066331,"accept_rate":25,"display_name":"pacionet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643098152,"creation_date":1643098152,"answer_id":70845289,"question_id":70817292,"body_markdown":"After some days I finally got the same slow responses with curl.\r\n\r\nSo it is a **server side problem**.","title":"Apache HttpClient: first call very slow, following calls very fast","body":"<p>After some days I finally got the same slow responses with curl.</p>\n<p>So it is a <strong>server side problem</strong>.</p>\n"}],"owner":{"account_id":5066322,"reputation":183,"user_id":4066331,"accept_rate":25,"display_name":"pacionet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70845289,"answer_count":1,"score":0,"last_activity_date":1643098152,"creation_date":1642886864,"question_id":70817292,"body_markdown":"I am using **Apache HttpClient 4.5.13** since some years and I have no problems until today. \r\n\r\nIn a Springboot app when it call a specific server, the first call (or the first call after some inactivity) required about 8 seconds (!!!) then all the following calls (to the same server) are very fast (less than a second).\r\n(The same call with curl always takes less than a second)\r\nIf i wait some time (for example, an hour) and retry, the first call takes again 8 seconds and the following are very fast.\r\n\r\nWhat could be the reason of the slow first call? \r\nI used this client for years and I never had this problem.\r\nA bit of code:\r\n\r\n    RequestConfig requestConfig = RequestConfig.custom()\r\n\t\t\t\t\t.setConnectTimeout(Integer.parseInt(env.getProperty(&quot;httpclient.connection.timeout&quot;)))\r\n\t\t\t\t\t.setConnectionRequestTimeout(Integer.parseInt(env.getProperty(&quot;httpclient.connection.request.timeout&quot;)))\r\n\t\t\t\t\t.setSocketTimeout(Integer.parseInt(env.getProperty(&quot;httpclient.socket.timeout&quot;)))\r\n\t\t\t\t\t.setCookieSpec(&quot;easy&quot;)\r\n\t\t\t\t\t.build();\r\n\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\tresult = HttpClients.custom().setSSLContext(sslContext)\r\n\t\t\t\t\t\t.setSSLHostnameVerifier(getHostnameVerifier())\r\n\t\t\t\t\t\t.setConnectionManager(poolingConnManager)\r\n\t\t\t\t\t\t.setDefaultRequestConfig(requestConfig)\r\n\t\t\t\t\t\t.setDefaultSocketConfig(socketConfig)\r\n\t\t\t\t\t\t.setDefaultCookieSpecRegistry(r)\r\n\t\t\t\t\t\t.addInterceptorFirst(customHttpRequestInterceptor)\r\n\t\t\t\t\t\t.addInterceptorLast(customHttpResponseInterceptor)\r\n\t\t\t\t\t\t.build();\r\n\r\nI also enabled Http debug but I don&#39;t see anything strange, the server response arrive after 8 seconds:\r\n\r\n    [2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;POST /service/url1 HTTP/1.1[\\r][\\n]&quot;\r\n    [2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Authorization: Bearer eyJjdHkiOiJKV1QiLCJyZWFsb[...][\\r][\\n]&quot;\r\n    [2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;X-Tax-Code: AAAAAAAAAAAAAAA01[\\r][\\n]&quot;\r\n    [2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Content-type: application/json[\\r][\\n]&quot;\r\n    [2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;accept: application/json[\\r][\\n]&quot;\r\n    [2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Content-Length: 25[\\r][\\n]&quot;\r\n    [2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Host: serverhost[\\r][\\n]&quot;\r\n    [2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\r\n    [2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.13 (Java/1.8.0_252)[\\r][\\n]&quot;\r\n    [2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\\r][\\n]&quot;\r\n    [2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;[\\r][\\n]&quot;\r\n    [2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;{&quot;product_name&quot;:&quot;XXXXXXX&quot;}&quot;\r\n    **Server response arrives after 8 seconds here**\r\n    [2022-01-22 17:11:48][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;HTTP/1.1 200 [\\r][\\n]&quot;\r\n\r\n**UPDATE**: I rewrite the client using OkHttpClient and I got the same slow call, so I think that it doesn&#39;t depend on client.","title":"Apache HttpClient: first call very slow, following calls very fast","body":"<p>I am using <strong>Apache HttpClient 4.5.13</strong> since some years and I have no problems until today.</p>\n<p>In a Springboot app when it call a specific server, the first call (or the first call after some inactivity) required about 8 seconds (!!!) then all the following calls (to the same server) are very fast (less than a second).\n(The same call with curl always takes less than a second)\nIf i wait some time (for example, an hour) and retry, the first call takes again 8 seconds and the following are very fast.</p>\n<p>What could be the reason of the slow first call?\nI used this client for years and I never had this problem.\nA bit of code:</p>\n<pre><code>RequestConfig requestConfig = RequestConfig.custom()\n                .setConnectTimeout(Integer.parseInt(env.getProperty(&quot;httpclient.connection.timeout&quot;)))\n                .setConnectionRequestTimeout(Integer.parseInt(env.getProperty(&quot;httpclient.connection.request.timeout&quot;)))\n                .setSocketTimeout(Integer.parseInt(env.getProperty(&quot;httpclient.socket.timeout&quot;)))\n                .setCookieSpec(&quot;easy&quot;)\n                .build();\n        \n                    \n        result = HttpClients.custom().setSSLContext(sslContext)\n                    .setSSLHostnameVerifier(getHostnameVerifier())\n                    .setConnectionManager(poolingConnManager)\n                    .setDefaultRequestConfig(requestConfig)\n                    .setDefaultSocketConfig(socketConfig)\n                    .setDefaultCookieSpecRegistry(r)\n                    .addInterceptorFirst(customHttpRequestInterceptor)\n                    .addInterceptorLast(customHttpResponseInterceptor)\n                    .build();\n</code></pre>\n<p>I also enabled Http debug but I don't see anything strange, the server response arrive after 8 seconds:</p>\n<pre><code>[2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;POST /service/url1 HTTP/1.1[\\r][\\n]&quot;\n[2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Authorization: Bearer eyJjdHkiOiJKV1QiLCJyZWFsb[...][\\r][\\n]&quot;\n[2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;X-Tax-Code: AAAAAAAAAAAAAAA01[\\r][\\n]&quot;\n[2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Content-type: application/json[\\r][\\n]&quot;\n[2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;accept: application/json[\\r][\\n]&quot;\n[2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Content-Length: 25[\\r][\\n]&quot;\n[2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Host: serverhost[\\r][\\n]&quot;\n[2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\n[2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.13 (Java/1.8.0_252)[\\r][\\n]&quot;\n[2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\\r][\\n]&quot;\n[2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;[\\r][\\n]&quot;\n[2022-01-22 17:11:40][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;{&quot;product_name&quot;:&quot;XXXXXXX&quot;}&quot;\n**Server response arrives after 8 seconds here**\n[2022-01-22 17:11:48][][][][][pool-6-thread-3][DEBUG]org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;HTTP/1.1 200 [\\r][\\n]&quot;\n</code></pre>\n<p><strong>UPDATE</strong>: I rewrite the client using OkHttpClient and I got the same slow call, so I think that it doesn't depend on client.</p>\n"},{"tags":["java","swing","assertj"],"comments":[{"owner":{"account_id":20146581,"reputation":3244,"user_id":14774959,"display_name":"ClaudiaR"},"score":1,"creation_date":1644685825,"post_id":70835192,"comment_id":125674427,"body_markdown":"I&#39;m not sure if this can help you, but I ran in a different (but also similar) problem recently. Instead of changing the layout like this have you tried setting it via VM arguments? In your case something like this `-Dassertj.swing.keyboard.locale=en` I think. See https://github.com/assertj/assertj-swing/issues/199","body":"I&#39;m not sure if this can help you, but I ran in a different (but also similar) problem recently. Instead of changing the layout like this have you tried setting it via VM arguments? In your case something like this <code>-Dassertj.swing.keyboard.locale=en</code> I think. See <a href=\"https://github.com/assertj/assertj-swing/issues/199\" rel=\"nofollow noreferrer\">github.com/assertj/assertj-swing/issues/199</a>"}],"owner":{"account_id":5818989,"reputation":21,"user_id":4587647,"display_name":"Marcio Oliveira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643098136,"creation_date":1643033444,"question_id":70835192,"body_markdown":"I am using assertj-swing to test a simple GUI application. When I enter text in a JTextField, I am getting: *IllegalArgumentException: Invalid key code &#39;65406&#39;*\r\n\r\nIt seems it happens because I am using a german keyboard layout, so to solve this problem I added the code below into onSetUp method:\r\n\r\n    window.target().getInputContext().selectInputMethod(new Locale(&quot;en&quot;, &quot;US&quot;));\r\n\r\n\r\nBy changing the input method the test passed, but I could not restore the original keyboard layout after the test, thus after testing my layout is always en-US, instead of de-DE.\r\nI tried to set direct to de-DE in the method onTearDown using the line above, or store the current layout onSetUp and restore onTearDown, but the value I am writing into selectInputMethod is always overwritten before I restore it or even after, so that sometimes I see it changes to de-DE and them back en-US.\r\n\r\nDoes someone had similar problems trying to configure the keyboard layout?\r\n\r\nBelow you can read an example of the tests I am having trouble with:\r\n\r\n```\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\nimport java.io.File;\r\nimport java.util.Locale;\r\n\r\nimport org.assertj.swing.edt.GuiActionRunner;\r\nimport org.assertj.swing.fixture.FrameFixture;\r\nimport org.assertj.swing.junit.testcase.AssertJSwingJUnitTestCase;\r\nimport org.junit.Rule;\r\nimport org.junit.Test;\r\nimport org.junit.rules.TemporaryFolder;\r\n\r\npublic class GuiExampleTest extends AssertJSwingJUnitTestCase {\r\n\r\n\tprivate FrameFixture window;\r\n\tprivate TransformationGui gui;\r\n\r\n\t@Rule\r\n\tpublic TemporaryFolder workingPath = new TemporaryFolder();\r\n\r\n\t@Override\r\n\tprotected void onSetUp() {\r\n\t\tgui = GuiActionRunner.execute(() -&gt; new TransformationGui());\r\n\t\twindow = new FrameFixture(robot(), gui);\r\n\t\twindow.target().getInputContext().selectInputMethod(new Locale(&quot;en&quot;, &quot;US&quot;));\r\n\t\twindow.show();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void onTearDown() {\r\n\t\twindow.cleanUp();\r\n\t}\r\n\r\n\t@Test  \r\n\tpublic void acceptMyField() throws Exception {\r\n\t\twindow.textBox(&quot;myfield&quot;).enterText(givenSomeExcelFile().toString());\r\n\t\t\r\n\t\tassertThat(window.textBox(&quot;myfield&quot;).text()).endsWith(&quot;SomeFile.xlsx&quot;);\r\n\t}\r\n\t\r\n\tprivate File givenSomeExcelFile() throws Exception {\r\n\t\treturn workingPath.newFile(&quot;SomeFile.xlsx&quot;);\r\n\t}\r\n}\r\n```\r\n","title":"Configure keybord layout before and after for testing with assertj-swing","body":"<p>I am using assertj-swing to test a simple GUI application. When I enter text in a JTextField, I am getting: <em>IllegalArgumentException: Invalid key code '65406'</em></p>\n<p>It seems it happens because I am using a german keyboard layout, so to solve this problem I added the code below into onSetUp method:</p>\n<pre><code>window.target().getInputContext().selectInputMethod(new Locale(&quot;en&quot;, &quot;US&quot;));\n</code></pre>\n<p>By changing the input method the test passed, but I could not restore the original keyboard layout after the test, thus after testing my layout is always en-US, instead of de-DE.\nI tried to set direct to de-DE in the method onTearDown using the line above, or store the current layout onSetUp and restore onTearDown, but the value I am writing into selectInputMethod is always overwritten before I restore it or even after, so that sometimes I see it changes to de-DE and them back en-US.</p>\n<p>Does someone had similar problems trying to configure the keyboard layout?</p>\n<p>Below you can read an example of the tests I am having trouble with:</p>\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\n\nimport java.io.File;\nimport java.util.Locale;\n\nimport org.assertj.swing.edt.GuiActionRunner;\nimport org.assertj.swing.fixture.FrameFixture;\nimport org.assertj.swing.junit.testcase.AssertJSwingJUnitTestCase;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.rules.TemporaryFolder;\n\npublic class GuiExampleTest extends AssertJSwingJUnitTestCase {\n\n    private FrameFixture window;\n    private TransformationGui gui;\n\n    @Rule\n    public TemporaryFolder workingPath = new TemporaryFolder();\n\n    @Override\n    protected void onSetUp() {\n        gui = GuiActionRunner.execute(() -&gt; new TransformationGui());\n        window = new FrameFixture(robot(), gui);\n        window.target().getInputContext().selectInputMethod(new Locale(&quot;en&quot;, &quot;US&quot;));\n        window.show();\n    }\n\n    @Override\n    protected void onTearDown() {\n        window.cleanUp();\n    }\n\n    @Test  \n    public void acceptMyField() throws Exception {\n        window.textBox(&quot;myfield&quot;).enterText(givenSomeExcelFile().toString());\n        \n        assertThat(window.textBox(&quot;myfield&quot;).text()).endsWith(&quot;SomeFile.xlsx&quot;);\n    }\n    \n    private File givenSomeExcelFile() throws Exception {\n        return workingPath.newFile(&quot;SomeFile.xlsx&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","libvlc"],"comments":[{"owner":{"account_id":5064211,"reputation":1914,"user_id":4064749,"display_name":"mfkl"},"score":0,"creation_date":1643081291,"post_id":70833180,"comment_id":125239573,"body_markdown":"share full libvlc verbose logs","body":"share full libvlc verbose logs"},{"owner":{"account_id":5838339,"reputation":931,"user_id":4600693,"accept_rate":60,"display_name":"Jon"},"score":0,"creation_date":1643098076,"post_id":70833180,"comment_id":125242902,"body_markdown":"Logs added to the question","body":"Logs added to the question"},{"owner":{"account_id":5064211,"reputation":1914,"user_id":4064749,"display_name":"mfkl"},"score":0,"creation_date":1643098564,"post_id":70833180,"comment_id":125243063,"body_markdown":"try with the latest version https://repo1.maven.org/maven2/org/videolan/android/libvlc-all/3.4.8/","body":"try with the latest version <a href=\"https://repo1.maven.org/maven2/org/videolan/android/libvlc-all/3.4.8/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/org/videolan/android/libvlc-all/3.4.8</a>"},{"owner":{"account_id":5838339,"reputation":931,"user_id":4600693,"accept_rate":60,"display_name":"Jon"},"score":0,"creation_date":1643099547,"post_id":70833180,"comment_id":125243386,"body_markdown":"I get the same result and logs. The only change in logs is this line: ```libvlc libvlc: revision 3.0.11.1-172-gb4aad11d66```","body":"I get the same result and logs. The only change in logs is this line: <code>libvlc libvlc: revision 3.0.11.1-172-gb4aad11d66</code>"},{"owner":{"account_id":5838339,"reputation":931,"user_id":4600693,"accept_rate":60,"display_name":"Jon"},"score":0,"creation_date":1643183523,"post_id":70833180,"comment_id":125269055,"body_markdown":"I checked the paths of &quot;Lua scripts&quot; logs and they don&#39;t exist, could be this the problem?","body":"I checked the paths of &quot;Lua scripts&quot; logs and they don&#39;t exist, could be this the problem?"},{"owner":{"account_id":5064211,"reputation":1914,"user_id":4064749,"display_name":"mfkl"},"score":0,"creation_date":1643188611,"post_id":70833180,"comment_id":125270789,"body_markdown":"try subscribing to the MediaList/media&#39;s itemAdded event. That parsing operation can take a while.","body":"try subscribing to the MediaList/media&#39;s itemAdded event. That parsing operation can take a while."},{"owner":{"account_id":5838339,"reputation":931,"user_id":4600693,"accept_rate":60,"display_name":"Jon"},"score":0,"creation_date":1643196287,"post_id":70833180,"comment_id":125273868,"body_markdown":"I tried ```media.setEventListener(this);``` before ```media.parse(IMedia.Parse.ParseNetwork);```, but in 5 minutes ```onEvent(IMedia.Event event)``` method is not called. Can ```media.parse()``` need more time than that?","body":"I tried <code>media.setEventListener(this);</code> before <code>media.parse(IMedia.Parse.ParseNetwork);</code>, but in 5 minutes <code>onEvent(IMedia.Event event)</code> method is not called. Can <code>media.parse()</code> need more time than that?"}],"owner":{"account_id":5838339,"reputation":931,"user_id":4600693,"accept_rate":60,"display_name":"Jon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643098006,"creation_date":1643023945,"question_id":70833180,"body_markdown":"I am trying to play media content using libvlc library. I have managed to play local files and IPTV broadcasts with the UDP protocol. Now I need to play TV channels that have open broadcasts over the internet.\r\n\r\nI have found the same steps to follow in various StackOverflow answers. This is what I am trying to do:\r\n\r\n 1. Create a Media with m3u8 file URL.\r\n 2. Call parse on the Media, with the ParseNetwork option.\r\n 3. Explore subitems.\r\n 4. Play one of those subitems.\r\n\r\nI&#39;m using latest version of libvlc:\r\n\r\n    implementation &#39;org.videolan.android:libvlc-all:3.3.4&#39;\r\n\r\nThis is the code:\r\n    \r\n    public class MainActivity extends AppCompatActivity\r\n    {\r\n    \r\n        private static final String TAG = &quot;VLC TEST&quot;;\r\n    \r\n        private static final boolean USE_TEXTURE_VIEW = false;\r\n        private static final boolean ENABLE_SUBTITLES = false;\r\n    \r\n        private VLCVideoLayout mVideoLayout = null;\r\n    \r\n        private LibVLC mLibVLC = null;\r\n        private MediaPlayer mMediaPlayer = null;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            final ArrayList&lt;String&gt; args = new ArrayList&lt;&gt;();\r\n            args.add(&quot;-vvv&quot;);\r\n            mLibVLC = new LibVLC(this, args);\r\n            mMediaPlayer = new MediaPlayer(mLibVLC);\r\n    \r\n            mVideoLayout = findViewById(R.id.video_layout);\r\n        }\r\n    \r\n        @Override\r\n        protected void onStart()\r\n        {\r\n            super.onStart();\r\n    \r\n            mMediaPlayer.attachViews(mVideoLayout, null, ENABLE_SUBTITLES, USE_TEXTURE_VIEW);\r\n            this.setOnlineM3u8(&quot;https://ztnr.rtve.es/ztnr/1688877.m3u8&quot;);\r\n            mMediaPlayer.play();\r\n        }\r\n    \r\n        private void setOnlineM3u8(String urlString)\r\n        {\r\n            final Media media = new Media(mLibVLC, Uri.parse(urlString));\r\n    \r\n            boolean parseResult = media.parse(IMedia.Parse.ParseNetwork);\r\n            if (parseResult)\r\n            {\r\n                MediaList subItems = media.subItems();\r\n                if (subItems != null &amp;&amp; subItems.getCount() &gt; 0)\r\n                    mMediaPlayer.setMedia(subItems.getMediaAt(0));\r\n                else\r\n                    Log.i(TAG, &quot;No sub items&quot;);\r\n            }\r\n            else\r\n            {\r\n                Log.i(TAG, &quot;Parse failed, state: &quot; + media.getState());\r\n            }\r\n            media.release();\r\n        }\r\n    }\r\n\r\nThe problem is that ```subItems.getCount()``` is always 0. I can play https://ztnr.rtve.es/ztnr/1688877.m3u8 file using oficial VLC for android app in the same testing device, so I think that I&#39;m missing something. Do you know what is happening?\r\n\r\n**Edit:**\r\n\r\nLibvlc logs:\r\n\r\n\t2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [f3b7c6b0/3b6c6974] libvlc libvlc: VLC media player - 3.0.11.1 Vetinari\r\n\t2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [f3b7c6b0/3b726572] libvlc libvlc: Copyright &#169; 1996-2020 the VideoLAN team\r\n\t2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [f3b7c6b0/d0015] libvlc libvlc: revision 3.0.11.1-100-g9cb3252caa\r\n\t2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [f3b7c6b0/d0015] libvlc libvlc: configured with ../configure  &#39;--host=arm-linux-androideabi&#39; &#39;--build=x86_64-unknown-linux&#39; &#39;--with-contrib=/builds/videolan/vlc-android/vlc/contrib/arm-linux-androideabi&#39; &#39;--prefix=/builds/videolan/vlc-android/vlc/build-android-arm-linux-androideabi/install/&#39; &#39;--with-pic&#39; &#39;--disable-nls&#39; &#39;--enable-live555&#39; &#39;--enable-realrtsp&#39; &#39;--enable-avformat&#39; &#39;--enable-swscale&#39; &#39;--enable-avcodec&#39; &#39;--enable-opus&#39; &#39;--enable-opensles&#39; &#39;--enable-matroska&#39; &#39;--enable-taglib&#39; &#39;--enable-dvbpsi&#39; &#39;--disable-vlc&#39; &#39;--disable-shared&#39; &#39;--disable-update-check&#39; &#39;--disable-vlm&#39; &#39;--disable-dbus&#39; &#39;--enable-lua&#39; &#39;--disable-vcd&#39; &#39;--disable-v4l2&#39; &#39;--enable-dvdread&#39; &#39;--enable-dvdnav&#39; &#39;--enable-bluray&#39; &#39;--disable-linsys&#39; &#39;--disable-decklink&#39; &#39;--disable-libva&#39; &#39;--disable-dv1394&#39; &#39;--enable-mod&#39; &#39;--disable-sid&#39; &#39;--disable-gme&#39; &#39;--disable-tremor&#39; &#39;--disable-mad&#39; &#39;--enable-mpg123&#39; &#39;--disable-dca&#39; &#39;--disable-sdl-image&#39; &#39;--enable-zvbi&#39; &#39;--disable-fluidsynth&#39; &#39;--enable-fluidlite&#39; &#39;--disable-jack&#39; &#39;--disable-pulse&#39; &#39;--dis\r\n\t2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [f3b7c6b0/ecd9c698] libvlc libvlc: plug-ins loaded: 368 modules\r\n\t2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [eb2a1e10/2d6e6f2d] libvlc logger: looking for logger module matching &quot;any&quot;: 4 candidates\r\n\t2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [eb2a1e10/692d6e6f] libvlc logger: using logger module &quot;android_logger&quot;\r\n\t2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [f3b7c6b0/1dd0] libvlc libvlc: translation test: code is &quot;C&quot;\r\n\t2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [eb2a1f90/1dd0] libvlc keystore: looking for keystore module matching &quot;memory&quot;: 3 candidates\r\n\t2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [eb2a1f90/1dd0] libvlc keystore: using keystore module &quot;memory&quot;\r\n\t2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [f3b7c6b0/1dd0] libvlc libvlc: CPU has capabilities ARM_NEON FPU \r\n\t2022-01-25 08:57:20.421 7632-7632/my.tests.vlctest D/VLC: [f4f7de70/1dd0] libvlc generic: creating audio output\r\n\t2022-01-25 08:57:20.421 7632-7632/my.tests.vlctest D/VLC: [f4eecd30/1dd0] libvlc audio output: looking for audio output module matching &quot;android_audiotrack&quot;: 4 candidates\r\n\t2022-01-25 08:57:20.422 7632-7632/my.tests.vlctest E/VLC: [f4eecd30/1dd0] libvlc audio output: GetStaticFieldID(AudioFormat.ENCODING_IEC61937) failed\r\n\t2022-01-25 08:57:20.422 7632-7632/my.tests.vlctest E/VLC: [f4eecd30/1dd0] libvlc audio output: GetStaticFieldID(AudioFormat.ENCODING_DOLBY_TRUEHD) failed\r\n\t2022-01-25 08:57:20.422 7632-7632/my.tests.vlctest D/VLC: [f4eecd30/1dd0] libvlc audio output: using audio output module &quot;android_audiotrack&quot;\r\n\t2022-01-25 08:57:20.423 7632-7632/my.tests.vlctest D/VLC: [f4f7de70/1dd0] libvlc generic: keeping audio output\r\n\t2022-01-25 08:57:20.437 7632-7760/my.tests.vlctest D/VLC: [ef03d030/1e50] libvlc input: Creating an input for preparsing &#39;1688877.m3u8&#39;\r\n\t2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc meta fetcher: looking for meta fetcher module matching &quot;any&quot;: 1 candidates\r\n\t2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc meta fetcher: Trying Lua scripts in /data/user/0/my.tests.vlctest/app_vlc/.share/lua/meta/fetcher\r\n\t2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc meta fetcher: Trying Lua scripts in /data/app/my.tests.vlctest-1/lib/arm/vlc/lua/meta/fetcher\r\n\t2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc meta fetcher: Trying Lua scripts in /system/usr/share/lua/meta/fetcher\r\n\t2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc meta fetcher: no meta fetcher modules matched\r\n\t2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc art finder: looking for art finder module matching &quot;any&quot;: 2 candidates\r\n\t2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc art finder: Trying Lua scripts in /data/user/0/my.tests.vlctest/app_vlc/.share/lua/meta/art\r\n\t2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc art finder: Trying Lua scripts in /data/app/my.tests.vlctest-1/lib/arm/vlc/lua/meta/art\r\n\t2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc art finder: Trying Lua scripts in /system/usr/share/lua/meta/art\r\n\t2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc art finder: no art finder modules matched","title":"Play online video streams from m3u8 file using libvlc, subitems is always 0","body":"<p>I am trying to play media content using libvlc library. I have managed to play local files and IPTV broadcasts with the UDP protocol. Now I need to play TV channels that have open broadcasts over the internet.</p>\n<p>I have found the same steps to follow in various StackOverflow answers. This is what I am trying to do:</p>\n<ol>\n<li>Create a Media with m3u8 file URL.</li>\n<li>Call parse on the Media, with the ParseNetwork option.</li>\n<li>Explore subitems.</li>\n<li>Play one of those subitems.</li>\n</ol>\n<p>I'm using latest version of libvlc:</p>\n<pre><code>implementation 'org.videolan.android:libvlc-all:3.3.4'\n</code></pre>\n<p>This is the code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity\n{\n\n    private static final String TAG = &quot;VLC TEST&quot;;\n\n    private static final boolean USE_TEXTURE_VIEW = false;\n    private static final boolean ENABLE_SUBTITLES = false;\n\n    private VLCVideoLayout mVideoLayout = null;\n\n    private LibVLC mLibVLC = null;\n    private MediaPlayer mMediaPlayer = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        final ArrayList&lt;String&gt; args = new ArrayList&lt;&gt;();\n        args.add(&quot;-vvv&quot;);\n        mLibVLC = new LibVLC(this, args);\n        mMediaPlayer = new MediaPlayer(mLibVLC);\n\n        mVideoLayout = findViewById(R.id.video_layout);\n    }\n\n    @Override\n    protected void onStart()\n    {\n        super.onStart();\n\n        mMediaPlayer.attachViews(mVideoLayout, null, ENABLE_SUBTITLES, USE_TEXTURE_VIEW);\n        this.setOnlineM3u8(&quot;https://ztnr.rtve.es/ztnr/1688877.m3u8&quot;);\n        mMediaPlayer.play();\n    }\n\n    private void setOnlineM3u8(String urlString)\n    {\n        final Media media = new Media(mLibVLC, Uri.parse(urlString));\n\n        boolean parseResult = media.parse(IMedia.Parse.ParseNetwork);\n        if (parseResult)\n        {\n            MediaList subItems = media.subItems();\n            if (subItems != null &amp;&amp; subItems.getCount() &gt; 0)\n                mMediaPlayer.setMedia(subItems.getMediaAt(0));\n            else\n                Log.i(TAG, &quot;No sub items&quot;);\n        }\n        else\n        {\n            Log.i(TAG, &quot;Parse failed, state: &quot; + media.getState());\n        }\n        media.release();\n    }\n}\n</code></pre>\n<p>The problem is that <code>subItems.getCount()</code> is always 0. I can play <a href=\"https://ztnr.rtve.es/ztnr/1688877.m3u8\" rel=\"nofollow noreferrer\">https://ztnr.rtve.es/ztnr/1688877.m3u8</a> file using oficial VLC for android app in the same testing device, so I think that I'm missing something. Do you know what is happening?</p>\n<p><strong>Edit:</strong></p>\n<p>Libvlc logs:</p>\n<pre><code>2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [f3b7c6b0/3b6c6974] libvlc libvlc: VLC media player - 3.0.11.1 Vetinari\n2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [f3b7c6b0/3b726572] libvlc libvlc: Copyright © 1996-2020 the VideoLAN team\n2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [f3b7c6b0/d0015] libvlc libvlc: revision 3.0.11.1-100-g9cb3252caa\n2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [f3b7c6b0/d0015] libvlc libvlc: configured with ../configure  '--host=arm-linux-androideabi' '--build=x86_64-unknown-linux' '--with-contrib=/builds/videolan/vlc-android/vlc/contrib/arm-linux-androideabi' '--prefix=/builds/videolan/vlc-android/vlc/build-android-arm-linux-androideabi/install/' '--with-pic' '--disable-nls' '--enable-live555' '--enable-realrtsp' '--enable-avformat' '--enable-swscale' '--enable-avcodec' '--enable-opus' '--enable-opensles' '--enable-matroska' '--enable-taglib' '--enable-dvbpsi' '--disable-vlc' '--disable-shared' '--disable-update-check' '--disable-vlm' '--disable-dbus' '--enable-lua' '--disable-vcd' '--disable-v4l2' '--enable-dvdread' '--enable-dvdnav' '--enable-bluray' '--disable-linsys' '--disable-decklink' '--disable-libva' '--disable-dv1394' '--enable-mod' '--disable-sid' '--disable-gme' '--disable-tremor' '--disable-mad' '--enable-mpg123' '--disable-dca' '--disable-sdl-image' '--enable-zvbi' '--disable-fluidsynth' '--enable-fluidlite' '--disable-jack' '--disable-pulse' '--dis\n2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [f3b7c6b0/ecd9c698] libvlc libvlc: plug-ins loaded: 368 modules\n2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [eb2a1e10/2d6e6f2d] libvlc logger: looking for logger module matching &quot;any&quot;: 4 candidates\n2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [eb2a1e10/692d6e6f] libvlc logger: using logger module &quot;android_logger&quot;\n2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [f3b7c6b0/1dd0] libvlc libvlc: translation test: code is &quot;C&quot;\n2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [eb2a1f90/1dd0] libvlc keystore: looking for keystore module matching &quot;memory&quot;: 3 candidates\n2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [eb2a1f90/1dd0] libvlc keystore: using keystore module &quot;memory&quot;\n2022-01-25 08:57:20.417 7632-7632/my.tests.vlctest D/VLC: [f3b7c6b0/1dd0] libvlc libvlc: CPU has capabilities ARM_NEON FPU \n2022-01-25 08:57:20.421 7632-7632/my.tests.vlctest D/VLC: [f4f7de70/1dd0] libvlc generic: creating audio output\n2022-01-25 08:57:20.421 7632-7632/my.tests.vlctest D/VLC: [f4eecd30/1dd0] libvlc audio output: looking for audio output module matching &quot;android_audiotrack&quot;: 4 candidates\n2022-01-25 08:57:20.422 7632-7632/my.tests.vlctest E/VLC: [f4eecd30/1dd0] libvlc audio output: GetStaticFieldID(AudioFormat.ENCODING_IEC61937) failed\n2022-01-25 08:57:20.422 7632-7632/my.tests.vlctest E/VLC: [f4eecd30/1dd0] libvlc audio output: GetStaticFieldID(AudioFormat.ENCODING_DOLBY_TRUEHD) failed\n2022-01-25 08:57:20.422 7632-7632/my.tests.vlctest D/VLC: [f4eecd30/1dd0] libvlc audio output: using audio output module &quot;android_audiotrack&quot;\n2022-01-25 08:57:20.423 7632-7632/my.tests.vlctest D/VLC: [f4f7de70/1dd0] libvlc generic: keeping audio output\n2022-01-25 08:57:20.437 7632-7760/my.tests.vlctest D/VLC: [ef03d030/1e50] libvlc input: Creating an input for preparsing '1688877.m3u8'\n2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc meta fetcher: looking for meta fetcher module matching &quot;any&quot;: 1 candidates\n2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc meta fetcher: Trying Lua scripts in /data/user/0/my.tests.vlctest/app_vlc/.share/lua/meta/fetcher\n2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc meta fetcher: Trying Lua scripts in /data/app/my.tests.vlctest-1/lib/arm/vlc/lua/meta/fetcher\n2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc meta fetcher: Trying Lua scripts in /system/usr/share/lua/meta/fetcher\n2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc meta fetcher: no meta fetcher modules matched\n2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc art finder: looking for art finder module matching &quot;any&quot;: 2 candidates\n2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc art finder: Trying Lua scripts in /data/user/0/my.tests.vlctest/app_vlc/.share/lua/meta/art\n2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc art finder: Trying Lua scripts in /data/app/my.tests.vlctest-1/lib/arm/vlc/lua/meta/art\n2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc art finder: Trying Lua scripts in /system/usr/share/lua/meta/art\n2022-01-25 08:57:22.408 7632-7773/my.tests.vlctest D/VLC: [ef0232b0/1e5d] libvlc art finder: no art finder modules matched\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":14399380,"reputation":245,"user_id":10401602,"display_name":"Md. Samim hossain"},"score":0,"creation_date":1643097478,"post_id":70845076,"comment_id":125242728,"body_markdown":"you can see this link: https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api","body":"you can see this link: <a href=\"https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api\" title=\"difference between fetchtype lazy and eager in java persistence api\">stackoverflow.com/questions/2990799/&hellip;</a>"},{"owner":{"account_id":23831471,"reputation":43,"user_id":17837687,"display_name":"Tameer Hussain"},"score":0,"creation_date":1643097795,"post_id":70845076,"comment_id":125242819,"body_markdown":"I know how fetch works but I am getting error when I set fetch type to lazy. Can you help me to resolve this.","body":"I know how fetch works but I am getting error when I set fetch type to lazy. Can you help me to resolve this."},{"owner":{"account_id":14399380,"reputation":245,"user_id":10401602,"display_name":"Md. Samim hossain"},"score":0,"creation_date":1643097993,"post_id":70845076,"comment_id":125242883,"body_markdown":"I think fetchType Lazy is used in OneToMany relationship on the otherhand fetchType Eager is used in OneToOne Relationship.","body":"I think fetchType Lazy is used in OneToMany relationship on the otherhand fetchType Eager is used in OneToOne Relationship."}],"answers":[{"tags":[],"owner":{"account_id":14399380,"reputation":245,"user_id":10401602,"display_name":"Md. Samim hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643097963,"creation_date":1643097963,"answer_id":70845249,"question_id":70845076,"body_markdown":"I think fetchType Lazy is used in OneToMany relationship on the otherhand fetchType Eager is used in OneToOne Relationship.","title":"Getting InvalidDefinitionException exception in Spring boot","body":"<p>I think fetchType Lazy is used in OneToMany relationship on the otherhand fetchType Eager is used in OneToOne Relationship.</p>\n"}],"owner":{"account_id":23831471,"reputation":43,"user_id":17837687,"display_name":"Tameer Hussain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643097963,"creation_date":1643097056,"question_id":70845076,"body_markdown":"I am making a small Rest API using Spring boot and mysql as database. I am getting &quot;No serializer found&quot; error with fetch type lazy. My application is working fine with fetch type eager but I want fetch type to lazy so how can I resolve this.\r\n\r\nUser Model:\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n    @Column(nullable = false,length = 50)\r\n    private String firstName;\r\n    @Column(nullable = false,length = 50)\r\n    private String lastName;\r\n    @Column(nullable = false,unique = true)\r\n    private String email;\r\n    @OneToOne(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;address_id&quot;,referencedColumnName = &quot;id&quot;)\r\n    @JsonIgnoreProperties(&quot;user&quot;)\r\n    private Address address;\r\n    }\r\n\r\nAddress Model:\r\n\r\n    @Entity\r\n    @Table(name = &quot;addresses&quot;)\r\n    public class Address {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n    @Column(nullable = false,length = 255)\r\n    private String street;\r\n    @Column(nullable = false)\r\n    private int postalCode;\r\n    @Column(nullable = false,length = 100)\r\n    private String city;\r\n    @OneToOne(mappedBy = &quot;address&quot;,fetch = FetchType.LAZY,cascade = CascadeType.ALL)\r\n    @JsonIgnoreProperties(&quot;address&quot;)\r\n    private User user;\r\n    }\r\n    \r\nUser Service:\r\n\r\n    @Service\r\n    public class UserService {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Autowired\r\n    public UserService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    public User save(User user){\r\n        return userRepository.save(user);\r\n    }\r\n\r\n    public List&lt;User&gt; find(){\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    public User find(Integer id){\r\n        return userRepository.findById(id).get();\r\n    }\r\n\r\n    public void delete(Integer id){\r\n        userRepository.deleteById(id);\r\n    }\r\n    }\r\n\r\nUser Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(path = &quot;users&quot;)\r\n    public class UserController {\r\n    private final UserService userService;\r\n    @Autowired\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;User&gt; get(){\r\n        return userService.find();\r\n    }\r\n\r\n    @GetMapping(path = &quot;{id}&quot;)\r\n    public User get(@PathVariable Integer id){\r\n        return userService.find(id);\r\n    }\r\n\r\n    @PostMapping\r\n    public User post(@RequestBody User user){\r\n        return userService.save(user);\r\n    }\r\n\r\n    @DeleteMapping(path = &quot;{id}&quot;)\r\n    public boolean delete(@PathVariable Integer id){\r\n        userService.delete(id);\r\n        return true;\r\n    }\r\n    }\r\n\r\nStack Trace:\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]-&gt;com.kumasroh.usersapp.models.User[&quot;address&quot;]-&gt;com.kumasroh.usersapp.models.Address$HibernateProxy$VM2Pif4w[&quot;hibernateLazyInitializer&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n\r\n","title":"Getting InvalidDefinitionException exception in Spring boot","body":"<p>I am making a small Rest API using Spring boot and mysql as database. I am getting &quot;No serializer found&quot; error with fetch type lazy. My application is working fine with fetch type eager but I want fetch type to lazy so how can I resolve this.</p>\n<p>User Model:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate int id;\n@Column(nullable = false,length = 50)\nprivate String firstName;\n@Column(nullable = false,length = 50)\nprivate String lastName;\n@Column(nullable = false,unique = true)\nprivate String email;\n@OneToOne(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;address_id&quot;,referencedColumnName = &quot;id&quot;)\n@JsonIgnoreProperties(&quot;user&quot;)\nprivate Address address;\n}\n</code></pre>\n<p>Address Model:</p>\n<pre><code>@Entity\n@Table(name = &quot;addresses&quot;)\npublic class Address {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate int id;\n@Column(nullable = false,length = 255)\nprivate String street;\n@Column(nullable = false)\nprivate int postalCode;\n@Column(nullable = false,length = 100)\nprivate String city;\n@OneToOne(mappedBy = &quot;address&quot;,fetch = FetchType.LAZY,cascade = CascadeType.ALL)\n@JsonIgnoreProperties(&quot;address&quot;)\nprivate User user;\n}\n</code></pre>\n<p>User Service:</p>\n<pre><code>@Service\npublic class UserService {\n\nprivate final UserRepository userRepository;\n\n@Autowired\npublic UserService(UserRepository userRepository) {\n    this.userRepository = userRepository;\n}\n\npublic User save(User user){\n    return userRepository.save(user);\n}\n\npublic List&lt;User&gt; find(){\n    return userRepository.findAll();\n}\n\npublic User find(Integer id){\n    return userRepository.findById(id).get();\n}\n\npublic void delete(Integer id){\n    userRepository.deleteById(id);\n}\n}\n</code></pre>\n<p>User Controller:</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;users&quot;)\npublic class UserController {\nprivate final UserService userService;\n@Autowired\npublic UserController(UserService userService) {\n    this.userService = userService;\n}\n\n@GetMapping\npublic List&lt;User&gt; get(){\n    return userService.find();\n}\n\n@GetMapping(path = &quot;{id}&quot;)\npublic User get(@PathVariable Integer id){\n    return userService.find(id);\n}\n\n@PostMapping\npublic User post(@RequestBody User user){\n    return userService.save(user);\n}\n\n@DeleteMapping(path = &quot;{id}&quot;)\npublic boolean delete(@PathVariable Integer id){\n    userService.delete(id);\n    return true;\n}\n}\n</code></pre>\n<p>Stack Trace:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]-&gt;com.kumasroh.usersapp.models.User[&quot;address&quot;]-&gt;com.kumasroh.usersapp.models.Address$HibernateProxy$VM2Pif4w[&quot;hibernateLazyInitializer&quot;])\nat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.1.jar:2.13.1]\nat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.1.jar:2.13.1]\nat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.13.1.jar:2.13.1]\n</code></pre>\n"},{"tags":["java","web-applications","classpath"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1299843400,"post_id":5272350,"comment_id":5939741,"body_markdown":"Similar : http://stackoverflow.com/questions/3923129/get-a-list-of-resources-from-classpath-directory","body":"Similar : <a href=\"http://stackoverflow.com/questions/3923129/get-a-list-of-resources-from-classpath-directory\" title=\"get a list of resources from classpath directory\">stackoverflow.com/questions/3923129/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":320279,"reputation":20132,"user_id":638471,"accept_rate":83,"display_name":"vbence"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1299844289,"creation_date":1299843327,"answer_id":5272379,"question_id":5272350,"body_markdown":"Try these:\r\n\r\n    // get the compact classpath value\r\n    String path = System.getProperty(&quot;java.class.path&quot;);\r\n\r\n    // the character : on windows and ; on unixes\r\n    String separator = System.getProperty(&quot;path.separator&quot;);\r\n\r\n    // the character \\ on windows and / on unixes\r\n    String fileSep = System.getProperty(&quot;file.separator&quot;);\r\n\r\nYou need the `separator` and `fileSep` because `:` and `\\` are highly system-dependant.","title":"Get classpath entries for executing web application","body":"<p>Try these:</p>\n\n<pre><code>// get the compact classpath value\nString path = System.getProperty(\"java.class.path\");\n\n// the character : on windows and ; on unixes\nString separator = System.getProperty(\"path.separator\");\n\n// the character \\ on windows and / on unixes\nString fileSep = System.getProperty(\"file.separator\");\n</code></pre>\n\n<p>You need the <code>separator</code> and <code>fileSep</code> because <code>:</code> and <code>\\</code> are highly system-dependant.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1299843575,"creation_date":1299843575,"answer_id":5272422,"question_id":5272350,"body_markdown":"In general, your files should be in WEB-INF/lib and WEB-INF/classes - that&#39;s it.  What&#39;s the mystery?\r\n","title":"Get classpath entries for executing web application","body":"<p>In general, your files should be in WEB-INF/lib and WEB-INF/classes - that's it.  What's the mystery?</p>\n"},{"tags":[],"owner":{"account_id":37404,"reputation":2580,"user_id":1439259,"display_name":"Rok"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1378804612,"creation_date":1378804612,"answer_id":18714994,"question_id":5272350,"body_markdown":"Using sebastian answer above, I made this piece of code, which did the trick for me.\r\n\r\n    ClassLoader c=getClass().getClassLoader();\r\n    logmsg(&quot;c=&quot;+c);\r\n    URLClassLoader u=(URLClassLoader)c;\r\n    URL[] urls=u.getURLs();\r\n    for (URL i : urls) {\r\n        logmsg(&quot;url: &quot;+i);\r\n    }\r\n\r\nIt gave this result:\r\n\r\n    classpath=/dd/apache-tomcat-7.0.29/bin/bootstrap.jar:/dd/apache-tomcat-7.0.29/bin/tomcat-juli.jar\r\n    c=WebappClassLoader\r\n      context: /xxx\r\n      delegate: false\r\n      repositories:\r\n        /WEB-INF/classes/\r\n    ----------&gt; Parent Classloader:\r\n    org.apache.catalina.loader.StandardClassLoader@35c0e45a\r\n    \r\n    url: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/classes/\r\n    url: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/commons-codec.jar\r\n    url: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/commons-fileupload.jar\r\n    url: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/commons-logging-api.jar\r\n    url: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/commons-logging.jar\r\n    url: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/freemarker.jar\r\n    url: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/h2.jar\r\n    url: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/js.jar\r\n    url: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/log4j-1.2.8.jar\r\n\r\n","title":"Get classpath entries for executing web application","body":"<p>Using sebastian answer above, I made this piece of code, which did the trick for me.</p>\n\n<pre><code>ClassLoader c=getClass().getClassLoader();\nlogmsg(\"c=\"+c);\nURLClassLoader u=(URLClassLoader)c;\nURL[] urls=u.getURLs();\nfor (URL i : urls) {\n    logmsg(\"url: \"+i);\n}\n</code></pre>\n\n<p>It gave this result:</p>\n\n<pre><code>classpath=/dd/apache-tomcat-7.0.29/bin/bootstrap.jar:/dd/apache-tomcat-7.0.29/bin/tomcat-juli.jar\nc=WebappClassLoader\n  context: /xxx\n  delegate: false\n  repositories:\n    /WEB-INF/classes/\n----------&gt; Parent Classloader:\norg.apache.catalina.loader.StandardClassLoader@35c0e45a\n\nurl: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/classes/\nurl: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/commons-codec.jar\nurl: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/commons-fileupload.jar\nurl: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/commons-logging-api.jar\nurl: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/commons-logging.jar\nurl: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/freemarker.jar\nurl: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/h2.jar\nurl: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/js.jar\nurl: file:/DT/DEV/dev/mko/apache-tomcat-7.0.29/webapps/xxx/WEB-INF/lib/log4j-1.2.8.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":295514,"reputation":2157,"user_id":599971,"accept_rate":55,"display_name":"ejaenv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521213666,"creation_date":1521213666,"answer_id":49324211,"question_id":5272350,"body_markdown":"based on Rok answer, if you use Eclipse, run this code in &quot;View&quot; tab when you are in a breakpoint, and you will get the classpath in a file\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    java.net.URL[] urls=((java.net.URLClassLoader)getClass().getClassLoader()).getURLs();\r\n    for (java.net.URL u : urls) {\r\n      sb.append(u+&quot;\\n&quot;);\r\n    }\r\n    org.apache.commons.io.FileUtils.writeStringToFile(new java.io.File(&quot;/tmp/classpath&quot;), sb.toString());\r\n\r\n","title":"Get classpath entries for executing web application","body":"<p>based on Rok answer, if you use Eclipse, run this code in \"View\" tab when you are in a breakpoint, and you will get the classpath in a file</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\njava.net.URL[] urls=((java.net.URLClassLoader)getClass().getClassLoader()).getURLs();\nfor (java.net.URL u : urls) {\n  sb.append(u+\"\\n\");\n}\norg.apache.commons.io.FileUtils.writeStringToFile(new java.io.File(\"/tmp/classpath\"), sb.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4249479,"reputation":1269,"user_id":3477044,"accept_rate":42,"display_name":"Aliuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643097713,"creation_date":1642770300,"answer_id":70801762,"question_id":5272350,"body_markdown":"I have created this code (hope it helps):\r\n\r\n```java\r\n@Slf4j\r\npublic class ClasspathLibrariesParser {\r\n    private static final List&lt;String&gt; ALLOWED_KINDS = Arrays.asList(&quot;lib&quot;, &quot;con&quot;);\r\n    private static final SAXParserFactory PARSER_FACTORY = ClasspathLibrariesParser.createParserFactory();\r\n    \r\n    private static SAXParserFactory createParserFactory() {\r\n    \tfinal SAXParserFactory parserFactory = SAXParserFactory.newInstance();\r\n        parserFactory.setNamespaceAware(true);\r\n        return parserFactory;\r\n    }\r\n\r\n    public Set&lt;String&gt; parseClasspathFile() {\r\n        final File file = new File(&quot;./.classpath&quot;);\r\n        final Set&lt;String&gt; paths = this.parseClasspathFile(file);\r\n        return paths;\r\n    }\r\n\r\n    public Set&lt;String&gt; parseClasspathFile(final File file) {\r\n        try {\r\n            final Set&lt;String&gt; paths = new TreeSet&lt;&gt;();\r\n            final XMLReader parser = this.createClasspathFileParser(paths);\r\n            parser.parse(file.toURI().toURL().toString());\r\n            return paths;\r\n        } catch (Exception e) {\r\n            log.error(&quot;An error happened while parsing the classpath file \\&quot;{}\\&quot;. Exception: {}&quot;, file, e.getMessage());\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private XMLReader createClasspathFileParser(final Set&lt;String&gt; paths)\r\n            throws SAXException, ParserConfigurationException {\r\n        final XMLReader parser = PARSER_FACTORY.newSAXParser().getXMLReader();\r\n        parser.setContentHandler(new DefaultHandler() {\r\n            @Override\r\n            public void startElement(final String uri, final String localName, final String qname,\r\n                    final Attributes atts) {\r\n                if (!&quot;classpathentry&quot;.equals(localName) || atts == null) {\r\n                    return;\r\n                }\r\n\r\n                for (int i = 0; i &lt; atts.getLength(); i++) {\r\n                    log.debug(&quot;read classpathentry attributes [{}] {} -&gt; {}&quot;, i, atts.getLocalName(i), atts.getValue(i));\r\n                }\r\n\r\n                final String kind = atts.getValue(&quot;kind&quot;);\r\n                if (kind != null &amp;&amp; ALLOWED_KINDS.contains(kind)) {\r\n                    final String path = atts.getValue(&quot;path&quot;);\r\n                    paths.add(path);\r\n                }\r\n            }\r\n        });\r\n\r\n        return parser;\r\n    }\r\n}\r\n```","title":"Get classpath entries for executing web application","body":"<p>I have created this code (hope it helps):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\npublic class ClasspathLibrariesParser {\n    private static final List&lt;String&gt; ALLOWED_KINDS = Arrays.asList(&quot;lib&quot;, &quot;con&quot;);\n    private static final SAXParserFactory PARSER_FACTORY = ClasspathLibrariesParser.createParserFactory();\n    \n    private static SAXParserFactory createParserFactory() {\n        final SAXParserFactory parserFactory = SAXParserFactory.newInstance();\n        parserFactory.setNamespaceAware(true);\n        return parserFactory;\n    }\n\n    public Set&lt;String&gt; parseClasspathFile() {\n        final File file = new File(&quot;./.classpath&quot;);\n        final Set&lt;String&gt; paths = this.parseClasspathFile(file);\n        return paths;\n    }\n\n    public Set&lt;String&gt; parseClasspathFile(final File file) {\n        try {\n            final Set&lt;String&gt; paths = new TreeSet&lt;&gt;();\n            final XMLReader parser = this.createClasspathFileParser(paths);\n            parser.parse(file.toURI().toURL().toString());\n            return paths;\n        } catch (Exception e) {\n            log.error(&quot;An error happened while parsing the classpath file \\&quot;{}\\&quot;. Exception: {}&quot;, file, e.getMessage());\n            return null;\n        }\n    }\n\n    private XMLReader createClasspathFileParser(final Set&lt;String&gt; paths)\n            throws SAXException, ParserConfigurationException {\n        final XMLReader parser = PARSER_FACTORY.newSAXParser().getXMLReader();\n        parser.setContentHandler(new DefaultHandler() {\n            @Override\n            public void startElement(final String uri, final String localName, final String qname,\n                    final Attributes atts) {\n                if (!&quot;classpathentry&quot;.equals(localName) || atts == null) {\n                    return;\n                }\n\n                for (int i = 0; i &lt; atts.getLength(); i++) {\n                    log.debug(&quot;read classpathentry attributes [{}] {} -&gt; {}&quot;, i, atts.getLocalName(i), atts.getValue(i));\n                }\n\n                final String kind = atts.getValue(&quot;kind&quot;);\n                if (kind != null &amp;&amp; ALLOWED_KINDS.contains(kind)) {\n                    final String path = atts.getValue(&quot;path&quot;);\n                    paths.add(path);\n                }\n            }\n        });\n\n        return parser;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":329573,"reputation":65,"user_id":653165,"accept_rate":75,"display_name":"sebastian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9090,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1643097713,"creation_date":1299843110,"question_id":5272350,"body_markdown":"i need to read `CLASSPATH` entries for current web application. In `CLASSPATH` i have many files with this same name. I would like to check on which position they appear in classpath. For example: `path:\\file.txt;path2:\\file.txt...`.\r\n\r\nThank you for your help.\r\n\r\nKind regards\r\nSebastian","title":"Get classpath entries for executing web application","body":"<p>i need to read <code>CLASSPATH</code> entries for current web application. In <code>CLASSPATH</code> i have many files with this same name. I would like to check on which position they appear in classpath. For example: <code>path:\\file.txt;path2:\\file.txt...</code>.</p>\n\n<p>Thank you for your help.</p>\n\n<p>Kind regards\nSebastian</p>\n"},{"tags":["javascript","java","android","react-native","react-native-native-module"],"owner":{"account_id":1244676,"reputation":2560,"user_id":1206388,"accept_rate":85,"display_name":"Daniel Tovesson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643097327,"creation_date":1643097327,"question_id":70845123,"body_markdown":"I am getting the following error:\r\n```\r\nFatal Exception: java.lang.RuntimeException\r\njava.lang.Throwable: A WebView method was called on thread &#39;mqt_native_modules&#39;. All WebView methods must be called on the same thread. (Expected Looper Looper (main, tid 2) {7e18f70} called on Looper (mqt_native_modules, tid 513) {4860cd5}, FYI main Looper is Looper (main, tid 2) {7e18f70})\r\n```\r\n```\r\nFatal Exception: java.lang.RuntimeException: java.lang.Throwable: A WebView method was called on thread &#39;mqt_native_modules&#39;. All WebView methods must be called on the same thread. (Expected Looper Looper (main, tid 2) {7e18f70} called on Looper (mqt_native_modules, tid 513) {4860cd5}, FYI main Looper is Looper (main, tid 2) {7e18f70})\r\n       at android.webkit.WebView.checkThread(WebView.java:2615)\r\n       at android.webkit.WebView.loadUrl(WebView.java:742)\r\n       at com.iab.omid.library.appnexus.b.e.a(:30)\r\n       at com.iab.omid.library.appnexus.b.e.a(:30)\r\n       at com.iab.omid.library.appnexus.b.e.a(:12)\r\n       at com.iab.omid.library.appnexus.publisher.AdSessionStatePublisher.a(:8)\r\n       at com.iab.omid.library.appnexus.b.f.a(:30)\r\n       at com.iab.omid.library.appnexus.a.d.d(:4)\r\n       at com.iab.omid.library.appnexus.a.d.onChange(:15)\r\n       at android.database.ContentObserver.onChange(ContentObserver.java:153)\r\n       at android.database.ContentObserver.onChange(ContentObserver.java:169)\r\n       at android.database.ContentObserver.onChange(ContentObserver.java:187)\r\n       at android.database.ContentObserver.onChange(ContentObserver.java:202)\r\n       at android.database.ContentObserver.lambda$dispatchChange$0$ContentObserver(ContentObserver.java:282)\r\n       at android.database.ContentObserver$$ExternalSyntheticLambda0.run(:10)\r\n       at android.os.Handler.handleCallback(Handler.java:938)\r\n       at android.os.Handler.dispatchMessage(Handler.java:99)\r\n       at android.os.Looper.loopOnce(Looper.java:226)\r\n       at android.os.Looper.loop(Looper.java:313)\r\n       at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(MessageQueueThreadImpl.java:226)\r\n       at java.lang.Thread.run(Thread.java:920)\r\n```\r\nI have built a React Native application that fetches ads through [this][1] library which I have connected though a Native Module. The ads are fetched on app start and this is the native code I use to fetch the ads:\r\n```\r\nerrors = Arguments.createMap();\r\nloadedPlacementIds = Arguments.createArray();\r\nnumAdsRequested = placementIds.size();\r\n\r\nadRequests = new ArrayList&lt;&gt;();\r\nfor (int i = 0; i &lt; numAdsRequested; i++) {\r\n    String placementId = placementIds.getString(i);\r\n    NativeAdRequest adRequest = new NativeAdRequest(context, placementId);\r\n    NativeAdRequestListener nativeAdRequestListener = new NativeAdRequestListener() {\r\n        @Override\r\n        public void onAdFailed(ResultCode resultCode, ANAdResponseInfo anAdResponseInfo) {\r\n            errors.putString(placementId, resultCode.getMessage());\r\n        }\r\n\r\n        @Override\r\n        public void onAdLoaded(NativeAdResponse response) {\r\n            ((MainApplication) context.getCurrentActivity().getApplication()).setAdResponse(response, placementId);\r\n            loadedPlacementIds.pushString(placementId);\r\n        }\r\n    };\r\n    adRequest.setListener(nativeAdRequestListener);\r\n    adRequest.setClickThroughAction(ANClickThroughAction.RETURN_URL);\r\n    adRequests.add(adRequest);\r\n}\r\n\r\nMultiAdRequestListener multiAdRequestListener = new\r\n        MultiAdRequestListener() {\r\n            @Override\r\n            public void onMultiAdRequestCompleted() {\r\n            }\r\n\r\n            @Override\r\n            public void onMultiAdRequestFailed(ResultCode code) {\r\n                WritableMap params = Arguments.createMap();\r\n                params.putString(&quot;error&quot;, code.getMessage());\r\n                sendEvent(context, &quot;multiAdRequestDidFail&quot;, params);\r\n            }\r\n        };\r\nmultiAdReq = new ANMultiAdRequest(context, 12345, multiAdRequestListener);\r\nfor (NativeAdRequest adRequest : adRequests) {\r\n    multiAdReq.addAdUnit(adRequest);\r\n}\r\nmultiAdReq.load();\r\n```\r\nThe crash seems to happen only when the app is backgrounded and not immediately once it&#39;s backgrounded but a few minutes after according to my crash logs:\r\n[![enter image description here][2]][2]\r\n\r\nDoes anyone have any suggestions of what the issue could be? I have gone though the library and can&#39;t really find any uses of WebView in the methods I am using to load the ads.\r\n\r\n  [1]: https://github.com/appnexus/mobile-sdk-android\r\n  [2]: https://i.stack.imgur.com/0DwA6.png","title":"A WebView method was called on thread &#39;mqt_native_modules&#39;. All WebView methods must be called on the same thread","body":"<p>I am getting the following error:</p>\n<pre><code>Fatal Exception: java.lang.RuntimeException\njava.lang.Throwable: A WebView method was called on thread 'mqt_native_modules'. All WebView methods must be called on the same thread. (Expected Looper Looper (main, tid 2) {7e18f70} called on Looper (mqt_native_modules, tid 513) {4860cd5}, FYI main Looper is Looper (main, tid 2) {7e18f70})\n</code></pre>\n<pre><code>Fatal Exception: java.lang.RuntimeException: java.lang.Throwable: A WebView method was called on thread 'mqt_native_modules'. All WebView methods must be called on the same thread. (Expected Looper Looper (main, tid 2) {7e18f70} called on Looper (mqt_native_modules, tid 513) {4860cd5}, FYI main Looper is Looper (main, tid 2) {7e18f70})\n       at android.webkit.WebView.checkThread(WebView.java:2615)\n       at android.webkit.WebView.loadUrl(WebView.java:742)\n       at com.iab.omid.library.appnexus.b.e.a(:30)\n       at com.iab.omid.library.appnexus.b.e.a(:30)\n       at com.iab.omid.library.appnexus.b.e.a(:12)\n       at com.iab.omid.library.appnexus.publisher.AdSessionStatePublisher.a(:8)\n       at com.iab.omid.library.appnexus.b.f.a(:30)\n       at com.iab.omid.library.appnexus.a.d.d(:4)\n       at com.iab.omid.library.appnexus.a.d.onChange(:15)\n       at android.database.ContentObserver.onChange(ContentObserver.java:153)\n       at android.database.ContentObserver.onChange(ContentObserver.java:169)\n       at android.database.ContentObserver.onChange(ContentObserver.java:187)\n       at android.database.ContentObserver.onChange(ContentObserver.java:202)\n       at android.database.ContentObserver.lambda$dispatchChange$0$ContentObserver(ContentObserver.java:282)\n       at android.database.ContentObserver$$ExternalSyntheticLambda0.run(:10)\n       at android.os.Handler.handleCallback(Handler.java:938)\n       at android.os.Handler.dispatchMessage(Handler.java:99)\n       at android.os.Looper.loopOnce(Looper.java:226)\n       at android.os.Looper.loop(Looper.java:313)\n       at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(MessageQueueThreadImpl.java:226)\n       at java.lang.Thread.run(Thread.java:920)\n</code></pre>\n<p>I have built a React Native application that fetches ads through <a href=\"https://github.com/appnexus/mobile-sdk-android\" rel=\"nofollow noreferrer\">this</a> library which I have connected though a Native Module. The ads are fetched on app start and this is the native code I use to fetch the ads:</p>\n<pre><code>errors = Arguments.createMap();\nloadedPlacementIds = Arguments.createArray();\nnumAdsRequested = placementIds.size();\n\nadRequests = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; numAdsRequested; i++) {\n    String placementId = placementIds.getString(i);\n    NativeAdRequest adRequest = new NativeAdRequest(context, placementId);\n    NativeAdRequestListener nativeAdRequestListener = new NativeAdRequestListener() {\n        @Override\n        public void onAdFailed(ResultCode resultCode, ANAdResponseInfo anAdResponseInfo) {\n            errors.putString(placementId, resultCode.getMessage());\n        }\n\n        @Override\n        public void onAdLoaded(NativeAdResponse response) {\n            ((MainApplication) context.getCurrentActivity().getApplication()).setAdResponse(response, placementId);\n            loadedPlacementIds.pushString(placementId);\n        }\n    };\n    adRequest.setListener(nativeAdRequestListener);\n    adRequest.setClickThroughAction(ANClickThroughAction.RETURN_URL);\n    adRequests.add(adRequest);\n}\n\nMultiAdRequestListener multiAdRequestListener = new\n        MultiAdRequestListener() {\n            @Override\n            public void onMultiAdRequestCompleted() {\n            }\n\n            @Override\n            public void onMultiAdRequestFailed(ResultCode code) {\n                WritableMap params = Arguments.createMap();\n                params.putString(&quot;error&quot;, code.getMessage());\n                sendEvent(context, &quot;multiAdRequestDidFail&quot;, params);\n            }\n        };\nmultiAdReq = new ANMultiAdRequest(context, 12345, multiAdRequestListener);\nfor (NativeAdRequest adRequest : adRequests) {\n    multiAdReq.addAdUnit(adRequest);\n}\nmultiAdReq.load();\n</code></pre>\n<p>The crash seems to happen only when the app is backgrounded and not immediately once it's backgrounded but a few minutes after according to my crash logs:\n<a href=\"https://i.stack.imgur.com/0DwA6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0DwA6.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone have any suggestions of what the issue could be? I have gone though the library and can't really find any uses of WebView in the methods I am using to load the ads.</p>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":14344678,"reputation":1,"user_id":10361823,"display_name":"Tomuța Dan Claudiu"},"score":0,"creation_date":1553357533,"post_id":12209300,"comment_id":97358416,"body_markdown":"Could you help me with this?\nhttps://stackoverflow.com/questions/55262894/how-to-insert-all-the-list-rows-in-my-jasper-report?noredirect=1#comment97265321_55262894","body":"Could you help me with this? <a href=\"https://stackoverflow.com/questions/55262894/how-to-insert-all-the-list-rows-in-my-jasper-report?noredirect=1#comment97265321_55262894\" title=\"how to insert all the list rows in my jasper report\">stackoverflow.com/questions/55262894/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1539287867,"creation_date":1346404862,"answer_id":12212427,"question_id":12209300,"body_markdown":"### Here is the working sample. ###\n\nThe key points of this sample: \n\n * using of the *`_THIS`* expression;\n * using *List (jr:list)*  component in ***Detail*** band\n\nThe snippet of code for generating report:\n\n&lt;!-- language: lang-java --&gt;\n\n    public static void testBuildPdf() {\n        try {\n            Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();\n            JasperReport jasperReport = JasperCompileManager.compileReport(reportSource);\n            JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, params, getDataSource());\n\n            JasperExportManager.exportReportToPdfFile(jasperPrint, outputFileName);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static JRDataSource getDataSource() {\n        Collection&lt;BeanWithList&gt; coll = new ArrayList&lt;BeanWithList&gt;();\n        coll.add(new BeanWithList(Arrays.asList(&quot;London&quot;, &quot;Paris&quot;), 1));\n        coll.add(new BeanWithList(Arrays.asList(&quot;London&quot;, &quot;Madrid&quot;, &quot;Moscow&quot;), 2));\n        coll.add(new BeanWithList(Arrays.asList(&quot;Rome&quot;), 3));\n\n        return new JRBeanCollectionDataSource(coll);\n    }\n\nThe JavaBean code:\n\n&lt;!-- language: lang-java --&gt;\n\n    public class BeanWithList {\n \n        // The member&#39;s name can be any. The JR engine is using public getter for extracting field&#39;s value\n        private List&lt;String&gt; cities;\n        private Integer id;\n    \n        public BeanWithList(List&lt;String&gt; cities, Integer id) {\n            this.cities = cities;\n            this.id = id;\n        }\n\n        // getter should be public    \n        public List&lt;String&gt; getCities() {\n            return this.cities;\n        }\n    \n        public Integer getId() {\n            return this.id;\n        }\n    }\n\nThe jrxml file:\n\n&lt;!-- language: lang-xml --&gt;\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;jasperReport ...&gt;\n        &lt;subDataset name=&quot;dataset1&quot;&gt;\n            &lt;field name=&quot;city&quot; class=&quot;java.lang.String&quot;&gt;\n                &lt;fieldDescription&gt;&lt;![CDATA[_THIS]]&gt;&lt;/fieldDescription&gt;\n            &lt;/field&gt;\n        &lt;/subDataset&gt;\n        &lt;field name=&quot;id&quot; class=&quot;java.lang.Integer&quot;/&gt;\n        &lt;field name=&quot;cities&quot; class=&quot;java.util.Collection&quot;/&gt;\n        &lt;title&gt;\n            &lt;band height=&quot;103&quot; splitType=&quot;Stretch&quot;&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement x=&quot;138&quot; y=&quot;28&quot; width=&quot;258&quot; height=&quot;20&quot;/&gt;\n                    &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                        &lt;font isBold=&quot;true&quot; isItalic=&quot;true&quot;/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Bean with List sample]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n            &lt;/band&gt;\n        &lt;/title&gt;\n        &lt;columnHeader&gt;\n            &lt;band height=&quot;20&quot;&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;20&quot;/&gt;\n                    &lt;box&gt;\n                        &lt;topPen lineWidth=&quot;1.0&quot;/&gt;\n                        &lt;leftPen lineWidth=&quot;1.0&quot;/&gt;\n                        &lt;bottomPen lineWidth=&quot;1.0&quot;/&gt;\n                        &lt;rightPen lineWidth=&quot;1.0&quot;/&gt;\n                    &lt;/box&gt;\n                    &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                        &lt;font isBold=&quot;true&quot; isItalic=&quot;true&quot; isUnderline=&quot;false&quot;/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Id]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement x=&quot;100&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;20&quot;/&gt;\n                    &lt;box&gt;\n                        &lt;topPen lineWidth=&quot;1.0&quot;/&gt;\n                        &lt;leftPen lineWidth=&quot;1.0&quot;/&gt;\n                        &lt;bottomPen lineWidth=&quot;1.0&quot;/&gt;\n                        &lt;rightPen lineWidth=&quot;1.0&quot;/&gt;\n                    &lt;/box&gt;\n                    &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                        &lt;font isBold=&quot;true&quot; isItalic=&quot;true&quot; isUnderline=&quot;false&quot;/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[City name]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n            &lt;/band&gt;\n        &lt;/columnHeader&gt;\n        &lt;detail&gt;\n            &lt;band height=&quot;20&quot; splitType=&quot;Stretch&quot;&gt;\n                &lt;textField&gt;\n                    &lt;reportElement stretchType=&quot;RelativeToTallestObject&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;20&quot;/&gt;\n                    &lt;box leftPadding=&quot;10&quot;&gt;\n                        &lt;topPen lineWidth=&quot;1.0&quot;/&gt;\n                        &lt;leftPen lineWidth=&quot;1.0&quot;/&gt;\n                        &lt;bottomPen lineWidth=&quot;1.0&quot;/&gt;\n                        &lt;rightPen lineWidth=&quot;1.0&quot;/&gt;\n                    &lt;/box&gt;\n                    &lt;textElement/&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{id}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;componentElement&gt;\n                    &lt;reportElement x=&quot;100&quot; y=&quot;0&quot; width=&quot;400&quot; height=&quot;20&quot;/&gt;\n                    &lt;jr:list xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot; printOrder=&quot;Vertical&quot;&gt;\n                        &lt;datasetRun subDataset=&quot;dataset1&quot;&gt;\n                            &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{cities})]]&gt;&lt;/dataSourceExpression&gt;\n                        &lt;/datasetRun&gt;\n                        &lt;jr:listContents height=&quot;20&quot; width=&quot;400&quot;&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;20&quot;/&gt;\n                                &lt;box leftPadding=&quot;10&quot;&gt;\n                                    &lt;topPen lineWidth=&quot;1.0&quot;/&gt;\n                                    &lt;leftPen lineWidth=&quot;1.0&quot;/&gt;\n                                    &lt;bottomPen lineWidth=&quot;1.0&quot;/&gt;\n                                    &lt;rightPen lineWidth=&quot;1.0&quot;/&gt;\n                                &lt;/box&gt;\n                                &lt;textElement/&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$F{city}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:listContents&gt;\n                    &lt;/jr:list&gt;\n                &lt;/componentElement&gt;\n            &lt;/band&gt;\n        &lt;/detail&gt;\n    &lt;/jasperReport&gt;\n\nThe result will be:\n\n![The resulting report in PDF format][1]\n\n----\n\nOther related questions are the [How do I print a list of strings contained within another list in iReport?](https://stackoverflow.com/questions/1771864/how-do-i-print-a-list-of-strings-contained-within-another-list-in-ireport) question and [Passing the List of primitive type objects as datasource for subreport](https://stackoverflow.com/q/11949333/876298) question.\n\n  [1]: http://i.stack.imgur.com/IngVf.png","title":"JRBeanCollectionDataSource: How to show data from the java.util.List from JavaBean?","body":"<h3>Here is the working sample.</h3>\n<p>The key points of this sample:</p>\n<ul>\n<li>using of the <em><code>_THIS</code></em> expression;</li>\n<li>using <em>List (jr:list)</em>  component in <em><strong>Detail</strong></em> band</li>\n</ul>\n<p>The snippet of code for generating report:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void testBuildPdf() {\n    try {\n        Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();\n        JasperReport jasperReport = JasperCompileManager.compileReport(reportSource);\n        JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, params, getDataSource());\n\n        JasperExportManager.exportReportToPdfFile(jasperPrint, outputFileName);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate static JRDataSource getDataSource() {\n    Collection&lt;BeanWithList&gt; coll = new ArrayList&lt;BeanWithList&gt;();\n    coll.add(new BeanWithList(Arrays.asList(&quot;London&quot;, &quot;Paris&quot;), 1));\n    coll.add(new BeanWithList(Arrays.asList(&quot;London&quot;, &quot;Madrid&quot;, &quot;Moscow&quot;), 2));\n    coll.add(new BeanWithList(Arrays.asList(&quot;Rome&quot;), 3));\n\n    return new JRBeanCollectionDataSource(coll);\n}\n</code></pre>\n<p>The JavaBean code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BeanWithList {\n\n    // The member's name can be any. The JR engine is using public getter for extracting field's value\n    private List&lt;String&gt; cities;\n    private Integer id;\n\n    public BeanWithList(List&lt;String&gt; cities, Integer id) {\n        this.cities = cities;\n        this.id = id;\n    }\n\n    // getter should be public    \n    public List&lt;String&gt; getCities() {\n        return this.cities;\n    }\n\n    public Integer getId() {\n        return this.id;\n    }\n}\n</code></pre>\n<p>The jrxml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jasperReport ...&gt;\n    &lt;subDataset name=&quot;dataset1&quot;&gt;\n        &lt;field name=&quot;city&quot; class=&quot;java.lang.String&quot;&gt;\n            &lt;fieldDescription&gt;&lt;![CDATA[_THIS]]&gt;&lt;/fieldDescription&gt;\n        &lt;/field&gt;\n    &lt;/subDataset&gt;\n    &lt;field name=&quot;id&quot; class=&quot;java.lang.Integer&quot;/&gt;\n    &lt;field name=&quot;cities&quot; class=&quot;java.util.Collection&quot;/&gt;\n    &lt;title&gt;\n        &lt;band height=&quot;103&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=&quot;138&quot; y=&quot;28&quot; width=&quot;258&quot; height=&quot;20&quot;/&gt;\n                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                    &lt;font isBold=&quot;true&quot; isItalic=&quot;true&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Bean with List sample]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n        &lt;/band&gt;\n    &lt;/title&gt;\n    &lt;columnHeader&gt;\n        &lt;band height=&quot;20&quot;&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;20&quot;/&gt;\n                &lt;box&gt;\n                    &lt;topPen lineWidth=&quot;1.0&quot;/&gt;\n                    &lt;leftPen lineWidth=&quot;1.0&quot;/&gt;\n                    &lt;bottomPen lineWidth=&quot;1.0&quot;/&gt;\n                    &lt;rightPen lineWidth=&quot;1.0&quot;/&gt;\n                &lt;/box&gt;\n                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                    &lt;font isBold=&quot;true&quot; isItalic=&quot;true&quot; isUnderline=&quot;false&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Id]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=&quot;100&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;20&quot;/&gt;\n                &lt;box&gt;\n                    &lt;topPen lineWidth=&quot;1.0&quot;/&gt;\n                    &lt;leftPen lineWidth=&quot;1.0&quot;/&gt;\n                    &lt;bottomPen lineWidth=&quot;1.0&quot;/&gt;\n                    &lt;rightPen lineWidth=&quot;1.0&quot;/&gt;\n                &lt;/box&gt;\n                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                    &lt;font isBold=&quot;true&quot; isItalic=&quot;true&quot; isUnderline=&quot;false&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[City name]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n        &lt;/band&gt;\n    &lt;/columnHeader&gt;\n    &lt;detail&gt;\n        &lt;band height=&quot;20&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;textField&gt;\n                &lt;reportElement stretchType=&quot;RelativeToTallestObject&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;20&quot;/&gt;\n                &lt;box leftPadding=&quot;10&quot;&gt;\n                    &lt;topPen lineWidth=&quot;1.0&quot;/&gt;\n                    &lt;leftPen lineWidth=&quot;1.0&quot;/&gt;\n                    &lt;bottomPen lineWidth=&quot;1.0&quot;/&gt;\n                    &lt;rightPen lineWidth=&quot;1.0&quot;/&gt;\n                &lt;/box&gt;\n                &lt;textElement/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{id}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;componentElement&gt;\n                &lt;reportElement x=&quot;100&quot; y=&quot;0&quot; width=&quot;400&quot; height=&quot;20&quot;/&gt;\n                &lt;jr:list xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot; printOrder=&quot;Vertical&quot;&gt;\n                    &lt;datasetRun subDataset=&quot;dataset1&quot;&gt;\n                        &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{cities})]]&gt;&lt;/dataSourceExpression&gt;\n                    &lt;/datasetRun&gt;\n                    &lt;jr:listContents height=&quot;20&quot; width=&quot;400&quot;&gt;\n                        &lt;textField&gt;\n                            &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;20&quot;/&gt;\n                            &lt;box leftPadding=&quot;10&quot;&gt;\n                                &lt;topPen lineWidth=&quot;1.0&quot;/&gt;\n                                &lt;leftPen lineWidth=&quot;1.0&quot;/&gt;\n                                &lt;bottomPen lineWidth=&quot;1.0&quot;/&gt;\n                                &lt;rightPen lineWidth=&quot;1.0&quot;/&gt;\n                            &lt;/box&gt;\n                            &lt;textElement/&gt;\n                            &lt;textFieldExpression&gt;&lt;![CDATA[$F{city}]]&gt;&lt;/textFieldExpression&gt;\n                        &lt;/textField&gt;\n                    &lt;/jr:listContents&gt;\n                &lt;/jr:list&gt;\n            &lt;/componentElement&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n<p>The result will be:</p>\n<p><img src=\"https://i.stack.imgur.com/IngVf.png\" alt=\"The resulting report in PDF format\" /></p>\n<hr />\n<p>Other related questions are the <a href=\"https://stackoverflow.com/questions/1771864/how-do-i-print-a-list-of-strings-contained-within-another-list-in-ireport\">How do I print a list of strings contained within another list in iReport?</a> question and <a href=\"https://stackoverflow.com/q/11949333/876298\">Passing the List of primitive type objects as datasource for subreport</a> question.</p>\n"},{"tags":[],"owner":{"account_id":24008936,"reputation":1,"user_id":17992769,"display_name":"Aleksandar Sale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643097022,"creation_date":1642763888,"answer_id":70800423,"question_id":12209300,"body_markdown":"    public void generisiIzvestaj(HttpServletRequest request, HttpServletResponse response) throws Exception { \r\n    \t\t\r\n    \t\tList&lt;Predstava&gt; predstave = (List&lt;Predstava&gt;)request.getSession().getAttribute(&quot;predstaveR&quot;);\r\n    \t\r\n    \t\tJRBeanCollectionDataSource dataSource = new JRBeanCollectionDataSource(predstave);\r\n    \t\tInputStream inputStream = this.getClass().getResourceAsStream(&quot;/reports/Predstave.jrxml&quot;);\r\n    \t\tJasperReport jasperReport = JasperCompileManager.compileReport(inputStream);\r\n    \t\tMap&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();\r\n    \t\tJasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, params, dataSource);\r\n    \t\tinputStream.close();\r\n    \t\t\r\n    \t\tresponse.setContentType(&quot;application/x-download&quot;);\r\n    \t\tresponse.addHeader(&quot;Content-disposition&quot;, &quot;attachment; filename=PredstaveRezisera.pdf&quot;);\r\n    \t\tServletOutputStream out = response.getOutputStream();\r\n    \t\tJasperExportManager.exportReportToPdfStream(jasperPrint,out);","title":"JRBeanCollectionDataSource: How to show data from the java.util.List from JavaBean?","body":"<pre><code>public void generisiIzvestaj(HttpServletRequest request, HttpServletResponse response) throws Exception { \n        \n        List&lt;Predstava&gt; predstave = (List&lt;Predstava&gt;)request.getSession().getAttribute(&quot;predstaveR&quot;);\n    \n        JRBeanCollectionDataSource dataSource = new JRBeanCollectionDataSource(predstave);\n        InputStream inputStream = this.getClass().getResourceAsStream(&quot;/reports/Predstave.jrxml&quot;);\n        JasperReport jasperReport = JasperCompileManager.compileReport(inputStream);\n        Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();\n        JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, params, dataSource);\n        inputStream.close();\n        \n        response.setContentType(&quot;application/x-download&quot;);\n        response.addHeader(&quot;Content-disposition&quot;, &quot;attachment; filename=PredstaveRezisera.pdf&quot;);\n        ServletOutputStream out = response.getOutputStream();\n        JasperExportManager.exportReportToPdfStream(jasperPrint,out);\n</code></pre>\n"}],"owner":{"account_id":1792818,"reputation":293,"user_id":1632862,"accept_rate":25,"display_name":"Gaohongyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80868,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":12212427,"answer_count":2,"score":28,"last_activity_date":1643097022,"creation_date":1346390342,"question_id":12209300,"body_markdown":"My *JavaBean* contains the *java.util.List*.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Userinfo {\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \tList&lt;Address&gt; listAddress;\r\n    }\r\n\r\nHow to show the data of this *List* in the *Detail* band?","title":"JRBeanCollectionDataSource: How to show data from the java.util.List from JavaBean?","body":"<p>My <em>JavaBean</em> contains the <em>java.util.List</em>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Userinfo {\n    private String username;\n    private String password;\n    List&lt;Address&gt; listAddress;\n}\n</code></pre>\n\n<p>How to show the data of this <em>List</em> in the <em>Detail</em> band?</p>\n"},{"tags":["java","spring","spring-boot","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":108496,"reputation":13240,"user_id":287948,"accept_rate":64,"display_name":"Peter Krauss"},"score":0,"creation_date":1485454296,"post_id":41864288,"comment_id":70942295,"body_markdown":"An open question related to this, http://stackoverflow.com/q/41880120/287948","body":"An open question related to this, <a href=\"http://stackoverflow.com/q/41880120/287948\">stackoverflow.com/q/41880120/287948</a>"},{"owner":{"account_id":108496,"reputation":13240,"user_id":287948,"accept_rate":64,"display_name":"Peter Krauss"},"score":0,"creation_date":1485525332,"post_id":41864288,"comment_id":70973179,"body_markdown":".. And get a bounty [here](http://stackoverflow.com/q/41837546/287948)!","body":".. And get a bounty <a href=\"http://stackoverflow.com/q/41837546/287948\">here</a>!"}],"answers":[{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1485409677,"creation_date":1485409677,"answer_id":41867598,"question_id":41864288,"body_markdown":"There are [various ways how to bind stored procedures with Spring Data JPA][1] (using JPA 2.1). \r\n\r\nSimplest example:\r\n\r\n    @Procedure(&quot;random&quot;)\r\n    Integer randomStoredProcedure();\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/1.9.4.RELEASE/reference/html/#jpa.stored-procedures\r\n","title":"Call database function with Spring","body":"<p>There are <a href=\"http://docs.spring.io/spring-data/jpa/docs/1.9.4.RELEASE/reference/html/#jpa.stored-procedures\" rel=\"noreferrer\">various ways how to bind stored procedures with Spring Data JPA</a> (using JPA 2.1). </p>\n\n<p>Simplest example:</p>\n\n<pre><code>@Procedure(\"random\")\nInteger randomStoredProcedure();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7634558,"reputation":2008,"user_id":5788486,"display_name":"Shekhar Rai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643096765,"creation_date":1643096765,"answer_id":70845016,"question_id":41864288,"body_markdown":"In case, you don&#39;t have any Entity/DTO (non @Entity) objects and wondering how to map returned table from the function into your custom object. \r\n    \r\n    \r\n    @Repository\r\n    public class YourRepository {\r\n\r\n        private final EntityManager entityManager;\r\n\r\n        public(EntityManager entityManager) {\r\n            this.entityManager = entityManager;\r\n        }\r\n\r\n        public List&lt;YourObject&gt; findObjects() {\r\n            List&lt;Object[]&gt; columns = entityManager\r\n                    .createStoredProcedureQuery(&quot;your_sql_func&quot;)\r\n                    .getResultList();\r\n            return columns.stream().map(this::toYourObject).collect(Collectors.toList());\r\n        }\r\n\r\n        private YourObject toYourObject(Object[] columns) {\r\n            return new YourObject((int)columns[0], (String)columns[1]);\r\n        }\r\n\r\n    }\r\n\r\n    class YourObject {\r\n    \r\n        private int number;\r\n        private String name;\r\n        \r\n        public YourObject(int number, String name) {\r\n           this.number = number;\r\n           this.name = name;\r\n        }\r\n        // getters/setters or use Lombok\r\n    }\r\n\r\nIf you have any parameters in your function then your query should look like this,\r\n\r\n    List&lt;Object[]&gt; columns = entityManager\r\n         .createStoredProcedureQuery(&quot;your_sql_func&quot;)\r\n         .registerStoredProcedureParameter(&quot;param1Name&quot;, String.class, ParameterMode.IN)\r\n         .setParameter(&quot;param1Name&quot;, param1Value)\r\n         .getResultList();\r\n\r\nYou could use native query as well,\r\n\r\n    List&lt;Object[]&gt; columns = entityManager\r\n          .createNativeQuery(&quot;SELECT * FROM your_sql_func(:param1Name)&quot;)\r\n          .setParameter(&quot;param1Name&quot;, param1Value)\r\n          .getResultList();\r\n","title":"Call database function with Spring","body":"<p>In case, you don't have any Entity/DTO (non @Entity) objects and wondering how to map returned table from the function into your custom object.</p>\n<pre><code>@Repository\npublic class YourRepository {\n\n    private final EntityManager entityManager;\n\n    public(EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n\n    public List&lt;YourObject&gt; findObjects() {\n        List&lt;Object[]&gt; columns = entityManager\n                .createStoredProcedureQuery(&quot;your_sql_func&quot;)\n                .getResultList();\n        return columns.stream().map(this::toYourObject).collect(Collectors.toList());\n    }\n\n    private YourObject toYourObject(Object[] columns) {\n        return new YourObject((int)columns[0], (String)columns[1]);\n    }\n\n}\n\nclass YourObject {\n\n    private int number;\n    private String name;\n    \n    public YourObject(int number, String name) {\n       this.number = number;\n       this.name = name;\n    }\n    // getters/setters or use Lombok\n}\n</code></pre>\n<p>If you have any parameters in your function then your query should look like this,</p>\n<pre><code>List&lt;Object[]&gt; columns = entityManager\n     .createStoredProcedureQuery(&quot;your_sql_func&quot;)\n     .registerStoredProcedureParameter(&quot;param1Name&quot;, String.class, ParameterMode.IN)\n     .setParameter(&quot;param1Name&quot;, param1Value)\n     .getResultList();\n</code></pre>\n<p>You could use native query as well,</p>\n<pre><code>List&lt;Object[]&gt; columns = entityManager\n      .createNativeQuery(&quot;SELECT * FROM your_sql_func(:param1Name)&quot;)\n      .setParameter(&quot;param1Name&quot;, param1Value)\n      .getResultList();\n</code></pre>\n"}],"owner":{"account_id":108496,"reputation":13240,"user_id":287948,"accept_rate":64,"display_name":"Peter Krauss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643096765,"creation_date":1485391644,"question_id":41864288,"body_markdown":"I need to query a function of the database, by SQL, something so simple  as \r\n\r\n`@Query(&quot;SELECT random()&quot;)`  \r\n\r\nhow to implement a *domain/repository* or *service* method that do it? \r\n\r\n","title":"Call database function with Spring","body":"<p>I need to query a function of the database, by SQL, something so simple  as </p>\n\n<p><code>@Query(\"SELECT random()\")</code>  </p>\n\n<p>how to implement a <em>domain/repository</em> or <em>service</em> method that do it? </p>\n"},{"tags":["java","eclipse","maven"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643096563,"creation_date":1643096563,"answer_id":70844980,"question_id":70844210,"body_markdown":"I&#39;ve found this page\r\n\r\nhttps://projects.eclipse.org/projects/technology.higgins/downloads\r\n\r\nDownload link navigates to\r\n\r\nhttps://www.eclipse.org/projects/archives.php\r\n\r\nThe page info says:\r\n\r\n&gt; You are seeing this because the project you were looking for has been archived. When projects are archived their data(downloads, source and website), is collected into a single tar.gz file.\r\n\r\nSo, **this project is archived**, this because no download links are present for jars.\r\n\r\nI&#39;ve tried to find the `tar.gz` with the project sources, but there is no link on the UI.\r\n\r\nBut I&#39;ve tried to see how other links look and changed the project name to `higgins`.\r\n\r\nSo I&#39;ve found the working link\r\n\r\nhttp://archive.eclipse.org/archived_projects/higgins.tgz\r\n\r\nThe file is about 3GB, but potentially you are able to download it and build the latest version from sources (or the 1.0.1 jar is already in `higgins.tgz`).\r\n\r\nAfter you&#39;ll get the jar, you&#39;ll have to add it to some maven repository as a 3-rd party jar.\r\n\r\nhttps://www.google.com/amp/s/roufid.com/3-ways-to-add-local-jar-to-maven-project/amp/\r\n","title":"Where can I download org.eclipse.higgins:higgins:1.0.1","body":"<p>I've found this page</p>\n<p><a href=\"https://projects.eclipse.org/projects/technology.higgins/downloads\" rel=\"nofollow noreferrer\">https://projects.eclipse.org/projects/technology.higgins/downloads</a></p>\n<p>Download link navigates to</p>\n<p><a href=\"https://www.eclipse.org/projects/archives.php\" rel=\"nofollow noreferrer\">https://www.eclipse.org/projects/archives.php</a></p>\n<p>The page info says:</p>\n<blockquote>\n<p>You are seeing this because the project you were looking for has been archived. When projects are archived their data(downloads, source and website), is collected into a single tar.gz file.</p>\n</blockquote>\n<p>So, <strong>this project is archived</strong>, this because no download links are present for jars.</p>\n<p>I've tried to find the <code>tar.gz</code> with the project sources, but there is no link on the UI.</p>\n<p>But I've tried to see how other links look and changed the project name to <code>higgins</code>.</p>\n<p>So I've found the working link</p>\n<p><a href=\"http://archive.eclipse.org/archived_projects/higgins.tgz\" rel=\"nofollow noreferrer\">http://archive.eclipse.org/archived_projects/higgins.tgz</a></p>\n<p>The file is about 3GB, but potentially you are able to download it and build the latest version from sources (or the 1.0.1 jar is already in <code>higgins.tgz</code>).</p>\n<p>After you'll get the jar, you'll have to add it to some maven repository as a 3-rd party jar.</p>\n<p><a href=\"https://www.google.com/amp/s/roufid.com/3-ways-to-add-local-jar-to-maven-project/amp/\" rel=\"nofollow noreferrer\">https://www.google.com/amp/s/roufid.com/3-ways-to-add-local-jar-to-maven-project/amp/</a></p>\n"}],"owner":{"account_id":9153560,"reputation":126,"user_id":6807222,"display_name":"Nikunj Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70844980,"answer_count":1,"score":0,"last_activity_date":1643096563,"creation_date":1643091736,"question_id":70844210,"body_markdown":"I am trying to update our higgins dependency from 1.0.0 to 1.0.1. As 1.0.1 uses apache commons logging. \r\nI have the following dependency in our project \r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.higgins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;higgins&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\nThe above dependency comes from our private repository. Now I am looking for 1.0.1 so as to remove our dependency on log4j. But I am not able to find the 1.0.1 version of the above artifact.\r\n\r\nI found the following url that says that higgins 1.0.1 was released, but I am not able to find the jar.\r\nhttps://projects.eclipse.org/projects/technology.higgins/releases/1.0.1","title":"Where can I download org.eclipse.higgins:higgins:1.0.1","body":"<p>I am trying to update our higgins dependency from 1.0.0 to 1.0.1. As 1.0.1 uses apache commons logging.\nI have the following dependency in our project</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.higgins&lt;/groupId&gt;\n        &lt;artifactId&gt;higgins&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The above dependency comes from our private repository. Now I am looking for 1.0.1 so as to remove our dependency on log4j. But I am not able to find the 1.0.1 version of the above artifact.</p>\n<p>I found the following url that says that higgins 1.0.1 was released, but I am not able to find the jar.\n<a href=\"https://projects.eclipse.org/projects/technology.higgins/releases/1.0.1\" rel=\"nofollow noreferrer\">https://projects.eclipse.org/projects/technology.higgins/releases/1.0.1</a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643096630,"post_id":70844889,"comment_id":125242440,"body_markdown":"Can write which Env variables you have changed/adapted? You only need one the location in the PATH variable no other env variable is needed nor useful...","body":"Can write which Env variables you have changed/adapted? You only need one the location in the PATH variable no other env variable is needed nor useful..."},{"owner":{"account_id":9875097,"reputation":161,"user_id":7313173,"display_name":"Alex"},"score":0,"creation_date":1643096868,"post_id":70844889,"comment_id":125242516,"body_markdown":"There were M2_HOME and PATH. In both cases I just adapt 3.8.3 to 3.8.4. Then I have restartet cmd and the complete system","body":"There were M2_HOME and PATH. In both cases I just adapt 3.8.3 to 3.8.4. Then I have restartet cmd and the complete system"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643097218,"post_id":70844889,"comment_id":125242637,"body_markdown":"First I would suggest to remove `M2_HOME` because only the `C:/mypath/apache-maven-3.8.4/bin` is needed in your PATH. Second. Where have you downloaded apache Maven from? Have you checked the Hashes.. ? Can you check via `SET M` which variables are set in the console?","body":"First I would suggest to remove <code>M2_HOME</code> because only the <code>C:&#47;mypath&#47;apache-maven-3.8.4&#47;bin</code> is needed in your PATH. Second. Where have you downloaded apache Maven from? Have you checked the Hashes.. ? Can you check via <code>SET M</code> which variables are set in the console?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643097383,"post_id":70844889,"comment_id":125242705,"body_markdown":"Also first check only `mvn --version` ...and second show the project on which you have checked the execution in particular more of the output logging...because it looks like issues with plugins(old?)","body":"Also first check only <code>mvn --version</code> ...and second show the project on which you have checked the execution in particular more of the output logging...because it looks like issues with plugins(old?)"},{"owner":{"account_id":9875097,"reputation":161,"user_id":7313173,"display_name":"Alex"},"score":0,"creation_date":1643097493,"post_id":70844889,"comment_id":125242733,"body_markdown":"&quot;mvn -version&quot; works fine. It shows 3.8.4. The SHA512 is correct, I have downloaded it from the officiel maven homepage. If I adapt the env variable back to 3.8.3 everything works fine again.","body":"&quot;mvn -version&quot; works fine. It shows 3.8.4. The SHA512 is correct, I have downloaded it from the officiel maven homepage. If I adapt the env variable back to 3.8.3 everything works fine again."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643098986,"post_id":70844889,"comment_id":125243204,"body_markdown":"Ok please show more output of the build...because I suppose that&#39;s an issue with a plugin...","body":"Ok please show more output of the build...because I suppose that&#39;s an issue with a plugin..."},{"owner":{"account_id":7618818,"reputation":731,"user_id":5777388,"display_name":"Vicky Ajmera"},"score":1,"creation_date":1643104169,"post_id":70844889,"comment_id":125245214,"body_markdown":"You can try to remove .m2 folder and build it again. It may take time but it should fix the issue if there&#39;s any corrupted jar in your .m2 folder.\nIf you&#39;ve added maven-compiler-plugin to your pom.xml file, you should make sure that the property value for &lt;version&gt; should be 3.9.0 or at least 3.8.1.","body":"You can try to remove .m2 folder and build it again. It may take time but it should fix the issue if there&#39;s any corrupted jar in your .m2 folder. If you&#39;ve added maven-compiler-plugin to your pom.xml file, you should make sure that the property value for &lt;version&gt; should be 3.9.0 or at least 3.8.1."},{"owner":{"account_id":9875097,"reputation":161,"user_id":7313173,"display_name":"Alex"},"score":0,"creation_date":1644502856,"post_id":70844889,"comment_id":125628100,"body_markdown":"Sorry for the late response. Dont know why, but suddenly it seems to work. After I did a clean reinstall of Java, an removed the m2-dir. Maybe something stupid was cached and has blocked the package target.","body":"Sorry for the late response. Dont know why, but suddenly it seems to work. After I did a clean reinstall of Java, an removed the m2-dir. Maybe something stupid was cached and has blocked the package target."},{"owner":{"account_id":208843,"reputation":8250,"user_id":459579,"display_name":"ThomasRS"},"score":0,"creation_date":1672094081,"post_id":70844889,"comment_id":132220748,"body_markdown":"Deleting .m2 did not work. However `dnf remove maven*` + `dnf install maven` did","body":"Deleting .m2 did not work. However <code>dnf remove maven*</code> + <code>dnf install maven</code> did"}],"owner":{"account_id":9875097,"reputation":161,"user_id":7313173,"display_name":"Alex"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643096463,"creation_date":1643096148,"question_id":70844889,"body_markdown":"Until today I have used Maven 3.8.3. It worked fine.\r\n\r\nNow, I have downloaded and unzipped Maven 3.8.4 and adapt the environment variables to this new path.\r\nAfter restarting the console (and the complete system), &quot;mvn -version&quot; worked fine and shows the correct version of maven, but I am not able to build any project anymore.\r\n\r\nAfter calling &quot;mvn clean package&quot; I receive hundreds of exception stacks; the last lines are:\r\n\r\n```\r\n...\r\nconstituent[0]: file:/C:/mypath/apache-maven-3.8.4/conf/logging/\r\nconstituent[1]: file:/C:/mypath/apache-maven-3.8.4/lib/commons-cli-1.4.jar\r\nconstituent[2]: file:/C:/mypath/apache-maven-3.8.4/lib/commons-io-2.6.jar\r\nconstituent[3]: file:/C:/mypath/apache-maven-3.8.4/lib/commons-lang3-3.8.1.jar\r\nconstituent[4]: file:/C:/mypath/apache-maven-3.8.4/lib/guava-25.1-android.jar\r\nconstituent[5]: file:/C:/mypath/apache-maven-3.8.4/lib/guice-4.2.2-no_aop.jar\r\nconstituent[6]: file:/C:/mypath/apache-maven-3.8.4/lib/jansi-2.4.0.jar\r\nconstituent[7]: file:/C:/mypath/apache-maven-3.8.4/lib/javax.annotation-api-1.2.jar\r\nconstituent[8]: file:/C:/mypath/apache-maven-3.8.4/lib/javax.inject-1.jar\r\nconstituent[9]: file:/C:/mypath/apache-maven-3.8.4/lib/jcl-over-slf4j-1.7.32.jar\r\nconstituent[10]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-artifact-3.8.4.jar\r\nconstituent[11]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-builder-support-3.8.4.jar\r\nconstituent[12]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-compat-3.8.4.jar\r\nconstituent[13]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-core-3.8.4.jar\r\nconstituent[14]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-embedder-3.8.4.jar\r\nconstituent[15]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-model-3.8.4.jar\r\nconstituent[16]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-model-builder-3.8.4.jar\r\nconstituent[17]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-plugin-api-3.8.4.jar\r\nconstituent[18]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-repository-metadata-3.8.4.jar\r\nconstituent[19]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-resolver-api-1.6.3.jar\r\nconstituent[20]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-resolver-connector-basic-1.6.3.jar\r\nconstituent[21]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-resolver-impl-1.6.3.jar\r\nconstituent[22]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-resolver-provider-3.8.4.jar\r\nconstituent[23]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-resolver-spi-1.6.3.jar\r\nconstituent[24]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-resolver-transport-wagon-1.6.3.jar\r\nconstituent[25]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-settings-3.8.4.jar\r\nconstituent[26]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-settings-builder-3.8.4.jar\r\nconstituent[27]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-shared-utils-3.3.4.jar\r\nconstituent[28]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-slf4j-provider-3.8.4.jar\r\nconstituent[29]: file:/C:/mypath/apache-maven-3.8.4/lib/org.eclipse.sisu.inject-0.3.5.jar\r\nconstituent[30]: file:/C:/mypath/apache-maven-3.8.4/lib/org.eclipse.sisu.plexus-0.3.5.jar\r\nconstituent[31]: file:/C:/mypath/apache-maven-3.8.4/lib/plexus-cipher-2.0.jar\r\nconstituent[32]: file:/C:/mypath/apache-maven-3.8.4/lib/plexus-component-annotations-2.1.0.jar\r\nconstituent[33]: file:/C:/mypath/apache-maven-3.8.4/lib/plexus-interpolation-1.26.jar\r\nconstituent[34]: file:/C:/mypath/apache-maven-3.8.4/lib/plexus-sec-dispatcher-2.0.jar\r\nconstituent[35]: file:/C:/mypath/apache-maven-3.8.4/lib/plexus-utils-3.3.0.jar\r\nconstituent[36]: file:/C:/mypath/apache-maven-3.8.4/lib/slf4j-api-1.7.32.jar\r\nconstituent[37]: file:/C:/mypath/apache-maven-3.8.4/lib/wagon-file-3.4.3.jar\r\nconstituent[38]: file:/C:/mypath/apache-maven-3.8.4/lib/wagon-http-3.4.3-shaded.jar\r\nconstituent[39]: file:/C:/mypath/apache-maven-3.8.4/lib/wagon-provider-api-3.4.3.jar\r\n---------------------------------------------------\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/eclipse/aether/util/graph/visitor/PreorderNodeListGenerator\r\n        at java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n        at java.lang.Class.getDeclaredMethods(Class.java:1975)\r\n        at com.google.inject.spi.InjectionPoint.getDeclaredMethods(InjectionPoint.java:766)\r\n        at com.google.inject.spi.InjectionPoint.getInjectionPoints(InjectionPoint.java:683)\r\n        at com.google.inject.spi.InjectionPoint.forInstanceMethodsAndFields(InjectionPoint.java:378)\r\n        at com.google.inject.internal.ConstructorBindingImpl.getInternalDependencies(ConstructorBindingImpl.java:182)\r\n        at com.google.inject.internal.InjectorImpl.getInternalDependencies(InjectorImpl.java:661)\r\n        at com.google.inject.internal.InjectorImpl.cleanup(InjectorImpl.java:617)\r\n...\r\n        at org.apache.maven.cli.MavenCli.container(MavenCli.java:691)\r\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:286)\r\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\nCaused by: java.lang.ClassNotFoundException: org.eclipse.aether.util.graph.visitor.PreorderNodeListGenerator\r\n        at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n        ... 135 more\r\n```\r\n\r\nThe paths to 3.8.3 and 3.8.4 look exactly the same. The lib-directory including the jar-files inside of the maven directories exists in both cases. Can somebody give me any advice what I am doing wrong here?\r\n\r\nAdvice: I am not using &quot;eclipse&quot; as an IDE here, I try to build the project on cmd.\r\n\r\nI am using the following Java:\r\n```\r\nopenjdk version &quot;1.8.0_312&quot;\r\nOpenJDK Runtime Environment (Temurin)(build 1.8.0_312-b07)\r\nOpenJDK 64-Bit Server VM (Temurin)(build 25.312-b07, mixed mode)\r\n```\r\n","title":"Maven 3.8.4 target produces exception stacks","body":"<p>Until today I have used Maven 3.8.3. It worked fine.</p>\n<p>Now, I have downloaded and unzipped Maven 3.8.4 and adapt the environment variables to this new path.\nAfter restarting the console (and the complete system), &quot;mvn -version&quot; worked fine and shows the correct version of maven, but I am not able to build any project anymore.</p>\n<p>After calling &quot;mvn clean package&quot; I receive hundreds of exception stacks; the last lines are:</p>\n<pre><code>...\nconstituent[0]: file:/C:/mypath/apache-maven-3.8.4/conf/logging/\nconstituent[1]: file:/C:/mypath/apache-maven-3.8.4/lib/commons-cli-1.4.jar\nconstituent[2]: file:/C:/mypath/apache-maven-3.8.4/lib/commons-io-2.6.jar\nconstituent[3]: file:/C:/mypath/apache-maven-3.8.4/lib/commons-lang3-3.8.1.jar\nconstituent[4]: file:/C:/mypath/apache-maven-3.8.4/lib/guava-25.1-android.jar\nconstituent[5]: file:/C:/mypath/apache-maven-3.8.4/lib/guice-4.2.2-no_aop.jar\nconstituent[6]: file:/C:/mypath/apache-maven-3.8.4/lib/jansi-2.4.0.jar\nconstituent[7]: file:/C:/mypath/apache-maven-3.8.4/lib/javax.annotation-api-1.2.jar\nconstituent[8]: file:/C:/mypath/apache-maven-3.8.4/lib/javax.inject-1.jar\nconstituent[9]: file:/C:/mypath/apache-maven-3.8.4/lib/jcl-over-slf4j-1.7.32.jar\nconstituent[10]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-artifact-3.8.4.jar\nconstituent[11]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-builder-support-3.8.4.jar\nconstituent[12]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-compat-3.8.4.jar\nconstituent[13]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-core-3.8.4.jar\nconstituent[14]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-embedder-3.8.4.jar\nconstituent[15]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-model-3.8.4.jar\nconstituent[16]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-model-builder-3.8.4.jar\nconstituent[17]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-plugin-api-3.8.4.jar\nconstituent[18]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-repository-metadata-3.8.4.jar\nconstituent[19]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-resolver-api-1.6.3.jar\nconstituent[20]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-resolver-connector-basic-1.6.3.jar\nconstituent[21]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-resolver-impl-1.6.3.jar\nconstituent[22]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-resolver-provider-3.8.4.jar\nconstituent[23]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-resolver-spi-1.6.3.jar\nconstituent[24]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-resolver-transport-wagon-1.6.3.jar\nconstituent[25]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-settings-3.8.4.jar\nconstituent[26]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-settings-builder-3.8.4.jar\nconstituent[27]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-shared-utils-3.3.4.jar\nconstituent[28]: file:/C:/mypath/apache-maven-3.8.4/lib/maven-slf4j-provider-3.8.4.jar\nconstituent[29]: file:/C:/mypath/apache-maven-3.8.4/lib/org.eclipse.sisu.inject-0.3.5.jar\nconstituent[30]: file:/C:/mypath/apache-maven-3.8.4/lib/org.eclipse.sisu.plexus-0.3.5.jar\nconstituent[31]: file:/C:/mypath/apache-maven-3.8.4/lib/plexus-cipher-2.0.jar\nconstituent[32]: file:/C:/mypath/apache-maven-3.8.4/lib/plexus-component-annotations-2.1.0.jar\nconstituent[33]: file:/C:/mypath/apache-maven-3.8.4/lib/plexus-interpolation-1.26.jar\nconstituent[34]: file:/C:/mypath/apache-maven-3.8.4/lib/plexus-sec-dispatcher-2.0.jar\nconstituent[35]: file:/C:/mypath/apache-maven-3.8.4/lib/plexus-utils-3.3.0.jar\nconstituent[36]: file:/C:/mypath/apache-maven-3.8.4/lib/slf4j-api-1.7.32.jar\nconstituent[37]: file:/C:/mypath/apache-maven-3.8.4/lib/wagon-file-3.4.3.jar\nconstituent[38]: file:/C:/mypath/apache-maven-3.8.4/lib/wagon-http-3.4.3-shaded.jar\nconstituent[39]: file:/C:/mypath/apache-maven-3.8.4/lib/wagon-provider-api-3.4.3.jar\n---------------------------------------------------\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/eclipse/aether/util/graph/visitor/PreorderNodeListGenerator\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n        at java.lang.Class.getDeclaredMethods(Class.java:1975)\n        at com.google.inject.spi.InjectionPoint.getDeclaredMethods(InjectionPoint.java:766)\n        at com.google.inject.spi.InjectionPoint.getInjectionPoints(InjectionPoint.java:683)\n        at com.google.inject.spi.InjectionPoint.forInstanceMethodsAndFields(InjectionPoint.java:378)\n        at com.google.inject.internal.ConstructorBindingImpl.getInternalDependencies(ConstructorBindingImpl.java:182)\n        at com.google.inject.internal.InjectorImpl.getInternalDependencies(InjectorImpl.java:661)\n        at com.google.inject.internal.InjectorImpl.cleanup(InjectorImpl.java:617)\n...\n        at org.apache.maven.cli.MavenCli.container(MavenCli.java:691)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:286)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.aether.util.graph.visitor.PreorderNodeListGenerator\n        at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n        ... 135 more\n</code></pre>\n<p>The paths to 3.8.3 and 3.8.4 look exactly the same. The lib-directory including the jar-files inside of the maven directories exists in both cases. Can somebody give me any advice what I am doing wrong here?</p>\n<p>Advice: I am not using &quot;eclipse&quot; as an IDE here, I try to build the project on cmd.</p>\n<p>I am using the following Java:</p>\n<pre><code>openjdk version &quot;1.8.0_312&quot;\nOpenJDK Runtime Environment (Temurin)(build 1.8.0_312-b07)\nOpenJDK 64-Bit Server VM (Temurin)(build 25.312-b07, mixed mode)\n</code></pre>\n"},{"tags":["java","shell","cpu","pipeline"],"owner":{"account_id":18043827,"reputation":11,"user_id":18025246,"display_name":"djshin1015"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643095932,"creation_date":1643095932,"question_id":70844852,"body_markdown":"```\r\nthreads=36\r\ntask() {\r\n\t    NEWNAME=&quot;${1/%.norm.vcf.gz/.snv.indel.vcf.gz}&quot;\r\n\t    java -Xmx8g -jar /home/ubuntu/snpEff/SnpSift.jar annotate /home/ubuntu/data/spliceai_scores.raw.snv.hg19.vcf.gz $1 | java -Xmx8g -jar /home/ubuntu/snpEff/SnpSift.jar annotate /home/ubuntu/data/spliceai_scores.raw.indel.hg19.vcf.gz &gt; $NEWNAME1\r\n\t}\r\n\r\nfor file in $(ls *norm.vcf.gz)\r\ndo\r\n\tif [ $(jobs -r | wc -l) -ge $threads ]; then\r\n\t\t    wait $(jobs -r -p | head -1)\r\n\tfi\r\n\ttask &quot;$file&quot; &amp;\r\ndone\r\nwait\r\n```\r\nI am now learning NGS pipeline and I would like to annotate two DBs(snv,indel) using SnpSift. Currently I am using 36 threads CPU. Since there are two commands in task() function, annotate snv and indel, will my code wait $(jobs -r -p | head -1) work fine?\r\nAre there any other recommendations to use CPU efficiently?\r\n","title":"Will this NGS data annotation code pipeline work?","body":"<pre><code>threads=36\ntask() {\n        NEWNAME=&quot;${1/%.norm.vcf.gz/.snv.indel.vcf.gz}&quot;\n        java -Xmx8g -jar /home/ubuntu/snpEff/SnpSift.jar annotate /home/ubuntu/data/spliceai_scores.raw.snv.hg19.vcf.gz $1 | java -Xmx8g -jar /home/ubuntu/snpEff/SnpSift.jar annotate /home/ubuntu/data/spliceai_scores.raw.indel.hg19.vcf.gz &gt; $NEWNAME1\n    }\n\nfor file in $(ls *norm.vcf.gz)\ndo\n    if [ $(jobs -r | wc -l) -ge $threads ]; then\n            wait $(jobs -r -p | head -1)\n    fi\n    task &quot;$file&quot; &amp;\ndone\nwait\n</code></pre>\n<p>I am now learning NGS pipeline and I would like to annotate two DBs(snv,indel) using SnpSift. Currently I am using 36 threads CPU. Since there are two commands in task() function, annotate snv and indel, will my code wait $(jobs -r -p | head -1) work fine?\nAre there any other recommendations to use CPU efficiently?</p>\n"},{"tags":["java","jnlp","multiple-versions"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1417172545,"post_id":27186899,"comment_id":42861075,"body_markdown":"For your client (&quot;desktop&quot;) application you don&#39;t really need a Java 1.5 runtime &quot;installed&quot; - you can just copy/paste for example a JDK installation folder somewhere and otherwise completely uninstall it such that it disappears from any control panel and registry - and then boot the desktop application directly using the javaw.exe executable of the Java 5 JDK you copy/pasted somewhere.","body":"For your client (&quot;desktop&quot;) application you don&#39;t really need a Java 1.5 runtime &quot;installed&quot; - you can just copy/paste for example a JDK installation folder somewhere and otherwise completely uninstall it such that it disappears from any control panel and registry - and then boot the desktop application directly using the javaw.exe executable of the Java 5 JDK you copy/pasted somewhere."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1417172653,"post_id":27186899,"comment_id":42861132,"body_markdown":"Java applications can use the java.exe/javaw from any installed Java directory. So a batch file should have worked. You could for instance install Java 8 on some PC, copy its directory to the target computer, and use that java to start a pure java 8 app.","body":"Java applications can use the java.exe/javaw from any installed Java directory. So a batch file should have worked. You could for instance install Java 8 on some PC, copy its directory to the target computer, and use that java to start a pure java 8 app."},{"owner":{"account_id":3009107,"reputation":55,"user_id":2552976,"accept_rate":86,"display_name":"raysefo"},"score":0,"creation_date":1417172795,"post_id":27186899,"comment_id":42861207,"body_markdown":"Hi Gimby, thanks for your comment. I will definetly try and let you know.","body":"Hi Gimby, thanks for your comment. I will definetly try and let you know."},{"owner":{"account_id":3009107,"reputation":55,"user_id":2552976,"accept_rate":86,"display_name":"raysefo"},"score":0,"creation_date":1417172935,"post_id":27186899,"comment_id":42861281,"body_markdown":"Hello Joop Eggen, so what you trying to say is I do NOT need to install 1.5 on my PC? Just copy the specific java folder on the PC and install 1.7 to run properly?","body":"Hello Joop Eggen, so what you trying to say is I do NOT need to install 1.5 on my PC? Just copy the specific java folder on the PC and install 1.7 to run properly?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1417221399,"post_id":27186899,"comment_id":42880009,"body_markdown":"*&quot;desktop java app requires 1.5.0_14&quot;*  I Actually thought Oracle had dropped support for using an earlier version of Java, and especially one that is obsolete and might contain known security bugs.  Try running the `1.5.0_14` app. in a modern JRE and see what breaks..","body":"<i>&quot;desktop java app requires 1.5.0_14&quot;</i>  I Actually thought Oracle had dropped support for using an earlier version of Java, and especially one that is obsolete and might contain known security bugs.  Try running the <code>1.5.0_14</code> app. in a modern JRE and see what breaks.."},{"owner":{"account_id":3009107,"reputation":55,"user_id":2552976,"accept_rate":86,"display_name":"raysefo"},"score":0,"creation_date":1417444003,"post_id":27186899,"comment_id":42937837,"body_markdown":"Hi Gimby, I tried to uninstall jre 1.5 but somehow it still remains under Java Control Panel settings. How can I totally get rid of this jre 1.5?","body":"Hi Gimby, I tried to uninstall jre 1.5 but somehow it still remains under Java Control Panel settings. How can I totally get rid of this jre 1.5?"},{"owner":{"account_id":3009107,"reputation":55,"user_id":2552976,"accept_rate":86,"display_name":"raysefo"},"score":0,"creation_date":1418052896,"post_id":27186899,"comment_id":43174766,"body_markdown":"@Gimby, I installed jre1.7 than jre1.5 and copy this folder somewhere. Than I uninstalled this jre1.5 but in java control panel it displays the copied jre1.5 folder. How can I fix this?","body":"@Gimby, I installed jre1.7 than jre1.5 and copy this folder somewhere. Than I uninstalled this jre1.5 but in java control panel it displays the copied jre1.5 folder. How can I fix this?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1418113609,"post_id":27186899,"comment_id":43198976,"body_markdown":"I have no idea, I don&#39;t know what you exactly did and I am not an Oracle support employee.","body":"I have no idea, I don&#39;t know what you exactly did and I am not an Oracle support employee."},{"owner":{"account_id":3009107,"reputation":55,"user_id":2552976,"accept_rate":86,"display_name":"raysefo"},"score":0,"creation_date":1499156984,"post_id":27186899,"comment_id":76778976,"body_markdown":"Here is the answer. https://stackoverflow.com/questions/27382032/how-to-force-to-open-jnlp-file-in-java-1-5-0-14-jre-instead-of-jre-1-7","body":"Here is the answer. <a href=\"https://stackoverflow.com/questions/27382032/how-to-force-to-open-jnlp-file-in-java-1-5-0-14-jre-instead-of-jre-1-7\" title=\"how to force to open jnlp file in java 1 5 0 14 jre instead of jre 1 7\">stackoverflow.com/questions/27382032/&hellip;</a>"}],"owner":{"account_id":3009107,"reputation":55,"user_id":2552976,"accept_rate":86,"display_name":"raysefo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643095870,"creation_date":1417171200,"question_id":27186899,"body_markdown":"I have 2 different apps, one of them is a `java desktop app` and the other one is a `c# web app`. which uses `java applet` in order to e-sign. The problem is `desktop java app requires 1.5.0_14 and on the other hand web app. requires 1.7` and higher version of java.\r\n \r\nI installed both `java 1.5` and `1.7` versions on my PC. In order to run desktop java app., I go to `C:\\Progra~2\\Java\\jre1.5.0_14\\bin` and run `javacpl` to **disable 1.7 and enable 1.5**. Then I make a shortcut to `javaws 1.5.0_14` to my desktop and add the jnlp of this java app (`http://abc/appclient/tt.jnlp`) to the target of javaws shortcut. After those settings, the java desktop app. runs.\r\n \r\nNow I needed to also run the web app which requires **1.7 java.** In order to run this app. properly **Java 1.5 should be disabled, 1.7 enabled on the Java Control Panel settings**. **Problem is when you run this web app. the settings for 1.5.0_14 break down,** I mean **all of the java versions become enabled in javacpl under `C:\\Progra~2\\Java\\jre1.5.0_14\\bin directory`**. If I restart my PC, I need to reset the java versions. **Is there a way to make this happen without pain in the head**?\r\n \r\nI would be so glad if you can help me.\r\n \r\nBy the way, **I tried to use batch files, etc. but did not succeed**. Is there a permanent solution?\r\n\r\n**UPDATED:**\r\nHere is how I did it back then.\r\n\r\nHere is what I do to solve my issue;\r\n\r\n        Uninstall the older Java -if there is- (in my case it is 1.5.0_14 )\r\n        install java equal/higher than 1.7 just to run e-sign on my web application\r\n    \r\n        I prepared a VBScript in order to just run the desired jre version as follows and put jre1.5.0_14, jnlp file and VBScript on the same folder and make shortcut to the VBScript to run.\r\n    \r\n        Set oShell = WScript.CreateObject(&quot;WSCript.shell&quot;) oShell.run &quot;%comspec% /c D:\\TMS\\jre1.5.0_14\\bin\\javaws.exe D:\\TMS\\tt.jnlp -verbose&quot;, 1, True\r\n    \r\n    Set oShell = Nothing\r\n\r\n \r\nBest Regards.\r\n \r\nThanks in advance.","title":"How to set different java versions for different apps. on a windows PC?","body":"<p>I have 2 different apps, one of them is a <code>java desktop app</code> and the other one is a <code>c# web app</code>. which uses <code>java applet</code> in order to e-sign. The problem is <code>desktop java app requires 1.5.0_14 and on the other hand web app. requires 1.7</code> and higher version of java.</p>\n<p>I installed both <code>java 1.5</code> and <code>1.7</code> versions on my PC. In order to run desktop java app., I go to <code>C:\\Progra~2\\Java\\jre1.5.0_14\\bin</code> and run <code>javacpl</code> to <strong>disable 1.7 and enable 1.5</strong>. Then I make a shortcut to <code>javaws 1.5.0_14</code> to my desktop and add the jnlp of this java app (<code>http://abc/appclient/tt.jnlp</code>) to the target of javaws shortcut. After those settings, the java desktop app. runs.</p>\n<p>Now I needed to also run the web app which requires <strong>1.7 java.</strong> In order to run this app. properly <strong>Java 1.5 should be disabled, 1.7 enabled on the Java Control Panel settings</strong>. <strong>Problem is when you run this web app. the settings for 1.5.0_14 break down,</strong> I mean <strong>all of the java versions become enabled in javacpl under <code>C:\\Progra~2\\Java\\jre1.5.0_14\\bin directory</code></strong>. If I restart my PC, I need to reset the java versions. <strong>Is there a way to make this happen without pain in the head</strong>?</p>\n<p>I would be so glad if you can help me.</p>\n<p>By the way, <strong>I tried to use batch files, etc. but did not succeed</strong>. Is there a permanent solution?</p>\n<p><strong>UPDATED:</strong>\nHere is how I did it back then.</p>\n<p>Here is what I do to solve my issue;</p>\n<pre><code>    Uninstall the older Java -if there is- (in my case it is 1.5.0_14 )\n    install java equal/higher than 1.7 just to run e-sign on my web application\n\n    I prepared a VBScript in order to just run the desired jre version as follows and put jre1.5.0_14, jnlp file and VBScript on the same folder and make shortcut to the VBScript to run.\n\n    Set oShell = WScript.CreateObject(&quot;WSCript.shell&quot;) oShell.run &quot;%comspec% /c D:\\TMS\\jre1.5.0_14\\bin\\javaws.exe D:\\TMS\\tt.jnlp -verbose&quot;, 1, True\n\nSet oShell = Nothing\n</code></pre>\n<p>Best Regards.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","javafx"],"owner":{"account_id":19104013,"reputation":88,"user_id":13951592,"display_name":"Himu21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1643070252,"answer_count":0,"score":1,"last_activity_date":1643095484,"creation_date":1643069644,"question_id":70841992,"body_markdown":"My target is to build a Window in Javafx where there are three buttons and a label. \r\n\r\n 1. Two buttons(1,2) on the left side will have 12px between them\r\n 2. Third button(3) will be on the right side of the window\r\n 3. And Lable will be the center of Button No. 2 and 3 (The text should be centered regardless of the window size)\r\n\r\nThis will be the expected output - [![Expected Output][1]][1]\r\n\r\n\r\nMy Code--\r\n\r\n     public void start(Stage stage) throws Exception {\r\n\r\n        stage.setTitle(&quot;Advent Calender&quot;);\r\n\r\n        Button button1 = new Button(&quot;Cheat&quot;);\r\n        Button button2 = new Button(&quot;Regret&quot;);\r\n        Button button3 = new Button(&quot;About&quot;);\r\n\r\n\r\n        Label label = new Label(&quot;Placeholder for calendar&quot;);\r\n        Label label1 = new Label(&quot;Advent Calendar 0.1 Alpha&quot;);\r\n\r\n        HBox hbox1 = new HBox(button1,button2);\r\n\r\n        HBox hbox2 = new HBox(label1);\r\n        HBox hbox3 = new HBox(button3);\r\n\r\n        hbox1.setSpacing(12);\r\n        hbox1.setAlignment(Pos.BASELINE_LEFT);\r\n\r\n        hbox2.setAlignment(Pos.BASELINE_LEFT);\r\n\r\n        hbox3.setAlignment(Pos.BASELINE_RIGHT);\r\n\r\n  \r\n        StackPane layout = new StackPane();\r\n        layout.getChildren().addAll(label,hbox1,hbox2,hbox3);\r\n        \r\n\r\n\r\n        Scene scene = new Scene(layout, 600, 800);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n    }\r\n\r\n&gt; I was able to fulfill the first and 2nd condition however third one is the problem, when resizing the window label overlapping button (1,2)\r\n\r\n  [1]: https://i.stack.imgur.com/yXQek.png","title":"Set Space between elements in JavaFX (Responsive window)","body":"<p>My target is to build a Window in Javafx where there are three buttons and a label.</p>\n<ol>\n<li>Two buttons(1,2) on the left side will have 12px between them</li>\n<li>Third button(3) will be on the right side of the window</li>\n<li>And Lable will be the center of Button No. 2 and 3 (The text should be centered regardless of the window size)</li>\n</ol>\n<p>This will be the expected output - <a href=\"https://i.stack.imgur.com/yXQek.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yXQek.png\" alt=\"Expected Output\" /></a></p>\n<p>My Code--</p>\n<pre><code> public void start(Stage stage) throws Exception {\n\n    stage.setTitle(&quot;Advent Calender&quot;);\n\n    Button button1 = new Button(&quot;Cheat&quot;);\n    Button button2 = new Button(&quot;Regret&quot;);\n    Button button3 = new Button(&quot;About&quot;);\n\n\n    Label label = new Label(&quot;Placeholder for calendar&quot;);\n    Label label1 = new Label(&quot;Advent Calendar 0.1 Alpha&quot;);\n\n    HBox hbox1 = new HBox(button1,button2);\n\n    HBox hbox2 = new HBox(label1);\n    HBox hbox3 = new HBox(button3);\n\n    hbox1.setSpacing(12);\n    hbox1.setAlignment(Pos.BASELINE_LEFT);\n\n    hbox2.setAlignment(Pos.BASELINE_LEFT);\n\n    hbox3.setAlignment(Pos.BASELINE_RIGHT);\n\n\n    StackPane layout = new StackPane();\n    layout.getChildren().addAll(label,hbox1,hbox2,hbox3);\n    \n\n\n    Scene scene = new Scene(layout, 600, 800);\n    stage.setScene(scene);\n    stage.show();\n\n}\n</code></pre>\n<blockquote>\n<p>I was able to fulfill the first and 2nd condition however third one is the problem, when resizing the window label overlapping button (1,2)</p>\n</blockquote>\n"},{"tags":["java","indexoutofboundsexception"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1643089796,"post_id":70843949,"comment_id":125240925,"body_markdown":"With `for(int k : arr)`, `k` is already the element of the array, not the index. Don&#39;t print `arr[k]`, just print `k`.","body":"With <code>for(int k : arr)</code>, <code>k</code> is already the element of the array, not the index. Don&#39;t print <code>arr[k]</code>, just print <code>k</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1643089858,"post_id":70843949,"comment_id":125240935,"body_markdown":"Step through your code with the debugger, or print the values before you use them as an index.","body":"Step through your code with the debugger, or print the values before you use them as an index."}],"answers":[{"tags":[],"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643092472,"creation_date":1643092472,"answer_id":70844320,"question_id":70843949,"body_markdown":"Your getMarks function is reading an integer out of the array and then trying to go to the position in the array indicated by that integer. If your array has one element and is `{ 100 }`, the code inside your loop will try to print the 100th (really 101st because the index starts at 0) element in your array.\n\nThe following code should fix the issue:\n\n    void getMarks()\n    {\n        for(int k : arr) {\n            System.out.println(k);\n        }\n    }","title":"Why is this piece of code giving index out of bound error?","body":"<p>Your getMarks function is reading an integer out of the array and then trying to go to the position in the array indicated by that integer. If your array has one element and is <code>{ 100 }</code>, the code inside your loop will try to print the 100th (really 101st because the index starts at 0) element in your array.</p>\n<p>The following code should fix the issue:</p>\n<pre><code>void getMarks()\n{\n    for(int k : arr) {\n        System.out.println(k);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23996479,"reputation":139,"user_id":17981941,"display_name":"Dhanraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643094657,"creation_date":1643094657,"answer_id":70844644,"question_id":70843949,"body_markdown":"Also, your setMarks method would set data to only the 0th index. Because &quot;j&quot; points to the value and not to the index.\r\nyou might have to refactor you setMarks method like the below - \r\n\r\nint pos = 0;\r\n\r\nfor(int j:arr){\r\n\r\n   arr[pos] = sc.nextInt();\r\n\r\n   pos++;\r\n\r\n}\r\n\r\nor better use the normal for loop.","title":"Why is this piece of code giving index out of bound error?","body":"<p>Also, your setMarks method would set data to only the 0th index. Because &quot;j&quot; points to the value and not to the index.\nyou might have to refactor you setMarks method like the below -</p>\n<p>int pos = 0;</p>\n<p>for(int j:arr){</p>\n<p>arr[pos] = sc.nextInt();</p>\n<p>pos++;</p>\n<p>}</p>\n<p>or better use the normal for loop.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643095308,"creation_date":1643095308,"answer_id":70844743,"question_id":70843949,"body_markdown":"You use `for` loop incorrectly. It has two ways to use.\r\n\r\nFirst way\r\n```java\r\nint[] arr = new arr[10];\r\n\r\nfor(int i = 0; i &lt; arr.length; i++)\r\n    arr[i] = 1;\r\n```\r\n\r\nThis will set `1` to all elements.\r\n\r\nJust why `99%` of all usage of `for` loop just iterates over an array, there is the second way.\r\n```java\r\nint[] arr = { 1,2,3 };\r\n\r\nfor(int a : arr)\r\n    System.out.print(a);    // print 123\r\n\r\n// i.e. the same\r\n\r\nfor(int i = 0; i &lt; arr.length; i++)\r\n    System.out.print(arr[i]);\r\n```\r\nNote, that this way you can use **only** to **read** element from array from first to last elements.\r\n\r\nSo, you should change your code to:\r\n```java\r\npublic class ForEach {\r\n    Scanner sc = new Scanner(System.in);\r\n    int[] arr = new int[5];\r\n\r\n    void setMarks() {\r\n        for(int i = 0; i &lt; arr.length; i++)\r\n            arr[i] = sc.nextInt();\r\n    }\r\n\r\n    void getMarks() {\r\n        for(int a : arr)\r\n            System.out.println(a);\r\n    }\r\n    \r\n    public static void main(String[] args)\r\n    {\r\n        System.out.println(&quot;Enter the marks of 5 subjects : &quot;);\r\n        ForEach fe = new ForEach();\r\n        fe.setMarks();\r\n        System.out.println(fe.arr.length);\r\n        fe.getMarks();\r\n    }\r\n}\r\n```","title":"Why is this piece of code giving index out of bound error?","body":"<p>You use <code>for</code> loop incorrectly. It has two ways to use.</p>\n<p>First way</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] arr = new arr[10];\n\nfor(int i = 0; i &lt; arr.length; i++)\n    arr[i] = 1;\n</code></pre>\n<p>This will set <code>1</code> to all elements.</p>\n<p>Just why <code>99%</code> of all usage of <code>for</code> loop just iterates over an array, there is the second way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] arr = { 1,2,3 };\n\nfor(int a : arr)\n    System.out.print(a);    // print 123\n\n// i.e. the same\n\nfor(int i = 0; i &lt; arr.length; i++)\n    System.out.print(arr[i]);\n</code></pre>\n<p>Note, that this way you can use <strong>only</strong> to <strong>read</strong> element from array from first to last elements.</p>\n<p>So, you should change your code to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ForEach {\n    Scanner sc = new Scanner(System.in);\n    int[] arr = new int[5];\n\n    void setMarks() {\n        for(int i = 0; i &lt; arr.length; i++)\n            arr[i] = sc.nextInt();\n    }\n\n    void getMarks() {\n        for(int a : arr)\n            System.out.println(a);\n    }\n    \n    public static void main(String[] args)\n    {\n        System.out.println(&quot;Enter the marks of 5 subjects : &quot;);\n        ForEach fe = new ForEach();\n        fe.setMarks();\n        System.out.println(fe.arr.length);\n        fe.getMarks();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23986700,"reputation":9,"user_id":17973427,"display_name":"kay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1643095416,"creation_date":1643089690,"question_id":70843949,"body_markdown":"```java\r\npublic class ForEach {\r\n\tScanner sc = new Scanner(System.in);\r\n\tint[] arr = new int[5];\r\n\r\n\tvoid setMarks()\r\n\t{\r\n\t\tfor(int j : arr)\r\n        {\r\n\t\t\tarr[j] = sc.nextInt();\r\n\t\t}\r\n\t}\r\n\r\n\tvoid getMarks()\r\n\t{\r\n\t\tfor(int k : arr)\r\n        {\r\n\t\t\tSystem.out.println(arr[k]);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tSystem.out.println(&quot;Enter the marks of 5 subjects : &quot;);\r\n\t\tForEach fe = new ForEach();\r\n\t\tfe.setMarks();\r\n\t\tSystem.out.println(fe.arr.length);\r\n\t\tfe.getMarks();\r\n\t}\r\n}\r\n```\r\nI am just trying to input marks of 5 subjects and display it on the screen. I got this error\r\n```none\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 5 out of bounds for length 5\r\n\tat ForEach.getMarks(ForEach.java:17)\r\n\tat ForEach.main(ForEach.java:27)\r\n```\r\n","title":"Why is this piece of code giving index out of bound error?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class ForEach {\n    Scanner sc = new Scanner(System.in);\n    int[] arr = new int[5];\n\n    void setMarks()\n    {\n        for(int j : arr)\n        {\n            arr[j] = sc.nextInt();\n        }\n    }\n\n    void getMarks()\n    {\n        for(int k : arr)\n        {\n            System.out.println(arr[k]);\n        }\n    }\n    \n    public static void main(String[] args)\n    {\n        System.out.println(&quot;Enter the marks of 5 subjects : &quot;);\n        ForEach fe = new ForEach();\n        fe.setMarks();\n        System.out.println(fe.arr.length);\n        fe.getMarks();\n    }\n}\n</code></pre>\n<p>I am just trying to input marks of 5 subjects and display it on the screen. I got this error</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 5 out of bounds for length 5\n    at ForEach.getMarks(ForEach.java:17)\n    at ForEach.main(ForEach.java:27)\n</code></pre>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1643094691,"post_id":70844409,"comment_id":125241921,"body_markdown":"And your question is what exactly? And whats unclear to you?","body":"And your question is what exactly? And whats unclear to you?"},{"owner":{"account_id":21344635,"reputation":87,"user_id":15714815,"display_name":"Koret"},"score":0,"creation_date":1643095340,"post_id":70844409,"comment_id":125242094,"body_markdown":"So my question is , using java how can you solve it. If any java 8 feature or collection feature which I can use ?","body":"So my question is , using java how can you solve it. If any java 8 feature or collection feature which I can use ?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1643095623,"post_id":70844409,"comment_id":125242177,"body_markdown":"When asking such questions on SO, you are required to provide a lot of detail on what you already tried, narrowing down the section that ur actually unclear with. You have to provide your code attempts and explain it in depth. Please read the rules. This website requires a great effort on asking a question well (and also on answering them well).","body":"When asking such questions on SO, you are required to provide a lot of detail on what you already tried, narrowing down the section that ur actually unclear with. You have to provide your code attempts and explain it in depth. Please read the rules. This website requires a great effort on asking a question well (and also on answering them well)."}],"owner":{"account_id":21344635,"reputation":87,"user_id":15714815,"display_name":"Koret"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1643094667,"answer_count":0,"score":2,"last_activity_date":1643095304,"creation_date":1643093136,"question_id":70844409,"body_markdown":"I was asked this question in an interview but was not able to give efficient solution.\r\n\r\nGiven an employee class\r\n\r\n    public class Employee {\r\n        int e_id;\r\n        int manager_id;\r\n        String designation;\r\n    }\r\n\r\nInput will have list of employees like CEO,MD,ED,VP,Manager,Associate in any order.\r\nMy task was : Given an id of employee, I need to print levels above and below it in sorted order.\r\nCEO will have emp_id and manager_id same.\r\n\r\nSo I have given id of VP [568,33,VP] then I should print \r\n\r\n    Above levels : \r\n    [1,1,CEO]\r\n    [222,1,MD]\r\n    [33,222,ED]\r\n    \r\n    Below levels :\r\n    [435,568,Manager]\r\n    [987,435,Assocaite]\r\n\r\nSo my question is , using java how can you solve it.\r\nIf any java 8 feature or collection feature which I can use ?","title":"Print employee hierarchy in java","body":"<p>I was asked this question in an interview but was not able to give efficient solution.</p>\n<p>Given an employee class</p>\n<pre><code>public class Employee {\n    int e_id;\n    int manager_id;\n    String designation;\n}\n</code></pre>\n<p>Input will have list of employees like CEO,MD,ED,VP,Manager,Associate in any order.\nMy task was : Given an id of employee, I need to print levels above and below it in sorted order.\nCEO will have emp_id and manager_id same.</p>\n<p>So I have given id of VP [568,33,VP] then I should print</p>\n<pre><code>Above levels : \n[1,1,CEO]\n[222,1,MD]\n[33,222,ED]\n\nBelow levels :\n[435,568,Manager]\n[987,435,Assocaite]\n</code></pre>\n<p>So my question is , using java how can you solve it.\nIf any java 8 feature or collection feature which I can use ?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","jwt"],"answers":[{"tags":[],"owner":{"account_id":4543305,"reputation":27,"user_id":3690560,"display_name":"gtrev"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1643093321,"creation_date":1643093321,"answer_id":70844434,"question_id":70844292,"body_markdown":"Try change the secret value in method configure of AuthorizationServer. I think you have an extra &#39;c&#39; character. ","title":"Getting Invalid access token","body":"<p>Try change the secret value in method configure of AuthorizationServer. I think you have an extra 'c' character.</p>\n"}],"owner":{"account_id":11408346,"reputation":370,"user_id":8363203,"display_name":"vishal s."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643095199,"creation_date":1643092296,"question_id":70844292,"body_markdown":"I have one rest api and i&#39;m trying to generate token for same.\r\nwhen i call validateUser it is providing one proper token but when i call my api, it is giving an error of Invalid access token\r\n\r\nthis is my authserver main class :\r\n\r\n    import java.security.Principal;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @EnableResourceServer\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \r\n    \t@RequestMapping(&quot;/validateUser&quot;)\r\n    \tpublic Principal user(Principal user) {\r\n    \t\treturn user;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nHere i have provided all config Adaptor implementation :\r\n\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.oauth2.config.annotation.configurers.ClientDetailsServiceConfigurer;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerConfigurerAdapter;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.EnableAuthorizationServer;\r\n    import org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer;\r\n    import org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerSecurityConfigurer;\r\n    \r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    public class AuthorizationServer extends AuthorizationServerConfigurerAdapter {\r\n    \r\n    \t@Autowired\r\n    \tprivate AuthenticationManager authenticationManager;\r\n    \r\n    \t@Override\r\n    \tpublic void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n    \t\tendpoints.authenticationManager(authenticationManager);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(AuthorizationServerSecurityConfigurer security) throws Exception {     \r\n    \t    security.allowFormAuthenticationForClients().checkTokenAccess(&quot;permitAll()&quot;);       \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n    \t\tclients.inMemory().withClient(&quot;ABC_XYZ&quot;).secret(&quot;ABC_XYZ_1357&quot;)\r\n    \t\t\t\t.accessTokenValiditySeconds(3600)\r\n    \t\t\t\t.refreshTokenValiditySeconds(3600)\r\n    \t\t\t\t.authorizedGrantTypes(&quot;client_credentials&quot;,&quot;authorization_code&quot;, &quot;refresh_token&quot;, &quot;password&quot;).scopes(&quot;read&quot;, &quot;write&quot;);\r\n    \r\n    \t}\r\n    }\r\n\r\n&gt; in application.properties file i have declared port as 8086 for this authorisation server \r\n\r\nNow in Resource project I have added url for server in Application.properties file as below \r\n\r\n    security.oauth2.resource.userInfoUri=http://localhost:8086/validateUser\r\n\r\nthis one is my sample API which i want to call :\r\n\r\n    @RestController\r\n    public class TrueUpController {\r\n    \r\n    \r\n    \t@RequestMapping(value = &quot;/saveData&quot;,method=RequestMethod.POST)\r\n    \tpublic String executeProcedure(@RequestBody Request request) {\r\n    \t\t\r\n    \t\treturn &quot;Success&quot;;\r\n    \t\t}\r\n    \t}\r\n\r\nWhen i call validateUser for tokan i&#39;m getting proper token\r\n\r\n[![you can see here ][1]][1]\r\n\r\n\r\nBut when i pass same token to api it is giving Error\r\n[![error][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/doZNq.png\r\n  [2]: https://i.stack.imgur.com/8BkrS.png\r\n\r\n\r\nI have tried some solution but unable to solve, if anyone knows this error please guide me to solve this one.","title":"Getting Invalid access token","body":"<p>I have one rest api and i'm trying to generate token for same.\nwhen i call validateUser it is providing one proper token but when i call my api, it is giving an error of Invalid access token</p>\n<p>this is my authserver main class :</p>\n<pre><code>import java.security.Principal;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@EnableResourceServer\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @RequestMapping(&quot;/validateUser&quot;)\n    public Principal user(Principal user) {\n        return user;\n    }\n    \n}\n</code></pre>\n<p>Here i have provided all config Adaptor implementation :</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.oauth2.config.annotation.configurers.ClientDetailsServiceConfigurer;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerConfigurerAdapter;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.EnableAuthorizationServer;\nimport org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer;\nimport org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerSecurityConfigurer;\n\n@Configuration\n@EnableAuthorizationServer\npublic class AuthorizationServer extends AuthorizationServerConfigurerAdapter {\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n        endpoints.authenticationManager(authenticationManager);\n    }\n    \n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) throws Exception {     \n        security.allowFormAuthenticationForClients().checkTokenAccess(&quot;permitAll()&quot;);       \n    }\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.inMemory().withClient(&quot;ABC_XYZ&quot;).secret(&quot;ABC_XYZ_1357&quot;)\n                .accessTokenValiditySeconds(3600)\n                .refreshTokenValiditySeconds(3600)\n                .authorizedGrantTypes(&quot;client_credentials&quot;,&quot;authorization_code&quot;, &quot;refresh_token&quot;, &quot;password&quot;).scopes(&quot;read&quot;, &quot;write&quot;);\n\n    }\n}\n</code></pre>\n<blockquote>\n<p>in application.properties file i have declared port as 8086 for this authorisation server</p>\n</blockquote>\n<p>Now in Resource project I have added url for server in Application.properties file as below</p>\n<pre><code>security.oauth2.resource.userInfoUri=http://localhost:8086/validateUser\n</code></pre>\n<p>this one is my sample API which i want to call :</p>\n<pre><code>@RestController\npublic class TrueUpController {\n\n\n    @RequestMapping(value = &quot;/saveData&quot;,method=RequestMethod.POST)\n    public String executeProcedure(@RequestBody Request request) {\n        \n        return &quot;Success&quot;;\n        }\n    }\n</code></pre>\n<p>When i call validateUser for tokan i'm getting proper token</p>\n<p><a href=\"https://i.stack.imgur.com/doZNq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/doZNq.png\" alt=\"you can see here \" /></a></p>\n<p>But when i pass same token to api it is giving Error\n<a href=\"https://i.stack.imgur.com/8BkrS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8BkrS.png\" alt=\"error\" /></a></p>\n<p>I have tried some solution but unable to solve, if anyone knows this error please guide me to solve this one.</p>\n"},{"tags":["java","android","android-dialogfragment","dialogfragment","bottomsheetdialogfragment"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1643096665,"post_id":70844611,"comment_id":125242452,"body_markdown":"Do not keep static reference to `BMBottomSheetDialogFragment` this causes leak . Just open `BMBottomSheetDialogFragment` in conventional way . if you want to prevent opening multiple Dialogs . You can put a thrashhold on Click event . [Like this](https://stackoverflow.com/questions/5608720/android-preventing-double-click-on-a-button). Also you do not need a `Builder` for this . Keep it simple","body":"Do not keep static reference to <code>BMBottomSheetDialogFragment</code> this causes leak . Just open <code>BMBottomSheetDialogFragment</code> in conventional way . if you want to prevent opening multiple Dialogs . You can put a thrashhold on Click event . <a href=\"https://stackoverflow.com/questions/5608720/android-preventing-double-click-on-a-button\">Like this</a>. Also you do not need a <code>Builder</code> for this . Keep it simple"}],"answers":[{"tags":[],"owner":{"account_id":23767251,"reputation":565,"user_id":17781856,"display_name":"OneDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643095118,"creation_date":1643095118,"answer_id":70844706,"question_id":70844611,"body_markdown":"instead of using **commitNowAllowingStateLoss** use **commit** in show method.","title":"Custom DialogFragment (extends BottomSheetDialogFragment), java.lang.IllegalStateException: Fragment already added","body":"<p>instead of using <strong>commitNowAllowingStateLoss</strong> use <strong>commit</strong> in show method.</p>\n"}],"owner":{"account_id":23892384,"reputation":1,"user_id":17891855,"display_name":"mywjyw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643095118,"creation_date":1643094467,"question_id":70844611,"body_markdown":"I have a Custom DialogFragment, got **java.lang.IllegalStateException: Fragment already added**. First I got the same crash when I click on the button quickly to show the DialogFragment. Then I override `show()` , **remove the fragment before show**.it seems good on my phone. But still seen on crashlytics, and I couldn&#39;t reproduce it on my phone by the previous way.\r\n```\r\n    @Override\r\n    public void show(@NonNull FragmentManager manager, String tag) {\r\n        try {\r\n            manager.beginTransaction().remove(this).commitNowAllowingStateLoss();\r\n            super.show(manager, tag);\r\n        } catch (Exception ignored) {\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void dismiss() {\r\n        if (getFragmentManager() != null) {\r\n            super.dismiss();\r\n        }\r\n    }\r\n```\r\n\r\nHere&#39;s the code of my DialogFragment. I have a Builder for outside button to show it\r\n\r\n```\r\npublic class BMBottomSheetDialogFragment extends BottomSheetDialogFragment {\r\n    private static BMBottomSheetDialogFragment fragment;\r\n    public static BMBottomSheetDialogFragment newInstance(Builder builder) {\r\n        if (fragment == null) {\r\n            fragment = new BMBottomSheetDialogFragment();\r\n        }\r\n        final Bundle args = new Bundle();\r\n        ...\r\n\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    public static class Builder {\r\n        public BMBottomSheetDialogFragment build() {\r\n            return newInstance(this);\r\n        }\r\n        public void show(FragmentManager fragmentManager, String tag) {\r\n            BMBottomSheetDialogFragment dialog = build();\r\n            dialog.show(fragmentManager, tag);\r\n        }\r\n    }\r\n}\r\n``` \r\nSo, why didn&#39;t the override `show()`make sense and How to fix this crash?","title":"Custom DialogFragment (extends BottomSheetDialogFragment), java.lang.IllegalStateException: Fragment already added","body":"<p>I have a Custom DialogFragment, got <strong>java.lang.IllegalStateException: Fragment already added</strong>. First I got the same crash when I click on the button quickly to show the DialogFragment. Then I override <code>show()</code> , <strong>remove the fragment before show</strong>.it seems good on my phone. But still seen on crashlytics, and I couldn't reproduce it on my phone by the previous way.</p>\n<pre><code>    @Override\n    public void show(@NonNull FragmentManager manager, String tag) {\n        try {\n            manager.beginTransaction().remove(this).commitNowAllowingStateLoss();\n            super.show(manager, tag);\n        } catch (Exception ignored) {\n\n        }\n    }\n\n    @Override\n    public void dismiss() {\n        if (getFragmentManager() != null) {\n            super.dismiss();\n        }\n    }\n</code></pre>\n<p>Here's the code of my DialogFragment. I have a Builder for outside button to show it</p>\n<pre><code>public class BMBottomSheetDialogFragment extends BottomSheetDialogFragment {\n    private static BMBottomSheetDialogFragment fragment;\n    public static BMBottomSheetDialogFragment newInstance(Builder builder) {\n        if (fragment == null) {\n            fragment = new BMBottomSheetDialogFragment();\n        }\n        final Bundle args = new Bundle();\n        ...\n\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    public static class Builder {\n        public BMBottomSheetDialogFragment build() {\n            return newInstance(this);\n        }\n        public void show(FragmentManager fragmentManager, String tag) {\n            BMBottomSheetDialogFragment dialog = build();\n            dialog.show(fragmentManager, tag);\n        }\n    }\n}\n</code></pre>\n<p>So, why didn't the override <code>show()</code>make sense and How to fix this crash?</p>\n"},{"tags":["java","jpa","entitymanager","entitymanagerfactory"],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643094954,"creation_date":1641597006,"answer_id":70628155,"question_id":70628008,"body_markdown":"Yes, and by the way - this is exactly what `@PersistenceContext` will do. It will:\r\n\r\n1. Create `EntityManager` once `@Transactional` is invoked (or in case `OpenEntityManagerInViewFilter` is set up - when the filter is invoked)\r\n2. Put it in ThreadLocal variables. So that any code within this thread has access to it.\r\n3. Once the execution is out of `@Transactional` method (or out of the filter) - it will close the EntityManager","title":"Creating EntityManager using EntityManagerFactory in web application without @PersistenceContext","body":"<p>Yes, and by the way - this is exactly what <code>@PersistenceContext</code> will do. It will:</p>\n<ol>\n<li>Create <code>EntityManager</code> once <code>@Transactional</code> is invoked (or in case <code>OpenEntityManagerInViewFilter</code> is set up - when the filter is invoked)</li>\n<li>Put it in ThreadLocal variables. So that any code within this thread has access to it.</li>\n<li>Once the execution is out of <code>@Transactional</code> method (or out of the filter) - it will close the EntityManager</li>\n</ol>\n"}],"owner":{"account_id":23864877,"reputation":15,"user_id":17867355,"display_name":"Chrystian Kącki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70628155,"answer_count":1,"score":1,"last_activity_date":1643094954,"creation_date":1641595626,"question_id":70628008,"body_markdown":"I am creating a web application with JPA. I have configured Hibernate with connection pool c3p0.&lt;br&gt;\r\nIn my case it is not possible to inject EntityManager using @PersistenceContext annotation.&lt;br&gt;\r\nIn Java EE documentation they say it is thread-safe to use EntityManagerFactory instance to concurrently create EntityManager instances.&lt;br&gt;\r\nSo I am using one static EntityManagerFactory instance for my persistence unit in my web app and create EntityManagers using it.&lt;br&gt;\r\nBut they say that EntityManagers cannot be used concurrently (not thread-safe).&lt;br&gt;\r\nSo according to this I create an EntityManager instance separately per each servlet request, use it in same thread and then dispose it.&lt;br&gt;\r\nCan I do it this way ?","title":"Creating EntityManager using EntityManagerFactory in web application without @PersistenceContext","body":"<p>I am creating a web application with JPA. I have configured Hibernate with connection pool c3p0.<br>\nIn my case it is not possible to inject EntityManager using @PersistenceContext annotation.<br>\nIn Java EE documentation they say it is thread-safe to use EntityManagerFactory instance to concurrently create EntityManager instances.<br>\nSo I am using one static EntityManagerFactory instance for my persistence unit in my web app and create EntityManagers using it.<br>\nBut they say that EntityManagers cannot be used concurrently (not thread-safe).<br>\nSo according to this I create an EntityManager instance separately per each servlet request, use it in same thread and then dispose it.<br>\nCan I do it this way ?</p>\n"},{"tags":["java","swing","spinner","currency","jspinner"],"answers":[{"tags":[],"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622395147,"creation_date":1580215115,"answer_id":59948963,"question_id":59947168,"body_markdown":"Following [this][1] answer of a question about measuring units of length, you can do it in a similar way for currencies:\r\n\r\n    import java.text.ParseException;\r\n    import java.util.Objects;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFormattedTextField;\r\n    import javax.swing.JFormattedTextField.AbstractFormatter;\r\n    import javax.swing.JFormattedTextField.AbstractFormatterFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSpinner;\r\n    import javax.swing.JSpinner.DefaultEditor;\r\n    import javax.swing.SpinnerNumberModel;\r\n\r\n    public class MainWithFormatter {\r\n\r\n        //For more currencies and their ISO codes, visit https://en.wikipedia.org/wiki/List_of_circulating_currencies\r\n        public static enum Currency {\r\n            EUR, //Euro\r\n            USD, //United States Dollar\r\n            GBP, //British Pound\r\n            JPY //Japanese Yen\r\n        }\r\n\r\n        public static class CurrencyFormatter extends AbstractFormatter {\r\n\r\n            private static final Pattern PATTERN;\r\n\r\n            static {\r\n                //Building the Pattern is not too tricky. It just needs some attention.\r\n\r\n                final String blank = &quot;\\\\p{Blank}&quot;; //Match any whitespace character.\r\n                final String blankGroupAny = &quot;(&quot; + blank + &quot;*)&quot;; //Match any whitespace character, zero or more times and group them.\r\n\r\n                final String digits = &quot;\\\\d&quot;; //Match any digit.\r\n                final String digitsGroup = &quot;(&quot; + digits + &quot;+)&quot;; //Match any digit, at least once and group them.\r\n                final String digitsSuperGroup = &quot;(\\\\-?&quot; + digitsGroup + &quot;\\\\.?&quot; + digitsGroup + &quot;?)&quot;; //Matches for example &quot;-2.4&quot; or &quot;2.4&quot; or &quot;2&quot; or &quot;-2&quot; in the same group!\r\n\r\n                //Create the pattern part which matches any of the available currencies...\r\n                final Currency[] currencies = Currency.values();\r\n                final StringBuilder currenciesBuilder = new StringBuilder(Pattern.quote(&quot;&quot;)); //Empty currency value is valid.\r\n                for (int i = 0; i &lt; currencies.length; ++i)\r\n                    currenciesBuilder.append(&#39;|&#39;).append(Pattern.quote(currencies[i].name()));\r\n                final String currenciessGroup = &quot;(&quot; + currenciesBuilder + &quot;)&quot;;\r\n\r\n                final String full = &quot;^&quot; + blankGroupAny + digitsSuperGroup + blankGroupAny + currenciessGroup + blankGroupAny + &quot;$&quot;; //Compose full pattern.\r\n\r\n                PATTERN = Pattern.compile(full);\r\n            }\r\n\r\n            private final Currency defaultCurrency;\r\n            private Currency lastCurrency;\r\n            private boolean verbose; //Show the default currency while spinning or not?\r\n\r\n            public CurrencyFormatter(final Currency defaultCurrency) {\r\n                this.defaultCurrency = Objects.requireNonNull(defaultCurrency);\r\n                lastCurrency = defaultCurrency;\r\n                verbose = true;\r\n            }\r\n\r\n            @Override\r\n            public Object stringToValue(final String text) throws ParseException {\r\n                if (text == null || text.trim().isEmpty())\r\n                    throw new ParseException(&quot;Null or empty text.&quot;, 0);\r\n                try {\r\n                    final Matcher matcher = PATTERN.matcher(text.toUpperCase());\r\n                    if (!matcher.matches())\r\n                        throw new ParseException(&quot;Invalid input.&quot;, 0);\r\n                    final String amountStr = matcher.group(2),\r\n                                 currencyStr = matcher.group(6);\r\n                    final double amount = Double.parseDouble(amountStr);\r\n                    if (currencyStr.trim().isEmpty()) {\r\n                        lastCurrency = defaultCurrency;\r\n                        verbose = false;\r\n                    }\r\n                    else {\r\n                        lastCurrency = Currency.valueOf(currencyStr);\r\n                        verbose = true;\r\n                    }\r\n                    return amount;\r\n                }\r\n                catch (final IllegalArgumentException iax) {\r\n                    throw new ParseException(&quot;Failed to parse input \\&quot;&quot; + text + &quot;\\&quot;.&quot;, 0);\r\n                }\r\n            }\r\n\r\n            public Currency getLastCurrency() {\r\n                return lastCurrency;\r\n            }\r\n\r\n            @Override\r\n            public String valueToString(final Object value) throws ParseException {\r\n                final String amount = String.format(&quot;%.2f&quot;, value).replace(&#39;,&#39;, &#39;.&#39;);\r\n                return verbose ? (amount + &#39; &#39; + lastCurrency.name()) : amount;\r\n            }\r\n        }\r\n\r\n        public static class CurrencyFormatterFactory extends AbstractFormatterFactory {\r\n            @Override\r\n            public AbstractFormatter getFormatter(final JFormattedTextField tf) {\r\n                if (!(tf.getFormatter() instanceof CurrencyFormatter))\r\n                    return new CurrencyFormatter(Currency.USD);\r\n                return tf.getFormatter();\r\n            }\r\n        }\r\n\r\n        public static void main(final String[] args) {\r\n            final JSpinner spin = new JSpinner(new SpinnerNumberModel(0d, -1000000d, 1000000d, 0.01d));\r\n\r\n            final JFormattedTextField jftf = ((DefaultEditor) spin.getEditor()).getTextField();\r\n            jftf.setFormatterFactory(new CurrencyFormatterFactory());\r\n\r\n            //Added a button to demonstrate how to obtain the value the user has selected:\r\n            final JButton check = new JButton(&quot;Check!&quot;);\r\n            check.addActionListener(e -&gt; {\r\n                final CurrencyFormatter cf = (CurrencyFormatter) jftf.getFormatter();\r\n                JOptionPane.showMessageDialog(check, Objects.toString(spin.getValue()) + &#39; &#39; + cf.getLastCurrency().name() + &#39;!&#39;);\r\n            });\r\n\r\n            final JPanel contents = new JPanel(); //FlowLayout.\r\n            contents.add(spin);\r\n            contents.add(check);\r\n\r\n            final JFrame frame = new JFrame(&quot;JSpinner currencies.&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().add(contents);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n\r\nYou just need to create a custom `AbstractFormatter` for the formatted text field of the default editor of the spinner that will handle such strings.\r\n\r\nAlthough you could do it simply by putting two `JSpinner`s, one for the amount and the other for the currency.\r\n\r\n**Edit 1**: or, you can work with the built-in `java.util.Currency` class:\r\n\r\n    import java.text.ParseException;\r\n    import java.util.Currency;\r\n    import java.util.Objects;\r\n    import java.util.Set;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    import java.util.stream.Collectors;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFormattedTextField;\r\n    import javax.swing.JFormattedTextField.AbstractFormatter;\r\n    import javax.swing.JFormattedTextField.AbstractFormatterFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSpinner;\r\n    import javax.swing.JSpinner.DefaultEditor;\r\n    import javax.swing.SpinnerNumberModel;\r\n\r\n    public class MainWithCurrency {\r\n\r\n        public static class CurrencyFormatter extends AbstractFormatter {\r\n\r\n            private static final Pattern PATTERN;\r\n\r\n            static {\r\n                //Building the Pattern is not too tricky. It just needs some attention.\r\n\r\n                final String blank = &quot;\\\\p{Blank}&quot;; //Match any whitespace character.\r\n                final String blankGroupAny = &quot;(&quot; + blank + &quot;*)&quot;; //Match any whitespace character, zero or more times and group them.\r\n\r\n                final String digits = &quot;\\\\d&quot;; //Match any digit.\r\n                final String digitsGroup = &quot;(&quot; + digits + &quot;+)&quot;; //Match any digit, at least once and group them.\r\n                final String digitsSuperGroup = &quot;(\\\\-?&quot; + digitsGroup + &quot;\\\\.?&quot; + digitsGroup + &quot;?)&quot;; //Matches for example &quot;-2.4&quot; or &quot;2.4&quot; or &quot;2&quot; or &quot;-2&quot; in the same group!\r\n\r\n                //Create the pattern part which matches any of the available currencies...\r\n                final String currencyCodes = &quot;[A-Z]{3}|&quot; + Pattern.quote(&quot;&quot;); //Currency code consists of 3 letters, or is empty for default value.\r\n                final String currenciessGroup = &quot;(&quot; + currencyCodes + &quot;)&quot;;\r\n\r\n                final String full = &quot;^&quot; + blankGroupAny + digitsSuperGroup + blankGroupAny + currenciessGroup + blankGroupAny + &quot;$&quot;; //Compose full pattern.\r\n\r\n                PATTERN = Pattern.compile(full);\r\n            }\r\n\r\n            private final Set&lt;String&gt; supportedCurrencies;\r\n            private final String defaultCurrency;\r\n            private String lastCurrency;\r\n            private boolean verbose; //Show the default currency while spinning or not?\r\n\r\n            public CurrencyFormatter(final Set&lt;Currency&gt; supportedCurrencies,\r\n                                     final Currency defaultCurrency) {\r\n                if (!supportedCurrencies.contains(defaultCurrency))\r\n                    throw new IllegalArgumentException(&quot;Default currency is not supported.&quot;);\r\n                this.supportedCurrencies = supportedCurrencies.stream().map(currency -&gt; currency.getCurrencyCode()).collect(Collectors.toSet());\r\n                this.defaultCurrency = defaultCurrency.getCurrencyCode();\r\n                lastCurrency = this.defaultCurrency;\r\n                verbose = true;\r\n            }\r\n\r\n            @Override\r\n            public Object stringToValue(final String text) throws ParseException {\r\n                if (text == null || text.trim().isEmpty())\r\n                    throw new ParseException(&quot;Null or empty text.&quot;, 0);\r\n                try {\r\n                    final Matcher matcher = PATTERN.matcher(text.toUpperCase());\r\n                    if (!matcher.matches())\r\n                        throw new ParseException(&quot;Invalid input.&quot;, 0);\r\n                    final String amountStr = matcher.group(2).trim(),\r\n                                 currencyStr = matcher.group(6).trim();\r\n                    final double amount = Double.parseDouble(amountStr);\r\n                    if (currencyStr.isEmpty()) {\r\n                        lastCurrency = defaultCurrency;\r\n                        verbose = false;\r\n                    }\r\n                    else {\r\n                        if (!supportedCurrencies.contains(currencyStr))\r\n                            throw new ParseException(&quot;Unsupported currency.&quot;, 0);\r\n                        lastCurrency = currencyStr;\r\n                        verbose = true;\r\n                    }\r\n                    return amount;\r\n                }\r\n                catch (final IllegalArgumentException iax) {\r\n                    throw new ParseException(&quot;Failed to parse input \\&quot;&quot; + text + &quot;\\&quot;.&quot;, 0);\r\n                }\r\n            }\r\n\r\n            public Currency getLastCurrency() {\r\n                return Currency.getInstance(lastCurrency);\r\n            }\r\n\r\n            @Override\r\n            public String valueToString(final Object value) throws ParseException {\r\n                final String amount = String.format(&quot;%.2f&quot;, value).replace(&#39;,&#39;, &#39;.&#39;);\r\n                return verbose ? (amount + &#39; &#39; + lastCurrency) : amount;\r\n            }\r\n        }\r\n\r\n        public static class CurrencyFormatterFactory extends AbstractFormatterFactory {\r\n            @Override\r\n            public AbstractFormatter getFormatter(final JFormattedTextField tf) {\r\n                if (!(tf.getFormatter() instanceof CurrencyFormatter))\r\n                    return new CurrencyFormatter(Currency.getAvailableCurrencies(), Currency.getInstance(&quot;USD&quot;));\r\n                return tf.getFormatter();\r\n            }\r\n        }\r\n\r\n        public static void main(final String[] args) {\r\n            final JSpinner spin = new JSpinner(new SpinnerNumberModel(0d, -1000000d, 1000000d, 0.01d));\r\n\r\n            final JFormattedTextField jftf = ((DefaultEditor) spin.getEditor()).getTextField();\r\n            jftf.setFormatterFactory(new CurrencyFormatterFactory());\r\n\r\n            //Added a button to demonstrate how to obtain the value the user has selected:\r\n            final JButton check = new JButton(&quot;Check!&quot;);\r\n            check.addActionListener(e -&gt; {\r\n                final CurrencyFormatter cf = (CurrencyFormatter) jftf.getFormatter();\r\n                JOptionPane.showMessageDialog(check, Objects.toString(spin.getValue()) + &#39; &#39; + cf.getLastCurrency().getCurrencyCode() + &#39;!&#39;);\r\n            });\r\n\r\n            final JPanel contents = new JPanel(); //FlowLayout.\r\n            contents.add(spin);\r\n            contents.add(check);\r\n\r\n            final JFrame frame = new JFrame(&quot;JSpinner currencies.&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().add(contents);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n\r\nIn this code (of the first edit) I am parsing the currency ISO code and checking it against a `Set` of supported currencies.\r\n\r\n**Note**: I&#39;ve read [`DecimalFormat` documentation][2] and the [corresponding Java Tutorial][3], but cannot find anything about specifying optional currency symbols, so that&#39;s why I think you have to work with a custom `Pattern` like the preceding sample codes in this answer and I&#39;m also posting those links here, in case someone else finds the solution within them.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59619414/6746785\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/text/DecimalFormat.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/i18n/format/decimalFormat.html","title":"Displaying Currency in JSpinner","body":"<p>Following <a href=\"https://stackoverflow.com/a/59619414/6746785\">this</a> answer of a question about measuring units of length, you can do it in a similar way for currencies:</p>\n<pre><code>import java.text.ParseException;\nimport java.util.Objects;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport javax.swing.JButton;\nimport javax.swing.JFormattedTextField;\nimport javax.swing.JFormattedTextField.AbstractFormatter;\nimport javax.swing.JFormattedTextField.AbstractFormatterFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JSpinner;\nimport javax.swing.JSpinner.DefaultEditor;\nimport javax.swing.SpinnerNumberModel;\n\npublic class MainWithFormatter {\n\n    //For more currencies and their ISO codes, visit https://en.wikipedia.org/wiki/List_of_circulating_currencies\n    public static enum Currency {\n        EUR, //Euro\n        USD, //United States Dollar\n        GBP, //British Pound\n        JPY //Japanese Yen\n    }\n\n    public static class CurrencyFormatter extends AbstractFormatter {\n\n        private static final Pattern PATTERN;\n\n        static {\n            //Building the Pattern is not too tricky. It just needs some attention.\n\n            final String blank = &quot;\\\\p{Blank}&quot;; //Match any whitespace character.\n            final String blankGroupAny = &quot;(&quot; + blank + &quot;*)&quot;; //Match any whitespace character, zero or more times and group them.\n\n            final String digits = &quot;\\\\d&quot;; //Match any digit.\n            final String digitsGroup = &quot;(&quot; + digits + &quot;+)&quot;; //Match any digit, at least once and group them.\n            final String digitsSuperGroup = &quot;(\\\\-?&quot; + digitsGroup + &quot;\\\\.?&quot; + digitsGroup + &quot;?)&quot;; //Matches for example &quot;-2.4&quot; or &quot;2.4&quot; or &quot;2&quot; or &quot;-2&quot; in the same group!\n\n            //Create the pattern part which matches any of the available currencies...\n            final Currency[] currencies = Currency.values();\n            final StringBuilder currenciesBuilder = new StringBuilder(Pattern.quote(&quot;&quot;)); //Empty currency value is valid.\n            for (int i = 0; i &lt; currencies.length; ++i)\n                currenciesBuilder.append('|').append(Pattern.quote(currencies[i].name()));\n            final String currenciessGroup = &quot;(&quot; + currenciesBuilder + &quot;)&quot;;\n\n            final String full = &quot;^&quot; + blankGroupAny + digitsSuperGroup + blankGroupAny + currenciessGroup + blankGroupAny + &quot;$&quot;; //Compose full pattern.\n\n            PATTERN = Pattern.compile(full);\n        }\n\n        private final Currency defaultCurrency;\n        private Currency lastCurrency;\n        private boolean verbose; //Show the default currency while spinning or not?\n\n        public CurrencyFormatter(final Currency defaultCurrency) {\n            this.defaultCurrency = Objects.requireNonNull(defaultCurrency);\n            lastCurrency = defaultCurrency;\n            verbose = true;\n        }\n\n        @Override\n        public Object stringToValue(final String text) throws ParseException {\n            if (text == null || text.trim().isEmpty())\n                throw new ParseException(&quot;Null or empty text.&quot;, 0);\n            try {\n                final Matcher matcher = PATTERN.matcher(text.toUpperCase());\n                if (!matcher.matches())\n                    throw new ParseException(&quot;Invalid input.&quot;, 0);\n                final String amountStr = matcher.group(2),\n                             currencyStr = matcher.group(6);\n                final double amount = Double.parseDouble(amountStr);\n                if (currencyStr.trim().isEmpty()) {\n                    lastCurrency = defaultCurrency;\n                    verbose = false;\n                }\n                else {\n                    lastCurrency = Currency.valueOf(currencyStr);\n                    verbose = true;\n                }\n                return amount;\n            }\n            catch (final IllegalArgumentException iax) {\n                throw new ParseException(&quot;Failed to parse input \\&quot;&quot; + text + &quot;\\&quot;.&quot;, 0);\n            }\n        }\n\n        public Currency getLastCurrency() {\n            return lastCurrency;\n        }\n\n        @Override\n        public String valueToString(final Object value) throws ParseException {\n            final String amount = String.format(&quot;%.2f&quot;, value).replace(',', '.');\n            return verbose ? (amount + ' ' + lastCurrency.name()) : amount;\n        }\n    }\n\n    public static class CurrencyFormatterFactory extends AbstractFormatterFactory {\n        @Override\n        public AbstractFormatter getFormatter(final JFormattedTextField tf) {\n            if (!(tf.getFormatter() instanceof CurrencyFormatter))\n                return new CurrencyFormatter(Currency.USD);\n            return tf.getFormatter();\n        }\n    }\n\n    public static void main(final String[] args) {\n        final JSpinner spin = new JSpinner(new SpinnerNumberModel(0d, -1000000d, 1000000d, 0.01d));\n\n        final JFormattedTextField jftf = ((DefaultEditor) spin.getEditor()).getTextField();\n        jftf.setFormatterFactory(new CurrencyFormatterFactory());\n\n        //Added a button to demonstrate how to obtain the value the user has selected:\n        final JButton check = new JButton(&quot;Check!&quot;);\n        check.addActionListener(e -&gt; {\n            final CurrencyFormatter cf = (CurrencyFormatter) jftf.getFormatter();\n            JOptionPane.showMessageDialog(check, Objects.toString(spin.getValue()) + ' ' + cf.getLastCurrency().name() + '!');\n        });\n\n        final JPanel contents = new JPanel(); //FlowLayout.\n        contents.add(spin);\n        contents.add(check);\n\n        final JFrame frame = new JFrame(&quot;JSpinner currencies.&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(contents);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>You just need to create a custom <code>AbstractFormatter</code> for the formatted text field of the default editor of the spinner that will handle such strings.</p>\n<p>Although you could do it simply by putting two <code>JSpinner</code>s, one for the amount and the other for the currency.</p>\n<p><strong>Edit 1</strong>: or, you can work with the built-in <code>java.util.Currency</code> class:</p>\n<pre><code>import java.text.ParseException;\nimport java.util.Currency;\nimport java.util.Objects;\nimport java.util.Set;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\nimport javax.swing.JButton;\nimport javax.swing.JFormattedTextField;\nimport javax.swing.JFormattedTextField.AbstractFormatter;\nimport javax.swing.JFormattedTextField.AbstractFormatterFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JSpinner;\nimport javax.swing.JSpinner.DefaultEditor;\nimport javax.swing.SpinnerNumberModel;\n\npublic class MainWithCurrency {\n\n    public static class CurrencyFormatter extends AbstractFormatter {\n\n        private static final Pattern PATTERN;\n\n        static {\n            //Building the Pattern is not too tricky. It just needs some attention.\n\n            final String blank = &quot;\\\\p{Blank}&quot;; //Match any whitespace character.\n            final String blankGroupAny = &quot;(&quot; + blank + &quot;*)&quot;; //Match any whitespace character, zero or more times and group them.\n\n            final String digits = &quot;\\\\d&quot;; //Match any digit.\n            final String digitsGroup = &quot;(&quot; + digits + &quot;+)&quot;; //Match any digit, at least once and group them.\n            final String digitsSuperGroup = &quot;(\\\\-?&quot; + digitsGroup + &quot;\\\\.?&quot; + digitsGroup + &quot;?)&quot;; //Matches for example &quot;-2.4&quot; or &quot;2.4&quot; or &quot;2&quot; or &quot;-2&quot; in the same group!\n\n            //Create the pattern part which matches any of the available currencies...\n            final String currencyCodes = &quot;[A-Z]{3}|&quot; + Pattern.quote(&quot;&quot;); //Currency code consists of 3 letters, or is empty for default value.\n            final String currenciessGroup = &quot;(&quot; + currencyCodes + &quot;)&quot;;\n\n            final String full = &quot;^&quot; + blankGroupAny + digitsSuperGroup + blankGroupAny + currenciessGroup + blankGroupAny + &quot;$&quot;; //Compose full pattern.\n\n            PATTERN = Pattern.compile(full);\n        }\n\n        private final Set&lt;String&gt; supportedCurrencies;\n        private final String defaultCurrency;\n        private String lastCurrency;\n        private boolean verbose; //Show the default currency while spinning or not?\n\n        public CurrencyFormatter(final Set&lt;Currency&gt; supportedCurrencies,\n                                 final Currency defaultCurrency) {\n            if (!supportedCurrencies.contains(defaultCurrency))\n                throw new IllegalArgumentException(&quot;Default currency is not supported.&quot;);\n            this.supportedCurrencies = supportedCurrencies.stream().map(currency -&gt; currency.getCurrencyCode()).collect(Collectors.toSet());\n            this.defaultCurrency = defaultCurrency.getCurrencyCode();\n            lastCurrency = this.defaultCurrency;\n            verbose = true;\n        }\n\n        @Override\n        public Object stringToValue(final String text) throws ParseException {\n            if (text == null || text.trim().isEmpty())\n                throw new ParseException(&quot;Null or empty text.&quot;, 0);\n            try {\n                final Matcher matcher = PATTERN.matcher(text.toUpperCase());\n                if (!matcher.matches())\n                    throw new ParseException(&quot;Invalid input.&quot;, 0);\n                final String amountStr = matcher.group(2).trim(),\n                             currencyStr = matcher.group(6).trim();\n                final double amount = Double.parseDouble(amountStr);\n                if (currencyStr.isEmpty()) {\n                    lastCurrency = defaultCurrency;\n                    verbose = false;\n                }\n                else {\n                    if (!supportedCurrencies.contains(currencyStr))\n                        throw new ParseException(&quot;Unsupported currency.&quot;, 0);\n                    lastCurrency = currencyStr;\n                    verbose = true;\n                }\n                return amount;\n            }\n            catch (final IllegalArgumentException iax) {\n                throw new ParseException(&quot;Failed to parse input \\&quot;&quot; + text + &quot;\\&quot;.&quot;, 0);\n            }\n        }\n\n        public Currency getLastCurrency() {\n            return Currency.getInstance(lastCurrency);\n        }\n\n        @Override\n        public String valueToString(final Object value) throws ParseException {\n            final String amount = String.format(&quot;%.2f&quot;, value).replace(',', '.');\n            return verbose ? (amount + ' ' + lastCurrency) : amount;\n        }\n    }\n\n    public static class CurrencyFormatterFactory extends AbstractFormatterFactory {\n        @Override\n        public AbstractFormatter getFormatter(final JFormattedTextField tf) {\n            if (!(tf.getFormatter() instanceof CurrencyFormatter))\n                return new CurrencyFormatter(Currency.getAvailableCurrencies(), Currency.getInstance(&quot;USD&quot;));\n            return tf.getFormatter();\n        }\n    }\n\n    public static void main(final String[] args) {\n        final JSpinner spin = new JSpinner(new SpinnerNumberModel(0d, -1000000d, 1000000d, 0.01d));\n\n        final JFormattedTextField jftf = ((DefaultEditor) spin.getEditor()).getTextField();\n        jftf.setFormatterFactory(new CurrencyFormatterFactory());\n\n        //Added a button to demonstrate how to obtain the value the user has selected:\n        final JButton check = new JButton(&quot;Check!&quot;);\n        check.addActionListener(e -&gt; {\n            final CurrencyFormatter cf = (CurrencyFormatter) jftf.getFormatter();\n            JOptionPane.showMessageDialog(check, Objects.toString(spin.getValue()) + ' ' + cf.getLastCurrency().getCurrencyCode() + '!');\n        });\n\n        final JPanel contents = new JPanel(); //FlowLayout.\n        contents.add(spin);\n        contents.add(check);\n\n        final JFrame frame = new JFrame(&quot;JSpinner currencies.&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(contents);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>In this code (of the first edit) I am parsing the currency ISO code and checking it against a <code>Set</code> of supported currencies.</p>\n<p><strong>Note</strong>: I've read <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\"><code>DecimalFormat</code> documentation</a> and the <a href=\"https://docs.oracle.com/javase/tutorial/i18n/format/decimalFormat.html\" rel=\"nofollow noreferrer\">corresponding Java Tutorial</a>, but cannot find anything about specifying optional currency symbols, so that's why I think you have to work with a custom <code>Pattern</code> like the preceding sample codes in this answer and I'm also posting those links here, in case someone else finds the solution within them.</p>\n"},{"tags":[],"owner":{"account_id":9081975,"reputation":642,"user_id":6761506,"accept_rate":88,"display_name":"Kcits970"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643094867,"creation_date":1643076281,"answer_id":70842634,"question_id":59947168,"body_markdown":"I&#39;m assuming that your desired functionality of the JSpinner is something like this:\r\n\r\n| User Input | Actual Value | Display Text |\r\n| ---------- | ------------ | ------------ |\r\n| 10€        | 10           | 10€          |\r\n| 10         | 10           | 10€          |\r\n\r\nIn that case, you can use `JFormattedTextField.AbstractFormatterFactory`.\r\n\r\nFirst, there are a couple things to note about JSpinners. According to [Oracle&#39;s JSpinner Documentation](https://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html), they mention that:\r\n&gt; A spinner is a compound component with three subcomponents: two small buttons and an editor. The editor can be any JComponent, but by default it is implemented as a panel that contains a formatted text field.\r\n\r\nIn order to specify the format of the display text, we need the instance of the formatted text field in the spinner editor. This can be achieved with `JSpinner.DefaultEditor.getTextField()`, which returns the `JFormattedTextField` child of this editor.\r\n\r\n`JFormattedTextField` provides a method called `setFormatterFactory`, which takes an instance of `JFormattedTextField.AbstractFormatterFactory` as its argument. We can override this class, and specify the exact format that it will accept.\r\n\r\nHere&#39;s a SSCCE that demonstrates what I&#39;ve said so far.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.text.ParseException;\r\n\r\npublic class Main extends JFrame {\r\n    JSpinner spinner;\r\n    JButton button;\r\n\r\n    public static void main(String[] args) {\r\n        javax.swing.SwingUtilities.invokeLater(() -&gt; new Main());\r\n    }\r\n\r\n    public Main() {\r\n        int min = 0;\r\n        int max = 10;\r\n\r\n        spinner = new JSpinner(new SpinnerNumberModel(0, min, max, 1));\r\n        button = new JButton(&quot;Button&quot;);\r\n\r\n        ((JSpinner.DefaultEditor) spinner.getEditor()).getTextField().setFormatterFactory(new MyIntegerFormatterFactory(&quot;\\u20AC&quot;, min, max));\r\n        ((JSpinner.DefaultEditor) spinner.getEditor()).getTextField().setColumns(6);\r\n\r\n        addComponents();\r\n        configureSettings();\r\n    }\r\n\r\n    public void addComponents() {\r\n        getContentPane().setLayout(new FlowLayout());\r\n        getContentPane().add(spinner);\r\n        getContentPane().add(button);\r\n    }\r\n\r\n    public void configureSettings() {\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        pack();\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n    }\r\n}\r\n\r\nclass MyIntegerFormatterFactory extends JFormattedTextField.AbstractFormatterFactory {\r\n    String suffix;\r\n    int min;\r\n    int max;\r\n\r\n    public MyIntegerFormatterFactory(String suffix, int min, int max) {\r\n        this.suffix = suffix;\r\n        this.min = min;\r\n        this.max = max;\r\n    }\r\n\r\n    @Override\r\n    public JFormattedTextField.AbstractFormatter getFormatter(JFormattedTextField tf) {\r\n        return new JFormattedTextField.AbstractFormatter() {\r\n            @Override\r\n            public Object stringToValue(String text) throws ParseException {\r\n                text = (text.endsWith(suffix)) ? text.substring(0, text.length() - suffix.length()) : text;\r\n\r\n                try {\r\n                    int parse = Integer.parseInt(text);\r\n                    if (parse &lt; min || parse &gt; max) throw new ParseException(&quot;&quot;, 0);\r\n                    return parse;\r\n                } catch (Exception e) {\r\n                    throw new ParseException(&quot;&quot;, 0);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public String valueToString(Object value) {\r\n                return value + suffix;\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nResult:\r\n\r\n[![enter image description here][1]][1] [![enter image description here][2]][2]\r\n\r\nThis JSpinner accepts both inputs like `&quot;10&quot;` and `&quot;6€&quot;`, and any other invalid inputs are ignored. (For instance, if you enter `&quot;asdf&quot;` and click the JButton to switch the focus, the input gets ignored.)\r\n\r\n  [1]: https://i.stack.imgur.com/XSuN8.png\r\n  [2]: https://i.stack.imgur.com/VvpRP.png","title":"Displaying Currency in JSpinner","body":"<p>I'm assuming that your desired functionality of the JSpinner is something like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>User Input</th>\n<th>Actual Value</th>\n<th>Display Text</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>10€</td>\n<td>10</td>\n<td>10€</td>\n</tr>\n<tr>\n<td>10</td>\n<td>10</td>\n<td>10€</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>In that case, you can use <code>JFormattedTextField.AbstractFormatterFactory</code>.</p>\n<p>First, there are a couple things to note about JSpinners. According to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html\" rel=\"nofollow noreferrer\">Oracle's JSpinner Documentation</a>, they mention that:</p>\n<blockquote>\n<p>A spinner is a compound component with three subcomponents: two small buttons and an editor. The editor can be any JComponent, but by default it is implemented as a panel that contains a formatted text field.</p>\n</blockquote>\n<p>In order to specify the format of the display text, we need the instance of the formatted text field in the spinner editor. This can be achieved with <code>JSpinner.DefaultEditor.getTextField()</code>, which returns the <code>JFormattedTextField</code> child of this editor.</p>\n<p><code>JFormattedTextField</code> provides a method called <code>setFormatterFactory</code>, which takes an instance of <code>JFormattedTextField.AbstractFormatterFactory</code> as its argument. We can override this class, and specify the exact format that it will accept.</p>\n<p>Here's a SSCCE that demonstrates what I've said so far.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.text.ParseException;\n\npublic class Main extends JFrame {\n    JSpinner spinner;\n    JButton button;\n\n    public static void main(String[] args) {\n        javax.swing.SwingUtilities.invokeLater(() -&gt; new Main());\n    }\n\n    public Main() {\n        int min = 0;\n        int max = 10;\n\n        spinner = new JSpinner(new SpinnerNumberModel(0, min, max, 1));\n        button = new JButton(&quot;Button&quot;);\n\n        ((JSpinner.DefaultEditor) spinner.getEditor()).getTextField().setFormatterFactory(new MyIntegerFormatterFactory(&quot;\\u20AC&quot;, min, max));\n        ((JSpinner.DefaultEditor) spinner.getEditor()).getTextField().setColumns(6);\n\n        addComponents();\n        configureSettings();\n    }\n\n    public void addComponents() {\n        getContentPane().setLayout(new FlowLayout());\n        getContentPane().add(spinner);\n        getContentPane().add(button);\n    }\n\n    public void configureSettings() {\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n}\n\nclass MyIntegerFormatterFactory extends JFormattedTextField.AbstractFormatterFactory {\n    String suffix;\n    int min;\n    int max;\n\n    public MyIntegerFormatterFactory(String suffix, int min, int max) {\n        this.suffix = suffix;\n        this.min = min;\n        this.max = max;\n    }\n\n    @Override\n    public JFormattedTextField.AbstractFormatter getFormatter(JFormattedTextField tf) {\n        return new JFormattedTextField.AbstractFormatter() {\n            @Override\n            public Object stringToValue(String text) throws ParseException {\n                text = (text.endsWith(suffix)) ? text.substring(0, text.length() - suffix.length()) : text;\n\n                try {\n                    int parse = Integer.parseInt(text);\n                    if (parse &lt; min || parse &gt; max) throw new ParseException(&quot;&quot;, 0);\n                    return parse;\n                } catch (Exception e) {\n                    throw new ParseException(&quot;&quot;, 0);\n                }\n            }\n\n            @Override\n            public String valueToString(Object value) {\n                return value + suffix;\n            }\n        };\n    }\n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/XSuN8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XSuN8.png\" alt=\"enter image description here\" /></a> <a href=\"https://i.stack.imgur.com/VvpRP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VvpRP.png\" alt=\"enter image description here\" /></a></p>\n<p>This JSpinner accepts both inputs like <code>&quot;10&quot;</code> and <code>&quot;6€&quot;</code>, and any other invalid inputs are ignored. (For instance, if you enter <code>&quot;asdf&quot;</code> and click the JButton to switch the focus, the input gets ignored.)</p>\n"}],"owner":{"account_id":14895165,"reputation":31,"user_id":10755712,"display_name":"Niklas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643094867,"creation_date":1580208951,"question_id":59947168,"body_markdown":"I have written a small program for our company, which takes care of the sale of drinks and every user has his own account. To top up his account there is a JSpinner, which looks like this:\r\n\r\n[![spinner][1]][1]\r\n\r\nAn employee asked me if I could add the currency to this spinner. So I implemented it, but now you can only deposit with the currency symbol and not without it, which disturbed other staff members, so let&#39;s get to my question, how do I manage to accept both entries with currency and without?\r\n\r\nBasic Spinner(like in the image i posted above):\r\n\r\n    final SpinnerNumberModel spinnerModel = new SpinnerNumberModel( 1, 1, 1000, 1 );\r\n    final JSpinner valueSpinner = new JSpinner( spinnerModel );\r\n\r\nTo add the currency I used this code snippet, which works fine\r\n\r\n        String pattern = &quot;0€&quot;;\r\n        JSpinner.NumberEditor editor = new JSpinner.NumberEditor( valueSpinner, pattern );\r\n        valueSpinner.setEditor( editor );\r\n\r\nI have already tried to write a custom JSpinner, but I couldn&#39;t achieve that the Spinner would take both Entries.\r\n\r\n  [1]: https://i.stack.imgur.com/0firm.png","title":"Displaying Currency in JSpinner","body":"<p>I have written a small program for our company, which takes care of the sale of drinks and every user has his own account. To top up his account there is a JSpinner, which looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/0firm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0firm.png\" alt=\"spinner\" /></a></p>\n<p>An employee asked me if I could add the currency to this spinner. So I implemented it, but now you can only deposit with the currency symbol and not without it, which disturbed other staff members, so let's get to my question, how do I manage to accept both entries with currency and without?</p>\n<p>Basic Spinner(like in the image i posted above):</p>\n<pre><code>final SpinnerNumberModel spinnerModel = new SpinnerNumberModel( 1, 1, 1000, 1 );\nfinal JSpinner valueSpinner = new JSpinner( spinnerModel );\n</code></pre>\n<p>To add the currency I used this code snippet, which works fine</p>\n<pre><code>    String pattern = &quot;0€&quot;;\n    JSpinner.NumberEditor editor = new JSpinner.NumberEditor( valueSpinner, pattern );\n    valueSpinner.setEditor( editor );\n</code></pre>\n<p>I have already tried to write a custom JSpinner, but I couldn't achieve that the Spinner would take both Entries.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5559444,"reputation":43202,"user_id":4409409,"display_name":"Daniel Nugent"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1499622160,"creation_date":1428100244,"answer_id":29440552,"question_id":29440415,"body_markdown":"In addition to what @Selvin pointed out, it looks like this:\r\n\r\n    \r\n\r\n    Button add = (Button) activity.findViewById(R.id.add);\r\n\r\n...should be changed to this:\r\n\r\n\r\n    \r\n\r\n    Button add = (Button) rootView.findViewById(R.id.add);","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.app.Activity.findViewById(int)&#39; on a null object reference","body":"<p>In addition to what @Selvin pointed out, it looks like this:</p>\n\n<pre><code>Button add = (Button) activity.findViewById(R.id.add);\n</code></pre>\n\n<p>...should be changed to this:</p>\n\n<pre><code>Button add = (Button) rootView.findViewById(R.id.add);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3286384,"reputation":3371,"user_id":2765792,"display_name":"Aman Goel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1440672538,"creation_date":1440672538,"answer_id":32247360,"question_id":29440415,"body_markdown":"Use the following code:\r\n\r\n     listView1.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n           //     selectedPosition = position;\r\n\r\n                View newTypeView=listView1.getChildAt(position-listView1.getFirstVisiblePosition()).findViewById(R.id.RelativeLayout);\r\n\r\n                if (newTypeView.getClass().getName().toString().contains(&quot;RelativeLayout&quot;)) {\r\n\r\n\r\n                    if (lastTouchedVw != null)\r\n                        lastTouchedVw.setBackgroundColor(Color.parseColor(&quot;#ffffff&quot;));\r\n                     // mainImageView.setImageURI(Uri.parse(al.get(position).toString()));\r\n                    //bigImageRelativeLayoutVw.setBackgroundColor(Color.parseColor(&quot;#ffb000&quot;));\r\n                        newTypeView.setBackgroundResource(R.drawable.cellbg);\r\n\r\n                        lastTouchedVw = newTypeView;\r\n                }\r\n              ","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.app.Activity.findViewById(int)&#39; on a null object reference","body":"<p>Use the following code:</p>\n\n<pre><code> listView1.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n       //     selectedPosition = position;\n\n            View newTypeView=listView1.getChildAt(position-listView1.getFirstVisiblePosition()).findViewById(R.id.RelativeLayout);\n\n            if (newTypeView.getClass().getName().toString().contains(\"RelativeLayout\")) {\n\n\n                if (lastTouchedVw != null)\n                    lastTouchedVw.setBackgroundColor(Color.parseColor(\"#ffffff\"));\n                 // mainImageView.setImageURI(Uri.parse(al.get(position).toString()));\n                //bigImageRelativeLayoutVw.setBackgroundColor(Color.parseColor(\"#ffb000\"));\n                    newTypeView.setBackgroundResource(R.drawable.cellbg);\n\n                    lastTouchedVw = newTypeView;\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12203935,"reputation":2255,"user_id":8907542,"display_name":"Akbar Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542002267,"creation_date":1542002267,"answer_id":53256580,"question_id":29440415,"body_markdown":"&gt; It&#39;s very simple\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Button btn1 = (Button) findViewById(R.id.button1);\r\n    \r\n            btn1.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                  Intent intent = new Intent(MainActivity.this, YourNextClass.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n        }\r\n    }\r\n\r\n","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.app.Activity.findViewById(int)&#39; on a null object reference","body":"<blockquote>\n  <p>It's very simple</p>\n</blockquote>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Button btn1 = (Button) findViewById(R.id.button1);\n\n        btn1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n              Intent intent = new Intent(MainActivity.this, YourNextClass.class);\n                startActivity(intent);\n            }\n        });\n\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user4747848"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102052,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":29440552,"answer_count":3,"score":14,"last_activity_date":1643094717,"creation_date":1428099458,"question_id":29440415,"body_markdown":"I always get an Error in my Android Project.\r\n\r\n&gt; java.lang.NullPointerException: Attempt to invoke virtual method\r\n&gt; &#39;android.view.View android.app.Activity.findViewById(int)&#39; on a null\r\n&gt; object reference\r\n\r\nIn my MainActivity i am calling the class FragmentStart.\r\n\r\n**FragmentStart.class**\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.support.v4.app.Fragment;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.ListView;\r\n\r\n    public class FragmentStart extends Fragment {\r\n\r\n        //Define Listview\r\n        private ListView startList;\r\n        private String[] stringList;\r\n        Activity activity = getActivity();\r\n\r\n        public FragmentStart() {\r\n            //\r\n        }\r\n\r\n\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            View rootView = inflater.inflate(R.layout.fragment_start, container, false);\r\n\r\n            // Create ListView start\r\n            startList = (ListView) rootView.findViewById(R.id.startList);\r\n            stringList = getResources().getStringArray(R.array.startList);\r\n\r\n            if (activity != null) {\r\n                ArrayAdapter&lt;String&gt; objAdapter = new ArrayAdapter&lt;String&gt;(activity, android.R.layout.simple_list_item_1, stringList);\r\n                startList.setAdapter(objAdapter);\r\n                startList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n\r\n                    @Override\r\n                    public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                        switch (startList.getPositionForView(view)) {\r\n\r\n                            case 0:\r\n                                // ...\r\n                                break;\r\n\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            // Create ListView end\r\n\r\n            //New Entry\r\n            Button add = (Button) activity.findViewById(R.id.add);\r\n            add.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View view) {\r\n                    Intent myIntent = new Intent(view.getContext(), addItem.class);\r\n                    startActivityForResult(myIntent, 0);\r\n                }\r\n\r\n            });\r\n\r\n            return rootView;\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.app.Activity.findViewById(int)&#39; on a null object reference","body":"<p>I always get an Error in my Android Project.</p>\n\n<blockquote>\n  <p>java.lang.NullPointerException: Attempt to invoke virtual method\n  'android.view.View android.app.Activity.findViewById(int)' on a null\n  object reference</p>\n</blockquote>\n\n<p>In my MainActivity i am calling the class FragmentStart.</p>\n\n<p><strong>FragmentStart.class</strong>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.support.v4.app.Fragment;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.ListView;\r\n\r\npublic class FragmentStart extends Fragment {\r\n\r\n    //Define Listview\r\n    private ListView startList;\r\n    private String[] stringList;\r\n    Activity activity = getActivity();\r\n\r\n    public FragmentStart() {\r\n        //\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View rootView = inflater.inflate(R.layout.fragment_start, container, false);\r\n\r\n        // Create ListView start\r\n        startList = (ListView) rootView.findViewById(R.id.startList);\r\n        stringList = getResources().getStringArray(R.array.startList);\r\n\r\n        if (activity != null) {\r\n            ArrayAdapter&lt;String&gt; objAdapter = new ArrayAdapter&lt;String&gt;(activity, android.R.layout.simple_list_item_1, stringList);\r\n            startList.setAdapter(objAdapter);\r\n            startList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                    switch (startList.getPositionForView(view)) {\r\n\r\n                        case 0:\r\n                            // ...\r\n                            break;\r\n\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        // Create ListView end\r\n\r\n        //New Entry\r\n        Button add = (Button) activity.findViewById(R.id.add);\r\n        add.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n                Intent myIntent = new Intent(view.getContext(), addItem.class);\r\n                startActivityForResult(myIntent, 0);\r\n            }\r\n\r\n        });\r\n\r\n        return rootView;\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","json","kotlin","json-rpc","jsonrpc4j"],"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1616513346,"post_id":63942533,"comment_id":118022629,"body_markdown":"Why not give Kotlin Serialization a try: https://github.com/Kotlin/kotlinx.serialization","body":"Why not give Kotlin Serialization a try: <a href=\"https://github.com/Kotlin/kotlinx.serialization\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.serialization</a>"}],"answers":[{"tags":[],"owner":{"account_id":14139796,"reputation":19,"user_id":10214974,"display_name":"simply_simple"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643094406,"creation_date":1643094406,"answer_id":70844601,"question_id":63942533,"body_markdown":"Any parameter must be passed into an array. So in your case, the code in JAVA would be:\r\n\r\n    Boolean exists = client.invoke(&quot;exist&quot;, new Object[]{selector}, Boolean.class);","title":"How do I pass objects as parameters using the jsonrpc4j client?","body":"<p>Any parameter must be passed into an array. So in your case, the code in JAVA would be:</p>\n<pre><code>Boolean exists = client.invoke(&quot;exist&quot;, new Object[]{selector}, Boolean.class);\n</code></pre>\n"}],"owner":{"account_id":162305,"reputation":2555,"user_id":383676,"accept_rate":67,"display_name":"fejd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643094406,"creation_date":1600360658,"question_id":63942533,"body_markdown":"I&#39;m trying to write a Kotlin client that uses jsonrpc4j (https://github.com/briandilley/jsonrpc4j) to talk to a server running on an Android device. This is the server I&#39;m using: https://github.com/xiaocong/android-uiautomator-server\r\n\r\nCalling methods that take single arguments, such as `null` or single `String` objects work fine. However, if I try to call the method `boolean exist(Selector obj);` the method matching does not work and I get an exception:\r\n\r\n    Invalid method parameters\r\n    com.googlecode.jsonrpc4j.JsonRpcClientException: Invalid method parameters\r\n    \tat com.googlecode.jsonrpc4j.DefaultExceptionResolver.createJsonRpcClientException(DefaultExceptionResolver.java:53)\r\n    \tat com.googlecode.jsonrpc4j.DefaultExceptionResolver.resolveException(DefaultExceptionResolver.java:28)\r\n    \tat com.googlecode.jsonrpc4j.JsonRpcClient.handleErrorResponse(JsonRpcClient.java:272)\r\n    \tat com.googlecode.jsonrpc4j.JsonRpcClient.readResponse(JsonRpcClient.java:196)\r\n    \tat com.googlecode.jsonrpc4j.JsonRpcClient.readResponse(JsonRpcClient.java:531)\r\n    \tat com.googlecode.jsonrpc4j.JsonRpcHttpClient.invoke(JsonRpcHttpClient.java:148)\r\n    \tat com.googlecode.jsonrpc4j.JsonRpcHttpClient.invoke(JsonRpcHttpClient.java:118)\r\n    \tat com.googlecode.jsonrpc4j.JsonRpcHttpClient.invoke(JsonRpcHttpClient.java:176)\r\n        ...\r\n\r\nhttps://github.com/xiaocong/android-uiautomator-server/blob/master/app/src/androidTest/java/com/github/uiautomator/stub/AutomatorService.java#L400\r\n\r\nHere&#39;s my test code:\r\n\r\n    @Test fun methodTest() {\r\n        val client = JsonRpcHttpClient(URL(&quot;http://localhost:9008/jsonrpc/0&quot;))\r\n        val invoke = client.invoke(&quot;ping&quot;, null, Object::class.java)\r\n        println(invoke) // prints &quot;pong&quot;\r\n        val selector = Selector()\r\n        selector.packageName = &quot;com.company.appname&quot;\r\n        val exists = client.invoke(&quot;exist&quot;, selector, Boolean::class.java) // throws Exception\r\n        println(exists)\r\n    }\r\n\r\nI debugged the server code and it looks as if the Selector type is lost and all parameters are &quot;flattened&quot; to a list of strings:\r\n\r\n&gt; 09-17 18:05:58.216 D/UIAutomatorStub(17611): URI: /jsonrpc/0, Method:\r\n&gt; POST, Header: {content-length=620, remote-addr=127.0.0.1,\r\n&gt; http-client-ip=127.0.0.1, host=localhost:9008,\r\n&gt; content-type=application/json-rpc, connection=keep-alive,\r\n&gt; cache-control=no-cache, pragma=no-cache, user-agent=Java/1.8.0_265,\r\n&gt; accept=text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2}, params,\r\n&gt; {NanoHttpd.QUERY_STRING=null}, files:\r\n&gt; {postData={&quot;id&quot;:&quot;61840997&quot;,&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;exist&quot;,&quot;params&quot;:{&quot;packageName&quot;:&quot;com.company.appname&quot;,&quot;text&quot;:null,&quot;className&quot;:null,&quot;description&quot;:null,&quot;textContains&quot;:null,&quot;textMatches&quot;:null,&quot;textStartsWith&quot;:null,&quot;classNameMatches&quot;:null,&quot;descriptionContains&quot;:null,&quot;descriptionMatches&quot;:null,&quot;descriptionStartsWith&quot;:null,&quot;checkable&quot;:false,&quot;checked&quot;:false,&quot;clickable&quot;:false,&quot;scrollable&quot;:false,&quot;longClickable&quot;:false,&quot;enabled&quot;:false,&quot;focusable&quot;:false,&quot;focused&quot;:false,&quot;selected&quot;:false,&quot;packageNameMatches&quot;:null,&quot;resourceId&quot;:null,&quot;resourceIdMatches&quot;:null,&quot;mask&quot;:0,&quot;childOrSiblingSelector&quot;:[],&quot;childOrSibling&quot;:[],&quot;index&quot;:0,&quot;instance&quot;:0}}}\r\n\r\nI copied the `Selector` class from the server into the host project and used it as is:\r\nhttps://github.com/xiaocong/android-uiautomator-server/blob/master/app/src/androidTest/java/com/github/uiautomator/stub/Selector.java\r\n\r\nI also tried annotating the class with `@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property=&quot;class&quot;)` but the only effect that had was that it added a &quot;class&quot; attribute to &quot;params&quot;.\r\n\r\nHow do make it work so that I can use the server&#39;s parameter types on the client side?","title":"How do I pass objects as parameters using the jsonrpc4j client?","body":"<p>I'm trying to write a Kotlin client that uses jsonrpc4j (<a href=\"https://github.com/briandilley/jsonrpc4j\" rel=\"nofollow noreferrer\">https://github.com/briandilley/jsonrpc4j</a>) to talk to a server running on an Android device. This is the server I'm using: <a href=\"https://github.com/xiaocong/android-uiautomator-server\" rel=\"nofollow noreferrer\">https://github.com/xiaocong/android-uiautomator-server</a></p>\n<p>Calling methods that take single arguments, such as <code>null</code> or single <code>String</code> objects work fine. However, if I try to call the method <code>boolean exist(Selector obj);</code> the method matching does not work and I get an exception:</p>\n<pre><code>Invalid method parameters\ncom.googlecode.jsonrpc4j.JsonRpcClientException: Invalid method parameters\n    at com.googlecode.jsonrpc4j.DefaultExceptionResolver.createJsonRpcClientException(DefaultExceptionResolver.java:53)\n    at com.googlecode.jsonrpc4j.DefaultExceptionResolver.resolveException(DefaultExceptionResolver.java:28)\n    at com.googlecode.jsonrpc4j.JsonRpcClient.handleErrorResponse(JsonRpcClient.java:272)\n    at com.googlecode.jsonrpc4j.JsonRpcClient.readResponse(JsonRpcClient.java:196)\n    at com.googlecode.jsonrpc4j.JsonRpcClient.readResponse(JsonRpcClient.java:531)\n    at com.googlecode.jsonrpc4j.JsonRpcHttpClient.invoke(JsonRpcHttpClient.java:148)\n    at com.googlecode.jsonrpc4j.JsonRpcHttpClient.invoke(JsonRpcHttpClient.java:118)\n    at com.googlecode.jsonrpc4j.JsonRpcHttpClient.invoke(JsonRpcHttpClient.java:176)\n    ...\n</code></pre>\n<p><a href=\"https://github.com/xiaocong/android-uiautomator-server/blob/master/app/src/androidTest/java/com/github/uiautomator/stub/AutomatorService.java#L400\" rel=\"nofollow noreferrer\">https://github.com/xiaocong/android-uiautomator-server/blob/master/app/src/androidTest/java/com/github/uiautomator/stub/AutomatorService.java#L400</a></p>\n<p>Here's my test code:</p>\n<pre><code>@Test fun methodTest() {\n    val client = JsonRpcHttpClient(URL(&quot;http://localhost:9008/jsonrpc/0&quot;))\n    val invoke = client.invoke(&quot;ping&quot;, null, Object::class.java)\n    println(invoke) // prints &quot;pong&quot;\n    val selector = Selector()\n    selector.packageName = &quot;com.company.appname&quot;\n    val exists = client.invoke(&quot;exist&quot;, selector, Boolean::class.java) // throws Exception\n    println(exists)\n}\n</code></pre>\n<p>I debugged the server code and it looks as if the Selector type is lost and all parameters are &quot;flattened&quot; to a list of strings:</p>\n<blockquote>\n<p>09-17 18:05:58.216 D/UIAutomatorStub(17611): URI: /jsonrpc/0, Method:\nPOST, Header: {content-length=620, remote-addr=127.0.0.1,\nhttp-client-ip=127.0.0.1, host=localhost:9008,\ncontent-type=application/json-rpc, connection=keep-alive,\ncache-control=no-cache, pragma=no-cache, user-agent=Java/1.8.0_265,\naccept=text/html, image/gif, image/jpeg, *; q=.2, <em>/</em>; q=.2}, params,\n{NanoHttpd.QUERY_STRING=null}, files:\n{postData={&quot;id&quot;:&quot;61840997&quot;,&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;exist&quot;,&quot;params&quot;:{&quot;packageName&quot;:&quot;com.company.appname&quot;,&quot;text&quot;:null,&quot;className&quot;:null,&quot;description&quot;:null,&quot;textContains&quot;:null,&quot;textMatches&quot;:null,&quot;textStartsWith&quot;:null,&quot;classNameMatches&quot;:null,&quot;descriptionContains&quot;:null,&quot;descriptionMatches&quot;:null,&quot;descriptionStartsWith&quot;:null,&quot;checkable&quot;:false,&quot;checked&quot;:false,&quot;clickable&quot;:false,&quot;scrollable&quot;:false,&quot;longClickable&quot;:false,&quot;enabled&quot;:false,&quot;focusable&quot;:false,&quot;focused&quot;:false,&quot;selected&quot;:false,&quot;packageNameMatches&quot;:null,&quot;resourceId&quot;:null,&quot;resourceIdMatches&quot;:null,&quot;mask&quot;:0,&quot;childOrSiblingSelector&quot;:[],&quot;childOrSibling&quot;:[],&quot;index&quot;:0,&quot;instance&quot;:0}}}</p>\n</blockquote>\n<p>I copied the <code>Selector</code> class from the server into the host project and used it as is:\n<a href=\"https://github.com/xiaocong/android-uiautomator-server/blob/master/app/src/androidTest/java/com/github/uiautomator/stub/Selector.java\" rel=\"nofollow noreferrer\">https://github.com/xiaocong/android-uiautomator-server/blob/master/app/src/androidTest/java/com/github/uiautomator/stub/Selector.java</a></p>\n<p>I also tried annotating the class with <code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property=&quot;class&quot;)</code> but the only effect that had was that it added a &quot;class&quot; attribute to &quot;params&quot;.</p>\n<p>How do make it work so that I can use the server's parameter types on the client side?</p>\n"},{"tags":["java","spring-boot","hibernate","yaml"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1643050202,"post_id":70838689,"comment_id":125232152,"body_markdown":"1. &quot;spring:\n  config:\n    activate:\n      on-profile: local&quot; ..and &quot; No active profile set, ...&quot; 2. Mixing &quot;db initialization&quot;: Or hbm2ddl OR user script (OR programmatic) OR liquibase/flyway (&quot;It is recommended to use a single mechanism for schema generation.&quot; https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-jpa)","body":"1. &quot;spring:   config:     activate:       on-profile: local&quot; ..and &quot; No active profile set, ...&quot; 2. Mixing &quot;db initialization&quot;: Or hbm2ddl OR user script (OR programmatic) OR liquibase/flyway (&quot;It is recommended to use a single mechanism for schema generation.&quot; <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-jpa\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>)"},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1643050828,"post_id":70838689,"comment_id":125232376,"body_markdown":"i removed the part with the profile and `No active profile set, falling back to default profiles: default` is showed. I removed liquibase changelog in application.yml and same issue","body":"i removed the part with the profile and <code>No active profile set, falling back to default profiles: default</code> is showed. I removed liquibase changelog in application.yml and same issue"},{"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"score":0,"creation_date":1643076655,"post_id":70838689,"comment_id":125238891,"body_markdown":"do you `@EnableJpaRepositories`?","body":"do you <code>@EnableJpaRepositories</code>?"}],"answers":[{"tags":[],"owner":{"account_id":17358814,"reputation":363,"user_id":12575576,"display_name":"munan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1643093939,"creation_date":1643093939,"answer_id":70844537,"question_id":70838689,"body_markdown":"I think no Datasource in this app.\r\n\r\n    @EnableAutoConfiguration(exclude = DataSourceAutoConfiguration.class) \r\ntry this \r\n\r\n    @EnableAutoConfiguration ","title":"Spring boot doesn&#39;t load application.yml","body":"<p>I think no Datasource in this app.</p>\n<pre><code>@EnableAutoConfiguration(exclude = DataSourceAutoConfiguration.class) \n</code></pre>\n<p>try this</p>\n<pre><code>@EnableAutoConfiguration \n</code></pre>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70844537,"answer_count":1,"score":1,"last_activity_date":1643093939,"creation_date":1643048874,"question_id":70838689,"body_markdown":"i have a application.yml to auto-creation some table:\r\n```\r\n## JDBC part\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: local\r\n  enabled: true\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/kazi?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n    username: emo\r\n    password: 123qwe\r\n  jpa:\r\n    show-sql: true\r\n    database-platform: org.hibernate.dialect.MySQL8Dialect\r\n    hibernate:\r\n      ddl-auto: update\r\n  liquibase:\r\n    change-log: classpath:liquibase/changelog.xml\r\n#spring.jpa.properties.hibernate.hbm2ddl.import_files=import.sql\r\n\r\n```\r\n\r\nmain class:\r\n```\r\n@EnableAutoConfiguration(exclude = DataSourceAutoConfiguration.class)\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```\r\n\r\nLog\r\n```\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=57211:/Applications/IntelliJ IDEA.app/Contents/bin -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -Dfile.encoding=UTF-8 -classpath /Users/emoleumassi/Documents/Projects/me/kazi/kazi-core/target/classes:/Users/emoleumassi/.m2/repository/org/liquibase/liquibase-core/4.5.0/liquibase-core-4.5.0.jar:/Users/emoleumassi/.m2/repository/javax/xml/bind/jaxb-api/2.3.1/jaxb-api-2.3.1.jar:/Users/emoleumassi/.m2/repository/javax/activation/javax.activation-api/1.2.0/javax.activation-api-1.2.0.jar:/Users/emoleumassi/.m2/repository/org/liquibase/liquibase-maven-plugin/3.8.2/liquibase-maven-plugin-3.8.2.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/maven-plugin-api/2.0/maven-plugin-api-2.0.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/maven-project/2.0/maven-project-2.0.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/maven-profile/2.0/maven-profile-2.0.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/maven-model/2.0/maven-model-2.0.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/maven-artifact-manager/2.0/maven-artifact-manager-2.0.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/maven-repository-metadata/2.0/maven-repository-metadata-2.0.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/wagon/wagon-provider-api/1.0-alpha-5/wagon-provider-api-1.0-alpha-5.jar:/Users/emoleumassi/.m2/repository/org/codehaus/plexus/plexus-utils/1.0.4/plexus-utils-1.0.4.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/maven-artifact/2.0/maven-artifact-2.0.jar:/Users/emoleumassi/.m2/repository/org/codehaus/plexus/plexus-container-default/1.0-alpha-8/plexus-container-default-1.0-alpha-8.jar:/Users/emoleumassi/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar:/Users/emoleumassi/.m2/repository/org/hamcrest/hamcrest-core/2.2/hamcrest-core-2.2.jar:/Users/emoleumassi/.m2/repository/classworlds/classworlds/1.1-alpha-2/classworlds-1.1-alpha-2.jar:/Users/emoleumassi/.m2/repository/org/slf4j/slf4j-api/1.7.32/slf4j-api-1.7.32.jar:/Users/emoleumassi/.m2/repository/ch/qos/logback/logback-classic/1.2.9/logback-classic-1.2.9.jar:/Users/emoleumassi/.m2/repository/ch/qos/logback/logback-core/1.2.9/logback-core-1.2.9.jar:/Users/emoleumassi/.m2/repository/com/fasterxml/jackson/module/jackson-module-jaxb-annotations/2.13.1/jackson-module-jaxb-annotations-2.13.1.jar:/Users/emoleumassi/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.13.1/jackson-annotations-2.13.1.jar:/Users/emoleumassi/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.13.1/jackson-core-2.13.1.jar:/Users/emoleumassi/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.13.1/jackson-databind-2.13.1.jar:/Users/emoleumassi/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/Users/emoleumassi/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/2.6.2/spring-boot-starter-data-jpa-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter-aop/2.6.2/spring-boot-starter-aop-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/aspectj/aspectjweaver/1.9.7/aspectjweaver-1.9.7.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/2.6.2/spring-boot-starter-jdbc-2.6.2.jar:/Users/emoleumassi/.m2/repository/com/zaxxer/HikariCP/4.0.3/HikariCP-4.0.3.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-jdbc/5.3.14/spring-jdbc-5.3.14.jar:/Users/emoleumassi/.m2/repository/jakarta/transaction/jakarta.transaction-api/1.3.3/jakarta.transaction-api-1.3.3.jar:/Users/emoleumassi/.m2/repository/jakarta/persistence/jakarta.persistence-api/2.2.3/jakarta.persistence-api-2.2.3.jar:/Users/emoleumassi/.m2/repository/org/hibernate/hibernate-core/5.6.3.Final/hibernate-core-5.6.3.Final.jar:/Users/emoleumassi/.m2/repository/org/jboss/logging/jboss-logging/3.4.2.Final/jboss-logging-3.4.2.Final.jar:/Users/emoleumassi/.m2/repository/net/bytebuddy/byte-buddy/1.11.22/byte-buddy-1.11.22.jar:/Users/emoleumassi/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/emoleumassi/.m2/repository/org/jboss/jandex/2.2.3.Final/jandex-2.2.3.Final.jar:/Users/emoleumassi/.m2/repository/com/fasterxml/classmate/1.5.1/classmate-1.5.1.jar:/Users/emoleumassi/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.2.Final/hibernate-commons-annotations-5.1.2.Final.jar:/Users/emoleumassi/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.5/jaxb-runtime-2.3.5.jar:/Users/emoleumassi/.m2/repository/org/glassfish/jaxb/txw2/2.3.5/txw2-2.3.5.jar:/Users/emoleumassi/.m2/repository/com/sun/istack/istack-commons-runtime/3.0.12/istack-commons-runtime-3.0.12.jar:/Users/emoleumassi/.m2/repository/com/sun/activation/jakarta.activation/1.2.2/jakarta.activation-1.2.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/data/spring-data-jpa/2.6.0/spring-data-jpa-2.6.0.jar:/Users/emoleumassi/.m2/repository/org/springframework/data/spring-data-commons/2.6.0/spring-data-commons-2.6.0.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-orm/5.3.14/spring-orm-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-context/5.3.14/spring-context-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-tx/5.3.14/spring-tx-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-beans/5.3.14/spring-beans-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-aspects/5.3.14/spring-aspects-5.3.14.jar:/Users/emoleumassi/.m2/repository/mysql/mysql-connector-java/8.0.27/mysql-connector-java-8.0.27.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter/2.6.2/spring-boot-starter-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.6.2/spring-boot-starter-logging-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.17.0/log4j-to-slf4j-2.17.0.jar:/Users/emoleumassi/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.0/log4j-api-2.17.0.jar:/Users/emoleumassi/.m2/repository/org/slf4j/jul-to-slf4j/1.7.32/jul-to-slf4j-1.7.32.jar:/Users/emoleumassi/.m2/repository/org/yaml/snakeyaml/1.29/snakeyaml-1.29.jar:/Users/emoleumassi/.m2/repository/org/hamcrest/hamcrest/2.2/hamcrest-2.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-core/5.3.14/spring-core-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-jcl/5.3.14/spring-jcl-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter-security/2.6.2/spring-boot-starter-security-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-aop/5.3.14/spring-aop-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/security/spring-security-config/5.6.1/spring-security-config-5.6.1.jar:/Users/emoleumassi/.m2/repository/org/springframework/security/spring-security-core/5.6.1/spring-security-core-5.6.1.jar:/Users/emoleumassi/.m2/repository/org/springframework/security/spring-security-crypto/5.6.1/spring-security-crypto-5.6.1.jar:/Users/emoleumassi/.m2/repository/org/springframework/security/spring-security-web/5.6.1/spring-security-web-5.6.1.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-expression/5.3.14/spring-expression-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-web/5.3.14/spring-web-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/2.6.2/spring-boot-starter-tomcat-2.6.2.jar:/Users/emoleumassi/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/Users/emoleumassi/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.56/tomcat-embed-core-9.0.56.jar:/Users/emoleumassi/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/9.0.56/tomcat-embed-el-9.0.56.jar:/Users/emoleumassi/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/9.0.56/tomcat-embed-websocket-9.0.56.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-devtools/2.6.2/spring-boot-devtools-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot/2.6.2/spring-boot-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.6.2/spring-boot-autoconfigure-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter-actuator/2.6.2/spring-boot-starter-actuator-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-actuator-autoconfigure/2.6.2/spring-boot-actuator-autoconfigure-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-actuator/2.6.2/spring-boot-actuator-2.6.2.jar:/Users/emoleumassi/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.13.1/jackson-datatype-jsr310-2.13.1.jar:/Users/emoleumassi/.m2/repository/io/micrometer/micrometer-core/1.8.1/micrometer-core-1.8.1.jar:/Users/emoleumassi/.m2/repository/org/hdrhistogram/HdrHistogram/2.1.12/HdrHistogram-2.1.12.jar:/Users/emoleumassi/.m2/repository/org/latencyutils/LatencyUtils/2.0.3/LatencyUtils-2.0.3.jar:/Users/emoleumassi/.m2/repository/org/projectlombok/lombok/1.18.16/lombok-1.18.16.jar:/Users/emoleumassi/.m2/repository/org/projectlombok/lombok-mapstruct-binding/0.2.0/lombok-mapstruct-binding-0.2.0.jar com.kazi.Application\r\n19:21:19.040 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@32d703c9\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.6.2)\r\n\r\n2022-01-24 19:21:19.677  INFO 28392 --- [  restartedMain] com.kazi.Application                     : Starting Application using Java 11.0.11 on FVFFF491Q05N.fritz.box with PID 28392 (/kazi/kazi-core/target/classes started by in //kazi)\r\n2022-01-24 19:21:19.678  INFO 28392 --- [  restartedMain] com.kazi.Application                     : No active profile set, falling back to default profiles: default\r\n2022-01-24 19:21:19.743  INFO 28392 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in //.m2/repository/org/liquibase/liquibase-core/4.5.0/liquibase-core-4.5.0.jar referenced one or more files that do not exist: file://.m2/repository/org/liquibase/liquibase-core/4.5.0/snakeyaml-1.27.jar\r\n2022-01-24 19:21:19.745  INFO 28392 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2022-01-24 19:21:19.745  INFO 28392 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2022-01-24 19:21:21.125  INFO 28392 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-01-24 19:21:21.132  INFO 28392 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-01-24 19:21:21.132  INFO 28392 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]\r\n2022-01-24 19:21:21.208  INFO 28392 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-01-24 19:21:21.209  INFO 28392 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1464 ms\r\n2022-01-24 19:21:21.656  INFO 28392 --- [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : \r\n\r\nUsing generated security password: 6b57bd8f-9f75-40b5-8805-d33182a6782f\r\n\r\n2022-01-24 19:21:21.719  INFO 28392 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@585f2fd, org.springframework.security.web.context.SecurityContextPersistenceFilter@217e757f, org.springframework.security.web.header.HeaderWriterFilter@54ef1e31, org.springframework.security.web.csrf.CsrfFilter@1323ecfd, org.springframework.security.web.authentication.logout.LogoutFilter@50c74237, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@31cfd78a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@175a6ba7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@74ce9809, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1143ca59, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4de8bf20, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@272d7d98, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7bd095cb, org.springframework.security.web.session.SessionManagementFilter@7d64f793, org.springframework.security.web.access.ExceptionTranslationFilter@8fd5915, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53681a29]\r\n2022-01-24 19:21:21.782  INFO 28392 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2022-01-24 19:21:21.835  INFO 28392 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2022-01-24 19:21:21.856  INFO 28392 --- [  restartedMain] com.kazi.Application                     : Started Application in 2.798 seconds (JVM running for 3.673)\r\n```\r\n\r\nThe application start successfully but the tables haven&#39;t created. I tried it with `ddl-auto: create` und have the same problem. \r\n\r\nI think the `application.yml` isn&#39;t load.\r\n\r\nThe location:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pJZ93.png","title":"Spring boot doesn&#39;t load application.yml","body":"<p>i have a application.yml to auto-creation some table:</p>\n<pre><code>## JDBC part\nspring:\n  config:\n    activate:\n      on-profile: local\n  enabled: true\n  datasource:\n    url: jdbc:mysql://localhost:3306/kazi?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    username: emo\n    password: 123qwe\n  jpa:\n    show-sql: true\n    database-platform: org.hibernate.dialect.MySQL8Dialect\n    hibernate:\n      ddl-auto: update\n  liquibase:\n    change-log: classpath:liquibase/changelog.xml\n#spring.jpa.properties.hibernate.hbm2ddl.import_files=import.sql\n\n</code></pre>\n<p>main class:</p>\n<pre><code>@EnableAutoConfiguration(exclude = DataSourceAutoConfiguration.class)\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>Log</p>\n<pre><code>/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=57211:/Applications/IntelliJ IDEA.app/Contents/bin -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -Dfile.encoding=UTF-8 -classpath /Users/emoleumassi/Documents/Projects/me/kazi/kazi-core/target/classes:/Users/emoleumassi/.m2/repository/org/liquibase/liquibase-core/4.5.0/liquibase-core-4.5.0.jar:/Users/emoleumassi/.m2/repository/javax/xml/bind/jaxb-api/2.3.1/jaxb-api-2.3.1.jar:/Users/emoleumassi/.m2/repository/javax/activation/javax.activation-api/1.2.0/javax.activation-api-1.2.0.jar:/Users/emoleumassi/.m2/repository/org/liquibase/liquibase-maven-plugin/3.8.2/liquibase-maven-plugin-3.8.2.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/maven-plugin-api/2.0/maven-plugin-api-2.0.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/maven-project/2.0/maven-project-2.0.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/maven-profile/2.0/maven-profile-2.0.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/maven-model/2.0/maven-model-2.0.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/maven-artifact-manager/2.0/maven-artifact-manager-2.0.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/maven-repository-metadata/2.0/maven-repository-metadata-2.0.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/wagon/wagon-provider-api/1.0-alpha-5/wagon-provider-api-1.0-alpha-5.jar:/Users/emoleumassi/.m2/repository/org/codehaus/plexus/plexus-utils/1.0.4/plexus-utils-1.0.4.jar:/Users/emoleumassi/.m2/repository/org/apache/maven/maven-artifact/2.0/maven-artifact-2.0.jar:/Users/emoleumassi/.m2/repository/org/codehaus/plexus/plexus-container-default/1.0-alpha-8/plexus-container-default-1.0-alpha-8.jar:/Users/emoleumassi/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar:/Users/emoleumassi/.m2/repository/org/hamcrest/hamcrest-core/2.2/hamcrest-core-2.2.jar:/Users/emoleumassi/.m2/repository/classworlds/classworlds/1.1-alpha-2/classworlds-1.1-alpha-2.jar:/Users/emoleumassi/.m2/repository/org/slf4j/slf4j-api/1.7.32/slf4j-api-1.7.32.jar:/Users/emoleumassi/.m2/repository/ch/qos/logback/logback-classic/1.2.9/logback-classic-1.2.9.jar:/Users/emoleumassi/.m2/repository/ch/qos/logback/logback-core/1.2.9/logback-core-1.2.9.jar:/Users/emoleumassi/.m2/repository/com/fasterxml/jackson/module/jackson-module-jaxb-annotations/2.13.1/jackson-module-jaxb-annotations-2.13.1.jar:/Users/emoleumassi/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.13.1/jackson-annotations-2.13.1.jar:/Users/emoleumassi/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.13.1/jackson-core-2.13.1.jar:/Users/emoleumassi/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.13.1/jackson-databind-2.13.1.jar:/Users/emoleumassi/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/Users/emoleumassi/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/2.6.2/spring-boot-starter-data-jpa-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter-aop/2.6.2/spring-boot-starter-aop-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/aspectj/aspectjweaver/1.9.7/aspectjweaver-1.9.7.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/2.6.2/spring-boot-starter-jdbc-2.6.2.jar:/Users/emoleumassi/.m2/repository/com/zaxxer/HikariCP/4.0.3/HikariCP-4.0.3.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-jdbc/5.3.14/spring-jdbc-5.3.14.jar:/Users/emoleumassi/.m2/repository/jakarta/transaction/jakarta.transaction-api/1.3.3/jakarta.transaction-api-1.3.3.jar:/Users/emoleumassi/.m2/repository/jakarta/persistence/jakarta.persistence-api/2.2.3/jakarta.persistence-api-2.2.3.jar:/Users/emoleumassi/.m2/repository/org/hibernate/hibernate-core/5.6.3.Final/hibernate-core-5.6.3.Final.jar:/Users/emoleumassi/.m2/repository/org/jboss/logging/jboss-logging/3.4.2.Final/jboss-logging-3.4.2.Final.jar:/Users/emoleumassi/.m2/repository/net/bytebuddy/byte-buddy/1.11.22/byte-buddy-1.11.22.jar:/Users/emoleumassi/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/emoleumassi/.m2/repository/org/jboss/jandex/2.2.3.Final/jandex-2.2.3.Final.jar:/Users/emoleumassi/.m2/repository/com/fasterxml/classmate/1.5.1/classmate-1.5.1.jar:/Users/emoleumassi/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.2.Final/hibernate-commons-annotations-5.1.2.Final.jar:/Users/emoleumassi/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.5/jaxb-runtime-2.3.5.jar:/Users/emoleumassi/.m2/repository/org/glassfish/jaxb/txw2/2.3.5/txw2-2.3.5.jar:/Users/emoleumassi/.m2/repository/com/sun/istack/istack-commons-runtime/3.0.12/istack-commons-runtime-3.0.12.jar:/Users/emoleumassi/.m2/repository/com/sun/activation/jakarta.activation/1.2.2/jakarta.activation-1.2.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/data/spring-data-jpa/2.6.0/spring-data-jpa-2.6.0.jar:/Users/emoleumassi/.m2/repository/org/springframework/data/spring-data-commons/2.6.0/spring-data-commons-2.6.0.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-orm/5.3.14/spring-orm-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-context/5.3.14/spring-context-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-tx/5.3.14/spring-tx-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-beans/5.3.14/spring-beans-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-aspects/5.3.14/spring-aspects-5.3.14.jar:/Users/emoleumassi/.m2/repository/mysql/mysql-connector-java/8.0.27/mysql-connector-java-8.0.27.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter/2.6.2/spring-boot-starter-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.6.2/spring-boot-starter-logging-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.17.0/log4j-to-slf4j-2.17.0.jar:/Users/emoleumassi/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.0/log4j-api-2.17.0.jar:/Users/emoleumassi/.m2/repository/org/slf4j/jul-to-slf4j/1.7.32/jul-to-slf4j-1.7.32.jar:/Users/emoleumassi/.m2/repository/org/yaml/snakeyaml/1.29/snakeyaml-1.29.jar:/Users/emoleumassi/.m2/repository/org/hamcrest/hamcrest/2.2/hamcrest-2.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-core/5.3.14/spring-core-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-jcl/5.3.14/spring-jcl-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter-security/2.6.2/spring-boot-starter-security-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-aop/5.3.14/spring-aop-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/security/spring-security-config/5.6.1/spring-security-config-5.6.1.jar:/Users/emoleumassi/.m2/repository/org/springframework/security/spring-security-core/5.6.1/spring-security-core-5.6.1.jar:/Users/emoleumassi/.m2/repository/org/springframework/security/spring-security-crypto/5.6.1/spring-security-crypto-5.6.1.jar:/Users/emoleumassi/.m2/repository/org/springframework/security/spring-security-web/5.6.1/spring-security-web-5.6.1.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-expression/5.3.14/spring-expression-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/spring-web/5.3.14/spring-web-5.3.14.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/2.6.2/spring-boot-starter-tomcat-2.6.2.jar:/Users/emoleumassi/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/Users/emoleumassi/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.56/tomcat-embed-core-9.0.56.jar:/Users/emoleumassi/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/9.0.56/tomcat-embed-el-9.0.56.jar:/Users/emoleumassi/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/9.0.56/tomcat-embed-websocket-9.0.56.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-devtools/2.6.2/spring-boot-devtools-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot/2.6.2/spring-boot-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.6.2/spring-boot-autoconfigure-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-starter-actuator/2.6.2/spring-boot-starter-actuator-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-actuator-autoconfigure/2.6.2/spring-boot-actuator-autoconfigure-2.6.2.jar:/Users/emoleumassi/.m2/repository/org/springframework/boot/spring-boot-actuator/2.6.2/spring-boot-actuator-2.6.2.jar:/Users/emoleumassi/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.13.1/jackson-datatype-jsr310-2.13.1.jar:/Users/emoleumassi/.m2/repository/io/micrometer/micrometer-core/1.8.1/micrometer-core-1.8.1.jar:/Users/emoleumassi/.m2/repository/org/hdrhistogram/HdrHistogram/2.1.12/HdrHistogram-2.1.12.jar:/Users/emoleumassi/.m2/repository/org/latencyutils/LatencyUtils/2.0.3/LatencyUtils-2.0.3.jar:/Users/emoleumassi/.m2/repository/org/projectlombok/lombok/1.18.16/lombok-1.18.16.jar:/Users/emoleumassi/.m2/repository/org/projectlombok/lombok-mapstruct-binding/0.2.0/lombok-mapstruct-binding-0.2.0.jar com.kazi.Application\n19:21:19.040 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@32d703c9\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.2)\n\n2022-01-24 19:21:19.677  INFO 28392 --- [  restartedMain] com.kazi.Application                     : Starting Application using Java 11.0.11 on FVFFF491Q05N.fritz.box with PID 28392 (/kazi/kazi-core/target/classes started by in //kazi)\n2022-01-24 19:21:19.678  INFO 28392 --- [  restartedMain] com.kazi.Application                     : No active profile set, falling back to default profiles: default\n2022-01-24 19:21:19.743  INFO 28392 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in //.m2/repository/org/liquibase/liquibase-core/4.5.0/liquibase-core-4.5.0.jar referenced one or more files that do not exist: file://.m2/repository/org/liquibase/liquibase-core/4.5.0/snakeyaml-1.27.jar\n2022-01-24 19:21:19.745  INFO 28392 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2022-01-24 19:21:19.745  INFO 28392 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2022-01-24 19:21:21.125  INFO 28392 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-01-24 19:21:21.132  INFO 28392 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-01-24 19:21:21.132  INFO 28392 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]\n2022-01-24 19:21:21.208  INFO 28392 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-01-24 19:21:21.209  INFO 28392 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1464 ms\n2022-01-24 19:21:21.656  INFO 28392 --- [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : \n\nUsing generated security password: 6b57bd8f-9f75-40b5-8805-d33182a6782f\n\n2022-01-24 19:21:21.719  INFO 28392 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@585f2fd, org.springframework.security.web.context.SecurityContextPersistenceFilter@217e757f, org.springframework.security.web.header.HeaderWriterFilter@54ef1e31, org.springframework.security.web.csrf.CsrfFilter@1323ecfd, org.springframework.security.web.authentication.logout.LogoutFilter@50c74237, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@31cfd78a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@175a6ba7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@74ce9809, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1143ca59, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4de8bf20, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@272d7d98, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7bd095cb, org.springframework.security.web.session.SessionManagementFilter@7d64f793, org.springframework.security.web.access.ExceptionTranslationFilter@8fd5915, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53681a29]\n2022-01-24 19:21:21.782  INFO 28392 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2022-01-24 19:21:21.835  INFO 28392 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-01-24 19:21:21.856  INFO 28392 --- [  restartedMain] com.kazi.Application                     : Started Application in 2.798 seconds (JVM running for 3.673)\n</code></pre>\n<p>The application start successfully but the tables haven't created. I tried it with <code>ddl-auto: create</code> und have the same problem.</p>\n<p>I think the <code>application.yml</code> isn't load.</p>\n<p>The location:\n<a href=\"https://i.stack.imgur.com/pJZ93.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pJZ93.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","rest","access-token","httpurlconnection"],"owner":{"account_id":20905756,"reputation":11,"user_id":15357749,"display_name":"undernameray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643093900,"creation_date":1643093565,"question_id":70844471,"body_markdown":"I am new to Rest API based on Java. The purpose is to obtain an access token from a particular API Token URL by sending a POST request. However, upon running the following program, the access token cannot be used (invalid token) after executing the Post and Get requests.\r\n\r\nI would like to know if there is anything I would need to improve. Note that the requirements to retrieve the JSON data include the following info such as the url, the client_id and the grant_type.\r\n\r\n   \r\n\r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Arrays;\r\n    import java.util.Base64;\r\n    import java.util.Map;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    import static java.util.stream.Collectors.toMap;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            useBearerToken(getAUthToken());\r\n        }\r\n    \r\n        private static String getAUthToken() throws IOException {\r\n            String URL = &quot;http://api/service/get_token&quot;;\r\n            URL obj = new URL(URL);\r\n            String auth = &quot;something&quot;;\r\n            byte[] encodedAuth = Base64.getEncoder().encode(auth.getBytes(StandardCharsets.UTF_8));\r\n            String authHeaderValue = &quot;Basic &quot; + new String(encodedAuth);\r\n            HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n    \r\n            con.setRequestMethod(&quot;POST&quot;);\r\n            con.setRequestProperty(&quot;Authorization&quot;, authHeaderValue);\r\n            con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n            final String POST_PARAMS = &quot;grant_type=client_credentials&amp;client_id=something&quot;;\r\n    \r\n            // Start: For POST only\r\n            con.setDoOutput(true);\r\n            OutputStream os = con.getOutputStream();\r\n            os.write(POST_PARAMS.getBytes());\r\n            os.flush();\r\n            os.close();\r\n    \r\n            // End: For POST only\r\n            int responseCode = con.getResponseCode();\r\n            System.out.println(&quot;POST Response Code :: &quot; + responseCode);\r\n            if (responseCode == HttpURLConnection.HTTP_OK) { //success\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(\r\n                        con.getInputStream()));\r\n                String inputLine;\r\n                StringBuffer response = new StringBuffer();\r\n                while ((inputLine = in.readLine()) != null) {\r\n                    response.append(inputLine);\r\n                }\r\n    \r\n                return get_token(response);\r\n    \r\n            } else {\r\n                throw new IOException(&quot;POST request does not worked&quot;);\r\n            }\r\n        }\r\n    \r\n        private static String get_token(StringBuffer response) {\r\n            String res1 = response.toString();\r\n            String retrieved_token = null;\r\n    \r\n            Map&lt;String, String&gt; skipDuplicatesMap = Stream.of(res1.split(&quot;,&quot;)).\r\n                    map(el -&gt; el.split(&quot;:&quot;)).\r\n                    collect(toMap(arr -&gt; arr[0], arr -&gt; arr[1], (oldValue, newValue) -&gt; oldValue));\r\n    \r\n            for(String key : skipDuplicatesMap.keySet()) {\r\n                if (key.contains(&quot;access_token&quot;)) {\r\n                    retrieved_token = skipDuplicatesMap.get(key);\r\n                }\r\n            }\r\n    \r\n            String the_token = retrieved_token.substring(1,retrieved_token.length() - 1);\r\n    \r\n            return the_token;\r\n        }\r\n    \r\n        private static void useBearerToken(String access_token) throws IOException {\r\n            // Sending get request\r\n            URL url = new URL(&quot;http://api/service/get_records?source=etp&amp;startEntryDate=2022-01-07&amp;endEntryDate=2022-01-22&quot;);\r\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n    \r\n            StringBuffer response = null;\r\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n            con.setRequestMethod(&quot;GET&quot;);\r\n    \r\n            String authString = &quot;Bearer &quot; + access_token;\r\n            con.setRequestProperty(&quot;Authorization&quot;, authString);\r\n            //System.out.println(authString);\r\n    \r\n            int responseCode = con.getResponseCode();\r\n            System.out.println(&quot;GET Response Code :: &quot; + responseCode);\r\n            if (responseCode == HttpURLConnection.HTTP_OK) { // success\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(\r\n                        con.getInputStream()));\r\n                String inputLine;\r\n                response = new StringBuffer();\r\n    \r\n                while ((inputLine = in.readLine()) != null) {\r\n                    response.append(inputLine);\r\n                }\r\n                in.close();\r\n    \r\n                System.out.println(response);\r\n    \r\n            } else {\r\n                System.out.println(&quot;GET request does not worked&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n \r\nThank you so much. If there is anything I am missing, I would be highly appreciated.","title":"Invalid Token Java Post Get/Post Request","body":"<p>I am new to Rest API based on Java. The purpose is to obtain an access token from a particular API Token URL by sending a POST request. However, upon running the following program, the access token cannot be used (invalid token) after executing the Post and Get requests.</p>\n<p>I would like to know if there is anything I would need to improve. Note that the requirements to retrieve the JSON data include the following info such as the url, the client_id and the grant_type.</p>\n<pre><code>import org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Arrays;\nimport java.util.Base64;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nimport static java.util.stream.Collectors.toMap;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        useBearerToken(getAUthToken());\n    }\n\n    private static String getAUthToken() throws IOException {\n        String URL = &quot;http://api/service/get_token&quot;;\n        URL obj = new URL(URL);\n        String auth = &quot;something&quot;;\n        byte[] encodedAuth = Base64.getEncoder().encode(auth.getBytes(StandardCharsets.UTF_8));\n        String authHeaderValue = &quot;Basic &quot; + new String(encodedAuth);\n        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n\n        con.setRequestMethod(&quot;POST&quot;);\n        con.setRequestProperty(&quot;Authorization&quot;, authHeaderValue);\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n        final String POST_PARAMS = &quot;grant_type=client_credentials&amp;client_id=something&quot;;\n\n        // Start: For POST only\n        con.setDoOutput(true);\n        OutputStream os = con.getOutputStream();\n        os.write(POST_PARAMS.getBytes());\n        os.flush();\n        os.close();\n\n        // End: For POST only\n        int responseCode = con.getResponseCode();\n        System.out.println(&quot;POST Response Code :: &quot; + responseCode);\n        if (responseCode == HttpURLConnection.HTTP_OK) { //success\n            BufferedReader in = new BufferedReader(new InputStreamReader(\n                    con.getInputStream()));\n            String inputLine;\n            StringBuffer response = new StringBuffer();\n            while ((inputLine = in.readLine()) != null) {\n                response.append(inputLine);\n            }\n\n            return get_token(response);\n\n        } else {\n            throw new IOException(&quot;POST request does not worked&quot;);\n        }\n    }\n\n    private static String get_token(StringBuffer response) {\n        String res1 = response.toString();\n        String retrieved_token = null;\n\n        Map&lt;String, String&gt; skipDuplicatesMap = Stream.of(res1.split(&quot;,&quot;)).\n                map(el -&gt; el.split(&quot;:&quot;)).\n                collect(toMap(arr -&gt; arr[0], arr -&gt; arr[1], (oldValue, newValue) -&gt; oldValue));\n\n        for(String key : skipDuplicatesMap.keySet()) {\n            if (key.contains(&quot;access_token&quot;)) {\n                retrieved_token = skipDuplicatesMap.get(key);\n            }\n        }\n\n        String the_token = retrieved_token.substring(1,retrieved_token.length() - 1);\n\n        return the_token;\n    }\n\n    private static void useBearerToken(String access_token) throws IOException {\n        // Sending get request\n        URL url = new URL(&quot;http://api/service/get_records?source=etp&amp;startEntryDate=2022-01-07&amp;endEntryDate=2022-01-22&quot;);\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n\n        StringBuffer response = null;\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\n        con.setRequestMethod(&quot;GET&quot;);\n\n        String authString = &quot;Bearer &quot; + access_token;\n        con.setRequestProperty(&quot;Authorization&quot;, authString);\n        //System.out.println(authString);\n\n        int responseCode = con.getResponseCode();\n        System.out.println(&quot;GET Response Code :: &quot; + responseCode);\n        if (responseCode == HttpURLConnection.HTTP_OK) { // success\n            BufferedReader in = new BufferedReader(new InputStreamReader(\n                    con.getInputStream()));\n            String inputLine;\n            response = new StringBuffer();\n\n            while ((inputLine = in.readLine()) != null) {\n                response.append(inputLine);\n            }\n            in.close();\n\n            System.out.println(response);\n\n        } else {\n            System.out.println(&quot;GET request does not worked&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Thank you so much. If there is anything I am missing, I would be highly appreciated.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2881635,"reputation":2419,"user_id":2472398,"display_name":"gru"},"score":0,"creation_date":1643101751,"post_id":70844437,"comment_id":125244266,"body_markdown":"Note that `onSuccess` is not called when the query fails. Could you try the `addOnCompleteListener` as shown in the docs instead? https://firebase.google.com/docs/firestore/quickstart#java_8","body":"Note that <code>onSuccess</code> is not called when the query fails. Could you try the <code>addOnCompleteListener</code> as shown in the docs instead? <a href=\"https://firebase.google.com/docs/firestore/quickstart#java_8\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/quickstart#java_8</a>"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643105796,"post_id":70844437,"comment_id":125245810,"body_markdown":"are you able to get the data?","body":"are you able to get the data?"},{"owner":{"account_id":24045769,"reputation":21,"user_id":18024785,"display_name":"Jyoti"},"score":0,"creation_date":1643112456,"post_id":70844437,"comment_id":125248280,"body_markdown":"Got the type of data I want by iterating `for (QueryDocumentSnapshot document : queryDocumentSnapshots) {\n                    Log.d(&quot;Data&quot;, document);\n                        }`","body":"Got the type of data I want by iterating <code>for (QueryDocumentSnapshot document : queryDocumentSnapshots) {                     Log.d(&quot;Data&quot;, document);                         }</code>"}],"owner":{"account_id":24045769,"reputation":21,"user_id":18024785,"display_name":"Jyoti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1643093587,"creation_date":1643093350,"question_id":70844437,"body_markdown":"I tried to get the data from firebase but I&#39;m not able to add it in a model\r\n\r\n    private void getListItems() {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        db.collection(&quot;users&quot;).document(user.getUid()).collection(&quot;coins&quot;).get()\r\n                .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                           Log.d(&quot;Data&quot;, queryDocumentSnapshots);\r\n                    }\r\n                });\r\n    }\r\n\r\n","title":"How to get firestore data","body":"<p>I tried to get the data from firebase but I'm not able to add it in a model</p>\n<pre><code>private void getListItems() {\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\n    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n    db.collection(&quot;users&quot;).document(user.getUid()).collection(&quot;coins&quot;).get()\n            .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                       Log.d(&quot;Data&quot;, queryDocumentSnapshots);\n                }\n            });\n}\n</code></pre>\n"},{"tags":["java","loops","input","character"],"answers":[{"tags":[],"owner":{"account_id":17032932,"reputation":1632,"user_id":13179199,"display_name":"Erik McKelvey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638605954,"creation_date":1638605954,"answer_id":70224063,"question_id":70224043,"body_markdown":"Your `if` statement is not inside the `while` loop:\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Loop {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        char y;\r\n\r\n        while (true) {\r\n            System.out.println(&quot;Good Morning!!!&quot;);\r\n            y = input.next().charAt(0);\r\n            if (y == &#39;y&#39;) {\r\n                break;\r\n            }\r\n        }\r\n    }   \r\n}\r\n```","title":"Breaking out of an infinite loop after a user inputs a character","body":"<p>Your <code>if</code> statement is not inside the <code>while</code> loop:</p>\n<pre><code>import java.util.Scanner;\npublic class Loop {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        char y;\n\n        while (true) {\n            System.out.println(&quot;Good Morning!!!&quot;);\n            y = input.next().charAt(0);\n            if (y == 'y') {\n                break;\n            }\n        }\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"ʀᴀʜɪʟ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638610427,"creation_date":1638610427,"answer_id":70224469,"question_id":70224043,"body_markdown":"## Acknowledgement\r\n\r\n&gt; A thread is a thread of execution in a program. The Java Virtual Machine allows an application to have multiple threads of execution running concurrently.\r\nEvery thread has a priority. Threads with higher priority are executed in preference to threads with lower priority. Each thread may or may not also be marked as a daemon. When code running in some thread creates a new Thread object, the new thread has its priority initially set equal to the priority of the creating thread, and is a daemon thread if and only if the creating thread is a daemon.\r\n\r\nWhen a Java Virtual Machine starts up, there is usually a single non-daemon thread (which typically calls the method named main of some designated class).\r\nRead more about threads [here][1]\r\n\r\n ## Solutions \r\nBecause both input &amp; loop blocks the thread, you have to put them in seperate thread. Just like this :-\r\n\r\n```\r\npublic class Demo {\r\n    volatile static char input;\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                while (input != &#39;y&#39;){\r\n                    System.out.println(&quot;Good morning !&quot;);\r\n                }\r\n            }\r\n        }).start();\r\n\r\n        input = scanner.next().charAt(0);\r\n    }\r\n}\r\n```\r\nThis will print **&quot;Good morning !&quot;** until the `input != &#39;y&#39;`. On the other hand, we are reading the input from user. As user enteres &#39;y&#39;, the condition get false and loop stops.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html","title":"Breaking out of an infinite loop after a user inputs a character","body":"<h2>Acknowledgement</h2>\n<blockquote>\n<p>A thread is a thread of execution in a program. The Java Virtual Machine allows an application to have multiple threads of execution running concurrently.\nEvery thread has a priority. Threads with higher priority are executed in preference to threads with lower priority. Each thread may or may not also be marked as a daemon. When code running in some thread creates a new Thread object, the new thread has its priority initially set equal to the priority of the creating thread, and is a daemon thread if and only if the creating thread is a daemon.</p>\n</blockquote>\n<p>When a Java Virtual Machine starts up, there is usually a single non-daemon thread (which typically calls the method named main of some designated class).\nRead more about threads <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html\" rel=\"nofollow noreferrer\">here</a></p>\n<h2>Solutions</h2>\n<p>Because both input &amp; loop blocks the thread, you have to put them in seperate thread. Just like this :-</p>\n<pre><code>public class Demo {\n    volatile static char input;\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while (input != 'y'){\n                    System.out.println(&quot;Good morning !&quot;);\n                }\n            }\n        }).start();\n\n        input = scanner.next().charAt(0);\n    }\n}\n</code></pre>\n<p>This will print <strong>&quot;Good morning !&quot;</strong> until the <code>input != 'y'</code>. On the other hand, we are reading the input from user. As user enteres 'y', the condition get false and loop stops.</p>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638613382,"creation_date":1638613382,"answer_id":70224780,"question_id":70224043,"body_markdown":"Try this.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        InputStream input = System.in;\r\n        while (true) {\r\n            System.out.println(&quot;Good Morning!!!&quot;);\r\n            if (input.available() &gt; 0 &amp;&amp; input.read() == &#39;y&#39;)\r\n                break;\r\n        }\r\n    }\r\n","title":"Breaking out of an infinite loop after a user inputs a character","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    InputStream input = System.in;\n    while (true) {\n        System.out.println(&quot;Good Morning!!!&quot;);\n        if (input.available() &gt; 0 &amp;&amp; input.read() == 'y')\n            break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643092948,"creation_date":1643092948,"answer_id":70844380,"question_id":70224043,"body_markdown":"Yes, the code which you have put is actually unreachable. The `while()` loop will go on executing continuously since the if statement is outside the `while()` block. You can put the if statement inside the while block like this.\r\n\r\n    import java.util.Scanner;\r\n    public class Loop {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            char y;\r\n            while (true) {\r\n                System.out.println(&quot;Good Morning!!!&quot;);\r\n                y = input.next().charAt(0);\r\n                if (y == &#39;y&#39;) {\r\n                    break;\r\n                }\r\n            }\r\n        }   \r\n    }","title":"Breaking out of an infinite loop after a user inputs a character","body":"<p>Yes, the code which you have put is actually unreachable. The <code>while()</code> loop will go on executing continuously since the if statement is outside the <code>while()</code> block. You can put the if statement inside the while block like this.</p>\n<pre><code>import java.util.Scanner;\npublic class Loop {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        char y;\n        while (true) {\n            System.out.println(&quot;Good Morning!!!&quot;);\n            y = input.next().charAt(0);\n            if (y == 'y') {\n                break;\n            }\n        }\n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":23542411,"reputation":33,"user_id":17586407,"display_name":"Francis Putnam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1643092948,"creation_date":1638605782,"question_id":70224043,"body_markdown":"I want to make an infinite loop of a message and stops it if a user inputs a character for example &quot;x&quot;. But its getting an error on the if statement saying that it is an unreachable code. Can someone help me.\r\n\r\n    import java.util.Scanner;\r\n    public class Loop {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    Scanner input = new Scanner(System.in);\r\n\t\t    char y;\r\n\r\n\t\t    while (true) {\r\n\t\t\t    System.out.println(&quot;Good Morning!!!&quot;);\r\n\t\t    }\r\n\t\t    y = input.next().charAt(0);\r\n\t\t    if (y == &#39;y&#39;) {\r\n\t\t\t    break;\r\n\t\t    }\r\n\t    }\t\r\n    }\r\n ","title":"Breaking out of an infinite loop after a user inputs a character","body":"<p>I want to make an infinite loop of a message and stops it if a user inputs a character for example &quot;x&quot;. But its getting an error on the if statement saying that it is an unreachable code. Can someone help me.</p>\n<pre><code>import java.util.Scanner;\npublic class Loop {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        char y;\n\n        while (true) {\n            System.out.println(&quot;Good Morning!!!&quot;);\n        }\n        y = input.next().charAt(0);\n        if (y == 'y') {\n            break;\n        }\n    }   \n}\n</code></pre>\n"},{"tags":["java","selenium","file-upload","webdriver"],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643092517,"creation_date":1643092517,"answer_id":70844328,"question_id":70843915,"body_markdown":"The simplest approach is if you see `//input[@type=&#39;file&#39;]` in **HTMLDOM** then you can use it with \r\n\r\n    driver.findElement(by.xpath(&quot;//input[@type=&#39;file&#39;]&quot;)).sendKeys(&quot;full path of the file which is to be uploaded&quot;);","title":"Unable to upload image using Selenium Java","body":"<p>The simplest approach is if you see <code>//input[@type='file']</code> in <strong>HTMLDOM</strong> then you can use it with</p>\n<pre><code>driver.findElement(by.xpath(&quot;//input[@type='file']&quot;)).sendKeys(&quot;full path of the file which is to be uploaded&quot;);\n</code></pre>\n"}],"owner":{"account_id":21350542,"reputation":1,"user_id":15720083,"display_name":"Dipanshu Saini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643092517,"creation_date":1643089379,"question_id":70843915,"body_markdown":"I need to upload the image using Selenium Web driver with Java.\r\nI have tried following ways:\r\n\r\n1. sendkeys() : it isn&#39;t working [xpath used: //input[@id=&#39;brandingContent_AddImage&#39;]]\r\n2. Robot class: works only in local but stops working in the remote and parallel execution.\r\n3. Sikuli : working only if the test execution screen is in focus. Doesn&#39;t work in parallel execution.\r\n4. AutoIT : not tried yet.\r\n\r\n\r\nNeed a way that is able to upload the image successfully and also works in parallel execution.\r\nThanks in advance..!!\r\n\r\nbelow is the HTML Snippet:[HTML IMAGE][1]\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div class=&quot;fileinput fileinput-new col-md-4 pl-1 &quot; data-provides=&quot;fileinput&quot;&gt;                            &lt;div class=&quot;w-100 float-left&quot;&gt;                                &lt;div class=&quot;ctn_img_upload pull-left&quot; id=&quot;uploadView_brandingContent_AddImage&quot; xpath=&quot;1&quot;&gt;                                    &lt;div class=&quot;ad_file&quot;&gt;                                        &lt;span class=&quot;flaticon-plus&quot;&gt;&lt;/span&gt;                                        &lt;input type=&quot;hidden&quot; value=&quot;&quot; name=&quot;&quot;&gt;&lt;input autocomplete=&quot;off&quot; type=&quot;button&quot; data-minsize=&quot;300x600&quot; data-c=&quot;&quot; data-placeholder=&quot;brandingContent_AddImage&quot; id=&quot;brandingContent_AddImage&quot; class=&quot;browse-img fileupload-skin&quot; onclick=&quot;brandingViewGenerator.uploadImage(event)&quot; style=&quot;position: absolute;top: 0;left: -8px;right: 0;bottom: 0;width: 74px;height: 66px;&quot;&gt;                                        &lt;label class=&quot;fileupload-skin-label&quot; for=&quot;editpanel_native_1&quot; id=&quot;&quot;&gt;Upload&lt;/label&gt;                                    &lt;/div&gt;                                &lt;/div&gt;                                &lt;div class=&quot;edit-image&quot; id=&quot;branding_image_preview_brandingContent_AddImage&quot; style=&quot;display:none&quot;&gt;                                    &lt;img id=&quot;imageBlock_brandingContent_AddImage&quot; src=&quot;&quot;&gt;                                    &lt;input class=&quot;delete1 bg-blue-flamingo&quot; type=&quot;button&quot; onclick=&quot;brandingViewGenerator.editImage(event)&quot; id=&quot;edit_brandingContent_AddImage&quot;&gt;                                   &lt;input class=&quot;update bg-blue&quot; type=&quot;button&quot; id=&quot;upload_brandingContent_AddImage&quot; data-minsize=&quot;300x600&quot; onclick=&quot;brandingViewGenerator.uploadImage(event)&quot;&gt;                                &lt;/div&gt;                            &lt;/div&gt;                            &lt;br clear=&quot;all&quot;&gt;                            &lt;input type=&quot;hidden&quot; name=&quot;centerStrech&quot; value=&quot;center&quot;&gt;                        &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Udfw.png","title":"Unable to upload image using Selenium Java","body":"<p>I need to upload the image using Selenium Web driver with Java.\nI have tried following ways:</p>\n<ol>\n<li>sendkeys() : it isn't working [xpath used: //input[@id='brandingContent_AddImage']]</li>\n<li>Robot class: works only in local but stops working in the remote and parallel execution.</li>\n<li>Sikuli : working only if the test execution screen is in focus. Doesn't work in parallel execution.</li>\n<li>AutoIT : not tried yet.</li>\n</ol>\n<p>Need a way that is able to upload the image successfully and also works in parallel execution.\nThanks in advance..!!</p>\n<p>below is the HTML Snippet:<a href=\"https://i.stack.imgur.com/8Udfw.png\" rel=\"nofollow noreferrer\">HTML IMAGE</a></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"fileinput fileinput-new col-md-4 pl-1 \" data-provides=\"fileinput\"&gt;                            &lt;div class=\"w-100 float-left\"&gt;                                &lt;div class=\"ctn_img_upload pull-left\" id=\"uploadView_brandingContent_AddImage\" xpath=\"1\"&gt;                                    &lt;div class=\"ad_file\"&gt;                                        &lt;span class=\"flaticon-plus\"&gt;&lt;/span&gt;                                        &lt;input type=\"hidden\" value=\"\" name=\"\"&gt;&lt;input autocomplete=\"off\" type=\"button\" data-minsize=\"300x600\" data-c=\"\" data-placeholder=\"brandingContent_AddImage\" id=\"brandingContent_AddImage\" class=\"browse-img fileupload-skin\" onclick=\"brandingViewGenerator.uploadImage(event)\" style=\"position: absolute;top: 0;left: -8px;right: 0;bottom: 0;width: 74px;height: 66px;\"&gt;                                        &lt;label class=\"fileupload-skin-label\" for=\"editpanel_native_1\" id=\"\"&gt;Upload&lt;/label&gt;                                    &lt;/div&gt;                                &lt;/div&gt;                                &lt;div class=\"edit-image\" id=\"branding_image_preview_brandingContent_AddImage\" style=\"display:none\"&gt;                                    &lt;img id=\"imageBlock_brandingContent_AddImage\" src=\"\"&gt;                                    &lt;input class=\"delete1 bg-blue-flamingo\" type=\"button\" onclick=\"brandingViewGenerator.editImage(event)\" id=\"edit_brandingContent_AddImage\"&gt;                                   &lt;input class=\"update bg-blue\" type=\"button\" id=\"upload_brandingContent_AddImage\" data-minsize=\"300x600\" onclick=\"brandingViewGenerator.uploadImage(event)\"&gt;                                &lt;/div&gt;                            &lt;/div&gt;                            &lt;br clear=\"all\"&gt;                            &lt;input type=\"hidden\" name=\"centerStrech\" value=\"center\"&gt;                        &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"display_name":"user1907906"},"score":0,"creation_date":1420644560,"post_id":27822703,"comment_id":44051320,"body_markdown":"Can you give an example of a match and a miss? Must *all* elements in `subTypes` match?","body":"Can you give an example of a match and a miss? Must <i>all</i> elements in <code>subTypes</code> match?"},{"owner":{"account_id":2325665,"reputation":18438,"user_id":2040251,"display_name":"kraskevich"},"score":0,"creation_date":1420644573,"post_id":27822703,"comment_id":44051332,"body_markdown":"Do you want to filter `subTypes` or what?","body":"Do you want to filter <code>subTypes</code> or what?"},{"owner":{"display_name":"user1907906"},"score":0,"creation_date":1420644911,"post_id":27822703,"comment_id":44051588,"body_markdown":"What do you mean exactly by &quot;another filter on each of the subTypes filtering those on a particular subtype&quot;? Please give an example.","body":"What do you mean exactly by &quot;another filter on each of the subTypes filtering those on a particular subtype&quot;? Please give an example."}],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1420646286,"creation_date":1420644739,"answer_id":27822859,"question_id":27822703,"body_markdown":"You can do:\r\n\r\n    myObjects.stream()\r\n             .filter(t -&gt; t.getType().equals(someotherType) &amp;&amp; \r\n                          t.getSubTypes().stream().anyMatch(&lt;predicate&gt;))\r\n             .collect(Collectors.toList());\r\n\r\nThis will fetch all the `MyObject` objects which \r\n\r\n - meet a criteria regarding the `type` member.\r\n - contain objects in the nested `List&lt;String&gt;` that meet some other criteria, represented with `&lt;predicate&gt;`","title":"Java 8 Stream filtering value of list in a list","body":"<p>You can do:</p>\n\n<pre><code>myObjects.stream()\n         .filter(t -&gt; t.getType().equals(someotherType) &amp;&amp; \n                      t.getSubTypes().stream().anyMatch(&lt;predicate&gt;))\n         .collect(Collectors.toList());\n</code></pre>\n\n<p>This will fetch all the <code>MyObject</code> objects which </p>\n\n<ul>\n<li>meet a criteria regarding the <code>type</code> member.</li>\n<li>contain objects in the nested <code>List&lt;String&gt;</code> that meet some other criteria, represented with <code>&lt;predicate&gt;</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2453232,"reputation":18871,"user_id":2138993,"accept_rate":50,"display_name":"wassgren"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1420650441,"creation_date":1420650441,"answer_id":27824720,"question_id":27822703,"body_markdown":"I saw the accepted answer from @kocko which is both a good answer and totally correct. However there is a slightly alternative approach where you simply chain the filters. \r\n\r\n    final List&lt;MyObject&gt; withBZ = myObjects.stream()\r\n            .filter(myObj -&gt; myObj.getType().equals(&quot;B&quot;))\r\n            .filter(myObj -&gt; myObj.getSubTypes().stream().anyMatch(&quot;Z&quot;::equals))\r\n            .collect(Collectors.toList());\r\n\r\nThis is basically doing the same thing but the `&amp;&amp;` operand is removed in favour of another filter. Chaining works really well for the Java 8 Stream API:s and IMO it is easier to read and follow the code.","title":"Java 8 Stream filtering value of list in a list","body":"<p>I saw the accepted answer from @kocko which is both a good answer and totally correct. However there is a slightly alternative approach where you simply chain the filters. </p>\n\n<pre><code>final List&lt;MyObject&gt; withBZ = myObjects.stream()\n        .filter(myObj -&gt; myObj.getType().equals(\"B\"))\n        .filter(myObj -&gt; myObj.getSubTypes().stream().anyMatch(\"Z\"::equals))\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>This is basically doing the same thing but the <code>&amp;&amp;</code> operand is removed in favour of another filter. Chaining works really well for the Java 8 Stream API:s and IMO it is easier to read and follow the code.</p>\n"},{"tags":[],"owner":{"account_id":5869831,"reputation":577,"user_id":4622459,"display_name":"rjose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643092423,"creation_date":1643092423,"answer_id":70844314,"question_id":27822703,"body_markdown":"I found a bunch of examples at this site: https://zetcode.com/java/streamfilter/\r\n\r\nQuoting the example for Java Stream multiple filter operations\r\n\r\nIt is possible to apply multiple filter operations on a stream.\r\n\r\n\r\n\r\n    package com.zetcode;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.function.IntConsumer;\r\n\r\n    public class JavaStreamMultipleFilters {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] inums = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15 };\r\n        \r\n        IntConsumer icons = i -&gt; System.out.print(i + &quot; &quot;);\r\n        \r\n        Arrays.stream(inums).filter(e -&gt; e &lt; 6 || e &gt; 10)\r\n                .filter(e -&gt; e % 2 == 0).forEach(icons);\r\n    }\r\n}\r\n\r\nIn the example, we apply multiple filter operations on a stream of integers.\r\n\r\n    int[] inums = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15 };\r\n\r\nWe have an array of integer values.\r\n\r\n    IntConsumer icons = i -&gt; System.out.print(i + &quot; &quot;);\r\n\r\nIntConsumer is an operation that accepts a single integer value argument and returns no result.\r\n\r\n    Arrays.stream(inums).filter(e -&gt; e &lt; 6 || e &gt; 10)\r\n            .filter(e -&gt; e % 2 == 0).forEach(icons);\r\n\r\nA stream is created from the array with the Arrays.stream method. Multiple filtering operations are performed.\r\n\r\n2 4 12 14 \r\n\r\nThese integers fulfill all the filtering conditions. \r\n","title":"Java 8 Stream filtering value of list in a list","body":"<p>I found a bunch of examples at this site: <a href=\"https://zetcode.com/java/streamfilter/\" rel=\"nofollow noreferrer\">https://zetcode.com/java/streamfilter/</a></p>\n<p>Quoting the example for Java Stream multiple filter operations</p>\n<p>It is possible to apply multiple filter operations on a stream.</p>\n<pre><code>package com.zetcode;\n\nimport java.util.Arrays;\nimport java.util.function.IntConsumer;\n\npublic class JavaStreamMultipleFilters {\n\npublic static void main(String[] args) {\n\n    int[] inums = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15 };\n    \n    IntConsumer icons = i -&gt; System.out.print(i + &quot; &quot;);\n    \n    Arrays.stream(inums).filter(e -&gt; e &lt; 6 || e &gt; 10)\n            .filter(e -&gt; e % 2 == 0).forEach(icons);\n}\n</code></pre>\n<p>}</p>\n<p>In the example, we apply multiple filter operations on a stream of integers.</p>\n<pre><code>int[] inums = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15 };\n</code></pre>\n<p>We have an array of integer values.</p>\n<pre><code>IntConsumer icons = i -&gt; System.out.print(i + &quot; &quot;);\n</code></pre>\n<p>IntConsumer is an operation that accepts a single integer value argument and returns no result.</p>\n<pre><code>Arrays.stream(inums).filter(e -&gt; e &lt; 6 || e &gt; 10)\n        .filter(e -&gt; e % 2 == 0).forEach(icons);\n</code></pre>\n<p>A stream is created from the array with the Arrays.stream method. Multiple filtering operations are performed.</p>\n<p>2 4 12 14</p>\n<p>These integers fulfill all the filtering conditions.</p>\n"}],"owner":{"account_id":5261131,"reputation":452,"user_id":4202648,"accept_rate":75,"display_name":"Simon Kent"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44616,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":27822859,"answer_count":3,"score":14,"last_activity_date":1643092423,"creation_date":1420644327,"question_id":27822703,"body_markdown":"I have a an object which looks like the following\r\n\r\n    class MyObject {\r\n\t\r\n\t    String type;\r\n\t    List&lt;String&gt; subTypes;\r\n\r\n    }\r\n\r\nIs it possible, given a list of MyObject&#39;s to use Java 8 streams to filter on both the type and then the subtype?\r\n\r\nSo far I have\r\n\r\n\tmyObjects.stream()\r\n\t\t.filter(t -&gt; t.getType().equals(someotherType)\r\n\t\t.collect(Collections.toList());\r\n\t\t\r\nbut within this I also want another filter on _each_ of the subTypes filtering those on a particular subtype too.  I can&#39;t figure out how to do this.\r\n\r\nAn example would be\r\n\r\n    myObject { type: A, subTypes [ { X, Y, Z } ] }\r\n    myObject { type: B, subTypes [ { W, X, Y } ] }\r\n    myObject { type: B, subTypes [ { W, X, Z } ] }\r\n    myObject { type: C, subTypes [ { W, X, Z } ] }\r\n\r\nI would pass in matchType B and subType Z, so I would expect one result -&gt; myObject type B, subtypes: W, X, Z\r\n\r\nthe following currently returns 2 items in a list.\r\n\r\n    myObjects.stream()\r\n\t\t.filter(t -&gt; t.getType().equals(&quot;B&quot;)\r\n\t\t.collect(Collectors.toList());\r\n\r\nbut I would like to add an additional filter over the each of the subtypes and only matching where &#39;Z&#39; is present.","title":"Java 8 Stream filtering value of list in a list","body":"<p>I have a an object which looks like the following</p>\n\n<pre><code>class MyObject {\n\n    String type;\n    List&lt;String&gt; subTypes;\n\n}\n</code></pre>\n\n<p>Is it possible, given a list of MyObject's to use Java 8 streams to filter on both the type and then the subtype?</p>\n\n<p>So far I have</p>\n\n<pre><code>myObjects.stream()\n    .filter(t -&gt; t.getType().equals(someotherType)\n    .collect(Collections.toList());\n</code></pre>\n\n<p>but within this I also want another filter on <em>each</em> of the subTypes filtering those on a particular subtype too.  I can't figure out how to do this.</p>\n\n<p>An example would be</p>\n\n<pre><code>myObject { type: A, subTypes [ { X, Y, Z } ] }\nmyObject { type: B, subTypes [ { W, X, Y } ] }\nmyObject { type: B, subTypes [ { W, X, Z } ] }\nmyObject { type: C, subTypes [ { W, X, Z } ] }\n</code></pre>\n\n<p>I would pass in matchType B and subType Z, so I would expect one result -> myObject type B, subtypes: W, X, Z</p>\n\n<p>the following currently returns 2 items in a list.</p>\n\n<pre><code>myObjects.stream()\n    .filter(t -&gt; t.getType().equals(\"B\")\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>but I would like to add an additional filter over the each of the subtypes and only matching where 'Z' is present.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"score":0,"creation_date":1643091592,"post_id":70844145,"comment_id":125241244,"body_markdown":"Use tab change listener. Call the method when tab changed.","body":"Use tab change listener. Call the method when tab changed."},{"owner":{"account_id":22067852,"reputation":21,"user_id":16329408,"display_name":"SmittyWerben"},"score":0,"creation_date":1643094072,"post_id":70844145,"comment_id":125241742,"body_markdown":"Thanks, that helped. I&#39;m calling a static method in my fragment from the activity using the tab change listener.","body":"Thanks, that helped. I&#39;m calling a static method in my fragment from the activity using the tab change listener."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643830780,"post_id":70844145,"comment_id":125446478,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":14590392,"reputation":141,"user_id":10537729,"display_name":"Priyaank"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643091752,"creation_date":1643091752,"answer_id":70844213,"question_id":70844145,"body_markdown":"If you are using “import android.app.Fragment;”  \r\n\r\n    ExampleFragment fragment = (ExampleFragment) getFragmentManager().findFragmentById(R.id.example_fragment);\r\n    fragment.&lt;specific_function_name&gt;(); ","title":"call a method when tab changed fragment","body":"<p>If you are using “import android.app.Fragment;”</p>\n<pre><code>ExampleFragment fragment = (ExampleFragment) getFragmentManager().findFragmentById(R.id.example_fragment);\nfragment.&lt;specific_function_name&gt;(); \n</code></pre>\n"}],"owner":{"account_id":22067852,"reputation":21,"user_id":16329408,"display_name":"SmittyWerben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643092088,"creation_date":1643091186,"question_id":70844145,"body_markdown":"I build an Android App with 3 Tabs. Now I want to call a method, when I switch between this 3 fragments to update the view of the fragments. But the onResume() method doesn&#39;t work for that. Do you have any ideas how to call a method in a fragment, when switching to it ?\r\nThank you.","title":"call a method when tab changed fragment","body":"<p>I build an Android App with 3 Tabs. Now I want to call a method, when I switch between this 3 fragments to update the view of the fragments. But the onResume() method doesn't work for that. Do you have any ideas how to call a method in a fragment, when switching to it ?\nThank you.</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data-elasticsearch","spring-repositories"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1643091928,"creation_date":1643091928,"answer_id":70844241,"question_id":70840905,"body_markdown":"The date that is store in your index seems to be a local date (&quot;2022-01-01&quot;, no time zone, no timestamp). `java.util.Date` is an instant in time in the UTC timezone. You cannot convert a date-only string into a Date. Your pattern String that contains a time that does not match the string either.\r\n\r\nAnd don&#39;t use the ancient `java.util.Date` class, use the classes from the `java.time` package which are available since Java 8.\r\n\r\nYou should use\r\n````java\r\n@Field(type = Date, format = DateFormat.date)\r\nLocalDate created;\r\n````\r\n\r\nand have the index recreated to adjust the mapping.\r\n","title":"Date Conversion Exception in Spring Boot and ElasticSearch Document","body":"<p>The date that is store in your index seems to be a local date (&quot;2022-01-01&quot;, no time zone, no timestamp). <code>java.util.Date</code> is an instant in time in the UTC timezone. You cannot convert a date-only string into a Date. Your pattern String that contains a time that does not match the string either.</p>\n<p>And don't use the ancient <code>java.util.Date</code> class, use the classes from the <code>java.time</code> package which are available since Java 8.</p>\n<p>You should use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Field(type = Date, format = DateFormat.date)\nLocalDate created;\n</code></pre>\n<p>and have the index recreated to adjust the mapping.</p>\n"}],"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643091928,"creation_date":1643060775,"question_id":70840905,"body_markdown":"While i running my Spring Boot code (with have ElasticSearch), i give an error. \r\n\r\ni want to list get that all exist element in my elasticsearch vehicle document\r\n\r\n    org.springframework.data.elasticsearch.core.convert.ConversionException: Unable to convert value &#39;2022-01-01&#39; to java.util.Date for property &#39;created&#39;\r\n\r\ni tried [this][1] and [this][2] links.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30821617/elasticsearch-and-springdata-findall-and-orderby\r\n  [2]: https://stackoverflow.com/questions/68251141/springboot-elasticsearch-date-convert-conversionexception\r\n\r\nBut didnt work. \r\n\r\n\r\n\r\nHow can i fix this problem.?\r\n\r\nFollowing code its my Vehicle class.\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Document(indexName = Indicies.VEHICLE_INDEX)\r\n    public class Vehicle {\r\n\r\n    @Id\r\n    @Field(type = FieldType.Keyword)\r\n    private String id;\r\n\r\n    @Field(type = FieldType.Text)\r\n    private String number;\r\n\r\n    @Field(type = FieldType.Text)\r\n    private String name;\r\n\r\n    @Field(type = FieldType.Date, format = DateFormat.date, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssz&quot;)\r\n    private Date created;\r\n\r\n    }\r\n\r\n\r\n\r\nFollowing interface its my VehicleRepository Interface\r\n\r\n```\r\npublic interface VehicleRepository extends ElasticsearchRepository&lt;Vehicle, String&gt; {\r\n\r\n    Page&lt;Vehicle&gt; findAll();\r\n\r\n}\r\n```\r\n\r\n\r\nFollowing code its my Service Method for getList\r\n\r\n```\r\n    public List&lt;Vehicle&gt; getVehicleList() {\r\n        return vehicleRepository.findAll().getContent();\r\n    }\r\n```\r\n\r\nFollowing code its my Vehicle Controller Endpoint\r\n\r\n```\r\n    private final VehicleService vehicleService;\r\n\r\n    @GetMapping(&quot;/vehicle-list&quot;)\r\n    public List&lt;Vehicle&gt; getVehicleList() {\r\n        return vehicleService.getVehicleList();\r\n    }\r\n```","title":"Date Conversion Exception in Spring Boot and ElasticSearch Document","body":"<p>While i running my Spring Boot code (with have ElasticSearch), i give an error.</p>\n<p>i want to list get that all exist element in my elasticsearch vehicle document</p>\n<pre><code>org.springframework.data.elasticsearch.core.convert.ConversionException: Unable to convert value '2022-01-01' to java.util.Date for property 'created'\n</code></pre>\n<p>i tried <a href=\"https://stackoverflow.com/questions/30821617/elasticsearch-and-springdata-findall-and-orderby\">this</a> and <a href=\"https://stackoverflow.com/questions/68251141/springboot-elasticsearch-date-convert-conversionexception\">this</a> links.</p>\n<p>But didnt work.</p>\n<p>How can i fix this problem.?</p>\n<p>Following code its my Vehicle class.</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Document(indexName = Indicies.VEHICLE_INDEX)\npublic class Vehicle {\n\n@Id\n@Field(type = FieldType.Keyword)\nprivate String id;\n\n@Field(type = FieldType.Text)\nprivate String number;\n\n@Field(type = FieldType.Text)\nprivate String name;\n\n@Field(type = FieldType.Date, format = DateFormat.date, pattern = &quot;yyyy-MM-dd'T'HH:mm:ssz&quot;)\nprivate Date created;\n\n}\n</code></pre>\n<p>Following interface its my VehicleRepository Interface</p>\n<pre><code>public interface VehicleRepository extends ElasticsearchRepository&lt;Vehicle, String&gt; {\n\n    Page&lt;Vehicle&gt; findAll();\n\n}\n</code></pre>\n<p>Following code its my Service Method for getList</p>\n<pre><code>    public List&lt;Vehicle&gt; getVehicleList() {\n        return vehicleRepository.findAll().getContent();\n    }\n</code></pre>\n<p>Following code its my Vehicle Controller Endpoint</p>\n<pre><code>    private final VehicleService vehicleService;\n\n    @GetMapping(&quot;/vehicle-list&quot;)\n    public List&lt;Vehicle&gt; getVehicleList() {\n        return vehicleService.getVehicleList();\n    }\n</code></pre>\n"},{"tags":["java","generics","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1643021521,"post_id":70832202,"comment_id":125220629,"body_markdown":"Don’t edit the question to add an answer. [Add an answer](https://stackoverflow.com/help/self-answer) to add an answer.","body":"Don’t edit the question to add an answer. <a href=\"https://stackoverflow.com/help/self-answer\">Add an answer</a> to add an answer."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1643022310,"post_id":70832202,"comment_id":125220884,"body_markdown":"Don’t use raw types.","body":"Don’t use raw types."},{"owner":{"account_id":21654352,"reputation":57,"user_id":15974441,"display_name":"kanka.dev"},"score":0,"creation_date":1643030783,"post_id":70832202,"comment_id":125224039,"body_markdown":"@jewelsea: Thanks, but was not possible.","body":"@jewelsea: Thanks, but was not possible."},{"owner":{"account_id":21654352,"reputation":57,"user_id":15974441,"display_name":"kanka.dev"},"score":0,"creation_date":1643030865,"post_id":70832202,"comment_id":125224071,"body_markdown":"@James_D Ok, thanks. I will read about that to understand what, why, how.","body":"@James_D Ok, thanks. I will read about that to understand what, why, how."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1643030955,"post_id":70832202,"comment_id":125224100,"body_markdown":"@kanka.dev You have sufficient reputation to answer your own question.","body":"@kanka.dev You have sufficient reputation to answer your own question."},{"owner":{"account_id":21654352,"reputation":57,"user_id":15974441,"display_name":"kanka.dev"},"score":0,"creation_date":1643034883,"post_id":70832202,"comment_id":125225761,"body_markdown":"@James_D I tried multiple times. I can&#39;t answer.","body":"@James_D I tried multiple times. I can&#39;t answer."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643084934,"creation_date":1643061355,"answer_id":70840978,"question_id":70832202,"body_markdown":"**Solution: Use `StringExpression`**\r\n\r\nAll of the values passed to your `createTextField` methods are StringExpressions, so you can create a single method that takes a [StringExpression][1] as a parameter.\r\n\r\nYou can write your example method like this:\r\n\r\n    private void createTextField(\r\n            StringExpression property,\r\n            int column,\r\n            int row\r\n    ) {\r\n        TextField textField = new TextField();\r\n        textField.textProperty().bind(property);\r\n        form.add(textField, column, row);\r\n    }  \r\n\r\nUsing a `StringExpression` is preferable to using an `ObservableValue` as defined in your updated question.\r\n\r\n**Explanation**\r\n\r\nA text field must be bound to an ObservableValue which is a string (type `ObservableValue&lt;? extends String&gt;`).  \r\n\r\nIf you don&#39;t use generics in the type specification for your parameter and just use a raw type (without the part including `&lt;&gt;`), then you lose type safety, so compile-time type checks are not made.  For example, the compiler would allow you to pass an Integer-based rather than String-based ObservableValue into the method.  If you did that, on execution, you would get a runtime error due to a type mismatch because an Integer cannot be directly treated as a String.\r\n\r\nA `StringExpression` implements `ObservableValue&lt;String&gt;`, so that means that a text field can bind to it directly and type safety at compile time is retained.\r\n\r\n**Executable example**\r\n\r\n[![screenshot][2]][2]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.binding.StringExpression;\r\n    import javafx.beans.property.*;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.time.Instant;\r\n    \r\n    public class BindSample extends Application {\r\n        private final FileModel fileModel = new FileModel(\r\n                1, Instant.now(), &quot;test.txt&quot;, Instant.now().toEpochMilli()\r\n        );\r\n    \r\n        private final GridPane form = new GridPane();\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            form.setHgap(5);\r\n            form.setVgap(5);\r\n            form.setPadding(new Insets(10));\r\n    \r\n            form.addColumn(0,\r\n                    new Label(&quot;Id&quot;),\r\n                    new Label(&quot;Date&quot;),\r\n                    new Label(&quot;FileName&quot;),\r\n                    new Label(),\r\n                    new Label(),\r\n                    new Label(&quot;Last Modified&quot;)\r\n            );\r\n    \r\n            createTextField(fileModel.idProperty().asString(), 1, 0); // ReadOnlyIntegerProperty\r\n            createTextField(fileModel.dateProperty().asString(), 1, 1); // ReadOnlyObjectProperty\r\n            createTextField(fileModel.fileNameProperty(), 1, 2); // ReadOnlyStringProperty\r\n            createTextField(fileModel.lastModifiedProperty().asString(), 1, 5); // ReadOnlyLongProperty\r\n    \r\n            stage.setScene(new Scene(form));\r\n            stage.show();\r\n        }\r\n    \r\n        private void createTextField(\r\n                StringExpression property,\r\n                int column,\r\n                int row\r\n        ) {\r\n            TextField textField = new TextField();\r\n            textField.textProperty().bind(property);\r\n            form.add(textField, column, row);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        private static class FileModel {\r\n            private final ReadOnlyIntegerWrapper id;\r\n            private final ReadOnlyObjectWrapper&lt;Instant&gt; date;\r\n            private final ReadOnlyStringWrapper fileName;\r\n            private final ReadOnlyLongWrapper lastModified;\r\n    \r\n            public FileModel(int id, Instant date, String fileName, long lastModified) {\r\n                this.id = new ReadOnlyIntegerWrapper(id);\r\n                this.date = new ReadOnlyObjectWrapper&lt;&gt;(date);\r\n                this.fileName = new ReadOnlyStringWrapper(fileName);\r\n                this.lastModified = new ReadOnlyLongWrapper(lastModified);\r\n            }\r\n    \r\n            public int getId() {\r\n                return id.get();\r\n            }\r\n    \r\n            public ReadOnlyIntegerProperty idProperty() {\r\n                return id.getReadOnlyProperty();\r\n            }\r\n    \r\n            public Instant getDate() {\r\n                return date.get();\r\n            }\r\n    \r\n            public ReadOnlyObjectProperty&lt;Instant&gt; dateProperty() {\r\n                return date.getReadOnlyProperty();\r\n            }\r\n    \r\n            public String getFileName() {\r\n                return fileName.get();\r\n            }\r\n    \r\n            public ReadOnlyStringProperty fileNameProperty() {\r\n                return fileName.getReadOnlyProperty();\r\n            }\r\n    \r\n            public long getLastModified() {\r\n                return lastModified.get();\r\n            }\r\n    \r\n            public ReadOnlyLongProperty lastModifiedProperty() {\r\n                return lastModified.getReadOnlyProperty();\r\n            }\r\n        }\r\n    }\r\n\r\n*Minor implementation notes*\r\n\r\n 1. The example uses ReadOnlyPropertys when demonstrating the binding to match your question sample code.  But for this simple example, if the model object were immutable, then a Record without Bindings could be used instead.  This can simplify the logic if you know the data never changes.\r\n\r\n 2. In the example, I use an `Instant` to represent a date as a precise moment in time, but you could use a `ZonedDateTime` for better date representation (or `LocalDateTime` or `LocalDate` if the ambiguity was OK), see [Java date representations](https://stackoverflow.com/a/32443004/1155209) if you want to understand this.\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.base/javafx/beans/binding/StringExpression.html\r\n  [2]: https://i.stack.imgur.com/0QaqO.png","title":"How to pass StringBinding and ReadOnlyProperty as generic arguments?","body":"<p><strong>Solution: Use <code>StringExpression</code></strong></p>\n<p>All of the values passed to your <code>createTextField</code> methods are StringExpressions, so you can create a single method that takes a <a href=\"https://openjfx.io/javadoc/17/javafx.base/javafx/beans/binding/StringExpression.html\" rel=\"nofollow noreferrer\">StringExpression</a> as a parameter.</p>\n<p>You can write your example method like this:</p>\n<pre><code>private void createTextField(\n        StringExpression property,\n        int column,\n        int row\n) {\n    TextField textField = new TextField();\n    textField.textProperty().bind(property);\n    form.add(textField, column, row);\n}  \n</code></pre>\n<p>Using a <code>StringExpression</code> is preferable to using an <code>ObservableValue</code> as defined in your updated question.</p>\n<p><strong>Explanation</strong></p>\n<p>A text field must be bound to an ObservableValue which is a string (type <code>ObservableValue&lt;? extends String&gt;</code>).</p>\n<p>If you don't use generics in the type specification for your parameter and just use a raw type (without the part including <code>&lt;&gt;</code>), then you lose type safety, so compile-time type checks are not made.  For example, the compiler would allow you to pass an Integer-based rather than String-based ObservableValue into the method.  If you did that, on execution, you would get a runtime error due to a type mismatch because an Integer cannot be directly treated as a String.</p>\n<p>A <code>StringExpression</code> implements <code>ObservableValue&lt;String&gt;</code>, so that means that a text field can bind to it directly and type safety at compile time is retained.</p>\n<p><strong>Executable example</strong></p>\n<p><a href=\"https://i.stack.imgur.com/0QaqO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0QaqO.png\" alt=\"screenshot\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.binding.StringExpression;\nimport javafx.beans.property.*;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.GridPane;\nimport javafx.stage.Stage;\n\nimport java.time.Instant;\n\npublic class BindSample extends Application {\n    private final FileModel fileModel = new FileModel(\n            1, Instant.now(), &quot;test.txt&quot;, Instant.now().toEpochMilli()\n    );\n\n    private final GridPane form = new GridPane();\n\n    @Override\n    public void start(Stage stage) {\n        form.setHgap(5);\n        form.setVgap(5);\n        form.setPadding(new Insets(10));\n\n        form.addColumn(0,\n                new Label(&quot;Id&quot;),\n                new Label(&quot;Date&quot;),\n                new Label(&quot;FileName&quot;),\n                new Label(),\n                new Label(),\n                new Label(&quot;Last Modified&quot;)\n        );\n\n        createTextField(fileModel.idProperty().asString(), 1, 0); // ReadOnlyIntegerProperty\n        createTextField(fileModel.dateProperty().asString(), 1, 1); // ReadOnlyObjectProperty\n        createTextField(fileModel.fileNameProperty(), 1, 2); // ReadOnlyStringProperty\n        createTextField(fileModel.lastModifiedProperty().asString(), 1, 5); // ReadOnlyLongProperty\n\n        stage.setScene(new Scene(form));\n        stage.show();\n    }\n\n    private void createTextField(\n            StringExpression property,\n            int column,\n            int row\n    ) {\n        TextField textField = new TextField();\n        textField.textProperty().bind(property);\n        form.add(textField, column, row);\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    private static class FileModel {\n        private final ReadOnlyIntegerWrapper id;\n        private final ReadOnlyObjectWrapper&lt;Instant&gt; date;\n        private final ReadOnlyStringWrapper fileName;\n        private final ReadOnlyLongWrapper lastModified;\n\n        public FileModel(int id, Instant date, String fileName, long lastModified) {\n            this.id = new ReadOnlyIntegerWrapper(id);\n            this.date = new ReadOnlyObjectWrapper&lt;&gt;(date);\n            this.fileName = new ReadOnlyStringWrapper(fileName);\n            this.lastModified = new ReadOnlyLongWrapper(lastModified);\n        }\n\n        public int getId() {\n            return id.get();\n        }\n\n        public ReadOnlyIntegerProperty idProperty() {\n            return id.getReadOnlyProperty();\n        }\n\n        public Instant getDate() {\n            return date.get();\n        }\n\n        public ReadOnlyObjectProperty&lt;Instant&gt; dateProperty() {\n            return date.getReadOnlyProperty();\n        }\n\n        public String getFileName() {\n            return fileName.get();\n        }\n\n        public ReadOnlyStringProperty fileNameProperty() {\n            return fileName.getReadOnlyProperty();\n        }\n\n        public long getLastModified() {\n            return lastModified.get();\n        }\n\n        public ReadOnlyLongProperty lastModifiedProperty() {\n            return lastModified.getReadOnlyProperty();\n        }\n    }\n}\n</code></pre>\n<p><em>Minor implementation notes</em></p>\n<ol>\n<li><p>The example uses ReadOnlyPropertys when demonstrating the binding to match your question sample code.  But for this simple example, if the model object were immutable, then a Record without Bindings could be used instead.  This can simplify the logic if you know the data never changes.</p>\n</li>\n<li><p>In the example, I use an <code>Instant</code> to represent a date as a precise moment in time, but you could use a <code>ZonedDateTime</code> for better date representation (or <code>LocalDateTime</code> or <code>LocalDate</code> if the ambiguity was OK), see <a href=\"https://stackoverflow.com/a/32443004/1155209\">Java date representations</a> if you want to understand this.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":21654352,"reputation":57,"user_id":15974441,"display_name":"kanka.dev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70840978,"answer_count":1,"score":2,"last_activity_date":1643091905,"creation_date":1643019422,"question_id":70832202,"body_markdown":"I have two methods in my JavaFX-code for creating TextFields with Bindings. I have to bind `ReadOnlyProperty` or `StringBinding`. So I created two methods with different method signatures but with the same code in the block.\r\n\r\nHow can I simplify my code (with generics?) to handle all the different Properties (String, Long, Object etc.)?\r\n\r\n````\r\ncreateTextField(knkFile.idProperty().asString(), 1, 0); // ReadOnlyIntegerProperty\r\ncreateTextField(knkFile.dateProperty().asString(), 1, 1); // ReadOnlyObjectProperty\r\ncreateTextField(knkFile.fileNameProperty(), 1, 2); // ReadOnlyStringProperty\r\ncreateTextField(knkFile.lastModifiedProperty().asString(), 1, 5); // ReadOnlyLongProperty\r\n````\r\n\r\n````\r\nprivate void createTextField(ReadOnlyProperty property, int column, int row) {\r\n    TextField textField = new TextField();\r\n    textField.textProperty().bind(property);\r\n    this.add(textField, column, row); // add to GridPane\r\n}\r\n\r\nprivate void createTextField(StringBinding binding, int column, int row) {\r\n    TextField textField = new TextField();\r\n    textField.textProperty().bind(binding);\r\n    this.add(textField, column, row);\r\n}\r\n````\r\n\r\n# Edit: own answer (deprecated - see accepted answer)\r\nI just saw that `StringBinding` and `ReadOnlyProperty` implement `ObservableValue`. So I only need this method now:\r\n\r\n    private void createTextField(ObservableValue property, int column, int row) {\r\n        TextField textField = new TextField();\r\n        textField.textProperty().bind(property);\r\n        this.add(textField, column, row);\r\n    }\r\n\r\n","title":"How to pass StringBinding and ReadOnlyProperty as generic arguments?","body":"<p>I have two methods in my JavaFX-code for creating TextFields with Bindings. I have to bind <code>ReadOnlyProperty</code> or <code>StringBinding</code>. So I created two methods with different method signatures but with the same code in the block.</p>\n<p>How can I simplify my code (with generics?) to handle all the different Properties (String, Long, Object etc.)?</p>\n<pre><code>createTextField(knkFile.idProperty().asString(), 1, 0); // ReadOnlyIntegerProperty\ncreateTextField(knkFile.dateProperty().asString(), 1, 1); // ReadOnlyObjectProperty\ncreateTextField(knkFile.fileNameProperty(), 1, 2); // ReadOnlyStringProperty\ncreateTextField(knkFile.lastModifiedProperty().asString(), 1, 5); // ReadOnlyLongProperty\n</code></pre>\n<pre><code>private void createTextField(ReadOnlyProperty property, int column, int row) {\n    TextField textField = new TextField();\n    textField.textProperty().bind(property);\n    this.add(textField, column, row); // add to GridPane\n}\n\nprivate void createTextField(StringBinding binding, int column, int row) {\n    TextField textField = new TextField();\n    textField.textProperty().bind(binding);\n    this.add(textField, column, row);\n}\n</code></pre>\n<h1>Edit: own answer (deprecated - see accepted answer)</h1>\n<p>I just saw that <code>StringBinding</code> and <code>ReadOnlyProperty</code> implement <code>ObservableValue</code>. So I only need this method now:</p>\n<pre><code>private void createTextField(ObservableValue property, int column, int row) {\n    TextField textField = new TextField();\n    textField.textProperty().bind(property);\n    this.add(textField, column, row);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","java-17"],"answers":[{"tags":[],"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643091521,"creation_date":1643091521,"answer_id":70844186,"question_id":70843972,"body_markdown":"Your repository interface for `deleteById` requires an input parameter of type UUID, which is the ID type specified in your `extends CrudRepository...` statement.  You are trying to call the method and pass a UserId object instead. Also, as you already pointed out, your function name of id() does collide with a getter naming convention for the property *id*.\n\nHere are a few different ways you could solve the problem:\n\n \n \n - declare a deleteByUserId method on your repository interface\n \n \n - alter your repository interface declaration to use the key type of UserId instead of UUID\n \n - refactor your model to have an appropriately named getter and setter for the ID property to expose it","title":"Spring Boot JPA - Entity failing due to calling getter method","body":"<p>Your repository interface for <code>deleteById</code> requires an input parameter of type UUID, which is the ID type specified in your <code>extends CrudRepository...</code> statement.  You are trying to call the method and pass a UserId object instead. Also, as you already pointed out, your function name of id() does collide with a getter naming convention for the property <em>id</em>.</p>\n<p>Here are a few different ways you could solve the problem:</p>\n<ul>\n<li><p>declare a deleteByUserId method on your repository interface</p>\n</li>\n<li><p>alter your repository interface declaration to use the key type of UserId instead of UUID</p>\n</li>\n<li><p>refactor your model to have an appropriately named getter and setter for the ID property to expose it</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1918172,"reputation":530,"user_id":1730288,"accept_rate":60,"display_name":"awr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":985,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643091521,"creation_date":1643089930,"question_id":70843972,"body_markdown":"Since upgrading from Spring Boot 2.2.x to 2.6.x (and Java 11 -&gt; 17), our entity classes are having issues with some repository methods. We use UUID for our database ids, but also have strongly typed ids in the domain layer for type-safety. DB is Postgres.\r\n\r\nExample (with some extra annotations, which don&#39;t solve the problem):\r\n```\r\n@Entity\r\n@Access(AccessType.FIELD)\r\npublic class User {\r\n  @Id private UUID id;\r\n  \r\n  @Transient\r\n  public UserId id() {\r\n    return new UserId(id);\r\n  }\r\n}\r\n```\r\n\r\nOur repository class:\r\n\r\n```\r\npublic interface UserJPARepository extends CrudRepository&lt;User, UUID&gt; { }\r\n```\r\n\r\nFails below:\r\n```\r\nrepository.deleteById(userId.id());\r\n```\r\n\r\nwith error:\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Provided id of the wrong type for class com.example.User. Expected: class java.util.UUID, got class com.example.CycleId; nested exception is java.lang.IllegalArgumentException: Provided id of the wrong type for class com.example..Cycle. Expected: class java.util.UUID, got class com.example.CycleId\r\n```\r\n\r\nThe issue seems to be that JPA is using Reflection to determine that `public UserId id()` is the correct getter for the Id, but as this method converts the UUID to a UserId, it fails. Renaming the `id()` method fixes the issue, but this is not ideal.\r\n\r\nAdding a breakpoint to my `id()` method, I can see the call originates from `JpaMetamodalEntityInformation.getId`:\r\n```\r\nif (idMetadata.hasSimpleId()) {\r\n\t\t\treturn (ID) entityWrapper.getPropertyValue(idMetadata.getSimpleIdAttribute().getName());\r\n}\r\n```\r\n\r\nThe `Transient` and `Access` annotations don&#39;t help to resolve the issue.\r\n\r\nEverything was working fine in Spring Boot 2.2. The upgrade has introduced the issue.","title":"Spring Boot JPA - Entity failing due to calling getter method","body":"<p>Since upgrading from Spring Boot 2.2.x to 2.6.x (and Java 11 -&gt; 17), our entity classes are having issues with some repository methods. We use UUID for our database ids, but also have strongly typed ids in the domain layer for type-safety. DB is Postgres.</p>\n<p>Example (with some extra annotations, which don't solve the problem):</p>\n<pre><code>@Entity\n@Access(AccessType.FIELD)\npublic class User {\n  @Id private UUID id;\n  \n  @Transient\n  public UserId id() {\n    return new UserId(id);\n  }\n}\n</code></pre>\n<p>Our repository class:</p>\n<pre><code>public interface UserJPARepository extends CrudRepository&lt;User, UUID&gt; { }\n</code></pre>\n<p>Fails below:</p>\n<pre><code>repository.deleteById(userId.id());\n</code></pre>\n<p>with error:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Provided id of the wrong type for class com.example.User. Expected: class java.util.UUID, got class com.example.CycleId; nested exception is java.lang.IllegalArgumentException: Provided id of the wrong type for class com.example..Cycle. Expected: class java.util.UUID, got class com.example.CycleId\n</code></pre>\n<p>The issue seems to be that JPA is using Reflection to determine that <code>public UserId id()</code> is the correct getter for the Id, but as this method converts the UUID to a UserId, it fails. Renaming the <code>id()</code> method fixes the issue, but this is not ideal.</p>\n<p>Adding a breakpoint to my <code>id()</code> method, I can see the call originates from <code>JpaMetamodalEntityInformation.getId</code>:</p>\n<pre><code>if (idMetadata.hasSimpleId()) {\n            return (ID) entityWrapper.getPropertyValue(idMetadata.getSimpleIdAttribute().getName());\n}\n</code></pre>\n<p>The <code>Transient</code> and <code>Access</code> annotations don't help to resolve the issue.</p>\n<p>Everything was working fine in Spring Boot 2.2. The upgrade has introduced the issue.</p>\n"},{"tags":["java","swing","layout-manager","gridbaglayout"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643088500,"creation_date":1643066162,"answer_id":70841640,"question_id":70841582,"body_markdown":"Oh, runnable code &#128522;\r\n\r\nThe basic answer to you question is to make use of the `weightx` property.  Basically, you want to allocate all the remaining horizontal space to the combo box and text field\r\n\r\nI&#39;d also get rid of the `fill` property, as it won&#39;t generate the results you&#39;re after.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    class GridBagLayoutPanel2 extends JPanel {\r\n\r\n        public GridBagLayoutPanel2() {\r\n            GridBagLayout gridbag = new GridBagLayout();\r\n\r\n            setLayout(gridbag);\r\n\r\n            GridBagConstraints gbc1 = new GridBagConstraints();\r\n            gbc1.gridx = 0;\r\n            gbc1.gridy = 0;\r\n            gbc1.anchor = GridBagConstraints.WEST;\r\n            //gbc1.fill = GridBagConstraints.BOTH;\r\n            gbc1.insets = new Insets(5, 5, 5, 5);\r\n            JLabel jLabel = new JLabel(&quot;Lable 1&quot;);\r\n            gridbag.setConstraints(jLabel, gbc1);\r\n            add(jLabel);\r\n\r\n            GridBagConstraints gbc2 = new GridBagConstraints();\r\n            gbc2.gridx = 1;\r\n            gbc2.gridy = 0;\r\n            gbc2.anchor = GridBagConstraints.WEST;\r\n            //gbc2.fill = GridBagConstraints.BOTH;\r\n            gbc2.insets = new Insets(5, 5, 5, 5);\r\n            \r\n            gbc2.weightx = 1;\r\n            \r\n            JComboBox jcb = new JComboBox();\r\n            jcb.addItem(&quot;This is a long entry for Row 1&quot;);\r\n            gridbag.setConstraints(jcb, gbc2);\r\n            add(jcb);\r\n\r\n            GridBagConstraints gbc3 = new GridBagConstraints();\r\n            gbc3.gridx = 0;\r\n            gbc3.gridy = 1;\r\n            gbc3.anchor = GridBagConstraints.WEST;\r\n            //gbc3.fill = GridBagConstraints.BOTH;\r\n            gbc3.insets = new Insets(5, 5, 5, 5);\r\n            JLabel jLabel2 = new JLabel(&quot;Lable 2&quot;);\r\n            gridbag.setConstraints(jLabel2, gbc3);\r\n            add(jLabel2);\r\n\r\n            GridBagConstraints gbc4 = new GridBagConstraints();\r\n            gbc4.gridx = 1;\r\n            gbc4.gridy = 1;\r\n            gbc4.anchor = GridBagConstraints.WEST;\r\n            //gbc4.fill = GridBagConstraints.BOTH;\r\n            gbc4.insets = new Insets(5, 5, 5, 5);\r\n            gbc4.weightx = 1;\r\n            JTextField jtf = new JTextField(5);\r\n            gridbag.setConstraints(jtf, gbc4);\r\n            add(jtf);\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nFcqb.png\r\n\r\nAs a minor note, you should also make use of the &quot;line&quot; anchors instead of the compass ones.  This makes it easier to adopt the UI to RTL languages (I know, how likely are you to do that &#128541;)\r\n\r\nIn this case, it&#39;s as simple as changing `GridBagConstraints.WEST` to `GridBagConstraints.LINE_START`","title":"Getting GridBagLayout Left Justified and JTextBox sized properly","body":"<p>Oh, runnable code 😊</p>\n<p>The basic answer to you question is to make use of the <code>weightx</code> property.  Basically, you want to allocate all the remaining horizontal space to the combo box and text field</p>\n<p>I'd also get rid of the <code>fill</code> property, as it won't generate the results you're after.</p>\n<p><a href=\"https://i.stack.imgur.com/nFcqb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nFcqb.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>class GridBagLayoutPanel2 extends JPanel {\n\n    public GridBagLayoutPanel2() {\n        GridBagLayout gridbag = new GridBagLayout();\n\n        setLayout(gridbag);\n\n        GridBagConstraints gbc1 = new GridBagConstraints();\n        gbc1.gridx = 0;\n        gbc1.gridy = 0;\n        gbc1.anchor = GridBagConstraints.WEST;\n        //gbc1.fill = GridBagConstraints.BOTH;\n        gbc1.insets = new Insets(5, 5, 5, 5);\n        JLabel jLabel = new JLabel(&quot;Lable 1&quot;);\n        gridbag.setConstraints(jLabel, gbc1);\n        add(jLabel);\n\n        GridBagConstraints gbc2 = new GridBagConstraints();\n        gbc2.gridx = 1;\n        gbc2.gridy = 0;\n        gbc2.anchor = GridBagConstraints.WEST;\n        //gbc2.fill = GridBagConstraints.BOTH;\n        gbc2.insets = new Insets(5, 5, 5, 5);\n        \n        gbc2.weightx = 1;\n        \n        JComboBox jcb = new JComboBox();\n        jcb.addItem(&quot;This is a long entry for Row 1&quot;);\n        gridbag.setConstraints(jcb, gbc2);\n        add(jcb);\n\n        GridBagConstraints gbc3 = new GridBagConstraints();\n        gbc3.gridx = 0;\n        gbc3.gridy = 1;\n        gbc3.anchor = GridBagConstraints.WEST;\n        //gbc3.fill = GridBagConstraints.BOTH;\n        gbc3.insets = new Insets(5, 5, 5, 5);\n        JLabel jLabel2 = new JLabel(&quot;Lable 2&quot;);\n        gridbag.setConstraints(jLabel2, gbc3);\n        add(jLabel2);\n\n        GridBagConstraints gbc4 = new GridBagConstraints();\n        gbc4.gridx = 1;\n        gbc4.gridy = 1;\n        gbc4.anchor = GridBagConstraints.WEST;\n        //gbc4.fill = GridBagConstraints.BOTH;\n        gbc4.insets = new Insets(5, 5, 5, 5);\n        gbc4.weightx = 1;\n        JTextField jtf = new JTextField(5);\n        gridbag.setConstraints(jtf, gbc4);\n        add(jtf);\n\n    }\n}\n</code></pre>\n<p>As a minor note, you should also make use of the &quot;line&quot; anchors instead of the compass ones.  This makes it easier to adopt the UI to RTL languages (I know, how likely are you to do that 😝)</p>\n<p>In this case, it's as simple as changing <code>GridBagConstraints.WEST</code> to <code>GridBagConstraints.LINE_START</code></p>\n"}],"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70841640,"answer_count":1,"score":0,"last_activity_date":1643091496,"creation_date":1643065748,"question_id":70841582,"body_markdown":"I will admit the GridBagLayout can be a bit of a brainteaser to me.\r\n\r\nTesting with various settings gives a variety of results except for the ones I want. \r\n\r\nThe following code example uses its own GridBagConstraints instance to help ensure each has their own specific settings. \r\n\r\n\r\n    import java.awt.Container;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    \r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    \r\n    public class GridLayout2ColumnTest \r\n    {\r\n    \r\n      public static void main(String[] args) {\r\n        JFrame aWindow = new JFrame();\r\n        aWindow.setBounds(200, 200, 400, 400);\r\n        aWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n        Container content = aWindow.getContentPane();\r\n        content.add(new GridBagLayoutPanel2());\r\n        aWindow.setVisible(true);\r\n      }\r\n    }\r\n    \r\n    class GridBagLayoutPanel2 extends JPanel {\r\n    \r\n      public GridBagLayoutPanel2() {\r\n        GridBagLayout gridbag = new GridBagLayout();\r\n        \r\n        setLayout(gridbag);\r\n    \r\n        GridBagConstraints gbc1 = new GridBagConstraints();\r\n        gbc1.gridx = 0;\r\n        gbc1.gridy = 0;\r\n        gbc1.anchor = GridBagConstraints.WEST;\r\n        gbc1.fill = GridBagConstraints.BOTH;\r\n        gbc1.insets = new Insets(5, 5, 5, 5);\r\n        JLabel jLabel = new JLabel(&quot;Lable 1&quot;);\r\n        gridbag.setConstraints(jLabel, gbc1);\r\n        add(jLabel);\r\n    \r\n    \tGridBagConstraints gbc2 = new GridBagConstraints();        \r\n        gbc2.gridx = 1;\r\n        gbc2.gridy = 0;\r\n        gbc2.anchor = GridBagConstraints.WEST;\r\n        gbc2.fill = GridBagConstraints.BOTH;\r\n        gbc2.insets = new Insets(5, 5, 5, 5);\r\n        JComboBox jcb = new JComboBox();\r\n        jcb.addItem(&quot;This is a long entry for Row 1&quot;);\r\n        gridbag.setConstraints(jcb, gbc2);\r\n        add(jcb);\r\n    \r\n        GridBagConstraints gbc3 = new GridBagConstraints();\r\n        gbc3.gridx = 0;\r\n        gbc3.gridy = 1;\r\n        gbc3.anchor = GridBagConstraints.WEST;\r\n        gbc3.fill = GridBagConstraints.BOTH;\r\n        gbc3.insets = new Insets(5, 5, 5, 5);\r\n        JLabel jLabel2 = new JLabel(&quot;Lable 2&quot;);\r\n        gridbag.setConstraints(jLabel2, gbc3);\r\n        add(jLabel2);\r\n    \r\n    \tGridBagConstraints gbc4 = new GridBagConstraints();        \r\n        gbc4.gridx = 1;\r\n        gbc4.gridy = 1;\r\n        gbc4.anchor = GridBagConstraints.WEST;\r\n        gbc4.fill = GridBagConstraints.BOTH;\r\n        gbc4.insets = new Insets(5, 5, 5, 5);\r\n        JTextField jtf = new JTextField(5);\r\n        gridbag.setConstraints(jtf, gbc4);\r\n        add(jtf);\r\n        \r\n      }\r\n    }\r\n\r\nThe above code generates the following. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhat I would like is the following results. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI did read that setPreferredSize and setMinimumSize should not be used.\r\n\r\nSo, what is the secret to getting the desired results and any good tips to keep in mind when working with this layout?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JWyQD.png\r\n  [2]: https://i.stack.imgur.com/6H7la.png","title":"Getting GridBagLayout Left Justified and JTextBox sized properly","body":"<p>I will admit the GridBagLayout can be a bit of a brainteaser to me.</p>\n<p>Testing with various settings gives a variety of results except for the ones I want.</p>\n<p>The following code example uses its own GridBagConstraints instance to help ensure each has their own specific settings.</p>\n<pre><code>import java.awt.Container;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\n\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n\npublic class GridLayout2ColumnTest \n{\n\n  public static void main(String[] args) {\n    JFrame aWindow = new JFrame();\n    aWindow.setBounds(200, 200, 400, 400);\n    aWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    Container content = aWindow.getContentPane();\n    content.add(new GridBagLayoutPanel2());\n    aWindow.setVisible(true);\n  }\n}\n\nclass GridBagLayoutPanel2 extends JPanel {\n\n  public GridBagLayoutPanel2() {\n    GridBagLayout gridbag = new GridBagLayout();\n    \n    setLayout(gridbag);\n\n    GridBagConstraints gbc1 = new GridBagConstraints();\n    gbc1.gridx = 0;\n    gbc1.gridy = 0;\n    gbc1.anchor = GridBagConstraints.WEST;\n    gbc1.fill = GridBagConstraints.BOTH;\n    gbc1.insets = new Insets(5, 5, 5, 5);\n    JLabel jLabel = new JLabel(&quot;Lable 1&quot;);\n    gridbag.setConstraints(jLabel, gbc1);\n    add(jLabel);\n\n    GridBagConstraints gbc2 = new GridBagConstraints();        \n    gbc2.gridx = 1;\n    gbc2.gridy = 0;\n    gbc2.anchor = GridBagConstraints.WEST;\n    gbc2.fill = GridBagConstraints.BOTH;\n    gbc2.insets = new Insets(5, 5, 5, 5);\n    JComboBox jcb = new JComboBox();\n    jcb.addItem(&quot;This is a long entry for Row 1&quot;);\n    gridbag.setConstraints(jcb, gbc2);\n    add(jcb);\n\n    GridBagConstraints gbc3 = new GridBagConstraints();\n    gbc3.gridx = 0;\n    gbc3.gridy = 1;\n    gbc3.anchor = GridBagConstraints.WEST;\n    gbc3.fill = GridBagConstraints.BOTH;\n    gbc3.insets = new Insets(5, 5, 5, 5);\n    JLabel jLabel2 = new JLabel(&quot;Lable 2&quot;);\n    gridbag.setConstraints(jLabel2, gbc3);\n    add(jLabel2);\n\n    GridBagConstraints gbc4 = new GridBagConstraints();        \n    gbc4.gridx = 1;\n    gbc4.gridy = 1;\n    gbc4.anchor = GridBagConstraints.WEST;\n    gbc4.fill = GridBagConstraints.BOTH;\n    gbc4.insets = new Insets(5, 5, 5, 5);\n    JTextField jtf = new JTextField(5);\n    gridbag.setConstraints(jtf, gbc4);\n    add(jtf);\n    \n  }\n}\n</code></pre>\n<p>The above code generates the following.</p>\n<p><a href=\"https://i.stack.imgur.com/JWyQD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JWyQD.png\" alt=\"enter image description here\" /></a></p>\n<p>What I would like is the following results.</p>\n<p><a href=\"https://i.stack.imgur.com/6H7la.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6H7la.png\" alt=\"enter image description here\" /></a></p>\n<p>I did read that setPreferredSize and setMinimumSize should not be used.</p>\n<p>So, what is the secret to getting the desired results and any good tips to keep in mind when working with this layout?</p>\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643090987,"creation_date":1643090987,"answer_id":70844116,"question_id":70840471,"body_markdown":"There is [`running` property][1] in ThreadGroup class which is [being set to `false`][2] when the test is stopping so you could check it somewhere in your loop like:\r\n\r\n    if (!ctx.getThreadGroup().running) {\r\n        //do what you need here\r\n    }\r\n\r\nAlso be informed that if you choose `java` as the language in the JSR223 test element it&#39;s not real Java, it&#39;s [Beanshell][3] and [since JMeter 3.1 you&#39;re supposed to use Groovy for scripting][4], moreover the above code won&#39;t even work and you will have to explicitly use [reflection][5] to read the `running` property value\r\n\r\n\r\n  [1]: https://github.com/apache/jmeter/blob/rel/v5.4.3/src/core/src/main/java/org/apache/jmeter/threads/ThreadGroup.java#L82\r\n  [2]: https://github.com/apache/jmeter/blob/rel/v5.4.3/src/core/src/main/java/org/apache/jmeter/threads/ThreadGroup.java#L392\r\n  [3]: http://www.beanshell.org/\r\n  [4]: https://www.blazemeter.com/blog/is-beanshell-dead/\r\n  [5]: https://docs.oracle.com/javase/tutorial/reflect/","title":"JMeter: How to detect the test has been cancelled in a JSR223 (Java) script","body":"<p>There is <a href=\"https://github.com/apache/jmeter/blob/rel/v5.4.3/src/core/src/main/java/org/apache/jmeter/threads/ThreadGroup.java#L82\" rel=\"nofollow noreferrer\"><code>running</code> property</a> in ThreadGroup class which is <a href=\"https://github.com/apache/jmeter/blob/rel/v5.4.3/src/core/src/main/java/org/apache/jmeter/threads/ThreadGroup.java#L392\" rel=\"nofollow noreferrer\">being set to <code>false</code></a> when the test is stopping so you could check it somewhere in your loop like:</p>\n<pre><code>if (!ctx.getThreadGroup().running) {\n    //do what you need here\n}\n</code></pre>\n<p>Also be informed that if you choose <code>java</code> as the language in the JSR223 test element it's not real Java, it's <a href=\"http://www.beanshell.org/\" rel=\"nofollow noreferrer\">Beanshell</a> and <a href=\"https://www.blazemeter.com/blog/is-beanshell-dead/\" rel=\"nofollow noreferrer\">since JMeter 3.1 you're supposed to use Groovy for scripting</a>, moreover the above code won't even work and you will have to explicitly use <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow noreferrer\">reflection</a> to read the <code>running</code> property value</p>\n"}],"owner":{"account_id":24170,"reputation":21117,"user_id":61311,"accept_rate":71,"display_name":"Peter Morris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643090987,"creation_date":1643058189,"question_id":70840471,"body_markdown":"I&#39;ve written some Java code that runs in an endless loop.\r\n\r\nHow do I detect the test has been stopped, so I can exit the loop?","title":"JMeter: How to detect the test has been cancelled in a JSR223 (Java) script","body":"<p>I've written some Java code that runs in an endless loop.</p>\n<p>How do I detect the test has been stopped, so I can exit the loop?</p>\n"},{"tags":["java","json","spring-boot","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643090708,"creation_date":1643090708,"answer_id":70844078,"question_id":70844062,"body_markdown":"You can use [@JsonProperty][1], for more [examples][2]\r\n\r\n    @Data\r\n    class A {\r\n\r\n       @JsonProperty(&quot;hello_word&quot;)\r\n       private String helloWorld;\r\n\r\n       @JsonProperty(&quot;my-name&quot;)\r\n       private String myName;\r\n\r\n       @JsonProperty(&quot;Age&quot;)\r\n       private Integer age;\r\n    }\r\n\r\n\r\n  [1]: https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/latest/com/fasterxml/jackson/annotation/JsonProperty.html\r\n  [2]: https://www.baeldung.com/jackson-annotations#1-jsonproperty","title":"How to set a handler for binding JSON fields which has a variety of naming styles to a POJO","body":"<p>You can use <a href=\"https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/latest/com/fasterxml/jackson/annotation/JsonProperty.html\" rel=\"nofollow noreferrer\">@JsonProperty</a>, for more <a href=\"https://www.baeldung.com/jackson-annotations#1-jsonproperty\" rel=\"nofollow noreferrer\">examples</a></p>\n<pre><code>@Data\nclass A {\n\n   @JsonProperty(&quot;hello_word&quot;)\n   private String helloWorld;\n\n   @JsonProperty(&quot;my-name&quot;)\n   private String myName;\n\n   @JsonProperty(&quot;Age&quot;)\n   private Integer age;\n}\n</code></pre>\n"}],"owner":{"account_id":10816142,"reputation":21,"user_id":7955009,"display_name":"Yu Fang Cheng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643090791,"creation_date":1643090604,"question_id":70844062,"body_markdown":"I&#39;m using Springboot 2.5.1, Jackson 2.13.1\r\n\r\nInput JSON looks like:\r\n```\r\n{\r\n  &quot;hello_word&quot;: &quot;you are welcome&quot;,\r\n  &quot;my-name&quot;: &quot;Meow&quot;,\r\n  &quot;Age&quot;: 11\r\n}\r\n```\r\n\r\nJava POJO:\r\n\r\n```\r\n@Data\r\nclass A {\r\n\r\n  private String helloWorld;\r\n\r\n  private String myName;\r\n\r\n  private Integer age;\r\n}\r\n```\r\n\r\nExpected binding result:\r\n```\r\nclass A {\r\n\r\n  private String helloWorld = &quot;you are welcome&quot;;\r\n\r\n  private String myName = &quot;Meow&quot;;\r\n\r\n  private Integer age = 11;\r\n}\r\n```\r\n\r\nAs you can see, there are 3 naming styles in the JSON.\r\nI want to ask is there any way to set a handler or a subclass that can bind values correctly to POJO&#39;s fields in this case. \r\n","title":"How to set a handler for binding JSON fields which has a variety of naming styles to a POJO","body":"<p>I'm using Springboot 2.5.1, Jackson 2.13.1</p>\n<p>Input JSON looks like:</p>\n<pre><code>{\n  &quot;hello_word&quot;: &quot;you are welcome&quot;,\n  &quot;my-name&quot;: &quot;Meow&quot;,\n  &quot;Age&quot;: 11\n}\n</code></pre>\n<p>Java POJO:</p>\n<pre><code>@Data\nclass A {\n\n  private String helloWorld;\n\n  private String myName;\n\n  private Integer age;\n}\n</code></pre>\n<p>Expected binding result:</p>\n<pre><code>class A {\n\n  private String helloWorld = &quot;you are welcome&quot;;\n\n  private String myName = &quot;Meow&quot;;\n\n  private Integer age = 11;\n}\n</code></pre>\n<p>As you can see, there are 3 naming styles in the JSON.\nI want to ask is there any way to set a handler or a subclass that can bind values correctly to POJO's fields in this case.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1643087973,"post_id":70843716,"comment_id":125240587,"body_markdown":"a 500 type error indicates that you are throwing an Exception.","body":"a 500 type error indicates that you are throwing an Exception."},{"owner":{"account_id":4176805,"reputation":25534,"user_id":3423097,"accept_rate":50,"display_name":"Mritunjay"},"score":0,"creation_date":1643088114,"post_id":70843716,"comment_id":125240611,"body_markdown":"Check your logs of spring boot application. There could be n number of mistakes leading to Internal Server Error.","body":"Check your logs of spring boot application. There could be n number of mistakes leading to Internal Server Error."},{"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"score":0,"creation_date":1643088134,"post_id":70843716,"comment_id":125240619,"body_markdown":"Do you have a stacktrace of the error?","body":"Do you have a stacktrace of the error?"},{"owner":{"account_id":11679364,"reputation":3,"user_id":8551669,"display_name":"Rishi Patel"},"score":0,"creation_date":1643131512,"post_id":70843716,"comment_id":125256532,"body_markdown":"@Kevin Wallis, nope, my application runs but I get a resource not found exception.","body":"@Kevin Wallis, nope, my application runs but I get a resource not found exception."}],"answers":[{"tags":[],"owner":{"account_id":15732107,"reputation":71,"user_id":13718790,"display_name":"Jeremy Dsilva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643089850,"creation_date":1643089850,"answer_id":70843966,"question_id":70843716,"body_markdown":"Based on your entity the field employee_id is your id. When using the findbyId you are searching using the entity&#39;s id. Hence when you call the function with &#39;1234&#39; you are getting an empty optional and hitting a null pointer exception when Optional::get is called causing the 500 error. For your use case, you can add a custom function to EmployeeRepository as shown below\r\n\r\n```java\r\nOptional&lt;Employee&gt; findByAccessPinAndOrgName(long accessPin, String orgName);\r\n```\r\n\r\nAlso when using an Optional value, do check if the value is present before accessing it. \r\n\r\nDo refer to the articles below for more help on both subjects:\r\n\r\nhttps://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#jpa.query-methods.query-creation\r\n\r\nhttps://www.baeldung.com/java-optional\r\n\r\n","title":"Implementing a Search feature using multiple Search parameters","body":"<p>Based on your entity the field employee_id is your id. When using the findbyId you are searching using the entity's id. Hence when you call the function with '1234' you are getting an empty optional and hitting a null pointer exception when Optional::get is called causing the 500 error. For your use case, you can add a custom function to EmployeeRepository as shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Employee&gt; findByAccessPinAndOrgName(long accessPin, String orgName);\n</code></pre>\n<p>Also when using an Optional value, do check if the value is present before accessing it.</p>\n<p>Do refer to the articles below for more help on both subjects:</p>\n<p><a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#jpa.query-methods.query-creation</a></p>\n<p><a href=\"https://www.baeldung.com/java-optional\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-optional</a></p>\n"},{"tags":[],"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643090239,"creation_date":1643090239,"answer_id":70844016,"question_id":70843716,"body_markdown":"I see three issues in your code.\n\nIn your service, you are calling findById but you are passing the accessPin, not the employee ID - `employeeRepository.findById(accessPin)`. You should add a `findByAccessPin` function definition to your repository interface.\n\nWhen dealing with the `Optional` repository result in your service class, you should call `isPresent()` on the result before you try to access it with `.get()`. Calling get on an empty Optional will result in an exception being thrown.\n\nFinally, your `EmployeeController` constructor is calling super() but the class has no super class.","title":"Implementing a Search feature using multiple Search parameters","body":"<p>I see three issues in your code.</p>\n<p>In your service, you are calling findById but you are passing the accessPin, not the employee ID - <code>employeeRepository.findById(accessPin)</code>. You should add a <code>findByAccessPin</code> function definition to your repository interface.</p>\n<p>When dealing with the <code>Optional</code> repository result in your service class, you should call <code>isPresent()</code> on the result before you try to access it with <code>.get()</code>. Calling get on an empty Optional will result in an exception being thrown.</p>\n<p>Finally, your <code>EmployeeController</code> constructor is calling super() but the class has no super class.</p>\n"}],"owner":{"account_id":11679364,"reputation":3,"user_id":8551669,"display_name":"Rishi Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643090239,"creation_date":1643087616,"question_id":70843716,"body_markdown":"I am new to learning spring boot, and I am trying this side project where you can search for an employee using 2 parameters, access_pin and org_name. \r\n\r\nLet&#39;s suppose the employee I wanna search in the database has the following credentials: \r\n\r\n - access_pin: 1234\r\n - org_name: PSG\r\n\r\nMy API should retrieve the employee record who has the above match. \r\n\r\nMy REST API URL looks like this: \r\n\r\n\r\n\r\n    http://localhost:8080/employeeSearch/version1/1234/PSG\r\n\r\n\r\nWhen I send in the GET request on PostMan, I get a 500 Error.\r\n\r\n[PostMan Screenshot][1]\r\n\r\nThis is the Database Table:\r\n\r\n[Database table Screenshot][2]\r\n\r\n \r\n\r\n**Can I know how does spring handle multiple search parameters and return accurate result from the database?** \r\n\r\n\r\n*MY backend code looks like this:*\r\n\r\n**Model:** (Employee.java)\r\n\r\n```\r\npackage com.example.demo.model;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;employeedatabase&quot;)\r\npublic class Employee {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long employeeId; \r\n\t\r\n\t@Column(name = &quot;employee_name&quot;)\r\n\tprivate String employeeName;\r\n\t\r\n\t@Column(name = &quot;access_pin&quot;)\r\n\tprivate long accessPin; \r\n\t\r\n\t@Column(name = &quot;org_name&quot;)\r\n\tprivate String orgName;\r\n\t\r\n\tpublic Employee() {\r\n\t\t\r\n\t}\r\n\r\n\tpublic Employee(String employeeName, String orgName) {\r\n\t\tsuper();\r\n\t\tthis.employeeName = employeeName;\r\n\t\tthis.orgName = orgName;\r\n\t}\r\n\r\n\tpublic long getEmployeeId() {\r\n\t\treturn employeeId;\r\n\t}\r\n\r\n\tpublic void setEmployeeId(long employeeId) {\r\n\t\tthis.employeeId = employeeId;\r\n\t}\r\n\r\n\tpublic String getEmployeeName() {\r\n\t\treturn employeeName;\r\n\t}\r\n\r\n\tpublic void setEmployeeName(String employeeName) {\r\n\t\tthis.employeeName = employeeName;\r\n\t}\r\n\r\n\tpublic long getAccessPin() {\r\n\t\treturn accessPin;\r\n\t}\r\n\r\n\tpublic void setAccessPin(long accessPin) {\r\n\t\tthis.accessPin = accessPin;\r\n\t}\r\n\r\n\tpublic String getOrgName() {\r\n\t\treturn orgName;\r\n\t}\r\n\r\n\tpublic void setOrgName(String orgName) {\r\n\t\tthis.orgName = orgName;\r\n\t} \r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n\r\n\r\n```\r\n**Controller:** (EmployeeController.java)\r\n\r\n```\r\npackage com.example.demo.Controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.example.demo.model.Employee;\r\nimport com.example.demo.service.EmployeeService;\r\n\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;/employeeSearch/version1&quot;)\r\npublic class EmployeeController {\r\n\t\r\n\t@Autowired\r\n\tprivate EmployeeService employeeService;\r\n\r\n\tpublic EmployeeController(EmployeeService employeeService) {\r\n\t\tsuper();\r\n\t\tthis.employeeService = employeeService;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;{accessPin}/{orgName}&quot;)\r\n\tpublic ResponseEntity&lt;Employee&gt; getEmployeeNAme(@PathVariable(&quot;accessPin&quot;) long accessPin, @PathVariable(&quot;orgName&quot;) String orgName) {\r\n\t\tEmployee result = employeeService.getEmployeeName(accessPin, orgName);\r\n\t\t\r\n\t\treturn ResponseEntity.status(HttpStatus.OK).body(result);\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n**Service:**  (EmployeeService.java)\r\n\r\n```\r\npackage com.example.demo.service;\r\n\r\nimport com.example.demo.model.Employee;\r\n\r\npublic interface EmployeeService {\r\n\t\r\n\tEmployee getEmployeeName(long accessPin, String orgName) ; \r\n}\r\n\r\n```\r\n\r\n**ServiceImpl:**  (EmployeeServiceImpl.java)\r\n\r\n```\r\npackage com.example.demo.serviceImpl;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.example.demo.exception.ResourceNotFoundException;\r\nimport com.example.demo.model.Employee;\r\nimport com.example.demo.repository.EmployeeRepository;\r\nimport com.example.demo.service.EmployeeService;\r\n\r\n@Service\r\npublic class EmployeeServiceImpl implements EmployeeService{\r\n\t\r\n\t@Autowired\r\n\tprivate EmployeeRepository employeeRepository;\r\n\r\n\t@Override\r\n\tpublic Employee getEmployeeName(long accessPin, String orgName) {\r\n\t\t// TODO Auto-generated method stub\r\n//\t\treturn null;\r\n\t\t\r\n\t\tOptional&lt;Employee&gt; employeeName = employeeRepository.findById(accessPin);\r\n\t\t\r\n\t\t\r\n\t\tif(employeeName.get().getAccessPin() == accessPin) {\r\n\t\t\treturn employeeName.get(); \r\n\t\t}\r\n\t\telse {\r\n\t\t\tthrow new ResourceNotFoundException(&quot;The employee does not exist. &quot;); \r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n**Repository:**  (EmployeeRepository.java)\r\n\r\n```\r\npackage com.example.demo.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.example.demo.model.Employee;\r\n\r\n@Repository\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt;{\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ft7EA.png\r\n  [2]: https://i.stack.imgur.com/mDIZe.png","title":"Implementing a Search feature using multiple Search parameters","body":"<p>I am new to learning spring boot, and I am trying this side project where you can search for an employee using 2 parameters, access_pin and org_name.</p>\n<p>Let's suppose the employee I wanna search in the database has the following credentials:</p>\n<ul>\n<li>access_pin: 1234</li>\n<li>org_name: PSG</li>\n</ul>\n<p>My API should retrieve the employee record who has the above match.</p>\n<p>My REST API URL looks like this:</p>\n<pre><code>http://localhost:8080/employeeSearch/version1/1234/PSG\n</code></pre>\n<p>When I send in the GET request on PostMan, I get a 500 Error.</p>\n<p><a href=\"https://i.stack.imgur.com/ft7EA.png\" rel=\"nofollow noreferrer\">PostMan Screenshot</a></p>\n<p>This is the Database Table:</p>\n<p><a href=\"https://i.stack.imgur.com/mDIZe.png\" rel=\"nofollow noreferrer\">Database table Screenshot</a></p>\n<p><strong>Can I know how does spring handle multiple search parameters and return accurate result from the database?</strong></p>\n<p><em>MY backend code looks like this:</em></p>\n<p><strong>Model:</strong> (Employee.java)</p>\n<pre><code>package com.example.demo.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;employeedatabase&quot;)\npublic class Employee {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long employeeId; \n    \n    @Column(name = &quot;employee_name&quot;)\n    private String employeeName;\n    \n    @Column(name = &quot;access_pin&quot;)\n    private long accessPin; \n    \n    @Column(name = &quot;org_name&quot;)\n    private String orgName;\n    \n    public Employee() {\n        \n    }\n\n    public Employee(String employeeName, String orgName) {\n        super();\n        this.employeeName = employeeName;\n        this.orgName = orgName;\n    }\n\n    public long getEmployeeId() {\n        return employeeId;\n    }\n\n    public void setEmployeeId(long employeeId) {\n        this.employeeId = employeeId;\n    }\n\n    public String getEmployeeName() {\n        return employeeName;\n    }\n\n    public void setEmployeeName(String employeeName) {\n        this.employeeName = employeeName;\n    }\n\n    public long getAccessPin() {\n        return accessPin;\n    }\n\n    public void setAccessPin(long accessPin) {\n        this.accessPin = accessPin;\n    }\n\n    public String getOrgName() {\n        return orgName;\n    }\n\n    public void setOrgName(String orgName) {\n        this.orgName = orgName;\n    } \n    \n    \n    \n    \n    \n    \n}\n\n\n\n</code></pre>\n<p><strong>Controller:</strong> (EmployeeController.java)</p>\n<pre><code>package com.example.demo.Controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.demo.model.Employee;\nimport com.example.demo.service.EmployeeService;\n\n\n\n@RestController\n@RequestMapping(&quot;/employeeSearch/version1&quot;)\npublic class EmployeeController {\n    \n    @Autowired\n    private EmployeeService employeeService;\n\n    public EmployeeController(EmployeeService employeeService) {\n        super();\n        this.employeeService = employeeService;\n    }\n    \n    @GetMapping(&quot;{accessPin}/{orgName}&quot;)\n    public ResponseEntity&lt;Employee&gt; getEmployeeNAme(@PathVariable(&quot;accessPin&quot;) long accessPin, @PathVariable(&quot;orgName&quot;) String orgName) {\n        Employee result = employeeService.getEmployeeName(accessPin, orgName);\n        \n        return ResponseEntity.status(HttpStatus.OK).body(result);\n    }\n    \n    \n}\n\n</code></pre>\n<p><strong>Service:</strong>  (EmployeeService.java)</p>\n<pre><code>package com.example.demo.service;\n\nimport com.example.demo.model.Employee;\n\npublic interface EmployeeService {\n    \n    Employee getEmployeeName(long accessPin, String orgName) ; \n}\n\n</code></pre>\n<p><strong>ServiceImpl:</strong>  (EmployeeServiceImpl.java)</p>\n<pre><code>package com.example.demo.serviceImpl;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.example.demo.exception.ResourceNotFoundException;\nimport com.example.demo.model.Employee;\nimport com.example.demo.repository.EmployeeRepository;\nimport com.example.demo.service.EmployeeService;\n\n@Service\npublic class EmployeeServiceImpl implements EmployeeService{\n    \n    @Autowired\n    private EmployeeRepository employeeRepository;\n\n    @Override\n    public Employee getEmployeeName(long accessPin, String orgName) {\n        // TODO Auto-generated method stub\n//      return null;\n        \n        Optional&lt;Employee&gt; employeeName = employeeRepository.findById(accessPin);\n        \n        \n        if(employeeName.get().getAccessPin() == accessPin) {\n            return employeeName.get(); \n        }\n        else {\n            throw new ResourceNotFoundException(&quot;The employee does not exist. &quot;); \n        }\n    }\n\n}\n\n</code></pre>\n<p><strong>Repository:</strong>  (EmployeeRepository.java)</p>\n<pre><code>package com.example.demo.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.example.demo.model.Employee;\n\n@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt;{\n    \n\n}\n\n</code></pre>\n"},{"tags":["java","json","jsonnode"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643090146,"post_id":70843868,"comment_id":125240975,"body_markdown":"What does &quot;Treves&quot; mean?","body":"What does &quot;Treves&quot; mean?"},{"owner":{"account_id":12865143,"reputation":13,"user_id":9305687,"display_name":"prithviraj v"},"score":0,"creation_date":1643098850,"post_id":70843868,"comment_id":125243155,"body_markdown":"Travel through entire JSON","body":"Travel through entire JSON"},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1643102136,"post_id":70843868,"comment_id":125244410,"body_markdown":"Did you mean &quot;traverse&quot;?","body":"Did you mean &quot;traverse&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643089764,"creation_date":1643089343,"answer_id":70843912,"question_id":70843868,"body_markdown":"You need to deserialize the JSON into an object, set the values, then serialize it back into JSON. There are a number of libraries you can use for this, like org.json, gson, or Jackson. Those libraries also allow you to modify the value directly. For example, using org.json, you can do something like this:\r\n```\r\nJSONObject jsonObject = new JSONObject(myJsonString);\r\njsonObject.getJSONObject(&quot;akey&quot;).put(&quot;aChildKey&quot;,&quot;aKey.aChildKey&quot;);\r\n```\r\n\r\nSee https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java","title":"Treves the JSON object and manipulate the value in java","body":"<p>You need to deserialize the JSON into an object, set the values, then serialize it back into JSON. There are a number of libraries you can use for this, like org.json, gson, or Jackson. Those libraries also allow you to modify the value directly. For example, using org.json, you can do something like this:</p>\n<pre><code>JSONObject jsonObject = new JSONObject(myJsonString);\njsonObject.getJSONObject(&quot;akey&quot;).put(&quot;aChildKey&quot;,&quot;aKey.aChildKey&quot;);\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java\">How to parse JSON in Java</a></p>\n"}],"owner":{"account_id":12865143,"reputation":13,"user_id":9305687,"display_name":"prithviraj v"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70843912,"answer_count":1,"score":0,"last_activity_date":1643089764,"creation_date":1643088974,"question_id":70843868,"body_markdown":"What im trying to do is \r\n\r\nJSON:\r\n````````\r\n{\r\naKey:{\r\n        aChildKey:&quot;&quot;\r\n     },\r\nbKey:&quot;&quot;\r\n}\r\n`````````\r\nexpected:\r\n`````\r\naKey:{\r\n        aChildKey:&quot;aKey.aChildKey&quot;\r\n     },\r\nbKey:&quot;bKey&quot;\r\n}\r\n`````````\r\n\r\nPlease can some one help me in getting the expected the value","title":"Treves the JSON object and manipulate the value in java","body":"<p>What im trying to do is</p>\n<p>JSON:</p>\n<pre><code>{\naKey:{\n        aChildKey:&quot;&quot;\n     },\nbKey:&quot;&quot;\n}\n</code></pre>\n<p>expected:</p>\n<pre><code>aKey:{\n        aChildKey:&quot;aKey.aChildKey&quot;\n     },\nbKey:&quot;bKey&quot;\n}\n</code></pre>\n<p>Please can some one help me in getting the expected the value</p>\n"},{"tags":["java","mongodb","morphia"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1643092036,"post_id":70843920,"comment_id":125241318,"body_markdown":"Hope this will help: https://stackoverflow.com/a/12481678/2987755","body":"Hope this will help: <a href=\"https://stackoverflow.com/a/12481678/2987755\">stackoverflow.com/a/12481678/2987755</a>"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1643092726,"post_id":70843920,"comment_id":125241438,"body_markdown":"Raw mongodb query in morphia: https://stackoverflow.com/a/53723927/2987755, or https://morphia.dev/morphia/2.2/aggregations.html","body":"Raw mongodb query in morphia: <a href=\"https://stackoverflow.com/a/53723927/2987755\">stackoverflow.com/a/53723927/2987755</a>, or <a href=\"https://morphia.dev/morphia/2.2/aggregations.html\" rel=\"nofollow noreferrer\">morphia.dev/morphia/2.2/aggregations.html</a>"}],"owner":{"account_id":6350435,"reputation":151,"user_id":4929673,"display_name":"Ishani Samaraweera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643089409,"creation_date":1643089409,"question_id":70843920,"body_markdown":"    public Collection&lt;OwnerDetail&gt; getAllOwners() {\r\n        final MorphiaCursor&lt;Listing&gt; listings = datastore.find(Listing.class)\r\n                .iterator(new FindOptions()\r\n                        .projection().include(&quot;ownerDetail&quot;));\r\n\r\n        Map&lt;String, OwnerDetail&gt; map = new HashMap&lt;&gt;();\r\n\r\n        while (listings.hasNext()) {\r\n            final Listing next = listings.next();\r\n            if (next.getOwnerDetail() != null) {\r\n                map.put(next.getOwnerDetail().getEmail(), next.getOwnerDetail());\r\n            }\r\n        }\r\n        return map.values();\r\n    }\r\n\r\nI want to remove java code that distinct values by email and handle it by mongodb morphia. How can I do that?","title":"MongoDB Morphia distinct","body":"<pre><code>public Collection&lt;OwnerDetail&gt; getAllOwners() {\n    final MorphiaCursor&lt;Listing&gt; listings = datastore.find(Listing.class)\n            .iterator(new FindOptions()\n                    .projection().include(&quot;ownerDetail&quot;));\n\n    Map&lt;String, OwnerDetail&gt; map = new HashMap&lt;&gt;();\n\n    while (listings.hasNext()) {\n        final Listing next = listings.next();\n        if (next.getOwnerDetail() != null) {\n            map.put(next.getOwnerDetail().getEmail(), next.getOwnerDetail());\n        }\n    }\n    return map.values();\n}\n</code></pre>\n<p>I want to remove java code that distinct values by email and handle it by mongodb morphia. How can I do that?</p>\n"},{"tags":["java","android","android-studio","development-environment"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643088861,"creation_date":1643088543,"answer_id":70843817,"question_id":70843705,"body_markdown":"The [javadoc][1] for `getLastKnownLocation` states:\r\n\r\n&gt;  Returns:\tthe last known location for the given provider, or `null` if not available.\r\n\r\nIt is returning `null` ... and you are calling `getLongitude()` on the `null`.\r\n\r\nSolution: change your code to deal with the situation where there is no &quot;last known location&quot; available.  \r\n\r\nIf the location *should* be available, check that you are requesting the correct permissions, and that the device&#39;s (or emulator&#39;s) location services are working.  But even so, your code ought to check that the location is not `null` and act appropriately ... rather than crashing.\r\n\r\n---------------\r\n\r\nThis might also be helpful:\r\n\r\n  - https://stackoverflow.com/questions/3145089\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/location/LocationManager#getLastKnownLocation(java.lang.String)","title":"Actually I&#39;m working on a weather forecast app and I&#39;m getting a null pointer exception when I&#39;m trying to get the user last known location","body":"<p>The <a href=\"https://developer.android.com/reference/android/location/LocationManager#getLastKnownLocation(java.lang.String)\" rel=\"nofollow noreferrer\">javadoc</a> for <code>getLastKnownLocation</code> states:</p>\n<blockquote>\n<p>Returns: the last known location for the given provider, or <code>null</code> if not available.</p>\n</blockquote>\n<p>It is returning <code>null</code> ... and you are calling <code>getLongitude()</code> on the <code>null</code>.</p>\n<p>Solution: change your code to deal with the situation where there is no &quot;last known location&quot; available.</p>\n<p>If the location <em>should</em> be available, check that you are requesting the correct permissions, and that the device's (or emulator's) location services are working.  But even so, your code ought to check that the location is not <code>null</code> and act appropriately ... rather than crashing.</p>\n<hr />\n<p>This might also be helpful:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3145089\">What is the simplest and most robust way to get the user&#39;s current location on Android?</a></li>\n</ul>\n"}],"owner":{"account_id":22674178,"reputation":5,"user_id":16845512,"display_name":"Mihir Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70843817,"answer_count":1,"score":0,"last_activity_date":1643088861,"creation_date":1643087559,"question_id":70843705,"body_markdown":"```private RelativeLayout homeRL;\r\nprivate ProgressBar loadingPb;\r\nprivate TextView cityNameTV ,conditionTV, temperatureTV;\r\nprivate TextInputEditText cityEdt;\r\nprivate RecyclerView weatherRV;\r\nprivate ImageView backIV , iconIV , searchIV;\r\nprivate ArrayList&lt;WeatherRVmodel&gt; weatherRVmodels;\r\nprivate WeatherRVAdapter weatherRVAdapter;\r\nprivate LocationManager locationManager;\r\nprivate int PERMISSION_CODE = 1;\r\nprivate String cityName;\r\n\r\n\r\n\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS,WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\r\n\r\n    homeRL = findViewById(R.id.idRLHome);\r\n    loadingPb = findViewById(R.id.idPBLoading);\r\n    cityNameTV = findViewById(R.id.idTVCityName);\r\n    conditionTV = findViewById(R.id.idTVCondition);\r\n    temperatureTV = findViewById(R.id.idTVTemperature);\r\n    weatherRV = findViewById(R.id.idRvWeather);\r\n    cityEdt = findViewById(R.id.idEdtCity);\r\n    backIV = findViewById(R.id.idIVback);\r\n    iconIV = findViewById(R.id.idIVIcon);\r\n    searchIV = findViewById(R.id.idIVSearch);\r\n    weatherRVmodels = new ArrayList&lt;&gt;();\r\n    weatherRVAdapter = new WeatherRVAdapter(this,weatherRVmodels);\r\n    weatherRV.setAdapter(weatherRVAdapter);\r\n\r\n    locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n    if(ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)!= PackageManager.PERMISSION_GRANTED  &amp;&amp; ActivityCompat.checkSelfPermission(this,Manifest.permission.ACCESS_COARSE_LOCATION)!= PackageManager.PERMISSION_GRANTED){\r\n        ActivityCompat.requestPermissions(MainActivity.this,new String[]{Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.ACCESS_COARSE_LOCATION},PERMISSION_CODE);\r\n\r\n    }\r\n\r\n    Location location = locationManager.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);\r\n    cityName = getCityName(location.getLongitude(),location.getLatitude());\r\n    getWeatherInfo(cityName);\r\n\r\n    searchIV.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            String city = cityEdt.getText().toString();\r\n            if(city.isEmpty()){\r\n                Toast.makeText(MainActivity.this, &quot;Please enter a City Name&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else {\r\n                cityNameTV.setText(cityName);\r\n                getWeatherInfo(city);\r\n            }\r\n        }\r\n    });\r\n\r\n}\r\n\r\n@Override\r\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    if(requestCode==PERMISSION_CODE){\r\n        if(grantResults.length&gt;0 &amp;&amp; grantResults[0]==PackageManager.PERMISSION_GRANTED){\r\n            Toast.makeText(MainActivity.this, &quot;Permission granted!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else{\r\n            Toast.makeText(MainActivity.this, &quot;Please provide the permission&quot;, Toast.LENGTH_SHORT).show();\r\n            finish();\r\n        }\r\n    }\r\n}\r\n\r\nprivate String getCityName(double longitude, double latitude){\r\n    String cityName = &quot;Not found&quot;;\r\n    Geocoder gcd = new Geocoder(getBaseContext(), Locale.getDefault());\r\n    try{\r\n            List&lt;Address&gt; addressList = gcd.getFromLocation(latitude,longitude,10);\r\n            for(Address adr : addressList){\r\n                if(adr!=null){\r\n                    String city = adr.getLocality();\r\n                    if(city!=null &amp;&amp;  !city.equals(&quot;&quot;)){\r\n                        cityName = city;\r\n                    }\r\n                    else{\r\n                        Log.d(&quot;this&quot;,&quot;CITY NOT FOUND&quot;);\r\n                        Toast.makeText(this, &quot;User City not found..&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n    }catch (IOException e){\r\n        e.printStackTrace();\r\n    }\r\n    return cityName;\r\n}\r\n\r\nprivate void getWeatherInfo(String cityName){\r\n    String url = &quot;http://api.weatherapi.com/v1/forecast.json?key=3444b7679ba94113ab592316222401 &amp;q=&quot;+ cityName +&quot;&amp;days=1&amp;aqi=yes&amp;alerts=yes&quot;;\r\n    cityNameTV.setText(cityName);\r\n    RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\r\n    JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\r\n        @Override\r\n        public void onResponse(JSONObject response) {\r\n            loadingPb.setVisibility(View.GONE);\r\n            homeRL.setVisibility(View.VISIBLE);\r\n            weatherRVmodels.clear();\r\n\r\n            try {\r\n                String temperature = response.getJSONObject(&quot;current&quot;).getString(&quot;temp_c&quot;);\r\n                temperatureTV.setText(temperature+&quot;&#176;C&quot;);\r\n                int isDay = response.getJSONObject(&quot;current&quot;).getInt(&quot;is_day&quot;);\r\n                String condition = response.getJSONObject(&quot;current&quot;).getJSONObject(&quot;condition&quot;).getString(&quot;text&quot;);\r\n                String conditionIcon = response.getJSONObject(&quot;current&quot;).getJSONObject(&quot;condition&quot;).getString(&quot;icon&quot;);\r\n                Picasso.get().load(&quot;http:&quot;.concat(conditionIcon)).into(iconIV);\r\n                conditionTV.setText(condition);\r\n                if(isDay == 1){\r\n                    //Morning\r\n                    Picasso.get().load(&quot;https://wallpapertops.com/walldb/original/c/a/1/485443.jpg&quot;).into(backIV);\r\n                }\r\n                else{\r\n                    Picasso.get().load(&quot;https://www.mordeo.org/files/uploads/2018/10/Milky-Way-Starry-Sky-Night-4K-Ultra-HD-Mobile-Wallpaper.jpg&quot;).into(backIV);\r\n                }\r\n\r\n                JSONObject forecastobj = response.getJSONObject(&quot;forecast&quot;);\r\n                JSONObject forecastO = forecastobj.getJSONArray(&quot;forecastday&quot;).getJSONObject(0);\r\n                JSONArray hourArray = forecastO.getJSONArray(&quot;hour&quot;);\r\n\r\n                for(int i=0 ; i&lt;hourArray.length();i++){\r\n                    JSONObject hourObj = hourArray.getJSONObject(i);\r\n                    String time = hourObj.getString(&quot;time&quot;);\r\n                    String temper = hourObj.getString(&quot;temp_c&quot;);\r\n                    String img = hourObj.getJSONObject(&quot;condition&quot;).getString(&quot;icon&quot;);\r\n                    String wind = hourObj.getString(&quot;wind_kph&quot;);\r\n\r\n                    weatherRVmodels.add(new WeatherRVmodel(time,temper,img,wind));\r\n                }\r\n                weatherRVAdapter.notifyDataSetChanged();\r\n\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n        }\r\n    }, new Response.ErrorListener() {\r\n        @Override\r\n        public void onErrorResponse(VolleyError error) {\r\n            Toast.makeText(MainActivity.this, &quot;Please enter valid city name&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n\r\n    requestQueue.add(jsonObjectRequest);\r\n}\r\n```\r\n\r\n\r\nand this is what I&#39;m getting in the Logcat.\r\n\r\n```\r\n2022-01-24 23:55:50.068 10835-10835/com.example.weatherupdates E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.weatherupdates, PID: 10835\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.weatherupdates/com.example.weatherupdates.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;double android.location.Location.getLongitude()&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3635)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3792)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;double android.location.Location.getLongitude()&#39; on a null object reference\r\n        at com.example.weatherupdates.MainActivity.onCreate(MainActivity.java:88)\r\n        at android.app.Activity.performCreate(Activity.java:8051)\r\n        at android.app.Activity.performCreate(Activity.java:8031)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3608)\r\n```\r\n\r\nWhat did I do wrong? I have watched videos regarding this and they had the exact same code and it worked perfectly for them.\r\n\r\nWhen I run the app it opens and asks for the user&#39;s location and when I give the access to the location, there&#39;s a long error in the Logcat. ","title":"Actually I&#39;m working on a weather forecast app and I&#39;m getting a null pointer exception when I&#39;m trying to get the user last known location","body":"<pre><code>private ProgressBar loadingPb;\nprivate TextView cityNameTV ,conditionTV, temperatureTV;\nprivate TextInputEditText cityEdt;\nprivate RecyclerView weatherRV;\nprivate ImageView backIV , iconIV , searchIV;\nprivate ArrayList&lt;WeatherRVmodel&gt; weatherRVmodels;\nprivate WeatherRVAdapter weatherRVAdapter;\nprivate LocationManager locationManager;\nprivate int PERMISSION_CODE = 1;\nprivate String cityName;\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS,WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\n\n    homeRL = findViewById(R.id.idRLHome);\n    loadingPb = findViewById(R.id.idPBLoading);\n    cityNameTV = findViewById(R.id.idTVCityName);\n    conditionTV = findViewById(R.id.idTVCondition);\n    temperatureTV = findViewById(R.id.idTVTemperature);\n    weatherRV = findViewById(R.id.idRvWeather);\n    cityEdt = findViewById(R.id.idEdtCity);\n    backIV = findViewById(R.id.idIVback);\n    iconIV = findViewById(R.id.idIVIcon);\n    searchIV = findViewById(R.id.idIVSearch);\n    weatherRVmodels = new ArrayList&lt;&gt;();\n    weatherRVAdapter = new WeatherRVAdapter(this,weatherRVmodels);\n    weatherRV.setAdapter(weatherRVAdapter);\n\n    locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n    if(ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)!= PackageManager.PERMISSION_GRANTED  &amp;&amp; ActivityCompat.checkSelfPermission(this,Manifest.permission.ACCESS_COARSE_LOCATION)!= PackageManager.PERMISSION_GRANTED){\n        ActivityCompat.requestPermissions(MainActivity.this,new String[]{Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.ACCESS_COARSE_LOCATION},PERMISSION_CODE);\n\n    }\n\n    Location location = locationManager.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);\n    cityName = getCityName(location.getLongitude(),location.getLatitude());\n    getWeatherInfo(cityName);\n\n    searchIV.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String city = cityEdt.getText().toString();\n            if(city.isEmpty()){\n                Toast.makeText(MainActivity.this, &quot;Please enter a City Name&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else {\n                cityNameTV.setText(cityName);\n                getWeatherInfo(city);\n            }\n        }\n    });\n\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if(requestCode==PERMISSION_CODE){\n        if(grantResults.length&gt;0 &amp;&amp; grantResults[0]==PackageManager.PERMISSION_GRANTED){\n            Toast.makeText(MainActivity.this, &quot;Permission granted!&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else{\n            Toast.makeText(MainActivity.this, &quot;Please provide the permission&quot;, Toast.LENGTH_SHORT).show();\n            finish();\n        }\n    }\n}\n\nprivate String getCityName(double longitude, double latitude){\n    String cityName = &quot;Not found&quot;;\n    Geocoder gcd = new Geocoder(getBaseContext(), Locale.getDefault());\n    try{\n            List&lt;Address&gt; addressList = gcd.getFromLocation(latitude,longitude,10);\n            for(Address adr : addressList){\n                if(adr!=null){\n                    String city = adr.getLocality();\n                    if(city!=null &amp;&amp;  !city.equals(&quot;&quot;)){\n                        cityName = city;\n                    }\n                    else{\n                        Log.d(&quot;this&quot;,&quot;CITY NOT FOUND&quot;);\n                        Toast.makeText(this, &quot;User City not found..&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n    }catch (IOException e){\n        e.printStackTrace();\n    }\n    return cityName;\n}\n\nprivate void getWeatherInfo(String cityName){\n    String url = &quot;http://api.weatherapi.com/v1/forecast.json?key=3444b7679ba94113ab592316222401 &amp;q=&quot;+ cityName +&quot;&amp;days=1&amp;aqi=yes&amp;alerts=yes&quot;;\n    cityNameTV.setText(cityName);\n    RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\n    JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\n        @Override\n        public void onResponse(JSONObject response) {\n            loadingPb.setVisibility(View.GONE);\n            homeRL.setVisibility(View.VISIBLE);\n            weatherRVmodels.clear();\n\n            try {\n                String temperature = response.getJSONObject(&quot;current&quot;).getString(&quot;temp_c&quot;);\n                temperatureTV.setText(temperature+&quot;°C&quot;);\n                int isDay = response.getJSONObject(&quot;current&quot;).getInt(&quot;is_day&quot;);\n                String condition = response.getJSONObject(&quot;current&quot;).getJSONObject(&quot;condition&quot;).getString(&quot;text&quot;);\n                String conditionIcon = response.getJSONObject(&quot;current&quot;).getJSONObject(&quot;condition&quot;).getString(&quot;icon&quot;);\n                Picasso.get().load(&quot;http:&quot;.concat(conditionIcon)).into(iconIV);\n                conditionTV.setText(condition);\n                if(isDay == 1){\n                    //Morning\n                    Picasso.get().load(&quot;https://wallpapertops.com/walldb/original/c/a/1/485443.jpg&quot;).into(backIV);\n                }\n                else{\n                    Picasso.get().load(&quot;https://www.mordeo.org/files/uploads/2018/10/Milky-Way-Starry-Sky-Night-4K-Ultra-HD-Mobile-Wallpaper.jpg&quot;).into(backIV);\n                }\n\n                JSONObject forecastobj = response.getJSONObject(&quot;forecast&quot;);\n                JSONObject forecastO = forecastobj.getJSONArray(&quot;forecastday&quot;).getJSONObject(0);\n                JSONArray hourArray = forecastO.getJSONArray(&quot;hour&quot;);\n\n                for(int i=0 ; i&lt;hourArray.length();i++){\n                    JSONObject hourObj = hourArray.getJSONObject(i);\n                    String time = hourObj.getString(&quot;time&quot;);\n                    String temper = hourObj.getString(&quot;temp_c&quot;);\n                    String img = hourObj.getJSONObject(&quot;condition&quot;).getString(&quot;icon&quot;);\n                    String wind = hourObj.getString(&quot;wind_kph&quot;);\n\n                    weatherRVmodels.add(new WeatherRVmodel(time,temper,img,wind));\n                }\n                weatherRVAdapter.notifyDataSetChanged();\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n\n\n        }\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            Toast.makeText(MainActivity.this, &quot;Please enter valid city name&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n\n    requestQueue.add(jsonObjectRequest);\n}\n</code></pre>\n<p>and this is what I'm getting in the Logcat.</p>\n<pre><code>2022-01-24 23:55:50.068 10835-10835/com.example.weatherupdates E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.weatherupdates, PID: 10835\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.weatherupdates/com.example.weatherupdates.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'double android.location.Location.getLongitude()' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3635)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3792)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'double android.location.Location.getLongitude()' on a null object reference\n        at com.example.weatherupdates.MainActivity.onCreate(MainActivity.java:88)\n        at android.app.Activity.performCreate(Activity.java:8051)\n        at android.app.Activity.performCreate(Activity.java:8031)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3608)\n</code></pre>\n<p>What did I do wrong? I have watched videos regarding this and they had the exact same code and it worked perfectly for them.</p>\n<p>When I run the app it opens and asks for the user's location and when I give the access to the location, there's a long error in the Logcat.</p>\n"},{"tags":["java","maven","azure-devops","azure-artifacts"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643012204,"post_id":70830750,"comment_id":125217398,"body_markdown":"Proxy configuration/credentials are wrong: `401 Unauthorized ProxyInfo{host=&#39;proxy-host&#39;, `","body":"Proxy configuration/credentials are wrong: <code>401 Unauthorized ProxyInfo{host=&#39;proxy-host&#39;, </code>"}],"answers":[{"tags":[],"owner":{"account_id":10095128,"reputation":72400,"user_id":7460777,"display_name":"Leo Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643088223,"creation_date":1643088223,"answer_id":70843782,"question_id":70830750,"body_markdown":"&gt; Azure Artifacts deploy packages\r\n\r\nWhen we receiving a 401 it is because maven is sending the wrong login credentials, or no credentials at all.\r\n\r\nTo resolve this issue, please add the following configuration to the `&lt;servers&gt;...&lt;/servers&gt;` configuration node in the maven setting configuration file:\r\n\r\n    &lt;server&gt;\r\n          &lt;id&gt;releases&lt;/id&gt;\r\n          &lt;username&gt;admin&lt;/username&gt;\r\n          &lt;password&gt;admin123&lt;/password&gt;\r\n        &lt;/server&gt;\r\n        &lt;server&gt;\r\n          &lt;id&gt;snapshots&lt;/id&gt;\r\n          &lt;username&gt;admin&lt;/username&gt;\r\n          &lt;password&gt;admin123&lt;/password&gt;\r\n        &lt;/server&gt;\r\n      &lt;/servers&gt;\r\n\r\n**Note**: \r\n\r\n - The id configured in setting.xml must be the same as the id\r\n   configured in pom.xml.\r\n - If you try to publish something to a releases repository and that\r\n   version already exists in the repository\r\n\r\nIf it not work for you, please check below thread for some more details:\r\n\r\n[Why am I getting a &quot;401 Unauthorized&quot; error in Maven?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24830610/why-am-i-getting-a-401-unauthorized-error-in-maven","title":"Azure Artifacts deploy packages","body":"<blockquote>\n<p>Azure Artifacts deploy packages</p>\n</blockquote>\n<p>When we receiving a 401 it is because maven is sending the wrong login credentials, or no credentials at all.</p>\n<p>To resolve this issue, please add the following configuration to the <code>&lt;servers&gt;...&lt;/servers&gt;</code> configuration node in the maven setting configuration file:</p>\n<pre><code>&lt;server&gt;\n      &lt;id&gt;releases&lt;/id&gt;\n      &lt;username&gt;admin&lt;/username&gt;\n      &lt;password&gt;admin123&lt;/password&gt;\n    &lt;/server&gt;\n    &lt;server&gt;\n      &lt;id&gt;snapshots&lt;/id&gt;\n      &lt;username&gt;admin&lt;/username&gt;\n      &lt;password&gt;admin123&lt;/password&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n</code></pre>\n<p><strong>Note</strong>:</p>\n<ul>\n<li>The id configured in setting.xml must be the same as the id\nconfigured in pom.xml.</li>\n<li>If you try to publish something to a releases repository and that\nversion already exists in the repository</li>\n</ul>\n<p>If it not work for you, please check below thread for some more details:</p>\n<p><a href=\"https://stackoverflow.com/questions/24830610/why-am-i-getting-a-401-unauthorized-error-in-maven\">Why am I getting a &quot;401 Unauthorized&quot; error in Maven?</a></p>\n"}],"owner":{"account_id":2830773,"reputation":13,"user_id":2432404,"accept_rate":20,"display_name":"Shafter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643088223,"creation_date":1643011894,"question_id":70830750,"body_markdown":"I am trying to publish third-party private package directly to my Azure Artifacts feed with mvn deploy:deploy-file command like this:\r\n\r\n```\r\nmvn deploy:deploy-file -Dpackaging=&quot;jar&quot; -DrepositoryId=&quot;PXXXXX-inccoming&quot; -Durl=&quot;https://pkgs.dev.azure.com/XxxXxxxXxxx/XxxXxx/_packaging/PXXXXX-incoming/maven/v1&quot; -DgroupId=&quot;pl.group.id&quot; -DartifactId=&quot;artifact&quot; -Dversion=&quot;0.0.2&quot; -Dfile=&quot;C:\\path\\pl\\group\\id\\0.0.2\\artifact-0.0.2.jar&quot;\r\n```\r\n\r\nBut I am getting strange error:\r\n\r\n&gt; [ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default-cli) on project CAST_2015: Failed to deploy artifacts: Could not transfer artifact pl.group.id:artifact:jar:0.0.2 from/to PXXXXX-inccoming (https://pkgs.dev.azure.com/XxxXxxxXxxx/XxxXxx/_packaging/PXXXXX-incoming/maven/v1): Transfer failed for https://pkgs.dev.azure.com/XxxXxxxXxxx/XxxXxx/_packaging/PXXXXX-incoming/maven/v1/pl/group/id/artifact/0.0.2/artifact-0.0.2.jar 401 Unauthorized ProxyInfo{host=&#39;proxy-host&#39;, userName=&#39;null&#39;, port=8080, type=&#39;http&#39;, nonProxyHosts=&#39;null&#39;}\r\n\r\nThe provided user has full access for packaging in Azure.\r\n\r\nBoth proxy and server settings are actually in my setting.xml file.\r\nWhat am I doing wrong?","title":"Azure Artifacts deploy packages","body":"<p>I am trying to publish third-party private package directly to my Azure Artifacts feed with mvn deploy:deploy-file command like this:</p>\n<pre><code>mvn deploy:deploy-file -Dpackaging=&quot;jar&quot; -DrepositoryId=&quot;PXXXXX-inccoming&quot; -Durl=&quot;https://pkgs.dev.azure.com/XxxXxxxXxxx/XxxXxx/_packaging/PXXXXX-incoming/maven/v1&quot; -DgroupId=&quot;pl.group.id&quot; -DartifactId=&quot;artifact&quot; -Dversion=&quot;0.0.2&quot; -Dfile=&quot;C:\\path\\pl\\group\\id\\0.0.2\\artifact-0.0.2.jar&quot;\n</code></pre>\n<p>But I am getting strange error:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default-cli) on project CAST_2015: Failed to deploy artifacts: Could not transfer artifact pl.group.id:artifact:jar:0.0.2 from/to PXXXXX-inccoming (<a href=\"https://pkgs.dev.azure.com/XxxXxxxXxxx/XxxXxx/_packaging/PXXXXX-incoming/maven/v1\" rel=\"nofollow noreferrer\">https://pkgs.dev.azure.com/XxxXxxxXxxx/XxxXxx/_packaging/PXXXXX-incoming/maven/v1</a>): Transfer failed for <a href=\"https://pkgs.dev.azure.com/XxxXxxxXxxx/XxxXxx/_packaging/PXXXXX-incoming/maven/v1/pl/group/id/artifact/0.0.2/artifact-0.0.2.jar\" rel=\"nofollow noreferrer\">https://pkgs.dev.azure.com/XxxXxxxXxxx/XxxXxx/_packaging/PXXXXX-incoming/maven/v1/pl/group/id/artifact/0.0.2/artifact-0.0.2.jar</a> 401 Unauthorized ProxyInfo{host='proxy-host', userName='null', port=8080, type='http', nonProxyHosts='null'}</p>\n</blockquote>\n<p>The provided user has full access for packaging in Azure.</p>\n<p>Both proxy and server settings are actually in my setting.xml file.\nWhat am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot","mocking","mockito"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1643088116,"post_id":70843670,"comment_id":125240612,"body_markdown":"That the hashes are the same is good;  the question is are they the hashes of the mock or of an actual instance (although I agree it looks like it SHOULD be the mock) ?  In MyService.run, can you confirm which type it is?","body":"That the hashes are the same is good;  the question is are they the hashes of the mock or of an actual instance (although I agree it looks like it SHOULD be the mock) ?  In MyService.run, can you confirm which type it is?"}],"answers":[{"tags":[],"owner":{"account_id":2148650,"reputation":76,"user_id":1905645,"display_name":"MinandLucy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643087776,"creation_date":1643087776,"answer_id":70843737,"question_id":70843670,"body_markdown":"Looks like you should use @MockBean not @Mock in test class.\r\n\r\nMockBean is used to add mocks to a Spring ApplicationContext, not only &quot;mock&quot; an real object. ","title":"How to mock repository Spring","body":"<p>Looks like you should use @MockBean not @Mock in test class.</p>\n<p>MockBean is used to add mocks to a Spring ApplicationContext, not only &quot;mock&quot; an real object.</p>\n"}],"owner":{"account_id":21841730,"reputation":124,"user_id":16135156,"display_name":"qwezxc789"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70843737,"answer_count":1,"score":1,"last_activity_date":1643087776,"creation_date":1643087270,"question_id":70843670,"body_markdown":"My test class looks this way and I try to mock repository to return list of real objects.\r\n\r\nIn debug, I see that hashes of mock repository and service&#39;s repository during test are the same. Nonetheless I anyway receive empty `ArrayList`.\r\n\r\nNone of the previous answers like [this][1] or [this][2] etc. helped me.\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\nclass MyServiceTest {\r\n\r\n    @Mock\r\n    private BasicStuffRepository&lt;Stuff&gt; stuffRepository;\r\n\r\n    @Autowired\r\n    private MyService myService;\r\n\r\n    @Test\r\n    void run() {\r\n        // mock\r\n        var mockObject1 = new Stuff();\r\n        var mockObject2 = new Stuff();\r\n        var mockObject3 = new Stuff();\r\n        var mockObject4 = new Stuff();\r\n\r\n        List&lt;Stuff&gt; mockStuff = Stream.of(mockObject1, mockObject2, mockObject3, mockObject4).collect(Collectors.toList());\r\n\r\n        when(stuffRepository.findAll()).thenReturn(mockStuff);\r\n\r\n        // run\r\n        myService.run();\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class MyService {\r\n\r\n    private final BasicStuffRepository&lt;Stuff&gt; stuffRepository;\r\n\r\n    public void run() {\r\n        stuffRepository.findAll().stream() ....\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54674251/how-to-mock-jpa-repositorys-find-method-in-unit-tests\r\n  [2]: https://stackoverflow.com/questions/51053469/unit-tests-how-to-mock-repository-using-mockito","title":"How to mock repository Spring","body":"<p>My test class looks this way and I try to mock repository to return list of real objects.</p>\n<p>In debug, I see that hashes of mock repository and service's repository during test are the same. Nonetheless I anyway receive empty <code>ArrayList</code>.</p>\n<p>None of the previous answers like <a href=\"https://stackoverflow.com/questions/54674251/how-to-mock-jpa-repositorys-find-method-in-unit-tests\">this</a> or <a href=\"https://stackoverflow.com/questions/51053469/unit-tests-how-to-mock-repository-using-mockito\">this</a> etc. helped me.</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\nclass MyServiceTest {\n\n    @Mock\n    private BasicStuffRepository&lt;Stuff&gt; stuffRepository;\n\n    @Autowired\n    private MyService myService;\n\n    @Test\n    void run() {\n        // mock\n        var mockObject1 = new Stuff();\n        var mockObject2 = new Stuff();\n        var mockObject3 = new Stuff();\n        var mockObject4 = new Stuff();\n\n        List&lt;Stuff&gt; mockStuff = Stream.of(mockObject1, mockObject2, mockObject3, mockObject4).collect(Collectors.toList());\n\n        when(stuffRepository.findAll()).thenReturn(mockStuff);\n\n        // run\n        myService.run();\n    }\n}\n\n</code></pre>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class MyService {\n\n    private final BasicStuffRepository&lt;Stuff&gt; stuffRepository;\n\n    public void run() {\n        stuffRepository.findAll().stream() ....\n    }\n}\n</code></pre>\n"},{"tags":["java","github","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643087704,"creation_date":1643087704,"answer_id":70843729,"question_id":70842160,"body_markdown":"You can configure the classpath of your unmanaged folder(project without build tools) via the command `Java: Configure Classpath`.\r\n\r\nSee: https://code.visualstudio.com/docs/java/java-project#_configure-classpath-for-unmanaged-folders","title":"VsCode Java project Classpath output","body":"<p>You can configure the classpath of your unmanaged folder(project without build tools) via the command <code>Java: Configure Classpath</code>.</p>\n<p>See: <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-classpath-for-unmanaged-folders\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-project#_configure-classpath-for-unmanaged-folders</a></p>\n"}],"owner":{"account_id":21956907,"reputation":27,"user_id":16235337,"display_name":"bdell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1643087704,"creation_date":1643071170,"question_id":70842160,"body_markdown":"I just cloned a java repository in Vscode, and rather than allowing me to put all my class files in the bin directory (default), it puts the class files in ApplicationSupport/Code/WorkspaceStorage, and it does not let me change it. Also, it defaults my source path to just one of the many folders in my repository, and does not let me compile or run code. Ive searched everywhere and I can&#39;t find any info on this topic. Does anyone know anything.","title":"VsCode Java project Classpath output","body":"<p>I just cloned a java repository in Vscode, and rather than allowing me to put all my class files in the bin directory (default), it puts the class files in ApplicationSupport/Code/WorkspaceStorage, and it does not let me change it. Also, it defaults my source path to just one of the many folders in my repository, and does not let me compile or run code. Ive searched everywhere and I can't find any info on this topic. Does anyone know anything.</p>\n"},{"tags":["java","date","jodatime"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":91,"is_accepted":false,"score":91,"last_activity_date":1419500058,"creation_date":1285583235,"answer_id":3802938,"question_id":3802893,"body_markdown":"you can use [`LocalDate`][1]:\r\n\r\n    Days.daysBetween(new LocalDate(start), new LocalDate(end)).getDays() \r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html","title":"Number of days between two dates in Joda-Time","body":"<p>you can use <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a>:</p>\n\n<pre><code>Days.daysBetween(new LocalDate(start), new LocalDate(end)).getDays() \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":5,"up_vote_count":200,"is_accepted":false,"score":195,"last_activity_date":1419499780,"creation_date":1285583331,"answer_id":3802949,"question_id":3802893,"body_markdown":"# `Days` Class\r\n\r\nUsing the [`Days`][1] class with the [`withTimeAtStartOfDay`][2] method should work:\r\n\r\n    Days.daysBetween(start.withTimeAtStartOfDay() , end.withTimeAtStartOfDay() ).getDays() \r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/apidocs/org/joda/time/Days.html\r\n  [2]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#withTimeAtStartOfDay--","title":"Number of days between two dates in Joda-Time","body":"<h1><code>Days</code> Class</h1>\n\n<p>Using the <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Days.html\" rel=\"noreferrer\"><code>Days</code></a> class with the <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#withTimeAtStartOfDay--\" rel=\"noreferrer\"><code>withTimeAtStartOfDay</code></a> method should work:</p>\n\n<pre><code>Days.daysBetween(start.withTimeAtStartOfDay() , end.withTimeAtStartOfDay() ).getDays() \n</code></pre>\n"},{"tags":[],"owner":{"account_id":43047,"reputation":12737,"user_id":125663,"accept_rate":100,"display_name":"Alice Purcell"},"down_vote_count":0,"up_vote_count":428,"is_accepted":true,"score":428,"last_activity_date":1423697306,"creation_date":1375226527,"answer_id":17959137,"question_id":3802893,"body_markdown":"Annoyingly, the withTimeAtStartOfDay answer is wrong, but only occasionally. You want:\r\n\r\n    Days.daysBetween(start.toLocalDate(), end.toLocalDate()).getDays()\r\n\r\nIt turns out that &quot;midnight/start of day&quot; sometimes means 1am (daylight savings happen this way in some places), which Days.daysBetween doesn&#39;t handle properly.\r\n\r\n    // 5am on the 20th to 1pm on the 21st, October 2013, Brazil\r\n    DateTimeZone BRAZIL = DateTimeZone.forID(&quot;America/Sao_Paulo&quot;);\r\n    DateTime start = new DateTime(2013, 10, 20, 5, 0, 0, BRAZIL);\r\n    DateTime end = new DateTime(2013, 10, 21, 13, 0, 0, BRAZIL);\r\n    System.out.println(daysBetween(start.withTimeAtStartOfDay(),\r\n                                   end.withTimeAtStartOfDay()).getDays());\r\n    // prints 0\r\n    System.out.println(daysBetween(start.toLocalDate(),\r\n                                   end.toLocalDate()).getDays());\r\n    // prints 1\r\n\r\nGoing via a `LocalDate` sidesteps the whole issue.","title":"Number of days between two dates in Joda-Time","body":"<p>Annoyingly, the withTimeAtStartOfDay answer is wrong, but only occasionally. You want:</p>\n\n<pre><code>Days.daysBetween(start.toLocalDate(), end.toLocalDate()).getDays()\n</code></pre>\n\n<p>It turns out that \"midnight/start of day\" sometimes means 1am (daylight savings happen this way in some places), which Days.daysBetween doesn't handle properly.</p>\n\n<pre><code>// 5am on the 20th to 1pm on the 21st, October 2013, Brazil\nDateTimeZone BRAZIL = DateTimeZone.forID(\"America/Sao_Paulo\");\nDateTime start = new DateTime(2013, 10, 20, 5, 0, 0, BRAZIL);\nDateTime end = new DateTime(2013, 10, 21, 13, 0, 0, BRAZIL);\nSystem.out.println(daysBetween(start.withTimeAtStartOfDay(),\n                               end.withTimeAtStartOfDay()).getDays());\n// prints 0\nSystem.out.println(daysBetween(start.toLocalDate(),\n                               end.toLocalDate()).getDays());\n// prints 1\n</code></pre>\n\n<p>Going via a <code>LocalDate</code> sidesteps the whole issue.</p>\n"},{"tags":[],"owner":{"account_id":1099129,"reputation":145,"user_id":1091978,"accept_rate":6,"display_name":"user1091978"},"down_vote_count":12,"up_vote_count":0,"is_accepted":false,"score":-12,"last_activity_date":1419442684,"creation_date":1419442684,"answer_id":27640488,"question_id":3802893,"body_markdown":"\tpublic static int getDifferenceIndays(long timestamp1, long timestamp2) {\r\n\t\tfinal int SECONDS = 60;\r\n\t\tfinal int MINUTES = 60;\r\n\t\tfinal int HOURS = 24;\r\n\t\tfinal int MILLIES = 1000;\r\n\t\tlong temp;\r\n\t\tif (timestamp1 &lt; timestamp2) {\r\n\t\t\ttemp = timestamp1;\r\n\t\t\ttimestamp1 = timestamp2;\r\n\t\t\ttimestamp2 = temp;\r\n\t\t}\r\n\t\tCalendar startDate = Calendar.getInstance(TimeZone.getDefault());\r\n\t\tCalendar endDate = Calendar.getInstance(TimeZone.getDefault());\r\n\t\tendDate.setTimeInMillis(timestamp1);\r\n\t\tstartDate.setTimeInMillis(timestamp2);\r\n\t\tif ((timestamp1 - timestamp2) &lt; 1 * HOURS * MINUTES * SECONDS * MILLIES) {\r\n\t\t\tint day1 = endDate.get(Calendar.DAY_OF_MONTH);\r\n\t\t\tint day2 = startDate.get(Calendar.DAY_OF_MONTH);\r\n\t\t\tif (day1 == day2) {\r\n\t\t\t\treturn 0;\r\n\t\t\t} else {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tint diffDays = 0;\r\n\t\tstartDate.add(Calendar.DAY_OF_MONTH, diffDays);\r\n\t\twhile (startDate.before(endDate)) {\r\n\t\t\tstartDate.add(Calendar.DAY_OF_MONTH, 1);\r\n\t\t\tdiffDays++;\r\n\t\t}\r\n\t\treturn diffDays;\r\n\t}","title":"Number of days between two dates in Joda-Time","body":"<pre><code>public static int getDifferenceIndays(long timestamp1, long timestamp2) {\n    final int SECONDS = 60;\n    final int MINUTES = 60;\n    final int HOURS = 24;\n    final int MILLIES = 1000;\n    long temp;\n    if (timestamp1 &lt; timestamp2) {\n        temp = timestamp1;\n        timestamp1 = timestamp2;\n        timestamp2 = temp;\n    }\n    Calendar startDate = Calendar.getInstance(TimeZone.getDefault());\n    Calendar endDate = Calendar.getInstance(TimeZone.getDefault());\n    endDate.setTimeInMillis(timestamp1);\n    startDate.setTimeInMillis(timestamp2);\n    if ((timestamp1 - timestamp2) &lt; 1 * HOURS * MINUTES * SECONDS * MILLIES) {\n        int day1 = endDate.get(Calendar.DAY_OF_MONTH);\n        int day2 = startDate.get(Calendar.DAY_OF_MONTH);\n        if (day1 == day2) {\n            return 0;\n        } else {\n            return 1;\n        }\n    }\n    int diffDays = 0;\n    startDate.add(Calendar.DAY_OF_MONTH, diffDays);\n    while (startDate.before(endDate)) {\n        startDate.add(Calendar.DAY_OF_MONTH, 1);\n        diffDays++;\n    }\n    return diffDays;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":292165,"reputation":5455,"user_id":594765,"accept_rate":70,"display_name":"JBoy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466512651,"creation_date":1466512651,"answer_id":37944656,"question_id":3802893,"body_markdown":"The accepted answer builds two `LocalDate` objects, which are quite expensive if you are reading lot of data.\r\nI use this:\r\n\r\n      public static int getDaysBetween(DateTime earlier, DateTime later)\r\n      {\r\n        return (int) TimeUnit.MILLISECONDS.toDays(later.getMillis()- earlier.getMillis());\r\n      }\r\nBy calling `getMillis()` you use already existing variables.&lt;br&gt;\r\n`MILLISECONDS.toDays()` then, uses a simple arithmetic calculation, does not create any object.","title":"Number of days between two dates in Joda-Time","body":"<p>The accepted answer builds two <code>LocalDate</code> objects, which are quite expensive if you are reading lot of data.\nI use this:</p>\n\n<pre><code>  public static int getDaysBetween(DateTime earlier, DateTime later)\n  {\n    return (int) TimeUnit.MILLISECONDS.toDays(later.getMillis()- earlier.getMillis());\n  }\n</code></pre>\n\n<p>By calling <code>getMillis()</code> you use already existing variables.<br>\n<code>MILLISECONDS.toDays()</code> then, uses a simple arithmetic calculation, does not create any object.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1569580314,"creation_date":1503375828,"answer_id":45808882,"question_id":3802893,"body_markdown":"# tl;dr\r\n\r\n    java.time.temporal.ChronoUnit.DAYS.between( \r\n        earlier.toLocalDate(), \r\n        later.toLocalDate() \r\n    )\r\n\r\n…or…\r\n\r\n    java.time.temporal.ChronoUnit.HOURS.between( \r\n        earlier.truncatedTo( ChronoUnit.HOURS )  , \r\n        later.truncatedTo( ChronoUnit.HOURS ) \r\n    )\r\n\r\n# java.time\r\n\r\nFYI, the [Joda-Time](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. \r\n\r\nThe equivalent of Joda-Time `DateTime` is `ZonedDateTime`.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; ) ;\r\n    ZonedDateTime now = ZonedDateTime.now( z ) ;\r\n\r\nApparently you want to count the days by dates, meaning you want to ignore the time of day. For example, starting a minute before midnight and ending a minute after midnight should result in a single day. For this behavior, extract a `LocalDate` from your `ZonedDateTime`. The [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\n    LocalDate localDateStart = zdtStart.toLocalDate() ;\r\n    LocalDate localDateStop = zdtStop.toLocalDate() ;\r\n\r\nUse the [`ChronoUnit`][1] enum to calculate elapsed days or other units.\r\n\r\n    long days = ChronoUnit.DAYS.between( localDateStart , localDateStop ) ;\r\n\r\n# Truncate\r\n\r\nAs for you asking about a more general way to do this counting where you are interested the delta of hours as hour-of-the-clock rather than complete hours as spans-of-time of sixty minutes, use the `truncatedTo` method.\r\n\r\nHere is your example of 14:45 to 15:12 on same day.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ); \r\n    ZonedDateTime start = ZonedDateTime.of( 2017 , 1 , 17 , 14 , 45 , 0 , 0 , z );\r\n    ZonedDateTime stop = ZonedDateTime.of( 2017 , 1 , 17 , 15 , 12 , 0 , 0 , z );\r\n\r\n    long hours = ChronoUnit.HOURS.between( start.truncatedTo( ChronoUnit.HOURS ) , stop.truncatedTo( ChronoUnit.HOURS ) );\r\n\r\n&gt;1\r\n\r\n**This does not work for days.** Use toLocalDate() in this case.\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html","title":"Number of days between two dates in Joda-Time","body":"<h1>tl;dr</h1>\n\n<pre><code>java.time.temporal.ChronoUnit.DAYS.between( \n    earlier.toLocalDate(), \n    later.toLocalDate() \n)\n</code></pre>\n\n<p>…or…</p>\n\n<pre><code>java.time.temporal.ChronoUnit.HOURS.between( \n    earlier.truncatedTo( ChronoUnit.HOURS )  , \n    later.truncatedTo( ChronoUnit.HOURS ) \n)\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>FYI, the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes. </p>\n\n<p>The equivalent of Joda-Time <code>DateTime</code> is <code>ZonedDateTime</code>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Pacific/Auckland\" ) ;\nZonedDateTime now = ZonedDateTime.now( z ) ;\n</code></pre>\n\n<p>Apparently you want to count the days by dates, meaning you want to ignore the time of day. For example, starting a minute before midnight and ending a minute after midnight should result in a single day. For this behavior, extract a <code>LocalDate</code> from your <code>ZonedDateTime</code>. The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n\n<pre><code>LocalDate localDateStart = zdtStart.toLocalDate() ;\nLocalDate localDateStop = zdtStop.toLocalDate() ;\n</code></pre>\n\n<p>Use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\" rel=\"noreferrer\"><code>ChronoUnit</code></a> enum to calculate elapsed days or other units.</p>\n\n<pre><code>long days = ChronoUnit.DAYS.between( localDateStart , localDateStop ) ;\n</code></pre>\n\n<h1>Truncate</h1>\n\n<p>As for you asking about a more general way to do this counting where you are interested the delta of hours as hour-of-the-clock rather than complete hours as spans-of-time of sixty minutes, use the <code>truncatedTo</code> method.</p>\n\n<p>Here is your example of 14:45 to 15:12 on same day.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" ); \nZonedDateTime start = ZonedDateTime.of( 2017 , 1 , 17 , 14 , 45 , 0 , 0 , z );\nZonedDateTime stop = ZonedDateTime.of( 2017 , 1 , 17 , 15 , 12 , 0 , 0 , z );\n\nlong hours = ChronoUnit.HOURS.between( start.truncatedTo( ChronoUnit.HOURS ) , stop.truncatedTo( ChronoUnit.HOURS ) );\n</code></pre>\n\n<blockquote>\n  <p>1</p>\n</blockquote>\n\n<p><strong>This does not work for days.</strong> Use toLocalDate() in this case.</p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":8503014,"reputation":1,"user_id":6375443,"display_name":"Arnab Bhui"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1541866348,"creation_date":1541775546,"answer_id":53228157,"question_id":3802893,"body_markdown":"    \r\n    DateTime  dt  = new DateTime(laterDate);        \r\n    \r\n    DateTime newDate = dt.minus( new  DateTime ( previousDate ).getMillis());\r\n             \r\n    System.out.println(&quot;No of days : &quot; + newDate.getDayOfYear() - 1 );    \r\n\r\n \r\n  ","title":"Number of days between two dates in Joda-Time","body":"<pre><code>DateTime  dt  = new DateTime(laterDate);        \n\nDateTime newDate = dt.minus( new  DateTime ( previousDate ).getMillis());\n\nSystem.out.println(\"No of days : \" + newDate.getDayOfYear() - 1 );    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1524517,"reputation":6229,"user_id":1423280,"accept_rate":92,"display_name":"AzizSM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543435349,"creation_date":1543378410,"answer_id":53512021,"question_id":3802893,"body_markdown":"# `java.time.Period`\r\n\r\nUse the [`java.time.Period`][1] class to [count days][2].\r\n\r\nSince Java 8 calculating the difference is more intuitive using `LocalDate`, `LocalDateTime` to represent the two dates \r\n\r\n\r\n        LocalDate now = LocalDate.now();\r\n        LocalDate inputDate = LocalDate.of(2018, 11, 28);\r\n\r\n        Period period = Period.between( inputDate, now);\r\n        int diff = period.getDays();\r\n        System.out.println(&quot;diff = &quot; + diff);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Period.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Period.html#getDays--","title":"Number of days between two dates in Joda-Time","body":"<h1><code>java.time.Period</code></h1>\n\n<p>Use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Period.html\" rel=\"nofollow noreferrer\"><code>java.time.Period</code></a> class to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Period.html#getDays--\" rel=\"nofollow noreferrer\">count days</a>.</p>\n\n<p>Since Java 8 calculating the difference is more intuitive using <code>LocalDate</code>, <code>LocalDateTime</code> to represent the two dates </p>\n\n<pre><code>    LocalDate now = LocalDate.now();\n    LocalDate inputDate = LocalDate.of(2018, 11, 28);\n\n    Period period = Period.between( inputDate, now);\n    int diff = period.getDays();\n    System.out.println(\"diff = \" + diff);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16104027,"reputation":1,"user_id":11623984,"display_name":"rashlesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643087362,"creation_date":1643087362,"answer_id":70843679,"question_id":3802893,"body_markdown":"**(KOTLIN) For Difference between a constant date and current date (Joda)**\r\n\r\nYou can use `Days.daysBetween(jodaDate1,jodaDate2)`\r\n\r\nHere is an example:\r\n\r\n``` \r\n        val dateTime: DateTime = DateTime.parse(&quot;14/09/2020&quot;,\r\n            DateTimeFormat.forPattern(&quot;dd/MM/yyyy&quot;))\r\n        val currentDate = DateTime.now()\r\n        //To calculate the days in between\r\n        val dayCount = Days.daysBetween(dateTime,currentDate).days\r\n        //Set Value to TextView \r\n        binding.daysCount.text = dayCount.toString()\r\n```\r\n","title":"Number of days between two dates in Joda-Time","body":"<p><strong>(KOTLIN) For Difference between a constant date and current date (Joda)</strong></p>\n<p>You can use <code>Days.daysBetween(jodaDate1,jodaDate2)</code></p>\n<p>Here is an example:</p>\n<pre><code>        val dateTime: DateTime = DateTime.parse(&quot;14/09/2020&quot;,\n            DateTimeFormat.forPattern(&quot;dd/MM/yyyy&quot;))\n        val currentDate = DateTime.now()\n        //To calculate the days in between\n        val dayCount = Days.daysBetween(dateTime,currentDate).days\n        //Set Value to TextView \n        binding.daysCount.text = dayCount.toString()\n</code></pre>\n"}],"owner":{"account_id":8495,"reputation":12718,"user_id":15355,"accept_rate":60,"display_name":"pvgoddijn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233585,"favorite_count":0,"down_vote_count":1,"up_vote_count":363,"accepted_answer_id":17959137,"answer_count":9,"score":362,"last_activity_date":1643087362,"creation_date":1285582890,"question_id":3802893,"body_markdown":"How do I find the difference in Days between two [Joda-Time][1] [`DateTime`][2] instances?\r\nWith ‘difference in days’ I mean if start is on Monday and end is on Tuesday I expect a return value of 1 regardless of the hour/minute/seconds of the start and end dates.\r\n\r\n`Days.daysBetween(start, end).getDays()` gives me 0 if start is in the evening and end in the morning.\r\n\r\nI&#39;m also having the same issue with other date fields so I was hoping there would be a generic way to &#39;ignore&#39; the fields of lesser significance. \r\n\r\nIn other words, the months between Feb and 4 March would also be 1, as would the hours between 14:45 and 15:12 be. However the hour difference between 14:01 and 14:55 would be 0.\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [2]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html","title":"Number of days between two dates in Joda-Time","body":"<p>How do I find the difference in Days between two <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"noreferrer\"><code>DateTime</code></a> instances?\nWith ‘difference in days’ I mean if start is on Monday and end is on Tuesday I expect a return value of 1 regardless of the hour/minute/seconds of the start and end dates.</p>\n\n<p><code>Days.daysBetween(start, end).getDays()</code> gives me 0 if start is in the evening and end in the morning.</p>\n\n<p>I'm also having the same issue with other date fields so I was hoping there would be a generic way to 'ignore' the fields of lesser significance. </p>\n\n<p>In other words, the months between Feb and 4 March would also be 1, as would the hours between 14:45 and 15:12 be. However the hour difference between 14:01 and 14:55 would be 0.</p>\n"},{"tags":["java","weka"],"comments":[{"owner":{"account_id":1453634,"reputation":39,"user_id":1369857,"accept_rate":14,"display_name":"lahiruW"},"score":0,"creation_date":1642763370,"post_id":70795462,"comment_id":125164109,"body_markdown":"any expert idea pls.","body":"any expert idea pls."},{"owner":{"account_id":1453634,"reputation":39,"user_id":1369857,"accept_rate":14,"display_name":"lahiruW"},"score":0,"creation_date":1642773178,"post_id":70795462,"comment_id":125167807,"body_markdown":"can anyone direct a person or place at least pls ?","body":"can anyone direct a person or place at least pls ?"}],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642971888,"creation_date":1642971888,"answer_id":70826571,"question_id":70795462,"body_markdown":"The *prediction margin* that you are referring to gets generated by the [weka.gui.explorer.ClassifierErrorsPlotInstances](https://github.com/Waikato/weka-trunk/blob/eebdd35e31ec76315bdca176974a4007beae0673/weka/src/main/java/weka/gui/explorer/ClassifierErrorsPlotInstances.java) class. Check the variables `probActual` and `probNext` in its [process](https://github.com/Waikato/weka-trunk/blob/eebdd35e31ec76315bdca176974a4007beae0673/weka/src/main/java/weka/gui/explorer/ClassifierErrorsPlotInstances.java#L325) method.\r\n\r\nThis margin is simply the difference between the probability for the actual class label and the highest probability of the label that isn&#39;t the actual class label.\r\n\r\nYou can use the `distributionForInstance` method of your classifier to obtain the class distribution array and then determine these two probabilities to calculate the margin for the prediction.","title":"Weka Prediction margin using Java API","body":"<p>The <em>prediction margin</em> that you are referring to gets generated by the <a href=\"https://github.com/Waikato/weka-trunk/blob/eebdd35e31ec76315bdca176974a4007beae0673/weka/src/main/java/weka/gui/explorer/ClassifierErrorsPlotInstances.java\" rel=\"nofollow noreferrer\">weka.gui.explorer.ClassifierErrorsPlotInstances</a> class. Check the variables <code>probActual</code> and <code>probNext</code> in its <a href=\"https://github.com/Waikato/weka-trunk/blob/eebdd35e31ec76315bdca176974a4007beae0673/weka/src/main/java/weka/gui/explorer/ClassifierErrorsPlotInstances.java#L325\" rel=\"nofollow noreferrer\">process</a> method.</p>\n<p>This margin is simply the difference between the probability for the actual class label and the highest probability of the label that isn't the actual class label.</p>\n<p>You can use the <code>distributionForInstance</code> method of your classifier to obtain the class distribution array and then determine these two probabilities to calculate the margin for the prediction.</p>\n"}],"owner":{"account_id":1453634,"reputation":39,"user_id":1369857,"accept_rate":14,"display_name":"lahiruW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643085133,"creation_date":1642729775,"question_id":70795462,"body_markdown":"Hellow everyone,\r\nI&#39;m using Weka Java API for predictions. I was able to get the expected and actual behavior from the java code. But now what i wanted is to get the &#39;prediction margin&#39; information from final results. From GUI, i can manage, but i wanted is a Java solution. appreciate if any one can help.What i wanted to get is the below highlighted information using java.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JRIbD.png\r\n\r\nBelow code shows the code i&#39;m using as of now to predict actual/predicted.\r\n\r\n    for (int i = 0; i &lt; testDataSet.numInstances(); i++) {\r\n            double actualClass = testDataSet.instance(i).classValue();\r\n            String actual = testDataSet.classAttribute().value((int) actualClass);\r\n            \r\n            Instance newInst = testDataSet.instance(i);\r\n            double preJ48 = tree.classifyInstance(newInst);\r\n\r\n                      String predictionString = testDataSet.classAttribute().value((int) preJ48);\r\n            System.out.println(&quot;Actual : &quot; + actual + &quot;   Prediction : &quot; + predictionString);\r\n        }\r\n\r\n\r\n\r\n\r\n############################# Solution i found as below ##########\r\n\r\n     J48 tree = new J48();\r\n        tree.buildClassifier(trainDataSet);\r\n        double a = eval.evaluateModelOnceAndRecordPrediction(tree, testDataSet.instance(0));\r\n\r\n        eval.evaluateModel(tree, testDataSet, plainText);\r\n     \r\n\r\n        for (String line : predsBuffer.toString().split(&quot;\\n&quot;)) {\r\n            String[] linesplit = line.split(&quot;\\\\s+&quot;);\r\n\r\n            // If there&#39;s an error(error flag &quot;+&quot;), the length of linesplit is 6, otherwise 5\r\n\r\n            System.out.println(&quot;linesplit &quot;+linesplit.length);\r\n            int id;\r\n            String expectedValue, classification;\r\n            double probability;\r\n\r\n            if (line.contains(&quot;+&quot;)) {\r\n              \r\n                probability = Double.parseDouble(linesplit[5]);\r\n                System.out.println(&quot;Its Minus &quot;+probability);\r\n            } else {\r\n               \r\n                probability = Double.parseDouble(linesplit[4]);\r\n                System.out.println(&quot;Its Plus &quot;+probability);\r\n            }\r\n        }","title":"Weka Prediction margin using Java API","body":"<p>Hellow everyone,\nI'm using Weka Java API for predictions. I was able to get the expected and actual behavior from the java code. But now what i wanted is to get the 'prediction margin' information from final results. From GUI, i can manage, but i wanted is a Java solution. appreciate if any one can help.What i wanted to get is the below highlighted information using java.\n<a href=\"https://i.stack.imgur.com/JRIbD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JRIbD.png\" alt=\"enter image description here\" /></a></p>\n<p>Below code shows the code i'm using as of now to predict actual/predicted.</p>\n<pre><code>for (int i = 0; i &lt; testDataSet.numInstances(); i++) {\n        double actualClass = testDataSet.instance(i).classValue();\n        String actual = testDataSet.classAttribute().value((int) actualClass);\n        \n        Instance newInst = testDataSet.instance(i);\n        double preJ48 = tree.classifyInstance(newInst);\n\n                  String predictionString = testDataSet.classAttribute().value((int) preJ48);\n        System.out.println(&quot;Actual : &quot; + actual + &quot;   Prediction : &quot; + predictionString);\n    }\n</code></pre>\n<p>############################# Solution i found as below ##########</p>\n<pre><code> J48 tree = new J48();\n    tree.buildClassifier(trainDataSet);\n    double a = eval.evaluateModelOnceAndRecordPrediction(tree, testDataSet.instance(0));\n\n    eval.evaluateModel(tree, testDataSet, plainText);\n \n\n    for (String line : predsBuffer.toString().split(&quot;\\n&quot;)) {\n        String[] linesplit = line.split(&quot;\\\\s+&quot;);\n\n        // If there's an error(error flag &quot;+&quot;), the length of linesplit is 6, otherwise 5\n\n        System.out.println(&quot;linesplit &quot;+linesplit.length);\n        int id;\n        String expectedValue, classification;\n        double probability;\n\n        if (line.contains(&quot;+&quot;)) {\n          \n            probability = Double.parseDouble(linesplit[5]);\n            System.out.println(&quot;Its Minus &quot;+probability);\n        } else {\n           \n            probability = Double.parseDouble(linesplit[4]);\n            System.out.println(&quot;Its Plus &quot;+probability);\n        }\n    }\n</code></pre>\n"},{"tags":["java","servlets","cookies"],"answers":[{"tags":[],"owner":{"account_id":38218,"reputation":37549,"user_id":109538,"display_name":"broofa"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1242869624,"creation_date":1242869624,"answer_id":891037,"question_id":890935,"body_markdown":"Keep in mind that a cookie is actually defined by the tuple of it&#39;s name, path, and domain.  If any one of those three is different, or there is more than one cookie of the same name, but defined with paths/domains that may still be visible for the URL in question, you&#39;ll still see that cookie passed on the request.  E.g. if the url is &quot;http://foo.bar.com/baz/index.html&quot;, you&#39;ll see any cookies defined on bar.com or foo.bar.com, or with a path of &quot;/&quot; or &quot;/baz&quot;.\r\n\r\nThus, what you have looks like it should work, as long as there&#39;s only one cookie defined in the client, with the name &quot;SSO_COOKIE_NAME&quot;, domain &quot;SSO_DOMAIN&quot;, and path &quot;/&quot;.  If there are any cookies with different path or domain, you&#39;ll still see the cookie sent to the client.\r\n\r\nTo debug this, go into Firefox&#39;s preferences -&gt; Security tab, and search for all cookies with the SSO_COOKIE_NAME.  Click on each to see the domain and path.  I&#39;m betting you&#39;ll find one in there that&#39;s not quite what you&#39;re expecting.","title":"How do you remove a Cookie in a Java Servlet","body":"<p>Keep in mind that a cookie is actually defined by the tuple of it's name, path, and domain.  If any one of those three is different, or there is more than one cookie of the same name, but defined with paths/domains that may still be visible for the URL in question, you'll still see that cookie passed on the request.  E.g. if the url is \"<a href=\"http://foo.bar.com/baz/index.html\" rel=\"noreferrer\">http://foo.bar.com/baz/index.html</a>\", you'll see any cookies defined on bar.com or foo.bar.com, or with a path of \"/\" or \"/baz\".</p>\n\n<p>Thus, what you have looks like it should work, as long as there's only one cookie defined in the client, with the name \"SSO_COOKIE_NAME\", domain \"SSO_DOMAIN\", and path \"/\".  If there are any cookies with different path or domain, you'll still see the cookie sent to the client.</p>\n\n<p>To debug this, go into Firefox's preferences -> Security tab, and search for all cookies with the SSO_COOKIE_NAME.  Click on each to see the domain and path.  I'm betting you'll find one in there that's not quite what you're expecting.</p>\n"},{"tags":[],"owner":{"account_id":37520,"reputation":26131,"user_id":107294,"accept_rate":80,"display_name":"cjs"},"down_vote_count":1,"up_vote_count":151,"is_accepted":true,"score":150,"last_activity_date":1334854716,"creation_date":1242869797,"answer_id":891042,"question_id":890935,"body_markdown":"The MaxAge of -1 signals that you want the cookie to persist for the duration of the session. You want to set MaxAge to 0 instead.\r\n\r\nFrom the [API documentation][1]:\r\n\r\n&lt;blockquote&gt;\r\nA negative value means that the cookie is not stored persistently and will be deleted when the Web browser exits. A zero value causes the cookie to be deleted.\r\n&lt;/blockquote&gt;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/servlet/http/Cookie.html#setMaxAge%28int%29","title":"How do you remove a Cookie in a Java Servlet","body":"<p>The MaxAge of -1 signals that you want the cookie to persist for the duration of the session. You want to set MaxAge to 0 instead.</p>\n\n<p>From the <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/http/Cookie.html#setMaxAge%28int%29\" rel=\"noreferrer\">API documentation</a>:</p>\n\n<blockquote>\nA negative value means that the cookie is not stored persistently and will be deleted when the Web browser exits. A zero value causes the cookie to be deleted.\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11636,"reputation":41624,"user_id":22514,"accept_rate":86,"display_name":"Kevin Hakanson"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1242869909,"creation_date":1242869909,"answer_id":891045,"question_id":890935,"body_markdown":"This is code that I have effectively used before, passing `&quot;/&quot;` as the strPath parameter.\r\n\r\n    public static Cookie eraseCookie(String strCookieName, String strPath) {\r\n    \tCookie cookie = new Cookie(strCookieName, &quot;&quot;);\r\n    \tcookie.setMaxAge(0);\r\n    \tcookie.setPath(strPath);\r\n    \r\n    \treturn cookie;\r\n    }","title":"How do you remove a Cookie in a Java Servlet","body":"<p>This is code that I have effectively used before, passing <code>\"/\"</code> as the strPath parameter.</p>\n\n<pre><code>public static Cookie eraseCookie(String strCookieName, String strPath) {\n    Cookie cookie = new Cookie(strCookieName, \"\");\n    cookie.setMaxAge(0);\n    cookie.setPath(strPath);\n\n    return cookie;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":237029,"reputation":4989,"user_id":504913,"accept_rate":25,"display_name":"aholbreich"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1289511879,"creation_date":1289511879,"answer_id":4159591,"question_id":890935,"body_markdown":"    Cookie[] cookies = request.getCookies();\r\n    if(cookies!=null)\r\n    for (int i = 0; i &lt; cookies.length; i++) {\r\n     cookies[i].setMaxAge(0);\r\n    }\r\n\r\ndid that not worked? This removes all cookies if response is send back.","title":"How do you remove a Cookie in a Java Servlet","body":"<pre><code>Cookie[] cookies = request.getCookies();\nif(cookies!=null)\nfor (int i = 0; i &lt; cookies.length; i++) {\n cookies[i].setMaxAge(0);\n}\n</code></pre>\n\n<p>did that not worked? This removes all cookies if response is send back.</p>\n"},{"tags":[],"owner":{"account_id":484929,"reputation":1993,"user_id":900924,"display_name":"wu liang"},"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1493928505,"creation_date":1340959918,"answer_id":11258762,"question_id":890935,"body_markdown":"In my environment, following code works. Although looks redundant at first glance, `cookies[i].setValue(&quot;&quot;);` and `cookies[i].setPath(&quot;/&quot;);` are necessary to clear the cookie properly.\t\r\n\r\n\tprivate void eraseCookie(HttpServletRequest req, HttpServletResponse resp) {\r\n\t\tCookie[] cookies = req.getCookies();\r\n\t\tif (cookies != null)\r\n\t\t\tfor (Cookie cookie : cookies) {\r\n\t\t\t\tcookie.setValue(&quot;&quot;);\r\n\t\t\t\tcookie.setPath(&quot;/&quot;);\r\n\t\t\t\tcookie.setMaxAge(0);\r\n\t\t\t\tresp.addCookie(cookie);\r\n\t\t\t}\r\n\t}","title":"How do you remove a Cookie in a Java Servlet","body":"<p>In my environment, following code works. Although looks redundant at first glance, <code>cookies[i].setValue(\"\");</code> and <code>cookies[i].setPath(\"/\");</code> are necessary to clear the cookie properly.    </p>\n\n<pre><code>private void eraseCookie(HttpServletRequest req, HttpServletResponse resp) {\n    Cookie[] cookies = req.getCookies();\n    if (cookies != null)\n        for (Cookie cookie : cookies) {\n            cookie.setValue(\"\");\n            cookie.setPath(\"/\");\n            cookie.setMaxAge(0);\n            resp.addCookie(cookie);\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":193270,"reputation":462,"user_id":434903,"display_name":"Radio Rogal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526326272,"creation_date":1526326272,"answer_id":50337710,"question_id":890935,"body_markdown":"One special case: a cookie has no path.\r\n\r\nIn this case set path as `cookie.setPath(request.getRequestURI())`\r\n\r\nThe javascript sets cookie without path so the browser shows it as cookie for the current page only. If I try to send the expired cookie with `path == /` the browser shows two cookies: one expired with `path == /` and another one with `path == current page`.","title":"How do you remove a Cookie in a Java Servlet","body":"<p>One special case: a cookie has no path.</p>\n\n<p>In this case set path as <code>cookie.setPath(request.getRequestURI())</code></p>\n\n<p>The javascript sets cookie without path so the browser shows it as cookie for the current page only. If I try to send the expired cookie with <code>path == /</code> the browser shows two cookies: one expired with <code>path == /</code> and another one with <code>path == current page</code>.</p>\n"},{"tags":[],"owner":{"account_id":12723385,"reputation":285,"user_id":9242931,"display_name":"Al Pal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604876330,"creation_date":1604864463,"answer_id":64742293,"question_id":890935,"body_markdown":"The proper way to remove a cookie is to set the max age to 0 and add the cookie back to the HttpServletResponse object.\r\n\r\nMost people don&#39;t realize or forget to add the cookie back onto the response object. By doing that it will expire and remove the cookie immediately.\r\n\r\n\r\n```\r\n...retrieve cookie from HttpServletRequest\r\ncookie.setMaxAge(0);\r\nresponse.addCookie(cookie);\r\n```","title":"How do you remove a Cookie in a Java Servlet","body":"<p>The proper way to remove a cookie is to set the max age to 0 and add the cookie back to the HttpServletResponse object.</p>\n<p>Most people don't realize or forget to add the cookie back onto the response object. By doing that it will expire and remove the cookie immediately.</p>\n<pre><code>...retrieve cookie from HttpServletRequest\ncookie.setMaxAge(0);\nresponse.addCookie(cookie);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13430976,"reputation":1,"user_id":10538160,"display_name":"Gunslinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643084740,"creation_date":1643084740,"answer_id":70843430,"question_id":890935,"body_markdown":"When a cookie passed from client to server, it only contains key/value pair, nothing else. which means, when sever receives cookie, it doesn&#39;t know \r\n\r\n - if this cookie is http-only\r\n - if this cookie is secure\r\n - this cookie&#39;s domain\r\n - this cookie&#39;s path\r\n\r\nso you may have to manually set domain and path according to the cookie&#39;s domain and path in Chrome developer panel.\r\n\r\nLet&#39;s say you have a cookie:\r\n- key = dummy-cookie\r\n- value = dummy-value\r\n- domain = .bar.com\r\n- path =  /\r\nthen, if you write sever code like this, it won&#39;t work:\r\n\r\n            cookie.setValue(&quot;&quot;);\r\n            cookie.setPath(&quot;/&quot;);\r\n            cookie.setMaxAge(0);\r\n            resp.addCookie(cookie);\r\n \r\nbecause when expoler receives your response, it will match the set-cookie header with local cookies by name, path and domain.\r\n\r\nfollowing code works:\r\n\r\n            cookie.setValue(&quot;&quot;);\r\n            cookie.setPath(&quot;/&quot;);\r\n            cookie.setMaxAge(0);\r\n            cookie.setDomain(&quot;.bar.com&quot;);\r\n            cookie.setPath(&quot;/&quot;);\r\n            resp.addCookie(cookie);\r\n\r\n","title":"How do you remove a Cookie in a Java Servlet","body":"<p>When a cookie passed from client to server, it only contains key/value pair, nothing else. which means, when sever receives cookie, it doesn't know</p>\n<ul>\n<li>if this cookie is http-only</li>\n<li>if this cookie is secure</li>\n<li>this cookie's domain</li>\n<li>this cookie's path</li>\n</ul>\n<p>so you may have to manually set domain and path according to the cookie's domain and path in Chrome developer panel.</p>\n<p>Let's say you have a cookie:</p>\n<ul>\n<li><p>key = dummy-cookie</p>\n</li>\n<li><p>value = dummy-value</p>\n</li>\n<li><p>domain = .bar.com</p>\n</li>\n<li><p>path =  /\nthen, if you write sever code like this, it won't work:</p>\n<pre><code>      cookie.setValue(&quot;&quot;);\n      cookie.setPath(&quot;/&quot;);\n      cookie.setMaxAge(0);\n      resp.addCookie(cookie);\n</code></pre>\n</li>\n</ul>\n<p>because when expoler receives your response, it will match the set-cookie header with local cookies by name, path and domain.</p>\n<p>following code works:</p>\n<pre><code>        cookie.setValue(&quot;&quot;);\n        cookie.setPath(&quot;/&quot;);\n        cookie.setMaxAge(0);\n        cookie.setDomain(&quot;.bar.com&quot;);\n        cookie.setPath(&quot;/&quot;);\n        resp.addCookie(cookie);\n</code></pre>\n"}],"owner":{"account_id":34674,"reputation":14769,"user_id":98050,"accept_rate":57,"display_name":"Dougnukem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251036,"favorite_count":0,"down_vote_count":2,"up_vote_count":149,"accepted_answer_id":891042,"answer_count":8,"score":147,"last_activity_date":1643084740,"creation_date":1242866507,"question_id":890935,"body_markdown":"How do you remove a cookie in a Java servlet?\r\n\r\nI tried this:\r\nhttp://www.jguru.com/faq/view.jsp?EID=42225\r\n\r\nEDIT: The following now works successfully it appears to be the combination of:\r\n\r\n    response.setContentType(&quot;text/html&quot;);\r\nand\r\n\r\n    cookie.setMaxAge(0);\r\n\r\nBefore I was doing:\r\n\r\n    //remove single signon cookie if it hasn&#39;t been validated yet\r\n    response.setContentType(&quot;text/html&quot;);\r\n    Cookie cookie = new Cookie(SSORealm.SSO_COOKIE_NAME, &quot;&quot;);\r\n    cookie.setDomain(SSORealm.SSO_DOMAIN);\r\n    cookie.setMaxAge(-1);\r\n    cookie.setPath(&quot;/&quot;);\r\n    cookie.setComment(&quot;EXPIRING COOKIE at &quot; + System.currentTimeMillis());\r\n    response.addCookie(cookie);\r\n\r\nWhich expires the cookie when the browser is closed as per [the documentation][1].\r\n\r\n&gt; A negative value means that the cookie is not stored persistently and will be deleted when the Web browser exits. A zero value causes the cookie to be deleted. \r\n\r\n\r\nThe full working snippet to expire a cookie is:\r\n\r\n    //remove single signon cookie if it hasn&#39;t been validated yet\r\n    response.setContentType(&quot;text/html&quot;);\r\n    Cookie cookie = new Cookie(SSORealm.SSO_COOKIE_NAME, &quot;&quot;);\r\n    cookie.setDomain(SSORealm.SSO_DOMAIN);\r\n    cookie.setMaxAge(0);\r\n    cookie.setPath(&quot;/&quot;);\r\n    cookie.setComment(&quot;EXPIRING COOKIE at &quot; + System.currentTimeMillis());\r\n    response.addCookie(cookie);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/servlet/http/Cookie.html#setMaxAge%28int%29","title":"How do you remove a Cookie in a Java Servlet","body":"<p>How do you remove a cookie in a Java servlet?</p>\n\n<p>I tried this:\n<a href=\"http://www.jguru.com/faq/view.jsp?EID=42225\" rel=\"noreferrer\">http://www.jguru.com/faq/view.jsp?EID=42225</a></p>\n\n<p>EDIT: The following now works successfully it appears to be the combination of:</p>\n\n<pre><code>response.setContentType(\"text/html\");\n</code></pre>\n\n<p>and</p>\n\n<pre><code>cookie.setMaxAge(0);\n</code></pre>\n\n<p>Before I was doing:</p>\n\n<pre><code>//remove single signon cookie if it hasn't been validated yet\nresponse.setContentType(\"text/html\");\nCookie cookie = new Cookie(SSORealm.SSO_COOKIE_NAME, \"\");\ncookie.setDomain(SSORealm.SSO_DOMAIN);\ncookie.setMaxAge(-1);\ncookie.setPath(\"/\");\ncookie.setComment(\"EXPIRING COOKIE at \" + System.currentTimeMillis());\nresponse.addCookie(cookie);\n</code></pre>\n\n<p>Which expires the cookie when the browser is closed as per <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/http/Cookie.html#setMaxAge%28int%29\" rel=\"noreferrer\">the documentation</a>.</p>\n\n<blockquote>\n  <p>A negative value means that the cookie is not stored persistently and will be deleted when the Web browser exits. A zero value causes the cookie to be deleted. </p>\n</blockquote>\n\n<p>The full working snippet to expire a cookie is:</p>\n\n<pre><code>//remove single signon cookie if it hasn't been validated yet\nresponse.setContentType(\"text/html\");\nCookie cookie = new Cookie(SSORealm.SSO_COOKIE_NAME, \"\");\ncookie.setDomain(SSORealm.SSO_DOMAIN);\ncookie.setMaxAge(0);\ncookie.setPath(\"/\");\ncookie.setComment(\"EXPIRING COOKIE at \" + System.currentTimeMillis());\nresponse.addCookie(cookie);\n</code></pre>\n"},{"tags":["java","xml","dom4j"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642849925,"creation_date":1642849925,"answer_id":70812221,"question_id":70810892,"body_markdown":"According to the XML file in your question, `orderNbr` is an element and not an attribute and its text value is 784. So you want to replace the text value with 78455556767.\r\n\r\nYour code does not change the original XML because your XPath query string does not find anything.\r\n\r\nTherefore you need to change two things in your code.\r\n\r\n1. The XPath query string.\r\n2. The method you call to change the XML.\r\n\r\nThe below code contains the two changes. The changed lines are indicated with the following comment at the end of the line.\r\n&gt; // CHANGE HERE\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.io.StringWriter;\r\nimport java.io.Writer;\r\nimport java.util.List;\r\n\r\nimport javax.xml.XMLConstants;\r\nimport javax.xml.transform.OutputKeys;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerException;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.stream.StreamResult;\r\n\r\nimport org.dom4j.Document;\r\nimport org.dom4j.DocumentException;\r\nimport org.dom4j.DocumentHelper;\r\nimport org.dom4j.Element;\r\nimport org.dom4j.Node;\r\nimport org.dom4j.XPath;\r\nimport org.dom4j.io.DocumentSource;\r\nimport org.dom4j.io.SAXReader;\r\nimport org.xml.sax.SAXException;\r\n\r\npublic class ChngAttr {\r\n    public static String replaceXML(String attribute,\r\n                                    String oldValue,\r\n                                    String newValue) throws DocumentException,\r\n                                                            IOException,\r\n                                                            SAXException,\r\n                                                            TransformerException {\r\n        SAXReader xmlReader = new SAXReader();\r\n        Document input = xmlReader.read(&quot;pick_begin.xml&quot;);\r\n        xmlReader.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\r\n        xmlReader.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\r\n        xmlReader.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\r\n        String expr = String.format(&quot;//%s[text() = &#39;%s&#39;]&quot;, attribute, oldValue); // CHANGE HERE\r\n        XPath xpath = DocumentHelper.createXPath(expr);\r\n        List&lt;Node&gt; nodes = xpath.selectNodes(input);\r\n        for (int i = 0; i &lt; nodes.size(); i++) {\r\n            Element element = (Element) nodes.get(i);\r\n            element.setText(newValue); // CHANGE HERE\r\n        }\r\n        TransformerFactory factory = TransformerFactory.newInstance();\r\n        factory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n        Transformer xformer = factory.newTransformer();\r\n        xformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n        Writer output = new StringWriter();\r\n        xformer.transform(new DocumentSource(input), new StreamResult(output));\r\n        return output.toString();\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String result = replaceXML(&quot;orderNbr&quot;, &quot;784&quot;, &quot;78455556767&quot;);\r\n        System.out.println(result);\r\n    }\r\n}\r\n```\r\n","title":"How can I replace an attribute in xml with different value using Java?","body":"<p>According to the XML file in your question, <code>orderNbr</code> is an element and not an attribute and its text value is 784. So you want to replace the text value with 78455556767.</p>\n<p>Your code does not change the original XML because your XPath query string does not find anything.</p>\n<p>Therefore you need to change two things in your code.</p>\n<ol>\n<li>The XPath query string.</li>\n<li>The method you call to change the XML.</li>\n</ol>\n<p>The below code contains the two changes. The changed lines are indicated with the following comment at the end of the line.</p>\n<blockquote>\n<p>// CHANGE HERE</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.io.StringWriter;\nimport java.io.Writer;\nimport java.util.List;\n\nimport javax.xml.XMLConstants;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.stream.StreamResult;\n\nimport org.dom4j.Document;\nimport org.dom4j.DocumentException;\nimport org.dom4j.DocumentHelper;\nimport org.dom4j.Element;\nimport org.dom4j.Node;\nimport org.dom4j.XPath;\nimport org.dom4j.io.DocumentSource;\nimport org.dom4j.io.SAXReader;\nimport org.xml.sax.SAXException;\n\npublic class ChngAttr {\n    public static String replaceXML(String attribute,\n                                    String oldValue,\n                                    String newValue) throws DocumentException,\n                                                            IOException,\n                                                            SAXException,\n                                                            TransformerException {\n        SAXReader xmlReader = new SAXReader();\n        Document input = xmlReader.read(&quot;pick_begin.xml&quot;);\n        xmlReader.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\n        xmlReader.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\n        xmlReader.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\n        String expr = String.format(&quot;//%s[text() = '%s']&quot;, attribute, oldValue); // CHANGE HERE\n        XPath xpath = DocumentHelper.createXPath(expr);\n        List&lt;Node&gt; nodes = xpath.selectNodes(input);\n        for (int i = 0; i &lt; nodes.size(); i++) {\n            Element element = (Element) nodes.get(i);\n            element.setText(newValue); // CHANGE HERE\n        }\n        TransformerFactory factory = TransformerFactory.newInstance();\n        factory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n        Transformer xformer = factory.newTransformer();\n        xformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n        Writer output = new StringWriter();\n        xformer.transform(new DocumentSource(input), new StreamResult(output));\n        return output.toString();\n    }\n\n    public static void main(String[] args) throws Exception {\n        String result = replaceXML(&quot;orderNbr&quot;, &quot;784&quot;, &quot;78455556767&quot;);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1656,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643083630,"creation_date":1642837046,"question_id":70810892,"body_markdown":"I have an xml file:\r\n\r\n    &lt;pickingOrderBeginEventMessage xmlns=&quot;http://www.xmlns.walmartstores.com/SuppyChain/FulfillmentManagement/GlobalIntegeratedFulfillment/&quot;&gt;\r\n        &lt;MessageBody&gt;\r\n            &lt;RoutingInfo&gt;\r\n                &lt;SourceNode&gt;\r\n                    &lt;location&gt;\r\n                        &lt;countryCode&gt;US&lt;/countryCode&gt;\r\n                    &lt;/location&gt;\r\n                &lt;/SourceNode&gt;\r\n            &lt;/RoutingInfo&gt;\r\n                &lt;fulfillmentOrders&gt;\r\n                    &lt;fulfillmentOrder&gt;\r\n                        &lt;orderNbr&gt;784&lt;/orderNbr&gt;\r\n                    &lt;/fulfillmentOrder&gt;\r\n                &lt;/fulfillmentOrders&gt;\r\n        &lt;/MessageBody&gt;\r\n    &lt;/pickingOrderBeginEventMessage&gt;\r\n\r\nI want to change `&lt;orderNbr&gt;784&lt;/orderNbr&gt;` to  `&lt;orderNbr&gt;784778474484747&lt;/orderNbr&gt;`\r\n\r\nThis is my method:  \r\n(Note that I am using [dom4j][1].)\r\n\r\n        public String replaceXML(String attribute,String oldValue, String newValue) throws SAXException, DocumentException, IOException, TransformerException {\r\n            SAXReader xmlReader = new SAXReader();\r\n            Document input = xmlReader.read(&quot;src/test/resources/xml/pick_begin.xml&quot;);\r\n            xmlReader.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\r\n            xmlReader.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\r\n            xmlReader.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\r\n            String expr = String.format(&quot;//*[contains(@%s, &#39;%s&#39;)]&quot;, attribute, oldValue);\r\n            XPath xpath = DocumentHelper.createXPath(expr);\r\n            List&lt;Node&gt; nodes = xpath.selectNodes(input);\r\n            for (int i = 0; i &lt; nodes.size(); i++) {\r\n                Element element = (Element) nodes.get(i);\r\n                element.addAttribute(attribute, newValue);\r\n            }\r\n            TransformerFactory factory = TransformerFactory.newInstance();\r\n            factory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n            Transformer xformer = factory.newTransformer();\r\n            xformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n            Writer output = new StringWriter();\r\n            xformer.transform(new DocumentSource(input), new StreamResult(output));\r\n            return output.toString();\r\n        }\r\n    }\r\n\r\n\r\nWhere String attribute is orderNbr, oldValue is 784 and newValue is 78455556767.\r\n\r\nBut with this method, the new value is not getting replaced. Where am I going wrong?\r\n\r\n\r\n  [1]: https://dom4j.github.io/","title":"How can I replace an attribute in xml with different value using Java?","body":"<p>I have an xml file:</p>\n<pre><code>&lt;pickingOrderBeginEventMessage xmlns=&quot;http://www.xmlns.walmartstores.com/SuppyChain/FulfillmentManagement/GlobalIntegeratedFulfillment/&quot;&gt;\n    &lt;MessageBody&gt;\n        &lt;RoutingInfo&gt;\n            &lt;SourceNode&gt;\n                &lt;location&gt;\n                    &lt;countryCode&gt;US&lt;/countryCode&gt;\n                &lt;/location&gt;\n            &lt;/SourceNode&gt;\n        &lt;/RoutingInfo&gt;\n            &lt;fulfillmentOrders&gt;\n                &lt;fulfillmentOrder&gt;\n                    &lt;orderNbr&gt;784&lt;/orderNbr&gt;\n                &lt;/fulfillmentOrder&gt;\n            &lt;/fulfillmentOrders&gt;\n    &lt;/MessageBody&gt;\n&lt;/pickingOrderBeginEventMessage&gt;\n</code></pre>\n<p>I want to change <code>&lt;orderNbr&gt;784&lt;/orderNbr&gt;</code> to  <code>&lt;orderNbr&gt;784778474484747&lt;/orderNbr&gt;</code></p>\n<p>This is my method:<br />\n(Note that I am using <a href=\"https://dom4j.github.io/\" rel=\"nofollow noreferrer\">dom4j</a>.)</p>\n<pre><code>    public String replaceXML(String attribute,String oldValue, String newValue) throws SAXException, DocumentException, IOException, TransformerException {\n        SAXReader xmlReader = new SAXReader();\n        Document input = xmlReader.read(&quot;src/test/resources/xml/pick_begin.xml&quot;);\n        xmlReader.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\n        xmlReader.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\n        xmlReader.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\n        String expr = String.format(&quot;//*[contains(@%s, '%s')]&quot;, attribute, oldValue);\n        XPath xpath = DocumentHelper.createXPath(expr);\n        List&lt;Node&gt; nodes = xpath.selectNodes(input);\n        for (int i = 0; i &lt; nodes.size(); i++) {\n            Element element = (Element) nodes.get(i);\n            element.addAttribute(attribute, newValue);\n        }\n        TransformerFactory factory = TransformerFactory.newInstance();\n        factory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n        Transformer xformer = factory.newTransformer();\n        xformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n        Writer output = new StringWriter();\n        xformer.transform(new DocumentSource(input), new StreamResult(output));\n        return output.toString();\n    }\n}\n</code></pre>\n<p>Where String attribute is orderNbr, oldValue is 784 and newValue is 78455556767.</p>\n<p>But with this method, the new value is not getting replaced. Where am I going wrong?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1643086241,"post_id":70843306,"comment_id":125240291,"body_markdown":"@luckyday - what lib would that be? `java.sql.Connection` itself is part of JDK isn&#39;t it?","body":"@luckyday - what lib would that be? <code>java.sql.Connection</code> itself is part of JDK isn&#39;t it?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1643090814,"post_id":70843306,"comment_id":125241093,"body_markdown":"I don&#39;t know why, but I end up (in frustration) just adding `import java.sql.*;` to the top of the file","body":"I don&#39;t know why, but I end up (in frustration) just adding <code>import java.sql.*;</code> to the top of the file"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1643092550,"post_id":70843306,"comment_id":125241403,"body_markdown":"Do you have a class of your own called `Connection`? If so, don&#39;t.","body":"Do you have a class of your own called <code>Connection</code>? If so, don&#39;t."}],"owner":{"account_id":24044679,"reputation":1,"user_id":18023827,"display_name":"Nguyen Nga"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643083461,"creation_date":1643083461,"question_id":70843306,"body_markdown":"I&#39;m a newbie in java. I try to create a connection in netbeans. However when I define \r\n\r\n&gt; Connection conn = null;\r\n\r\nNetbeans does not suggest to import java.sql.Connection library.\r\n\r\nAnyone could help me to resolve it. Thank all of you.\r\nI tried \r\n\r\n[Connection][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aKogj.png","title":"Netbeans does not suggest java.sql.Connection to import","body":"<p>I'm a newbie in java. I try to create a connection in netbeans. However when I define</p>\n<blockquote>\n<p>Connection conn = null;</p>\n</blockquote>\n<p>Netbeans does not suggest to import java.sql.Connection library.</p>\n<p>Anyone could help me to resolve it. Thank all of you.\nI tried</p>\n<p><a href=\"https://i.stack.imgur.com/aKogj.png\" rel=\"nofollow noreferrer\">Connection</a></p>\n"},{"tags":["java","spring","cron","cron-task"],"answers":[{"tags":[],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643083065,"creation_date":1643083065,"answer_id":70843279,"question_id":70843224,"body_markdown":"Unlikely.\r\n\r\nWith a schedule, there&#39;s two things you can ask of it.\r\n\r\n1) When does it next run\r\n\r\n2) Should it run &quot;now&quot;.\r\n\r\ncron historically (and I imagine similarly here) runs every minute, and looks at the current schedules and asks &quot;Should I run now&quot;.\r\n\r\nThis is actually a pretty easy test.\r\n\r\nFinding out when a schedule next runs is far, far more involved. As I recall, it was probably 200 lines of code to figure it all out. Doing this brings in all of the joys and pain of leap years, and days, and daylight savings, etc. Much different from &quot;does it run now&quot;.\r\n\r\nSo, I can&#39;t speak to Spring specifically.\r\n\r\nAll I can say having done it myself is, getting the next time is unlikely.\r\n\r\n\r\n","title":"get cron scheduler value - Java Spring Boot","body":"<p>Unlikely.</p>\n<p>With a schedule, there's two things you can ask of it.</p>\n<ol>\n<li><p>When does it next run</p>\n</li>\n<li><p>Should it run &quot;now&quot;.</p>\n</li>\n</ol>\n<p>cron historically (and I imagine similarly here) runs every minute, and looks at the current schedules and asks &quot;Should I run now&quot;.</p>\n<p>This is actually a pretty easy test.</p>\n<p>Finding out when a schedule next runs is far, far more involved. As I recall, it was probably 200 lines of code to figure it all out. Doing this brings in all of the joys and pain of leap years, and days, and daylight savings, etc. Much different from &quot;does it run now&quot;.</p>\n<p>So, I can't speak to Spring specifically.</p>\n<p>All I can say having done it myself is, getting the next time is unlikely.</p>\n"}],"owner":{"account_id":20299980,"reputation":27,"user_id":14889632,"display_name":"Tural"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643083065,"creation_date":1643082553,"question_id":70843224,"body_markdown":"I want to get a value of Cron Scheduler from my configuration file. \r\n\r\nI am not gonna use scheduler to run the process, but I need to pass it to config file so I can change it in the future to the different date instead of changing my code.\r\n\r\n    application.daily.run-scheduler=${APPLICATION_RUN_SCHEDULER:0 0 17 ? * MON-FRI}\r\n\r\nIs it possible to retrieve a date and/or time from this cron scheduler and use it as a condition in my code?  \r\n\r\nThank you for your help. love! ","title":"get cron scheduler value - Java Spring Boot","body":"<p>I want to get a value of Cron Scheduler from my configuration file.</p>\n<p>I am not gonna use scheduler to run the process, but I need to pass it to config file so I can change it in the future to the different date instead of changing my code.</p>\n<pre><code>application.daily.run-scheduler=${APPLICATION_RUN_SCHEDULER:0 0 17 ? * MON-FRI}\n</code></pre>\n<p>Is it possible to retrieve a date and/or time from this cron scheduler and use it as a condition in my code?</p>\n<p>Thank you for your help. love!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1643079886,"post_id":70842961,"comment_id":125239371,"body_markdown":"`Caused by: java.lang.NumberFormatException: empty String` - what number would you like it to be?","body":"<code>Caused by: java.lang.NumberFormatException: empty String</code> - what number would you like it to be?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1643079947,"post_id":70842961,"comment_id":125239382,"body_markdown":"`required=false` - why?","body":"<code>required=false</code> - why?"},{"owner":{"account_id":19362427,"reputation":136,"user_id":14157435,"display_name":"Sharman Jeurkar"},"score":0,"creation_date":1643082201,"post_id":70842961,"comment_id":125239697,"body_markdown":"Actually I want to input a double number. I have made it required false because I don&#39;t want the values compulsory. Because if for eg I am calculating the moles user will  not input the moles value as it is the value that will be calculated at the backend","body":"Actually I want to input a double number. I have made it required false because I don&#39;t want the values compulsory. Because if for eg I am calculating the moles user will  not input the moles value as it is the value that will be calculated at the backend"}],"answers":[{"tags":[],"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643082498,"creation_date":1643082498,"answer_id":70843216,"question_id":70842961,"body_markdown":"Make the parameters `Double` (class type) rather than `double` primitive type.  I think spring will then convert an empty string from your form request (or no parameter) to a `null` rather than throwing an exception. ","title":"Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;double&#39;; nested exception is java.lang.NumberFormatException: empty String","body":"<p>Make the parameters <code>Double</code> (class type) rather than <code>double</code> primitive type.  I think spring will then convert an empty string from your form request (or no parameter) to a <code>null</code> rather than throwing an exception.</p>\n"}],"owner":{"account_id":19362427,"reputation":136,"user_id":14157435,"display_name":"Sharman Jeurkar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70843216,"answer_count":1,"score":0,"last_activity_date":1643082498,"creation_date":1643079734,"question_id":70842961,"body_markdown":"I am new to Spring boot. I am trying to calculate moles when the user inputs 2 of the three values. I have tried to make a dropdown, where if one of the link is clicked , then one of the textbox becomes read-only. But while doing this I am getting this error \r\n\r\n   \r\n\r\n     There was an unexpected error (type=Bad Request, status=400).\r\n        Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;double&#39;; nested exception is java.lang.NumberFormatException: empty String\r\n    Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;double&#39;; nested exception is java.lang.NumberFormatException: empty String\r\n    org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;double&#39;; nested exception is java.lang.NumberFormatException: empty String\r\n    \tat org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:831)\r\n    Caused by: java.lang.NumberFormatException: empty String\r\n    \tat java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)\r\n    \tat java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\r\n    \tat java.base/java.lang.Double.parseDouble(Double.java:556)\r\n    \tat java.base/java.lang.Double.valueOf(Double.java:519)\r\n    \tat org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:223)\r\n    \tat org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)\r\n    \tat org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)\r\n    \tat org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)\r\n    \tat org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)\r\n    \tat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)\r\n    \tat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)\r\n    \tat org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:700)\r\n    \tat org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)\r\n    \t... 47 more\r\n\r\nThis is my Java controller code:\r\n\r\n    package com.sharman.controller;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    \r\n    import com.sharman.service.Calculator;\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/Chemistry-Calculator/&quot;)\r\n    public class HomeController {\r\n    \t@RequestMapping(&quot;/&quot;)\r\n    \tpublic String callHome() {\r\n    \t\treturn &quot;home&quot;;\r\n    \t}\r\n    \r\n    \t@RequestMapping(&quot;/about&quot;)\r\n    \tpublic String callAbout() {\r\n    \t\treturn &quot;about&quot;;\r\n    \t}\r\n    \r\n    \t@RequestMapping(&quot;/Mole-Calculator&quot;)\r\n    \tpublic String callMoleCalculator() {\r\n    \t\treturn &quot;Mole-Calculator&quot;;\r\n    \t}\r\n    \r\n    \t@RequestMapping(&quot;/Number-Of-Moles&quot;)\r\n    \tpublic String calculateMoles(@RequestParam(value = &quot;givenMass&quot;,  required=false) double givenMassInput,\r\n    \t\t\t@RequestParam(value = &quot;molarMass&quot;,  required=false) double molarMassInput,\r\n    \t\t\t@RequestParam(value = &quot;moles&quot;,  required=false) double molesInput, Model model) {\r\n    \r\n    \t\tCalculator calculate = new Calculator();\r\n    \r\n    \t\tif (molesInput == 0) {\r\n    \t\t\tdouble moles = calculate.calculateMoles(givenMassInput, molarMassInput);\r\n    \t\t\tmodel.addAttribute(&quot;givenMass&quot;, givenMassInput);\r\n    \t\t\tmodel.addAttribute(&quot;molarMass&quot;, molarMassInput);\r\n    \t\t\tmodel.addAttribute(&quot;moles&quot;, moles);\r\n    \t\t\t\r\n    \t\t}else if (givenMassInput == 0) {\r\n    \t\t\tdouble givenMass = calculate.calculateGivenMass(molarMassInput, molesInput);\r\n    \t\t\tmodel.addAttribute(&quot;molarMass&quot;, molarMassInput);\r\n    \t\t\tmodel.addAttribute(&quot;moles&quot;, molesInput);\r\n    \t\t\tmodel.addAttribute(&quot;givenMass&quot;, givenMass);\r\n    \t\t}else if (molarMassInput == 0) {\r\n    \t\t\tdouble molarMass = calculate.calculateMolarMass(givenMassInput, molesInput);\r\n    \t\t\tmodel.addAttribute(&quot;givenMass&quot;, givenMassInput);\r\n    \t\t\tmodel.addAttribute(&quot;moles&quot;, molesInput);\r\n    \t\t\tmodel.addAttribute(&quot;molarMass&quot;, molarMass);\r\n    \t\t}\r\n    \r\n    \t\treturn &quot;Mole-Calculator&quot;;\r\n    \t}\r\n    \r\n    \t@RequestMapping(&quot;/Avagadros-Number&quot;)\r\n    \tpublic String callAvagadrosNumber() {\r\n    \t\treturn &quot;Avagadros-Number&quot;;\r\n    \t}\r\n    \r\n    \t@RequestMapping(&quot;/Avagadro&#39;s-Number-Result&quot;)\r\n    \tpublic String calculateAvagadrosNumber(@RequestParam(value = &quot;moles&quot;) double moles, Model model) {\r\n    \r\n    \t\tCalculator calculate = new Calculator();\r\n    \t\tdouble result = calculate.calculateAvagadrosNumber(moles);\r\n    \t\tString power = &quot;10\\u00b2\\u00b3&quot;;\r\n    \t\tSystem.out.println(power);\r\n    \t\tmodel.addAttribute(&quot;result&quot;, result + &quot;x&quot; + power);\r\n    \t\tmodel.addAttribute(&quot;moles&quot;, moles);\r\n    \t\treturn &quot;Avagadros-Number&quot;;\r\n    \t}\r\n    \r\n    }\r\nI am here trying to send the values in a model variable.\r\nThis is my jsp page:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;!-- Required meta tags --&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n    \r\n    &lt;!-- Bootstrap CSS --&gt;\r\n    &lt;link\r\n    \thref=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot;\r\n    \trel=&quot;stylesheet&quot;\r\n    \tintegrity=&quot;sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3&quot;\r\n    \tcrossorigin=&quot;anonymous&quot;&gt;\r\n    \r\n    &lt;title&gt;Mole Calculator | Chemistry Calculator&lt;/title&gt;\r\n    \r\n    &lt;/head&gt;\r\n    \r\n    \r\n    \r\n    &lt;body&gt;\r\n    \r\n    \t&lt;nav class=&quot;navbar fixed-top navbar-expand-lg navbar-dark bg-black&quot;&gt;\r\n    \r\n    \t\t&lt;div class=&quot;container-fluid&quot;&gt;\r\n    \t\t\t&lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;&lt;h4&gt;\r\n    \t\t\t\t\t&lt;b&gt;Chemistry Calculator&lt;/b&gt;\r\n    \t\t\t\t&lt;/h4&gt;&lt;/a&gt;\r\n    \r\n    \t\t\t&lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot;\r\n    \t\t\t\tdata-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#navbarSupportedContent&quot;\r\n    \t\t\t\taria-controls=&quot;navbarSupportedContent&quot; aria-expanded=&quot;false&quot;\r\n    \t\t\t\taria-label=&quot;Toggle navigation&quot;&gt;\r\n    \t\t\t\t&lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\r\n    \t\t\t&lt;/button&gt;\r\n    \r\n    \t\t\t&lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\r\n    \r\n    \t\t\t\t&lt;ul class=&quot;navbar-nav  text-uppercase&quot;&gt;\r\n    \r\n    \t\t\t\t\t&lt;li class=&quot;nav-item&quot;&gt;&lt;a class=&quot;nav-link active&quot;\r\n    \t\t\t\t\t\taria-current=&quot;page&quot; href=&quot;/Chemistry-Calculator/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n    \r\n    \t\t\t\t\t&lt;li class=&quot;nav-item&quot;&gt;&lt;a class=&quot;nav-link active&quot;\r\n    \t\t\t\t\t\taria-current=&quot;page&quot; href=&quot;/Chemistry-Calculator/about&quot;&gt;About&lt;/a&gt;&lt;/li&gt;\r\n    \r\n    \r\n    \t\t\t\t&lt;/ul&gt;\r\n    \r\n    \t\t\t&lt;/div&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/nav&gt;\r\n    \r\n    \t&lt;div class=&quot;container&quot; style=&quot;padding-top: 5%;&quot;&gt;\r\n    \r\n    \t\t&lt;div class=&quot;card px-4 py-5&quot; style=&quot;width: 650px;&quot;&gt;\r\n    \t\t\t&lt;div class=&quot;card-block&quot;&gt;\r\n    \r\n    \t\t\t\t&lt;form action=&quot;/Chemistry-Calculator/Number-Of-Moles&quot;&gt;\r\n    \r\n    \t\t\t\t\t&lt;div class=&quot;mb-3&quot;&gt;\r\n    \t\t\t\t\t\t&lt;label for=&quot;givenMass&quot; class=&quot;form-label&quot;&gt;Given Mass of\r\n    \t\t\t\t\t\t\tSubstance&lt;/label&gt; &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;givenMass&quot;\r\n    \t\t\t\t\t\t\taria-describedby=&quot;emailHelp&quot; name=&quot;givenMass&quot;\r\n    \t\t\t\t\t\t\tvalue=&quot;${givenMass}&quot; style=&quot;width: 600px&quot;&gt;\r\n    \t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t&lt;div class=&quot;mb-3&quot;&gt;\r\n    \t\t\t\t\t\t&lt;label for=&quot;molarMass&quot; class=&quot;form-label&quot;&gt;Molar Mass&lt;/label&gt; &lt;input\r\n    \t\t\t\t\t\t\ttype=&quot;number&quot; class=&quot;form-control&quot; id=&quot;molarMass&quot; name=&quot;molarMass&quot;\r\n    \t\t\t\t\t\t\tvalue=&quot;${molarMass}&quot; style=&quot;width: 600px&quot;&gt;\r\n    \t\t\t\t\t&lt;/div&gt;\r\n    \r\n    \t\t\t\t\t&lt;div class=&quot;mb-3&quot;&gt;\r\n    \t\t\t\t\t\t&lt;label for=&quot;moles&quot; class=&quot;form-label&quot;&gt;Moles&lt;/label&gt; &lt;input\r\n    \t\t\t\t\t\t\ttype=&quot;number&quot; class=&quot;form-control&quot; id=&quot;moles&quot; name=&quot;moles&quot;\r\n    \t\t\t\t\t\t\tvalue=&quot;${moles}&quot; style=&quot;width: 600px&quot;&gt;\r\n    \t\t\t\t\t&lt;/div&gt;\r\n    \r\n    \t\t\t\t\t&lt;input class=&quot;btn btn-outline-success&quot; type=&quot;submit&quot;\r\n    \t\t\t\t\t\tvalue=&quot;Calculate&quot;&gt;\r\n    \r\n    \t\t\t\t\t&lt;div class=&quot;btn-group&quot;&gt;\r\n    \t\t\t\t\t\t&lt;button type=&quot;button&quot; class=&quot;btn btn-success dropdown-toggle&quot;\r\n    \t\t\t\t\t\t\tdata-bs-toggle=&quot;dropdown&quot; aria-expanded=&quot;false&quot;&gt;Choose\r\n    \t\t\t\t\t\t\twhat to calculate&lt;/button&gt;\r\n    \t\t\t\t\t\t&lt;ul class=&quot;dropdown-menu&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;li&gt;&lt;a class=&quot;dropdown-item&quot; onclick=&quot;readonlyForMoles()&quot;\r\n    \t\t\t\t\t\t\t\thref=&quot;#&quot;&gt;Calculate Moles&lt;/a&gt;&lt;/li&gt;\r\n    \t\t\t\t\t\t\t&lt;li&gt;&lt;a class=&quot;dropdown-item&quot;\r\n    \t\t\t\t\t\t\t\tonclick=&quot;readonlyForMolarMass()&quot;\r\n    \t\t\t\t\t\t\t\thref=&quot;#&quot;&gt;Calculate Molar\r\n    \t\t\t\t\t\t\t\t\tMass&lt;/a&gt;&lt;/li&gt;\r\n    \t\t\t\t\t\t\t&lt;li&gt;&lt;a class=&quot;dropdown-item&quot;\r\n    \t\t\t\t\t\t\t\tonclick=&quot;readonlyForGivenMass()&quot;\r\n    \t\t\t\t\t\t\t\thref=&quot;#&quot;&gt;Calculate Given\r\n    \t\t\t\t\t\t\t\t\tmass&lt;/a&gt;&lt;/li&gt;\r\n    \t\t\t\t\t\t&lt;/ul&gt;\r\n    \t\t\t\t\t&lt;/div&gt;\r\n    \r\n    \t\t\t\t&lt;/form&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/div&gt;\r\n    \r\n    \t&lt;script\r\n    \t\tsrc=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;\r\n    \t\tintegrity=&quot;sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p&quot;\r\n    \t\tcrossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n    \t&lt;script type=&quot;text/javascript&quot;src=&quot;/javascript/script.js&quot;&gt;&lt;/script&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nPlease help me sove this error\r\n","title":"Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;double&#39;; nested exception is java.lang.NumberFormatException: empty String","body":"<p>I am new to Spring boot. I am trying to calculate moles when the user inputs 2 of the three values. I have tried to make a dropdown, where if one of the link is clicked , then one of the textbox becomes read-only. But while doing this I am getting this error</p>\n<pre><code> There was an unexpected error (type=Bad Request, status=400).\n    Failed to convert value of type 'java.lang.String' to required type 'double'; nested exception is java.lang.NumberFormatException: empty String\nFailed to convert value of type 'java.lang.String' to required type 'double'; nested exception is java.lang.NumberFormatException: empty String\norg.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'double'; nested exception is java.lang.NumberFormatException: empty String\n    at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:831)\nCaused by: java.lang.NumberFormatException: empty String\n    at java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)\n    at java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\n    at java.base/java.lang.Double.parseDouble(Double.java:556)\n    at java.base/java.lang.Double.valueOf(Double.java:519)\n    at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:223)\n    at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)\n    at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)\n    at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)\n    at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)\n    at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)\n    at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)\n    at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:700)\n    at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)\n    ... 47 more\n</code></pre>\n<p>This is my Java controller code:</p>\n<pre><code>package com.sharman.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport com.sharman.service.Calculator;\n\n@Controller\n@RequestMapping(&quot;/Chemistry-Calculator/&quot;)\npublic class HomeController {\n    @RequestMapping(&quot;/&quot;)\n    public String callHome() {\n        return &quot;home&quot;;\n    }\n\n    @RequestMapping(&quot;/about&quot;)\n    public String callAbout() {\n        return &quot;about&quot;;\n    }\n\n    @RequestMapping(&quot;/Mole-Calculator&quot;)\n    public String callMoleCalculator() {\n        return &quot;Mole-Calculator&quot;;\n    }\n\n    @RequestMapping(&quot;/Number-Of-Moles&quot;)\n    public String calculateMoles(@RequestParam(value = &quot;givenMass&quot;,  required=false) double givenMassInput,\n            @RequestParam(value = &quot;molarMass&quot;,  required=false) double molarMassInput,\n            @RequestParam(value = &quot;moles&quot;,  required=false) double molesInput, Model model) {\n\n        Calculator calculate = new Calculator();\n\n        if (molesInput == 0) {\n            double moles = calculate.calculateMoles(givenMassInput, molarMassInput);\n            model.addAttribute(&quot;givenMass&quot;, givenMassInput);\n            model.addAttribute(&quot;molarMass&quot;, molarMassInput);\n            model.addAttribute(&quot;moles&quot;, moles);\n            \n        }else if (givenMassInput == 0) {\n            double givenMass = calculate.calculateGivenMass(molarMassInput, molesInput);\n            model.addAttribute(&quot;molarMass&quot;, molarMassInput);\n            model.addAttribute(&quot;moles&quot;, molesInput);\n            model.addAttribute(&quot;givenMass&quot;, givenMass);\n        }else if (molarMassInput == 0) {\n            double molarMass = calculate.calculateMolarMass(givenMassInput, molesInput);\n            model.addAttribute(&quot;givenMass&quot;, givenMassInput);\n            model.addAttribute(&quot;moles&quot;, molesInput);\n            model.addAttribute(&quot;molarMass&quot;, molarMass);\n        }\n\n        return &quot;Mole-Calculator&quot;;\n    }\n\n    @RequestMapping(&quot;/Avagadros-Number&quot;)\n    public String callAvagadrosNumber() {\n        return &quot;Avagadros-Number&quot;;\n    }\n\n    @RequestMapping(&quot;/Avagadro's-Number-Result&quot;)\n    public String calculateAvagadrosNumber(@RequestParam(value = &quot;moles&quot;) double moles, Model model) {\n\n        Calculator calculate = new Calculator();\n        double result = calculate.calculateAvagadrosNumber(moles);\n        String power = &quot;10\\u00b2\\u00b3&quot;;\n        System.out.println(power);\n        model.addAttribute(&quot;result&quot;, result + &quot;x&quot; + power);\n        model.addAttribute(&quot;moles&quot;, moles);\n        return &quot;Avagadros-Number&quot;;\n    }\n\n}\n</code></pre>\n<p>I am here trying to send the values in a model variable.\nThis is my jsp page:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;!-- Required meta tags --&gt;\n&lt;meta charset=&quot;utf-8&quot;&gt;\n&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n\n&lt;!-- Bootstrap CSS --&gt;\n&lt;link\n    href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot;\n    rel=&quot;stylesheet&quot;\n    integrity=&quot;sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3&quot;\n    crossorigin=&quot;anonymous&quot;&gt;\n\n&lt;title&gt;Mole Calculator | Chemistry Calculator&lt;/title&gt;\n\n&lt;/head&gt;\n\n\n\n&lt;body&gt;\n\n    &lt;nav class=&quot;navbar fixed-top navbar-expand-lg navbar-dark bg-black&quot;&gt;\n\n        &lt;div class=&quot;container-fluid&quot;&gt;\n            &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;&lt;h4&gt;\n                    &lt;b&gt;Chemistry Calculator&lt;/b&gt;\n                &lt;/h4&gt;&lt;/a&gt;\n\n            &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot;\n                data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#navbarSupportedContent&quot;\n                aria-controls=&quot;navbarSupportedContent&quot; aria-expanded=&quot;false&quot;\n                aria-label=&quot;Toggle navigation&quot;&gt;\n                &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\n            &lt;/button&gt;\n\n            &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\n\n                &lt;ul class=&quot;navbar-nav  text-uppercase&quot;&gt;\n\n                    &lt;li class=&quot;nav-item&quot;&gt;&lt;a class=&quot;nav-link active&quot;\n                        aria-current=&quot;page&quot; href=&quot;/Chemistry-Calculator/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n\n                    &lt;li class=&quot;nav-item&quot;&gt;&lt;a class=&quot;nav-link active&quot;\n                        aria-current=&quot;page&quot; href=&quot;/Chemistry-Calculator/about&quot;&gt;About&lt;/a&gt;&lt;/li&gt;\n\n\n                &lt;/ul&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/nav&gt;\n\n    &lt;div class=&quot;container&quot; style=&quot;padding-top: 5%;&quot;&gt;\n\n        &lt;div class=&quot;card px-4 py-5&quot; style=&quot;width: 650px;&quot;&gt;\n            &lt;div class=&quot;card-block&quot;&gt;\n\n                &lt;form action=&quot;/Chemistry-Calculator/Number-Of-Moles&quot;&gt;\n\n                    &lt;div class=&quot;mb-3&quot;&gt;\n                        &lt;label for=&quot;givenMass&quot; class=&quot;form-label&quot;&gt;Given Mass of\n                            Substance&lt;/label&gt; &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;givenMass&quot;\n                            aria-describedby=&quot;emailHelp&quot; name=&quot;givenMass&quot;\n                            value=&quot;${givenMass}&quot; style=&quot;width: 600px&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;mb-3&quot;&gt;\n                        &lt;label for=&quot;molarMass&quot; class=&quot;form-label&quot;&gt;Molar Mass&lt;/label&gt; &lt;input\n                            type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;molarMass&quot; name=&quot;molarMass&quot;\n                            value=&quot;${molarMass}&quot; style=&quot;width: 600px&quot;&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;mb-3&quot;&gt;\n                        &lt;label for=&quot;moles&quot; class=&quot;form-label&quot;&gt;Moles&lt;/label&gt; &lt;input\n                            type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;moles&quot; name=&quot;moles&quot;\n                            value=&quot;${moles}&quot; style=&quot;width: 600px&quot;&gt;\n                    &lt;/div&gt;\n\n                    &lt;input class=&quot;btn btn-outline-success&quot; type=&quot;submit&quot;\n                        value=&quot;Calculate&quot;&gt;\n\n                    &lt;div class=&quot;btn-group&quot;&gt;\n                        &lt;button type=&quot;button&quot; class=&quot;btn btn-success dropdown-toggle&quot;\n                            data-bs-toggle=&quot;dropdown&quot; aria-expanded=&quot;false&quot;&gt;Choose\n                            what to calculate&lt;/button&gt;\n                        &lt;ul class=&quot;dropdown-menu&quot;&gt;\n                            &lt;li&gt;&lt;a class=&quot;dropdown-item&quot; onclick=&quot;readonlyForMoles()&quot;\n                                href=&quot;#&quot;&gt;Calculate Moles&lt;/a&gt;&lt;/li&gt;\n                            &lt;li&gt;&lt;a class=&quot;dropdown-item&quot;\n                                onclick=&quot;readonlyForMolarMass()&quot;\n                                href=&quot;#&quot;&gt;Calculate Molar\n                                    Mass&lt;/a&gt;&lt;/li&gt;\n                            &lt;li&gt;&lt;a class=&quot;dropdown-item&quot;\n                                onclick=&quot;readonlyForGivenMass()&quot;\n                                href=&quot;#&quot;&gt;Calculate Given\n                                    mass&lt;/a&gt;&lt;/li&gt;\n                        &lt;/ul&gt;\n                    &lt;/div&gt;\n\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;script\n        src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;\n        integrity=&quot;sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p&quot;\n        crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot;src=&quot;/javascript/script.js&quot;&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Please help me sove this error</p>\n"},{"tags":["javascript","java","html","jsp"],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639601358,"creation_date":1639601358,"answer_id":70370131,"question_id":70369471,"body_markdown":"You can assign the value of the generated url into a variable and then use that variable:\r\n\r\n&lt;!-- language: html --&gt;\r\n\r\n    &lt;c:import var=&quot;image&quot; url=&quot;/img/avatar.png&quot;/&gt;\r\n    &lt;img src = &quot;${image}&quot; alt=&quot;...&quot; /&gt;\r\n","title":"Import an image to jsp file using &lt;c:import url=&quot;&quot;/&gt;","body":"<p>You can assign the value of the generated url into a variable and then use that variable:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;c:import var=&quot;image&quot; url=&quot;/img/avatar.png&quot;/&gt;\n&lt;img src = &quot;${image}&quot; alt=&quot;...&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643080758,"creation_date":1643067394,"answer_id":70841777,"question_id":70369471,"body_markdown":"Using a [Data URL][1] and Base 64 encoding works, but you might have to force a specific character encoding/content-type character set.\r\n\r\nHere is a JSP excerpt that uses JSP scriptlet to do the Base64 encoding:\r\n```jsp\r\n&lt;c:import url=&quot;https://my.server.com/get-png-data&quot; var=&quot;imageData&quot;/&gt;\r\n&lt;% String base64data = java.util.Base64.getEncoder().encodeToString( ((String) pageContext.getAttribute(&quot;imageData&quot;)).getBytes()); %&gt;\r\n&lt;img src=&quot;data:image/png;base64,&lt;%=base64Data%&gt;&quot;/&gt;\r\n```\r\n\r\nOn a couple of systems, I had to explicitly use `...getBytes(&quot;ISO-8859-1&quot;)`.\r\n\r\nI&#39;d also recommend, by the way, wrapping that `&lt;c:import&gt;` in a `&lt;c:catch&gt;` in case there are failures. Like this:\r\n\r\n```jsp\r\n&lt;c:catch var=&quot;importException&quot;&gt;\r\n    &lt;c:import url=&quot;https://my.server.com/get-png-data&quot; var=&quot;imageData&quot;/&gt;\r\n    ...\r\n&lt;/c:catch&gt;\r\n&lt;c:if test=&quot;${not empty importException}&quot;&gt;\r\n    &lt;c:out value=&quot;${importException}&quot;/&gt; &lt;%-- do something else here to handle --%&gt;\r\n&lt;/c:if&gt;\r\n```\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs","title":"Import an image to jsp file using &lt;c:import url=&quot;&quot;/&gt;","body":"<p>Using a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\" rel=\"nofollow noreferrer\">Data URL</a> and Base 64 encoding works, but you might have to force a specific character encoding/content-type character set.</p>\n<p>Here is a JSP excerpt that uses JSP scriptlet to do the Base64 encoding:</p>\n<pre><code>&lt;c:import url=&quot;https://my.server.com/get-png-data&quot; var=&quot;imageData&quot;/&gt;\n&lt;% String base64data = java.util.Base64.getEncoder().encodeToString( ((String) pageContext.getAttribute(&quot;imageData&quot;)).getBytes()); %&gt;\n&lt;img src=&quot;data:image/png;base64,&lt;%=base64Data%&gt;&quot;/&gt;\n</code></pre>\n<p>On a couple of systems, I had to explicitly use <code>...getBytes(&quot;ISO-8859-1&quot;)</code>.</p>\n<p>I'd also recommend, by the way, wrapping that <code>&lt;c:import&gt;</code> in a <code>&lt;c:catch&gt;</code> in case there are failures. Like this:</p>\n<pre><code>&lt;c:catch var=&quot;importException&quot;&gt;\n    &lt;c:import url=&quot;https://my.server.com/get-png-data&quot; var=&quot;imageData&quot;/&gt;\n    ...\n&lt;/c:catch&gt;\n&lt;c:if test=&quot;${not empty importException}&quot;&gt;\n    &lt;c:out value=&quot;${importException}&quot;/&gt; &lt;%-- do something else here to handle --%&gt;\n&lt;/c:if&gt;\n</code></pre>\n"}],"owner":{"account_id":23658596,"reputation":1,"user_id":17686477,"display_name":"haku1404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643080758,"creation_date":1639597528,"question_id":70369471,"body_markdown":"How can I automatically get the file path of an image using `&lt;c:import url=&quot;&quot;/&gt;` as src of `&lt;img src=&quot;&quot; alt&quot;&quot;/&gt;` \r\nTo be more specific, below is the requiment:\r\n\r\nCreate a card with the following structure\r\n`&lt;c:ImportUrl url = “…”/&gt;`\r\nhere url property will work like this:\r\n`url = “/img/avatar.png”` the url attribute can point to the address of\r\nany resource.\r\nif current context (current path is /list)\r\nthen automatically `c:ImportUrl` will return the text containing the command to convert from\r\ncurrent context to the resource pointed to by the url.\r\n\r\nEg:\r\nWe have the context: build the page /list according to the MVC pattern\r\nwhen every request goes through Controller, instead of direct request\r\nto the view (usually written in jsp).\r\nWhether the jsp file address is : `/view/test/list.jsp`\r\nThe address of an image file to include in the view is: `/img/avatar.png`\r\nTo show this image file\r\n`&lt;img src = “&lt;c:ImportUrl url=&quot;/img/avatar.png”/&gt;”`","title":"Import an image to jsp file using &lt;c:import url=&quot;&quot;/&gt;","body":"<p>How can I automatically get the file path of an image using <code>&lt;c:import url=&quot;&quot;/&gt;</code> as src of <code>&lt;img src=&quot;&quot; alt&quot;&quot;/&gt;</code>\nTo be more specific, below is the requiment:</p>\n<p>Create a card with the following structure\n<code>&lt;c:ImportUrl url = “…”/&gt;</code>\nhere url property will work like this:\n<code>url = “/img/avatar.png”</code> the url attribute can point to the address of\nany resource.\nif current context (current path is /list)\nthen automatically <code>c:ImportUrl</code> will return the text containing the command to convert from\ncurrent context to the resource pointed to by the url.</p>\n<p>Eg:\nWe have the context: build the page /list according to the MVC pattern\nwhen every request goes through Controller, instead of direct request\nto the view (usually written in jsp).\nWhether the jsp file address is : <code>/view/test/list.jsp</code>\nThe address of an image file to include in the view is: <code>/img/avatar.png</code>\nTo show this image file\n<code>&lt;img src = “&lt;c:ImportUrl url=&quot;/img/avatar.png”/&gt;”</code></p>\n"},{"tags":["java","ldap","mulesoft"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":1,"creation_date":1643071268,"post_id":70842149,"comment_id":125238122,"body_markdown":"Don&#39;t post pics of your code.","body":"Don&#39;t post pics of your code."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1643072632,"post_id":70842149,"comment_id":125238321,"body_markdown":"Is `ba` your file?  If so you are treating it as a String not binary","body":"Is <code>ba</code> your file?  If so you are treating it as a String not binary"},{"owner":{"account_id":10444344,"reputation":157,"user_id":7699912,"display_name":"Learner"},"score":0,"creation_date":1643072645,"post_id":70842149,"comment_id":125238322,"body_markdown":"no sensitive information on that.   same java code is present here too \n\nhttps://docs.oracle.com/javase/tutorial/jndi/ops/modattrs.html\nhttps://docs.oracle.com/javase/tutorial/jndi/ops/examples/ModAttrs.java\nhttps://docs.oracle.com/javase/jndi/tutorial/ldap/security/ldap.html","body":"no sensitive information on that.   same java code is present here too   <a href=\"https://docs.oracle.com/javase/tutorial/jndi/ops/modattrs.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jndi/ops/modattrs.html</a> <a href=\"https://docs.oracle.com/javase/tutorial/jndi/ops/examples/ModAttrs.java\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jndi/ops/examples/ModAttrs.j&zwnj;&#8203;ava</a> <a href=\"https://docs.oracle.com/javase/jndi/tutorial/ldap/security/ldap.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/jndi/tutorial/ldap/security/ldap.html</a>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1643076888,"post_id":70842149,"comment_id":125238931,"body_markdown":"Don&#39;t post code as screenshots because it is against Stackoverflow policies. In https://stackoverflow.com/help/how-to-ask search &quot;DO NOT post images of code, data, error messages, etc.&quot; for more details and and extended explanation in https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question/285557#285557. Basically it makes more difficult to help you.","body":"Don&#39;t post code as screenshots because it is against Stackoverflow policies. In <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> search &quot;DO NOT post images of code, data, error messages, etc.&quot; for more details and and extended explanation in <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question/285557#285557\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>. Basically it makes more difficult to help you."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1643077290,"post_id":70842149,"comment_id":125238993,"body_markdown":"Also please share the flow -as XML text obviously- to understand from where the image is being read and how it reaches whatever component you are using to invoke the Java code. Is it a Java Module or DataWeave? Do you see that we are guessing here? Make it easier for others to help you.","body":"Also please share the flow -as XML text obviously- to understand from where the image is being read and how it reaches whatever component you are using to invoke the Java code. Is it a Java Module or DataWeave? Do you see that we are guessing here? Make it easier for others to help you."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1643077814,"post_id":70842149,"comment_id":125239064,"body_markdown":"In addition to the 10+ reasons mentioned in the link above the images are making my browser very unhappy for some weird reason. Avoid using images for code.","body":"In addition to the 10+ reasons mentioned in the link above the images are making my browser very unhappy for some weird reason. Avoid using images for code."},{"owner":{"account_id":10444344,"reputation":157,"user_id":7699912,"display_name":"Learner"},"score":0,"creation_date":1643079653,"post_id":70842149,"comment_id":125239338,"body_markdown":"@aled I know you answer most of my questions. Thanks for that and i will make a note of not posting images.\n\nhere is the scenario: loading the jpeg file via sftp and pass to ldap via bytes. is there a simple way to do that in mule4 ??","body":"@aled I know you answer most of my questions. Thanks for that and i will make a note of not posting images.  here is the scenario: loading the jpeg file via sftp and pass to ldap via bytes. is there a simple way to do that in mule4 ??"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1643080610,"post_id":70842149,"comment_id":125239478,"body_markdown":"Also please do not use links for code.","body":"Also please do not use links for code."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643080567,"creation_date":1643080567,"answer_id":70843027,"question_id":70842149,"body_markdown":"The problem is using String for binaries. You are having the same problem mentioned at https://stackoverflow.com/a/6544206/721855 because of using Strings for binaries. You should not use Strings at any point of reading or processing the image. Nor in the flow nor in Java. \r\n\r\nTry in the flow use `as Binary {class: &quot;byte[]&quot;}` to force the -already- binary to be a byte array and set the type of `ba` also as a byte array (`byte[]`).\r\n\r\nI&#39;m not sure what happens with the file read before it ends in ldap.image so ensure it is not transformed in any way, even implicitly in an expression. Remember that in Mule 4 expressions are DataWeave transformation.\r\n","title":"Loading Photo to LDAP Via MuleSoft Java module","body":"<p>The problem is using String for binaries. You are having the same problem mentioned at <a href=\"https://stackoverflow.com/a/6544206/721855\">https://stackoverflow.com/a/6544206/721855</a> because of using Strings for binaries. You should not use Strings at any point of reading or processing the image. Nor in the flow nor in Java.</p>\n<p>Try in the flow use <code>as Binary {class: &quot;byte[]&quot;}</code> to force the -already- binary to be a byte array and set the type of <code>ba</code> also as a byte array (<code>byte[]</code>).</p>\n<p>I'm not sure what happens with the file read before it ends in ldap.image so ensure it is not transformed in any way, even implicitly in an expression. Remember that in Mule 4 expressions are DataWeave transformation.</p>\n"}],"owner":{"account_id":10444344,"reputation":157,"user_id":7699912,"display_name":"Learner"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1643100316,"accepted_answer_id":70843027,"answer_count":1,"score":-2,"last_activity_date":1643080567,"creation_date":1643071099,"question_id":70842149,"body_markdown":"There might be a silly mistake am doing it. but am trying to load a jpeg photo to ldap via java and facing small issue.\r\n\r\nCurrently in mule-3 we use invoke java and store it in ldap and when we download from ldap we get actual image. this is how its getting stored \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand here is high level java code\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIn Mule-4 there is no event context and java module itself got changed. so am using similar java program and trying to load to ldap. its getting loaded but when i download its not an image. \r\n\r\nthis is how its storing in ldap, some extra content in the beginning it seems. below is my java code\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n   \r\n\r\n         %dw 2.0\r\n        import java!imaging::UploadPhotoToAD\r\n        import * from dw::core::Binaries\r\n        import * from dw::core::Numbers\r\n    output application/java\r\n    ---\r\n    UploadPhotoToAD::updateEntry(ldap.image as Binary, ldap.userDN, ldap.usersDN, ldap.url, ldap.authDN, ldap.authPassword)\r\n\r\n\r\n\r\nAny idea what am missing here or anything needs to be changed\r\n\r\n  [1]: https://i.stack.imgur.com/YtNek.png\r\n  [2]: https://i.stack.imgur.com/lMZAu.png\r\n  [3]: https://i.stack.imgur.com/S0cnK.png\r\n  [4]: https://i.stack.imgur.com/o4smR.png","title":"Loading Photo to LDAP Via MuleSoft Java module","body":"<p>There might be a silly mistake am doing it. but am trying to load a jpeg photo to ldap via java and facing small issue.</p>\n<p>Currently in mule-3 we use invoke java and store it in ldap and when we download from ldap we get actual image. this is how its getting stored</p>\n<p><a href=\"https://i.stack.imgur.com/YtNek.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YtNek.png\" alt=\"enter image description here\" /></a></p>\n<p>and here is high level java code</p>\n<p><a href=\"https://i.stack.imgur.com/lMZAu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lMZAu.png\" alt=\"enter image description here\" /></a></p>\n<p>In Mule-4 there is no event context and java module itself got changed. so am using similar java program and trying to load to ldap. its getting loaded but when i download its not an image.</p>\n<p>this is how its storing in ldap, some extra content in the beginning it seems. below is my java code</p>\n<p><a href=\"https://i.stack.imgur.com/S0cnK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S0cnK.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/o4smR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o4smR.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>     %dw 2.0\n    import java!imaging::UploadPhotoToAD\n    import * from dw::core::Binaries\n    import * from dw::core::Numbers\noutput application/java\n---\nUploadPhotoToAD::updateEntry(ldap.image as Binary, ldap.userDN, ldap.usersDN, ldap.url, ldap.authDN, ldap.authPassword)\n</code></pre>\n<p>Any idea what am missing here or anything needs to be changed</p>\n"},{"tags":["java","android","json"],"answers":[{"tags":[],"owner":{"account_id":24010613,"reputation":11,"user_id":17994249,"display_name":"AJ-ELS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643016561,"creation_date":1643014803,"answer_id":70831273,"question_id":70830929,"body_markdown":"You&#39;ve basically already found your solution, you just haven&#39;t realised it!\r\n\r\nYou can add a JSONObject to a JSONObject.\r\n\r\nSo you can create your teamEvents JSONObject, .put(&quot;each id&quot;, value) , then create a new configs JsonObject, and configsObject.put(&quot;TeamEvents&quot;, teamEventsObject).\r\n\r\nSo like this...\r\n\r\n```\r\nJSONObject teamEventsObject.put(&quot;3050&quot;, [1,2,3,4,5,6,7,8]);\r\nteamEventsObject.put(&quot;3052&quot;, [1,2,8]); \r\n... etc\r\n\r\nJSONObject configsObject.put(&quot;Configs&quot;, teamEventsObject);\r\n```\r\n\r\n\r\nOr indeed as Enes has implied, you could do it via creation of java POJOs, then serialize those objects into json, eg. with the Jackson objectMapper. This would be a more solid &#39;contract&#39; than hardcoding string JSONObjects, but both ways achieve the same result.","title":"Creating nested json objects in Java","body":"<p>You've basically already found your solution, you just haven't realised it!</p>\n<p>You can add a JSONObject to a JSONObject.</p>\n<p>So you can create your teamEvents JSONObject, .put(&quot;each id&quot;, value) , then create a new configs JsonObject, and configsObject.put(&quot;TeamEvents&quot;, teamEventsObject).</p>\n<p>So like this...</p>\n<pre><code>JSONObject teamEventsObject.put(&quot;3050&quot;, [1,2,3,4,5,6,7,8]);\nteamEventsObject.put(&quot;3052&quot;, [1,2,8]); \n... etc\n\nJSONObject configsObject.put(&quot;Configs&quot;, teamEventsObject);\n</code></pre>\n<p>Or indeed as Enes has implied, you could do it via creation of java POJOs, then serialize those objects into json, eg. with the Jackson objectMapper. This would be a more solid 'contract' than hardcoding string JSONObjects, but both ways achieve the same result.</p>\n"},{"tags":[],"owner":{"account_id":24035534,"reputation":11,"user_id":18015860,"display_name":"Nisha Rai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643015896,"creation_date":1643015896,"answer_id":70831473,"question_id":70830929,"body_markdown":"Use [Gson Library][1]. \r\n\r\nCheck [user guide][2] for more complex example.\r\n\r\n\r\n## Simple Example\r\n```\r\n\r\nclass DataClass {\r\n    private int code = 1;\r\n    private String name = &quot;abc&quot;;\r\n    DataClass() {\r\n        // no-args constructor\r\n    }\r\n}\r\n\r\n// Serialization\r\nDataClass data = new DataClass();\r\nGson gson = new Gson();\r\nString json = gson.toJson(data);\r\n\r\n// ==&gt; json is {&quot;code&quot;:1,&quot;name&quot;:&quot;abc&quot;}\r\n    \r\n// Deserialization\r\nDataClass data = gson.fromJson(json, DataClass.class);\r\n```\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://github.com/google/gson/blob/master/UserGuide.md","title":"Creating nested json objects in Java","body":"<p>Use <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson Library</a>.</p>\n<p>Check <a href=\"https://github.com/google/gson/blob/master/UserGuide.md\" rel=\"nofollow noreferrer\">user guide</a> for more complex example.</p>\n<h2>Simple Example</h2>\n<pre><code>\nclass DataClass {\n    private int code = 1;\n    private String name = &quot;abc&quot;;\n    DataClass() {\n        // no-args constructor\n    }\n}\n\n// Serialization\nDataClass data = new DataClass();\nGson gson = new Gson();\nString json = gson.toJson(data);\n\n// ==&gt; json is {&quot;code&quot;:1,&quot;name&quot;:&quot;abc&quot;}\n    \n// Deserialization\nDataClass data = gson.fromJson(json, DataClass.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643080481,"creation_date":1643071916,"answer_id":70842230,"question_id":70830929,"body_markdown":"Another way to achieve this is simply serialize object to JSON string with any popular JSON library such as Jackson, Gson and so on.  \r\n\r\nFirst, construct a nested map of objects as follows:\r\n```java\r\nMap&lt;String, Object&gt; teamEventMap = new HashMap&lt;&gt;();\r\nteamEventMap.put(&quot;3050&quot;, Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8));\r\nteamEventMap.put(&quot;3052&quot;, Arrays.asList(1, 2, 8));\r\nteamEventMap.put(&quot;3054&quot;, Arrays.asList(4));\r\n\r\nMap&lt;String, Object&gt; configMap = new HashMap&lt;&gt;();\r\nconfigMap.put(&quot;TeamEvents&quot;, teamEventMap);\r\n\r\nMap&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\r\nresultMap.put(&quot;Configs&quot;, configMap);\r\n```\r\n\r\nThen just leverage JSON library for serialization without directly operating JSON objects:\r\n```java\r\n// By using Jackson\r\nObjectMapper objectMapper = new ObjectMapper();\r\nSystem.out.println(objectMapper.writeValueAsString(resultMap));\r\n\r\n// By using Gson\r\nGson gson = new Gson();\r\nSystem.out.println(gson.toJson(resultMap));\r\n```\r\n\r\nBoth two JSON libraries produce the same output as expected:\r\n\r\n&gt; {&quot;Configs&quot;:{&quot;TeamEvents&quot;:{&quot;3054&quot;:[4],&quot;3052&quot;:[1,2,8],&quot;3050&quot;:[1,2,3,4,5,6,7,8]}}}\r\n\r\n---\r\n\r\nOne of the benefits for this way resides it is easy to switch to another JSON library without much code change.","title":"Creating nested json objects in Java","body":"<p>Another way to achieve this is simply serialize object to JSON string with any popular JSON library such as Jackson, Gson and so on.</p>\n<p>First, construct a nested map of objects as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; teamEventMap = new HashMap&lt;&gt;();\nteamEventMap.put(&quot;3050&quot;, Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8));\nteamEventMap.put(&quot;3052&quot;, Arrays.asList(1, 2, 8));\nteamEventMap.put(&quot;3054&quot;, Arrays.asList(4));\n\nMap&lt;String, Object&gt; configMap = new HashMap&lt;&gt;();\nconfigMap.put(&quot;TeamEvents&quot;, teamEventMap);\n\nMap&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\nresultMap.put(&quot;Configs&quot;, configMap);\n</code></pre>\n<p>Then just leverage JSON library for serialization without directly operating JSON objects:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// By using Jackson\nObjectMapper objectMapper = new ObjectMapper();\nSystem.out.println(objectMapper.writeValueAsString(resultMap));\n\n// By using Gson\nGson gson = new Gson();\nSystem.out.println(gson.toJson(resultMap));\n</code></pre>\n<p>Both two JSON libraries produce the same output as expected:</p>\n<blockquote>\n<p>{&quot;Configs&quot;:{&quot;TeamEvents&quot;:{&quot;3054&quot;:[4],&quot;3052&quot;:[1,2,8],&quot;3050&quot;:[1,2,3,4,5,6,7,8]}}}</p>\n</blockquote>\n<hr />\n<p>One of the benefits for this way resides it is easy to switch to another JSON library without much code change.</p>\n"}],"owner":{"account_id":12390896,"reputation":93,"user_id":9032951,"display_name":"Tenesuzun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3261,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70842230,"answer_count":3,"score":0,"last_activity_date":1643080481,"creation_date":1643012952,"question_id":70830929,"body_markdown":"I need to create JSON like below to send with a POST request. So far I tried to accomplish this by using Org.Json library\r\n\r\n    &quot;Configs&quot;: {\r\n     &quot;TeamEvents&quot;: {\r\n        &quot;3050&quot;: [1,2,3,4,5,6,7,8],\r\n        &quot;3052&quot;: [1,2,8],\r\n        &quot;3054&quot;: [4]\r\n     }\r\n4 digit numbers are ids. \r\nHowever I could not grasp how can I do this part. I&#39;ve created TeamEvents JSONObject and added id&#39;s and arrays with JSONObject.put() method but I dont know how can I pass that TeamEvents object to Configs. Thanks in advance","title":"Creating nested json objects in Java","body":"<p>I need to create JSON like below to send with a POST request. So far I tried to accomplish this by using Org.Json library</p>\n<pre><code>&quot;Configs&quot;: {\n &quot;TeamEvents&quot;: {\n    &quot;3050&quot;: [1,2,3,4,5,6,7,8],\n    &quot;3052&quot;: [1,2,8],\n    &quot;3054&quot;: [4]\n }\n</code></pre>\n<p>4 digit numbers are ids.\nHowever I could not grasp how can I do this part. I've created TeamEvents JSONObject and added id's and arrays with JSONObject.put() method but I dont know how can I pass that TeamEvents object to Configs. Thanks in advance</p>\n"},{"tags":["java","serialization","serializable"],"comments":[{"owner":{"account_id":515883,"reputation":4966,"user_id":1128668,"accept_rate":54,"display_name":"GlenPeterson"},"score":0,"creation_date":1555378609,"post_id":1792501,"comment_id":98080566,"body_markdown":"Not with hash sets.  See: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6208166","body":"Not with hash sets.  See: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6208166\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=6208166</a>"},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1691968164,"post_id":1792501,"comment_id":135558444,"body_markdown":"official specs say it should work: https://docs.oracle.com/en/java/javase/17/docs/specs/serialization/serial-arch.html#circular-references","body":"official specs say it should work: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/serialization/serial-arch.html#circular-references\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/specs/serialization/&hellip;</a>"},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1691968261,"post_id":1792501,"comment_id":135558453,"body_markdown":"@GlenPeterson this a report for 1.4: I bet it&#39;s outdated... (here is an updated link btw: https://bugs.java.com/bugdatabase/view_bug?bug_id=6208166 )","body":"@GlenPeterson this a report for 1.4: I bet it&#39;s outdated... (here is an updated link btw: <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6208166\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug?bug_id=6208166</a> )"}],"answers":[{"tags":[],"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1259092403,"creation_date":1259092403,"answer_id":1792515,"question_id":1792501,"body_markdown":"Yes, the default Java serialization works for cyclic references.  When you serialize object C, the field will contain a backreference to the already-serialized object A instead of serializing it again.","title":"Does Java Serialization work for cyclic references?","body":"<p>Yes, the default Java serialization works for cyclic references.  When you serialize object C, the field will contain a backreference to the already-serialized object A instead of serializing it again.</p>\n"},{"tags":[],"owner":{"account_id":34514,"reputation":28046,"user_id":97627,"accept_rate":75,"display_name":"Paul Wagland"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1490234181,"creation_date":1259093055,"answer_id":1792577,"question_id":1792501,"body_markdown":"Yes, Java serialization works for circular references, read [here](https://web.archive.org/web/20120626144013/http://java.sun.com/developer/technicalArticles/ALT/serialization) for more information to help your understanding of what Java serialization can do.","title":"Does Java Serialization work for cyclic references?","body":"<p>Yes, Java serialization works for circular references, read <a href=\"https://web.archive.org/web/20120626144013/http://java.sun.com/developer/technicalArticles/ALT/serialization\" rel=\"nofollow noreferrer\">here</a> for more information to help your understanding of what Java serialization can do.</p>\n"},{"tags":[],"owner":{"account_id":75782,"reputation":1215,"user_id":217269,"display_name":"spork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259094516,"creation_date":1259094516,"answer_id":1792712,"question_id":1792501,"body_markdown":"You can actually view the referencing firsthand if you serialize your object to XML. The child objects are only serialized once. Any reference (anywhere in the serialized structure) to a child object that has already been serialized will simply point to that object in the file.\r\n\r\nSerializing cyclic references can get a little messy, though, so you might want to avoid them if you can.","title":"Does Java Serialization work for cyclic references?","body":"<p>You can actually view the referencing firsthand if you serialize your object to XML. The child objects are only serialized once. Any reference (anywhere in the serialized structure) to a child object that has already been serialized will simply point to that object in the file.</p>\n\n<p>Serializing cyclic references can get a little messy, though, so you might want to avoid them if you can.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1259095367,"creation_date":1259095367,"answer_id":1792802,"question_id":1792501,"body_markdown":"Yes it does.\r\n\r\nI did this very, very, simple test, and at least it finish the serialization. I assume it is correct, but you can check that with some extra lines.\r\n\r\n    import java.io.*;\r\n    class A implements Serializable { B b; }\r\n    class B implements Serializable { C c; }\r\n    class C implements Serializable { A a; }\r\n    class Test {\r\n        public static void main( String [] args ) throws IOException {\r\n            A a = new A();\r\n            a.b = new B();\r\n            a.b.c = new C();\r\n            a.b.c.a = a;\r\n            new ObjectOutputStream( new ByteArrayOutputStream( ) ).writeObject( a );\r\n            System.out.println(&quot;It works&quot;);\r\n\r\n        }    \r\n    }","title":"Does Java Serialization work for cyclic references?","body":"<p>Yes it does.</p>\n\n<p>I did this very, very, simple test, and at least it finish the serialization. I assume it is correct, but you can check that with some extra lines.</p>\n\n<pre><code>import java.io.*;\nclass A implements Serializable { B b; }\nclass B implements Serializable { C c; }\nclass C implements Serializable { A a; }\nclass Test {\n    public static void main( String [] args ) throws IOException {\n        A a = new A();\n        a.b = new B();\n        a.b.c = new C();\n        a.b.c.a = a;\n        new ObjectOutputStream( new ByteArrayOutputStream( ) ).writeObject( a );\n        System.out.println(\"It works\");\n\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":352555,"reputation":774,"user_id":689706,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643079839,"creation_date":1643079839,"answer_id":70842969,"question_id":1792501,"body_markdown":"Yes - with one big caveat: You can&#39;t use writeReplace/readResolve where the object graph contains a cycle.\r\nThe reason is explained [here][1].\r\n\r\nThis means that cyclic object graphs are incompatible with use of Josh Bloch&#39;s SerializationProxy pattern in the general case. You can work around this sometimes if you know enough about the structure of descendant nodes in the object graph to remove back references on serialization and replace them on deserialization. But that is not generally possible.\r\nThis issue has been raised in JDK bug reports several times but was met with shrugs. I think given the vulnerability of default Java serialization this attitude is pretty irritating. We are left to implement our own general object serialization solution which is a daunting task, but open source alternatives exist.\r\n\r\nOne that I have come across and which appears to be of a reasonably high quality is [Kryo][2] by Esoteric Software.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/platform/serialization/spec/input.html#5903\r\n  [2]: https://github.com/EsotericSoftware/kryo","title":"Does Java Serialization work for cyclic references?","body":"<p>Yes - with one big caveat: You can't use writeReplace/readResolve where the object graph contains a cycle.\nThe reason is explained <a href=\"https://docs.oracle.com/javase/7/docs/platform/serialization/spec/input.html#5903\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>This means that cyclic object graphs are incompatible with use of Josh Bloch's SerializationProxy pattern in the general case. You can work around this sometimes if you know enough about the structure of descendant nodes in the object graph to remove back references on serialization and replace them on deserialization. But that is not generally possible.\nThis issue has been raised in JDK bug reports several times but was met with shrugs. I think given the vulnerability of default Java serialization this attitude is pretty irritating. We are left to implement our own general object serialization solution which is a daunting task, but open source alternatives exist.</p>\n<p>One that I have come across and which appears to be of a reasonably high quality is <a href=\"https://github.com/EsotericSoftware/kryo\" rel=\"nofollow noreferrer\">Kryo</a> by Esoteric Software.</p>\n"}],"owner":{"account_id":11886,"reputation":6832,"user_id":23133,"accept_rate":27,"display_name":"Brandon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11685,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":1792515,"answer_count":5,"score":18,"last_activity_date":1643079839,"creation_date":1259092206,"question_id":1792501,"body_markdown":"For example:  Object A contains Object B that contains Object C that contains Object A.\r\n\r\nWill Object A serialize properly?\r\n\r\nComment #9 [here][1] indicates that it does not work .\r\n\r\nIn contrast, [XStream][2] indicates that it does handle cyclic references.\r\n\r\n\r\n  [1]: http://www.javalobby.org/java/forums/t90318.html\r\n  [2]: http://xstream.codehaus.org/","title":"Does Java Serialization work for cyclic references?","body":"<p>For example:  Object A contains Object B that contains Object C that contains Object A.</p>\n\n<p>Will Object A serialize properly?</p>\n\n<p>Comment #9 <a href=\"http://www.javalobby.org/java/forums/t90318.html\" rel=\"noreferrer\">here</a> indicates that it does not work .</p>\n\n<p>In contrast, <a href=\"http://xstream.codehaus.org/\" rel=\"noreferrer\">XStream</a> indicates that it does handle cyclic references.</p>\n"},{"tags":["java","caching","jvm","false-sharing"],"comments":[{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1643036366,"post_id":70830324,"comment_id":125226428,"body_markdown":"Did you try it with newer versions of that JDK? Perhaps it is a known issue that is already resolved.","body":"Did you try it with newer versions of that JDK? Perhaps it is a known issue that is already resolved."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1643061716,"post_id":70830324,"comment_id":125236135,"body_markdown":"Just tested your code on Zulu 8.56.0.23-CA-macos-aarch64 with `-XX:-RestrictContended` - and it expectedly shows that VolatileLong3 occupies 280 bytes with the proper padding before `vaue` field.","body":"Just tested your code on Zulu 8.56.0.23-CA-macos-aarch64 with <code>-XX:-RestrictContended</code> - and it expectedly shows that VolatileLong3 occupies 280 bytes with the proper padding before <code>vaue</code> field."},{"owner":{"account_id":7414336,"reputation":149,"user_id":5640692,"display_name":"OutOfFoodException"},"score":0,"creation_date":1643078632,"post_id":70830324,"comment_id":125239181,"body_markdown":"Thanks for verifying on your machine.   That was my fault.  I used Intellij idea `Program arguments` to add the `-XX:-RestrictContended`  in Run Configuration. But it should be VM option. In default, it&#39;s not showing.  I added the option there and it works now.","body":"Thanks for verifying on your machine.   That was my fault.  I used Intellij idea <code>Program arguments</code> to add the <code>-XX:-RestrictContended</code>  in Run Configuration. But it should be VM option. In default, it&#39;s not showing.  I added the option there and it works now."}],"answers":[{"tags":[],"owner":{"account_id":7414336,"reputation":149,"user_id":5640692,"display_name":"OutOfFoodException"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643079074,"creation_date":1643078765,"answer_id":70842866,"question_id":70830324,"body_markdown":"That was my silly mistake.   \r\nI used Intellij idea Program arguments to add the `-XX:-RestrictContended` in Run Configuration. But it should be VM option.   \r\nIn default, it&#39;s not showing. I added the option there and it works now.\r\n\r\nHere is the final output:  \r\n\r\n```\r\nvolatile1 layout: \r\n# WARNING: Unable to attach Serviceability Agent. Unable to attach even with module exceptions: [org.openjdk.jol.vm.sa.SASupportException: Sense failed., org.openjdk.jol.vm.sa.SASupportException: Sense failed., org.openjdk.jol.vm.sa.SASupportException: Sense failed.]\r\ncn.windery.learning.jvm.cache.FalseSharing$VolatileLong1 object internals:\r\nOFF  SZ   TYPE DESCRIPTION               VALUE\r\n  0   8        (object header: mark)     N/A\r\n  8   4        (object header: class)    N/A\r\n 12   4        (alignment/padding gap)   \r\n 16   8   long VolatileLong1.value       N/A\r\nInstance size: 24 bytes\r\nSpace losses: 4 bytes internal + 0 bytes external = 4 bytes total\r\n\r\nvolatile2 layout: \r\ncn.windery.learning.jvm.cache.FalseSharing$VolatileLong2 object internals:\r\nOFF  SZ   TYPE DESCRIPTION               VALUE\r\n  0   8        (object header: mark)     N/A\r\n  8   4        (object header: class)    N/A\r\n 12   4        (alignment/padding gap)   \r\n 16   8   long VolatileLong2.p0          N/A\r\n 24   8   long VolatileLong2.p1          N/A\r\n 32   8   long VolatileLong2.p2          N/A\r\n 40   8   long VolatileLong2.p3          N/A\r\n 48   8   long VolatileLong2.p4          N/A\r\n 56   8   long VolatileLong2.p5          N/A\r\n 64   8   long VolatileLong2.p6          N/A\r\n 72   8   long VolatileLong2.p7          N/A\r\n 80   8   long VolatileLong2.p10         N/A\r\n 88   8   long VolatileLong2.p11         N/A\r\n 96   8   long VolatileLong2.p12         N/A\r\n104   8   long VolatileLong2.p13         N/A\r\n112   8   long VolatileLong2.p14         N/A\r\n120   8   long VolatileLong2.p15         N/A\r\n128   8   long VolatileLong2.p16         N/A\r\n136   8   long VolatileLong2.p17         N/A\r\n144   8   long VolatileLong2.value       N/A\r\n152   8   long VolatileLong2.q0          N/A\r\n160   8   long VolatileLong2.q1          N/A\r\n168   8   long VolatileLong2.q2          N/A\r\n176   8   long VolatileLong2.q3          N/A\r\n184   8   long VolatileLong2.q4          N/A\r\n192   8   long VolatileLong2.q5          N/A\r\n200   8   long VolatileLong2.q6          N/A\r\n208   8   long VolatileLong2.q7          N/A\r\n216   8   long VolatileLong2.q10         N/A\r\n224   8   long VolatileLong2.q11         N/A\r\n232   8   long VolatileLong2.q12         N/A\r\n240   8   long VolatileLong2.q13         N/A\r\n248   8   long VolatileLong2.q14         N/A\r\n256   8   long VolatileLong2.q15         N/A\r\n264   8   long VolatileLong2.q16         N/A\r\n272   8   long VolatileLong2.q17         N/A\r\nInstance size: 280 bytes\r\nSpace losses: 4 bytes internal + 0 bytes external = 4 bytes total\r\n\r\nvolatile3 layout: \r\ncn.windery.learning.jvm.cache.FalseSharing$VolatileLong3 object internals:\r\nOFF  SZ   TYPE DESCRIPTION               VALUE\r\n  0   8        (object header: mark)     N/A\r\n  8   4        (object header: class)    N/A\r\n 12 132        (alignment/padding gap)   \r\n144   8   long VolatileLong3.value       N/A\r\nInstance size: 152 bytes\r\nSpace losses: 132 bytes internal + 0 bytes external = 132 bytes total\r\n\r\nduration = 319432958\r\n```","title":"@Contended annotation did not add padding bytes on zulu jdk8?","body":"<p>That was my silly mistake.<br />\nI used Intellij idea Program arguments to add the <code>-XX:-RestrictContended</code> in Run Configuration. But it should be VM option.<br />\nIn default, it's not showing. I added the option there and it works now.</p>\n<p>Here is the final output:</p>\n<pre><code>volatile1 layout: \n# WARNING: Unable to attach Serviceability Agent. Unable to attach even with module exceptions: [org.openjdk.jol.vm.sa.SASupportException: Sense failed., org.openjdk.jol.vm.sa.SASupportException: Sense failed., org.openjdk.jol.vm.sa.SASupportException: Sense failed.]\ncn.windery.learning.jvm.cache.FalseSharing$VolatileLong1 object internals:\nOFF  SZ   TYPE DESCRIPTION               VALUE\n  0   8        (object header: mark)     N/A\n  8   4        (object header: class)    N/A\n 12   4        (alignment/padding gap)   \n 16   8   long VolatileLong1.value       N/A\nInstance size: 24 bytes\nSpace losses: 4 bytes internal + 0 bytes external = 4 bytes total\n\nvolatile2 layout: \ncn.windery.learning.jvm.cache.FalseSharing$VolatileLong2 object internals:\nOFF  SZ   TYPE DESCRIPTION               VALUE\n  0   8        (object header: mark)     N/A\n  8   4        (object header: class)    N/A\n 12   4        (alignment/padding gap)   \n 16   8   long VolatileLong2.p0          N/A\n 24   8   long VolatileLong2.p1          N/A\n 32   8   long VolatileLong2.p2          N/A\n 40   8   long VolatileLong2.p3          N/A\n 48   8   long VolatileLong2.p4          N/A\n 56   8   long VolatileLong2.p5          N/A\n 64   8   long VolatileLong2.p6          N/A\n 72   8   long VolatileLong2.p7          N/A\n 80   8   long VolatileLong2.p10         N/A\n 88   8   long VolatileLong2.p11         N/A\n 96   8   long VolatileLong2.p12         N/A\n104   8   long VolatileLong2.p13         N/A\n112   8   long VolatileLong2.p14         N/A\n120   8   long VolatileLong2.p15         N/A\n128   8   long VolatileLong2.p16         N/A\n136   8   long VolatileLong2.p17         N/A\n144   8   long VolatileLong2.value       N/A\n152   8   long VolatileLong2.q0          N/A\n160   8   long VolatileLong2.q1          N/A\n168   8   long VolatileLong2.q2          N/A\n176   8   long VolatileLong2.q3          N/A\n184   8   long VolatileLong2.q4          N/A\n192   8   long VolatileLong2.q5          N/A\n200   8   long VolatileLong2.q6          N/A\n208   8   long VolatileLong2.q7          N/A\n216   8   long VolatileLong2.q10         N/A\n224   8   long VolatileLong2.q11         N/A\n232   8   long VolatileLong2.q12         N/A\n240   8   long VolatileLong2.q13         N/A\n248   8   long VolatileLong2.q14         N/A\n256   8   long VolatileLong2.q15         N/A\n264   8   long VolatileLong2.q16         N/A\n272   8   long VolatileLong2.q17         N/A\nInstance size: 280 bytes\nSpace losses: 4 bytes internal + 0 bytes external = 4 bytes total\n\nvolatile3 layout: \ncn.windery.learning.jvm.cache.FalseSharing$VolatileLong3 object internals:\nOFF  SZ   TYPE DESCRIPTION               VALUE\n  0   8        (object header: mark)     N/A\n  8   4        (object header: class)    N/A\n 12 132        (alignment/padding gap)   \n144   8   long VolatileLong3.value       N/A\nInstance size: 152 bytes\nSpace losses: 132 bytes internal + 0 bytes external = 132 bytes total\n\nduration = 319432958\n</code></pre>\n"}],"owner":{"account_id":7414336,"reputation":149,"user_id":5640692,"display_name":"OutOfFoodException"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643079074,"creation_date":1643009311,"question_id":70830324,"body_markdown":"**goal**:  Test false sharing in java\r\n\r\n**problem**: I added the @Contended annotation on field but class layout dit not show the padding bytes. And false sharing still happened.  \r\nI have 3 tests:  \r\n\r\n 1. no padding  \r\n 2. add long variables as  padding bytes  \r\n 3. use @Contended annotation to add padding bytes\r\n\r\n**Enviroment**: \r\n* macos Monterey 12.1  MacBookPro m1 max\r\n* OpenJDK Runtime Environment (Zulu 8.52.0.23-CA-macos-aarch64) (build 1.8.0_282-b08)\r\n\r\nps: I have already tried to add the `-XX:-RestrictContended` option and still not working.\r\n\r\nHere is my test code :\r\n```java  \r\npublic class FalseSharing {\r\n    public final static int NUM_THREADS = 4; // change\r\n\r\n    public static class FalseSharingTestBase {\r\n        public final static long ITERATIONS = 500*1000*1000L;\r\n\r\n        protected final int arrayIndex;\r\n\r\n\r\n        public FalseSharingTestBase(final int arrayIndex) {\r\n            this.arrayIndex = arrayIndex;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    static class TestCase1 extends FalseSharingTestBase implements Runnable {\r\n\r\n        protected static VolatileLong1[] longs1 = new VolatileLong1[NUM_THREADS];\r\n\r\n        static {\r\n            for (int i = 0; i &lt; longs1.length; i++) {\r\n                longs1[i] = new VolatileLong1();\r\n            }\r\n        }\r\n\r\n        public TestCase1(int arrayIndex) {\r\n            super(arrayIndex);\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            long i = ITERATIONS + 1;\r\n            while (0 != --i) {\r\n                longs1[arrayIndex].value = i;\r\n            }\r\n        }\r\n    }\r\n\r\n    static class TestCase2 extends FalseSharingTestBase implements Runnable {\r\n\r\n        protected static VolatileLong2[] longs2 = new VolatileLong2[NUM_THREADS];\r\n        static {\r\n            for (int i = 0; i &lt; longs2.length; i++) {\r\n                longs2[i] = new VolatileLong2();\r\n            }\r\n        }\r\n        public TestCase2(int arrayIndex) {\r\n            super(arrayIndex);\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            long i = ITERATIONS + 1;\r\n            while (0 != --i) {\r\n                longs2[arrayIndex].value = i;\r\n            }\r\n        }\r\n    }\r\n\r\n    static class TestCase3 extends FalseSharingTestBase implements Runnable {\r\n\r\n        protected static VolatileLong3[] longs3 = new VolatileLong3[NUM_THREADS];\r\n        static {\r\n            for (int i = 0; i &lt; longs3.length; i++) {\r\n                longs3[i] = new VolatileLong3();\r\n            }\r\n\r\n        }\r\n        public TestCase3(int arrayIndex) {\r\n            super(arrayIndex);\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            long i = ITERATIONS + 1;\r\n            while (0 &lt;= --i) {\r\n                longs3[arrayIndex].value = i;\r\n            }\r\n        }\r\n    }\r\n\r\n    public final static class VolatileLong1 {\r\n        public volatile long value = 0L;\r\n    }\r\n\r\n    // long padding避免false sharing\r\n    public final static class VolatileLong2 {\r\n        volatile long p0, p1, p2, p3, p4, p5, p6, p7;\r\n        volatile long p10, p11, p12, p13, p14, p15, p16, p17;\r\n        public volatile long value = 0L;\r\n        volatile long q0, q1, q2, q3, q4, q5, q6, q7;\r\n        volatile long q10, q11, q12, q13, q14, q15, q16, q17;\r\n    }\r\n\r\n    public final static class VolatileLong3 {\r\n        @sun.misc.Contended\r\n        public volatile long value = 0L;\r\n    }\r\n\r\n    public static void main(final String[] args) throws Exception {\r\n        System.out.println(&quot;volatile1 layout: &quot;);\r\n        ObjectUtil.printCls(VolatileLong1.class);\r\n\r\n        System.out.println(&quot;volatile2 layout: &quot;);\r\n        ObjectUtil.printCls(VolatileLong2.class);\r\n\r\n        System.out.println(&quot;volatile3 layout: &quot;);\r\n        ObjectUtil.printCls(VolatileLong3.class);\r\n\r\n        long start = System.nanoTime();\r\n\r\n        Thread[] threads = new Thread[NUM_THREADS];\r\n\r\n        for (int i = 0; i &lt; threads.length; i++) {\r\n//            threads[i] = new Thread(new TestCase1(i));\r\n//            threads[i] = new Thread(new TestCase2(i));\r\n            threads[i] = new Thread(new TestCase3(i));\r\n        }\r\n\r\n        for (Thread t : threads) {\r\n            t.start();\r\n        }\r\n\r\n        for (Thread t : threads) {\r\n            t.join();\r\n        }\r\n\r\n        System.out.println(&quot;duration = &quot; + (System.nanoTime() - start));\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nOutput:\r\n```\r\nvolatile1 layout: \r\n# WARNING: Unable to attach Serviceability Agent. Unable to attach even with module exceptions: [org.openjdk.jol.vm.sa.SASupportException: Sense failed., org.openjdk.jol.vm.sa.SASupportException: Sense failed., org.openjdk.jol.vm.sa.SASupportException: Sense failed.]\r\ncn.windery.learning.jvm.cache.FalseSharing$VolatileLong1 object internals:\r\nOFF  SZ   TYPE DESCRIPTION               VALUE\r\n  0   8        (object header: mark)     N/A\r\n  8   4        (object header: class)    N/A\r\n 12   4        (alignment/padding gap)   \r\n 16   8   long VolatileLong1.value       N/A\r\nInstance size: 24 bytes\r\nSpace losses: 4 bytes internal + 0 bytes external = 4 bytes total\r\n\r\nvolatile2 layout: \r\ncn.windery.learning.jvm.cache.FalseSharing$VolatileLong2 object internals:\r\nOFF  SZ   TYPE DESCRIPTION               VALUE\r\n  0   8        (object header: mark)     N/A\r\n  8   4        (object header: class)    N/A\r\n 12   4        (alignment/padding gap)   \r\n 16   8   long VolatileLong2.p0          N/A\r\n 24   8   long VolatileLong2.p1          N/A\r\n 32   8   long VolatileLong2.p2          N/A\r\n 40   8   long VolatileLong2.p3          N/A\r\n 48   8   long VolatileLong2.p4          N/A\r\n 56   8   long VolatileLong2.p5          N/A\r\n 64   8   long VolatileLong2.p6          N/A\r\n 72   8   long VolatileLong2.p7          N/A\r\n 80   8   long VolatileLong2.p10         N/A\r\n 88   8   long VolatileLong2.p11         N/A\r\n 96   8   long VolatileLong2.p12         N/A\r\n104   8   long VolatileLong2.p13         N/A\r\n112   8   long VolatileLong2.p14         N/A\r\n120   8   long VolatileLong2.p15         N/A\r\n128   8   long VolatileLong2.p16         N/A\r\n136   8   long VolatileLong2.p17         N/A\r\n144   8   long VolatileLong2.value       N/A\r\n152   8   long VolatileLong2.q0          N/A\r\n160   8   long VolatileLong2.q1          N/A\r\n168   8   long VolatileLong2.q2          N/A\r\n176   8   long VolatileLong2.q3          N/A\r\n184   8   long VolatileLong2.q4          N/A\r\n192   8   long VolatileLong2.q5          N/A\r\n200   8   long VolatileLong2.q6          N/A\r\n208   8   long VolatileLong2.q7          N/A\r\n216   8   long VolatileLong2.q10         N/A\r\n224   8   long VolatileLong2.q11         N/A\r\n232   8   long VolatileLong2.q12         N/A\r\n240   8   long VolatileLong2.q13         N/A\r\n248   8   long VolatileLong2.q14         N/A\r\n256   8   long VolatileLong2.q15         N/A\r\n264   8   long VolatileLong2.q16         N/A\r\n272   8   long VolatileLong2.q17         N/A\r\nInstance size: 280 bytes\r\nSpace losses: 4 bytes internal + 0 bytes external = 4 bytes total\r\n\r\nvolatile3 layout: \r\ncn.windery.learning.jvm.cache.FalseSharing$VolatileLong3 object internals:\r\nOFF  SZ   TYPE DESCRIPTION               VALUE\r\n  0   8        (object header: mark)     N/A\r\n  8   4        (object header: class)    N/A\r\n 12   4        (alignment/padding gap)   \r\n 16   8   long VolatileLong3.value       N/A\r\nInstance size: 24 bytes\r\nSpace losses: 4 bytes internal + 0 bytes external = 4 bytes total\r\n\r\nduration = 1468214167\r\n```","title":"@Contended annotation did not add padding bytes on zulu jdk8?","body":"<p><strong>goal</strong>:  Test false sharing in java</p>\n<p><strong>problem</strong>: I added the @Contended annotation on field but class layout dit not show the padding bytes. And false sharing still happened.<br />\nI have 3 tests:</p>\n<ol>\n<li>no padding</li>\n<li>add long variables as  padding bytes</li>\n<li>use @Contended annotation to add padding bytes</li>\n</ol>\n<p><strong>Enviroment</strong>:</p>\n<ul>\n<li>macos Monterey 12.1  MacBookPro m1 max</li>\n<li>OpenJDK Runtime Environment (Zulu 8.52.0.23-CA-macos-aarch64) (build 1.8.0_282-b08)</li>\n</ul>\n<p>ps: I have already tried to add the <code>-XX:-RestrictContended</code> option and still not working.</p>\n<p>Here is my test code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FalseSharing {\n    public final static int NUM_THREADS = 4; // change\n\n    public static class FalseSharingTestBase {\n        public final static long ITERATIONS = 500*1000*1000L;\n\n        protected final int arrayIndex;\n\n\n        public FalseSharingTestBase(final int arrayIndex) {\n            this.arrayIndex = arrayIndex;\n        }\n\n\n    }\n\n    static class TestCase1 extends FalseSharingTestBase implements Runnable {\n\n        protected static VolatileLong1[] longs1 = new VolatileLong1[NUM_THREADS];\n\n        static {\n            for (int i = 0; i &lt; longs1.length; i++) {\n                longs1[i] = new VolatileLong1();\n            }\n        }\n\n        public TestCase1(int arrayIndex) {\n            super(arrayIndex);\n        }\n\n        @Override\n        public void run() {\n            long i = ITERATIONS + 1;\n            while (0 != --i) {\n                longs1[arrayIndex].value = i;\n            }\n        }\n    }\n\n    static class TestCase2 extends FalseSharingTestBase implements Runnable {\n\n        protected static VolatileLong2[] longs2 = new VolatileLong2[NUM_THREADS];\n        static {\n            for (int i = 0; i &lt; longs2.length; i++) {\n                longs2[i] = new VolatileLong2();\n            }\n        }\n        public TestCase2(int arrayIndex) {\n            super(arrayIndex);\n        }\n\n        @Override\n        public void run() {\n            long i = ITERATIONS + 1;\n            while (0 != --i) {\n                longs2[arrayIndex].value = i;\n            }\n        }\n    }\n\n    static class TestCase3 extends FalseSharingTestBase implements Runnable {\n\n        protected static VolatileLong3[] longs3 = new VolatileLong3[NUM_THREADS];\n        static {\n            for (int i = 0; i &lt; longs3.length; i++) {\n                longs3[i] = new VolatileLong3();\n            }\n\n        }\n        public TestCase3(int arrayIndex) {\n            super(arrayIndex);\n        }\n\n        @Override\n        public void run() {\n            long i = ITERATIONS + 1;\n            while (0 &lt;= --i) {\n                longs3[arrayIndex].value = i;\n            }\n        }\n    }\n\n    public final static class VolatileLong1 {\n        public volatile long value = 0L;\n    }\n\n    // long padding避免false sharing\n    public final static class VolatileLong2 {\n        volatile long p0, p1, p2, p3, p4, p5, p6, p7;\n        volatile long p10, p11, p12, p13, p14, p15, p16, p17;\n        public volatile long value = 0L;\n        volatile long q0, q1, q2, q3, q4, q5, q6, q7;\n        volatile long q10, q11, q12, q13, q14, q15, q16, q17;\n    }\n\n    public final static class VolatileLong3 {\n        @sun.misc.Contended\n        public volatile long value = 0L;\n    }\n\n    public static void main(final String[] args) throws Exception {\n        System.out.println(&quot;volatile1 layout: &quot;);\n        ObjectUtil.printCls(VolatileLong1.class);\n\n        System.out.println(&quot;volatile2 layout: &quot;);\n        ObjectUtil.printCls(VolatileLong2.class);\n\n        System.out.println(&quot;volatile3 layout: &quot;);\n        ObjectUtil.printCls(VolatileLong3.class);\n\n        long start = System.nanoTime();\n\n        Thread[] threads = new Thread[NUM_THREADS];\n\n        for (int i = 0; i &lt; threads.length; i++) {\n//            threads[i] = new Thread(new TestCase1(i));\n//            threads[i] = new Thread(new TestCase2(i));\n            threads[i] = new Thread(new TestCase3(i));\n        }\n\n        for (Thread t : threads) {\n            t.start();\n        }\n\n        for (Thread t : threads) {\n            t.join();\n        }\n\n        System.out.println(&quot;duration = &quot; + (System.nanoTime() - start));\n    }\n\n}\n\n</code></pre>\n<p>Output:</p>\n<pre><code>volatile1 layout: \n# WARNING: Unable to attach Serviceability Agent. Unable to attach even with module exceptions: [org.openjdk.jol.vm.sa.SASupportException: Sense failed., org.openjdk.jol.vm.sa.SASupportException: Sense failed., org.openjdk.jol.vm.sa.SASupportException: Sense failed.]\ncn.windery.learning.jvm.cache.FalseSharing$VolatileLong1 object internals:\nOFF  SZ   TYPE DESCRIPTION               VALUE\n  0   8        (object header: mark)     N/A\n  8   4        (object header: class)    N/A\n 12   4        (alignment/padding gap)   \n 16   8   long VolatileLong1.value       N/A\nInstance size: 24 bytes\nSpace losses: 4 bytes internal + 0 bytes external = 4 bytes total\n\nvolatile2 layout: \ncn.windery.learning.jvm.cache.FalseSharing$VolatileLong2 object internals:\nOFF  SZ   TYPE DESCRIPTION               VALUE\n  0   8        (object header: mark)     N/A\n  8   4        (object header: class)    N/A\n 12   4        (alignment/padding gap)   \n 16   8   long VolatileLong2.p0          N/A\n 24   8   long VolatileLong2.p1          N/A\n 32   8   long VolatileLong2.p2          N/A\n 40   8   long VolatileLong2.p3          N/A\n 48   8   long VolatileLong2.p4          N/A\n 56   8   long VolatileLong2.p5          N/A\n 64   8   long VolatileLong2.p6          N/A\n 72   8   long VolatileLong2.p7          N/A\n 80   8   long VolatileLong2.p10         N/A\n 88   8   long VolatileLong2.p11         N/A\n 96   8   long VolatileLong2.p12         N/A\n104   8   long VolatileLong2.p13         N/A\n112   8   long VolatileLong2.p14         N/A\n120   8   long VolatileLong2.p15         N/A\n128   8   long VolatileLong2.p16         N/A\n136   8   long VolatileLong2.p17         N/A\n144   8   long VolatileLong2.value       N/A\n152   8   long VolatileLong2.q0          N/A\n160   8   long VolatileLong2.q1          N/A\n168   8   long VolatileLong2.q2          N/A\n176   8   long VolatileLong2.q3          N/A\n184   8   long VolatileLong2.q4          N/A\n192   8   long VolatileLong2.q5          N/A\n200   8   long VolatileLong2.q6          N/A\n208   8   long VolatileLong2.q7          N/A\n216   8   long VolatileLong2.q10         N/A\n224   8   long VolatileLong2.q11         N/A\n232   8   long VolatileLong2.q12         N/A\n240   8   long VolatileLong2.q13         N/A\n248   8   long VolatileLong2.q14         N/A\n256   8   long VolatileLong2.q15         N/A\n264   8   long VolatileLong2.q16         N/A\n272   8   long VolatileLong2.q17         N/A\nInstance size: 280 bytes\nSpace losses: 4 bytes internal + 0 bytes external = 4 bytes total\n\nvolatile3 layout: \ncn.windery.learning.jvm.cache.FalseSharing$VolatileLong3 object internals:\nOFF  SZ   TYPE DESCRIPTION               VALUE\n  0   8        (object header: mark)     N/A\n  8   4        (object header: class)    N/A\n 12   4        (alignment/padding gap)   \n 16   8   long VolatileLong3.value       N/A\nInstance size: 24 bytes\nSpace losses: 4 bytes internal + 0 bytes external = 4 bytes total\n\nduration = 1468214167\n</code></pre>\n"},{"tags":["java","list","loops"],"comments":[{"owner":{"account_id":2493825,"reputation":1697,"user_id":2170766,"display_name":"RamPrakash"},"score":0,"creation_date":1463680064,"post_id":37330551,"comment_id":62179684,"body_markdown":"please refer to following link https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#contains(java.lang.Object)","body":"please refer to following link <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":1890249,"reputation":1366,"user_id":1708543,"accept_rate":50,"display_name":"JimmyJames"},"score":0,"creation_date":1463680274,"post_id":37330551,"comment_id":62179815,"body_markdown":"Are you trying to find whether the list contains the string &#39;banana&#39; or if any of the strings in the list contain the substring &#39;banana&#39;?","body":"Are you trying to find whether the list contains the string &#39;banana&#39; or if any of the strings in the list contain the substring &#39;banana&#39;?"},{"owner":{"account_id":1322334,"reputation":213,"user_id":1267879,"display_name":"DjShon"},"score":0,"creation_date":1463681865,"post_id":37330551,"comment_id":62180715,"body_markdown":"@JimmyJames, i&#39;m trying to find if the list contains &quot;banana&quot; not substring... If that makes sense","body":"@JimmyJames, i&#39;m trying to find if the list contains &quot;banana&quot; not substring... If that makes sense"}],"answers":[{"tags":[],"owner":{"account_id":3057093,"reputation":4529,"user_id":2590478,"display_name":"MidasLefko"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1463680859,"creation_date":1463680271,"answer_id":37330651,"question_id":37330551,"body_markdown":"Try using a boolean to detect whether you have found the fruit in your list of fruits. Something like this:\r\n\r\n    boolean inlist = false;\r\n    \r\n    for(int i = 0; i &lt; fruit.size(); i++){\r\n       if(fruit.get(i).equals(&quot;banana&quot;){\r\n            inlist = true\r\n            break;\r\n       }\r\n    }\r\n    \r\n    if (inlist) {\r\n        System.out.println(&quot;found&quot;);\r\n    } else {\r\n        throw new SkipException(&quot;not found&quot;);\r\n    }","title":"How to check whether a List&lt;String&gt; contains a specific string?","body":"<p>Try using a boolean to detect whether you have found the fruit in your list of fruits. Something like this:</p>\n\n<pre><code>boolean inlist = false;\n\nfor(int i = 0; i &lt; fruit.size(); i++){\n   if(fruit.get(i).equals(\"banana\"){\n        inlist = true\n        break;\n   }\n}\n\nif (inlist) {\n    System.out.println(\"found\");\n} else {\n    throw new SkipException(\"not found\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4989380,"reputation":3490,"user_id":4012073,"accept_rate":88,"display_name":"Imesha Sudasingha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463680305,"creation_date":1463680305,"answer_id":37330657,"question_id":37330551,"body_markdown":"You don&#39;t have to iterate through the array list. Once you call `list.contains(&quot;someString&quot;)`, it will check for that string in that entire array list. Therefore, the following is enough.\r\n\r\n    if(fruit.contains(&quot;banana&quot;){\r\n         System.out.println(&quot;Found&quot;);\r\n    } else {\r\n         throw new SkipException(&quot;could not be found&quot;);\r\n    }","title":"How to check whether a List&lt;String&gt; contains a specific string?","body":"<p>You don't have to iterate through the array list. Once you call <code>list.contains(\"someString\")</code>, it will check for that string in that entire array list. Therefore, the following is enough.</p>\n\n<pre><code>if(fruit.contains(\"banana\"){\n     System.out.println(\"Found\");\n} else {\n     throw new SkipException(\"could not be found\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31954,"reputation":31434,"user_id":88111,"accept_rate":89,"display_name":"Craig Otis"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1605554033,"creation_date":1463680348,"answer_id":37330675,"question_id":37330551,"body_markdown":"**There are a few ways.**\r\n\r\nWhich one you choose is up to you, there&#39;s a tradeoff between verbosity, being constrained to a simple equals check (if you want to do more complicated matching, you can&#39;t easily do Option 1), and using newer APIs that you might not yet support or be familiar with.\r\n\r\n**Option 1**: *The [Collection.contains()][1] method:*\r\n\r\n    List&lt;String&gt; fruits = new ArrayList&lt;&gt;();\r\n    fruits.add(&quot;apple&quot;);\r\n    fruits.add(&quot;orange&quot;);\r\n    fruits.add(&quot;banana&quot;);\r\n    \r\n    if (fruits.contains(&quot;banana&quot;) {\r\n        System.out.println(&quot;Found&quot;);\r\n    } else {\r\n        throw new SkipException(&quot;could not be found&quot;);\r\n    }\r\n\r\n**Option 2**: *Using a `for` loop with external state:*\r\n\r\n    List&lt;String&gt; fruits = new ArrayList&lt;&gt;();\r\n    fruits.add(&quot;apple&quot;);\r\n    fruits.add(&quot;orange&quot;);\r\n    fruits.add(&quot;banana&quot;);\r\n    \r\n    boolean found = false;\r\n    for (String s : fruits) {\r\n        if (s.equals(&quot;banana&quot;)) {\r\n            found = true;\r\n            break; // Break out of the loop to skip the remaining items\r\n        }\r\n    }\r\n    if (found) {\r\n        System.out.println(&quot;Found&quot;);\r\n    } else {\r\n        throw new SkipException(&quot;could not be found&quot;);\r\n    }\r\n\r\n**Option 3**: *If you&#39;re using Java 8, the neat [Stream.anyMatch()][2] method:*\r\n\r\n    List&lt;String&gt; fruits = new ArrayList&lt;&gt;();\r\n    fruits.add(&quot;apple&quot;);\r\n    fruits.add(&quot;orange&quot;);\r\n    fruits.add(&quot;banana&quot;);\r\n    \r\n    if (fruits.stream().anyMatch(s -&gt; s.equals(&quot;banana&quot;))) {\r\n        System.out.println(&quot;Found&quot;);\r\n    } else {\r\n        throw new SkipException(&quot;could not be found&quot;);\r\n    }\r\n\r\nOption 3 is my personal favorite, as it&#39;s nearly as compact as Option 1, but allows to to provide a more complex [Predicate][3] if you want a comparison based on something other than the `equals()` method.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#contains-java.lang.Object-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html","title":"How to check whether a List&lt;String&gt; contains a specific string?","body":"<p><strong>There are a few ways.</strong></p>\n<p>Which one you choose is up to you, there's a tradeoff between verbosity, being constrained to a simple equals check (if you want to do more complicated matching, you can't easily do Option 1), and using newer APIs that you might not yet support or be familiar with.</p>\n<p><strong>Option 1</strong>: <em>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#contains-java.lang.Object-\" rel=\"noreferrer\">Collection.contains()</a> method:</em></p>\n<pre><code>List&lt;String&gt; fruits = new ArrayList&lt;&gt;();\nfruits.add(&quot;apple&quot;);\nfruits.add(&quot;orange&quot;);\nfruits.add(&quot;banana&quot;);\n\nif (fruits.contains(&quot;banana&quot;) {\n    System.out.println(&quot;Found&quot;);\n} else {\n    throw new SkipException(&quot;could not be found&quot;);\n}\n</code></pre>\n<p><strong>Option 2</strong>: <em>Using a <code>for</code> loop with external state:</em></p>\n<pre><code>List&lt;String&gt; fruits = new ArrayList&lt;&gt;();\nfruits.add(&quot;apple&quot;);\nfruits.add(&quot;orange&quot;);\nfruits.add(&quot;banana&quot;);\n\nboolean found = false;\nfor (String s : fruits) {\n    if (s.equals(&quot;banana&quot;)) {\n        found = true;\n        break; // Break out of the loop to skip the remaining items\n    }\n}\nif (found) {\n    System.out.println(&quot;Found&quot;);\n} else {\n    throw new SkipException(&quot;could not be found&quot;);\n}\n</code></pre>\n<p><strong>Option 3</strong>: <em>If you're using Java 8, the neat <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\" rel=\"noreferrer\">Stream.anyMatch()</a> method:</em></p>\n<pre><code>List&lt;String&gt; fruits = new ArrayList&lt;&gt;();\nfruits.add(&quot;apple&quot;);\nfruits.add(&quot;orange&quot;);\nfruits.add(&quot;banana&quot;);\n\nif (fruits.stream().anyMatch(s -&gt; s.equals(&quot;banana&quot;))) {\n    System.out.println(&quot;Found&quot;);\n} else {\n    throw new SkipException(&quot;could not be found&quot;);\n}\n</code></pre>\n<p>Option 3 is my personal favorite, as it's nearly as compact as Option 1, but allows to to provide a more complex <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\" rel=\"noreferrer\">Predicate</a> if you want a comparison based on something other than the <code>equals()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":6736971,"reputation":785,"user_id":5191405,"accept_rate":86,"display_name":"Syed Haris Ali Ghaznavi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643078877,"creation_date":1463680417,"answer_id":37330695,"question_id":37330551,"body_markdown":"try using this\r\nif at any index the value is equal to &quot;banana&quot; and it will print found else it will throw exception \r\n        \r\n        \r\n       List&lt;String&gt; fruit = new ArrayList&lt;&gt;();\r\n       fruit.add(&quot;apple&quot;);\r\n       fruit.add(&quot;orange&quot;);\r\n       fruit.add(&quot;banana&quot;);\r\n\r\n       boolean result;\r\n       for(int i = 0; i &lt; fruit.size(); i++){\r\n          result = fruit.get(i).equals(&quot;banana&quot;);\r\n          if(result){\r\n            break; // Early exit if found\r\n          }\r\n       }\r\n\r\n       if(result){\r\n          System.out.println(&quot;Found&quot;);\r\n       } else {\r\n          throw new SkipException(&quot;could not be found&quot;);\r\n       }\r\n\r\nSolution 2:\r\nwhen working with arraylists you dont need to iterate through every index manually rather arraylist gives you a function &quot;contains()&quot; that will automatically check if the desired value is present at any index or not so simply you can do this:\r\n        \r\n        if(fruit.contains(&quot;banana&quot;){\r\n             System.out.println(&quot;Found&quot;);\r\n        } else {\r\n             throw new SkipException(&quot;could not be found&quot;);\r\n         }\r\n","title":"How to check whether a List&lt;String&gt; contains a specific string?","body":"<p>try using this\nif at any index the value is equal to &quot;banana&quot; and it will print found else it will throw exception</p>\n<pre><code>   List&lt;String&gt; fruit = new ArrayList&lt;&gt;();\n   fruit.add(&quot;apple&quot;);\n   fruit.add(&quot;orange&quot;);\n   fruit.add(&quot;banana&quot;);\n\n   boolean result;\n   for(int i = 0; i &lt; fruit.size(); i++){\n      result = fruit.get(i).equals(&quot;banana&quot;);\n      if(result){\n        break; // Early exit if found\n      }\n   }\n\n   if(result){\n      System.out.println(&quot;Found&quot;);\n   } else {\n      throw new SkipException(&quot;could not be found&quot;);\n   }\n</code></pre>\n<p>Solution 2:\nwhen working with arraylists you dont need to iterate through every index manually rather arraylist gives you a function &quot;contains()&quot; that will automatically check if the desired value is present at any index or not so simply you can do this:</p>\n<pre><code>    if(fruit.contains(&quot;banana&quot;){\n         System.out.println(&quot;Found&quot;);\n    } else {\n         throw new SkipException(&quot;could not be found&quot;);\n     }\n</code></pre>\n"}],"owner":{"account_id":1322334,"reputation":213,"user_id":1267879,"display_name":"DjShon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61654,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":37330675,"answer_count":4,"score":12,"last_activity_date":1643078877,"creation_date":1463680000,"question_id":37330551,"body_markdown":"Here&#39;s what I&#39;m trying to do:\r\nI have some `List&lt;String&gt;`, I want to print a statement if the List contains a particular string, else throw an Exception but when I try the following code\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    List&lt;String&gt; fruit = new ArrayList&lt;&gt;();\r\n    fruit.add(&quot;apple&quot;);\r\n    fruit.add(&quot;orange&quot;);\r\n    fruit.add(&quot;banana&quot;);\r\n\r\n    for(int i = 0; i &lt; fruit.size(); i++){\r\n       if(fruit.get(i).contains(&quot;banana&quot;){\r\n         System.out.println(&quot;Found&quot;);\r\n       } else {\r\n         throw new SkipException(&quot;could not be found&quot;);\r\n       }\r\n    }\r\n\r\nit iterates through the List and at `i = 0` it obviously finds &quot;apple&quot; and immediately goes to the `else` block and throws exception. I also tried the following, but this didn&#39;t work either. \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    for(int i = 0; i &lt; fruit.size(); i++){\r\n       if(Arrays.asList(fruit).contains(&quot;banana&quot;){\r\n          System.out.println(&quot;found&quot;);\r\n       }else{\r\n          throw new SkipException(&quot;not found&quot;);\r\n       }\r\n    }\r\n\r\nIs there an easy way to do what I&#39;m trying to do here?","title":"How to check whether a List&lt;String&gt; contains a specific string?","body":"<p>Here's what I'm trying to do:\nI have some <code>List&lt;String&gt;</code>, I want to print a statement if the List contains a particular string, else throw an Exception but when I try the following code</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; fruit = new ArrayList&lt;&gt;();\nfruit.add(\"apple\");\nfruit.add(\"orange\");\nfruit.add(\"banana\");\n\nfor(int i = 0; i &lt; fruit.size(); i++){\n   if(fruit.get(i).contains(\"banana\"){\n     System.out.println(\"Found\");\n   } else {\n     throw new SkipException(\"could not be found\");\n   }\n}\n</code></pre>\n\n<p>it iterates through the List and at <code>i = 0</code> it obviously finds \"apple\" and immediately goes to the <code>else</code> block and throws exception. I also tried the following, but this didn't work either. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0; i &lt; fruit.size(); i++){\n   if(Arrays.asList(fruit).contains(\"banana\"){\n      System.out.println(\"found\");\n   }else{\n      throw new SkipException(\"not found\");\n   }\n}\n</code></pre>\n\n<p>Is there an easy way to do what I'm trying to do here?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","kubernetes","amazon-ec2"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":1,"creation_date":1642726259,"post_id":70794865,"comment_id":125155263,"body_markdown":"When you say &quot;*taking the role that is assigned to node eks*&quot;, I am confused because [*node*](https://kubernetes.io/docs/concepts/architecture/nodes/) has a specific meaning in Kubernetes. Do you mean [IAM roles for service accounts](https://docs.aws.amazon.com/eks/latest/userguide/iam-roles-for-service-accounts.html)?","body":"When you say &quot;<i>taking the role that is assigned to node eks</i>&quot;, I am confused because <a href=\"https://kubernetes.io/docs/concepts/architecture/nodes/\" rel=\"nofollow noreferrer\"><i>node</i></a> has a specific meaning in Kubernetes. Do you mean <a href=\"https://docs.aws.amazon.com/eks/latest/userguide/iam-roles-for-service-accounts.html\" rel=\"nofollow noreferrer\">IAM roles for service accounts</a>?"},{"owner":{"account_id":16139646,"reputation":131,"user_id":13041893,"display_name":"Bryan Motta"},"score":0,"creation_date":1642782978,"post_id":70794865,"comment_id":125171759,"body_markdown":"I updated the question. Yes we are using IAM roles for service accounts","body":"I updated the question. Yes we are using IAM roles for service accounts"}],"answers":[{"tags":[],"owner":{"account_id":16139646,"reputation":131,"user_id":13041893,"display_name":"Bryan Motta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643078587,"creation_date":1643078587,"answer_id":70842850,"question_id":70794865,"body_markdown":"Adding the lib aws-java-sdk-sts to the project solved the problem\r\n\r\n    implementation group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk-sts&#39;, version: &#39;1.11.951&#39;","title":"Sdk is not using designated IRSA","body":"<p>Adding the lib aws-java-sdk-sts to the project solved the problem</p>\n<pre><code>implementation group: 'com.amazonaws', name: 'aws-java-sdk-sts', version: '1.11.951'\n</code></pre>\n"}],"owner":{"account_id":16139646,"reputation":131,"user_id":13041893,"display_name":"Bryan Motta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70842850,"answer_count":1,"score":0,"last_activity_date":1643078587,"creation_date":1642723477,"question_id":70794865,"body_markdown":"Aws sdk getting instance credential from eks instead of ec2\r\n\r\nI&#39;m using spring cloud aws to send send messages to an sns, and local the [credential chain][1] work fine with a .aws/credentials file. However in the cloud it is not being that easy.\r\n\r\nFor cloud deployment, we are using IAM roles for service accounts. In the SDK [doc][1], the credential chain assumes this role if no other is found.\r\n\r\nThis would be the easy way, but it doesn&#39;t happen, when spring is up it somehow is taking the role that is assigned to node eks, which in theory it shouldn&#39;t even fill, which is not correct and causes a permission error when i use sns.\r\n\r\n    software.amazon.awssdk.services.sns.model.AuthorizationErrorException: User: arn:aws:sts::*******:assumed-role/eksctl-*******-eks-qa-nodegroup-spo-NodeInstanceRole-*******/i-******* is not authorized to perform: SNS:ListTopics\r\n\r\nI&#39;ve tried several ways to get it right, including\r\n\r\n\r\n    @Bean\r\n    @Primary\r\n    public AmazonSNS amazonSns() {\r\n        return AmazonSNSClientBuilder.standard()\r\n                .withCredentials(new InstanceProfileCredentialsProvider())\r\n                .build();\r\n    }\r\n\r\n    \r\n    cloud:\r\n          aws:\r\n            credentials:\r\n              use-default-aws-credentials-chain: true\r\n\r\nand a few others.\r\n\r\nI isolated the error, and the sdk v1 is responsible. I uploaded a code version with the pure sdk v2 without modifying anything in the environment, and it worked as it should, using the credential chain and getting the correct role.\r\n\r\nI already checked this [answer][2], and the version used by spring is 1.11.951 and with the pure sdk I used 1.12.142 . The minimum version by the [doc][3] is 1.11.704\r\n\r\nUsing the pure sdk v2 is a bit laborious and unnecessary if spring already provides this implementation, it will use it by default in [spring cloud aws V3.0][4] \r\n\r\nMy gradle.build\r\n\r\n         plugins {\r\n            id &#39;org.springframework.boot&#39; version &#39;2.6.2&#39;\r\n            id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n            id &#39;java&#39;\r\n        }\r\n    \r\n        group = &#39;com.multilaser.worker&#39;\r\n        version = &#39;0.0.1-SNAPSHOT&#39;\r\n        sourceCompatibility = &#39;17&#39;\r\n    \r\n        ext {\r\n            set(&#39;springCloudVersionAws&#39;, &quot;2.3.2&quot;)\r\n        }\r\n    \r\n        repositories {\r\n           mavenCentral()\r\n           mavenLocal()\r\n       }\r\n    \r\n         configurations {\r\n            compileOnly {\r\n               extendsFrom annotationProcessor\r\n           }\r\n       }\r\n    \r\n       dependencies {\r\n           implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n           testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n           implementation &#39;io.awspring.cloud:spring-cloud-starter-aws&#39;\r\n           implementation &#39;io.awspring.cloud:spring-cloud-starter-aws-messaging&#39;\r\n           implementation &#39;io.awspring.cloud:spring-cloud-aws-autoconfigure&#39;\r\n           compileOnly &#39;org.projectlombok:lombok&#39;\r\n           annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n           implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n           annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.4.2.Final&#39;\r\n           }\r\n    \r\n           dependencyManagement {\r\n              imports {\r\n                 mavenBom &quot;io.awspring.cloud:spring-cloud-aws-dependencies:${springCloudVersionAws}&quot;\r\n            }\r\n       }\r\n\r\ndepoy.yml\r\n\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: ----\r\n      namespace: ---\r\n      labels:\r\n        app: ---\r\n    spec:\r\n      replicas: 1\r\n      selector:\r\n        matchLabels:\r\n          app: ---\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: ---\r\n        spec:\r\n          serviceAccountName: ----\r\n          containers:\r\n          - name: ---\r\n            image: ---\r\n            imagePullPolicy: Always\r\n            resources:\r\n              requests:\r\n                memory: &quot;256Mi&quot;\r\n                cpu: &quot;80m&quot;\r\n              limits:\r\n                memory: &quot;800Mi&quot;\r\n                cpu: &quot;500m&quot;\r\n            readinessProbe:\r\n              failureThreshold: 3\r\n              httpGet:\r\n                path: /actuator/health\r\n                port: 8080\r\n                httpHeaders:\r\n                - name: X-Custom-Header\r\n                  value: ReadinessProbe\r\n              initialDelaySeconds: 30\r\n              periodSeconds: 10\r\n              successThreshold: 1\r\n              timeoutSeconds: 10\r\n            livenessProbe:\r\n              failureThreshold: 3\r\n              httpGet:\r\n                path: /actuator/health\r\n                port: 8080\r\n                httpHeaders:\r\n                - name: X-Custom-Header\r\n                  value: LivenessProbe\r\n              initialDelaySeconds: 35\r\n              periodSeconds: 15\r\n              successThreshold: 1\r\n              timeoutSeconds: 10\r\n            envFrom:\r\n              - configMapRef:\r\n                  name: ---\r\n              - secretRef:\r\n                  name: ---\r\n            ports:\r\n            - containerPort: 8080\r\n            - containerPort: 5005\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html\r\n  [2]: https://stackoverflow.com/a/70028461/13041893\r\n  [3]: https://docs.aws.amazon.com/eks/latest/userguide/iam-roles-for-service-accounts-minimum-sdk.html\r\n  [4]: https://spring.io/blog/2021/03/17/spring-cloud-aws-2-3-is-now-available","title":"Sdk is not using designated IRSA","body":"<p>Aws sdk getting instance credential from eks instead of ec2</p>\n<p>I'm using spring cloud aws to send send messages to an sns, and local the <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">credential chain</a> work fine with a .aws/credentials file. However in the cloud it is not being that easy.</p>\n<p>For cloud deployment, we are using IAM roles for service accounts. In the SDK <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">doc</a>, the credential chain assumes this role if no other is found.</p>\n<p>This would be the easy way, but it doesn't happen, when spring is up it somehow is taking the role that is assigned to node eks, which in theory it shouldn't even fill, which is not correct and causes a permission error when i use sns.</p>\n<pre><code>software.amazon.awssdk.services.sns.model.AuthorizationErrorException: User: arn:aws:sts::*******:assumed-role/eksctl-*******-eks-qa-nodegroup-spo-NodeInstanceRole-*******/i-******* is not authorized to perform: SNS:ListTopics\n</code></pre>\n<p>I've tried several ways to get it right, including</p>\n<pre><code>@Bean\n@Primary\npublic AmazonSNS amazonSns() {\n    return AmazonSNSClientBuilder.standard()\n            .withCredentials(new InstanceProfileCredentialsProvider())\n            .build();\n}\n\n\ncloud:\n      aws:\n        credentials:\n          use-default-aws-credentials-chain: true\n</code></pre>\n<p>and a few others.</p>\n<p>I isolated the error, and the sdk v1 is responsible. I uploaded a code version with the pure sdk v2 without modifying anything in the environment, and it worked as it should, using the credential chain and getting the correct role.</p>\n<p>I already checked this <a href=\"https://stackoverflow.com/a/70028461/13041893\">answer</a>, and the version used by spring is 1.11.951 and with the pure sdk I used 1.12.142 . The minimum version by the <a href=\"https://docs.aws.amazon.com/eks/latest/userguide/iam-roles-for-service-accounts-minimum-sdk.html\" rel=\"nofollow noreferrer\">doc</a> is 1.11.704</p>\n<p>Using the pure sdk v2 is a bit laborious and unnecessary if spring already provides this implementation, it will use it by default in <a href=\"https://spring.io/blog/2021/03/17/spring-cloud-aws-2-3-is-now-available\" rel=\"nofollow noreferrer\">spring cloud aws V3.0</a></p>\n<p>My gradle.build</p>\n<pre><code>     plugins {\n        id 'org.springframework.boot' version '2.6.2'\n        id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n        id 'java'\n    }\n\n    group = 'com.multilaser.worker'\n    version = '0.0.1-SNAPSHOT'\n    sourceCompatibility = '17'\n\n    ext {\n        set('springCloudVersionAws', &quot;2.3.2&quot;)\n    }\n\n    repositories {\n       mavenCentral()\n       mavenLocal()\n   }\n\n     configurations {\n        compileOnly {\n           extendsFrom annotationProcessor\n       }\n   }\n\n   dependencies {\n       implementation 'org.springframework.boot:spring-boot-starter'\n       testImplementation 'org.springframework.boot:spring-boot-starter-test'\n       implementation 'io.awspring.cloud:spring-cloud-starter-aws'\n       implementation 'io.awspring.cloud:spring-cloud-starter-aws-messaging'\n       implementation 'io.awspring.cloud:spring-cloud-aws-autoconfigure'\n       compileOnly 'org.projectlombok:lombok'\n       annotationProcessor 'org.projectlombok:lombok'\n       implementation 'org.springframework.boot:spring-boot-starter-actuator'\n       annotationProcessor 'org.mapstruct:mapstruct-processor:1.4.2.Final'\n       }\n\n       dependencyManagement {\n          imports {\n             mavenBom &quot;io.awspring.cloud:spring-cloud-aws-dependencies:${springCloudVersionAws}&quot;\n        }\n   }\n</code></pre>\n<p>depoy.yml</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: ----\n  namespace: ---\n  labels:\n    app: ---\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: ---\n  template:\n    metadata:\n      labels:\n        app: ---\n    spec:\n      serviceAccountName: ----\n      containers:\n      - name: ---\n        image: ---\n        imagePullPolicy: Always\n        resources:\n          requests:\n            memory: &quot;256Mi&quot;\n            cpu: &quot;80m&quot;\n          limits:\n            memory: &quot;800Mi&quot;\n            cpu: &quot;500m&quot;\n        readinessProbe:\n          failureThreshold: 3\n          httpGet:\n            path: /actuator/health\n            port: 8080\n            httpHeaders:\n            - name: X-Custom-Header\n              value: ReadinessProbe\n          initialDelaySeconds: 30\n          periodSeconds: 10\n          successThreshold: 1\n          timeoutSeconds: 10\n        livenessProbe:\n          failureThreshold: 3\n          httpGet:\n            path: /actuator/health\n            port: 8080\n            httpHeaders:\n            - name: X-Custom-Header\n              value: LivenessProbe\n          initialDelaySeconds: 35\n          periodSeconds: 15\n          successThreshold: 1\n          timeoutSeconds: 10\n        envFrom:\n          - configMapRef:\n              name: ---\n          - secretRef:\n              name: ---\n        ports:\n        - containerPort: 8080\n        - containerPort: 5005\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8341,"page":1651,"page_size":100}
