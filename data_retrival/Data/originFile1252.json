{"items":[{"tags":["java","unit-testing","tdd","bdd"],"answers":[{"tags":[],"owner":{"account_id":5543,"reputation":25609,"user_id":8976,"accept_rate":100,"display_name":"EricSchaefer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655625161,"creation_date":1655625161,"answer_id":72675173,"question_id":72567508,"body_markdown":"With \r\n\r\n```lang-java\r\ngiven(mMakerService.createMonster(getCreateRequest()))\r\n    .willReturn(CreateMonsterDto.TestResponse.fromEntity(defaultMonster));\r\n```\r\n\r\nyou tell the mocking framework to return the default monster from the mocked mMakerService when it is called with the request returned from `getCreateRequest()` as parameter.\r\n\r\nThen you call the mocked mMakerService inside your test passing the result of another call to `getCreateRequest()`. The result is null because the two calls to `getCreateRequest()` will return two separate instances of the request. Without a proper implementation of `equals()` the two requests will be regarded as non-equal, because they are different instances and have therefore different references. By adding `@EqualsAndHashCode` to the request class you have made sure that the two instances are now regarded as equal.\r\n\r\n\r\nThere is another problem with your code. Calling the mock inside your test (see above) is not making any sense. You told the mock to return a specific default monster. Calling the mock will just return what you told it one line above. You could have achieved the same by using `defaultMonster` as the `result`.","title":"The error was resolved during the springboot controller test, but I don&#39;t know the cause","body":"<p>With</p>\n<pre class=\"lang-java prettyprint-override\"><code>given(mMakerService.createMonster(getCreateRequest()))\n    .willReturn(CreateMonsterDto.TestResponse.fromEntity(defaultMonster));\n</code></pre>\n<p>you tell the mocking framework to return the default monster from the mocked mMakerService when it is called with the request returned from <code>getCreateRequest()</code> as parameter.</p>\n<p>Then you call the mocked mMakerService inside your test passing the result of another call to <code>getCreateRequest()</code>. The result is null because the two calls to <code>getCreateRequest()</code> will return two separate instances of the request. Without a proper implementation of <code>equals()</code> the two requests will be regarded as non-equal, because they are different instances and have therefore different references. By adding <code>@EqualsAndHashCode</code> to the request class you have made sure that the two instances are now regarded as equal.</p>\n<p>There is another problem with your code. Calling the mock inside your test (see above) is not making any sense. You told the mock to return a specific default monster. Calling the mock will just return what you told it one line above. You could have achieved the same by using <code>defaultMonster</code> as the <code>result</code>.</p>\n"}],"owner":{"account_id":25520225,"reputation":11,"user_id":19310267,"display_name":"doosic C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655625161,"creation_date":1654815947,"question_id":72567508,"body_markdown":"The error was resolved during the springboot controller test, but I don&#39;t know the cause\r\n\r\ntest environment\r\n- JAVA 8\r\n- SPRING BOOT\r\n- INTELLIJ\r\n- H2DB\r\n\r\nBelow is the code of the controller stage.\r\n\r\n```lang-java\r\nprivate MonsterEntity defaultMonster = MonsterEntity.builder()\r\n            .id(1L)\r\n            .monsterLevel(BABY)\r\n            .monsterType(FLY)\r\n            .statusCode(StatusCode.HEALTHY)\r\n            .ssn(&quot;12345612345123&quot;)\r\n            .name(&quot;BabyMonster&quot;)\r\n            .age(3)\r\n            .height(170)\r\n            .weight(73)\r\n            .build();\r\n\r\nprivate CreateMonsterDto.Request getCreateRequest() {\r\n            return CreateMonsterDto.Request.builder()\r\n                    .id(1L)\r\n                    .monsterLevel(BABY)\r\n                    .monsterType(FLY)\r\n                    .statusCode(StatusCode.HEALTHY)\r\n                    .ssn(&quot;12345612345123&quot;)\r\n                    .name(&quot;BabyMonster&quot;)\r\n                    .age(3)\r\n                    .height(170)\r\n                    .weight(73)\r\n                    .build();\r\n}\r\n\r\n@Test\r\n@DisplayName(&quot;Monster Created Test&quot;)\r\nvoid createMonster() throws Exception {\r\n    given(mMakerService.createMonster(getCreateRequest()))\r\n            .willReturn(CreateMonsterDto.TestResponse.fromEntity(defaultMonster));\r\n    \r\n    CreateMonsterDto.Response result = mMakerService.createMonster(getCreateRequest());\r\n    \r\n    mockMvc.perform(\r\n                    post(&quot;/create-monster&quot;)\r\n                            .contentType(contentType)\r\n                            .content(new ObjectMapper().writeValueAsString(result)))\r\n            .andExpect(status().isOk())\r\n            .andDo(print())\r\n            .andReturn();\r\n    then(mMakerService).should(times(2)).createMonster(getCreateRequest());\r\n}\r\n```\r\n\r\n`given(mMakerService.createMonster(getCreateRequest()))` and \r\n\r\n`CreateMonsterDto.Response result = mMakerService.createMonster(getCreateRequest());`\r\n\r\nAll of them are returning the same null value.\r\n\r\nThe solution to this problem was to add `@EqualsAndHashCode` Annotation to DtoRequest.\r\n\r\n```lang-java\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@EqualsAndHashCode(of = &quot;id&quot;)\r\npublic static class Request {\r\n\r\n    @NotNull\r\n    private Long id;\r\n\r\n    @NotNull\r\n    private MonsterLevel monsterLevel;\r\n\r\n    @NotNull\r\n    private MonsterType monsterType;\r\n\r\n    @NotNull\r\n    private StatusCode statusCode;\r\n\r\n    @NotNull\r\n    @Size(min = 13, max = 15, message = &quot;ssn max_size 14&quot;)\r\n    private String ssn;\r\n\r\n    @NotNull\r\n    @Size(min = 3, max = 100, message = &quot;name size must 3~100&quot;)\r\n    private String name;\r\n\r\n    @NotNull\r\n    @Min(0)\r\n    @Max(100)\r\n    private Integer age;\r\n\r\n    @NotNull\r\n    @Min(150)\r\n    @Max(300)\r\n    private Integer height;\r\n\r\n    @NotNull\r\n    @Min(50)\r\n    @Max(500)\r\n    private Integer weight;\r\n}\r\n```\r\n\r\n`mMakerService.createMonster(getCreateRequest());` Is it a problem by taking out the address reference value, not the content, from the ?\r\n\r\nBelow is the code of the service stage.\r\n \r\n```lang-java\r\npublic CreateMonsterDto.Response createMonster(\r\n            CreateMonsterDto.Request request\r\n    ) {\r\n    validateCreateMonsterRequest(request);\r\n\r\n    return CreateMonsterDto.Response.fromEntity(\r\n            monsterRepository.save(\r\n                    createMonsterFromRequest(request)\r\n            )\r\n    );\r\n}\r\n\r\nprivate MonsterEntity createMonsterFromRequest(CreateMonsterDto.Request request) {\r\n   return MonsterEntity.builder()\r\n        .id(1L)\r\n        .monsterLevel(request.getMonsterLevel())\r\n        .monsterType(request.getMonsterType())\r\n        .statusCode(request.getStatusCode())\r\n        .ssn(request.getSsn())\r\n        .name(request.getName())\r\n        .age(request.getAge())\r\n        .height(request.getHeight())\r\n        .weight(request.getWeight())\r\n        .build();\r\n}\r\n```\r\n\r\nWhen I ran this process in ServiceTest, there was no problem.\r\n\r\nI would like to know the cause of this problem. Help. Sorry for the poor question. I&#39;m using a translator.\r\n\r\nI&#39;m looking for a problem while debugging, but when I debug in ControllerTest, I can&#39;t debug until the service stage...","title":"The error was resolved during the springboot controller test, but I don&#39;t know the cause","body":"<p>The error was resolved during the springboot controller test, but I don't know the cause</p>\n<p>test environment</p>\n<ul>\n<li>JAVA 8</li>\n<li>SPRING BOOT</li>\n<li>INTELLIJ</li>\n<li>H2DB</li>\n</ul>\n<p>Below is the code of the controller stage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private MonsterEntity defaultMonster = MonsterEntity.builder()\n            .id(1L)\n            .monsterLevel(BABY)\n            .monsterType(FLY)\n            .statusCode(StatusCode.HEALTHY)\n            .ssn(&quot;12345612345123&quot;)\n            .name(&quot;BabyMonster&quot;)\n            .age(3)\n            .height(170)\n            .weight(73)\n            .build();\n\nprivate CreateMonsterDto.Request getCreateRequest() {\n            return CreateMonsterDto.Request.builder()\n                    .id(1L)\n                    .monsterLevel(BABY)\n                    .monsterType(FLY)\n                    .statusCode(StatusCode.HEALTHY)\n                    .ssn(&quot;12345612345123&quot;)\n                    .name(&quot;BabyMonster&quot;)\n                    .age(3)\n                    .height(170)\n                    .weight(73)\n                    .build();\n}\n\n@Test\n@DisplayName(&quot;Monster Created Test&quot;)\nvoid createMonster() throws Exception {\n    given(mMakerService.createMonster(getCreateRequest()))\n            .willReturn(CreateMonsterDto.TestResponse.fromEntity(defaultMonster));\n    \n    CreateMonsterDto.Response result = mMakerService.createMonster(getCreateRequest());\n    \n    mockMvc.perform(\n                    post(&quot;/create-monster&quot;)\n                            .contentType(contentType)\n                            .content(new ObjectMapper().writeValueAsString(result)))\n            .andExpect(status().isOk())\n            .andDo(print())\n            .andReturn();\n    then(mMakerService).should(times(2)).createMonster(getCreateRequest());\n}\n</code></pre>\n<p><code>given(mMakerService.createMonster(getCreateRequest()))</code> and</p>\n<p><code>CreateMonsterDto.Response result = mMakerService.createMonster(getCreateRequest());</code></p>\n<p>All of them are returning the same null value.</p>\n<p>The solution to this problem was to add <code>@EqualsAndHashCode</code> Annotation to DtoRequest.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@EqualsAndHashCode(of = &quot;id&quot;)\npublic static class Request {\n\n    @NotNull\n    private Long id;\n\n    @NotNull\n    private MonsterLevel monsterLevel;\n\n    @NotNull\n    private MonsterType monsterType;\n\n    @NotNull\n    private StatusCode statusCode;\n\n    @NotNull\n    @Size(min = 13, max = 15, message = &quot;ssn max_size 14&quot;)\n    private String ssn;\n\n    @NotNull\n    @Size(min = 3, max = 100, message = &quot;name size must 3~100&quot;)\n    private String name;\n\n    @NotNull\n    @Min(0)\n    @Max(100)\n    private Integer age;\n\n    @NotNull\n    @Min(150)\n    @Max(300)\n    private Integer height;\n\n    @NotNull\n    @Min(50)\n    @Max(500)\n    private Integer weight;\n}\n</code></pre>\n<p><code>mMakerService.createMonster(getCreateRequest());</code> Is it a problem by taking out the address reference value, not the content, from the ?</p>\n<p>Below is the code of the service stage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public CreateMonsterDto.Response createMonster(\n            CreateMonsterDto.Request request\n    ) {\n    validateCreateMonsterRequest(request);\n\n    return CreateMonsterDto.Response.fromEntity(\n            monsterRepository.save(\n                    createMonsterFromRequest(request)\n            )\n    );\n}\n\nprivate MonsterEntity createMonsterFromRequest(CreateMonsterDto.Request request) {\n   return MonsterEntity.builder()\n        .id(1L)\n        .monsterLevel(request.getMonsterLevel())\n        .monsterType(request.getMonsterType())\n        .statusCode(request.getStatusCode())\n        .ssn(request.getSsn())\n        .name(request.getName())\n        .age(request.getAge())\n        .height(request.getHeight())\n        .weight(request.getWeight())\n        .build();\n}\n</code></pre>\n<p>When I ran this process in ServiceTest, there was no problem.</p>\n<p>I would like to know the cause of this problem. Help. Sorry for the poor question. I'm using a translator.</p>\n<p>I'm looking for a problem while debugging, but when I debug in ControllerTest, I can't debug until the service stage...</p>\n"},{"tags":["java","android","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":15761453,"reputation":61,"user_id":11373066,"display_name":"Harsh Chourasiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655624769,"creation_date":1655624769,"answer_id":72675129,"question_id":72675016,"body_markdown":"You should try to read the warning of the xml file maybe that will help you to understand your problem, sometimes that&#39;s also happened with me but I solve these UI problems by looking and reading warning. \r\n\r\nYou should also add your code of the activity in the questions its easy to read and understand.","title":"No output being shown on Mobile Screen in Android studio","body":"<p>You should try to read the warning of the xml file maybe that will help you to understand your problem, sometimes that's also happened with me but I solve these UI problems by looking and reading warning.</p>\n<p>You should also add your code of the activity in the questions its easy to read and understand.</p>\n"},{"tags":[],"owner":{"account_id":11400596,"reputation":489,"user_id":8357673,"accept_rate":25,"display_name":"Hamed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655625149,"creation_date":1655625149,"answer_id":72675172,"question_id":72675016,"body_markdown":"It seems you&#39;re not Overriding the `onCreate` method. Try this:  \r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.relative_layout);","title":"No output being shown on Mobile Screen in Android studio","body":"<p>It seems you're not Overriding the <code>onCreate</code> method. Try this:</p>\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.relative_layout);\n</code></pre>\n"}],"owner":{"account_id":19773739,"reputation":11,"user_id":17343007,"display_name":"Kiran  Jadhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72675172,"answer_count":2,"score":0,"last_activity_date":1655625149,"creation_date":1655623731,"question_id":72675016,"body_markdown":"I am trying to run an app with the code on my android studio there is no error the app runs on the device **doesn&#39;t show output** I have shared a screenshot of it\r\n\r\n\r\n [![java file][1]][1]\r\n[![XML code][2]][2]\r\n[![manifest file][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pngkO.png\r\n  [2]: https://i.stack.imgur.com/rYbAO.png\r\n  [3]: https://i.stack.imgur.com/Q1E8f.png","title":"No output being shown on Mobile Screen in Android studio","body":"<p>I am trying to run an app with the code on my android studio there is no error the app runs on the device <strong>doesn't show output</strong> I have shared a screenshot of it</p>\n<p><a href=\"https://i.stack.imgur.com/pngkO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pngkO.png\" alt=\"java file\" /></a>\n<a href=\"https://i.stack.imgur.com/rYbAO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rYbAO.png\" alt=\"XML code\" /></a>\n<a href=\"https://i.stack.imgur.com/Q1E8f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q1E8f.png\" alt=\"manifest file\" /></a></p>\n"},{"tags":["java","concurrency","false-sharing"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1655616720,"post_id":72674269,"comment_id":128371396,"body_markdown":"This is a JDK internal annotation.  You should not use it.  What are you trying to achieve?","body":"This is a JDK internal annotation.  You should not use it.  What are you trying to achieve?"},{"owner":{"account_id":18994381,"reputation":146,"user_id":13862869,"display_name":"Kavishka Madhushan"},"score":0,"creation_date":1655662218,"post_id":72674269,"comment_id":128379654,"body_markdown":"@StephenC Thank you very much. It&#39;s for my learning purposes. these days, I study about concurrency and I try to refire this Jakob Jenkovs&#39; YouTube video. https://youtu.be/tLS85IfsbYE","body":"@StephenC Thank you very much. It&#39;s for my learning purposes. these days, I study about concurrency and I try to refire this Jakob Jenkovs&#39; YouTube video. <a href=\"https://youtu.be/tLS85IfsbYE\" rel=\"nofollow noreferrer\">youtu.be/tLS85IfsbYE</a>"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":3,"creation_date":1655734029,"post_id":72674269,"comment_id":128395434,"body_markdown":"The typical approaches to prevent false sharing are:\n\n1: super subclass padding (See JCtools: PaddedAtomicLong). 2 Store the fields in some array and ensure enough space between the items.  3. use offheap to control the layout in memory.","body":"The typical approaches to prevent false sharing are:  1: super subclass padding (See JCtools: PaddedAtomicLong). 2 Store the fields in some array and ensure enough space between the items.  3. use offheap to control the layout in memory."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655624900,"creation_date":1655624900,"answer_id":72675144,"question_id":72674269,"body_markdown":"As the name indicates, this annotation is for use internally within the JDK. It is not intended for general purposes. You cannot use it because it is not exported from the `java.base` module.\r\n\r\nIf your intention was to use this for documentation purposes, create your own annotation, or find a library that offers similar annotations. If your intention was to get the same effect has it has for Java internal code: you can&#39;t.","title":"@jdk.internal.vm.annotation.Contended didn&#39;t work","body":"<p>As the name indicates, this annotation is for use internally within the JDK. It is not intended for general purposes. You cannot use it because it is not exported from the <code>java.base</code> module.</p>\n<p>If your intention was to use this for documentation purposes, create your own annotation, or find a library that offers similar annotations. If your intention was to get the same effect has it has for Java internal code: you can't.</p>\n"}],"owner":{"account_id":18994381,"reputation":146,"user_id":13862869,"display_name":"Kavishka Madhushan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":902,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72675144,"answer_count":1,"score":0,"last_activity_date":1655624900,"creation_date":1655612567,"question_id":72674269,"body_markdown":"I try to use @jdk.internal.vm.annotation.Contended with following class with java 17 and in Eclipse IDE it show &quot;The type jdk.internal.vm.annotation.Contended is not accessible&quot; this error. Can someone help me to solve this issue?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    public class ContendedExample1 {\r\n\t\r\n\t  @jdk.internal.vm.annotation.Contended \r\n\t  public volatile long count1 = 0;\r\n\t\r\n\t  public volatile long count2 = 0;\r\n\r\n    }\r\n\r\n    public class FalseSharingMain {\r\n\r\n\t  public static void main(String[] args) {\r\n\t\t\r\n\t\tContendedExample1 obj1 = new ContendedExample1();\r\n\t\t\r\n\t\tlong iteration = 1_000_000_000;\r\n\t\t\r\n\t\tnew Thread(() -&gt; {\r\n\t\t\tlong sTime = System.currentTimeMillis();\r\n\t\t\tfor(long i = 0; i &lt; iteration; i++) {\r\n\t\t\t\tobj1.count1++;\r\n\t\t\t}\r\n\t\t\tlong eTime = System.currentTimeMillis();\r\n\t\t\tSystem.out.println(eTime - sTime);\r\n\t\t}).start();\r\n\t\t\r\n\t\tnew Thread(() -&gt; {\r\n\t\t\tlong sTime = System.currentTimeMillis();\r\n\t\t\tfor(long i = 0; i &lt; iteration; i++) {\r\n\t\t\t\tobj1.count2++;\r\n\t\t\t}\r\n\t\t\tlong eTime = System.currentTimeMillis();\r\n\t\t\tSystem.out.println(eTime - sTime);\r\n\t\t}).start();;\r\n\t  }\r\n    }\r\n\r\nand when I run this program it shows like this.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tjdk.internal.vm.annotation cannot be resolved to a type\r\n\r\n\tat falseSharingExample.ContendedExample1.&lt;init&gt;(ContendedExample1.java:5)\r\n\tat falseSharingExample.FalseSharingMain.main(FalseSharingMain.java:7)\r\n\r\nand when I run this with IntelliJ IDEA it shows this error\r\n\r\n&gt; java: exporting a package from system module java.base is not allowed with --release\r\n\r\n[1]: https://i.stack.imgur.com/lIdSg.png","title":"@jdk.internal.vm.annotation.Contended didn&#39;t work","body":"<p>I try to use @jdk.internal.vm.annotation.Contended with following class with java 17 and in Eclipse IDE it show &quot;The type jdk.internal.vm.annotation.Contended is not accessible&quot; this error. Can someone help me to solve this issue?</p>\n<p><a href=\"https://i.stack.imgur.com/lIdSg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lIdSg.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class ContendedExample1 {\n\n  @jdk.internal.vm.annotation.Contended \n  public volatile long count1 = 0;\n\n  public volatile long count2 = 0;\n\n}\n\npublic class FalseSharingMain {\n\n  public static void main(String[] args) {\n    \n    ContendedExample1 obj1 = new ContendedExample1();\n    \n    long iteration = 1_000_000_000;\n    \n    new Thread(() -&gt; {\n        long sTime = System.currentTimeMillis();\n        for(long i = 0; i &lt; iteration; i++) {\n            obj1.count1++;\n        }\n        long eTime = System.currentTimeMillis();\n        System.out.println(eTime - sTime);\n    }).start();\n    \n    new Thread(() -&gt; {\n        long sTime = System.currentTimeMillis();\n        for(long i = 0; i &lt; iteration; i++) {\n            obj1.count2++;\n        }\n        long eTime = System.currentTimeMillis();\n        System.out.println(eTime - sTime);\n    }).start();;\n  }\n}\n</code></pre>\n<p>and when I run this program it shows like this.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \njdk.internal.vm.annotation cannot be resolved to a type\n\nat falseSharingExample.ContendedExample1.&lt;init&gt;(ContendedExample1.java:5)\nat falseSharingExample.FalseSharingMain.main(FalseSharingMain.java:7)\n</code></pre>\n<p>and when I run this with IntelliJ IDEA it shows this error</p>\n<blockquote>\n<p>java: exporting a package from system module java.base is not allowed with --release</p>\n</blockquote>\n"},{"tags":["java","compiler-errors","newline","identifier"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1647399375,"post_id":71491169,"comment_id":126359406,"body_markdown":"Code must be inside a method.","body":"Code must be inside a method."}],"answers":[{"tags":[],"owner":{"display_name":"user4571959"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647512554,"creation_date":1647512554,"answer_id":71510677,"question_id":71491169,"body_markdown":"    SOP written outside the main method. It must be inside the main method. \r\n    \r\n    import java.util.Scanner;  \r\n    public class LabProgram {  \r\n        public static void main(String args[]) {  \r\n        int n, left,right;  \r\n            Scanner s = new Scanner(System.in);  \r\n            n = s.nextInt();  \r\n            int a[] = new int[n];  \r\n            for(int i = 0; i &lt; n; i++)  \r\n                a[i] = s.nextInt();  \r\n            left=s.nextInt();  \r\n            right=s.nextInt();  \r\n            for(int i = 0; i &lt; n; i++) { \r\n                //check if the current element is within the range  \r\n                if(a[i]&gt;=left &amp;&amp; a[i]&lt;=right)  \r\n                    System.out.print(a[i] + &quot;,&quot;);  \r\n        }  \r\n        System.out.println();  \r\n    }  \r\n    } ","title":"Error &lt;identifier&gt; expected for System.out.println(); ? How can I fix this?","body":"<pre><code>SOP written outside the main method. It must be inside the main method. \n\nimport java.util.Scanner;  \npublic class LabProgram {  \n    public static void main(String args[]) {  \n    int n, left,right;  \n        Scanner s = new Scanner(System.in);  \n        n = s.nextInt();  \n        int a[] = new int[n];  \n        for(int i = 0; i &lt; n; i++)  \n            a[i] = s.nextInt();  \n        left=s.nextInt();  \n        right=s.nextInt();  \n        for(int i = 0; i &lt; n; i++) { \n            //check if the current element is within the range  \n            if(a[i]&gt;=left &amp;&amp; a[i]&lt;=right)  \n                System.out.print(a[i] + &quot;,&quot;);  \n    }  \n    System.out.println();  \n}  \n} \n</code></pre>\n"}],"owner":{"account_id":24389918,"reputation":7,"user_id":18320042,"display_name":"Nereida"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655624478,"creation_date":1647397803,"question_id":71491169,"body_markdown":"Why do I get an error that says **&gt;error: identifier expected\r\n    System.out.println();** . I need a new line after the last element in the array, that is why I added the println. How can I fix this?\r\n```\r\n     import java.util.Scanner;\r\npublic class LabProgram {\r\n    public static void main(String args[]) {\r\n    int n, left,right;\r\n        Scanner s = new Scanner(System.in);\r\n        n = s.nextInt();\r\n        int a[] = new int[n];\r\n        for(int i = 0; i &lt; n; i++)\r\n            a[i] = s.nextInt();\r\n        left=s.nextInt();\r\n        right=s.nextInt();\r\n        for(int i = 0; i &lt; n; i++)\r\n            //check if the current element is within the range\r\n            if(a[i]&gt;=left &amp;&amp; a[i]&lt;=right)\r\n                System.out.print(a[i] + &quot;,&quot;);\r\n    }\r\n    System.out.println();\r\n}\r\n```","title":"Error &lt;identifier&gt; expected for System.out.println(); ? How can I fix this?","body":"<p>Why do I get an error that says <strong>&gt;error: identifier expected\nSystem.out.println();</strong> . I need a new line after the last element in the array, that is why I added the println. How can I fix this?</p>\n<pre><code>     import java.util.Scanner;\npublic class LabProgram {\n    public static void main(String args[]) {\n    int n, left,right;\n        Scanner s = new Scanner(System.in);\n        n = s.nextInt();\n        int a[] = new int[n];\n        for(int i = 0; i &lt; n; i++)\n            a[i] = s.nextInt();\n        left=s.nextInt();\n        right=s.nextInt();\n        for(int i = 0; i &lt; n; i++)\n            //check if the current element is within the range\n            if(a[i]&gt;=left &amp;&amp; a[i]&lt;=right)\n                System.out.print(a[i] + &quot;,&quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":["java","sql","sqlite","join","inner-join"],"comments":[{"owner":{"account_id":1165580,"reputation":1248722,"user_id":1144035,"display_name":"Gordon Linoff"},"score":2,"creation_date":1531248646,"post_id":51272198,"comment_id":89522505,"body_markdown":"I would start by changing the date formats to YYYY-MM-DD -- ANSI and ISO standard formats.  Does that fix your problem?","body":"I would start by changing the date formats to YYYY-MM-DD -- ANSI and ISO standard formats.  Does that fix your problem?"},{"owner":{"account_id":4192142,"reputation":3239,"user_id":3434508,"accept_rate":40,"display_name":"Stavr00"},"score":1,"creation_date":1531248902,"post_id":51272198,"comment_id":89522639,"body_markdown":"Have you tried grouping by week number with  `strftime(&#39;%W&#39;,TodayDate)`","body":"Have you tried grouping by week number with  <code>strftime(&#39;%W&#39;,TodayDate)</code>"},{"owner":{"display_name":"user1773603"},"score":0,"creation_date":1531249076,"post_id":51272198,"comment_id":89522726,"body_markdown":"I want to change month # instead of week #.","body":"I want to change month # instead of week #."},{"owner":{"account_id":1780253,"reputation":4756,"user_id":1970497,"display_name":"Shawn"},"score":1,"creation_date":1531251176,"post_id":51272198,"comment_id":89523656,"body_markdown":"This would be another good use case for a Calendar Table.","body":"This would be another good use case for a Calendar Table."},{"owner":{"account_id":1780253,"reputation":4756,"user_id":1970497,"display_name":"Shawn"},"score":0,"creation_date":1531254584,"post_id":51272198,"comment_id":89525045,"body_markdown":"For your calculated weeks, is the week number related to the month or to the year as a whole? ie is Jan 31 the last week of Jan and Feb 1 the first week of Feb, or can they both be in the same week based on the calendar year? Does each month have 4-5 weeks or does the year have 52-53 weeks?","body":"For your calculated weeks, is the week number related to the month or to the year as a whole? ie is Jan 31 the last week of Jan and Feb 1 the first week of Feb, or can they both be in the same week based on the calendar year? Does each month have 4-5 weeks or does the year have 52-53 weeks?"}],"answers":[{"tags":[],"owner":{"account_id":13861495,"reputation":742,"user_id":10007038,"display_name":"Edward"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531253060,"creation_date":1531253060,"answer_id":51273172,"question_id":51272198,"body_markdown":"First, two potential problems here. There are no input variables on your query, so we have to ask this first.\r\n\r\nDid you hardcode the parameter pass-in for the `WHERE` clause at the end of statement? \r\n\r\nDid you hardcode the parameter pass-in for the `SUM` statements in the sub-query? The ones that are splitting the month up into weeks. \r\n\r\nThese could both be the cause of the results not changing. \r\n\r\nOne for sure problem with this query is that you are going to be double counting the driving time for the days that signify the start/end of a week. \r\n\r\n      ...SUM( case when TodayDate &gt;= &#39;01-07-2018&#39; and TodayDate &lt;= &#39;07-07-2018&#39; then PaidKM else 0 end) KM_W1,\r\n        SUM( case when TodayDate &gt;= &#39;08-07-2018&#39; and TodayDate &lt;= &#39;14-07-2018&#39; then PaidKM else 0 end) KM_W2,...\r\n\r\nYou&#39;ll need to increment the days before the start of the next week\r\nI&#39;ve done so here by updating `07-07-2018` to `08-07-2018`\r\n","title":"Getting all weeks data of a month using inner join","body":"<p>First, two potential problems here. There are no input variables on your query, so we have to ask this first.</p>\n\n<p>Did you hardcode the parameter pass-in for the <code>WHERE</code> clause at the end of statement? </p>\n\n<p>Did you hardcode the parameter pass-in for the <code>SUM</code> statements in the sub-query? The ones that are splitting the month up into weeks. </p>\n\n<p>These could both be the cause of the results not changing. </p>\n\n<p>One for sure problem with this query is that you are going to be double counting the driving time for the days that signify the start/end of a week. </p>\n\n<pre><code>  ...SUM( case when TodayDate &gt;= '01-07-2018' and TodayDate &lt;= '07-07-2018' then PaidKM else 0 end) KM_W1,\n    SUM( case when TodayDate &gt;= '08-07-2018' and TodayDate &lt;= '14-07-2018' then PaidKM else 0 end) KM_W2,...\n</code></pre>\n\n<p>You'll need to increment the days before the start of the next week\nI've done so here by updating <code>07-07-2018</code> to <code>08-07-2018</code></p>\n"},{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1531256891,"creation_date":1531256283,"answer_id":51273802,"question_id":51272198,"body_markdown":"Your issue is that the comparisons are string based not date based. **Days** have the higher precedence than months, and months have higher precedence than years. \r\n\r\ne.g. **31-01-1970** would be considered greater than **01-01-2018** as **31** is greater than **01**. \r\n\r\nYou should consider using a recognised date format, which is directly sortable/comparable e.g. **YYYY-MM-DD** whenever working with/storing dates. \r\n\r\nYou may wish to consider looking at [SQL As Understood By SQLite - Date And Time Functions - **Time Strings**](https://www.sqlite.org/lang_datefunc.html).\r\n\r\nYou could convert the dates to be sortable/easily compared using \r\n\r\n    substr(datevalue,7,4)||substr(datevalue,3,4)||substr(datevalue,1,2)\r\n\r\ne.g. instead of :-\r\n\r\n    SUM( case when TodayDate &gt;= &#39;01-07-2018&#39; and TodayDate &lt;= &#39;07-07-2018&#39; then PaidKM else 0 end) KM_W1, ....\r\n\r\nyou could use :-\r\n\r\n    SUM( case when substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &gt;= &#39;2018-07-01&#39; and substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &lt;= &#39;2018-07-07&#39; then PaidKM else 0 end) KM_W1, ....\r\n\r\n\r\nThe whole query could be :-\r\n\r\n    select distinct \r\n        v.DriverName,t.KM_W1,t.KM_W2,t.KM_W3,t.KM_W4,t.KM_W5,(t.KM_W1+t.KM_W2+t.KM_W3+t.KM_W4+t.KM_W5) Total\r\n    from \r\n        (select \r\n             DriverName,\r\n             SUM( case when substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &gt;= &#39;2018-07-01&#39; and substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &lt;= &#39;2018-07-07&#39; then PaidKM else 0 end) KM_W1,\r\n             SUM( case when substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &gt;= &#39;2018-07-08&#39; and substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &lt;= &#39;2018-07-14&#39; then PaidKM else 0 end) KM_W2,\r\n             SUM( case when substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &gt;= &#39;2018-07-15&#39; and substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &lt;= &#39;2018-07-21&#39; then PaidKM else 0 end) KM_W3,\r\n             SUM( case when substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &gt;= &#39;2018-07-22&#39; and substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &lt;= &#39;2018-07-28&#39; then PaidKM else 0 end) KM_W4,\r\n             SUM( case when substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &gt;= &#39;2018-07-29&#39; and substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &lt;= &#39;2018-07-31&#39; then PaidKM else 0 end) KM_W5\r\n         from \r\n             Traveling\r\n         group by \r\n             DriverName) t \r\n    inner join\r\n        Traveling v on t.DriverName = v.DriverName\r\n    where \r\n        substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &gt;= &#39;2018-07-01&#39; and substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &lt;= &#39;2018-07-31&#39;\r\n\r\n \r\n- **Note** The above is in-principle code and has not been tested, it may therefore contain some errors.\r\n","title":"Getting all weeks data of a month using inner join","body":"<p>Your issue is that the comparisons are string based not date based. <strong>Days</strong> have the higher precedence than months, and months have higher precedence than years. </p>\n\n<p>e.g. <strong>31-01-1970</strong> would be considered greater than <strong>01-01-2018</strong> as <strong>31</strong> is greater than <strong>01</strong>. </p>\n\n<p>You should consider using a recognised date format, which is directly sortable/comparable e.g. <strong>YYYY-MM-DD</strong> whenever working with/storing dates. </p>\n\n<p>You may wish to consider looking at <a href=\"https://www.sqlite.org/lang_datefunc.html\" rel=\"nofollow noreferrer\">SQL As Understood By SQLite - Date And Time Functions - <strong>Time Strings</strong></a>.</p>\n\n<p>You could convert the dates to be sortable/easily compared using </p>\n\n<pre><code>substr(datevalue,7,4)||substr(datevalue,3,4)||substr(datevalue,1,2)\n</code></pre>\n\n<p>e.g. instead of :-</p>\n\n<pre><code>SUM( case when TodayDate &gt;= '01-07-2018' and TodayDate &lt;= '07-07-2018' then PaidKM else 0 end) KM_W1, ....\n</code></pre>\n\n<p>you could use :-</p>\n\n<pre><code>SUM( case when substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &gt;= '2018-07-01' and substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &lt;= '2018-07-07' then PaidKM else 0 end) KM_W1, ....\n</code></pre>\n\n<p>The whole query could be :-</p>\n\n<pre><code>select distinct \n    v.DriverName,t.KM_W1,t.KM_W2,t.KM_W3,t.KM_W4,t.KM_W5,(t.KM_W1+t.KM_W2+t.KM_W3+t.KM_W4+t.KM_W5) Total\nfrom \n    (select \n         DriverName,\n         SUM( case when substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &gt;= '2018-07-01' and substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &lt;= '2018-07-07' then PaidKM else 0 end) KM_W1,\n         SUM( case when substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &gt;= '2018-07-08' and substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &lt;= '2018-07-14' then PaidKM else 0 end) KM_W2,\n         SUM( case when substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &gt;= '2018-07-15' and substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &lt;= '2018-07-21' then PaidKM else 0 end) KM_W3,\n         SUM( case when substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &gt;= '2018-07-22' and substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &lt;= '2018-07-28' then PaidKM else 0 end) KM_W4,\n         SUM( case when substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &gt;= '2018-07-29' and substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &lt;= '2018-07-31' then PaidKM else 0 end) KM_W5\n     from \n         Traveling\n     group by \n         DriverName) t \ninner join\n    Traveling v on t.DriverName = v.DriverName\nwhere \n    substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &gt;= '2018-07-01' and substr(TodayDate,7,4)||substr(Todaydate,3,4)||substr(Todaydate,1,2) &lt;= '2018-07-31'\n</code></pre>\n\n<ul>\n<li><strong>Note</strong> The above is in-principle code and has not been tested, it may therefore contain some errors.</li>\n</ul>\n"}],"owner":{"display_name":"user1773603"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51273802,"answer_count":2,"score":1,"last_activity_date":1655622641,"creation_date":1531248578,"question_id":51272198,"body_markdown":"I have the following query:\r\n\r\n    select distinct \r\n        v.DriverName,t.KM_W1,t.KM_W2,t.KM_W3,t.KM_W4,t.KM_W5,(t.KM_W1+t.KM_W2+t.KM_W3+t.KM_W4+t.KM_W5) Total\r\n    from \r\n        (select \r\n             DriverName,\r\n             SUM( case when TodayDate &gt;= &#39;01-07-2018&#39; and TodayDate &lt;= &#39;07-07-2018&#39; then PaidKM else 0 end) KM_W1,\r\n             SUM( case when TodayDate &gt;= &#39;07-07-2018&#39; and TodayDate &lt;= &#39;14-07-2018&#39; then PaidKM else 0 end) KM_W2,\r\n             SUM( case when TodayDate &gt;= &#39;14-07-2018&#39; and TodayDate &lt;= &#39;21-07-2018&#39; then PaidKM else 0 end) KM_W3,\r\n             SUM( case when TodayDate &gt;= &#39;21-07-2018&#39; and TodayDate &lt;= &#39;28-07-2018&#39; then PaidKM else 0 end) KM_W4,\r\n             SUM( case when TodayDate &gt;= &#39;28-07-2018&#39; and TodayDate &lt;= &#39;31-07-2018&#39; then PaidKM else 0 end) KM_W5\r\n         from \r\n             Traveling\r\n         group by \r\n             DriverName) t \r\n    inner join\r\n        Traveling v on t.DriverName = v.DriverName\r\n    where \r\n        TodayDate &gt;= &#39;01-07-2018&#39; and TodayDate &lt;= &#39;31-07-2018&#39;\r\n**Above query explanation:** I&#39;m getting all weeks data `PaidKM` which driver gets in a whole month. The month for example starting date is `01-07-2018` and ending date is `31-07-2018` which covers whole month # `07`. But when I change the month it gives me the same results all time.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Above GIF&#39;s query implementation:** I have implemented this query in Java and when I change  the month from combo box but back end query all time gives the result from all records instead of different month.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAbove image is the `Traveling` table in database.\r\n\r\nHow I can achieve the results when I change a different month? And how can I correct this query to work this?\r\n\r\n  [1]: https://i.stack.imgur.com/a07eL.gif\r\n  [2]: https://i.stack.imgur.com/pVZxa.jpg","title":"Getting all weeks data of a month using inner join","body":"<p>I have the following query:</p>\n<pre><code>select distinct \n    v.DriverName,t.KM_W1,t.KM_W2,t.KM_W3,t.KM_W4,t.KM_W5,(t.KM_W1+t.KM_W2+t.KM_W3+t.KM_W4+t.KM_W5) Total\nfrom \n    (select \n         DriverName,\n         SUM( case when TodayDate &gt;= '01-07-2018' and TodayDate &lt;= '07-07-2018' then PaidKM else 0 end) KM_W1,\n         SUM( case when TodayDate &gt;= '07-07-2018' and TodayDate &lt;= '14-07-2018' then PaidKM else 0 end) KM_W2,\n         SUM( case when TodayDate &gt;= '14-07-2018' and TodayDate &lt;= '21-07-2018' then PaidKM else 0 end) KM_W3,\n         SUM( case when TodayDate &gt;= '21-07-2018' and TodayDate &lt;= '28-07-2018' then PaidKM else 0 end) KM_W4,\n         SUM( case when TodayDate &gt;= '28-07-2018' and TodayDate &lt;= '31-07-2018' then PaidKM else 0 end) KM_W5\n     from \n         Traveling\n     group by \n         DriverName) t \ninner join\n    Traveling v on t.DriverName = v.DriverName\nwhere \n    TodayDate &gt;= '01-07-2018' and TodayDate &lt;= '31-07-2018'\n</code></pre>\n<p><strong>Above query explanation:</strong> I'm getting all weeks data <code>PaidKM</code> which driver gets in a whole month. The month for example starting date is <code>01-07-2018</code> and ending date is <code>31-07-2018</code> which covers whole month # <code>07</code>. But when I change the month it gives me the same results all time.</p>\n<p><a href=\"https://i.stack.imgur.com/a07eL.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a07eL.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>Above GIF's query implementation:</strong> I have implemented this query in Java and when I change  the month from combo box but back end query all time gives the result from all records instead of different month.</p>\n<p><a href=\"https://i.stack.imgur.com/pVZxa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pVZxa.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Above image is the <code>Traveling</code> table in database.</p>\n<p>How I can achieve the results when I change a different month? And how can I correct this query to work this?</p>\n"},{"tags":["java","spring","spring-boot","maven","websocket"],"comments":[{"owner":{"account_id":2258060,"reputation":3689,"user_id":1988798,"accept_rate":83,"display_name":"Gaurav"},"score":0,"creation_date":1646201307,"post_id":71317217,"comment_id":126061947,"body_markdown":"Hi. Lets start with determining if request is reaching to your application server / webserver via logs. If logs are present, it means Spring is denying ther request for some reason, otherwise it is AWS configuration that is denying. PS. Please check if you have allowed TCP connection instead of just HTTP.","body":"Hi. Lets start with determining if request is reaching to your application server / webserver via logs. If logs are present, it means Spring is denying ther request for some reason, otherwise it is AWS configuration that is denying. PS. Please check if you have allowed TCP connection instead of just HTTP."},{"owner":{"account_id":1014682,"reputation":166,"user_id":1026511,"display_name":"Yash Gadhiya"},"score":0,"creation_date":1646206163,"post_id":71317217,"comment_id":126063099,"body_markdown":"Are you enabling SSL in your websocket server? You are listening on port 8080 it seems. So the request is not handled by your web server. I don&#39;t know about Java but I had faced a similar issue while building a websocket server in Node. I had to manually provide the certificate and private keys to the server in order for it to listen on a secure channel. Also in that case you need to use wss:// in your client to connect to the websocket.","body":"Are you enabling SSL in your websocket server? You are listening on port 8080 it seems. So the request is not handled by your web server. I don&#39;t know about Java but I had faced a similar issue while building a websocket server in Node. I had to manually provide the certificate and private keys to the server in order for it to listen on a secure channel. Also in that case you need to use wss:// in your client to connect to the websocket."},{"owner":{"account_id":12658238,"reputation":21,"user_id":9200059,"display_name":"Duderocks"},"score":0,"creation_date":1646237344,"post_id":71317217,"comment_id":126074737,"body_markdown":"@Paras Yes, it is reaching the server.","body":"@Paras Yes, it is reaching the server."}],"answers":[{"tags":[],"owner":{"account_id":12658238,"reputation":21,"user_id":9200059,"display_name":"Duderocks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646253799,"creation_date":1646253799,"answer_id":71328903,"question_id":71317217,"body_markdown":"I found the issue. I have been hosting my tomcat server behind an Apache server which actually routes the traffic to the tomcat. So I was getting the error Spring WebSocket: Handshake failed due to invalid Upgrade header: null.\r\n\r\nI have found the fix for this from https://stackoverflow.com/questions/31211919/spring-websocket-handshake-failed-due-to-invalid-upgrade-header-null\r\n\r\n","title":"Cannot connect to websocket when I change from localhost to a particular URL address","body":"<p>I found the issue. I have been hosting my tomcat server behind an Apache server which actually routes the traffic to the tomcat. So I was getting the error Spring WebSocket: Handshake failed due to invalid Upgrade header: null.</p>\n<p>I have found the fix for this from <a href=\"https://stackoverflow.com/questions/31211919/spring-websocket-handshake-failed-due-to-invalid-upgrade-header-null\">Spring WebSocket: Handshake failed due to invalid Upgrade header: null</a></p>\n"}],"owner":{"account_id":12658238,"reputation":21,"user_id":9200059,"display_name":"Duderocks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1849,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71328903,"answer_count":1,"score":0,"last_activity_date":1655621942,"creation_date":1646192732,"question_id":71317217,"body_markdown":"I have got a WebSocket app which is developed in Spring maven framework which works really well when it is deployed in localhost:8080/test where test is my socket endpoint. Now I deployed the app in my AWS cloud server and tried to connect to the cloud server using the same method but using a specific URL (For example, https://example.com/test) where **test** is the WebSocket endpoint and URL(example.com) being my link similar to localhost:8080. I have also opened the port needed for the necessary connection in the security group.\r\n\r\nFor localhost it works fine but when I try to connect it to my cloud server always the WebSocket returns with an error function of status 400. I am not certain why a status 400 is coming because according to my knowledge status 400 means that it is a bad request. What am I doing wrong guys?\r\n\r\nI am pasting my java code below\r\n\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/ws/&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/test&quot;).setAllowedOrigins(&quot;*&quot;); // This will allow you to use ws://localhost:8080/test to establish websocket connection\r\n        registry.addEndpoint(&quot;/test&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS(); // This will allow you to use http://localhost:8080/test to establish websocket connection\r\n    }\r\n\r\n}\r\n```\r\n\r\nIs it any configuration that I am missing or any code snippet that I am missing?\r\n\r\nP.S: All my testing is done mainly using POSTMAN Websocket request and YES!!! I use wss:// for example.com\r\n\r\nMy POSTMAN URL tends to be **wss://example.com/test** ------&gt; Doesn&#39;t work\r\n\r\n**ws://localhost:8080/test** -------&gt; This works\r\n\r\n","title":"Cannot connect to websocket when I change from localhost to a particular URL address","body":"<p>I have got a WebSocket app which is developed in Spring maven framework which works really well when it is deployed in localhost:8080/test where test is my socket endpoint. Now I deployed the app in my AWS cloud server and tried to connect to the cloud server using the same method but using a specific URL (For example, <a href=\"https://example.com/test\" rel=\"nofollow noreferrer\">https://example.com/test</a>) where <strong>test</strong> is the WebSocket endpoint and URL(example.com) being my link similar to localhost:8080. I have also opened the port needed for the necessary connection in the security group.</p>\n<p>For localhost it works fine but when I try to connect it to my cloud server always the WebSocket returns with an error function of status 400. I am not certain why a status 400 is coming because according to my knowledge status 400 means that it is a bad request. What am I doing wrong guys?</p>\n<p>I am pasting my java code below</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/ws/&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/test&quot;).setAllowedOrigins(&quot;*&quot;); // This will allow you to use ws://localhost:8080/test to establish websocket connection\n        registry.addEndpoint(&quot;/test&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS(); // This will allow you to use http://localhost:8080/test to establish websocket connection\n    }\n\n}\n</code></pre>\n<p>Is it any configuration that I am missing or any code snippet that I am missing?</p>\n<p>P.S: All my testing is done mainly using POSTMAN Websocket request and YES!!! I use wss:// for example.com</p>\n<p>My POSTMAN URL tends to be <strong>wss://example.com/test</strong> ------&gt; Doesn't work</p>\n<p><strong>ws://localhost:8080/test</strong> -------&gt; This works</p>\n"},{"tags":["java","apache-kafka-streams","avro"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654631711,"post_id":72536660,"comment_id":128135702,"body_markdown":"Shouldn&#39;t that be using `Specific` things if it&#39;s going to convert that byte buffer into a `BigDecimal`, now it&#39;s using `Generic` and trying to cast.","body":"Shouldn&#39;t that be using <code>Specific</code> things if it&#39;s going to convert that byte buffer into a <code>BigDecimal</code>, now it&#39;s using <code>Generic</code> and trying to cast."},{"owner":{"account_id":24102009,"reputation":35,"user_id":18073724,"display_name":"Thomas"},"score":0,"creation_date":1654634171,"post_id":72536660,"comment_id":128136433,"body_markdown":"Absolutely, approach for reading avro objects from a stream is via\n`final SpecificAvroSerde&lt;Test1&gt; testSpecificAvroSerde1 = new SpecificAvroSerde&lt;&gt;();\n    final Map&lt;String, Object&gt; props = this.kafkaProperties.buildStreamsProperties();\n    testSpecificAvroSerde1.configure(props, false);` I only mentioned `Generic` to say, that I&#39;ve tried and I can read the avro message.","body":"Absolutely, approach for reading avro objects from a stream is via <code>final SpecificAvroSerde&lt;Test1&gt; testSpecificAvroSerde1 = new SpecificAvroSerde&lt;&gt;();     final Map&lt;String, Object&gt; props = this.kafkaProperties.buildStreamsProperties();     testSpecificAvroSerde1.configure(props, false);</code> I only mentioned <code>Generic</code> to say, that I&#39;ve tried and I can read the avro message."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654635420,"post_id":72536660,"comment_id":128136805,"body_markdown":"I was talking about the stacktrace, e.g. `GenericDatumReader.readWithoutConversion`.","body":"I was talking about the stacktrace, e.g. <code>GenericDatumReader.readWithoutConversion</code>."},{"owner":{"account_id":24102009,"reputation":35,"user_id":18073724,"display_name":"Thomas"},"score":0,"creation_date":1654636655,"post_id":72536660,"comment_id":128137171,"body_markdown":"Got it - yes, couldn&#39;t agree more. Hence my comment - `nested detailed record (TestTest1) is not used in the same way as the master record (Test1)` but don&#39;t know how to enforce that. Logical types don&#39;t get considered correctly which then is leading to a cast exception in the specific record `public void put(int field$, java.lang.Object value$)`. Both classes are there and seem to be used. But for the detail part (i.e. in the array) the handling of logical types doesn&#39;t work.","body":"Got it - yes, couldn&#39;t agree more. Hence my comment - <code>nested detailed record (TestTest1) is not used in the same way as the master record (Test1)</code> but don&#39;t know how to enforce that. Logical types don&#39;t get considered correctly which then is leading to a cast exception in the specific record <code>public void put(int field$, java.lang.Object value$)</code>. Both classes are there and seem to be used. But for the detail part (i.e. in the array) the handling of logical types doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":21107838,"reputation":178,"user_id":15516441,"display_name":"im-pratham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655621309,"creation_date":1655621309,"answer_id":72674797,"question_id":72536660,"body_markdown":"The issue is with AVRO internals. This PR will solve your issue once merged.  https://github.com/apache/avro/pull/1721","title":"Error deserializing Avro message - java.nio.HeapByteBuffer cannot be cast to class java.math.BigDecimal","body":"<p>The issue is with AVRO internals. This PR will solve your issue once merged.  <a href=\"https://github.com/apache/avro/pull/1721\" rel=\"nofollow noreferrer\">https://github.com/apache/avro/pull/1721</a></p>\n"}],"owner":{"account_id":24102009,"reputation":35,"user_id":18073724,"display_name":"Thomas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1732,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72674797,"answer_count":1,"score":1,"last_activity_date":1655621309,"creation_date":1654630302,"question_id":72536660,"body_markdown":"I&#39;m using Confluent schema registry and Avro. Data was ingested to kafka using a JDBC connector which uses an SMT for creating proper avro schemas. Problem occurs during deserialization using SpecificAvroSerde. I&#39;ve got plenty of similar cases and they all work great. So in general the approach of ingesting data, generating avro schema and consuming in stream processors using avro works. The difference with this case is that record contains an array (kind of master/detail record). Below a simplified version of the schema:\r\n\r\n```\r\n{\r\n  &quot;namespace&quot;: &quot;io.confluent.base.model&quot;,\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;Test1&quot;,\r\n  &quot;fields&quot;: [\r\n      { &quot;name&quot;: &quot;opt_identifier&quot;,      &quot;type&quot;: [ &quot;null&quot;, &quot;string&quot; ],&quot;default&quot;: null },\r\n      { &quot;name&quot;: &quot;opt_amount&quot;,          &quot;type&quot;: [ &quot;null&quot;, { &quot;type&quot;:&quot;bytes&quot;, &quot;logicalType&quot;:&quot;decimal&quot;, &quot;precision&quot;:31, &quot;scale&quot;:8 }], &quot;default&quot;: null},\r\n      { &quot;name&quot;: &quot;arr_field&quot;,           &quot;type&quot;: [&quot;null&quot;, { &quot;type&quot;: &quot;array&quot;,\r\n\r\n                                       &quot;items&quot;: {\r\n                                         &quot;name&quot;: &quot;TestTest1&quot;,\r\n                                         &quot;type&quot;: &quot;record&quot;,\r\n                                         &quot;fields&quot;: [\r\n                                             { &quot;name&quot;: &quot;opt_identifier_&quot;,      &quot;type&quot;: [ &quot;null&quot;, &quot;string&quot; ],&quot;default&quot;: null },\r\n                                             { &quot;name&quot;: &quot;opt_amount_&quot;,          &quot;type&quot;: [ &quot;null&quot;, { &quot;type&quot;:&quot;bytes&quot;, &quot;logicalType&quot;:&quot;decimal&quot;, &quot;precision&quot;:31, &quot;scale&quot;:8 }], &quot;default&quot;: null}\r\n                                           ]\r\n                                       },\r\n                                       &quot;default&quot;: [] }],\r\n                                       &quot;default&quot;: null}\r\n\r\n    ]\r\n}\r\n```\r\nThe schema is compiled using avro maven plugin. Both, connector and sonsumer are using same avro jar versions. The exception I receive is\r\n```\r\norg.apache.kafka.common.errors.SerializationException: Error deserializing Avro message for id 79\r\n\tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.read(AbstractKafkaAvroDeserializer.java:409) ~[kafka-avro-serializer-7.0.1.jar:na]\r\n\tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:114) ~[kafka-avro-serializer-7.0.1.jar:na]\r\n\tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:88) ~[kafka-avro-serializer-7.0.1.jar:na]\r\n\tat io.confluent.kafka.serializers.KafkaAvroDeserializer.deserialize(KafkaAvroDeserializer.java:55) ~[kafka-avro-serializer-7.0.1.jar:na]\r\n\tat io.confluent.kafka.streams.serdes.avro.SpecificAvroDeserializer.deserialize(SpecificAvroDeserializer.java:66) ~[kafka-streams-avro-serde-7.0.1.jar:na]\r\n\tat io.confluent.kafka.streams.serdes.avro.SpecificAvroDeserializer.deserialize(SpecificAvroDeserializer.java:38) ~[kafka-streams-avro-serde-7.0.1.jar:na]\r\n\tat org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60) ~[kafka-clients-3.0.0.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.SourceNode.deserializeValue(SourceNode.java:58) ~[kafka-streams-3.0.0.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.RecordDeserializer.deserialize(RecordDeserializer.java:66) ~[kafka-streams-3.0.0.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.RecordQueue.updateHead(RecordQueue.java:176) ~[kafka-streams-3.0.0.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.RecordQueue.addRawRecords(RecordQueue.java:112) ~[kafka-streams-3.0.0.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.PartitionGroup.addRawRecords(PartitionGroup.java:304) ~[kafka-streams-3.0.0.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.StreamTask.addRecords(StreamTask.java:960) ~[kafka-streams-3.0.0.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.TaskManager.addRecordsToTasks(TaskManager.java:1000) ~[kafka-streams-3.0.0.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.StreamThread.pollPhase(StreamThread.java:914) ~[kafka-streams-3.0.0.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.StreamThread.runOnce(StreamThread.java:720) ~[kafka-streams-3.0.0.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:583) ~[kafka-streams-3.0.0.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:555) ~[kafka-streams-3.0.0.jar:na]\r\nCaused by: java.lang.ClassCastException: class java.nio.HeapByteBuffer cannot be cast to class java.math.BigDecimal (java.nio.HeapByteBuffer and java.math.BigDecimal are in module java.base of loader &#39;bootstrap&#39;)\r\n\tat io.confluent.base.model.TestTest1.put(TestTest1.java:416) ~[classes/:na]\r\n\tat org.apache.avro.generic.GenericData.setField(GenericData.java:818) ~[avro-1.10.1.jar:1.10.1]\r\n\tat org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:139) ~[avro-1.10.1.jar:1.10.1]\r\n\tat org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:247) ~[avro-1.10.1.jar:1.10.1]\r\n\tat org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123) ~[avro-1.10.1.jar:1.10.1]\r\n\tat org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:179) ~[avro-1.10.1.jar:1.10.1]\r\n\tat org.apache.avro.generic.GenericDatumReader.readArray(GenericDatumReader.java:298) ~[avro-1.10.1.jar:1.10.1]\r\n\tat org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:183) ~[avro-1.10.1.jar:1.10.1]\r\n\tat org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:136) ~[avro-1.10.1.jar:1.10.1]\r\n\tat org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:247) ~[avro-1.10.1.jar:1.10.1]\r\n\tat org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123) ~[avro-1.10.1.jar:1.10.1]\r\n\tat org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:179) ~[avro-1.10.1.jar:1.10.1]\r\n\tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:160) ~[avro-1.10.1.jar:1.10.1]\r\n\tat org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:187) ~[avro-1.10.1.jar:1.10.1]\r\n\tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:160) ~[avro-1.10.1.jar:1.10.1]\r\n\tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:153) ~[avro-1.10.1.jar:1.10.1]\r\n\tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.read(AbstractKafkaAvroDeserializer.java:400) ~[kafka-avro-serializer-7.0.1.jar:na]\r\n\t... 17 common frames omitted\r\n```\r\nI can read the same message using GenericRecord and all fields are there. Hence the avro record got serialized correctly.&lt;p&gt;\r\nMy current understanding: \r\n\r\n - The problem is linked to logical types\r\n - The same logical type is deserialized at the master level (e.g. `opt_amount`) without problems\r\n - The field `opt_amount_` however throws the exception hence I suspect that this nested detailed record `TestTest1` is not used in the same way as the master record `Test1`. ","title":"Error deserializing Avro message - java.nio.HeapByteBuffer cannot be cast to class java.math.BigDecimal","body":"<p>I'm using Confluent schema registry and Avro. Data was ingested to kafka using a JDBC connector which uses an SMT for creating proper avro schemas. Problem occurs during deserialization using SpecificAvroSerde. I've got plenty of similar cases and they all work great. So in general the approach of ingesting data, generating avro schema and consuming in stream processors using avro works. The difference with this case is that record contains an array (kind of master/detail record). Below a simplified version of the schema:</p>\n<pre><code>{\n  &quot;namespace&quot;: &quot;io.confluent.base.model&quot;,\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;Test1&quot;,\n  &quot;fields&quot;: [\n      { &quot;name&quot;: &quot;opt_identifier&quot;,      &quot;type&quot;: [ &quot;null&quot;, &quot;string&quot; ],&quot;default&quot;: null },\n      { &quot;name&quot;: &quot;opt_amount&quot;,          &quot;type&quot;: [ &quot;null&quot;, { &quot;type&quot;:&quot;bytes&quot;, &quot;logicalType&quot;:&quot;decimal&quot;, &quot;precision&quot;:31, &quot;scale&quot;:8 }], &quot;default&quot;: null},\n      { &quot;name&quot;: &quot;arr_field&quot;,           &quot;type&quot;: [&quot;null&quot;, { &quot;type&quot;: &quot;array&quot;,\n\n                                       &quot;items&quot;: {\n                                         &quot;name&quot;: &quot;TestTest1&quot;,\n                                         &quot;type&quot;: &quot;record&quot;,\n                                         &quot;fields&quot;: [\n                                             { &quot;name&quot;: &quot;opt_identifier_&quot;,      &quot;type&quot;: [ &quot;null&quot;, &quot;string&quot; ],&quot;default&quot;: null },\n                                             { &quot;name&quot;: &quot;opt_amount_&quot;,          &quot;type&quot;: [ &quot;null&quot;, { &quot;type&quot;:&quot;bytes&quot;, &quot;logicalType&quot;:&quot;decimal&quot;, &quot;precision&quot;:31, &quot;scale&quot;:8 }], &quot;default&quot;: null}\n                                           ]\n                                       },\n                                       &quot;default&quot;: [] }],\n                                       &quot;default&quot;: null}\n\n    ]\n}\n</code></pre>\n<p>The schema is compiled using avro maven plugin. Both, connector and sonsumer are using same avro jar versions. The exception I receive is</p>\n<pre><code>org.apache.kafka.common.errors.SerializationException: Error deserializing Avro message for id 79\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.read(AbstractKafkaAvroDeserializer.java:409) ~[kafka-avro-serializer-7.0.1.jar:na]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:114) ~[kafka-avro-serializer-7.0.1.jar:na]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:88) ~[kafka-avro-serializer-7.0.1.jar:na]\n    at io.confluent.kafka.serializers.KafkaAvroDeserializer.deserialize(KafkaAvroDeserializer.java:55) ~[kafka-avro-serializer-7.0.1.jar:na]\n    at io.confluent.kafka.streams.serdes.avro.SpecificAvroDeserializer.deserialize(SpecificAvroDeserializer.java:66) ~[kafka-streams-avro-serde-7.0.1.jar:na]\n    at io.confluent.kafka.streams.serdes.avro.SpecificAvroDeserializer.deserialize(SpecificAvroDeserializer.java:38) ~[kafka-streams-avro-serde-7.0.1.jar:na]\n    at org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60) ~[kafka-clients-3.0.0.jar:na]\n    at org.apache.kafka.streams.processor.internals.SourceNode.deserializeValue(SourceNode.java:58) ~[kafka-streams-3.0.0.jar:na]\n    at org.apache.kafka.streams.processor.internals.RecordDeserializer.deserialize(RecordDeserializer.java:66) ~[kafka-streams-3.0.0.jar:na]\n    at org.apache.kafka.streams.processor.internals.RecordQueue.updateHead(RecordQueue.java:176) ~[kafka-streams-3.0.0.jar:na]\n    at org.apache.kafka.streams.processor.internals.RecordQueue.addRawRecords(RecordQueue.java:112) ~[kafka-streams-3.0.0.jar:na]\n    at org.apache.kafka.streams.processor.internals.PartitionGroup.addRawRecords(PartitionGroup.java:304) ~[kafka-streams-3.0.0.jar:na]\n    at org.apache.kafka.streams.processor.internals.StreamTask.addRecords(StreamTask.java:960) ~[kafka-streams-3.0.0.jar:na]\n    at org.apache.kafka.streams.processor.internals.TaskManager.addRecordsToTasks(TaskManager.java:1000) ~[kafka-streams-3.0.0.jar:na]\n    at org.apache.kafka.streams.processor.internals.StreamThread.pollPhase(StreamThread.java:914) ~[kafka-streams-3.0.0.jar:na]\n    at org.apache.kafka.streams.processor.internals.StreamThread.runOnce(StreamThread.java:720) ~[kafka-streams-3.0.0.jar:na]\n    at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:583) ~[kafka-streams-3.0.0.jar:na]\n    at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:555) ~[kafka-streams-3.0.0.jar:na]\nCaused by: java.lang.ClassCastException: class java.nio.HeapByteBuffer cannot be cast to class java.math.BigDecimal (java.nio.HeapByteBuffer and java.math.BigDecimal are in module java.base of loader 'bootstrap')\n    at io.confluent.base.model.TestTest1.put(TestTest1.java:416) ~[classes/:na]\n    at org.apache.avro.generic.GenericData.setField(GenericData.java:818) ~[avro-1.10.1.jar:1.10.1]\n    at org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:139) ~[avro-1.10.1.jar:1.10.1]\n    at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:247) ~[avro-1.10.1.jar:1.10.1]\n    at org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123) ~[avro-1.10.1.jar:1.10.1]\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:179) ~[avro-1.10.1.jar:1.10.1]\n    at org.apache.avro.generic.GenericDatumReader.readArray(GenericDatumReader.java:298) ~[avro-1.10.1.jar:1.10.1]\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:183) ~[avro-1.10.1.jar:1.10.1]\n    at org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:136) ~[avro-1.10.1.jar:1.10.1]\n    at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:247) ~[avro-1.10.1.jar:1.10.1]\n    at org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123) ~[avro-1.10.1.jar:1.10.1]\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:179) ~[avro-1.10.1.jar:1.10.1]\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:160) ~[avro-1.10.1.jar:1.10.1]\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:187) ~[avro-1.10.1.jar:1.10.1]\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:160) ~[avro-1.10.1.jar:1.10.1]\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:153) ~[avro-1.10.1.jar:1.10.1]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.read(AbstractKafkaAvroDeserializer.java:400) ~[kafka-avro-serializer-7.0.1.jar:na]\n    ... 17 common frames omitted\n</code></pre>\n<p>I can read the same message using GenericRecord and all fields are there. Hence the avro record got serialized correctly.<p>\nMy current understanding:</p>\n<ul>\n<li>The problem is linked to logical types</li>\n<li>The same logical type is deserialized at the master level (e.g. <code>opt_amount</code>) without problems</li>\n<li>The field <code>opt_amount_</code> however throws the exception hence I suspect that this nested detailed record <code>TestTest1</code> is not used in the same way as the master record <code>Test1</code>.</li>\n</ul>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":3543312,"reputation":1760,"user_id":2959880,"accept_rate":93,"display_name":"Babyburger"},"score":0,"creation_date":1655619530,"post_id":72674646,"comment_id":128371724,"body_markdown":"Oh no.  I only just started to read the exception more clearly.  It&#39;s not complaining about the .p12 file, it is complaining about the path.  It cannot parse the path with `jar:...` it seems.","body":"Oh no.  I only just started to read the exception more clearly.  It&#39;s not complaining about the .p12 file, it is complaining about the path.  It cannot parse the path with <code>jar:...</code> it seems."}],"answers":[{"tags":[],"owner":{"account_id":3543312,"reputation":1760,"user_id":2959880,"accept_rate":93,"display_name":"Babyburger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655620030,"creation_date":1655620030,"answer_id":72674701,"question_id":72674646,"body_markdown":"It was no longer interpreting the path to the jar correctly from Maven. It complained about the path `jar:...`, the semicolon.\r\n\r\nI solved it by copying `/ssl/localhost.p12` to the test resources of my integration test Maven module.\r\n\r\nI have no explanation for why it could interpret the jar path in Java 8 and not in Java 17 though.","title":"Failed to load keystore type [PKCS12] after upgrade to Java 17","body":"<p>It was no longer interpreting the path to the jar correctly from Maven. It complained about the path <code>jar:...</code>, the semicolon.</p>\n<p>I solved it by copying <code>/ssl/localhost.p12</code> to the test resources of my integration test Maven module.</p>\n<p>I have no explanation for why it could interpret the jar path in Java 8 and not in Java 17 though.</p>\n"}],"owner":{"account_id":3543312,"reputation":1760,"user_id":2959880,"accept_rate":93,"display_name":"Babyburger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655620030,"creation_date":1655619203,"question_id":72674646,"body_markdown":"I run my Springboot application with ssl on localhost.  I have some integration tests that validate that ssl works:\r\n\r\n*application.properties*\r\n\r\n    server.ssl.key-store-type=PKCS12\r\n    server.ssl.key-store=classpath:ssl/localhost.p12\r\n    server.ssl.key-store-password=localhost_ssl\r\n    server.ssl.key-alias=localhost_ssl\r\n    server.ssl.enabled=true\r\n\r\n*integration test*\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;getSslTestParameters&quot;)\r\n    void onlyAllowSecureCallsToEndpoint(boolean includesSecure, ResultMatcher expectedStatus) throws Exception {\r\n        MockHttpServletRequestBuilder postCall = post(&quot;/api/tutors/register&quot;)\r\n                .content(objectMapper.writeValueAsString(TutorRegistrationDTO.builder().build()))\r\n                .contentType(APPLICATION_JSON)\r\n                .with(csrf());\r\n        if (includesSecure) {\r\n            postCall.secure(true);\r\n        }\r\n        mvc.perform(postCall).andExpect(expectedStatus);\r\n    }\r\n\r\n    private static Stream&lt;Arguments&gt; getSslTestParameters() {\r\n        return Stream.of(\r\n                Arguments.of(true, status().isOk()),\r\n                Arguments.of(false, status().isFound()));\r\n    }\r\n\r\nThis test worked fine in Java 8 when I run it with IntelliJ and Maven.  Now I did an upgrade to Java 17 and it still works when I run it with IntelliJ, but it stopped working when I run a Maven build.  I get the following error:\r\n\r\n    IOException: Failed to load keystore type [PKCS12] with path [jar:file:/C:/mypath/target/app-1.0.0-SNAPSHOT.jar!/ssl/localhost.p12] due to [Illegal char &lt;:&gt; at index 3: jar:file:\\C:\\mypath\\target\\app-1.0.0-SNAPSHOT.jar!\\ssl\\localhost.p12]\r\n\r\nI can confirm that `localhost.p12` is available within the jar, but it seems to have a problem with parsing the .p12 file.  I assume the file itself is not wrong since the test still works with IntelliJ.  \r\n\r\nI already verified that IntelliJ is not giving me a false positive by setting `postCall.secure(false)` and verified that a test fails as expected.\r\n\r\nDid something change with the way ssl works between Java 8 and 17?  I couldn&#39;t find anything related in the documentation.\r\n\r\nEDIT: I should add that the application still runs without a problem.  The problem lies purely with the test.","title":"Failed to load keystore type [PKCS12] after upgrade to Java 17","body":"<p>I run my Springboot application with ssl on localhost.  I have some integration tests that validate that ssl works:</p>\n<p><em>application.properties</em></p>\n<pre><code>server.ssl.key-store-type=PKCS12\nserver.ssl.key-store=classpath:ssl/localhost.p12\nserver.ssl.key-store-password=localhost_ssl\nserver.ssl.key-alias=localhost_ssl\nserver.ssl.enabled=true\n</code></pre>\n<p><em>integration test</em></p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;getSslTestParameters&quot;)\nvoid onlyAllowSecureCallsToEndpoint(boolean includesSecure, ResultMatcher expectedStatus) throws Exception {\n    MockHttpServletRequestBuilder postCall = post(&quot;/api/tutors/register&quot;)\n            .content(objectMapper.writeValueAsString(TutorRegistrationDTO.builder().build()))\n            .contentType(APPLICATION_JSON)\n            .with(csrf());\n    if (includesSecure) {\n        postCall.secure(true);\n    }\n    mvc.perform(postCall).andExpect(expectedStatus);\n}\n\nprivate static Stream&lt;Arguments&gt; getSslTestParameters() {\n    return Stream.of(\n            Arguments.of(true, status().isOk()),\n            Arguments.of(false, status().isFound()));\n}\n</code></pre>\n<p>This test worked fine in Java 8 when I run it with IntelliJ and Maven.  Now I did an upgrade to Java 17 and it still works when I run it with IntelliJ, but it stopped working when I run a Maven build.  I get the following error:</p>\n<pre><code>IOException: Failed to load keystore type [PKCS12] with path [jar:file:/C:/mypath/target/app-1.0.0-SNAPSHOT.jar!/ssl/localhost.p12] due to [Illegal char &lt;:&gt; at index 3: jar:file:\\C:\\mypath\\target\\app-1.0.0-SNAPSHOT.jar!\\ssl\\localhost.p12]\n</code></pre>\n<p>I can confirm that <code>localhost.p12</code> is available within the jar, but it seems to have a problem with parsing the .p12 file.  I assume the file itself is not wrong since the test still works with IntelliJ.</p>\n<p>I already verified that IntelliJ is not giving me a false positive by setting <code>postCall.secure(false)</code> and verified that a test fails as expected.</p>\n<p>Did something change with the way ssl works between Java 8 and 17?  I couldn't find anything related in the documentation.</p>\n<p>EDIT: I should add that the application still runs without a problem.  The problem lies purely with the test.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2679942,"reputation":467,"user_id":2315516,"display_name":"Golil"},"score":0,"creation_date":1655616759,"post_id":72674283,"comment_id":128371399,"body_markdown":"have you declared this activity in your AndroidManifest.xml?","body":"have you declared this activity in your AndroidManifest.xml?"}],"answers":[{"tags":[],"owner":{"account_id":8686127,"reputation":46,"user_id":6500498,"display_name":"Prakash Niraula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655619829,"creation_date":1655613145,"answer_id":72674295,"question_id":72674283,"body_markdown":"Check if your Activity is listed in your Android Manifest File. IF not so add \r\n\r\n  activity android:name=&quot;.view_controller.Home&quot;\r\n\r\n activity like this then you would be able to navigate from one activity to another.\r\n","title":"how to fix error in context.startActivity(intent)?","body":"<p>Check if your Activity is listed in your Android Manifest File. IF not so add</p>\n<p>activity android:name=&quot;.view_controller.Home&quot;</p>\n<p>activity like this then you would be able to navigate from one activity to another.</p>\n"}],"owner":{"account_id":25590556,"reputation":1,"user_id":19367387,"display_name":"Ambrish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655619829,"creation_date":1655612851,"question_id":72674283,"body_markdown":"my app crashes when i click and the logcat points me to this line mentioned below.\r\n\r\n```\r\npublic void onClick(View v) {\r\n                Intent intent = new Intent(mContext, Recipe.class)\r\n\r\n                intent.putExtra(&quot;Name&quot;,mData.get(i).getRecipeName());\r\n                intent.putExtra(&quot;Description&quot;,mData.get(i).getRecipeDescription());\r\n                intent.putExtra(&quot;Duration&quot;,mData.get(i).getRecipeDuration());\r\n                intent.putExtra(&quot;Method&quot;, mData.get(i).getRecipeMethod());\r\n                intent.putExtra(&quot;Ingredients&quot;, mData.get(i).getRecipeIngredients());\r\n\r\n                mContext.startActivity(intent);//error in this line\r\n\r\n            }\r\n```\r\n\r\nThese are the error I see in logcat.\r\n```\r\nandroid.content.ActivityNotFoundException: Unable to find explicit activity class {com.example.assignment1mypageambrish/com.example.assignment1mypageambrish.Recipe}; have you declared this activity in your AndroidManifest.xml?\r\n        at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2065)\r\n        at android.app.Instrumentation.execStartActivity(Instrumentation.java:1727)\r\n        at android.app.Activity.startActivityForResult(Activity.java:5320)\r\n        at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:597)\r\n        at android.app.Activity.startActivityForResult(Activity.java:5278)\r\n        at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:583)\r\n        at android.app.Activity.startActivity(Activity.java:5664)\r\n        at android.app.Activity.startActivity(Activity.java:5617)\r\n        at com.example.assignment1mypageambrish.RecyclerViewAdapter$1.onClick(RecyclerViewAdapter.java:68)\r\n        at android.view.View.performClick(View.java:7448)\r\n        at android.view.View.performClickInternal(View.java:7425)\r\n        at android.view.View.access$3600(View.java:810)\r\n        at android.view.View$PerformClick.run(View.java:28305)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n```\r\n\r\nHow do I fix this?","title":"how to fix error in context.startActivity(intent)?","body":"<p>my app crashes when i click and the logcat points me to this line mentioned below.</p>\n<pre><code>public void onClick(View v) {\n                Intent intent = new Intent(mContext, Recipe.class)\n\n                intent.putExtra(&quot;Name&quot;,mData.get(i).getRecipeName());\n                intent.putExtra(&quot;Description&quot;,mData.get(i).getRecipeDescription());\n                intent.putExtra(&quot;Duration&quot;,mData.get(i).getRecipeDuration());\n                intent.putExtra(&quot;Method&quot;, mData.get(i).getRecipeMethod());\n                intent.putExtra(&quot;Ingredients&quot;, mData.get(i).getRecipeIngredients());\n\n                mContext.startActivity(intent);//error in this line\n\n            }\n</code></pre>\n<p>These are the error I see in logcat.</p>\n<pre><code>android.content.ActivityNotFoundException: Unable to find explicit activity class {com.example.assignment1mypageambrish/com.example.assignment1mypageambrish.Recipe}; have you declared this activity in your AndroidManifest.xml?\n        at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2065)\n        at android.app.Instrumentation.execStartActivity(Instrumentation.java:1727)\n        at android.app.Activity.startActivityForResult(Activity.java:5320)\n        at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:597)\n        at android.app.Activity.startActivityForResult(Activity.java:5278)\n        at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:583)\n        at android.app.Activity.startActivity(Activity.java:5664)\n        at android.app.Activity.startActivity(Activity.java:5617)\n        at com.example.assignment1mypageambrish.RecyclerViewAdapter$1.onClick(RecyclerViewAdapter.java:68)\n        at android.view.View.performClick(View.java:7448)\n        at android.view.View.performClickInternal(View.java:7425)\n        at android.view.View.access$3600(View.java:810)\n        at android.view.View$PerformClick.run(View.java:28305)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>How do I fix this?</p>\n"},{"tags":["java","gradle","devops","nexus"],"comments":[{"owner":{"account_id":1755304,"reputation":3707,"user_id":1603511,"accept_rate":86,"display_name":"p.streef"},"score":0,"creation_date":1627459477,"post_id":68555371,"comment_id":121159194,"body_markdown":"this looks incomplete to me. if this is all you have than the publish command should not work (unless it&#39;s part of the spring boot plugin nowadays maybe).\n\nI believe the syntax is also incorrect and that the repositories block should not be in the plugins closure.\nCould you post the full settings.gradle and build.gradle files?","body":"this looks incomplete to me. if this is all you have than the publish command should not work (unless it&#39;s part of the spring boot plugin nowadays maybe).  I believe the syntax is also incorrect and that the repositories block should not be in the plugins closure. Could you post the full settings.gradle and build.gradle files?"}],"answers":[{"tags":[],"owner":{"account_id":11902638,"reputation":1,"user_id":8710154,"display_name":"Aadil Patni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655618588,"creation_date":1655618458,"answer_id":72674588,"question_id":68555371,"body_markdown":"     allowInsecureProtocol = true\r\n\r\nadd this and then it will work perfect.","title":"gradlew publish is giving error not able to create copy on my repo","body":"<pre><code> allowInsecureProtocol = true\n</code></pre>\n<p>add this and then it will work perfect.</p>\n"}],"owner":{"account_id":22320664,"reputation":341,"user_id":16543339,"display_name":"Bilal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655618588,"creation_date":1627453489,"question_id":68555371,"body_markdown":"I am new with Nexus trying to run gradlew publish , but is giving error as mention below : \r\n---------------\r\n\r\n        C:\\&gt;gradlew publish\r\n    &gt; Task :publishMavenPublicationToNexusRepository FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:publishMavenPublicationToNexusRepository&#39;.\r\n    &gt; Failed to publish publication &#39;maven&#39; to repository &#39;nexus&#39;\r\n       &gt; Invalid publication &#39;maven&#39;: artifact file does not exist: \r\n  \r\nI am trying to follow some Bootcamp training and this is the code I got :\r\n\r\n  ------------------ \r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;2.2.2.RELEASE&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.8.RELEASE&#39;\r\n \r\n        repositories {\r\n            maven {\r\n                name &#39;nexus&#39;\r\n                url &quot;http://139.59.150.201:8081/repository/maven-snapshots/&quot;\r\n                credentials {\r\n                    username project.repoUser\r\n                    password project.repoPassword\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n \r\n\r\n","title":"gradlew publish is giving error not able to create copy on my repo","body":"<h2 id=\"i-am-new-with-nexus-trying-to-run-gradlew-publish-but-is-giving-error-as-mention-below\">I am new with Nexus trying to run gradlew publish , but is giving error as mention below :</h2>\n<pre><code>    C:\\&gt;gradlew publish\n&gt; Task :publishMavenPublicationToNexusRepository FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':publishMavenPublicationToNexusRepository'.\n&gt; Failed to publish publication 'maven' to repository 'nexus'\n   &gt; Invalid publication 'maven': artifact file does not exist: \n</code></pre>\n<p>I am trying to follow some Bootcamp training and this is the code I got :</p>\n<hr />\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.2.2.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.8.RELEASE'\n\n    repositories {\n        maven {\n            name 'nexus'\n            url &quot;http://139.59.150.201:8081/repository/maven-snapshots/&quot;\n            credentials {\n                username project.repoUser\n                password project.repoPassword\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","multithreading","spring-boot","weblogic"],"answers":[{"tags":[],"owner":{"account_id":5259603,"reputation":1061,"user_id":4201470,"display_name":"CodeNotFound"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655616108,"creation_date":1545039943,"answer_id":53812564,"question_id":52050440,"body_markdown":"Create a `ConnectionFactory`:\r\n\r\n      @Bean\r\n      public ActiveMQConnectionFactory receiverActiveMQConnectionFactory() {\r\n        ActiveMQConnectionFactory activeMQConnectionFactory =\r\n            new ActiveMQConnectionFactory();\r\n        activeMQConnectionFactory.setBrokerURL(&quot;yourBrokerUrl&quot;);\r\n    \r\n        return activeMQConnectionFactory;\r\n      }\r\n\r\nCreate a `DefaultJmsListenerContainerFactory`:\r\n\r\n      @Bean\r\n      public DefaultJmsListenerContainerFactory orderDefaultJmsListenerContainerFactory() {\r\n        DefaultJmsListenerContainerFactory factory =\r\n            new DefaultJmsListenerContainerFactory();\r\n        factory\r\n            .setConnectionFactory(receiverActiveMQConnectionFactory());\r\n        factory.setConcurrency(&quot;3-10&quot;);\r\n    \r\n        return factory;\r\n      }\r\n\r\nCreate your `DefaultMessageListenerContainer`:\r\n\r\n      @Bean\r\n      public DefaultMessageListenerContainer orderMessageListenerContainer() {\r\n        SimpleJmsListenerEndpoint endpoint =\r\n            new SimpleJmsListenerEndpoint();\r\n        endpoint.setMessageListener(new YourMessageListener());\r\n        endpoint.setDestination(&quot;yourDestination&quot;);\r\n    \r\n        return orderDefaultJmsListenerContainerFactory()\r\n            .createListenerContainer(endpoint);\r\n      }\r\n\r\nFor a more detailed example checkout this post I created on [Spring JMS listeners][1].\r\n\r\n\r\n  [1]: https://codenotfound.com/spring-jms-listener-example.html","title":"How to create DefaultMessageListenerContainer in Spring-Boot?","body":"<p>Create a <code>ConnectionFactory</code>:</p>\n<pre><code>  @Bean\n  public ActiveMQConnectionFactory receiverActiveMQConnectionFactory() {\n    ActiveMQConnectionFactory activeMQConnectionFactory =\n        new ActiveMQConnectionFactory();\n    activeMQConnectionFactory.setBrokerURL(&quot;yourBrokerUrl&quot;);\n\n    return activeMQConnectionFactory;\n  }\n</code></pre>\n<p>Create a <code>DefaultJmsListenerContainerFactory</code>:</p>\n<pre><code>  @Bean\n  public DefaultJmsListenerContainerFactory orderDefaultJmsListenerContainerFactory() {\n    DefaultJmsListenerContainerFactory factory =\n        new DefaultJmsListenerContainerFactory();\n    factory\n        .setConnectionFactory(receiverActiveMQConnectionFactory());\n    factory.setConcurrency(&quot;3-10&quot;);\n\n    return factory;\n  }\n</code></pre>\n<p>Create your <code>DefaultMessageListenerContainer</code>:</p>\n<pre><code>  @Bean\n  public DefaultMessageListenerContainer orderMessageListenerContainer() {\n    SimpleJmsListenerEndpoint endpoint =\n        new SimpleJmsListenerEndpoint();\n    endpoint.setMessageListener(new YourMessageListener());\n    endpoint.setDestination(&quot;yourDestination&quot;);\n\n    return orderDefaultJmsListenerContainerFactory()\n        .createListenerContainer(endpoint);\n  }\n</code></pre>\n<p>For a more detailed example checkout this post I created on <a href=\"https://codenotfound.com/spring-jms-listener-example.html\" rel=\"nofollow noreferrer\">Spring JMS listeners</a>.</p>\n"}],"owner":{"account_id":2200566,"reputation":209,"user_id":1945064,"accept_rate":67,"display_name":"user1945064"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13001,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1655616108,"creation_date":1535432668,"question_id":52050440,"body_markdown":"I am new to Spring-Boot and trying to create DefaultMessageListenerContainer so I can use the weblogic workmanager and run several message listeners in multithreaded fashion.\r\n\r\nCan someone please provide some example.\r\nSo far, I found the below solution but how do I implement this in Spring-Boot?\r\n\r\n    &lt;bean class=&quot;org.springframework.jms.listener.SimpleMessageListenerContainer&quot;&gt;\r\n        &lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot;/&gt;\r\n        &lt;property name=&quot;destination&quot; ref=&quot;destination&quot;/&gt;\r\n        &lt;property name=&quot;messageListener&quot; ref=&quot;receiver&quot;/&gt;\r\n        &lt;property name=&quot;taskExecutor&quot; ref=&quot;taskExecutor&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n","title":"How to create DefaultMessageListenerContainer in Spring-Boot?","body":"<p>I am new to Spring-Boot and trying to create DefaultMessageListenerContainer so I can use the weblogic workmanager and run several message listeners in multithreaded fashion.</p>\n\n<p>Can someone please provide some example.\nSo far, I found the below solution but how do I implement this in Spring-Boot?</p>\n\n<pre><code>&lt;bean class=\"org.springframework.jms.listener.SimpleMessageListenerContainer\"&gt;\n    &lt;property name=\"connectionFactory\" ref=\"connectionFactory\"/&gt;\n    &lt;property name=\"destination\" ref=\"destination\"/&gt;\n    &lt;property name=\"messageListener\" ref=\"receiver\"/&gt;\n    &lt;property name=\"taskExecutor\" ref=\"taskExecutor\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5561757,"reputation":3096,"user_id":4410674,"display_name":"Nick Bailey"},"score":6,"creation_date":1655601646,"post_id":72673712,"comment_id":128370054,"body_markdown":"Worth noting, it is going to be both easier and more computationally efficient to solve this with a simple loop. Also, requiring special characters doesn&#39;t improve password strength much, as everyone just uses @ or similar. You are better off imposing a high min length.","body":"Worth noting, it is going to be both easier and more computationally efficient to solve this with a simple loop. Also, requiring special characters doesn&#39;t improve password strength much, as everyone just uses @ or similar. You are better off imposing a high min length."},{"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"score":2,"creation_date":1655601654,"post_id":72673712,"comment_id":128370055,"body_markdown":"Works for me: https://regex101.com/r/TSnABc/1","body":"Works for me: <a href=\"https://regex101.com/r/TSnABc/1\" rel=\"nofollow noreferrer\">regex101.com/r/TSnABc/1</a>"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":2,"creation_date":1655601686,"post_id":72673712,"comment_id":128370056,"body_markdown":"Java regex expects to match the entire string.","body":"Java regex expects to match the entire string."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":4,"creation_date":1655601897,"post_id":72673712,"comment_id":128370072,"body_markdown":"I&#39;m going to amplify Nick&#39;s comment and say this is an unmitigated maintenance nightmare, even if you get it to work.  Please document whatever it does so that someone else has a chance of fixing it later if needed.","body":"I&#39;m going to amplify Nick&#39;s comment and say this is an unmitigated maintenance nightmare, even if you get it to work.  Please document whatever it does so that someone else has a chance of fixing it later if needed."},{"owner":{"account_id":3509903,"reputation":7433,"user_id":3253896,"accept_rate":63,"display_name":"Denis Steinman"},"score":0,"creation_date":1655601901,"post_id":72673712,"comment_id":128370073,"body_markdown":"@Nick, thank you, your expression really works. I didn&#39;t add `.*` at the end, seems I got how it works. Thank you one more time for this sample.","body":"@Nick, thank you, your expression really works. I didn&#39;t add <code>.*</code> at the end, seems I got how it works. Thank you one more time for this sample."},{"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"score":0,"creation_date":1655602042,"post_id":72673712,"comment_id":128370081,"body_markdown":"@markspace too many Nick&#39;s, can you edit your comment to clarify it&#39;s about Nick Bailey&#39;s?","body":"@markspace too many Nick&#39;s, can you edit your comment to clarify it&#39;s about Nick Bailey&#39;s?"},{"owner":{"account_id":3509903,"reputation":7433,"user_id":3253896,"accept_rate":63,"display_name":"Denis Steinman"},"score":0,"creation_date":1655602170,"post_id":72673712,"comment_id":128370098,"body_markdown":"@NickBailey, I understand what you mean, there is a length restriction too, it is checked before this regular expression.","body":"@NickBailey, I understand what you mean, there is a length restriction too, it is checked before this regular expression."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1655602956,"post_id":72673712,"comment_id":128370178,"body_markdown":"Sorry, past the editing threshold now, I meant the first Nick, Bailey.","body":"Sorry, past the editing threshold now, I meant the first Nick, Bailey."},{"owner":{"account_id":6318592,"reputation":11944,"user_id":4907604,"accept_rate":83,"display_name":"m69 &#39;&#39;snarky and unwelcoming&#39;&#39;"},"score":1,"creation_date":1655608414,"post_id":72673712,"comment_id":128370650,"body_markdown":"You could use a look-up table as in this answer: https://stackoverflow.com/questions/57682576/most-efficient-way-to-find-if-a-string-is-mixedcase/57683560#57683560","body":"You could use a look-up table as in this answer: <a href=\"https://stackoverflow.com/questions/57682576/most-efficient-way-to-find-if-a-string-is-mixedcase/57683560#57683560\" title=\"most efficient way to find if a string is mixedcase\">stackoverflow.com/questions/57682576/&hellip;</a>"},{"owner":{"account_id":3509903,"reputation":7433,"user_id":3253896,"accept_rate":63,"display_name":"Denis Steinman"},"score":0,"creation_date":1655609939,"post_id":72673712,"comment_id":128370760,"body_markdown":"@m69isdisappointedinSE Hmm, I didnt even hear about look-up tables before Thank you, Ill learn more about it","body":"@m69isdisappointedinSE Hmm, I didnt even hear about look-up tables before Thank you, Ill learn more about it"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1655636863,"post_id":72673712,"comment_id":128374472,"body_markdown":"Please provide more code. Are you using `matches()` and have [read this](https://stackoverflow.com/a/8923446/5527985)? Your current regex matches one or many *zero-width positions*. It can never match the full string. [Attach `.+` at the end (demo)](https://tio.run/##dY9LS8UwEIX3/RVDV6nSgG@hXFSKywtCceN9QGxjTU3akEwvPri/vY5punSR5OR8M5OTThxE3jUf06SMHRxCRwYfUWnuZCs/@Vpg/S5dkfzDnwSidH2RJHZ81aqGWgvvYS1UDz8JQHQ9CqTjMKgGDDFWoVN9u9mBcK3PQilA2GZCHQ5WkJ6dX1xeXd/c3pdNWgQeXwRLOGpeD8YqLVnK7lb8ZLttsiA2Iv/eRfmQvyxyTwVEgsNP02yeG38KhuZabuYboxjEQ4F6Yyb6nmVLZgr85VEaPozILUVH3bO0ei7Lx6paZh@Tv3Wcpl8) or use `find()`","body":"Please provide more code. Are you using <code>matches()</code> and have <a href=\"https://stackoverflow.com/a/8923446/5527985\">read this</a>? Your current regex matches one or many <i>zero-width positions</i>. It can never match the full string. <a href=\"https://tio.run/##dY9LS8UwEIX3/RVDV6nSgG@hXFSKywtCceN9QGxjTU3akEwvPri/vY5punSR5OR8M5OTThxE3jUf06SMHRxCRwYfUWnuZCs/@Vpg/S5dkfzDnwSidH2RJHZ81aqGWgvvYS1UDz8JQHQ9CqTjMKgGDDFWoVN9u9mBcK3PQilA2GZCHQ5WkJ6dX1xeXd/c3pdNWgQeXwRLOGpeD8YqLVnK7lb8ZLttsiA2Iv/eRfmQvyxyTwVEgsNP02yeG38KhuZabuYboxjEQ4F6Yyb6nmVLZgr85VEaPozILUVH3bO0ei7Lx6paZh@Tv3Wcpl8\" rel=\"nofollow noreferrer\">Attach <code>.+</code> at the end (demo)</a> or use <code>find()</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655615487,"creation_date":1655603743,"answer_id":72673822,"question_id":72673712,"body_markdown":"Since the criteria could change I would simply use a loop as follows. I would find this easier to maintain. I also added a test for length.\r\n```\r\nString passwd = &quot;ABC@Fab2de@&quot;;\r\nSystem.out.println(isValid(passwd));\r\n```\r\nprints\r\n```\r\ntrue\r\n```\r\n- The idea here is simple. Just latch the boolean for each test to true when the test is satisfied.\r\n- Then return the booleans ANDed together\r\n```\r\npublic static boolean isValid(String password) {\r\n\tboolean digit = false;\r\n\tboolean lcase = false;\r\n\tboolean ucase = false;\r\n\tboolean special = false;\r\n\tString specialCharacters = &quot;$@!_&amp;&quot;;\r\n\r\n\tif (password.length() &lt; 8) {\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tfor (char ch : password.toCharArray()) {\r\n\t\tdigit = digit || Character.isDigit(ch);\r\n\t\tucase = ucase || Character.isUpperCase(ch);\r\n\t\tlcase = lcase || Character.isLowerCase(ch);\r\n\t\tspecial = special || specialCharacters.indexOf(ch) &gt;= 0;\r\n\t}\r\n\treturn digit &amp;&amp; lcase &amp;&amp; ucase &amp;&amp; special;\r\n}\r\n```\r\n","title":"Regex for password validation works incorrectly","body":"<p>Since the criteria could change I would simply use a loop as follows. I would find this easier to maintain. I also added a test for length.</p>\n<pre><code>String passwd = &quot;ABC@Fab2de@&quot;;\nSystem.out.println(isValid(passwd));\n</code></pre>\n<p>prints</p>\n<pre><code>true\n</code></pre>\n<ul>\n<li>The idea here is simple. Just latch the boolean for each test to true when the test is satisfied.</li>\n<li>Then return the booleans ANDed together</li>\n</ul>\n<pre><code>public static boolean isValid(String password) {\n    boolean digit = false;\n    boolean lcase = false;\n    boolean ucase = false;\n    boolean special = false;\n    String specialCharacters = &quot;$@!_&amp;&quot;;\n\n    if (password.length() &lt; 8) {\n        return false;\n    }\n    \n    for (char ch : password.toCharArray()) {\n        digit = digit || Character.isDigit(ch);\n        ucase = ucase || Character.isUpperCase(ch);\n        lcase = lcase || Character.isLowerCase(ch);\n        special = special || specialCharacters.indexOf(ch) &gt;= 0;\n    }\n    return digit &amp;&amp; lcase &amp;&amp; ucase &amp;&amp; special;\n}\n</code></pre>\n"}],"owner":{"account_id":3509903,"reputation":7433,"user_id":3253896,"accept_rate":63,"display_name":"Denis Steinman"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1655615487,"creation_date":1655601380,"question_id":72673712,"body_markdown":"Need to validate passwords with next restrictions:\r\n\r\n - at least 1 digit,\r\n - at least 1 Latin lower case character,\r\n - at least 1 Latin upper case character,\r\n - at least 1 special character (not a digit, Latin lower or upper case character).\r\n\r\nSo, I wrote a regex: `(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^\\\\da-zA-Z])`.\r\n\r\nHowever, `12345678@Cd` doesn&#39;t match this regex and I can&#39;t get why.\r\n\r\n**P.S.** Maybe it&#39;s a noobie question but regular expressions were always my Achilles&#39; heel.","title":"Regex for password validation works incorrectly","body":"<p>Need to validate passwords with next restrictions:</p>\n<ul>\n<li>at least 1 digit,</li>\n<li>at least 1 Latin lower case character,</li>\n<li>at least 1 Latin upper case character,</li>\n<li>at least 1 special character (not a digit, Latin lower or upper case character).</li>\n</ul>\n<p>So, I wrote a regex: <code>(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^\\\\da-zA-Z])</code>.</p>\n<p>However, <code>12345678@Cd</code> doesn't match this regex and I can't get why.</p>\n<p><strong>P.S.</strong> Maybe it's a noobie question but regular expressions were always my Achilles' heel.</p>\n"},{"tags":["java","properties","hashtable"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1530444068,"post_id":51122754,"comment_id":89230721,"body_markdown":"Is the second option the right one? No. Extending collections is almost always a bad idea. And there are several other ways to add values to a map, that would bypass your check. But most importantly, you should almost never ignore an invalid method call and pretend it is valid: putting a null value is a bug, that should be signalled by throwing a NullPointerException, and fixed.","body":"Is the second option the right one? No. Extending collections is almost always a bad idea. And there are several other ways to add values to a map, that would bypass your check. But most importantly, you should almost never ignore an invalid method call and pretend it is valid: putting a null value is a bug, that should be signalled by throwing a NullPointerException, and fixed."},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1530444361,"post_id":51122754,"comment_id":89230787,"body_markdown":"@JBNizet But not all map implementation throws NullPointerException, so allow sending null values isn&#39;t a bug always, I just want to ignore such values, while using `Properties`","body":"@JBNizet But not all map implementation throws NullPointerException, so allow sending null values isn&#39;t a bug always, I just want to ignore such values, while using <code>Properties</code>"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1530444467,"post_id":51122754,"comment_id":89230804,"body_markdown":"Well, if you chose to use Properties, knowing that it can&#39;t hold null values, and you still try putting null values in it, then it&#39;s clearly a bug, or a bad design choice to use Properties. So you should not accept a null value and ignore it silently, because it indicates a bug.","body":"Well, if you chose to use Properties, knowing that it can&#39;t hold null values, and you still try putting null values in it, then it&#39;s clearly a bug, or a bad design choice to use Properties. So you should not accept a null value and ignore it silently, because it indicates a bug."},{"owner":{"account_id":3682508,"reputation":359,"user_id":3067139,"display_name":"skittlebiz"},"score":1,"creation_date":1655416803,"post_id":51122754,"comment_id":128334163,"body_markdown":"Thanks for the PropertyHolder override! It easily helped me with a copy/paste of it. (FYI your example above is missing a final closed curly bracket to complete the class if you wanted to update it.)","body":"Thanks for the PropertyHolder override! It easily helped me with a copy/paste of it. (FYI your example above is missing a final closed curly bracket to complete the class if you wanted to update it.)"}],"answers":[{"tags":[],"owner":{"account_id":1528686,"reputation":12048,"user_id":1426469,"accept_rate":12,"display_name":"Leo Aso"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1530444139,"creation_date":1530444139,"answer_id":51122825,"question_id":51122754,"body_markdown":"The `putIfNotNull` method is a better option because it makes it explicitly clear that it will not put the value if it is null. Creating a subclass of `Properties` that silently rejects null values inside the `put` method means breaking the expected behaviour of Maps - if `put(&quot;key&quot;, value)` returns without throwing an exception, then get(&quot;key&quot;) should return that same `value`.","title":"Ignore properties(Hashtable) value with null","body":"<p>The <code>putIfNotNull</code> method is a better option because it makes it explicitly clear that it will not put the value if it is null. Creating a subclass of <code>Properties</code> that silently rejects null values inside the <code>put</code> method means breaking the expected behaviour of Maps - if <code>put(\"key\", value)</code> returns without throwing an exception, then get(\"key\") should return that same <code>value</code>.</p>\n"}],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1448,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51122825,"answer_count":1,"score":2,"last_activity_date":1655615223,"creation_date":1530443507,"question_id":51122754,"body_markdown":"I have a method which accept `java.util.Properties` parameter, \r\n\r\nI need to put various parameters, that can its value can be null.\r\n\r\nI&#39;m getting `NullPointerException` because of [Hashtable.put][1] can&#39;t receive null value  \r\n\r\n    java.lang.NullPointerException\r\n            at java.util.Hashtable.put(Hashtable.java:460)\r\n            ...\r\n\r\nI can fix it by using method that check nulls:\r\n\r\n    private void putIfNotNull(Properties p, String name, String value) {\r\n\t\tif (value!= null) {\r\n\t\t\tp.put(name, value);\r\n\t\t}\r\n\t}\r\nOr create a wrapper class and use it:\r\n\r\n    public class PropertyHolder extends Properties {\r\n\t    @Override\r\n\t    public Object put( Object key, Object value ) {\r\n  \t\t    if (value != null) {\r\n\t\t\t    return super.put(key, value);\t\t\t\r\n\t\t    }\r\n\t\t    return null;\r\n        }\r\n\t}\r\n\r\nand use it similar as Property:\r\n\r\n    Properties p = new PropertyHolder();\r\n\r\nIs the second option is the right one? or is there a simpler/built in solution?\r\n\r\n\r\n[1]:https://docs.oracle.com/javase/7/docs/api/java/util/Hashtable.html#put(K,%20V)\r\n","title":"Ignore properties(Hashtable) value with null","body":"<p>I have a method which accept <code>java.util.Properties</code> parameter,</p>\n<p>I need to put various parameters, that can its value can be null.</p>\n<p>I'm getting <code>NullPointerException</code> because of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Hashtable.html#put(K,%20V)\" rel=\"nofollow noreferrer\">Hashtable.put</a> can't receive null value</p>\n<pre><code>java.lang.NullPointerException\n        at java.util.Hashtable.put(Hashtable.java:460)\n        ...\n</code></pre>\n<p>I can fix it by using method that check nulls:</p>\n<pre><code>private void putIfNotNull(Properties p, String name, String value) {\n    if (value!= null) {\n        p.put(name, value);\n    }\n}\n</code></pre>\n<p>Or create a wrapper class and use it:</p>\n<pre><code>public class PropertyHolder extends Properties {\n    @Override\n    public Object put( Object key, Object value ) {\n        if (value != null) {\n            return super.put(key, value);           \n        }\n        return null;\n    }\n}\n</code></pre>\n<p>and use it similar as Property:</p>\n<pre><code>Properties p = new PropertyHolder();\n</code></pre>\n<p>Is the second option is the right one? or is there a simpler/built in solution?</p>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655617687,"post_id":70166920,"comment_id":128371478,"body_markdown":"You closed the socket without reading the request. This causes a reset. This is not an adequate HTTP server, and it is never going to be. Use the one provided with Java. NB There is no &#39;NIO&#39; here.","body":"You closed the socket without reading the request. This causes a reset. This is not an adequate HTTP server, and it is never going to be. Use the one provided with Java. NB There is no &#39;NIO&#39; here."}],"owner":{"account_id":6903818,"reputation":47,"user_id":5302495,"display_name":"Nicolas Z"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1655614933,"creation_date":1638264054,"question_id":70166920,"body_markdown":"```\r\npackage NIO;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class HttpServer01 {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tServerSocket serverSocket = new ServerSocket(8801);\r\n\t\twhile(true) {\r\n\t\t\ttry{\r\n\t\t\t\tSocket socket = serverSocket.accept();\r\n\t\t\t\tservice(socket);\r\n\t\t\t} catch(Exception e){\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void service(Socket socket) {\r\n\t\ttry {\r\n\t\t\tThread.sleep(20);\r\n\t\t\tPrintWriter printWriter = new PrintWriter(socket.getOutputStream(), true);\r\n\t\t\tprintWriter.println(&quot;HTTP/1.1 200 OK&quot;);\r\n\t\t\tprintWriter.println(&quot;Content-Type:text/html;charset=utf-8&quot;);\r\n\t\t\tprintWriter.println();\r\n\t\t\tprintWriter.write(&quot;hello,nio&quot;);\r\n\t\t\tprintWriter.close();\r\n\t\t\tsocket.close();\r\n\t\t} catch (IOException | InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nafter starting the server, `curl http://localhost:8801`\r\nget \r\n```\r\ncurl: (56) Recv failure: Connection reset by peer\r\nhello,nio% \r\n```\r\n\r\nWhy there is a failure? Thanks in advance.\r\n","title":"Test local socket, but get &quot;curl: (56) Recv failure: Connection reset by peer&quot;","body":"<pre><code>package NIO;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class HttpServer01 {\n    public static void main(String[] args) throws IOException {\n        ServerSocket serverSocket = new ServerSocket(8801);\n        while(true) {\n            try{\n                Socket socket = serverSocket.accept();\n                service(socket);\n            } catch(Exception e){\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private static void service(Socket socket) {\n        try {\n            Thread.sleep(20);\n            PrintWriter printWriter = new PrintWriter(socket.getOutputStream(), true);\n            printWriter.println(&quot;HTTP/1.1 200 OK&quot;);\n            printWriter.println(&quot;Content-Type:text/html;charset=utf-8&quot;);\n            printWriter.println();\n            printWriter.write(&quot;hello,nio&quot;);\n            printWriter.close();\n            socket.close();\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>after starting the server, <code>curl http://localhost:8801</code>\nget</p>\n<pre><code>curl: (56) Recv failure: Connection reset by peer\nhello,nio% \n</code></pre>\n<p>Why there is a failure? Thanks in advance.</p>\n"},{"tags":["java","android","kotlin","screenshot","android-windowmanager"],"comments":[{"owner":{"account_id":8089727,"reputation":554,"user_id":6816307,"display_name":"Hasan Khan"},"score":1,"creation_date":1655290549,"post_id":72629793,"comment_id":128295926,"body_markdown":"Already answer here [link](https://stackoverflow.com/a/31406316/6816307)","body":"Already answer here <a href=\"https://stackoverflow.com/a/31406316/6816307\">link</a>"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1655293885,"post_id":72629793,"comment_id":128297060,"body_markdown":"AFAIK, that is not possible. Besides... what would you expect to be shown there instead?","body":"AFAIK, that is not possible. Besides... what would you expect to be shown there instead?"},{"owner":{"account_id":25241488,"reputation":19,"user_id":19328032,"display_name":"Nino Sand"},"score":0,"creation_date":1656137465,"post_id":72629793,"comment_id":128502594,"body_markdown":"@CommonsWare I was expecting to make the app totally transparent as it is not there in the screen recording","body":"@CommonsWare I was expecting to make the app totally transparent as it is not there in the screen recording"}],"owner":{"account_id":25241488,"reputation":19,"user_id":19328032,"display_name":"Nino Sand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655614857,"creation_date":1655288987,"question_id":72629793,"body_markdown":"I want to hide my app (which has also floating services views) from screenshots and screen recordings, I tried with the following tag:\r\n```\r\nWindowManager.LayoutParams.FLAG_SECURE\r\n```\r\nIt hides the app from the screen recording but shows a black rectangle on the service view, so I wonder what could be the approach to hide the app and services view from this recording without leaving a blank black rectangle? ","title":"How to hide the app from screenshots and screen recordings, without leaving blank rectangle?","body":"<p>I want to hide my app (which has also floating services views) from screenshots and screen recordings, I tried with the following tag:</p>\n<pre><code>WindowManager.LayoutParams.FLAG_SECURE\n</code></pre>\n<p>It hides the app from the screen recording but shows a black rectangle on the service view, so I wonder what could be the approach to hide the app and services view from this recording without leaving a blank black rectangle?</p>\n"},{"tags":["java","axis"],"answers":[{"tags":[],"owner":{"account_id":2269320,"reputation":56,"user_id":1997171,"display_name":"Adam K."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1358872583,"creation_date":1358872583,"answer_id":14463469,"question_id":14463135,"body_markdown":"If you only provide folders in your classpath, the jar files will not be loaded. You should use jar name (as in your UPDATE2) or wildcards (have a look [here][1] and [here][2]).\r\n\r\nAs for your problem with missing LogFactory - you should add to your classpath a proper jar (eg. commons-logging.jar, try [http://www.findjar.com][3]).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/tools/windows/classpath.html\r\n  [2]: https://stackoverflow.com/questions/219585/setting-multiple-jars-in-java-classpath\r\n  [3]: http://www.findjar.com","title":"How do I run WSDL2Java with Axis 1.0?","body":"<p>If you only provide folders in your classpath, the jar files will not be loaded. You should use jar name (as in your UPDATE2) or wildcards (have a look <a href=\"http://docs.oracle.com/javase/6/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stackoverflow.com/questions/219585/setting-multiple-jars-in-java-classpath\">here</a>).</p>\n\n<p>As for your problem with missing LogFactory - you should add to your classpath a proper jar (eg. commons-logging.jar, try <a href=\"http://www.findjar.com\" rel=\"nofollow noreferrer\">http://www.findjar.com</a>).</p>\n"},{"tags":[],"owner":{"account_id":3331134,"reputation":21,"user_id":2800054,"display_name":"Harry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1379696189,"creation_date":1379696189,"answer_id":18922018,"question_id":14463135,"body_markdown":"Try this: java -cp %CD%\\\\* org.apache.axis.wsdl.WSDL2Java\r\n\r\nThe jar for logging is already in the lib directory. The above command should work if you are in the lib directory.","title":"How do I run WSDL2Java with Axis 1.0?","body":"<p>Try this: java -cp %CD%\\* org.apache.axis.wsdl.WSDL2Java</p>\n\n<p>The jar for logging is already in the lib directory. The above command should work if you are in the lib directory.</p>\n"},{"tags":[],"owner":{"account_id":25577291,"reputation":1,"user_id":19356483,"display_name":"Sudhir Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655614659,"creation_date":1655442755,"answer_id":72654591,"question_id":14463135,"body_markdown":"Works for me with `java -cp %CD%\\* org.apache.axis.wsdl.WSDL2Java` after surrounding the classpath with double-quotes. You should be in the directory where the *axis* and *jar* dependencies are.","title":"How do I run WSDL2Java with Axis 1.0?","body":"<p>Works for me with <code>java -cp %CD%\\* org.apache.axis.wsdl.WSDL2Java</code> after surrounding the classpath with double-quotes. You should be in the directory where the <em>axis</em> and <em>jar</em> dependencies are.</p>\n"}],"owner":{"account_id":128269,"reputation":1590,"user_id":325983,"accept_rate":77,"display_name":"RoboJ1M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12817,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":14463469,"answer_count":3,"score":4,"last_activity_date":1655614659,"creation_date":1358871594,"question_id":14463135,"body_markdown":"Our clients are using Axis 1.0 to build a client to our WCF based SOAP services.\r\n\r\nIt&#39;s not working for them and I want to run the WSDL2Java client locally on my machine so I can experiment.\r\n\r\nI already have the JDK installed on my machine, `java` works from the command line.\r\n\r\nReading the installation guide for Axis 1.0, and using the -cp switch, I get the following:\r\n\r\n    java -cp E:\\Temp\\Axis\\xml-axis-10\\lib org.apache.axis.wsdl.WSDL2Java\r\n\r\n(that path contains all the jar files)\r\n\r\nAnd get the following:\r\n\r\n    Error: Could not find or load main class org.apache.axis.wsdl.WSDL2Java\r\n\r\nAnybody know what I&#39;m doing wrong?\r\n\r\n**UPDATE1:**\r\n\r\nI&#39;ve tried setting the user CLASSPATH to:\r\n\r\n    C:\\Program Files\\Java\\jdk1.7.0_09\\lib;E:\\Temp\\Axis\\xml-axis-10\\lib\r\n\r\nNo dice, same error.\r\n\r\n**UPDATE2:**\r\n\r\nIf I try this command line, I get something different, it now appear to be loading the class:\r\n\r\n    E:\\Temp&gt;java -cp E:\\Temp\\Axis\\xml-axis-10\\lib\\axis.jar org.apache.axis.wsdl.WSDL2Java\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org.apache.commons.logging.LogFactory\r\n            at org.apache.axis.components.logger.LogFactory$1.class$(LogFactory.java:68)\r\n            at org.apache.axis.components.logger.LogFactory$1.run(LogFactory.java:84)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at org.apache.axis.components.logger.LogFactory.getLogFactory(LogFactory.java:80)\r\n            at org.apache.axis.components.logger.LogFactory.&lt;clinit&gt;(LogFactory.java:72)\r\n            at org.apache.axis.i18n.ProjectResourceBundle.&lt;clinit&gt;(ProjectResourceBundle.java:92)\r\n            at org.apache.axis.i18n.MessagesConstants.&lt;clinit&gt;(MessagesConstants.java:71)\r\n            at org.apache.axis.utils.Messages.&lt;clinit&gt;(Messages.java:81)\r\n            at org.apache.axis.wsdl.WSDL2Java.&lt;clinit&gt;(WSDL2Java.java:106)\r\n    \r\n    E:\\Temp&gt;","title":"How do I run WSDL2Java with Axis 1.0?","body":"<p>Our clients are using Axis 1.0 to build a client to our WCF based SOAP services.</p>\n\n<p>It's not working for them and I want to run the WSDL2Java client locally on my machine so I can experiment.</p>\n\n<p>I already have the JDK installed on my machine, <code>java</code> works from the command line.</p>\n\n<p>Reading the installation guide for Axis 1.0, and using the -cp switch, I get the following:</p>\n\n<pre><code>java -cp E:\\Temp\\Axis\\xml-axis-10\\lib org.apache.axis.wsdl.WSDL2Java\n</code></pre>\n\n<p>(that path contains all the jar files)</p>\n\n<p>And get the following:</p>\n\n<pre><code>Error: Could not find or load main class org.apache.axis.wsdl.WSDL2Java\n</code></pre>\n\n<p>Anybody know what I'm doing wrong?</p>\n\n<p><strong>UPDATE1:</strong></p>\n\n<p>I've tried setting the user CLASSPATH to:</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.7.0_09\\lib;E:\\Temp\\Axis\\xml-axis-10\\lib\n</code></pre>\n\n<p>No dice, same error.</p>\n\n<p><strong>UPDATE2:</strong></p>\n\n<p>If I try this command line, I get something different, it now appear to be loading the class:</p>\n\n<pre><code>E:\\Temp&gt;java -cp E:\\Temp\\Axis\\xml-axis-10\\lib\\axis.jar org.apache.axis.wsdl.WSDL2Java\nException in thread \"main\" java.lang.NoClassDefFoundError: org.apache.commons.logging.LogFactory\n        at org.apache.axis.components.logger.LogFactory$1.class$(LogFactory.java:68)\n        at org.apache.axis.components.logger.LogFactory$1.run(LogFactory.java:84)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.apache.axis.components.logger.LogFactory.getLogFactory(LogFactory.java:80)\n        at org.apache.axis.components.logger.LogFactory.&lt;clinit&gt;(LogFactory.java:72)\n        at org.apache.axis.i18n.ProjectResourceBundle.&lt;clinit&gt;(ProjectResourceBundle.java:92)\n        at org.apache.axis.i18n.MessagesConstants.&lt;clinit&gt;(MessagesConstants.java:71)\n        at org.apache.axis.utils.Messages.&lt;clinit&gt;(Messages.java:81)\n        at org.apache.axis.wsdl.WSDL2Java.&lt;clinit&gt;(WSDL2Java.java:106)\n\nE:\\Temp&gt;\n</code></pre>\n"},{"tags":["java","swing","jcomponent","swingx"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1655598277,"post_id":72673515,"comment_id":128369776,"body_markdown":"`var circle = new Ellipse2D.Double(0,0,100,100);` means that the circle will never change","body":"<code>var circle = new Ellipse2D.Double(0,0,100,100);</code> means that the circle will never change"},{"owner":{"account_id":25560161,"reputation":193,"user_id":19342899,"display_name":"ELOL"},"score":0,"creation_date":1655598676,"post_id":72673515,"comment_id":128369801,"body_markdown":"@MadProgrammer So do I add a variable to the component, like `radius`, change it by using the actionlistener and then use the variable in `Ellipse.Double`?","body":"@MadProgrammer So do I add a variable to the component, like <code>radius</code>, change it by using the actionlistener and then use the variable in <code>Ellipse.Double</code>?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1655634915,"post_id":72673515,"comment_id":128374131,"body_markdown":"What [tag:swingx] components does this code use? I could tell easily if it included import statements. This is one of many reasons to post a [mre].","body":"What <a href=\"https://stackoverflow.com/questions/tagged/swingx\">swingx</a> components does this code use? I could tell easily if it included import statements. This is one of many reasons to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655613341,"creation_date":1655598870,"answer_id":72673590,"question_id":72673515,"body_markdown":"`var circle = new Ellipse2D.Double(0,0,100,100);` means that your circle will never change size.\r\n\r\nYou should also be careful with [`repaint(x, y, width, height)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Component.html#repaint(int,int,int,int)) as it could leave regions of your component &quot;dirty&quot;. Better to just use `repaint`.\r\n\r\nAs a conceptual example...\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.geom.Ellipse2D;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public final class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n            private CirclePane circlePane;\r\n            public MainPane() {\r\n                setLayout(new BorderLayout());\r\n\r\n                JPanel actionsPane = new JPanel(new GridBagLayout());\r\n                JButton growButton = new JButton(&quot;Grow&quot;);\r\n                growButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        circlePane.grow();\r\n                    }\r\n                });\r\n                JButton shrinkButton = new JButton(&quot;Shrink&quot;);\r\n                shrinkButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        circlePane.shrink();\r\n                    }\r\n                });\r\n                actionsPane.add(growButton);\r\n                actionsPane.add(shrinkButton);\r\n\r\n                circlePane = new CirclePane();\r\n                add(circlePane);\r\n                add(actionsPane, BorderLayout.SOUTH);\r\n            }\r\n        }\r\n\r\n        public class CirclePane extends JPanel {\r\n\r\n            private Ellipse2D circle;\r\n\r\n            public CirclePane() {\r\n                circle = new Ellipse2D.Double(0, 0, 100, 100);\r\n            }\r\n\r\n            public void grow() {\r\n                double width = circle.getWidth() + 10;\r\n                double height = circle.getHeight() + 10;\r\n                circle.setFrame(0, 0, width, height);\r\n                repaint();\r\n            }\r\n\r\n            public void shrink() {\r\n                double width = Math.max(0, circle.getWidth() - 10);\r\n                double height = Math.max(0, circle.getHeight() - 10);\r\n                circle.setFrame(0, 0, width, height);\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                double x = (getWidth() - circle.getWidth()) / 2d;\r\n                double y = (getHeight() - circle.getHeight()) / 2d;            \r\n                g2d.translate(x, y);\r\n                g2d.draw(circle);            \r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n*nb: I know I&#39;ve not used `JTextField` to specify the size of the circle, that&#39;s on purpose.  You will need to adapt your requirements to work in a similar way - can you see where you might pass parameters to the `CirclePane`?*","title":"Repaint method not working on JComponent java swing","body":"<p><code>var circle = new Ellipse2D.Double(0,0,100,100);</code> means that your circle will never change size.</p>\n<p>You should also be careful with <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Component.html#repaint(int,int,int,int)\" rel=\"nofollow noreferrer\"><code>repaint(x, y, width, height)</code></a> as it could leave regions of your component &quot;dirty&quot;. Better to just use <code>repaint</code>.</p>\n<p>As a conceptual example...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.Ellipse2D;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic final class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MainPane extends JPanel {\n        private CirclePane circlePane;\n        public MainPane() {\n            setLayout(new BorderLayout());\n\n            JPanel actionsPane = new JPanel(new GridBagLayout());\n            JButton growButton = new JButton(&quot;Grow&quot;);\n            growButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    circlePane.grow();\n                }\n            });\n            JButton shrinkButton = new JButton(&quot;Shrink&quot;);\n            shrinkButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    circlePane.shrink();\n                }\n            });\n            actionsPane.add(growButton);\n            actionsPane.add(shrinkButton);\n\n            circlePane = new CirclePane();\n            add(circlePane);\n            add(actionsPane, BorderLayout.SOUTH);\n        }\n    }\n\n    public class CirclePane extends JPanel {\n\n        private Ellipse2D circle;\n\n        public CirclePane() {\n            circle = new Ellipse2D.Double(0, 0, 100, 100);\n        }\n\n        public void grow() {\n            double width = circle.getWidth() + 10;\n            double height = circle.getHeight() + 10;\n            circle.setFrame(0, 0, width, height);\n            repaint();\n        }\n\n        public void shrink() {\n            double width = Math.max(0, circle.getWidth() - 10);\n            double height = Math.max(0, circle.getHeight() - 10);\n            circle.setFrame(0, 0, width, height);\n            repaint();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            double x = (getWidth() - circle.getWidth()) / 2d;\n            double y = (getHeight() - circle.getHeight()) / 2d;            \n            g2d.translate(x, y);\n            g2d.draw(circle);            \n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p><em>nb: I know I've not used <code>JTextField</code> to specify the size of the circle, that's on purpose.  You will need to adapt your requirements to work in a similar way - can you see where you might pass parameters to the <code>CirclePane</code>?</em></p>\n"}],"owner":{"account_id":25560161,"reputation":193,"user_id":19342899,"display_name":"ELOL"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655613341,"creation_date":1655597221,"question_id":72673515,"body_markdown":"I want to have a text field to input an integer, then select 1) Grow or 2) Shrink, and then click the button so that the circle gets redrawn on the screen based on the selected options.\r\n\r\nI don&#39;t know why it isn&#39;t repaining. (Don&#39;t worry about the layout, just want to get it to work first)\r\n\r\nMy Frame:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        var frame = new JFrame();\r\n        frame.setSize(400,400);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n        var circleComp = new circleComponent();\r\n        var panel1 = new JPanel();\r\n        var multiplierLabel = new JLabel(&quot;Grow Multiplier&quot;);\r\n        var multiplierField = new JTextField(20);\r\n        var radio1 = new JRadioButton(&quot;Grow Circle&quot;);\r\n        var radio2 = new JRadioButton(&quot;Shrink Circle&quot;);\r\n        var bg = new ButtonGroup();\r\n        bg.add(radio1);\r\n        bg.add(radio2);\r\n        JButton button = new JButton(&quot;Rivizato&quot;);\r\n        button.addActionListener(\r\n                new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if(radio1.isSelected()){\r\n                         rrComp.repaint(0,0,Integer.parseInt(multiplierField.getText())*rrComp.getWidth(), Integer.parseInt(multiplierField.getText())*rrComp.getHeight());\r\n                        }\r\n                        else if(radio2.isSelected()){\r\n                            rrComp.repaint(0,0,Integer.parseInt(multiplierField.getText())/rrComp.getWidth(), Integer.parseInt(multiplierField.getText())/rrComp.getHeight());\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n\r\n\r\n        panel1.add(multiplierLabel);\r\n        panel1.add(multiplierField);\r\n        panel1.add(button);\r\n        panel1.add(radio1);\r\n        panel1.add(radio2);\r\n        frame.add(panel1);\r\n        frame.add(circleComp);\r\n    }\r\n}\r\n```\r\nMy CircleComponent class:\r\n```\r\npublic class CircleComponent extends JComponent {\r\n    public void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n        var g2 = (Graphics2D) g;\r\n        var circle = new Ellipse2D.Double(0,0,100,100);\r\n        g2.draw(circle);\r\n    }\r\n}\r\n\r\n```\r\n","title":"Repaint method not working on JComponent java swing","body":"<p>I want to have a text field to input an integer, then select 1) Grow or 2) Shrink, and then click the button so that the circle gets redrawn on the screen based on the selected options.</p>\n<p>I don't know why it isn't repaining. (Don't worry about the layout, just want to get it to work first)</p>\n<p>My Frame:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        var frame = new JFrame();\n        frame.setSize(400,400);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        var circleComp = new circleComponent();\n        var panel1 = new JPanel();\n        var multiplierLabel = new JLabel(&quot;Grow Multiplier&quot;);\n        var multiplierField = new JTextField(20);\n        var radio1 = new JRadioButton(&quot;Grow Circle&quot;);\n        var radio2 = new JRadioButton(&quot;Shrink Circle&quot;);\n        var bg = new ButtonGroup();\n        bg.add(radio1);\n        bg.add(radio2);\n        JButton button = new JButton(&quot;Rivizato&quot;);\n        button.addActionListener(\n                new ActionListener() {\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        if(radio1.isSelected()){\n                         rrComp.repaint(0,0,Integer.parseInt(multiplierField.getText())*rrComp.getWidth(), Integer.parseInt(multiplierField.getText())*rrComp.getHeight());\n                        }\n                        else if(radio2.isSelected()){\n                            rrComp.repaint(0,0,Integer.parseInt(multiplierField.getText())/rrComp.getWidth(), Integer.parseInt(multiplierField.getText())/rrComp.getHeight());\n                        }\n                    }\n                }\n        );\n\n\n        panel1.add(multiplierLabel);\n        panel1.add(multiplierField);\n        panel1.add(button);\n        panel1.add(radio1);\n        panel1.add(radio2);\n        frame.add(panel1);\n        frame.add(circleComp);\n    }\n}\n</code></pre>\n<p>My CircleComponent class:</p>\n<pre><code>public class CircleComponent extends JComponent {\n    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n        var g2 = (Graphics2D) g;\n        var circle = new Ellipse2D.Double(0,0,100,100);\n        g2.draw(circle);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","record"],"answers":[{"tags":[],"owner":{"account_id":19559913,"reputation":181,"user_id":14313338,"display_name":"Jurgen Rutten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638270465,"creation_date":1638270465,"answer_id":70168323,"question_id":70166982,"body_markdown":"You actually need to create the file first in order to save to it. I know it sounds weird because some IDE&#39;s for some reason circumvent this, and Android Studio does not (appearantly) , but I&#39;ve noticed on my device too that it often doesn&#39;t do it automatically when I export an application. \r\n\r\nInformation on the method can be found here:\r\n[https://docs.oracle.com/javase/7/docs/api/java/io/File.html#createNewFile()][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html#createNewFile()\r\n\r\nIf that doesn&#39;t help, then please also provide the error the application is giving you in full. The stacktrace is often full of valuable information pertaining to the error that has occured.","title":"Write audio file to folder python in android studio","body":"<p>You actually need to create the file first in order to save to it. I know it sounds weird because some IDE's for some reason circumvent this, and Android Studio does not (appearantly) , but I've noticed on my device too that it often doesn't do it automatically when I export an application.</p>\n<p>Information on the method can be found here:\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#createNewFile()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/io/File.html#createNewFile()</a></p>\n<p>If that doesn't help, then please also provide the error the application is giving you in full. The stacktrace is often full of valuable information pertaining to the error that has occured.</p>\n"}],"owner":{"account_id":23172687,"reputation":13,"user_id":17271685,"display_name":"Hiu Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655612910,"creation_date":1638264343,"question_id":70166982,"body_markdown":"I want to record and save audio 3gp to app/src/main/python folder to use this file to process with python code. But when I save the file with the above path, there is no such file in the python directory. What should I do?\r\n\r\n[My picture with this folder][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BSl9K.png\r\n\r\nHere is my code record 3gp file\r\n\r\n        String path = &quot;app/src/main/python/myrecording.3gp&quot;;\r\n        MediaRecorder recorder = new MediaRecorder();\r\n        recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n        recorder.setMaxDuration(1000);\r\n        recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\r\n        recorder.setOutputFile(path);\r\n        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n        try {\r\n            recorder.prepare();\r\n            recorder.start();\r\n        } catch (IllegalStateException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }","title":"Write audio file to folder python in android studio","body":"<p>I want to record and save audio 3gp to app/src/main/python folder to use this file to process with python code. But when I save the file with the above path, there is no such file in the python directory. What should I do?</p>\n<p><a href=\"https://i.stack.imgur.com/BSl9K.png\" rel=\"nofollow noreferrer\">My picture with this folder</a></p>\n<p>Here is my code record 3gp file</p>\n<pre><code>    String path = &quot;app/src/main/python/myrecording.3gp&quot;;\n    MediaRecorder recorder = new MediaRecorder();\n    recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n    recorder.setMaxDuration(1000);\n    recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\n    recorder.setOutputFile(path);\n    recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\n    try {\n        recorder.prepare();\n        recorder.start();\n    } catch (IllegalStateException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","junit","mocking","mockito"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1638269202,"post_id":70168011,"comment_id":124037869,"body_markdown":"something like &#39;any&#39;, or the value you pass during the execution of your test?","body":"something like &#39;any&#39;, or the value you pass during the execution of your test?"},{"owner":{"account_id":13340559,"reputation":96,"user_id":9628920,"display_name":"Ilya"},"score":0,"creation_date":1638269488,"post_id":70168011,"comment_id":124037996,"body_markdown":"If You need to use this value in your logic inside of the method, you have to separate call of the external method and other logic. So it will allow you to mock your method which calls external method.","body":"If You need to use this value in your logic inside of the method, you have to separate call of the external method and other logic. So it will allow you to mock your method which calls external method."},{"owner":{"account_id":8841480,"reputation":75,"user_id":6603791,"accept_rate":50,"display_name":"Hristo.L"},"score":0,"creation_date":1638269502,"post_id":70168011,"comment_id":124038005,"body_markdown":"It doesnt matter if I post any() or anyString(). `String valueThatWillBeReturned` is  declared in my code as emty variable and will be populated with data when posted to `method(valueThatWillBeReturned)`. The problem is that my code depend on that returned value.","body":"It doesnt matter if I post any() or anyString(). <code>String valueThatWillBeReturned</code> is  declared in my code as emty variable and will be populated with data when posted to <code>method(valueThatWillBeReturned)</code>. The problem is that my code depend on that returned value."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638270630,"post_id":70168011,"comment_id":124038461,"body_markdown":"As `String` is immutable, `valueThatWillBeReturned` will always have the same value after a call to `method` as it had before.","body":"As <code>String</code> is immutable, <code>valueThatWillBeReturned</code> will always have the same value after a call to <code>method</code> as it had before."},{"owner":{"account_id":8841480,"reputation":75,"user_id":6603791,"accept_rate":50,"display_name":"Hristo.L"},"score":0,"creation_date":1638271061,"post_id":70168011,"comment_id":124038628,"body_markdown":"Well in my case the jar itself have a handler that sends the data to dll file that is doing the job and returns value to variable that has been posted to id.","body":"Well in my case the jar itself have a handler that sends the data to dll file that is doing the job and returns value to variable that has been posted to id."},{"owner":{"account_id":8841480,"reputation":75,"user_id":6603791,"accept_rate":50,"display_name":"Hristo.L"},"score":0,"creation_date":1638271771,"post_id":70168011,"comment_id":124038903,"body_markdown":"I will edit the question with more details so you can get better point of view.","body":"I will edit the question with more details so you can get better point of view."},{"owner":{"account_id":18868507,"reputation":980,"user_id":13763713,"display_name":"oliver_t"},"score":0,"creation_date":1638272656,"post_id":70168011,"comment_id":124039210,"body_markdown":"How does the value get back to your code? Is there a second call? Then mock it as well.","body":"How does the value get back to your code? Is there a second call? Then mock it as well."}],"answers":[{"tags":[],"owner":{"account_id":8841480,"reputation":75,"user_id":6603791,"accept_rate":50,"display_name":"Hristo.L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655612581,"creation_date":1638278075,"answer_id":70169936,"question_id":70168011,"body_markdown":"I found a solution to my problem. I changed the location of the `pnMatchTemplate2Index` variable from method to class variable.\r\n\r\n**Service.class**\r\n\r\n```\r\n// Receives the index of matched template in the template array;\r\nprivate int[] pnMatchTemplate2Index = new int[1];\r\n```\r\n\r\nThen in the test method I mocked it like oliver_t suggested. \r\n\r\n**ServiceTest.class**\r\n\r\n```\r\nint [] mockResults = {0};\r\nReflectionTestUtils.setField(underTest,&quot;pnMatchTemplate2Index&quot;, mockResults);\r\n```\r\n    \r\nWhere:\r\n\r\n`underTest` is the class we are testing\r\n\r\n`&quot;pnMatcherTemplate2Index&quot;` is the private variable we want to mock in the class we are testing\r\n\r\n`mockResults` is the value we want to set for the private variable\r\n\r\nThat way I managed to use `pnMatchTemplate2Index` to get the index I want from my other method.\r\n","title":"Junit set local variable","body":"<p>I found a solution to my problem. I changed the location of the <code>pnMatchTemplate2Index</code> variable from method to class variable.</p>\n<p><strong>Service.class</strong></p>\n<pre><code>// Receives the index of matched template in the template array;\nprivate int[] pnMatchTemplate2Index = new int[1];\n</code></pre>\n<p>Then in the test method I mocked it like oliver_t suggested.</p>\n<p><strong>ServiceTest.class</strong></p>\n<pre><code>int [] mockResults = {0};\nReflectionTestUtils.setField(underTest,&quot;pnMatchTemplate2Index&quot;, mockResults);\n</code></pre>\n<p>Where:</p>\n<p><code>underTest</code> is the class we are testing</p>\n<p><code>&quot;pnMatcherTemplate2Index&quot;</code> is the private variable we want to mock in the class we are testing</p>\n<p><code>mockResults</code> is the value we want to set for the private variable</p>\n<p>That way I managed to use <code>pnMatchTemplate2Index</code> to get the index I want from my other method.</p>\n"}],"owner":{"account_id":8841480,"reputation":75,"user_id":6603791,"accept_rate":50,"display_name":"Hristo.L"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3791,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655612581,"creation_date":1638269091,"question_id":70168011,"body_markdown":"I&#39;m using additional jar file in my spring boot project. The problem is that one of the methods I want to test is using method from that jar that returns a value, but also sets a value to variable that is posted to it.\r\n\r\n    String valueThatWillBeReturned;\r\n    int returnMessage = method(valueThatWillBeReturned);\r\nI don&#39;t know why the method is write by that. I&#39;m not the writer of that jar and I cant debug it, but it works like that. It will return int that will be stored in `int returnMessage`, and also will set `valueThatWillBeReturned` that is posted to it.\r\nIt&#39;s a problem for me to test it. I&#39;m setting the value of `int returnMessage` by:\r\n\r\n    when(external.method(valueThatWillBeReturned).thenReturn(1);\r\n\r\nBut how should I set value of `String valueThatWillBeReturned`?\r\nThe main problem is that my code depends on `String valueThatWillBeReturned` that should be returned.\r\n\r\n\r\n**After Edit**\r\n\r\nI made the upper example more simpler, but will give you additional details. I&#39;m using an external library ImageSDK.jar. It uses .dll or .so file depending on the operation system.\r\n\r\nSo by documentation I should have `int[] pnMatchTemplate2Index = new int[1];` to post to the method below.\r\n\r\n    int result = libSDK.UFM_Identify(hMatcherContainer[0],\r\n                                     templateForIdentification,\r\n                                     sizeOfTemplateForIdentification,\r\n                                     templatesFromDBForIdentification,\r\n                                     sizeOfEachTemplateFromDB,\r\n                                     numberOfTemplatesForCompare,\r\n                                     5000,\r\n                                     pnMatchTemplate2Index);\r\n\r\nWhat method returns is `int result` that stores the return status, but the method also sets `pnMatchTemplate2Index` where index of matched template is stored. After that I&#39;m using `templates.get(pnMatchTemplate2Index[0])` to get information I need.\r\n\r\nSo in the end my method depends on that parameter to return value, and I dont know how to set it by Junit to test my method return.","title":"Junit set local variable","body":"<p>I'm using additional jar file in my spring boot project. The problem is that one of the methods I want to test is using method from that jar that returns a value, but also sets a value to variable that is posted to it.</p>\n<pre><code>String valueThatWillBeReturned;\nint returnMessage = method(valueThatWillBeReturned);\n</code></pre>\n<p>I don't know why the method is write by that. I'm not the writer of that jar and I cant debug it, but it works like that. It will return int that will be stored in <code>int returnMessage</code>, and also will set <code>valueThatWillBeReturned</code> that is posted to it.\nIt's a problem for me to test it. I'm setting the value of <code>int returnMessage</code> by:</p>\n<pre><code>when(external.method(valueThatWillBeReturned).thenReturn(1);\n</code></pre>\n<p>But how should I set value of <code>String valueThatWillBeReturned</code>?\nThe main problem is that my code depends on <code>String valueThatWillBeReturned</code> that should be returned.</p>\n<p><strong>After Edit</strong></p>\n<p>I made the upper example more simpler, but will give you additional details. I'm using an external library ImageSDK.jar. It uses .dll or .so file depending on the operation system.</p>\n<p>So by documentation I should have <code>int[] pnMatchTemplate2Index = new int[1];</code> to post to the method below.</p>\n<pre><code>int result = libSDK.UFM_Identify(hMatcherContainer[0],\n                                 templateForIdentification,\n                                 sizeOfTemplateForIdentification,\n                                 templatesFromDBForIdentification,\n                                 sizeOfEachTemplateFromDB,\n                                 numberOfTemplatesForCompare,\n                                 5000,\n                                 pnMatchTemplate2Index);\n</code></pre>\n<p>What method returns is <code>int result</code> that stores the return status, but the method also sets <code>pnMatchTemplate2Index</code> where index of matched template is stored. After that I'm using <code>templates.get(pnMatchTemplate2Index[0])</code> to get information I need.</p>\n<p>So in the end my method depends on that parameter to return value, and I dont know how to set it by Junit to test my method return.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":1,"creation_date":1495649438,"post_id":40352879,"comment_id":75347826,"body_markdown":"Since **val** in Kotlin connotes read-only, wouldn&#39;t it suffice?","body":"Since <b>val</b> in Kotlin connotes read-only, wouldn&#39;t it suffice?"}],"answers":[{"tags":[],"owner":{"account_id":1672724,"reputation":14329,"user_id":1538877,"accept_rate":94,"display_name":"Ruslan"},"down_vote_count":0,"up_vote_count":271,"is_accepted":true,"score":271,"last_activity_date":1477978550,"creation_date":1477978007,"answer_id":40354557,"question_id":40352879,"body_markdown":"According Kotlin [documentation](https://kotlinlang.org/docs/reference/properties.html#compile-time-constants) this is equivalent:\r\n\r\n    class Hello {\r\n        companion object {\r\n            const val MAX_LEN = 20\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    fun main(srgs: Array&lt;String&gt;) {\r\n        println(Hello.MAX_LEN)\r\n    }\r\n\r\nAlso this is static final property (field with getter):\r\n\r\n    class Hello {\r\n        companion object {\r\n            @JvmStatic val MAX_LEN = 20\r\n        }\r\n    }\r\n\r\nAnd finally this is static final field:\r\n\r\n    class Hello {\r\n        companion object {\r\n            @JvmField val MAX_LEN = 20\r\n        }\r\n    }","title":"What is the equivalent of Java static final fields in Kotlin?","body":"<p>According Kotlin <a href=\"https://kotlinlang.org/docs/reference/properties.html#compile-time-constants\" rel=\"noreferrer\">documentation</a> this is equivalent:</p>\n\n<pre><code>class Hello {\n    companion object {\n        const val MAX_LEN = 20\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>fun main(srgs: Array&lt;String&gt;) {\n    println(Hello.MAX_LEN)\n}\n</code></pre>\n\n<p>Also this is static final property (field with getter):</p>\n\n<pre><code>class Hello {\n    companion object {\n        @JvmStatic val MAX_LEN = 20\n    }\n}\n</code></pre>\n\n<p>And finally this is static final field:</p>\n\n<pre><code>class Hello {\n    companion object {\n        @JvmField val MAX_LEN = 20\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9085604,"reputation":1013,"user_id":6763724,"display_name":"Gary LO"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1477978607,"creation_date":1477978074,"answer_id":40354565,"question_id":40352879,"body_markdown":"if you have an implementation in `Hello`, use `companion object` inside a class\r\n\r\n    class Hello {\r\n      companion object {\r\n        val MAX_LEN = 1 + 1\r\n      }\r\n    \r\n    }\r\n\r\nif `Hello` is a pure singleton object\r\n\r\n    object Hello {\r\n      val MAX_LEN = 1 + 1\r\n    }\r\n\r\nif the properties are compile-time constants, add a [`const`](https://kotlinlang.org/docs/reference/properties.html#compile-time-constants) keyword\r\n\r\n    object Hello {\r\n      const val MAX_LEN = 20\r\n    }\r\n\r\nif you want to use it in Java, add [`@JvmStatic`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-static/) annotation\r\n\r\n    object Hello {\r\n      @JvmStatic val MAX_LEN = 20\r\n    }","title":"What is the equivalent of Java static final fields in Kotlin?","body":"<p>if you have an implementation in <code>Hello</code>, use <code>companion object</code> inside a class</p>\n\n<pre><code>class Hello {\n  companion object {\n    val MAX_LEN = 1 + 1\n  }\n\n}\n</code></pre>\n\n<p>if <code>Hello</code> is a pure singleton object</p>\n\n<pre><code>object Hello {\n  val MAX_LEN = 1 + 1\n}\n</code></pre>\n\n<p>if the properties are compile-time constants, add a <a href=\"https://kotlinlang.org/docs/reference/properties.html#compile-time-constants\" rel=\"noreferrer\"><code>const</code></a> keyword</p>\n\n<pre><code>object Hello {\n  const val MAX_LEN = 20\n}\n</code></pre>\n\n<p>if you want to use it in Java, add <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-static/\" rel=\"noreferrer\"><code>@JvmStatic</code></a> annotation</p>\n\n<pre><code>object Hello {\n  @JvmStatic val MAX_LEN = 20\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7723297,"reputation":1774,"user_id":5848801,"accept_rate":75,"display_name":"Simon Ludwig"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1612642740,"creation_date":1515084358,"answer_id":48099849,"question_id":40352879,"body_markdown":"For me \r\n\r\n    object Hello {\r\n       const val MAX_LEN = 20\r\n    }\r\nwas to much boilerplate. I simple put the static final fields above my class like this\r\n\r\n    private val MIN_LENGTH = 10 // &lt;-- The `private` scopes this variable to this file. Any class in the file has access to it.\r\n\r\n    class MyService{\r\n    }","title":"What is the equivalent of Java static final fields in Kotlin?","body":"<p>For me</p>\n<pre><code>object Hello {\n   const val MAX_LEN = 20\n}\n</code></pre>\n<p>was to much boilerplate. I simple put the static final fields above my class like this</p>\n<pre><code>private val MIN_LENGTH = 10 // &lt;-- The `private` scopes this variable to this file. Any class in the file has access to it.\n\nclass MyService{\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4601207,"reputation":1353,"user_id":3731900,"accept_rate":14,"display_name":"yousef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655612525,"creation_date":1655564907,"answer_id":72670323,"question_id":40352879,"body_markdown":"```\r\nclass Hello {\r\n    companion object {\r\n         @JvmStatic val MAX_LEN = 20\r\n    }\r\n}\r\n```","title":"What is the equivalent of Java static final fields in Kotlin?","body":"<pre><code>class Hello {\n    companion object {\n         @JvmStatic val MAX_LEN = 20\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8074,"reputation":44063,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91155,"favorite_count":0,"down_vote_count":1,"up_vote_count":173,"accepted_answer_id":40354557,"answer_count":4,"score":172,"last_activity_date":1655612525,"creation_date":1477963255,"question_id":40352879,"body_markdown":"In Java, to declare a constant, you do something like:\r\n\r\n    class Hello {\r\n        public static final int MAX_LEN = 20;\r\n    }\r\n\r\nWhat is the equivalent in Kotlin?\r\n","title":"What is the equivalent of Java static final fields in Kotlin?","body":"<p>In Java, to declare a constant, you do something like:</p>\n<pre><code>class Hello {\n    public static final int MAX_LEN = 20;\n}\n</code></pre>\n<p>What is the equivalent in Kotlin?</p>\n"},{"tags":["java","arrays","split"],"comments":[{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1655583053,"post_id":72671973,"comment_id":128367804,"body_markdown":"You need a `Card` class that has a `suite` attribute and a `rank` attribute. Then you need to implement a `Comparator` in `Card` that can compare two instances of `Card`. To create the `Card` from a string you need a parser to handle an instance of the `String` values you receive.","body":"You need a <code>Card</code> class that has a <code>suite</code> attribute and a <code>rank</code> attribute. Then you need to implement a <code>Comparator</code> in <code>Card</code> that can compare two instances of <code>Card</code>. To create the <code>Card</code> from a string you need a parser to handle an instance of the <code>String</code> values you receive."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655612131,"creation_date":1655612131,"answer_id":72674240,"question_id":72671973,"body_markdown":"You need a way to compare string names with each other, so that you can determine &quot;Jack&quot; is ranked higher than &quot;Ten&quot; for example, but lower than &quot;Queen&quot;. There are a number of ways to this, below is one.\r\n\r\nAs a first step, here is a map that will allow translating a card name to it&#39;s numeric position relative to the other card names. Ace is ranked the highest in position 13, while the Two card is ranked lowest in position 1.\r\n```\r\nstatic Map&lt;String, Integer&gt; positions = new HashMap&lt;&gt;();\r\nstatic {\r\n    positions.put(&quot;Two&quot;, 1);\r\n    positions.put(&quot;Three&quot;, 2);\r\n    positions.put(&quot;Four&quot;, 3);\r\n    positions.put(&quot;Five&quot;, 4);\r\n    positions.put(&quot;Six&quot;, 5);\r\n    positions.put(&quot;Seven&quot;, 6);\r\n    positions.put(&quot;Eight&quot;, 7);\r\n    positions.put(&quot;Nine&quot;, 8);\r\n    positions.put(&quot;Ten&quot;, 9);\r\n    positions.put(&quot;Jack&quot;, 10);\r\n    positions.put(&quot;Queen&quot;, 11);\r\n    positions.put(&quot;King&quot;, 12);\r\n    positions.put(&quot;Ace&quot;, 13);\r\n}\r\n```\r\n\r\nHere&#39;s a simple usage below. All it&#39;s doing is calling `Ararys.sort()` with a compartor that looks up each card name in the `positions` map. Note that the &quot;cards&quot; array is just the card names and not card+suit like you posted (so &quot;Ace&quot;, and not &quot;Ace spades&quot;):\r\n```\r\npublic static void main(String[] args) {\r\n    String[] cards = {\r\n            &quot;Ace&quot;,\r\n            &quot;Five&quot;,\r\n            &quot;Four&quot;,\r\n            &quot;King&quot;,\r\n            &quot;Queen&quot;\r\n    };\r\n\r\n    System.out.println(&quot;before sort: &quot; + Arrays.toString(cards));\r\n    Arrays.sort(cards, Comparator.comparing(o -&gt; positions.get(o)));\r\n    System.out.println(&quot; after sort: &quot; + Arrays.toString(cards));\r\n}\r\n```\r\n\r\nAnd here&#39;s the output from running that, first it prints the original array, then it prints the same array once more after the contents were sorted:\r\n```\r\nbefore sort: [Ace, Five, Four, King, Queen]\r\n after sort: [Four, Five, Queen, King, Ace]\r\n```","title":"How to organize (from highest to lowest) a hand of 5 deck-cards? or how to split an array of strings into sub arrays?","body":"<p>You need a way to compare string names with each other, so that you can determine &quot;Jack&quot; is ranked higher than &quot;Ten&quot; for example, but lower than &quot;Queen&quot;. There are a number of ways to this, below is one.</p>\n<p>As a first step, here is a map that will allow translating a card name to it's numeric position relative to the other card names. Ace is ranked the highest in position 13, while the Two card is ranked lowest in position 1.</p>\n<pre><code>static Map&lt;String, Integer&gt; positions = new HashMap&lt;&gt;();\nstatic {\n    positions.put(&quot;Two&quot;, 1);\n    positions.put(&quot;Three&quot;, 2);\n    positions.put(&quot;Four&quot;, 3);\n    positions.put(&quot;Five&quot;, 4);\n    positions.put(&quot;Six&quot;, 5);\n    positions.put(&quot;Seven&quot;, 6);\n    positions.put(&quot;Eight&quot;, 7);\n    positions.put(&quot;Nine&quot;, 8);\n    positions.put(&quot;Ten&quot;, 9);\n    positions.put(&quot;Jack&quot;, 10);\n    positions.put(&quot;Queen&quot;, 11);\n    positions.put(&quot;King&quot;, 12);\n    positions.put(&quot;Ace&quot;, 13);\n}\n</code></pre>\n<p>Here's a simple usage below. All it's doing is calling <code>Ararys.sort()</code> with a compartor that looks up each card name in the <code>positions</code> map. Note that the &quot;cards&quot; array is just the card names and not card+suit like you posted (so &quot;Ace&quot;, and not &quot;Ace spades&quot;):</p>\n<pre><code>public static void main(String[] args) {\n    String[] cards = {\n            &quot;Ace&quot;,\n            &quot;Five&quot;,\n            &quot;Four&quot;,\n            &quot;King&quot;,\n            &quot;Queen&quot;\n    };\n\n    System.out.println(&quot;before sort: &quot; + Arrays.toString(cards));\n    Arrays.sort(cards, Comparator.comparing(o -&gt; positions.get(o)));\n    System.out.println(&quot; after sort: &quot; + Arrays.toString(cards));\n}\n</code></pre>\n<p>And here's the output from running that, first it prints the original array, then it prints the same array once more after the contents were sorted:</p>\n<pre><code>before sort: [Ace, Five, Four, King, Queen]\n after sort: [Four, Five, Queen, King, Ace]\n</code></pre>\n"}],"owner":{"account_id":21184268,"reputation":41,"user_id":15577992,"display_name":"hobbyiscoding"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655612131,"creation_date":1655578968,"question_id":72671973,"body_markdown":"I am stuck on how to organize 5 cards from highest to lowest. the 5 cards will come into the method as an array called handDeck, the array would look something like this: {&quot;Ace spades&quot;, &quot;Five hearts&quot;,...etc}. What I tried is iterate through the array and splitting each element into smaller array contain the first and second word for example: in the example array I wrote earlier, the first sub-array would look like this: {&quot;Ace&quot;, &quot;Spades&quot;}. this can allow me to check every first element of those 5 sub-arrays and check which order they should follow. however, I don&#39;t know how to implement this sub-array method. i haven&#39;t coded in so long so my memory is very shady right now. also if you can give me a hint on how to check the order of the first element of the sub-arrays, that would be very helpful.\r\n\r\nthe code that I tried is this:\r\n\r\n```\r\nString[] deck = {&quot;Ace spades&quot;, &quot;Five hearts&quot;, &quot;Four spades&quot;, &quot;King diamonds&quot;, &quot;Queen diamonds&quot;};\r\nfor(int i = 0; i &lt; 5; i++) {\r\n   String s = deck[i];\r\n   s.split(&quot; &quot;);\r\n   System.out.println(s);\r\n}","title":"How to organize (from highest to lowest) a hand of 5 deck-cards? or how to split an array of strings into sub arrays?","body":"<p>I am stuck on how to organize 5 cards from highest to lowest. the 5 cards will come into the method as an array called handDeck, the array would look something like this: {&quot;Ace spades&quot;, &quot;Five hearts&quot;,...etc}. What I tried is iterate through the array and splitting each element into smaller array contain the first and second word for example: in the example array I wrote earlier, the first sub-array would look like this: {&quot;Ace&quot;, &quot;Spades&quot;}. this can allow me to check every first element of those 5 sub-arrays and check which order they should follow. however, I don't know how to implement this sub-array method. i haven't coded in so long so my memory is very shady right now. also if you can give me a hint on how to check the order of the first element of the sub-arrays, that would be very helpful.</p>\n<p>the code that I tried is this:</p>\n<pre><code>String[] deck = {&quot;Ace spades&quot;, &quot;Five hearts&quot;, &quot;Four spades&quot;, &quot;King diamonds&quot;, &quot;Queen diamonds&quot;};\nfor(int i = 0; i &lt; 5; i++) {\n   String s = deck[i];\n   s.split(&quot; &quot;);\n   System.out.println(s);\n}\n</code></pre>\n"},{"tags":["java","akka","akka-stream","akka-cluster"],"answers":[{"tags":[],"owner":{"account_id":13460295,"reputation":1223,"user_id":9712582,"display_name":"user9712582"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655611090,"creation_date":1655611090,"answer_id":72674174,"question_id":72599488,"body_markdown":"`ActorRef.tell` works.  Construct the graph blueprint so the source `ActorRef` will be returned when the blueprint is materialized and run.\r\n\r\nFor just one materialized object, use that materialized type for the materialized type parameter of the `Graph`.\r\n\r\nHere the materialized type parameter for `integerSource` is `ActorRef`.\r\nThe materialized type parameter for `Graph` is also `ActorRef`.\r\nOnly `integerSource` is passed to `GraphDSL.create`.\r\n\r\n\r\n    Source&lt;Integer, ActorRef&gt; integerSource = ...\r\n\r\n    Graph&lt;ClosedShape, ActorRef&gt; graph =\r\n      GraphDSL.create(integerSource, (builder, src) -&gt; {\r\n         ...\r\n      });\r\n\r\n    RunnableGraph&lt;ActorRef&gt; runnableGraph = RunnableGraph.fromGraph(graph);\r\n\r\n    ActorRef actorRef = runnableGraph.run(actorSystem);\r\n\r\n    actorRef.tell(1, ActorRef.noSender());\r\n\r\nTo access more than one materialized object, a tuple must be constructed to capture them.  If two objects from the materialized graph are desired, say src and snk, then `Pair&lt;A,B&gt;` can capture both types.\r\n\r\nHere both `integersource` and `sink` are passed to `GraphDSL.create`.\r\nThe materialized `ActorRef` and `CompletionStage` are paired for the result of `run` with `Pair::new`.\r\nThe type `Pair&lt;ActorRef,CompletionStage&lt;Done&gt;&gt;` is the materialized type parameter of the `Graph`.\r\n\r\n\r\n    Source&lt;Integer, ActorRef&gt; integerSource = ...\r\n    Sink&lt;Integer, CompletionStage&lt;Done&gt;&gt; sink = ...\r\n\r\n    Graph&lt;ClosedShape, Pair&lt;ActorRef, CompletionStage&lt;Done&gt;&gt;&gt; graph =\r\n          GraphDSL.create(integerSource, sink, Pair::new, (builder, src, snk) -&gt; {\r\n    ....\r\n    });\r\n\r\n    RunnableGraph&lt;Pair&lt;ActorRef, CompletionStage&lt;Done&gt;&gt;&gt; runnableGraph =\r\n      RunnableGraph.fromGraph(graph);\r\n\r\n    Pair&lt;ActorRef, CompletionStage&lt;Done&gt;&gt; pair =\r\n      runnableGraph.run(actorSystem);\r\n    ActorRef actorRef = pair.first();\r\n    CompletionStage&lt;Done&gt; completionStage = pair.second();\r\n\r\n    actorRef.tell(1, ActorRef.noSender());\r\n\r\nFull example:\r\n\r\n(build.gradle)\r\n\r\n    apply plugin: &quot;java&quot;\r\n    apply plugin: &quot;application&quot;\r\n    mainClassName = &quot;GraphActorSource&quot;\r\n    repositories {\r\n      mavenCentral()\r\n    }\r\n    dependencies { \r\n      implementation &quot;com.typesafe.akka:akka-actor-typed_2.13:2.6.19&quot;\r\n      implementation &quot;com.typesafe.akka:akka-stream-typed_2.13:2.6.19&quot;\r\n      implementation &#39;org.slf4j:slf4j-jdk14:1.7.36&#39;\r\n    }\r\n    compileJava {\r\n      options.compilerArgs &lt;&lt; &quot;-Xlint:unchecked&quot;\r\n    }\r\n\r\n(src/main/java/GraphActorSource.java)\r\n\r\n    import akka.Done;\r\n    import akka.NotUsed;\r\n    import akka.actor.ActorRef;\r\n    import akka.actor.Status.Success;\r\n    import akka.actor.typed.ActorSystem;\r\n    import akka.actor.typed.javadsl.Behaviors;\r\n    import akka.japi.Pair;\r\n    import akka.stream.*;\r\n    import akka.stream.javadsl.*;\r\n    import akka.util.Timeout;\r\n    \r\n    import java.util.Optional;\r\n    import java.util.concurrent.CompletionStage;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class GraphActorSource {\r\n    \r\n      private final static ActorSystem actorSystem =\r\n        ActorSystem.create(Behaviors.empty(), &quot;flowActorSystem&quot;);\r\n    \r\n      public void runFlow() {\r\n    \r\n        // 1. Create graph (blueprint)\r\n    \r\n        // 1a. Define source, flows, and sink\r\n    \r\n        final Source&lt;Integer, ActorRef&gt; integerSource =\r\n          Source.actorRef\r\n          (\r\n            elem -&gt; {\r\n              if (elem == Done.done()) return Optional.of(CompletionStrategy.immediately());\r\n              else return Optional.empty();\r\n            },\r\n            elem -&gt; Optional.empty(),\r\n            10,\r\n            OverflowStrategy.dropHead()\r\n          );\r\n    \r\n    \r\n        Flow&lt;Integer, Integer, NotUsed&gt; flow1 = Flow.of(Integer.class)\r\n          .map (x -&gt; {\r\n              System.out.println(&quot;Flow 1 is processing &quot; + x);\r\n              return (100 + x);\r\n            });\r\n        Flow&lt;Integer, Integer, NotUsed&gt; flow2 = Flow.of(Integer.class)\r\n          .map (x -&gt; {\r\n              System.out.println(&quot;Flow 2 is processing &quot; + x);\r\n              return (200 + x);\r\n            });\r\n    \r\n        Sink&lt;Integer, CompletionStage&lt;Done&gt;&gt; sink = Sink.foreach(x -&gt; {\r\n            System.out.println(&quot;Sink received &quot;+x);\r\n          });\r\n    \r\n        // 1b. Connect nodes and flows into a graph.\r\n        // Inputs and output nodes (source, sink) will be produced at run start.\r\n    \r\n        Graph&lt;ClosedShape, Pair&lt;ActorRef, CompletionStage&lt;Done&gt;&gt;&gt; graph =\r\n          GraphDSL.create(integerSource, sink, Pair::new, (builder, src, snk) -&gt; {\r\n              UniformFanOutShape&lt;Integer, Integer&gt; broadcast =\r\n              builder.add(Broadcast.create(2));\r\n              FlowShape&lt;Integer, Integer&gt; flow1Shape = builder.add(flow1);\r\n              FlowShape&lt;Integer, Integer&gt; flow2Shape = builder.add(flow2);\r\n              UniformFanInShape&lt;Integer, Integer&gt; merge =\r\n              builder.add(Merge.create(2));\r\n    \r\n              builder.from(src)\r\n              .viaFanOut(broadcast);\r\n    \r\n              builder.from(broadcast.out(0))\r\n              .via(flow1Shape)\r\n              .toInlet(merge.in(0));\r\n    \r\n              builder.from(broadcast.out(1))\r\n              .via(flow2Shape)\r\n              .toInlet(merge.in(1));\r\n    \r\n              builder.from(merge)\r\n              .to(snk);\r\n    \r\n              return ClosedShape.getInstance();\r\n            } );\r\n    \r\n        RunnableGraph&lt;Pair&lt;ActorRef, CompletionStage&lt;Done&gt;&gt;&gt; runnableGraph =\r\n          RunnableGraph.fromGraph(graph);\r\n    \r\n        // 2. Start run,\r\n        // which produces materialized source ActorRef and sink CompletionStage.\r\n    \r\n        Pair&lt;ActorRef, CompletionStage&lt;Done&gt;&gt; pair =\r\n          runnableGraph.run(actorSystem);\r\n        ActorRef actorRef = pair.first();\r\n        CompletionStage&lt;Done&gt; completionStage = pair.second();\r\n    \r\n        // On completion, terminates actor system (optional).\r\n        completionStage.thenRun(() -&gt; {\r\n            System.out.println(&quot;Done, terminating.&quot;);\r\n            actorSystem.terminate();\r\n          });\r\n              \r\n        // 3. Send messages to source actor\r\n    \r\n        actorRef.tell(1, ActorRef.noSender());\r\n        actorRef.tell(2, ActorRef.noSender());\r\n    \r\n        // The stream completes successfully with the following message\r\n        actorRef.tell(Done.done(), ActorRef.noSender());\r\n    \r\n      }\r\n    \r\n      public static void main(String args[]){\r\n        new GraphActorSource().runFlow();\r\n      }\r\n    }\r\n\r\nReference Akka Documentation (accessed Version 2.6.19)\r\n\r\n[Streams / Operators / Source.actorRef][1]\r\n\r\n[Streams / Streams Cookbook / Working with operators][2]\r\n\r\n  [1]: https://doc.akka.io/docs/akka/current/stream/operators/Source/actorRef.html#source-actorref\r\n  [2]: https://doc.akka.io/docs/akka/current/stream/stream-cookbook.html#working-with-operators\r\n","title":"How to use an Actor based source with an Akka Graph?","body":"<p><code>ActorRef.tell</code> works.  Construct the graph blueprint so the source <code>ActorRef</code> will be returned when the blueprint is materialized and run.</p>\n<p>For just one materialized object, use that materialized type for the materialized type parameter of the <code>Graph</code>.</p>\n<p>Here the materialized type parameter for <code>integerSource</code> is <code>ActorRef</code>.\nThe materialized type parameter for <code>Graph</code> is also <code>ActorRef</code>.\nOnly <code>integerSource</code> is passed to <code>GraphDSL.create</code>.</p>\n<pre><code>Source&lt;Integer, ActorRef&gt; integerSource = ...\n\nGraph&lt;ClosedShape, ActorRef&gt; graph =\n  GraphDSL.create(integerSource, (builder, src) -&gt; {\n     ...\n  });\n\nRunnableGraph&lt;ActorRef&gt; runnableGraph = RunnableGraph.fromGraph(graph);\n\nActorRef actorRef = runnableGraph.run(actorSystem);\n\nactorRef.tell(1, ActorRef.noSender());\n</code></pre>\n<p>To access more than one materialized object, a tuple must be constructed to capture them.  If two objects from the materialized graph are desired, say src and snk, then <code>Pair&lt;A,B&gt;</code> can capture both types.</p>\n<p>Here both <code>integersource</code> and <code>sink</code> are passed to <code>GraphDSL.create</code>.\nThe materialized <code>ActorRef</code> and <code>CompletionStage</code> are paired for the result of <code>run</code> with <code>Pair::new</code>.\nThe type <code>Pair&lt;ActorRef,CompletionStage&lt;Done&gt;&gt;</code> is the materialized type parameter of the <code>Graph</code>.</p>\n<pre><code>Source&lt;Integer, ActorRef&gt; integerSource = ...\nSink&lt;Integer, CompletionStage&lt;Done&gt;&gt; sink = ...\n\nGraph&lt;ClosedShape, Pair&lt;ActorRef, CompletionStage&lt;Done&gt;&gt;&gt; graph =\n      GraphDSL.create(integerSource, sink, Pair::new, (builder, src, snk) -&gt; {\n....\n});\n\nRunnableGraph&lt;Pair&lt;ActorRef, CompletionStage&lt;Done&gt;&gt;&gt; runnableGraph =\n  RunnableGraph.fromGraph(graph);\n\nPair&lt;ActorRef, CompletionStage&lt;Done&gt;&gt; pair =\n  runnableGraph.run(actorSystem);\nActorRef actorRef = pair.first();\nCompletionStage&lt;Done&gt; completionStage = pair.second();\n\nactorRef.tell(1, ActorRef.noSender());\n</code></pre>\n<p>Full example:</p>\n<p>(build.gradle)</p>\n<pre><code>apply plugin: &quot;java&quot;\napply plugin: &quot;application&quot;\nmainClassName = &quot;GraphActorSource&quot;\nrepositories {\n  mavenCentral()\n}\ndependencies { \n  implementation &quot;com.typesafe.akka:akka-actor-typed_2.13:2.6.19&quot;\n  implementation &quot;com.typesafe.akka:akka-stream-typed_2.13:2.6.19&quot;\n  implementation 'org.slf4j:slf4j-jdk14:1.7.36'\n}\ncompileJava {\n  options.compilerArgs &lt;&lt; &quot;-Xlint:unchecked&quot;\n}\n</code></pre>\n<p>(src/main/java/GraphActorSource.java)</p>\n<pre><code>import akka.Done;\nimport akka.NotUsed;\nimport akka.actor.ActorRef;\nimport akka.actor.Status.Success;\nimport akka.actor.typed.ActorSystem;\nimport akka.actor.typed.javadsl.Behaviors;\nimport akka.japi.Pair;\nimport akka.stream.*;\nimport akka.stream.javadsl.*;\nimport akka.util.Timeout;\n\nimport java.util.Optional;\nimport java.util.concurrent.CompletionStage;\nimport java.util.concurrent.TimeUnit;\n\npublic class GraphActorSource {\n\n  private final static ActorSystem actorSystem =\n    ActorSystem.create(Behaviors.empty(), &quot;flowActorSystem&quot;);\n\n  public void runFlow() {\n\n    // 1. Create graph (blueprint)\n\n    // 1a. Define source, flows, and sink\n\n    final Source&lt;Integer, ActorRef&gt; integerSource =\n      Source.actorRef\n      (\n        elem -&gt; {\n          if (elem == Done.done()) return Optional.of(CompletionStrategy.immediately());\n          else return Optional.empty();\n        },\n        elem -&gt; Optional.empty(),\n        10,\n        OverflowStrategy.dropHead()\n      );\n\n\n    Flow&lt;Integer, Integer, NotUsed&gt; flow1 = Flow.of(Integer.class)\n      .map (x -&gt; {\n          System.out.println(&quot;Flow 1 is processing &quot; + x);\n          return (100 + x);\n        });\n    Flow&lt;Integer, Integer, NotUsed&gt; flow2 = Flow.of(Integer.class)\n      .map (x -&gt; {\n          System.out.println(&quot;Flow 2 is processing &quot; + x);\n          return (200 + x);\n        });\n\n    Sink&lt;Integer, CompletionStage&lt;Done&gt;&gt; sink = Sink.foreach(x -&gt; {\n        System.out.println(&quot;Sink received &quot;+x);\n      });\n\n    // 1b. Connect nodes and flows into a graph.\n    // Inputs and output nodes (source, sink) will be produced at run start.\n\n    Graph&lt;ClosedShape, Pair&lt;ActorRef, CompletionStage&lt;Done&gt;&gt;&gt; graph =\n      GraphDSL.create(integerSource, sink, Pair::new, (builder, src, snk) -&gt; {\n          UniformFanOutShape&lt;Integer, Integer&gt; broadcast =\n          builder.add(Broadcast.create(2));\n          FlowShape&lt;Integer, Integer&gt; flow1Shape = builder.add(flow1);\n          FlowShape&lt;Integer, Integer&gt; flow2Shape = builder.add(flow2);\n          UniformFanInShape&lt;Integer, Integer&gt; merge =\n          builder.add(Merge.create(2));\n\n          builder.from(src)\n          .viaFanOut(broadcast);\n\n          builder.from(broadcast.out(0))\n          .via(flow1Shape)\n          .toInlet(merge.in(0));\n\n          builder.from(broadcast.out(1))\n          .via(flow2Shape)\n          .toInlet(merge.in(1));\n\n          builder.from(merge)\n          .to(snk);\n\n          return ClosedShape.getInstance();\n        } );\n\n    RunnableGraph&lt;Pair&lt;ActorRef, CompletionStage&lt;Done&gt;&gt;&gt; runnableGraph =\n      RunnableGraph.fromGraph(graph);\n\n    // 2. Start run,\n    // which produces materialized source ActorRef and sink CompletionStage.\n\n    Pair&lt;ActorRef, CompletionStage&lt;Done&gt;&gt; pair =\n      runnableGraph.run(actorSystem);\n    ActorRef actorRef = pair.first();\n    CompletionStage&lt;Done&gt; completionStage = pair.second();\n\n    // On completion, terminates actor system (optional).\n    completionStage.thenRun(() -&gt; {\n        System.out.println(&quot;Done, terminating.&quot;);\n        actorSystem.terminate();\n      });\n          \n    // 3. Send messages to source actor\n\n    actorRef.tell(1, ActorRef.noSender());\n    actorRef.tell(2, ActorRef.noSender());\n\n    // The stream completes successfully with the following message\n    actorRef.tell(Done.done(), ActorRef.noSender());\n\n  }\n\n  public static void main(String args[]){\n    new GraphActorSource().runFlow();\n  }\n}\n</code></pre>\n<p>Reference Akka Documentation (accessed Version 2.6.19)</p>\n<p><a href=\"https://doc.akka.io/docs/akka/current/stream/operators/Source/actorRef.html#source-actorref\" rel=\"nofollow noreferrer\">Streams / Operators / Source.actorRef</a></p>\n<p><a href=\"https://doc.akka.io/docs/akka/current/stream/stream-cookbook.html#working-with-operators\" rel=\"nofollow noreferrer\">Streams / Streams Cookbook / Working with operators</a></p>\n"}],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72674174,"answer_count":1,"score":2,"last_activity_date":1655611090,"creation_date":1655107321,"question_id":72599488,"body_markdown":"I&#39;m attempting to send data via an actor to a runnable graph that contains a fan out.\r\n\r\nI define the source as : \r\n\r\n    final Source&lt;Integer, ActorRef&gt; integerSource =\r\n            Source.actorRef(\r\n                    elem -&gt; {\r\n                        if (elem == Done.done()) return Optional.of(CompletionStrategy.immediately());\r\n                        else return Optional.empty();\r\n                    },\r\n                    elem -&gt; Optional.empty(),\r\n                    10,\r\n                    OverflowStrategy.dropHead());\r\n\r\nBut I&#39;m unsure how to get a handle on an `ActoRef` to send data via an actor to the source so that the runnable graph will process messages asynchronously as they are received : \r\n\r\n    RunnableGraph&lt;CompletionStage&lt;Done&gt;&gt; graph = RunnableGraph.fromGraph(\r\n            GraphDSL.create(sink, (builder, out) -&gt; {\r\n                SourceShape&lt;Integer&gt; sourceShape = builder.add(integerSource);\r\n                FlowShape&lt;Integer, Integer&gt; flow1Shape = builder.add(flow1);\r\n                FlowShape&lt;Integer, Integer&gt; flow2Shape = builder.add(flow1);\r\n                UniformFanOutShape&lt;Integer, Integer&gt; broadcast =\r\n                        builder.add(Broadcast.create(2));\r\n                UniformFanInShape&lt;Integer, Integer&gt; merge =\r\n                        builder.add(Merge.create(2));\r\n\r\n                builder.from(sourceShape)\r\n                        .viaFanOut(broadcast)\r\n                        .via(flow1Shape);\r\n\r\n                builder.from(broadcast).via(flow2Shape);\r\n\r\n                builder.from(flow1Shape)\r\n                        .viaFanIn(merge)\r\n                        .to(out);\r\n\r\n                builder.from(flow2Shape).viaFanIn(merge);\r\n\r\n\r\n                return ClosedShape.getInstance();\r\n            } )\r\n    );\r\n\r\nEntire src : \r\n\r\n\r\n    import akka.Done;\r\n    import akka.NotUsed;\r\n    import akka.actor.ActorRef;\r\n    import akka.actor.typed.ActorSystem;\r\n    import akka.actor.typed.javadsl.Behaviors;\r\n    import akka.stream.*;\r\n    import akka.stream.javadsl.*;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    import java.util.Optional;\r\n    import java.util.concurrent.CompletionStage;\r\n    \r\n    @Slf4j\r\n    public class GraphActorSource {\r\n    \r\n        private final static ActorSystem actorSystem = ActorSystem.create(Behaviors.empty(), &quot;flowActorSystem&quot;);\r\n    \r\n        public void runFlow() {\r\n    \r\n    \r\n            final Source&lt;Integer, ActorRef&gt; integerSource =\r\n                    Source.actorRef(\r\n                            elem -&gt; {\r\n                                if (elem == Done.done()) return Optional.of(CompletionStrategy.immediately());\r\n                                else return Optional.empty();\r\n                            },\r\n                            elem -&gt; Optional.empty(),\r\n                            10,\r\n                            OverflowStrategy.dropHead());\r\n    \r\n    \r\n            Flow&lt;Integer, Integer, NotUsed&gt; flow1 = Flow.of(Integer.class)\r\n                    .map (x -&gt; {\r\n                        System.out.println(&quot;Flow 1 is processing &quot; + x);\r\n                        return (x * 2);\r\n                    });\r\n    \r\n            Sink&lt;Integer, CompletionStage&lt;Done&gt;&gt; sink = Sink.foreach(x -&gt; {\r\n                System.out.println(x);\r\n            });\r\n    \r\n            RunnableGraph&lt;CompletionStage&lt;Done&gt;&gt; graph = RunnableGraph.fromGraph(\r\n                    GraphDSL.create(sink, (builder, out) -&gt; {\r\n                        SourceShape&lt;Integer&gt; sourceShape = builder.add(integerSource);\r\n                        FlowShape&lt;Integer, Integer&gt; flow1Shape = builder.add(flow1);\r\n                        FlowShape&lt;Integer, Integer&gt; flow2Shape = builder.add(flow1);\r\n                        UniformFanOutShape&lt;Integer, Integer&gt; broadcast =\r\n                                builder.add(Broadcast.create(2));\r\n                        UniformFanInShape&lt;Integer, Integer&gt; merge =\r\n                                builder.add(Merge.create(2));\r\n    \r\n                        builder.from(sourceShape)\r\n                                .viaFanOut(broadcast)\r\n                                .via(flow1Shape);\r\n    \r\n                        builder.from(broadcast).via(flow2Shape);\r\n    \r\n                        builder.from(flow1Shape)\r\n                                .viaFanIn(merge)\r\n                                .to(out);\r\n    \r\n                        builder.from(flow2Shape).viaFanIn(merge);\r\n    \r\n    \r\n                        return ClosedShape.getInstance();\r\n                    } )\r\n            );\r\n    \r\n            graph.run(actorSystem);\r\n    \r\n        }\r\n    \r\n        public static void main(String args[]){\r\n            new GraphActorSource().runFlow();\r\n        }\r\n    }\r\n\r\nHow to send data to the Runnable graph via an actor?\r\n\r\nSomething like ? : \r\n\r\n    integerSource.tell(1)\r\n    integerSource.tell(2)\r\n    integerSource.tell(3)","title":"How to use an Actor based source with an Akka Graph?","body":"<p>I'm attempting to send data via an actor to a runnable graph that contains a fan out.</p>\n<p>I define the source as :</p>\n<pre><code>final Source&lt;Integer, ActorRef&gt; integerSource =\n        Source.actorRef(\n                elem -&gt; {\n                    if (elem == Done.done()) return Optional.of(CompletionStrategy.immediately());\n                    else return Optional.empty();\n                },\n                elem -&gt; Optional.empty(),\n                10,\n                OverflowStrategy.dropHead());\n</code></pre>\n<p>But I'm unsure how to get a handle on an <code>ActoRef</code> to send data via an actor to the source so that the runnable graph will process messages asynchronously as they are received :</p>\n<pre><code>RunnableGraph&lt;CompletionStage&lt;Done&gt;&gt; graph = RunnableGraph.fromGraph(\n        GraphDSL.create(sink, (builder, out) -&gt; {\n            SourceShape&lt;Integer&gt; sourceShape = builder.add(integerSource);\n            FlowShape&lt;Integer, Integer&gt; flow1Shape = builder.add(flow1);\n            FlowShape&lt;Integer, Integer&gt; flow2Shape = builder.add(flow1);\n            UniformFanOutShape&lt;Integer, Integer&gt; broadcast =\n                    builder.add(Broadcast.create(2));\n            UniformFanInShape&lt;Integer, Integer&gt; merge =\n                    builder.add(Merge.create(2));\n\n            builder.from(sourceShape)\n                    .viaFanOut(broadcast)\n                    .via(flow1Shape);\n\n            builder.from(broadcast).via(flow2Shape);\n\n            builder.from(flow1Shape)\n                    .viaFanIn(merge)\n                    .to(out);\n\n            builder.from(flow2Shape).viaFanIn(merge);\n\n\n            return ClosedShape.getInstance();\n        } )\n);\n</code></pre>\n<p>Entire src :</p>\n<pre><code>import akka.Done;\nimport akka.NotUsed;\nimport akka.actor.ActorRef;\nimport akka.actor.typed.ActorSystem;\nimport akka.actor.typed.javadsl.Behaviors;\nimport akka.stream.*;\nimport akka.stream.javadsl.*;\nimport lombok.extern.slf4j.Slf4j;\n\nimport java.util.Optional;\nimport java.util.concurrent.CompletionStage;\n\n@Slf4j\npublic class GraphActorSource {\n\n    private final static ActorSystem actorSystem = ActorSystem.create(Behaviors.empty(), &quot;flowActorSystem&quot;);\n\n    public void runFlow() {\n\n\n        final Source&lt;Integer, ActorRef&gt; integerSource =\n                Source.actorRef(\n                        elem -&gt; {\n                            if (elem == Done.done()) return Optional.of(CompletionStrategy.immediately());\n                            else return Optional.empty();\n                        },\n                        elem -&gt; Optional.empty(),\n                        10,\n                        OverflowStrategy.dropHead());\n\n\n        Flow&lt;Integer, Integer, NotUsed&gt; flow1 = Flow.of(Integer.class)\n                .map (x -&gt; {\n                    System.out.println(&quot;Flow 1 is processing &quot; + x);\n                    return (x * 2);\n                });\n\n        Sink&lt;Integer, CompletionStage&lt;Done&gt;&gt; sink = Sink.foreach(x -&gt; {\n            System.out.println(x);\n        });\n\n        RunnableGraph&lt;CompletionStage&lt;Done&gt;&gt; graph = RunnableGraph.fromGraph(\n                GraphDSL.create(sink, (builder, out) -&gt; {\n                    SourceShape&lt;Integer&gt; sourceShape = builder.add(integerSource);\n                    FlowShape&lt;Integer, Integer&gt; flow1Shape = builder.add(flow1);\n                    FlowShape&lt;Integer, Integer&gt; flow2Shape = builder.add(flow1);\n                    UniformFanOutShape&lt;Integer, Integer&gt; broadcast =\n                            builder.add(Broadcast.create(2));\n                    UniformFanInShape&lt;Integer, Integer&gt; merge =\n                            builder.add(Merge.create(2));\n\n                    builder.from(sourceShape)\n                            .viaFanOut(broadcast)\n                            .via(flow1Shape);\n\n                    builder.from(broadcast).via(flow2Shape);\n\n                    builder.from(flow1Shape)\n                            .viaFanIn(merge)\n                            .to(out);\n\n                    builder.from(flow2Shape).viaFanIn(merge);\n\n\n                    return ClosedShape.getInstance();\n                } )\n        );\n\n        graph.run(actorSystem);\n\n    }\n\n    public static void main(String args[]){\n        new GraphActorSource().runFlow();\n    }\n}\n</code></pre>\n<p>How to send data to the Runnable graph via an actor?</p>\n<p>Something like ? :</p>\n<pre><code>integerSource.tell(1)\nintegerSource.tell(2)\nintegerSource.tell(3)\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1655627433,"post_id":72672260,"comment_id":128372861,"body_markdown":"If you consider at some point in time try using [Cloud Firestore](https://firebase.google.com/docs/firestore/), here you can find a [resource](https://medium.com/firebase-tips-tricks/how-to-filter-firestore-data-cheaper-705f5efec444) that can help you achieve that,","body":"If you consider at some point in time try using <a href=\"https://firebase.google.com/docs/firestore/\" rel=\"nofollow noreferrer\">Cloud Firestore</a>, here you can find a <a href=\"https://medium.com/firebase-tips-tricks/how-to-filter-firestore-data-cheaper-705f5efec444\" rel=\"nofollow noreferrer\">resource</a> that can help you achieve that,"},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1655649641,"post_id":72672260,"comment_id":128377066,"body_markdown":"Yes you can, but you cannot use `FirebaseRecylerAdapter`. You need to use the simple one.","body":"Yes you can, but you cannot use <code>FirebaseRecylerAdapter</code>. You need to use the simple one."},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1655663548,"post_id":72672260,"comment_id":128379972,"body_markdown":"You can refer to this link. https://stackoverflow.com/a/68248939/9346054 hope this helps","body":"You can refer to this link. <a href=\"https://stackoverflow.com/a/68248939/9346054\">stackoverflow.com/a/68248939/9346054</a> hope this helps"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655582056,"creation_date":1655582056,"answer_id":72672327,"question_id":72672260,"body_markdown":"There is no way to search across all property names in the Firebase Realtime Database. If you need such search functionality, consider using a dedicated solution for searching - such as Algolia, ElasticSearch or many others.","title":"Firebase Database : How I can search anywhere without specifying the key","body":"<p>There is no way to search across all property names in the Firebase Realtime Database. If you need such search functionality, consider using a dedicated solution for searching - such as Algolia, ElasticSearch or many others.</p>\n"},{"tags":[],"owner":{"account_id":16004286,"reputation":231,"user_id":11550162,"display_name":"Ryadh Hanafi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655610844,"creation_date":1655591641,"answer_id":72673196,"question_id":72672260,"body_markdown":"Try This One \r\n\r\n```\r\nmDatabase.orderByChild(&quot;cars&quot;).startAt(filter).addValueEventListner(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        //TODO\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n        //TODO\r\n    }\r\n});\r\n```\r\n","title":"Firebase Database : How I can search anywhere without specifying the key","body":"<p>Try This One</p>\n<pre><code>mDatabase.orderByChild(&quot;cars&quot;).startAt(filter).addValueEventListner(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        //TODO\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        //TODO\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655610844,"creation_date":1655581315,"question_id":72672260,"body_markdown":"I&#39;ve the following structure :\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/x6d5Q.png&quot; width=&quot;350&quot;/&gt;\r\n\r\nI would like to implement the search feature, I want to search anywhere without specifying the key (***bags, brandName color***...), I want to make a query that search for all cars that have a value that matching with the search keyword.\r\n\r\n\r\n**Example :**\r\n\r\nIf I write **&quot;Red&quot;** in the search bar, I would like to get all cars that have **red** color, in the same time if I search for **850** I want to get all cars that have **850** as a price.\r\n\r\nIn brief, I don&#39;t want to use `orderByChild`, because I don&#39;t want to search by specific key. I hope my question is clear.\r\n\r\n\r\n    private void getAllCarsBy(String filter) {\r\n            Query query = mDatabase.child(&quot;cars&quot;).startAt(filter); //not working\r\n\r\n            FirebaseRecyclerOptions&lt;Car&gt; options = new FirebaseRecyclerOptions.Builder&lt;Car&gt;()\r\n                    .setLifecycleOwner(this)\r\n                    .setQuery(query, Car.class)\r\n                    .build();\r\n            setAdapter(options);\r\n            query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    loadingProgressBar.setVisibility(View.GONE);\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    ToastUtils.showLong(error.getMessage());\r\n                    loadingProgressBar.setVisibility(View.GONE);\r\n                }\r\n            });\r\n        }\r\n\r\n\r\nMassive thanks for your help in advance.\r\n\r\n","title":"Firebase Database : How I can search anywhere without specifying the key","body":"<p>I've the following structure :</p>\n<img src=\"https://i.stack.imgur.com/x6d5Q.png\" width=\"350\"/>\n<p>I would like to implement the search feature, I want to search anywhere without specifying the key (<em><strong>bags, brandName color</strong></em>...), I want to make a query that search for all cars that have a value that matching with the search keyword.</p>\n<p><strong>Example :</strong></p>\n<p>If I write <strong>&quot;Red&quot;</strong> in the search bar, I would like to get all cars that have <strong>red</strong> color, in the same time if I search for <strong>850</strong> I want to get all cars that have <strong>850</strong> as a price.</p>\n<p>In brief, I don't want to use <code>orderByChild</code>, because I don't want to search by specific key. I hope my question is clear.</p>\n<pre><code>private void getAllCarsBy(String filter) {\n        Query query = mDatabase.child(&quot;cars&quot;).startAt(filter); //not working\n\n        FirebaseRecyclerOptions&lt;Car&gt; options = new FirebaseRecyclerOptions.Builder&lt;Car&gt;()\n                .setLifecycleOwner(this)\n                .setQuery(query, Car.class)\n                .build();\n        setAdapter(options);\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                loadingProgressBar.setVisibility(View.GONE);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                ToastUtils.showLong(error.getMessage());\n                loadingProgressBar.setVisibility(View.GONE);\n            }\n        });\n    }\n</code></pre>\n<p>Massive thanks for your help in advance.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":23384020,"reputation":21,"user_id":17449707,"display_name":"nirusingh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655608005,"creation_date":1655608005,"answer_id":72674024,"question_id":72673315,"body_markdown":"i think what you need is android bottom navigation.\r\nHave a look here: [bottom navigation][1]\r\n\r\n\r\n  [1]: https://material.io/components/bottom-navigation","title":"Question about RecyclerView and onClickListener","body":"<p>i think what you need is android bottom navigation.\nHave a look here: <a href=\"https://material.io/components/bottom-navigation\" rel=\"nofollow noreferrer\">bottom navigation</a></p>\n"},{"tags":[],"owner":{"account_id":25590448,"reputation":11,"user_id":19367301,"display_name":"Square.Guo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655610602,"creation_date":1655610602,"answer_id":72674149,"question_id":72673315,"body_markdown":"You can use [android bottom navigation][1] instead, which can solve your problem easily.\r\n\r\nThere is no much problem can be seen in your layout images, can you put relative code\r\n\r\n\r\n  [1]: https://developer.android.com/reference/com/google/android/material/bottomnavigation/BottomNavigationView#:~:text=Bottom%20navigation%20bars%20make%20it,to%20five%20top%2Dlevel%20destinations.","title":"Question about RecyclerView and onClickListener","body":"<p>You can use <a href=\"https://developer.android.com/reference/com/google/android/material/bottomnavigation/BottomNavigationView#:%7E:text=Bottom%20navigation%20bars%20make%20it,to%20five%20top%2Dlevel%20destinations.\" rel=\"nofollow noreferrer\">android bottom navigation</a> instead, which can solve your problem easily.</p>\n<p>There is no much problem can be seen in your layout images, can you put relative code</p>\n"}],"owner":{"account_id":22238731,"reputation":73,"user_id":16473617,"display_name":"Kelven Lim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1655610602,"creation_date":1655593673,"question_id":72673315,"body_markdown":"I have a working recycler view, and at the bottom, I want a toolbar where the user can navigate between the different activities. I set up an onClickListener for the images, but when running the programme, I cant click the images.\r\n\r\nDid I include something wrong in my layout or did I order things wrongly?\r\n\r\n[![mypagelayout.xml][1]][1]\r\n[![activity_main.xml][2]][2]\r\n[![phone][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/31hJc.png\r\n  [2]: https://i.stack.imgur.com/hbph1.png\r\n  [3]: https://i.stack.imgur.com/i3Yew.png","title":"Question about RecyclerView and onClickListener","body":"<p>I have a working recycler view, and at the bottom, I want a toolbar where the user can navigate between the different activities. I set up an onClickListener for the images, but when running the programme, I cant click the images.</p>\n<p>Did I include something wrong in my layout or did I order things wrongly?</p>\n<p><a href=\"https://i.stack.imgur.com/31hJc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/31hJc.png\" alt=\"mypagelayout.xml\" /></a>\n<a href=\"https://i.stack.imgur.com/hbph1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hbph1.png\" alt=\"activity_main.xml\" /></a>\n<a href=\"https://i.stack.imgur.com/i3Yew.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i3Yew.png\" alt=\"phone\" /></a></p>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650775426,"post_id":71985100,"comment_id":127199157,"body_markdown":"Sure, just provide a class derived from `JavaToc` that declares `hereIsYourCallback()` as `native`, and provide your own implementation.","body":"Sure, just provide a class derived from <code>JavaToc</code> that declares <code>hereIsYourCallback()</code> as <code>native</code>, and provide your own implementation."},{"owner":{"account_id":24186175,"reputation":73,"user_id":18146025,"display_name":"Roger Kasinsky"},"score":0,"creation_date":1650776286,"post_id":71985100,"comment_id":127199230,"body_markdown":"Ok, but would I start my C++ application through Java (by starting the JVM through the command-line) or would I start my C++ application through a C++ executable (by instantiating the JVM through `JNI_CreateJavaVM`) ???","body":"Ok, but would I start my C++ application through Java (by starting the JVM through the command-line) or would I start my C++ application through a C++ executable (by instantiating the JVM through <code>JNI_CreateJavaVM</code>) ???"},{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1652008355,"post_id":71985100,"comment_id":127497163,"body_markdown":"This sounds like something more easily implemented using a tool like JavaCPP that generates all the JNI code you need: https://github.com/bytedeco/javacpp#creating-callback-functions","body":"This sounds like something more easily implemented using a tool like JavaCPP that generates all the JNI code you need: <a href=\"https://github.com/bytedeco/javacpp#creating-callback-functions\" rel=\"nofollow noreferrer\">github.com/bytedeco/javacpp#creating-callback-functions</a>"}],"answers":[{"tags":[],"owner":{"account_id":3117228,"reputation":31,"user_id":2637743,"display_name":"MsxCowboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655589706,"creation_date":1655589706,"answer_id":72673043,"question_id":71985100,"body_markdown":"if you&#39;re still looking for a solution: you need to use the RegisterNatives() function in jni.h. With that, you can register functions present on the host (c/c++) environment to native methods on the embedded jvm.\r\n\r\nsee [this question][1] for more informations, but the gist is, supposing a class with a native void printingFromC() method:\r\n\r\ncreate your function like this:\r\n\r\n    JNIEXPORT void JNICALL printingFromC (JNIEnv* env, jobject thisObject) {\r\n        printf(&quot;Hello there!&quot;);\r\n    }\r\n\r\ndescribe your native methods like this (the first string is the method name in java, doesn&#39;t need to match the C/C++ function name:\r\n\r\n    static JNINativeMethod methods[] = {\r\n        {&quot;printingFromC&quot;, &quot;()V&quot;, (void*) &amp;printingFromC },\r\n    };\r\n\r\n\r\nThen after loading the class, before calling any native methods, register them:\r\n\r\n    myCls = (jclass) (*env)-&gt;FindClass(env, &quot;my/path/MyClass&quot;);\r\n    (*env)-&gt;RegisterNatives(env, myCls, methods, sizeof(methods)/sizeof(methods[0]));\r\n\r\nI hope this helps.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1010645/what-does-the-registernatives-method-do","title":"Is it possible for a C++ program to receive Java method calls from an embedded JVM running through JNI?","body":"<p>if you're still looking for a solution: you need to use the RegisterNatives() function in jni.h. With that, you can register functions present on the host (c/c++) environment to native methods on the embedded jvm.</p>\n<p>see <a href=\"https://stackoverflow.com/questions/1010645/what-does-the-registernatives-method-do\">this question</a> for more informations, but the gist is, supposing a class with a native void printingFromC() method:</p>\n<p>create your function like this:</p>\n<pre><code>JNIEXPORT void JNICALL printingFromC (JNIEnv* env, jobject thisObject) {\n    printf(&quot;Hello there!&quot;);\n}\n</code></pre>\n<p>describe your native methods like this (the first string is the method name in java, doesn't need to match the C/C++ function name:</p>\n<pre><code>static JNINativeMethod methods[] = {\n    {&quot;printingFromC&quot;, &quot;()V&quot;, (void*) &amp;printingFromC },\n};\n</code></pre>\n<p>Then after loading the class, before calling any native methods, register them:</p>\n<pre><code>myCls = (jclass) (*env)-&gt;FindClass(env, &quot;my/path/MyClass&quot;);\n(*env)-&gt;RegisterNatives(env, myCls, methods, sizeof(methods)/sizeof(methods[0]));\n</code></pre>\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":24186175,"reputation":73,"user_id":18146025,"display_name":"Roger Kasinsky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1655610234,"creation_date":1650768099,"question_id":71985100,"body_markdown":"I have the Java code below:\r\n\r\n    public class JavaToC {\r\n    \t\r\n    \tprotected void hereIsYourCallback(long l, double d, boolean b, Object obj) {\r\n    \t\t// this should be implemented by subclasses\r\n    \t}\r\n    \t\r\n    \tpublic void start() {\r\n    \t\ttry {\r\n    \t\t\twhile(true) {\r\n    \t\t\t\tThread.sleep(5000);\r\n    \t\t\t\thereIsYourCallback(3L, Math.PI, true, &quot;Hello from Java!&quot;); \r\n    \t\t\t}\r\n    \t\t} catch(InterruptedException e) {\r\n    \t\t\t// NOOP\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIs it possible to write a C++ code that would somehow trap every JVM call to `hereIsYourCallback`? Note that this callback would have to come from an embedded JVM instantiated through `JNI_CreateJavaVM`.","title":"Is it possible for a C++ program to receive Java method calls from an embedded JVM running through JNI?","body":"<p>I have the Java code below:</p>\n<pre><code>public class JavaToC {\n    \n    protected void hereIsYourCallback(long l, double d, boolean b, Object obj) {\n        // this should be implemented by subclasses\n    }\n    \n    public void start() {\n        try {\n            while(true) {\n                Thread.sleep(5000);\n                hereIsYourCallback(3L, Math.PI, true, &quot;Hello from Java!&quot;); \n            }\n        } catch(InterruptedException e) {\n            // NOOP\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Is it possible to write a C++ code that would somehow trap every JVM call to <code>hereIsYourCallback</code>? Note that this callback would have to come from an embedded JVM instantiated through <code>JNI_CreateJavaVM</code>.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655606462,"post_id":72673914,"comment_id":128370457,"body_markdown":"There&#39;s nothing wrong with your ArrayList, but the Strings you are storing in it have `\\n` characters at their ends.","body":"There&#39;s nothing wrong with your ArrayList, but the Strings you are storing in it have <code>\\n</code> characters at their ends."}],"answers":[{"tags":[],"owner":{"account_id":9720339,"reputation":83,"user_id":7209270,"display_name":"yafithekid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655606729,"creation_date":1655606729,"answer_id":72673959,"question_id":72673914,"body_markdown":"Try to see the output of ```name``` first\r\n\r\n```\r\n....\r\nString name = sc.next();\r\nSystem.out.println(&quot;#&quot;+name+&quot;#&quot;);\r\n...\r\n````\r\n\r\nIt should be formatted like\r\n\r\n```#take#``` \r\n\r\ninstead of\r\n\r\n```\r\n#take\r\n#\r\n```\r\n\r\nFor the answer, your scanner might accidentally take line endings in addition to the words. You can trim your input before inserting into the array list\r\n```\r\n...\r\nString name = sc.next();\r\nname = name.trim();\r\n\r\n```\r\n\r\n","title":"Wondering why my arraylist would store values in separated lines","body":"<p>Try to see the output of <code>name</code> first</p>\n<pre><code>....\nString name = sc.next();\nSystem.out.println(&quot;#&quot;+name+&quot;#&quot;);\n...\n</code></pre>\n<p>It should be formatted like</p>\n<p><code>#take#</code></p>\n<p>instead of</p>\n<pre><code>#take\n#\n</code></pre>\n<p>For the answer, your scanner might accidentally take line endings in addition to the words. You can trim your input before inserting into the array list</p>\n<pre><code>...\nString name = sc.next();\nname = name.trim();\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1655607138,"creation_date":1655607138,"answer_id":72673974,"question_id":72673914,"body_markdown":"I suspect that the root of the problem is this:\r\n\r\n        sc.useDelimiter(&quot;\\n&quot;);      \r\n\r\nThe thing is that on Windows, the standard line termination sequence in a text tile is `\\r\\n`.  So your custom delimiter is causing the `\\r` characters at the end of each line on the &quot;Action.txt&quot; to be part of the action strings ... when you read them with `Scanner.next`\r\n\r\nPossible solutions (depending on how the file is formatted ...):\r\n\r\n  1. Don&#39;t change the delimiter.\r\n  2. Use `Scanner.nextLine` rather than `Scanner.next` to read the action strings ... which renders the delimiter moot.\r\n  3. Use `name = name.trim();` to get rid of (all) pesky leading and trailing whitespace from the action strings.","title":"Wondering why my arraylist would store values in separated lines","body":"<p>I suspect that the root of the problem is this:</p>\n<pre><code>    sc.useDelimiter(&quot;\\n&quot;);      \n</code></pre>\n<p>The thing is that on Windows, the standard line termination sequence in a text tile is <code>\\r\\n</code>.  So your custom delimiter is causing the <code>\\r</code> characters at the end of each line on the &quot;Action.txt&quot; to be part of the action strings ... when you read them with <code>Scanner.next</code></p>\n<p>Possible solutions (depending on how the file is formatted ...):</p>\n<ol>\n<li>Don't change the delimiter.</li>\n<li>Use <code>Scanner.nextLine</code> rather than <code>Scanner.next</code> to read the action strings ... which renders the delimiter moot.</li>\n<li>Use <code>name = name.trim();</code> to get rid of (all) pesky leading and trailing whitespace from the action strings.</li>\n</ol>\n"}],"owner":{"account_id":25359338,"reputation":19,"user_id":19174910,"display_name":"Ryanzz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1655609228,"creation_date":1655605777,"question_id":72673914,"body_markdown":"As the topic has said. I&#39;m currently working on a text adventure game and my ArrayList somehow doesn&#39;t work for me. I think my ArrayList didn&#39;t stored the ArrayList values properly. Code is provided here:\r\n```\r\nArrayList&lt;String&gt; actionsList = new ArrayList&lt;&gt;();\r\n\r\npublic void setActions() {\r\n\t//counter variable;\r\n\tint i =0;\r\n\ttry {\r\n\tScanner sc = new Scanner(new File(&quot;Action.txt&quot;));\r\n\tsc.useDelimiter(&quot;\\n&quot;);\t\t\r\n\twhile (sc.hasNextLine()){\r\n\t\tString name = sc.next();\r\n\t\tif (sc.hasNext()) {\r\n\t\t\tactionName[i] = name;\r\n\t\t\ti ++;\r\n\t\t} else {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t\r\n\t//set name of actions to action objects created above.\r\n\ttake.setName(actionName[0]);\r\n\teat.setName(actionName[1]);\r\n\tdrink.setName(actionName[2]);\r\n\tdrop.setName(actionName[3]);\r\n\twear.setName(actionName[4]);\r\n\tgive.setName(actionName[5]);\r\n\tuse.setName(actionName[6]);\r\n\thelp.setName(actionName[7]);\r\n\tlook.setName(actionName[8]);\r\n\t\r\n\tsc.close();\r\n\t} catch (IOException e) {\r\n\t\tSystem.out.println(&quot;The action file is missing.&quot;);\r\n\t}\r\n}\r\n\t\r\npublic void addToGameList() {\r\n\tactionsList.add(take.name);\r\n\tactionsList.add(eat.name);\r\n\tactionsList.add(drink.name);\r\n\tactionsList.add(drop.name);\r\n\tactionsList.add(wear.name);\r\n\tactionsList.add(give.name);\r\n\tactionsList.add(use.name);\r\n}\r\n```\r\n\r\nThe program is reading the action names from action.txt file and set the values into the name of the action class&#39;s different instances. And the add method would add the name of these actions into the list. The file is just a List of actions:\r\n\r\n```\r\ntake\r\neat\r\ndrink\r\ndrop\r\nwear\r\ngive\r\nuse\r\nhelp\r\nlook\r\n```\r\n\r\nformulated like this. I tried every part of the code and I found out that this code wasn&#39;t working as expected. For printing out arraylist&#39;s content. They should be formated like this \r\n```\r\n[xxx,xxxxx,xxxxx]\r\n```\r\nBut for mine arraylist they are like\r\n```\r\n[xxx\r\n,xxxx\r\n,xxxxx\r\n,xxxxxx\r\n]\r\n[take\r\n, eat\r\n, drink\r\n, drop\r\n, wear\r\n, give\r\n, use\r\n]\r\n```\r\nThis is what the out put was and my print code was like.\r\n\r\n```\r\nSystem.out.print(game.actionsList);\r\n```\r\n\r\nI really don&#39;t know what was going on, and it was exactly the same bug in my other ArrayList which is for storing the items&#39; name. \r\n\r\n","title":"Wondering why my arraylist would store values in separated lines","body":"<p>As the topic has said. I'm currently working on a text adventure game and my ArrayList somehow doesn't work for me. I think my ArrayList didn't stored the ArrayList values properly. Code is provided here:</p>\n<pre><code>ArrayList&lt;String&gt; actionsList = new ArrayList&lt;&gt;();\n\npublic void setActions() {\n    //counter variable;\n    int i =0;\n    try {\n    Scanner sc = new Scanner(new File(&quot;Action.txt&quot;));\n    sc.useDelimiter(&quot;\\n&quot;);      \n    while (sc.hasNextLine()){\n        String name = sc.next();\n        if (sc.hasNext()) {\n            actionName[i] = name;\n            i ++;\n        } else {\n            break;\n        }\n    }\n    \n    //set name of actions to action objects created above.\n    take.setName(actionName[0]);\n    eat.setName(actionName[1]);\n    drink.setName(actionName[2]);\n    drop.setName(actionName[3]);\n    wear.setName(actionName[4]);\n    give.setName(actionName[5]);\n    use.setName(actionName[6]);\n    help.setName(actionName[7]);\n    look.setName(actionName[8]);\n    \n    sc.close();\n    } catch (IOException e) {\n        System.out.println(&quot;The action file is missing.&quot;);\n    }\n}\n    \npublic void addToGameList() {\n    actionsList.add(take.name);\n    actionsList.add(eat.name);\n    actionsList.add(drink.name);\n    actionsList.add(drop.name);\n    actionsList.add(wear.name);\n    actionsList.add(give.name);\n    actionsList.add(use.name);\n}\n</code></pre>\n<p>The program is reading the action names from action.txt file and set the values into the name of the action class's different instances. And the add method would add the name of these actions into the list. The file is just a List of actions:</p>\n<pre><code>take\neat\ndrink\ndrop\nwear\ngive\nuse\nhelp\nlook\n</code></pre>\n<p>formulated like this. I tried every part of the code and I found out that this code wasn't working as expected. For printing out arraylist's content. They should be formated like this</p>\n<pre><code>[xxx,xxxxx,xxxxx]\n</code></pre>\n<p>But for mine arraylist they are like</p>\n<pre><code>[xxx\n,xxxx\n,xxxxx\n,xxxxxx\n]\n[take\n, eat\n, drink\n, drop\n, wear\n, give\n, use\n]\n</code></pre>\n<p>This is what the out put was and my print code was like.</p>\n<pre><code>System.out.print(game.actionsList);\n</code></pre>\n<p>I really don't know what was going on, and it was exactly the same bug in my other ArrayList which is for storing the items' name.</p>\n"},{"tags":["java","amazon-s3","aws-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":333191,"reputation":921,"user_id":658913,"accept_rate":25,"display_name":"CR Sardar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655607369,"creation_date":1655607369,"answer_id":72673988,"question_id":72673872,"body_markdown":"AWS SDK is not reading credentials from `C:\\Users\\myuser\\.aws\\credentials` in Windows \r\n\r\nAs of now, below has solved the problem\r\n\r\n    BasicAWSCredentials basicAWSCredentials = new BasicAWSCredentials(&quot;aws_access_key_id&quot;,\r\n                    &quot;aws_secret_access_key&quot;);\r\n    \r\n            final AmazonS3 s3 = AmazonS3ClientBuilder.standard()\r\n                    .withCredentials(new AWSStaticCredentialsProvider(basicAWSCredentials))\r\n                    .withRegion(&quot;us-east-1&quot;)\r\n                    .build();\r\n\r\n","title":"AWS S3 Java Access Denied Service: Amazon S3; Status Code: 403; Error Code: AccessDenied;","body":"<p>AWS SDK is not reading credentials from <code>C:\\Users\\myuser\\.aws\\credentials</code> in Windows</p>\n<p>As of now, below has solved the problem</p>\n<pre><code>BasicAWSCredentials basicAWSCredentials = new BasicAWSCredentials(&quot;aws_access_key_id&quot;,\n                &quot;aws_secret_access_key&quot;);\n\n        final AmazonS3 s3 = AmazonS3ClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(basicAWSCredentials))\n                .withRegion(&quot;us-east-1&quot;)\n                .build();\n</code></pre>\n"}],"owner":{"account_id":333191,"reputation":921,"user_id":658913,"accept_rate":25,"display_name":"CR Sardar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4666,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655607369,"creation_date":1655605038,"question_id":72673872,"body_markdown":"New to AWS S3, trying to integrate AWS Java SDK for S3 storage.\r\nGranted permission to to my user as follows \r\n\r\n    {\r\n        &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n        &quot;Statement&quot;: [\r\n            {\r\n                &quot;Sid&quot;: &quot;Read Access&quot;,\r\n                &quot;Effect&quot;: &quot;Allow&quot;,\r\n                &quot;Principal&quot;: {\r\n                    &quot;AWS&quot;: &quot;arn:aws:iam::9123...123:root&quot;\r\n                },\r\n                &quot;Action&quot;: &quot;s3:GetObject&quot;,\r\n                &quot;Resource&quot;: &quot;arn:aws:s3:::go_bucket/*&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nStill in Java code getting \r\n\r\n    Received error response: com.amazonaws.services.s3.model.AmazonS3Exception: Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied; Request ID: 6DRTT\r\n\r\nJava code \r\n\r\n            final AmazonS3 s3 = AmazonS3ClientBuilder.standard().withRegion(&quot;us-east-1&quot;).build();\r\n            try {\r\n                S3Object o = s3.getObject(bucket_name, key_name);\r\n                S3ObjectInputStream s3is = o.getObjectContent();\r\n                FileOutputStream fos = new FileOutputStream(new File(key_name));\r\n                byte[] read_buf = new byte[1024];\r\n                int read_len = 0;\r\n                while ((read_len = s3is.read(read_buf)) &gt; 0) {\r\n                    fos.write(read_buf, 0, read_len);\r\n                }\r\n                s3is.close();\r\n                fos.close();\r\n            }\r\n\r\nBut, when I am using &quot;Principal&quot;: &quot;*&quot; it is working","title":"AWS S3 Java Access Denied Service: Amazon S3; Status Code: 403; Error Code: AccessDenied;","body":"<p>New to AWS S3, trying to integrate AWS Java SDK for S3 storage.\nGranted permission to to my user as follows</p>\n<pre><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Sid&quot;: &quot;Read Access&quot;,\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Principal&quot;: {\n                &quot;AWS&quot;: &quot;arn:aws:iam::9123...123:root&quot;\n            },\n            &quot;Action&quot;: &quot;s3:GetObject&quot;,\n            &quot;Resource&quot;: &quot;arn:aws:s3:::go_bucket/*&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Still in Java code getting</p>\n<pre><code>Received error response: com.amazonaws.services.s3.model.AmazonS3Exception: Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied; Request ID: 6DRTT\n</code></pre>\n<p>Java code</p>\n<pre><code>        final AmazonS3 s3 = AmazonS3ClientBuilder.standard().withRegion(&quot;us-east-1&quot;).build();\n        try {\n            S3Object o = s3.getObject(bucket_name, key_name);\n            S3ObjectInputStream s3is = o.getObjectContent();\n            FileOutputStream fos = new FileOutputStream(new File(key_name));\n            byte[] read_buf = new byte[1024];\n            int read_len = 0;\n            while ((read_len = s3is.read(read_buf)) &gt; 0) {\n                fos.write(read_buf, 0, read_len);\n            }\n            s3is.close();\n            fos.close();\n        }\n</code></pre>\n<p>But, when I am using &quot;Principal&quot;: &quot;*&quot; it is working</p>\n"},{"tags":["java","itext","xmlworker","page-break-inside"],"answers":[{"tags":[],"owner":{"account_id":298263,"reputation":9302,"user_id":604196,"display_name":"kuujinbo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1484117039,"creation_date":1484116283,"answer_id":41584152,"question_id":35283892,"body_markdown":".NET developer, but you should be able to easily translate the following C# code.\r\n\r\nAnytime the default XML Worker implementation doesn&#39;t meet your needs, you&#39;re basically left with an exercise in looking through the source code. First, see if the `XML Worker` supports the tag you want in the [Tags class][1]. There&#39;s a nice implementation for `&lt;table&gt;` that supports the `page-break-inside:avoid` style, but it **only works** at the `&lt;table&gt;` level, not the row `&lt;tr&gt;` level. Luckily, it&#39;s not that much work to override the `End()` method for [Table][2].\r\n\r\nIf the tag is **not** supported, you need to roll your own custom tag processor by inheriting from [AbstractTagProcessor][3], but not going there for this answer.\r\n\r\nAnyway, on to the code. Instead of blowing away the default implementation by changing the behavior of the `page-break-inside:avoid` style, we can use a custom `HTML` attribute and have the best of both worlds:\r\n\r\n    public class TableProcessor : Table\r\n    {\r\n        // custom HTML attribute to keep &lt;tr&gt; on same page if possible\r\n        public const string NO_ROW_SPLIT = &quot;no-row-split&quot;;\r\n        public override IList&lt;IElement&gt; End(IWorkerContext ctx, Tag tag, IList&lt;IElement&gt; currentContent)\r\n    \t{\r\n            IList&lt;IElement&gt; result = base.End(ctx, tag, currentContent);\r\n            var table = (PdfPTable)result[0];\r\n                \r\n            if (tag.Attributes.ContainsKey(NO_ROW_SPLIT))\r\n            {\r\n                // if not set,  table **may** be forwarded to next page\r\n                table.KeepTogether = false;\r\n                // next two properties keep &lt;tr&gt; together if possible\r\n                table.SplitRows = true;\r\n                table.SplitLate = true;\r\n            }\r\n            return new List&lt;IElement&gt;() { table };\r\n        }\r\n    }\r\n\r\nAnd a simple method to generate some test `HTML`:\r\n\r\n    public string GetHtml()\r\n    {\r\n        var html = new StringBuilder();\r\n        var repeatCount = 15;\r\n        for (int i = 0; i &lt; repeatCount; ++i) { html.Append(&quot;&lt;h1&gt;h1&lt;/h1&gt;&quot;); }\r\n    \r\n        var text = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer vestibulum sollicitudin luctus. Curabitur at eros bibendum, porta risus a, luctus justo. Phasellus in libero vulputate, fermentum ante nec, mattis magna. Nunc viverra viverra sem, et pulvinar urna accumsan in. Quisque ultrices commodo mauris, et convallis magna. Duis consectetur nisi non ultrices dignissim. Aenean imperdiet consequat magna, ac ornare magna suscipit ac. Integer fermentum velit vitae porttitor vestibulum. Morbi iaculis sed massa nec ultricies. Aliquam efficitur finibus dolor, et vulputate turpis pretium vitae. In lobortis lacus diam, ut varius tellus varius sed. Integer pulvinar, massa quis feugiat pulvinar, tortor nisi bibendum libero, eu molestie est sapien quis odio. Lorem ipsum dolor sit amet, consectetur adipiscing elit.&quot;;\r\n    \r\n        // default iTextSharp.tool.xml.html.table.Table (AbstractTagProcessor)\r\n        // is at the &lt;table&gt;, **not &lt;tr&gt; level\r\n        html.Append(&quot;&lt;table style=&#39;page-break-inside:avoid;&#39;&gt;&quot;);\r\n        html.AppendFormat(\r\n            @&quot;&lt;tr&gt;&lt;td style=&#39;border:1px solid #000;&#39;&gt;DEFAULT IMPLEMENTATION&lt;/td&gt;\r\n                &lt;td style=&#39;border:1px solid #000;&#39;&gt;{0}&lt;/td&gt;&lt;/tr&gt;&quot;,\r\n            text\r\n        );\r\n        html.Append(&quot;&lt;/table&gt;&quot;);\r\n    \r\n        // overriden implementation uses a custom HTML attribute to keep:\r\n        // &lt;tr&gt; together - see TableProcessor\r\n        html.AppendFormat(&quot;&lt;table {0}&gt;&quot;, TableProcessor.NO_ROW_SPLIT);\r\n        for (int i = 0; i &lt; repeatCount; ++i)\r\n        {\r\n            html.AppendFormat(\r\n                @&quot;&lt;tr&gt;&lt;td style=&#39;border:1px solid #000;&#39;&gt;{0}&lt;/td&gt;\r\n                &lt;td style=&#39;border:1px solid #000;&#39;&gt;{1}&lt;/td&gt;&lt;/tr&gt;&quot;,\r\n                i, text\r\n            );\r\n        }\r\n        html.Append(&quot;&lt;/table&gt;&quot;);\r\n        return html.ToString();\r\n    }\r\n\r\nFinally the parsing code:\r\n\r\n    using (var stream = new FileStream(OUTPUT_FILE, FileMode.Create))\r\n    {\r\n        using (var document = new Document())\r\n        {\r\n            PdfWriter writer = PdfWriter.GetInstance(\r\n                document, stream\r\n            );\r\n            document.Open();\r\n    \r\n            // instantiate custom tag processor and add to `HtmlPipelineContext`.\r\n            var tagProcessorFactory = Tags.GetHtmlTagProcessorFactory();\r\n            tagProcessorFactory.AddProcessor(\r\n                new TableProcessor(),\r\n                new string[] { HTML.Tag.TABLE }\r\n            );\r\n            var htmlPipelineContext = new HtmlPipelineContext(null);\r\n            htmlPipelineContext.SetTagFactory(tagProcessorFactory);\r\n    \r\n            var pdfWriterPipeline = new PdfWriterPipeline(document, writer);\r\n            var htmlPipeline = new HtmlPipeline(htmlPipelineContext, pdfWriterPipeline);\r\n    \r\n            var cssResolver = XMLWorkerHelper.GetInstance().GetDefaultCssResolver(true);\r\n            var cssResolverPipeline = new CssResolverPipeline(\r\n                cssResolver, htmlPipeline\r\n            );\r\n    \r\n            var worker = new XMLWorker(cssResolverPipeline, true);\r\n            var parser = new XMLParser(worker);\r\n            using (var stringReader = new StringReader(GetHtml()))\r\n            {\r\n                parser.Parse(stringReader);\r\n            }\r\n        }\r\n    }\r\n\r\n[Full source][4].\r\n\r\nThe default implementation is maintained - first `&lt;table&gt;` is kept together instead of being split over two pages:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nAnd the custom implementation keeps **rows** together in the second `&lt;table&gt;`:\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://github.com/itext/itextpdf/blob/develop/xmlworker/src/main/java/com/itextpdf/tool/xml/html/Tags.java\r\n  [2]: https://github.com/itext/itextpdf/blob/develop/xmlworker/src/main/java/com/itextpdf/tool/xml/html/table/Table.java\r\n  [3]: https://github.com/itext/itextpdf/blob/develop/xmlworker/src/main/java/com/itextpdf/tool/xml/html/AbstractTagProcessor.java\r\n  [4]: https://github.com/kuujinbo/StackOverflow.iTextSharp/blob/master/src/iText5/XmlWorkers/TableNoRowSplit.cs\r\n  [5]: https://i.stack.imgur.com/6XL2n.png\r\n  [6]: https://i.stack.imgur.com/bBmwT.png","title":"IText prevent row breaking across multiple pages using XML Worker","body":"<p>.NET developer, but you should be able to easily translate the following C# code.</p>\n\n<p>Anytime the default XML Worker implementation doesn't meet your needs, you're basically left with an exercise in looking through the source code. First, see if the <code>XML Worker</code> supports the tag you want in the <a href=\"https://github.com/itext/itextpdf/blob/develop/xmlworker/src/main/java/com/itextpdf/tool/xml/html/Tags.java\" rel=\"noreferrer\">Tags class</a>. There's a nice implementation for <code>&lt;table&gt;</code> that supports the <code>page-break-inside:avoid</code> style, but it <strong>only works</strong> at the <code>&lt;table&gt;</code> level, not the row <code>&lt;tr&gt;</code> level. Luckily, it's not that much work to override the <code>End()</code> method for <a href=\"https://github.com/itext/itextpdf/blob/develop/xmlworker/src/main/java/com/itextpdf/tool/xml/html/table/Table.java\" rel=\"noreferrer\">Table</a>.</p>\n\n<p>If the tag is <strong>not</strong> supported, you need to roll your own custom tag processor by inheriting from <a href=\"https://github.com/itext/itextpdf/blob/develop/xmlworker/src/main/java/com/itextpdf/tool/xml/html/AbstractTagProcessor.java\" rel=\"noreferrer\">AbstractTagProcessor</a>, but not going there for this answer.</p>\n\n<p>Anyway, on to the code. Instead of blowing away the default implementation by changing the behavior of the <code>page-break-inside:avoid</code> style, we can use a custom <code>HTML</code> attribute and have the best of both worlds:</p>\n\n<pre><code>public class TableProcessor : Table\n{\n    // custom HTML attribute to keep &lt;tr&gt; on same page if possible\n    public const string NO_ROW_SPLIT = \"no-row-split\";\n    public override IList&lt;IElement&gt; End(IWorkerContext ctx, Tag tag, IList&lt;IElement&gt; currentContent)\n    {\n        IList&lt;IElement&gt; result = base.End(ctx, tag, currentContent);\n        var table = (PdfPTable)result[0];\n\n        if (tag.Attributes.ContainsKey(NO_ROW_SPLIT))\n        {\n            // if not set,  table **may** be forwarded to next page\n            table.KeepTogether = false;\n            // next two properties keep &lt;tr&gt; together if possible\n            table.SplitRows = true;\n            table.SplitLate = true;\n        }\n        return new List&lt;IElement&gt;() { table };\n    }\n}\n</code></pre>\n\n<p>And a simple method to generate some test <code>HTML</code>:</p>\n\n<pre><code>public string GetHtml()\n{\n    var html = new StringBuilder();\n    var repeatCount = 15;\n    for (int i = 0; i &lt; repeatCount; ++i) { html.Append(\"&lt;h1&gt;h1&lt;/h1&gt;\"); }\n\n    var text = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer vestibulum sollicitudin luctus. Curabitur at eros bibendum, porta risus a, luctus justo. Phasellus in libero vulputate, fermentum ante nec, mattis magna. Nunc viverra viverra sem, et pulvinar urna accumsan in. Quisque ultrices commodo mauris, et convallis magna. Duis consectetur nisi non ultrices dignissim. Aenean imperdiet consequat magna, ac ornare magna suscipit ac. Integer fermentum velit vitae porttitor vestibulum. Morbi iaculis sed massa nec ultricies. Aliquam efficitur finibus dolor, et vulputate turpis pretium vitae. In lobortis lacus diam, ut varius tellus varius sed. Integer pulvinar, massa quis feugiat pulvinar, tortor nisi bibendum libero, eu molestie est sapien quis odio. Lorem ipsum dolor sit amet, consectetur adipiscing elit.\";\n\n    // default iTextSharp.tool.xml.html.table.Table (AbstractTagProcessor)\n    // is at the &lt;table&gt;, **not &lt;tr&gt; level\n    html.Append(\"&lt;table style='page-break-inside:avoid;'&gt;\");\n    html.AppendFormat(\n        @\"&lt;tr&gt;&lt;td style='border:1px solid #000;'&gt;DEFAULT IMPLEMENTATION&lt;/td&gt;\n            &lt;td style='border:1px solid #000;'&gt;{0}&lt;/td&gt;&lt;/tr&gt;\",\n        text\n    );\n    html.Append(\"&lt;/table&gt;\");\n\n    // overriden implementation uses a custom HTML attribute to keep:\n    // &lt;tr&gt; together - see TableProcessor\n    html.AppendFormat(\"&lt;table {0}&gt;\", TableProcessor.NO_ROW_SPLIT);\n    for (int i = 0; i &lt; repeatCount; ++i)\n    {\n        html.AppendFormat(\n            @\"&lt;tr&gt;&lt;td style='border:1px solid #000;'&gt;{0}&lt;/td&gt;\n            &lt;td style='border:1px solid #000;'&gt;{1}&lt;/td&gt;&lt;/tr&gt;\",\n            i, text\n        );\n    }\n    html.Append(\"&lt;/table&gt;\");\n    return html.ToString();\n}\n</code></pre>\n\n<p>Finally the parsing code:</p>\n\n<pre><code>using (var stream = new FileStream(OUTPUT_FILE, FileMode.Create))\n{\n    using (var document = new Document())\n    {\n        PdfWriter writer = PdfWriter.GetInstance(\n            document, stream\n        );\n        document.Open();\n\n        // instantiate custom tag processor and add to `HtmlPipelineContext`.\n        var tagProcessorFactory = Tags.GetHtmlTagProcessorFactory();\n        tagProcessorFactory.AddProcessor(\n            new TableProcessor(),\n            new string[] { HTML.Tag.TABLE }\n        );\n        var htmlPipelineContext = new HtmlPipelineContext(null);\n        htmlPipelineContext.SetTagFactory(tagProcessorFactory);\n\n        var pdfWriterPipeline = new PdfWriterPipeline(document, writer);\n        var htmlPipeline = new HtmlPipeline(htmlPipelineContext, pdfWriterPipeline);\n\n        var cssResolver = XMLWorkerHelper.GetInstance().GetDefaultCssResolver(true);\n        var cssResolverPipeline = new CssResolverPipeline(\n            cssResolver, htmlPipeline\n        );\n\n        var worker = new XMLWorker(cssResolverPipeline, true);\n        var parser = new XMLParser(worker);\n        using (var stringReader = new StringReader(GetHtml()))\n        {\n            parser.Parse(stringReader);\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/kuujinbo/StackOverflow.iTextSharp/blob/master/src/iText5/XmlWorkers/TableNoRowSplit.cs\" rel=\"noreferrer\">Full source</a>.</p>\n\n<p>The default implementation is maintained - first <code>&lt;table&gt;</code> is kept together instead of being split over two pages:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6XL2n.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6XL2n.png\" alt=\"enter image description here\"></a></p>\n\n<p>And the custom implementation keeps <strong>rows</strong> together in the second <code>&lt;table&gt;</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bBmwT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bBmwT.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3247086,"reputation":1180,"user_id":2738309,"display_name":"Henryk Budzinski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655607362,"creation_date":1655607362,"answer_id":72673987,"question_id":35283892,"body_markdown":".NET, **iText7** `v7.1.17`\r\n\r\nUse `.SetKeepTogether(true)` on `Cell` instance.\r\n\r\n``` csharp\r\ntable.AddCell(\r\n\tnew Cell(1, 1).Add(\r\n\t\tnew Paragraph(\r\n\t\t\t\ttext: new Text(item.Description)\r\n\t\t\t\t\t.SetFont(PdfFontFactory.CreateFont(StandardFonts.HELVETICA))\r\n\t\t\t\t\t.SetFontSize(9f)\r\n\t\t\t).SetMaxWidth(contentMaxWidth * 0.4f)\r\n\t\t\t.SetSplitCharacters(new KeepAllSplitCharacters())\r\n\t).SetKeepTogether(true)\r\n);\r\n```","title":"IText prevent row breaking across multiple pages using XML Worker","body":"<p>.NET, <strong>iText7</strong> <code>v7.1.17</code></p>\n<p>Use <code>.SetKeepTogether(true)</code> on <code>Cell</code> instance.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>table.AddCell(\n    new Cell(1, 1).Add(\n        new Paragraph(\n                text: new Text(item.Description)\n                    .SetFont(PdfFontFactory.CreateFont(StandardFonts.HELVETICA))\n                    .SetFontSize(9f)\n            ).SetMaxWidth(contentMaxWidth * 0.4f)\n            .SetSplitCharacters(new KeepAllSplitCharacters())\n    ).SetKeepTogether(true)\n);\n</code></pre>\n"}],"owner":{"account_id":420910,"reputation":337,"user_id":798849,"accept_rate":88,"display_name":"owlyfool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3819,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":41584152,"answer_count":2,"score":9,"last_activity_date":1655607362,"creation_date":1454992087,"question_id":35283892,"body_markdown":"we are using iText 5.5.7 with XML Worker and have encountered an issue with long tables where rows that run off the end of the page are split in two over to the next page (see image).\r\n\r\nWe have tried using `page-break-inside:avoid;` as suggested in https://stackoverflow.com/questions/29601081/prevent-page-break-in-text-block-with-itext-xmlworker and https://stackoverflow.com/questions/18512420/itext-cut-between-pages-in-pdf-from-html-table but to no effect.\r\n\r\nwe have tried\r\n\r\n- wrapping each row in a `&lt;tbody&gt;` and applying page break avoid (no effect) \r\n- targeting `tr, td` and applying page break (no effect)\r\n- wrapping the contents of each `td` in a `div` and applying page break (itext stops processing rows once it gets to end of page)\r\n\r\nWe are under the impression `page-break-inside:avoid` is supported but have yet to see confirmation of this. Is there an example or best practice for creating this effect using XML worker or is the Java api needed to do this level of manipulation?\r\n\r\ncheers\r\n\r\n*Rows currently splitting across pages:*\r\n\r\n[![Rows are spilling on to the next page (see red outline)][1]][1]\r\n\r\n*Desired effect: Rows with too much data wrap to next page*\r\n[![Desired outcome, rows break to next page if too long (see green outline)][2]][2]\r\n\r\n\r\n  \r\n  [1]: http://i.stack.imgur.com/frIWS.jpg\r\n[2]: http://i.stack.imgur.com/1rPLd.jpg","title":"IText prevent row breaking across multiple pages using XML Worker","body":"<p>we are using iText 5.5.7 with XML Worker and have encountered an issue with long tables where rows that run off the end of the page are split in two over to the next page (see image).</p>\n\n<p>We have tried using <code>page-break-inside:avoid;</code> as suggested in <a href=\"https://stackoverflow.com/questions/29601081/prevent-page-break-in-text-block-with-itext-xmlworker\">Prevent page break in text block with iText, XMLWorker</a> and <a href=\"https://stackoverflow.com/questions/18512420/itext-cut-between-pages-in-pdf-from-html-table\">iText Cut between pages in PDF from HTML table</a> but to no effect.</p>\n\n<p>we have tried</p>\n\n<ul>\n<li>wrapping each row in a <code>&lt;tbody&gt;</code> and applying page break avoid (no effect) </li>\n<li>targeting <code>tr, td</code> and applying page break (no effect)</li>\n<li>wrapping the contents of each <code>td</code> in a <code>div</code> and applying page break (itext stops processing rows once it gets to end of page)</li>\n</ul>\n\n<p>We are under the impression <code>page-break-inside:avoid</code> is supported but have yet to see confirmation of this. Is there an example or best practice for creating this effect using XML worker or is the Java api needed to do this level of manipulation?</p>\n\n<p>cheers</p>\n\n<p><em>Rows currently splitting across pages:</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/frIWS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/frIWS.jpg\" alt=\"Rows are spilling on to the next page (see red outline)\"></a></p>\n\n<p><em>Desired effect: Rows with too much data wrap to next page</em>\n<a href=\"https://i.stack.imgur.com/1rPLd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1rPLd.jpg\" alt=\"Desired outcome, rows break to next page if too long (see green outline)\"></a></p>\n"},{"tags":["java","javafx","netbeans","ant"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1655604860,"post_id":72673839,"comment_id":128370314,"body_markdown":"Is `JRE 1.8.0_333` correct?","body":"Is <code>JRE 1.8.0_333</code> correct?"},{"owner":{"account_id":22658272,"reputation":116,"user_id":16831808,"display_name":"Patrick Abbey"},"score":0,"creation_date":1655608544,"post_id":72673839,"comment_id":128370653,"body_markdown":"Yes, that is the version name","body":"Yes, that is the version name"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1655614205,"post_id":72673839,"comment_id":128371155,"body_markdown":"JavaFX 11+ *requires* JDK 11+, it is not going to work with JDK 8.  I advise using the latest stable versions of all software (jdk, JavaFX, ide, build tools, etc).","body":"JavaFX 11+ <i>requires</i> JDK 11+, it is not going to work with JDK 8.  I advise using the latest stable versions of all software (jdk, JavaFX, ide, build tools, etc)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1655614389,"post_id":72673839,"comment_id":128371178,"body_markdown":"This [answer you link](https://stackoverflow.com/a/18344096/16831808) is totally obsolete, `javafxpackager` doesnt even exist in modern JDK distributions.  Just follow the instructions at openjfx.io, or [packaging info in the JavaFX tag](https://stackoverflow.com/tags/javafx/info) not other sources.","body":"This <a href=\"https://stackoverflow.com/a/18344096/16831808\">answer you link</a> is totally obsolete, <code>javafxpackager</code> doesnt even exist in modern JDK distributions.  Just follow the instructions at openjfx.io, or <a href=\"https://stackoverflow.com/tags/javafx/info\">packaging info in the JavaFX tag</a> not other sources."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1655614663,"post_id":72673839,"comment_id":128371206,"body_markdown":"You say you created Java with Modular but you didnt.  A modular JavaFX app requires Java 11+, it also needs a module info, and the module name and path needs to be provided when executing the app, none of which you have.","body":"You say you created Java with Modular but you didnt.  A modular JavaFX app requires Java 11+, it also needs a module info, and the module name and path needs to be provided when executing the app, none of which you have."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1655614885,"post_id":72673839,"comment_id":128371223,"body_markdown":"A modular jar file does not reference a main class in a manifest. Instead the jar command needs to be run to [set the main class for the module](https://jenkov.com/tutorials/java/modules.html#setting-the-jar-main-class).","body":"A modular jar file does not reference a main class in a manifest. Instead the jar command needs to be run to <a href=\"https://jenkov.com/tutorials/java/modules.html#setting-the-jar-main-class\" rel=\"nofollow noreferrer\">set the main class for the module</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1655614973,"post_id":72673839,"comment_id":128371237,"body_markdown":"It is recommended to use jlink or jpackage for packaging JavaFX applications for distribution.  I recommend that you look into resources for using those tools rather than trying to build an executable jar file.","body":"It is recommended to use jlink or jpackage for packaging JavaFX applications for distribution.  I recommend that you look into resources for using those tools rather than trying to build an executable jar file."},{"owner":{"account_id":22658272,"reputation":116,"user_id":16831808,"display_name":"Patrick Abbey"},"score":0,"creation_date":1655665090,"post_id":72673839,"comment_id":128380275,"body_markdown":"thanks, responding to your responses in order:\n1. I&#39;m not using JDK 8. Where did I say I was using JDK 8?","body":"thanks, responding to your responses in order: 1. I&#39;m not using JDK 8. Where did I say I was using JDK 8?"},{"owner":{"account_id":22658272,"reputation":116,"user_id":16831808,"display_name":"Patrick Abbey"},"score":0,"creation_date":1655665569,"post_id":72673839,"comment_id":128380395,"body_markdown":"2. I think that&#39;s what the answerer I linked was getting at; I have to use their ways of packaging\n3. I did create Java with Modular. I made sure I did. I have Java 17, like I said. It did have module info. \n4. Good to know.\n5. JLink only creates a runtime environment, I haven&#39;t found a use for it in deployment if I have to package the jar in the runtime environment anyway","body":"2. I think that&#39;s what the answerer I linked was getting at; I have to use their ways of packaging 3. I did create Java with Modular. I made sure I did. I have Java 17, like I said. It did have module info.  4. Good to know. 5. JLink only creates a runtime environment, I haven&#39;t found a use for it in deployment if I have to package the jar in the runtime environment anyway"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1655697747,"post_id":72673839,"comment_id":128384854,"body_markdown":"`JRE 1.8.xxx` is considered `Java8`.","body":"<code>JRE 1.8.xxx</code> is considered <code>Java8</code>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1655698078,"post_id":72673839,"comment_id":128384884,"body_markdown":"Here is what you need to do. `1.` Make sure you are using one of the latest versions of [`Java`](https://jdk.java.net/18/). Test using `java -version` in the command prompt. `2.` From there, follow one of the flows from [here](https://openjfx.io/openjfx-docs/). Do not attempt to use `ANT`!","body":"Here is what you need to do. <code>1.</code> Make sure you are using one of the latest versions of <a href=\"https://jdk.java.net/18/\" rel=\"nofollow noreferrer\"><code>Java</code></a>. Test using <code>java -version</code> in the command prompt. <code>2.</code> From there, follow one of the flows from <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">here</a>. Do not attempt to use <code>ANT</code>!"},{"owner":{"account_id":22658272,"reputation":116,"user_id":16831808,"display_name":"Patrick Abbey"},"score":0,"creation_date":1655710609,"post_id":72673839,"comment_id":128387331,"body_markdown":"The tutorial shows an option for ANT actually.\nAlso JRE 1.8 is considered Java 8, yes, but not JDK8 like Jewelsea said.","body":"The tutorial shows an option for ANT actually. Also JRE 1.8 is considered Java 8, yes, but not JDK8 like Jewelsea said."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1655737942,"post_id":72673839,"comment_id":128396866,"body_markdown":"Under which flow do you see an option for `ANT`?","body":"Under which flow do you see an option for <code>ANT</code>?"}],"owner":{"account_id":22658272,"reputation":116,"user_id":16831808,"display_name":"Patrick Abbey"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655604131,"creation_date":1655604131,"question_id":72673839,"body_markdown":"I know this error has been solved by other people for Maven and Gradle and SpringBoot, but I&#39;m having an issue running a jar file after using Netbeans.\r\n\r\n    java -jar FantasyFX.jar\r\n\r\nUnfortunately, it responds with \r\n&gt;&quot;no main manifest attribute, in FantasyFX.jar&quot;\r\n\r\nI am using Netbeans 12.6, with JDK 17.0.2, ANT version 1.10.8, JavaFX 18.0.1, and JRE 1.8.0_333\r\n\r\nI am following the instructions exactly from https://openjfx.io/openjfx-docs/\r\nSpecifically section Netbeans-&gt;Modular From IDE\r\nWhere I select &#39;Java Modular Project&#39; just as their instructions show.\r\nI also heeded their warning:\r\n&gt;Warning: Don&#39;t try to create a JavaFX project. The JavaFX Ant tasks of the current Apache NetBeans version are not ready for JavaFX 11+ yet, unless you have a custom JDK that bundles JavaFX, as described in Custom JDK+JavaFX image.\r\n\r\nAnd so I made sure **not** to create a JavaFX project, just a Java with Modular again like they recommended.\r\n\r\n\r\n\r\nAfter several hours of research and tinkering, I found the closest solution to it was to add this to my build.xml file, as it overrides the jar code found in build-inst.xml (which I know I&#39;m not supposed to edit directly so I did not):\r\n```\r\n&lt;target depends=&quot;-pre-single-jar&quot; if=&quot;module.jar.filename&quot; name=&quot;-make-single-jar&quot;&gt;\r\n    &lt;jar basedir=&quot;${module.dir}&quot; compress=&quot;${jar.compress}&quot; destfile=&quot;${dist.dir}/${module.jar.filename}&quot; excludes=&quot;${dist.archive.excludes}&quot; manifestencoding=&quot;UTF-8&quot;&gt;\r\n        &lt;manifest&gt;\r\n            &lt;attribute name=&quot;Main-Class&quot; value=&quot;mainpackage.Main&quot; /&gt;\r\n        &lt;/manifest&gt;\r\n    &lt;/jar&gt;\r\n&lt;/target&gt;\r\n```\r\nThat generated everything (seemingly) normally, but then it gives me a new error, telling me it could not find a main class in mainpackage.Main, with a noclassdeffounderror for  javafx/application/Application. \r\n\r\nI double-checked everything in the files, including the mainpackage&#39;s Main, and made sure there&#39;s no typos.\r\n\r\nSo it kinda brought be back to square one, unfortunately.\r\n\r\n\r\nI did find a conjecture on an answer for that at https://stackoverflow.com/a/18344096/16831808\r\nWhere they stated that \r\n&gt;I&#39;ve worked on this very same issue for the past few hours. Even though I haven&#39;t seen it written explicitly, it appears that you MUST use one of the JavaFX packaging tools, which is either an Ant task or the javafxpackager executable.\r\n\r\nIs that true? Do I need to package before I can execute the jar file it generates in the *dist* folder?\r\n\r\nPS. double-clicking on said jar file does nothing either","title":"Netbeans ANT Build for JavaFX Error: No main manifest attribute","body":"<p>I know this error has been solved by other people for Maven and Gradle and SpringBoot, but I'm having an issue running a jar file after using Netbeans.</p>\n<pre><code>java -jar FantasyFX.jar\n</code></pre>\n<p>Unfortunately, it responds with</p>\n<blockquote>\n<p>&quot;no main manifest attribute, in FantasyFX.jar&quot;</p>\n</blockquote>\n<p>I am using Netbeans 12.6, with JDK 17.0.2, ANT version 1.10.8, JavaFX 18.0.1, and JRE 1.8.0_333</p>\n<p>I am following the instructions exactly from <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/</a>\nSpecifically section Netbeans-&gt;Modular From IDE\nWhere I select 'Java Modular Project' just as their instructions show.\nI also heeded their warning:</p>\n<blockquote>\n<p>Warning: Don't try to create a JavaFX project. The JavaFX Ant tasks of the current Apache NetBeans version are not ready for JavaFX 11+ yet, unless you have a custom JDK that bundles JavaFX, as described in Custom JDK+JavaFX image.</p>\n</blockquote>\n<p>And so I made sure <strong>not</strong> to create a JavaFX project, just a Java with Modular again like they recommended.</p>\n<p>After several hours of research and tinkering, I found the closest solution to it was to add this to my build.xml file, as it overrides the jar code found in build-inst.xml (which I know I'm not supposed to edit directly so I did not):</p>\n<pre><code>&lt;target depends=&quot;-pre-single-jar&quot; if=&quot;module.jar.filename&quot; name=&quot;-make-single-jar&quot;&gt;\n    &lt;jar basedir=&quot;${module.dir}&quot; compress=&quot;${jar.compress}&quot; destfile=&quot;${dist.dir}/${module.jar.filename}&quot; excludes=&quot;${dist.archive.excludes}&quot; manifestencoding=&quot;UTF-8&quot;&gt;\n        &lt;manifest&gt;\n            &lt;attribute name=&quot;Main-Class&quot; value=&quot;mainpackage.Main&quot; /&gt;\n        &lt;/manifest&gt;\n    &lt;/jar&gt;\n&lt;/target&gt;\n</code></pre>\n<p>That generated everything (seemingly) normally, but then it gives me a new error, telling me it could not find a main class in mainpackage.Main, with a noclassdeffounderror for  javafx/application/Application.</p>\n<p>I double-checked everything in the files, including the mainpackage's Main, and made sure there's no typos.</p>\n<p>So it kinda brought be back to square one, unfortunately.</p>\n<p>I did find a conjecture on an answer for that at <a href=\"https://stackoverflow.com/a/18344096/16831808\">https://stackoverflow.com/a/18344096/16831808</a>\nWhere they stated that</p>\n<blockquote>\n<p>I've worked on this very same issue for the past few hours. Even though I haven't seen it written explicitly, it appears that you MUST use one of the JavaFX packaging tools, which is either an Ant task or the javafxpackager executable.</p>\n</blockquote>\n<p>Is that true? Do I need to package before I can execute the jar file it generates in the <em>dist</em> folder?</p>\n<p>PS. double-clicking on said jar file does nothing either</p>\n"},{"tags":["java","lambda","hashmap","hashcode","synthetic"],"answers":[{"tags":[],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655601888,"creation_date":1655601888,"answer_id":72673736,"question_id":72673128,"body_markdown":"Ok this is a partial answer, I realized my question was kind of lazy, so I decided to test things with more depth. The only thing missing was this:\r\n\r\n    default int hashAt(int at) {\r\n                return paramAt(at).hashCode();\r\n            }\r\n\r\nSo that the resulting interface:\r\n\r\n    interface SynthEqual {\r\n        private Object paramAt(int at) {\r\n            try {\r\n                return getClass().getDeclaredFields()[at].get(this);\r\n            } catch (IllegalAccessException e) {\r\n                throw new IllegalStateException(e);\r\n            }\r\n        }\r\n\r\n        default &lt;S&gt; boolean equalTo(int at, S arg) {\r\n            return paramAt(at).equals(arg);\r\n        }\r\n\r\n        default&lt;S&gt; boolean equalTo(int at, SynthEqual that) {\r\n            return that != null &amp;&amp; paramAt(at).equals(that.paramAt(at));\r\n        }\r\n\r\n        default int hashAt(int at) {\r\n            return paramAt(at).hashCode();\r\n        }\r\n    }\r\n\r\nThe only obligatory requirement for a K key then is to NOT be a lambda instance in itself.\r\n\r\nThe key object could then, by overriding equals() and hasCode(), make use of our lambda default tests and infer their inner synthetic arguments equality.\r\n\r\n    static class LambdaWrapper {\r\n        final HeyThere lambda;\r\n\r\n        LambdaWrapper(HeyThere lambda) {\r\n            this.lambda = lambda;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            LambdaWrapper that = (LambdaWrapper) o;\r\n            return lambda.equalTo(0, that.lambda);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return lambda.hashAt(0);\r\n        }\r\n    }","title":"putIfAbsent with synthetic argument equality inference","body":"<p>Ok this is a partial answer, I realized my question was kind of lazy, so I decided to test things with more depth. The only thing missing was this:</p>\n<pre><code>default int hashAt(int at) {\n            return paramAt(at).hashCode();\n        }\n</code></pre>\n<p>So that the resulting interface:</p>\n<pre><code>interface SynthEqual {\n    private Object paramAt(int at) {\n        try {\n            return getClass().getDeclaredFields()[at].get(this);\n        } catch (IllegalAccessException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n\n    default &lt;S&gt; boolean equalTo(int at, S arg) {\n        return paramAt(at).equals(arg);\n    }\n\n    default&lt;S&gt; boolean equalTo(int at, SynthEqual that) {\n        return that != null &amp;&amp; paramAt(at).equals(that.paramAt(at));\n    }\n\n    default int hashAt(int at) {\n        return paramAt(at).hashCode();\n    }\n}\n</code></pre>\n<p>The only obligatory requirement for a K key then is to NOT be a lambda instance in itself.</p>\n<p>The key object could then, by overriding equals() and hasCode(), make use of our lambda default tests and infer their inner synthetic arguments equality.</p>\n<pre><code>static class LambdaWrapper {\n    final HeyThere lambda;\n\n    LambdaWrapper(HeyThere lambda) {\n        this.lambda = lambda;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        LambdaWrapper that = (LambdaWrapper) o;\n        return lambda.equalTo(0, that.lambda);\n    }\n\n    @Override\n    public int hashCode() {\n        return lambda.hashAt(0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655601888,"creation_date":1655590643,"question_id":72673128,"body_markdown":"I have a package private interface that&#39;s able to identify equality based on captured synthetic argument references.\r\n\r\n    interface SynthEqual {\r\n        default Object synthParamAt(int paramIndex) {\r\n            try {\r\n                return getClass().getDeclaredFields()[paramIndex].get(this);\r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n       default&lt;S&gt; boolean equalTo(int paramIndex, S other) {\r\n           return synthParamAt(paramIndex).equals(other);\r\n       }\r\n\r\n       //Edit:\r\n       // I realized this is a better option, instead of exposing the synthetic param:\r\n       default boolean equalTo(int at, SynthEqual that) {\r\n          return that != null &amp;&amp; that.synthParamAt(at).equal(synthParamAt(at));\r\n       }\r\n       // and making synthParamAt private with Java9\r\n    }\r\n\r\nThis interface is used for when lambda captures more than 2 arguemnts, but I am interested only on the equality of one of them...\r\n\r\nIf you .hash this synthetic arguments they are different... EVEN IF they come from the same reference source.\r\n\r\nBut if you == Or .equal() the result comes as true.\r\n\r\nThis is why I rather NOT @Override equals or hashcode, instead I always use my plain custom equalizer methods..., BUT if you wish/need... you could... in theory do this:\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            AClass&lt;?&gt; that = (AClass&lt;?&gt;) o;\r\n            return that.lambdaFieldA.equalTo(0, this.lambdaFieldA.synthParamAt(0)) &amp;&amp; Objects.equals(fieldB, that.fieldB);\r\n        }\r\n\r\nAs you can see this composed class is properly overriding equals, but my lambda is using it&#39;s custom synthetic equality test.\r\n\r\nas for hashCode... well I don&#39;t know how would that be overridden...\r\nI believe it is not possible to override hash in such a way that synthetic arguments can be inferred.\r\nUp to now, this has never been an issue...\r\n\r\nThe real problem comes when dealing with Maps.\r\n\r\nWhen we look at the putVal() method of ConcurrenthashMap we can see that they are using the hash function to search for a match in the Node table.\r\n\r\n    final V putVal(K key, V value, boolean onlyIfAbsent) {\r\n            if (key == null || value == null) throw new NullPointerException();\r\n            //Here\r\n            int hash = spread(key.hashCode());\r\n            int binCount = 0;\r\n            for (Node&lt;K,V&gt;[] tab = table;;) {\r\n                Node&lt;K,V&gt; f; int n, i, fh; K fk; V fv;\r\n                if (tab == null || (n = tab.length) == 0)\r\n                    tab = initTable();\r\n                // Here the fetch\r\n                else if ((f = tabAt(tab, i = (n - 1) &amp; hash)) == null) {\r\n    // .......\r\n    // A few lines bellow:\r\n    else if (onlyIfAbsent // check first node without acquiring lock\r\n                         //Here compares\r\n                         &amp;&amp; fh == hash\r\n                         &amp;&amp; ((fk = f.key) == key || (fk != null &amp;&amp; key.equals(fk))) // FINALLY!!!\r\n                         &amp;&amp; (fv = f.val) != null)\r\n                    return fv;\r\n    .....\r\n    static final int spread(int h) {\r\n            return (h ^ (h &gt;&gt;&gt; 16)) &amp; HASH_BITS;\r\n        }\r\n\r\nI can see, that .equals is performed ONLY After a hash search has found a match... So I believe I need to fix my hash override for my equals to be able to test.\r\n\r\nHow could I override the K key in such a way that it properly deals with synthetic argument equalities under the rules of a ConcurrentHashMap?\r\n","title":"putIfAbsent with synthetic argument equality inference","body":"<p>I have a package private interface that's able to identify equality based on captured synthetic argument references.</p>\n<pre><code>interface SynthEqual {\n    default Object synthParamAt(int paramIndex) {\n        try {\n            return getClass().getDeclaredFields()[paramIndex].get(this);\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        }\n    }\n   default&lt;S&gt; boolean equalTo(int paramIndex, S other) {\n       return synthParamAt(paramIndex).equals(other);\n   }\n\n   //Edit:\n   // I realized this is a better option, instead of exposing the synthetic param:\n   default boolean equalTo(int at, SynthEqual that) {\n      return that != null &amp;&amp; that.synthParamAt(at).equal(synthParamAt(at));\n   }\n   // and making synthParamAt private with Java9\n}\n</code></pre>\n<p>This interface is used for when lambda captures more than 2 arguemnts, but I am interested only on the equality of one of them...</p>\n<p>If you .hash this synthetic arguments they are different... EVEN IF they come from the same reference source.</p>\n<p>But if you == Or .equal() the result comes as true.</p>\n<p>This is why I rather NOT @Override equals or hashcode, instead I always use my plain custom equalizer methods..., BUT if you wish/need... you could... in theory do this:</p>\n<pre><code>    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        AClass&lt;?&gt; that = (AClass&lt;?&gt;) o;\n        return that.lambdaFieldA.equalTo(0, this.lambdaFieldA.synthParamAt(0)) &amp;&amp; Objects.equals(fieldB, that.fieldB);\n    }\n</code></pre>\n<p>As you can see this composed class is properly overriding equals, but my lambda is using it's custom synthetic equality test.</p>\n<p>as for hashCode... well I don't know how would that be overridden...\nI believe it is not possible to override hash in such a way that synthetic arguments can be inferred.\nUp to now, this has never been an issue...</p>\n<p>The real problem comes when dealing with Maps.</p>\n<p>When we look at the putVal() method of ConcurrenthashMap we can see that they are using the hash function to search for a match in the Node table.</p>\n<pre><code>final V putVal(K key, V value, boolean onlyIfAbsent) {\n        if (key == null || value == null) throw new NullPointerException();\n        //Here\n        int hash = spread(key.hashCode());\n        int binCount = 0;\n        for (Node&lt;K,V&gt;[] tab = table;;) {\n            Node&lt;K,V&gt; f; int n, i, fh; K fk; V fv;\n            if (tab == null || (n = tab.length) == 0)\n                tab = initTable();\n            // Here the fetch\n            else if ((f = tabAt(tab, i = (n - 1) &amp; hash)) == null) {\n// .......\n// A few lines bellow:\nelse if (onlyIfAbsent // check first node without acquiring lock\n                     //Here compares\n                     &amp;&amp; fh == hash\n                     &amp;&amp; ((fk = f.key) == key || (fk != null &amp;&amp; key.equals(fk))) // FINALLY!!!\n                     &amp;&amp; (fv = f.val) != null)\n                return fv;\n.....\nstatic final int spread(int h) {\n        return (h ^ (h &gt;&gt;&gt; 16)) &amp; HASH_BITS;\n    }\n</code></pre>\n<p>I can see, that .equals is performed ONLY After a hash search has found a match... So I believe I need to fix my hash override for my equals to be able to test.</p>\n<p>How could I override the K key in such a way that it properly deals with synthetic argument equalities under the rules of a ConcurrentHashMap?</p>\n"},{"tags":["java","testng","testng-dataprovider","testng-eclipse"],"answers":[{"tags":[],"owner":{"account_id":3944786,"reputation":621,"user_id":3257859,"display_name":"Amit Bhoraniya"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1460450191,"creation_date":1460450191,"answer_id":36567795,"question_id":36565014,"body_markdown":"Already you have answered your question that,\r\n\r\n&gt; If you want to put your data provider in a different class, it needs\r\n&gt; to be a static method or a class with a non-arg constructor.\r\n\r\nAnd as per Java Design It should not work, cause to invoke method from other class either that method should be static or we need object of that class.\r\n\r\n`testData` method is not static, so it cant be invoke using class, and you are not creating non-arg constructor,so not able to create object (without object non-static method could not be invoke).\r\n\r\nHope, you understand my point and you get your answer :)","title":"TestNG non static data provider method not working","body":"<p>Already you have answered your question that,</p>\n\n<blockquote>\n  <p>If you want to put your data provider in a different class, it needs\n  to be a static method or a class with a non-arg constructor.</p>\n</blockquote>\n\n<p>And as per Java Design It should not work, cause to invoke method from other class either that method should be static or we need object of that class.</p>\n\n<p><code>testData</code> method is not static, so it cant be invoke using class, and you are not creating non-arg constructor,so not able to create object (without object non-static method could not be invoke).</p>\n\n<p>Hope, you understand my point and you get your answer :)</p>\n"},{"tags":[],"owner":{"account_id":5307294,"reputation":5670,"user_id":4234729,"display_name":"juherr"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1460454637,"creation_date":1460454637,"answer_id":36569677,"question_id":36565014,"body_markdown":"Disclaimer: I&#39;m the one who [added the support of non static methods from external dataProvider][1].\r\n\r\nJust add `@Guice` on your class:\r\n\r\n    @Guice\r\n    public class TestClass {\r\n        @Test(dataProvider = &quot;get&quot;, dataProviderClass=TestDataProvider.class)\r\n        public void test1(String s1, String s2) {\r\n            Assert.assertEquals(s1.length(), s2.length());\r\n        }\r\n    }\r\n\r\nIt is a not yet referenced issue.\r\n\r\n\r\n  [1]: https://github.com/cbeust/testng/pull/631","title":"TestNG non static data provider method not working","body":"<p>Disclaimer: I'm the one who <a href=\"https://github.com/cbeust/testng/pull/631\" rel=\"noreferrer\">added the support of non static methods from external dataProvider</a>.</p>\n\n<p>Just add <code>@Guice</code> on your class:</p>\n\n<pre><code>@Guice\npublic class TestClass {\n    @Test(dataProvider = \"get\", dataProviderClass=TestDataProvider.class)\n    public void test1(String s1, String s2) {\n        Assert.assertEquals(s1.length(), s2.length());\n    }\n}\n</code></pre>\n\n<p>It is a not yet referenced issue.</p>\n"},{"tags":[],"owner":{"account_id":8062064,"reputation":102,"user_id":6077321,"display_name":"Deepak Attri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548778727,"creation_date":1548778727,"answer_id":54425356,"question_id":36565014,"body_markdown":"1. TestNG first looks for data provider in the same class. \r\nEg:\r\n  ```\r\npublic class DummyTest {\r\n\r\n    @DataProvider(name = &quot;data&quot;)\r\n    public Object[][] dummyData() {\r\n        return new Object[][]{\r\n                {&quot;Khan&quot;}, {&quot;Kapoor&quot;}\r\n        };\r\n    }\r\n\r\n    @Test(dataProvider = &quot;data&quot;)\r\n    public void dataProviderTest(String name){\r\n        System.out.println(&quot;My Name is &quot; + name);\r\n    }\r\n```\r\n2. If dataprovider is not found in the same class then TestNG looks in the base class. Eg:\r\n```\r\npublic class DummyData {\r\n\r\n    @DataProvider(name = &quot;data&quot;)\r\n    public Object[][] dummyData() {\r\n        return new Object[][]{\r\n                {&quot;Khan&quot;}, {&quot;Kapoor&quot;}\r\n        };\r\n    }\r\n}\r\npublic class DummyTest extends DummyData {\r\n    @Test(dataProvider = &quot;data&quot;)\r\n    public void dataProviderTest(String name){\r\n        System.out.println(&quot;My Name is &quot; + name);\r\n    }\r\n}\r\n```\r\n3. If your DataProvider has default or no-argument constructor, you can declare data provider methods either static or non-static. Eg\r\n```\r\npublic class DummyData {\r\n\r\n    @DataProvider(name = &quot;data&quot;)\r\n    public Object[][] dummyData() {\r\n        return new Object[][]{\r\n                {&quot;Khan&quot;}, {&quot;Kapoor&quot;}\r\n        };\r\n    }\r\n}\r\npublic class DummyTest {\r\n    @Test(dataProvider = &quot;data&quot;, dataProviderClass = DummyData.class)\r\n    public void dataProviderTest(String name){\r\n        System.out.println(&quot;My Name is &quot; + name);\r\n    }\r\n}\r\n```\r\n4. If DataProvider class has parameterised constructors, declare dataprovider methods as static othwerwise jvm will throw error. Error snapshot from intellij:\r\n```\r\nobjc[48034]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/bin/java (0x1037f04c0) and /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/libinstrument.dylib (0x1038b84e0). One of the two will be used. Which one is undefined.\r\n[Utils] [ERROR] [Error] java.lang.InstantiationException: apitestset.users.DummyData\r\n\tat java.lang.Class.newInstance(Class.java:427)\r\n\tat org.testng.internal.ClassHelper.newInstance(ClassHelper.java:69)\r\n\tat org.testng.internal.Parameters.findDataProvider(Parameters.java:582)\r\n\tat org.testng.internal.Parameters.findDataProvider(Parameters.java:509)\r\n\tat org.testng.internal.Parameters.handleParameters(Parameters.java:691)\r\n\tat org.testng.internal.ParameterHandler.handleParameters(ParameterHandler.java:49)\r\n\tat org.testng.internal.ParameterHandler.createParameters(ParameterHandler.java:37)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:924)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:648)\r\n\tat org.testng.TestRunner.run(TestRunner.java:505)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:364)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1049)\r\n\tat org.testng.TestNG.run(TestNG.java:1017)\r\n\tat org.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:72)\r\n\tat org.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:127)\r\nCaused by: java.lang.NoSuchMethodException: apitestset.users.DummyData.&amp;lt;init&amp;gt;()\r\n\tat java.lang.Class.getConstructor0(Class.java:3082)\r\n\tat java.lang.Class.newInstance(Class.java:412)\r\n\t... 23 more\r\n\r\n\r\norg.testng.TestNGException: \r\nCannot instantiate class apitestset.users.DummyData\r\n\r\n\tat org.testng.internal.ClassHelper.newInstance(ClassHelper.java:71)\r\n\tat org.testng.internal.Parameters.findDataProvider(Parameters.java:582)\r\n\tat org.testng.internal.Parameters.findDataProvider(Parameters.java:509)\r\n\tat org.testng.internal.Parameters.handleParameters(Parameters.java:691)\r\n\tat org.testng.internal.ParameterHandler.handleParameters(ParameterHandler.java:49)\r\n\tat org.testng.internal.ParameterHandler.createParameters(ParameterHandler.java:37)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:924)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:648)\r\n\tat org.testng.TestRunner.run(TestRunner.java:505)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:364)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1049)\r\n\tat org.testng.TestNG.run(TestNG.java:1017)\r\n\tat org.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:72)\r\n\tat org.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:127)\r\nCaused by: java.lang.InstantiationException: apitestset.users.DummyData\r\n\tat java.lang.Class.newInstance(Class.java:427)\r\n\tat org.testng.internal.ClassHelper.newInstance(ClassHelper.java:69)\r\n\t... 22 more\r\nCaused by: java.lang.NoSuchMethodException: apitestset.users.DummyData.&lt;init&gt;()\r\n\tat java.lang.Class.getConstructor0(Class.java:3082)\r\n\tat java.lang.Class.newInstance(Class.java:412)\r\n\t... 23 more\r\n```","title":"TestNG non static data provider method not working","body":"<ol>\n<li>TestNG first looks for data provider in the same class. \nEg:</li>\n</ol>\n\n<pre><code>public class DummyTest {\n\n  @DataProvider(name = \"data\")\n  public Object[][] dummyData() {\n      return new Object[][]{\n              {\"Khan\"}, {\"Kapoor\"}\n      };\n  }\n\n  @Test(dataProvider = \"data\")\n  public void dataProviderTest(String name){\n      System.out.println(\"My Name is \" + name);\n  }\n</code></pre>\n\n<ol start=\"2\">\n<li>If dataprovider is not found in the same class then TestNG looks in the base class. Eg:</li>\n</ol>\n\n<pre><code>public class DummyData {\n\n    @DataProvider(name = \"data\")\n    public Object[][] dummyData() {\n        return new Object[][]{\n                {\"Khan\"}, {\"Kapoor\"}\n        };\n    }\n}\npublic class DummyTest extends DummyData {\n    @Test(dataProvider = \"data\")\n    public void dataProviderTest(String name){\n        System.out.println(\"My Name is \" + name);\n    }\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>If your DataProvider has default or no-argument constructor, you can declare data provider methods either static or non-static. Eg</li>\n</ol>\n\n<pre><code>public class DummyData {\n\n    @DataProvider(name = \"data\")\n    public Object[][] dummyData() {\n        return new Object[][]{\n                {\"Khan\"}, {\"Kapoor\"}\n        };\n    }\n}\npublic class DummyTest {\n    @Test(dataProvider = \"data\", dataProviderClass = DummyData.class)\n    public void dataProviderTest(String name){\n        System.out.println(\"My Name is \" + name);\n    }\n}\n</code></pre>\n\n<ol start=\"4\">\n<li>If DataProvider class has parameterised constructors, declare dataprovider methods as static othwerwise jvm will throw error. Error snapshot from intellij:</li>\n</ol>\n\n<pre><code>objc[48034]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/bin/java (0x1037f04c0) and /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/libinstrument.dylib (0x1038b84e0). One of the two will be used. Which one is undefined.\n[Utils] [ERROR] [Error] java.lang.InstantiationException: apitestset.users.DummyData\n    at java.lang.Class.newInstance(Class.java:427)\n    at org.testng.internal.ClassHelper.newInstance(ClassHelper.java:69)\n    at org.testng.internal.Parameters.findDataProvider(Parameters.java:582)\n    at org.testng.internal.Parameters.findDataProvider(Parameters.java:509)\n    at org.testng.internal.Parameters.handleParameters(Parameters.java:691)\n    at org.testng.internal.ParameterHandler.handleParameters(ParameterHandler.java:49)\n    at org.testng.internal.ParameterHandler.createParameters(ParameterHandler.java:37)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:924)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\n    at org.testng.TestRunner.privateRun(TestRunner.java:648)\n    at org.testng.TestRunner.run(TestRunner.java:505)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:364)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\n    at org.testng.TestNG.runSuites(TestNG.java:1049)\n    at org.testng.TestNG.run(TestNG.java:1017)\n    at org.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:72)\n    at org.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:127)\nCaused by: java.lang.NoSuchMethodException: apitestset.users.DummyData.&amp;lt;init&amp;gt;()\n    at java.lang.Class.getConstructor0(Class.java:3082)\n    at java.lang.Class.newInstance(Class.java:412)\n    ... 23 more\n\n\norg.testng.TestNGException: \nCannot instantiate class apitestset.users.DummyData\n\n    at org.testng.internal.ClassHelper.newInstance(ClassHelper.java:71)\n    at org.testng.internal.Parameters.findDataProvider(Parameters.java:582)\n    at org.testng.internal.Parameters.findDataProvider(Parameters.java:509)\n    at org.testng.internal.Parameters.handleParameters(Parameters.java:691)\n    at org.testng.internal.ParameterHandler.handleParameters(ParameterHandler.java:49)\n    at org.testng.internal.ParameterHandler.createParameters(ParameterHandler.java:37)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:924)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\n    at org.testng.TestRunner.privateRun(TestRunner.java:648)\n    at org.testng.TestRunner.run(TestRunner.java:505)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:364)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\n    at org.testng.TestNG.runSuites(TestNG.java:1049)\n    at org.testng.TestNG.run(TestNG.java:1017)\n    at org.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:72)\n    at org.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:127)\nCaused by: java.lang.InstantiationException: apitestset.users.DummyData\n    at java.lang.Class.newInstance(Class.java:427)\n    at org.testng.internal.ClassHelper.newInstance(ClassHelper.java:69)\n    ... 22 more\nCaused by: java.lang.NoSuchMethodException: apitestset.users.DummyData.&lt;init&gt;()\n    at java.lang.Class.getConstructor0(Class.java:3082)\n    at java.lang.Class.newInstance(Class.java:412)\n    ... 23 more\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5441555,"reputation":86,"user_id":4329503,"display_name":"c.bielke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581366377,"creation_date":1581366377,"answer_id":60157894,"question_id":36565014,"body_markdown":"For other people who are receiving the same error, but haven&#39;t able to fix them following other answers: \r\n\r\nI noticed this error started appearing for me after upgrading my TestNG plugin from 6.X to 7.0 within Eclipse. I tried following the other solutions, but the only thing that ended up working for me was completely uninstalling TestNG (plugin, TestNg Maven, etc) and then setting the update site to that specific version of TestNG. ","title":"TestNG non static data provider method not working","body":"<p>For other people who are receiving the same error, but haven't able to fix them following other answers: </p>\n\n<p>I noticed this error started appearing for me after upgrading my TestNG plugin from 6.X to 7.0 within Eclipse. I tried following the other solutions, but the only thing that ended up working for me was completely uninstalling TestNG (plugin, TestNg Maven, etc) and then setting the update site to that specific version of TestNG. </p>\n"},{"tags":[],"owner":{"account_id":7103552,"reputation":9,"user_id":5434085,"display_name":"mambo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655601438,"creation_date":1655601438,"answer_id":72673716,"question_id":36565014,"body_markdown":"It was broken between 6.8.x and 6.10.x. Using any version other than within that range should fix your problem.","title":"TestNG non static data provider method not working","body":"<p>It was broken between 6.8.x and 6.10.x. Using any version other than within that range should fix your problem.</p>\n"}],"owner":{"account_id":2314526,"reputation":962,"user_id":2031855,"accept_rate":17,"display_name":"Sourav Chandra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11897,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36569677,"answer_count":5,"score":3,"last_activity_date":1655601438,"creation_date":1460441954,"question_id":36565014,"body_markdown":"I have a test class and test method. This depends on data provider method. The data provider method is in different class other than the test class or one of its base classes. As per TestNG documentation\r\n\r\n&gt; If you want to put your data provider in a different class, it needs to be a static method or a class with a non-arg constructor, and you specify the class where it can be found in the dataProviderClass attribute\r\n\r\n**Test class:**\r\n\r\n    package test;\r\n    \r\n    import org.testng.Assert;\r\n    import org.testng.annotations.Test;\r\n\r\n    import dataprovider.TestDataProvider;\r\n\r\n    public class TestClass {\r\n          @Test(dataProvider = &quot;get&quot;, dataProviderClass=TestDataProvider.class)\r\n\t      public void test1(String s1, String s2) {\r\n\t\t      Assert.assertEquals(s1.length(), s2.length());\r\n\t      }\r\n    }\r\n\r\n**Data provider class:**\r\n\r\n    package dataprovider;\r\n    \r\n    import org.testng.annotations.DataProvider;\r\n    \r\n    public class TestDataProvider {\r\n        @DataProvider(name = &quot;get&quot;)\r\n\t    public Object[][] testData() {\r\n\t\t    return new Object[][] {{&quot;a&quot;, &quot;b&quot;},{&quot;c&quot;, &quot;d&quot;}};\r\n\t    }\r\n    }\r\n    \r\n\r\n**Test Output from Eclipse:**\r\n\r\n        java.lang.RuntimeException: Can&#39;t invoke method public java.lang.Object[][] dataprovider.\r\n    TestDataProvider.testData() on this instance of class test.TestClass due to class mismatch\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:75)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeDataProvider(MethodInvocationHelper.java:137)\r\n    \tat org.testng.internal.Parameters.handleParameters(Parameters.java:430)\r\n    \tat org.testng.internal.Invoker.handleParameters(Invoker.java:1243)\r\n    \tat org.testng.internal.Invoker.createParameters(Invoker.java:992)\r\n    \tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1082)\r\n    \tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\r\n    \tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:778)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:632)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:366)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:268)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1225)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1150)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1075)\r\n    \tat org.testng.TestNG.run(TestNG.java:1047)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:126)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:137)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:58)\r\n\r\n\r\nIt seems it&#39;s not working. I am using TestNG 6.9.11 and tried running from maven as well as from eclipse. I am using latest Eclipse-TestNG plugin.\r\n","title":"TestNG non static data provider method not working","body":"<p>I have a test class and test method. This depends on data provider method. The data provider method is in different class other than the test class or one of its base classes. As per TestNG documentation</p>\n\n<blockquote>\n  <p>If you want to put your data provider in a different class, it needs to be a static method or a class with a non-arg constructor, and you specify the class where it can be found in the dataProviderClass attribute</p>\n</blockquote>\n\n<p><strong>Test class:</strong></p>\n\n<pre><code>package test;\n\nimport org.testng.Assert;\nimport org.testng.annotations.Test;\n\nimport dataprovider.TestDataProvider;\n\npublic class TestClass {\n      @Test(dataProvider = \"get\", dataProviderClass=TestDataProvider.class)\n      public void test1(String s1, String s2) {\n          Assert.assertEquals(s1.length(), s2.length());\n      }\n}\n</code></pre>\n\n<p><strong>Data provider class:</strong></p>\n\n<pre><code>package dataprovider;\n\nimport org.testng.annotations.DataProvider;\n\npublic class TestDataProvider {\n    @DataProvider(name = \"get\")\n    public Object[][] testData() {\n        return new Object[][] {{\"a\", \"b\"},{\"c\", \"d\"}};\n    }\n}\n</code></pre>\n\n<p><strong>Test Output from Eclipse:</strong></p>\n\n<pre><code>    java.lang.RuntimeException: Can't invoke method public java.lang.Object[][] dataprovider.\nTestDataProvider.testData() on this instance of class test.TestClass due to class mismatch\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:75)\n    at org.testng.internal.MethodInvocationHelper.invokeDataProvider(MethodInvocationHelper.java:137)\n    at org.testng.internal.Parameters.handleParameters(Parameters.java:430)\n    at org.testng.internal.Invoker.handleParameters(Invoker.java:1243)\n    at org.testng.internal.Invoker.createParameters(Invoker.java:992)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1082)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\n    at org.testng.TestRunner.privateRun(TestRunner.java:778)\n    at org.testng.TestRunner.run(TestRunner.java:632)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:268)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1225)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1150)\n    at org.testng.TestNG.runSuites(TestNG.java:1075)\n    at org.testng.TestNG.run(TestNG.java:1047)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:126)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:137)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:58)\n</code></pre>\n\n<p>It seems it's not working. I am using TestNG 6.9.11 and tried running from maven as well as from eclipse. I am using latest Eclipse-TestNG plugin.</p>\n"},{"tags":["java","unit-testing","mockito","powermock","powermockito"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655596828,"creation_date":1655596439,"answer_id":72673467,"question_id":72666877,"body_markdown":"`java.util.Collections` and `java.util.stream.StreamSupport` are system classes (Language and utility libraries that are part of JRE). The caller of the system class should be defined in `@PrepareForTest({ClassThatCallsTheSystemClass.class})`.\r\n&lt;br&gt;See [documentation][1].\r\n\r\n&gt; The way to go about mocking system classes are a bit different than\r\n&gt; usual though. Normally you would prepare the class that contains the\r\n&gt; static methods (let&#39;s call it X) you like to mock but because it&#39;s\r\n&gt; impossible for PowerMock to prepare a system class for testing so\r\n&gt; another approach has to be taken. So instead of preparing X you\r\n&gt; prepare the class that calls the static methods in X!\r\n\r\nSo you need to add `TestClazz.class` into `@PrepareForTest`.\r\n&lt;br&gt;Correct definition:\r\n```java\r\n@PrepareForTest({ CampaignHandlerFactory.class, TestClazz.class})\r\n```\r\nExecution test result:\r\n```\r\n============INSIDE ABC===========\r\nMock for List, hashCode: 1800605369\r\nMock for Stream, hashCode: 847606512\r\nMock for ICampaignHandler, hashCode: 1736458419\r\n\r\n============OUTSIDE ABC===========\r\nMock for List, hashCode: 1800605369\r\nMock for Stream, hashCode: 847606512\r\nMock for ICampaignHandler, hashCode: 1736458419\r\n```\r\n\r\n  [1]: https://github.com/powermock/powermock/wiki/Mock-System","title":"PowerMockito mock static didn&#39;t work correctly","body":"<p><code>java.util.Collections</code> and <code>java.util.stream.StreamSupport</code> are system classes (Language and utility libraries that are part of JRE). The caller of the system class should be defined in <code>@PrepareForTest({ClassThatCallsTheSystemClass.class})</code>.\n<br>See <a href=\"https://github.com/powermock/powermock/wiki/Mock-System\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<blockquote>\n<p>The way to go about mocking system classes are a bit different than\nusual though. Normally you would prepare the class that contains the\nstatic methods (let's call it X) you like to mock but because it's\nimpossible for PowerMock to prepare a system class for testing so\nanother approach has to be taken. So instead of preparing X you\nprepare the class that calls the static methods in X!</p>\n</blockquote>\n<p>So you need to add <code>TestClazz.class</code> into <code>@PrepareForTest</code>.\n<br>Correct definition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PrepareForTest({ CampaignHandlerFactory.class, TestClazz.class})\n</code></pre>\n<p>Execution test result:</p>\n<pre><code>============INSIDE ABC===========\nMock for List, hashCode: 1800605369\nMock for Stream, hashCode: 847606512\nMock for ICampaignHandler, hashCode: 1736458419\n\n============OUTSIDE ABC===========\nMock for List, hashCode: 1800605369\nMock for Stream, hashCode: 847606512\nMock for ICampaignHandler, hashCode: 1736458419\n</code></pre>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72673467,"answer_count":1,"score":1,"last_activity_date":1655596828,"creation_date":1655529816,"question_id":72666877,"body_markdown":"I have a class need to be tested:\r\n\r\n    public class TestClazz {\r\n    \r\n        public void abc() {\r\n            List&lt;String&gt; sa = Collections.singletonList(&quot;sa&quot;);\r\n            Stream&lt;PropertySource&lt;?&gt;&gt; stream = StreamSupport.stream(Mockito.mock(Spliterator.class), false);\r\n            ICampaignHandler campaignHandler = CampaignHandlerFactory.getCampaignHandler(ProcessorTypeEnum.RETRY_CAMPAIGN);\r\n    \r\n            System.out.println(&quot;============INSIDE ABC===========&quot;);\r\n            System.out.println(sa);\r\n            System.out.println(stream);\r\n            System.out.println(campaignHandler);\r\n\r\n            //Other logic code\r\n        }\r\n    \r\n    }\r\n\r\nAnd a test class:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({ Collections.class, StreamSupport.class, CampaignHandlerFactory.class})\r\n    public class DefaultSystemAppConfigServiceTest {\r\n    \r\n        @Test\r\n        public void testing() {\r\n            PowerMockito.mockStatic(StreamSupport.class);\r\n            PowerMockito.mockStatic(Collections.class);\r\n            PowerMockito.mockStatic(CampaignHandlerFactory.class);\r\n    \r\n            //Stubbing\r\n            Mockito.when(StreamSupport.stream(Mockito.any(Spliterator.class), Mockito.anyBoolean()))\r\n                    .thenReturn(Mockito.mock(Stream.class));\r\n            Mockito.when(Collections.singletonList(Mockito.any()))\r\n                    .thenReturn(Mockito.mock(List.class));\r\n            Mockito.when(CampaignHandlerFactory.getCampaignHandler(Mockito.any()))\r\n                    .thenReturn(Mockito.mock(ICampaignHandler.class));\r\n    \r\n            //Here invoked method under test\r\n            new TestClazz().abc();\r\n    \r\n            Stream&lt;PropertySource&lt;?&gt;&gt; stream = StreamSupport.stream(Mockito.mock(Spliterator.class), false);\r\n            List&lt;String&gt; sa = Collections.singletonList(&quot;sa&quot;);\r\n            ICampaignHandler campaignHandler = CampaignHandlerFactory.getCampaignHandler(ProcessorTypeEnum.RETRY_CAMPAIGN);\r\n    \r\n            System.out.println();\r\n            System.out.println(&quot;============OUTSIDE ABC===========&quot;);\r\n            System.out.println(sa);\r\n            System.out.println(stream);\r\n            System.out.println(campaignHandler);\r\n        }\r\n    }\r\nI have to mock statics call so that it return as my expectation\r\n\r\n\r\nI followed steps:\r\n1. @RunWith(PowerMockRunner.class)\r\n2. @PrepareForTest({ Collections.class, StreamSupport.class, CampaignHandlerFactory.class})\r\n3. PowerMockito.mockStatic(clazz)\r\n4. Mockito.when(method call).thenReturn(my mock)\r\n5. Invoke method need to be tested\r\n\r\nThe result:\r\n\r\n    ============INSIDE ABC===========\r\n    [sa]\r\n    java.util.stream.ReferencePipeline$Head@dffa30b\r\n    Mock for ICampaignHandler, hashCode: 81269359\r\n    \r\n    ============OUTSIDE ABC===========\r\n    Mock for List, hashCode: 628164202\r\n    Mock for Stream, hashCode: 1962826086\r\n    Mock for ICampaignHandler, hashCode: 81269359\r\n    \r\n    Process finished with exit code 0\r\nYou guys can see 2/3 my stubbing setup does not work if the static calls are inside abc(), and it works if I copy static call outside abc() (copy to testing() directly). Only 1/3 stubbing works (inside and outside):\r\n\r\n    CampaignHandlerFactory.getCampaignHandler(param)   //this return as my expectiation\r\n\r\nHint: CampaignHandlerFactory is my implementation; Collections, StreamSupport are built-in classes. This is spring boot application\r\n\r\nTest dependencies tree:\r\n\r\n    mvn test dependency:tree -DskipTests=true\r\n\r\n    [INFO] --- maven-dependency-plugin:3.1.2:tree (default-cli) @ ota-service ---\r\n    [INFO] com.sirea.ota:ota-service:jar:0.0.1-SNAPSHOT\r\n    [INFO] +- com.sirea.ota:ota-logging:jar:0.0.1-SNAPSHOT:compile\r\n    [INFO] |  +- org.slf4j:slf4j-api:jar:1.7.30:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-aop:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.6:compile\r\n    [INFO] |  +- com.sirea:logFormattor:jar:1.0.9:compile\r\n    [INFO] |  |  \\- org.codehaus.janino:janino:jar:3.1.2:compile\r\n    [INFO] |  |     \\- org.codehaus.janino:commons-compiler:jar:3.1.2:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-web:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-json:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.11.4:compile\r\n    [INFO] |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.11.4:compile\r\n    [INFO] |  |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.11.4:compile\r\n    [INFO] |  |  +- org.springframework:spring-web:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-webmvc:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  |     \\- org.springframework:spring-expression:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  \\- org.springframework.boot:spring-boot-starter-jetty:jar:2.3.8.RELEASE:compile\r\n    [INFO] |     +- jakarta.servlet:jakarta.servlet-api:jar:4.0.4:compile\r\n    [INFO] |     +- jakarta.websocket:jakarta.websocket-api:jar:1.1.2:compile\r\n    [INFO] |     +- org.eclipse.jetty:jetty-servlets:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |  +- org.eclipse.jetty:jetty-continuation:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |  +- org.eclipse.jetty:jetty-http:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |  +- org.eclipse.jetty:jetty-util:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |  \\- org.eclipse.jetty:jetty-io:jar:9.4.35.v20201120:compile\r\n    [INFO] |     +- org.eclipse.jetty:jetty-webapp:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |  +- org.eclipse.jetty:jetty-xml:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |  \\- org.eclipse.jetty:jetty-servlet:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |     +- org.eclipse.jetty:jetty-security:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |     |  \\- org.eclipse.jetty:jetty-server:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |     \\- org.eclipse.jetty:jetty-util-ajax:jar:9.4.35.v20201120:compile\r\n    [INFO] |     +- org.eclipse.jetty.websocket:websocket-server:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |  +- org.eclipse.jetty.websocket:websocket-common:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |  |  \\- org.eclipse.jetty.websocket:websocket-api:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |  +- org.eclipse.jetty.websocket:websocket-client:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |  |  \\- org.eclipse.jetty:jetty-client:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |  \\- org.eclipse.jetty.websocket:websocket-servlet:jar:9.4.35.v20201120:compile\r\n    [INFO] |     +- org.eclipse.jetty.websocket:javax-websocket-server-impl:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |  +- org.eclipse.jetty:jetty-annotations:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |  |  +- org.eclipse.jetty:jetty-plus:jar:9.4.35.v20201120:compile\r\n    [INFO] |     |  |  +- org.ow2.asm:asm:jar:9.0:compile\r\n    [INFO] |     |  |  \\- org.ow2.asm:asm-commons:jar:9.0:compile\r\n    [INFO] |     |  |     +- org.ow2.asm:asm-tree:jar:9.0:compile\r\n    [INFO] |     |  |     \\- org.ow2.asm:asm-analysis:jar:9.0:compile\r\n    [INFO] |     |  \\- org.eclipse.jetty.websocket:javax-websocket-client-impl:jar:9.4.35.v20201120:compile\r\n    [INFO] |     \\- org.glassfish:jakarta.el:jar:3.0.3:compile\r\n    [INFO] +- com.sirea.common:sirea-logging:jar:1.2.0:compile\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-core:jar:2.11.4:compile\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.11.4:compile\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.11.4:compile\r\n    [INFO] |  \\- ch.qos.logback:logback-classic:jar:1.2.3:compile\r\n    [INFO] |     \\- ch.qos.logback:logback-core:jar:1.2.3:compile\r\n    [INFO] +- com.sirea.ota:ota-common:jar:0.0.1-SNAPSHOT:compile\r\n    [INFO] |  +- javax.validation:validation-api:jar:2.0.1.Final:compile\r\n    [INFO] |  +- org.springframework.hateoas:spring-hateoas:jar:1.2.3:compile\r\n    [INFO] |  |  +- org.springframework:spring-beans:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-context:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework.plugin:spring-plugin-core:jar:2.0.0.RELEASE:compile\r\n    [INFO] |  +- org.apache.commons:commons-lang3:jar:3.11:compile\r\n    [INFO] |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile\r\n    [INFO] |  |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\r\n    [INFO] |  +- javax.xml.bind:jaxb-api:jar:2.3.1:compile\r\n    [INFO] |  |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n    [INFO] |  +- com.sirea.amp.partner.oemil:oemil-integration:jar:1.0.4-7:compile\r\n    [INFO] |  |  +- com.nimbusds:nimbus-jose-jwt:jar:8.19:compile\r\n    [INFO] |  |  |  \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:compile\r\n    [INFO] |  |  \\- com.sirea.amp:amp-schema:jar:0.0.2-SNAPSHOT:compile\r\n    [INFO] |  |     +- com.google.protobuf:protobuf-java:jar:3.14.0:compile\r\n    [INFO] |  |     \\- com.google.protobuf:protobuf-java-util:jar:3.14.0:compile\r\n    [INFO] |  |        \\- com.google.code.gson:gson:jar:2.8.6:compile\r\n    [INFO] |  +- javax:javaee-api:jar:8.0.1:compile\r\n    [INFO] |  |  \\- com.sun.mail:javax.mail:jar:1.6.2:compile\r\n    [INFO] |  |     \\- javax.activation:activation:jar:1.1:compile\r\n    [INFO] |  \\- org.bouncycastle:bcpkix-jdk15on:jar:1.68:compile\r\n    [INFO] |     \\- org.bouncycastle:bcprov-jdk15on:jar:1.68:compile\r\n    [INFO] +- com.sirea.ota:server-interface-api:jar:0.0.1-SNAPSHOT:compile\r\n    [INFO] +- com.sirea.ota:ota-jpa:jar:0.0.1-SNAPSHOT:compile\r\n    [INFO] |  +- org.flywaydb:flyway-core:jar:6.5.7:compile\r\n    [INFO] |  \\- org.projectlombok:lombok:jar:1.18.16:compile\r\n    [INFO] +- com.sirea.ota:ota-converter:jar:0.0.1-SNAPSHOT:compile\r\n    [INFO] |  +- com.bazaarvoice.jolt:jolt-core:jar:0.1.1:compile\r\n    [INFO] |  |  \\- javax.inject:javax.inject:jar:1:compile\r\n    [INFO] |  \\- com.bazaarvoice.jolt:json-utils:jar:0.1.1:compile\r\n    [INFO] +- com.sirea.ota:ota-rest-common:jar:0.0.1-SNAPSHOT:compile\r\n    [INFO] |  +- com.google.guava:guava:jar:30.1-jre:compile\r\n    [INFO] |  |  +- com.google.guava:failureaccess:jar:1.0.1:compile\r\n    [INFO] |  |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\r\n    [INFO] |  |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n    [INFO] |  |  +- org.checkerframework:checker-qual:jar:3.5.0:compile\r\n    [INFO] |  |  +- com.google.errorprone:error_prone_annotations:jar:2.3.4:compile\r\n    [INFO] |  |  \\- com.google.j2objc:j2objc-annotations:jar:1.3:compile\r\n    [INFO] |  +- org.springframework.data:spring-data-commons:jar:2.3.6.RELEASE:compile\r\n    [INFO] |  +- org.springframework.data:spring-data-redis:jar:2.3.6.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.data:spring-data-keyvalue:jar:2.3.6.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-tx:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-oxm:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-context-support:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  +- io.lettuce:lettuce-core:jar:5.3.6.RELEASE:compile\r\n    [INFO] |  |  +- io.netty:netty-common:jar:4.1.58.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-handler:jar:4.1.58.Final:compile\r\n    [INFO] |  |  |  +- io.netty:netty-resolver:jar:4.1.58.Final:compile\r\n    [INFO] |  |  |  +- io.netty:netty-buffer:jar:4.1.58.Final:compile\r\n    [INFO] |  |  |  \\- io.netty:netty-codec:jar:4.1.58.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-transport:jar:4.1.58.Final:compile\r\n    [INFO] |  |  \\- io.projectreactor:reactor-core:jar:3.3.13.RELEASE:compile\r\n    [INFO] |  |     \\- org.reactivestreams:reactive-streams:jar:1.0.3:compile\r\n    [INFO] |  +- org.apache.commons:commons-pool2:jar:2.8.1:compile\r\n    [INFO] |  \\- commons-io:commons-io:jar:2.8.0:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-amqp:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.26:compile\r\n    [INFO] |  +- org.springframework:spring-messaging:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  \\- org.springframework.amqp:spring-rabbit:jar:2.3.4:compile\r\n    [INFO] |     +- org.springframework.amqp:spring-amqp:jar:2.3.4:compile\r\n    [INFO] |     \\- com.rabbitmq:amqp-client:jar:5.9.0:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  |  +- com.zaxxer:HikariCP:jar:3.4.5:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jdbc:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:1.3.3:compile\r\n    [INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:2.2.3:compile\r\n    [INFO] |  +- org.hibernate:hibernate-core:jar:5.4.27.Final:compile\r\n    [INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.2.1.Final:compile\r\n    [INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\r\n    [INFO] |  |  +- org.jboss:jandex:jar:2.1.3.Final:compile\r\n    [INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\r\n    [INFO] |  |  +- org.dom4j:dom4j:jar:2.1.3:compile\r\n    [INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final:compile\r\n    [INFO] |  |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.3:compile\r\n    [INFO] |  |     +- org.glassfish.jaxb:txw2:jar:2.3.3:compile\r\n    [INFO] |  |     +- com.sun.istack:istack-commons-runtime:jar:3.0.11:compile\r\n    [INFO] |  |     \\- com.sun.activation:jakarta.activation:jar:1.2.2:runtime\r\n    [INFO] |  +- org.springframework.data:spring-data-jpa:jar:2.3.6.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-orm:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  \\- org.springframework:spring-aspects:jar:5.2.12.RELEASE:compile\r\n    [INFO] +- com.sirea.atsp:oemResponseExtension:jar:1.0.2:compile\r\n    [INFO] +- redis.clients:jedis:jar:2.7.2:compile\r\n    [INFO] +- com.sirea.atsp:redis-client-wrapper:jar:1.1.0-SNAPSHOT:compile\r\n    [INFO] +- javax.el:javax.el-api:jar:3.0.0:test\r\n    [INFO] +- ru.yandex.qatools.allure:allure-junit-adaptor:jar:1.5.4:test\r\n    [INFO] |  +- ru.yandex.qatools.allure:allure-java-aspects:jar:1.5.4:test\r\n    [INFO] |  |  +- ru.yandex.qatools.allure:allure-java-adaptor-api:jar:1.5.4:test\r\n    [INFO] |  |  |  +- ru.yandex.qatools.allure:allure-java-annotations:jar:1.5.4:test\r\n    [INFO] |  |  |  |  \\- ru.yandex.qatools.allure:allure-model:jar:1.5.4:test\r\n    [INFO] |  |  |  |     +- org.jvnet.jaxb2_commons:jaxb2-basics-runtime:jar:0.9.3:test\r\n    [INFO] |  |  |  |     \\- ru.qatools.commons:properties:jar:2.0.RC5:test\r\n    [INFO] |  |  |  \\- org.apache.tika:tika-core:jar:1.7:test\r\n    [INFO] |  |  \\- org.aspectj:aspectjrt:jar:1.9.6:test\r\n    [INFO] |  \\- junit:junit:jar:4.13.1:test\r\n    [INFO] +- org.powermock:powermock-module-junit4:jar:2.0.9:test\r\n    [INFO] |  +- org.powermock:powermock-module-junit4-common:jar:2.0.9:test\r\n    [INFO] |  |  +- org.powermock:powermock-reflect:jar:2.0.9:test\r\n    [INFO] |  |  |  \\- net.bytebuddy:byte-buddy-agent:jar:1.10.19:test\r\n    [INFO] |  |  \\- org.powermock:powermock-core:jar:2.0.9:test\r\n    [INFO] |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\r\n    [INFO] +- org.javassist:javassist:jar:3.20.0-GA:compile\r\n    [INFO] +- com.sirea.orchestrator:sirea-job-orchestrator:jar:1.0.2.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-webflux:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  |  |  \\- io.projectreactor.netty:reactor-netty:jar:0.9.16.RELEASE:compile\r\n    [INFO] |  |  |     +- io.netty:netty-codec-http:jar:4.1.58.Final:compile\r\n    [INFO] |  |  |     +- io.netty:netty-codec-http2:jar:4.1.58.Final:compile\r\n    [INFO] |  |  |     +- io.netty:netty-handler-proxy:jar:4.1.58.Final:compile\r\n    [INFO] |  |  |     |  \\- io.netty:netty-codec-socks:jar:4.1.58.Final:compile\r\n    [INFO] |  |  |     \\- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.58.Final:compile\r\n    [INFO] |  |  |        \\- io.netty:netty-transport-native-unix-common:jar:4.1.58.Final:compile\r\n    [INFO] |  |  +- org.springframework:spring-webflux:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  |  \\- org.synchronoss.cloud:nio-multipart-parser:jar:1.1.0:compile\r\n    [INFO] |  |     \\- org.synchronoss.cloud:nio-stream-storage:jar:1.1.3:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-actuator:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  |  |  \\- org.springframework.boot:spring-boot-actuator:jar:2.3.8.RELEASE:compile\r\n    [INFO] |  |  \\- io.micrometer:micrometer-core:jar:1.5.10:compile\r\n    [INFO] |  |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:compile\r\n    [INFO] |  |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\r\n    [INFO] |  +- org.springframework.kafka:spring-kafka:jar:2.5.11.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.retry:spring-retry:jar:1.2.5.RELEASE:compile\r\n    [INFO] |  |  \\- org.apache.kafka:kafka-clients:jar:2.5.1:compile\r\n    [INFO] |  |     +- com.github.luben:zstd-jni:jar:1.4.4-7:compile\r\n    [INFO] |  |     +- org.lz4:lz4-java:jar:1.7.1:compile\r\n    [INFO] |  |     \\- org.xerial.snappy:snappy-java:jar:1.1.7.3:compile\r\n    [INFO] |  +- mysql:mysql-connector-java:jar:8.0.23:runtime\r\n    [INFO] |  \\- org.springframework.cloud:spring-cloud-starter-stream-kafka:jar:3.0.13.RELEASE:compile\r\n    [INFO] |     \\- org.springframework.cloud:spring-cloud-stream-binder-kafka:jar:3.0.13.RELEASE:compile\r\n    [INFO] |        +- org.springframework.cloud:spring-cloud-stream-binder-kafka-core:jar:3.0.13.RELEASE:compile\r\n    [INFO] |        |  \\- org.springframework.integration:spring-integration-kafka:jar:3.3.1.RELEASE:compile\r\n    [INFO] |        \\- org.springframework.cloud:spring-cloud-stream:jar:3.0.13.RELEASE:compile\r\n    [INFO] |           +- org.springframework.boot:spring-boot-starter-validation:jar:2.3.8.RELEASE:compile\r\n    [INFO] |           |  \\- org.hibernate.validator:hibernate-validator:jar:6.1.7.Final:compile\r\n    [INFO] |           |     \\- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile\r\n    [INFO] |           +- org.springframework.integration:spring-integration-core:jar:5.3.5.RELEASE:compile\r\n    [INFO] |           +- org.springframework.integration:spring-integration-jmx:jar:5.3.5.RELEASE:compile\r\n    [INFO] |           \\- org.springframework.cloud:spring-cloud-function-context:jar:3.0.14.RELEASE:compile\r\n    [INFO] |              +- net.jodah:typetools:jar:0.6.2:compile\r\n    [INFO] |              \\- org.springframework.cloud:spring-cloud-function-core:jar:3.0.14.RELEASE:compile\r\n    [INFO] +- org.powermock:powermock-api-mockito2:jar:2.0.9:test\r\n    [INFO] |  +- org.powermock:powermock-api-support:jar:2.0.9:test\r\n    [INFO] |  \\- org.mockito:mockito-core:jar:3.3.3:test\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.3.8.RELEASE:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.3.8.RELEASE:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.3.8.RELEASE:test\r\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.5.0:compile\r\n    [INFO] |  |  \\- net.minidev:json-smart:jar:2.3:compile\r\n    [INFO] |  |     \\- net.minidev:accessors-smart:jar:1.2:compile\r\n    [INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\r\n    [INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\r\n    [INFO] |  +- org.assertj:assertj-core:jar:3.18.1:test\r\n    [INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n    [INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.6.3:test\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.6.3:test\r\n    [INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n    [INFO] |  |  |  \\- org.junit.platform:junit-platform-commons:jar:1.6.3:test\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.6.3:test\r\n    [INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.6.3:test\r\n    [INFO] |  +- org.junit.vintage:junit-vintage-engine:jar:5.6.3:test\r\n    [INFO] |  |  +- org.apiguardian:apiguardian-api:jar:1.1.0:test\r\n    [INFO] |  |  \\- org.junit.platform:junit-platform-engine:jar:1.6.3:test\r\n    [INFO] |  +- org.mockito:mockito-junit-jupiter:jar:3.3.3:test\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.0:test\r\n    [INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n    [INFO] |  +- org.springframework:spring-core:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:5.2.12.RELEASE:compile\r\n    [INFO] |  +- org.springframework:spring-test:jar:5.2.12.RELEASE:test\r\n    [INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.7.0:test\r\n    [INFO] +- org.awaitility:awaitility:jar:3.0.0:test\r\n    [INFO] |  +- org.hamcrest:hamcrest-library:jar:2.2:test\r\n    [INFO] |  \\- org.objenesis:objenesis:jar:2.5.1:test\r\n    [INFO] \\- org.awaitility:awaitility-proxy:jar:3.0.0:test\r\n    [INFO]    \\- net.bytebuddy:byte-buddy:jar:1.10.19:compile\r\n\r\nQuestion: So what is the problem here? Why my stubbing does not work if the static calls are inside abc(), but only CampaignHandlerFactory works?\r\n\r\nIs there versions conflict?","title":"PowerMockito mock static didn&#39;t work correctly","body":"<p>I have a class need to be tested:</p>\n<pre><code>public class TestClazz {\n\n    public void abc() {\n        List&lt;String&gt; sa = Collections.singletonList(&quot;sa&quot;);\n        Stream&lt;PropertySource&lt;?&gt;&gt; stream = StreamSupport.stream(Mockito.mock(Spliterator.class), false);\n        ICampaignHandler campaignHandler = CampaignHandlerFactory.getCampaignHandler(ProcessorTypeEnum.RETRY_CAMPAIGN);\n\n        System.out.println(&quot;============INSIDE ABC===========&quot;);\n        System.out.println(sa);\n        System.out.println(stream);\n        System.out.println(campaignHandler);\n\n        //Other logic code\n    }\n\n}\n</code></pre>\n<p>And a test class:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({ Collections.class, StreamSupport.class, CampaignHandlerFactory.class})\npublic class DefaultSystemAppConfigServiceTest {\n\n    @Test\n    public void testing() {\n        PowerMockito.mockStatic(StreamSupport.class);\n        PowerMockito.mockStatic(Collections.class);\n        PowerMockito.mockStatic(CampaignHandlerFactory.class);\n\n        //Stubbing\n        Mockito.when(StreamSupport.stream(Mockito.any(Spliterator.class), Mockito.anyBoolean()))\n                .thenReturn(Mockito.mock(Stream.class));\n        Mockito.when(Collections.singletonList(Mockito.any()))\n                .thenReturn(Mockito.mock(List.class));\n        Mockito.when(CampaignHandlerFactory.getCampaignHandler(Mockito.any()))\n                .thenReturn(Mockito.mock(ICampaignHandler.class));\n\n        //Here invoked method under test\n        new TestClazz().abc();\n\n        Stream&lt;PropertySource&lt;?&gt;&gt; stream = StreamSupport.stream(Mockito.mock(Spliterator.class), false);\n        List&lt;String&gt; sa = Collections.singletonList(&quot;sa&quot;);\n        ICampaignHandler campaignHandler = CampaignHandlerFactory.getCampaignHandler(ProcessorTypeEnum.RETRY_CAMPAIGN);\n\n        System.out.println();\n        System.out.println(&quot;============OUTSIDE ABC===========&quot;);\n        System.out.println(sa);\n        System.out.println(stream);\n        System.out.println(campaignHandler);\n    }\n}\n</code></pre>\n<p>I have to mock statics call so that it return as my expectation</p>\n<p>I followed steps:</p>\n<ol>\n<li>@RunWith(PowerMockRunner.class)</li>\n<li>@PrepareForTest({ Collections.class, StreamSupport.class, CampaignHandlerFactory.class})</li>\n<li>PowerMockito.mockStatic(clazz)</li>\n<li>Mockito.when(method call).thenReturn(my mock)</li>\n<li>Invoke method need to be tested</li>\n</ol>\n<p>The result:</p>\n<pre><code>============INSIDE ABC===========\n[sa]\njava.util.stream.ReferencePipeline$Head@dffa30b\nMock for ICampaignHandler, hashCode: 81269359\n\n============OUTSIDE ABC===========\nMock for List, hashCode: 628164202\nMock for Stream, hashCode: 1962826086\nMock for ICampaignHandler, hashCode: 81269359\n\nProcess finished with exit code 0\n</code></pre>\n<p>You guys can see 2/3 my stubbing setup does not work if the static calls are inside abc(), and it works if I copy static call outside abc() (copy to testing() directly). Only 1/3 stubbing works (inside and outside):</p>\n<pre><code>CampaignHandlerFactory.getCampaignHandler(param)   //this return as my expectiation\n</code></pre>\n<p>Hint: CampaignHandlerFactory is my implementation; Collections, StreamSupport are built-in classes. This is spring boot application</p>\n<p>Test dependencies tree:</p>\n<pre><code>mvn test dependency:tree -DskipTests=true\n\n[INFO] --- maven-dependency-plugin:3.1.2:tree (default-cli) @ ota-service ---\n[INFO] com.sirea.ota:ota-service:jar:0.0.1-SNAPSHOT\n[INFO] +- com.sirea.ota:ota-logging:jar:0.0.1-SNAPSHOT:compile\n[INFO] |  +- org.slf4j:slf4j-api:jar:1.7.30:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:2.3.8.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-aop:jar:5.2.12.RELEASE:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.6:compile\n[INFO] |  +- com.sirea:logFormattor:jar:1.0.9:compile\n[INFO] |  |  \\- org.codehaus.janino:janino:jar:3.1.2:compile\n[INFO] |  |     \\- org.codehaus.janino:commons-compiler:jar:3.1.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-web:jar:2.3.8.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-json:jar:2.3.8.RELEASE:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.11.4:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.11.4:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.11.4:compile\n[INFO] |  |  +- org.springframework:spring-web:jar:5.2.12.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-webmvc:jar:5.2.12.RELEASE:compile\n[INFO] |  |     \\- org.springframework:spring-expression:jar:5.2.12.RELEASE:compile\n[INFO] |  \\- org.springframework.boot:spring-boot-starter-jetty:jar:2.3.8.RELEASE:compile\n[INFO] |     +- jakarta.servlet:jakarta.servlet-api:jar:4.0.4:compile\n[INFO] |     +- jakarta.websocket:jakarta.websocket-api:jar:1.1.2:compile\n[INFO] |     +- org.eclipse.jetty:jetty-servlets:jar:9.4.35.v20201120:compile\n[INFO] |     |  +- org.eclipse.jetty:jetty-continuation:jar:9.4.35.v20201120:compile\n[INFO] |     |  +- org.eclipse.jetty:jetty-http:jar:9.4.35.v20201120:compile\n[INFO] |     |  +- org.eclipse.jetty:jetty-util:jar:9.4.35.v20201120:compile\n[INFO] |     |  \\- org.eclipse.jetty:jetty-io:jar:9.4.35.v20201120:compile\n[INFO] |     +- org.eclipse.jetty:jetty-webapp:jar:9.4.35.v20201120:compile\n[INFO] |     |  +- org.eclipse.jetty:jetty-xml:jar:9.4.35.v20201120:compile\n[INFO] |     |  \\- org.eclipse.jetty:jetty-servlet:jar:9.4.35.v20201120:compile\n[INFO] |     |     +- org.eclipse.jetty:jetty-security:jar:9.4.35.v20201120:compile\n[INFO] |     |     |  \\- org.eclipse.jetty:jetty-server:jar:9.4.35.v20201120:compile\n[INFO] |     |     \\- org.eclipse.jetty:jetty-util-ajax:jar:9.4.35.v20201120:compile\n[INFO] |     +- org.eclipse.jetty.websocket:websocket-server:jar:9.4.35.v20201120:compile\n[INFO] |     |  +- org.eclipse.jetty.websocket:websocket-common:jar:9.4.35.v20201120:compile\n[INFO] |     |  |  \\- org.eclipse.jetty.websocket:websocket-api:jar:9.4.35.v20201120:compile\n[INFO] |     |  +- org.eclipse.jetty.websocket:websocket-client:jar:9.4.35.v20201120:compile\n[INFO] |     |  |  \\- org.eclipse.jetty:jetty-client:jar:9.4.35.v20201120:compile\n[INFO] |     |  \\- org.eclipse.jetty.websocket:websocket-servlet:jar:9.4.35.v20201120:compile\n[INFO] |     +- org.eclipse.jetty.websocket:javax-websocket-server-impl:jar:9.4.35.v20201120:compile\n[INFO] |     |  +- org.eclipse.jetty:jetty-annotations:jar:9.4.35.v20201120:compile\n[INFO] |     |  |  +- org.eclipse.jetty:jetty-plus:jar:9.4.35.v20201120:compile\n[INFO] |     |  |  +- org.ow2.asm:asm:jar:9.0:compile\n[INFO] |     |  |  \\- org.ow2.asm:asm-commons:jar:9.0:compile\n[INFO] |     |  |     +- org.ow2.asm:asm-tree:jar:9.0:compile\n[INFO] |     |  |     \\- org.ow2.asm:asm-analysis:jar:9.0:compile\n[INFO] |     |  \\- org.eclipse.jetty.websocket:javax-websocket-client-impl:jar:9.4.35.v20201120:compile\n[INFO] |     \\- org.glassfish:jakarta.el:jar:3.0.3:compile\n[INFO] +- com.sirea.common:sirea-logging:jar:1.2.0:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-core:jar:2.11.4:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.11.4:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.11.4:compile\n[INFO] |  \\- ch.qos.logback:logback-classic:jar:1.2.3:compile\n[INFO] |     \\- ch.qos.logback:logback-core:jar:1.2.3:compile\n[INFO] +- com.sirea.ota:ota-common:jar:0.0.1-SNAPSHOT:compile\n[INFO] |  +- javax.validation:validation-api:jar:2.0.1.Final:compile\n[INFO] |  +- org.springframework.hateoas:spring-hateoas:jar:1.2.3:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:5.2.12.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-context:jar:5.2.12.RELEASE:compile\n[INFO] |  |  \\- org.springframework.plugin:spring-plugin-core:jar:2.0.0.RELEASE:compile\n[INFO] |  +- org.apache.commons:commons-lang3:jar:3.11:compile\n[INFO] |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile\n[INFO] |  |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\n[INFO] |  +- javax.xml.bind:jaxb-api:jar:2.3.1:compile\n[INFO] |  |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile\n[INFO] |  +- com.sirea.amp.partner.oemil:oemil-integration:jar:1.0.4-7:compile\n[INFO] |  |  +- com.nimbusds:nimbus-jose-jwt:jar:8.19:compile\n[INFO] |  |  |  \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:compile\n[INFO] |  |  \\- com.sirea.amp:amp-schema:jar:0.0.2-SNAPSHOT:compile\n[INFO] |  |     +- com.google.protobuf:protobuf-java:jar:3.14.0:compile\n[INFO] |  |     \\- com.google.protobuf:protobuf-java-util:jar:3.14.0:compile\n[INFO] |  |        \\- com.google.code.gson:gson:jar:2.8.6:compile\n[INFO] |  +- javax:javaee-api:jar:8.0.1:compile\n[INFO] |  |  \\- com.sun.mail:javax.mail:jar:1.6.2:compile\n[INFO] |  |     \\- javax.activation:activation:jar:1.1:compile\n[INFO] |  \\- org.bouncycastle:bcpkix-jdk15on:jar:1.68:compile\n[INFO] |     \\- org.bouncycastle:bcprov-jdk15on:jar:1.68:compile\n[INFO] +- com.sirea.ota:server-interface-api:jar:0.0.1-SNAPSHOT:compile\n[INFO] +- com.sirea.ota:ota-jpa:jar:0.0.1-SNAPSHOT:compile\n[INFO] |  +- org.flywaydb:flyway-core:jar:6.5.7:compile\n[INFO] |  \\- org.projectlombok:lombok:jar:1.18.16:compile\n[INFO] +- com.sirea.ota:ota-converter:jar:0.0.1-SNAPSHOT:compile\n[INFO] |  +- com.bazaarvoice.jolt:jolt-core:jar:0.1.1:compile\n[INFO] |  |  \\- javax.inject:javax.inject:jar:1:compile\n[INFO] |  \\- com.bazaarvoice.jolt:json-utils:jar:0.1.1:compile\n[INFO] +- com.sirea.ota:ota-rest-common:jar:0.0.1-SNAPSHOT:compile\n[INFO] |  +- com.google.guava:guava:jar:30.1-jre:compile\n[INFO] |  |  +- com.google.guava:failureaccess:jar:1.0.1:compile\n[INFO] |  |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\n[INFO] |  |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\n[INFO] |  |  +- org.checkerframework:checker-qual:jar:3.5.0:compile\n[INFO] |  |  +- com.google.errorprone:error_prone_annotations:jar:2.3.4:compile\n[INFO] |  |  \\- com.google.j2objc:j2objc-annotations:jar:1.3:compile\n[INFO] |  +- org.springframework.data:spring-data-commons:jar:2.3.6.RELEASE:compile\n[INFO] |  +- org.springframework.data:spring-data-redis:jar:2.3.6.RELEASE:compile\n[INFO] |  |  +- org.springframework.data:spring-data-keyvalue:jar:2.3.6.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-tx:jar:5.2.12.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-oxm:jar:5.2.12.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-context-support:jar:5.2.12.RELEASE:compile\n[INFO] |  +- io.lettuce:lettuce-core:jar:5.3.6.RELEASE:compile\n[INFO] |  |  +- io.netty:netty-common:jar:4.1.58.Final:compile\n[INFO] |  |  +- io.netty:netty-handler:jar:4.1.58.Final:compile\n[INFO] |  |  |  +- io.netty:netty-resolver:jar:4.1.58.Final:compile\n[INFO] |  |  |  +- io.netty:netty-buffer:jar:4.1.58.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-codec:jar:4.1.58.Final:compile\n[INFO] |  |  +- io.netty:netty-transport:jar:4.1.58.Final:compile\n[INFO] |  |  \\- io.projectreactor:reactor-core:jar:3.3.13.RELEASE:compile\n[INFO] |  |     \\- org.reactivestreams:reactive-streams:jar:1.0.3:compile\n[INFO] |  +- org.apache.commons:commons-pool2:jar:2.8.1:compile\n[INFO] |  \\- commons-io:commons-io:jar:2.8.0:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-amqp:jar:2.3.8.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:2.3.8.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:2.3.8.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.3.8.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.3.8.RELEASE:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.26:compile\n[INFO] |  +- org.springframework:spring-messaging:jar:5.2.12.RELEASE:compile\n[INFO] |  \\- org.springframework.amqp:spring-rabbit:jar:2.3.4:compile\n[INFO] |     +- org.springframework.amqp:spring-amqp:jar:2.3.4:compile\n[INFO] |     \\- com.rabbitmq:amqp-client:jar:5.9.0:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:2.3.8.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.3.8.RELEASE:compile\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:3.4.5:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:5.2.12.RELEASE:compile\n[INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:1.3.3:compile\n[INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:2.2.3:compile\n[INFO] |  +- org.hibernate:hibernate-core:jar:5.4.27.Final:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.2.1.Final:compile\n[INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  |  +- org.jboss:jandex:jar:2.1.3.Final:compile\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] |  |  +- org.dom4j:dom4j:jar:2.1.3:compile\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final:compile\n[INFO] |  |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.3:compile\n[INFO] |  |     +- org.glassfish.jaxb:txw2:jar:2.3.3:compile\n[INFO] |  |     +- com.sun.istack:istack-commons-runtime:jar:3.0.11:compile\n[INFO] |  |     \\- com.sun.activation:jakarta.activation:jar:1.2.2:runtime\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:2.3.6.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-orm:jar:5.2.12.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:5.2.12.RELEASE:compile\n[INFO] +- com.sirea.atsp:oemResponseExtension:jar:1.0.2:compile\n[INFO] +- redis.clients:jedis:jar:2.7.2:compile\n[INFO] +- com.sirea.atsp:redis-client-wrapper:jar:1.1.0-SNAPSHOT:compile\n[INFO] +- javax.el:javax.el-api:jar:3.0.0:test\n[INFO] +- ru.yandex.qatools.allure:allure-junit-adaptor:jar:1.5.4:test\n[INFO] |  +- ru.yandex.qatools.allure:allure-java-aspects:jar:1.5.4:test\n[INFO] |  |  +- ru.yandex.qatools.allure:allure-java-adaptor-api:jar:1.5.4:test\n[INFO] |  |  |  +- ru.yandex.qatools.allure:allure-java-annotations:jar:1.5.4:test\n[INFO] |  |  |  |  \\- ru.yandex.qatools.allure:allure-model:jar:1.5.4:test\n[INFO] |  |  |  |     +- org.jvnet.jaxb2_commons:jaxb2-basics-runtime:jar:0.9.3:test\n[INFO] |  |  |  |     \\- ru.qatools.commons:properties:jar:2.0.RC5:test\n[INFO] |  |  |  \\- org.apache.tika:tika-core:jar:1.7:test\n[INFO] |  |  \\- org.aspectj:aspectjrt:jar:1.9.6:test\n[INFO] |  \\- junit:junit:jar:4.13.1:test\n[INFO] +- org.powermock:powermock-module-junit4:jar:2.0.9:test\n[INFO] |  +- org.powermock:powermock-module-junit4-common:jar:2.0.9:test\n[INFO] |  |  +- org.powermock:powermock-reflect:jar:2.0.9:test\n[INFO] |  |  |  \\- net.bytebuddy:byte-buddy-agent:jar:1.10.19:test\n[INFO] |  |  \\- org.powermock:powermock-core:jar:2.0.9:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\n[INFO] +- org.javassist:javassist:jar:3.20.0-GA:compile\n[INFO] +- com.sirea.orchestrator:sirea-job-orchestrator:jar:1.0.2.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-webflux:jar:2.3.8.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:2.3.8.RELEASE:compile\n[INFO] |  |  |  \\- io.projectreactor.netty:reactor-netty:jar:0.9.16.RELEASE:compile\n[INFO] |  |  |     +- io.netty:netty-codec-http:jar:4.1.58.Final:compile\n[INFO] |  |  |     +- io.netty:netty-codec-http2:jar:4.1.58.Final:compile\n[INFO] |  |  |     +- io.netty:netty-handler-proxy:jar:4.1.58.Final:compile\n[INFO] |  |  |     |  \\- io.netty:netty-codec-socks:jar:4.1.58.Final:compile\n[INFO] |  |  |     \\- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.58.Final:compile\n[INFO] |  |  |        \\- io.netty:netty-transport-native-unix-common:jar:4.1.58.Final:compile\n[INFO] |  |  +- org.springframework:spring-webflux:jar:5.2.12.RELEASE:compile\n[INFO] |  |  \\- org.synchronoss.cloud:nio-multipart-parser:jar:1.1.0:compile\n[INFO] |  |     \\- org.synchronoss.cloud:nio-stream-storage:jar:1.1.3:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-actuator:jar:2.3.8.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:2.3.8.RELEASE:compile\n[INFO] |  |  |  \\- org.springframework.boot:spring-boot-actuator:jar:2.3.8.RELEASE:compile\n[INFO] |  |  \\- io.micrometer:micrometer-core:jar:1.5.10:compile\n[INFO] |  |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:compile\n[INFO] |  |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\n[INFO] |  +- org.springframework.kafka:spring-kafka:jar:2.5.11.RELEASE:compile\n[INFO] |  |  +- org.springframework.retry:spring-retry:jar:1.2.5.RELEASE:compile\n[INFO] |  |  \\- org.apache.kafka:kafka-clients:jar:2.5.1:compile\n[INFO] |  |     +- com.github.luben:zstd-jni:jar:1.4.4-7:compile\n[INFO] |  |     +- org.lz4:lz4-java:jar:1.7.1:compile\n[INFO] |  |     \\- org.xerial.snappy:snappy-java:jar:1.1.7.3:compile\n[INFO] |  +- mysql:mysql-connector-java:jar:8.0.23:runtime\n[INFO] |  \\- org.springframework.cloud:spring-cloud-starter-stream-kafka:jar:3.0.13.RELEASE:compile\n[INFO] |     \\- org.springframework.cloud:spring-cloud-stream-binder-kafka:jar:3.0.13.RELEASE:compile\n[INFO] |        +- org.springframework.cloud:spring-cloud-stream-binder-kafka-core:jar:3.0.13.RELEASE:compile\n[INFO] |        |  \\- org.springframework.integration:spring-integration-kafka:jar:3.3.1.RELEASE:compile\n[INFO] |        \\- org.springframework.cloud:spring-cloud-stream:jar:3.0.13.RELEASE:compile\n[INFO] |           +- org.springframework.boot:spring-boot-starter-validation:jar:2.3.8.RELEASE:compile\n[INFO] |           |  \\- org.hibernate.validator:hibernate-validator:jar:6.1.7.Final:compile\n[INFO] |           |     \\- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile\n[INFO] |           +- org.springframework.integration:spring-integration-core:jar:5.3.5.RELEASE:compile\n[INFO] |           +- org.springframework.integration:spring-integration-jmx:jar:5.3.5.RELEASE:compile\n[INFO] |           \\- org.springframework.cloud:spring-cloud-function-context:jar:3.0.14.RELEASE:compile\n[INFO] |              +- net.jodah:typetools:jar:0.6.2:compile\n[INFO] |              \\- org.springframework.cloud:spring-cloud-function-core:jar:3.0.14.RELEASE:compile\n[INFO] +- org.powermock:powermock-api-mockito2:jar:2.0.9:test\n[INFO] |  +- org.powermock:powermock-api-support:jar:2.0.9:test\n[INFO] |  \\- org.mockito:mockito-core:jar:3.3.3:test\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.3.8.RELEASE:test\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.3.8.RELEASE:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.3.8.RELEASE:test\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.5.0:compile\n[INFO] |  |  \\- net.minidev:json-smart:jar:2.3:compile\n[INFO] |  |     \\- net.minidev:accessors-smart:jar:1.2:compile\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.18.1:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.6.3:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.6.3:test\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  |  |  \\- org.junit.platform:junit-platform-commons:jar:1.6.3:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.6.3:test\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.6.3:test\n[INFO] |  +- org.junit.vintage:junit-vintage-engine:jar:5.6.3:test\n[INFO] |  |  +- org.apiguardian:apiguardian-api:jar:1.1.0:test\n[INFO] |  |  \\- org.junit.platform:junit-platform-engine:jar:1.6.3:test\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:3.3.3:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.0:test\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO] |  +- org.springframework:spring-core:jar:5.2.12.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.2.12.RELEASE:compile\n[INFO] |  +- org.springframework:spring-test:jar:5.2.12.RELEASE:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.7.0:test\n[INFO] +- org.awaitility:awaitility:jar:3.0.0:test\n[INFO] |  +- org.hamcrest:hamcrest-library:jar:2.2:test\n[INFO] |  \\- org.objenesis:objenesis:jar:2.5.1:test\n[INFO] \\- org.awaitility:awaitility-proxy:jar:3.0.0:test\n[INFO]    \\- net.bytebuddy:byte-buddy:jar:1.10.19:compile\n</code></pre>\n<p>Question: So what is the problem here? Why my stubbing does not work if the static calls are inside abc(), but only CampaignHandlerFactory works?</p>\n<p>Is there versions conflict?</p>\n"},{"tags":["java","swing","command-line","jframe"],"comments":[{"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"score":0,"creation_date":1584704538,"post_id":60773424,"comment_id":107524415,"body_markdown":"Post your class(es). This looks like a simple case of a missed semi-colon or some illegal use of a modifier. You might also need to define the classpath for the application if you have dependencies for it.","body":"Post your class(es). This looks like a simple case of a missed semi-colon or some illegal use of a modifier. You might also need to define the classpath for the application if you have dependencies for it."},{"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"score":0,"creation_date":1584704900,"post_id":60773424,"comment_id":107524581,"body_markdown":"try javac thegadgetshop.GadgetShop.java","body":"try javac thegadgetshop.GadgetShop.java"},{"owner":{"display_name":"user1773603"},"score":0,"creation_date":1584705147,"post_id":60773424,"comment_id":107524666,"body_markdown":"@AbhinavChauhan I&#39;ve also tried it by following [this](https://docs.oracle.com/javase/tutorial/uiswing/start/compile.html) . But not found helpful.","body":"@AbhinavChauhan I&#39;ve also tried it by following <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/start/compile.html\" rel=\"nofollow noreferrer\">this</a> . But not found helpful."},{"owner":{"display_name":"user1773603"},"score":0,"creation_date":1584705225,"post_id":60773424,"comment_id":107524705,"body_markdown":"@Jason will you elaborate more your comment makes more sense.","body":"@Jason will you elaborate more your comment makes more sense."},{"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"score":0,"creation_date":1584705677,"post_id":60773424,"comment_id":107524878,"body_markdown":"Can you post the project on GitHub?","body":"Can you post the project on GitHub?"},{"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"score":0,"creation_date":1584705892,"post_id":60773424,"comment_id":107524976,"body_markdown":"when you compile make sure you&#39;re in the folder when the java files are placed. also as jason said these can be actual error in the source","body":"when you compile make sure you&#39;re in the folder when the java files are placed. also as jason said these can be actual error in the source"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1584734387,"post_id":60773424,"comment_id":107537506,"body_markdown":"You probably need to compile Gadget.java first. You could also do something like &quot;javac *.java&quot;","body":"You probably need to compile Gadget.java first. You could also do something like &quot;javac *.java&quot;"}],"answers":[{"tags":[],"owner":{"account_id":16621987,"reputation":217,"user_id":12012015,"display_name":"ADSquared"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584733516,"creation_date":1584733516,"answer_id":60780699,"question_id":60773424,"body_markdown":"As others have pointed out, you need to navigate to the folder where your project is to run it.\r\n\r\nSee [this post][1], I think it will answer your question.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16137713/how-do-i-run-a-java-program-from-the-command-line-on-windows","title":"Execute Java Swing GUI application from command-line","body":"<p>As others have pointed out, you need to navigate to the folder where your project is to run it.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/16137713/how-do-i-run-a-java-program-from-the-command-line-on-windows\">this post</a>, I think it will answer your question.</p>\n"}],"owner":{"display_name":"user1773603"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655595899,"creation_date":1584704367,"question_id":60773424,"body_markdown":"I have Java files structure like:\r\n\r\n    Gadget.java\r\n    GadgetShop.java\r\n    Mobile.java\r\n    MP3Player.java\r\n`GadgetShop.java` file contains main method\r\n\r\n    package thegadgetshop;\r\n\r\n    import java.awt.Font;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import java.util.*;\r\n\r\n    public class GadgetShop extends JFrame implements ActionListener \r\n    {\r\n    ....\r\nI used this command to run the file:\r\n\r\n    javac GadgetShop.java\r\nAnd I got these errors:\r\n\r\n&gt; GadgetShop.java:44: error: cannot find symbol &lt;br /&gt;\r\n&gt;    private ArrayList&lt;Gadget&gt; listGadgets;&lt;br /&gt;\r\n&gt;                      ^&lt;br /&gt;\r\n&gt;  symbol:   class Gadget&lt;br /&gt;\r\n&gt;  location: class GadgetShop&lt;br /&gt;\r\n&gt;GadgetShop.java:332: error: cannot find symbol&lt;br /&gt;\r\n&gt;    private Gadget getGadget(int displayNumber) {&lt;br /&gt;\r\n&gt;            ^&lt;br /&gt;\r\n&gt;  symbol:   class Gadget&lt;br /&gt;\r\n&gt;  location: class GadgetShop&lt;br /&gt;\r\n&gt;GadgetShop.java:265: error: cannot find symbol&lt;br /&gt;\r\n&gt;            Mobile mobile = new Mobile(model, size, dPrice, iWeight, iCredit);&lt;br /&gt;\r\n&gt;            ^&lt;br /&gt;\r\n&gt;  symbol:   class Mobile&lt;br /&gt;\r\n&gt;  location: class GadgetShop&lt;br /&gt;\r\n&gt;GadgetShop.java:265: error: cannot find symbol&lt;br /&gt;\r\n&gt;            Mobile mobile = new Mobile(model, size, dPrice, iWeight, iCredit);&lt;br /&gt;\r\n&gt;                                ^&lt;br /&gt;\r\n&gt;  symbol:   class Mobile&lt;br /&gt;\r\n&gt;  location: class GadgetShop&lt;br /&gt;\r\n&gt;GadgetShop.java:297: error: cannot find symbol&lt;br /&gt;\r\n            MP3Player mp3Payer = new MP3Player(model, size, dPrice, iWeight, iMemory);&lt;br /&gt;\r\n            ^&lt;br /&gt;\r\n  symbol:   class MP3Player&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:297: error: cannot find symbol&lt;br /&gt;\r\n            MP3Player mp3Payer = new MP3Player(model, size, dPrice, iWeight, iMemory);&lt;br /&gt;\r\n                                     ^&lt;br /&gt;\r\n  symbol:   class MP3Player&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:333: error: cannot find symbol&lt;br /&gt;\r\n        Gadget gadget = null;&lt;br /&gt;\r\n        ^&lt;br /&gt;\r\n  symbol:   class Gadget&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:363: error: cannot find symbol&lt;br /&gt;\r\n            Gadget gadget = getGadget(iDisplayNumber);&lt;br /&gt;\r\n            ^&lt;br /&gt;\r\n  symbol:   class Gadget&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:375: error: cannot find symbol&lt;br /&gt;\r\n                    if (gadget instanceof Mobile) {&lt;br /&gt;\r\n                                          ^&lt;br /&gt;\r\n  symbol:   class Mobile&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:376: error: cannot find symbol&lt;br /&gt;\r\n                        Mobile mobile = (Mobile) gadget;&lt;br /&gt;\r\n                        ^&lt;br /&gt;\r\n  symbol:   class Mobile&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:376: error: cannot find symbol&lt;br /&gt;\r\n                        Mobile mobile = (Mobile) gadget;&lt;br /&gt;\r\n                                         ^&lt;br /&gt;\r\n  symbol:   class Mobile&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:382: error: cannot find symbol&lt;br /&gt;\r\n                    if (gadget instanceof MP3Player) {&lt;br /&gt;\r\n                                          ^&lt;br /&gt;\r\n  symbol:   class MP3Player&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:383: error: cannot find symbol&lt;br /&gt;\r\n                        MP3Player mP3Player = (MP3Player) gadget;&lt;br /&gt;\r\n                        ^&lt;br /&gt;\r\n  symbol:   class MP3Player&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:383: error: cannot find symbol&lt;br /&gt;\r\n                        MP3Player mP3Player = (MP3Player) gadget;&lt;br /&gt;\r\n                                               ^&lt;br /&gt;\r\n  symbol:   class MP3Player&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:419: error: cannot find symbol&lt;br /&gt;\r\n            Gadget gadget = getGadget(iDisplayNumber);&lt;br /&gt;\r\n            ^&lt;br /&gt;\r\n  symbol:   class Gadget&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:423: error: cannot find symbol&lt;br /&gt;\r\n                if(gadget instanceof Mobile) {&lt;br /&gt;\r\n                                     ^&lt;br /&gt;\r\n  symbol:   class Mobile&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:425: error: cannot find symbol&lt;br /&gt;\r\n                    Mobile mobile = (Mobile) gadget;&lt;br /&gt;\r\n                    ^&lt;br /&gt;\r\n  symbol:   class Mobile&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:425: error: cannot find symbol&lt;br /&gt;\r\n                    Mobile mobile = (Mobile) gadget;&lt;br /&gt;\r\n                                     ^&lt;br /&gt;\r\n  symbol:   class Mobile&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:466: error: cannot find symbol&lt;br /&gt;\r\n            Gadget gadget = getGadget(iDisplayNumber);&lt;br /&gt;\r\n            ^&lt;br /&gt;\r\n  symbol:   class Gadget&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:470: error: cannot find symbol&lt;br /&gt;\r\n                if(gadget instanceof MP3Player) {&lt;br /&gt;\r\n                                     ^&lt;br /&gt;\r\n  symbol:   class MP3Player&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:472: error: cannot find symbol&lt;br /&gt;\r\n                    MP3Player mP3Player = (MP3Player) gadget;&lt;br /&gt;\r\n                    ^&lt;br /&gt;\r\n  symbol:   class MP3Player&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\nGadgetShop.java:472: error: cannot find symbol&lt;br /&gt;\r\n                    MP3Player mP3Player = (MP3Player) gadget;&lt;br /&gt;\r\n                                           ^&lt;br /&gt;\r\n  symbol:   class MP3Player&lt;br /&gt;\r\n  location: class GadgetShop&lt;br /&gt;\r\n&gt;Note: GadgetShop.java uses unchecked or unsafe operations.&lt;br /&gt;\r\n&gt;Note: Recompile with -Xlint:unchecked for details.&lt;br /&gt;\r\n&gt;22 errors&lt;br /&gt;\r\n\r\nI don&#39;t know why its not compiling and running from CMD while its running fine in Netbeans. I really need to run it from CMD.\r\n\r\nI also used this command but got same error:\r\n\r\n    javac -Xlint GadgetShop.java\r\n\r\nEdit 1\r\n---\r\n\r\nI have this files structure in Netbeans:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd files and classes structure in folder directory:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/Zxppi.jpg\r\n  [2]: https://i.stack.imgur.com/V9CKN.jpg","title":"Execute Java Swing GUI application from command-line","body":"<p>I have Java files structure like:</p>\n<pre><code>Gadget.java\nGadgetShop.java\nMobile.java\nMP3Player.java\n</code></pre>\n<p><code>GadgetShop.java</code> file contains main method</p>\n<pre><code>package thegadgetshop;\n\nimport java.awt.Font;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.util.*;\n\npublic class GadgetShop extends JFrame implements ActionListener \n{\n....\n</code></pre>\n<p>I used this command to run the file:</p>\n<pre><code>javac GadgetShop.java\n</code></pre>\n<p>And I got these errors:</p>\n<blockquote>\n<p>GadgetShop.java:44: error: cannot find symbol <br />\nprivate ArrayList listGadgets;<br />\n^<br />\nsymbol:   class Gadget<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:332: error: cannot find symbol<br />\nprivate Gadget getGadget(int displayNumber) {<br />\n^<br />\nsymbol:   class Gadget<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:265: error: cannot find symbol<br />\nMobile mobile = new Mobile(model, size, dPrice, iWeight, iCredit);<br />\n^<br />\nsymbol:   class Mobile<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:265: error: cannot find symbol<br />\nMobile mobile = new Mobile(model, size, dPrice, iWeight, iCredit);<br />\n^<br />\nsymbol:   class Mobile<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:297: error: cannot find symbol<br />\nMP3Player mp3Payer = new MP3Player(model, size, dPrice, iWeight, iMemory);<br />\n^<br />\nsymbol:   class MP3Player<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:297: error: cannot find symbol<br />\nMP3Player mp3Payer = new MP3Player(model, size, dPrice, iWeight, iMemory);<br />\n^<br />\nsymbol:   class MP3Player<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:333: error: cannot find symbol<br />\nGadget gadget = null;<br />\n^<br />\nsymbol:   class Gadget<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:363: error: cannot find symbol<br />\nGadget gadget = getGadget(iDisplayNumber);<br />\n^<br />\nsymbol:   class Gadget<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:375: error: cannot find symbol<br />\nif (gadget instanceof Mobile) {<br />\n^<br />\nsymbol:   class Mobile<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:376: error: cannot find symbol<br />\nMobile mobile = (Mobile) gadget;<br />\n^<br />\nsymbol:   class Mobile<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:376: error: cannot find symbol<br />\nMobile mobile = (Mobile) gadget;<br />\n^<br />\nsymbol:   class Mobile<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:382: error: cannot find symbol<br />\nif (gadget instanceof MP3Player) {<br />\n^<br />\nsymbol:   class MP3Player<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:383: error: cannot find symbol<br />\nMP3Player mP3Player = (MP3Player) gadget;<br />\n^<br />\nsymbol:   class MP3Player<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:383: error: cannot find symbol<br />\nMP3Player mP3Player = (MP3Player) gadget;<br />\n^<br />\nsymbol:   class MP3Player<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:419: error: cannot find symbol<br />\nGadget gadget = getGadget(iDisplayNumber);<br />\n^<br />\nsymbol:   class Gadget<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:423: error: cannot find symbol<br />\nif(gadget instanceof Mobile) {<br />\n^<br />\nsymbol:   class Mobile<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:425: error: cannot find symbol<br />\nMobile mobile = (Mobile) gadget;<br />\n^<br />\nsymbol:   class Mobile<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:425: error: cannot find symbol<br />\nMobile mobile = (Mobile) gadget;<br />\n^<br />\nsymbol:   class Mobile<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:466: error: cannot find symbol<br />\nGadget gadget = getGadget(iDisplayNumber);<br />\n^<br />\nsymbol:   class Gadget<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:470: error: cannot find symbol<br />\nif(gadget instanceof MP3Player) {<br />\n^<br />\nsymbol:   class MP3Player<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:472: error: cannot find symbol<br />\nMP3Player mP3Player = (MP3Player) gadget;<br />\n^<br />\nsymbol:   class MP3Player<br />\nlocation: class GadgetShop<br />\nGadgetShop.java:472: error: cannot find symbol<br />\nMP3Player mP3Player = (MP3Player) gadget;<br />\n^<br />\nsymbol:   class MP3Player<br />\nlocation: class GadgetShop<br />\nNote: GadgetShop.java uses unchecked or unsafe operations.<br />\nNote: Recompile with -Xlint:unchecked for details.<br />\n22 errors<br /></p>\n</blockquote>\n<p>I don't know why its not compiling and running from CMD while its running fine in Netbeans. I really need to run it from CMD.</p>\n<p>I also used this command but got same error:</p>\n<pre><code>javac -Xlint GadgetShop.java\n</code></pre>\n<h2>Edit 1</h2>\n<p>I have this files structure in Netbeans:</p>\n<p><a href=\"https://i.stack.imgur.com/Zxppi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zxppi.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And files and classes structure in folder directory:</p>\n<p><a href=\"https://i.stack.imgur.com/V9CKN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V9CKN.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":27620,"reputation":8746,"user_id":73046,"accept_rate":55,"display_name":"James Moore"},"score":0,"creation_date":1604972365,"post_id":29861306,"comment_id":114504984,"body_markdown":"What you&#39;re missing is that it&#39;s not a programming problem, it&#39;s a math problem.  It doesn&#39;t really have any reasonable place in a set of programming questions.","body":"What you&#39;re missing is that it&#39;s not a programming problem, it&#39;s a math problem.  It doesn&#39;t really have any reasonable place in a set of programming questions."}],"answers":[{"tags":[],"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1429939527,"creation_date":1429939527,"answer_id":29861358,"question_id":29861306,"body_markdown":"This problem has a mathematical solution, based on the fact that the [sum of consecutive integers from 1 to n is equal to `n(n+1)/2`][1]. \r\n\r\nUsing this formula we can calculate the sum from `1 to N+1`.  Then with `O(N)` time complexity we calculate the actual sum of all elements in the array.\r\n\r\nThe difference between the full and actual totals will yield the value of the missing element.\r\n\r\nSpace complexity is `O(1)`.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/1_%2B_2_%2B_3_%2B_4_%2B_%E2%8B%AF","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>This problem has a mathematical solution, based on the fact that the <a href=\"http://en.wikipedia.org/wiki/1_%2B_2_%2B_3_%2B_4_%2B_%E2%8B%AF\" rel=\"noreferrer\">sum of consecutive integers from 1 to n is equal to <code>n(n+1)/2</code></a>. </p>\n\n<p>Using this formula we can calculate the sum from <code>1 to N+1</code>.  Then with <code>O(N)</code> time complexity we calculate the actual sum of all elements in the array.</p>\n\n<p>The difference between the full and actual totals will yield the value of the missing element.</p>\n\n<p>Space complexity is <code>O(1)</code>.</p>\n"},{"tags":[],"owner":{"account_id":117378,"reputation":517,"user_id":307413,"display_name":"presto8"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1462466168,"creation_date":1462466168,"answer_id":37055761,"question_id":29861306,"body_markdown":"The problem statement clearly specifies that the array will consist of &quot;N different integers&quot;, thus N must be at least 2. N=0 and N=1 simply do not make sense if we write them in English, e.g. &quot;An array consisting of 0 different integers...&quot;.\r\n\r\n&gt; A zero-indexed array A consisting of N different integers is given. The array contains integers in the range [1..(N + 1)], which means that exactly one element is missing.\r\n\r\nWith these initial conditions and stated assumptions, tests like &quot;single element&quot;, &quot;empty list&quot;, etc., are completely inappropriate.\r\n\r\nProper production code would most likely have to test for invalid conditions, but that wasn&#39;t a stated goal of the challenge.","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>The problem statement clearly specifies that the array will consist of \"N different integers\", thus N must be at least 2. N=0 and N=1 simply do not make sense if we write them in English, e.g. \"An array consisting of 0 different integers...\".</p>\n\n<blockquote>\n  <p>A zero-indexed array A consisting of N different integers is given. The array contains integers in the range [1..(N + 1)], which means that exactly one element is missing.</p>\n</blockquote>\n\n<p>With these initial conditions and stated assumptions, tests like \"single element\", \"empty list\", etc., are completely inappropriate.</p>\n\n<p>Proper production code would most likely have to test for invalid conditions, but that wasn't a stated goal of the challenge.</p>\n"},{"tags":[],"owner":{"account_id":4788367,"reputation":145,"user_id":3868203,"display_name":"Jatin C"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1607787332,"creation_date":1497169247,"answer_id":44481774,"question_id":29861306,"body_markdown":"I tried this solution in C# and scored 100% out of 100% \r\n\r\nhttps://codility.com/programmers/lessons/3-time_complexity/perm_missing_elem/\r\n    \r\n    using System;\r\n    class Solution\r\n    {\r\n        public int solution(int[] A)\r\n        {\r\n            long sum = 0, sum1 = 0;\r\n            int i;\r\n\r\n            for (i = 0; i &lt; A.Length; i++)\r\n            {\r\n                sum += Convert.ToInt64(i + 1);\r\n                sum1 += Convert.ToInt64(A[i]);\r\n            }\r\n            sum += Convert.ToInt64(i+1);\r\n\r\n            return Convert.ToInt32(sum - sum1);\r\n        }\r\n    }\r\n","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>I tried this solution in C# and scored 100% out of 100%</p>\n<p><a href=\"https://codility.com/programmers/lessons/3-time_complexity/perm_missing_elem/\" rel=\"nofollow noreferrer\">https://codility.com/programmers/lessons/3-time_complexity/perm_missing_elem/</a></p>\n<pre><code>using System;\nclass Solution\n{\n    public int solution(int[] A)\n    {\n        long sum = 0, sum1 = 0;\n        int i;\n\n        for (i = 0; i &lt; A.Length; i++)\n        {\n            sum += Convert.ToInt64(i + 1);\n            sum1 += Convert.ToInt64(A[i]);\n        }\n        sum += Convert.ToInt64(i+1);\n\n        return Convert.ToInt32(sum - sum1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1019035,"reputation":16588,"user_id":1029944,"accept_rate":97,"display_name":"BuZz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505302487,"creation_date":1505302487,"answer_id":46196500,"question_id":29861306,"body_markdown":"Another 100% solution:\r\n\r\nThere is actually not even a need to use 64-bit integers to avoid the overflows that a couple of tests try to trigger (the ones with array size of 100000 at the time of writing). And you can get away with only one sum variable. The last line avoids overflows further by implementing n(n+1)/2 differently so that the division by two occurs &quot;early&quot;:\r\n\r\nC#:\r\n&lt;code&gt;\r\nclass Solution {\r\n    public int solution(int[] A) {\r\n        var sum = 0;\r\n        for(int i = 0; i &lt; A.Length; i++)\r\n            sum += A[i];   \r\n        return A.Length % 2 == 0 ? -sum + (A.Length/2 + 1) * (A.Length+1)\r\n         : -sum + (A.Length/2 + 1) * (A.Length+2);\r\n    }\r\n}\r\n&lt;/code&gt;","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>Another 100% solution:</p>\n\n<p>There is actually not even a need to use 64-bit integers to avoid the overflows that a couple of tests try to trigger (the ones with array size of 100000 at the time of writing). And you can get away with only one sum variable. The last line avoids overflows further by implementing n(n+1)/2 differently so that the division by two occurs \"early\":</p>\n\n<p>C#:\n<code>\nclass Solution {\n    public int solution(int[] A) {\n        var sum = 0;\n        for(int i = 0; i &lt; A.Length; i++)\n            sum += A[i];<br>\n        return A.Length % 2 == 0 ? -sum + (A.Length/2 + 1) * (A.Length+1)\n         : -sum + (A.Length/2 + 1) * (A.Length+2);\n    }\n}\n</code></p>\n"},{"tags":[],"owner":{"account_id":9668806,"reputation":67,"user_id":7174493,"display_name":"Yuvaraj Ram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517907891,"creation_date":1517907891,"answer_id":48639134,"question_id":29861306,"body_markdown":"    private static int getMissingElementInArrayNew(int[] A) throws IOException {\r\n    \t\tdouble n =  A.length + 1;\r\n    \t\tdouble totalSum = (double) ((n * (n + 1)) / 2);\r\n    \r\n    \t\tfor (int i = 0; i &lt; A.length; i++) {\r\n    \t\t\ttotalSum -= A[i];\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn (int) (totalSum == 0 ? A.length + 1 : totalSum); \r\n    \t}","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<pre><code>private static int getMissingElementInArrayNew(int[] A) throws IOException {\n        double n =  A.length + 1;\n        double totalSum = (double) ((n * (n + 1)) / 2);\n\n        for (int i = 0; i &lt; A.length; i++) {\n            totalSum -= A[i];\n        }\n\n        return (int) (totalSum == 0 ? A.length + 1 : totalSum); \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1401078,"reputation":19,"user_id":1329854,"display_name":"unomonteiro"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1536200915,"creation_date":1536199963,"answer_id":52195554,"question_id":29861306,"body_markdown":"While I value the math solution it&#39;s not that easy to understand.  \r\nSo here&#39;s a simple solution with 100% score on codility.\r\n\r\n    import java.util.*;\r\n\r\n    public int solution(int[] A) {\r\n        int missing = 1; // missing number 1 already\r\n        Arrays.sort(A);\r\n\r\n        // check numbers one by one\r\n        for (int i = 0; i &lt; A.length; i++) {\r\n            if (A[i] == missing) {    // we found the missing number !\r\n                missing = A[i]+1;    // add +1 and keep checking\r\n            }\r\n        }\r\n        return missing;\r\n    }\r\n","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>While I value the math solution it's not that easy to understand.<br>\nSo here's a simple solution with 100% score on codility.</p>\n\n<pre><code>import java.util.*;\n\npublic int solution(int[] A) {\n    int missing = 1; // missing number 1 already\n    Arrays.sort(A);\n\n    // check numbers one by one\n    for (int i = 0; i &lt; A.length; i++) {\n        if (A[i] == missing) {    // we found the missing number !\n            missing = A[i]+1;    // add +1 and keep checking\n        }\n    }\n    return missing;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10468919,"reputation":41,"user_id":7717455,"display_name":"Manuel Mosso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545858643,"creation_date":1545858643,"answer_id":53937197,"question_id":29861306,"body_markdown":"**OBJECTIVE-C SOLUTION O(N) - SET Approach** \r\n\r\n**Results given by Codility** \r\n\r\nTask Score: 100%  \r\nCorrectness: 100%  \r\nPerformance: 100%\r\n\r\n**Time Complexity**\r\n\r\nThe worst case time complexity is O(N) or O(N * log(N))\r\n\r\n[Xcode Solution Here][1]\r\n\r\n[1]:https://github.com/jmanuelmosso/CSWarmingInterview/blob/master/CSWarmingInterview/CodilityChallenges/TimeComplexity/PermMissingElem.m\r\n\r\n\r\n    +(int)SETSolution:(NSMutableArray*)array {\r\n    \r\n        /******** Algorithm Explanation  ********/\r\n        \r\n        // FACTS\r\n        //      Use of a NSSet to verify if the missing element exist or not.\r\n        //      Edge case: when the array is empty [], we should return 1\r\n    \r\n        // STEP 1\r\n        //     validate the edge case\r\n    \r\n        // STEP 2\r\n        //      Generate a NSSet with the array elements in order to search an element faster\r\n        \r\n        // STEP 3\r\n        //      Use a for loop and find the current &#39;i&#39; in the NSSset\r\n        //      If an elements doesn&#39;t exist in the NSSet, that means it&#39;s the missing element.\r\n    \r\n        int n = (int)[array count];\r\n        int missing = 0;\r\n        // STEP 1\r\n        if (n == 0) {\r\n            missing = 1;\r\n            return missing;\r\n        }\r\n        else {\r\n            // STEP 2\r\n            NSSet *elements = [NSSet setWithArray:array];\r\n            \r\n            // STEP 3\r\n            for (int i = 1; i &lt;= (n+1); i++) {\r\n                // O(N) or O(N * log(N)) depending of  required iterations\r\n                if (![elements containsObject:[NSNumber numberWithInt:i]]) {\r\n                    missing = i;\r\n                    return missing;\r\n                }\r\n            }\r\n            return  missing;\r\n        }\r\n    }","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p><strong>OBJECTIVE-C SOLUTION O(N) - SET Approach</strong> </p>\n\n<p><strong>Results given by Codility</strong> </p>\n\n<p>Task Score: 100%<br>\nCorrectness: 100%<br>\nPerformance: 100%</p>\n\n<p><strong>Time Complexity</strong></p>\n\n<p>The worst case time complexity is O(N) or O(N * log(N))</p>\n\n<p><a href=\"https://github.com/jmanuelmosso/CSWarmingInterview/blob/master/CSWarmingInterview/CodilityChallenges/TimeComplexity/PermMissingElem.m\" rel=\"nofollow noreferrer\">Xcode Solution Here</a></p>\n\n<pre><code>+(int)SETSolution:(NSMutableArray*)array {\n\n    /******** Algorithm Explanation  ********/\n\n    // FACTS\n    //      Use of a NSSet to verify if the missing element exist or not.\n    //      Edge case: when the array is empty [], we should return 1\n\n    // STEP 1\n    //     validate the edge case\n\n    // STEP 2\n    //      Generate a NSSet with the array elements in order to search an element faster\n\n    // STEP 3\n    //      Use a for loop and find the current 'i' in the NSSset\n    //      If an elements doesn't exist in the NSSet, that means it's the missing element.\n\n    int n = (int)[array count];\n    int missing = 0;\n    // STEP 1\n    if (n == 0) {\n        missing = 1;\n        return missing;\n    }\n    else {\n        // STEP 2\n        NSSet *elements = [NSSet setWithArray:array];\n\n        // STEP 3\n        for (int i = 1; i &lt;= (n+1); i++) {\n            // O(N) or O(N * log(N)) depending of  required iterations\n            if (![elements containsObject:[NSNumber numberWithInt:i]]) {\n                missing = i;\n                return missing;\n            }\n        }\n        return  missing;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10468919,"reputation":41,"user_id":7717455,"display_name":"Manuel Mosso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545859061,"creation_date":1545859061,"answer_id":53937262,"question_id":29861306,"body_markdown":"**OBJECTIVE-C SOLUTION O(N) - XOR Approach** \r\n\r\n**Results given by Codility** \r\n\r\nTask Score: 100%  \r\nCorrectness: 100%  \r\nPerformance: 100%\r\n\r\n**Time Complexity**\r\n\r\nThe worst case time complexity is O(N) or O(N * log(N))\r\n\r\n[Xcode Solution Here][1]\r\n\r\n[1]:https://github.com/jmanuelmosso/CSWarmingInterview/blob/master/CSWarmingInterview/CodilityChallenges/TimeComplexity/PermMissingElem.m\r\n\r\n    +(int)XORSolution:(NSMutableArray*)array {\r\n        \r\n        /******** Algorithm Explanation  ********/\r\n        \r\n        // FACTS\r\n        //      Use of XOR operator\r\n        //      Edge case: when the array is empty [], we should return 1\r\n        //      XOR of a number with itself is 0.\r\n        //      XOR of a number with 0 is number itself.\r\n        \r\n        \r\n        // STEP 1\r\n        //       XOR all the array elements, let the result of XOR be X1.\r\n        // STEP 2\r\n        //       XOR all numbers from 1 to n, let XOR be X2.\r\n        // STEP 3\r\n        //       XOR of X1 and X2 gives the missing number.\r\n        \r\n        int n = (int)[array count];\r\n        \r\n        // Edge Case\r\n        if(n==0){\r\n            return 1;\r\n        }\r\n        else {\r\n            \r\n            // STEP 1\r\n            /* XOR of all the elements in array */\r\n            int x1 = 0;\r\n            for (int i=0; i&lt;n; i++){\r\n                x1 = x1 ^ [[array objectAtIndex:i]intValue];\r\n            }\r\n            \r\n            // STEP 2\r\n            /* XOR of all the elements from 1 to n+1 */\r\n            int x2 = 0;\r\n            for (int i=1; i&lt;=(n+1); i++){\r\n                x2 = x2 ^ i;\r\n            }\r\n            \r\n            // STEP 3\r\n            int missingElement = x1 ^ x2;\r\n            return missingElement;\r\n        }\r\n    }","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p><strong>OBJECTIVE-C SOLUTION O(N) - XOR Approach</strong> </p>\n\n<p><strong>Results given by Codility</strong> </p>\n\n<p>Task Score: 100%<br>\nCorrectness: 100%<br>\nPerformance: 100%</p>\n\n<p><strong>Time Complexity</strong></p>\n\n<p>The worst case time complexity is O(N) or O(N * log(N))</p>\n\n<p><a href=\"https://github.com/jmanuelmosso/CSWarmingInterview/blob/master/CSWarmingInterview/CodilityChallenges/TimeComplexity/PermMissingElem.m\" rel=\"nofollow noreferrer\">Xcode Solution Here</a></p>\n\n<pre><code>+(int)XORSolution:(NSMutableArray*)array {\n\n    /******** Algorithm Explanation  ********/\n\n    // FACTS\n    //      Use of XOR operator\n    //      Edge case: when the array is empty [], we should return 1\n    //      XOR of a number with itself is 0.\n    //      XOR of a number with 0 is number itself.\n\n\n    // STEP 1\n    //       XOR all the array elements, let the result of XOR be X1.\n    // STEP 2\n    //       XOR all numbers from 1 to n, let XOR be X2.\n    // STEP 3\n    //       XOR of X1 and X2 gives the missing number.\n\n    int n = (int)[array count];\n\n    // Edge Case\n    if(n==0){\n        return 1;\n    }\n    else {\n\n        // STEP 1\n        /* XOR of all the elements in array */\n        int x1 = 0;\n        for (int i=0; i&lt;n; i++){\n            x1 = x1 ^ [[array objectAtIndex:i]intValue];\n        }\n\n        // STEP 2\n        /* XOR of all the elements from 1 to n+1 */\n        int x2 = 0;\n        for (int i=1; i&lt;=(n+1); i++){\n            x2 = x2 ^ i;\n        }\n\n        // STEP 3\n        int missingElement = x1 ^ x2;\n        return missingElement;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6931130,"reputation":796,"user_id":5320591,"display_name":"RobyB"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1588171102,"creation_date":1550267910,"answer_id":54717605,"question_id":29861306,"body_markdown":"This problem is part of the Lessons of Time Complexity.\r\n\r\n[https://codility.com/media/train/1-TimeComplexity.pdf][1]\r\n\r\n\r\n  [1]: https://codility.com/media/train/1-TimeComplexity.pdf\r\n\r\nIn fact at the end there is the explanation on how to compute the sum of the elements in an array, without do any loop.\r\n\r\nThis is the final solution in Python3:\r\n\r\n    \r\n    def solution(A):\r\n\r\n        n = len(A)+1\r\n        result = n * (n + 1)//2\r\n\r\n        return result - sum(A)","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>This problem is part of the Lessons of Time Complexity.</p>\n\n<p><a href=\"https://codility.com/media/train/1-TimeComplexity.pdf\" rel=\"noreferrer\">https://codility.com/media/train/1-TimeComplexity.pdf</a></p>\n\n<p>In fact at the end there is the explanation on how to compute the sum of the elements in an array, without do any loop.</p>\n\n<p>This is the final solution in Python3:</p>\n\n<pre><code>def solution(A):\n\n    n = len(A)+1\n    result = n * (n + 1)//2\n\n    return result - sum(A)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13478462,"reputation":2610,"user_id":9724551,"display_name":"Josep Vidal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557340842,"creation_date":1557340842,"answer_id":56047135,"question_id":29861306,"body_markdown":"Here is the solution in PHP using the *sum of consecutive integers from 1 to n is equal to n(n+1)/2.*\r\n\r\n    function solution($A) {\r\n        \r\n        $size = count($A) + 1;\r\n        $total = ($size * ($size + 1)) / 2;\r\n        \r\n        return  $total - array_sum($A);\r\n        \r\n    }","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>Here is the solution in PHP using the <em>sum of consecutive integers from 1 to n is equal to n(n+1)/2.</em></p>\n\n<pre><code>function solution($A) {\n\n    $size = count($A) + 1;\n    $total = ($size * ($size + 1)) / 2;\n\n    return  $total - array_sum($A);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8654283,"reputation":76,"user_id":6479045,"display_name":"jpcarreira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557407993,"creation_date":1557407993,"answer_id":56060368,"question_id":29861306,"body_markdown":"100% solution in `Swift 4`:\r\n\r\n    public func solution(_ A : inout [Int]) -&gt; Int {\r\n        // first we simply calculate the sum on the given array\r\n        var sum = 0\r\n        for element in A {\r\n            sum += element\r\n        }\r\n    \r\n        // as the sum of consecutive ints is given by n(n+1)/2,\r\n        // we calculate the expected sum from 1 to n + 1\r\n        // (which is ((n+1)(n+2))/2) and substract the actual sum\r\n        // to get the missing element\r\n        return ((A.count + 1) * (A.count + 2) / 2) - sum\r\n    }","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>100% solution in <code>Swift 4</code>:</p>\n\n<pre><code>public func solution(_ A : inout [Int]) -&gt; Int {\n    // first we simply calculate the sum on the given array\n    var sum = 0\n    for element in A {\n        sum += element\n    }\n\n    // as the sum of consecutive ints is given by n(n+1)/2,\n    // we calculate the expected sum from 1 to n + 1\n    // (which is ((n+1)(n+2))/2) and substract the actual sum\n    // to get the missing element\n    return ((A.count + 1) * (A.count + 2) / 2) - sum\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16286466,"reputation":1,"user_id":11761128,"display_name":"Mario A Alvarado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562693991,"creation_date":1562693991,"answer_id":56957994,"question_id":29861306,"body_markdown":"    // Solution with LinQ.\r\n    // Task Score: 100%\r\n    // Correctness: 100%\r\n    // Performance: 100%\r\n    \r\n    using System.Linq;\r\n    public static int GetPermMissingElem(int[] A)\r\n            {\r\n                if (A.Length &lt;= 0)\r\n                    return 1;\r\n    \r\n                int size = A.Length;\r\n                System.Collections.Generic.List&lt;int&gt; missing = Enumerable.Range(1, A[size - 1]).Except(A.ToList()).ToList();\r\n                if (!missing.Any())\r\n                    return A[size -1] + 1;\r\n    \r\n                return missing.First();\r\n            }","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<pre><code>// Solution with LinQ.\n// Task Score: 100%\n// Correctness: 100%\n// Performance: 100%\n\nusing System.Linq;\npublic static int GetPermMissingElem(int[] A)\n        {\n            if (A.Length &lt;= 0)\n                return 1;\n\n            int size = A.Length;\n            System.Collections.Generic.List&lt;int&gt; missing = Enumerable.Range(1, A[size - 1]).Except(A.ToList()).ToList();\n            if (!missing.Any())\n                return A[size -1] + 1;\n\n            return missing.First();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8404138,"reputation":851,"user_id":6308162,"display_name":"Iryna Prokopenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1563409920,"creation_date":1563409920,"answer_id":57085596,"question_id":29861306,"body_markdown":"my solution in java 100% \r\nDetected time complexity:\r\nO(N)\r\n\r\n    import java.util.*;\r\n\r\n    class Solution {\r\n    public int solution(int[] arr) {\r\n        \r\n        if(arr.length == 0) return 1;\r\n        \r\n        int sumArr = 0;\r\n        \r\n    \r\n        for(int i=0; i &lt; arr.length; i++){\r\n            \r\n            sumArr = sumArr + arr[i];\r\n        \r\n        }\r\n     \r\n        \r\n        int sumN = 0;\r\n         \r\n         for(int i=1; i &lt;= arr.length+1; i++){\r\n            \r\n            sumN = sumN + i;\r\n        \r\n        }\r\n    \r\n              \r\n        if(sumArr == sumN)  return arr.length;\r\n        \r\n        \r\n        return  sumN - sumArr;\r\n    }\r\n}","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>my solution in java 100% \nDetected time complexity:\nO(N)</p>\n\n<pre><code>import java.util.*;\n\nclass Solution {\npublic int solution(int[] arr) {\n\n    if(arr.length == 0) return 1;\n\n    int sumArr = 0;\n\n\n    for(int i=0; i &lt; arr.length; i++){\n\n        sumArr = sumArr + arr[i];\n\n    }\n\n\n    int sumN = 0;\n\n     for(int i=1; i &lt;= arr.length+1; i++){\n\n        sumN = sumN + i;\n\n    }\n\n\n    if(sumArr == sumN)  return arr.length;\n\n\n    return  sumN - sumArr;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":16312574,"reputation":11,"user_id":11780752,"display_name":"Luke Samad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563555852,"creation_date":1563555500,"answer_id":57116760,"question_id":29861306,"body_markdown":"This got 100% on Codality. It uses very basic math. For the array:\r\n{2,3,1,5}\r\n 1,2,3,4,?\r\n\r\n 1. sum of all the indexes + 1 and plus the missing index + 1 to get what you total should be.\r\n 2. Then you can subtract the sum of the array: (1+2+3+4+5=15)-(2+3+1+5=11)=4\r\n\r\n```\r\n\tpublic int solution(int A[]) {\r\n\r\n\t\tif (A == null) return 0;\r\n\t\tif(A.length == 0) return 1;\r\n\r\n\t\tint total = 0;\r\n\t\tint max = A.length + 1;\r\n\t\tfor (int i = 0; i &lt; A.length; i++) {\r\n\t\t\ttotal += A[i];\r\n\t\t\tmax += i + 1;\r\n\t\t}\r\n\r\n\t\treturn (max - total) &lt; 0 ? 0 : (max - total);\r\n\t}\r\n```\r\n\r\nThis is one thing I had to look up though which irritates me and I don&#39;t understand. \r\n```if(A.length == 0) return 1;```\r\nThis makes IMO no sense. If the array length is zero then it should be zero IMO. ","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>This got 100% on Codality. It uses very basic math. For the array:\n{2,3,1,5}\n 1,2,3,4,?</p>\n\n<ol>\n<li>sum of all the indexes + 1 and plus the missing index + 1 to get what you total should be.</li>\n<li>Then you can subtract the sum of the array: (1+2+3+4+5=15)-(2+3+1+5=11)=4</li>\n</ol>\n\n<pre><code>    public int solution(int A[]) {\n\n        if (A == null) return 0;\n        if(A.length == 0) return 1;\n\n        int total = 0;\n        int max = A.length + 1;\n        for (int i = 0; i &lt; A.length; i++) {\n            total += A[i];\n            max += i + 1;\n        }\n\n        return (max - total) &lt; 0 ? 0 : (max - total);\n    }\n</code></pre>\n\n<p>This is one thing I had to look up though which irritates me and I don't understand. \n<code>if(A.length == 0) return 1;</code>\nThis makes IMO no sense. If the array length is zero then it should be zero IMO. </p>\n"},{"tags":[],"owner":{"account_id":2399782,"reputation":90,"user_id":2097742,"display_name":"Sam Marvasti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655594002,"creation_date":1565533739,"answer_id":57450807,"question_id":29861306,"body_markdown":"Although knowing the total sum of consecutive integers would help get a fast solution , a fast but not memory efficient solution is possible using additional array and 2O(N) complexity without calculating the sum..\r\n\r\nhere is my solution:\r\n\r\n```\r\nclass Solution {\r\n    \r\n    public int findFalse(boolean [] ar){\r\n        \r\n        for (int j = 0; j&lt;ar.length; ++j){\r\n            if(ar[j]==false){\r\n                return j;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    public int solution(int[] A) {\r\n        // write your code in Java SE 8\r\n        \r\n        boolean [] M = new boolean[A.length+1];\r\n        \r\n        for (int i:A){\r\n            M[i-1] = true;   \r\n        }\r\n        \r\n        int missingValue = findFalse(M) +1 ;\r\n        return missingValue;\r\n        \r\n    }\r\n}\r\n```\r\n\r\n","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>Although knowing the total sum of consecutive integers would help get a fast solution , a fast but not memory efficient solution is possible using additional array and 2O(N) complexity without calculating the sum..</p>\n<p>here is my solution:</p>\n<pre><code>class Solution {\n    \n    public int findFalse(boolean [] ar){\n        \n        for (int j = 0; j&lt;ar.length; ++j){\n            if(ar[j]==false){\n                return j;\n            }\n        }\n        return -1;\n    }\n\n    public int solution(int[] A) {\n        // write your code in Java SE 8\n        \n        boolean [] M = new boolean[A.length+1];\n        \n        for (int i:A){\n            M[i-1] = true;   \n        }\n        \n        int missingValue = findFalse(M) +1 ;\n        return missingValue;\n        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4338459,"reputation":41,"user_id":3542372,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568129353,"creation_date":1568124534,"answer_id":57872598,"question_id":29861306,"body_markdown":"You can use an Array to sort the element first and then use simple for loop to iterate over it, and find the missing value. \r\nHere is my simple code with detected time complexity of `O(N)` or `O(N * log(N))` in codility.\r\n\r\n    public static int solution(int[] A) {\r\n\r\n\t\tint size = A.length;\r\n\t\tint count = 1;\r\n\r\n\t\tArrays.sort(A);\r\n\r\n\t\tfor (int i = 0; i &lt; size; i++) {\r\n\t\t\tif (A[i] != count)\r\n\t\t\t\treturn count;\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>You can use an Array to sort the element first and then use simple for loop to iterate over it, and find the missing value. \nHere is my simple code with detected time complexity of <code>O(N)</code> or <code>O(N * log(N))</code> in codility.</p>\n\n<pre><code>public static int solution(int[] A) {\n\n    int size = A.length;\n    int count = 1;\n\n    Arrays.sort(A);\n\n    for (int i = 0; i &lt; size; i++) {\n        if (A[i] != count)\n            return count;\n        count++;\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4609013,"reputation":31,"user_id":3737656,"display_name":"Aravinda Weerasekara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571136207,"creation_date":1571103454,"answer_id":58386082,"question_id":29861306,"body_markdown":"I used this java code as a solution. Got 100%\r\n\r\n    class Solution {\r\n        public int solution(int[] A) {\r\n            int result = 0;\r\n            Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n            for (int x : A) {\r\n                set.add(x);\r\n            }\r\n            for (int x = 1; x &lt; set.size() + 2; x++) {\r\n                if (!set.contains(x)) {\r\n                    return x;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    \r\n    }","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>I used this java code as a solution. Got 100%</p>\n\n<pre><code>class Solution {\n    public int solution(int[] A) {\n        int result = 0;\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n        for (int x : A) {\n            set.add(x);\n        }\n        for (int x = 1; x &lt; set.size() + 2; x++) {\n            if (!set.contains(x)) {\n                return x;\n            }\n        }\n        return result;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3538136,"reputation":59,"user_id":2955918,"display_name":"twenty20"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574231714,"creation_date":1574231714,"answer_id":58948131,"question_id":29861306,"body_markdown":"Ruby, 100% pass :\r\n\r\n    def solution(a)\r\n      n = a.length + 1\r\n      sum = n * (n + 1)/2\r\n      return sum - a.inject(0,:+)\r\n    end","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>Ruby, 100% pass :</p>\n\n<pre><code>def solution(a)\n  n = a.length + 1\n  sum = n * (n + 1)/2\n  return sum - a.inject(0,:+)\nend\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17158713,"reputation":11,"user_id":12418906,"display_name":"Clarence L Leslie"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1574486641,"creation_date":1574467186,"answer_id":59003293,"question_id":29861306,"body_markdown":"Here is my code which has also resulted with 100% : \r\n\r\n```java    \r\nclass Solution {\r\n    public int solution(int[] A) {\r\n        // write your code in Java SE 8\r\n        int value = A.length;\r\n        Arrays.sort(A);\r\n        if (value == 0) return 1;\r\n        if (value == 1) { \r\n           if ( A[0] == 1 ) {\r\n             return A[0] + 1;  \r\n           } \r\n           else {\r\n             return A[0] - 1;   \r\n           } \r\n        }\r\n        \r\n        for (int x = 1; x &lt;= value; ++x) {\r\n           if ( A[x - 1] != x ) {\r\n              return x;     \r\n           }\r\n        }\r\n        \r\n       return A[value - 1] + 1;\r\n    }\r\n}\r\n```\r\n   ","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>Here is my code which has also resulted with 100% : </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public int solution(int[] A) {\n        // write your code in Java SE 8\n        int value = A.length;\n        Arrays.sort(A);\n        if (value == 0) return 1;\n        if (value == 1) { \n           if ( A[0] == 1 ) {\n             return A[0] + 1;  \n           } \n           else {\n             return A[0] - 1;   \n           } \n        }\n\n        for (int x = 1; x &lt;= value; ++x) {\n           if ( A[x - 1] != x ) {\n              return x;     \n           }\n        }\n\n       return A[value - 1] + 1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10458783,"reputation":367,"user_id":7710234,"display_name":"Nenad trbi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578308402,"creation_date":1578308402,"answer_id":59610888,"question_id":29861306,"body_markdown":"I have trouble with this, but only because i did not understand all cases.\r\nthis is my solution in Java. Bit longer (i could not make it small) but score is 100%.\r\n\r\n\r\n    class Solution {\r\n        public int solution(int[] A) {\r\n            Arrays.sort(A);\r\n            if (A.length == 1) {\r\n                if (A[0] == 1) {\r\n                    return A.length + 1;\r\n                } else {\r\n                    return A[0] - 1;\r\n                }\r\n            }\r\n            for (int n = 0; n &lt; A.length - 1; n++) {\r\n                if (A.length == 2) {\r\n                    if (A[n] == 1) {\r\n                        if (A[n] + 1 != A[n + 1]) {\r\n                            return A[n] + 1;\r\n                        }\r\n                        return A.length + 1;\r\n                    } else {\r\n                        return 1;\r\n                    }\r\n                } else {\r\n                    if (A[0] != 1) {\r\n                        return 1;\r\n                    }\r\n                    if (A[n] + 1 != A[n + 1]) {\r\n                        return A[n] + 1;\r\n                    }\r\n                }\r\n            }\r\n            return A.length + 1;\r\n        }\r\n    }\r\n\r\n\r\n\r\nAnalysis summary\r\nThe solution obtained perfect score.\r\n\r\nKind regards Nenad","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>I have trouble with this, but only because i did not understand all cases.\nthis is my solution in Java. Bit longer (i could not make it small) but score is 100%.</p>\n\n<pre><code>class Solution {\n    public int solution(int[] A) {\n        Arrays.sort(A);\n        if (A.length == 1) {\n            if (A[0] == 1) {\n                return A.length + 1;\n            } else {\n                return A[0] - 1;\n            }\n        }\n        for (int n = 0; n &lt; A.length - 1; n++) {\n            if (A.length == 2) {\n                if (A[n] == 1) {\n                    if (A[n] + 1 != A[n + 1]) {\n                        return A[n] + 1;\n                    }\n                    return A.length + 1;\n                } else {\n                    return 1;\n                }\n            } else {\n                if (A[0] != 1) {\n                    return 1;\n                }\n                if (A[n] + 1 != A[n + 1]) {\n                    return A[n] + 1;\n                }\n            }\n        }\n        return A.length + 1;\n    }\n}\n</code></pre>\n\n<p>Analysis summary\nThe solution obtained perfect score.</p>\n\n<p>Kind regards Nenad</p>\n"},{"tags":[],"owner":{"account_id":13396887,"reputation":421,"user_id":9667511,"display_name":"Soukaina Benchekroun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578745263,"creation_date":1578745263,"answer_id":59694349,"question_id":29861306,"body_markdown":"        using System;\r\n    // you can also use other imports, for example:\r\n    // using System.Collections.Generic;\r\n    \r\n    // you can write to stdout for debugging purposes, e.g.\r\n    // Console.WriteLine(&quot;this is a debug message&quot;);\r\n    \r\n    class Solution {\r\n        public int solution(int[] A) {\r\n            // write your code in C# 6.0 with .NET 4.5 (Mono)\r\n            int i, j = 0, n = A.Length;\r\n                if (A != null &amp;&amp; n != 0)\r\n                {\r\n                    Array.Sort(A);\r\n                    for (j = A[0], i = 0; i &lt; n; i++, j++)\r\n                    {\r\n                        if (j == A[i]) continue;\r\n                        else return j;\r\n                    }\r\n    \r\n                    if (i == n) return (A[0] == 2) ? 1 : ++A[--n];\r\n    \r\n                }\r\n                else return 1;\r\n                return -1;\r\n        }\r\n    }","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<pre><code>    using System;\n// you can also use other imports, for example:\n// using System.Collections.Generic;\n\n// you can write to stdout for debugging purposes, e.g.\n// Console.WriteLine(\"this is a debug message\");\n\nclass Solution {\n    public int solution(int[] A) {\n        // write your code in C# 6.0 with .NET 4.5 (Mono)\n        int i, j = 0, n = A.Length;\n            if (A != null &amp;&amp; n != 0)\n            {\n                Array.Sort(A);\n                for (j = A[0], i = 0; i &lt; n; i++, j++)\n                {\n                    if (j == A[i]) continue;\n                    else return j;\n                }\n\n                if (i == n) return (A[0] == 2) ? 1 : ++A[--n];\n\n            }\n            else return 1;\n            return -1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2746810,"reputation":448,"user_id":2367057,"display_name":"Chigozie Orunta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578772917,"creation_date":1578772917,"answer_id":59698184,"question_id":29861306,"body_markdown":"Here&#39;s another solution using JavaScript **tested 100%**.\r\n\r\n```\r\nfunction solution(A) {\r\n    let maximumNumber = A.length + 1;\r\n    let totalSum = (maximumNumber*(maximumNumber + 1))/2;\r\n    let partialSum = 0;\r\n    for(let i=0; i&lt;A.length; i++) {\r\n        partialSum += A[i];\r\n    }\r\n    return totalSum - partialSum;\r\n}\r\n```","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>Here's another solution using JavaScript <strong>tested 100%</strong>.</p>\n\n<pre><code>function solution(A) {\n    let maximumNumber = A.length + 1;\n    let totalSum = (maximumNumber*(maximumNumber + 1))/2;\n    let partialSum = 0;\n    for(let i=0; i&lt;A.length; i++) {\n        partialSum += A[i];\n    }\n    return totalSum - partialSum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1294925,"reputation":1374,"user_id":1246241,"display_name":"utx0_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579995641,"creation_date":1579995641,"answer_id":59914361,"question_id":29861306,"body_markdown":"Golang solution: \r\n```\r\nfunc Solution(A []int) int {\r\n  n := len(A) + 1\r\n  total := n * (n + 1) /2\r\n  for _, e := range A {\r\n    total -= e\r\n  }\r\n  return total\r\n}\r\n```\r\n","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>Golang solution: </p>\n\n<pre><code>func Solution(A []int) int {\n  n := len(A) + 1\n  total := n * (n + 1) /2\n  for _, e := range A {\n    total -= e\n  }\n  return total\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":280445,"reputation":1831,"user_id":576152,"accept_rate":47,"display_name":"Catalin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581231073,"creation_date":1581231073,"answer_id":60134187,"question_id":29861306,"body_markdown":"Swift solution 100% pass\r\n\r\n    import Foundation\r\n    import Glibc\r\n\r\n    public func solution(_ A : inout [Int]) -&gt; Int {\r\n    \r\n      let sortedArray = A.sorted(by: { $0 &lt; $1 })\r\n    \r\n      for i in 0..&lt;sortedArray.count {\r\n          if sortedArray[i] != i+1 {\r\n              return i+1\r\n          }    \r\n      }\r\n    \r\n      return A.count + 1\r\n    }","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>Swift solution 100% pass</p>\n\n<pre><code>import Foundation\nimport Glibc\n\npublic func solution(_ A : inout [Int]) -&gt; Int {\n\n  let sortedArray = A.sorted(by: { $0 &lt; $1 })\n\n  for i in 0..&lt;sortedArray.count {\n      if sortedArray[i] != i+1 {\n          return i+1\n      }    \n  }\n\n  return A.count + 1\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16310331,"reputation":139,"user_id":11779143,"display_name":"darshanc99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596459278,"creation_date":1596459278,"answer_id":63229846,"question_id":29861306,"body_markdown":"**Java Solution:**        \r\n    \r\n    // Import Dependencies\r\n    import java.util.*;\r\n    \r\n    \r\n    class Solution {\r\n        public int solution(int[] A) {\r\n            // write your code in Java SE 8\r\n            long N = A.length+1;\r\n            long realSum = N*(N+1)/2;\r\n            \r\n            long foundSum = 0;\r\n            for(int i=0;i&lt;N-1;i++){\r\n                foundSum = foundSum + A[i];\r\n            }\r\n            long answer = (realSum - foundSum);\r\n            \r\n            return (int)(answer);\r\n        }\r\n    }\r\n\r\n","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p><strong>Java Solution:</strong></p>\n<pre><code>// Import Dependencies\nimport java.util.*;\n\n\nclass Solution {\n    public int solution(int[] A) {\n        // write your code in Java SE 8\n        long N = A.length+1;\n        long realSum = N*(N+1)/2;\n        \n        long foundSum = 0;\n        for(int i=0;i&lt;N-1;i++){\n            foundSum = foundSum + A[i];\n        }\n        long answer = (realSum - foundSum);\n        \n        return (int)(answer);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":161216,"reputation":5296,"user_id":381802,"accept_rate":100,"display_name":"erikvimz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605389498,"creation_date":1605389498,"answer_id":64838823,"question_id":29861306,"body_markdown":"Here is my solution.\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n    const assert = require(&quot;assert&quot;).strict;\r\n    \r\n    function solution(A) {\r\n        const n = A.length + 1;\r\n        const sum = (n * (n + 1)) / 2;\r\n        const sum2 = A.reduce((a, b) =&gt; a + b, 0);\r\n        return sum - sum2;\r\n    }\r\n    \r\n    \r\n    assert.strictEqual(solution([2, 3, 1, 5]), 4);\r\n    assert.strictEqual(solution([]), 1);\r\n    assert.strictEqual(solution([1]), 2);","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>Here is my solution.</p>\n<pre class=\"lang-js prettyprint-override\"><code>const assert = require(&quot;assert&quot;).strict;\n\nfunction solution(A) {\n    const n = A.length + 1;\n    const sum = (n * (n + 1)) / 2;\n    const sum2 = A.reduce((a, b) =&gt; a + b, 0);\n    return sum - sum2;\n}\n\n\nassert.strictEqual(solution([2, 3, 1, 5]), 4);\nassert.strictEqual(solution([]), 1);\nassert.strictEqual(solution([1]), 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5040498,"reputation":1020,"user_id":4048050,"display_name":"Lukasz Ochmanski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613931107,"creation_date":1613931107,"answer_id":66305514,"question_id":29861306,"body_markdown":"java solution:\r\n\r\n    public int solution(int[] A) {\r\n        int nExpected = A.length + 1;\r\n        long seriesSumExpected = nExpected * (nExpected + 1L) / 2;\r\n        long seriesSum = getSum(A);\r\n        return (int) (seriesSumExpected - seriesSum);\r\n    }\r\n\r\n    private long getSum(int[] A) {\r\n        long sum = 0L;\r\n        for (int i : A) {\r\n            sum += i;\r\n        }\r\n        return sum;\r\n    }\r\n\r\nTask Score: 100%  \r\nCorrectness: 100%  \r\nPerformance: 100%  ","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>java solution:</p>\n<pre><code>public int solution(int[] A) {\n    int nExpected = A.length + 1;\n    long seriesSumExpected = nExpected * (nExpected + 1L) / 2;\n    long seriesSum = getSum(A);\n    return (int) (seriesSumExpected - seriesSum);\n}\n\nprivate long getSum(int[] A) {\n    long sum = 0L;\n    for (int i : A) {\n        sum += i;\n    }\n    return sum;\n}\n</code></pre>\n<p>Task Score: 100%<br />\nCorrectness: 100%<br />\nPerformance: 100%</p>\n"},{"tags":[],"owner":{"account_id":4797092,"reputation":3574,"user_id":3874721,"accept_rate":80,"display_name":"Yurii Tsap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616015617,"creation_date":1616013766,"answer_id":66680936,"question_id":29861306,"body_markdown":"Attaching solution written in kotlin:\r\n\r\n    fun solution(A: IntArray): Int {\r\n            val lastElement = A.size + 1\r\n            // including missing element\r\n            val arraySize = A.size + 1L\r\n            var result = (arraySize * (1 + lastElement)) / 2\r\n            A.forEach {\r\n                result -= it\r\n            }\r\n            return result.toInt()\r\n        }\r\n\r\nP.S. [Arithmetic progression sum formula][1] was used.\r\n\r\nP.P.S. Perform operations using `Long` primitive type, as you can face some `Int` limits.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Arithmetic_progression#Sum","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>Attaching solution written in kotlin:</p>\n<pre><code>fun solution(A: IntArray): Int {\n        val lastElement = A.size + 1\n        // including missing element\n        val arraySize = A.size + 1L\n        var result = (arraySize * (1 + lastElement)) / 2\n        A.forEach {\n            result -= it\n        }\n        return result.toInt()\n    }\n</code></pre>\n<p>P.S. <a href=\"https://en.wikipedia.org/wiki/Arithmetic_progression#Sum\" rel=\"nofollow noreferrer\">Arithmetic progression sum formula</a> was used.</p>\n<p>P.P.S. Perform operations using <code>Long</code> primitive type, as you can face some <code>Int</code> limits.</p>\n"},{"tags":[],"owner":{"account_id":125694,"reputation":1251,"user_id":321629,"accept_rate":41,"display_name":"CyberMew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624373923,"creation_date":1624373923,"answer_id":68085969,"question_id":29861306,"body_markdown":"I think the best way of doing it is via XOR which is clean, elegant and fast. No math knowledge required, just CS! This has also another advantage over the other way of summing it up where we won&#39;t get an integer overflow since we are just doing bitwise operations.\r\n\r\nO(n) in time, O(1) in space.\r\n\r\nThis is how the code looks like (Javascript), just a single loop required:\r\n```\r\nfunction solution(A) {\r\n    // write your code in JavaScript (Node.js 8.9.4)\r\n\r\n    let missingNumber = A.length + 1;\r\n    // Sum up 1+2+3+...+N+(N+1) AND all of A[i] (except value not present in A[i] obviously). The value not present in A[i] is the odd one out. Note `missingNumber` starts with `A.length + 1` (i.e. N+1) because we loop N times here only...\r\n    for(let i = 0; i &lt; A.length; ++i) {\r\n       missingNumber ^= (i + 1) ^ A[i];\r\n    }\r\n    \r\n    return missingNumber;\r\n}\r\n```\r\n\r\nhttps://florian.github.io/xor-trick/ has a good guide to understanding XORs. \r\n\r\nBasically taking the idea where `X ^ X equals 0`, we use this to take advantage of duplicate values that cancels out the values so we get the non-duplicated value out (i.e. the missing element left).\r\n\r\nThis works because the question constraints guarantees `the elements of A are all distinct`. So we can just XOR them up together to take advantage of this trick. If this is a permutation where elements can be duplicated, this does not work, i.e. [PermCheck][1] \r\n\r\n\r\n  [1]: https://app.codility.com/programmers/lessons/4-counting_elements/perm_check/","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>I think the best way of doing it is via XOR which is clean, elegant and fast. No math knowledge required, just CS! This has also another advantage over the other way of summing it up where we won't get an integer overflow since we are just doing bitwise operations.</p>\n<p>O(n) in time, O(1) in space.</p>\n<p>This is how the code looks like (Javascript), just a single loop required:</p>\n<pre><code>function solution(A) {\n    // write your code in JavaScript (Node.js 8.9.4)\n\n    let missingNumber = A.length + 1;\n    // Sum up 1+2+3+...+N+(N+1) AND all of A[i] (except value not present in A[i] obviously). The value not present in A[i] is the odd one out. Note `missingNumber` starts with `A.length + 1` (i.e. N+1) because we loop N times here only...\n    for(let i = 0; i &lt; A.length; ++i) {\n       missingNumber ^= (i + 1) ^ A[i];\n    }\n    \n    return missingNumber;\n}\n</code></pre>\n<p><a href=\"https://florian.github.io/xor-trick/\" rel=\"nofollow noreferrer\">https://florian.github.io/xor-trick/</a> has a good guide to understanding XORs.</p>\n<p>Basically taking the idea where <code>X ^ X equals 0</code>, we use this to take advantage of duplicate values that cancels out the values so we get the non-duplicated value out (i.e. the missing element left).</p>\n<p>This works because the question constraints guarantees <code>the elements of A are all distinct</code>. So we can just XOR them up together to take advantage of this trick. If this is a permutation where elements can be duplicated, this does not work, i.e. <a href=\"https://app.codility.com/programmers/lessons/4-counting_elements/perm_check/\" rel=\"nofollow noreferrer\">PermCheck</a></p>\n"},{"tags":[],"owner":{"account_id":1630368,"reputation":178,"user_id":1509571,"display_name":"Meow"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637381934,"creation_date":1637381934,"answer_id":70043219,"question_id":29861306,"body_markdown":"It&#39;s a programming test, not a math one.\r\n100% with Javascript:\r\n\r\n    function solution(A) {\r\n        let m = {};\r\n        for(let i of A) {\r\n            m[i] = 1;\r\n        }\r\n    \r\n        for(let i = 1; i &lt;= (A.length + 1); ++i) {\r\n            if(m[i] === undefined)\r\n                return i;\r\n        }\r\n    \r\n        return 1;\r\n    }","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>It's a programming test, not a math one.\n100% with Javascript:</p>\n<pre><code>function solution(A) {\n    let m = {};\n    for(let i of A) {\n        m[i] = 1;\n    }\n\n    for(let i = 1; i &lt;= (A.length + 1); ++i) {\n        if(m[i] === undefined)\n            return i;\n    }\n\n    return 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7376137,"reputation":41,"user_id":5614678,"display_name":"Izuchukwu Oleka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643572787,"creation_date":1643572787,"answer_id":70918392,"question_id":29861306,"body_markdown":"My solution tries to half the time of the summation. Detected time complexity:\r\nO(N) or O(N * log(N))\r\n\r\n`    \r\n\r\n        int sumArray = 0;\r\n        int t = A.length-1;\r\n        for (int i=0; i&lt;= t-i; i++) {\r\n            if(i == t-i){\r\n                sumArray += A[i];\r\n                break;\r\n            }\r\n            sumArray += (A[i] + A[t-i]);\r\n        }\r\n        int n = (A.length + 1);\r\n        int total = BigDecimal.valueOf(n).pow(2).add(BigDecimal.valueOf(n)).divide(BigDecimal.valueOf(2)).intValue();\r\n        return total - sumArray;\r\n    `","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>My solution tries to half the time of the summation. Detected time complexity:\nO(N) or O(N * log(N))</p>\n<p>`</p>\n<pre><code>    int sumArray = 0;\n    int t = A.length-1;\n    for (int i=0; i&lt;= t-i; i++) {\n        if(i == t-i){\n            sumArray += A[i];\n            break;\n        }\n        sumArray += (A[i] + A[t-i]);\n    }\n    int n = (A.length + 1);\n    int total = BigDecimal.valueOf(n).pow(2).add(BigDecimal.valueOf(n)).divide(BigDecimal.valueOf(2)).intValue();\n    return total - sumArray;\n`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8091394,"reputation":37,"user_id":6097211,"display_name":"Arsen Khondkaryan - Android"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647522107,"creation_date":1647522107,"answer_id":71512770,"question_id":29861306,"body_markdown":"    Java solution got 100%:\r\n\r\n\r\n    public int solution(int[] A) {\r\n        \r\n        Arrays.sort(A);\r\n        \r\n        if (A.length == 0) {\r\n            return 1;\r\n        }\r\n\r\n        if (A[0] != 1) {\r\n            return 1;\r\n        }\r\n\r\n        for (int i = 0; i &lt; A.length; i++) {\r\n            if (A[i] != i + 1) {\r\n                return A[i] - 1;\r\n            }\r\n        }\r\n\r\n        return A[A.length - 1] + 1;\r\n    }","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<pre><code>Java solution got 100%:\n\n\npublic int solution(int[] A) {\n    \n    Arrays.sort(A);\n    \n    if (A.length == 0) {\n        return 1;\n    }\n\n    if (A[0] != 1) {\n        return 1;\n    }\n\n    for (int i = 0; i &lt; A.length; i++) {\n        if (A[i] != i + 1) {\n            return A[i] - 1;\n        }\n    }\n\n    return A[A.length - 1] + 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11066840,"reputation":19,"user_id":8126391,"display_name":"Anthony Dheysum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648201159,"creation_date":1648201159,"answer_id":71614832,"question_id":29861306,"body_markdown":"I just tried this solution which has no sorting and just sticks to the basics, got 100% result\r\n\r\n\tpublic int solution100percent(int[] A) {\r\n\r\n\t\tif (A.length == 0)\r\n\t\t\treturn 1;\r\n\r\n\t\tint arrayCount = 0;\r\n\t\tint iCount = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; A.length; i++) {\r\n\t\t\tarrayCount += A[i];\r\n\t\t\tiCount += i;\r\n\t\t}\r\n\t\treturn iCount + A.length + (A.length + 1) - arrayCount;\r\n\t}\r\n","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>I just tried this solution which has no sorting and just sticks to the basics, got 100% result</p>\n<pre><code>public int solution100percent(int[] A) {\n\n    if (A.length == 0)\n        return 1;\n\n    int arrayCount = 0;\n    int iCount = 0;\n\n    for (int i = 0; i &lt; A.length; i++) {\n        arrayCount += A[i];\n        iCount += i;\n    }\n    return iCount + A.length + (A.length + 1) - arrayCount;\n}\n</code></pre>\n"}],"owner":{"account_id":3494294,"reputation":425,"user_id":2923049,"accept_rate":69,"display_name":"steelmonkey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44670,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":29861358,"answer_count":33,"score":15,"last_activity_date":1655594002,"creation_date":1429938987,"question_id":29861306,"body_markdown":"I have the following problem taken from Codility&#39;s code testing exercises:\n\n\nA zero-indexed array A consisting of N different integers is given. The array contains integers in the range [1..(N + 1)], which means that exactly one element is missing.\n\nYour goal is to find that missing element.\n\nWrite a function:\n\n&gt; class Solution { public int solution(int[] A); } \n\nthat, given a zero-indexed array A, returns the value of the missing element.\n\nFor example, given array A such that:\n\n&gt;  A[0] = 2\n&gt;  A[1] = 3\n&gt;  A[2] = 1\n&gt;  A[3] = 5\n\nthe function should return 4, as it is the missing element.\n\nAssume that:\n\n&gt; N is an integer within the range [0..100,000];\n&gt; the elements of A are all distinct;\n&gt; each element of array A is an integer within the range [1..(N + 1)].\n\nComplexity:\n\n&gt;expected worst-case time complexity is O(N);\n&gt;expected worst-case space complexity is O(1), beyond input storage (not &gt;counting the storage required for input arguments).\n\nElements of input arrays can be modified.\n\n\n----------\n\nMy approach was to convert the given array into an ArrayList, use the ArrayList to find the lowest and highest values inside the array, and iterate through all possible values from lowest to highest, and then return the missing value.\n\nThis solves the example problem, but my problem seems to be that I cannot get right answers under the following conditions of the given array:\n\n&gt; &quot;empty list and single element&quot;\n&gt;\n&gt; &quot;the first or the last element is missing&quot;\n&gt;\n&gt; &quot;single element&quot;\n&gt;\n&gt; &quot;two elements&quot;\n\nWhat am I doing wrong, and what is the proper way to go about solving this problem?","title":"What is the right way to solve Codility&#39;s PermMissingElem test? (Java)","body":"<p>I have the following problem taken from Codility's code testing exercises:</p>\n<p>A zero-indexed array A consisting of N different integers is given. The array contains integers in the range [1..(N + 1)], which means that exactly one element is missing.</p>\n<p>Your goal is to find that missing element.</p>\n<p>Write a function:</p>\n<blockquote>\n<p>class Solution { public int solution(int[] A); }</p>\n</blockquote>\n<p>that, given a zero-indexed array A, returns the value of the missing element.</p>\n<p>For example, given array A such that:</p>\n<blockquote>\n<p>A[0] = 2\nA[1] = 3\nA[2] = 1\nA[3] = 5</p>\n</blockquote>\n<p>the function should return 4, as it is the missing element.</p>\n<p>Assume that:</p>\n<blockquote>\n<p>N is an integer within the range [0..100,000];\nthe elements of A are all distinct;\neach element of array A is an integer within the range [1..(N + 1)].</p>\n</blockquote>\n<p>Complexity:</p>\n<blockquote>\n<p>expected worst-case time complexity is O(N);\nexpected worst-case space complexity is O(1), beyond input storage (not &gt;counting the storage required for input arguments).</p>\n</blockquote>\n<p>Elements of input arrays can be modified.</p>\n<hr />\n<p>My approach was to convert the given array into an ArrayList, use the ArrayList to find the lowest and highest values inside the array, and iterate through all possible values from lowest to highest, and then return the missing value.</p>\n<p>This solves the example problem, but my problem seems to be that I cannot get right answers under the following conditions of the given array:</p>\n<blockquote>\n<p>&quot;empty list and single element&quot;</p>\n<p>&quot;the first or the last element is missing&quot;</p>\n<p>&quot;single element&quot;</p>\n<p>&quot;two elements&quot;</p>\n</blockquote>\n<p>What am I doing wrong, and what is the proper way to go about solving this problem?</p>\n"},{"tags":["java","json","org.json","java-record"],"comments":[{"owner":{"account_id":9460871,"reputation":2143,"user_id":7034621,"display_name":"orhtej2"},"score":0,"creation_date":1655584775,"post_id":72672489,"comment_id":128368085,"body_markdown":"Newer Java version support is still [an open item on org.json roadmap](https://github.com/stleary/JSON-java/issues/614). On the other hand I don&#39;t know if `record` is mere syntactic sugar or something more involved to the point where it would be not properly interpreted by older libraries.","body":"Newer Java version support is still <a href=\"https://github.com/stleary/JSON-java/issues/614\" rel=\"nofollow noreferrer\">an open item on org.json roadmap</a>. On the other hand I don&#39;t know if <code>record</code> is mere syntactic sugar or something more involved to the point where it would be not properly interpreted by older libraries."}],"answers":[{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1655593728,"creation_date":1655589351,"answer_id":72673008,"question_id":72672489,"body_markdown":"If you don&#39;t want to use other libraries like **Jackson** or **Gson** (it will be a much better solution in my opinion) you could write your own converter:\r\n\r\n```\r\npublic final class JsonConverter {\r\n\r\n    private JsonConverter() {\r\n    }\r\n    \r\n    @SneakyThrows\r\n    public static String toJSON(Object object) {\r\n        Class&lt;?&gt; c = object.getClass();\r\n        JSONObject jsonObject = new JSONObject();\r\n        for (Field field : c.getDeclaredFields()) {\r\n            field.setAccessible(true);\r\n            String name = field.getName();\r\n            Object value = field.get(object);\r\n            jsonObject.put(name, value);\r\n        }\r\n        return jsonObject.toString();\r\n    }\r\n}\r\n```\r\n\r\nYou could use it like:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Order order = new Order(&quot;&quot;, &quot;Albert&quot;, &quot;GOOGL&quot;, &quot;SELL&quot;, 97.9, 90L);\r\n    System.out.println(order);\r\n\r\n    JSONObject jsonObject = new JSONObject(order);\r\n    System.out.println(jsonObject.toString());\r\n\r\n    System.out.println(JsonConverter.toJSON(order));\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nOrderRecord[id=, userId=Albert, securityId=GOOGL, type=SELL, price=97.9, quantity=90]\r\n{}\r\n{&quot;quantity&quot;:90,&quot;price&quot;:97.9,&quot;securityId&quot;:&quot;GOOGL&quot;,&quot;id&quot;:&quot;&quot;,&quot;type&quot;:&quot;SELL&quot;,&quot;userId&quot;:&quot;Albert&quot;}\r\n```\r\n\r\nIt is a real workaround. However, it uses exactly `org.json`.","title":"Java 14 records with org.json","body":"<p>If you don't want to use other libraries like <strong>Jackson</strong> or <strong>Gson</strong> (it will be a much better solution in my opinion) you could write your own converter:</p>\n<pre><code>public final class JsonConverter {\n\n    private JsonConverter() {\n    }\n    \n    @SneakyThrows\n    public static String toJSON(Object object) {\n        Class&lt;?&gt; c = object.getClass();\n        JSONObject jsonObject = new JSONObject();\n        for (Field field : c.getDeclaredFields()) {\n            field.setAccessible(true);\n            String name = field.getName();\n            Object value = field.get(object);\n            jsonObject.put(name, value);\n        }\n        return jsonObject.toString();\n    }\n}\n</code></pre>\n<p>You could use it like:</p>\n<pre><code>public static void main(String[] args) {\n    Order order = new Order(&quot;&quot;, &quot;Albert&quot;, &quot;GOOGL&quot;, &quot;SELL&quot;, 97.9, 90L);\n    System.out.println(order);\n\n    JSONObject jsonObject = new JSONObject(order);\n    System.out.println(jsonObject.toString());\n\n    System.out.println(JsonConverter.toJSON(order));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>OrderRecord[id=, userId=Albert, securityId=GOOGL, type=SELL, price=97.9, quantity=90]\n{}\n{&quot;quantity&quot;:90,&quot;price&quot;:97.9,&quot;securityId&quot;:&quot;GOOGL&quot;,&quot;id&quot;:&quot;&quot;,&quot;type&quot;:&quot;SELL&quot;,&quot;userId&quot;:&quot;Albert&quot;}\n</code></pre>\n<p>It is a real workaround. However, it uses exactly <code>org.json</code>.</p>\n"},{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1655593226,"creation_date":1655589475,"answer_id":72673024,"question_id":72672489,"body_markdown":"\r\n\r\nAccording to [documentation][2]  JSONObject(Object bean) constructor\r\n\r\nconstruct a JSONObject from an Object using bean **getters**.\r\n\r\nSo, yes as you noticed it expects getter to be in format getFieldName(), but in records getters are named differently.\r\n\r\nFor, example getter for filed price would be `price()`, not `getPrice()`.\r\n\r\nOne possible solution is to add getters in record class, like this :\r\n\r\n\r\n       public record Order(\r\n                String id,\r\n                String userId,\r\n                String securityId,\r\n                String type,\r\n                Double price,\r\n                Long quantity\r\n        ) {\r\n        \r\n        \r\n            public Double getPrice() { // Compliant\r\n                return price;\r\n            }\r\n        \r\n            public String getId() { // Compliant\r\n                return id;\r\n            }\r\n        \r\n            public String getSecurityId() { // Compliant\r\n                return securityId;\r\n            }\r\n        \r\n            public String getType() { // Compliant\r\n                return type;\r\n            }\r\n        \r\n            public Long getQuantity() { // Compliant\r\n                return quantity;\r\n            }\r\n        }\r\n\r\n\r\n\r\nYou should see output like this : \r\n\r\n[![enter image description here][1]][1] \r\n\r\n  [1]: https://i.stack.imgur.com/G2DbO.png\r\n  [2]: https://stleary.github.io/JSON-java/org/json/JSONObject.html","title":"Java 14 records with org.json","body":"<p>According to <a href=\"https://stleary.github.io/JSON-java/org/json/JSONObject.html\" rel=\"nofollow noreferrer\">documentation</a>  JSONObject(Object bean) constructor</p>\n<p>construct a JSONObject from an Object using bean <strong>getters</strong>.</p>\n<p>So, yes as you noticed it expects getter to be in format getFieldName(), but in records getters are named differently.</p>\n<p>For, example getter for filed price would be <code>price()</code>, not <code>getPrice()</code>.</p>\n<p>One possible solution is to add getters in record class, like this :</p>\n<pre><code>   public record Order(\n            String id,\n            String userId,\n            String securityId,\n            String type,\n            Double price,\n            Long quantity\n    ) {\n    \n    \n        public Double getPrice() { // Compliant\n            return price;\n        }\n    \n        public String getId() { // Compliant\n            return id;\n        }\n    \n        public String getSecurityId() { // Compliant\n            return securityId;\n        }\n    \n        public String getType() { // Compliant\n            return type;\n        }\n    \n        public Long getQuantity() { // Compliant\n            return quantity;\n        }\n    }\n</code></pre>\n<p>You should see output like this :</p>\n<p><a href=\"https://i.stack.imgur.com/G2DbO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G2DbO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":364920,"reputation":401,"user_id":709556,"display_name":"Lukas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72673008,"answer_count":2,"score":3,"last_activity_date":1655593728,"creation_date":1655583500,"question_id":72672489,"body_markdown":"I wanted to make new JSON object with org.json library, but I have noticed there is a problem with Java 14 records.\r\n\r\nWhen I call\r\n\r\n    String json = new JSONObject(new Order(&quot;&quot;, &quot;Albert&quot;, &quot;GOOGL&quot;, &quot;SELL&quot;, 97.9, 90L)).toString();\r\n\r\nthe fields are null.\r\n\r\nI suppose it is because java record doesn&#39;t use old getters like getXYZ?\r\n\r\nIs there a simple work around? I mean without using different library.\r\nOr maybe my assumptions are incorrect.\r\n\r\n    public record Order(\r\n        String id,\r\n        String userId,\r\n        String securityId,\r\n        String type,\r\n        Double price,\r\n        Long quantity\r\n    ) {\r\n    }\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20220320&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Java 14 records with org.json","body":"<p>I wanted to make new JSON object with org.json library, but I have noticed there is a problem with Java 14 records.</p>\n<p>When I call</p>\n<pre><code>String json = new JSONObject(new Order(&quot;&quot;, &quot;Albert&quot;, &quot;GOOGL&quot;, &quot;SELL&quot;, 97.9, 90L)).toString();\n</code></pre>\n<p>the fields are null.</p>\n<p>I suppose it is because java record doesn't use old getters like getXYZ?</p>\n<p>Is there a simple work around? I mean without using different library.\nOr maybe my assumptions are incorrect.</p>\n<pre><code>public record Order(\n    String id,\n    String userId,\n    String securityId,\n    String type,\n    Double price,\n    Long quantity\n) {\n}\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20220320&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","file","text","binary"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":3,"creation_date":1475780656,"post_id":620993,"comment_id":67092939,"body_markdown":"Trick question - they&#39;re all binary files.","body":"Trick question - they&#39;re all binary files."}],"answers":[{"tags":[],"owner":{"account_id":28131,"reputation":7972,"user_id":74819,"accept_rate":70,"display_name":"Aric TenEyck"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1593946015,"creation_date":1236386127,"answer_id":621003,"question_id":620993,"body_markdown":"There&#39;s no guaranteed way, but here are a couple of possibilities:\r\n\r\n1. Look for a header on the file.  Unfortunately, headers are file-specific, so while you might be able to find out that it&#39;s a RAR file, you won&#39;t get the more generic answer of whether it&#39;s text or binary.\r\n\r\n2. Count the number of character vs. non-character types.  Text files will be mostly alphabetical characters while binary files - especially compressed ones like rar, zip, and such - will tend to have bytes more evenly represented.\r\n\r\n3. Look for a regularly repeating pattern of newlines.\r\n","title":"Determining binary/text file type in Java?","body":"<p>There's no guaranteed way, but here are a couple of possibilities:</p>\n<ol>\n<li><p>Look for a header on the file.  Unfortunately, headers are file-specific, so while you might be able to find out that it's a RAR file, you won't get the more generic answer of whether it's text or binary.</p>\n</li>\n<li><p>Count the number of character vs. non-character types.  Text files will be mostly alphabetical characters while binary files - especially compressed ones like rar, zip, and such - will tend to have bytes more evenly represented.</p>\n</li>\n<li><p>Look for a regularly repeating pattern of newlines.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1236386634,"creation_date":1236386634,"answer_id":621026,"question_id":620993,"body_markdown":"You could try the [DROID][1] tool.\r\n\r\n\r\n  [1]: http://droid.sourceforge.net/","title":"Determining binary/text file type in Java?","body":"<p>You could try the <a href=\"http://droid.sourceforge.net/\" rel=\"nofollow noreferrer\">DROID</a> tool.</p>\n"},{"tags":[],"owner":{"account_id":24693,"reputation":21822,"user_id":62970,"accept_rate":86,"display_name":"MarkusQ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1236727934,"creation_date":1236389176,"answer_id":621104,"question_id":620993,"body_markdown":"See &lt;http://en.wikipedia.org/wiki/Magic_number_(programming)&gt;\r\n","title":"Determining binary/text file type in Java?","body":"<p>See <a href=\"http://en.wikipedia.org/wiki/Magic_number_(programming)\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Magic_number_(programming)</a></p>\n"},{"tags":[],"owner":{"account_id":28159,"reputation":2023,"user_id":74911,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1236389362,"creation_date":1236389362,"answer_id":621108,"question_id":620993,"body_markdown":"If the file consists of the bytes 0x09 (tab), 0x0A (line feed), 0x0C (form feed), 0x0D (carriage return), or 0x20 through 0x7E, then it&#39;s probably ASCII text.\r\n\r\nIf the file contains any other ASCII control character, 0x00 through 0x1F excluding the three above, then it&#39;s probably binary data.\r\n\r\nUTF-8 text follows a very specific pattern for any bytes with the high order bit, but fixed-length encodings like ISO-8859-1 do not. UTF-16 can frequently contain the null byte (0x00), but only in every other position.\r\n\r\nYou&#39;d need a weaker heuristic for anything else.","title":"Determining binary/text file type in Java?","body":"<p>If the file consists of the bytes 0x09 (tab), 0x0A (line feed), 0x0C (form feed), 0x0D (carriage return), or 0x20 through 0x7E, then it's probably ASCII text.</p>\n\n<p>If the file contains any other ASCII control character, 0x00 through 0x1F excluding the three above, then it's probably binary data.</p>\n\n<p>UTF-8 text follows a very specific pattern for any bytes with the high order bit, but fixed-length encodings like ISO-8859-1 do not. UTF-16 can frequently contain the null byte (0x00), but only in every other position.</p>\n\n<p>You'd need a weaker heuristic for anything else.</p>\n"},{"tags":[],"owner":{"account_id":8891,"reputation":3425,"user_id":16193,"accept_rate":88,"display_name":"Daniel Hiller"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1467030787,"creation_date":1236429516,"answer_id":621782,"question_id":620993,"body_markdown":"Have a look at the [JMimeMagic][1] library.\r\n\r\n&gt; jMimeMagic is a Java library for\r\n&gt; determining the MIME type of files or\r\n&gt; streams.\r\n\r\n\r\n  [1]: https://github.com/arimus/jmimemagic","title":"Determining binary/text file type in Java?","body":"<p>Have a look at the <a href=\"https://github.com/arimus/jmimemagic\" rel=\"nofollow noreferrer\">JMimeMagic</a> library.</p>\n\n<blockquote>\n  <p>jMimeMagic is a Java library for\n  determining the MIME type of files or\n  streams.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8429,"reputation":56686,"user_id":15187,"accept_rate":96,"display_name":"yanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1237083173,"creation_date":1237083173,"answer_id":647124,"question_id":620993,"body_markdown":"Just to let you know, I&#39;ve chosen quite a different path. I my case, there are only 2 types of files, chances that any given file will be a binary one are high. So\r\n\r\n 1. presume that file is binary, try doing what&#39;s supposed to be done (e.g. deserialize)\r\n 1. catch exception    \r\n 1. treat file as textual\r\n 1. if that fails, something is wrong with file itself","title":"Determining binary/text file type in Java?","body":"<p>Just to let you know, I've chosen quite a different path. I my case, there are only 2 types of files, chances that any given file will be a binary one are high. So</p>\n\n<ol>\n<li>presume that file is binary, try doing what's supposed to be done (e.g. deserialize)</li>\n<li>catch exception    </li>\n<li>treat file as textual</li>\n<li>if that fails, something is wrong with file itself</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":46225,"reputation":10889,"user_id":136476,"accept_rate":66,"display_name":"Wilfred Springer"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1256107158,"creation_date":1256107158,"answer_id":1599081,"question_id":620993,"body_markdown":"Run `file -bi {filename}`. If whatever it returns starts with &#39;text/&#39;, then it&#39;s non-binary, otherwise it is. ;-)","title":"Determining binary/text file type in Java?","body":"<p>Run <code>file -bi {filename}</code>. If whatever it returns starts with 'text/', then it's non-binary, otherwise it is. ;-)</p>\n"},{"tags":[],"owner":{"account_id":1656024,"reputation":61,"user_id":1525570,"display_name":"Michael von Wenckstern"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1388597771,"creation_date":1342270191,"answer_id":11483882,"question_id":620993,"body_markdown":"**I used this code and it works for English and German text pretty well:**\r\n\r\n    private boolean isTextFile(String filePath) throws Exception {\r\n\t\tFile f = new File(filePath);\r\n\t\tif(!f.exists())\r\n\t\t\treturn false;\r\n\t\tFileInputStream in = new FileInputStream(f);\r\n\t\tint size = in.available();\r\n\t\tif(size &gt; 1000)\r\n\t\t\tsize = 1000;\r\n\t\tbyte[] data = new byte[size];\r\n\t\tin.read(data);\r\n\t\tin.close();\r\n\t\tString s = new String(data, &quot;ISO-8859-1&quot;);\r\n\t\tString s2 = s.replaceAll(\r\n\t\t\t\t&quot;[a-zA-Z0-9&#223;&#246;&#228;&#252;\\\\.\\\\*!\\&quot;&#167;\\\\$\\\\%&amp;/()=\\\\?@~&#39;#:,;\\\\&quot;+\r\n\t\t\t\t&quot;+&gt;&lt;\\\\|\\\\[\\\\]\\\\{\\\\}\\\\^&#176;&#178;&#179;\\\\\\\\ \\\\n\\\\r\\\\t_\\\\-`&#180;&#226;&#234;&#238;&#244;&quot;+\r\n\t\t\t\t&quot;&#194;&#202;&#212;&#206;&#225;&#233;&#237;&#243;&#224;&#232;&#236;&#242;&#193;&#201;&#205;&#211;&#192;&#200;&#204;&#210;&#169;&#162;&#163;&#165;&#177;&#191;&#187;&#171;&#188;&#189;&#190;&#170;]&quot;, &quot;&quot;);\r\n\t\t// will delete all text signs\r\n\t\t\r\n\t\tdouble d = (double)(s.length() - s2.length()) / (double)(s.length());\r\n\t\t// percentage of text signs in the text\r\n\t\treturn d &gt; 0.95;\r\n\t}","title":"Determining binary/text file type in Java?","body":"<p><strong>I used this code and it works for English and German text pretty well:</strong></p>\n\n<pre><code>private boolean isTextFile(String filePath) throws Exception {\n    File f = new File(filePath);\n    if(!f.exists())\n        return false;\n    FileInputStream in = new FileInputStream(f);\n    int size = in.available();\n    if(size &gt; 1000)\n        size = 1000;\n    byte[] data = new byte[size];\n    in.read(data);\n    in.close();\n    String s = new String(data, \"ISO-8859-1\");\n    String s2 = s.replaceAll(\n            \"[a-zA-Z0-9\\\\.\\\\*!\\\"\\\\$\\\\%&amp;/()=\\\\?@~'#:,;\\\\\"+\n            \"+&gt;&lt;\\\\|\\\\[\\\\]\\\\{\\\\}\\\\^\\\\\\\\ \\\\n\\\\r\\\\t_\\\\-`\"+\n            \"]\", \"\");\n    // will delete all text signs\n\n    double d = (double)(s.length() - s2.length()) / (double)(s.length());\n    // percentage of text signs in the text\n    return d &gt; 0.95;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra ika"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1436433675,"creation_date":1353690965,"answer_id":13533390,"question_id":620993,"body_markdown":"I made this one.\r\nA bit simpler, but for latin-based languages, it should work fine, with the ratio adjustment.\r\n\r\n\r\n    /**\r\n     *  Guess whether given file is binary. Just checks for anything under 0x09.\r\n     */\r\n    public static boolean isBinaryFile(File f) throws FileNotFoundException, IOException {\r\n        FileInputStream in = new FileInputStream(f);\r\n        int size = in.available();\r\n        if(size &gt; 1024) size = 1024;\r\n        byte[] data = new byte[size];\r\n        in.read(data);\r\n        in.close();\r\n        \r\n        int ascii = 0;\r\n        int other = 0;\r\n        \r\n        for(int i = 0; i &lt; data.length; i++) {\r\n            byte b = data[i];\r\n            if( b &lt; 0x09 ) return true;\r\n            \r\n            if( b == 0x09 || b == 0x0A || b == 0x0C || b == 0x0D ) ascii++;\r\n            else if( b &gt;= 0x20  &amp;&amp;  b &lt;= 0x7E ) ascii++;\r\n            else other++;\r\n        }\r\n        \r\n        if( other == 0 ) return false;\r\n        \r\n        return 100 * other / (ascii + other) &gt; 95;\r\n    }\r\n","title":"Determining binary/text file type in Java?","body":"<p>I made this one.\nA bit simpler, but for latin-based languages, it should work fine, with the ratio adjustment.</p>\n\n<pre><code>/**\n *  Guess whether given file is binary. Just checks for anything under 0x09.\n */\npublic static boolean isBinaryFile(File f) throws FileNotFoundException, IOException {\n    FileInputStream in = new FileInputStream(f);\n    int size = in.available();\n    if(size &gt; 1024) size = 1024;\n    byte[] data = new byte[size];\n    in.read(data);\n    in.close();\n\n    int ascii = 0;\n    int other = 0;\n\n    for(int i = 0; i &lt; data.length; i++) {\n        byte b = data[i];\n        if( b &lt; 0x09 ) return true;\n\n        if( b == 0x09 || b == 0x0A || b == 0x0C || b == 0x0D ) ascii++;\n        else if( b &gt;= 0x20  &amp;&amp;  b &lt;= 0x7E ) ascii++;\n        else other++;\n    }\n\n    if( other == 0 ) return false;\n\n    return 100 * other / (ascii + other) &gt; 95;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":214333,"reputation":1988,"user_id":468249,"accept_rate":50,"display_name":"rince"},"down_vote_count":5,"up_vote_count":19,"is_accepted":false,"score":14,"last_activity_date":1475780573,"creation_date":1475780573,"answer_id":39903784,"question_id":620993,"body_markdown":"Using Java 7 Files class http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType(java.nio.file.Path)\r\n\r\n    boolean isBinaryFile(File f) throws IOException {\r\n            String type = Files.probeContentType(f.toPath());\r\n            if (type == null) {\r\n                //type couldn&#39;t be determined, assume binary\r\n                return true;\r\n            } else if (type.startsWith(&quot;text&quot;)) {\r\n                return false;\r\n            } else {\r\n                //type isn&#39;t text\r\n                return true;\r\n            }\r\n        }","title":"Determining binary/text file type in Java?","body":"<p>Using Java 7 Files class <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType(java.nio.file.Path)\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType(java.nio.file.Path)</a></p>\n\n<pre><code>boolean isBinaryFile(File f) throws IOException {\n        String type = Files.probeContentType(f.toPath());\n        if (type == null) {\n            //type couldn't be determined, assume binary\n            return true;\n        } else if (type.startsWith(\"text\")) {\n            return false;\n        } else {\n            //type isn't text\n            return true;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621410161,"creation_date":1621410161,"answer_id":67598927,"question_id":620993,"body_markdown":"You could try Apache Tika, I&#39;ve opened a [request specifically for this feature](https://issues.apache.org/jira/browse/TIKA-3409)\r\n\r\nbut for now, I think this might work... needs more thorough testing, may also have the problem of other mime type libraries in which you still really need a mapping from the type to whether or not it&#39;s binary.\r\n\r\n```java\r\nvar config = TikaConfig.getDefaultConfig();\r\nvar tika = new Tika( config );\r\nvar mimeTypes = config.getMimeRepository();\r\n\r\nvar mimetype = tika.detect(Path.of(&quot;my/foo&quot;));\r\nvar rootType = mimeTypes.forName( mime ).getType().getType();\r\nrootType.endsWith( &quot;text&quot; ); // text and x-text\r\n```","title":"Determining binary/text file type in Java?","body":"<p>You could try Apache Tika, I've opened a <a href=\"https://issues.apache.org/jira/browse/TIKA-3409\" rel=\"nofollow noreferrer\">request specifically for this feature</a></p>\n<p>but for now, I think this might work... needs more thorough testing, may also have the problem of other mime type libraries in which you still really need a mapping from the type to whether or not it's binary.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var config = TikaConfig.getDefaultConfig();\nvar tika = new Tika( config );\nvar mimeTypes = config.getMimeRepository();\n\nvar mimetype = tika.detect(Path.of(&quot;my/foo&quot;));\nvar rootType = mimeTypes.forName( mime ).getType().getType();\nrootType.endsWith( &quot;text&quot; ); // text and x-text\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45053,"reputation":3163,"user_id":132565,"accept_rate":67,"display_name":"Chase"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655592579,"creation_date":1655592579,"answer_id":72673256,"question_id":620993,"body_markdown":"Building on the suggestion from xenoterracide, here is an implementation using Tika Core.\r\n\r\n```java\r\n    public boolean isText(byte[] contentBytes) {\r\n        Tika tika = new Tika();\r\n        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(contentBytes);\r\n        try {\r\n            Set&lt;MediaType&gt; mediaTypes = new HashSet&lt;&gt;();\r\n            MediaType mediaType = MediaType.parse(tika.detect(byteArrayInputStream));\r\n            MediaTypeRegistry mediaTypeRegistry = MediaTypeRegistry.getDefaultRegistry();\r\n            while(mediaType != null) {\r\n                mediaTypes.addAll(mediaTypeRegistry.getAliases(mediaType));\r\n                mediaTypes.add(mediaType);\r\n                mediaType = mediaTypeRegistry.getSupertype(mediaType);\r\n            }\r\n            return mediaTypes.stream().anyMatch(mt -&gt; mt.getType().equals(&quot;text&quot;));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nThere are several different Tika.detect methods you can use depending on if you are starting from a File, have a file name, etc. See https://javadoc.io/static/org.apache.tika/tika-core/2.4.1/org/apache/tika/Tika.html","title":"Determining binary/text file type in Java?","body":"<p>Building on the suggestion from xenoterracide, here is an implementation using Tika Core.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public boolean isText(byte[] contentBytes) {\n        Tika tika = new Tika();\n        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(contentBytes);\n        try {\n            Set&lt;MediaType&gt; mediaTypes = new HashSet&lt;&gt;();\n            MediaType mediaType = MediaType.parse(tika.detect(byteArrayInputStream));\n            MediaTypeRegistry mediaTypeRegistry = MediaTypeRegistry.getDefaultRegistry();\n            while(mediaType != null) {\n                mediaTypes.addAll(mediaTypeRegistry.getAliases(mediaType));\n                mediaTypes.add(mediaType);\n                mediaType = mediaTypeRegistry.getSupertype(mediaType);\n            }\n            return mediaTypes.stream().anyMatch(mt -&gt; mt.getType().equals(&quot;text&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n            return false;\n        }\n    }\n</code></pre>\n<p>There are several different Tika.detect methods you can use depending on if you are starting from a File, have a file name, etc. See <a href=\"https://javadoc.io/static/org.apache.tika/tika-core/2.4.1/org/apache/tika/Tika.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/org.apache.tika/tika-core/2.4.1/org/apache/tika/Tika.html</a></p>\n"}],"owner":{"account_id":8429,"reputation":56686,"user_id":15187,"accept_rate":96,"display_name":"yanchenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42717,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":621003,"answer_count":12,"score":49,"last_activity_date":1655592579,"creation_date":1236385864,"question_id":620993,"body_markdown":"Namely, how would you tell an archive (jar/rar/etc.) file from a textual (xml/txt, encoding-independent) one?","title":"Determining binary/text file type in Java?","body":"<p>Namely, how would you tell an archive (jar/rar/etc.) file from a textual (xml/txt, encoding-independent) one?</p>\n"},{"tags":["java","file","metadata","read-write","eps"],"comments":[{"owner":{"account_id":360158,"reputation":30342,"user_id":701996,"display_name":"KenS"},"score":1,"creation_date":1560237915,"post_id":56537491,"comment_id":99659058,"body_markdown":"I have no idea what metadata you think you are adding, there are neither tags nor keywords (other than PostScript operators) in an EPS file. You haven&#39;t supplied any before or after example to look at, and you haven&#39;t said what you are using to open the file after creation. You need to bear in mind that PostScript is a programming language, altering the program by randomly poking it isn&#39;t likely to achieve success, you need to understand the program first. If you post a before and after file I&#39;ll take a look at them.","body":"I have no idea what metadata you think you are adding, there are neither tags nor keywords (other than PostScript operators) in an EPS file. You haven&#39;t supplied any before or after example to look at, and you haven&#39;t said what you are using to open the file after creation. You need to bear in mind that PostScript is a programming language, altering the program by randomly poking it isn&#39;t likely to achieve success, you need to understand the program first. If you post a before and after file I&#39;ll take a look at them."},{"owner":{"display_name":"user1773603"},"score":0,"creation_date":1560239861,"post_id":56537491,"comment_id":99659916,"body_markdown":"Hi @KenS, I have added info that you asked. You can check that. Thanks!","body":"Hi @KenS, I have added info that you asked. You can check that. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":360158,"reputation":30342,"user_id":701996,"display_name":"KenS"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1561056385,"creation_date":1560246055,"answer_id":56540805,"question_id":56537491,"body_markdown":"OK your problem is that your EPS file is an &#39;EPS with preview&#39;. In addition to the actual PostScript program, there is a bitmap which any application placing the EPS on a page can use to disply a &#39;preview&#39; to the user.\r\n\r\nThe file has binary at the beginning of it like this:\r\n\r\n    C5 D0 D3 C6 20 00 00 00 DC 49 05 00 00 00 00 00\r\n    00 00 00 00 FC 49 05 00 AE AC 4D 00 FF FF 00 00\r\n\r\nIf you read [Adobe Technical Note 5002 &quot;Encapsulated PostScript File Format Specification&quot;][1] and look at page 23 you will see that it defines the DOS EPS Binary File Header, which begins hex C5D0D3C6, just as your file does. So you can see your file has a DOS header, which defines a preview.\r\n\r\nNow byes 4-7 define the start of the PostScript, and bytes 8-11 define the length of the PostScript section. 12-15 are the start of the Metafile (0 for your case, so not present) and 16-19 are the byte length, again 0. Then at bytes 20-23 there is the start of the TIFF representation, and bytes 24-27 are the length of the TIFF. Finally there&#39;s the checksum of the header in the remaining two bytes; here we have 0xFFFF which means &#39;ignore the checksum&#39;. In this case the header has been padded out with two bytes (0x00) to make the total 32 bytes which is why the offset of the PostScript section is 0x20.\r\n\r\nYour problem is that, because you have added content to the PostScript section (therefore increasing its size), but have **not** updated the file header, to contain the new length of the PostScript section, or the new position of the preview, any EPS consumer won&#39;t be able to strip the preview. In effect you have corrupted the PostScript program.\r\n\r\nYou either need to update the file header, or strip the preview bitmap by removing the file header and trimming the bitmap off the end to produce a &#39;pure&#39; EPS file (ie one with no preview).\r\n\r\nI almost forgot to add some clarification; you are not updating &#39;keywords&#39; or &#39;tags&#39; in the EPS file. You are adding PostScript-language program code which executes PostScript operators. In this case, when run through a &#39;Disitller&#39;-like PostScript interpreter (that is, one which produces PDF as an output), the PDF file will have **its** metadata altered. You aren&#39;t altering the metadata of the **EPS** at all (that&#39;s done with the comments in the header). For a PostScript consumer which is not a Distiller the changes you have made will have no effect at all.\r\n\r\n[Update]\r\n\r\nModifying the header of &#39;file2&#39; (that is the file which has had pdfmarks added) like this:\r\n\r\n    C5 D0 D3 C6 20 00 00 00 32 26 05 00 00 00 00 00\r\n    00 00 00 00 52 26 05 00 AE AC 4D 00 FF FF 00 00\r\n\r\nResults in a working file. It seems that the modifications actually made the file shorter. The original size of the PostScript section was 0x0549DC and the offset of the TIFF bitmap was 0x0549FC. After modification the size of the PostScript section is 0x052632 and the offset of the TIFF bitmap is 0x052652.\r\n\r\nI have a sneaking suspicion that this is due to CR/LF translation, and if so this will also have corrutped the TIFF bitmap stored at the end of the file (I notice the binary at the end does indeed appear to be different). You need to read and write this file as a binary file, not text.\r\n\r\n  [1]: https://www.adobe.com/content/dam/acom/en/devnet/actionscript/articles/5002.EPSF_Spec.pdf\r\n","title":"Adding metadata in EPS file using Java","body":"<p>OK your problem is that your EPS file is an 'EPS with preview'. In addition to the actual PostScript program, there is a bitmap which any application placing the EPS on a page can use to disply a 'preview' to the user.</p>\n\n<p>The file has binary at the beginning of it like this:</p>\n\n<pre><code>C5 D0 D3 C6 20 00 00 00 DC 49 05 00 00 00 00 00\n00 00 00 00 FC 49 05 00 AE AC 4D 00 FF FF 00 00\n</code></pre>\n\n<p>If you read <a href=\"https://www.adobe.com/content/dam/acom/en/devnet/actionscript/articles/5002.EPSF_Spec.pdf\" rel=\"nofollow noreferrer\">Adobe Technical Note 5002 \"Encapsulated PostScript File Format Specification\"</a> and look at page 23 you will see that it defines the DOS EPS Binary File Header, which begins hex C5D0D3C6, just as your file does. So you can see your file has a DOS header, which defines a preview.</p>\n\n<p>Now byes 4-7 define the start of the PostScript, and bytes 8-11 define the length of the PostScript section. 12-15 are the start of the Metafile (0 for your case, so not present) and 16-19 are the byte length, again 0. Then at bytes 20-23 there is the start of the TIFF representation, and bytes 24-27 are the length of the TIFF. Finally there's the checksum of the header in the remaining two bytes; here we have 0xFFFF which means 'ignore the checksum'. In this case the header has been padded out with two bytes (0x00) to make the total 32 bytes which is why the offset of the PostScript section is 0x20.</p>\n\n<p>Your problem is that, because you have added content to the PostScript section (therefore increasing its size), but have <strong>not</strong> updated the file header, to contain the new length of the PostScript section, or the new position of the preview, any EPS consumer won't be able to strip the preview. In effect you have corrupted the PostScript program.</p>\n\n<p>You either need to update the file header, or strip the preview bitmap by removing the file header and trimming the bitmap off the end to produce a 'pure' EPS file (ie one with no preview).</p>\n\n<p>I almost forgot to add some clarification; you are not updating 'keywords' or 'tags' in the EPS file. You are adding PostScript-language program code which executes PostScript operators. In this case, when run through a 'Disitller'-like PostScript interpreter (that is, one which produces PDF as an output), the PDF file will have <strong>its</strong> metadata altered. You aren't altering the metadata of the <strong>EPS</strong> at all (that's done with the comments in the header). For a PostScript consumer which is not a Distiller the changes you have made will have no effect at all.</p>\n\n<p>[Update]</p>\n\n<p>Modifying the header of 'file2' (that is the file which has had pdfmarks added) like this:</p>\n\n<pre><code>C5 D0 D3 C6 20 00 00 00 32 26 05 00 00 00 00 00\n00 00 00 00 52 26 05 00 AE AC 4D 00 FF FF 00 00\n</code></pre>\n\n<p>Results in a working file. It seems that the modifications actually made the file shorter. The original size of the PostScript section was 0x0549DC and the offset of the TIFF bitmap was 0x0549FC. After modification the size of the PostScript section is 0x052632 and the offset of the TIFF bitmap is 0x052652.</p>\n\n<p>I have a sneaking suspicion that this is due to CR/LF translation, and if so this will also have corrutped the TIFF bitmap stored at the end of the file (I notice the binary at the end does indeed appear to be different). You need to read and write this file as a binary file, not text.</p>\n"}],"owner":{"display_name":"user1773603"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":1,"score":5,"last_activity_date":1655592459,"creation_date":1560233418,"question_id":56537491,"body_markdown":"I&#39;m currently reading and writing .EPS file to manipulate/add metadata (Keywords and Tags) in the file.\r\n\r\nPS: File encoding is Windows-1251 or Cp1251 -Russian-\r\n\r\nI&#39;m reading EPS file like this: (`String lines;` is a global variable)\r\n\r\n    try (BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(file), &quot;Cp1251&quot;))) {\r\n        String line;\r\n        while((line = br.readLine()) != null) {\r\n            if(line.contains(&quot;&lt;/xmpTPg:SwatchGroups&gt;&quot;)) {\r\n                lines.add(line);\r\n                lines.add(descriptionKwrds);\r\n            }\r\n            else\r\n                lines.add(line);\r\n            System.out.println(line);\r\n        }\r\n    } catch (FileNotFoundException ex) {\r\n        Logger.getLogger(script.class.getName()).log(Level.SEVERE, null, ex);\r\n    } catch (UnsupportedEncodingException ex) {\r\n        Logger.getLogger(script.class.getName()).log(Level.SEVERE, null, ex);\r\n    } catch (IOException ex) {\r\n        Logger.getLogger(script.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\nIn above `descriptionKwrds` is the metadata (tags) that I want to manipulate an EPS file like:\r\n\r\n    String descriptionKwrds = &quot;&lt;photoshop:AuthorsPosition&gt;icon vector illustration symbol bubble sign&lt;/photoshop:AuthorsPosition&gt;&quot;;\r\nAnd writing EPS file like this:\r\n\r\n    try {\r\n        try (BufferedWriter out = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file.getName()), &quot;Cp1251&quot;))) {\r\n            for(String s : lines)\r\n                out.write(s + &quot;\\n&quot;);\r\n            out.flush();\r\n        }\r\n    } catch (FileNotFoundException ex) {\r\n        Logger.getLogger(script.class.getName()).log(Level.SEVERE, null, ex);\r\n    } catch (IOException ex) {\r\n        Logger.getLogger(script.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\nFile is reading and writing correctly, but when I open newly generated file. It says that the file is corrupted.\r\n\r\nFiles before and after manipulation are [file1](https://filebin.net/n31uowbuq9c3eqqy/6x6___________________1_______7.eps?t=6n9uqmbe) and [file2](https://filebin.net/g100x0m09jxvo4cs/6x6___________________1_______7.eps?t=h8s9ao3k) respectively. And using [ESP Converter](https://www.epsconverter.com/) to open EPS files online.\r\n\r\nHow I can achieve it? \r\n","title":"Adding metadata in EPS file using Java","body":"<p>I'm currently reading and writing .EPS file to manipulate/add metadata (Keywords and Tags) in the file.</p>\n<p>PS: File encoding is Windows-1251 or Cp1251 -Russian-</p>\n<p>I'm reading EPS file like this: (<code>String lines;</code> is a global variable)</p>\n<pre><code>try (BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(file), &quot;Cp1251&quot;))) {\n    String line;\n    while((line = br.readLine()) != null) {\n        if(line.contains(&quot;&lt;/xmpTPg:SwatchGroups&gt;&quot;)) {\n            lines.add(line);\n            lines.add(descriptionKwrds);\n        }\n        else\n            lines.add(line);\n        System.out.println(line);\n    }\n} catch (FileNotFoundException ex) {\n    Logger.getLogger(script.class.getName()).log(Level.SEVERE, null, ex);\n} catch (UnsupportedEncodingException ex) {\n    Logger.getLogger(script.class.getName()).log(Level.SEVERE, null, ex);\n} catch (IOException ex) {\n    Logger.getLogger(script.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n<p>In above <code>descriptionKwrds</code> is the metadata (tags) that I want to manipulate an EPS file like:</p>\n<pre><code>String descriptionKwrds = &quot;&lt;photoshop:AuthorsPosition&gt;icon vector illustration symbol bubble sign&lt;/photoshop:AuthorsPosition&gt;&quot;;\n</code></pre>\n<p>And writing EPS file like this:</p>\n<pre><code>try {\n    try (BufferedWriter out = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file.getName()), &quot;Cp1251&quot;))) {\n        for(String s : lines)\n            out.write(s + &quot;\\n&quot;);\n        out.flush();\n    }\n} catch (FileNotFoundException ex) {\n    Logger.getLogger(script.class.getName()).log(Level.SEVERE, null, ex);\n} catch (IOException ex) {\n    Logger.getLogger(script.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n<p>File is reading and writing correctly, but when I open newly generated file. It says that the file is corrupted.</p>\n<p>Files before and after manipulation are <a href=\"https://filebin.net/n31uowbuq9c3eqqy/6x6___________________1_______7.eps?t=6n9uqmbe\" rel=\"nofollow noreferrer\">file1</a> and <a href=\"https://filebin.net/g100x0m09jxvo4cs/6x6___________________1_______7.eps?t=h8s9ao3k\" rel=\"nofollow noreferrer\">file2</a> respectively. And using <a href=\"https://www.epsconverter.com/\" rel=\"nofollow noreferrer\">ESP Converter</a> to open EPS files online.</p>\n<p>How I can achieve it?</p>\n"},{"tags":["java","node.js","express","webserver"],"answers":[{"tags":[],"owner":{"account_id":14868083,"reputation":196,"user_id":10736451,"display_name":"szachMati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655590020,"creation_date":1655590020,"answer_id":72673066,"question_id":72672858,"body_markdown":"First of all try understand differences between GET and POST HTTP methods\r\nhttps://www.w3schools.com/tags/ref_httpmethods.asp\r\n\r\nThere is also a good example in docs: https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.BodyPublishers.html \r\n\r\n   \r\n\r\n   \r\n\r\n     HttpRequest request = HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;https://example.com/&quot;))\r\n                .header(&quot;Content-Type&quot;, &quot;text/plain; charset=UTF-8&quot;)\r\n                .POST(BodyPublishers.ofString(&quot;some body text&quot;))\r\n                .build();\r\n\r\nYou can also look here as well\r\nhttps://www.baeldung.com/java-9-http-client\r\n","title":"java http request cannot post","body":"<p>First of all try understand differences between GET and POST HTTP methods\n<a href=\"https://www.w3schools.com/tags/ref_httpmethods.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/tags/ref_httpmethods.asp</a></p>\n<p>There is also a good example in docs: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.BodyPublishers.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.BodyPublishers.html</a></p>\n<pre><code> HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(&quot;https://example.com/&quot;))\n            .header(&quot;Content-Type&quot;, &quot;text/plain; charset=UTF-8&quot;)\n            .POST(BodyPublishers.ofString(&quot;some body text&quot;))\n            .build();\n</code></pre>\n<p>You can also look here as well\n<a href=\"https://www.baeldung.com/java-9-http-client\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-9-http-client</a></p>\n"}],"owner":{"account_id":23119490,"reputation":31,"user_id":17226224,"display_name":"yftach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655590020,"creation_date":1655587479,"question_id":72672858,"body_markdown":"I have a nodejs web server running and I want to a body to the request in my java program.\r\n\r\n    HttpClient client = HttpClient.newHttpClient();\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n                .GET()\r\n                .header( &quot;Content-Type&quot;, &quot;text/plain;charset=UTF-8&quot;)\r\n                .uri(URI.create(&quot;http://localhost:3000&quot;))\r\n                .POST(HttpRequest.BodyPublishers.ofString(&quot;Hello&quot;))\r\n                .build();\r\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\r\n        System.out.println(&quot;status:&quot; + response.statusCode());\r\n        System.out.println(&quot;response:&quot; + response.body());\r\n\r\nIf I delete this line: `.POST(HttpRequest.BodyPublishers.ofString(&quot;Hello&quot;))` everything works fine, I get the response from the server, but there is no body to the request.\r\nWith this line I get status code 404 and the body of the response to the client is: \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZqaMm.png\r\n\r\nHow can I add body to the request?","title":"java http request cannot post","body":"<p>I have a nodejs web server running and I want to a body to the request in my java program.</p>\n<pre><code>HttpClient client = HttpClient.newHttpClient();\n    HttpRequest request = HttpRequest.newBuilder()\n            .GET()\n            .header( &quot;Content-Type&quot;, &quot;text/plain;charset=UTF-8&quot;)\n            .uri(URI.create(&quot;http://localhost:3000&quot;))\n            .POST(HttpRequest.BodyPublishers.ofString(&quot;Hello&quot;))\n            .build();\n    HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n\n    System.out.println(&quot;status:&quot; + response.statusCode());\n    System.out.println(&quot;response:&quot; + response.body());\n</code></pre>\n<p>If I delete this line: <code>.POST(HttpRequest.BodyPublishers.ofString(&quot;Hello&quot;))</code> everything works fine, I get the response from the server, but there is no body to the request.\nWith this line I get status code 404 and the body of the response to the client is:\n<a href=\"https://i.stack.imgur.com/ZqaMm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZqaMm.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I add body to the request?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655515017,"creation_date":1655360604,"answer_id":72641346,"question_id":72641262,"body_markdown":"Add a `toString()` method to each of your animal classes, e.g:\r\n```\r\npublic class Dog extends RescueAnimal {\r\n  ...\r\n  public String toString() {\r\n    return &quot;*&quot; + getName() + &quot; and &quot; + getBreed();\r\n  }\r\n  ...\r\n}\r\n```\r\nand similarly for `Monkey`.\r\n\r\nChange `printAnimals` so that you pass it specific `List&lt;RescueAnimal&gt;`:\r\n```\r\npublic static void printAnimals(String listName, List&lt;RescueAnimal&gt; list) {\r\n        System.out.println(&quot;List of &quot; + listName);\r\n        for (RescueAnimal animal: list) { \r\n            System.out.println(animal.toString());\r\n        } \r\n}\r\n```\r\n\r\nNow `printAnimals()` can print any sort of animal.\r\n\r\nAnd your `case` above becomes:\r\n```\r\n        case&quot;&quot;: printAnimals(&quot;Dogs&quot;, dogList);\r\n            break;\r\n```\r\n","title":"making identical loops redundant","body":"<p>Add a <code>toString()</code> method to each of your animal classes, e.g:</p>\n<pre><code>public class Dog extends RescueAnimal {\n  ...\n  public String toString() {\n    return &quot;*&quot; + getName() + &quot; and &quot; + getBreed();\n  }\n  ...\n}\n</code></pre>\n<p>and similarly for <code>Monkey</code>.</p>\n<p>Change <code>printAnimals</code> so that you pass it specific <code>List&lt;RescueAnimal&gt;</code>:</p>\n<pre><code>public static void printAnimals(String listName, List&lt;RescueAnimal&gt; list) {\n        System.out.println(&quot;List of &quot; + listName);\n        for (RescueAnimal animal: list) { \n            System.out.println(animal.toString());\n        } \n}\n</code></pre>\n<p>Now <code>printAnimals()</code> can print any sort of animal.</p>\n<p>And your <code>case</code> above becomes:</p>\n<pre><code>        case&quot;&quot;: printAnimals(&quot;Dogs&quot;, dogList);\n            break;\n</code></pre>\n"}],"owner":{"display_name":"user18942073"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72641346,"answer_count":1,"score":0,"last_activity_date":1655589733,"creation_date":1655359837,"question_id":72641262,"body_markdown":"\r\nThis code loops an options menu and a user can either print a doglist, print a monkeyList, or quit. Animal instantiation is visible but not functional in this example.\r\n\r\nMy main concern is with the printAnimals() method. This example does work but are there ways to make one of the for loops redundant so it becomes unnecessary to add loops to the method each time I may want to create a new sub class? \r\n \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n    public class Driver {\r\n\r\n    private static ArrayList&lt;Dog&gt; dogList = new ArrayList&lt;Dog&gt;(); \r\n    private static ArrayList&lt;Monkey&gt; monkeyList = new ArrayList&lt;Monkey&gt;(); \r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \r\n    initializeDogList();\r\n    initializeMonkeyList();\r\n\r\n    // Loop that displays the menu, accepts the users input\r\n    // and takes the appropriate action\r\n    // loop until user quits (&quot;q&quot;) or selects valid option\r\n    // user selects 1, 2, or q\r\n    // invalid selection results in a prompt\r\n    \r\n    Scanner input = new Scanner(System.in); // allows for input\r\n    boolean takingInput = true; // loop condition\r\n    \r\n    do { // do while(true)loop\r\n        \r\n        displayMenu(); // call display menu method\r\n        String command = input.nextLine(); // enters menu selection\r\n        \r\n        switch(command) { // command = 1,2, or q\r\n                \r\n            case&quot;1&quot;: printAnimals(&quot;Dog&quot;); // prints monkey list, no conditions\r\n                break;\r\n                \r\n            case&quot;2&quot;: printAnimals(&quot;Monkey&quot;); // prints dogs AND monkeys, conditions apply\r\n                break;\r\n                    \r\n            case&quot;q&quot;: takingInput = false; // loop condition becomes false\r\n                break;\r\n                \r\n            default: // invalid command\r\n                System.out.println(&quot;invalid input&quot;);\r\n        }\r\n    }while(takingInput); // while (true)\r\n    System.out.println(&quot;Bye&quot;); // when false\r\n    }    \r\n\r\n    // This method prints the menu options\r\n    public static void displayMenu() {\r\n    System.out.println(&quot;\\n\\n&quot;);\r\n    System.out.println(&quot;\\t\\t\\t\\tRescue Animal System Menu&quot;);\r\n    System.out.println(&quot;[1] Print a list of all dogs&quot;);\r\n    System.out.println(&quot;[2] Print a list of all monkeys&quot;);\r\n    System.out.println(&quot;[q] Quit application&quot;);\r\n    System.out.println();\r\n    System.out.println(&quot;Enter a menu selection&quot;);\r\n    }\r\n\r\n\r\n    // Dog objects\r\n    public static void initializeDogList() {\r\n    Dog dog1 = new Dog(&quot;Spot&quot;, &quot;German Shepherd&quot;);\r\n    Dog dog2 = new Dog(&quot;Rex&quot;, &quot;Great Dane&quot;);\r\n    Dog dog3 = new Dog(&quot;Bella&quot;, &quot;Chihuahua&quot;);\r\n    \r\n    // adds dogs to list\r\n    dogList.add(dog1); \r\n    dogList.add(dog2); \r\n    dogList.add(dog3); \r\n    }\r\n\r\n\r\n    // Monkey objects\r\n    public static void initializeMonkeyList() {\r\n    Monkey monkey1 = new Monkey(&quot;Bobo&quot;, &quot;Tamarin&quot;);\r\n    Monkey monkey2 = new Monkey(&quot;Shuga&quot;, &quot;Marmoset&quot;);\r\n    Monkey monkey3 = new Monkey(&quot;Coco&quot;, &quot;Capuchin&quot;);\r\n    \r\n    monkeyList.add(monkey1); \r\n    monkeyList.add(monkey2); \r\n    monkeyList.add(monkey3); \r\n    }\r\n\r\n\r\n    // intakeNewDog method\r\n    public static void intakeNewDog(Scanner scanner) {\r\n    \r\n    System.out.println(&quot;What is the dog&#39;s name?&quot;);\r\n    String name = scanner.nextLine();\r\n    \r\n    \r\n    for(Dog dog : dogList)  \r\n        if(dog.getName().equalsIgnoreCase(name)) { \r\n            System.out.println(&quot;This dog is already in our system&quot;); // ...print...\r\n            return; // ... and return to menu.\r\n        }\r\n    \r\n\r\n    System.out.println(&quot;Enter dog&#39;s breed: &quot;);\r\n    String breed = scanner.nextLine();\r\n            \r\n    // complete instantiation and add dog to list\r\n    Dog dog4 = new Dog(name, breed);\r\n    dogList.add(dog4); \r\n    System.out.println(&quot;New dog added to list&quot;);\r\n    return;  // to menu\r\n    }\r\n\r\n    // intakeNewMonkey conditions are monkey&#39;s name and species\r\n    public static void intakeNewMonkey(Scanner scanner) {\r\n    \r\n    System.out.println(&quot;Enter monkey&#39;s name?&quot;);\r\n    String name = scanner.nextLine();\r\n    \r\n    // for each monkey object in monkey list:\r\n    for(Monkey monkey: monkeyList)\r\n        if(monkey.getName().equalsIgnoreCase(name)) { \r\n            System.out.println(&quot;This monkey is already in our system&quot;); // ...print...\r\n            return; \r\n        }\r\n    \r\n    System.out.println(&quot;Enter monkey&#39;s species: &quot;);\r\n    species = scanner.nextLine();\r\n            \r\n    // complete instantiation. add monkey to list\r\n    Monkey monkey4 = new Monkey(name, species);\r\n    monkeyList.add(monkey4); // adds new monkey to monkeyList. \r\n    System.out.println(&quot;New monkey added to the monkey list&quot;);\r\n    return; // to menu\r\n    }\r\n\r\n    // The printAnimals() method has 2 different outputs \r\n    public static void printAnimals(String listType) {\r\n        // print dog list if listType is dog\r\n        if (listType.equalsIgnoreCase(&quot;Dog&quot;)) {\r\n            System.out.println(&quot;List of dogs&quot;); \r\n            for (Dog dog: dogList) { \r\n                System.out.println(&quot;*&quot; + dog.getName() + &quot; and &quot; dog.getBreed());\r\n            }\r\n        }\r\n        // print monkey list if listType is monkey\r\n        if (listType.equalsIgnoreCase(&quot;Monkey&quot;)) {\r\n            System.out.println(&quot;List of monkeys&quot;); \r\n            // For each monkey in monkey list:\r\n            for (Monkey monkey: monkeyList) {\r\n                System.out.println(&quot;*&quot; + monkey.getName() + and monkey.getSpecies()); \r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nShould I be doing more below than in the driver??\r\n\r\n    import java.lang.String;\r\n\r\n    public class RescueAnimal {\r\n\r\n    // Instance variables\r\n    private String name;\r\n    private String animalType;\r\n\r\n\r\n    // Constructor\r\n    public RescueAnimal() {\r\n    }\r\n\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n\r\n    public String getAnimalType() {\r\n        return animalType;\r\n    }\r\n\r\n\r\n    public void setAnimalType(String animalType) {\r\n        this.animalType = animalType;\r\n    }\r\n\r\n    }\r\n\r\n    public class Dog extends RescueAnimal {\r\n\r\n    // Instance variable\r\n    private String breed;\r\n\r\n    // Constructor\r\n    public Dog(String name, String breed) {\r\n        setName(name);\r\n        setBreed(breed);\r\n    }\r\n\r\n    // Accessor Method\r\n    public String getBreed() {\r\n        return breed;\r\n    }\r\n\r\n    // Mutator Method\r\n    public void setBreed(String dogBreed) {\r\n        breed = dogBreed;\r\n    }\r\n\r\n    }\r\n\r\n    public class Monkey extends RescueAnimal {\r\n\r\n    // instance variables\r\n    private String species;\r\n\r\n    // constructor\r\n    public Monkey (String name, String species) {\r\n        setName(name);\r\n        setSpecies(species);\r\n    }\r\n\r\n    // Accessor\r\n    public String getSpecies() {\r\n        return species;\r\n    }\r\n\r\n    // Mutator\r\n    public void setSpecies(String species) {\r\n        this.species = species;\r\n    }\r\n    }\r\n\r\n  ","title":"making identical loops redundant","body":"<p>This code loops an options menu and a user can either print a doglist, print a monkeyList, or quit. Animal instantiation is visible but not functional in this example.</p>\n<p>My main concern is with the printAnimals() method. This example does work but are there ways to make one of the for loops redundant so it becomes unnecessary to add loops to the method each time I may want to create a new sub class?</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Driver {\n\nprivate static ArrayList&lt;Dog&gt; dogList = new ArrayList&lt;Dog&gt;(); \nprivate static ArrayList&lt;Monkey&gt; monkeyList = new ArrayList&lt;Monkey&gt;(); \n\npublic static void main(String[] args) {\n\n\ninitializeDogList();\ninitializeMonkeyList();\n\n// Loop that displays the menu, accepts the users input\n// and takes the appropriate action\n// loop until user quits (&quot;q&quot;) or selects valid option\n// user selects 1, 2, or q\n// invalid selection results in a prompt\n\nScanner input = new Scanner(System.in); // allows for input\nboolean takingInput = true; // loop condition\n\ndo { // do while(true)loop\n    \n    displayMenu(); // call display menu method\n    String command = input.nextLine(); // enters menu selection\n    \n    switch(command) { // command = 1,2, or q\n            \n        case&quot;1&quot;: printAnimals(&quot;Dog&quot;); // prints monkey list, no conditions\n            break;\n            \n        case&quot;2&quot;: printAnimals(&quot;Monkey&quot;); // prints dogs AND monkeys, conditions apply\n            break;\n                \n        case&quot;q&quot;: takingInput = false; // loop condition becomes false\n            break;\n            \n        default: // invalid command\n            System.out.println(&quot;invalid input&quot;);\n    }\n}while(takingInput); // while (true)\nSystem.out.println(&quot;Bye&quot;); // when false\n}    \n\n// This method prints the menu options\npublic static void displayMenu() {\nSystem.out.println(&quot;\\n\\n&quot;);\nSystem.out.println(&quot;\\t\\t\\t\\tRescue Animal System Menu&quot;);\nSystem.out.println(&quot;[1] Print a list of all dogs&quot;);\nSystem.out.println(&quot;[2] Print a list of all monkeys&quot;);\nSystem.out.println(&quot;[q] Quit application&quot;);\nSystem.out.println();\nSystem.out.println(&quot;Enter a menu selection&quot;);\n}\n\n\n// Dog objects\npublic static void initializeDogList() {\nDog dog1 = new Dog(&quot;Spot&quot;, &quot;German Shepherd&quot;);\nDog dog2 = new Dog(&quot;Rex&quot;, &quot;Great Dane&quot;);\nDog dog3 = new Dog(&quot;Bella&quot;, &quot;Chihuahua&quot;);\n\n// adds dogs to list\ndogList.add(dog1); \ndogList.add(dog2); \ndogList.add(dog3); \n}\n\n\n// Monkey objects\npublic static void initializeMonkeyList() {\nMonkey monkey1 = new Monkey(&quot;Bobo&quot;, &quot;Tamarin&quot;);\nMonkey monkey2 = new Monkey(&quot;Shuga&quot;, &quot;Marmoset&quot;);\nMonkey monkey3 = new Monkey(&quot;Coco&quot;, &quot;Capuchin&quot;);\n\nmonkeyList.add(monkey1); \nmonkeyList.add(monkey2); \nmonkeyList.add(monkey3); \n}\n\n\n// intakeNewDog method\npublic static void intakeNewDog(Scanner scanner) {\n\nSystem.out.println(&quot;What is the dog's name?&quot;);\nString name = scanner.nextLine();\n\n\nfor(Dog dog : dogList)  \n    if(dog.getName().equalsIgnoreCase(name)) { \n        System.out.println(&quot;This dog is already in our system&quot;); // ...print...\n        return; // ... and return to menu.\n    }\n\n\nSystem.out.println(&quot;Enter dog's breed: &quot;);\nString breed = scanner.nextLine();\n        \n// complete instantiation and add dog to list\nDog dog4 = new Dog(name, breed);\ndogList.add(dog4); \nSystem.out.println(&quot;New dog added to list&quot;);\nreturn;  // to menu\n}\n\n// intakeNewMonkey conditions are monkey's name and species\npublic static void intakeNewMonkey(Scanner scanner) {\n\nSystem.out.println(&quot;Enter monkey's name?&quot;);\nString name = scanner.nextLine();\n\n// for each monkey object in monkey list:\nfor(Monkey monkey: monkeyList)\n    if(monkey.getName().equalsIgnoreCase(name)) { \n        System.out.println(&quot;This monkey is already in our system&quot;); // ...print...\n        return; \n    }\n\nSystem.out.println(&quot;Enter monkey's species: &quot;);\nspecies = scanner.nextLine();\n        \n// complete instantiation. add monkey to list\nMonkey monkey4 = new Monkey(name, species);\nmonkeyList.add(monkey4); // adds new monkey to monkeyList. \nSystem.out.println(&quot;New monkey added to the monkey list&quot;);\nreturn; // to menu\n}\n\n// The printAnimals() method has 2 different outputs \npublic static void printAnimals(String listType) {\n    // print dog list if listType is dog\n    if (listType.equalsIgnoreCase(&quot;Dog&quot;)) {\n        System.out.println(&quot;List of dogs&quot;); \n        for (Dog dog: dogList) { \n            System.out.println(&quot;*&quot; + dog.getName() + &quot; and &quot; dog.getBreed());\n        }\n    }\n    // print monkey list if listType is monkey\n    if (listType.equalsIgnoreCase(&quot;Monkey&quot;)) {\n        System.out.println(&quot;List of monkeys&quot;); \n        // For each monkey in monkey list:\n        for (Monkey monkey: monkeyList) {\n            System.out.println(&quot;*&quot; + monkey.getName() + and monkey.getSpecies()); \n        }\n    }\n}\n}\n</code></pre>\n<p>Should I be doing more below than in the driver??</p>\n<pre><code>import java.lang.String;\n\npublic class RescueAnimal {\n\n// Instance variables\nprivate String name;\nprivate String animalType;\n\n\n// Constructor\npublic RescueAnimal() {\n}\n\n\npublic String getName() {\n    return name;\n}\n\n\npublic void setName(String name) {\n    this.name = name;\n}\n\n\npublic String getAnimalType() {\n    return animalType;\n}\n\n\npublic void setAnimalType(String animalType) {\n    this.animalType = animalType;\n}\n\n}\n\npublic class Dog extends RescueAnimal {\n\n// Instance variable\nprivate String breed;\n\n// Constructor\npublic Dog(String name, String breed) {\n    setName(name);\n    setBreed(breed);\n}\n\n// Accessor Method\npublic String getBreed() {\n    return breed;\n}\n\n// Mutator Method\npublic void setBreed(String dogBreed) {\n    breed = dogBreed;\n}\n\n}\n\npublic class Monkey extends RescueAnimal {\n\n// instance variables\nprivate String species;\n\n// constructor\npublic Monkey (String name, String species) {\n    setName(name);\n    setSpecies(species);\n}\n\n// Accessor\npublic String getSpecies() {\n    return species;\n}\n\n// Mutator\npublic void setSpecies(String species) {\n    this.species = species;\n}\n}\n</code></pre>\n"},{"tags":["java","scala","aws-lambda","aws-sdk","serverless"],"comments":[{"owner":{"account_id":4785334,"reputation":4526,"user_id":3866010,"accept_rate":76,"display_name":""},"score":1,"creation_date":1635391370,"post_id":69746045,"comment_id":123287010,"body_markdown":"You really shouldn&#39;t add the whole AWS SDK to your lambda function. Only add the library for the services you need. For example - if you need to connect to DynamoDB database, only add the DynamoDB service. Same goes to all AWS services - each service has it&#39;s own library","body":"You really shouldn&#39;t add the whole AWS SDK to your lambda function. Only add the library for the services you need. For example - if you need to connect to DynamoDB database, only add the DynamoDB service. Same goes to all AWS services - each service has it&#39;s own library"}],"answers":[{"tags":[],"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655589215,"creation_date":1655589215,"answer_id":72672997,"question_id":69746045,"body_markdown":"AWS Lambda functions have a code size limit. You tried to deploy something which was too big. It looks like you wanted to use something from the AWS SDK but instead of picking the specific module you picked the dependency with everything. \r\n\r\nWhen working with Lambda try to reduce the size of your dependencies.","title":"AWS-JAVA-SDK: Unzipped size must be smaller than 262144000 bytes","body":"<p>AWS Lambda functions have a code size limit. You tried to deploy something which was too big. It looks like you wanted to use something from the AWS SDK but instead of picking the specific module you picked the dependency with everything.</p>\n<p>When working with Lambda try to reduce the size of your dependencies.</p>\n"}],"owner":{"account_id":4248689,"reputation":171,"user_id":3476509,"display_name":"user3476509"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655589215,"creation_date":1635372715,"question_id":69746045,"body_markdown":"I&#39;m trying to deploy a single lambda function on AWS in scala with SAM-CLI.\r\n\r\nIt works fine, but when I add the dependency to my build.sbt\r\n\r\n      &quot;com.amazonaws&quot; % &quot;aws-java-sdk&quot; % &quot;1.11.46&quot;\r\n \r\nThe deploy fails and return\r\n\r\n    &quot;Unzipped size must be smaller than 262144000 bytes (Service: Lambda, Status Code: 400, Request ID: 53eeb ab6-9377-4a37-b20b-9e55ccbebd72, Extended Request ID: null)&quot;\r\n\r\n                                                                                                                      \r\nMy function is\r\n```sbt\r\n    def handle(request: APIGatewayProxyRequestEvent, context: Context): Response = {\r\n    \r\n    println(&quot;handling %s %s, remaining time is %d ms&quot;.format(\r\n      request.getHttpMethod, request.getPath, context.getRemainingTimeInMillis) )\r\n    \r\n    println(s&quot;&quot;&quot;environment = ${sys.env.getOrElse(&quot;env&quot;, &quot;n/a&quot;)}&quot;&quot;&quot;)\r\n\r\n    val name = request.getPathParameters.get(&quot;name&quot;)\r\n    Response(s&quot;Hello, $name\\n&quot;, Map(&quot;Content-Type&quot; -&gt; &quot;text/plain&quot;))\r\n  }\r\n  \r\n  case class Response(body: String, headers: Map[String,String], statusCode: Int = 200) {\r\n    def javaHeaders: java.util.Map[String, String] = headers.asJava `enter code here`}\r\n```\r\nAnd my template.yaml looks like\r\n\r\n```yaml\r\nAWSTemplateFormatVersion: &#39;2010-09-09&#39;\r\n\r\nTransform: AWS::Serverless-2016-10-31\r\n\r\nDescription: &gt;-\r\n  A SAM CLI template for a single-endpoint Hello World Lambda function in Scala\r\n\r\nResources:\r\n  HelloScalaFunction:\r\n    Type: AWS::Serverless::Function\r\n    Properties:\r\n      FunctionName: HelloScala\r\n      Description: A simple AWS Lambda function in Scala\r\n      Runtime: java8\r\n      Handler: lambda.ApiGatewayProxyHandler\r\n      CodeUri: target/scala-2.12/hello-scala.jar\r\n      MemorySize: 512\r\n      Timeout: 15\r\n      Environment:\r\n        Variables:\r\n          env: staging\r\n      Events:\r\n        Hello:\r\n          Type: Api\r\n          Properties:\r\n            Path: /hello/{name}\r\n            Method: GET\r\n        \r\nOutputs:\r\n    ApiURL:\r\n      Description: &quot;API endpoint URL for Prod environment&quot;\r\n      Value: !Sub &quot;https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/hello/{name}&quot;\r\n\r\n```\r\n\r\nAnyone has ever experienced something similar? \r\nHow would you solve this? ","title":"AWS-JAVA-SDK: Unzipped size must be smaller than 262144000 bytes","body":"<p>I'm trying to deploy a single lambda function on AWS in scala with SAM-CLI.</p>\n<p>It works fine, but when I add the dependency to my build.sbt</p>\n<pre><code>  &quot;com.amazonaws&quot; % &quot;aws-java-sdk&quot; % &quot;1.11.46&quot;\n</code></pre>\n<p>The deploy fails and return</p>\n<pre><code>&quot;Unzipped size must be smaller than 262144000 bytes (Service: Lambda, Status Code: 400, Request ID: 53eeb ab6-9377-4a37-b20b-9e55ccbebd72, Extended Request ID: null)&quot;\n\n                                                                                                                  \n</code></pre>\n<p>My function is</p>\n<pre><code>    def handle(request: APIGatewayProxyRequestEvent, context: Context): Response = {\n    \n    println(&quot;handling %s %s, remaining time is %d ms&quot;.format(\n      request.getHttpMethod, request.getPath, context.getRemainingTimeInMillis) )\n    \n    println(s&quot;&quot;&quot;environment = ${sys.env.getOrElse(&quot;env&quot;, &quot;n/a&quot;)}&quot;&quot;&quot;)\n\n    val name = request.getPathParameters.get(&quot;name&quot;)\n    Response(s&quot;Hello, $name\\n&quot;, Map(&quot;Content-Type&quot; -&gt; &quot;text/plain&quot;))\n  }\n  \n  case class Response(body: String, headers: Map[String,String], statusCode: Int = 200) {\n    def javaHeaders: java.util.Map[String, String] = headers.asJava `enter code here`}\n</code></pre>\n<p>And my template.yaml looks like</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>AWSTemplateFormatVersion: '2010-09-09'\n\nTransform: AWS::Serverless-2016-10-31\n\nDescription: &gt;-\n  A SAM CLI template for a single-endpoint Hello World Lambda function in Scala\n\nResources:\n  HelloScalaFunction:\n    Type: AWS::Serverless::Function\n    Properties:\n      FunctionName: HelloScala\n      Description: A simple AWS Lambda function in Scala\n      Runtime: java8\n      Handler: lambda.ApiGatewayProxyHandler\n      CodeUri: target/scala-2.12/hello-scala.jar\n      MemorySize: 512\n      Timeout: 15\n      Environment:\n        Variables:\n          env: staging\n      Events:\n        Hello:\n          Type: Api\n          Properties:\n            Path: /hello/{name}\n            Method: GET\n        \nOutputs:\n    ApiURL:\n      Description: &quot;API endpoint URL for Prod environment&quot;\n      Value: !Sub &quot;https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/hello/{name}&quot;\n\n</code></pre>\n<p>Anyone has ever experienced something similar?\nHow would you solve this?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-api-gateway"],"answers":[{"tags":[],"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655589016,"creation_date":1655589016,"answer_id":72672982,"question_id":69800755,"body_markdown":"You&#39;ve created your Lambda function to be invoked by Amazon API Gateway. In your code example it looks like you&#39;re trying to invoke the function directly.\r\n\r\nInstead make a suitable http call to the API Gateway endpoint url.","title":"How to invoke AWS Lambda functiuon which handles APIGatewayProxyRequestEvent?","body":"<p>You've created your Lambda function to be invoked by Amazon API Gateway. In your code example it looks like you're trying to invoke the function directly.</p>\n<p>Instead make a suitable http call to the API Gateway endpoint url.</p>\n"}],"owner":{"account_id":6924971,"reputation":363,"user_id":5316307,"display_name":"bobjan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655589016,"creation_date":1635788941,"question_id":69800755,"body_markdown":"I have an AWS Lambda function, implemented in Java, which is behind APIGateway. It works fine with:\r\n```\r\n.\r\n.\r\n.\r\npublic APIGatewayProxyResponseEvent handleRequest(APIGatewayProxyRequestEvent input, Context context) \r\n.\r\n.\r\n.\r\n```\r\nI want to invoke the function from a Java app with:\r\n```\r\n.\r\n.\r\nAPIGatewayProxyRequestEvent event = new APIGatewayProxyRequestEvent();\r\n// tried to use almost all setters\r\nInvokeRequest req = new InvokeRequest()\r\n       .withFunctionName(&quot;&lt;Lambda arn&gt;&quot;)\r\n       .withPayload(event.toString());\r\n// here, I also tried many options\r\n```\r\nThe Lambda is invoked, but checking thru CloudWatch, I see nothing as an input APIGatewayProxyRequestEvent.\r\nAnd, with various event setters I experience something like:\r\n\r\n```\r\nom.amazonaws.services.lambda.model.InvalidRequestContentException: Could not parse request body into json: Could not parse payload into json: Unexpected character (&#39;r&#39; (code 114)): was expecting double-quote to start field name\r\n at [Source: (byte[]); line: 1, column: 3] (Service: AWSLambda; Status Code: 400; Error Code: InvalidRequestContentException; Request ID: ..........\r\n```\r\nHow can I specify that the invoked lambda function expects APIGatewayProxyRequestEven as an input argument?\r\nI&#39;ve got a feeling that I miss something very simple, but can not find it.\r\nThanks.","title":"How to invoke AWS Lambda functiuon which handles APIGatewayProxyRequestEvent?","body":"<p>I have an AWS Lambda function, implemented in Java, which is behind APIGateway. It works fine with:</p>\n<pre><code>.\n.\n.\npublic APIGatewayProxyResponseEvent handleRequest(APIGatewayProxyRequestEvent input, Context context) \n.\n.\n.\n</code></pre>\n<p>I want to invoke the function from a Java app with:</p>\n<pre><code>.\n.\nAPIGatewayProxyRequestEvent event = new APIGatewayProxyRequestEvent();\n// tried to use almost all setters\nInvokeRequest req = new InvokeRequest()\n       .withFunctionName(&quot;&lt;Lambda arn&gt;&quot;)\n       .withPayload(event.toString());\n// here, I also tried many options\n</code></pre>\n<p>The Lambda is invoked, but checking thru CloudWatch, I see nothing as an input APIGatewayProxyRequestEvent.\nAnd, with various event setters I experience something like:</p>\n<pre><code>om.amazonaws.services.lambda.model.InvalidRequestContentException: Could not parse request body into json: Could not parse payload into json: Unexpected character ('r' (code 114)): was expecting double-quote to start field name\n at [Source: (byte[]); line: 1, column: 3] (Service: AWSLambda; Status Code: 400; Error Code: InvalidRequestContentException; Request ID: ..........\n</code></pre>\n<p>How can I specify that the invoked lambda function expects APIGatewayProxyRequestEven as an input argument?\nI've got a feeling that I miss something very simple, but can not find it.\nThanks.</p>\n"},{"tags":["java","singleton"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1655589028,"post_id":72672972,"comment_id":128368757,"body_markdown":"No. That is why it is recommended. [See also](https://java-design-patterns.com/patterns/singleton/).","body":"No. That is why it is recommended. <a href=\"https://java-design-patterns.com/patterns/singleton/\" rel=\"nofollow noreferrer\">See also</a>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1655598701,"post_id":72672972,"comment_id":128369805,"body_markdown":"But the flipside is that serialization / deserialization of singletons is *problematic* if the singleton object is statefull by design.","body":"But the flipside is that serialization / deserialization of singletons is <i>problematic</i> if the singleton object is statefull by design."}],"owner":{"account_id":22519807,"reputation":3,"user_id":16713548,"display_name":"Ayush Goyal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655588810,"creation_date":1655588810,"question_id":72672972,"body_markdown":"is it possible to break Singleton using Deserialize or cloning or multiple threads if we have implemented Singleton using Enum ?","title":"is it possible to break Singleton using Deserialize or cloning or multiple threads if we have implemented Singleton using Enum?","body":"<p>is it possible to break Singleton using Deserialize or cloning or multiple threads if we have implemented Singleton using Enum ?</p>\n"},{"tags":["java","performance","string","complexity-theory","stringbuilder"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1308868438,"post_id":6461402,"comment_id":7590079,"body_markdown":"Have you had a chance to look at the source code for these methods?","body":"Have you had a chance to look at the source code for these methods?"},{"owner":{"account_id":206874,"reputation":22349,"user_id":456434,"accept_rate":91,"display_name":"Mazyod"},"score":0,"creation_date":1308868768,"post_id":6461402,"comment_id":7590142,"body_markdown":"Yeah, since you already got a linux system at your disposal, you should grab open-JDK and explore it yourself.","body":"Yeah, since you already got a linux system at your disposal, you should grab open-JDK and explore it yourself."},{"owner":{"account_id":262037,"reputation":4289,"user_id":546634,"accept_rate":80,"display_name":"Jimmar"},"score":0,"creation_date":1308868944,"post_id":6461402,"comment_id":7590182,"body_markdown":"@HoverCraft I just did check the source .. thanks for pointing me to that\n@Mazyod .. ok","body":"@HoverCraft I just did check the source .. thanks for pointing me to that @Mazyod .. ok"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1308895175,"post_id":6461402,"comment_id":7593833,"body_markdown":"If ever you think you need a thread safe StringBuffer, you probably have a poor design (or you could use another class like StringWriter)","body":"If ever you think you need a thread safe StringBuffer, you probably have a poor design (or you could use another class like StringWriter)"}],"answers":[{"tags":[],"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1481241796,"creation_date":1308868423,"answer_id":6461417,"question_id":6461402,"body_markdown":"`charAt` is super fast (and can use intrinsics for String), it&#39;s a simple index into an array. `deleteCharAt` would require an arraycopy, thus deleting a char won&#39;t be fast.","title":"Java CharAt() and deleteCharAt() performance","body":"<p><code>charAt</code> is super fast (and can use intrinsics for String), it's a simple index into an array. <code>deleteCharAt</code> would require an arraycopy, thus deleting a char won't be fast.</p>\n"},{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":2,"up_vote_count":51,"is_accepted":true,"score":49,"last_activity_date":1412526906,"creation_date":1308868568,"answer_id":6461439,"question_id":6461402,"body_markdown":"For `String`, `StringBuffer`, and `StringBuilder`, `charAt()` is a constant-time operation.\r\n\r\nFor `StringBuffer` and `StringBuilder`, `deleteCharAt()` is a linear-time operation.\r\n\r\n`StringBuffer` and `StringBuilder` have very similar performance characteristics. The primary difference is that the former is `synchronized` (so is thread-safe) while the latter is not.","title":"Java CharAt() and deleteCharAt() performance","body":"<p>For <code>String</code>, <code>StringBuffer</code>, and <code>StringBuilder</code>, <code>charAt()</code> is a constant-time operation.</p>\n\n<p>For <code>StringBuffer</code> and <code>StringBuilder</code>, <code>deleteCharAt()</code> is a linear-time operation.</p>\n\n<p><code>StringBuffer</code> and <code>StringBuilder</code> have very similar performance characteristics. The primary difference is that the former is <code>synchronized</code> (so is thread-safe) while the latter is not.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1308873695,"creation_date":1308868661,"answer_id":6461449,"question_id":6461402,"body_markdown":"The `charAt` method is `O(1)`.  \r\n\r\nThe `deleteCharAt` method on `StringBuilder` and `StringBuffer` is `O(N)` on average, assuming you are deleting a random character from an `N` character `StringBuffer` / `StringBuilder`.  (It has to move, on average, half of the remaining characters to fill up the &quot;hole&quot; left by the deleted character.  There is *no amortization over multiple operations*; see below.)  However, if you delete the last character, the cost will be `O(1)`.\r\n\r\nThere is no `deleteCharAt` method for `String`.\r\n\r\n----------\r\n\r\nIn theory, `StringBuilder` and `StringBuffer` could be optimized for the case where you are inserting or deleting multiple characters in a &quot;pass&quot; through the buffer.  They could do this by maintaining an optional &quot;gap&quot; in the buffer, and moving characters across it.  (IIRC, emacs implements its text buffers this way.)  The problems with this approach are:\r\n\r\n  - It requires more space, for the attributes that say where the gap is, and for the gap itself.\r\n  - It makes the code a lot more complicated, and slows down other operations.  For instance, `charAt` would have to compare the `offset` with the start and end points of the gap, and make the corresponding adjustments to the actual index value before fetching the character array element.\r\n  - It is only going to help if the application does multiple inserts / deletes on the same buffer.\r\n\r\nNot surprisingly, this &quot;optimization&quot; has not been implemented in the standard `StringBuilder` / `StringBuffer` classes.  However, a custom `CharSequence` class could use this approach.\r\n\r\n","title":"Java CharAt() and deleteCharAt() performance","body":"<p>The <code>charAt</code> method is <code>O(1)</code>.  </p>\n\n<p>The <code>deleteCharAt</code> method on <code>StringBuilder</code> and <code>StringBuffer</code> is <code>O(N)</code> on average, assuming you are deleting a random character from an <code>N</code> character <code>StringBuffer</code> / <code>StringBuilder</code>.  (It has to move, on average, half of the remaining characters to fill up the \"hole\" left by the deleted character.  There is <em>no amortization over multiple operations</em>; see below.)  However, if you delete the last character, the cost will be <code>O(1)</code>.</p>\n\n<p>There is no <code>deleteCharAt</code> method for <code>String</code>.</p>\n\n<hr>\n\n<p>In theory, <code>StringBuilder</code> and <code>StringBuffer</code> could be optimized for the case where you are inserting or deleting multiple characters in a \"pass\" through the buffer.  They could do this by maintaining an optional \"gap\" in the buffer, and moving characters across it.  (IIRC, emacs implements its text buffers this way.)  The problems with this approach are:</p>\n\n<ul>\n<li>It requires more space, for the attributes that say where the gap is, and for the gap itself.</li>\n<li>It makes the code a lot more complicated, and slows down other operations.  For instance, <code>charAt</code> would have to compare the <code>offset</code> with the start and end points of the gap, and make the corresponding adjustments to the actual index value before fetching the character array element.</li>\n<li>It is only going to help if the application does multiple inserts / deletes on the same buffer.</li>\n</ul>\n\n<p>Not surprisingly, this \"optimization\" has not been implemented in the standard <code>StringBuilder</code> / <code>StringBuffer</code> classes.  However, a custom <code>CharSequence</code> class could use this approach.</p>\n"},{"tags":[],"owner":{"account_id":3074879,"reputation":2637,"user_id":2604532,"display_name":"Nagakishore Sidde"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1411638761,"creation_date":1411638761,"answer_id":26035576,"question_id":6461402,"body_markdown":"Let us just look at the corresponding actual java implementation(only relevant code) for each of these methods in turn. That itself will answer about their efficiency.\r\n\r\nString.charAt :\r\n================\r\n\r\n    public char charAt(int index) {\r\n        if ((index &lt; 0) || (index &gt;= value.length)) {\r\n            throw new StringIndexOutOfBoundsException(index);\r\n        }\r\n        return value[index];\r\n    }\r\n\r\nAs we can see, it is just a single array access which is a **constant time** operation.\r\n\r\nStringBuffer.charAt :\r\n======================\r\n\r\n    public synchronized char charAt(int index) {\r\n      if ((index &lt; 0) || (index &gt;= count))\r\n        throw new StringIndexOutOfBoundsException(index);\r\n      return value[index];\r\n    }\r\n\r\nAgain, single array access, so a **constant time** operation.\r\n\r\nStringBuilder.charAt :\r\n=======================\r\n\r\n    public char charAt(int index) {\r\n        if ((index &lt; 0) || (index &gt;= count))\r\n            throw new StringIndexOutOfBoundsException(index);\r\n        return value[index];\r\n    }\r\n\r\nAgain, single array access, so a **constant time** operation. Even though all these three methods look same, there are some minor differences. For example, only StringBuffer.charAt method is synchronized but not other methods. Similarly **if check** is slightly different for String.charAt (guess why?). Closer look at these method implementations itself give us other minor differences among them.\r\n\r\nNow, let us look at deleteCharAt implementations.\r\n\r\nString does not have deleteCharAt method. The reason might be it is an immutable object. So exposing an API which explicitly indicates that this method modifies the object is not  probably a good idea.\r\n\r\nBoth StringBuffer and StringBuilder are subclasses of AbstractStringBuilder. The deleteCharAt method of these two classes is delegating the implementation to its parent class itself.\r\n\r\nStringBuffer.deleteCharAt :\r\n=============================\r\n\r\n      public synchronized StringBuffer deleteCharAt(int index) {\r\n            super.deleteCharAt(index);\r\n            return this;\r\n        }\r\n\r\nStringBuilder.deleteCharAt :\r\n=============================\r\n\r\n     public StringBuilder deleteCharAt(int index) {\r\n            super.deleteCharAt(index);\r\n            return this;\r\n        }\r\n\r\nAbstractStringBuilder.deleteCharAt :\r\n=====================================\r\n\r\n      public AbstractStringBuilder deleteCharAt(int index) {\r\n            if ((index &lt; 0) || (index &gt;= count))\r\n                throw new StringIndexOutOfBoundsException(index);\r\n            System.arraycopy(value, index+1, value, index, count-index-1);\r\n            count--;\r\n            return this;\r\n        }\r\n\r\n\r\nA closer look at AbstractStringBuilder.deleteCharAt method reveals that it is actually calling System.arraycopy. This can be O(N) in worst case. So deleteChatAt method is O(N)  time complexity. \r\n\r\n","title":"Java CharAt() and deleteCharAt() performance","body":"<p>Let us just look at the corresponding actual java implementation(only relevant code) for each of these methods in turn. That itself will answer about their efficiency.</p>\n\n<h1>String.charAt :</h1>\n\n<pre><code>public char charAt(int index) {\n    if ((index &lt; 0) || (index &gt;= value.length)) {\n        throw new StringIndexOutOfBoundsException(index);\n    }\n    return value[index];\n}\n</code></pre>\n\n<p>As we can see, it is just a single array access which is a <strong>constant time</strong> operation.</p>\n\n<h1>StringBuffer.charAt :</h1>\n\n<pre><code>public synchronized char charAt(int index) {\n  if ((index &lt; 0) || (index &gt;= count))\n    throw new StringIndexOutOfBoundsException(index);\n  return value[index];\n}\n</code></pre>\n\n<p>Again, single array access, so a <strong>constant time</strong> operation.</p>\n\n<h1>StringBuilder.charAt :</h1>\n\n<pre><code>public char charAt(int index) {\n    if ((index &lt; 0) || (index &gt;= count))\n        throw new StringIndexOutOfBoundsException(index);\n    return value[index];\n}\n</code></pre>\n\n<p>Again, single array access, so a <strong>constant time</strong> operation. Even though all these three methods look same, there are some minor differences. For example, only StringBuffer.charAt method is synchronized but not other methods. Similarly <strong>if check</strong> is slightly different for String.charAt (guess why?). Closer look at these method implementations itself give us other minor differences among them.</p>\n\n<p>Now, let us look at deleteCharAt implementations.</p>\n\n<p>String does not have deleteCharAt method. The reason might be it is an immutable object. So exposing an API which explicitly indicates that this method modifies the object is not  probably a good idea.</p>\n\n<p>Both StringBuffer and StringBuilder are subclasses of AbstractStringBuilder. The deleteCharAt method of these two classes is delegating the implementation to its parent class itself.</p>\n\n<h1>StringBuffer.deleteCharAt :</h1>\n\n<pre><code>  public synchronized StringBuffer deleteCharAt(int index) {\n        super.deleteCharAt(index);\n        return this;\n    }\n</code></pre>\n\n<h1>StringBuilder.deleteCharAt :</h1>\n\n<pre><code> public StringBuilder deleteCharAt(int index) {\n        super.deleteCharAt(index);\n        return this;\n    }\n</code></pre>\n\n<h1>AbstractStringBuilder.deleteCharAt :</h1>\n\n<pre><code>  public AbstractStringBuilder deleteCharAt(int index) {\n        if ((index &lt; 0) || (index &gt;= count))\n            throw new StringIndexOutOfBoundsException(index);\n        System.arraycopy(value, index+1, value, index, count-index-1);\n        count--;\n        return this;\n    }\n</code></pre>\n\n<p>A closer look at AbstractStringBuilder.deleteCharAt method reveals that it is actually calling System.arraycopy. This can be O(N) in worst case. So deleteChatAt method is O(N)  time complexity. </p>\n"},{"tags":[],"owner":{"account_id":14579736,"reputation":1,"user_id":10530599,"display_name":"Elias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575970425,"creation_date":1575970425,"answer_id":59264114,"question_id":6461402,"body_markdown":"Since we all know that the string is implemented in JDK as a character array, which implements the `randomAccess` interface. Therefore the time complexity of `charAt` should be int O(1). As other arrays, the delete operation has the `O(n)` time complexity.","title":"Java CharAt() and deleteCharAt() performance","body":"<p>Since we all know that the string is implemented in JDK as a character array, which implements the <code>randomAccess</code> interface. Therefore the time complexity of <code>charAt</code> should be int O(1). As other arrays, the delete operation has the <code>O(n)</code> time complexity.</p>\n"},{"tags":[],"owner":{"account_id":16542867,"reputation":1,"user_id":11953173,"display_name":"Roshan Mhatre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636985801,"creation_date":1636985801,"answer_id":69975825,"question_id":6461402,"body_markdown":"Summary of all responses from above:\r\n    charAt is O(1) since its just accessing the index of an array\r\n    deleteCharAt can be O(N) in worst case since it copies the entire array for it.","title":"Java CharAt() and deleteCharAt() performance","body":"<p>Summary of all responses from above:\ncharAt is O(1) since its just accessing the index of an array\ndeleteCharAt can be O(N) in worst case since it copies the entire array for it.</p>\n"}],"owner":{"account_id":262037,"reputation":4289,"user_id":546634,"accept_rate":80,"display_name":"Jimmar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49421,"favorite_count":0,"down_vote_count":1,"up_vote_count":35,"accepted_answer_id":6461439,"answer_count":6,"score":34,"last_activity_date":1655588304,"creation_date":1308868334,"question_id":6461402,"body_markdown":"I&#39;ve been wondering about the implementation of `charAt` function for `String/StringBuilder/StringBuffer` in java\r\nwhat is the complexity of that ?\r\nalso what about the `deleteCharAt()` in `StringBuffer/StringBuilder` ?","title":"Java CharAt() and deleteCharAt() performance","body":"<p>I've been wondering about the implementation of <code>charAt</code> function for <code>String/StringBuilder/StringBuffer</code> in java\nwhat is the complexity of that ?\nalso what about the <code>deleteCharAt()</code> in <code>StringBuffer/StringBuilder</code> ?</p>\n"},{"tags":["java","html","file","amazon-s3","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655588148,"creation_date":1655588148,"answer_id":72672921,"question_id":70020175,"body_markdown":"Use the AWS SDK for Java to create an S3 client and call the getObject API method\r\n\r\nhttps://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html#download-object","title":"Java Lambda Reading S3 webpage instead of s3object i.e s3 file","body":"<p>Use the AWS SDK for Java to create an S3 client and call the getObject API method</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html#download-object\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html#download-object</a></p>\n"}],"owner":{"account_id":23380440,"reputation":1,"user_id":17447437,"display_name":"Manasi Bhatkhande"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655588148,"creation_date":1637239826,"question_id":70020175,"body_markdown":"I have written a Lambda in Java 11 for reading word(docx) file(s3 objects) from s3. But my lambda is not reading the file instead it is reading the S3 web page  The output looks encrypted which has all unicode characters and some words like footnotes.xml, settings.xml etc How can I actually read from the file placed on s3? \r\n\r\nJava version on AWS Lambda - 11(corretto)\r\nAws sdk - 1.11.937\r\n\r\n","title":"Java Lambda Reading S3 webpage instead of s3object i.e s3 file","body":"<p>I have written a Lambda in Java 11 for reading word(docx) file(s3 objects) from s3. But my lambda is not reading the file instead it is reading the S3 web page  The output looks encrypted which has all unicode characters and some words like footnotes.xml, settings.xml etc How can I actually read from the file placed on s3?</p>\n<p>Java version on AWS Lambda - 11(corretto)\nAws sdk - 1.11.937</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","requesthandler"],"answers":[{"tags":[],"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655587945,"creation_date":1655587945,"answer_id":72672902,"question_id":70044803,"body_markdown":"You are trying to return a different type to the one in the class definition.\r\n\r\n    public class Authenticate_User implements RequestHandler&lt;Object,  String&gt; {\r\n\r\nshould be \r\n\r\n    public class Authenticate_User implements RequestHandler&lt;Object,  AuthenticateUserResponse &gt; {","title":"The return type is incompatible with RequestHandler&lt;Object,String&gt;.handleRequest(Object, Context) in JAVA","body":"<p>You are trying to return a different type to the one in the class definition.</p>\n<pre><code>public class Authenticate_User implements RequestHandler&lt;Object,  String&gt; {\n</code></pre>\n<p>should be</p>\n<pre><code>public class Authenticate_User implements RequestHandler&lt;Object,  AuthenticateUserResponse &gt; {\n</code></pre>\n"}],"owner":{"account_id":23399973,"reputation":1,"user_id":17463285,"display_name":"MMH DPR Digital"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655587945,"creation_date":1637401469,"question_id":70044803,"body_markdown":"Im trying to run the below code, the classes mentioned in the source code is already defined except for **authenticateUser** , in the highlighted line error message &quot;The return type is incompatible with RequestHandler&lt;Object,String&gt;.handleRequest(Object, Context)&quot; is shown at the boldened code line below.\r\n\r\nKindly suggest how to correct this.\r\nIm trying to develop a simple user authentication system using https://aws.amazon.com/blogs/developer/building-a-serverless-developer-authentication-api-in-java-using-aws-lambda-amazon-dynamodb-and-amazon-cognito-part-1/ as reference.\r\n```java\r\npackage aws.java.lambda.demo;\r\n\r\nimport com.amazonaws.services.lambda.runtime.Context;\r\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\r\n\r\npublic class Authenticate_User implements RequestHandler&lt;Object,  String&gt; {\r\n\r\n\t@Override\r\n\tERROR FACE--&gt;public AuthenticateUserResponse handleRequest(Object input, Context context)&lt;--ERROR FACED {\r\n\t      \r\n\t    AuthenticateUserResponse authenticateUserResponse = new AuthenticateUserResponse();\r\n\t    @SuppressWarnings(&quot;unchecked&quot;)\r\n\t    LinkedHashMap inputHashMap = (LinkedHashMap)input;\r\n\t    User user = authenticateUser(inputHashMap);\r\n\t    if(user!=null){\r\n\t        authenticateUserResponse.setUserId(user.getUserId());\r\n\t        authenticateUserResponse.setStatus(&quot;true&quot;);\r\n\t        authenticateUserResponse.setOpenIdToken(user.getOpenIdToken());\r\n\t    }else{\r\n\t        authenticateUserResponse.setUserId(null);\r\n\t        authenticateUserResponse.setStatus(&quot;false&quot;);\r\n\t        authenticateUserResponse.setOpenIdToken(null);\r\n\t    }\r\n\t        \r\n\t    return authenticateUserResponse;\r\n\t}\r\n\r\n}\r\n```","title":"The return type is incompatible with RequestHandler&lt;Object,String&gt;.handleRequest(Object, Context) in JAVA","body":"<p>Im trying to run the below code, the classes mentioned in the source code is already defined except for <strong>authenticateUser</strong> , in the highlighted line error message &quot;The return type is incompatible with RequestHandler&lt;Object,String&gt;.handleRequest(Object, Context)&quot; is shown at the boldened code line below.</p>\n<p>Kindly suggest how to correct this.\nIm trying to develop a simple user authentication system using <a href=\"https://aws.amazon.com/blogs/developer/building-a-serverless-developer-authentication-api-in-java-using-aws-lambda-amazon-dynamodb-and-amazon-cognito-part-1/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/developer/building-a-serverless-developer-authentication-api-in-java-using-aws-lambda-amazon-dynamodb-and-amazon-cognito-part-1/</a> as reference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package aws.java.lambda.demo;\n\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\n\npublic class Authenticate_User implements RequestHandler&lt;Object,  String&gt; {\n\n    @Override\n    ERROR FACE--&gt;public AuthenticateUserResponse handleRequest(Object input, Context context)&lt;--ERROR FACED {\n          \n        AuthenticateUserResponse authenticateUserResponse = new AuthenticateUserResponse();\n        @SuppressWarnings(&quot;unchecked&quot;)\n        LinkedHashMap inputHashMap = (LinkedHashMap)input;\n        User user = authenticateUser(inputHashMap);\n        if(user!=null){\n            authenticateUserResponse.setUserId(user.getUserId());\n            authenticateUserResponse.setStatus(&quot;true&quot;);\n            authenticateUserResponse.setOpenIdToken(user.getOpenIdToken());\n        }else{\n            authenticateUserResponse.setUserId(null);\n            authenticateUserResponse.setStatus(&quot;false&quot;);\n            authenticateUserResponse.setOpenIdToken(null);\n        }\n            \n        return authenticateUserResponse;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","jackson","lombok"],"answers":[{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655587486,"creation_date":1646044966,"answer_id":71293773,"question_id":71293772,"body_markdown":"AWS Lambda uses Jackson to deserialize the data and as such needs a no-arg constructor and setters for the properties. You could make those setters public but at that point you have a mutable class and you generally do not want that for pure data classes. &quot;Luckily&quot; Jackson uses reflection anyway and therefore can (and does) access private methods. Instead of `@Value` you can therefore use\r\n\r\n```\r\nimport lombok.AccessLevel;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter(AccessLevel.PRIVATE)\r\npublic class IncomingRequest {\r\n    String data;\r\n}\r\n```\r\n\r\nThat way Jackson can properly parse the incoming JSON and your class remains sort-of immutable. Obviously you can add more constructors via annotation to that class if you want to as long as you make sure a no-args constructor is also still present. Add you can safely add `@ToString @EqualsAndHashCode` as well if you want to.","title":"How can I deserialize the incoming AWS Lambda request into a lombok @Value or @Data class?","body":"<p>AWS Lambda uses Jackson to deserialize the data and as such needs a no-arg constructor and setters for the properties. You could make those setters public but at that point you have a mutable class and you generally do not want that for pure data classes. &quot;Luckily&quot; Jackson uses reflection anyway and therefore can (and does) access private methods. Instead of <code>@Value</code> you can therefore use</p>\n<pre><code>import lombok.AccessLevel;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter(AccessLevel.PRIVATE)\npublic class IncomingRequest {\n    String data;\n}\n</code></pre>\n<p>That way Jackson can properly parse the incoming JSON and your class remains sort-of immutable. Obviously you can add more constructors via annotation to that class if you want to as long as you make sure a no-args constructor is also still present. Add you can safely add <code>@ToString @EqualsAndHashCode</code> as well if you want to.</p>\n"},{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646053395,"creation_date":1646053395,"answer_id":71295427,"question_id":71293772,"body_markdown":"You can use a `@Jacksonized @Builder` on `IncomingRequest`. Jackson will use that builder to create instances, and your class will remain immutable.","title":"How can I deserialize the incoming AWS Lambda request into a lombok @Value or @Data class?","body":"<p>You can use a <code>@Jacksonized @Builder</code> on <code>IncomingRequest</code>. Jackson will use that builder to create instances, and your class will remain immutable.</p>\n"}],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1298,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71293773,"answer_count":2,"score":0,"last_activity_date":1655587486,"creation_date":1646044966,"question_id":71293772,"body_markdown":"If I have a \r\n``` \r\nimport lombok.Value;\r\n\r\n@Value\r\npublic class IncomingRequest {\r\n    String data;\r\n}\r\n``` \r\n\r\nand try to have a `RequestHandler` like\r\n\r\n```\r\nimport com.amazonaws.services.lambda.runtime.Context;\r\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\r\n\r\npublic class LambdaHandler implements RequestHandler&lt;IncomingRequest, String&gt; {\r\n\r\n    @Override\r\n    public String handleRequest(IncomingRequest request, Context context) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nI only ever get empty `request` objects or with some other configuration I get deserialization exceptions.\r\n\r\nWhat do I need to do to enable AWS Lambda to properly deserialize into my custom class? \r\n","title":"How can I deserialize the incoming AWS Lambda request into a lombok @Value or @Data class?","body":"<p>If I have a</p>\n<pre><code>import lombok.Value;\n\n@Value\npublic class IncomingRequest {\n    String data;\n}\n</code></pre>\n<p>and try to have a <code>RequestHandler</code> like</p>\n<pre><code>import com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\n\npublic class LambdaHandler implements RequestHandler&lt;IncomingRequest, String&gt; {\n\n    @Override\n    public String handleRequest(IncomingRequest request, Context context) {\n        ...\n    }\n}\n</code></pre>\n<p>I only ever get empty <code>request</code> objects or with some other configuration I get deserialization exceptions.</p>\n<p>What do I need to do to enable AWS Lambda to properly deserialize into my custom class?</p>\n"},{"tags":["java","spring-boot","api","http-request-parameters"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1655587308,"post_id":72672791,"comment_id":128368514,"body_markdown":"Have you tried to see if there is a &quot;required&quot; attribute in the parameter annotation that you can set to false? I know there is one in @RequestParam, I don&#39;t know this annotation though","body":"Have you tried to see if there is a &quot;required&quot; attribute in the parameter annotation that you can set to false? I know there is one in @RequestParam, I don&#39;t know this annotation though"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1655608968,"post_id":72672791,"comment_id":128370699,"body_markdown":"It is because your underline query will be based on `And` condition and other 3 parameters would be null(or empty). for e.g. `CloudAndRegionAndCustomerNameAndSfSan` Your response would be returned only when all parameters would be non-empty. I&#39;d suggest you can implement custom query by using `@Query` annotation on your JPA definition. Perform validations to check which parameters are non-empty and accordingly call your relevant JPA. Alternatively, Try this `findAllByCloudOrRegionOrCustomerNameOrSfSan`","body":"It is because your underline query will be based on <code>And</code> condition and other 3 parameters would be null(or empty). for e.g. <code>CloudAndRegionAndCustomerNameAndSfSan</code> Your response would be returned only when all parameters would be non-empty. I&#39;d suggest you can implement custom query by using <code>@Query</code> annotation on your JPA definition. Perform validations to check which parameters are non-empty and accordingly call your relevant JPA. Alternatively, Try this <code>findAllByCloudOrRegionOrCustomerNameOrSfSan</code>"},{"owner":{"account_id":25588976,"reputation":1,"user_id":19366184,"display_name":"Silvia"},"score":0,"creation_date":1655670654,"post_id":72672791,"comment_id":128381420,"body_markdown":"@MatteoNNZ Thanks for your comment Matteo. In the controller I tried setting the RequestParams to false by doing this: @RequestParam( required=false ). But it doesn&#39;t seem to work properly because I get a 500 internal server error.","body":"@MatteoNNZ Thanks for your comment Matteo. In the controller I tried setting the RequestParams to false by doing this: @RequestParam( required=false ). But it doesn&#39;t seem to work properly because I get a 500 internal server error."}],"owner":{"account_id":25588976,"reputation":1,"user_id":19366184,"display_name":"Silvia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655586704,"creation_date":1655586704,"question_id":72672791,"body_markdown":"I am trying to filter the api by using four parameters: cloud provider, region, customer name and SAN. \r\n\r\nWhen I send a GET request via Postman I can only seem to get a successfull HTTP response if I pass all four parameters into the url. How can I make all four params optional so that I can only look for one param if needed e.g. {{baseUrl}}/tenants/test2?region=CA_CENTRAL_1\r\n\r\nI&#39;ve tried adding (required=false) to the request params but that doesn&#39;t seem to work. \r\n\r\nAny help is would be much appreciated. :) \r\n\r\n\r\nRepository:\r\n\r\n    public interface TenantRepository extends JpaRepository&lt;Tenant, Long&gt; {\r\n        List&lt;Tenant&gt; findByCloudAndRegionAndCustomerNameAndSfSan(CloudEnum cloud, Regions region, String customerName, String sfSan);\r\n    }\r\n\r\nController:\r\n\r\n        public ResponseEntity&lt;?&gt; findTenantsByCloudAndRegionAndCustomerNameAndSAN(\r\n        \t@Parameter(in = ParameterIn.QUERY, description = &quot;fetch cloud provider&quot; ,schema=@Schema()) \r\n        \t@Valid @RequestParam( required=false ) String cloud, \r\n    \r\n    \t@Parameter(in = ParameterIn.QUERY, description = &quot;fetch region&quot; ,schema=@Schema()) \r\n    \t@Valid @RequestParam( required=false) String region, \r\n    \r\n         @Parameter(in = ParameterIn.QUERY, description = &quot;fetch customer name&quot; ,schema=@Schema()) \r\n    \t@Valid @RequestParam( required=false) String customerName,\r\n    \r\n    \t @Parameter(in = ParameterIn.QUERY, description = &quot;fetch SAN&quot; ,schema=@Schema()) \r\n    \t @Valid @RequestParam( required=false) String sfSan ) {\t\t\r\n    \r\n    \tList&lt;Tenant&gt; tenantList  = tenantRepository.findByCloudAndRegionAndCustomerNameAndSfSan(CloudEnum.valueOf(cloud), Regions.valueOf(region), customerName, sfSan);\r\n    \t\t\t\r\n    \treturn new ResponseEntity&lt;List&lt;Tenant&gt;&gt;(tenantList, HttpStatus.OK);\t\t\r\n    }\r\n\r\nApi:\r\n\r\n    @Operation(summary = &quot;&quot;, description = &quot;Returns a tenant based on 4 params&quot;, security = {\r\n            @SecurityRequirement(name = &quot;oAuth2ClientCredentials&quot;, scopes = {\r\n                &quot;delivery_tenants_api_read&quot;,\r\n    &quot;delivery_tenants_api_write&quot;        })    }, tags={  })\r\n        @ApiResponses(value = { \r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;tenant response&quot;, content = @Content(schema = @Schema(implementation = Tenant.class))),\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;unexpected error&quot;, content = @Content(schema = @Schema(implementation = Error.class))) })\r\n        @RequestMapping(value = &quot;/tenants/test2&quot;,\r\n            produces = { &quot;application/json&quot; }, \r\n            method = RequestMethod.GET)\r\n        ResponseEntity&lt;?&gt; findTenantsByCloudAndRegionAndCustomerNameAndSAN(\r\n            @Parameter(in = ParameterIn.QUERY, description = &quot;fetch tenant by cloud provider&quot;, schema=@Schema()) \r\n            @Valid @RequestParam( required=false) String cloud, \r\n            @Parameter(in = ParameterIn.QUERY, description = &quot;fetch tenant by region&quot;, schema=@Schema()) \r\n            @Valid @RequestParam( required=false) String region, \r\n            @Parameter(in = ParameterIn.QUERY, description = &quot;fetch tenant by customer name&quot;, schema=@Schema()) \r\n            @Valid @RequestParam( required=false) String customerName, \r\n            @Parameter(in = ParameterIn.QUERY, description = &quot;fetch tenant by SAN&quot;, schema=@Schema()) \r\n            @Valid @RequestParam( required=false) String sfSan );","title":"Adding Optional Request Parameters in Java Spring Boot","body":"<p>I am trying to filter the api by using four parameters: cloud provider, region, customer name and SAN.</p>\n<p>When I send a GET request via Postman I can only seem to get a successfull HTTP response if I pass all four parameters into the url. How can I make all four params optional so that I can only look for one param if needed e.g. {{baseUrl}}/tenants/test2?region=CA_CENTRAL_1</p>\n<p>I've tried adding (required=false) to the request params but that doesn't seem to work.</p>\n<p>Any help is would be much appreciated. :)</p>\n<p>Repository:</p>\n<pre><code>public interface TenantRepository extends JpaRepository&lt;Tenant, Long&gt; {\n    List&lt;Tenant&gt; findByCloudAndRegionAndCustomerNameAndSfSan(CloudEnum cloud, Regions region, String customerName, String sfSan);\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>    public ResponseEntity&lt;?&gt; findTenantsByCloudAndRegionAndCustomerNameAndSAN(\n        @Parameter(in = ParameterIn.QUERY, description = &quot;fetch cloud provider&quot; ,schema=@Schema()) \n        @Valid @RequestParam( required=false ) String cloud, \n\n    @Parameter(in = ParameterIn.QUERY, description = &quot;fetch region&quot; ,schema=@Schema()) \n    @Valid @RequestParam( required=false) String region, \n\n     @Parameter(in = ParameterIn.QUERY, description = &quot;fetch customer name&quot; ,schema=@Schema()) \n    @Valid @RequestParam( required=false) String customerName,\n\n     @Parameter(in = ParameterIn.QUERY, description = &quot;fetch SAN&quot; ,schema=@Schema()) \n     @Valid @RequestParam( required=false) String sfSan ) {     \n\n    List&lt;Tenant&gt; tenantList  = tenantRepository.findByCloudAndRegionAndCustomerNameAndSfSan(CloudEnum.valueOf(cloud), Regions.valueOf(region), customerName, sfSan);\n            \n    return new ResponseEntity&lt;List&lt;Tenant&gt;&gt;(tenantList, HttpStatus.OK);     \n}\n</code></pre>\n<p>Api:</p>\n<pre><code>@Operation(summary = &quot;&quot;, description = &quot;Returns a tenant based on 4 params&quot;, security = {\n        @SecurityRequirement(name = &quot;oAuth2ClientCredentials&quot;, scopes = {\n            &quot;delivery_tenants_api_read&quot;,\n&quot;delivery_tenants_api_write&quot;        })    }, tags={  })\n    @ApiResponses(value = { \n        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;tenant response&quot;, content = @Content(schema = @Schema(implementation = Tenant.class))),\n        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;unexpected error&quot;, content = @Content(schema = @Schema(implementation = Error.class))) })\n    @RequestMapping(value = &quot;/tenants/test2&quot;,\n        produces = { &quot;application/json&quot; }, \n        method = RequestMethod.GET)\n    ResponseEntity&lt;?&gt; findTenantsByCloudAndRegionAndCustomerNameAndSAN(\n        @Parameter(in = ParameterIn.QUERY, description = &quot;fetch tenant by cloud provider&quot;, schema=@Schema()) \n        @Valid @RequestParam( required=false) String cloud, \n        @Parameter(in = ParameterIn.QUERY, description = &quot;fetch tenant by region&quot;, schema=@Schema()) \n        @Valid @RequestParam( required=false) String region, \n        @Parameter(in = ParameterIn.QUERY, description = &quot;fetch tenant by customer name&quot;, schema=@Schema()) \n        @Valid @RequestParam( required=false) String customerName, \n        @Parameter(in = ParameterIn.QUERY, description = &quot;fetch tenant by SAN&quot;, schema=@Schema()) \n        @Valid @RequestParam( required=false) String sfSan );\n</code></pre>\n"},{"tags":["python","java","maven","opencv","python-tesseract"],"answers":[{"tags":[],"owner":{"account_id":25589036,"reputation":121,"user_id":19366230,"display_name":"Gary Wong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655586703,"creation_date":1655586703,"answer_id":72672790,"question_id":70170619,"body_markdown":"Would you mind trying using -Djava.library.path= so the java process knows where to locate the tesseract library.","title":"Having issue with running python script having pytesseract library from maven project","body":"<p>Would you mind trying using -Djava.library.path= so the java process knows where to locate the tesseract library.</p>\n"}],"owner":{"account_id":14959552,"reputation":548,"user_id":10799684,"display_name":"Ananth Kamath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655586703,"creation_date":1638280893,"question_id":70170619,"body_markdown":"I wanted to run a python script from my Java Maven project. Simple python scripts works fine without any issues.\r\nBut if i try something complicated like using OpenCV and pytesseract libraries to do some image recognition related tasks the code doesn&#39;t work.\r\n\r\nThe python script works fine if i just run it from the terminal (i have installed all the required libraries)\r\nBut the same script when called from the Java Maven project, it doesn&#39;t work.\r\n\r\nHere is the code:\r\n\r\n```\r\nString path = &quot;/Users/team/Desktop/my.py&quot;;\r\nProcessBuilder pb = new ProcessBuilder(&quot;python3&quot;,&quot;/Users/team/Desktop/my.py&quot;).inheritIO();\r\n\r\nProcess p = pb.start();\r\np.waitFor();\r\n\r\nBufferedReader bfr = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\nString line = &quot;&quot;;\r\n\r\nwhile ((line = bfr.readLine()) != null) {\r\n\tSystem.out.println(line);\r\n}\r\n```\r\n\r\nIt is throwing below error:\r\n\r\n``` \r\nTraceback (most recent call last):\r\n  File &quot;/Users/team/Library/Python/3.8/lib/python/site-packages/pytesseract/pytesseract.py&quot;, line 252, in run_tesseract\r\n\tproc = subprocess.Popen(cmd_args, **subprocess_args())\r\n  File &quot;/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/subprocess.py&quot;, line 854, in __init__\r\n\tself._execute_child(args, executable, preexec_fn, close_fds,\r\n  File &quot;/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/subprocess.py&quot;, line 1702, in _execute_child\r\n\traise child_exception_type(errno_num, err_msg, err_filename)\r\nFileNotFoundError: [Errno 2] No such file or directory: &#39;tesseract&#39;\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File &quot;/Users/team/Desktop/my.py&quot;, line 73, in &lt;module&gt;\r\n\tresult = pytesseract.image_to_string(Image.open(src_path + &quot;thres.png&quot;))\r\n  File &quot;/Users/team/Library/Python/3.8/lib/python/site-packages/pytesseract/pytesseract.py&quot;, line 413, in image_to_string\r\n\treturn {\r\n  File &quot;/Users/team/Library/Python/3.8/lib/python/site-packages/pytesseract/pytesseract.py&quot;, line 416, in &lt;lambda&gt;\r\n\tOutput.STRING: lambda: run_and_get_output(*args),\r\n  File &quot;/Users/team/Library/Python/3.8/lib/python/site-packages/pytesseract/pytesseract.py&quot;, line 284, in run_and_get_output\r\n\trun_tesseract(**kwargs)\r\n  File &quot;/Users/team/Library/Python/3.8/lib/python/site-packages/pytesseract/pytesseract.py&quot;, line 256, in run_tesseract\r\n\traise TesseractNotFoundError()\r\n``` \r\n\r\nCould someone please help me figure this out please? I feel like the issue is because of some sort of PATH, but not sure how to fix it!\r\n","title":"Having issue with running python script having pytesseract library from maven project","body":"<p>I wanted to run a python script from my Java Maven project. Simple python scripts works fine without any issues.\nBut if i try something complicated like using OpenCV and pytesseract libraries to do some image recognition related tasks the code doesn't work.</p>\n<p>The python script works fine if i just run it from the terminal (i have installed all the required libraries)\nBut the same script when called from the Java Maven project, it doesn't work.</p>\n<p>Here is the code:</p>\n<pre><code>String path = &quot;/Users/team/Desktop/my.py&quot;;\nProcessBuilder pb = new ProcessBuilder(&quot;python3&quot;,&quot;/Users/team/Desktop/my.py&quot;).inheritIO();\n\nProcess p = pb.start();\np.waitFor();\n\nBufferedReader bfr = new BufferedReader(new InputStreamReader(p.getInputStream()));\nString line = &quot;&quot;;\n\nwhile ((line = bfr.readLine()) != null) {\n    System.out.println(line);\n}\n</code></pre>\n<p>It is throwing below error:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;/Users/team/Library/Python/3.8/lib/python/site-packages/pytesseract/pytesseract.py&quot;, line 252, in run_tesseract\n    proc = subprocess.Popen(cmd_args, **subprocess_args())\n  File &quot;/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/subprocess.py&quot;, line 854, in __init__\n    self._execute_child(args, executable, preexec_fn, close_fds,\n  File &quot;/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/subprocess.py&quot;, line 1702, in _execute_child\n    raise child_exception_type(errno_num, err_msg, err_filename)\nFileNotFoundError: [Errno 2] No such file or directory: 'tesseract'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &quot;/Users/team/Desktop/my.py&quot;, line 73, in &lt;module&gt;\n    result = pytesseract.image_to_string(Image.open(src_path + &quot;thres.png&quot;))\n  File &quot;/Users/team/Library/Python/3.8/lib/python/site-packages/pytesseract/pytesseract.py&quot;, line 413, in image_to_string\n    return {\n  File &quot;/Users/team/Library/Python/3.8/lib/python/site-packages/pytesseract/pytesseract.py&quot;, line 416, in &lt;lambda&gt;\n    Output.STRING: lambda: run_and_get_output(*args),\n  File &quot;/Users/team/Library/Python/3.8/lib/python/site-packages/pytesseract/pytesseract.py&quot;, line 284, in run_and_get_output\n    run_tesseract(**kwargs)\n  File &quot;/Users/team/Library/Python/3.8/lib/python/site-packages/pytesseract/pytesseract.py&quot;, line 256, in run_tesseract\n    raise TesseractNotFoundError()\n</code></pre>\n<p>Could someone please help me figure this out please? I feel like the issue is because of some sort of PATH, but not sure how to fix it!</p>\n"},{"tags":["java","android","api","http"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1638281680,"post_id":70170698,"comment_id":124042845,"body_markdown":"Note that `AllowAllHostnameVerifier` is going to get you banned from the Play Store. The sample code you linked to is for Java SE, not Android.","body":"Note that <code>AllowAllHostnameVerifier</code> is going to get you banned from the Play Store. The sample code you linked to is for Java SE, not Android."},{"owner":{"account_id":23503146,"reputation":11,"user_id":17552772,"display_name":"nubm3rcy"},"score":0,"creation_date":1638372527,"post_id":70170698,"comment_id":124071340,"body_markdown":"Can it run on Android, at least? I saw that example of the API and just copied...","body":"Can it run on Android, at least? I saw that example of the API and just copied..."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1638372791,"post_id":70170698,"comment_id":124071450,"body_markdown":"&quot;Can it run on Android, at least?&quot; -- I have no idea, but your error suggests that perhaps it cannot.","body":"&quot;Can it run on Android, at least?&quot; -- I have no idea, but your error suggests that perhaps it cannot."}],"owner":{"account_id":23503146,"reputation":11,"user_id":17552772,"display_name":"nubm3rcy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655585647,"creation_date":1638281223,"question_id":70170698,"body_markdown":"I am making a simple KeyAuth app on Android and using this API as an example: https://github.com/SprayDown/KeyAuth-JAVA-api\r\nBelow are the function I&#39;ve been trying to work on and the gradle file for the application.           \r\n\r\n```\r\nHttpResponse&lt;String&gt; response;\r\ntry {\r\n    response = response = Unirest.post(url).field(&quot;type&quot;, &quot;init&quot;).field(&quot;ver&quot;, version)\r\n            .field(&quot;name&quot;, appname).field(&quot;ownerid&quot;, ownerid).asString();\r\n} catch (UnirestException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nAbove is the code I&#39;ve been trying to run and getting the error. And here is my gradle file:\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.mercyz.regvnapk&quot;\r\n        minSdk 24\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    packagingOptions {\r\n        exclude &#39;META-INF/DEPENDENCIES&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;, version: &#39;1.15&#39;\r\n    implementation group: &#39;commons-logging&#39;, name: &#39;commons-logging&#39;, version: &#39;1.2&#39;\r\n    implementation group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpasyncclient&#39;, version: &#39;4.1.4&#39;\r\n    implementation group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpclient&#39;, version: &#39;4.5.13&#39;\r\n    implementation group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpcore&#39;, version: &#39;4.4.14&#39;\r\n    implementation group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpcore-nio&#39;, version: &#39;4.4.14&#39;\r\n    implementation group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpmime&#39;, version: &#39;4.5.13&#39;\r\n    implementation &#39;net.sourceforge.htmlunit:htmlunit:2.15&#39;\r\n    implementation group: &#39;org.json&#39;, name: &#39;json&#39;, version: &#39;20210307&#39;\r\n    implementation group: &#39;com.mashape.unirest&#39;, name: &#39;unirest-java&#39;, version: &#39;1.4.9&#39;\r\n\r\n    // Use JUnit test framework.\r\n    testImplementation &#39;junit:junit:4.13&#39;\r\n\r\n    // This dependency is exported to consumers, that is to say found on their compile classpath.\r\n    api &#39;org.apache.commons:commons-math3:3.6.1&#39;\r\n\r\n    // This dependency is used internally, and not exposed to consumers on their own compile classpath.\r\n    implementation &#39;com.google.guava:guava:29.0-jre&#39;\r\n}\r\n```\r\nWonder what&#39;s going wrong with this.\r\n","title":"No field INSTANCE of type Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier; in class Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier","body":"<p>I am making a simple KeyAuth app on Android and using this API as an example: <a href=\"https://github.com/SprayDown/KeyAuth-JAVA-api\" rel=\"nofollow noreferrer\">https://github.com/SprayDown/KeyAuth-JAVA-api</a>\nBelow are the function I've been trying to work on and the gradle file for the application.</p>\n<pre><code>HttpResponse&lt;String&gt; response;\ntry {\n    response = response = Unirest.post(url).field(&quot;type&quot;, &quot;init&quot;).field(&quot;ver&quot;, version)\n            .field(&quot;name&quot;, appname).field(&quot;ownerid&quot;, ownerid).asString();\n} catch (UnirestException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Above is the code I've been trying to run and getting the error. And here is my gradle file:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n\n    defaultConfig {\n        applicationId &quot;com.mercyz.regvnapk&quot;\n        minSdk 24\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES'\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation group: 'commons-codec', name: 'commons-codec', version: '1.15'\n    implementation group: 'commons-logging', name: 'commons-logging', version: '1.2'\n    implementation group: 'org.apache.httpcomponents', name: 'httpasyncclient', version: '4.1.4'\n    implementation group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5.13'\n    implementation group: 'org.apache.httpcomponents', name: 'httpcore', version: '4.4.14'\n    implementation group: 'org.apache.httpcomponents', name: 'httpcore-nio', version: '4.4.14'\n    implementation group: 'org.apache.httpcomponents', name: 'httpmime', version: '4.5.13'\n    implementation 'net.sourceforge.htmlunit:htmlunit:2.15'\n    implementation group: 'org.json', name: 'json', version: '20210307'\n    implementation group: 'com.mashape.unirest', name: 'unirest-java', version: '1.4.9'\n\n    // Use JUnit test framework.\n    testImplementation 'junit:junit:4.13'\n\n    // This dependency is exported to consumers, that is to say found on their compile classpath.\n    api 'org.apache.commons:commons-math3:3.6.1'\n\n    // This dependency is used internally, and not exposed to consumers on their own compile classpath.\n    implementation 'com.google.guava:guava:29.0-jre'\n}\n</code></pre>\n<p>Wonder what's going wrong with this.</p>\n"},{"tags":["java","recursion","stack-overflow"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":4,"creation_date":1638281202,"post_id":70170650,"comment_id":124042652,"body_markdown":"Recursion only works if, at *some* point, the function doesn&#39;t need to call itself.  As written, `counting` *always* calls itself.","body":"Recursion only works if, at <i>some</i> point, the function doesn&#39;t need to call itself.  As written, <code>counting</code> <i>always</i> calls itself."},{"owner":{"account_id":3262389,"reputation":135,"user_id":2747692,"display_name":"Magyar D&#225;vid"},"score":0,"creation_date":1638281757,"post_id":70170650,"comment_id":124042888,"body_markdown":"I agree with Scott; there must be a point when the recursive function simply returns a value instead of relying on a next call of itself forever.\n\nAnother thing is that `index++` is not the same as `++index`! Your line `return counting(x, arr, index++, count++);` seem to invoke itself with the very same parameters it receives, because the `n++` (postfix) operator increments the value only after evaluation. I suspect you&#39;d like to call it like: `return counting(x, arr, ++index, ++count);`, but `return counting(x, arr, index + 1, count + 1);` would be more straight-forward.","body":"I agree with Scott; there must be a point when the recursive function simply returns a value instead of relying on a next call of itself forever.  Another thing is that <code>index++</code> is not the same as <code>++index</code>! Your line <code>return counting(x, arr, index++, count++);</code> seem to invoke itself with the very same parameters it receives, because the <code>n++</code> (postfix) operator increments the value only after evaluation. I suspect you&#39;d like to call it like: <code>return counting(x, arr, ++index, ++count);</code>, but <code>return counting(x, arr, index + 1, count + 1);</code> would be more straight-forward."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1638286500,"post_id":70170650,"comment_id":124045128,"body_markdown":"See [this](https://stackoverflow.com/a/70168058/3992939) answer","body":"See <a href=\"https://stackoverflow.com/a/70168058/3992939\">this</a> answer"}],"answers":[{"tags":[],"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638281691,"creation_date":1638281691,"answer_id":70170823,"question_id":70170650,"body_markdown":"Any recursion should have a stop condition and 1 or more recursive calls.\r\n\r\nin this example, the stop condition is `index &gt;= arr.length` so you start writing the function as folows:\r\n\r\n    public static int counting(int x, int[] arr, int index) {\r\n        if (index &gt;= arr.length) {\r\n            return 0;//there are 0 x&#39;s between index and arr.length\r\n        }\r\n\r\nafter you handled the stop condition, you need to write the rest:\r\n\r\n \r\n    public static int counting(int x, int[] arr, int index) {\r\n        if (index &gt;= arr.length) {\r\n            return 0;//there are 0 x&#39;s between index and arr.length\r\n        }\r\n        int countAfterIndex = counting(x, arr, index+1);//the amount of x&#39;s starting from index+1\r\n        if (x == arr[index]) {\r\n            return countAfterIndex + 1;//there is 1 more to add\r\n        } else {\r\n            return countAfterIndex; //the amount of x&#39;s after index is the same as the amount from index.\r\n        }\r\n    }","title":"don&#39;t know how to prevent java.lang.StackOverflowError","body":"<p>Any recursion should have a stop condition and 1 or more recursive calls.</p>\n<p>in this example, the stop condition is <code>index &gt;= arr.length</code> so you start writing the function as folows:</p>\n<pre><code>public static int counting(int x, int[] arr, int index) {\n    if (index &gt;= arr.length) {\n        return 0;//there are 0 x's between index and arr.length\n    }\n</code></pre>\n<p>after you handled the stop condition, you need to write the rest:</p>\n<pre><code>public static int counting(int x, int[] arr, int index) {\n    if (index &gt;= arr.length) {\n        return 0;//there are 0 x's between index and arr.length\n    }\n    int countAfterIndex = counting(x, arr, index+1);//the amount of x's starting from index+1\n    if (x == arr[index]) {\n        return countAfterIndex + 1;//there is 1 more to add\n    } else {\n        return countAfterIndex; //the amount of x's after index is the same as the amount from index.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23333896,"reputation":13,"user_id":17409885,"display_name":"egg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70170823,"answer_count":1,"score":1,"last_activity_date":1655585552,"creation_date":1638281024,"question_id":70170650,"body_markdown":"I am supposed to write a recursive(!) method to count the amount of occurrences of a given integer in an integer array and return true if even and false if odd. This is my code so far:\r\n\r\n```\r\npublic static boolean evenNumberOf(int x, int[] arr) {\r\n\r\n\tif (arr == null || arr.length == 0)\r\n\t\treturn false;\r\n\tint count = counting(x, arr, 0, 0);\r\n\tif (count % 2 == 0) {\r\n\t\tSystem.out.print(&quot;true&quot;);\r\n\t\treturn true;\r\n\t} else {\r\n\t\tSystem.out.print(&quot;false&quot;);\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\npublic static int counting(int x, int[] arr, int index, int count) {\r\n\r\n\tif (arr[index] == x &amp;&amp; index &lt; arr.length) {\r\n\t\treturn counting(x, arr, index++, count++);\r\n\t} else {\r\n\t\treturn counting(x, arr, index++, count);\r\n\t}\r\n}\r\n```\r\n\r\nIt works for\r\n\r\n```\r\nevenNumberOf(2, new int[] { 1, 2, 3, 2 });\r\n```\r\n\r\nbut it gives `java.lang.StackOverflowError` for \r\n\r\n```\r\nevenNumberOf(1, new int[] { 1, 2, 3, 2 });\r\n```\r\n\r\nI am not sure how to prevent this endless recursive loop, as I&#39;m new to programming and it&#39;s my first time using recursion.\r\nThanks in advance.\r\n","title":"don&#39;t know how to prevent java.lang.StackOverflowError","body":"<p>I am supposed to write a recursive(!) method to count the amount of occurrences of a given integer in an integer array and return true if even and false if odd. This is my code so far:</p>\n<pre><code>public static boolean evenNumberOf(int x, int[] arr) {\n\n    if (arr == null || arr.length == 0)\n        return false;\n    int count = counting(x, arr, 0, 0);\n    if (count % 2 == 0) {\n        System.out.print(&quot;true&quot;);\n        return true;\n    } else {\n        System.out.print(&quot;false&quot;);\n        return false;\n    }\n}\n\npublic static int counting(int x, int[] arr, int index, int count) {\n\n    if (arr[index] == x &amp;&amp; index &lt; arr.length) {\n        return counting(x, arr, index++, count++);\n    } else {\n        return counting(x, arr, index++, count);\n    }\n}\n</code></pre>\n<p>It works for</p>\n<pre><code>evenNumberOf(2, new int[] { 1, 2, 3, 2 });\n</code></pre>\n<p>but it gives <code>java.lang.StackOverflowError</code> for</p>\n<pre><code>evenNumberOf(1, new int[] { 1, 2, 3, 2 });\n</code></pre>\n<p>I am not sure how to prevent this endless recursive loop, as I'm new to programming and it's my first time using recursion.\nThanks in advance.</p>\n"},{"tags":["java","android","android-studio","arraylist","addition"],"comments":[{"owner":{"account_id":10247873,"reputation":399,"user_id":8295558,"display_name":"Daniel Beleza"},"score":0,"creation_date":1638300771,"post_id":70174907,"comment_id":124050768,"body_markdown":"Please, could you share the error log?","body":"Please, could you share the error log?"},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":2,"creation_date":1638300940,"post_id":70174907,"comment_id":124050836,"body_markdown":"I&#39;m assuming it&#39;s a `NullPointerException`.  Your class definition of `Training` is not initializing `List&lt;Exercise&gt; exercises = new ArrayList&lt;&gt;()` so you cannot `#add` at that line in code.","body":"I&#39;m assuming it&#39;s a <code>NullPointerException</code>.  Your class definition of <code>Training</code> is not initializing <code>List&lt;Exercise&gt; exercises = new ArrayList&lt;&gt;()</code> so you cannot <code>#add</code> at that line in code."},{"owner":{"account_id":23506101,"reputation":11,"user_id":17555357,"display_name":"P3st1l3nc3101"},"score":0,"creation_date":1638380914,"post_id":70174907,"comment_id":124074965,"body_markdown":"It worked!! Adding List&lt;Exercise&gt; exercises = new ArrayList&lt;&gt;() before the for-loop fixed it. Thanks a bunch!","body":"It worked!! Adding List&lt;Exercise&gt; exercises = new ArrayList&lt;&gt;() before the for-loop fixed it. Thanks a bunch!"}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655584937,"creation_date":1655584937,"answer_id":72672623,"question_id":70174907,"body_markdown":"The reason your program crashed is because you defined a reference (&quot;exercises&quot;) without creating an object, and then you tried to use the reference despite no object existing. Without creating an object, the value for `exercises` is null, and calling `.add()` on a null reference will throw a `NullPointerException`.\r\n\r\nHere is a very simple example which the compiler would flag (don&#39;t need to run the program to detect the error):\r\n```\r\nString s;\r\nint l = s.length();\r\n```\r\nIf you compile that code, you should see a compilation error like this:\r\n```\r\nReferenceWithoutObject.java:11: error: variable s might not have been initialized\r\nint l = s.length();\r\n        ^\r\n1 error\r\n```\r\n\r\nYour example does this same thing, though it involves a few classes so the compiler doesn&#39;t detect the error. Here&#39;s a simple version of what you&#39;re doing, which compiles fine:\r\n```\r\nimport java.util.List;\r\n\r\npublic class ReferenceWithoutObject {\r\n    public static void main(String[] args) {\r\n        Training training = new Training();\r\n        training.exercises.add(new Exercise());\r\n    }\r\n}\r\n\r\nclass Training {\r\n    public List&lt;Exercise&gt; exercises;\r\n}\r\n\r\nclass Exercise {\r\n}\r\n```\r\n\r\nIf you run that code, it produces this error:\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.util.List.add(Object)&quot; because &quot;training.exercises&quot; is null\r\n\tat ReferenceWithoutObject.main(ReferenceWithoutObject.java:6)\r\n```\r\n\r\nThere are a few ways to fix this, but a simple one: create an actual list using `new ArrayList&lt;&gt;()`, and assign it to your `exercises` reference, like this:\r\n\r\n```\r\nclass Training {\r\n    public List&lt;Exercise&gt; exercises = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nAlso, you&#39;ll notice that I modified the code to define `public List&lt;Exercise&gt; exercises` instead of `public ArrayList&lt;Exercise&gt; exercises`  that is, to declare `exercises` using an interface (`List`) instead of a concrete class (`ArrayList`). It&#39;s good practice to define variables using interfaces rather than concrete classes.","title":"Android app crashed when object is added to ArrayList&lt;Object&gt;","body":"<p>The reason your program crashed is because you defined a reference (&quot;exercises&quot;) without creating an object, and then you tried to use the reference despite no object existing. Without creating an object, the value for <code>exercises</code> is null, and calling <code>.add()</code> on a null reference will throw a <code>NullPointerException</code>.</p>\n<p>Here is a very simple example which the compiler would flag (don't need to run the program to detect the error):</p>\n<pre><code>String s;\nint l = s.length();\n</code></pre>\n<p>If you compile that code, you should see a compilation error like this:</p>\n<pre><code>ReferenceWithoutObject.java:11: error: variable s might not have been initialized\nint l = s.length();\n        ^\n1 error\n</code></pre>\n<p>Your example does this same thing, though it involves a few classes so the compiler doesn't detect the error. Here's a simple version of what you're doing, which compiles fine:</p>\n<pre><code>import java.util.List;\n\npublic class ReferenceWithoutObject {\n    public static void main(String[] args) {\n        Training training = new Training();\n        training.exercises.add(new Exercise());\n    }\n}\n\nclass Training {\n    public List&lt;Exercise&gt; exercises;\n}\n\nclass Exercise {\n}\n</code></pre>\n<p>If you run that code, it produces this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.util.List.add(Object)&quot; because &quot;training.exercises&quot; is null\n    at ReferenceWithoutObject.main(ReferenceWithoutObject.java:6)\n</code></pre>\n<p>There are a few ways to fix this, but a simple one: create an actual list using <code>new ArrayList&lt;&gt;()</code>, and assign it to your <code>exercises</code> reference, like this:</p>\n<pre><code>class Training {\n    public List&lt;Exercise&gt; exercises = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Also, you'll notice that I modified the code to define <code>public List&lt;Exercise&gt; exercises</code> instead of <code>public ArrayList&lt;Exercise&gt; exercises</code>  that is, to declare <code>exercises</code> using an interface (<code>List</code>) instead of a concrete class (<code>ArrayList</code>). It's good practice to define variables using interfaces rather than concrete classes.</p>\n"}],"owner":{"account_id":23506101,"reputation":11,"user_id":17555357,"display_name":"P3st1l3nc3101"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":978,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655584937,"creation_date":1638300073,"question_id":70174907,"body_markdown":"I&#39;m new to this so apologies for any mistakes.\r\n\r\nContext: as part of the object Training, i&#39;m trying to add an arraylist of object Exercises. However. Everytime I try to add an object Exercise to the Arraylist of Training, the app crashes. \r\nAny help is welcome.\r\n\r\nObjects Training and Exercise look like this\r\n```\r\npublic class Training {\r\n    public Integer trainingNumber;\r\n    public Date datum;\r\n    public Integer nrOfExercises;\r\n    public ArrayList&lt;Exercise&gt; exercises;\r\n}\r\n\r\npublic class Training {\r\n    public Integer trainingNumber;\r\n    public Date datum;\r\n    public Integer nrOfExercises;\r\n    public ArrayList&lt;Exercise&gt; exercises;\r\n}\r\n```\r\nThe code trying to generate all this is as follows:\r\n```\r\n private Training createRandomTraining(int i){\r\n        Training randomTraining = new Training();\r\n        Random random = new Random();\r\n\r\n        int d = random.nextInt(30)+1;\r\n        int m = random.nextInt(12)+1;\r\n        //int y = random.nextInt(21)+2000;\r\n        int amountOfExercises = random.nextInt(9-6)+6;\r\n\r\n        randomTraining.trainingNumber = i;\r\n        randomTraining.datum = new Date(2021,m,d);\r\n\r\n       for (int j = 0; j &lt; amountOfExercises ; j ++){\r\n            Exercise exercise = new Exercise();\r\n            Random r = new Random();\r\n\r\n            int set = r.nextInt(5)+1;\r\n            int nameInt = r.nextInt(3);\r\n            int rep = r.nextInt(12)+1;\r\n            //int y = random.nextInt(21)+2000;\r\n\r\n            exercise.trainingNumber = i;\r\n            exercise.exerciseNumber = j+1;\r\n            exercise.exerciseName = getExerciseName(nameInt);\r\n            exercise.sets = set;\r\n            exercise.reps = rep;\r\n            exercise.weight = random.nextInt(200-50)+50;\r\n\r\n            randomTraining.exercises.add(exercise); //the app crashes here.   //The other parts work fine.\r\n         }\r\n\r\n        randomTraining.nrOfExercises = amountOfExercises;\r\n        return randomTraining;\r\n    }\r\n```\r\n\r\n\r\n","title":"Android app crashed when object is added to ArrayList&lt;Object&gt;","body":"<p>I'm new to this so apologies for any mistakes.</p>\n<p>Context: as part of the object Training, i'm trying to add an arraylist of object Exercises. However. Everytime I try to add an object Exercise to the Arraylist of Training, the app crashes.\nAny help is welcome.</p>\n<p>Objects Training and Exercise look like this</p>\n<pre><code>public class Training {\n    public Integer trainingNumber;\n    public Date datum;\n    public Integer nrOfExercises;\n    public ArrayList&lt;Exercise&gt; exercises;\n}\n\npublic class Training {\n    public Integer trainingNumber;\n    public Date datum;\n    public Integer nrOfExercises;\n    public ArrayList&lt;Exercise&gt; exercises;\n}\n</code></pre>\n<p>The code trying to generate all this is as follows:</p>\n<pre><code> private Training createRandomTraining(int i){\n        Training randomTraining = new Training();\n        Random random = new Random();\n\n        int d = random.nextInt(30)+1;\n        int m = random.nextInt(12)+1;\n        //int y = random.nextInt(21)+2000;\n        int amountOfExercises = random.nextInt(9-6)+6;\n\n        randomTraining.trainingNumber = i;\n        randomTraining.datum = new Date(2021,m,d);\n\n       for (int j = 0; j &lt; amountOfExercises ; j ++){\n            Exercise exercise = new Exercise();\n            Random r = new Random();\n\n            int set = r.nextInt(5)+1;\n            int nameInt = r.nextInt(3);\n            int rep = r.nextInt(12)+1;\n            //int y = random.nextInt(21)+2000;\n\n            exercise.trainingNumber = i;\n            exercise.exerciseNumber = j+1;\n            exercise.exerciseName = getExerciseName(nameInt);\n            exercise.sets = set;\n            exercise.reps = rep;\n            exercise.weight = random.nextInt(200-50)+50;\n\n            randomTraining.exercises.add(exercise); //the app crashes here.   //The other parts work fine.\n         }\n\n        randomTraining.nrOfExercises = amountOfExercises;\n        return randomTraining;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","destruction","custom-scope"],"comments":[{"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"score":0,"creation_date":1527045411,"post_id":50477894,"comment_id":87972092,"body_markdown":"It would be good to see some code to get a better idea exactly why you need to create a custom scope. There&#39;s probably a different way to get a context specific for a particular invocation of a thread/request/servlet","body":"It would be good to see some code to get a better idea exactly why you need to create a custom scope. There&#39;s probably a different way to get a context specific for a particular invocation of a thread/request/servlet"},{"owner":{"account_id":1318011,"reputation":415,"user_id":1264473,"display_name":"Andrew Cotton"},"score":0,"creation_date":1527052479,"post_id":50477894,"comment_id":87973797,"body_markdown":"@stringy05 thanks for the response.  I updated the question with much more context than before.  Starting at the time the message is routed to the &quot;controller&quot; it should be considered the start of this &quot;request&quot;, and at the end the controller would formally send the event signifying the end of the &quot;request&quot;.  Everything in between would share the same bean (requestWrapper), and the next &quot;request&quot; which is received by said system would get a new instance of these beans.\n\nI hope this helps clarify the use cases a bit more.  I apologize for not being able to be more concise.","body":"@stringy05 thanks for the response.  I updated the question with much more context than before.  Starting at the time the message is routed to the &quot;controller&quot; it should be considered the start of this &quot;request&quot;, and at the end the controller would formally send the event signifying the end of the &quot;request&quot;.  Everything in between would share the same bean (requestWrapper), and the next &quot;request&quot; which is received by said system would get a new instance of these beans.  I hope this helps clarify the use cases a bit more.  I apologize for not being able to be more concise."},{"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"score":0,"creation_date":1527060673,"post_id":50477894,"comment_id":87977628,"body_markdown":"So request wrapper is meant to have some context about the request? Maybe source IP address / port or something? The problem with injecting it is exactly the problem you are facing - there&#39;s only going to be a single instance of your `@TransactionController` so everyone is potentially mutating the same object. Even with ThreadLocal, the properties are bound to the Thread lifecycle, not the request.  If it&#39;s request context you are after I would inject it with the `@Header` annotation on the `ServiceActivator` method or the `@MessageMapping` which is pretty flexible.","body":"So request wrapper is meant to have some context about the request? Maybe source IP address / port or something? The problem with injecting it is exactly the problem you are facing - there&#39;s only going to be a single instance of your <code>@TransactionController</code> so everyone is potentially mutating the same object. Even with ThreadLocal, the properties are bound to the Thread lifecycle, not the request.  If it&#39;s request context you are after I would inject it with the <code>@Header</code> annotation on the <code>ServiceActivator</code> method or the <code>@MessageMapping</code> which is pretty flexible."},{"owner":{"account_id":1318011,"reputation":415,"user_id":1264473,"display_name":"Andrew Cotton"},"score":0,"creation_date":1527180863,"post_id":50477894,"comment_id":88041468,"body_markdown":"@stringy05 the requestWrapper will contain the request body, which is a lot more than headers and context, it is the foundation for many calculations and decisions we have to make.  My understanding was that by using ScopedProxyMode.TARGET_CLASS it would resolve as expected and that the only thing which is autowired is a proxy.","body":"@stringy05 the requestWrapper will contain the request body, which is a lot more than headers and context, it is the foundation for many calculations and decisions we have to make.  My understanding was that by using ScopedProxyMode.TARGET_CLASS it would resolve as expected and that the only thing which is autowired is a proxy."},{"owner":{"account_id":1318011,"reputation":415,"user_id":1264473,"display_name":"Andrew Cotton"},"score":0,"creation_date":1527181229,"post_id":50477894,"comment_id":88041642,"body_markdown":"I&#39;m aware that it is all based on the thread (because it&#39;s a thread local); I will read about `@MessageMapping` and `@Header`.  The most important part that I want to emphasize is that it is not a web-aware app, so I&#39;m going to make sure that what you mentioned is an option for me.  Thank you very much for your help so far.","body":"I&#39;m aware that it is all based on the thread (because it&#39;s a thread local); I will read about <code>@MessageMapping</code> and <code>@Header</code>.  The most important part that I want to emphasize is that it is not a web-aware app, so I&#39;m going to make sure that what you mentioned is an option for me.  Thank you very much for your help so far."},{"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"score":1,"creation_date":1527481559,"post_id":50477894,"comment_id":88128751,"body_markdown":"Yeah, web aware is not really the issue, it&#39;s the scope of the request - even If it&#39;s raw TCP there&#39;s probably some boundary (ie 2 \\n&#39;s, some weird byte encoding) which you can use to leverage the out of the box spring integration tools.  Scoping the proxy to the Thread should work as long as you can control the Thread lifecycle, but it may be inventing stuff that already exists in the framework. (I realise that I&#39;m arguing about the implementation choice, rather than answering the question :) )","body":"Yeah, web aware is not really the issue, it&#39;s the scope of the request - even If it&#39;s raw TCP there&#39;s probably some boundary (ie 2 \\n&#39;s, some weird byte encoding) which you can use to leverage the out of the box spring integration tools.  Scoping the proxy to the Thread should work as long as you can control the Thread lifecycle, but it may be inventing stuff that already exists in the framework. (I realise that I&#39;m arguing about the implementation choice, rather than answering the question :) )"}],"answers":[{"tags":[],"owner":{"account_id":1318011,"reputation":415,"user_id":1264473,"display_name":"Andrew Cotton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549586227,"creation_date":1549586227,"answer_id":54584505,"question_id":50477894,"body_markdown":"After many months and a few more attempts, I finally stumbled across some articles which pointed me in the right direction. Specifically, references in David Winterfeldt&#39;s blog post helped me understand the [SimpleThreadScope](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/support/SimpleThreadScope.html) which I had previously read, and was well aware of the fact that Spring makes no attempt to clear the scope after its lifecycle is complete, however, his article demonstrated the missing link for all previous implementations I had seen.\r\n\r\nSpecifically, the missing links were static references to ThreadScopeContextHolder in ThreadScope class in his implementation (in my proposed implementation above I called mine TcpRequestScope; the rest of this answer uses David Winterfeldt&#39;s terms since his reference documentation will prove most useful, and he wrote it).\r\n\r\nUpon closer inspection of the Custom Thread Scope Module I noticed I was missing the ThreadScopeContextHolder, which contained a static reference to a ThreadLocal, which contains a ThreadScopeAttributes object which is what holds in-scope objects.\r\n\r\nSome minor differences between David&#39;s implementation and my final one were, after Spring Integration sends its response, I use a ChannelInterceptor to clear the thread scope, since I&#39;m using Spring Integration.  In his examples, he extended threads which included a call to the context holder as part of a finally block.\r\n\r\nHow I&#39;m clearing the scope attributes / beans:\r\n\r\n    public class ThreadScopeInterceptor extends ChannelInterceptorAdapter {\r\n\r\n\t@Override\r\n\tpublic void afterSendCompletion(final Message&lt;?&gt; message, final MessageChannel channel, final boolean sent,\r\n\t\t\t@Nullable final Exception exception) {\r\n\r\n\t\t// explicitly clear scope variables\r\n\t\tThreadScopeContextHolder.clearThreadScopeState();\r\n\t}\r\n\r\nAdditionally, I added a method in the ThreadScopeContextHolder which clears the ThreadLocal:\r\n\r\n    public class ThreadScopeContextHolder {\r\n\r\n        // see: reference document for complete ThreadScopeContextHolder class\r\n\r\n\t    /**\r\n\t     * Clears all tcpRequest scoped beans which are stored on the current thread&#39;s ThreadLocal instance by calling\r\n\t     * {@link ThreadLocal#remove()}.\r\n\t     */\r\n\t    public static void clearThreadScopeState() {\r\n\r\n\t\t    threadScopeAttributesHolder.remove();\r\n\t    }\r\n\r\n    }\r\n\r\nWhile I&#39;m not absolutely certain that there will not be memory leaks due to the ThreadLocal usage, I believe this will work as expected since I am calling ThreadLocal.remove(), which will remove the only reference to the ThreadScopeAttributes object, and therefore open it up to garbage collection.\r\n\r\nAny improvements are welcomed, especially in terms of usage of ThreadLocal and how this might cause problems down the road.\r\n\r\n\r\n**Sources:**\r\n\r\n - [David Winterfeldt&#39;s Custom Thread Scope Module](https://www.springbyexample.org/examples/custom-thread-scope-module.html)\r\n - [Spring By Example Custom Thread Scope Module github (See David Winterfeldt&#39;s example above)](https://github.com/spring-by-example/spring-by-example/tree/master/modules/sbe-thread-scope)\r\n - [jyore&#39;s spring scopes (specifically, thread scope)](https://github.com/jyore/spring-scopes)\r\n - [David Noel&#39;s (Devbury) Spring Boot Starter Thread Scope](https://github.com/devbury/spring-boot-starter-threadscope)","title":"Spring Custom Scope Lifecycle Bean Termination","body":"<p>After many months and a few more attempts, I finally stumbled across some articles which pointed me in the right direction. Specifically, references in David Winterfeldt's blog post helped me understand the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/support/SimpleThreadScope.html\" rel=\"nofollow noreferrer\">SimpleThreadScope</a> which I had previously read, and was well aware of the fact that Spring makes no attempt to clear the scope after its lifecycle is complete, however, his article demonstrated the missing link for all previous implementations I had seen.</p>\n\n<p>Specifically, the missing links were static references to ThreadScopeContextHolder in ThreadScope class in his implementation (in my proposed implementation above I called mine TcpRequestScope; the rest of this answer uses David Winterfeldt's terms since his reference documentation will prove most useful, and he wrote it).</p>\n\n<p>Upon closer inspection of the Custom Thread Scope Module I noticed I was missing the ThreadScopeContextHolder, which contained a static reference to a ThreadLocal, which contains a ThreadScopeAttributes object which is what holds in-scope objects.</p>\n\n<p>Some minor differences between David's implementation and my final one were, after Spring Integration sends its response, I use a ChannelInterceptor to clear the thread scope, since I'm using Spring Integration.  In his examples, he extended threads which included a call to the context holder as part of a finally block.</p>\n\n<p>How I'm clearing the scope attributes / beans:</p>\n\n<pre><code>public class ThreadScopeInterceptor extends ChannelInterceptorAdapter {\n\n@Override\npublic void afterSendCompletion(final Message&lt;?&gt; message, final MessageChannel channel, final boolean sent,\n        @Nullable final Exception exception) {\n\n    // explicitly clear scope variables\n    ThreadScopeContextHolder.clearThreadScopeState();\n}\n</code></pre>\n\n<p>Additionally, I added a method in the ThreadScopeContextHolder which clears the ThreadLocal:</p>\n\n<pre><code>public class ThreadScopeContextHolder {\n\n    // see: reference document for complete ThreadScopeContextHolder class\n\n    /**\n     * Clears all tcpRequest scoped beans which are stored on the current thread's ThreadLocal instance by calling\n     * {@link ThreadLocal#remove()}.\n     */\n    public static void clearThreadScopeState() {\n\n        threadScopeAttributesHolder.remove();\n    }\n\n}\n</code></pre>\n\n<p>While I'm not absolutely certain that there will not be memory leaks due to the ThreadLocal usage, I believe this will work as expected since I am calling ThreadLocal.remove(), which will remove the only reference to the ThreadScopeAttributes object, and therefore open it up to garbage collection.</p>\n\n<p>Any improvements are welcomed, especially in terms of usage of ThreadLocal and how this might cause problems down the road.</p>\n\n<p><strong>Sources:</strong></p>\n\n<ul>\n<li><a href=\"https://www.springbyexample.org/examples/custom-thread-scope-module.html\" rel=\"nofollow noreferrer\">David Winterfeldt's Custom Thread Scope Module</a></li>\n<li><a href=\"https://github.com/spring-by-example/spring-by-example/tree/master/modules/sbe-thread-scope\" rel=\"nofollow noreferrer\">Spring By Example Custom Thread Scope Module github (See David Winterfeldt's example above)</a></li>\n<li><a href=\"https://github.com/jyore/spring-scopes\" rel=\"nofollow noreferrer\">jyore's spring scopes (specifically, thread scope)</a></li>\n<li><a href=\"https://github.com/devbury/spring-boot-starter-threadscope\" rel=\"nofollow noreferrer\">David Noel's (Devbury) Spring Boot Starter Thread Scope</a></li>\n</ul>\n"}],"owner":{"account_id":1318011,"reputation":415,"user_id":1264473,"display_name":"Andrew Cotton"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3547,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1655584886,"creation_date":1527032434,"question_id":50477894,"body_markdown":"**Question**: How can I tell Spring that a set of beans with a custom scope should all be considered garbage, so that the next request on the same thread would not re-use their state?\r\n\r\n**What I&#39;ve done**: I&#39;ve implemented a custom scope in Spring, to mimic the lifecycle of a request scope (HttpRequest) but for TcpRequests.  It is very similar what is found [here][1].\r\n\r\nMany examples of custom scopes which I am finding are variants on prototype or singleton with no explicit termination of beans occurring, or, alternatively, they based around a thread local or ThreadScope but they do not describe telling Spring that the lifecycle has ended and that all beans should be destroyed.\r\n\r\nThings I have tried (perhaps incorrectly):\r\n\r\n - Event + Listener to indicate the beginning and end of the scope (these occur when message is received and just before response is sent); in listener, the scope is explicitly cleared which clears the entire map used by the thread local implementation (scope.clear()).  Clearing scope does result in the next call to context.getBean() returning a new instance when handled manually in tests, but my bean which is autowired in a singleton class does not get a new bean--it uses the same bean over and over.\r\n\r\n - Listener which implements: BeanFactoryPostProcessor, BeanPostProcessor, BeanFactoryAware, DisposableBean and attempt to call destroy() on all Disposable bean instances; something like [this][2] but for my custom scope only.  This seems to fail in that nothing is explicitly ending the lifecycle of the beans, despite the fact that I&#39;m calling customScope.clear() when I receive the scope ending event; ending the scope doesn&#39;t seem to translate to &quot;end all beans associated with this scope&quot;.\r\n\r\n - I&#39;ve read Spring documentation extensively and it seems to be clear that Spring doesn&#39;t manage the lifecycle of these custom beans in that it doesn&#39;t know when or how they should be destroyed, which means that it must be told when and how to destroy them; I&#39;ve tried to read and understand the Session and Request scopes as provided by Spring so that I can mimic this but am missing something (again, these are not available to me since this is not a web-aware application and I&#39;m not using HttpRequests and it is a non-trivial change in our application&#39;s structure)\r\n\r\nIs anyone out there able to point me in the right direction?\r\n\r\nI have the following code examples:\r\n\r\n**Xml Context Configuration**:\r\n\r\n    &lt;int-ip:tcp-connection-factory id=&quot;serverConnectionFactory&quot; type=&quot;server&quot; port=&quot;19000&quot; \r\n\t\tserializer=&quot;javaSerializer&quot; deserializer=&quot;javaDeserializer&quot;/&gt;\r\n\r\n\t&lt;int-ip:tcp-inbound-gateway id=&quot;inGateway&quot; connection-factory=&quot;serverConnectionFactory&quot;\r\n\t\trequest-channel=&quot;incomingServerChannel&quot; error-channel=&quot;errorChannel&quot;/&gt;\r\n\r\n\t&lt;int:channel id=&quot;incomingServerChannel&quot; /&gt;\r\n\r\n\t&lt;int:chain input-channel=&quot;incomingServerChannel&quot;&gt;\r\n\t\t&lt;int:service-activator ref=&quot;transactionController&quot;/&gt;\r\n\t&lt;/int:chain&gt;\r\n\r\n\r\n**TransactionController (handles request)**:\r\n\r\n    @Component(&quot;transactionController&quot;)\r\n    public class TransactionController {\r\n\r\n\t    @Autowired\r\n    \tprivate RequestWrapper requestWrapper;\r\n\r\n        @ServiceActivator\r\n\t    public String handle(final Message&lt;?&gt; requestMessage) {\r\n\r\n            // object is passed around through various phases of application\r\n            // object is changed, things are added, and finally, a response is generated based upon this data\r\n\r\n            tcpRequestCompletePublisher.publishEvent(requestWrapper, &quot;Request lifecycle complete.&quot;);\r\n\r\n            return response;\r\n        }\r\n    }\r\n\r\n\r\n**TcpRequestScope (scope definition)**:\r\n\r\n    @Component\r\n    public class TcpRequestScope implements Scope {\r\n\r\n        private final ThreadLocal&lt;ConcurrentHashMap&lt;String, Object&gt;&gt; scopedObjects =\r\n\t\t\tnew InheritableThreadLocal&lt;ConcurrentHashMap&lt;String, Object&gt;&gt;({\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tprotected ConcurrentHashMap&lt;String, Object&gt; initialValue(){\r\n\r\n\t\t\t\t\treturn new ConcurrentHashMap&lt;&gt;();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t    private final Map&lt;String, Runnable&gt; destructionCallbacks =\r\n\t\t\tCollections.synchronizedMap(new HashMap&lt;String, Runnable&gt;());\r\n\r\n\t    @Override\r\n    \tpublic Object get(final String name, final ObjectFactory&lt;?&gt; objectFactory) {\r\n\r\n\t\t    final Map&lt;String, Object&gt; scope = this.scopedObjects.get();\r\n\t\t    Object object = scope.get(name);\r\n\t\t    if (object == null) {\r\n\t\t\t    object = objectFactory.getObject();\r\n\t\t\t    scope.put(name, object);\r\n\t\t    }\r\n\t\t    return object;\r\n\t    }\r\n\r\n\t    @Override\r\n    \tpublic Object remove(final String name) {\r\n\r\n\t\t    final Map&lt;String, Object&gt; scope = this.scopedObjects.get();\r\n\r\n\t\t    return scope.remove(name);\r\n\t    }\r\n\r\n\t    @Override\r\n    \tpublic void registerDestructionCallback(final String name, final Runnable callback) {\r\n\r\n\t\t    destructionCallbacks.put(name, callback);\r\n\t    }\r\n\r\n\t    @Override\r\n    \tpublic Object resolveContextualObject(final String key) {\r\n\r\n\t\t    return null;\r\n\t    }\r\n\r\n\t    @Override\r\n    \tpublic String getConversationId() {\r\n\r\n\t    \treturn String.valueOf(Thread.currentThread().getId());\r\n    \t}\r\n\r\n    \tpublic void clear() {\r\n\r\n\t\t    final Map&lt;String, Object&gt; scope = this.scopedObjects.get();\r\n\r\n\t\t    scope.clear();\r\n\r\n\t    }\r\n\r\n    }\r\n\r\n**TcpRequestCompleteListener**:\r\n\r\n    @Component\r\n    public class TcpRequestCompleteListener implements ApplicationListener&lt;TcpRequestCompleteEvent&gt; {\r\n\r\n    \t@Autowired\r\n\t    private TcpRequestScope tcpRequestScope;\r\n\r\n\t    @Override\r\n\t    public void onApplicationEvent(final TcpRequestCompleteEvent event) {\r\n\r\n            // do some processing\r\n\r\n\t\t    // clear all scope related data (so next thread gets clean slate)\r\n\t\t    tcpRequestScope.clear();\r\n\t    }\r\n\r\n    }\r\n\r\n**RequestWrapper (object we use throughout request lifecycle)**:\r\n\r\n    @Component\r\n    @Scope(scopeName = &quot;tcpRequestScope&quot;, proxyMode = \r\n    ScopedProxyMode.TARGET_CLASS)\r\n    public class RequestWrapper implements Serializable, DisposableBean {\r\n\r\n\r\n        // we have many fields here which we add to and build up during processing of request\r\n        // actual request message contents will be placed into this class and used throughout processing\r\n\r\n\t    @Override\r\n    \tpublic void destroy() throws Exception {\r\n\r\n\t\t    System.out.print(&quot;Destroying RequestWrapper bean&quot;);\r\n\t    }\r\n    }\r\n\r\n  [1]: https://memorynotfound.com/spring-custom-scope-creating-and-implementing-threadscope/\r\n  [2]: http://iryndin.net/post/spring_destroy_prototype_beans/","title":"Spring Custom Scope Lifecycle Bean Termination","body":"<p><strong>Question</strong>: How can I tell Spring that a set of beans with a custom scope should all be considered garbage, so that the next request on the same thread would not re-use their state?</p>\n\n<p><strong>What I've done</strong>: I've implemented a custom scope in Spring, to mimic the lifecycle of a request scope (HttpRequest) but for TcpRequests.  It is very similar what is found <a href=\"https://memorynotfound.com/spring-custom-scope-creating-and-implementing-threadscope/\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Many examples of custom scopes which I am finding are variants on prototype or singleton with no explicit termination of beans occurring, or, alternatively, they based around a thread local or ThreadScope but they do not describe telling Spring that the lifecycle has ended and that all beans should be destroyed.</p>\n\n<p>Things I have tried (perhaps incorrectly):</p>\n\n<ul>\n<li><p>Event + Listener to indicate the beginning and end of the scope (these occur when message is received and just before response is sent); in listener, the scope is explicitly cleared which clears the entire map used by the thread local implementation (scope.clear()).  Clearing scope does result in the next call to context.getBean() returning a new instance when handled manually in tests, but my bean which is autowired in a singleton class does not get a new bean--it uses the same bean over and over.</p></li>\n<li><p>Listener which implements: BeanFactoryPostProcessor, BeanPostProcessor, BeanFactoryAware, DisposableBean and attempt to call destroy() on all Disposable bean instances; something like <a href=\"http://iryndin.net/post/spring_destroy_prototype_beans/\" rel=\"noreferrer\">this</a> but for my custom scope only.  This seems to fail in that nothing is explicitly ending the lifecycle of the beans, despite the fact that I'm calling customScope.clear() when I receive the scope ending event; ending the scope doesn't seem to translate to \"end all beans associated with this scope\".</p></li>\n<li><p>I've read Spring documentation extensively and it seems to be clear that Spring doesn't manage the lifecycle of these custom beans in that it doesn't know when or how they should be destroyed, which means that it must be told when and how to destroy them; I've tried to read and understand the Session and Request scopes as provided by Spring so that I can mimic this but am missing something (again, these are not available to me since this is not a web-aware application and I'm not using HttpRequests and it is a non-trivial change in our application's structure)</p></li>\n</ul>\n\n<p>Is anyone out there able to point me in the right direction?</p>\n\n<p>I have the following code examples:</p>\n\n<p><strong>Xml Context Configuration</strong>:</p>\n\n<pre><code>&lt;int-ip:tcp-connection-factory id=\"serverConnectionFactory\" type=\"server\" port=\"19000\" \n    serializer=\"javaSerializer\" deserializer=\"javaDeserializer\"/&gt;\n\n&lt;int-ip:tcp-inbound-gateway id=\"inGateway\" connection-factory=\"serverConnectionFactory\"\n    request-channel=\"incomingServerChannel\" error-channel=\"errorChannel\"/&gt;\n\n&lt;int:channel id=\"incomingServerChannel\" /&gt;\n\n&lt;int:chain input-channel=\"incomingServerChannel\"&gt;\n    &lt;int:service-activator ref=\"transactionController\"/&gt;\n&lt;/int:chain&gt;\n</code></pre>\n\n<p><strong>TransactionController (handles request)</strong>:</p>\n\n<pre><code>@Component(\"transactionController\")\npublic class TransactionController {\n\n    @Autowired\n    private RequestWrapper requestWrapper;\n\n    @ServiceActivator\n    public String handle(final Message&lt;?&gt; requestMessage) {\n\n        // object is passed around through various phases of application\n        // object is changed, things are added, and finally, a response is generated based upon this data\n\n        tcpRequestCompletePublisher.publishEvent(requestWrapper, \"Request lifecycle complete.\");\n\n        return response;\n    }\n}\n</code></pre>\n\n<p><strong>TcpRequestScope (scope definition)</strong>:</p>\n\n<pre><code>@Component\npublic class TcpRequestScope implements Scope {\n\n    private final ThreadLocal&lt;ConcurrentHashMap&lt;String, Object&gt;&gt; scopedObjects =\n        new InheritableThreadLocal&lt;ConcurrentHashMap&lt;String, Object&gt;&gt;({\n\n            @Override\n            protected ConcurrentHashMap&lt;String, Object&gt; initialValue(){\n\n                return new ConcurrentHashMap&lt;&gt;();\n            }\n        };\n\n    private final Map&lt;String, Runnable&gt; destructionCallbacks =\n        Collections.synchronizedMap(new HashMap&lt;String, Runnable&gt;());\n\n    @Override\n    public Object get(final String name, final ObjectFactory&lt;?&gt; objectFactory) {\n\n        final Map&lt;String, Object&gt; scope = this.scopedObjects.get();\n        Object object = scope.get(name);\n        if (object == null) {\n            object = objectFactory.getObject();\n            scope.put(name, object);\n        }\n        return object;\n    }\n\n    @Override\n    public Object remove(final String name) {\n\n        final Map&lt;String, Object&gt; scope = this.scopedObjects.get();\n\n        return scope.remove(name);\n    }\n\n    @Override\n    public void registerDestructionCallback(final String name, final Runnable callback) {\n\n        destructionCallbacks.put(name, callback);\n    }\n\n    @Override\n    public Object resolveContextualObject(final String key) {\n\n        return null;\n    }\n\n    @Override\n    public String getConversationId() {\n\n        return String.valueOf(Thread.currentThread().getId());\n    }\n\n    public void clear() {\n\n        final Map&lt;String, Object&gt; scope = this.scopedObjects.get();\n\n        scope.clear();\n\n    }\n\n}\n</code></pre>\n\n<p><strong>TcpRequestCompleteListener</strong>:</p>\n\n<pre><code>@Component\npublic class TcpRequestCompleteListener implements ApplicationListener&lt;TcpRequestCompleteEvent&gt; {\n\n    @Autowired\n    private TcpRequestScope tcpRequestScope;\n\n    @Override\n    public void onApplicationEvent(final TcpRequestCompleteEvent event) {\n\n        // do some processing\n\n        // clear all scope related data (so next thread gets clean slate)\n        tcpRequestScope.clear();\n    }\n\n}\n</code></pre>\n\n<p><strong>RequestWrapper (object we use throughout request lifecycle)</strong>:</p>\n\n<pre><code>@Component\n@Scope(scopeName = \"tcpRequestScope\", proxyMode = \nScopedProxyMode.TARGET_CLASS)\npublic class RequestWrapper implements Serializable, DisposableBean {\n\n\n    // we have many fields here which we add to and build up during processing of request\n    // actual request message contents will be placed into this class and used throughout processing\n\n    @Override\n    public void destroy() throws Exception {\n\n        System.out.print(\"Destroying RequestWrapper bean\");\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","sql","jdbc","relational-database"],"comments":[{"owner":{"account_id":14402529,"reputation":911,"user_id":10403679,"display_name":"Amine"},"score":0,"creation_date":1645206061,"post_id":71176975,"comment_id":125818067,"body_markdown":"You should create a stored procedure that emulates the same logic, then call the procedure whenever an insert query is executed on the banks table.","body":"You should create a stored procedure that emulates the same logic, then call the procedure whenever an insert query is executed on the banks table."},{"owner":{"account_id":24292958,"reputation":154,"user_id":18237622,"display_name":"Chandrachur Mukherjee"},"score":0,"creation_date":1645206353,"post_id":71176975,"comment_id":125818168,"body_markdown":"@Anime But the logic specifics are different for every entry in the banks table. That would mean for every entry I would need a new stored procedure? How do I link a particular procedure to a particular row?","body":"@Anime But the logic specifics are different for every entry in the banks table. That would mean for every entry I would need a new stored procedure? How do I link a particular procedure to a particular row?"},{"owner":{"account_id":14402529,"reputation":911,"user_id":10403679,"display_name":"Amine"},"score":0,"creation_date":1645206850,"post_id":71176975,"comment_id":125818345,"body_markdown":"Are the fields used to generate the bank balance interest also mapped to / present in the database? If so I think you can implement the same logic as a stored procedure in your database.","body":"Are the fields used to generate the bank balance interest also mapped to / present in the database? If so I think you can implement the same logic as a stored procedure in your database."},{"owner":{"account_id":24292958,"reputation":154,"user_id":18237622,"display_name":"Chandrachur Mukherjee"},"score":0,"creation_date":1645207068,"post_id":71176975,"comment_id":125818429,"body_markdown":"@Anime The only field that the interest is dependent on is the current balance which is present in the reserves table. The reserves table is mapped to as a foreign key.","body":"@Anime The only field that the interest is dependent on is the current balance which is present in the reserves table. The reserves table is mapped to as a foreign key."},{"owner":{"account_id":14402529,"reputation":911,"user_id":10403679,"display_name":"Amine"},"score":0,"creation_date":1645207318,"post_id":71176975,"comment_id":125818531,"body_markdown":"Yep I still don&#39;t see why you can&#39;t use the balance field from the reserves table to create a stored procedure to do the same behavior you would in a Java class, upvoted the question though in hope that someone understands the question better and finds a solution for your issue.","body":"Yep I still don&#39;t see why you can&#39;t use the balance field from the reserves table to create a stored procedure to do the same behavior you would in a Java class, upvoted the question though in hope that someone understands the question better and finds a solution for your issue."},{"owner":{"account_id":38095,"reputation":55749,"user_id":109122,"accept_rate":75,"display_name":"RBarryYoung"},"score":0,"creation_date":1646574788,"post_id":71176975,"comment_id":126152423,"body_markdown":"In order to answer this question we would need to see more specifics of the logic being applied and how the current JAVA class works.  We can no more answer an open-ended question of &quot;how to encode logic in the database?&quot; than we could &quot;how to encode logic into a program?&quot;  In both cases we would need to know what that logic was to answer the question.","body":"In order to answer this question we would need to see more specifics of the logic being applied and how the current JAVA class works.  We can no more answer an open-ended question of &quot;how to encode logic in the database?&quot; than we could &quot;how to encode logic into a program?&quot;  In both cases we would need to know what that logic was to answer the question."},{"owner":{"account_id":24292958,"reputation":154,"user_id":18237622,"display_name":"Chandrachur Mukherjee"},"score":0,"creation_date":1646669953,"post_id":71176975,"comment_id":126175355,"body_markdown":"@RBarryYoung Uploaded all the relevant code.","body":"@RBarryYoung Uploaded all the relevant code."}],"answers":[{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655582248,"creation_date":1646416505,"answer_id":71355426,"question_id":71176975,"body_markdown":"**Advice/opinion**\r\n\r\nA database is for persistent storage of numbers and text.\r\n\r\nAn application is for computing and deciding things.\r\n\r\nThat is, the complex business logic you describe _may_ be more appropriately encoded in Java (or other application language).  Meanwhile, the breakpoints, etc. for interest rates should be stored in the database.\r\n\r\nPhrased differently:  &quot;Business logic&quot; belongs in the application, not the database.  (There is, of course, a gray lines between them.  For example, SQL is excellent at summing up all the data in a table; so, I would do that in SQL, not Java.)\r\n\r\n**Decimal**\r\n\r\nBanks have picky rules that may not be the same as what `DECIMAL` or `DOUBLE` provide -- in Java or MySQL or _any other computer language.  Be careful of the rules that may be required.  In particular, `DECIMAL(10, 4)` is unlikely to be adequate in your application.  On the other hand, `apy DECIMAL(4, 2)` may be adequate if that is what is presented to the customer.  But, again, beware of rounding rules when generating that number.  You may be forced to enter that number manually.\r\n\r\nBe aware of the difference in rounding characteristics between `DECIMAL` and `DOUBLE`.\r\n\r\n**Answer**\r\n\r\nIf you choose to implement an algorithm in the database, then see `CREATE STORED PROCEDURE` and `CREATE FUNCTION`.\r\n\r\n[Stored procedures][1] can be used to encapsulate a set of SQL statements.  It can receive and send strings and numbers, but not arrays.  It is capable of reading tables (hence &quot;arrays&quot; of a sort).\r\n\r\nFunctions can be called anywhere an expression can occur.  It can receive some numbers/strings and produce one number or string.\r\n\r\n**Array**\r\n\r\nI&#39;m not clear on what is needed, but I envision a table of a few rows or a few dozen rows with each row saying &quot;for values up to $xxx, use y.yy% interest rate&quot;.\r\n\r\nStored procedures have &quot;cursors&quot; and &quot;loops&quot;, but they are clumsy; the application language is likely to have better code.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Stored_procedure\r\n\r\n\r\n","title":"How to store function logic in the database","body":"<p><strong>Advice/opinion</strong></p>\n<p>A database is for persistent storage of numbers and text.</p>\n<p>An application is for computing and deciding things.</p>\n<p>That is, the complex business logic you describe <em>may</em> be more appropriately encoded in Java (or other application language).  Meanwhile, the breakpoints, etc. for interest rates should be stored in the database.</p>\n<p>Phrased differently:  &quot;Business logic&quot; belongs in the application, not the database.  (There is, of course, a gray lines between them.  For example, SQL is excellent at summing up all the data in a table; so, I would do that in SQL, not Java.)</p>\n<p><strong>Decimal</strong></p>\n<p>Banks have picky rules that may not be the same as what <code>DECIMAL</code> or <code>DOUBLE</code> provide -- in Java or MySQL or _any other computer language.  Be careful of the rules that may be required.  In particular, <code>DECIMAL(10, 4)</code> is unlikely to be adequate in your application.  On the other hand, <code>apy DECIMAL(4, 2)</code> may be adequate if that is what is presented to the customer.  But, again, beware of rounding rules when generating that number.  You may be forced to enter that number manually.</p>\n<p>Be aware of the difference in rounding characteristics between <code>DECIMAL</code> and <code>DOUBLE</code>.</p>\n<p><strong>Answer</strong></p>\n<p>If you choose to implement an algorithm in the database, then see <code>CREATE STORED PROCEDURE</code> and <code>CREATE FUNCTION</code>.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Stored_procedure\" rel=\"nofollow noreferrer\">Stored procedures</a> can be used to encapsulate a set of SQL statements.  It can receive and send strings and numbers, but not arrays.  It is capable of reading tables (hence &quot;arrays&quot; of a sort).</p>\n<p>Functions can be called anywhere an expression can occur.  It can receive some numbers/strings and produce one number or string.</p>\n<p><strong>Array</strong></p>\n<p>I'm not clear on what is needed, but I envision a table of a few rows or a few dozen rows with each row saying &quot;for values up to $xxx, use y.yy% interest rate&quot;.</p>\n<p>Stored procedures have &quot;cursors&quot; and &quot;loops&quot;, but they are clumsy; the application language is likely to have better code.</p>\n"},{"tags":[],"owner":{"account_id":3756720,"reputation":3547,"user_id":3122921,"display_name":"MarcinJ"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1655582474,"creation_date":1646686197,"answer_id":71387095,"question_id":71176975,"body_markdown":"I think you&#39;re being misunderstood. You&#39;re probably not asking how to move your logic into the database, to which a stored procedure would be an answer, but how to store the logic you&#39;re implementing in code to the database so that you can restore that state later on. So that&#39;s the premise of my answer.\r\n\r\nYour design related to these calculations is not great. You should definitely consider expressing these APY calculation methods as classes implementing some kind of `IAPYCalculationMethod` interface, with a method to actually calculate it. Anonymous lambdas like the ones you have are just bad for this purpose.\r\n\r\nSo let&#39;s say you actually do have an `IAPYCalculatioMethod` interface with `CalculateAPY` method, and then a `BalanceBasedCalculationMethod` that looks like this:\r\n\r\n    // The code is not complete. It is just to give you an idea\r\n    class BalanceBasedCalculationMethod implements IAPYCalculationMethod {\r\n      public BalanceBasedCalculationMethod(BigDecimal balanceThreshold, BigDecimal whenLower, BigDecimal whenGreater) { ... }\r\n\r\n      public BigDecimal CalculateAPY(Bank bank) {\r\n         if (bank.getBalance() &lt; this.balanceThreshold)\r\n             return this.whenLower;\r\n         else\r\n             return this.whenGreater;\r\n      }\r\n    }\r\n\r\nThen when you create a new Bank:\r\n\r\n    bank1 = new Bank(&quot;TestBank1&quot;, new BalanceBasedCalculationMethod(10000, 4, 5));\r\n    bank2 = new Bank(&quot;TestBank2&quot;, new BalanceBasedCalculationMethod(8000, 3.5, 5.3));\r\n\r\nThis is already better. And this also allows you to somehow serialize all of this. You can have a table with all calculation methods, relation between the bank and the method used, together with a JSON of arguments (because different methods may have different arguments; you might also want to store them in a separate table instead of JSON).\r\n\r\n    CREATE TABLE IF NOT EXISTS apy_calculation_method\r\n    (\r\n       id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY\r\n       name VARCHAR(100) NOT NULL\r\n    );\r\n\r\n\r\n    CREATE TABLE IF NOT EXISTS bank_calculation_method\r\n    (\r\n      id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,\r\n      bank_id SMALLINT UNSIGNED NOT NULL REFERENCES reserves(id),\r\n      method_id SMALLINT UNSIGNED NOT NULL REFERENCES apy_calculation_method(id),\r\n      arguments JSON\r\n    );\r\n\r\nTo represent our balance based method and the banks using it we&#39;d then have:\r\n\r\n    INSERT INTO apy_calculation_method (name) VALUES (&#39;Balance Based&#39;);\r\n\r\nThen the method for each of the banks:\r\n\r\n    INSERT INTO bank_calculation_method (bank_id, method_id, arguments)\r\n    VALUES (1, 1, &#39;{&quot;balance&quot;: 10000, &quot;whenLower&quot;: 4, &quot;whenGreater&quot;: 5}&#39;)\r\n         , (2, 1, &#39;{&quot;balance&quot;:  8000, &quot;whenLower&quot;: 3.5, &quot;whenGreater&quot;: 5.3}&#39;);\r\n\r\nAnd the banks:\r\n\r\n    INSERT INTO banks (id, bank_method_id, accrued_interest)\r\n    VALUES (1, 1, 0) -- first bank using the first method (balance based with 10000 balance)\r\n         , (2, 2, 0) -- second bank using the second method (balance based with 8000 balance)\r\n\r\nThis method can be less or more rigid (normalized / denormalized), you could for example just store the calculation method as JSON in the banks table (with `{&quot;method&quot;: &quot;balance&quot;, &quot;balance&quot;: 10000, .... }` structure of sort). The design of your calculation method factory and how it serialized/deserializes data to/from the database depends on it, but I&#39;m sure you can figure it out.\r\n\r\nWhat this all gives you is the option for the calculation method to be serialized into the database, instead of some kind of random lambda function that is impossible to reference in any way. So instead of writing the actual logic to the database, you just write the &quot;type of logic used&quot; and the parameters.\r\n\r\nAs an added benefit, this creates a testable design, you can write a test for BalanceBasedCalculationMethod to ensure it actually does what it&#39;s supposed to do. You have no way of automatically testing these lambdas whatsoever because there is no telling what they may or may not do, right?\r\n\r\n\r\n\r\n","title":"How to store function logic in the database","body":"<p>I think you're being misunderstood. You're probably not asking how to move your logic into the database, to which a stored procedure would be an answer, but how to store the logic you're implementing in code to the database so that you can restore that state later on. So that's the premise of my answer.</p>\n<p>Your design related to these calculations is not great. You should definitely consider expressing these APY calculation methods as classes implementing some kind of <code>IAPYCalculationMethod</code> interface, with a method to actually calculate it. Anonymous lambdas like the ones you have are just bad for this purpose.</p>\n<p>So let's say you actually do have an <code>IAPYCalculatioMethod</code> interface with <code>CalculateAPY</code> method, and then a <code>BalanceBasedCalculationMethod</code> that looks like this:</p>\n<pre><code>// The code is not complete. It is just to give you an idea\nclass BalanceBasedCalculationMethod implements IAPYCalculationMethod {\n  public BalanceBasedCalculationMethod(BigDecimal balanceThreshold, BigDecimal whenLower, BigDecimal whenGreater) { ... }\n\n  public BigDecimal CalculateAPY(Bank bank) {\n     if (bank.getBalance() &lt; this.balanceThreshold)\n         return this.whenLower;\n     else\n         return this.whenGreater;\n  }\n}\n</code></pre>\n<p>Then when you create a new Bank:</p>\n<pre><code>bank1 = new Bank(&quot;TestBank1&quot;, new BalanceBasedCalculationMethod(10000, 4, 5));\nbank2 = new Bank(&quot;TestBank2&quot;, new BalanceBasedCalculationMethod(8000, 3.5, 5.3));\n</code></pre>\n<p>This is already better. And this also allows you to somehow serialize all of this. You can have a table with all calculation methods, relation between the bank and the method used, together with a JSON of arguments (because different methods may have different arguments; you might also want to store them in a separate table instead of JSON).</p>\n<pre><code>CREATE TABLE IF NOT EXISTS apy_calculation_method\n(\n   id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY\n   name VARCHAR(100) NOT NULL\n);\n\n\nCREATE TABLE IF NOT EXISTS bank_calculation_method\n(\n  id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,\n  bank_id SMALLINT UNSIGNED NOT NULL REFERENCES reserves(id),\n  method_id SMALLINT UNSIGNED NOT NULL REFERENCES apy_calculation_method(id),\n  arguments JSON\n);\n</code></pre>\n<p>To represent our balance based method and the banks using it we'd then have:</p>\n<pre><code>INSERT INTO apy_calculation_method (name) VALUES ('Balance Based');\n</code></pre>\n<p>Then the method for each of the banks:</p>\n<pre><code>INSERT INTO bank_calculation_method (bank_id, method_id, arguments)\nVALUES (1, 1, '{&quot;balance&quot;: 10000, &quot;whenLower&quot;: 4, &quot;whenGreater&quot;: 5}')\n     , (2, 1, '{&quot;balance&quot;:  8000, &quot;whenLower&quot;: 3.5, &quot;whenGreater&quot;: 5.3}');\n</code></pre>\n<p>And the banks:</p>\n<pre><code>INSERT INTO banks (id, bank_method_id, accrued_interest)\nVALUES (1, 1, 0) -- first bank using the first method (balance based with 10000 balance)\n     , (2, 2, 0) -- second bank using the second method (balance based with 8000 balance)\n</code></pre>\n<p>This method can be less or more rigid (normalized / denormalized), you could for example just store the calculation method as JSON in the banks table (with <code>{&quot;method&quot;: &quot;balance&quot;, &quot;balance&quot;: 10000, .... }</code> structure of sort). The design of your calculation method factory and how it serialized/deserializes data to/from the database depends on it, but I'm sure you can figure it out.</p>\n<p>What this all gives you is the option for the calculation method to be serialized into the database, instead of some kind of random lambda function that is impossible to reference in any way. So instead of writing the actual logic to the database, you just write the &quot;type of logic used&quot; and the parameters.</p>\n<p>As an added benefit, this creates a testable design, you can write a test for BalanceBasedCalculationMethod to ensure it actually does what it's supposed to do. You have no way of automatically testing these lambdas whatsoever because there is no telling what they may or may not do, right?</p>\n"}],"owner":{"account_id":24292958,"reputation":154,"user_id":18237622,"display_name":"Chandrachur Mukherjee"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1279,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":71387095,"answer_count":2,"score":3,"last_activity_date":1655584814,"creation_date":1645202382,"question_id":71176975,"body_markdown":"I am making a finance management application. I have a database containing all the places the user has his/her money which includes banks. Here is how the table is structured...\r\n\r\n    CREATE TABLE IF NOT EXISTS reserves (\r\n                                id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,\r\n                                name VARCHAR(31) NOT NULL,\r\n                                balance DECIMAL(10, 2) NOT NULL\r\n                            )\r\n    CREATE TABLE IF NOT EXISTS banks (\r\n                                reserve_id SMALLINT UNSIGNED UNIQUE NOT NULL,\r\n                                apy DECIMAL(4, 2) NOT NULL,\r\n                                accrued_interest DECIMAL(10, 4) NOT NULL,\r\n                                last_transaction DATE,\r\n                                FOREIGN KEY(reserve_id) REFERENCES reserves(id)\r\n                            )\r\n\r\nIn this model I can have a fixed [APY][1] which will be set while insertion. But in the real world, banks have variable interest rates based on the balance. And the specifics are different for every bank in the banks table.\r\n\r\nIn the Java class I can capture this very easily with the APY defined as a `Function&lt;BigDecimal, Big Decimal&gt; APY` where I can store the specific APY logic and use `APY.apply(balance)` to retrieve the interest rate at any point.\r\n\r\nBut I don&#39;t know how to store this logic in a MySQL database.\r\n\r\nI know I can create a separate table like *bank_balance_interest* where I can store the interest rate to the minimum balance to the id of the specific bank and then refer to that.\r\n\r\nBut it just does not feel right. For one, it is very cumbersome and tedious. Besides there still wontbe any solution if there arent any clear boundaries for balance to interest and rather it is a continuous function.\r\n\r\nIs there a more elegant approach?\r\n\r\nHere is some of my code:\r\n\r\n    public class Reserve {\r\n        short id;\r\n        final String name;\r\n        BigDecimal balance;\r\n\r\n        ReservesData reservesData;\r\n        public Reserve(short id, String name, BigDecimal balance) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.balance = balance;\r\n\r\n            reservesData = ReservesData.instance;\r\n        }\r\n\r\n        public Reserve(String name) {\r\n            this((short) -1, name, new BigDecimal(&quot;0.0&quot;));\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return name;\r\n        }\r\n\r\n        public short getId() {\r\n            return id;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public BigDecimal getBalance() {\r\n            return balance;\r\n        }\r\n\r\n        public boolean transact(BigDecimal amount) {\r\n            if(balance.add(amount).compareTo(new BigDecimal(&quot;0.0&quot;)) &lt; 0)\r\n                return false;\r\n            balance = balance.add(amount);\r\n            return true;\r\n        }\r\n\r\n        public boolean save() {\r\n            if(id == -1)\r\n                return (id = reservesData.addReserve(this)) != -1;\r\n            return reservesData.updateReserve(this);\r\n        }\r\n    }\r\n\r\n    public class Bank extends Reserve{\r\n\r\n        private final Function&lt;BigDecimal, BigDecimal&gt; APY;\r\n        private BigDecimal accruedInterest;\r\n        private Date lastTransactionDate;\r\n\r\n        private final BanksData banksData;\r\n\r\n        public Bank(short id, String name, BigDecimal balance, Function&lt;BigDecimal, BigDecimal&gt; APY) {\r\n            super(id, name, balance);\r\n\r\n            this.APY = APY;\r\n            accruedInterest = new BigDecimal(&quot;0.0&quot;);\r\n\r\n            banksData = BanksData.instance;\r\n        }\r\n\r\n        public Bank(String name, Function&lt;BigDecimal, BigDecimal&gt; APY) {\r\n            this((short) -1, name, new BigDecimal(&quot;0.0&quot;), APY);\r\n        }\r\n\r\n        @Override\r\n        public BigDecimal getBalance() {\r\n            return balance.add(accruedInterest);\r\n        }\r\n\r\n        public Function&lt;BigDecimal, BigDecimal&gt; getAPY() {\r\n            return APY;\r\n        }\r\n\r\n        public BigDecimal getAccruedInterest() {\r\n            return accruedInterest;\r\n        }\r\n\r\n        public void setAccruedInterest(BigDecimal accruedInterest) {\r\n            this.accruedInterest = accruedInterest;\r\n        }\r\n\r\n    public class ReservesDAO implements ReservesData {\r\n\r\n        public ReservesDAO() {\r\n            try(Statement stmt = MyConnection.getMySQLconnection().createStatement()) {\r\n                stmt.executeUpdate(&quot;&quot;&quot;\r\n                                CREATE TABLE IF NOT EXISTS reserves (\r\n                                    id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,\r\n                                    name VARCHAR(31) NOT NULL,\r\n                                    balance DECIMAL(10, 2) NOT NULL\r\n                                )&quot;&quot;&quot;\r\n                );\r\n            } catch (SQLException sqlException) {\r\n                System.out.println(&quot;Failed to create reserves table on the database!&quot;);\r\n                sqlException.printStackTrace();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public short addReserve(Reserve reserve) {\r\n            try (\r\n                    PreparedStatement pstmt = MyConnection.getMySQLconnection().prepareStatement(&quot;&quot;&quot;\r\n                            INSERT INTO reserves (name, balance) VALUES (?, ?)&quot;&quot;&quot;, Statement.RETURN_GENERATED_KEYS\r\n                    )\r\n            ) {\r\n                pstmt.setString(1, reserve.getName());\r\n                pstmt.setBigDecimal(2, reserve.getBalance());\r\n\r\n                pstmt.executeUpdate();\r\n                ResultSet rs = pstmt.getGeneratedKeys();\r\n                if (rs.next())\r\n                    return rs.getShort(1);\r\n                else\r\n                    throw new RuntimeException(&quot;Auto-Generated ID was not returned from reserves!&quot;);\r\n            } catch (SQLException sqlException) {\r\n                System.out.println(&quot;Failed to insert &quot; + reserve.getName() + &quot; info in the database!&quot;);\r\n                sqlException.printStackTrace();\r\n                return -1;\r\n            }\r\n        }\r\n\r\n        public Reserve getReserve(short id) {\r\n            try(\r\n                    PreparedStatement pstmt = MyConnection.getMySQLconnection().prepareStatement(&quot;&quot;&quot;\r\n                            SELECT * FROM reserves WHERE id = ?&quot;&quot;&quot;)\r\n            ) {\r\n                pstmt.setShort(1, id);\r\n                ResultSet rs = pstmt.executeQuery();\r\n\r\n                if(rs.next())\r\n                    return new Reserve(rs.getShort(1), rs.getString(2), rs.getBigDecimal(3));\r\n                else throw new RuntimeException(&quot;No reserve found on the database with the id &quot; + id);\r\n\r\n            } catch (SQLException sqlException) {\r\n                System.out.println(&quot;Failed to fetch reserve from the database!&quot;);\r\n                sqlException.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n\r\n        public List&lt;Reserve&gt; getAllReserves() {\r\n            List&lt;Reserve&gt; reserves = new ArrayList&lt;&gt;();\r\n            try(Statement stmt = MyConnection.getMySQLconnection().createStatement()) {\r\n                ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM reserves&quot;);\r\n                while(rs.next())\r\n                    reserves.add(new Reserve(rs.getShort(1), rs.getString(2), rs.getBigDecimal(3)));\r\n            } catch (SQLException sqlException) {\r\n                System.out.println(&quot;Failed to fetch reserves from the database!&quot;);\r\n                sqlException.printStackTrace();\r\n            }\r\n\r\n            return reserves;\r\n        }\r\n\r\n        @Override\r\n        public BigDecimal getTotalReserveBalance() {\r\n            try(Statement stmt = MyConnection.getMySQLconnection().createStatement()) {\r\n                ResultSet rs = stmt.executeQuery(&quot;&quot;&quot;\r\n                        SELECT SUM(balance) FROM reserves&quot;&quot;&quot;);\r\n                if(rs.next())\r\n                    return rs.getBigDecimal(1);\r\n                return new BigDecimal(&quot;0.0&quot;);\r\n            } catch (SQLException sqlException) {\r\n                System.out.println(&quot;Could not get total reserve balance from database!&quot;);\r\n                sqlException.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public List&lt;Reserve&gt; getAllWallets() {\r\n            List&lt;Reserve&gt; reserves = new ArrayList&lt;&gt;();\r\n            try(Statement stmt = MyConnection.getMySQLconnection().createStatement()) {\r\n                ResultSet rs = stmt.executeQuery(&quot;&quot;&quot;\r\n                        SELECT reserves.* FROM reserves\r\n                        LEFT JOIN banks ON reserves.id = banks.id\r\n                        WHERE banks.id IS NULL\r\n                        &quot;&quot;&quot;);\r\n                while(rs.next())\r\n                    reserves.add(new Reserve(rs.getShort(1), rs.getString(2), rs.getBigDecimal(3)));\r\n            } catch (SQLException sqlException) {\r\n                System.out.println(&quot;Failed to fetch reserves from the database!&quot;);\r\n                sqlException.printStackTrace();\r\n            }\r\n\r\n            return reserves;\r\n        }\r\n\r\n        @Override\r\n        public BigDecimal getTotalWalletBalance() {\r\n            try(Statement stmt = MyConnection.getMySQLconnection().createStatement()) {\r\n                ResultSet rs = stmt.executeQuery(&quot;&quot;&quot;\r\n                        SELECT SUM(balance) FROM reserves\r\n                        LEFT JOIN banks ON reserves.id = banks.id\r\n                        WHERE banks.id IS NULL\r\n                        &quot;&quot;&quot;);\r\n                if(rs.next())\r\n                    return rs.getBigDecimal(1) == null ? new BigDecimal(&quot;0.0&quot;) : rs.getBigDecimal(1);\r\n                return new BigDecimal(&quot;0.0&quot;);\r\n            } catch (SQLException sqlException) {\r\n                System.out.println(&quot;Could not get total wallet balance from database!&quot;);\r\n                sqlException.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public boolean updateReserve(Reserve reserve) {\r\n            try(PreparedStatement pstmt = MyConnection.getMySQLconnection().prepareStatement(&quot;&quot;&quot;\r\n                    UPDATE reserves SET name = ?, balance = ? WHERE id = ?&quot;&quot;&quot;)\r\n            ) {\r\n                pstmt.setString(1, reserve.getName());\r\n                pstmt.setBigDecimal(2, reserve.getBalance());\r\n                pstmt.setShort(3, reserve.getId());\r\n                pstmt.executeUpdate();\r\n                return true;\r\n            } catch(SQLException sqlException) {\r\n                System.out.println(&quot;Failed to update reserves with new data!&quot;);\r\n                sqlException.printStackTrace();\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    public class BanksDAO extends ReservesDAO implements BanksData {\r\n        public BanksDAO() {\r\n            try(\r\n                Statement stmt = MyConnection.getMySQLconnection().createStatement()\r\n            ) {\r\n                stmt.executeUpdate(&quot;&quot;&quot;\r\n                                CREATE TABLE IF NOT EXISTS banks (\r\n                                    id SMALLINT UNSIGNED UNIQUE NOT NULL,\r\n                                    apy DECIMAL(4, 2) NOT NULL, // I have no way to store a logic here, so currently it only stores fixed value.\r\n                                    accrued_interest DECIMAL(10, 4) NOT NULL,\r\n                                    last_transaction_date DATE,\r\n                                    FOREIGN KEY(id) REFERENCES reserves(id)\r\n                                )&quot;&quot;&quot;\r\n                );\r\n            } catch (SQLException sqlException) {\r\n                System.out.println(&quot;Failed to create banks table on the database!&quot;);\r\n                sqlException.printStackTrace();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public short addBank(Bank bank) {\r\n            try (\r\n                    PreparedStatement pstmt = MyConnection.getMySQLconnection().prepareStatement(&quot;&quot;&quot;\r\n                            INSERT INTO banks(id, apy, accrued_interest, last_transaction_date) VALUES (?, ?, ?, ?)&quot;&quot;&quot;\r\n                    )\r\n            ) {\r\n                short id = addReserve(bank);\r\n                pstmt.setShort(1, id);\r\n                pstmt.setBigDecimal(2, bank.getAPY());\r\n                pstmt.setBigDecimal(3, bank.getAccruedInterest());\r\n                pstmt.setDate(4, bank.getLastTransactionDate());\r\n\r\n                pstmt.executeUpdate();\r\n                return id;\r\n            } catch (SQLException sqlException) {\r\n                System.out.println(&quot;Failed to insert &quot; + bank.getName() + &quot; info in the database!&quot;);\r\n                sqlException.printStackTrace();\r\n                return -1;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Bank getBank(short reserve_id) {\r\n            try(\r\n                PreparedStatement pstmt = MyConnection.getMySQLconnection().prepareStatement(&quot;&quot;&quot;\r\n                            SELECT * FROM reserves NATURAL JOIN banks WHERE id = ?&quot;&quot;&quot;)\r\n            ) {\r\n                pstmt.setShort(1, reserve_id);\r\n                ResultSet rs = pstmt.executeQuery();\r\n                if(!rs.next())\r\n                    return null;\r\n                Bank requestedBank = new Bank(rs.getShort(1), rs.getString(2),\r\n                        rs.getBigDecimal(3), rs.getBigDecimal(4));\r\n                requestedBank.setAccruedInterest(rs.getBigDecimal(5));\r\n                requestedBank.setLastTransactionDate(rs.getDate(6));\r\n                return requestedBank;\r\n            } catch (SQLException sqlException) {\r\n                System.out.println(&quot;Failed to fetch bank data from the database!&quot;);\r\n                sqlException.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public List&lt;Bank&gt; getAllBanks() {\r\n            List&lt;Bank&gt; allBanks = new ArrayList&lt;&gt;();\r\n            try(\r\n                Statement stmt = MyConnection.getMySQLconnection().createStatement()\r\n            ) {\r\n                ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM reserves NATURAL JOIN banks&quot;);\r\n                while(rs.next()) {\r\n                    Bank bank = new Bank(rs.getShort(1), rs.getString(2),\r\n                            rs.getBigDecimal(3), rs.getBigDecimal(4));\r\n                    bank.setAccruedInterest(rs.getBigDecimal(5));\r\n                    bank.setLastTransactionDate(rs.getDate(6));\r\n                    allBanks.add(bank);\r\n                }\r\n\r\n                return allBanks;\r\n\r\n            } catch (SQLException sqlException) {\r\n                System.out.println(&quot;Failed to fetch bank data from the database!&quot;);\r\n                sqlException.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public BigDecimal getTotalBankBalance() {\r\n            try(Statement stmt = MyConnection.getMySQLconnection().createStatement()) {\r\n                ResultSet rs = stmt.executeQuery(&quot;&quot;&quot;\r\n                        SELECT SUM(balance) FROM reserves NATURAL JOIN banks&quot;&quot;&quot;);\r\n                if(rs.next())\r\n                    return rs.getBigDecimal(1) == null ? new BigDecimal(&quot;0.0&quot;) : rs.getBigDecimal(1);\r\n                return new BigDecimal(&quot;0.0&quot;);\r\n            } catch (SQLException sqlException) {\r\n                System.out.println(&quot;Could not get total bank balance from database!&quot;);\r\n                sqlException.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\nNow I can initialize a bank as:\r\n\r\n    Bank bank1 = new Bank(&quot;TestBank1&quot;, balance -&gt; balance.compareTo(new BigDecimal(&quot;10000&quot;)) == -1 ? new BigDecimal(&quot;4&quot;) : new BigDecimal(&quot;5&quot;));\r\n\r\nWhile I can create another bank as:\r\n\r\n    Bank bank2 = new Bank(&quot;TestBank2&quot;, balance -&gt; balance.compareTo(new BigDecimal(&quot;8000&quot;)) == -1 ? new BigDecimal(&quot;3.5&quot;) : new BigDecimal(&quot;5.3&quot;));\r\n\r\nNow both these banks are created in memory and will work perfectly as long as the application is running. But when I need to persist this for long term use I cannot directly store a variable of type Function&lt;BigDecimal, BigDecimal&gt; into the MySQL database.\r\n\r\nMany people suggested stored procedures and that would have worked if it was only one logic, like `balance -&gt; balance.compareTo(new BigDecimal(&quot;10000&quot;)) == -1 ? new BigDecimal(&quot;4&quot;) : new BigDecimal(&quot;5&quot;)` for every bank in the banks table, but this information will change every time.\r\n\r\nWhich means if I have 50 entries in my banks table I need to create 50 different stored procedures with 50 kinds of logics for every entry in my banks table, to keep updating the APY field as the balance changes.  Might there be a better way?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Annual_percentage_yield\r\n\r\n\r\n\r\n","title":"How to store function logic in the database","body":"<p>I am making a finance management application. I have a database containing all the places the user has his/her money which includes banks. Here is how the table is structured...</p>\n<pre><code>CREATE TABLE IF NOT EXISTS reserves (\n                            id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,\n                            name VARCHAR(31) NOT NULL,\n                            balance DECIMAL(10, 2) NOT NULL\n                        )\nCREATE TABLE IF NOT EXISTS banks (\n                            reserve_id SMALLINT UNSIGNED UNIQUE NOT NULL,\n                            apy DECIMAL(4, 2) NOT NULL,\n                            accrued_interest DECIMAL(10, 4) NOT NULL,\n                            last_transaction DATE,\n                            FOREIGN KEY(reserve_id) REFERENCES reserves(id)\n                        )\n</code></pre>\n<p>In this model I can have a fixed <a href=\"https://en.wikipedia.org/wiki/Annual_percentage_yield\" rel=\"nofollow noreferrer\">APY</a> which will be set while insertion. But in the real world, banks have variable interest rates based on the balance. And the specifics are different for every bank in the banks table.</p>\n<p>In the Java class I can capture this very easily with the APY defined as a <code>Function&lt;BigDecimal, Big Decimal&gt; APY</code> where I can store the specific APY logic and use <code>APY.apply(balance)</code> to retrieve the interest rate at any point.</p>\n<p>But I don't know how to store this logic in a MySQL database.</p>\n<p>I know I can create a separate table like <em>bank_balance_interest</em> where I can store the interest rate to the minimum balance to the id of the specific bank and then refer to that.</p>\n<p>But it just does not feel right. For one, it is very cumbersome and tedious. Besides there still wontbe any solution if there arent any clear boundaries for balance to interest and rather it is a continuous function.</p>\n<p>Is there a more elegant approach?</p>\n<p>Here is some of my code:</p>\n<pre><code>public class Reserve {\n    short id;\n    final String name;\n    BigDecimal balance;\n\n    ReservesData reservesData;\n    public Reserve(short id, String name, BigDecimal balance) {\n        this.id = id;\n        this.name = name;\n        this.balance = balance;\n\n        reservesData = ReservesData.instance;\n    }\n\n    public Reserve(String name) {\n        this((short) -1, name, new BigDecimal(&quot;0.0&quot;));\n    }\n\n    @Override\n    public String toString() {\n        return name;\n    }\n\n    public short getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public BigDecimal getBalance() {\n        return balance;\n    }\n\n    public boolean transact(BigDecimal amount) {\n        if(balance.add(amount).compareTo(new BigDecimal(&quot;0.0&quot;)) &lt; 0)\n            return false;\n        balance = balance.add(amount);\n        return true;\n    }\n\n    public boolean save() {\n        if(id == -1)\n            return (id = reservesData.addReserve(this)) != -1;\n        return reservesData.updateReserve(this);\n    }\n}\n\npublic class Bank extends Reserve{\n\n    private final Function&lt;BigDecimal, BigDecimal&gt; APY;\n    private BigDecimal accruedInterest;\n    private Date lastTransactionDate;\n\n    private final BanksData banksData;\n\n    public Bank(short id, String name, BigDecimal balance, Function&lt;BigDecimal, BigDecimal&gt; APY) {\n        super(id, name, balance);\n\n        this.APY = APY;\n        accruedInterest = new BigDecimal(&quot;0.0&quot;);\n\n        banksData = BanksData.instance;\n    }\n\n    public Bank(String name, Function&lt;BigDecimal, BigDecimal&gt; APY) {\n        this((short) -1, name, new BigDecimal(&quot;0.0&quot;), APY);\n    }\n\n    @Override\n    public BigDecimal getBalance() {\n        return balance.add(accruedInterest);\n    }\n\n    public Function&lt;BigDecimal, BigDecimal&gt; getAPY() {\n        return APY;\n    }\n\n    public BigDecimal getAccruedInterest() {\n        return accruedInterest;\n    }\n\n    public void setAccruedInterest(BigDecimal accruedInterest) {\n        this.accruedInterest = accruedInterest;\n    }\n\npublic class ReservesDAO implements ReservesData {\n\n    public ReservesDAO() {\n        try(Statement stmt = MyConnection.getMySQLconnection().createStatement()) {\n            stmt.executeUpdate(&quot;&quot;&quot;\n                            CREATE TABLE IF NOT EXISTS reserves (\n                                id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,\n                                name VARCHAR(31) NOT NULL,\n                                balance DECIMAL(10, 2) NOT NULL\n                            )&quot;&quot;&quot;\n            );\n        } catch (SQLException sqlException) {\n            System.out.println(&quot;Failed to create reserves table on the database!&quot;);\n            sqlException.printStackTrace();\n        }\n    }\n\n    @Override\n    public short addReserve(Reserve reserve) {\n        try (\n                PreparedStatement pstmt = MyConnection.getMySQLconnection().prepareStatement(&quot;&quot;&quot;\n                        INSERT INTO reserves (name, balance) VALUES (?, ?)&quot;&quot;&quot;, Statement.RETURN_GENERATED_KEYS\n                )\n        ) {\n            pstmt.setString(1, reserve.getName());\n            pstmt.setBigDecimal(2, reserve.getBalance());\n\n            pstmt.executeUpdate();\n            ResultSet rs = pstmt.getGeneratedKeys();\n            if (rs.next())\n                return rs.getShort(1);\n            else\n                throw new RuntimeException(&quot;Auto-Generated ID was not returned from reserves!&quot;);\n        } catch (SQLException sqlException) {\n            System.out.println(&quot;Failed to insert &quot; + reserve.getName() + &quot; info in the database!&quot;);\n            sqlException.printStackTrace();\n            return -1;\n        }\n    }\n\n    public Reserve getReserve(short id) {\n        try(\n                PreparedStatement pstmt = MyConnection.getMySQLconnection().prepareStatement(&quot;&quot;&quot;\n                        SELECT * FROM reserves WHERE id = ?&quot;&quot;&quot;)\n        ) {\n            pstmt.setShort(1, id);\n            ResultSet rs = pstmt.executeQuery();\n\n            if(rs.next())\n                return new Reserve(rs.getShort(1), rs.getString(2), rs.getBigDecimal(3));\n            else throw new RuntimeException(&quot;No reserve found on the database with the id &quot; + id);\n\n        } catch (SQLException sqlException) {\n            System.out.println(&quot;Failed to fetch reserve from the database!&quot;);\n            sqlException.printStackTrace();\n            return null;\n        }\n    }\n\n    public List&lt;Reserve&gt; getAllReserves() {\n        List&lt;Reserve&gt; reserves = new ArrayList&lt;&gt;();\n        try(Statement stmt = MyConnection.getMySQLconnection().createStatement()) {\n            ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM reserves&quot;);\n            while(rs.next())\n                reserves.add(new Reserve(rs.getShort(1), rs.getString(2), rs.getBigDecimal(3)));\n        } catch (SQLException sqlException) {\n            System.out.println(&quot;Failed to fetch reserves from the database!&quot;);\n            sqlException.printStackTrace();\n        }\n\n        return reserves;\n    }\n\n    @Override\n    public BigDecimal getTotalReserveBalance() {\n        try(Statement stmt = MyConnection.getMySQLconnection().createStatement()) {\n            ResultSet rs = stmt.executeQuery(&quot;&quot;&quot;\n                    SELECT SUM(balance) FROM reserves&quot;&quot;&quot;);\n            if(rs.next())\n                return rs.getBigDecimal(1);\n            return new BigDecimal(&quot;0.0&quot;);\n        } catch (SQLException sqlException) {\n            System.out.println(&quot;Could not get total reserve balance from database!&quot;);\n            sqlException.printStackTrace();\n            return null;\n        }\n    }\n\n    @Override\n    public List&lt;Reserve&gt; getAllWallets() {\n        List&lt;Reserve&gt; reserves = new ArrayList&lt;&gt;();\n        try(Statement stmt = MyConnection.getMySQLconnection().createStatement()) {\n            ResultSet rs = stmt.executeQuery(&quot;&quot;&quot;\n                    SELECT reserves.* FROM reserves\n                    LEFT JOIN banks ON reserves.id = banks.id\n                    WHERE banks.id IS NULL\n                    &quot;&quot;&quot;);\n            while(rs.next())\n                reserves.add(new Reserve(rs.getShort(1), rs.getString(2), rs.getBigDecimal(3)));\n        } catch (SQLException sqlException) {\n            System.out.println(&quot;Failed to fetch reserves from the database!&quot;);\n            sqlException.printStackTrace();\n        }\n\n        return reserves;\n    }\n\n    @Override\n    public BigDecimal getTotalWalletBalance() {\n        try(Statement stmt = MyConnection.getMySQLconnection().createStatement()) {\n            ResultSet rs = stmt.executeQuery(&quot;&quot;&quot;\n                    SELECT SUM(balance) FROM reserves\n                    LEFT JOIN banks ON reserves.id = banks.id\n                    WHERE banks.id IS NULL\n                    &quot;&quot;&quot;);\n            if(rs.next())\n                return rs.getBigDecimal(1) == null ? new BigDecimal(&quot;0.0&quot;) : rs.getBigDecimal(1);\n            return new BigDecimal(&quot;0.0&quot;);\n        } catch (SQLException sqlException) {\n            System.out.println(&quot;Could not get total wallet balance from database!&quot;);\n            sqlException.printStackTrace();\n            return null;\n        }\n    }\n\n    @Override\n    public boolean updateReserve(Reserve reserve) {\n        try(PreparedStatement pstmt = MyConnection.getMySQLconnection().prepareStatement(&quot;&quot;&quot;\n                UPDATE reserves SET name = ?, balance = ? WHERE id = ?&quot;&quot;&quot;)\n        ) {\n            pstmt.setString(1, reserve.getName());\n            pstmt.setBigDecimal(2, reserve.getBalance());\n            pstmt.setShort(3, reserve.getId());\n            pstmt.executeUpdate();\n            return true;\n        } catch(SQLException sqlException) {\n            System.out.println(&quot;Failed to update reserves with new data!&quot;);\n            sqlException.printStackTrace();\n            return false;\n        }\n    }\n}\n\npublic class BanksDAO extends ReservesDAO implements BanksData {\n    public BanksDAO() {\n        try(\n            Statement stmt = MyConnection.getMySQLconnection().createStatement()\n        ) {\n            stmt.executeUpdate(&quot;&quot;&quot;\n                            CREATE TABLE IF NOT EXISTS banks (\n                                id SMALLINT UNSIGNED UNIQUE NOT NULL,\n                                apy DECIMAL(4, 2) NOT NULL, // I have no way to store a logic here, so currently it only stores fixed value.\n                                accrued_interest DECIMAL(10, 4) NOT NULL,\n                                last_transaction_date DATE,\n                                FOREIGN KEY(id) REFERENCES reserves(id)\n                            )&quot;&quot;&quot;\n            );\n        } catch (SQLException sqlException) {\n            System.out.println(&quot;Failed to create banks table on the database!&quot;);\n            sqlException.printStackTrace();\n        }\n    }\n\n    @Override\n    public short addBank(Bank bank) {\n        try (\n                PreparedStatement pstmt = MyConnection.getMySQLconnection().prepareStatement(&quot;&quot;&quot;\n                        INSERT INTO banks(id, apy, accrued_interest, last_transaction_date) VALUES (?, ?, ?, ?)&quot;&quot;&quot;\n                )\n        ) {\n            short id = addReserve(bank);\n            pstmt.setShort(1, id);\n            pstmt.setBigDecimal(2, bank.getAPY());\n            pstmt.setBigDecimal(3, bank.getAccruedInterest());\n            pstmt.setDate(4, bank.getLastTransactionDate());\n\n            pstmt.executeUpdate();\n            return id;\n        } catch (SQLException sqlException) {\n            System.out.println(&quot;Failed to insert &quot; + bank.getName() + &quot; info in the database!&quot;);\n            sqlException.printStackTrace();\n            return -1;\n        }\n    }\n\n    @Override\n    public Bank getBank(short reserve_id) {\n        try(\n            PreparedStatement pstmt = MyConnection.getMySQLconnection().prepareStatement(&quot;&quot;&quot;\n                        SELECT * FROM reserves NATURAL JOIN banks WHERE id = ?&quot;&quot;&quot;)\n        ) {\n            pstmt.setShort(1, reserve_id);\n            ResultSet rs = pstmt.executeQuery();\n            if(!rs.next())\n                return null;\n            Bank requestedBank = new Bank(rs.getShort(1), rs.getString(2),\n                    rs.getBigDecimal(3), rs.getBigDecimal(4));\n            requestedBank.setAccruedInterest(rs.getBigDecimal(5));\n            requestedBank.setLastTransactionDate(rs.getDate(6));\n            return requestedBank;\n        } catch (SQLException sqlException) {\n            System.out.println(&quot;Failed to fetch bank data from the database!&quot;);\n            sqlException.printStackTrace();\n            return null;\n        }\n    }\n\n    @Override\n    public List&lt;Bank&gt; getAllBanks() {\n        List&lt;Bank&gt; allBanks = new ArrayList&lt;&gt;();\n        try(\n            Statement stmt = MyConnection.getMySQLconnection().createStatement()\n        ) {\n            ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM reserves NATURAL JOIN banks&quot;);\n            while(rs.next()) {\n                Bank bank = new Bank(rs.getShort(1), rs.getString(2),\n                        rs.getBigDecimal(3), rs.getBigDecimal(4));\n                bank.setAccruedInterest(rs.getBigDecimal(5));\n                bank.setLastTransactionDate(rs.getDate(6));\n                allBanks.add(bank);\n            }\n\n            return allBanks;\n\n        } catch (SQLException sqlException) {\n            System.out.println(&quot;Failed to fetch bank data from the database!&quot;);\n            sqlException.printStackTrace();\n            return null;\n        }\n    }\n\n    @Override\n    public BigDecimal getTotalBankBalance() {\n        try(Statement stmt = MyConnection.getMySQLconnection().createStatement()) {\n            ResultSet rs = stmt.executeQuery(&quot;&quot;&quot;\n                    SELECT SUM(balance) FROM reserves NATURAL JOIN banks&quot;&quot;&quot;);\n            if(rs.next())\n                return rs.getBigDecimal(1) == null ? new BigDecimal(&quot;0.0&quot;) : rs.getBigDecimal(1);\n            return new BigDecimal(&quot;0.0&quot;);\n        } catch (SQLException sqlException) {\n            System.out.println(&quot;Could not get total bank balance from database!&quot;);\n            sqlException.printStackTrace();\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>Now I can initialize a bank as:</p>\n<pre><code>Bank bank1 = new Bank(&quot;TestBank1&quot;, balance -&gt; balance.compareTo(new BigDecimal(&quot;10000&quot;)) == -1 ? new BigDecimal(&quot;4&quot;) : new BigDecimal(&quot;5&quot;));\n</code></pre>\n<p>While I can create another bank as:</p>\n<pre><code>Bank bank2 = new Bank(&quot;TestBank2&quot;, balance -&gt; balance.compareTo(new BigDecimal(&quot;8000&quot;)) == -1 ? new BigDecimal(&quot;3.5&quot;) : new BigDecimal(&quot;5.3&quot;));\n</code></pre>\n<p>Now both these banks are created in memory and will work perfectly as long as the application is running. But when I need to persist this for long term use I cannot directly store a variable of type Function&lt;BigDecimal, BigDecimal&gt; into the MySQL database.</p>\n<p>Many people suggested stored procedures and that would have worked if it was only one logic, like <code>balance -&gt; balance.compareTo(new BigDecimal(&quot;10000&quot;)) == -1 ? new BigDecimal(&quot;4&quot;) : new BigDecimal(&quot;5&quot;)</code> for every bank in the banks table, but this information will change every time.</p>\n<p>Which means if I have 50 entries in my banks table I need to create 50 different stored procedures with 50 kinds of logics for every entry in my banks table, to keep updating the APY field as the balance changes.  Might there be a better way?</p>\n"},{"tags":["java","idempiere"],"comments":[{"owner":{"account_id":8334601,"reputation":1236,"user_id":6261975,"accept_rate":25,"display_name":"Younes LAB"},"score":0,"creation_date":1638782783,"post_id":70174661,"comment_id":124170945,"body_markdown":"I didn&#39;t get your point, did you created new columns in M_Product table and you want to make some vaildation on them, or you just want to extend the MProduct class and override some methods?","body":"I didn&#39;t get your point, did you created new columns in M_Product table and you want to make some vaildation on them, or you just want to extend the MProduct class and override some methods?"},{"owner":{"account_id":3566731,"reputation":123,"user_id":2978055,"display_name":"alejandrohtadinom"},"score":1,"creation_date":1638822200,"post_id":70174661,"comment_id":124185426,"body_markdown":"@YounesLAB I just want to extend the **MProduct** class and override the method that saves the &quot;VALUE&quot; column.","body":"@YounesLAB I just want to extend the <b>MProduct</b> class and override the method that saves the &quot;VALUE&quot; column."},{"owner":{"account_id":8334601,"reputation":1236,"user_id":6261975,"accept_rate":25,"display_name":"Younes LAB"},"score":0,"creation_date":1638883769,"post_id":70174661,"comment_id":124201683,"body_markdown":"You can create new model class that inherited from MProduct class, then override the method you want to update, and If you want to link the Product window with your new class I think you need to add it in your model factory.","body":"You can create new model class that inherited from MProduct class, then override the method you want to update, and If you want to link the Product window with your new class I think you need to add it in your model factory."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655583570,"creation_date":1655583570,"answer_id":72672496,"question_id":70174661,"body_markdown":"In one of the comments, you clarified that your intent is to _&quot;extend the MProduct class and override the method that saves the &quot;VALUE&quot; column&quot;_.\r\n\r\nTo answer that, first let&#39;s define a simple version of `MProduct` class, with a few edits:\r\n* it has only the `setValue()` method, since that&#39;s the only part relevant to your question (the other methods on `MProduct` are not relevant)\r\n* the input parameter for `setValue()` was changed to `int` vs. the original type is in your example (whatever the return type is from `impP.getValue()`)\r\n\r\nHere&#39;s a simple version of `MProduct`:\r\n```\r\nclass MProduct {\r\n    void setValue(int value) {\r\n        System.out.println(&quot;setValue() on MProduct&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s a simple class which extends `MProduct` by overriding the `setValue()` method:\r\n```\r\nclass CustomProduct extends MProduct {\r\n    @Override\r\n    void setValue(int value) {\r\n        System.out.println(&quot;setValue() on CustomProduct&quot;);\r\n        // custom code goes here\r\n    }\r\n}\r\n```\r\n\r\nFinally, here&#39;s a simple example showing usage of both of the above classes (both `MProduct` and `CustomProduct`):\r\n```\r\npublic static void main(String[] args) {\r\n    new CustomProduct().setValue(123);\r\n    new MProduct().setValue(123);\r\n}\r\n```\r\nAnd here&#39;s the output from running that example:\r\n```\r\nsetValue() on CustomProduct\r\nsetValue() on MProduct\r\n```","title":"Idempiere extend product model","body":"<p>In one of the comments, you clarified that your intent is to <em>&quot;extend the MProduct class and override the method that saves the &quot;VALUE&quot; column&quot;</em>.</p>\n<p>To answer that, first let's define a simple version of <code>MProduct</code> class, with a few edits:</p>\n<ul>\n<li>it has only the <code>setValue()</code> method, since that's the only part relevant to your question (the other methods on <code>MProduct</code> are not relevant)</li>\n<li>the input parameter for <code>setValue()</code> was changed to <code>int</code> vs. the original type is in your example (whatever the return type is from <code>impP.getValue()</code>)</li>\n</ul>\n<p>Here's a simple version of <code>MProduct</code>:</p>\n<pre><code>class MProduct {\n    void setValue(int value) {\n        System.out.println(&quot;setValue() on MProduct&quot;);\n    }\n}\n</code></pre>\n<p>Here's a simple class which extends <code>MProduct</code> by overriding the <code>setValue()</code> method:</p>\n<pre><code>class CustomProduct extends MProduct {\n    @Override\n    void setValue(int value) {\n        System.out.println(&quot;setValue() on CustomProduct&quot;);\n        // custom code goes here\n    }\n}\n</code></pre>\n<p>Finally, here's a simple example showing usage of both of the above classes (both <code>MProduct</code> and <code>CustomProduct</code>):</p>\n<pre><code>public static void main(String[] args) {\n    new CustomProduct().setValue(123);\n    new MProduct().setValue(123);\n}\n</code></pre>\n<p>And here's the output from running that example:</p>\n<pre><code>setValue() on CustomProduct\nsetValue() on MProduct\n</code></pre>\n"}],"owner":{"account_id":3566731,"reputation":123,"user_id":2978055,"display_name":"alejandrohtadinom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655583570,"creation_date":1638298687,"question_id":70174661,"body_markdown":"I want to create a class that extends the idempiere product model to create a code from other fields but I don&#39;t know which class I should import or what method I should override.\r\n\r\n**org.compiere.model.MProduct:**\r\n```\r\npublic MProduct (X_I_Product impP)\r\n{\r\n\tthis (impP.getCtx(), 0, impP.get_TrxName());\r\n\tsetClientOrg(impP);\r\n\tsetUpdatedBy(impP.getUpdatedBy());\r\n\r\n\t// Value field:\r\n\tsetValue(impP.getValue());\r\n\tsetName(impP.getName());\r\n\tsetDescription(impP.getDescription());\r\n\tsetDocumentNote(impP.getDocumentNote());\r\n\tsetHelp(impP.getHelp());\r\n\tsetUPC(impP.getUPC());\r\n\tsetSKU(impP.getSKU());\r\n\tsetC_UOM_ID(impP.getC_UOM_ID());\r\n\tsetM_Product_Category_ID(impP.getM_Product_Category_ID());\r\n\tsetProductType(impP.getProductType());\r\n\tsetImageURL(impP.getImageURL());\r\n\tsetDescriptionURL(impP.getDescriptionURL());\r\n\tsetVolume(impP.getVolume());\r\n\tsetWeight(impP.getWeight());\r\n}\t//\tMProduct\r\n```\r\n","title":"Idempiere extend product model","body":"<p>I want to create a class that extends the idempiere product model to create a code from other fields but I don't know which class I should import or what method I should override.</p>\n<p><strong>org.compiere.model.MProduct:</strong></p>\n<pre><code>public MProduct (X_I_Product impP)\n{\n    this (impP.getCtx(), 0, impP.get_TrxName());\n    setClientOrg(impP);\n    setUpdatedBy(impP.getUpdatedBy());\n\n    // Value field:\n    setValue(impP.getValue());\n    setName(impP.getName());\n    setDescription(impP.getDescription());\n    setDocumentNote(impP.getDocumentNote());\n    setHelp(impP.getHelp());\n    setUPC(impP.getUPC());\n    setSKU(impP.getSKU());\n    setC_UOM_ID(impP.getC_UOM_ID());\n    setM_Product_Category_ID(impP.getM_Product_Category_ID());\n    setProductType(impP.getProductType());\n    setImageURL(impP.getImageURL());\n    setDescriptionURL(impP.getDescriptionURL());\n    setVolume(impP.getVolume());\n    setWeight(impP.getWeight());\n}   //  MProduct\n</code></pre>\n"},{"tags":["java","c","pipe","ipc"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1655501781,"post_id":72664891,"comment_id":128355809,"body_markdown":"It sounds like you might genuinely be looking for System.out.","body":"It sounds like you might genuinely be looking for System.out."},{"owner":{"account_id":25133794,"reputation":1340,"user_id":18980756,"display_name":"Franck"},"score":0,"creation_date":1655501803,"post_id":72664891,"comment_id":128355814,"body_markdown":"This answer describes how to handle named pipes on Windows from Java: https://stackoverflow.com/a/44218273/18980756","body":"This answer describes how to handle named pipes on Windows from Java: <a href=\"https://stackoverflow.com/a/44218273/18980756\">stackoverflow.com/a/44218273/18980756</a>"},{"owner":{"account_id":22467762,"reputation":117,"user_id":16668650,"display_name":"Giancarlo Metitieri"},"score":0,"creation_date":1655501927,"post_id":72664891,"comment_id":128355840,"body_markdown":"@LouisWasserman what do you mean? can I write to an OS pipe with sout directly?","body":"@LouisWasserman what do you mean? can I write to an OS pipe with sout directly?"},{"owner":{"account_id":2700653,"reputation":26716,"user_id":2331445,"display_name":"Stephan Schlecht"},"score":0,"creation_date":1655503159,"post_id":72664891,"comment_id":128356056,"body_markdown":"Just out of curiosity, if performance plays a very important role in calling the C routines, why is JNI ruled out as a potential solution?","body":"Just out of curiosity, if performance plays a very important role in calling the C routines, why is JNI ruled out as a potential solution?"},{"owner":{"account_id":22467762,"reputation":117,"user_id":16668650,"display_name":"Giancarlo Metitieri"},"score":0,"creation_date":1655531536,"post_id":72664891,"comment_id":128358922,"body_markdown":"@StephanSchlecht uhm I am just trying to do what my boss told me to do. We are working on a big, well thought out product but I&#39;m not from the planning team so I don&#39;t know their reasoning.","body":"@StephanSchlecht uhm I am just trying to do what my boss told me to do. We are working on a big, well thought out product but I&#39;m not from the planning team so I don&#39;t know their reasoning."}],"answers":[{"tags":[],"owner":{"account_id":2463651,"reputation":7805,"user_id":2147218,"display_name":"bazza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655503055,"creation_date":1655502190,"answer_id":72665065,"question_id":72664891,"body_markdown":"&lt;s&gt;There&#39;s other answers lurking on StackOverflow that suggest that Java on Windows doesn&#39;t do Windows&#39; pipes (see [this one][1]). \r\n\r\nThis restriction actually isn&#39;t that uncommon. ZeroMQ (another good candidate that does a very good job of abstracting IPC / sockets / etc) doesn&#39;t support IPC on Windows either. Cygwin - think Posix / Unix environment for Windows - does use Windows pipes for posix pipes, but they had to commit all sorts of horrid coding sins to do it (specifically, recreating a select() that supported Windows IPC / pipes meant starting a thread per &quot;file descriptor&quot; to poll the underlying Windows object - like going back to *nix in the 1980s).\r\n\r\nIn principal you could recompile a *nix JVM source code bundle for Cygwin, and then java code run in that would be able to access a Windows pipe. But that sounds really horrid. However, so long as you didn&#39;t need to use select() or epoll() to block on reading the pipe, it might end up being fairly fast and efficient.&lt;/s&gt;\r\n\r\nEDIT\r\n\r\nFranck has found otherwise! I&#39;d be interested to know whether or not there&#39;s an implementation of java nio channels SelectorProvider that works in the Windows JVM for pipes.\r\n\r\n  [1]: https://stackoverflow.com/a/3014235/2147218","title":"Communicate Java and C without Sockets?","body":"<p><s>There's other answers lurking on StackOverflow that suggest that Java on Windows doesn't do Windows' pipes (see <a href=\"https://stackoverflow.com/a/3014235/2147218\">this one</a>).</p>\n<p>This restriction actually isn't that uncommon. ZeroMQ (another good candidate that does a very good job of abstracting IPC / sockets / etc) doesn't support IPC on Windows either. Cygwin - think Posix / Unix environment for Windows - does use Windows pipes for posix pipes, but they had to commit all sorts of horrid coding sins to do it (specifically, recreating a select() that supported Windows IPC / pipes meant starting a thread per &quot;file descriptor&quot; to poll the underlying Windows object - like going back to *nix in the 1980s).</p>\n<p>In principal you could recompile a *nix JVM source code bundle for Cygwin, and then java code run in that would be able to access a Windows pipe. But that sounds really horrid. However, so long as you didn't need to use select() or epoll() to block on reading the pipe, it might end up being fairly fast and efficient.</s></p>\n<p>EDIT</p>\n<p>Franck has found otherwise! I'd be interested to know whether or not there's an implementation of java nio channels SelectorProvider that works in the Windows JVM for pipes.</p>\n"},{"tags":[],"owner":{"account_id":2700653,"reputation":26716,"user_id":2331445,"display_name":"Stephan Schlecht"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655583456,"creation_date":1655563374,"answer_id":72670127,"question_id":72664891,"body_markdown":"Requirements:\r\n\r\n - Java caller program calls a C calculator program running in its own process\r\n - Java sends operations\r\n - C program returns results\r\n - Avoid JNI/JNA if possible\r\n \r\nThe easiest way is probably to call the C program from Java and communicate via standard I/O. The C program could get the operations via `stdin` in a loop, do the calculations, and return the results via `stdout`.\r\n\r\nIn Java, the central mechanism for this would be the `Process` class. [Oracle&#39;s documentation][1] states: \r\n\r\n&gt;Process provides control of native processes started by ProcessBuilder.start ...\r\nBy default, the created process does not have its own terminal or console. All its standard I/O (i.e. stdin, stdout, stderr) operations will be redirected to the parent process, where they can be accessed via the streams obtained using the methods getOutputStream(), getInputStream(), and getErrorStream().\r\n\r\nTo avoid a deadlock, we alternately write a line with the operation to be performed and read back a line with the result. \r\n\r\nThe advantage of using `stdin` and `stdout` is of course also the manual ad-hocs testability since you can simply call the C program on the command line. By the way, the approach would also work in the same way under Linux and macOS. \r\n\r\nTo get as simple a test case as possible, here is a C program that gets either an addition or a subtraction operator with two arguments, calculates the result and returns it. Of course, the whole thing doesn&#39;t include CUDA and only minimal error handling and probably doesn&#39;t meet the detailed requirements, but it could be a start in the right direction. \r\n\r\nThe Java demo program finally call this C program and sends an addition and subtraction operation to the C program and outputs the returned results accordingly. The `q` command then terminates the C program.\r\n\r\n\r\n**Java**\r\n\r\n    package com.software7.test;\r\n\r\n    import java.io.*;\r\n\r\n    public class Caller {\r\n\r\n        public static void main(String[] args) {\r\n            Caller caller = new Caller();\r\n            caller.runCCalculator();\r\n        }\r\n\r\n        private void runCCalculator() {\r\n            try {\r\n                String[] command = { &quot;C:\\\\Users\\\\stephan\\\\source\\\\repos\\\\CCalculator\\\\x64\\\\Debug\\\\CCalculator.exe&quot; };\r\n                ProcessBuilder processBuilder = new ProcessBuilder(command);\r\n                Process process = processBuilder.start();\r\n\r\n                BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\r\n                BufferedReader br = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\r\n                String[] ops = {&quot;+ 1.1 2.2&quot;, &quot;- 1024.123 512.123&quot;};\r\n                for (String op : ops) {\r\n                    bw.write(op);\r\n                    bw.write(&quot;\\n&quot;);\r\n                    bw.flush();\r\n                    String result = br.readLine();\r\n                    if (result != null) {\r\n                        System.out.println(op + &quot; = &quot; + result);\r\n                    }\r\n                }\r\n                bw.write(&quot;q\\n&quot;);\r\n                bw.flush();\r\n\r\n                bw.close();\r\n                br.close();\r\n                System.out.println(&quot;Process exited with &quot; + process.waitFor());\r\n            } catch (IOException | InterruptedException exp) {\r\n                exp.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n**C**\r\n\r\n    #define _CRT_SECURE_NO_WARNINGS\r\n\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;string.h&gt;\r\n    #include &lt;stdlib.h&gt;\r\n\r\n    static void error_exit(const char *msg);\r\n    static char readOp(const char *token);\r\n    static double readArg(const char *token);\r\n\r\n    int main(void) {\r\n        char buf[128];\r\n        char *ptr;\r\n\r\n        while ((ptr = fgets(buf, sizeof(buf), stdin)) != NULL) {\r\n            buf[strcspn(buf, &quot;\\n&quot;)] = 0;\r\n            if (strcmp(ptr, &quot;q&quot;) == 0) {\r\n                break;\r\n            }\r\n            char *token = strtok(ptr, &quot; &quot;);\r\n            char op = readOp(token);\r\n            token = strtok(NULL, &quot; &quot;);\r\n            double val1 = readArg(token);\r\n            token = strtok(NULL, &quot; &quot;);\r\n            double val2 = readArg(token);\r\n\r\n            switch (op) {\r\n                case &#39;+&#39;:\r\n                    printf(&quot;%lf\\n&quot;, val1 + val2);\r\n                    fflush(stdout);\r\n                    break;\r\n                case &#39;-&#39;:\r\n                    printf(&quot;%lf\\n&quot;, val1 - val2);\r\n                    fflush(stdout);\r\n                    break;\r\n                default:\r\n                    error_exit(&quot;unknown operator&quot;);\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    static char readOp(const char *token) {\r\n        if (token != NULL) {\r\n            return *token;\r\n        } else {\r\n            error_exit(&quot;no operator&quot;);\r\n        }\r\n    }\r\n\r\n    static double readArg(const char *token) {\r\n        double res;\r\n        if (token != NULL) {\r\n            char *end_ptr;\r\n            res = strtod(token, &amp;end_ptr);\r\n            if (token == end_ptr || *end_ptr != &#39;\\0&#39;) {\r\n                error_exit(&quot;invalid float operand&quot;);\r\n            }\r\n        } else {\r\n            error_exit(&quot;invalid operand&quot;);\r\n        }\r\n        return res;\r\n    }\r\n\r\n    static void error_exit(const char *msg) {\r\n        fprintf(stderr, &quot;%s\\n&quot;, msg);\r\n        exit(1);\r\n    }\r\n\r\n**Result**\r\n\r\n    + 1.1 2.2 = 3.300000\r\n    - 1024.123 512.123 = 512.000000\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Process.html#getOutputStream()","title":"Communicate Java and C without Sockets?","body":"<p>Requirements:</p>\n<ul>\n<li>Java caller program calls a C calculator program running in its own process</li>\n<li>Java sends operations</li>\n<li>C program returns results</li>\n<li>Avoid JNI/JNA if possible</li>\n</ul>\n<p>The easiest way is probably to call the C program from Java and communicate via standard I/O. The C program could get the operations via <code>stdin</code> in a loop, do the calculations, and return the results via <code>stdout</code>.</p>\n<p>In Java, the central mechanism for this would be the <code>Process</code> class. <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Process.html#getOutputStream()\" rel=\"nofollow noreferrer\">Oracle's documentation</a> states:</p>\n<blockquote>\n<p>Process provides control of native processes started by ProcessBuilder.start ...\nBy default, the created process does not have its own terminal or console. All its standard I/O (i.e. stdin, stdout, stderr) operations will be redirected to the parent process, where they can be accessed via the streams obtained using the methods getOutputStream(), getInputStream(), and getErrorStream().</p>\n</blockquote>\n<p>To avoid a deadlock, we alternately write a line with the operation to be performed and read back a line with the result.</p>\n<p>The advantage of using <code>stdin</code> and <code>stdout</code> is of course also the manual ad-hocs testability since you can simply call the C program on the command line. By the way, the approach would also work in the same way under Linux and macOS.</p>\n<p>To get as simple a test case as possible, here is a C program that gets either an addition or a subtraction operator with two arguments, calculates the result and returns it. Of course, the whole thing doesn't include CUDA and only minimal error handling and probably doesn't meet the detailed requirements, but it could be a start in the right direction.</p>\n<p>The Java demo program finally call this C program and sends an addition and subtraction operation to the C program and outputs the returned results accordingly. The <code>q</code> command then terminates the C program.</p>\n<p><strong>Java</strong></p>\n<pre><code>package com.software7.test;\n\nimport java.io.*;\n\npublic class Caller {\n\n    public static void main(String[] args) {\n        Caller caller = new Caller();\n        caller.runCCalculator();\n    }\n\n    private void runCCalculator() {\n        try {\n            String[] command = { &quot;C:\\\\Users\\\\stephan\\\\source\\\\repos\\\\CCalculator\\\\x64\\\\Debug\\\\CCalculator.exe&quot; };\n            ProcessBuilder processBuilder = new ProcessBuilder(command);\n            Process process = processBuilder.start();\n\n            BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\n            BufferedReader br = new BufferedReader(new InputStreamReader(process.getInputStream()));\n\n            String[] ops = {&quot;+ 1.1 2.2&quot;, &quot;- 1024.123 512.123&quot;};\n            for (String op : ops) {\n                bw.write(op);\n                bw.write(&quot;\\n&quot;);\n                bw.flush();\n                String result = br.readLine();\n                if (result != null) {\n                    System.out.println(op + &quot; = &quot; + result);\n                }\n            }\n            bw.write(&quot;q\\n&quot;);\n            bw.flush();\n\n            bw.close();\n            br.close();\n            System.out.println(&quot;Process exited with &quot; + process.waitFor());\n        } catch (IOException | InterruptedException exp) {\n            exp.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p><strong>C</strong></p>\n<pre><code>#define _CRT_SECURE_NO_WARNINGS\n\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;stdlib.h&gt;\n\nstatic void error_exit(const char *msg);\nstatic char readOp(const char *token);\nstatic double readArg(const char *token);\n\nint main(void) {\n    char buf[128];\n    char *ptr;\n\n    while ((ptr = fgets(buf, sizeof(buf), stdin)) != NULL) {\n        buf[strcspn(buf, &quot;\\n&quot;)] = 0;\n        if (strcmp(ptr, &quot;q&quot;) == 0) {\n            break;\n        }\n        char *token = strtok(ptr, &quot; &quot;);\n        char op = readOp(token);\n        token = strtok(NULL, &quot; &quot;);\n        double val1 = readArg(token);\n        token = strtok(NULL, &quot; &quot;);\n        double val2 = readArg(token);\n\n        switch (op) {\n            case '+':\n                printf(&quot;%lf\\n&quot;, val1 + val2);\n                fflush(stdout);\n                break;\n            case '-':\n                printf(&quot;%lf\\n&quot;, val1 - val2);\n                fflush(stdout);\n                break;\n            default:\n                error_exit(&quot;unknown operator&quot;);\n        }\n    }\n    return 0;\n}\n\nstatic char readOp(const char *token) {\n    if (token != NULL) {\n        return *token;\n    } else {\n        error_exit(&quot;no operator&quot;);\n    }\n}\n\nstatic double readArg(const char *token) {\n    double res;\n    if (token != NULL) {\n        char *end_ptr;\n        res = strtod(token, &amp;end_ptr);\n        if (token == end_ptr || *end_ptr != '\\0') {\n            error_exit(&quot;invalid float operand&quot;);\n        }\n    } else {\n        error_exit(&quot;invalid operand&quot;);\n    }\n    return res;\n}\n\nstatic void error_exit(const char *msg) {\n    fprintf(stderr, &quot;%s\\n&quot;, msg);\n    exit(1);\n}\n</code></pre>\n<p><strong>Result</strong></p>\n<pre><code>+ 1.1 2.2 = 3.300000\n- 1024.123 512.123 = 512.000000\n</code></pre>\n"}],"owner":{"account_id":22467762,"reputation":117,"user_id":16668650,"display_name":"Giancarlo Metitieri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72670127,"answer_count":2,"score":2,"last_activity_date":1655583456,"creation_date":1655500820,"question_id":72664891,"body_markdown":"I was tasked to write a service in C that listens to a named or unnamed Windows OS pipe (two way data transfer should be possible) and the &quot;host application&quot; that writes data to the OS pipe should be a java program. I am not allowed to use sockets (for performance reasons) or any external non-default library.\r\n\r\nIs it possible to write data to named/unnamed OS pipes with Java (if possible without turning the program into C code with JNI?) I&#39;ve been thinking of running a CMD script that writes to an OS pipe with java but I&#39;m pretty sure that it would be extremely inefficient. I&#39;ve also looked into the java `Pipe` class but if I understood correctly, this is only for inter-thread communication inside the JVM and not a &quot;real&quot; OS pipe. How exactly can I write data to a &quot;real&quot; OS pipe? Performance is very important for this because I need a Java program to communicate with a C program, which runs CUDA operation so I can&#39;t afford to waste a lot of performance on sending/receiving the data.","title":"Communicate Java and C without Sockets?","body":"<p>I was tasked to write a service in C that listens to a named or unnamed Windows OS pipe (two way data transfer should be possible) and the &quot;host application&quot; that writes data to the OS pipe should be a java program. I am not allowed to use sockets (for performance reasons) or any external non-default library.</p>\n<p>Is it possible to write data to named/unnamed OS pipes with Java (if possible without turning the program into C code with JNI?) I've been thinking of running a CMD script that writes to an OS pipe with java but I'm pretty sure that it would be extremely inefficient. I've also looked into the java <code>Pipe</code> class but if I understood correctly, this is only for inter-thread communication inside the JVM and not a &quot;real&quot; OS pipe. How exactly can I write data to a &quot;real&quot; OS pipe? Performance is very important for this because I need a Java program to communicate with a C program, which runs CUDA operation so I can't afford to waste a lot of performance on sending/receiving the data.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1655573392,"post_id":72671177,"comment_id":128365993,"body_markdown":"Do you want a way to produce 123.067? Asking because passing 067 as second argument will not do that.","body":"Do you want a way to produce 123.067? Asking because passing 067 as second argument will not do that."},{"owner":{"account_id":5585617,"reputation":3922,"user_id":4426075,"accept_rate":50,"display_name":"Semyon Tikhonenko"},"score":0,"creation_date":1655583169,"post_id":72671177,"comment_id":128367823,"body_markdown":"@OleV.V. Yes. Will modify task","body":"@OleV.V. Yes. Will modify task"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655572793,"creation_date":1655572541,"answer_id":72671230,"question_id":72671177,"body_markdown":"That is just math operation using the 3 values\r\n\r\n    public double toDouble() {\r\n        double floatingPartExponent = Math.pow(10, Math.ceil(Math.log10(floatingPart)));\r\n        double floatSign = Math.signum(integer);\r\n        return (integer + floatSign * floatingPart / floatingPartExponent) * Math.pow(10, exponent);\r\n    }\r\n","title":"How to create double value from integer, floating and exponent part in Java?","body":"<p>That is just math operation using the 3 values</p>\n<pre><code>public double toDouble() {\n    double floatingPartExponent = Math.pow(10, Math.ceil(Math.log10(floatingPart)));\n    double floatSign = Math.signum(integer);\n    return (integer + floatSign * floatingPart / floatingPartExponent) * Math.pow(10, exponent);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655572636,"creation_date":1655572636,"answer_id":72671246,"question_id":72671177,"body_markdown":"You can concatenate the parts together as a `String` and convert it to a `double` with `Double.parseDouble`.\r\n\r\n```java\r\npublic double toDouble(){\r\n    return Double.parseDouble(integer + &quot;.&quot; + floatingPart + &quot;e&quot; + exponent);\r\n}\r\n```","title":"How to create double value from integer, floating and exponent part in Java?","body":"<p>You can concatenate the parts together as a <code>String</code> and convert it to a <code>double</code> with <code>Double.parseDouble</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public double toDouble(){\n    return Double.parseDouble(integer + &quot;.&quot; + floatingPart + &quot;e&quot; + exponent);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655572640,"creation_date":1655572640,"answer_id":72671247,"question_id":72671177,"body_markdown":"They are many ways to do that here is one of them.\r\n\r\n    import java.math.BigDecimal;\r\n    import java.math.MathContext;\r\n    \r\n    public class DoubleData {\r\n    \t public long integer;\r\n    \t    public long floatingPart; // &gt;= 0\r\n    \t    public int exponent;\r\n    \r\n    \t    public DoubleData(long integer, long floatingPart, int exponent) {\r\n    \t        this.integer = integer;\r\n    \t        this.floatingPart = floatingPart;\r\n    \t        this.exponent = exponent;\r\n    \t    }\r\n    \t    \r\n    \t    public double toDouble() {\r\n    \t\t\tString stringRepresentation = integer +&quot;.&quot;+floatingPart;\r\n    \t\t\tBigDecimal bigDecimal = new BigDecimal(stringRepresentation, new MathContext(exponent));\r\n    \t\t\treturn bigDecimal.doubleValue();\r\n    \t    }\r\n    }","title":"How to create double value from integer, floating and exponent part in Java?","body":"<p>They are many ways to do that here is one of them.</p>\n<pre><code>import java.math.BigDecimal;\nimport java.math.MathContext;\n\npublic class DoubleData {\n     public long integer;\n        public long floatingPart; // &gt;= 0\n        public int exponent;\n\n        public DoubleData(long integer, long floatingPart, int exponent) {\n            this.integer = integer;\n            this.floatingPart = floatingPart;\n            this.exponent = exponent;\n        }\n        \n        public double toDouble() {\n            String stringRepresentation = integer +&quot;.&quot;+floatingPart;\n            BigDecimal bigDecimal = new BigDecimal(stringRepresentation, new MathContext(exponent));\n            return bigDecimal.doubleValue();\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":5585617,"reputation":3922,"user_id":4426075,"accept_rate":50,"display_name":"Semyon Tikhonenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72671230,"answer_count":3,"score":0,"last_activity_date":1655583333,"creation_date":1655572019,"question_id":72671177,"body_markdown":"If I have a structure like this:\r\n\r\n```\r\npublic class DoubleData {\r\n    public long integer;\r\n    public int floatingPartOffset; // &gt;=0\r\n    public long floatingPart; // &gt;= 0\r\n    public int exponent;\r\n\r\n    public DoubleData(long integer, long floatingPart, int floatingPartOffset, int exponent) \r\n    {\r\n        this.integer = integer;\r\n        this.floatingPart = floatingPart;\r\n        this.exponent = exponent;\r\n        this.floatingPartOffset = floatingPartOffset\r\n    }\r\n    \r\n    public double toDouble()\r\n}\r\n```\r\n\r\nAnd I want to implement a behavior like this:\r\n\r\n`DoubleData(123,567,1,0).toDouble() -&gt; 123.0567`\r\n\r\n`DoubleData(-123,567,0,0).toDouble() -&gt; -123.567`\r\n\r\n`DoubleData(-123,567,2,-8).toDouble() -&gt; -123.00567e-8`\r\n\r\nHow to achieve this? Are there any libraries for that? If it&#39;s easier I can replace long and int with byte[]\r\nAnd how to make it as efficient as possible?\r\n","title":"How to create double value from integer, floating and exponent part in Java?","body":"<p>If I have a structure like this:</p>\n<pre><code>public class DoubleData {\n    public long integer;\n    public int floatingPartOffset; // &gt;=0\n    public long floatingPart; // &gt;= 0\n    public int exponent;\n\n    public DoubleData(long integer, long floatingPart, int floatingPartOffset, int exponent) \n    {\n        this.integer = integer;\n        this.floatingPart = floatingPart;\n        this.exponent = exponent;\n        this.floatingPartOffset = floatingPartOffset\n    }\n    \n    public double toDouble()\n}\n</code></pre>\n<p>And I want to implement a behavior like this:</p>\n<p><code>DoubleData(123,567,1,0).toDouble() -&gt; 123.0567</code></p>\n<p><code>DoubleData(-123,567,0,0).toDouble() -&gt; -123.567</code></p>\n<p><code>DoubleData(-123,567,2,-8).toDouble() -&gt; -123.00567e-8</code></p>\n<p>How to achieve this? Are there any libraries for that? If it's easier I can replace long and int with byte[]\nAnd how to make it as efficient as possible?</p>\n"},{"tags":["java","spring-boot","docker","tomcat"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655582679,"creation_date":1655582679,"answer_id":72672404,"question_id":72672343,"body_markdown":"Use the [`ENV` Statement](https://docs.docker.com/engine/reference/builder/#env). \r\n\r\n    ENV SPRING_DATASOURCE_URL=&quot;MY_ACTUAL_URL&quot;\r\n    ENV SPRING_DATASOURCE_USERNAME=&quot;user&quot;\r\n    ENV SPRING_DATASOURCE_PASSWORD=&quot;pw&quot;\r\n\r\n","title":"how to set differente environment variables in Tomcat docker?","body":"<p>Use the <a href=\"https://docs.docker.com/engine/reference/builder/#env\" rel=\"nofollow noreferrer\"><code>ENV</code> Statement</a>.</p>\n<pre><code>ENV SPRING_DATASOURCE_URL=&quot;MY_ACTUAL_URL&quot;\nENV SPRING_DATASOURCE_USERNAME=&quot;user&quot;\nENV SPRING_DATASOURCE_PASSWORD=&quot;pw&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25589036,"reputation":121,"user_id":19366230,"display_name":"Gary Wong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655583215,"creation_date":1655583215,"answer_id":72672460,"question_id":72672343,"body_markdown":"You can pass in the environment variables via\r\n```\r\ndocker run -e SPRING_DATASOURCE_URL=&quot;&quot; -e SPRING_DATASOURCE_USERNAME=&quot;&quot; --name {container-name} {image-name} \r\n```\r\n","title":"how to set differente environment variables in Tomcat docker?","body":"<p>You can pass in the environment variables via</p>\n<pre><code>docker run -e SPRING_DATASOURCE_URL=&quot;&quot; -e SPRING_DATASOURCE_USERNAME=&quot;&quot; --name {container-name} {image-name} \n</code></pre>\n"}],"owner":{"account_id":16375658,"reputation":35,"user_id":11827828,"display_name":"carlonchoboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":860,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72672404,"answer_count":2,"score":0,"last_activity_date":1655583215,"creation_date":1655582173,"question_id":72672343,"body_markdown":"I&#39;ve a spring boot app that I&#39;m deploying in a Tomcat Docker.\r\n\r\nI&#39;ve many properties in `application-deploy.properties` like this:\r\n```\r\n#DB\r\nspring.datasource.url=jdbc:mysql://${SPRING_DATASOURCE_URL}\r\nspring.datasource.username=${SPRING_DATASOURCE_USERNAME}\r\nspring.datasource.password=${SPRING_DATASOURCE_PASSWORD}\r\n\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n````\r\nI want to get the variables from Docker. So, I&#39;m trying this `Dockerfile`:\r\n```\r\nFROM tomcat:9.0.56\r\nARG SPRING_DATASOURCE_URL\r\nARG SPRING_DATASOURCE_USERNAME\r\nARG SPRING_DATASOURCE_PASSWORD\r\nCOPY setenv.sh /usr/local/tomcat/bin/setenv.sh\r\nCOPY /app/target/api.war /usr/local/tomcat/webapps/ROOT.war\r\nEXPOSE 8080\r\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;]\r\n```\r\nand I&#39;ve `setenv.sh`like this:\r\n```\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Dspring.profiles.active=deploy&quot;\r\nJAVA_OPTS=&quot;$JAVA_OPTS -DSPRING_DATASOURCE_URL=${SPRING_DATASOURCE_URL}&quot;\r\nJAVA_OPTS=&quot;$JAVA_OPTS -DSPRING_DATASOURCE_USERNAME=${SPRING_DATASOURCE_USERNAME}&quot;\r\nJAVA_OPTS=&quot;$JAVA_OPTS -DSPRING_DATASOURCE_PASSWORD=${SPRING_DATASOURCE_PASSWORD}&quot;\r\n````\r\nAny idea of what I&#39;m wrong and how can solve it? I want to pass the variables to application-deploy.properties when I build Docker.","title":"how to set differente environment variables in Tomcat docker?","body":"<p>I've a spring boot app that I'm deploying in a Tomcat Docker.</p>\n<p>I've many properties in <code>application-deploy.properties</code> like this:</p>\n<pre><code>#DB\nspring.datasource.url=jdbc:mysql://${SPRING_DATASOURCE_URL}\nspring.datasource.username=${SPRING_DATASOURCE_USERNAME}\nspring.datasource.password=${SPRING_DATASOURCE_PASSWORD}\n\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>I want to get the variables from Docker. So, I'm trying this <code>Dockerfile</code>:</p>\n<pre><code>FROM tomcat:9.0.56\nARG SPRING_DATASOURCE_URL\nARG SPRING_DATASOURCE_USERNAME\nARG SPRING_DATASOURCE_PASSWORD\nCOPY setenv.sh /usr/local/tomcat/bin/setenv.sh\nCOPY /app/target/api.war /usr/local/tomcat/webapps/ROOT.war\nEXPOSE 8080\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;]\n</code></pre>\n<p>and I've <code>setenv.sh</code>like this:</p>\n<pre><code>JAVA_OPTS=&quot;$JAVA_OPTS -Dspring.profiles.active=deploy&quot;\nJAVA_OPTS=&quot;$JAVA_OPTS -DSPRING_DATASOURCE_URL=${SPRING_DATASOURCE_URL}&quot;\nJAVA_OPTS=&quot;$JAVA_OPTS -DSPRING_DATASOURCE_USERNAME=${SPRING_DATASOURCE_USERNAME}&quot;\nJAVA_OPTS=&quot;$JAVA_OPTS -DSPRING_DATASOURCE_PASSWORD=${SPRING_DATASOURCE_PASSWORD}&quot;\n</code></pre>\n<p>Any idea of what I'm wrong and how can solve it? I want to pass the variables to application-deploy.properties when I build Docker.</p>\n"},{"tags":["java","bash","spring-boot","nohup"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655658750,"post_id":72671503,"comment_id":128378964,"body_markdown":"Look into using the more flexible `tmux`. I never use `nohup` now","body":"Look into using the more flexible <code>tmux</code>. I never use <code>nohup</code> now"}],"answers":[{"tags":[],"owner":{"account_id":32384,"reputation":120260,"user_id":89817,"display_name":"Gordon Davisson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655583196,"creation_date":1655583196,"answer_id":72672457,"question_id":72671503,"body_markdown":"It looks like you have shell debug tracing (`set -x` mode) turned on, meaning bash will print each command before executing it (but after expanding variables etc). Since the `nohup java ...` command is backgrounded, this happens asynchronously, and happens to get printed *after* the shell has printed its prompt, so you get &quot;`$ `&quot; (your shell prompt) followed by &quot;`+ nohup java ...` (the debug trace).\r\n\r\n(Note: you have errors &amp; output from the command redirected to nohup.out, but since the trace is printed by the shell, not the command itself, the redirect doesn&#39;t apply.)\r\n\r\nYou don&#39;t actually need to press return at this point; the only thing pressing return does is get you a new, clean (not mixed with debug tracing) prompt. You could just enter another command as normal. However, since the shell is confused about where on the line you are, features like command editing and history recall may not work properly.\r\n\r\nIf you want to avoid this, I think your main options are to either turn off debug tracing (`set +x`) before running the command, or add a delay before the shell prints its next prompt:\r\n\r\n    nohup java -jar webservices-0.0.1-SNAPSHOT.jar &gt; nohup.out 2&gt;&amp;1 &amp; sleep 1\r\n\r\nHere, the `nohup java ...` command runs in the background as usual, but the `sleep 1` command runs in the foreground and so the shell won&#39;t print its next prompt for a second (which should be enough time for the background process to print its debug trace).","title":"Having to hit enter with nohup command in bash","body":"<p>It looks like you have shell debug tracing (<code>set -x</code> mode) turned on, meaning bash will print each command before executing it (but after expanding variables etc). Since the <code>nohup java ...</code> command is backgrounded, this happens asynchronously, and happens to get printed <em>after</em> the shell has printed its prompt, so you get &quot;<code>$ </code>&quot; (your shell prompt) followed by &quot;<code>+ nohup java ...</code> (the debug trace).</p>\n<p>(Note: you have errors &amp; output from the command redirected to nohup.out, but since the trace is printed by the shell, not the command itself, the redirect doesn't apply.)</p>\n<p>You don't actually need to press return at this point; the only thing pressing return does is get you a new, clean (not mixed with debug tracing) prompt. You could just enter another command as normal. However, since the shell is confused about where on the line you are, features like command editing and history recall may not work properly.</p>\n<p>If you want to avoid this, I think your main options are to either turn off debug tracing (<code>set +x</code>) before running the command, or add a delay before the shell prints its next prompt:</p>\n<pre><code>nohup java -jar webservices-0.0.1-SNAPSHOT.jar &gt; nohup.out 2&gt;&amp;1 &amp; sleep 1\n</code></pre>\n<p>Here, the <code>nohup java ...</code> command runs in the background as usual, but the <code>sleep 1</code> command runs in the foreground and so the shell won't print its next prompt for a second (which should be enough time for the background process to print its debug trace).</p>\n"}],"owner":{"account_id":4450802,"reputation":1076,"user_id":4608329,"accept_rate":38,"display_name":"pkgajulapalli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72672457,"answer_count":1,"score":0,"last_activity_date":1655583196,"creation_date":1655574855,"question_id":72671503,"body_markdown":"I&#39;m trying to run a java springboot server using the following `nohup` command.\r\n\r\n````bash\r\nnohup java -jar webservices-0.0.1-SNAPSHOT.jar &gt; nohup.out 2&gt;&amp;1 &amp;\r\n````\r\n\r\nBut after running this, I&#39;m getting the following output &amp; I have to hit enter to run the subsequent commands.\r\n\r\n&gt; $ + nohup java -jar -Dspring.config.additional-location=config/application-dev.properties webservices-0.0.1-SNAPSHOT.jar\r\n\r\nIs there anyway to avoid this in bash?","title":"Having to hit enter with nohup command in bash","body":"<p>I'm trying to run a java springboot server using the following <code>nohup</code> command.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>nohup java -jar webservices-0.0.1-SNAPSHOT.jar &gt; nohup.out 2&gt;&amp;1 &amp;\n</code></pre>\n<p>But after running this, I'm getting the following output &amp; I have to hit enter to run the subsequent commands.</p>\n<blockquote>\n<p>$ + nohup java -jar -Dspring.config.additional-location=config/application-dev.properties webservices-0.0.1-SNAPSHOT.jar</p>\n</blockquote>\n<p>Is there anyway to avoid this in bash?</p>\n"},{"tags":["java","swing","jframe","jbutton","jlabel"],"comments":[{"owner":{"account_id":2368550,"reputation":4277,"user_id":2073738,"accept_rate":100,"display_name":"Marcello B."},"score":0,"creation_date":1539128409,"post_id":52730539,"comment_id":92386350,"body_markdown":"Hello, you posted a lot of code, most of which is not needed. It makes reading your question difficult. Please check out [this article on how to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve). Happy Coding!","body":"Hello, you posted a lot of code, most of which is not needed. It makes reading your question difficult. Please check out <a href=\"https://stackoverflow.com/help/mcve\">this article on how to create a Minimal, Complete, and Verifiable example</a>. Happy Coding!"}],"answers":[{"tags":[],"owner":{"account_id":966533,"reputation":944,"user_id":989875,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1539127461,"creation_date":1539127461,"answer_id":52730559,"question_id":52730539,"body_markdown":"Instead of using a new label each time you should use the same label.\r\n\r\n                    JLabel answer = new JLabel();\r\n                    answer.setBounds(180, 300, 150, 40);\r\n                    answer.setText(answer1);","title":"How to empty a label before displaying it again? in java","body":"<p>Instead of using a new label each time you should use the same label.</p>\n\n<pre><code>                JLabel answer = new JLabel();\n                answer.setBounds(180, 300, 150, 40);\n                answer.setText(answer1);\n</code></pre>\n"}],"owner":{"account_id":14510736,"reputation":13,"user_id":10481216,"display_name":"AyhamSYR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52730559,"answer_count":1,"score":0,"last_activity_date":1655581161,"creation_date":1539127200,"question_id":52730539,"body_markdown":"I am trying to make a calculator but I have a problem. When I display the answer more than one time the program put the answers over one another, as you can see in the picture below ![here][1].\r\n\r\nHere is my code, could anyone please help me figure this out (emptying the label before displaying the next answer. \r\nThanks! \r\n\r\n       package R&#228;knare;\r\n            \r\n            import javax.swing.JOptionPane;\r\n            import javax.swing.JPanel;\r\n            import javax.swing.JTextField;\r\n            import javax.swing.ImageIcon;\r\n            import javax.swing.JButton;\r\n            \r\n            import java.awt.BorderLayout;\r\n            import java.awt.Component;\r\n            import java.awt.Dimension;\r\n            import java.awt.FlowLayout;\r\n            import java.awt.Frame;\r\n            import java.awt.Graphics;\r\n            import java.awt.GraphicsConfiguration;\r\n            import java.awt.LayoutManager;\r\n            import java.awt.TextField;\r\n            import java.awt.event.ActionEvent;\r\n            import java.awt.event.ActionListener;\r\n            \r\n            import javax.swing.JFrame;\r\n            import javax.swing.JLabel;\r\n            \r\n            \r\n            public class huvudklassen extends JFrame {\r\n            \tstatic GraphicsConfiguration gc = null;\r\n            \r\n            // Variables \r\n            \tstatic JLabel welcome = new JLabel(&quot;Welcome to my calculator&quot;);\r\n            \tstatic JLabel theequation = new JLabel(&quot;what do you want to caculate?&quot;);\r\n            \t\r\n            \t\r\n            \r\n            \t\r\n            \tstatic JFrame frame1 = new JFrame(gc);\r\n            \tstatic JFrame frame2 = new JFrame(gc);\r\n            \t\r\n            \tstatic JTextField s = new JTextField();\r\n            \t\r\n            \tstatic JButton start = new JButton(&quot;start&quot;);\r\n            \tstatic JButton calculate = new JButton(&quot;Calculate&quot;);\r\n            //\r\n            \t\tpublic static void frame() {\r\n            \t\t\r\n            \t\tframe1.setResizable(false);\r\n            \t\tframe1.setVisible(true);\r\n            \t\tframe1.setSize(400, 500);\r\n            \t\tframe1.setTitle(&quot;My Calculatur&quot;);\r\n            \t\tframe1.setLayout(null);\r\n            \t\tframe1.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            \t\tframe1.setLocationRelativeTo(null);\r\n            \t\t\r\n            \t\t\r\n            \t\twelcome.setBounds(120, 155, 200, 50);;\r\n            \t\tstart.setBounds(150,200,100,50);\r\n            \t\r\n            \t\tframe1.add(welcome);\r\n            \t\tframe1.add(start);\r\n            \t\t\r\n            \t\tstart.addActionListener(new ActionListener() {\r\n            \r\n            \t@Override\r\n            \tpublic void actionPerformed(ActionEvent e) {\r\n            \t\tframe1.setVisible(false);\r\n            \t\tframe2.setSize(400, 500);\r\n            \t\tframe2.setResizable(false);\r\n            \t\tframe2.setVisible(true);\r\n            \t\tframe2.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            \t\tframe2.setLayout(null);\r\n            \t\tframe2.setTitle(&quot;Caculation&quot;);\r\n            \t\tframe2.setLocationRelativeTo(null);\r\n            \t\t\r\n            \t\ts.setBounds(150,200,100,30);\r\n            \t\ttheequation.setBounds(120,155,200,50);\r\n            \t\tcalculate.setBounds(120, 235, 150, 40);\r\n            \t\r\n            \t\tframe2.add(s);\r\n            \t\tframe2.add(theequation);\r\n            \t\tframe2.add(calculate);\r\n            \t\t\r\n            \t\t\r\n            \t\tcalculate.addActionListener(new ActionListener() {\r\n            \t\t\t\r\n            \t\t\tpublic void actionPerformed1(ActionEvent a) {\r\n            \t\t\t\r\n            \t\t\r\n            \t\t\tString theequation2 = s.getText();\r\n            \r\n            \t\t\tString left = &quot;&quot;;\r\n            \t\t\tString tecken = &quot;&quot;;\r\n            \t\t\tString right = &quot;&quot;;\r\n            \t\t\t\r\n            //\t\t\tif (theequation2 == null || theequation2.equals(&quot;&quot;))\r\n            \t\t\t\r\n            \t\t\t\r\n            \t\t\tif (theequation2.contains(&quot;+&quot;)) {\r\n            \t\t\t\tleft = left + theequation2.substring(0, theequation2.indexOf(&quot;+&quot;));\r\n            \t\t\t\tright = right + theequation2.substring(theequation2.indexOf(&quot;+&quot;) + 1);\r\n            \t\t\t\ttecken = tecken + &quot;+&quot;;\r\n            \t\t\t\t}\r\n            \t\t\t\r\n            \t\t\tif (theequation2.contains(&quot;-&quot;)) {\r\n            \t\t\t\tleft = left + theequation2.substring(0, theequation2.indexOf(&quot;-&quot;));\r\n            \t\t\t\tright = right + theequation2.substring(theequation2.indexOf(&quot;-&quot;) + 1);\r\n            \t\t\t\ttecken = tecken + &quot;-&quot;;\r\n            \t\t\t\t}\r\n            \r\n            \t\t\tif (theequation2.contains(&quot;*&quot;)) {\r\n            \t\t\t\tleft = left + theequation2.substring(0, theequation2.indexOf(&quot;*&quot;));\r\n            \t\t\t\tright = right + theequation2.substring(theequation2.indexOf(&quot;*&quot;) + 1);\r\n            \t\t\t\ttecken = tecken + &quot;*&quot;;\r\n            \t\t\t\t}\r\n            \t\t\t\r\n            \t\t\tif (theequation2.contains(&quot;/&quot;)) {\r\n            \t\t\t\tleft = left + theequation2.substring(0, theequation2.indexOf(&quot;/&quot;));\r\n            \t\t\t\tright = right + theequation2.substring(theequation2.indexOf(&quot;/&quot;) + 1);\r\n            \t\t\t\ttecken = tecken + &quot;/&quot;;\r\n            \t\t\t\t}\r\n            \t\t\t\r\n            \t\t\tif (theequation2.contains(&quot;^&quot;)) {\r\n            \t\t\t\tleft = left + theequation2.substring(0, theequation2.indexOf(&quot;^&quot;));\r\n            \t\t\t\tright = right + theequation2.substring(theequation2.indexOf(&quot;^&quot;) + 1);\r\n            \t\t\t\ttecken = tecken + &quot;^&quot;;\r\n            \t\t\t\t}\r\n            \t\t\t\r\n            \t\t\tleft = left.trim();\r\n            \t\t\tright = right.trim();\t\r\n            \t\t\tdouble left1 = Double.parseDouble(left);\r\n            \t\t\tdouble right1 = Double.parseDouble(right);\r\n            \t\t\t\r\n            \t\t\tdouble svar = 0;\r\n            \t\t\t\r\n            \t\t\tif (tecken.equals(&quot;+&quot;))\r\n            \t\t\t\tsvar = svar + left1 + right1;\r\n            \r\n            \t\t\tif (tecken.equals(&quot;-&quot;))\r\n            \t\t\t\tsvar = svar + (left1 - right1);\r\n            \t\t\t\r\n            \t\t\tif (tecken.equals(&quot;*&quot;))\r\n            \t\t\t\tsvar = svar + left1 * right1;\r\n            \t\t\t\r\n            \t\t\tif (tecken.equals(&quot;/&quot;))\r\n            \t\t\t\tsvar = svar + left1 * right1;\r\n            \t\t\t\r\n            \t\t\tif (tecken.equals(&quot;%&quot;))\r\n            \t\t\t\tsvar = svar + left1 % right1;\r\n            \t\t\t\r\n            \t\t\tif (tecken.equals(&quot;^&quot;)) {\r\n            \t\t\t\t\tsvar = Math.pow(left1, right1);\t\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tString answer1 = Double.toString(svar);\r\n            //\t\t\tJOptionPane.showMessageDialog(null, answer1);\r\n            \t\t\t\r\n            \t\t\tJLabel answer = new JLabel();\r\n            \t\t\tanswer.setBounds(180, 300, 150, 40);\r\n            \t\t\tanswer.setText(answer1);\r\n            \t\t\t\r\n            \t\r\n            \t\t\tframe2.add(answer);\r\n            \t\t\tframe2.revalidate();\r\n            \t\t\tframe2.repaint();\r\n            \t\t\r\n            \t\t\t\r\n            \t\t\r\n            \t\t\t}\r\n            \r\n            \t\t\t@Override\r\n            \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n            \t\t\t\tActionEvent ActionEvent = null;\r\n            \t\t\t\tactionPerformed1(ActionEvent);\r\n            \t\t\t\t\r\n            \t\t\t}\r\n            \t\t\r\n            \t\t});\r\n            \t\r\n            \t}\r\n            \t\t});\r\n            \t\t}\r\n            \t\r\n            \t\t\r\n            \tpublic static void main(String[] args) {\r\n            \t\tframe();\r\n            \t}\r\n            \r\n            }\r\n        \r\n        \r\n        \r\n        JLabel answer = new JPanel();\r\n        //\t\t\tanswer.setBounds(180, 300, 150, 40);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qr3Fa.png","title":"How to empty a label before displaying it again? in java","body":"<p>I am trying to make a calculator but I have a problem. When I display the answer more than one time the program put the answers over one another, as you can see in the picture below <img src=\"https://i.stack.imgur.com/Qr3Fa.png\" alt=\"here\">.</p>\n\n<p>Here is my code, could anyone please help me figure this out (emptying the label before displaying the next answer. \nThanks! </p>\n\n<pre><code>   package Rknare;\n\n        import javax.swing.JOptionPane;\n        import javax.swing.JPanel;\n        import javax.swing.JTextField;\n        import javax.swing.ImageIcon;\n        import javax.swing.JButton;\n\n        import java.awt.BorderLayout;\n        import java.awt.Component;\n        import java.awt.Dimension;\n        import java.awt.FlowLayout;\n        import java.awt.Frame;\n        import java.awt.Graphics;\n        import java.awt.GraphicsConfiguration;\n        import java.awt.LayoutManager;\n        import java.awt.TextField;\n        import java.awt.event.ActionEvent;\n        import java.awt.event.ActionListener;\n\n        import javax.swing.JFrame;\n        import javax.swing.JLabel;\n\n\n        public class huvudklassen extends JFrame {\n            static GraphicsConfiguration gc = null;\n\n        // Variables \n            static JLabel welcome = new JLabel(\"Welcome to my calculator\");\n            static JLabel theequation = new JLabel(\"what do you want to caculate?\");\n\n\n\n\n            static JFrame frame1 = new JFrame(gc);\n            static JFrame frame2 = new JFrame(gc);\n\n            static JTextField s = new JTextField();\n\n            static JButton start = new JButton(\"start\");\n            static JButton calculate = new JButton(\"Calculate\");\n        //\n                public static void frame() {\n\n                frame1.setResizable(false);\n                frame1.setVisible(true);\n                frame1.setSize(400, 500);\n                frame1.setTitle(\"My Calculatur\");\n                frame1.setLayout(null);\n                frame1.setDefaultCloseOperation(EXIT_ON_CLOSE);\n                frame1.setLocationRelativeTo(null);\n\n\n                welcome.setBounds(120, 155, 200, 50);;\n                start.setBounds(150,200,100,50);\n\n                frame1.add(welcome);\n                frame1.add(start);\n\n                start.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                frame1.setVisible(false);\n                frame2.setSize(400, 500);\n                frame2.setResizable(false);\n                frame2.setVisible(true);\n                frame2.setDefaultCloseOperation(EXIT_ON_CLOSE);\n                frame2.setLayout(null);\n                frame2.setTitle(\"Caculation\");\n                frame2.setLocationRelativeTo(null);\n\n                s.setBounds(150,200,100,30);\n                theequation.setBounds(120,155,200,50);\n                calculate.setBounds(120, 235, 150, 40);\n\n                frame2.add(s);\n                frame2.add(theequation);\n                frame2.add(calculate);\n\n\n                calculate.addActionListener(new ActionListener() {\n\n                    public void actionPerformed1(ActionEvent a) {\n\n\n                    String theequation2 = s.getText();\n\n                    String left = \"\";\n                    String tecken = \"\";\n                    String right = \"\";\n\n        //          if (theequation2 == null || theequation2.equals(\"\"))\n\n\n                    if (theequation2.contains(\"+\")) {\n                        left = left + theequation2.substring(0, theequation2.indexOf(\"+\"));\n                        right = right + theequation2.substring(theequation2.indexOf(\"+\") + 1);\n                        tecken = tecken + \"+\";\n                        }\n\n                    if (theequation2.contains(\"-\")) {\n                        left = left + theequation2.substring(0, theequation2.indexOf(\"-\"));\n                        right = right + theequation2.substring(theequation2.indexOf(\"-\") + 1);\n                        tecken = tecken + \"-\";\n                        }\n\n                    if (theequation2.contains(\"*\")) {\n                        left = left + theequation2.substring(0, theequation2.indexOf(\"*\"));\n                        right = right + theequation2.substring(theequation2.indexOf(\"*\") + 1);\n                        tecken = tecken + \"*\";\n                        }\n\n                    if (theequation2.contains(\"/\")) {\n                        left = left + theequation2.substring(0, theequation2.indexOf(\"/\"));\n                        right = right + theequation2.substring(theequation2.indexOf(\"/\") + 1);\n                        tecken = tecken + \"/\";\n                        }\n\n                    if (theequation2.contains(\"^\")) {\n                        left = left + theequation2.substring(0, theequation2.indexOf(\"^\"));\n                        right = right + theequation2.substring(theequation2.indexOf(\"^\") + 1);\n                        tecken = tecken + \"^\";\n                        }\n\n                    left = left.trim();\n                    right = right.trim();   \n                    double left1 = Double.parseDouble(left);\n                    double right1 = Double.parseDouble(right);\n\n                    double svar = 0;\n\n                    if (tecken.equals(\"+\"))\n                        svar = svar + left1 + right1;\n\n                    if (tecken.equals(\"-\"))\n                        svar = svar + (left1 - right1);\n\n                    if (tecken.equals(\"*\"))\n                        svar = svar + left1 * right1;\n\n                    if (tecken.equals(\"/\"))\n                        svar = svar + left1 * right1;\n\n                    if (tecken.equals(\"%\"))\n                        svar = svar + left1 % right1;\n\n                    if (tecken.equals(\"^\")) {\n                            svar = Math.pow(left1, right1); \n                    }\n\n                    String answer1 = Double.toString(svar);\n        //          JOptionPane.showMessageDialog(null, answer1);\n\n                    JLabel answer = new JLabel();\n                    answer.setBounds(180, 300, 150, 40);\n                    answer.setText(answer1);\n\n\n                    frame2.add(answer);\n                    frame2.revalidate();\n                    frame2.repaint();\n\n\n\n                    }\n\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        ActionEvent ActionEvent = null;\n                        actionPerformed1(ActionEvent);\n\n                    }\n\n                });\n\n            }\n                });\n                }\n\n\n            public static void main(String[] args) {\n                frame();\n            }\n\n        }\n\n\n\n    JLabel answer = new JPanel();\n    //          answer.setBounds(180, 300, 150, 40);\n</code></pre>\n"},{"tags":["java","react-native","gradle","gradlew","java-home"],"answers":[{"tags":[],"owner":{"account_id":7149298,"reputation":632,"user_id":6921491,"display_name":"Sooraj N Raju"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1631852602,"creation_date":1631852602,"answer_id":69217755,"question_id":69217274,"body_markdown":"The previous java got uninstalled but the directory was still present there `C:\\Program Files\\Java\\jdk-17`\r\nDeleted it and it working fine now","title":"gradle-6.9 detects old JAVA path even I have updated JAVA_HOME (react-native)","body":"<p>The previous java got uninstalled but the directory was still present there <code>C:\\Program Files\\Java\\jdk-17</code>\nDeleted it and it working fine now</p>\n"}],"owner":{"account_id":7149298,"reputation":632,"user_id":6921491,"display_name":"Sooraj N Raju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2968,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1655581123,"creation_date":1631847771,"question_id":69217274,"body_markdown":"I was using java from this path `C:\\Program Files\\Java\\jdk-17` and I have used gradle-6.9 at that time. Later I have installed OpenJDK and now my JAVA_HOME is `C:\\Program Files\\Eclipse Foundation\\jdk-11.0.12.7-hotspot`. But now if I run gradle using gradle-6.9 version I am getting this\r\n\r\n&gt; $ ./gradle\r\n&gt; \r\n&gt; FAILURE: Build failed with an exception.\r\n&gt; \r\n&gt; * What went wrong: The supplied javaHome seems to be invalid. I cannot find the java executable. Tr                                          \r\n&gt; ied location: C:\\Program Files\\Java\\jdk-17\\bin\\java.exe\r\n&gt; \r\n&gt; * Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug                                                                                                                 option to get more log output. Run with --scan to get full insights.\r\n&gt; \r\n&gt; * Get more help at https://help.gradle.org\r\n\r\nBut If I am using any other gradle version for example even 6.9.1 as well everything works fine\r\n\r\neg: 6.9.1, 7.x\r\n\r\nI have tried removing cache folder as well but no hope, please help\r\n\r\n","title":"gradle-6.9 detects old JAVA path even I have updated JAVA_HOME (react-native)","body":"<p>I was using java from this path <code>C:\\Program Files\\Java\\jdk-17</code> and I have used gradle-6.9 at that time. Later I have installed OpenJDK and now my JAVA_HOME is <code>C:\\Program Files\\Eclipse Foundation\\jdk-11.0.12.7-hotspot</code>. But now if I run gradle using gradle-6.9 version I am getting this</p>\n<blockquote>\n<p>$ ./gradle</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>What went wrong: The supplied javaHome seems to be invalid. I cannot find the java executable. Tr<br />\nied location: C:\\Program Files\\Java\\jdk-17\\bin\\java.exe</p>\n</li>\n<li><p>Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug                                                                                                                 option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n</blockquote>\n<p>But If I am using any other gradle version for example even 6.9.1 as well everything works fine</p>\n<p>eg: 6.9.1, 7.x</p>\n<p>I have tried removing cache folder as well but no hope, please help</p>\n"},{"tags":["java","swing","jlabel"],"answers":[{"tags":[],"owner":{"account_id":24412522,"reputation":31,"user_id":18339789,"display_name":"Parda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655581064,"creation_date":1651110835,"answer_id":72037121,"question_id":71972817,"body_markdown":"The code is missing\r\n```\r\nString score = String.valueOf(&quot;Total Clicks: &quot; + totalClicks);\r\ntf1.setText(score);\r\n   ```      \r\nAnd\r\n```\r\nString avg = String.valueOf(&quot;Average: &quot; +finalClicks);\r\ntf2.setText(avg);\r\n```\r\nThe final code should be:\r\n```\r\nclass CPS extends JFrame implements ActionListener{\r\nJPanel panel;\r\nJButton button;\r\nJLabel tf1, tf2;\r\nboolean running;\r\nint totalClicks = 0;\r\nint clicksLeft = 100-totalClicks;\r\n static float ars;;\r\nint startInt = 0;\r\nCPS(){\r\npanel=new JPanel();\r\n JFrame d= new JFrame(&quot;Clicks Per Second&quot;);  \r\n button = new JButton(&quot;Click here for 5 Seconds&quot;);\r\n\r\n \r\n \r\n\r\n\r\n \r\n tf1 = new JLabel(&quot;&quot;);\r\n tf2 = new JLabel(&quot;&quot;);\r\n\r\n   \r\n   add(tf1);\r\n  add(tf2);\r\n\r\n add(button);\r\n \r\n tf1.setBounds(50,400, 200, 20);\r\n   \r\n         \r\n   tf2.setBounds(50, 440, 200, 20);\r\n   \r\n   \r\nbutton.setBounds(0,0,500,400);\r\n  button.addActionListener(this);\r\n  setLayout(null);\r\n  setSize(500, 500);\r\n  setVisible(true);\r\n \r\n \r\n \r\n\r\n}\r\n\r\n\r\n@Override\r\npublic void actionPerformed(ActionEvent a) {\r\nif(a.getSource()==button){  \r\n        totalClicks++;\r\n       \r\n        showClicks();\r\n       \r\n        revalidate();  \r\n        startInt++;\r\n        if(startInt == 1) {\r\n        timer();\r\n        }\r\n       \r\n       }\r\n\r\n}\r\npublic void timer() {\r\n\r\n        final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n\r\n        final Runnable runnable = new Runnable() {\r\n        int countdownStarter = 5;\r\nfinal double divInt = countdownStarter;\r\n            public void run() {\r\n\r\n//                System.out.println(countdownStarter);\r\n\r\n               \r\n               \r\n                countdownStarter--;\r\n\r\n             \r\n               \r\n                if (countdownStarter &lt; 0) {\r\n                    System.out.println(&quot;Times Up!&quot;);\r\n                    scheduler.shutdown();\r\n                    final float finalClicks = (float) (totalClicks/divInt);\r\n                    System.out.println(&quot;Your clicks per second: &quot; + finalClicks);\r\n                    ars = finalClicks;\r\n                   \r\n                    button.setEnabled(false);\r\n                   \r\n                   \r\n         \r\n         \r\n         \r\n           String score = String.valueOf(&quot;Total Clicks: &quot; + totalClicks);\r\n          tf1.setText(score);\r\n         \r\n          String avg = String.valueOf(&quot;Average: &quot; +finalClicks);\r\n        tf2.setText(avg);\r\n\r\n         \r\n           invalidate();\r\n           validate();\r\n           repaint();\r\n                }\r\n            }\r\n        };\r\n       \r\n       \r\n        scheduler.scheduleAtFixedRate(runnable, 0, 1, SECONDS);\r\n    }\r\n\r\npublic void showClicks() {\r\n\r\nSystem.out.println(totalClicks);\r\n\r\n}\r\n\r\n}\r\n\r\n```","title":"JLabel Is not showing up when its supposed to","body":"<p>The code is missing</p>\n<pre><code>String score = String.valueOf(&quot;Total Clicks: &quot; + totalClicks);\ntf1.setText(score);\n</code></pre>\n<p>And</p>\n<pre><code>String avg = String.valueOf(&quot;Average: &quot; +finalClicks);\ntf2.setText(avg);\n</code></pre>\n<p>The final code should be:</p>\n<pre><code>class CPS extends JFrame implements ActionListener{\nJPanel panel;\nJButton button;\nJLabel tf1, tf2;\nboolean running;\nint totalClicks = 0;\nint clicksLeft = 100-totalClicks;\n static float ars;;\nint startInt = 0;\nCPS(){\npanel=new JPanel();\n JFrame d= new JFrame(&quot;Clicks Per Second&quot;);  \n button = new JButton(&quot;Click here for 5 Seconds&quot;);\n\n \n \n\n\n \n tf1 = new JLabel(&quot;&quot;);\n tf2 = new JLabel(&quot;&quot;);\n\n   \n   add(tf1);\n  add(tf2);\n\n add(button);\n \n tf1.setBounds(50,400, 200, 20);\n   \n         \n   tf2.setBounds(50, 440, 200, 20);\n   \n   \nbutton.setBounds(0,0,500,400);\n  button.addActionListener(this);\n  setLayout(null);\n  setSize(500, 500);\n  setVisible(true);\n \n \n \n\n}\n\n\n@Override\npublic void actionPerformed(ActionEvent a) {\nif(a.getSource()==button){  \n        totalClicks++;\n       \n        showClicks();\n       \n        revalidate();  \n        startInt++;\n        if(startInt == 1) {\n        timer();\n        }\n       \n       }\n\n}\npublic void timer() {\n\n        final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n\n        final Runnable runnable = new Runnable() {\n        int countdownStarter = 5;\nfinal double divInt = countdownStarter;\n            public void run() {\n\n//                System.out.println(countdownStarter);\n\n               \n               \n                countdownStarter--;\n\n             \n               \n                if (countdownStarter &lt; 0) {\n                    System.out.println(&quot;Times Up!&quot;);\n                    scheduler.shutdown();\n                    final float finalClicks = (float) (totalClicks/divInt);\n                    System.out.println(&quot;Your clicks per second: &quot; + finalClicks);\n                    ars = finalClicks;\n                   \n                    button.setEnabled(false);\n                   \n                   \n         \n         \n         \n           String score = String.valueOf(&quot;Total Clicks: &quot; + totalClicks);\n          tf1.setText(score);\n         \n          String avg = String.valueOf(&quot;Average: &quot; +finalClicks);\n        tf2.setText(avg);\n\n         \n           invalidate();\n           validate();\n           repaint();\n                }\n            }\n        };\n       \n       \n        scheduler.scheduleAtFixedRate(runnable, 0, 1, SECONDS);\n    }\n\npublic void showClicks() {\n\nSystem.out.println(totalClicks);\n\n}\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":24412522,"reputation":31,"user_id":18339789,"display_name":"Parda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72037121,"answer_count":1,"score":0,"last_activity_date":1655581064,"creation_date":1650649841,"question_id":71972817,"body_markdown":"I have a rough idea why the `JLabel` is not showing up. I cannot figure out how to make it show up, however. Where it says `add(tf1);` it&#39;s not opening in the `JFrame`. \r\n\r\n(`tf1` &amp; `2` are labels &amp; not a text field). The code is a clicks per second. Just something simple I&#39;m working on. (this class is one of many I have, if you need those too just comment.)\r\n\r\n```\r\nclass CPS extends JFrame implements ActionListener{\r\n\t JPanel panel;\r\n\tJButton button;\r\n\tJLabel tf1, tf2;\r\n\tboolean running;\r\n\tint totalClicks = 0;\r\n\tint clicksLeft = 100-totalClicks;\r\n\t  static float ars;;\r\n\tint startInt = 0;\r\n\tCPS(){\r\n\t\t panel=new JPanel();\r\n\t\t  JFrame d= new JFrame(&quot;Clicks Per Second&quot;);  \r\n\t\t  button = new JButton(&quot;Click here for 5 Seconds&quot;);\r\n\r\n\t\t  add(button);\r\n\t\t button.setBounds(0,0,500,400);\r\n\t\t   button.addActionListener(this);\r\n\t\t   setLayout(null);\r\n\t\t   setSize(500, 500);\r\n\t\t   setVisible(true);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent a) {\r\n\t\t if(a.getSource()==button){  \r\n\t         totalClicks++;\r\n\t         \r\n\t         showClicks();\r\n\t        \r\n\t         revalidate();\t  \r\n\t         startInt++;\r\n\t         if(startInt == 1) {\r\n\t        \t timer();\r\n\t         }\r\n\t        }\r\n\t}\r\n\r\n\tpublic void timer() {\r\n        final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n\r\n        final Runnable runnable = new Runnable() {\r\n        int countdownStarter = 5;\r\nfinal double divInt = countdownStarter;\r\n            public void run() {\r\n\r\n//                System.out.println(countdownStarter);\r\n\r\n                countdownStarter--;\r\n\r\n                if (countdownStarter &lt; 0) {\r\n                    System.out.println(&quot;Times Up!&quot;);\r\n                    scheduler.shutdown();\r\n                    final float finalClicks = (float) (totalClicks/divInt);\r\n                    System.out.println(&quot;Your clicks per second: &quot; + finalClicks);\r\n                    ars = finalClicks;\r\n                    \r\n                    button.setEnabled(false);\r\n                    \r\n                    tf1 = new JLabel(&quot;Your Total Clicks: &quot; + totalClicks);\r\n          \t\t  tf1.setBounds(50,410, 200, 20);\r\n          \t\t\r\n          \t\t  tf2 = new JLabel(&quot;Average Clicks/Second: &quot;+ totalClicks/5);\r\n          \t\t  tf2.setBounds(50, 440, 200, 20);\r\n          \t\t  \r\n          \t\t  add(tf1);\r\n         \t\t add(tf2);\r\n         \t\t revalidate();\r\n                }\r\n            }\r\n        };\r\n        scheduler.scheduleAtFixedRate(runnable, 0, 1, SECONDS);\r\n    }\r\n\t\r\n\tpublic void showClicks() {\r\n\t\tSystem.out.println(totalClicks);\r\n\t}\r\n}\r\n```","title":"JLabel Is not showing up when its supposed to","body":"<p>I have a rough idea why the <code>JLabel</code> is not showing up. I cannot figure out how to make it show up, however. Where it says <code>add(tf1);</code> it's not opening in the <code>JFrame</code>.</p>\n<p>(<code>tf1</code> &amp; <code>2</code> are labels &amp; not a text field). The code is a clicks per second. Just something simple I'm working on. (this class is one of many I have, if you need those too just comment.)</p>\n<pre><code>class CPS extends JFrame implements ActionListener{\n     JPanel panel;\n    JButton button;\n    JLabel tf1, tf2;\n    boolean running;\n    int totalClicks = 0;\n    int clicksLeft = 100-totalClicks;\n      static float ars;;\n    int startInt = 0;\n    CPS(){\n         panel=new JPanel();\n          JFrame d= new JFrame(&quot;Clicks Per Second&quot;);  \n          button = new JButton(&quot;Click here for 5 Seconds&quot;);\n\n          add(button);\n         button.setBounds(0,0,500,400);\n           button.addActionListener(this);\n           setLayout(null);\n           setSize(500, 500);\n           setVisible(true);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent a) {\n         if(a.getSource()==button){  \n             totalClicks++;\n             \n             showClicks();\n            \n             revalidate();    \n             startInt++;\n             if(startInt == 1) {\n                 timer();\n             }\n            }\n    }\n\n    public void timer() {\n        final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n\n        final Runnable runnable = new Runnable() {\n        int countdownStarter = 5;\nfinal double divInt = countdownStarter;\n            public void run() {\n\n//                System.out.println(countdownStarter);\n\n                countdownStarter--;\n\n                if (countdownStarter &lt; 0) {\n                    System.out.println(&quot;Times Up!&quot;);\n                    scheduler.shutdown();\n                    final float finalClicks = (float) (totalClicks/divInt);\n                    System.out.println(&quot;Your clicks per second: &quot; + finalClicks);\n                    ars = finalClicks;\n                    \n                    button.setEnabled(false);\n                    \n                    tf1 = new JLabel(&quot;Your Total Clicks: &quot; + totalClicks);\n                  tf1.setBounds(50,410, 200, 20);\n                \n                  tf2 = new JLabel(&quot;Average Clicks/Second: &quot;+ totalClicks/5);\n                  tf2.setBounds(50, 440, 200, 20);\n                  \n                  add(tf1);\n                 add(tf2);\n                 revalidate();\n                }\n            }\n        };\n        scheduler.scheduleAtFixedRate(runnable, 0, 1, SECONDS);\n    }\n    \n    public void showClicks() {\n        System.out.println(totalClicks);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jlabel","jmenu","jmenuitem"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1651191440,"post_id":72051500,"comment_id":127311590,"body_markdown":"I would start by taking a look at [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html)","body":"I would start by taking a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651191962,"creation_date":1651191962,"answer_id":72051568,"question_id":72051500,"body_markdown":"Start by taking a look at [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html)\r\n\r\n    if (e.getSource() == addItem) {\r\n        String input = JOptionPane.showInputDialog(this, &quot;Item description&quot;, &quot;Add item&quot;, JOptionPane.PLAIN_MESSAGE);\r\n        if (input != null) {\r\n            System.out.println(&quot;You have entered &quot; + input);\r\n        }\r\n    }\r\n\r\n\r\nDon&#39;t use `null` layouts, these will come back to haunt you","title":"How can I make a JMenuItem open a JTextField when I click it?","body":"<p>Start by taking a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a></p>\n<pre><code>if (e.getSource() == addItem) {\n    String input = JOptionPane.showInputDialog(this, &quot;Item description&quot;, &quot;Add item&quot;, JOptionPane.PLAIN_MESSAGE);\n    if (input != null) {\n        System.out.println(&quot;You have entered &quot; + input);\n    }\n}\n</code></pre>\n<p>Don't use <code>null</code> layouts, these will come back to haunt you</p>\n"}],"owner":{"account_id":24315830,"reputation":1,"user_id":18257022,"display_name":"smatt03"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655580769,"creation_date":1651191239,"question_id":72051500,"body_markdown":"I am writing code that lets the user enter, search for and remove participants. Right now I have the JFrame that has a JMenu on it with a few JMenuItems. When I ran the program and have the JMenuItems print something, it works fine. But, for example with the addItem JMenuItem, when addItem is clicked, I want it to open up a JTextField. The code I have isn&#39;t working. Can anyone explain why? Or offer a solution where when the JMenuItems are clicked JTextFields will open? Thank you.\r\n\r\n  \r\n    public class MyFrame extends JFrame implements ActionListener{\r\n\t\r\n\tJMenuBar menuBar;\r\n\tJMenu fileMenu;\r\n\tJMenu exitMenu;\r\n\tJMenuItem addItem;\r\n\tJMenuItem searchItem;\r\n\tJMenuItem groupItem;\r\n\tJMenuItem removeItem;\r\n\tJMenuItem exitItem;\r\n\t\r\n\tMyFrame(){\r\n\t\t\r\n\t\tthis.setTitle(&quot;Swim Lessons&quot;);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.setSize(250, 250);\r\n\t\t//this.setSize(1436, 810);\r\n\t\tthis.setLayout(null);\r\n\t\t\r\n\t\tmenuBar = new JMenuBar();\r\n\t\t\r\n\t\tfileMenu = new JMenu(&quot;File&quot;);\r\n\t\texitMenu = new JMenu(&quot;Exit&quot;);\r\n\t\t\r\n\t\taddItem = new JMenuItem(&quot;Add Child&quot;);\r\n\t\tsearchItem = new JMenuItem(&quot;Find Child&quot;);\r\n\t\tgroupItem = new JMenuItem(&quot;Find Group&quot;);\r\n\t\tremoveItem = new JMenuItem(&quot;Remove Child&quot;);\r\n\t\texitItem = new JMenuItem(&quot;Exit&quot;);\r\n\t\t\r\n\t\t\r\n\t\taddItem.addActionListener(this);\r\n\t\tsearchItem.addActionListener(this);\r\n\t\tgroupItem.addActionListener(this);\r\n\t\tremoveItem.addActionListener(this);\r\n\t\texitItem.addActionListener(this);\r\n\t\t\r\n\t\tfileMenu.add(addItem);\r\n\t\tfileMenu.add(searchItem);\r\n\t\tfileMenu.add(groupItem);\r\n\t\tfileMenu.add(removeItem);\r\n\t\texitMenu.add(exitItem);\r\n\t\t\r\n\t\tmenuBar.add(fileMenu);\r\n\t\tmenuBar.add(exitMenu);\r\n\t\t\r\n\t\tthis.setJMenuBar(menuBar);\r\n\t\t\r\n\t\tthis.setVisible(true);\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif(e.getSource() == addItem) {\r\n\t\t\tJTextField name = new JTextField();\r\n\t\t\tname.setPreferredSize(new Dimension(100,100));\r\n\t\t\tthis.add(name);\r\n\t\t\tthis.setVisible(true);\r\n\t\t}\r\n\t\tif(e.getSource() == searchItem) {\r\n\t\t\tSystem.out.print(&quot;pee &quot;);\r\n\t\t}\r\n\t\tif(e.getSource() == groupItem) {\r\n\t\t\tSystem.out.print(&quot;beep &quot;);\r\n\t\t}\r\n\t\tif(e.getSource() == removeItem) {\r\n\t\t\tSystem.out.print(&quot;boop &quot;);\r\n\t\t}\r\n\t\tif(e.getSource() == exitItem) {\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t}\r\n    }\r\nSide note: I do have all my imports and the class header. This site just isn&#39;t letting me add them to the code section for some reason.","title":"How can I make a JMenuItem open a JTextField when I click it?","body":"<p>I am writing code that lets the user enter, search for and remove participants. Right now I have the JFrame that has a JMenu on it with a few JMenuItems. When I ran the program and have the JMenuItems print something, it works fine. But, for example with the addItem JMenuItem, when addItem is clicked, I want it to open up a JTextField. The code I have isn't working. Can anyone explain why? Or offer a solution where when the JMenuItems are clicked JTextFields will open? Thank you.</p>\n<pre><code>public class MyFrame extends JFrame implements ActionListener{\n\nJMenuBar menuBar;\nJMenu fileMenu;\nJMenu exitMenu;\nJMenuItem addItem;\nJMenuItem searchItem;\nJMenuItem groupItem;\nJMenuItem removeItem;\nJMenuItem exitItem;\n\nMyFrame(){\n    \n    this.setTitle(&quot;Swim Lessons&quot;);\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.setSize(250, 250);\n    //this.setSize(1436, 810);\n    this.setLayout(null);\n    \n    menuBar = new JMenuBar();\n    \n    fileMenu = new JMenu(&quot;File&quot;);\n    exitMenu = new JMenu(&quot;Exit&quot;);\n    \n    addItem = new JMenuItem(&quot;Add Child&quot;);\n    searchItem = new JMenuItem(&quot;Find Child&quot;);\n    groupItem = new JMenuItem(&quot;Find Group&quot;);\n    removeItem = new JMenuItem(&quot;Remove Child&quot;);\n    exitItem = new JMenuItem(&quot;Exit&quot;);\n    \n    \n    addItem.addActionListener(this);\n    searchItem.addActionListener(this);\n    groupItem.addActionListener(this);\n    removeItem.addActionListener(this);\n    exitItem.addActionListener(this);\n    \n    fileMenu.add(addItem);\n    fileMenu.add(searchItem);\n    fileMenu.add(groupItem);\n    fileMenu.add(removeItem);\n    exitMenu.add(exitItem);\n    \n    menuBar.add(fileMenu);\n    menuBar.add(exitMenu);\n    \n    this.setJMenuBar(menuBar);\n    \n    this.setVisible(true);\n    \n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    if(e.getSource() == addItem) {\n        JTextField name = new JTextField();\n        name.setPreferredSize(new Dimension(100,100));\n        this.add(name);\n        this.setVisible(true);\n    }\n    if(e.getSource() == searchItem) {\n        System.out.print(&quot;pee &quot;);\n    }\n    if(e.getSource() == groupItem) {\n        System.out.print(&quot;beep &quot;);\n    }\n    if(e.getSource() == removeItem) {\n        System.out.print(&quot;boop &quot;);\n    }\n    if(e.getSource() == exitItem) {\n        System.exit(0);\n    }\n}\n}\n</code></pre>\n<p>Side note: I do have all my imports and the class header. This site just isn't letting me add them to the code section for some reason.</p>\n"},{"tags":["java","android","android-studio","bluetooth","sensors"],"answers":[{"tags":[],"owner":{"account_id":6421339,"reputation":390,"user_id":4977999,"accept_rate":100,"display_name":"apeman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655580015,"creation_date":1655580015,"answer_id":72672118,"question_id":71669993,"body_markdown":"Just a guess but if you&#39;ve already paired the sensors to your tablet then they&#39;re connecting direct to the tablet before the Metawear app can connect to them. You shouldn&#39;t pair or connect them to the tablet first. The app will scan for them and connect them for you.","title":"Connecting MetaWear sensor to MbientLab MetaBase App","body":"<p>Just a guess but if you've already paired the sensors to your tablet then they're connecting direct to the tablet before the Metawear app can connect to them. You shouldn't pair or connect them to the tablet first. The app will scan for them and connect them for you.</p>\n"}],"owner":{"account_id":24739173,"reputation":1,"user_id":18626138,"display_name":"Haja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655580015,"creation_date":1648597611,"question_id":71669993,"body_markdown":"I installed the MetaBase app by MbientLab, so that I may read sensor data in real-time and establish controls. When I build the app to a tablet, I am having the issue of connecting my sensors via Bluetooth.\r\n\r\nWhen it says &quot;Place your MetaSensor here&quot; on the initial loading screen, nothing shows up when I do so with said sensor. \r\n\r\nThe github I pulled the app from: https://github.com/mbientlab/MetaWear-Android-MetaBase-App\r\n\r\nI have charged all the sensors, and made sure they are paired to the tablet beforehand. I am expecting the connection setup to continue once I bring the sensor into range of the tablet, but this is not happening.\r\n\r\nThanks in advance.","title":"Connecting MetaWear sensor to MbientLab MetaBase App","body":"<p>I installed the MetaBase app by MbientLab, so that I may read sensor data in real-time and establish controls. When I build the app to a tablet, I am having the issue of connecting my sensors via Bluetooth.</p>\n<p>When it says &quot;Place your MetaSensor here&quot; on the initial loading screen, nothing shows up when I do so with said sensor.</p>\n<p>The github I pulled the app from: <a href=\"https://github.com/mbientlab/MetaWear-Android-MetaBase-App\" rel=\"nofollow noreferrer\">https://github.com/mbientlab/MetaWear-Android-MetaBase-App</a></p>\n<p>I have charged all the sensors, and made sure they are paired to the tablet beforehand. I am expecting the connection setup to continue once I bring the sensor into range of the tablet, but this is not happening.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"score":0,"creation_date":1655373642,"post_id":72643990,"comment_id":128319441,"body_markdown":"Tags doesnt look correct. Is this java  ?","body":"Tags doesnt look correct. Is this java  ?"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":2,"creation_date":1655373696,"post_id":72643990,"comment_id":128319460,"body_markdown":"@AbhishekSingh Why would it not be Java","body":"@AbhishekSingh Why would it not be Java"},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1655375035,"post_id":72643990,"comment_id":128319884,"body_markdown":"This seems like an XY-problem, not to mention that Map of yours, a most unnecessary construct. Please tell us what you actually need.","body":"This seems like an XY-problem, not to mention that Map of yours, a most unnecessary construct. Please tell us what you actually need."}],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655377083,"creation_date":1655374565,"answer_id":72644224,"question_id":72643990,"body_markdown":"You can:\r\n 1. sort in descending mode by size\r\n 2. select the first three elements\r\n 3. reduce to one string\r\n```java\r\n//1\r\nList&lt;Map.Entry&lt;String, List&lt;String&gt;&gt;&gt; entryList = lastByFirst.entrySet()\r\n        .stream()\r\n        .sorted((e2, e1) -&gt; Integer.compare(e1.getValue().size(), e2.getValue().size()))\r\n        .toList();\r\n//2\r\nString result = IntStream.range(0, 3)\r\n        .mapToObj(entryList::get)\r\n        .map(e -&gt; String.format(&quot;%s: %d\\n&quot;, e.getKey(), e.getValue().size()))\r\n        .collect(Collectors.joining()); //3\r\n```","title":"Get the 3 max value in a Map","body":"<p>You can:</p>\n<ol>\n<li>sort in descending mode by size</li>\n<li>select the first three elements</li>\n<li>reduce to one string</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>//1\nList&lt;Map.Entry&lt;String, List&lt;String&gt;&gt;&gt; entryList = lastByFirst.entrySet()\n        .stream()\n        .sorted((e2, e1) -&gt; Integer.compare(e1.getValue().size(), e2.getValue().size()))\n        .toList();\n//2\nString result = IntStream.range(0, 3)\n        .mapToObj(entryList::get)\n        .map(e -&gt; String.format(&quot;%s: %d\\n&quot;, e.getKey(), e.getValue().size()))\n        .collect(Collectors.joining()); //3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655375827,"creation_date":1655375827,"answer_id":72644481,"question_id":72643990,"body_markdown":"Here&#39;s one that first converts the map of lists to a map of the sizes of the list, and then picks the top three such sizes:\r\n\r\n```java\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Demo {\r\n    public static void main(String[] args) {\r\n        Map&lt;String, List&lt;String&gt;&gt; lastByFirst =\r\n            Map.of(&quot;Peter&quot;, List.of(&quot;Leigh&quot;), &quot;George&quot;, List.of(&quot;Barron&quot;, &quot;Trickett&quot;, &quot;Evans&quot;),\r\n                   &quot;Paul-Courtenay&quot;, List.of(&quot;Hyu&quot;), &quot;Ryan&quot;, List.of(&quot;Smith&quot;),\r\n                   &quot;Toby&quot;, List.of(&quot;Geller&quot;, &quot;Williams&quot;), &quot;Simon&quot;, List.of(&quot;Bush&quot;, &quot;Milosic&quot;, &quot;Quaterman&quot;, &quot;Brown&quot;));\r\n        List&lt;Map.Entry&lt;String, Integer&gt;&gt; topThree =\r\n            lastByFirst.entrySet().stream()\r\n            .collect(Collectors.toUnmodifiableMap(Map.Entry::getKey, e -&gt; e.getValue().size()))\r\n            .entrySet()\r\n            .stream()\r\n            .sorted(Comparator.&lt;Map.Entry&lt;String, Integer&gt;, Integer&gt;comparing(Map.Entry::getValue).reversed())\r\n            .limit(3)\r\n            .collect(Collectors.toList());\r\n        System.out.println(topThree);\r\n    }\r\n}\r\n```","title":"Get the 3 max value in a Map","body":"<p>Here's one that first converts the map of lists to a map of the sizes of the list, and then picks the top three such sizes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Comparator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class Demo {\n    public static void main(String[] args) {\n        Map&lt;String, List&lt;String&gt;&gt; lastByFirst =\n            Map.of(&quot;Peter&quot;, List.of(&quot;Leigh&quot;), &quot;George&quot;, List.of(&quot;Barron&quot;, &quot;Trickett&quot;, &quot;Evans&quot;),\n                   &quot;Paul-Courtenay&quot;, List.of(&quot;Hyu&quot;), &quot;Ryan&quot;, List.of(&quot;Smith&quot;),\n                   &quot;Toby&quot;, List.of(&quot;Geller&quot;, &quot;Williams&quot;), &quot;Simon&quot;, List.of(&quot;Bush&quot;, &quot;Milosic&quot;, &quot;Quaterman&quot;, &quot;Brown&quot;));\n        List&lt;Map.Entry&lt;String, Integer&gt;&gt; topThree =\n            lastByFirst.entrySet().stream()\n            .collect(Collectors.toUnmodifiableMap(Map.Entry::getKey, e -&gt; e.getValue().size()))\n            .entrySet()\n            .stream()\n            .sorted(Comparator.&lt;Map.Entry&lt;String, Integer&gt;, Integer&gt;comparing(Map.Entry::getValue).reversed())\n            .limit(3)\n            .collect(Collectors.toList());\n        System.out.println(topThree);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655380503,"creation_date":1655377834,"answer_id":72644883,"question_id":72643990,"body_markdown":"If you already have a map of people grouped by *first name*, you can address the problem of finding the `3` most frequent *first names* in a linear time **O(n)**. Which is faster than sorting the whole data set.\r\n\r\nIf instead of picking `3` most frequent *first names* it would be generalized to `m` most frequent, then the time complexity would be **O(n + m * log m)** (*which for small values of `m` would be close to linear time*).\r\n\r\nTo implement it using streams, we can utilize a *custom comparator*, which can be created using the static method [`Collector.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)).\r\n\r\nAs a *mutable container* of the collector, we can use a `TreeMap` sorted in the *natural order*, where the *key* would represent the of people having the same first name and the *value* would be a first name itself. \r\n\r\nIn order to retain only `m` most frequent names we need to track the size of the `TreeMap` and when it gets exceeded we have to remove the *first entry* (i.e. an entry having the *lowest key*).\r\n\r\n    public static &lt;K, V&gt; Collector&lt;Map.Entry&lt;K, List&lt;V&gt;&gt;, ?, NavigableMap&lt;Integer, K&gt;&gt;\r\n                                                            getEntryCollector(int size) {\r\n        return Collector.of(\r\n            TreeMap::new,\r\n            (NavigableMap&lt;Integer, K&gt; map, Map.Entry&lt;K, List&lt;V&gt;&gt; entry) -&gt; {\r\n                if (map.size() &lt; size || map.firstKey() &lt; entry.getValue().size()) {  // the container hasn&#39;t reached the maximum size of the frequency of the offered name is higher than the lowest existing frequency\r\n                    map.put(entry.getValue().size(), entry.getKey());\r\n                }\r\n                if (map.size() &gt; size) map.remove(map.firstKey()); // the size of the container has been exceeded\r\n            },\r\n            (NavigableMap&lt;Integer, K&gt; left, NavigableMap&lt;Integer, K&gt; right) -&gt; { // merging the two containers with partial results obtained during the parallel execution\r\n                left.putAll(right);\r\n                while (left.size() &gt; size) left.remove(left.firstKey());\r\n                return left;\r\n            }\r\n        );\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String args[]) {\r\n    \r\n        Map&lt;String, List&lt;String&gt;&gt; lastByFirst =\r\n        Map.of(&quot;Peter&quot;, List.of(&quot;Leigh&quot;), &quot;George&quot;, List.of(&quot;Barron&quot;, &quot;Trickett&quot;, &quot;Evans&quot;),\r\n        &quot;Paul-Courtenay&quot;, List.of(&quot;Hyu&quot;), &quot;Ryan&quot;, List.of(&quot;Smith&quot;), &quot;Toby&quot;, List.of(&quot;Geller&quot;, &quot;Williams&quot;),\r\n        &quot;Simon&quot;, List.of(&quot;Bush&quot;, &quot;Milosic&quot;, &quot;Quarterman&quot;, &quot;Brown&quot;));\r\n    \r\n        NavigableMap&lt;Integer, String&gt; nameByFrequency =\r\n            lastByFirst.entrySet().stream()\r\n                .collect(getEntryCollector(3));\r\n        \r\n        nameByFrequency.entrySet().stream() // printing the result, sorting in reversed order applied only for demo purposes\r\n            .sorted(Map.Entry.comparingByKey(Comparator.&lt;Integer&gt;naturalOrder().reversed()))\r\n            .forEach(entry -&gt; System.out.println(entry.getValue() + &quot;: &quot; + entry.getKey()));\r\n    }\r\n\r\n*Output:*\r\n```\r\nSimon: 4\r\nGeorge: 3\r\nToby: 2\r\n```\r\n[*A link Online Demo*](https://www.jdoodle.com/ia/sfz)","title":"Get the 3 max value in a Map","body":"<p>If you already have a map of people grouped by <em>first name</em>, you can address the problem of finding the <code>3</code> most frequent <em>first names</em> in a linear time <strong>O(n)</strong>. Which is faster than sorting the whole data set.</p>\n<p>If instead of picking <code>3</code> most frequent <em>first names</em> it would be generalized to <code>m</code> most frequent, then the time complexity would be <strong>O(n + m * log m)</strong> (<em>which for small values of <code>m</code> would be close to linear time</em>).</p>\n<p>To implement it using streams, we can utilize a <em>custom comparator</em>, which can be created using the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a>.</p>\n<p>As a <em>mutable container</em> of the collector, we can use a <code>TreeMap</code> sorted in the <em>natural order</em>, where the <em>key</em> would represent the of people having the same first name and the <em>value</em> would be a first name itself.</p>\n<p>In order to retain only <code>m</code> most frequent names we need to track the size of the <code>TreeMap</code> and when it gets exceeded we have to remove the <em>first entry</em> (i.e. an entry having the <em>lowest key</em>).</p>\n<pre><code>public static &lt;K, V&gt; Collector&lt;Map.Entry&lt;K, List&lt;V&gt;&gt;, ?, NavigableMap&lt;Integer, K&gt;&gt;\n                                                        getEntryCollector(int size) {\n    return Collector.of(\n        TreeMap::new,\n        (NavigableMap&lt;Integer, K&gt; map, Map.Entry&lt;K, List&lt;V&gt;&gt; entry) -&gt; {\n            if (map.size() &lt; size || map.firstKey() &lt; entry.getValue().size()) {  // the container hasn't reached the maximum size of the frequency of the offered name is higher than the lowest existing frequency\n                map.put(entry.getValue().size(), entry.getKey());\n            }\n            if (map.size() &gt; size) map.remove(map.firstKey()); // the size of the container has been exceeded\n        },\n        (NavigableMap&lt;Integer, K&gt; left, NavigableMap&lt;Integer, K&gt; right) -&gt; { // merging the two containers with partial results obtained during the parallel execution\n            left.putAll(right);\n            while (left.size() &gt; size) left.remove(left.firstKey());\n            return left;\n        }\n    );\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String args[]) {\n\n    Map&lt;String, List&lt;String&gt;&gt; lastByFirst =\n    Map.of(&quot;Peter&quot;, List.of(&quot;Leigh&quot;), &quot;George&quot;, List.of(&quot;Barron&quot;, &quot;Trickett&quot;, &quot;Evans&quot;),\n    &quot;Paul-Courtenay&quot;, List.of(&quot;Hyu&quot;), &quot;Ryan&quot;, List.of(&quot;Smith&quot;), &quot;Toby&quot;, List.of(&quot;Geller&quot;, &quot;Williams&quot;),\n    &quot;Simon&quot;, List.of(&quot;Bush&quot;, &quot;Milosic&quot;, &quot;Quarterman&quot;, &quot;Brown&quot;));\n\n    NavigableMap&lt;Integer, String&gt; nameByFrequency =\n        lastByFirst.entrySet().stream()\n            .collect(getEntryCollector(3));\n    \n    nameByFrequency.entrySet().stream() // printing the result, sorting in reversed order applied only for demo purposes\n        .sorted(Map.Entry.comparingByKey(Comparator.&lt;Integer&gt;naturalOrder().reversed()))\n        .forEach(entry -&gt; System.out.println(entry.getValue() + &quot;: &quot; + entry.getKey()));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Simon: 4\nGeorge: 3\nToby: 2\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/sfz\" rel=\"nofollow noreferrer\"><em>A link Online Demo</em></a></p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655579611,"creation_date":1655579611,"answer_id":72672061,"question_id":72643990,"body_markdown":"Here is another solution by [StreamEx][1]:\r\n\r\n    EntryStream.of(lastByFirst)\r\n            .mapValues(List::size) //\r\n            .reverseSorted(Comparators.comparingByValue())\r\n            .limit(3)\r\n            .toList()\r\n            .forEach(System.out::println);\r\n\r\n\r\n  [1]: https://github.com/amaembo/streamex","title":"Get the 3 max value in a Map","body":"<p>Here is another solution by <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a>:</p>\n<pre><code>EntryStream.of(lastByFirst)\n        .mapValues(List::size) //\n        .reverseSorted(Comparators.comparingByValue())\n        .limit(3)\n        .toList()\n        .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":22311851,"reputation":23,"user_id":16535731,"display_name":"Viktor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72644481,"answer_count":4,"score":-1,"last_activity_date":1655579611,"creation_date":1655373501,"question_id":72643990,"body_markdown":"I&#39;m storing information of the `lastByFirst` variable.  \r\n```\r\n{Peter=[Leigh], George=[Barron, Trickett,Evans], \r\n Paul-Courtenay=[Hyu], Ryan=[Smith], Toby=[Geller, Williams], \r\n Simon=[Bush, Milosic, Quarterman,Brown]}\r\n```\r\nHow can I print the first `3` which appeared the most and also the number of appereance.  \r\n\r\n I would like to list those which 3 value appeared the most. In the `lastByFirst` contains something like that. I would like to print in this way:  \r\n\r\n    Simon: 4  \r\n    George: 3  \r\n    Toby:2\r\n\r\n\r\n&lt;!-- --&gt;\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; lastByFirst = PeopleProcessor.lastnamesByFirstname(PeopleSetup.people);\r\n\r\nMy attempt was something like that:  \r\n```\r\nvar store = lastByFirst.entrySet()\r\n    .stream()\r\n    .collect( Collectors.groupingBy(Person::getLastName,\r\n                Collectors.counting())\r\n    .toString();\r\n```\r\n`store` should be equal with\r\n```   \r\nSimon: 4  \r\nGeorge: 3  \r\nToby:2\r\n```","title":"Get the 3 max value in a Map","body":"<p>I'm storing information of the <code>lastByFirst</code> variable.</p>\n<pre><code>{Peter=[Leigh], George=[Barron, Trickett,Evans], \n Paul-Courtenay=[Hyu], Ryan=[Smith], Toby=[Geller, Williams], \n Simon=[Bush, Milosic, Quarterman,Brown]}\n</code></pre>\n<p>How can I print the first <code>3</code> which appeared the most and also the number of appereance.</p>\n<p>I would like to list those which 3 value appeared the most. In the <code>lastByFirst</code> contains something like that. I would like to print in this way:</p>\n<pre><code>Simon: 4  \nGeorge: 3  \nToby:2\n</code></pre>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; lastByFirst = PeopleProcessor.lastnamesByFirstname(PeopleSetup.people);\n</code></pre>\n<p>My attempt was something like that:</p>\n<pre><code>var store = lastByFirst.entrySet()\n    .stream()\n    .collect( Collectors.groupingBy(Person::getLastName,\n                Collectors.counting())\n    .toString();\n</code></pre>\n<p><code>store</code> should be equal with</p>\n<pre><code>Simon: 4  \nGeorge: 3  \nToby:2\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1638302216,"post_id":70175264,"comment_id":124051316,"body_markdown":"You could try to debug and see what `InternetAddress.parse(email, false)` is returning. Also what value has your `email` variable?","body":"You could try to debug and see what <code>InternetAddress.parse(email, false)</code> is returning. Also what value has your <code>email</code> variable?"}],"answers":[{"tags":[],"owner":{"account_id":13848741,"reputation":10825,"user_id":9997212,"display_name":"enzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638302362,"creation_date":1638302362,"answer_id":70175326,"question_id":70175264,"body_markdown":"Looking at the [docs](https://docs.oracle.com/javaee/6/api/javax/mail/internet/InternetAddress.html), it should be [`new InternetAddress(String, boolean)`](https://docs.oracle.com/javaee/6/api/javax/mail/internet/InternetAddress.html#InternetAddress(java.lang.String,%20boolean)), which\r\n\r\n&gt; Parse[s] the given string and create[s] an InternetAddress.\r\n\r\n instead of [`InternetAddress.parse(String, boolean)`](https://docs.oracle.com/javaee/6/api/javax/mail/internet/InternetAddress.html#parse(java.lang.String,%20boolean)), which\r\n\r\n&gt; Parse[s] the given sequence of addresses into InternetAddress objects.","title":"parsing email in java returns no entry","body":"<p>Looking at the <a href=\"https://docs.oracle.com/javaee/6/api/javax/mail/internet/InternetAddress.html\" rel=\"nofollow noreferrer\">docs</a>, it should be <a href=\"https://docs.oracle.com/javaee/6/api/javax/mail/internet/InternetAddress.html#InternetAddress(java.lang.String,%20boolean)\" rel=\"nofollow noreferrer\"><code>new InternetAddress(String, boolean)</code></a>, which</p>\n<blockquote>\n<p>Parse[s] the given string and create[s] an InternetAddress.</p>\n</blockquote>\n<p>instead of <a href=\"https://docs.oracle.com/javaee/6/api/javax/mail/internet/InternetAddress.html#parse(java.lang.String,%20boolean)\" rel=\"nofollow noreferrer\"><code>InternetAddress.parse(String, boolean)</code></a>, which</p>\n<blockquote>\n<p>Parse[s] the given sequence of addresses into InternetAddress objects.</p>\n</blockquote>\n"}],"owner":{"account_id":2218985,"reputation":1540,"user_id":1958929,"accept_rate":75,"display_name":"derstauner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70175326,"answer_count":1,"score":0,"last_activity_date":1655579414,"creation_date":1638302019,"question_id":70175264,"body_markdown":"currently I&#39;m creating an email service for my hobby project for newly signed up users. This is the relevant part of the code, which causes me some headache:\r\n\r\n```\r\nprivate Message createEmail(String firstName, String password, String email) throws MessagingException {\r\n    Message message = new MimeMessage(getEmailSession());\r\n    message.setFrom(new InternetAddress(FROM_EMAIL));\r\n    message.setRecipient(Message.RecipientType.TO, InternetAddress.parse(email, false)[0]);\r\n    message.setRecipient(Message.RecipientType.CC, InternetAddress.parse(CC_EMAIL, false)[0]);\r\n    message.setSubject(EMAIL_SUBJECT);\r\n    message.setText(&quot;Hello &quot; + firstName + &quot;, \\n \\n Your new account password is: &quot; + password + &quot;\\n \\n &quot; +\r\n            &quot;The support team&quot;);\r\n    message.setSentDate(new Date());\r\n    message.saveChanges();\r\n\r\n    return message;\r\n}\r\n```\r\n\r\nI have two problems with this line `message.setRecipient(Message.RecipientType.TO, InternetAddress.parse(email, false)[0]);` (and of course the same problem with the next line below it):\r\n\r\n1. On the internet, if I google after it, everywhere it is used like this:\r\n\r\n`message.setRecipient(Message.RecipientType.TO, InternetAddress.parse(email, false);`\r\n\r\nso, without the indexing. But if I remove the indexing, I get an IDE error, which says, that the function requires a type of `Address`, but it has got `InternetAddress[]`, an array. That&#39;s why I put the indexing.\r\n\r\n2. But if I leave the indexing and run the app and register a new user, I get the error in the console: `Index 0 out of bounds for length 0`. Obviously, the `InternetAddress[]` array is empty. But why?\r\n\r\nWhat exactly is going on here?\r\n","title":"parsing email in java returns no entry","body":"<p>currently I'm creating an email service for my hobby project for newly signed up users. This is the relevant part of the code, which causes me some headache:</p>\n<pre><code>private Message createEmail(String firstName, String password, String email) throws MessagingException {\n    Message message = new MimeMessage(getEmailSession());\n    message.setFrom(new InternetAddress(FROM_EMAIL));\n    message.setRecipient(Message.RecipientType.TO, InternetAddress.parse(email, false)[0]);\n    message.setRecipient(Message.RecipientType.CC, InternetAddress.parse(CC_EMAIL, false)[0]);\n    message.setSubject(EMAIL_SUBJECT);\n    message.setText(&quot;Hello &quot; + firstName + &quot;, \\n \\n Your new account password is: &quot; + password + &quot;\\n \\n &quot; +\n            &quot;The support team&quot;);\n    message.setSentDate(new Date());\n    message.saveChanges();\n\n    return message;\n}\n</code></pre>\n<p>I have two problems with this line <code>message.setRecipient(Message.RecipientType.TO, InternetAddress.parse(email, false)[0]);</code> (and of course the same problem with the next line below it):</p>\n<ol>\n<li>On the internet, if I google after it, everywhere it is used like this:</li>\n</ol>\n<p><code>message.setRecipient(Message.RecipientType.TO, InternetAddress.parse(email, false);</code></p>\n<p>so, without the indexing. But if I remove the indexing, I get an IDE error, which says, that the function requires a type of <code>Address</code>, but it has got <code>InternetAddress[]</code>, an array. That's why I put the indexing.</p>\n<ol start=\"2\">\n<li>But if I leave the indexing and run the app and register a new user, I get the error in the console: <code>Index 0 out of bounds for length 0</code>. Obviously, the <code>InternetAddress[]</code> array is empty. But why?</li>\n</ol>\n<p>What exactly is going on here?</p>\n"},{"tags":["java","menu","switch-statement","case","user-input"],"comments":[{"owner":{"account_id":15736659,"reputation":442,"user_id":11355399,"display_name":"Huhngut"},"score":1,"creation_date":1638303308,"post_id":70175291,"comment_id":124051722,"body_markdown":"You have a problem with your var types. choice is an integer but you compare it to chars in the switch case. change &#39;1&#39; to 1 &#39;2&#39; to 2 after every case. You got it?","body":"You have a problem with your var types. choice is an integer but you compare it to chars in the switch case. change &#39;1&#39; to 1 &#39;2&#39; to 2 after every case. You got it?"},{"owner":{"account_id":10322572,"reputation":1,"user_id":17117879,"display_name":"user419524"},"score":0,"creation_date":1638373384,"post_id":70175291,"comment_id":124071696,"body_markdown":"So youre saying rename my cases then? (Case 1 to 2, case 2 to 3, etc)","body":"So youre saying rename my cases then? (Case 1 to 2, case 2 to 3, etc)"},{"owner":{"account_id":15736659,"reputation":442,"user_id":11355399,"display_name":"Huhngut"},"score":0,"creation_date":1638455246,"post_id":70175291,"comment_id":124096900,"body_markdown":"You have something like case 1: change it to case 1: use numbers after case not string/char","body":"You have something like case 1: change it to case 1: use numbers after case not string/char"},{"owner":{"account_id":10322572,"reputation":1,"user_id":17117879,"display_name":"user419524"},"score":0,"creation_date":1638458617,"post_id":70175291,"comment_id":124098549,"body_markdown":"Okay, I understand now! Now, when I select 2 to deposit and type a number to deposit, it states &quot;Choose an option&quot; instead of Deposited: $500&quot;. What would this be from?","body":"Okay, I understand now! Now, when I select 2 to deposit and type a number to deposit, it states &quot;Choose an option&quot; instead of Deposited: $500&quot;. What would this be from?"},{"owner":{"account_id":10322572,"reputation":1,"user_id":17117879,"display_name":"user419524"},"score":0,"creation_date":1638458631,"post_id":70175291,"comment_id":124098557,"body_markdown":"Thanks for getting back to me!","body":"Thanks for getting back to me!"},{"owner":{"account_id":15736659,"reputation":442,"user_id":11355399,"display_name":"Huhngut"},"score":0,"creation_date":1638468144,"post_id":70175291,"comment_id":124102692,"body_markdown":"Well you have a loop that says unless someone types a 0 ask them for their option. As you type 2, its not 0 so it will repeat. You forgot to call the getPrevioustransaction() method in your loop. I think you want it right before System.out.println(&quot;Choose an option.&quot;); and after do{. One last note to naming conventions. You have a method called Menu. Methods should be lowerCamelCase so it should start with a lowercase letter. Same rule applies to variable names. Balance should be balance. Previoustransaction should be previousTransaction.","body":"Well you have a loop that says unless someone types a 0 ask them for their option. As you type 2, its not 0 so it will repeat. You forgot to call the getPrevioustransaction() method in your loop. I think you want it right before System.out.println(&quot;Choose an option.&quot;); and after do{. One last note to naming conventions. You have a method called Menu. Methods should be lowerCamelCase so it should start with a lowercase letter. Same rule applies to variable names. Balance should be balance. Previoustransaction should be previousTransaction."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655579279,"creation_date":1655579279,"answer_id":72672011,"question_id":70175291,"body_markdown":"The reason your program isn&#39;t working as you expect is that:\r\n* you are prompting for user input\r\n* capturing that input as a numeric value; specifically, primitive data type `int`\r\n* comparing that `int` input against various _character_ values  that is, values of primitive data type `ch` (such as `&#39;1&#39;`)\r\n\r\nHere&#39;s a paired down version of what you&#39;re doing:\r\n```\r\nScanner scanner = new Scanner(System.in);\r\nint choice = scanner.nextInt();\r\nswitch (choice) {\r\n    case &#39;1&#39;:\r\n        System.out.println(&quot;match&quot;);\r\n        break;\r\n    default:\r\n        System.out.println(&quot;some other input found: &quot; + choice);\r\n}\r\n```\r\n\r\nHere&#39;s that same block, but instead of `case &#39;1&#39;` (which matches on a single character value), I changed it to `case 1` (which matches on an integer value):\r\n```\r\nScanner scanner = new Scanner(System.in);\r\nint choice = scanner.nextInt();\r\nswitch (choice) {\r\n    case 1: // &lt;-- this is the only edit, use 1 instead of &#39;1&#39;\r\n        System.out.println(&quot;match&quot;);\r\n        break;\r\n    default:\r\n        System.out.println(&quot;some other input found: &quot; + choice);\r\n}\r\n```\r\nSo, to fix your program, change your various `case` statements to use integer values, not characters.","title":"Basic Menu with Cases","body":"<p>The reason your program isn't working as you expect is that:</p>\n<ul>\n<li>you are prompting for user input</li>\n<li>capturing that input as a numeric value; specifically, primitive data type <code>int</code></li>\n<li>comparing that <code>int</code> input against various <em>character</em> values  that is, values of primitive data type <code>ch</code> (such as <code>'1'</code>)</li>\n</ul>\n<p>Here's a paired down version of what you're doing:</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nint choice = scanner.nextInt();\nswitch (choice) {\n    case '1':\n        System.out.println(&quot;match&quot;);\n        break;\n    default:\n        System.out.println(&quot;some other input found: &quot; + choice);\n}\n</code></pre>\n<p>Here's that same block, but instead of <code>case '1'</code> (which matches on a single character value), I changed it to <code>case 1</code> (which matches on an integer value):</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nint choice = scanner.nextInt();\nswitch (choice) {\n    case 1: // &lt;-- this is the only edit, use 1 instead of '1'\n        System.out.println(&quot;match&quot;);\n        break;\n    default:\n        System.out.println(&quot;some other input found: &quot; + choice);\n}\n</code></pre>\n<p>So, to fix your program, change your various <code>case</code> statements to use integer values, not characters.</p>\n"}],"owner":{"account_id":10322572,"reputation":1,"user_id":17117879,"display_name":"user419524"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655579279,"creation_date":1638302169,"question_id":70175291,"body_markdown":"I am creating a basic banking app that tracks a user&#39;s bank account activities, and I cannot seem to figure out why when I run my code that it is simply running what I have set for the &quot;default&quot; case; so even when I press 1,2,3, or 4, the console states, &quot;Error -- Please choose a valid option.&quot; \r\n\r\nThanks in advance!\r\n\r\n    package Account;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Account extends Bank {\r\n\t int Balance;\r\n\t int Previoustransaction;\r\n\t int amount;\r\n\t int amount2;\r\n\t String Name;\r\n\t String ID;\r\n\t\r\n\t Account(String Name,String ID){\r\n\t\t\r\n\t }\r\n\t void deposit(int amount) {\r\n\t \tif (amount != 0) {\r\n\t  \t\tBalance+=amount;\r\n\t \t\tPrevioustransaction=amount;\r\n\t\t }\r\n\t   }\r\n\t   void withdraw(int amount) {\r\n\t\t if(amount!=0) {\r\n\t\t\tBalance-=amount;\r\n\t\t\tPrevioustransaction = -amount;\r\n\t\t } \r\n\t\t\t}\r\n\t   void getPrevioustransaction() {\r\n\t\t  if(Previoustransaction &gt; 0) {\r\n\t\t\tSystem.out.println(&quot;Deposited:&quot; + Previoustransaction);\r\n\t\t }\r\n\t\t else if(Previoustransaction&lt;0) {\r\n\t\t\tSystem.out.println(&quot;Withdrawn:&quot; + Math.abs(Previoustransaction));\r\n\t\t }  else {\r\n\t\t\tSystem.out.println(&quot;No transaction occurred.&quot;);\t\t\r\n\t\t }\r\n\t    }\r\n\t\t  void Menu() {\r\n\t\t\tint choice = 0;\r\n\t\t Scanner scan = new Scanner(System.in);\r\n\t\t System.out.println(&quot;Welcome,&quot; + Name + &quot;.&quot;);\r\n\t\t System.out.println(&quot;Your account number is&quot; + ID);\r\n\t\t System.out.println(&quot;What would you like to do?&quot;);\r\n\t\t System.out.println(&quot;1.Check balance.&quot;);\r\n\t\t System.out.println(&quot;2. Make a deposit.&quot;);\r\n\t\t System.out.println(&quot;3. Make a withrawl.&quot;);\r\n\t\t System.out.println(&quot;4. Show last transaction.&quot;);\r\n\t\t System.out.println(&quot;0. Exit.&quot;);\r\n\t\t\r\n\t\t do {\r\n\t\t\t System.out.println(&quot;Choose an option.&quot;);\r\n\t\t\t choice = scan.nextInt();\r\n\t\t\t System.out.println();\r\n\t\t\t\r\n\t\t\t switch(choice) {\r\n\t\t\t\r\n\t\t\t case&#39;1&#39;:\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Balance = $&quot; + Balance);\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t case&#39;2&#39;:\r\n\t\t\t\tSystem.out.println(&quot;Enter an amount to deposit.&quot;);\r\n\t\t\t\tint amount = scan.nextInt();\r\n\t\t\t\tdeposit (amount);\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase&#39;3&#39;:\r\n\t\t\t\tSystem.out.println(&quot;Enter an amount to withdrawl.&quot;);\r\n\t\t\t\tint amount2 = scan.nextInt();\r\n\t\t\t\twithdraw(amount2);\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase &#39;4&#39;:\r\n\t\t\t\tgetPrevioustransaction();\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase &#39;0&#39;:\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tdefault:\r\n\t\t\tSystem.out.println(&quot;Error -- Please choose a valid option.&quot;);\r\n\t\t\t}\r\n\t\t  } while (choice != 0);\r\n\t\t\tSystem.out.println(&quot;Thank you for using the Bank Account Tracker!&quot;);\r\n\t\t\t\r\n\t\t\tscan.close();\r\n\t\t  }\r\n\t\t  {\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t  } \t\r\n\t\t  {\r\n\t\t\t\t\t\r\n\t\t  } \r\n\t\t\r\n\t\r\n\t\t  }\r\n\t\r\n\r\n","title":"Basic Menu with Cases","body":"<p>I am creating a basic banking app that tracks a user's bank account activities, and I cannot seem to figure out why when I run my code that it is simply running what I have set for the &quot;default&quot; case; so even when I press 1,2,3, or 4, the console states, &quot;Error -- Please choose a valid option.&quot;</p>\n<p>Thanks in advance!</p>\n<pre><code>package Account;\n\nimport java.util.Scanner;\n\npublic class Account extends Bank {\n int Balance;\n int Previoustransaction;\n int amount;\n int amount2;\n String Name;\n String ID;\n\n Account(String Name,String ID){\n    \n }\n void deposit(int amount) {\n    if (amount != 0) {\n        Balance+=amount;\n        Previoustransaction=amount;\n     }\n   }\n   void withdraw(int amount) {\n     if(amount!=0) {\n        Balance-=amount;\n        Previoustransaction = -amount;\n     } \n        }\n   void getPrevioustransaction() {\n      if(Previoustransaction &gt; 0) {\n        System.out.println(&quot;Deposited:&quot; + Previoustransaction);\n     }\n     else if(Previoustransaction&lt;0) {\n        System.out.println(&quot;Withdrawn:&quot; + Math.abs(Previoustransaction));\n     }  else {\n        System.out.println(&quot;No transaction occurred.&quot;);     \n     }\n    }\n      void Menu() {\n        int choice = 0;\n     Scanner scan = new Scanner(System.in);\n     System.out.println(&quot;Welcome,&quot; + Name + &quot;.&quot;);\n     System.out.println(&quot;Your account number is&quot; + ID);\n     System.out.println(&quot;What would you like to do?&quot;);\n     System.out.println(&quot;1.Check balance.&quot;);\n     System.out.println(&quot;2. Make a deposit.&quot;);\n     System.out.println(&quot;3. Make a withrawl.&quot;);\n     System.out.println(&quot;4. Show last transaction.&quot;);\n     System.out.println(&quot;0. Exit.&quot;);\n    \n     do {\n         System.out.println(&quot;Choose an option.&quot;);\n         choice = scan.nextInt();\n         System.out.println();\n        \n         switch(choice) {\n        \n         case'1':\n            \n            System.out.println(&quot;Balance = $&quot; + Balance);\n            System.out.println();\n            break;\n            \n         case'2':\n            System.out.println(&quot;Enter an amount to deposit.&quot;);\n            int amount = scan.nextInt();\n            deposit (amount);\n            System.out.println();\n            break;\n            \n        case'3':\n            System.out.println(&quot;Enter an amount to withdrawl.&quot;);\n            int amount2 = scan.nextInt();\n            withdraw(amount2);\n            break;\n            \n        case '4':\n            getPrevioustransaction();\n            break;\n            \n        case '0':\n            break;\n            \n        default:\n        System.out.println(&quot;Error -- Please choose a valid option.&quot;);\n        }\n      } while (choice != 0);\n        System.out.println(&quot;Thank you for using the Bank Account Tracker!&quot;);\n        \n        scan.close();\n      }\n      {\n        \n            \n            \n      }     \n      {\n                \n      } \n    \n\n      }\n</code></pre>\n"},{"tags":["java","collections","iteration"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655568333,"creation_date":1655568333,"answer_id":72670760,"question_id":72670728,"body_markdown":"Since `Map#entrySet` returns a view of the mappings in the map, directly set the value of the `Entry` to update it.\r\n\r\n```java\r\nif (entry.getValue() == 1) {\r\n    iterator.remove();\r\n} else {\r\n    entry.setValue(entry.getValue() - 1);\r\n}\r\n```","title":"Iterating through a HashMap while removing AND updating the collection","body":"<p>Since <code>Map#entrySet</code> returns a view of the mappings in the map, directly set the value of the <code>Entry</code> to update it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (entry.getValue() == 1) {\n    iterator.remove();\n} else {\n    entry.setValue(entry.getValue() - 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655578915,"creation_date":1655569525,"answer_id":72670909,"question_id":72670728,"body_markdown":"Here is one way. `Map.computeIfPresent` will remove the entry when it becomes `null`. Using the ternary operator either decrements the value or replaces with `null` if it is presently `1` (about to be decremented).\r\n```\r\nMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&#39;a&#39;, 2);\r\nmap.put(&#39;b&#39;, 1);\r\nmap.put(&#39;c&#39;, 1);\r\n\r\nmap.computeIfPresent(&#39;c&#39;, (k,v)-&gt; v == 1 ? null : v-1);\r\nmap.computeIfPresent(&#39;a&#39;, (k,v)-&gt; v == 1 ? null : v-1);\r\n\r\nSystem.out.println(map);\r\n```\r\nprints\r\n```\r\n{a=1, b=1}\r\n```\r\nSo, here is how it would work for you, replacing your iterator and while loop.\r\n```\r\nfor (char ch : characterCount.keySet()) {\r\n\t  characterCount.computeIfPresent(ch, (k,v)-&gt; v == 1 ? null : v-1);\r\n}\r\n","title":"Iterating through a HashMap while removing AND updating the collection","body":"<p>Here is one way. <code>Map.computeIfPresent</code> will remove the entry when it becomes <code>null</code>. Using the ternary operator either decrements the value or replaces with <code>null</code> if it is presently <code>1</code> (about to be decremented).</p>\n<pre><code>Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\nmap.put('a', 2);\nmap.put('b', 1);\nmap.put('c', 1);\n\nmap.computeIfPresent('c', (k,v)-&gt; v == 1 ? null : v-1);\nmap.computeIfPresent('a', (k,v)-&gt; v == 1 ? null : v-1);\n\nSystem.out.println(map);\n</code></pre>\n<p>prints</p>\n<pre><code>{a=1, b=1}\n</code></pre>\n<p>So, here is how it would work for you, replacing your iterator and while loop.</p>\n<pre><code>for (char ch : characterCount.keySet()) {\n      characterCount.computeIfPresent(ch, (k,v)-&gt; v == 1 ? null : v-1);\n}\n</code></pre>\n"}],"owner":{"account_id":467780,"reputation":6419,"user_id":873374,"accept_rate":92,"display_name":"Alesqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72670760,"answer_count":2,"score":1,"last_activity_date":1655578915,"creation_date":1655568128,"question_id":72670728,"body_markdown":"I have a count map where I keep track of the numbers of characters from a string. I want to iterate over that map, decrement the currently visited character count AND remove it if it reaches zero.\r\n\r\nHow can that be done in Java?\r\n\r\n```java\r\nHashMap&lt;Character, Integer&gt; characterCount = new HashMap&lt;&gt;();\r\ncharacterCount.put(&#39;a&#39;, 2);\r\ncharacterCount.put(&#39;b&#39;, 1);\r\ncharacterCount.put(&#39;c&#39;, 1);\r\n\r\nIterator&lt;Map.Entry&lt;Character, Integer&gt;&gt; iterator = characterCount.entrySet().iterator();\r\nwhile (iterator.hasNext()) {\r\n    Map.Entry&lt;Character, Integer&gt; entry = iterator.next();\r\n\r\n    // Decrement the chosen character from the map\r\n    if (entry.getValue() == 1) {\r\n        iterator.remove();\r\n    } else {\r\n        characterCount.put(entry.getKey(), entry.getValue() - 1);\r\n    }\r\n\r\n    // Call some logic the relies on the map with the remaining character count.\r\n    // I want the characterCount.size() to return zero when there is no character with count &gt; 0\r\n    doSomeLogic(characterCount);\r\n\r\n    // Restore the character to the map\r\n    characterCount.put(entry.getKey(), entry.getValue());\r\n}\r\n```\r\n\r\nThe above code results in a `ConcurrentModificationException`.\r\n","title":"Iterating through a HashMap while removing AND updating the collection","body":"<p>I have a count map where I keep track of the numbers of characters from a string. I want to iterate over that map, decrement the currently visited character count AND remove it if it reaches zero.</p>\n<p>How can that be done in Java?</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;Character, Integer&gt; characterCount = new HashMap&lt;&gt;();\ncharacterCount.put('a', 2);\ncharacterCount.put('b', 1);\ncharacterCount.put('c', 1);\n\nIterator&lt;Map.Entry&lt;Character, Integer&gt;&gt; iterator = characterCount.entrySet().iterator();\nwhile (iterator.hasNext()) {\n    Map.Entry&lt;Character, Integer&gt; entry = iterator.next();\n\n    // Decrement the chosen character from the map\n    if (entry.getValue() == 1) {\n        iterator.remove();\n    } else {\n        characterCount.put(entry.getKey(), entry.getValue() - 1);\n    }\n\n    // Call some logic the relies on the map with the remaining character count.\n    // I want the characterCount.size() to return zero when there is no character with count &gt; 0\n    doSomeLogic(characterCount);\n\n    // Restore the character to the map\n    characterCount.put(entry.getKey(), entry.getValue());\n}\n</code></pre>\n<p>The above code results in a <code>ConcurrentModificationException</code>.</p>\n"},{"tags":["java","json","string","multilinestring","java-text-blocks"],"comments":[{"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"score":2,"creation_date":1655531170,"post_id":72666931,"comment_id":128358881,"body_markdown":"I believe current versions of Java support multiline strings via text blocks via an identical three-quote syntax to that you have presented.","body":"I believe current versions of Java support multiline strings via text blocks via an identical three-quote syntax to that you have presented."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1655531426,"post_id":72666931,"comment_id":128358910,"body_markdown":"You could also consider writing your tests in Kotlin, as multi-line strings are available there (https://kotlinlang.org/docs/basic-types.html#string-literals) and you could benefit from other Kotlin features (I find backticks to allow function names to have spaces are nice for tests).","body":"You could also consider writing your tests in Kotlin, as multi-line strings are available there (<a href=\"https://kotlinlang.org/docs/basic-types.html#string-literals\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/basic-types.html#string-literals</a>) and you could benefit from other Kotlin features (I find backticks to allow function names to have spaces are nice for tests)."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1655578560,"creation_date":1655546470,"answer_id":72668363,"question_id":72666931,"body_markdown":"&lt;h3&gt;Text Blocks - Java 15+&lt;/h3&gt;\r\n\r\nIf you&#39;re using Java 15 or late to represent JSON-data instead of string concatenation, which is tedious and error-prone because of the need to escape every quotation mark, you can make use of the [*text blocks*](https://docs.oracle.com/javase/specs/jls/se15/html/jls-3.html#jls-3.10.6).\r\n\r\nTo create a *text block*, you need to enclose the multiline text in triple double-quote characters `&quot;&quot;&quot;`. \r\n```Java\r\nString myJSON = &quot;&quot;&quot; // no characters should appear after the opening delimiter - the text starts from the next line\r\n{\r\n    &quot;one&quot;: 1,\r\n    &quot;two&quot;: 2\r\n}&quot;&quot;&quot;;\r\n```\r\n\r\nAs well as regular strings, *text blocks* support escape sequences, but you don&#39;t need to escape quotation marks inside a *text block*. \r\n\r\nAnd note that the opening delimiter `&quot;&quot;&quot;` should be *immediately* followed by the *line termination* like in the example shown above.\r\n\r\n&lt;h3&gt;Alternatives&lt;/h3&gt;\r\n\r\nIf your project is on a version of Java that doesn&#39;t support *text blocks*, but you don&#39;t want to dial with string concatenation, you can put your JSON into a *text file* and then read it line by line.\r\n\r\nWith Java 11 you can read the whole file contents into a string with a single line of code by using [`Files.readString()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#readString(java.nio.file.Path)):\r\n```\r\nString myJSON = Files.readString(path);\r\n```","title":"Better way to hard-code JSON data as String in Java","body":"<h3>Text Blocks - Java 15+</h3>\n<p>If you're using Java 15 or late to represent JSON-data instead of string concatenation, which is tedious and error-prone because of the need to escape every quotation mark, you can make use of the <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-3.html#jls-3.10.6\" rel=\"nofollow noreferrer\"><em>text blocks</em></a>.</p>\n<p>To create a <em>text block</em>, you need to enclose the multiline text in triple double-quote characters <code>&quot;&quot;&quot;</code>.</p>\n<pre><code>String myJSON = &quot;&quot;&quot; // no characters should appear after the opening delimiter - the text starts from the next line\n{\n    &quot;one&quot;: 1,\n    &quot;two&quot;: 2\n}&quot;&quot;&quot;;\n</code></pre>\n<p>As well as regular strings, <em>text blocks</em> support escape sequences, but you don't need to escape quotation marks inside a <em>text block</em>.</p>\n<p>And note that the opening delimiter <code>&quot;&quot;&quot;</code> should be <em>immediately</em> followed by the <em>line termination</em> like in the example shown above.</p>\n<h3>Alternatives</h3>\n<p>If your project is on a version of Java that doesn't support <em>text blocks</em>, but you don't want to dial with string concatenation, you can put your JSON into a <em>text file</em> and then read it line by line.</p>\n<p>With Java 11 you can read the whole file contents into a string with a single line of code by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#readString(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.readString()</code></a>:</p>\n<pre><code>String myJSON = Files.readString(path);\n</code></pre>\n"}],"owner":{"account_id":4098796,"reputation":4575,"user_id":3364871,"display_name":"Maxim Suslov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4331,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72668363,"answer_count":1,"score":5,"last_activity_date":1655578560,"creation_date":1655530695,"question_id":72666931,"body_markdown":"I need to keep JSON data in my code for unit-tests as string. For instance,\r\n\r\n```json\r\n{\r\n    &quot;one&quot;: 1,\r\n    &quot;two&quot;: 2\r\n}\r\n```\r\nI know that I can read this data from file or from property, but I need to keep them as string. Currently, I have something like this:\r\n\r\n```java\r\nString s = &quot;{\\n&quot; +\r\n           &quot;    \\&quot;one\\&quot;: 1,\\n&quot; +\r\n           &quot;    \\&quot;two\\&quot;: 2\\n&quot; +\r\n           &quot;}&quot;;\r\n```\r\n\r\nBut it looks ugly and in more complex data, it is hard to read and modify it.\r\n\r\nI may get rid of `\\n` because they are not really needed but for pretty viewing these data later:\r\n\r\n```java\r\nString s = &quot;{&quot; +\r\n           &quot;    \\&quot;one\\&quot;: 1,&quot; +\r\n           &quot;    \\&quot;two\\&quot;: 2&quot; +\r\n           &quot;}&quot;;\r\n```\r\n\r\nAlso, I may use a trick with quote replacement:\r\n\r\n```java\r\nString s = (&quot;{\\n&quot; +\r\n            &quot;    &#39;one&#39;: 1,\\n&quot; +\r\n            &quot;    &#39;two&#39;: 2\\n&quot; +\r\n            &quot;}&quot;).replace(&#39;\\&#39;&#39;,&#39;&quot;&#39;);\r\n```\r\n\r\nOr combine both things at once.\r\n\r\nIs there a better way to represent JSON data as a `String` in Java?\r\n\r\nFor instance, in Python, there are triple quotes:\r\n\r\n```python\r\ns = &quot;&quot;&quot;\r\n{\r\n    &quot;one&quot;: 1,\r\n    &quot;two&quot;: 2\r\n}\r\n&quot;&quot;&quot;\r\n```","title":"Better way to hard-code JSON data as String in Java","body":"<p>I need to keep JSON data in my code for unit-tests as string. For instance,</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;one&quot;: 1,\n    &quot;two&quot;: 2\n}\n</code></pre>\n<p>I know that I can read this data from file or from property, but I need to keep them as string. Currently, I have something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;{\\n&quot; +\n           &quot;    \\&quot;one\\&quot;: 1,\\n&quot; +\n           &quot;    \\&quot;two\\&quot;: 2\\n&quot; +\n           &quot;}&quot;;\n</code></pre>\n<p>But it looks ugly and in more complex data, it is hard to read and modify it.</p>\n<p>I may get rid of <code>\\n</code> because they are not really needed but for pretty viewing these data later:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;{&quot; +\n           &quot;    \\&quot;one\\&quot;: 1,&quot; +\n           &quot;    \\&quot;two\\&quot;: 2&quot; +\n           &quot;}&quot;;\n</code></pre>\n<p>Also, I may use a trick with quote replacement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = (&quot;{\\n&quot; +\n            &quot;    'one': 1,\\n&quot; +\n            &quot;    'two': 2\\n&quot; +\n            &quot;}&quot;).replace('\\'','&quot;');\n</code></pre>\n<p>Or combine both things at once.</p>\n<p>Is there a better way to represent JSON data as a <code>String</code> in Java?</p>\n<p>For instance, in Python, there are triple quotes:</p>\n<pre class=\"lang-py prettyprint-override\"><code>s = &quot;&quot;&quot;\n{\n    &quot;one&quot;: 1,\n    &quot;two&quot;: 2\n}\n&quot;&quot;&quot;\n</code></pre>\n"},{"tags":["java","spring-boot","javafx"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1655579185,"post_id":72671900,"comment_id":128367154,"body_markdown":"whats your folder structure like, also the code you are referencing is spring `1.5.2.RELEASE` which was release over 5 years ago (2017) current version of spring is `2.7.0` so please dont use outdated things","body":"whats your folder structure like, also the code you are referencing is spring <code>1.5.2.RELEASE</code> which was release over 5 years ago (2017) current version of spring is <code>2.7.0</code> so please dont use outdated things"},{"owner":{"account_id":20927254,"reputation":1,"user_id":15374424,"display_name":"TungHT"},"score":0,"creation_date":1655579743,"post_id":72671900,"comment_id":128367238,"body_markdown":"UIApplication in com.gr10.clientapp (base package). and AppJavaConfig in package fx.config (below base package). I use the current vers of Spring, and don&#39;t use the whole GitHub project, just took 3 class of him. @Toerktumlare","body":"UIApplication in com.gr10.clientapp (base package). and AppJavaConfig in package fx.config (below base package). I use the current vers of Spring, and don&#39;t use the whole GitHub project, just took 3 class of him. @Toerktumlare"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1655582418,"post_id":72671900,"comment_id":128367698,"body_markdown":"all annotated classes must be below in the directory/package tree of the main class for the scan to work and your explanation is unclear on this point. Run your application in debug mode and read the logs to see what is loaded or not. You should actually debug your application before asking on stacck overflow","body":"all annotated classes must be below in the directory/package tree of the main class for the scan to work and your explanation is unclear on this point. Run your application in debug mode and read the logs to see what is loaded or not. You should actually debug your application before asking on stacck overflow"},{"owner":{"account_id":20927254,"reputation":1,"user_id":15374424,"display_name":"TungHT"},"score":0,"creation_date":1655584854,"post_id":72671900,"comment_id":128368098,"body_markdown":"Thank you @Toerktumlare. I have some experience with spring boot so I think my package structure is not the problem. First time I use SpringBoot with JavaFX and I not so clear with JavaFX. I tried to debug and commented some debug result above (method start of JavaFX is correct, class name and param are ok, it just can not get bean from IoC container). But I dont have experience debugging inside the framework (configuration class, how spring init beans), so I not sure whether spring create bean successfully !_!","body":"Thank you @Toerktumlare. I have some experience with spring boot so I think my package structure is not the problem. First time I use SpringBoot with JavaFX and I not so clear with JavaFX. I tried to debug and commented some debug result above (method start of JavaFX is correct, class name and param are ok, it just can not get bean from IoC container). But I dont have experience debugging inside the framework (configuration class, how spring init beans), so I not sure whether spring create bean successfully !_!"},{"owner":{"account_id":20927254,"reputation":1,"user_id":15374424,"display_name":"TungHT"},"score":0,"creation_date":1655585059,"post_id":72671900,"comment_id":128368130,"body_markdown":"I will write my question more details. I need to go to sleep, 3 a.m now :((","body":"I will write my question more details. I need to go to sleep, 3 a.m now :(("},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1655615516,"post_id":72671900,"comment_id":128371301,"body_markdown":"There are [543](https://stackoverflow.com/search?q=%5Bspring%5D+NoSuchBeanDefinitionException) questions on StackOverflow about NoSuchBeanDefinitionException. Your answer is probably in one of them.  This seems a generic Spring config error and nothing JavaFX specific.","body":"There are <a href=\"https://stackoverflow.com/search?q=%5Bspring%5D+NoSuchBeanDefinitionException\">543</a> questions on StackOverflow about NoSuchBeanDefinitionException. Your answer is probably in one of them.  This seems a generic Spring config error and nothing JavaFX specific."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1655615970,"post_id":72671900,"comment_id":128371334,"body_markdown":"The template you adapted targets Java 8, which is obsolete.  I dont recommend following it, especially as you are using Java 11 and JavaFX was included in Java 8, but not Java 11, so its setup between the two is very different.","body":"The template you adapted targets Java 8, which is obsolete.  I dont recommend following it, especially as you are using Java 11 and JavaFX was included in Java 8, but not Java 11, so its setup between the two is very different."}],"owner":{"account_id":20927254,"reputation":1,"user_id":15374424,"display_name":"TungHT"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655578217,"creation_date":1655578217,"question_id":72671900,"body_markdown":"My project is using SpringBoot integrated with JavaFX. I follow the template from https://github.com/RamAlapure/JavaFXSpringBootApp and change something.\r\n\r\nApplication class:\r\n```\r\npublic class UIApplication extends Application {\r\n    protected ConfigurableApplicationContext springContext;\r\n    protected StageManager stageManager;\r\n\r\n    @Override\r\n    public void init() throws Exception {\r\n        springContext = springBootApplicationContext();\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        stageManager = springContext.getBean(StageManager.class, stage); // I debugged and it seems there&#39;s no problem from javaFX here \r\n        displayInitialScene();\r\n    }\r\n\r\n    @Override\r\n    public void stop() throws Exception {\r\n        springContext.close();\r\n    }\r\n\r\n    /**\r\n     * Useful to override this method by sub-classes wishing to change the first\r\n     * Scene to be displayed on startup. Example: Functional tests on main\r\n     * window.\r\n     */\r\n    protected void displayInitialScene() {\r\n        stageManager.switchScene(&quot;/fxml/login-register.fxml&quot;, &quot;Login-Register&quot;);\r\n    }\r\n\r\n\r\n    private ConfigurableApplicationContext springBootApplicationContext() {\r\n        SpringApplicationBuilder builder = new SpringApplicationBuilder(UIApplication.class);\r\n        String[] args = getParameters().getRaw().stream().toArray(String[]::new);\r\n        return builder.run(args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nConfiguration class: \r\n```\r\n@Configuration\r\npublic class AppJavaConfig {\r\n    @Autowired \r\n    SpringFXMLLoader springFXMLLoader;\r\n    ...\r\n    @Bean\r\n    @Lazy(value = true) //Stage only created after Spring context bootstap\r\n    public StageManager stageManager(Stage stage) throws IOException {\r\n        return new StageManager(springFXMLLoader, stage); // this code may not work, bean not created, but i don&#39;t know how to debug into this line.\r\n    }\r\n}\r\n```\r\n\r\nI got this error:\r\n\r\n```\r\n2022-06-19 01:25:58.065  INFO 18484 --- [JavaFX-Launcher] o.s.boot.SpringApplication               : Starting application using Java 11.0.11 on Tungdz with PID 18484 (started by Tunght in C:\\Users\\DaiPhongPC\\OneDrive\\Desktop\\network-programming-gr10)\r\n2022-06-19 01:25:58.068  INFO 18484 --- [JavaFX-Launcher] o.s.boot.SpringApplication               : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-06-19 01:25:58.184  INFO 18484 --- [JavaFX-Launcher] o.s.boot.SpringApplication               : Started application in 0.921 seconds (JVM running for 3.754)\r\nException in Application start method\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.gr10.clientapp.fx.config.StageManager&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1178)\r\n\tat com.gr10.clientapp.UIApplication.start(UIApplication.java:20)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run$$$capture(InvokeLaterDispatcher.java:96)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java)\r\n\tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\t... 1 more\r\nDisconnected from the target VM, address: &#39;127.0.0.1:56360&#39;, transport: &#39;socket&#39;\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI comment some debug result in the code above. \r\n\r\nSummary: I think Spring could not create bean so I can not get it from ApplicationContext.\r\n\r\nCould you guys help me to let this sh*t run please :((","title":"Error when creating bean in configuration class, SpringBoot &amp; JavaFX?","body":"<p>My project is using SpringBoot integrated with JavaFX. I follow the template from <a href=\"https://github.com/RamAlapure/JavaFXSpringBootApp\" rel=\"nofollow noreferrer\">https://github.com/RamAlapure/JavaFXSpringBootApp</a> and change something.</p>\n<p>Application class:</p>\n<pre><code>public class UIApplication extends Application {\n    protected ConfigurableApplicationContext springContext;\n    protected StageManager stageManager;\n\n    @Override\n    public void init() throws Exception {\n        springContext = springBootApplicationContext();\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        stageManager = springContext.getBean(StageManager.class, stage); // I debugged and it seems there's no problem from javaFX here \n        displayInitialScene();\n    }\n\n    @Override\n    public void stop() throws Exception {\n        springContext.close();\n    }\n\n    /**\n     * Useful to override this method by sub-classes wishing to change the first\n     * Scene to be displayed on startup. Example: Functional tests on main\n     * window.\n     */\n    protected void displayInitialScene() {\n        stageManager.switchScene(&quot;/fxml/login-register.fxml&quot;, &quot;Login-Register&quot;);\n    }\n\n\n    private ConfigurableApplicationContext springBootApplicationContext() {\n        SpringApplicationBuilder builder = new SpringApplicationBuilder(UIApplication.class);\n        String[] args = getParameters().getRaw().stream().toArray(String[]::new);\n        return builder.run(args);\n    }\n\n}\n</code></pre>\n<p>Configuration class:</p>\n<pre><code>@Configuration\npublic class AppJavaConfig {\n    @Autowired \n    SpringFXMLLoader springFXMLLoader;\n    ...\n    @Bean\n    @Lazy(value = true) //Stage only created after Spring context bootstap\n    public StageManager stageManager(Stage stage) throws IOException {\n        return new StageManager(springFXMLLoader, stage); // this code may not work, bean not created, but i don't know how to debug into this line.\n    }\n}\n</code></pre>\n<p>I got this error:</p>\n<pre><code>2022-06-19 01:25:58.065  INFO 18484 --- [JavaFX-Launcher] o.s.boot.SpringApplication               : Starting application using Java 11.0.11 on Tungdz with PID 18484 (started by Tunght in C:\\Users\\DaiPhongPC\\OneDrive\\Desktop\\network-programming-gr10)\n2022-06-19 01:25:58.068  INFO 18484 --- [JavaFX-Launcher] o.s.boot.SpringApplication               : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-06-19 01:25:58.184  INFO 18484 --- [JavaFX-Launcher] o.s.boot.SpringApplication               : Started application in 0.921 seconds (JVM running for 3.754)\nException in Application start method\nException in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.gr10.clientapp.fx.config.StageManager' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1178)\n    at com.gr10.clientapp.UIApplication.start(UIApplication.java:20)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run$$$capture(InvokeLaterDispatcher.java:96)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    ... 1 more\nDisconnected from the target VM, address: '127.0.0.1:56360', transport: 'socket'\n\nProcess finished with exit code 1\n</code></pre>\n<p>I comment some debug result in the code above.</p>\n<p>Summary: I think Spring could not create bean so I can not get it from ApplicationContext.</p>\n<p>Could you guys help me to let this sh*t run please :((</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1640016953,"post_id":70176481,"comment_id":124489433,"body_markdown":"Try calling `consumer.poll(0)` so an assignment happens? Otherwise, as you poll `ConsumerRecord`s, then those will have the partition information in them","body":"Try calling <code>consumer.poll(0)</code> so an assignment happens? Otherwise, as you poll <code>ConsumerRecord</code>s, then those will have the partition information in them"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1640017420,"post_id":70176481,"comment_id":124489640,"body_markdown":"But &quot;sending to a particular partition&quot; means you are coupling your consumer to a producer process, which should never be done. You can always use `producer.send(&quot;topic&quot;, partitionNumber...)` and `consumer.assign(Collections.singletonList(topicPartition))` rather than subscribing to achieve, this, though","body":"But &quot;sending to a particular partition&quot; means you are coupling your consumer to a producer process, which should never be done. You can always use <code>producer.send(&quot;topic&quot;, partitionNumber...)</code> and <code>consumer.assign(Collections.singletonList(topicPartition))</code> rather than subscribing to achieve, this, though"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1640020149,"post_id":70176481,"comment_id":124490716,"body_markdown":"This pattern is a very specific Throttling service where producer know consumer partition. So then I can scale my service wit h more consumers and each of them with a specific Throttling config","body":"This pattern is a very specific Throttling service where producer know consumer partition. So then I can scale my service wit h more consumers and each of them with a specific Throttling config"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1640037867,"post_id":70176481,"comment_id":124496349,"body_markdown":"Okay... You can set topic quotas at the broker level rather than per client or partition, though. You can&#39;t scale consumers of a group beyond the number of partitions of the topic. In any case, assignment doesn&#39;t happen until you start a fetch request","body":"Okay... You can set topic quotas at the broker level rather than per client or partition, though. You can&#39;t scale consumers of a group beyond the number of partitions of the topic. In any case, assignment doesn&#39;t happen until you start a fetch request"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655578050,"creation_date":1638308583,"question_id":70176481,"body_markdown":"I&#180;m creating a KafkaConsumer and I need to know which partition has been assigned, to send to that particular partition the messages\r\n\r\n```\r\nfinal KafkaConsumer&lt;String, byte[]&gt; consumer = new KafkaConsumer&lt;&gt;(props);\r\nconsumer.subscribe(java.util.List.of(topic));\r\n```\r\n\r\nI tried using the assignment after subscribe to the topic, but the list is empty\r\n\r\n\r\n\tprivate Integer getPartition() {\r\n\t\treturn List.ofAll(consumer.assignment())\r\n\t\t\t.filter(topicPartition -&gt; topicPartition.topic().equals(topic))\r\n\t\t\t.map(TopicPartition::partition)\r\n\t\t\t.get();\r\n\t}\r\n\r\nAny idea?\r\n\r\n","title":"Get Kafka Consumer partition","body":"<p>Im creating a KafkaConsumer and I need to know which partition has been assigned, to send to that particular partition the messages</p>\n<pre><code>final KafkaConsumer&lt;String, byte[]&gt; consumer = new KafkaConsumer&lt;&gt;(props);\nconsumer.subscribe(java.util.List.of(topic));\n</code></pre>\n<p>I tried using the assignment after subscribe to the topic, but the list is empty</p>\n<pre><code>private Integer getPartition() {\n    return List.ofAll(consumer.assignment())\n        .filter(topicPartition -&gt; topicPartition.topic().equals(topic))\n        .map(TopicPartition::partition)\n        .get();\n}\n</code></pre>\n<p>Any idea?</p>\n"},{"tags":["java","sql","mariadb"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1655578214,"post_id":72671827,"comment_id":128366954,"body_markdown":"a `Set` does not accept duplicate elements - the `Comparator` is only comparing the `int` values - &quot;test&quot; and &quot;lilo&quot; are not being added because probably &quot;anchoa&quot;, with same `int` value (`0`), is already in the `Set`. [Documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/TreeSet.html): &quot;*... a TreeSet instance performs all element comparisons using its `compareTo` (or `compare`) method, so two elements that are deemed equal by this method are, from the standpoint of the set, equal. ...*&quot;","body":"a <code>Set</code> does not accept duplicate elements - the <code>Comparator</code> is only comparing the <code>int</code> values - &quot;test&quot; and &quot;lilo&quot; are not being added because probably &quot;anchoa&quot;, with same <code>int</code> value (<code>0</code>), is already in the <code>Set</code>. <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">Documentation</a>: &quot;<i>... a TreeSet instance performs all element comparisons using its <code>compareTo</code> (or <code>compare</code>) method, so two elements that are deemed equal by this method are, from the standpoint of the set, equal. ...</i>&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1655578936,"post_id":72671827,"comment_id":128367114,"body_markdown":"BTW: 1) you could have used `Comparator.comparingInt(p -&gt; p.integer` (or, if getter available `Comparator.comparingInt(Pair_IntString::getInteger)` instead of `ComparatorGuildsRanking`; 2) eventual solution: also compare the string if the `integer` value is the same  (e.g. `Comparator.comparingInt(p -&gt; p.integer).thenComparing(p -&gt; p.string)` or similar)","body":"BTW: 1) you could have used <code>Comparator.comparingInt(p -&gt; p.integer</code> (or, if getter available <code>Comparator.comparingInt(Pair_IntString::getInteger)</code> instead of <code>ComparatorGuildsRanking</code>; 2) eventual solution: also compare the string if the <code>integer</code> value is the same  (e.g. <code>Comparator.comparingInt(p -&gt; p.integer).thenComparing(p -&gt; p.string)</code> or similar)"},{"owner":{"account_id":11223842,"reputation":33,"user_id":8280172,"display_name":"Mithrandir"},"score":0,"creation_date":1655586647,"post_id":72671827,"comment_id":128368411,"body_markdown":"The proposed solution by @user16320675 works, but the SortedSet gets sorted in the reverse order, as opposed to how it would be read from front to back before, the comparing class I had before circunvented this issue.\n\nBut I understand I must compare strings too, maybe I can add that to the class I had before, or maybe I&#39;ll need to use something like &quot;NavigableSet&quot; in order to traverse and read the set back to front for displaying ranked entries purposes.","body":"The proposed solution by @user16320675 works, but the SortedSet gets sorted in the reverse order, as opposed to how it would be read from front to back before, the comparing class I had before circunvented this issue.  But I understand I must compare strings too, maybe I can add that to the class I had before, or maybe I&#39;ll need to use something like &quot;NavigableSet&quot; in order to traverse and read the set back to front for displaying ranked entries purposes."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1655589487,"post_id":72671827,"comment_id":128368821,"body_markdown":"I just gave the main idea, not a ready to use solution... that must be adjusted as needed. BTW `Comparator` has a method `reversed()`... check its [documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Comparator.html#reversed())","body":"I just gave the main idea, not a ready to use solution... that must be adjusted as needed. BTW <code>Comparator</code> has a method <code>reversed()</code>... check its <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Comparator.html#reversed()\" rel=\"nofollow noreferrer\">documentation</a>"}],"owner":{"account_id":11223842,"reputation":33,"user_id":8280172,"display_name":"Mithrandir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655577729,"creation_date":1655577729,"question_id":72671827,"body_markdown":"The answer to the following described issue may be as simple as that I am not using SortedSet correctly, but I wouldn&#39;t know if that is the case.\r\n\r\n    void SQLRankGuildsByPoints(final CallbackReturnIntegerStringSortedSet callback)\r\n    {\r\n        java.sql.Connection cn = null;\r\n        try {\r\n            cn = DataSource.getConnection();\r\n            if(cn != null)\r\n            {\r\n                PreparedStatement query = cn.prepareStatement(&quot;SELECT GuildName, TotalActivityPoints FROM Guilds&quot;);\r\n\r\n                ResultSet result = query.executeQuery();\r\n\r\n                SortedSet&lt;Pair_IntString&gt; GuildsRanking = new TreeSet(new ComparatorGuildsRanking());\r\n\r\n                while(result.next())\r\n                {\r\n                    int resultInt = result.getInt(&quot;TotalActivityPoints&quot;);\r\n                    String resultString = result.getString(&quot;GuildName&quot;);\r\n\r\n                    GuildsRanking.add(new Pair_IntString(resultInt, resultString));\r\n                }\r\n\r\n                Bukkit.getScheduler().runTask(MainClassAccess, new Runnable() { //Callback to main thread\r\n                    @Override\r\n                    public void run() {\r\n                        callback.onDone(GuildsRanking);\r\n                    }\r\n                });\r\n            }\r\n        } catch (SQLException e) {\r\n            System.err.print(e);\r\n        } finally {\r\n            try {\r\n                cn.close();\r\n            } catch (SQLException e) {\r\n                System.err.print(e);\r\n            }\r\n        }\r\n    }\r\n\r\nAll 8 results from the Guilds table are present in &quot;result&quot; ResultSet.\r\n\r\nGuildsRanking.add() isn&#39;t adding the new custom Pair_IntString object constructed with the query results, specifically for guilds &quot;test&quot; and &quot;lilo&quot; in Guilds table.\r\n\r\nSQLRankGuildsByPoints method finishes it&#39;s execution, calling back the GuildsRanking SortedSet without 2 of the iterated results.\r\n\r\nThis behaviour is unintended and I can&#39;t find an explanation for it.\r\n\r\n[![Guilds table][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/W5THx.png\r\n\r\nThe comparator used for TreeSet:\r\n\r\n    public class ComparatorGuildsRanking implements Comparator&lt;Pair_IntString&gt; {\r\n        @Override\r\n        public int compare(Pair_IntString intStr1, Pair_IntString intStr2) {\r\n            return intStr2.integer.compareTo(intStr1.integer);\r\n        }\r\n    }\r\n\r\nCustom Pair_IntString class:\r\n\r\n    public class Pair_IntString {\r\n        public Integer integer;\r\n        public String string;\r\n\r\n        Pair_IntString(Integer i, String s)\r\n        {\r\n            integer = i;\r\n            string = s;\r\n        }\r\n    }\r\n\r\nNo error messages with the skipped add iterations.","title":"SortedSet not adding new constructed objects from certain sql queried results data","body":"<p>The answer to the following described issue may be as simple as that I am not using SortedSet correctly, but I wouldn't know if that is the case.</p>\n<pre><code>void SQLRankGuildsByPoints(final CallbackReturnIntegerStringSortedSet callback)\n{\n    java.sql.Connection cn = null;\n    try {\n        cn = DataSource.getConnection();\n        if(cn != null)\n        {\n            PreparedStatement query = cn.prepareStatement(&quot;SELECT GuildName, TotalActivityPoints FROM Guilds&quot;);\n\n            ResultSet result = query.executeQuery();\n\n            SortedSet&lt;Pair_IntString&gt; GuildsRanking = new TreeSet(new ComparatorGuildsRanking());\n\n            while(result.next())\n            {\n                int resultInt = result.getInt(&quot;TotalActivityPoints&quot;);\n                String resultString = result.getString(&quot;GuildName&quot;);\n\n                GuildsRanking.add(new Pair_IntString(resultInt, resultString));\n            }\n\n            Bukkit.getScheduler().runTask(MainClassAccess, new Runnable() { //Callback to main thread\n                @Override\n                public void run() {\n                    callback.onDone(GuildsRanking);\n                }\n            });\n        }\n    } catch (SQLException e) {\n        System.err.print(e);\n    } finally {\n        try {\n            cn.close();\n        } catch (SQLException e) {\n            System.err.print(e);\n        }\n    }\n}\n</code></pre>\n<p>All 8 results from the Guilds table are present in &quot;result&quot; ResultSet.</p>\n<p>GuildsRanking.add() isn't adding the new custom Pair_IntString object constructed with the query results, specifically for guilds &quot;test&quot; and &quot;lilo&quot; in Guilds table.</p>\n<p>SQLRankGuildsByPoints method finishes it's execution, calling back the GuildsRanking SortedSet without 2 of the iterated results.</p>\n<p>This behaviour is unintended and I can't find an explanation for it.</p>\n<p><a href=\"https://i.stack.imgur.com/W5THx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W5THx.png\" alt=\"Guilds table\" /></a></p>\n<p>The comparator used for TreeSet:</p>\n<pre><code>public class ComparatorGuildsRanking implements Comparator&lt;Pair_IntString&gt; {\n    @Override\n    public int compare(Pair_IntString intStr1, Pair_IntString intStr2) {\n        return intStr2.integer.compareTo(intStr1.integer);\n    }\n}\n</code></pre>\n<p>Custom Pair_IntString class:</p>\n<pre><code>public class Pair_IntString {\n    public Integer integer;\n    public String string;\n\n    Pair_IntString(Integer i, String s)\n    {\n        integer = i;\n        string = s;\n    }\n}\n</code></pre>\n<p>No error messages with the skipped add iterations.</p>\n"},{"tags":["java","awt","video-encoding","video-recording","jcodec"],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655577615,"creation_date":1655577615,"answer_id":72671815,"question_id":70546105,"body_markdown":"Here&#39;s a minimal rewrite of your question:\r\n\r\n&gt; _Is `AWTSequenceEncoder` still present in jcodec? If so, where can it be found?_\r\n\r\nYes, `AWTSequenceEncoder` is still present in &quot;jcodec&quot;. It is part of the package `org.jcodec.javase.api.awt.AWTSequenceEncoder`, and can be found in the github repo here:\r\n* https://github.com/jcodec/jcodec/blob/master/javase/src/main/java/org/jcodec/javase/api/awt/AWTSequenceEncoder.java\r\n\r\nThe [README][1] has various examples, including this (I copied only one line here):\r\n```\r\nAWTSequenceEncoder encoder = new AWTSequenceEncoder(out, Rational.R(25, 1));\r\n```\r\n\r\n\r\n  [1]: https://github.com/jcodec/jcodec/blob/master/README.md","title":"AWTSequenceEncoder does not exist in jcodec 2.5.0?","body":"<p>Here's a minimal rewrite of your question:</p>\n<blockquote>\n<p><em>Is <code>AWTSequenceEncoder</code> still present in jcodec? If so, where can it be found?</em></p>\n</blockquote>\n<p>Yes, <code>AWTSequenceEncoder</code> is still present in &quot;jcodec&quot;. It is part of the package <code>org.jcodec.javase.api.awt.AWTSequenceEncoder</code>, and can be found in the github repo here:</p>\n<ul>\n<li><a href=\"https://github.com/jcodec/jcodec/blob/master/javase/src/main/java/org/jcodec/javase/api/awt/AWTSequenceEncoder.java\" rel=\"nofollow noreferrer\">https://github.com/jcodec/jcodec/blob/master/javase/src/main/java/org/jcodec/javase/api/awt/AWTSequenceEncoder.java</a></li>\n</ul>\n<p>The <a href=\"https://github.com/jcodec/jcodec/blob/master/README.md\" rel=\"nofollow noreferrer\">README</a> has various examples, including this (I copied only one line here):</p>\n<pre><code>AWTSequenceEncoder encoder = new AWTSequenceEncoder(out, Rational.R(25, 1));\n</code></pre>\n"}],"owner":{"account_id":23795772,"reputation":21,"user_id":17806643,"display_name":"GavinGoGaming"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655577615,"creation_date":1640991559,"question_id":70546105,"body_markdown":"I am trying to use JCodec to make a screen-recording software in Java.\r\nI am having trouble finding where ```AWTSequenceEncoder``` is located, or if it even exists in JCodec still.\r\nI am using JCodec 2.5.0 for javase. Java 8. Does anyone know if this class (```AWTSequenceEncoder```) still exists in the library or do i have to use a copy-pasted version of the file from JCodec&#39;s github?\r\n\r\nthanks! gavin","title":"AWTSequenceEncoder does not exist in jcodec 2.5.0?","body":"<p>I am trying to use JCodec to make a screen-recording software in Java.\nI am having trouble finding where <code>AWTSequenceEncoder</code> is located, or if it even exists in JCodec still.\nI am using JCodec 2.5.0 for javase. Java 8. Does anyone know if this class (<code>AWTSequenceEncoder</code>) still exists in the library or do i have to use a copy-pasted version of the file from JCodec's github?</p>\n<p>thanks! gavin</p>\n"},{"tags":["java","postgresql","spring-boot","testcontainers","embedded-postgres"],"comments":[{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1655716197,"post_id":72671730,"comment_id":128389306,"body_markdown":"Since `io.zonky.test:embedded-database-spring-test:2.1.1` is also based on Testcontainers, I would advise against mixing the libraries directly. Is in unclear to me, why you don&#39;t use Testcontainers directly for your use cases.","body":"Since <code>io.zonky.test:embedded-database-spring-test:2.1.1</code> is also based on Testcontainers, I would advise against mixing the libraries directly. Is in unclear to me, why you don&#39;t use Testcontainers directly for your use cases."},{"owner":{"account_id":12163602,"reputation":23,"user_id":8880523,"display_name":"user8880523"},"score":1,"creation_date":1656000402,"post_id":72671730,"comment_id":128470837,"body_markdown":"@KevinWittek unit tests that use `io.zonky.test:embedded-database-spring-test:2.1.1` appeared before IT with Testcontainers was created. In my unit test, I tried to use `@DataJpaTest` but with PostgreSQL instead of H2. Yeah, currently, to get rid of this problem, I use `PostgreSQLContainer` in my unit test. This works fine.","body":"@KevinWittek unit tests that use <code>io.zonky.test:embedded-database-spring-test:2.1.1</code> appeared before IT with Testcontainers was created. In my unit test, I tried to use <code>@DataJpaTest</code> but with PostgreSQL instead of H2. Yeah, currently, to get rid of this problem, I use <code>PostgreSQLContainer</code> in my unit test. This works fine."}],"owner":{"account_id":12163602,"reputation":23,"user_id":8880523,"display_name":"user8880523"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":912,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655577007,"creation_date":1655577007,"question_id":72671730,"body_markdown":"I am using `org.testcontainers:postgresql:1.17.2` for my integration tests. I also use `io.zonky.test:embedded-database-spring-test:2.1.1` for unit tests that require a repository.\r\n\r\nA database-related part of `application-it.yml`\r\n```\r\nspring:\r\n  main:\r\n    banner-mode: off\r\n  datasource:\r\n    url: jdbc:postgresql://localhost:5432/db\r\n    username: postgres\r\n    password: postgres\r\n  flyway:\r\n    user: flyway\r\n    password: password\r\n    schemas: public\r\n    placeholders:\r\n      user: ${spring.datasource.username}\r\n```\r\nBaseIT.java:\r\n```\r\n@ActiveProfiles(&quot;it&quot;)\r\n@SpringBootTest\r\n@Testcontainers\r\npublic abstract class BaseIT {\r\n\r\n    //...\r\n    // Some services injections\r\n    //...\r\n\r\n    static MockWebServer server;\r\n\r\n    @Container\r\n    public static PostgreSQLContainer&lt;?&gt; POSTGRESQL_CONTAINER =\r\n            new PostgreSQLContainer&lt;&gt;(&quot;postgres:14.3-alpine&quot;)\r\n                    .withDatabaseName(&quot;db&quot;)\r\n                    .withUsername(&quot;postgres&quot;)\r\n                    .withPassword(&quot;postgres&quot;)\r\n                    .withInitScript(&quot;init.sql&quot;);\r\n\r\n    @DynamicPropertySource\r\n    static void registerProperties(DynamicPropertyRegistry registry) {\r\n        registry.add(&quot;spring.datasource.url&quot;, POSTGRESQL_CONTAINER::getJdbcUrl);\r\n        registry.add(&quot;spring.datasource.username&quot;, POSTGRESQL_CONTAINER::getUsername);\r\n        registry.add(&quot;spring.datasource.password&quot;, POSTGRESQL_CONTAINER::getPassword);\r\n    }\r\n\r\n}\r\n\r\n```\r\nMyIT.java:\r\n```\r\n@TestPropertySource(properties = {\r\n        &quot;app.scheduling.enable=false&quot;\r\n})\r\npublic class MyIT extends BaseIT {\r\n\r\n    @BeforeAll\r\n    public static void beforeEachTest() throws IOException {\r\n        server = new MockWebServer();\r\n        server.start(8999);\r\n    }\r\n\r\n    @AfterEach\r\n    public void afterEachTest() {\r\n        repository.deleteAll();\r\n    }\r\n\r\n    //...\r\n    // Some tests\r\n    //...\r\n}\r\n```\r\nMyUnitTest.java\r\n```\r\n@Import({\r\n        Service.class\r\n})\r\n@DataJpaTest\r\n@TestPropertySource(properties = {\r\n        &quot;spring.jpa.hibernate.ddl-auto=validate&quot;\r\n})\r\n@ActiveProfiles(&quot;it&quot;)\r\n@AutoConfigureEmbeddedDatabase(type = AutoConfigureEmbeddedDatabase.DatabaseType.POSTGRES)\r\npublic class MyUnitTest {\r\n\r\n    @Autowired\r\n    private Repository repository;\r\n    @Autowired\r\n    private Service service;\r\n\r\n    //...\r\n    // Some tests\r\n    //...\r\n}\r\n```\r\nSo, when I run MyIT the following exception occurs. Attaching full stacktrace:\r\n```\r\nFailed to load ApplicationContext\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\tat io.zonky.test.db.EmbeddedDatabaseTestExecutionListener.forEachDatabase(EmbeddedDatabaseTestExecutionListener.java:90)\r\n\tat io.zonky.test.db.EmbeddedDatabaseTestExecutionListener.resetDatabases(EmbeddedDatabaseTestExecutionListener.java:58)\r\n\tat io.zonky.test.db.EmbeddedDatabaseTestExecutionListener.beforeTestClass(EmbeddedDatabaseTestExecutionListener.java:34)\r\n\tat org.springframework.test.context.TestContextManager.beforeTestClass(TestContextManager.java:213)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.beforeAll(SpringExtension.java:113)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$10(ClassBasedTestDescriptor.java:381)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:381)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:205)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\tSuppressed: java.lang.IllegalStateException: Failed to load ApplicationContext\r\n\t\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n\t\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\t\tat io.zonky.test.db.EmbeddedDatabaseTestExecutionListener.forEachDatabase(EmbeddedDatabaseTestExecutionListener.java:90)\r\n\t\tat io.zonky.test.db.EmbeddedDatabaseTestExecutionListener.resetDatabases(EmbeddedDatabaseTestExecutionListener.java:58)\r\n\t\tat io.zonky.test.db.EmbeddedDatabaseTestExecutionListener.afterTestClass(EmbeddedDatabaseTestExecutionListener.java:54)\r\n\t\tat org.springframework.test.context.TestContextManager.afterTestClass(TestContextManager.java:492)\r\n\t\tat org.springframework.test.context.junit.jupiter.SpringExtension.afterAll(SpringExtension.java:122)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$16(ClassBasedTestDescriptor.java:447)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$17(ClassBasedTestDescriptor.java:447)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeAfterAllCallbacks(ClassBasedTestDescriptor.java:447)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:229)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:80)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:161)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:161)\r\n\t\t... 47 more\r\n\tCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [some.group.artifact.ApplicationSpringBootMainClass]; nested exception is java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\r\n\t\tat app//org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:610)\r\n\t\tat app//org.springframework.context.annotation.ConfigurationClassParser.access$800(ConfigurationClassParser.java:111)\r\n\t\tat app//org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:812)\r\n\t\tat java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat app//org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809)\r\n\t\tat app//org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780)\r\n\t\tat app//org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193)\r\n\t\tat app//org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)\r\n\t\tat app//org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\r\n\t\tat app//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\r\n\t\tat app//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\r\n\t\tat app//org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n\t\tat app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n\t\tat app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n\t\tat app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)\r\n\t\tat app//org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n\t\tat app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\r\n\t\tat app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\t\tat app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\t\t... 63 more\r\n\tCaused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\r\n\t\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\r\n\t\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:226)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:372)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:272)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:600)\r\n\t\t... 81 more\r\n\tCaused by: java.lang.IllegalStateException: Mapped port can only be obtained after the container is started\r\n\t\tat org.testcontainers.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:174)\r\n\t\tat org.testcontainers.containers.ContainerState.getMappedPort(ContainerState.java:148)\r\n\t\tat org.testcontainers.containers.PostgreSQLContainer.getJdbcUrl(PostgreSQLContainer.java:84)\r\n\t\tat org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43)\r\n\t\tat org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85)\r\n\t\tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:123)\r\n\t\tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.findPropertyValue(ConfigurationPropertySourcesPropertyResolver.java:97)\r\n\t\tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:74)\r\n\t\tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60)\r\n\t\tat org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:594)\r\n\t\tat org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.hasDataSourceUrlProperty(DataSourceAutoConfiguration.java:153)\r\n\t\tat org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:136)\r\n\t\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\r\n\t\t... 87 more\r\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [some.group.artifact.ApplicationSpringBootMainClass]; nested exception is java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\r\n\tat app//org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:610)\r\n\tat app//org.springframework.context.annotation.ConfigurationClassParser.access$800(ConfigurationClassParser.java:111)\r\n\tat app//org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:812)\r\n\tat java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809)\r\n\tat app//org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780)\r\n\tat app//org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193)\r\n\tat app//org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)\r\n\tat app//org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\r\n\tat app//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\r\n\tat app//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\r\n\tat app//org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n\tat app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n\tat app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n\tat app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)\r\n\tat app//org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n\tat app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\r\n\tat app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\tat app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\t... 61 more\r\nCaused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:226)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:372)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:272)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:600)\r\n\t... 79 more\r\nCaused by: java.lang.IllegalStateException: Mapped port can only be obtained after the container is started\r\n\tat org.testcontainers.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:174)\r\n\tat org.testcontainers.containers.ContainerState.getMappedPort(ContainerState.java:148)\r\n\tat org.testcontainers.containers.PostgreSQLContainer.getJdbcUrl(PostgreSQLContainer.java:84)\r\n\tat org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43)\r\n\tat org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85)\r\n\tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:123)\r\n\tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.findPropertyValue(ConfigurationPropertySourcesPropertyResolver.java:97)\r\n\tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:74)\r\n\tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60)\r\n\tat org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:594)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.hasDataSourceUrlProperty(DataSourceAutoConfiguration.java:153)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:136)\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\r\n\t... 85 more\r\n\r\n```\r\nIn other words, this chain of calls:\r\n```\r\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n    at io.zonky.test.db.EmbeddedDatabaseTestExecutionListener.forEachDatabase(EmbeddedDatabaseTestExecutionListener.java:90)\r\n```\r\n ... leads to these calls:\r\n```\r\n    at org.testcontainers.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:174)\r\n    at org.testcontainers.containers.ContainerState.getMappedPort(ContainerState.java:148)\r\n    at org.testcontainers.containers.PostgreSQLContainer.getJdbcUrl(PostgreSQLContainer.java:84)\r\n    at org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43)\r\n    at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85)\r\n```\r\nbut the container is not UP at this moment (as specified in the exception&#39;s message).\r\nRemoving `io.zonky.test:embedded-database-spring-test:2.1.1` from dependecides helps to resolve this since `EmbeddedDatabaseTestExecutionListener` is no longer present in the classpath.\r\n\r\nHow can &quot;disable&quot; all stuff related with `io.zonky.test:embedded-database-spring-test:2.1.1` during my integration tests? Or at least its `EmbeddedDatabaseTestExecutionListener` that I don&#39;t need in my IT.\r\n\r\nThanks!","title":"SpringBootTest failed to load ApplicationContext due to &#39;Mapped port can only be obtained after the container is started&#39;","body":"<p>I am using <code>org.testcontainers:postgresql:1.17.2</code> for my integration tests. I also use <code>io.zonky.test:embedded-database-spring-test:2.1.1</code> for unit tests that require a repository.</p>\n<p>A database-related part of <code>application-it.yml</code></p>\n<pre><code>spring:\n  main:\n    banner-mode: off\n  datasource:\n    url: jdbc:postgresql://localhost:5432/db\n    username: postgres\n    password: postgres\n  flyway:\n    user: flyway\n    password: password\n    schemas: public\n    placeholders:\n      user: ${spring.datasource.username}\n</code></pre>\n<p>BaseIT.java:</p>\n<pre><code>@ActiveProfiles(&quot;it&quot;)\n@SpringBootTest\n@Testcontainers\npublic abstract class BaseIT {\n\n    //...\n    // Some services injections\n    //...\n\n    static MockWebServer server;\n\n    @Container\n    public static PostgreSQLContainer&lt;?&gt; POSTGRESQL_CONTAINER =\n            new PostgreSQLContainer&lt;&gt;(&quot;postgres:14.3-alpine&quot;)\n                    .withDatabaseName(&quot;db&quot;)\n                    .withUsername(&quot;postgres&quot;)\n                    .withPassword(&quot;postgres&quot;)\n                    .withInitScript(&quot;init.sql&quot;);\n\n    @DynamicPropertySource\n    static void registerProperties(DynamicPropertyRegistry registry) {\n        registry.add(&quot;spring.datasource.url&quot;, POSTGRESQL_CONTAINER::getJdbcUrl);\n        registry.add(&quot;spring.datasource.username&quot;, POSTGRESQL_CONTAINER::getUsername);\n        registry.add(&quot;spring.datasource.password&quot;, POSTGRESQL_CONTAINER::getPassword);\n    }\n\n}\n\n</code></pre>\n<p>MyIT.java:</p>\n<pre><code>@TestPropertySource(properties = {\n        &quot;app.scheduling.enable=false&quot;\n})\npublic class MyIT extends BaseIT {\n\n    @BeforeAll\n    public static void beforeEachTest() throws IOException {\n        server = new MockWebServer();\n        server.start(8999);\n    }\n\n    @AfterEach\n    public void afterEachTest() {\n        repository.deleteAll();\n    }\n\n    //...\n    // Some tests\n    //...\n}\n</code></pre>\n<p>MyUnitTest.java</p>\n<pre><code>@Import({\n        Service.class\n})\n@DataJpaTest\n@TestPropertySource(properties = {\n        &quot;spring.jpa.hibernate.ddl-auto=validate&quot;\n})\n@ActiveProfiles(&quot;it&quot;)\n@AutoConfigureEmbeddedDatabase(type = AutoConfigureEmbeddedDatabase.DatabaseType.POSTGRES)\npublic class MyUnitTest {\n\n    @Autowired\n    private Repository repository;\n    @Autowired\n    private Service service;\n\n    //...\n    // Some tests\n    //...\n}\n</code></pre>\n<p>So, when I run MyIT the following exception occurs. Attaching full stacktrace:</p>\n<pre><code>Failed to load ApplicationContext\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at io.zonky.test.db.EmbeddedDatabaseTestExecutionListener.forEachDatabase(EmbeddedDatabaseTestExecutionListener.java:90)\n    at io.zonky.test.db.EmbeddedDatabaseTestExecutionListener.resetDatabases(EmbeddedDatabaseTestExecutionListener.java:58)\n    at io.zonky.test.db.EmbeddedDatabaseTestExecutionListener.beforeTestClass(EmbeddedDatabaseTestExecutionListener.java:34)\n    at org.springframework.test.context.TestContextManager.beforeTestClass(TestContextManager.java:213)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.beforeAll(SpringExtension.java:113)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$10(ClassBasedTestDescriptor.java:381)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:381)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:205)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:80)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n    Suppressed: java.lang.IllegalStateException: Failed to load ApplicationContext\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\n        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n        at io.zonky.test.db.EmbeddedDatabaseTestExecutionListener.forEachDatabase(EmbeddedDatabaseTestExecutionListener.java:90)\n        at io.zonky.test.db.EmbeddedDatabaseTestExecutionListener.resetDatabases(EmbeddedDatabaseTestExecutionListener.java:58)\n        at io.zonky.test.db.EmbeddedDatabaseTestExecutionListener.afterTestClass(EmbeddedDatabaseTestExecutionListener.java:54)\n        at org.springframework.test.context.TestContextManager.afterTestClass(TestContextManager.java:492)\n        at org.springframework.test.context.junit.jupiter.SpringExtension.afterAll(SpringExtension.java:122)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$16(ClassBasedTestDescriptor.java:447)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$17(ClassBasedTestDescriptor.java:447)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeAfterAllCallbacks(ClassBasedTestDescriptor.java:447)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:229)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:80)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:161)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:161)\n        ... 47 more\n    Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [some.group.artifact.ApplicationSpringBootMainClass]; nested exception is java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\n        at app//org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:610)\n        at app//org.springframework.context.annotation.ConfigurationClassParser.access$800(ConfigurationClassParser.java:111)\n        at app//org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:812)\n        at java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at app//org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809)\n        at app//org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780)\n        at app//org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193)\n        at app//org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)\n        at app//org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\n        at app//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\n        at app//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\n        at app//org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\n        at app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n        at app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n        at app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)\n        at app//org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n        at app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\n        at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n        at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n        ... 63 more\n    Caused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:226)\n        at org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:372)\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:272)\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\n        at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:600)\n        ... 81 more\n    Caused by: java.lang.IllegalStateException: Mapped port can only be obtained after the container is started\n        at org.testcontainers.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:174)\n        at org.testcontainers.containers.ContainerState.getMappedPort(ContainerState.java:148)\n        at org.testcontainers.containers.PostgreSQLContainer.getJdbcUrl(PostgreSQLContainer.java:84)\n        at org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43)\n        at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85)\n        at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:123)\n        at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.findPropertyValue(ConfigurationPropertySourcesPropertyResolver.java:97)\n        at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:74)\n        at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60)\n        at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:594)\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.hasDataSourceUrlProperty(DataSourceAutoConfiguration.java:153)\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:136)\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\n        ... 87 more\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [some.group.artifact.ApplicationSpringBootMainClass]; nested exception is java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\n    at app//org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:610)\n    at app//org.springframework.context.annotation.ConfigurationClassParser.access$800(ConfigurationClassParser.java:111)\n    at app//org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:812)\n    at java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809)\n    at app//org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780)\n    at app//org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193)\n    at app//org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)\n    at app//org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\n    at app//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\n    at app//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\n    at app//org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\n    at app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n    at app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n    at app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)\n    at app//org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n    at app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\n    at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    ... 61 more\nCaused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:226)\n    at org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:372)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:272)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\n    at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:600)\n    ... 79 more\nCaused by: java.lang.IllegalStateException: Mapped port can only be obtained after the container is started\n    at org.testcontainers.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:174)\n    at org.testcontainers.containers.ContainerState.getMappedPort(ContainerState.java:148)\n    at org.testcontainers.containers.PostgreSQLContainer.getJdbcUrl(PostgreSQLContainer.java:84)\n    at org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43)\n    at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85)\n    at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:123)\n    at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.findPropertyValue(ConfigurationPropertySourcesPropertyResolver.java:97)\n    at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:74)\n    at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60)\n    at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:594)\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.hasDataSourceUrlProperty(DataSourceAutoConfiguration.java:153)\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:136)\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\n    ... 85 more\n\n</code></pre>\n<p>In other words, this chain of calls:</p>\n<pre><code>at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at io.zonky.test.db.EmbeddedDatabaseTestExecutionListener.forEachDatabase(EmbeddedDatabaseTestExecutionListener.java:90)\n</code></pre>\n<p>... leads to these calls:</p>\n<pre><code>    at org.testcontainers.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:174)\n    at org.testcontainers.containers.ContainerState.getMappedPort(ContainerState.java:148)\n    at org.testcontainers.containers.PostgreSQLContainer.getJdbcUrl(PostgreSQLContainer.java:84)\n    at org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43)\n    at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85)\n</code></pre>\n<p>but the container is not UP at this moment (as specified in the exception's message).\nRemoving <code>io.zonky.test:embedded-database-spring-test:2.1.1</code> from dependecides helps to resolve this since <code>EmbeddedDatabaseTestExecutionListener</code> is no longer present in the classpath.</p>\n<p>How can &quot;disable&quot; all stuff related with <code>io.zonky.test:embedded-database-spring-test:2.1.1</code> during my integration tests? Or at least its <code>EmbeddedDatabaseTestExecutionListener</code> that I don't need in my IT.</p>\n<p>Thanks!</p>\n"},{"tags":["java","string","concatenation"],"comments":[{"owner":{"account_id":7913,"reputation":33220,"user_id":13940,"accept_rate":58,"display_name":"Greg Mattes"},"score":4,"creation_date":1327452305,"post_id":47605,"comment_id":11275138,"body_markdown":"possible duplicate of [StringBuilder vs String concatenation in toString() in Java](http://stackoverflow.com/questions/1532461/stringbuilder-vs-string-concatenation-in-tostring-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1532461/stringbuilder-vs-string-concatenation-in-tostring-in-java\">StringBuilder vs String concatenation in toString() in Java</a>"},{"owner":{"account_id":3144128,"reputation":386,"user_id":2737479,"accept_rate":80,"display_name":"Galen Nare"},"score":3,"creation_date":1383771021,"post_id":47605,"comment_id":29473689,"body_markdown":"I&#39;m not sure `+` can be decompiled.","body":"I&#39;m not sure <code>+</code> can be decompiled."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1410796767,"post_id":47605,"comment_id":40450317,"body_markdown":"Use *javap* to disassemble a Java class file.","body":"Use <i>javap</i> to disassemble a Java class file."},{"owner":{"account_id":224004,"reputation":4938,"user_id":483588,"accept_rate":71,"display_name":"Ujjwal Singh"},"score":0,"creation_date":1443843580,"post_id":47605,"comment_id":53664696,"body_markdown":"Due to &#39;immutability&#39; you should probably be using `StringBuffer` or `StringBuilder`-(thread unsafe thus faster, instead","body":"Due to &#39;immutability&#39; you should probably be using <code>StringBuffer</code> or <code>StringBuilder</code>-(thread unsafe thus faster, instead"},{"owner":{"account_id":9007431,"reputation":123,"user_id":6713531,"display_name":"user9999"},"score":0,"creation_date":1607987632,"post_id":47605,"comment_id":115439876,"body_markdown":"https://dzone.com/articles/concatenating-strings-in-java-9","body":"<a href=\"https://dzone.com/articles/concatenating-strings-in-java-9\" rel=\"nofollow noreferrer\">dzone.com/articles/concatenating-strings-in-java-9</a>"}],"answers":[{"tags":[],"owner":{"account_id":149,"reputation":54171,"user_id":184,"accept_rate":85,"display_name":"Niyaz"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1491069807,"creation_date":1220717766,"answer_id":47615,"question_id":47605,"body_markdown":"The **+ operator** can work between a string and a string, char, integer, double or float data type value. It just converts the value to its string representation before concatenation.\r\n\r\nThe **concat operator** can only be done on and with strings. It checks for data type compatibility and throws an error, if they don&#39;t match.\r\n\r\nExcept this, the code you provided does the same stuff.","title":"String concatenation: concat() vs &quot;+&quot; operator","body":"<p>The <strong>+ operator</strong> can work between a string and a string, char, integer, double or float data type value. It just converts the value to its string representation before concatenation.</p>\n\n<p>The <strong>concat operator</strong> can only be done on and with strings. It checks for data type compatibility and throws an error, if they don't match.</p>\n\n<p>Except this, the code you provided does the same stuff.</p>\n"},{"tags":[],"owner":{"account_id":2622,"reputation":2782,"user_id":3666,"display_name":"Bartosz Bierkowski"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1532702772,"creation_date":1220718159,"answer_id":47624,"question_id":47605,"body_markdown":"I don&#39;t think so.\r\n\r\n`a.concat(b)` is implemented in String and I think the implementation didn&#39;t change much since early java machines. The `+` operation implementation depends on Java version and compiler. Currently `+` is implemented using [`StringBuffer`][1] to make the operation as fast as possible. Maybe in the future, this will change. In earlier versions of java `+` operation on Strings was much slower as it produced intermediate results.\r\n\r\nI guess that `+=` is implemented using `+` and similarly optimized.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuffer.html","title":"String concatenation: concat() vs &quot;+&quot; operator","body":"<p>I don't think so.</p>\n\n<p><code>a.concat(b)</code> is implemented in String and I think the implementation didn't change much since early java machines. The <code>+</code> operation implementation depends on Java version and compiler. Currently <code>+</code> is implemented using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuffer.html\" rel=\"nofollow noreferrer\"><code>StringBuffer</code></a> to make the operation as fast as possible. Maybe in the future, this will change. In earlier versions of java <code>+</code> operation on Strings was much slower as it produced intermediate results.</p>\n\n<p>I guess that <code>+=</code> is implemented using <code>+</code> and similarly optimized.</p>\n"},{"tags":[],"owner":{"account_id":1273,"reputation":187668,"user_id":1694,"accept_rate":95,"display_name":"Eli Courtwright"},"down_vote_count":0,"up_vote_count":103,"is_accepted":false,"score":103,"last_activity_date":1404742171,"creation_date":1220718249,"answer_id":47626,"question_id":47605,"body_markdown":"[Niyaz][1] is correct, but it&#39;s also worth noting that the special + operator can be converted into something more efficient by the Java compiler.  Java has a StringBuilder class which represents a non-thread-safe, mutable String.  When performing a bunch of String concatenations, the Java compiler silently converts\r\n\r\n    String a = b + c + d;\r\n\r\ninto\r\n\r\n    String a = new StringBuilder(b).append(c).append(d).toString();\r\n\r\nwhich for large strings is significantly more efficient.  As far as I know, this does not happen when you use the concat method.\r\n\r\nHowever, the concat method is more efficient when concatenating an empty String onto an existing String.  In this case, the JVM does not need to create a new String object and can simply return the existing one.  See &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/lang/String.html#concat(java.lang.String)&quot;&gt;the concat documentation&lt;/a&gt; to confirm this.\r\n\r\nSo if you&#39;re super-concerned about efficiency then you should use the concat method when concatenating possibly-empty Strings, and use + otherwise.  However, the performance difference should be negligible and you probably shouldn&#39;t ever worry about this.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/47615/662581","title":"String concatenation: concat() vs &quot;+&quot; operator","body":"<p><a href=\"https://stackoverflow.com/a/47615/662581\">Niyaz</a> is correct, but it's also worth noting that the special + operator can be converted into something more efficient by the Java compiler.  Java has a StringBuilder class which represents a non-thread-safe, mutable String.  When performing a bunch of String concatenations, the Java compiler silently converts</p>\n\n<pre><code>String a = b + c + d;\n</code></pre>\n\n<p>into</p>\n\n<pre><code>String a = new StringBuilder(b).append(c).append(d).toString();\n</code></pre>\n\n<p>which for large strings is significantly more efficient.  As far as I know, this does not happen when you use the concat method.</p>\n\n<p>However, the concat method is more efficient when concatenating an empty String onto an existing String.  In this case, the JVM does not need to create a new String object and can simply return the existing one.  See <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#concat(java.lang.String)\" rel=\"noreferrer\">the concat documentation</a> to confirm this.</p>\n\n<p>So if you're super-concerned about efficiency then you should use the concat method when concatenating possibly-empty Strings, and use + otherwise.  However, the performance difference should be negligible and you probably shouldn't ever worry about this.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":646,"is_accepted":true,"score":646,"last_activity_date":1507813020,"creation_date":1220718337,"answer_id":47628,"question_id":47605,"body_markdown":"No, not quite.\r\n\r\nFirstly, there&#39;s a slight difference in semantics. If `a` is `null`, then `a.concat(b)` throws a `NullPointerException` but `a+=b` will treat the original value of `a` as if it were `null`. Furthermore, the `concat()` method only accepts `String` values while the `+` operator will silently convert the argument to a String (using the `toString()` method for objects). So the `concat()` method is more strict in what it accepts.\r\n\r\nTo look under the hood, write a simple class with `a += b;`\r\n\r\n    public class Concat {\r\n        String cat(String a, String b) {\r\n            a += b;\r\n            return a;\r\n        }\r\n    }\r\n\r\nNow disassemble with `javap -c` (included in the Sun JDK). You should see a listing including:\r\n\r\n    java.lang.String cat(java.lang.String, java.lang.String);\r\n      Code:\r\n       0:   new     #2; //class java/lang/StringBuilder\r\n       3:   dup\r\n       4:   invokespecial   #3; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n       7:   aload_1\r\n       8:   invokevirtual   #4; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       11:  aload_2\r\n       12:  invokevirtual   #4; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       15:  invokevirtual   #5; //Method java/lang/StringBuilder.toString:()Ljava/lang/    String;\r\n       18:  astore_1\r\n       19:  aload_1\r\n       20:  areturn\r\n\r\nSo, `a += b` is the equivalent of\r\n\r\n    a = new StringBuilder()\r\n        .append(a)\r\n        .append(b)\r\n        .toString();\r\n\r\nThe `concat` method should be faster. However, with more strings the `StringBuilder` method wins, at least in terms of performance.\r\n\r\nThe source code of `String` and `StringBuilder` (and its package-private base class) is available in src.zip of the Sun JDK. You can see that you are building up a char array (resizing as necessary) and then throwing it away when you create the final `String`. In practice memory allocation is surprisingly fast.\r\n\r\n**Update:** As Pawel Adamski notes, performance has changed in more recent HotSpot. `javac` still produces exactly the same code, but the bytecode compiler cheats. Simple testing entirely fails because the entire body of code is thrown away. Summing `System.identityHashCode` (not `String.hashCode`) shows the `StringBuffer` code has a slight advantage. Subject to change when the next update is released, or if you use a different JVM. From [@lukaseder][1], [a list of HotSpot JVM intrinsics][2].\r\n\r\n\r\n  [1]: https://twitter.com/lukaseder\r\n  [2]: https://gist.github.com/apangin/7a9b7062a4bd0cd41fcc","title":"String concatenation: concat() vs &quot;+&quot; operator","body":"<p>No, not quite.</p>\n\n<p>Firstly, there's a slight difference in semantics. If <code>a</code> is <code>null</code>, then <code>a.concat(b)</code> throws a <code>NullPointerException</code> but <code>a+=b</code> will treat the original value of <code>a</code> as if it were <code>null</code>. Furthermore, the <code>concat()</code> method only accepts <code>String</code> values while the <code>+</code> operator will silently convert the argument to a String (using the <code>toString()</code> method for objects). So the <code>concat()</code> method is more strict in what it accepts.</p>\n\n<p>To look under the hood, write a simple class with <code>a += b;</code></p>\n\n<pre><code>public class Concat {\n    String cat(String a, String b) {\n        a += b;\n        return a;\n    }\n}\n</code></pre>\n\n<p>Now disassemble with <code>javap -c</code> (included in the Sun JDK). You should see a listing including:</p>\n\n<pre><code>java.lang.String cat(java.lang.String, java.lang.String);\n  Code:\n   0:   new     #2; //class java/lang/StringBuilder\n   3:   dup\n   4:   invokespecial   #3; //Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n   7:   aload_1\n   8:   invokevirtual   #4; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   11:  aload_2\n   12:  invokevirtual   #4; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   15:  invokevirtual   #5; //Method java/lang/StringBuilder.toString:()Ljava/lang/    String;\n   18:  astore_1\n   19:  aload_1\n   20:  areturn\n</code></pre>\n\n<p>So, <code>a += b</code> is the equivalent of</p>\n\n<pre><code>a = new StringBuilder()\n    .append(a)\n    .append(b)\n    .toString();\n</code></pre>\n\n<p>The <code>concat</code> method should be faster. However, with more strings the <code>StringBuilder</code> method wins, at least in terms of performance.</p>\n\n<p>The source code of <code>String</code> and <code>StringBuilder</code> (and its package-private base class) is available in src.zip of the Sun JDK. You can see that you are building up a char array (resizing as necessary) and then throwing it away when you create the final <code>String</code>. In practice memory allocation is surprisingly fast.</p>\n\n<p><strong>Update:</strong> As Pawel Adamski notes, performance has changed in more recent HotSpot. <code>javac</code> still produces exactly the same code, but the bytecode compiler cheats. Simple testing entirely fails because the entire body of code is thrown away. Summing <code>System.identityHashCode</code> (not <code>String.hashCode</code>) shows the <code>StringBuffer</code> code has a slight advantage. Subject to change when the next update is released, or if you use a different JVM. From <a href=\"https://twitter.com/lukaseder\" rel=\"noreferrer\">@lukaseder</a>, <a href=\"https://gist.github.com/apangin/7a9b7062a4bd0cd41fcc\" rel=\"noreferrer\">a list of HotSpot JVM intrinsics</a>.</p>\n"},{"tags":[],"owner":{"account_id":2968,"reputation":14291,"user_id":4213,"accept_rate":80,"display_name":"Marcio Aguiar"},"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1378846532,"creation_date":1220723960,"answer_id":47694,"question_id":47605,"body_markdown":"How about some simple testing? Used the code below:\r\n\r\n    long start = System.currentTimeMillis();\r\n                \r\n    String a = &quot;a&quot;;\r\n                \r\n    String b = &quot;b&quot;;\r\n        \r\n    for (int i = 0; i &lt; 10000000; i++) { //ten million times\r\n         String c = a.concat(b);\r\n    }\r\n                \r\n    long end = System.currentTimeMillis();\r\n                \r\n    System.out.println(end - start);\r\n\r\n- The `&quot;a + b&quot;` version executed in **2500ms**.\r\n- The `a.concat(b)` executed in **1200ms**.\r\n\r\nTested several times. The `concat()` version execution took half of the time on average.\r\n\r\nThis result surprised me because the `concat()` method always creates a new string (it returns a &quot;`new String(result)`&quot;. It&#39;s well known that:\r\n\r\n    String a = new String(&quot;a&quot;) // more than 20 times slower than String a = &quot;a&quot;\r\n\r\nWhy wasn&#39;t the compiler capable of optimize the string creation in &quot;a + b&quot; code, knowing the it always resulted in the same string? It could avoid a new string creation.\r\nIf you don&#39;t believe the statement above, test for your self. ","title":"String concatenation: concat() vs &quot;+&quot; operator","body":"<p>How about some simple testing? Used the code below:</p>\n\n<pre><code>long start = System.currentTimeMillis();\n\nString a = \"a\";\n\nString b = \"b\";\n\nfor (int i = 0; i &lt; 10000000; i++) { //ten million times\n     String c = a.concat(b);\n}\n\nlong end = System.currentTimeMillis();\n\nSystem.out.println(end - start);\n</code></pre>\n\n<ul>\n<li>The <code>\"a + b\"</code> version executed in <strong>2500ms</strong>.</li>\n<li>The <code>a.concat(b)</code> executed in <strong>1200ms</strong>.</li>\n</ul>\n\n<p>Tested several times. The <code>concat()</code> version execution took half of the time on average.</p>\n\n<p>This result surprised me because the <code>concat()</code> method always creates a new string (it returns a \"<code>new String(result)</code>\". It's well known that:</p>\n\n<pre><code>String a = new String(\"a\") // more than 20 times slower than String a = \"a\"\n</code></pre>\n\n<p>Why wasn't the compiler capable of optimize the string creation in \"a + b\" code, knowing the it always resulted in the same string? It could avoid a new string creation.\nIf you don't believe the statement above, test for your self. </p>\n"},{"tags":[],"owner":{"account_id":3416,"reputation":81767,"user_id":4926,"accept_rate":85,"display_name":"Jason Cohen"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1220728792,"creation_date":1220726308,"answer_id":47716,"question_id":47605,"body_markdown":"Tom is correct in describing exactly what the + operator does.  It creates a temporary `StringBuilder`, appends the parts, and finishes with `toString()`.\r\n\r\nHowever, all of the answers so far are ignoring the effects of HotSpot runtime optimizations.  Specifically, these temporary operations are recognized as a common pattern and are replaced with more efficient machine code at run-time.\r\n\r\n@marcio: You&#39;ve created a [micro-benchmark][1]; with modern JVM&#39;s this is not a valid way to profile code.\r\n\r\nThe reason run-time optimization matters is that many of these differences in code -- even including object-creation -- are completely different once HotSpot gets going.  The only way to know for sure is profiling your code &lt;i&gt;in situ&lt;/i&gt;.\r\n\r\nFinally, all of these methods are in fact incredibly fast.  This might be a case of premature optimization.  If you have code that concatenates strings a lot, the way to get maximum speed probably has nothing to do with which operators you choose and instead the algorithm you&#39;re using!\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-jtp02225.html","title":"String concatenation: concat() vs &quot;+&quot; operator","body":"<p>Tom is correct in describing exactly what the + operator does.  It creates a temporary <code>StringBuilder</code>, appends the parts, and finishes with <code>toString()</code>.</p>\n\n<p>However, all of the answers so far are ignoring the effects of HotSpot runtime optimizations.  Specifically, these temporary operations are recognized as a common pattern and are replaced with more efficient machine code at run-time.</p>\n\n<p>@marcio: You've created a <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp02225.html\" rel=\"noreferrer\">micro-benchmark</a>; with modern JVM's this is not a valid way to profile code.</p>\n\n<p>The reason run-time optimization matters is that many of these differences in code -- even including object-creation -- are completely different once HotSpot gets going.  The only way to know for sure is profiling your code <i>in situ</i>.</p>\n\n<p>Finally, all of these methods are in fact incredibly fast.  This might be a case of premature optimization.  If you have code that concatenates strings a lot, the way to get maximum speed probably has nothing to do with which operators you choose and instead the algorithm you're using!</p>\n"},{"tags":[],"owner":{"account_id":1853,"reputation":2129,"user_id":2551,"accept_rate":0,"display_name":"ckpwong"},"down_vote_count":3,"up_vote_count":55,"is_accepted":false,"score":52,"last_activity_date":1220729112,"creation_date":1220729112,"answer_id":47758,"question_id":47605,"body_markdown":"I ran a similar test as @marcio but with the following loop instead:\r\n\r\n    String c = a;\r\n    for (long i = 0; i &lt; 100000L; i++) {\r\n        c = c.concat(b); // make sure javac cannot skip the loop\r\n        // using c += b for the alternative\r\n    }\r\n\r\nJust for good measure, I threw in `StringBuilder.append()` as well.  Each test was run 10 times, with 100k reps for each run.  Here are the results:\r\n\r\n  - `StringBuilder` wins hands down.  The clock time result was 0 for most the runs, and the longest took 16ms.\r\n  - `a += b` takes about 40000ms (40s) for each run.\r\n  - `concat` only requires 10000ms (10s) per run.\r\n\r\nI haven&#39;t decompiled the class to see the internals or run it through profiler yet, but I suspect `a += b` spends much of the time creating new objects of `StringBuilder` and then converting them back to `String`.","title":"String concatenation: concat() vs &quot;+&quot; operator","body":"<p>I ran a similar test as @marcio but with the following loop instead:</p>\n\n<pre><code>String c = a;\nfor (long i = 0; i &lt; 100000L; i++) {\n    c = c.concat(b); // make sure javac cannot skip the loop\n    // using c += b for the alternative\n}\n</code></pre>\n\n<p>Just for good measure, I threw in <code>StringBuilder.append()</code> as well.  Each test was run 10 times, with 100k reps for each run.  Here are the results:</p>\n\n<ul>\n<li><code>StringBuilder</code> wins hands down.  The clock time result was 0 for most the runs, and the longest took 16ms.</li>\n<li><code>a += b</code> takes about 40000ms (40s) for each run.</li>\n<li><code>concat</code> only requires 10000ms (10s) per run.</li>\n</ul>\n\n<p>I haven't decompiled the class to see the internals or run it through profiler yet, but I suspect <code>a += b</code> spends much of the time creating new objects of <code>StringBuilder</code> and then converting them back to <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":1041646,"reputation":5029,"user_id":1047565,"accept_rate":49,"display_name":"Deepak Sharma"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1496697353,"creation_date":1408434540,"answer_id":25378169,"question_id":47605,"body_markdown":"Basically, there are two important differences between + and the `concat` method.\r\n\r\n1. If you are using the **concat** method then you would only be able to concatenate strings while in case of the **+** operator, you can also concatenate the string with any data type.\r\n\r\n    **For Example:**\r\n\r\n        String s = 10 + &quot;Hello&quot;;\r\n\r\n    In this case, the output should be **10Hello**.\r\n\r\n        String s = &quot;I&quot;;\r\n        String s1 = s.concat(&quot;am&quot;).concat(&quot;good&quot;).concat(&quot;boy&quot;);\r\n        System.out.println(s1);\r\n\r\n    In the above case you have to provide two strings mandatory.\r\n\r\n2. The second and main difference between **+** and **concat** is that:\r\n\r\n    **Case 1:**\r\n    Suppose I concat the same strings with **concat** operator in this way\r\n\r\n        String s=&quot;I&quot;;\r\n        String s1=s.concat(&quot;am&quot;).concat(&quot;good&quot;).concat(&quot;boy&quot;);\r\n        System.out.println(s1);\r\n\r\n    In this case total number of objects created in the pool are 7 like this:\r\n\r\n        I\r\n        am\r\n        good\r\n        boy\r\n        Iam\r\n        Iamgood\r\n        Iamgoodboy\r\n\r\n    **Case 2:**\r\n\r\n    Now I am going to concatinate the same strings via **+** operator\r\n\r\n        String s=&quot;I&quot;+&quot;am&quot;+&quot;good&quot;+&quot;boy&quot;;\r\n        System.out.println(s);\r\n\r\n    In the above case total number of objects created are only 5.\r\n\r\n    Actually when we concatinate the strings via **+** operator then it maintains a StringBuffer class to perform the same task as follows:-\r\n\r\n        StringBuffer sb = new StringBuffer(&quot;I&quot;);\r\n        sb.append(&quot;am&quot;);\r\n        sb.append(&quot;good&quot;);\r\n        sb.append(&quot;boy&quot;);\r\n        System.out.println(sb);\r\n\r\n    In this way it will create only five objects.\r\n\r\nSo guys these are the basic differences between **+** and the **concat** method.\r\nEnjoy :)\r\n","title":"String concatenation: concat() vs &quot;+&quot; operator","body":"<p>Basically, there are two important differences between + and the <code>concat</code> method.</p>\n\n<ol>\n<li><p>If you are using the <strong>concat</strong> method then you would only be able to concatenate strings while in case of the <strong>+</strong> operator, you can also concatenate the string with any data type.</p>\n\n<p><strong>For Example:</strong></p>\n\n<pre><code>String s = 10 + \"Hello\";\n</code></pre>\n\n<p>In this case, the output should be <strong>10Hello</strong>.</p>\n\n<pre><code>String s = \"I\";\nString s1 = s.concat(\"am\").concat(\"good\").concat(\"boy\");\nSystem.out.println(s1);\n</code></pre>\n\n<p>In the above case you have to provide two strings mandatory.</p></li>\n<li><p>The second and main difference between <strong>+</strong> and <strong>concat</strong> is that:</p>\n\n<p><strong>Case 1:</strong>\nSuppose I concat the same strings with <strong>concat</strong> operator in this way</p>\n\n<pre><code>String s=\"I\";\nString s1=s.concat(\"am\").concat(\"good\").concat(\"boy\");\nSystem.out.println(s1);\n</code></pre>\n\n<p>In this case total number of objects created in the pool are 7 like this:</p>\n\n<pre><code>I\nam\ngood\nboy\nIam\nIamgood\nIamgoodboy\n</code></pre>\n\n<p><strong>Case 2:</strong></p>\n\n<p>Now I am going to concatinate the same strings via <strong>+</strong> operator</p>\n\n<pre><code>String s=\"I\"+\"am\"+\"good\"+\"boy\";\nSystem.out.println(s);\n</code></pre>\n\n<p>In the above case total number of objects created are only 5.</p>\n\n<p>Actually when we concatinate the strings via <strong>+</strong> operator then it maintains a StringBuffer class to perform the same task as follows:-</p>\n\n<pre><code>StringBuffer sb = new StringBuffer(\"I\");\nsb.append(\"am\");\nsb.append(\"good\");\nsb.append(\"boy\");\nSystem.out.println(sb);\n</code></pre>\n\n<p>In this way it will create only five objects.</p></li>\n</ol>\n\n<p>So guys these are the basic differences between <strong>+</strong> and the <strong>concat</strong> method.\nEnjoy :)</p>\n"},{"tags":[],"owner":{"account_id":5746352,"reputation":57,"user_id":4537488,"accept_rate":56,"display_name":"iamreza"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1496697483,"creation_date":1423561881,"answer_id":28428596,"question_id":47605,"body_markdown":"When using +, the speed decreases as the string&#39;s length increases, but when using concat, the speed is more stable, and the best option is using the StringBuilder class which has stable speed in order to do that.\r\n\r\nI guess you can understand why. But the totally best way for creating long strings is using StringBuilder() and append(), either speed will be unacceptable.\r\n","title":"String concatenation: concat() vs &quot;+&quot; operator","body":"<p>When using +, the speed decreases as the string's length increases, but when using concat, the speed is more stable, and the best option is using the StringBuilder class which has stable speed in order to do that.</p>\n\n<p>I guess you can understand why. But the totally best way for creating long strings is using StringBuilder() and append(), either speed will be unacceptable.</p>\n"},{"tags":[],"owner":{"account_id":3064504,"reputation":2117,"user_id":2995907,"accept_rate":56,"display_name":"dingalapadum"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1655576959,"creation_date":1490540444,"answer_id":43030370,"question_id":47605,"body_markdown":"For the sake of completeness, I wanted to add that the definition of the &#39;+&#39; operator can be found in the [JLS SE8 15.18.1][1]:\r\n\r\n&gt; *If only one operand expression is of type String, then string\r\n&gt; conversion (&#167;5.1.11) is performed on the other operand to produce a\r\n&gt; string at run time.*\r\n&gt; \r\n&gt; *The result of string concatenation is a reference to a String object\r\n&gt; that is the concatenation of the two operand strings. The characters\r\n&gt; of the left-hand operand precede the characters of the right-hand\r\n&gt; operand in the newly created string.*\r\n&gt; \r\n&gt; *The String object is newly created (&#167;12.5) unless the expression is a\r\n&gt; constant expression (&#167;15.28)*\r\n\r\nAbout the implementation the JLS says the following:\r\n\r\n&gt; *An implementation may choose to perform conversion and concatenation\r\n&gt; in one step to avoid creating and then discarding an intermediate\r\n&gt; String object. To increase the performance of repeated string\r\n&gt; concatenation, a Java compiler may use the StringBuffer class or a\r\n&gt; similar technique to reduce the number of intermediate String objects\r\n&gt; that are created by evaluation of an expression.*\r\n&gt; \r\n&gt; *For primitive types, an implementation may also optimize away the\r\n&gt; creation of a wrapper object by converting directly from a primitive\r\n&gt; type to a string.*\r\n\r\nSo judging from the &#39;a Java compiler may use the StringBuffer class or a similar technique to reduce&#39;, different compilers could produce different byte-code. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.18.1\r\n","title":"String concatenation: concat() vs &quot;+&quot; operator","body":"<p>For the sake of completeness, I wanted to add that the definition of the '+' operator can be found in the <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.18.1\" rel=\"nofollow noreferrer\">JLS SE8 15.18.1</a>:</p>\n<blockquote>\n<p><em>If only one operand expression is of type String, then string\nconversion (5.1.11) is performed on the other operand to produce a\nstring at run time.</em></p>\n<p><em>The result of string concatenation is a reference to a String object\nthat is the concatenation of the two operand strings. The characters\nof the left-hand operand precede the characters of the right-hand\noperand in the newly created string.</em></p>\n<p><em>The String object is newly created (12.5) unless the expression is a\nconstant expression (15.28)</em></p>\n</blockquote>\n<p>About the implementation the JLS says the following:</p>\n<blockquote>\n<p><em>An implementation may choose to perform conversion and concatenation\nin one step to avoid creating and then discarding an intermediate\nString object. To increase the performance of repeated string\nconcatenation, a Java compiler may use the StringBuffer class or a\nsimilar technique to reduce the number of intermediate String objects\nthat are created by evaluation of an expression.</em></p>\n<p><em>For primitive types, an implementation may also optimize away the\ncreation of a wrapper object by converting directly from a primitive\ntype to a string.</em></p>\n</blockquote>\n<p>So judging from the 'a Java compiler may use the StringBuffer class or a similar technique to reduce', different compilers could produce different byte-code.</p>\n"},{"tags":[],"owner":{"account_id":1322869,"reputation":3345,"user_id":1268294,"accept_rate":81,"display_name":"Pawe Adamski"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1506675374,"creation_date":1506675374,"answer_id":46485284,"question_id":47605,"body_markdown":"Most answers here are from 2008. It looks that things have changed over the time.  My latest benchmarks made with JMH shows that on Java 8 `+` is around two times faster than `concat`. \r\n\r\nMy benchmark:\r\n\r\n    @Warmup(iterations = 5, time = 200, timeUnit = TimeUnit.MILLISECONDS)\r\n    @Measurement(iterations = 5, time = 200, timeUnit = TimeUnit.MILLISECONDS)\r\n    public class StringConcatenation {\r\n    \r\n        @org.openjdk.jmh.annotations.State(Scope.Thread)\r\n        public static class State2 {\r\n            public String a = &quot;abc&quot;;\r\n            public String b = &quot;xyz&quot;;\r\n        }\r\n    \r\n        @org.openjdk.jmh.annotations.State(Scope.Thread)\r\n        public static class State3 {\r\n            public String a = &quot;abc&quot;;\r\n            public String b = &quot;xyz&quot;;\r\n            public String c = &quot;123&quot;;\r\n        }\r\n    \r\n    \r\n        @org.openjdk.jmh.annotations.State(Scope.Thread)\r\n        public static class State4 {\r\n            public String a = &quot;abc&quot;;\r\n            public String b = &quot;xyz&quot;;\r\n            public String c = &quot;123&quot;;\r\n            public String d = &quot;!@#&quot;;\r\n        }\r\n    \r\n        @Benchmark\r\n        public void plus_2(State2 state, Blackhole blackhole) {\r\n            blackhole.consume(state.a+state.b);\r\n        }\r\n    \r\n        @Benchmark\r\n        public void plus_3(State3 state, Blackhole blackhole) {\r\n            blackhole.consume(state.a+state.b+state.c);\r\n        }\r\n    \r\n        @Benchmark\r\n        public void plus_4(State4 state, Blackhole blackhole) {\r\n            blackhole.consume(state.a+state.b+state.c+state.d);\r\n        }\r\n    \r\n        @Benchmark\r\n        public void stringbuilder_2(State2 state, Blackhole blackhole) {\r\n            blackhole.consume(new StringBuilder().append(state.a).append(state.b).toString());\r\n        }\r\n    \r\n        @Benchmark\r\n        public void stringbuilder_3(State3 state, Blackhole blackhole) {\r\n            blackhole.consume(new StringBuilder().append(state.a).append(state.b).append(state.c).toString());\r\n        }\r\n    \r\n        @Benchmark\r\n        public void stringbuilder_4(State4 state, Blackhole blackhole) {\r\n            blackhole.consume(new StringBuilder().append(state.a).append(state.b).append(state.c).append(state.d).toString());\r\n        }\r\n    \r\n        @Benchmark\r\n        public void concat_2(State2 state, Blackhole blackhole) {\r\n            blackhole.consume(state.a.concat(state.b));\r\n        }\r\n    \r\n        @Benchmark\r\n        public void concat_3(State3 state, Blackhole blackhole) {\r\n            blackhole.consume(state.a.concat(state.b.concat(state.c)));\r\n        }\r\n    \r\n    \r\n        @Benchmark\r\n        public void concat_4(State4 state, Blackhole blackhole) {\r\n            blackhole.consume(state.a.concat(state.b.concat(state.c.concat(state.d))));\r\n        }\r\n    }\r\n\r\nResults:\r\n\r\n    Benchmark                             Mode  Cnt         Score         Error  Units\r\n    StringConcatenation.concat_2         thrpt   50  24908871.258 &#177; 1011269.986  ops/s\r\n    StringConcatenation.concat_3         thrpt   50  14228193.918 &#177;  466892.616  ops/s\r\n    StringConcatenation.concat_4         thrpt   50   9845069.776 &#177;  350532.591  ops/s\r\n    StringConcatenation.plus_2           thrpt   50  38999662.292 &#177; 8107397.316  ops/s\r\n    StringConcatenation.plus_3           thrpt   50  34985722.222 &#177; 5442660.250  ops/s\r\n    StringConcatenation.plus_4           thrpt   50  31910376.337 &#177; 2861001.162  ops/s\r\n    StringConcatenation.stringbuilder_2  thrpt   50  40472888.230 &#177; 9011210.632  ops/s\r\n    StringConcatenation.stringbuilder_3  thrpt   50  33902151.616 &#177; 5449026.680  ops/s\r\n    StringConcatenation.stringbuilder_4  thrpt   50  29220479.267 &#177; 3435315.681  ops/s\r\n\r\n\r\n","title":"String concatenation: concat() vs &quot;+&quot; operator","body":"<p>Most answers here are from 2008. It looks that things have changed over the time.  My latest benchmarks made with JMH shows that on Java 8 <code>+</code> is around two times faster than <code>concat</code>. </p>\n\n<p>My benchmark:</p>\n\n<pre><code>@Warmup(iterations = 5, time = 200, timeUnit = TimeUnit.MILLISECONDS)\n@Measurement(iterations = 5, time = 200, timeUnit = TimeUnit.MILLISECONDS)\npublic class StringConcatenation {\n\n    @org.openjdk.jmh.annotations.State(Scope.Thread)\n    public static class State2 {\n        public String a = \"abc\";\n        public String b = \"xyz\";\n    }\n\n    @org.openjdk.jmh.annotations.State(Scope.Thread)\n    public static class State3 {\n        public String a = \"abc\";\n        public String b = \"xyz\";\n        public String c = \"123\";\n    }\n\n\n    @org.openjdk.jmh.annotations.State(Scope.Thread)\n    public static class State4 {\n        public String a = \"abc\";\n        public String b = \"xyz\";\n        public String c = \"123\";\n        public String d = \"!@#\";\n    }\n\n    @Benchmark\n    public void plus_2(State2 state, Blackhole blackhole) {\n        blackhole.consume(state.a+state.b);\n    }\n\n    @Benchmark\n    public void plus_3(State3 state, Blackhole blackhole) {\n        blackhole.consume(state.a+state.b+state.c);\n    }\n\n    @Benchmark\n    public void plus_4(State4 state, Blackhole blackhole) {\n        blackhole.consume(state.a+state.b+state.c+state.d);\n    }\n\n    @Benchmark\n    public void stringbuilder_2(State2 state, Blackhole blackhole) {\n        blackhole.consume(new StringBuilder().append(state.a).append(state.b).toString());\n    }\n\n    @Benchmark\n    public void stringbuilder_3(State3 state, Blackhole blackhole) {\n        blackhole.consume(new StringBuilder().append(state.a).append(state.b).append(state.c).toString());\n    }\n\n    @Benchmark\n    public void stringbuilder_4(State4 state, Blackhole blackhole) {\n        blackhole.consume(new StringBuilder().append(state.a).append(state.b).append(state.c).append(state.d).toString());\n    }\n\n    @Benchmark\n    public void concat_2(State2 state, Blackhole blackhole) {\n        blackhole.consume(state.a.concat(state.b));\n    }\n\n    @Benchmark\n    public void concat_3(State3 state, Blackhole blackhole) {\n        blackhole.consume(state.a.concat(state.b.concat(state.c)));\n    }\n\n\n    @Benchmark\n    public void concat_4(State4 state, Blackhole blackhole) {\n        blackhole.consume(state.a.concat(state.b.concat(state.c.concat(state.d))));\n    }\n}\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>Benchmark                             Mode  Cnt         Score         Error  Units\nStringConcatenation.concat_2         thrpt   50  24908871.258  1011269.986  ops/s\nStringConcatenation.concat_3         thrpt   50  14228193.918   466892.616  ops/s\nStringConcatenation.concat_4         thrpt   50   9845069.776   350532.591  ops/s\nStringConcatenation.plus_2           thrpt   50  38999662.292  8107397.316  ops/s\nStringConcatenation.plus_3           thrpt   50  34985722.222  5442660.250  ops/s\nStringConcatenation.plus_4           thrpt   50  31910376.337  2861001.162  ops/s\nStringConcatenation.stringbuilder_2  thrpt   50  40472888.230  9011210.632  ops/s\nStringConcatenation.stringbuilder_3  thrpt   50  33902151.616  5449026.680  ops/s\nStringConcatenation.stringbuilder_4  thrpt   50  29220479.267  3435315.681  ops/s\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7592404,"reputation":605,"user_id":5759656,"display_name":"Christian Meyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640892323,"creation_date":1640891947,"answer_id":70535824,"question_id":47605,"body_markdown":"Note that ```s.concat(&quot;hello&quot;);``` would result in a ```NullPointereException``` when s is null. In Java, the behavior of the + operator is usually determined by the left operand: \r\n\r\n```System.out.println(3 + &#39;a&#39;); //100``` \r\n\r\nHowever, Strings are an exception. If either operand is a String, the result is expected to be a String. This is the reason null is converted into &quot;null&quot;, even though you might expect a ```RuntimeException```.","title":"String concatenation: concat() vs &quot;+&quot; operator","body":"<p>Note that <code>s.concat(&quot;hello&quot;);</code> would result in a <code>NullPointereException</code> when s is null. In Java, the behavior of the + operator is usually determined by the left operand:</p>\n<p><code>System.out.println(3 + 'a'); //100</code></p>\n<p>However, Strings are an exception. If either operand is a String, the result is expected to be a String. This is the reason null is converted into &quot;null&quot;, even though you might expect a <code>RuntimeException</code>.</p>\n"}],"owner":{"account_id":237,"reputation":28496,"user_id":292,"accept_rate":68,"display_name":"shsteimer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085197,"favorite_count":0,"down_vote_count":0,"up_vote_count":586,"accepted_answer_id":47628,"answer_count":12,"score":586,"last_activity_date":1655576959,"creation_date":1220717334,"question_id":47605,"body_markdown":"Assuming String a and b:\r\n\r\n    a += b\r\n    a = a.concat(b)\r\n\r\nUnder the hood, are they the same thing?\r\n\r\nHere is concat decompiled as reference. I&#39;d like to be able to decompile the `+` operator as well to see what that does.\r\n\r\n    public String concat(String s) {\r\n\r\n        int i = s.length();\r\n        if (i == 0) {\r\n            return this;\r\n        }\r\n        else {\r\n            char ac[] = new char[count + i];\r\n            getChars(0, count, ac, 0);\r\n            s.getChars(0, i, ac, count);\r\n            return new String(0, count + i, ac);\r\n        }\r\n    }\r\n","title":"String concatenation: concat() vs &quot;+&quot; operator","body":"<p>Assuming String a and b:</p>\n\n<pre><code>a += b\na = a.concat(b)\n</code></pre>\n\n<p>Under the hood, are they the same thing?</p>\n\n<p>Here is concat decompiled as reference. I'd like to be able to decompile the <code>+</code> operator as well to see what that does.</p>\n\n<pre><code>public String concat(String s) {\n\n    int i = s.length();\n    if (i == 0) {\n        return this;\n    }\n    else {\n        char ac[] = new char[count + i];\n        getChars(0, count, ac, 0);\n        s.getChars(0, i, ac, count);\n        return new String(0, count + i, ac);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","appium","appium-android","page-factory"],"comments":[{"owner":{"account_id":16992528,"reputation":374,"user_id":12291777,"display_name":"drunkencheetah"},"score":0,"creation_date":1655722806,"post_id":72664723,"comment_id":128391459,"body_markdown":"You pasted your code without the imports and it is hard to tell which is the exact line where you get the failure.","body":"You pasted your code without the imports and it is hard to tell which is the exact line where you get the failure."},{"owner":{"account_id":3855110,"reputation":39,"user_id":3194257,"display_name":"user3194257"},"score":1,"creation_date":1656574980,"post_id":72664723,"comment_id":128607609,"body_markdown":"Thank you so much for the response, i resolved, I had to create methods within the class using those objects, only then i was able to access it. I was not able to access it just by creating a page object.","body":"Thank you so much for the response, i resolved, I had to create methods within the class using those objects, only then i was able to access it. I was not able to access it just by creating a page object."}],"owner":{"account_id":3855110,"reputation":39,"user_id":3194257,"display_name":"user3194257"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655576575,"creation_date":1655499510,"question_id":72664723,"body_markdown":"Hello I am not an expert but have some idea about selenium, I have written the class page and created the object also, but still not able to access the elements from object class\r\nnot sure what is wrong. &#128529; \r\n\r\n\r\n    public class AllBotsPage extends Baseclass {\r\n    \r\n    \r\n    public AllBotsPage(WebDriver wd){\r\n        PageFactory.initElements(wd,this);\r\n    }\r\n    \r\n        @FindBy(how = How.XPATH, using  = &quot;//*[@id=&#39;bui-8__anchor&#39;]&quot;)\r\n        public static WebElement messageIcon;\r\n    \r\n        @FindBy(xpath = &quot;//*[@aria-checked][1]&quot;)\r\n        WebElement agentOnlineIcon;\r\n    \r\n        @FindBy(xpath = &quot;//button[contains(text(),&#39;New&#39;)]&quot;)\r\n        public static WebElement newTab;\r\n    \r\n        @FindBy(xpath = &quot;//button[contains(text(),&#39;Start Conversation&#39;)]&quot;)\r\n        public WebElement startConversationButton;\r\n    \r\n        @FindBy(xpath = &quot;//input[@placeholder=&#39;Search users...&#39;]&quot;)\r\n        public WebElement searchUser;\r\n    \r\n        @FindBy(xpath = &quot;//*[name()=&#39;circle&#39; and @cx=&#39;14.4&#39;]&quot;)\r\n        public WebElement resolveChatOptions;\r\n    \r\n        @FindBy(xpath = &quot;//*[text()=&#39;Resolve conversation&#39;]&quot;)\r\n        public WebElement resolveConversation;\r\n    \r\n        @FindBy(xpath = &quot;//*[@type=&#39;button&#39; and contains(text(),&#39;Confirm&#39;)]&quot;)\r\n        public WebElement confirmResolveChat;\r\n    \r\n    \r\n        public void selectBot( String name){\r\n    \r\n            String a = &quot;//*[@class=&#39;botcard__namewrapper&#39; and //span[contains(text(),&#39;&quot;+name+&quot;&#39;)]]&quot;;\r\n            /*WebDriverWait wait = new WebDriverWait(wd,Duration.ofSeconds(10));\r\n            wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(a))).click();*/\r\n            wd.findElement(By.xpath(a)).click();\r\n    \r\n        }\r\n    \r\n        public boolean verifyMessage(String value){\r\n    \r\n            if (wd.findElement(By.xpath(&quot;//span[normalize-space()=&#39;&quot;+value+&quot;&#39;])[2]&quot;)).getText().contains(value));\r\n            return true;\r\n        }\r\n    \r\n        public void setAgentOnline(boolean value){\r\n            if (agentOnlineIcon.isEnabled() == false){\r\n                agentOnlineIcon.click();\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nTrying to access these objects in below class\r\n\r\n\r\n    public class Whatsapp extends Baseclass {\r\n    \r\n        @Test\r\n        public void Whtsapp() {\r\n    \r\n            WhatsAppPage whtsapp = new WhatsAppPage(md);\r\n            AllBotsPage albot = new AllBotsPage(wd);\r\n    \r\n    \r\n            wLogin(&quot;Auto@test.com&quot;,&quot;Rak@1234&quot;);\r\n    \r\n            albot.selectBot(&quot;Autobot&quot;);\r\n            albot.messageIcon.click();\r\n    \r\n            albot.setAgentOnline(true);\r\n    \r\n            System.out.println(&quot;sending a message from whatsapp&quot;);\r\n            startApp(&quot;whtsapp&quot;);\r\n            whtsapp.searchButton.click();\r\n            whtsapp.searcTextbox.sendKeys(&quot;D360 26&quot;);\r\n            whtsapp.searchResult.click();\r\n            whtsapp.sendTextmsg.sendKeys(&quot;Hello Appium&quot;);\r\n            whtsapp.sendButton.click();\r\n    \r\n            albot.newTab.click();\r\n            albot.searchUser.sendKeys(&quot;9535143660&quot;);\r\n            albot.startConversationButton.click();\r\n            albot.verifyMessage(&quot;Hello Appium&quot;);\r\n            albot.resolveChatOptions.click();\r\n            albot.resolveConversation.click();\r\n            albot.confirmResolveChat.click();\r\n    \r\n         }\r\n    }\r\n\r\nI get null pointer error\r\n\r\n    java.lang.NullPointerException\r\n    \tat Pages.WebPages.AllBotsPage.selectBot(AllBotsPage.java:53)\r\n    \tat Tests.Whatsapp.Whtsapp(Whatsapp.java:19)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:134)\r\n    \tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:597)\r\n    \tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n    \tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n    \tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:816)\r\n    \tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n    \tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n    \tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    \tat java.util.ArrayList.forEach(ArrayList.java:1259)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:766)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:587)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:286)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1187)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1109)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1039)\r\n    \tat org.testng.TestNG.run(TestNG.java:1007)\r\n    \tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n    \tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n\r\nThanks in advance for the help.\r\n\r\n\r\n\r\n","title":"not able to access pageobjects outside the class in selenium java","body":"<p>Hello I am not an expert but have some idea about selenium, I have written the class page and created the object also, but still not able to access the elements from object class\nnot sure what is wrong. </p>\n<pre><code>public class AllBotsPage extends Baseclass {\n\n\npublic AllBotsPage(WebDriver wd){\n    PageFactory.initElements(wd,this);\n}\n\n    @FindBy(how = How.XPATH, using  = &quot;//*[@id='bui-8__anchor']&quot;)\n    public static WebElement messageIcon;\n\n    @FindBy(xpath = &quot;//*[@aria-checked][1]&quot;)\n    WebElement agentOnlineIcon;\n\n    @FindBy(xpath = &quot;//button[contains(text(),'New')]&quot;)\n    public static WebElement newTab;\n\n    @FindBy(xpath = &quot;//button[contains(text(),'Start Conversation')]&quot;)\n    public WebElement startConversationButton;\n\n    @FindBy(xpath = &quot;//input[@placeholder='Search users...']&quot;)\n    public WebElement searchUser;\n\n    @FindBy(xpath = &quot;//*[name()='circle' and @cx='14.4']&quot;)\n    public WebElement resolveChatOptions;\n\n    @FindBy(xpath = &quot;//*[text()='Resolve conversation']&quot;)\n    public WebElement resolveConversation;\n\n    @FindBy(xpath = &quot;//*[@type='button' and contains(text(),'Confirm')]&quot;)\n    public WebElement confirmResolveChat;\n\n\n    public void selectBot( String name){\n\n        String a = &quot;//*[@class='botcard__namewrapper' and //span[contains(text(),'&quot;+name+&quot;')]]&quot;;\n        /*WebDriverWait wait = new WebDriverWait(wd,Duration.ofSeconds(10));\n        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(a))).click();*/\n        wd.findElement(By.xpath(a)).click();\n\n    }\n\n    public boolean verifyMessage(String value){\n\n        if (wd.findElement(By.xpath(&quot;//span[normalize-space()='&quot;+value+&quot;'])[2]&quot;)).getText().contains(value));\n        return true;\n    }\n\n    public void setAgentOnline(boolean value){\n        if (agentOnlineIcon.isEnabled() == false){\n            agentOnlineIcon.click();\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>Trying to access these objects in below class</p>\n<pre><code>public class Whatsapp extends Baseclass {\n\n    @Test\n    public void Whtsapp() {\n\n        WhatsAppPage whtsapp = new WhatsAppPage(md);\n        AllBotsPage albot = new AllBotsPage(wd);\n\n\n        wLogin(&quot;Auto@test.com&quot;,&quot;Rak@1234&quot;);\n\n        albot.selectBot(&quot;Autobot&quot;);\n        albot.messageIcon.click();\n\n        albot.setAgentOnline(true);\n\n        System.out.println(&quot;sending a message from whatsapp&quot;);\n        startApp(&quot;whtsapp&quot;);\n        whtsapp.searchButton.click();\n        whtsapp.searcTextbox.sendKeys(&quot;D360 26&quot;);\n        whtsapp.searchResult.click();\n        whtsapp.sendTextmsg.sendKeys(&quot;Hello Appium&quot;);\n        whtsapp.sendButton.click();\n\n        albot.newTab.click();\n        albot.searchUser.sendKeys(&quot;9535143660&quot;);\n        albot.startConversationButton.click();\n        albot.verifyMessage(&quot;Hello Appium&quot;);\n        albot.resolveChatOptions.click();\n        albot.resolveConversation.click();\n        albot.confirmResolveChat.click();\n\n     }\n}\n</code></pre>\n<p>I get null pointer error</p>\n<pre><code>java.lang.NullPointerException\n    at Pages.WebPages.AllBotsPage.selectBot(AllBotsPage.java:53)\n    at Tests.Whatsapp.Whtsapp(Whatsapp.java:19)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:134)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:597)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n    at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\n    at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:816)\n    at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.util.ArrayList.forEach(ArrayList.java:1259)\n    at org.testng.TestRunner.privateRun(TestRunner.java:766)\n    at org.testng.TestRunner.run(TestRunner.java:587)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:286)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1187)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1109)\n    at org.testng.TestNG.runSuites(TestNG.java:1039)\n    at org.testng.TestNG.run(TestNG.java:1007)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\n</code></pre>\n<p>Thanks in advance for the help.</p>\n"},{"tags":["java","atomic","runnable","volatile"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":5,"creation_date":1655570198,"post_id":72670921,"comment_id":128365319,"body_markdown":"Local variables can&#39;t be volatile, so the main risk with turning the AtomicBoolean into a volatile in this code is that it wouldn&#39;t compile anymore. :-)","body":"Local variables can&#39;t be volatile, so the main risk with turning the AtomicBoolean into a volatile in this code is that it wouldn&#39;t compile anymore. :-)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655575642,"creation_date":1655574158,"answer_id":72671426,"question_id":72670921,"body_markdown":"Obviously not; local variables that are used in lambdas or inner classes must be [effectively final][1]. `AtomicBoolean` works because your variable is a reference to an object - and doesn&#39;t change.\r\n\r\nPerhaps try it first before asking :)\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/20938095/642706","title":"What&#39;s the risk if I replace AtomicBoolean with volatile in this code?","body":"<p>Obviously not; local variables that are used in lambdas or inner classes must be <a href=\"https://stackoverflow.com/q/20938095/642706\">effectively final</a>. <code>AtomicBoolean</code> works because your variable is a reference to an object - and doesn't change.</p>\n<p>Perhaps try it first before asking :)</p>\n"}],"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1655575642,"creation_date":1655569599,"question_id":72670921,"body_markdown":"I&#39;m reading JCP 7.2.4, it has the following code:\r\n```\r\n    boolean checkMail(Set&lt;String&gt; hosts, long timeout, TimeUnit unit)\r\n    throws InterruptedException\r\n    {\r\n        ExecutorService exec = Executors.newCachedThreadPool();\r\n        final AtomicBoolean hasNewMail = new AtomicBoolean(false); // can we use volatile here?\r\n        try{\r\n            for(final String host : hosts){\r\n                exec.execute(new Runnable() {\r\n                    public void run(){\r\n                        if(checkMain(host)){\r\n                            hasNewMail.set(true);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }finally{\r\n            exec.shutdown();\r\n            exec.awaitTermination(timeout, unit);\r\n        }\r\n        return hasNewMail.get();\r\n    }\r\n```\r\n\r\nThe book says: Atomic, not volatile, should be used, as the inner ```Runnable``` could visit ```hasNewMail```.\r\n\r\nBoolean value is set to true when there&#39;s mail, without considering if its previous value is true of false, regardless whether other threads are setting its value.\r\n\r\nMy doubt is, if I replace this AtomicBoolean with volatile, what will be the potential risk? Any working thread could set it to true(when find mail), so is there chance I couldn&#39;t get correct value?\r\n","title":"What&#39;s the risk if I replace AtomicBoolean with volatile in this code?","body":"<p>I'm reading JCP 7.2.4, it has the following code:</p>\n<pre><code>    boolean checkMail(Set&lt;String&gt; hosts, long timeout, TimeUnit unit)\n    throws InterruptedException\n    {\n        ExecutorService exec = Executors.newCachedThreadPool();\n        final AtomicBoolean hasNewMail = new AtomicBoolean(false); // can we use volatile here?\n        try{\n            for(final String host : hosts){\n                exec.execute(new Runnable() {\n                    public void run(){\n                        if(checkMain(host)){\n                            hasNewMail.set(true);\n                        }\n                    }\n                });\n            }\n        }finally{\n            exec.shutdown();\n            exec.awaitTermination(timeout, unit);\n        }\n        return hasNewMail.get();\n    }\n</code></pre>\n<p>The book says: Atomic, not volatile, should be used, as the inner <code>Runnable</code> could visit <code>hasNewMail</code>.</p>\n<p>Boolean value is set to true when there's mail, without considering if its previous value is true of false, regardless whether other threads are setting its value.</p>\n<p>My doubt is, if I replace this AtomicBoolean with volatile, what will be the potential risk? Any working thread could set it to true(when find mail), so is there chance I couldn't get correct value?</p>\n"},{"tags":["javascript","java","encryption","hmac","hmacsha1"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1655575261,"creation_date":1655575261,"answer_id":72671544,"question_id":72671158,"body_markdown":"`encode.toString()` returns a String representing the `byte[]`, s. e.g. [here][1], but not, as you probably assume, an ASCII or UTF8 decoding.\r\n\r\nFor the latter use in the Java code:\r\n\r\n```java\r\nbyte[] encode = Base64.getEncoder().encode(bytes);\r\nString encoded = URLEncoder.encode(new String(encode, StandardCharsets.UTF_8), StandardCharsets.UTF_8);\r\n```\r\n\r\nor alternatively: \r\n\r\n```java\r\nString encode = Base64.getEncoder().encodeToString(bytes);\r\nString encoded = URLEncoder.encode(encode, StandardCharsets.UTF_8);\r\n```\r\n\r\nTest:&lt;br&gt;\r\nFor the date string `Sat, 18 Jun 2022 17:07:55 GMT` both codes return the value `rSQNB1HOmHEPH982kd9ix0%2F%2F58A%3D`.\r\n\r\n[1]: https://stackoverflow.com/a/29140403/9014097","title":"Adapting An Encryption Algorithm Written in Javascript to Java","body":"<p><code>encode.toString()</code> returns a String representing the <code>byte[]</code>, s. e.g. <a href=\"https://stackoverflow.com/a/29140403/9014097\">here</a>, but not, as you probably assume, an ASCII or UTF8 decoding.</p>\n<p>For the latter use in the Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] encode = Base64.getEncoder().encode(bytes);\nString encoded = URLEncoder.encode(new String(encode, StandardCharsets.UTF_8), StandardCharsets.UTF_8);\n</code></pre>\n<p>or alternatively:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String encode = Base64.getEncoder().encodeToString(bytes);\nString encoded = URLEncoder.encode(encode, StandardCharsets.UTF_8);\n</code></pre>\n<p>Test:<br>\nFor the date string <code>Sat, 18 Jun 2022 17:07:55 GMT</code> both codes return the value <code>rSQNB1HOmHEPH982kd9ix0%2F%2F58A%3D</code>.</p>\n"}],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72671544,"answer_count":1,"score":3,"last_activity_date":1655575261,"creation_date":1655571830,"question_id":72671158,"body_markdown":"To summarize my problem, I want to adapt an encryption algorithm written in Javascript to the Java side. The content produced here is used in the header of the service I am calling. But even though I have tried many ways, I have not been able to find the real algorithm yet.\r\n\r\nThe algorithm written in Javascript is as follows:\r\n\r\n    function doFunction() {\r\n        apiSecret = &quot;ZDhhODhlOTI2ZjFmNGQ5MDlhMzg5Y2JhZTQyOGUzNDY=&quot;;\r\n        date = (new Date()).toUTCString();\r\n        signatureContentString = &#39;date: &#39; + date;\r\n        signatureString = CryptoJS.HmacSHA1(signatureContentString, apiSecret).toString(CryptoJS.enc.Base64);\r\n        authHeader = encodeURIComponent(signatureString);\r\n        alert(authHeader);\r\n    }\r\n\r\nThe algorithm I tried on the Java side is as follows:\r\n\r\n    public String createCredential(){\r\n        Date currentDate = new Date();\r\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(Constants.RFC1123_PATTERN);\r\n        simpleDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n        String date = simpleDateFormat.format(currentDate);\r\n        String signatureContentString = &quot;date: &quot;+date;\r\n        byte[] bytes = HmacUtils.hmacSha1(Constants.apiSecret, signatureContentString);\r\n        byte[] encode = Base64.getEncoder().encode(bytes);\r\n        String encoded = URLEncoder.encode(encode.toString(), StandardCharsets.UTF_8);\r\n        return  encoded;\r\n    }\r\nExample output when I try it on the javascript side:\r\n\r\n    rJxRUgl1%2Bxj5UZSC9rZAHxSl7fw%3D\r\n\r\nExample output when I try it on the Java side:\r\n\r\n    %5BB%4079c7ad7f\r\n\r\nThe formats do not match each other. \r\nBy the way, if you need the RFC1123_PATTERN constant;\r\n\r\n    public static final String RFC1123_PATTERN = &quot;EEE, dd MMM yyyy HH:mm:ss z&quot;;\r\n\r\n","title":"Adapting An Encryption Algorithm Written in Javascript to Java","body":"<p>To summarize my problem, I want to adapt an encryption algorithm written in Javascript to the Java side. The content produced here is used in the header of the service I am calling. But even though I have tried many ways, I have not been able to find the real algorithm yet.</p>\n<p>The algorithm written in Javascript is as follows:</p>\n<pre><code>function doFunction() {\n    apiSecret = &quot;ZDhhODhlOTI2ZjFmNGQ5MDlhMzg5Y2JhZTQyOGUzNDY=&quot;;\n    date = (new Date()).toUTCString();\n    signatureContentString = 'date: ' + date;\n    signatureString = CryptoJS.HmacSHA1(signatureContentString, apiSecret).toString(CryptoJS.enc.Base64);\n    authHeader = encodeURIComponent(signatureString);\n    alert(authHeader);\n}\n</code></pre>\n<p>The algorithm I tried on the Java side is as follows:</p>\n<pre><code>public String createCredential(){\n    Date currentDate = new Date();\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(Constants.RFC1123_PATTERN);\n    simpleDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\n    String date = simpleDateFormat.format(currentDate);\n    String signatureContentString = &quot;date: &quot;+date;\n    byte[] bytes = HmacUtils.hmacSha1(Constants.apiSecret, signatureContentString);\n    byte[] encode = Base64.getEncoder().encode(bytes);\n    String encoded = URLEncoder.encode(encode.toString(), StandardCharsets.UTF_8);\n    return  encoded;\n}\n</code></pre>\n<p>Example output when I try it on the javascript side:</p>\n<pre><code>rJxRUgl1%2Bxj5UZSC9rZAHxSl7fw%3D\n</code></pre>\n<p>Example output when I try it on the Java side:</p>\n<pre><code>%5BB%4079c7ad7f\n</code></pre>\n<p>The formats do not match each other.\nBy the way, if you need the RFC1123_PATTERN constant;</p>\n<pre><code>public static final String RFC1123_PATTERN = &quot;EEE, dd MMM yyyy HH:mm:ss z&quot;;\n</code></pre>\n"},{"tags":["java","arrays","arraylist","primitive"],"comments":[{"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"score":1,"creation_date":1655575228,"post_id":72671445,"comment_id":128366361,"body_markdown":"*My question is why do I have to do all that instead of int[] IDs = entries.toArray();?* : Simple answer: Integer and int are not same. See [this](https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html) - in particular the statement : &quot;The Integer class wraps a value of the primitive type int in an object. An object of type Integer contains a single field whose type is int. &quot;","body":"<i>My question is why do I have to do all that instead of int[] IDs = entries.toArray();?</i> : Simple answer: Integer and int are not same. See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html\" rel=\"nofollow noreferrer\">this</a> - in particular the statement : &quot;The Integer class wraps a value of the primitive type int in an object. An object of type Integer contains a single field whose type is int. &quot;"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655574509,"creation_date":1655574509,"answer_id":72671471,"question_id":72671445,"body_markdown":"`List#toArray` always returns an `Object[]`. The closest you can get is `entries.toArray(new Integer[0])` to get an `Integer[]`. \r\n\r\nTo get an `int[]` you can use the Streams API or loop over the `List` and copy it over to an array.\r\n\r\n```java\r\nInteger[] arr = list.toArray(new Integer[0]);\r\nint[] arr2 = list.stream().mapToInt(i -&gt; i).toArray();\r\n```","title":"Why do I need to convert from Integer[] to int[]?","body":"<p><code>List#toArray</code> always returns an <code>Object[]</code>. The closest you can get is <code>entries.toArray(new Integer[0])</code> to get an <code>Integer[]</code>.</p>\n<p>To get an <code>int[]</code> you can use the Streams API or loop over the <code>List</code> and copy it over to an array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer[] arr = list.toArray(new Integer[0]);\nint[] arr2 = list.stream().mapToInt(i -&gt; i).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655574750,"creation_date":1655574750,"answer_id":72671490,"question_id":72671445,"body_markdown":"First, to answer your question, because a collection (like `ArrayList`) can only contain object instances. That means you must use the `Integer` wrapper type instead of the `int` primitive type. However, in Java 8+, there are simple ways to perform that conversion. I would also strongly recommend a `try-with-Resources` over manually closing the `BufferedReader`. I also simplified the code a little. Like,\r\n\r\n\tpublic static int[] readCSV() {\r\n\t\tList&lt;Integer&gt; entries = new ArrayList&lt;&gt;();\r\n\t\tFile file = new File(&quot;someDataFile.csv&quot;);\r\n\t\ttry (BufferedReader br = new BufferedReader(new FileReader(file))) {\r\n\t\t\tString line;\r\n\t\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t\tString[] row = line.split(&quot;\\\\s*,\\\\s*&quot;); // Consume white space\r\n\t\t\t\tfor (String value : row) {\r\n\t\t\t\t\tentries.add(Integer.parseInt(value));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException ioe) {\r\n\t\t\tioe.printStackTrace();\r\n\t\t}\r\n\t\treturn entries.stream().mapToInt(Integer::intValue).toArray();\r\n\t}","title":"Why do I need to convert from Integer[] to int[]?","body":"<p>First, to answer your question, because a collection (like <code>ArrayList</code>) can only contain object instances. That means you must use the <code>Integer</code> wrapper type instead of the <code>int</code> primitive type. However, in Java 8+, there are simple ways to perform that conversion. I would also strongly recommend a <code>try-with-Resources</code> over manually closing the <code>BufferedReader</code>. I also simplified the code a little. Like,</p>\n<pre><code>public static int[] readCSV() {\n    List&lt;Integer&gt; entries = new ArrayList&lt;&gt;();\n    File file = new File(&quot;someDataFile.csv&quot;);\n    try (BufferedReader br = new BufferedReader(new FileReader(file))) {\n        String line;\n        while ((line = br.readLine()) != null) {\n            String[] row = line.split(&quot;\\\\s*,\\\\s*&quot;); // Consume white space\n            for (String value : row) {\n                entries.add(Integer.parseInt(value));\n            }\n        }\n    } catch (IOException ioe) {\n        ioe.printStackTrace();\n    }\n    return entries.stream().mapToInt(Integer::intValue).toArray();\n}\n</code></pre>\n"}],"owner":{"account_id":15788396,"reputation":55,"user_id":11392406,"display_name":"DimitrisMel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72671490,"answer_count":2,"score":-1,"last_activity_date":1655575085,"creation_date":1655574276,"question_id":72671445,"body_markdown":"I have the following code\r\n\r\n    public static int[] readCSV() {\r\n\t\tArrayList&lt;Integer&gt; entries = new ArrayList&lt;&gt;();\r\n\t\ttry {\r\n\t\t\tFile file = new File(&quot;someDataFile.csv&quot;);\r\n\t\t\tFileReader fr = new FileReader(file);\r\n\t\t\tBufferedReader br = new BufferedReader(fr);\r\n\t\t\tString line = &quot;&quot;;\r\n\t\t\tString[] row;\r\n\t\t\twhile((line = br.readLine()) != null) {\r\n\t\t\t\trow = line.split(&quot;,&quot;);\r\n\t\t\t\tfor(String value : row) {\r\n\t\t\t\t\tint entry = Integer.parseInt(value);\r\n\t\t\t\t\tentries.add(entry);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbr.close();\r\n\t\t} catch(IOException ioe) {\r\n\t\t\tioe.printStackTrace();\r\n\t\t}\r\n\t\tint[] IDs = entries.toArray();\r\n\t\treturn IDs;\r\n\t}\r\n\r\nEvery entry of the csv is an integer stored as a string. I get the following error: &quot;Type mismatch: cannot convert from Object[] to int[]&quot;. As far as I understand, &quot;entries&quot; is not an `Object[]` here, it&#39;s an `ArrayList&lt;Integer&gt;`.\r\n\r\nI was using [an example given on geeksforgeeks][1]. That didn&#39;t work and I&#39;m not sure why.\r\n\r\nI also checked the [previous answers to the same question][2], and the top answer works for me. That said, I still don&#39;t have an `int[]`, I only have `Integer[]`. Then I have to do [this][3] to convert from `Integer[]` to `int[]`. My question is why do I have to do all that instead of `int[] IDs = entries.toArray();`?\r\n\r\nIf I do\r\n\r\n    int[] IDs = new int[entries.size()];\r\n    for (int i=0; i&lt;entries.size(); i++) {\r\n    \tIDs[i] = entries.get(i);\r\n    }\r\n\r\nit works fine. Why is that different from `int[] IDs = entries.toArray()`?\r\n\r\nIs there a better way to get the contents of the csv file in an `int[]`?\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/arraylist-array-conversion-java-toarray-methods/\r\n  [2]: https://stackoverflow.com/questions/31697305/how-to-convert-from-object-to-int\r\n  [3]: https://stackoverflow.com/questions/31394715/how-to-convert-integer-to-int-array-in-java","title":"Why do I need to convert from Integer[] to int[]?","body":"<p>I have the following code</p>\n<pre><code>public static int[] readCSV() {\n    ArrayList&lt;Integer&gt; entries = new ArrayList&lt;&gt;();\n    try {\n        File file = new File(&quot;someDataFile.csv&quot;);\n        FileReader fr = new FileReader(file);\n        BufferedReader br = new BufferedReader(fr);\n        String line = &quot;&quot;;\n        String[] row;\n        while((line = br.readLine()) != null) {\n            row = line.split(&quot;,&quot;);\n            for(String value : row) {\n                int entry = Integer.parseInt(value);\n                entries.add(entry);\n            }\n        }\n        br.close();\n    } catch(IOException ioe) {\n        ioe.printStackTrace();\n    }\n    int[] IDs = entries.toArray();\n    return IDs;\n}\n</code></pre>\n<p>Every entry of the csv is an integer stored as a string. I get the following error: &quot;Type mismatch: cannot convert from Object[] to int[]&quot;. As far as I understand, &quot;entries&quot; is not an <code>Object[]</code> here, it's an <code>ArrayList&lt;Integer&gt;</code>.</p>\n<p>I was using <a href=\"https://www.geeksforgeeks.org/arraylist-array-conversion-java-toarray-methods/\" rel=\"nofollow noreferrer\">an example given on geeksforgeeks</a>. That didn't work and I'm not sure why.</p>\n<p>I also checked the <a href=\"https://stackoverflow.com/questions/31697305/how-to-convert-from-object-to-int\">previous answers to the same question</a>, and the top answer works for me. That said, I still don't have an <code>int[]</code>, I only have <code>Integer[]</code>. Then I have to do <a href=\"https://stackoverflow.com/questions/31394715/how-to-convert-integer-to-int-array-in-java\">this</a> to convert from <code>Integer[]</code> to <code>int[]</code>. My question is why do I have to do all that instead of <code>int[] IDs = entries.toArray();</code>?</p>\n<p>If I do</p>\n<pre><code>int[] IDs = new int[entries.size()];\nfor (int i=0; i&lt;entries.size(); i++) {\n    IDs[i] = entries.get(i);\n}\n</code></pre>\n<p>it works fine. Why is that different from <code>int[] IDs = entries.toArray()</code>?</p>\n<p>Is there a better way to get the contents of the csv file in an <code>int[]</code>?</p>\n"},{"tags":["java","algorithm","iteration","threshold","edit-distance"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1655542571,"post_id":72667941,"comment_id":128360357,"body_markdown":"*&quot;I wouldn&#39;t want to change to Levenshtein&quot;* What&#39;s the difference between the Levenshtein distance and yours?","body":"<i>&quot;I wouldn&#39;t want to change to Levenshtein&quot;</i> What&#39;s the difference between the Levenshtein distance and yours?"},{"owner":{"account_id":17581722,"reputation":105,"user_id":12965699,"display_name":"dacian"},"score":0,"creation_date":1655544647,"post_id":72667941,"comment_id":128360703,"body_markdown":"I think that the code above is the classic iterative implementation for editing distance","body":"I think that the code above is the classic iterative implementation for editing distance"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1655544972,"post_id":72667941,"comment_id":128360777,"body_markdown":"The &quot;editing distance&quot; being, I think, the Levenshtein distance.","body":"The &quot;editing distance&quot; being, I think, the Levenshtein distance."}],"answers":[{"tags":[],"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655573583,"creation_date":1655573583,"answer_id":72671358,"question_id":72667941,"body_markdown":"I think [this](https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/LevenshteinDistance.html#LevenshteinDistance-java.lang.Integer) by Apache Commons is exactly what you are looking for which has a constructor with threshold for maximum distance.\r\n\r\nPseudocode:\r\n\r\n    LevenshteinDistance ld = new LevenshteinDistance(10);\r\n    Integer editDistanceWithThreshold = ld.apply(&#39;String1&#39;, &#39;String2&#39;)","title":"Editing distance with limit (threshold)","body":"<p>I think <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/LevenshteinDistance.html#LevenshteinDistance-java.lang.Integer\" rel=\"nofollow noreferrer\">this</a> by Apache Commons is exactly what you are looking for which has a constructor with threshold for maximum distance.</p>\n<p>Pseudocode:</p>\n<pre><code>LevenshteinDistance ld = new LevenshteinDistance(10);\nInteger editDistanceWithThreshold = ld.apply('String1', 'String2')\n</code></pre>\n"}],"owner":{"account_id":17581722,"reputation":105,"user_id":12965699,"display_name":"dacian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72671358,"answer_count":1,"score":0,"last_activity_date":1655573583,"creation_date":1655542084,"question_id":72667941,"body_markdown":"I work for a project in Java 8 and I want to compute the editing distance for 2 strings - in a iterative way (so without recursion); the method will be executed many times, so I need to improve it with a given limit (threshold), meaning that if the editing distance from 2 strings is greater than a given number **x**, the algorithm will be stopped.\r\n\r\nNow, where from should I find a method like this? Is there a java library (or provided from maven) which contain such a method? e.g. in StringUtils?\r\n\r\nFor current implementation I use classic editing distance algorithm.\r\n\r\n        static int min(int x, int y, int z)\r\n    {\r\n        if (x &lt;= y &amp;&amp; x &lt;= z)\r\n            return x;\r\n        if (y &lt;= x &amp;&amp; y &lt;= z)\r\n            return y;\r\n        else\r\n            return z;\r\n    }\r\n \r\n    static int editDistDP(String str1, String str2, int m,\r\n                          int n)\r\n    {\r\n        // Create a table to store results of subproblems\r\n        int dp[][] = new int[m + 1][n + 1];\r\n \r\n        // Fill d[][] in bottom up manner\r\n        for (int i = 0; i &lt;= m; i++) {\r\n            for (int j = 0; j &lt;= n; j++) {\r\n                // If first string is empty, only option is\r\n                // to insert all characters of second string\r\n                if (i == 0)\r\n                    dp[i][j] = j; // Min. operations = j\r\n \r\n                // If second string is empty, only option is\r\n                // to remove all characters of second string\r\n                else if (j == 0)\r\n                    dp[i][j] = i; // Min. operations = i\r\n \r\n                // If last characters are same, ignore last\r\n                // char and recur for remaining string\r\n                else if (str1.charAt(i - 1)\r\n                         == str2.charAt(j - 1))\r\n                    dp[i][j] = dp[i - 1][j - 1];\r\n \r\n                // If the last character is different,\r\n                // consider all possibilities and find the\r\n                // minimum\r\n                else\r\n                    dp[i][j] = 1\r\n                               + min(dp[i][j - 1], // Insert\r\n                                     dp[i - 1][j], // Remove\r\n                                     dp[i - 1]\r\n                                       [j - 1]); // Replace\r\n            }\r\n        }\r\n \r\n        return dp[m][n];\r\n    }\r\n\r\nAlso, I find [this][1] which use Levenstein distance with a given limit, but I wouldn&#39;t want to change to Levenstein  if it ins&#39;t necessary\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48901351/levenstein-distance-limit","title":"Editing distance with limit (threshold)","body":"<p>I work for a project in Java 8 and I want to compute the editing distance for 2 strings - in a iterative way (so without recursion); the method will be executed many times, so I need to improve it with a given limit (threshold), meaning that if the editing distance from 2 strings is greater than a given number <strong>x</strong>, the algorithm will be stopped.</p>\n<p>Now, where from should I find a method like this? Is there a java library (or provided from maven) which contain such a method? e.g. in StringUtils?</p>\n<p>For current implementation I use classic editing distance algorithm.</p>\n<pre><code>    static int min(int x, int y, int z)\n{\n    if (x &lt;= y &amp;&amp; x &lt;= z)\n        return x;\n    if (y &lt;= x &amp;&amp; y &lt;= z)\n        return y;\n    else\n        return z;\n}\n\nstatic int editDistDP(String str1, String str2, int m,\n                      int n)\n{\n    // Create a table to store results of subproblems\n    int dp[][] = new int[m + 1][n + 1];\n\n    // Fill d[][] in bottom up manner\n    for (int i = 0; i &lt;= m; i++) {\n        for (int j = 0; j &lt;= n; j++) {\n            // If first string is empty, only option is\n            // to insert all characters of second string\n            if (i == 0)\n                dp[i][j] = j; // Min. operations = j\n\n            // If second string is empty, only option is\n            // to remove all characters of second string\n            else if (j == 0)\n                dp[i][j] = i; // Min. operations = i\n\n            // If last characters are same, ignore last\n            // char and recur for remaining string\n            else if (str1.charAt(i - 1)\n                     == str2.charAt(j - 1))\n                dp[i][j] = dp[i - 1][j - 1];\n\n            // If the last character is different,\n            // consider all possibilities and find the\n            // minimum\n            else\n                dp[i][j] = 1\n                           + min(dp[i][j - 1], // Insert\n                                 dp[i - 1][j], // Remove\n                                 dp[i - 1]\n                                   [j - 1]); // Replace\n        }\n    }\n\n    return dp[m][n];\n}\n</code></pre>\n<p>Also, I find <a href=\"https://stackoverflow.com/questions/48901351/levenstein-distance-limit\">this</a> which use Levenstein distance with a given limit, but I wouldn't want to change to Levenstein  if it ins't necessary</p>\n"},{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1655566651,"post_id":72670455,"comment_id":128364623,"body_markdown":"Check the contents of the `WEB-INF/classes` directory in Tomcat to see if your servlet is there.","body":"Check the contents of the <code>WEB-INF&#47;classes</code> directory in Tomcat to see if your servlet is there."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1655566819,"post_id":72670455,"comment_id":128364652,"body_markdown":"You should make the constructor public.","body":"You should make the constructor public."}],"answers":[{"tags":[],"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655572533,"creation_date":1655572533,"answer_id":72671228,"question_id":72670455,"body_markdown":"This is a common issue on Tomcat 10 because the change from Java EE to Jakarta EE, so you can change your project, using Jakarta EE 9\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;9.0.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand importing this packages\r\n\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.annotation.WebServlet;\r\n    import jakarta.servlet.http.HttpServlet;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n\r\nIf you don&#180;t want to do that, you can downgrade to Tomcat 9. \r\n\r\nFor related documentation follow this link\r\n\r\n[Tomcat 10.0.4 doesn&#39;t load servlets (@WebServlet classes) with 404 error][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66806582/tomcat-10-0-4-doesnt-load-servlets-webservlet-classes-with-404-error/66808062#66808062","title":"Servlet gives error that the server did not find current representation for target resource","body":"<p>This is a common issue on Tomcat 10 because the change from Java EE to Jakarta EE, so you can change your project, using Jakarta EE 9</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n        &lt;version&gt;9.0.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and importing this packages</p>\n<pre><code>import jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n</code></pre>\n<p>If you dont want to do that, you can downgrade to Tomcat 9.</p>\n<p>For related documentation follow this link</p>\n<p><a href=\"https://stackoverflow.com/questions/66806582/tomcat-10-0-4-doesnt-load-servlets-webservlet-classes-with-404-error/66808062#66808062\">Tomcat 10.0.4 doesn't load servlets (@WebServlet classes) with 404 error</a></p>\n"}],"owner":{"account_id":25587586,"reputation":11,"user_id":19365066,"display_name":"amstudent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1655631637,"answer_count":1,"score":1,"last_activity_date":1655572533,"creation_date":1655565976,"question_id":72670455,"body_markdown":"I am creating a basic demo project for servlet but I keep getting [this error][1] whenever I run the project or index.html file. I have mentioned the servlet configurations in the web.xml. Also, I have added servlet jar files into my build path.\r\n\r\nI cannot figure out why I am getting this error. I tried many solutions on the internet but none seems to be working.\r\n\r\nHere are files. and the directory structure is [this][2].\r\n\r\n    \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package Main;\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n\r\n    public class Login extends HttpServlet {\r\n\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \tLogin(){\r\n    \t\tsuper();\r\n    \t}\r\n\r\n    \tpublic void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException, ServletException \r\n    \t{\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;servlet called&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; version=&quot;4.0&quot;&gt;\r\n      &lt;display-name&gt;FirstServlet&lt;/display-name&gt;\r\n      \r\n      &lt;servlet&gt;\r\n       &lt;servlet-name&gt;Login&lt;/servlet-name&gt;\r\n       &lt;servlet-class&gt;Main.Login&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n       &lt;servlet-name&gt;Login&lt;/servlet-name&gt;\r\n       &lt;url-pattern&gt;/Login&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n\r\n    &lt;body&gt;\r\n    \t&lt;form action=&quot;Login&quot; method=&quot;get&quot;&gt;\r\n    \t\t&lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt;&lt;br&gt;\r\n             &lt;input type=&quot;text&quot; name=&quot;password&quot;/&gt;\r\n             &lt;input type=&quot;submit&quot; value=&quot;Login&quot;/&gt;\r\n    \t&lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R3Kfw.png\r\n  [2]: https://i.stack.imgur.com/fq1sj.png","title":"Servlet gives error that the server did not find current representation for target resource","body":"<p>I am creating a basic demo project for servlet but I keep getting <a href=\"https://i.stack.imgur.com/R3Kfw.png\" rel=\"nofollow noreferrer\">this error</a> whenever I run the project or index.html file. I have mentioned the servlet configurations in the web.xml. Also, I have added servlet jar files into my build path.</p>\n<p>I cannot figure out why I am getting this error. I tried many solutions on the internet but none seems to be working.</p>\n<p>Here are files. and the directory structure is <a href=\"https://i.stack.imgur.com/fq1sj.png\" rel=\"nofollow noreferrer\">this</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Main;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\npublic class Login extends HttpServlet {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    \n    Login(){\n        super();\n    }\n\n    public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException, ServletException \n    {\n        \n        System.out.println(&quot;servlet called&quot;);\n        \n        \n    }\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; version=&quot;4.0&quot;&gt;\n  &lt;display-name&gt;FirstServlet&lt;/display-name&gt;\n  \n  &lt;servlet&gt;\n   &lt;servlet-name&gt;Login&lt;/servlet-name&gt;\n   &lt;servlet-class&gt;Main.Login&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n   &lt;servlet-name&gt;Login&lt;/servlet-name&gt;\n   &lt;url-pattern&gt;/Login&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;body&gt;\n    &lt;form action=&quot;Login&quot; method=&quot;get&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt;&lt;br&gt;\n         &lt;input type=&quot;text&quot; name=&quot;password&quot;/&gt;\n         &lt;input type=&quot;submit&quot; value=&quot;Login&quot;/&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":15897,"reputation":49261,"user_id":34065,"accept_rate":100,"display_name":"schnaader"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1235560076,"creation_date":1235560076,"answer_id":585601,"question_id":585587,"body_markdown":"Look [at this example][1]. They use .length there to get the row count, [].length to get the column count.\r\n\r\nIt&#39;s because the array consists of &quot;row&quot; pointers and these could lead anywhere, so you have to use .length for each column to get the sizes of these arrays, too.\r\n\r\n  [1]: http://leepoint.net/notes-java/data/arrays/arrays-2D-2.html","title":"Java native array lengths","body":"<p>Look <a href=\"http://leepoint.net/notes-java/data/arrays/arrays-2D-2.html\" rel=\"nofollow noreferrer\">at this example</a>. They use .length there to get the row count, [].length to get the column count.</p>\n\n<p>It's because the array consists of \"row\" pointers and these could lead anywhere, so you have to use .length for each column to get the sizes of these arrays, too.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1655571622,"creation_date":1235560084,"answer_id":585602,"question_id":585587,"body_markdown":"In Java a 2D array is nothing more than an array of arrays.\r\n\r\nThis means that you can easily get the number of rows like this:\r\n\r\n    int rows = array.length;\r\n\r\nThis also means that each row in such an array *can* have a different amount of elements (i.e. each row can have a varying number of columns).\r\n\r\n    int columnsInFirstRow = array[0].length;\r\n\r\nThis will only give you the number of columns in the first row, but the second row could have more or less columns than that.\r\n\r\nYou could specify that your method only takes rectangular arrays and *assume* that each row has the same number of columns than the first one. But in that case I&#39;d wrap the 2D-array in some Matrix class (that you might have to write).\r\n\r\nThis kind of array is called a [Jagged Array][1].\r\n\r\n\r\n  [1]: http://xahlee.info/java-a-day/arrays2.html","title":"Java native array lengths","body":"<p>In Java a 2D array is nothing more than an array of arrays.</p>\n<p>This means that you can easily get the number of rows like this:</p>\n<pre><code>int rows = array.length;\n</code></pre>\n<p>This also means that each row in such an array <em>can</em> have a different amount of elements (i.e. each row can have a varying number of columns).</p>\n<pre><code>int columnsInFirstRow = array[0].length;\n</code></pre>\n<p>This will only give you the number of columns in the first row, but the second row could have more or less columns than that.</p>\n<p>You could specify that your method only takes rectangular arrays and <em>assume</em> that each row has the same number of columns than the first one. But in that case I'd wrap the 2D-array in some Matrix class (that you might have to write).</p>\n<p>This kind of array is called a <a href=\"http://xahlee.info/java-a-day/arrays2.html\" rel=\"nofollow noreferrer\">Jagged Array</a>.</p>\n"},{"tags":[],"owner":{"account_id":24343,"reputation":10249,"user_id":61848,"accept_rate":75,"display_name":"tehvan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1235560143,"creation_date":1235560143,"answer_id":585605,"question_id":585587,"body_markdown":"No it won&#39;t. You can just use table.length","title":"Java native array lengths","body":"<p>No it won't. You can just use table.length</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1235560146,"creation_date":1235560146,"answer_id":585606,"question_id":585587,"body_markdown":"I don&#39;t quite understand your question. You have to realize that in Java, multidimensional arrays are in fact arrays of arrays. \r\n\r\n`table.length` will in fact give you the number of one-dimensional arrays contained in your two-dimensional array (assuming there are no null entries). \r\n\r\n`table[0].length` will give you the size of the first one-dimensional entry. This could be different from the size of the others, and it could throw a NullPointerException (though neither is possible when it&#39;s allocated as `new double[rows][cols]`).","title":"Java native array lengths","body":"<p>I don't quite understand your question. You have to realize that in Java, multidimensional arrays are in fact arrays of arrays. </p>\n\n<p><code>table.length</code> will in fact give you the number of one-dimensional arrays contained in your two-dimensional array (assuming there are no null entries). </p>\n\n<p><code>table[0].length</code> will give you the size of the first one-dimensional entry. This could be different from the size of the others, and it could throw a NullPointerException (though neither is possible when it's allocated as <code>new double[rows][cols]</code>).</p>\n"},{"tags":[],"owner":{"account_id":13443,"reputation":10807,"user_id":27011,"accept_rate":67,"display_name":"Simon Lehmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1235560236,"creation_date":1235560236,"answer_id":585610,"question_id":585587,"body_markdown":"Well, first of all, why don&#39;t you just test if\r\n\r\n    int rows = table.length;\r\n\r\ngives the desired result?\r\n\r\nIt does indeed give you the number of elements in the first dimension. Multidimensional arrays are in fact nothing special, as they are just arrays of arrays of arrays of ... In your case - a 2D array - it is organized like this (in pseudo-code):\r\n\r\n    double[][] foo = { double[] = {...}, double[] = {...}, ... }\r\n\r\nSo when accessing foo, it refers to the &quot;outer&quot; array, which has of course the length property, which contains the number of arrays it contains on the second level.\r\n\r\nYou can read the double[][] as &quot;An array ([]) of double-arrrays (double[])&quot;.","title":"Java native array lengths","body":"<p>Well, first of all, why don't you just test if</p>\n\n<pre><code>int rows = table.length;\n</code></pre>\n\n<p>gives the desired result?</p>\n\n<p>It does indeed give you the number of elements in the first dimension. Multidimensional arrays are in fact nothing special, as they are just arrays of arrays of arrays of ... In your case - a 2D array - it is organized like this (in pseudo-code):</p>\n\n<pre><code>double[][] foo = { double[] = {...}, double[] = {...}, ... }\n</code></pre>\n\n<p>So when accessing foo, it refers to the \"outer\" array, which has of course the length property, which contains the number of arrays it contains on the second level.</p>\n\n<p>You can read the double[][] as \"An array ([]) of double-arrrays (double[])\".</p>\n"},{"tags":[],"owner":{"account_id":5056,"reputation":4017,"user_id":7927,"accept_rate":84,"display_name":"Wouter Lievens"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1235560370,"creation_date":1235560370,"answer_id":585615,"question_id":585587,"body_markdown":"Alternatively, you could wrap your 2d array into a Matrix or Grid class of some sort. Internally, you could represent it as a 1d array and compute offsets for the row/col coordinates.","title":"Java native array lengths","body":"<p>Alternatively, you could wrap your 2d array into a Matrix or Grid class of some sort. Internally, you could represent it as a 1d array and compute offsets for the row/col coordinates.</p>\n"}],"owner":{"account_id":12256,"reputation":79165,"user_id":24039,"accept_rate":56,"display_name":"Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5033,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":585602,"answer_count":6,"score":3,"last_activity_date":1655571622,"creation_date":1235559761,"question_id":585587,"body_markdown":"I have a 2D array of doubles in Java which is basically a table of values and I want to find out how many rows it has...\r\n\r\nIt is declared elsewhere (and allocated) like this:\r\n\r\n    double[][] table;\r\n\r\nthen passed to a function...\r\n\r\n    private void doSomething(double[][] table)\r\n    {\r\n        \r\n    }\r\n\r\nIn my function I want to know the length of each dimension without having to pass them around as arguments.  I can do this for the number of columns but don&#39;t know how to do it for the rows...\r\n\r\n    int cols = table[0].length;\r\n    int rows = ?;\r\n\r\nHow do I do that?\r\n\r\nCan I just say...\r\n\r\n    int rows = table.length;\r\n\r\nWhy would that not give rows x cols?\r\n","title":"Java native array lengths","body":"<p>I have a 2D array of doubles in Java which is basically a table of values and I want to find out how many rows it has...</p>\n\n<p>It is declared elsewhere (and allocated) like this:</p>\n\n<pre><code>double[][] table;\n</code></pre>\n\n<p>then passed to a function...</p>\n\n<pre><code>private void doSomething(double[][] table)\n{\n\n}\n</code></pre>\n\n<p>In my function I want to know the length of each dimension without having to pass them around as arguments.  I can do this for the number of columns but don't know how to do it for the rows...</p>\n\n<pre><code>int cols = table[0].length;\nint rows = ?;\n</code></pre>\n\n<p>How do I do that?</p>\n\n<p>Can I just say...</p>\n\n<pre><code>int rows = table.length;\n</code></pre>\n\n<p>Why would that not give rows x cols?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1655594057,"post_id":72670787,"comment_id":128369412,"body_markdown":"Your onclicklistener is created after instantiating the `recyclerviewAdapter` so you are passing null.  Call `setOnClickListner` before creating the adapter.  And  this statement `new View.OnClickListener() ` without assignment does nothing.  Looks like the `cardView` listener is the one actually starting the activity which passes no data.","body":"Your onclicklistener is created after instantiating the <code>recyclerviewAdapter</code> so you are passing null.  Call <code>setOnClickListner</code> before creating the adapter.  And  this statement <code>new View.OnClickListener() </code> without assignment does nothing.  Looks like the <code>cardView</code> listener is the one actually starting the activity which passes no data."}],"answers":[{"tags":[],"owner":{"account_id":15761453,"reputation":61,"user_id":11373066,"display_name":"Harsh Chourasiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655570988,"creation_date":1655570988,"answer_id":72671068,"question_id":72670787,"body_markdown":"If you want to pass data from one activity to other you can use `PutExtra()` method of the `Intent` class As I can see you are doing everything pretty much well but you have to catch these extra from the class you are passing like:- I want to pass data from `recyclerView` to `CardViewClass` I can do it like:-\r\n\r\nIn RecyclerView.java file:-\r\n```\r\npublic void sendDataAndOpen(String title) {\r\n   Intent intent = new Intent(getApplicationContext(), CardViewClass.class);\r\n   intent.putExtraString(&quot;Title&quot;,Title); // You can use putExtra to put any datatype\r\n   startActivity(intent);\r\n}\r\n\r\n```\r\n\r\nIn CardViewClass.java file (Lets catch our passing data):-\r\n\r\n```\r\npublic void onCreate(...) {\r\n\r\n....\r\n\r\nString title = getIntent().getExtraString(&quot;Title&quot;) // You can also use ExtraPut and // Must use Same Id\r\n// Use data as you want\r\n.....\r\n\r\n}\r\n```","title":"recyclerview item click listener with sqlite java","body":"<p>If you want to pass data from one activity to other you can use <code>PutExtra()</code> method of the <code>Intent</code> class As I can see you are doing everything pretty much well but you have to catch these extra from the class you are passing like:- I want to pass data from <code>recyclerView</code> to <code>CardViewClass</code> I can do it like:-</p>\n<p>In RecyclerView.java file:-</p>\n<pre><code>public void sendDataAndOpen(String title) {\n   Intent intent = new Intent(getApplicationContext(), CardViewClass.class);\n   intent.putExtraString(&quot;Title&quot;,Title); // You can use putExtra to put any datatype\n   startActivity(intent);\n}\n\n</code></pre>\n<p>In CardViewClass.java file (Lets catch our passing data):-</p>\n<pre><code>public void onCreate(...) {\n\n....\n\nString title = getIntent().getExtraString(&quot;Title&quot;) // You can also use ExtraPut and // Must use Same Id\n// Use data as you want\n.....\n\n}\n</code></pre>\n"}],"owner":{"account_id":25537051,"reputation":11,"user_id":19323935,"display_name":"LucK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655570988,"creation_date":1655568568,"question_id":72670787,"body_markdown":"I would like to get data from the box which click on on the recycler view to go into a another activity to display.\r\nI have tried to flow this video  &lt;https://www.youtube.com/watch?v=7GPUpvcU1FE&amp;t=399s&amp;ab_channel=PracticalCoding&gt; i dont understand at 6:16.\r\nAlso &lt;https://www.youtube.com/watch?v=VQKq9RHMS_0&amp;ab_channel=Stevdza-San&gt; i cannot get the data to pass to the new activity.\r\n\r\nMain code\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_staff_home);\r\n\r\n        DB=new mainTextDBHelper(this);\r\n        recyclerView=findViewById(R.id.recyclerview);\r\n        Title=new ArrayList&lt;&gt;();\r\n        description=new ArrayList&lt;&gt;();\r\n        radiogroup=new ArrayList&lt;&gt;();\r\n        adapter=new recyclerviewAdapter(this,Title,description,radiogroup,listener);\r\n        recyclerView.setAdapter(adapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        displaydata();\r\n        setOnClickListner();\r\n\r\n private void setOnClickListner() {\r\n        listener=new recyclerviewAdapter.RecyclerViewClickListener() {\r\n            @Override\r\n            public void onClick(View v, int position) {\r\n                Intent intent=new Intent(getApplicationContext(),cardviewclickon.class);\r\n                intent.putExtra(&quot;Title&quot;,Title.get(position));\r\n                startActivity(intent);\r\n            }\r\n        };\r\n    }\r\n\r\n    private void displaydata() {\r\n        Cursor cursor=DB.getdata();\r\n        if(cursor.getCount()==0){\r\n            Toast.makeText(staff_home.this,&quot;No Entry Exists&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }else{\r\n            while(cursor.moveToNext())\r\n            {\r\n                Title.add(cursor.getString(1));\r\n                description.add(cursor.getString(2));\r\n                radiogroup.add(cursor.getString(3));\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n```\r\nrecyclerview Adapter code\r\n```\r\npublic class recyclerviewAdapter extends RecyclerView.Adapter&lt;recyclerviewAdapter.MyViewHolder&gt;{\r\n    private Context context;\r\n    private ArrayList Title_id,description_id,radiogroup_id;\r\n    private RecyclerViewClickListener listener;\r\n\r\n    public recyclerviewAdapter(Context context, ArrayList title_id, ArrayList description_id, ArrayList radiogroup_id,RecyclerViewClickListener listener) {\r\n        this.context = context;\r\n        Title_id = title_id;\r\n        this.description_id = description_id;\r\n        this.radiogroup_id = radiogroup_id;\r\n        this.listener=listener;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public recyclerviewAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(context).inflate(R.layout.userentry,parent,false);\r\n        return new MyViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull recyclerviewAdapter.MyViewHolder holder, int position) {\r\n\r\n        holder.Title_id.setText(String.valueOf(Title_id.get(position)));\r\n        holder.description_id.setText(String.valueOf(description_id.get(position)));\r\n        holder.radiogroup_id.setText(String.valueOf(radiogroup_id.get(position)));\r\n        holder.cardView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent=new Intent(context,cardviewclickon.class);\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return Title_id.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\r\n        TextView Title_id,description_id,radiogroup_id;\r\n        CardView cardView;\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            Title_id=itemView.findViewById(R.id.textTitle);\r\n            description_id=itemView.findViewById(R.id.textdescription);\r\n            radiogroup_id=itemView.findViewById(R.id.textsrverity);\r\n            cardView=itemView.findViewById(R.id.card);\r\n            new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    listener.onClick(view,getAdapterPosition());\r\n                }\r\n            };\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            listener.onClick(view,getAdapterPosition());\r\n        }\r\n    }\r\n\r\n    public interface RecyclerViewClickListener{\r\n        void onClick(View v,int position);\r\n    }\r\n}\r\n```","title":"recyclerview item click listener with sqlite java","body":"<p>I would like to get data from the box which click on on the recycler view to go into a another activity to display.\nI have tried to flow this video  <a href=\"https://www.youtube.com/watch?v=7GPUpvcU1FE&amp;t=399s&amp;ab_channel=PracticalCoding\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=7GPUpvcU1FE&amp;t=399s&amp;ab_channel=PracticalCoding</a> i dont understand at 6:16.\nAlso <a href=\"https://www.youtube.com/watch?v=VQKq9RHMS_0&amp;ab_channel=Stevdza-San\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=VQKq9RHMS_0&amp;ab_channel=Stevdza-San</a> i cannot get the data to pass to the new activity.</p>\n<p>Main code</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_staff_home);\n\n        DB=new mainTextDBHelper(this);\n        recyclerView=findViewById(R.id.recyclerview);\n        Title=new ArrayList&lt;&gt;();\n        description=new ArrayList&lt;&gt;();\n        radiogroup=new ArrayList&lt;&gt;();\n        adapter=new recyclerviewAdapter(this,Title,description,radiogroup,listener);\n        recyclerView.setAdapter(adapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        displaydata();\n        setOnClickListner();\n\n private void setOnClickListner() {\n        listener=new recyclerviewAdapter.RecyclerViewClickListener() {\n            @Override\n            public void onClick(View v, int position) {\n                Intent intent=new Intent(getApplicationContext(),cardviewclickon.class);\n                intent.putExtra(&quot;Title&quot;,Title.get(position));\n                startActivity(intent);\n            }\n        };\n    }\n\n    private void displaydata() {\n        Cursor cursor=DB.getdata();\n        if(cursor.getCount()==0){\n            Toast.makeText(staff_home.this,&quot;No Entry Exists&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }else{\n            while(cursor.moveToNext())\n            {\n                Title.add(cursor.getString(1));\n                description.add(cursor.getString(2));\n                radiogroup.add(cursor.getString(3));\n            }\n        }\n\n    }\n\n</code></pre>\n<p>recyclerview Adapter code</p>\n<pre><code>public class recyclerviewAdapter extends RecyclerView.Adapter&lt;recyclerviewAdapter.MyViewHolder&gt;{\n    private Context context;\n    private ArrayList Title_id,description_id,radiogroup_id;\n    private RecyclerViewClickListener listener;\n\n    public recyclerviewAdapter(Context context, ArrayList title_id, ArrayList description_id, ArrayList radiogroup_id,RecyclerViewClickListener listener) {\n        this.context = context;\n        Title_id = title_id;\n        this.description_id = description_id;\n        this.radiogroup_id = radiogroup_id;\n        this.listener=listener;\n    }\n\n    @NonNull\n    @Override\n    public recyclerviewAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(context).inflate(R.layout.userentry,parent,false);\n        return new MyViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull recyclerviewAdapter.MyViewHolder holder, int position) {\n\n        holder.Title_id.setText(String.valueOf(Title_id.get(position)));\n        holder.description_id.setText(String.valueOf(description_id.get(position)));\n        holder.radiogroup_id.setText(String.valueOf(radiogroup_id.get(position)));\n        holder.cardView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent=new Intent(context,cardviewclickon.class);\n                context.startActivity(intent);\n            }\n        });\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return Title_id.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\n        TextView Title_id,description_id,radiogroup_id;\n        CardView cardView;\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            Title_id=itemView.findViewById(R.id.textTitle);\n            description_id=itemView.findViewById(R.id.textdescription);\n            radiogroup_id=itemView.findViewById(R.id.textsrverity);\n            cardView=itemView.findViewById(R.id.card);\n            new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    listener.onClick(view,getAdapterPosition());\n                }\n            };\n\n        }\n\n        @Override\n        public void onClick(View view) {\n            listener.onClick(view,getAdapterPosition());\n        }\n    }\n\n    public interface RecyclerViewClickListener{\n        void onClick(View v,int position);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3820579,"reputation":1458,"user_id":3168770,"accept_rate":67,"display_name":"Paulo"},"score":0,"creation_date":1655571612,"post_id":72670974,"comment_id":128365607,"body_markdown":"Do you believe this can help you? https://coderanch.com/t/648941/databases/org-hibernate-StaleObjectStateException","body":"Do you believe this can help you? <a href=\"https://coderanch.com/t/648941/databases/org-hibernate-StaleObjectStateException\" rel=\"nofollow noreferrer\">coderanch.com/t/648941/databases/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655570833,"creation_date":1655570833,"answer_id":72671052,"question_id":72670974,"body_markdown":"You have to flush your change. Because otherwise you leave the change from the first request &#39;open&#39;.\r\nJust use ``productRepository.saveAndFlush(product);``\r\nInstead of ``productRepository.save(product);``\r\n\r\nThis should work","title":"Cannot update an object more than once","body":"<p>You have to flush your change. Because otherwise you leave the change from the first request 'open'.\nJust use <code>productRepository.saveAndFlush(product);</code>\nInstead of <code>productRepository.save(product);</code></p>\n<p>This should work</p>\n"}],"owner":{"account_id":19140788,"reputation":376,"user_id":13980783,"display_name":"postFix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655570833,"creation_date":1655570169,"question_id":72670974,"body_markdown":"I want to write a function that will update products freely.&lt;br&gt;\r\nBut in the second update I get an error:&lt;br&gt;\r\n```\r\norg.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [guru.springframework.domain.Product#4]\r\n ```\r\nthe code in the **controller**:&lt;br&gt;\r\n```\r\n    @ApiOperation(value = &quot;Update a product&quot;)\r\n    @RequestMapping(value = &quot;/update/&quot;, method = RequestMethod.PUT, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;EntityModel&lt;Product&gt;&gt; updateProduct(@RequestBody Product product){\r\n       return productService.updateProduct(product);\r\n    }\r\n```\r\nthe code in the **ServiceImpl**:&lt;br&gt;\r\n```\r\n@Override\r\n    public ResponseEntity&lt;EntityModel&lt;Product&gt;&gt; updateProduct(Product product) {\r\n        boolean exist=productRepository.existsById(product.getProductId());\r\n        if(exist){\r\n            productRepository.save(product);\r\n            return ResponseEntity.ok().body(productEntityFactory.toModel(product));\r\n        }else {\r\n            throw new EntityNotFoundException(&quot;There is no product with the given ID, so it can&#39;t be updated&quot;);\r\n        }\r\n    }\r\n```\r\nif the sent json does not undergo any change, then you can send it as many as you want, but if there is a change, it will only work for the first time.\r\n\r\n\r\n","title":"Cannot update an object more than once","body":"<p>I want to write a function that will update products freely.<br>\nBut in the second update I get an error:<br></p>\n<pre><code>org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [guru.springframework.domain.Product#4]\n</code></pre>\n<p>the code in the <strong>controller</strong>:<br></p>\n<pre><code>    @ApiOperation(value = &quot;Update a product&quot;)\n    @RequestMapping(value = &quot;/update/&quot;, method = RequestMethod.PUT, produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;EntityModel&lt;Product&gt;&gt; updateProduct(@RequestBody Product product){\n       return productService.updateProduct(product);\n    }\n</code></pre>\n<p>the code in the <strong>ServiceImpl</strong>:<br></p>\n<pre><code>@Override\n    public ResponseEntity&lt;EntityModel&lt;Product&gt;&gt; updateProduct(Product product) {\n        boolean exist=productRepository.existsById(product.getProductId());\n        if(exist){\n            productRepository.save(product);\n            return ResponseEntity.ok().body(productEntityFactory.toModel(product));\n        }else {\n            throw new EntityNotFoundException(&quot;There is no product with the given ID, so it can't be updated&quot;);\n        }\n    }\n</code></pre>\n<p>if the sent json does not undergo any change, then you can send it as many as you want, but if there is a change, it will only work for the first time.</p>\n"},{"tags":["java","oracle","testing","jdbc"],"answers":[{"tags":[],"owner":{"account_id":7053715,"reputation":485,"user_id":5401889,"display_name":"Duong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655570526,"creation_date":1529080171,"answer_id":50879553,"question_id":50879385,"body_markdown":"Cause your question is not clear, so I&#39;ll draw two directions:\r\n\r\nDirection 1 - drop all objects and user as well.\r\n\r\nThe best way is: `drop user &lt;user_name_here&gt; cascade;`\r\nRun SQL statement under user having `DROP USER` System privilege.\r\n\r\nDirection 2 - drop all objects but still keeping user (all roles &amp; privileges)\r\n\r\nFirst list all privileges and copy to notepad(for example hr user):\r\n\r\n  \r\n\r\n    -- GETTING ALL SYSTEM PRIVILEGES\r\n    SELECT &#39;GRANT &#39; || PRIVILEGE || &#39; TO &#39; || GRANTEE || \r\n    CASE ADMIN_OPTION \r\n        WHEN &#39;YES&#39; THEN &#39; WITH ADMIN OPTION;&#39;\r\n        ELSE &#39;;&#39;\r\n    END\r\n    from dba_sys_privs where grantee =&#39;HR&#39;;\r\n    -- GETTING ALL ROLES\r\n    SELECT &#39;GRANT &#39; || GRANTED_ROLE || &#39; TO &#39; || GRANTEE ||\r\n    CASE ADMIN_OPTION \r\n        WHEN &#39;YES&#39; THEN &#39; WITH ADMIN OPTION;&#39;\r\n        ELSE &#39;;&#39;\r\n    END\r\n    FROM DBA_ROLE_PRIVS\r\n    WHERE GRANTEE=&#39;HR&#39;;\r\n    -- GETTING ALL TABLES, EXECUTE, ... PRIVILEGES\r\n    SELECT &#39;GRANT &#39; || PRIVILEGE || &#39; ON &#39; || OWNER || &#39;.&#39; || TABLE_NAME || &#39; TO &#39; || GRANTEE ||\r\n    CASE GRANTABLE\r\n        WHEN &#39;YES&#39; THEN &#39; WITH GRANT OPTION;&#39;\r\n        ELSE &#39;;&#39;\r\n    END\r\n    FROM DBA_TAB_PRIVS\r\n    WHERE GRANTEE=&#39;HR&#39;;\r\n\r\nThen drop user cascade;\r\n\r\nRecreate user and run the content of notepad file.\r\n\r\nThanks Alex Poole for your suggestion!\r\n\r\n\r\n","title":"How to remove all database objects for a schema in java?","body":"<p>Cause your question is not clear, so I'll draw two directions:</p>\n<p>Direction 1 - drop all objects and user as well.</p>\n<p>The best way is: <code>drop user &lt;user_name_here&gt; cascade;</code>\nRun SQL statement under user having <code>DROP USER</code> System privilege.</p>\n<p>Direction 2 - drop all objects but still keeping user (all roles &amp; privileges)</p>\n<p>First list all privileges and copy to notepad(for example hr user):</p>\n<pre><code>-- GETTING ALL SYSTEM PRIVILEGES\nSELECT 'GRANT ' || PRIVILEGE || ' TO ' || GRANTEE || \nCASE ADMIN_OPTION \n    WHEN 'YES' THEN ' WITH ADMIN OPTION;'\n    ELSE ';'\nEND\nfrom dba_sys_privs where grantee ='HR';\n-- GETTING ALL ROLES\nSELECT 'GRANT ' || GRANTED_ROLE || ' TO ' || GRANTEE ||\nCASE ADMIN_OPTION \n    WHEN 'YES' THEN ' WITH ADMIN OPTION;'\n    ELSE ';'\nEND\nFROM DBA_ROLE_PRIVS\nWHERE GRANTEE='HR';\n-- GETTING ALL TABLES, EXECUTE, ... PRIVILEGES\nSELECT 'GRANT ' || PRIVILEGE || ' ON ' || OWNER || '.' || TABLE_NAME || ' TO ' || GRANTEE ||\nCASE GRANTABLE\n    WHEN 'YES' THEN ' WITH GRANT OPTION;'\n    ELSE ';'\nEND\nFROM DBA_TAB_PRIVS\nWHERE GRANTEE='HR';\n</code></pre>\n<p>Then drop user cascade;</p>\n<p>Recreate user and run the content of notepad file.</p>\n<p>Thanks Alex Poole for your suggestion!</p>\n"},{"tags":[],"owner":{"account_id":429281,"reputation":700,"user_id":812093,"accept_rate":83,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1529309047,"creation_date":1529083476,"answer_id":50880200,"question_id":50879385,"body_markdown":"# Flyway\r\n\r\nIt looks like the [Flyway][1] database migration tool offers the functionality that I was looking for - at least if you feel like hacking :) Since I required the feature just for integration testing anyway it is good enough for me. Let me share my code.\r\n\r\nAdd Flyway and Oracle driver dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.1&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\t\t\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\r\n    \t&lt;version&gt;12.1.0.2&lt;/version&gt;\r\n    \t&lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\t\r\n\r\nMain class to execute scripts and cleanup db\r\n\r\n    public class ExecuteScriptsAgainstOracle {\r\n    \r\n    \tpublic static void main(String args[]) throws Exception, SQLException {\r\n    \r\n    \t\tFlyway flyway = new Flyway();\r\n    \t\tflyway.setDataSource(&quot;jdbc:oracle:thin:@xxx:1521:yyy&quot;, &quot;zzz&quot;, &quot;zzz&quot;);\r\n    \t\tflyway.setTable(&quot;auto_schema_setup_flyway&quot;);\r\n    \r\n    \t\tDatabase&lt;?&gt; database = DatabaseFactory.createDatabase(flyway.getConfiguration(), false);\r\n    \r\n    // clean the database (remove all objects of the schema)\r\n    \t\tflyway.clean();\r\n    \t\tflyway.setSkipDefaultResolvers(true);\r\n    \t\tflyway.setResolvers(new MyMigrationResolver(database, flyway.getConfiguration()));\r\n    \t\tflyway.migrate();\r\n    \t}\r\n    \r\n    }\r\n\r\nThe MigrationResolver that lists the to be executed files\r\n\r\npackage org.flywaydb.core.internal.resolver.sql;\r\n\r\npublic class MyMigrationResolver implements MigrationResolver {\r\n\r\n\tprivate Database&lt;?&gt; database;\r\n\tprivate Configuration configuration;\r\n\tprivate int order = 0;\r\n\r\n\tpublic MyMigrationResolver(Database&lt;?&gt; database, Configuration configuration) {\r\n\t\tthis.database = database;\r\n\t\tthis.configuration = configuration;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Collection&lt;ResolvedMigration&gt; resolveMigrations() {\r\n\r\n\t\tCollection&lt;ResolvedMigration&gt; scripts = new LinkedList&lt;ResolvedMigration&gt;();\r\n\t\tscripts.add(script(folder1\\\\somescript.dml&quot;));\r\n\t\tscripts.add(script(&quot;folder2\\\\someOtherScript.sql&quot;));\r\n\r\n\t\treturn scripts;\r\n\t}\r\n\r\n\tprivate ResolvedMigrationImpl script(String scriptName) {\r\n\t\t\r\n\r\n\t\tString baseFolder = &quot;target\\\\scripts\\\\&quot;;\r\n\t\torder++;\r\n\t\t\r\n\t\tResolvedMigrationImpl migration = new ResolvedMigrationImpl();\r\n\t\tmigration.setScript(baseFolder+scriptName);\r\n\t\tmigration.setType(MigrationType.SQL);\r\n\t\tmigration.setDescription(&quot;&quot;+String.format(&quot;%03d&quot;,order)+&quot; &quot;+scriptName);\r\n\t\tmigration.setExecutor(new SqlMigrationExecutor(database,\r\n\t\t\t\tnew FileSystemResource(migration.getScript(), configuration.getEncoding()),\r\n\t\t\t\tnew PlaceholderReplacer() {\r\n\t\t\t\t\t\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic String replacePlaceholders(String input) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// just remove parts of the sql that flyway can&#39;t deal with\r\n\t\t\t\t\t\tinput = StringUtils.replace(input, &quot;WHENEVER SQLERROR EXIT SQL.SQLCODE ROLLBACK;&quot;, &quot;&quot;);\r\n\t\t\t\t\t\tinput = StringUtils.replace(input, &quot;SET DEFINE OFF;&quot;, &quot;&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn input;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic Map&lt;String, String&gt; getPlaceholderReplacements() {\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t, configuration));\r\n\t\treturn migration;\r\n\t}\r\n}\r\n\r\n\r\n  [1]: https://flywaydb.org","title":"How to remove all database objects for a schema in java?","body":"<h1>Flyway</h1>\n\n<p>It looks like the <a href=\"https://flywaydb.org\" rel=\"nofollow noreferrer\">Flyway</a> database migration tool offers the functionality that I was looking for - at least if you feel like hacking :) Since I required the feature just for integration testing anyway it is good enough for me. Let me share my code.</p>\n\n<p>Add Flyway and Oracle driver dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n    &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;version&gt;5.1.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;       \n&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\n    &lt;version&gt;12.1.0.2&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;   \n</code></pre>\n\n<p>Main class to execute scripts and cleanup db</p>\n\n<pre><code>public class ExecuteScriptsAgainstOracle {\n\n    public static void main(String args[]) throws Exception, SQLException {\n\n        Flyway flyway = new Flyway();\n        flyway.setDataSource(\"jdbc:oracle:thin:@xxx:1521:yyy\", \"zzz\", \"zzz\");\n        flyway.setTable(\"auto_schema_setup_flyway\");\n\n        Database&lt;?&gt; database = DatabaseFactory.createDatabase(flyway.getConfiguration(), false);\n\n// clean the database (remove all objects of the schema)\n        flyway.clean();\n        flyway.setSkipDefaultResolvers(true);\n        flyway.setResolvers(new MyMigrationResolver(database, flyway.getConfiguration()));\n        flyway.migrate();\n    }\n\n}\n</code></pre>\n\n<p>The MigrationResolver that lists the to be executed files</p>\n\n<p>package org.flywaydb.core.internal.resolver.sql;</p>\n\n<p>public class MyMigrationResolver implements MigrationResolver {</p>\n\n<pre><code>private Database&lt;?&gt; database;\nprivate Configuration configuration;\nprivate int order = 0;\n\npublic MyMigrationResolver(Database&lt;?&gt; database, Configuration configuration) {\n    this.database = database;\n    this.configuration = configuration;\n}\n\n@Override\npublic Collection&lt;ResolvedMigration&gt; resolveMigrations() {\n\n    Collection&lt;ResolvedMigration&gt; scripts = new LinkedList&lt;ResolvedMigration&gt;();\n    scripts.add(script(folder1\\\\somescript.dml\"));\n    scripts.add(script(\"folder2\\\\someOtherScript.sql\"));\n\n    return scripts;\n}\n\nprivate ResolvedMigrationImpl script(String scriptName) {\n\n\n    String baseFolder = \"target\\\\scripts\\\\\";\n    order++;\n\n    ResolvedMigrationImpl migration = new ResolvedMigrationImpl();\n    migration.setScript(baseFolder+scriptName);\n    migration.setType(MigrationType.SQL);\n    migration.setDescription(\"\"+String.format(\"%03d\",order)+\" \"+scriptName);\n    migration.setExecutor(new SqlMigrationExecutor(database,\n            new FileSystemResource(migration.getScript(), configuration.getEncoding()),\n            new PlaceholderReplacer() {\n\n                @Override\n                public String replacePlaceholders(String input) {\n\n                    // just remove parts of the sql that flyway can't deal with\n                    input = StringUtils.replace(input, \"WHENEVER SQLERROR EXIT SQL.SQLCODE ROLLBACK;\", \"\");\n                    input = StringUtils.replace(input, \"SET DEFINE OFF;\", \"\");\n\n                    return input;\n                }\n\n                @Override\n                public Map&lt;String, String&gt; getPlaceholderReplacements() {\n                    return null;\n                }\n            }\n            , configuration));\n    return migration;\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":429281,"reputation":700,"user_id":812093,"accept_rate":83,"display_name":"Kai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1225,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":50880200,"answer_count":2,"score":2,"last_activity_date":1655570526,"creation_date":1529079373,"question_id":50879385,"body_markdown":"Whats the best way for cleaning (removing all objects, tables, views etc.) for an oracle database schema in java? \r\n\r\nI can run something like https://stackoverflow.com/a/1690419/812093 with an Oracle database client but is there a java library or tool which could be used? I know that I could read the connection meta data, iterate over all objects and drop them but I was wondering if somebody did that before and if there is anything out of the box which could be used.\r\n\r\nI need this functionality in order for setting up integration tests that\r\n- clean a database schema\r\n- execute a bunch of scripts against that schema to initialize the database","title":"How to remove all database objects for a schema in java?","body":"<p>Whats the best way for cleaning (removing all objects, tables, views etc.) for an oracle database schema in java? </p>\n\n<p>I can run something like <a href=\"https://stackoverflow.com/a/1690419/812093\">https://stackoverflow.com/a/1690419/812093</a> with an Oracle database client but is there a java library or tool which could be used? I know that I could read the connection meta data, iterate over all objects and drop them but I was wondering if somebody did that before and if there is anything out of the box which could be used.</p>\n\n<p>I need this functionality in order for setting up integration tests that\n- clean a database schema\n- execute a bunch of scripts against that schema to initialize the database</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17787151,"reputation":378,"user_id":12916990,"display_name":"Vijay S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655539133,"creation_date":1655539133,"answer_id":72667667,"question_id":72667398,"body_markdown":"Cardview has is all include shape ,color,radius     \r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:cardElevation=&quot;10dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            app:cardBackgroundColor=&quot;@color/white&quot;\r\n            app:cardMaxElevation=&quot;12dp&quot;\r\n            app:cardPreventCornerOverlap=&quot;true&quot;\r\n            app:cardUseCompatPadding=&quot;true&quot;\r\n            &gt;","title":"How do i change my cardview background with a custom background?","body":"<p>Cardview has is all include shape ,color,radius</p>\n<pre><code>&lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:cardElevation=&quot;10dp&quot;\n        app:cardCornerRadius=&quot;20dp&quot;\n        android:layout_margin=&quot;10dp&quot;\n        app:cardBackgroundColor=&quot;@color/white&quot;\n        app:cardMaxElevation=&quot;12dp&quot;\n        app:cardPreventCornerOverlap=&quot;true&quot;\n        app:cardUseCompatPadding=&quot;true&quot;\n        &gt;\n</code></pre>\n"}],"owner":{"account_id":22238731,"reputation":73,"user_id":16473617,"display_name":"Kelven Lim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72667667,"answer_count":1,"score":0,"last_activity_date":1655570260,"creation_date":1655536177,"question_id":72667398,"body_markdown":"I made a box.xml file and it looks like this\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item&gt;\r\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n            &lt;solid android:color=&quot;#FF9800&quot;&gt;&lt;/solid&gt;\r\n            &lt;corners android:radius=&quot;10dp&quot;&gt;&lt;/corners&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n\r\n    &lt;/selector&gt;\r\n\r\nFor my cardview, I added `android:background=&quot;@drawable/box&quot;` but the colour didn&#39;t change","title":"How do i change my cardview background with a custom background?","body":"<p>I made a box.xml file and it looks like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;item&gt;\n    &lt;shape android:shape=&quot;rectangle&quot;&gt;\n        &lt;solid android:color=&quot;#FF9800&quot;&gt;&lt;/solid&gt;\n        &lt;corners android:radius=&quot;10dp&quot;&gt;&lt;/corners&gt;\n    &lt;/shape&gt;\n&lt;/item&gt;\n\n&lt;/selector&gt;\n</code></pre>\n<p>For my cardview, I added <code>android:background=&quot;@drawable/box&quot;</code> but the colour didn't change</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25045609,"reputation":1,"user_id":18902049,"display_name":"javanoob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655570189,"creation_date":1655411232,"answer_id":72651540,"question_id":72321921,"body_markdown":"I am answering my own question:\r\n\r\n    public int stringToMinutes(String offset) {\r\n\t\tint totalMinute = 0;\r\n\t\tString hourString = offset.substring(offset.indexOf(&quot;T&quot;) + 1, offset.indexOf(&quot;H&quot;));\r\n\t\tint hour = Integer.parseInt(hourString);\r\n\t\tString minuteString = offset.substring(offset.indexOf(&quot;H&quot;) + 1, offset.indexOf(&quot;M&quot;));\r\n\t\tint minute = Integer.parseInt(minuteString);\r\n\t\tif (offset.contains(&quot;-&quot;)) {\r\n\t\t\ttotalMinute = -((hour * 60) + minute);\r\n\t\t} else {\r\n\t\t\ttotalMinute = ((hour * 60) + minute);\r\n\t\t}\r\n\t\treturn totalMinute;\r\n\t}","title":"Converting String to XMLGregorianCalender timezone offset in java","body":"<p>I am answering my own question:</p>\n<pre><code>public int stringToMinutes(String offset) {\n    int totalMinute = 0;\n    String hourString = offset.substring(offset.indexOf(&quot;T&quot;) + 1, offset.indexOf(&quot;H&quot;));\n    int hour = Integer.parseInt(hourString);\n    String minuteString = offset.substring(offset.indexOf(&quot;H&quot;) + 1, offset.indexOf(&quot;M&quot;));\n    int minute = Integer.parseInt(minuteString);\n    if (offset.contains(&quot;-&quot;)) {\n        totalMinute = -((hour * 60) + minute);\n    } else {\n        totalMinute = ((hour * 60) + minute);\n    }\n    return totalMinute;\n}\n</code></pre>\n"}],"owner":{"account_id":25045609,"reputation":1,"user_id":18902049,"display_name":"javanoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655570189,"creation_date":1653063163,"question_id":72321921,"body_markdown":"I am recieving a String of date and zoneAdjustment. I was able to convert the date to gregorian calender but I was wondering how can I set the custom offset that I am recieving. \r\nI am recieving:\r\nString inputDate= &quot;2022-05-19T20:21:11&quot;\r\nString offset = &quot;-PT5H0M&quot;;\r\nI need final output as &quot;2020-05-19T20:21:11.000-05:00&quot;\r\nI need to convert the offset to int and use it to set the timezone.\r\n\r\n    public XMLGregorianCalendar getXmlGregorianCalender(String inputDate, int offset) {\r\n        XMLGregorianCalendar xmlGregorianCalendar = null;\r\n\r\n        try {\r\n            Date date;\r\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n            date = simpleDateFormat.parse(inputDate);\r\n            GregorianCalendar gregorianCalendar =\r\n                    (GregorianCalendar) GregorianCalendar.getInstance();\r\n            gregorianCalendar.setTime(date);\r\n            xmlGregorianCalendar =\r\n                    DatatypeFactory.newInstance().newXMLGregorianCalendar(gregorianCalendar);\r\n            xmlGregorianCalendar.setTimezone(offset);\r\n            //\t\t\txmlGregorianCalendar.setTimezone();\r\n\r\n\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;Error parsing dates&quot;, e);\r\n        }\r\n\r\n        return xmlGregorianCalendar;\r\n    }","title":"Converting String to XMLGregorianCalender timezone offset in java","body":"<p>I am recieving a String of date and zoneAdjustment. I was able to convert the date to gregorian calender but I was wondering how can I set the custom offset that I am recieving.\nI am recieving:\nString inputDate= &quot;2022-05-19T20:21:11&quot;\nString offset = &quot;-PT5H0M&quot;;\nI need final output as &quot;2020-05-19T20:21:11.000-05:00&quot;\nI need to convert the offset to int and use it to set the timezone.</p>\n<pre><code>public XMLGregorianCalendar getXmlGregorianCalender(String inputDate, int offset) {\n    XMLGregorianCalendar xmlGregorianCalendar = null;\n\n    try {\n        Date date;\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n        date = simpleDateFormat.parse(inputDate);\n        GregorianCalendar gregorianCalendar =\n                (GregorianCalendar) GregorianCalendar.getInstance();\n        gregorianCalendar.setTime(date);\n        xmlGregorianCalendar =\n                DatatypeFactory.newInstance().newXMLGregorianCalendar(gregorianCalendar);\n        xmlGregorianCalendar.setTimezone(offset);\n        //          xmlGregorianCalendar.setTimezone();\n\n\n    } catch (Exception e) {\n        LOGGER.error(&quot;Error parsing dates&quot;, e);\n    }\n\n    return xmlGregorianCalendar;\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1655545656,"post_id":72668196,"comment_id":128360902,"body_markdown":"Probably you need to read about DiffUtil &amp; Paging APIs","body":"Probably you need to read about DiffUtil &amp; Paging APIs"},{"owner":{"account_id":22099052,"reputation":42,"user_id":16366667,"display_name":"Md. Shahinur Islam"},"score":0,"creation_date":1655545874,"post_id":72668196,"comment_id":128360936,"body_markdown":"I can&#39;t understand. I want to proper example and solution.","body":"I can&#39;t understand. I want to proper example and solution."},{"owner":{"account_id":24550962,"reputation":625,"user_id":18460115,"display_name":"Aiman Alyosofi"},"score":0,"creation_date":1655545892,"post_id":72668196,"comment_id":128360939,"body_markdown":"Google &quot;RecyclerView Pagination Android&quot;, you don&#39;t give us what your code looks like, so it isn&#39;t easy to provide you with real tips.","body":"Google &quot;RecyclerView Pagination Android&quot;, you don&#39;t give us what your code looks like, so it isn&#39;t easy to provide you with real tips."},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1655546287,"post_id":72668196,"comment_id":128360992,"body_markdown":"Check [this](https://medium.com/swlh/paging3-recyclerview-pagination-made-easy-333c7dfa8797) out","body":"Check <a href=\"https://medium.com/swlh/paging3-recyclerview-pagination-made-easy-333c7dfa8797\" rel=\"nofollow noreferrer\">this</a> out"},{"owner":{"account_id":22099052,"reputation":42,"user_id":16366667,"display_name":"Md. Shahinur Islam"},"score":0,"creation_date":1655546677,"post_id":72668196,"comment_id":128361055,"body_markdown":"I&#39;m add example code. please check it. @Aiman Alyosofi","body":"I&#39;m add example code. please check it. @Aiman Alyosofi"}],"answers":[{"tags":[],"owner":{"account_id":16095471,"reputation":2336,"user_id":11617754,"display_name":"Mohamed Rejeb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655545754,"creation_date":1655545754,"answer_id":72668296,"question_id":72668196,"body_markdown":"Google provides a library for that purpose which is `paging` library, you can know how it works [here][1] from google documentation, or you can follow this [video][2] where you will learn how to use paging library to achieve the result that you want.\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/paging/v3-overview\r\n  [2]: https://youtu.be/CKuVM2yPgPw","title":"recyclerView load more data which shortest and easy ways?","body":"<p>Google provides a library for that purpose which is <code>paging</code> library, you can know how it works <a href=\"https://developer.android.com/topic/libraries/architecture/paging/v3-overview\" rel=\"nofollow noreferrer\">here</a> from google documentation, or you can follow this <a href=\"https://youtu.be/CKuVM2yPgPw\" rel=\"nofollow noreferrer\">video</a> where you will learn how to use paging library to achieve the result that you want.</p>\n"},{"tags":[],"owner":{"account_id":24550962,"reputation":625,"user_id":18460115,"display_name":"Aiman Alyosofi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655557814,"creation_date":1655548732,"answer_id":72668584,"question_id":72668196,"body_markdown":"First thing the function `generateDataList` must call first time only\r\nSo I&#39;m going to call it from the `onCreat`\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState){\r\n     ...\r\n     generateDataList();\r\n}\r\nprivate void generateDataList() {\r\n    recyclerView = findViewById(R.id.recyclerView);\r\n    adapter = new CommentAdapter(this,new ArrayList&lt;&gt;());\r\n    RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(CommentPost.this);\r\n    recyclerView.setLayoutManager(layoutManager);\r\n    recyclerView.setAdapter(adapter);\r\n}\r\n\r\n```\r\n\r\nYou can create your layout like this:\r\n```\r\n&lt;androidx.core.widget.NestedScrollView \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nestedSV&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n  \r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n          \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recyclerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:nestedScrollingEnabled=&quot;false&quot;\r\n            tools:listitem=&quot;@layout/user_rv_item&quot; /&gt;\r\n          \r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progressBar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n      \r\n&lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n```\r\n\r\nAnd we going to set the scroll listener for `NestedScrollView` \r\n\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState){\r\n    ...\r\n    progressBar = findViewById(R.id.progressBar);\r\n    nestedSV = findViewById(R.id.nestedSV);\r\n    nestedSV.setOnScrollChangeListener(new NestedScrollView.OnScrollChangeListener() {\r\n        @Override\r\n        public void onScrollChange(NestedScrollView v, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\r\n            // When the Scroll of NestedScrollView in bottom\r\n            if (scrollY == v.getChildAt(0).getMeasuredHeight() - v.getMeasuredHeight()) {\r\n                // show the progressbar and then get more data to the recyclerview\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                showData();\r\n            }\r\n        }\r\n    });\r\n    generateDataList();\r\n}\r\n```\r\n\r\nAnd We going to change `showData()`:\r\n\r\n```\r\npublic void showData(){\r\n    Call&lt;List&lt;Comments&gt;&gt; call = service.getComment(audioPath);\r\n    call.enqueue(new Callback&lt;List&lt;Comments&gt;&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;List&lt;Comments&gt;&gt; call, Response&lt;List&lt;Comments&gt;&gt; response) {\r\n            // here instead of generateDataList we going to add the data with addToList\r\n            addToList(response.body());\r\n            progressBar.setVisibility(View.GONE);\r\n        }\r\n        @Override\r\n        public void onFailure(Call&lt;List&lt;Comments&gt;&gt; call, Throwable t) {\r\n            progressBar.setVisibility(View.GONE);\r\n            Toast.makeText(CommentPost.this, &quot;Something went wrong...Please try later!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n}\r\n\r\n\r\nprivate void addToList(List&lt;Comments&gt; commentsList) {\r\n     // this is add commentsList data to the adapter list\r\n     adapter. dataList.addAll(commentsList);\r\n     adapter.notifyDataSetChanged();\r\n}\r\n\r\n```","title":"recyclerView load more data which shortest and easy ways?","body":"<p>First thing the function <code>generateDataList</code> must call first time only\nSo I'm going to call it from the <code>onCreat</code></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState){\n     ...\n     generateDataList();\n}\nprivate void generateDataList() {\n    recyclerView = findViewById(R.id.recyclerView);\n    adapter = new CommentAdapter(this,new ArrayList&lt;&gt;());\n    RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(CommentPost.this);\n    recyclerView.setLayoutManager(layoutManager);\n    recyclerView.setAdapter(adapter);\n}\n\n</code></pre>\n<p>You can create your layout like this:</p>\n<pre><code>&lt;androidx.core.widget.NestedScrollView \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/nestedSV&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n  \n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n          \n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/recyclerView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:nestedScrollingEnabled=&quot;false&quot;\n            tools:listitem=&quot;@layout/user_rv_item&quot; /&gt;\n          \n        &lt;ProgressBar\n            android:id=&quot;@+id/progressBar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n    &lt;/LinearLayout&gt;\n      \n&lt;/androidx.core.widget.NestedScrollView&gt;\n\n</code></pre>\n<p>And we going to set the scroll listener for <code>NestedScrollView</code></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState){\n    ...\n    progressBar = findViewById(R.id.progressBar);\n    nestedSV = findViewById(R.id.nestedSV);\n    nestedSV.setOnScrollChangeListener(new NestedScrollView.OnScrollChangeListener() {\n        @Override\n        public void onScrollChange(NestedScrollView v, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\n            // When the Scroll of NestedScrollView in bottom\n            if (scrollY == v.getChildAt(0).getMeasuredHeight() - v.getMeasuredHeight()) {\n                // show the progressbar and then get more data to the recyclerview\n                progressBar.setVisibility(View.VISIBLE);\n                showData();\n            }\n        }\n    });\n    generateDataList();\n}\n</code></pre>\n<p>And We going to change <code>showData()</code>:</p>\n<pre><code>public void showData(){\n    Call&lt;List&lt;Comments&gt;&gt; call = service.getComment(audioPath);\n    call.enqueue(new Callback&lt;List&lt;Comments&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;Comments&gt;&gt; call, Response&lt;List&lt;Comments&gt;&gt; response) {\n            // here instead of generateDataList we going to add the data with addToList\n            addToList(response.body());\n            progressBar.setVisibility(View.GONE);\n        }\n        @Override\n        public void onFailure(Call&lt;List&lt;Comments&gt;&gt; call, Throwable t) {\n            progressBar.setVisibility(View.GONE);\n            Toast.makeText(CommentPost.this, &quot;Something went wrong...Please try later!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n\n\nprivate void addToList(List&lt;Comments&gt; commentsList) {\n     // this is add commentsList data to the adapter list\n     adapter. dataList.addAll(commentsList);\n     adapter.notifyDataSetChanged();\n}\n\n</code></pre>\n"}],"owner":{"account_id":22099052,"reputation":42,"user_id":16366667,"display_name":"Md. Shahinur Islam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":960,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1655570225,"answer_count":2,"score":-1,"last_activity_date":1655570179,"creation_date":1655544731,"question_id":72668196,"body_markdown":" I want to load more data to show recycle view after 10 data loads. example below. I&#39;m tired to find it. I can&#39;t understand the solution. I want an easy solution.\r\n\r\nExample: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5n1g0.png\r\n\r\n**CommentPost.java**\r\n\r\n     public void showData(){\r\n        //view Comment\r\n        progressDoalog = new ProgressDialog(CommentPost.this);\r\n        progressDoalog.setMessage(&quot;Loading....&quot;);\r\n        progressDoalog.show();\r\n        /*Create handle for the RetrofitInstance interface*/\r\n        Call&lt;List&lt;Comments&gt;&gt; call = service.getComment(audioPath);\r\n        call.enqueue(new Callback&lt;List&lt;Comments&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;Comments&gt;&gt; call, Response&lt;List&lt;Comments&gt;&gt; response) {\r\n                progressDoalog.dismiss();\r\n                generateDataList(response.body());\r\n            }\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;Comments&gt;&gt; call, Throwable t) {\r\n                progressDoalog.dismiss();\r\n                Toast.makeText(CommentPost.this, &quot;Something went wrong...Please try later!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n    /*Method to generate List of data using RecyclerView with custom adapter*/\r\n    private void generateDataList(List&lt;Comments&gt; CommentsList) {\r\n        recyclerView = findViewById(R.id.recyclerView);\r\n        adapter = new CommentAdapter(this,CommentsList);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(CommentPost.this);\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        recyclerView.setAdapter(adapter);\r\n        //latest message\r\n        recyclerView.scrollToPosition(adapter.getItemCount() - 1);\r\n    }\r\n\r\n**Adapter:** \r\n\r\n    \r\n    @SuppressLint(&quot;RecyclerView&quot;)\r\n    @Override\r\n    public void onBindViewHolder(CommentAdapter.CustomViewHolder holder, int position) {\r\n        holder.txtTitle.setText(dataList.get(position).getComment());\r\n        holder.txttime.setText(dataList.get(position).getUpdated_at());\r\n        holder.userNametitle.setText(dataList.get(position).getuser_name());\r\n\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //Toast.makeText(view.getContext(), &quot;&quot; + dataList.get(position).getId(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return dataList.size();\r\n    }\r\n\r\n\r\n","title":"recyclerView load more data which shortest and easy ways?","body":"<p>I want to load more data to show recycle view after 10 data loads. example below. I'm tired to find it. I can't understand the solution. I want an easy solution.</p>\n<p>Example: <a href=\"https://i.stack.imgur.com/5n1g0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5n1g0.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>CommentPost.java</strong></p>\n<pre><code> public void showData(){\n    //view Comment\n    progressDoalog = new ProgressDialog(CommentPost.this);\n    progressDoalog.setMessage(&quot;Loading....&quot;);\n    progressDoalog.show();\n    /*Create handle for the RetrofitInstance interface*/\n    Call&lt;List&lt;Comments&gt;&gt; call = service.getComment(audioPath);\n    call.enqueue(new Callback&lt;List&lt;Comments&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;Comments&gt;&gt; call, Response&lt;List&lt;Comments&gt;&gt; response) {\n            progressDoalog.dismiss();\n            generateDataList(response.body());\n        }\n        @Override\n        public void onFailure(Call&lt;List&lt;Comments&gt;&gt; call, Throwable t) {\n            progressDoalog.dismiss();\n            Toast.makeText(CommentPost.this, &quot;Something went wrong...Please try later!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n/*Method to generate List of data using RecyclerView with custom adapter*/\nprivate void generateDataList(List&lt;Comments&gt; CommentsList) {\n    recyclerView = findViewById(R.id.recyclerView);\n    adapter = new CommentAdapter(this,CommentsList);\n    RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(CommentPost.this);\n    recyclerView.setLayoutManager(layoutManager);\n    recyclerView.setAdapter(adapter);\n    //latest message\n    recyclerView.scrollToPosition(adapter.getItemCount() - 1);\n}\n</code></pre>\n<p><strong>Adapter:</strong></p>\n<pre><code>@SuppressLint(&quot;RecyclerView&quot;)\n@Override\npublic void onBindViewHolder(CommentAdapter.CustomViewHolder holder, int position) {\n    holder.txtTitle.setText(dataList.get(position).getComment());\n    holder.txttime.setText(dataList.get(position).getUpdated_at());\n    holder.userNametitle.setText(dataList.get(position).getuser_name());\n\n    holder.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            //Toast.makeText(view.getContext(), &quot;&quot; + dataList.get(position).getId(), Toast.LENGTH_SHORT).show();\n        }\n    });\n\n}\n\n@Override\npublic int getItemCount() {\n    return dataList.size();\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3159138,"reputation":33796,"user_id":2670792,"accept_rate":100,"display_name":"Christian Tapia"},"score":0,"creation_date":1389487188,"post_id":21069817,"comment_id":31686398,"body_markdown":"What is `first_string`?","body":"What is <code>first_string</code>?"},{"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"score":1,"creation_date":1389487193,"post_id":21069817,"comment_id":31686399,"body_markdown":"The problem is almost certainly in where you&#39;re getting first_string from, not in this code.","body":"The problem is almost certainly in where you&#39;re getting first_string from, not in this code."}],"answers":[{"tags":[],"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655570147,"creation_date":1389487169,"answer_id":21069836,"question_id":21069817,"body_markdown":"Yes, it does include spaces by default. For example,\r\n\r\n```java\r\npublic class Tester {\r\n\tpublic static void main (String[] args) {\r\n\t\tString temp = &quot;This is a sentence.&quot;;\r\n\t    char[] arr = temp.toCharArray();\r\n\r\n        for (char k : arr) {\r\n\t    \tSystem.out.print(k);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nPrints out &quot;This is a sentence.&quot; You should always consult the Javadocs when in doubt about what a function does. Take a look at this: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toCharArray()\r\n\r\nWhich quotes directly: &quot;a newly allocated character array whose length is the length of this string and whose contents are initialized to contain the character sequence represented by this string.&quot;","title":"Include spaces in String.toCharArray Java","body":"<p>Yes, it does include spaces by default. For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Tester {\n    public static void main (String[] args) {\n        String temp = &quot;This is a sentence.&quot;;\n        char[] arr = temp.toCharArray();\n\n        for (char k : arr) {\n            System.out.print(k);\n        }\n    }\n}\n</code></pre>\n<p>Prints out &quot;This is a sentence.&quot; You should always consult the Javadocs when in doubt about what a function does. Take a look at this: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toCharArray()\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toCharArray()</a></p>\n<p>Which quotes directly: &quot;a newly allocated character array whose length is the length of this string and whose contents are initialized to contain the character sequence represented by this string.&quot;</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494808507,"creation_date":1389488239,"answer_id":21069988,"question_id":21069817,"body_markdown":"You are confused.  [`String.toCharArray()`][1] does not remove or &quot;skip&quot; spaces.  It delivers exactly the sequence of characters as they are in the String.\r\n\r\nThe most likely problem is that the (expected) leading space is not in that string (`first_string`) at all.  You can check by temporarily adding this line:\r\n\r\n        System.err.println(&quot;first_string is &#39;&quot; + first_string + &quot;&#39;&quot;);\r\n\r\nand looking at the output.  Or you could use a debugger to set a breakpoint and examine the value of `first_string` directly.\r\n\r\n---------------------------\r\n\r\n**Hints for debugging:**\r\n\r\nIf your program misbehaves in a way that you can&#39;t explain / understand, then question your assumptions:\r\n\r\n  - Read / reread the javadocs to check that the library methods you are using actually do what you think / remember they do.\r\n\r\n  - Check that the relevant variables have the values that you think they should have.\r\n\r\nAnd ... **learn how to use your IDE&#39;s debugger**, &#39;cos you will save lots of time if you can use a debugger effectively.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toCharArray%28%29","title":"Include spaces in String.toCharArray Java","body":"<p>You are confused.  <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toCharArray%28%29\" rel=\"nofollow noreferrer\"><code>String.toCharArray()</code></a> does not remove or \"skip\" spaces.  It delivers exactly the sequence of characters as they are in the String.</p>\n\n<p>The most likely problem is that the (expected) leading space is not in that string (<code>first_string</code>) at all.  You can check by temporarily adding this line:</p>\n\n<pre><code>    System.err.println(\"first_string is '\" + first_string + \"'\");\n</code></pre>\n\n<p>and looking at the output.  Or you could use a debugger to set a breakpoint and examine the value of <code>first_string</code> directly.</p>\n\n<hr>\n\n<p><strong>Hints for debugging:</strong></p>\n\n<p>If your program misbehaves in a way that you can't explain / understand, then question your assumptions:</p>\n\n<ul>\n<li><p>Read / reread the javadocs to check that the library methods you are using actually do what you think / remember they do.</p></li>\n<li><p>Check that the relevant variables have the values that you think they should have.</p></li>\n</ul>\n\n<p>And ... <strong>learn how to use your IDE's debugger</strong>, 'cos you will save lots of time if you can use a debugger effectively.</p>\n"}],"owner":{"account_id":1972794,"reputation":714,"user_id":1771320,"accept_rate":55,"display_name":"Ds.109"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6097,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655570147,"creation_date":1389487052,"question_id":21069817,"body_markdown":"Can you include / interpret spaces from .toCharArray .. \r\n\r\nRight now it skips the spaces..\r\n\r\n        char[] first = first_string.toCharArray();\r\n\r\n    for (int x = 0; x &lt; first.length; x++) {\r\n            char first_letter = first[x];\r\n     }\r\n\r\nfirst_letter doesn&#39;t include the spaces ..?","title":"Include spaces in String.toCharArray Java","body":"<p>Can you include / interpret spaces from .toCharArray .. </p>\n\n<p>Right now it skips the spaces..</p>\n\n<pre><code>    char[] first = first_string.toCharArray();\n\nfor (int x = 0; x &lt; first.length; x++) {\n        char first_letter = first[x];\n }\n</code></pre>\n\n<p>first_letter doesn't include the spaces ..?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":19369351,"reputation":180,"user_id":14162959,"display_name":"Crebain"},"score":0,"creation_date":1655461695,"post_id":72657775,"comment_id":128343457,"body_markdown":"https://stackoverflow.com/questions/7057845/save-arraylist-to-sharedpreferences","body":"<a href=\"https://stackoverflow.com/questions/7057845/save-arraylist-to-sharedpreferences\" title=\"save arraylist to sharedpreferences\">stackoverflow.com/questions/7057845/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24550962,"reputation":625,"user_id":18460115,"display_name":"Aiman Alyosofi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655569918,"creation_date":1655497228,"answer_id":72664418,"question_id":72657775,"body_markdown":"When you direct from `MainActivity` to `CreateRecipeActivity` start the activty (for-result)\\\nSo it should be like this code:\n\n*MainActivity.java*\n\n```\nArrayList&lt;Recipe&gt; recipeList;\n\n// this for register a contract for (Start Activity For Result)\nActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        Intent data = result.getData();\n                        recipeList = (ArrayList&lt;String&gt;) data.getSerializableExtra(&quot;recipeList&quot;);\n                    }\n                }\n            });\n\nvoid openCreateRecipeActivity(){\n   Intent intent = new Intent(MainActivity.this, CreateRecipeActivity.class);\n   activityResultLauncher.launch(intent);\n}\n```\n\n*CreateRecipeActivity*\n\n```\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n     super.onCreate(savedInstanceState);\n     setContentView(R.layout.activity_main);\n     Button createButton = findViewById(R.id.createButton);\n     createButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n// Checks if there are empty fields\n            if (isEmpty(etRecipeName, etDuration, etIngredient, etDesc, etSteps) == false) {\n                Toast.makeText(createRecipe.this, &quot;There are empty fields. Please fill up all fields&quot;,\n                        Toast.LENGTH_SHORT).show();\n            }\n            // Checks if fields are entered correctly\n            else {\n                if (correctType(etRecipeName, etDuration, etIngredient, etDesc, etSteps) == true) {\n                    ArrayList&lt;Recipe&gt; recipeList = CreateRecipe(..);\n                    Intent intent = new Intent();\n                    intent.putExtra(&quot;recipeList&quot;, recipeList);\n                    setResult(Activity.RESULT_OK, intent);\n                    finish();\n                }\n                else {\n                    Toast.makeText(createRecipe.this,\n                            &quot;Some fields are entered wrongly. Please try again&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n            \n        }\n    });\n}\n    \n\nArrayList&lt;Recipe&gt; CreateRecipe(..){\n     ArrayList&lt;Recipe&gt; recipeList = new ArrayList&lt;Recipe&gt;();\n     // what ever you do just return the array list\n     return recipeList;\n}\n```","title":"How do I access an array from a different activity?","body":"<p>When you direct from <code>MainActivity</code> to <code>CreateRecipeActivity</code> start the activty (for-result)<br />\nSo it should be like this code:</p>\n<p><em>MainActivity.java</em></p>\n<pre><code>ArrayList&lt;Recipe&gt; recipeList;\n\n// this for register a contract for (Start Activity For Result)\nActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        Intent data = result.getData();\n                        recipeList = (ArrayList&lt;String&gt;) data.getSerializableExtra(&quot;recipeList&quot;);\n                    }\n                }\n            });\n\nvoid openCreateRecipeActivity(){\n   Intent intent = new Intent(MainActivity.this, CreateRecipeActivity.class);\n   activityResultLauncher.launch(intent);\n}\n</code></pre>\n<p><em>CreateRecipeActivity</em></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n     super.onCreate(savedInstanceState);\n     setContentView(R.layout.activity_main);\n     Button createButton = findViewById(R.id.createButton);\n     createButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n// Checks if there are empty fields\n            if (isEmpty(etRecipeName, etDuration, etIngredient, etDesc, etSteps) == false) {\n                Toast.makeText(createRecipe.this, &quot;There are empty fields. Please fill up all fields&quot;,\n                        Toast.LENGTH_SHORT).show();\n            }\n            // Checks if fields are entered correctly\n            else {\n                if (correctType(etRecipeName, etDuration, etIngredient, etDesc, etSteps) == true) {\n                    ArrayList&lt;Recipe&gt; recipeList = CreateRecipe(..);\n                    Intent intent = new Intent();\n                    intent.putExtra(&quot;recipeList&quot;, recipeList);\n                    setResult(Activity.RESULT_OK, intent);\n                    finish();\n                }\n                else {\n                    Toast.makeText(createRecipe.this,\n                            &quot;Some fields are entered wrongly. Please try again&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n            \n        }\n    });\n}\n    \n\nArrayList&lt;Recipe&gt; CreateRecipe(..){\n     ArrayList&lt;Recipe&gt; recipeList = new ArrayList&lt;Recipe&gt;();\n     // what ever you do just return the array list\n     return recipeList;\n}\n</code></pre>\n"}],"owner":{"account_id":22238731,"reputation":73,"user_id":16473617,"display_name":"Kelven Lim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655569918,"creation_date":1655460840,"question_id":72657775,"body_markdown":"I have 2 activities: **MainActivity** and **createRecipe**, and a class **Recipe**. MainActivity directs me to createRecipe where I can create a new recipe. My problem is after creating the recipe, I want to save that in an **ArrayList&lt;Recipe&gt; recipeList** which was created in MainActivity. How would I access that array from createRecipe to save it?\r\n\r\nHere&#39;s my code for createRecipe activity\r\n\r\n    // Create EditText objects from the layout\r\n        EditText etRecipeName = findViewById(R.id.recipeName);\r\n        EditText etDuration = findViewById(R.id.duration);\r\n        EditText etIngredient = findViewById(R.id.ingredients);\r\n        EditText etDesc = findViewById(R.id.description);\r\n        EditText etSteps = findViewById(R.id.steps);\r\n\r\n        // onClickListener for createRecipe button\r\n        Button createButton = findViewById(R.id.createButton);\r\n        createButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                // Checks if there are empty fields\r\n                if (isEmpty(etRecipeName, etDuration, etIngredient, etDesc, etSteps) == false) {\r\n                    Toast.makeText(createRecipe.this, &quot;There are empty fields. Please fill up all fields&quot;,\r\n                            Toast.LENGTH_SHORT).show();\r\n                }\r\n                // Checks if fields are entered correctly\r\n                else {\r\n                    if (correctType(etRecipeName, etDuration, etIngredient, etDesc, etSteps) == true) {\r\n                        CreateRecipe(etRecipeName, etDuration, etIngredient, etDesc, etSteps);\r\n                        Toast.makeText(createRecipe.this, &quot;Recipe Created&quot;, Toast.LENGTH_SHORT).show();\r\n                        // How should I save it\r\n                        finish();\r\n                    }\r\n                    else {\r\n                        Toast.makeText(createRecipe.this,\r\n                                &quot;Some fields are entered wrongly. Please try again&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\nAnd in MainActivity, I have\r\n\r\n    ArrayList&lt;Recipe&gt; recipeList;","title":"How do I access an array from a different activity?","body":"<p>I have 2 activities: <strong>MainActivity</strong> and <strong>createRecipe</strong>, and a class <strong>Recipe</strong>. MainActivity directs me to createRecipe where I can create a new recipe. My problem is after creating the recipe, I want to save that in an <strong>ArrayList recipeList</strong> which was created in MainActivity. How would I access that array from createRecipe to save it?</p>\n<p>Here's my code for createRecipe activity</p>\n<pre><code>// Create EditText objects from the layout\n    EditText etRecipeName = findViewById(R.id.recipeName);\n    EditText etDuration = findViewById(R.id.duration);\n    EditText etIngredient = findViewById(R.id.ingredients);\n    EditText etDesc = findViewById(R.id.description);\n    EditText etSteps = findViewById(R.id.steps);\n\n    // onClickListener for createRecipe button\n    Button createButton = findViewById(R.id.createButton);\n    createButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            // Checks if there are empty fields\n            if (isEmpty(etRecipeName, etDuration, etIngredient, etDesc, etSteps) == false) {\n                Toast.makeText(createRecipe.this, &quot;There are empty fields. Please fill up all fields&quot;,\n                        Toast.LENGTH_SHORT).show();\n            }\n            // Checks if fields are entered correctly\n            else {\n                if (correctType(etRecipeName, etDuration, etIngredient, etDesc, etSteps) == true) {\n                    CreateRecipe(etRecipeName, etDuration, etIngredient, etDesc, etSteps);\n                    Toast.makeText(createRecipe.this, &quot;Recipe Created&quot;, Toast.LENGTH_SHORT).show();\n                    // How should I save it\n                    finish();\n                }\n                else {\n                    Toast.makeText(createRecipe.this,\n                            &quot;Some fields are entered wrongly. Please try again&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n    });\n</code></pre>\n<p>And in MainActivity, I have</p>\n<pre><code>ArrayList&lt;Recipe&gt; recipeList;\n</code></pre>\n"},{"tags":["java","android","floating-action-button"],"answers":[{"tags":[],"owner":{"account_id":8306491,"reputation":1694,"user_id":6243324,"accept_rate":100,"display_name":"Sub 6 Resources"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1529725095,"creation_date":1529725095,"answer_id":50997734,"question_id":50997716,"body_markdown":"The FloatingActionButton is in the design library.\r\n\r\nAdd this line to your dependencies:\r\n\r\n    implementation &#39;com.android.support:design:27.1.1&#39;\r\n\r\nThis post also has more general info about `FloatingActionButton`: https://stackoverflow.com/questions/30576450/floatingactionbutton-example-with-support-library","title":"Cannot resolve symbol &#39;FloatingActionButton&#39;","body":"<p>The FloatingActionButton is in the design library.</p>\n\n<p>Add this line to your dependencies:</p>\n\n<pre><code>implementation 'com.android.support:design:27.1.1'\n</code></pre>\n\n<p>This post also has more general info about <code>FloatingActionButton</code>: <a href=\"https://stackoverflow.com/questions/30576450/floatingactionbutton-example-with-support-library\">FloatingActionButton example with Support Library</a></p>\n"},{"tags":[],"owner":{"account_id":7458238,"reputation":6066,"user_id":5670752,"display_name":"Taslim Oseni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655569882,"creation_date":1544378953,"answer_id":53695224,"question_id":50997716,"body_markdown":"@Sub 6 Resources already answered this question wholly but I want to add a bonus tip. If you already added `implementation &#39;com.android.support:design:27.1.1&#39;` to your code and the compiler can&#39;t still resolve the FloatingActionButton class, simply **rebuild your project**. A colleague and I recently had this same problem while the dependency was already there and a simple rebuild solved it all.\n","title":"Cannot resolve symbol &#39;FloatingActionButton&#39;","body":"<p>@Sub 6 Resources already answered this question wholly but I want to add a bonus tip. If you already added <code>implementation 'com.android.support:design:27.1.1'</code> to your code and the compiler can't still resolve the FloatingActionButton class, simply <strong>rebuild your project</strong>. A colleague and I recently had this same problem while the dependency was already there and a simple rebuild solved it all.</p>\n"},{"tags":[],"owner":{"account_id":11163581,"reputation":1048,"user_id":8192914,"display_name":"ganjaam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655544967,"creation_date":1655544967,"answer_id":72668219,"question_id":50997716,"body_markdown":"\r\n**Update for AndroidX:**\r\n\r\nThe answer of @Sub 6 Resources was perfect before androidX was introduced. Now, it is better to include the following dependency instead of the accepted answer&#39;s dependency:\r\n```\r\nimplementation &#39;com.google.android.material:material:1.6.1&#39;\r\n```\r\nNOTE: it might not be the latest version by the time you are reading this.","title":"Cannot resolve symbol &#39;FloatingActionButton&#39;","body":"<p><strong>Update for AndroidX:</strong></p>\n<p>The answer of @Sub 6 Resources was perfect before androidX was introduced. Now, it is better to include the following dependency instead of the accepted answer's dependency:</p>\n<pre><code>implementation 'com.google.android.material:material:1.6.1'\n</code></pre>\n<p>NOTE: it might not be the latest version by the time you are reading this.</p>\n"}],"owner":{"account_id":11163581,"reputation":1048,"user_id":8192914,"display_name":"ganjaam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10296,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":50997734,"answer_count":3,"score":6,"last_activity_date":1655569882,"creation_date":1529724910,"question_id":50997716,"body_markdown":"Recently I have downloaded a code from GitHub and synced it with my android studio. I have faced lots of errors and issues while doing so and somehow fixed most of them. However, the last issue I&#39;m stuck at right now is that my android studio cannot find the class **FloatingActionButton** as you can see in this screenshot\n[![screenshot][1]][1]\n\n\nIt is to be noted that earlier many other classes, including &#39;AppCompatActivity&#39; could not be resolved. Changing the dependencies to following solved the issue\n```\ndependencies {\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\n    implementation &#39;com.android.support:appcompat-v7:27.1.1&#39;\n    implementation &#39;com.android.support.constraint:constraint-layout:1.1.2&#39;\n    testImplementation &#39;junit:junit:4.12&#39;\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\n}\n```\n\nBut even after changing dependencies, clean building the project, doing &#39;Invalidate Caches / Restart...&#39;, the problem with &#39;FloatingActionButton&#39; is still there.\n\nYou can check the repository [here][2]\nAnd this is the [java code of the activity][3] where the error is occurring\n\n\n\n  [1]: https://i.stack.imgur.com/ccU3U.png\n  [2]: https://github.com/udacity/ud845-Pets\n  [3]: https://pastebin.com/bPMDFs4z","title":"Cannot resolve symbol &#39;FloatingActionButton&#39;","body":"<p>Recently I have downloaded a code from GitHub and synced it with my android studio. I have faced lots of errors and issues while doing so and somehow fixed most of them. However, the last issue I'm stuck at right now is that my android studio cannot find the class <strong>FloatingActionButton</strong> as you can see in this screenshot\n<a href=\"https://i.stack.imgur.com/ccU3U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ccU3U.png\" alt=\"screenshot\" /></a></p>\n<p>It is to be noted that earlier many other classes, including 'AppCompatActivity' could not be resolved. Changing the dependencies to following solved the issue</p>\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.2'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n<p>But even after changing dependencies, clean building the project, doing 'Invalidate Caches / Restart...', the problem with 'FloatingActionButton' is still there.</p>\n<p>You can check the repository <a href=\"https://github.com/udacity/ud845-Pets\" rel=\"nofollow noreferrer\">here</a>\nAnd this is the <a href=\"https://pastebin.com/bPMDFs4z\" rel=\"nofollow noreferrer\">java code of the activity</a> where the error is occurring</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","pojo"],"answers":[{"tags":[],"owner":{"account_id":15059705,"reputation":597,"user_id":10868923,"display_name":"Shimaa Yasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585003468,"creation_date":1585003468,"answer_id":60822565,"question_id":60822242,"body_markdown":"Try to create a constructor with parameters for all class attributes along with a non-parameter constructor and then in the java class where you store in firebase, create object from user and pass it.\r\n\r\nfor example:\r\n\r\n     package com.example.spacing.Model;\r\n\r\n     public class User {\r\n\r\n    private String username;\r\n    private String phone;\r\n    private String id;\r\n    private String imageURL;\r\n\r\n    private String email;\r\n\r\n    public User(String username, String email ,String phone, String id, String imageURL) {\r\n        this.username = username;\r\n        this.email=email;\r\n        this.phone = phone;\r\n        this.id = id;\r\n        this.imageURL = imageURL;\r\n    }\r\n\r\n    public String getImageURL() {\r\n        return imageURL;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public User() {\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPhone() {\r\n        return phone;\r\n    }\r\n\r\n    public void setPhone(String phone) {\r\n        this.phone = phone;\r\n    }\r\n       }\r\n\r\n\r\nand \r\n\r\n    FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\r\n                                    \r\n    .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                                    .setValue(user);","title":"Firestore: (21.4.1) [CustomClassMapper]: No setter/field","body":"<p>Try to create a constructor with parameters for all class attributes along with a non-parameter constructor and then in the java class where you store in firebase, create object from user and pass it.</p>\n\n<p>for example:</p>\n\n<pre><code> package com.example.spacing.Model;\n\n public class User {\n\nprivate String username;\nprivate String phone;\nprivate String id;\nprivate String imageURL;\n\nprivate String email;\n\npublic User(String username, String email ,String phone, String id, String imageURL) {\n    this.username = username;\n    this.email=email;\n    this.phone = phone;\n    this.id = id;\n    this.imageURL = imageURL;\n}\n\npublic String getImageURL() {\n    return imageURL;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getId() {\n    return id;\n}\n\npublic void setId(String id) {\n    this.id = id;\n}\n\npublic User() {\n}\n\npublic String getUsername() {\n    return username;\n}\n\npublic void setUsername(String username) {\n    this.username = username;\n}\n\npublic String getPhone() {\n    return phone;\n}\n\npublic void setPhone(String phone) {\n    this.phone = phone;\n}\n   }\n</code></pre>\n\n<p>and </p>\n\n<pre><code>FirebaseDatabase.getInstance().getReference(\"Users\")\n\n.child(FirebaseAuth.getInstance().getCurrentUser().getUid())\n                                .setValue(user);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585089169,"creation_date":1585046440,"answer_id":60829394,"question_id":60822242,"body_markdown":"The problem in your code is that the constructor in the `User` class is **private**. That&#39;s not the correct way in which you should create a new instance of the class. JavaBeans [require a no-argument constructor](https://coderanch.com/t/634008/java/java-bean-blank-arg-constructor) to be present.\r\n\r\nWhen Cloud Firestore SDK deserializes objects that are coming from the database, it requires that any objects in use, to have this **public** no-argument constructor, so it can use it to instantiate the object. Fields in the objects are set by using public setter methods or direct access to public members, as you already tried.\r\n\r\nBecause your constructor is private, the SDK doesn&#39;t really know how to create an instance of it. So it is mandatory to change it as public. A correct way to create that class should be:\r\n\r\n    class User {\r\n        private String name;\r\n        private String surname;\r\n        private long lastLogin;\r\n        private boolean blocked = false;\r\n\r\n        public User() {} //Needed for Cloud Firestore\r\n\r\n        public User(String name, String surname, long lastLogin, boolean blocked) {\r\n            this.name = name;\r\n            this.surname = surname;\r\n            this.lastLogin = lastLogin;\r\n            this.blocked = blocked;\r\n        }\r\n\r\n        //Getters and setters are not mandatory\r\n    }\r\n\r\nAlso please note that the setters and the getters are **not** required. Setters are always optional because if there is no setter for a JSON property, the Firebase client will set the value directly onto the field.\r\n\r\n---\r\n\r\n**Edit:**\r\n\r\nAccording to your comment:\r\n\r\n&gt; but it does not explain why some fields are working and others aren&#39;t. It should not work at all, right?\r\n\r\nYes, that&#39;s right, all should work. The reason why some of them are not working is that the `blocked` property in your `User` class is of type `boolean` while in your database is of type `String` and this is not correct. Both types must match. \r\n\r\n&gt; And the private constructor is due to the singleton instance, as far as I know, the constructor should be private to avoid creating new instances of the class.\r\n\r\nNo, the constructor **must** be public. I think there is a misunderstanding. Every time you use `FirebaseDatabase.getInstance()`, a single socket connection between your application and the Firebase servers is opened. From that moment on, all traffic between the application and the database goes over the same socket. So it doesn&#39;t matter how many times you create an instance, it will always be a single connection. Regarding your POJO class, there is no need for such a Singleton because Firebase always needs to know how to create an instance of that class, using the public no-argument constructor.","title":"Firestore: (21.4.1) [CustomClassMapper]: No setter/field","body":"<p>The problem in your code is that the constructor in the <code>User</code> class is <strong>private</strong>. That's not the correct way in which you should create a new instance of the class. JavaBeans <a href=\"https://coderanch.com/t/634008/java/java-bean-blank-arg-constructor\" rel=\"nofollow noreferrer\">require a no-argument constructor</a> to be present.</p>\n\n<p>When Cloud Firestore SDK deserializes objects that are coming from the database, it requires that any objects in use, to have this <strong>public</strong> no-argument constructor, so it can use it to instantiate the object. Fields in the objects are set by using public setter methods or direct access to public members, as you already tried.</p>\n\n<p>Because your constructor is private, the SDK doesn't really know how to create an instance of it. So it is mandatory to change it as public. A correct way to create that class should be:</p>\n\n<pre><code>class User {\n    private String name;\n    private String surname;\n    private long lastLogin;\n    private boolean blocked = false;\n\n    public User() {} //Needed for Cloud Firestore\n\n    public User(String name, String surname, long lastLogin, boolean blocked) {\n        this.name = name;\n        this.surname = surname;\n        this.lastLogin = lastLogin;\n        this.blocked = blocked;\n    }\n\n    //Getters and setters are not mandatory\n}\n</code></pre>\n\n<p>Also please note that the setters and the getters are <strong>not</strong> required. Setters are always optional because if there is no setter for a JSON property, the Firebase client will set the value directly onto the field.</p>\n\n<hr>\n\n<p><strong>Edit:</strong></p>\n\n<p>According to your comment:</p>\n\n<blockquote>\n  <p>but it does not explain why some fields are working and others aren't. It should not work at all, right?</p>\n</blockquote>\n\n<p>Yes, that's right, all should work. The reason why some of them are not working is that the <code>blocked</code> property in your <code>User</code> class is of type <code>boolean</code> while in your database is of type <code>String</code> and this is not correct. Both types must match. </p>\n\n<blockquote>\n  <p>And the private constructor is due to the singleton instance, as far as I know, the constructor should be private to avoid creating new instances of the class.</p>\n</blockquote>\n\n<p>No, the constructor <strong>must</strong> be public. I think there is a misunderstanding. Every time you use <code>FirebaseDatabase.getInstance()</code>, a single socket connection between your application and the Firebase servers is opened. From that moment on, all traffic between the application and the database goes over the same socket. So it doesn't matter how many times you create an instance, it will always be a single connection. Regarding your POJO class, there is no need for such a Singleton because Firebase always needs to know how to create an instance of that class, using the public no-argument constructor.</p>\n"},{"tags":[],"owner":{"account_id":22255205,"reputation":31,"user_id":16487474,"display_name":"Hilmy S F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655569725,"creation_date":1655569725,"answer_id":72670929,"question_id":60822242,"body_markdown":"You can try to add `@field:JvmField` to your **boolean** variable inside your User class.","title":"Firestore: (21.4.1) [CustomClassMapper]: No setter/field","body":"<p>You can try to add <code>@field:JvmField</code> to your <strong>boolean</strong> variable inside your User class.</p>\n"}],"owner":{"account_id":11874700,"reputation":480,"user_id":8690031,"display_name":"TruffelNL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1066,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1655569725,"creation_date":1585001561,"question_id":60822242,"body_markdown":"I have a `User` class which saves some extra data on the user. This data is stored in/coming from Firestore. I have a couple of fields which are working(`name`, `surname`, `lastLogin`) but a couple of them are not working(`blocked`). \r\n\r\nWhen I make the field public they work, but when I try to use a setter, it doesn&#39;t. I tried cleaning the build and rebuilding it. I know it is not saving the field due to `@Exclude`, that is intended. \r\n\r\nWhat am I doing wrong? The field type doesn&#39;t matter, I&#39;ve added a new `String` field which gave the same warning, while `name` and `surname` work.\r\n\r\nThe database:\r\n\r\n    **userid**\r\n      {\r\n        &quot;name&quot; : &quot;John&quot;,\r\n        &quot;surname&quot; : &quot;Doe&quot;,\r\n        &quot;lastLogin&quot; : **timestamp**,\r\n        &quot;blocked&quot; : true\r\n      }\r\n\r\nThe class:\r\n\r\n    @Keep\r\n    public class User\r\n    {\r\n        private String name;\r\n        private String surname;\r\n        private Date lastLogin;\r\n        private boolean blocked = false;\r\n\r\n        public User()\r\n        {\r\n        }\r\n\r\n    public String getName()\r\n    {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name)\r\n    {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getSurname()\r\n    {\r\n        return surname;\r\n    }\r\n\r\n    public void setSurname(String surname)\r\n    {\r\n        this.surname = surname;\r\n    }\r\n\r\n    public Date getLastLogin()\r\n    {\r\n        return lastLogin;\r\n    }\r\n\r\n    public void setLastLogin(Date lastLogin)\r\n    {\r\n        this.lastLogin = lastLogin;\r\n    }\r\n\r\n    @Exclude\r\n    public boolean isBlocked()\r\n    {\r\n        return blocked;\r\n    }\r\n\r\n    public void setBlocked(boolean blocked)\r\n    {\r\n        this.blocked = blocked;\r\n    }","title":"Firestore: (21.4.1) [CustomClassMapper]: No setter/field","body":"<p>I have a <code>User</code> class which saves some extra data on the user. This data is stored in/coming from Firestore. I have a couple of fields which are working(<code>name</code>, <code>surname</code>, <code>lastLogin</code>) but a couple of them are not working(<code>blocked</code>). </p>\n\n<p>When I make the field public they work, but when I try to use a setter, it doesn't. I tried cleaning the build and rebuilding it. I know it is not saving the field due to <code>@Exclude</code>, that is intended. </p>\n\n<p>What am I doing wrong? The field type doesn't matter, I've added a new <code>String</code> field which gave the same warning, while <code>name</code> and <code>surname</code> work.</p>\n\n<p>The database:</p>\n\n<pre><code>**userid**\n  {\n    \"name\" : \"John\",\n    \"surname\" : \"Doe\",\n    \"lastLogin\" : **timestamp**,\n    \"blocked\" : true\n  }\n</code></pre>\n\n<p>The class:</p>\n\n<pre><code>@Keep\npublic class User\n{\n    private String name;\n    private String surname;\n    private Date lastLogin;\n    private boolean blocked = false;\n\n    public User()\n    {\n    }\n\npublic String getName()\n{\n    return name;\n}\n\npublic void setName(String name)\n{\n    this.name = name;\n}\n\npublic String getSurname()\n{\n    return surname;\n}\n\npublic void setSurname(String surname)\n{\n    this.surname = surname;\n}\n\npublic Date getLastLogin()\n{\n    return lastLogin;\n}\n\npublic void setLastLogin(Date lastLogin)\n{\n    this.lastLogin = lastLogin;\n}\n\n@Exclude\npublic boolean isBlocked()\n{\n    return blocked;\n}\n\npublic void setBlocked(boolean blocked)\n{\n    this.blocked = blocked;\n}\n</code></pre>\n"},{"tags":["java","eclipse","input","textures"],"answers":[{"tags":[],"owner":{"account_id":25588115,"reputation":1,"user_id":19365514,"display_name":"Pation"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655569613,"creation_date":1655569613,"answer_id":72670923,"question_id":69447614,"body_markdown":"maybe try updating the textures for each body part starting from the head 1 per game frame at a time? like 0 = head piece and will be updated first, 1 is the next body part in line so will be updated in the next frame when the snake has moved 1 unit and therefore lining up the timings","title":"(Java 1.8, Eclipse) SNAKEGAME - Texture-Problems","body":"<p>maybe try updating the textures for each body part starting from the head 1 per game frame at a time? like 0 = head piece and will be updated first, 1 is the next body part in line so will be updated in the next frame when the snake has moved 1 unit and therefore lining up the timings</p>\n"}],"owner":{"account_id":22946282,"reputation":1,"user_id":17078221,"display_name":"imawake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655569613,"creation_date":1633424540,"question_id":69447614,"body_markdown":"i made a SnakeGame and its working in its basics, but i started to texture my snake with images.\r\ni wanted the textures to change the direction whenever the snake changes directions aswell. and it is working, the problem i have is that every time the snake changes direction all of the snake body parts change direction at the same time which leads to texture bugs, how can i change the texture for the next bodyPart per one Timer tick?\r\nAnd also how can i edit the Texture for the last bodyPart only for a tail\r\n\r\nthe code below is only the code from the important class &quot;gamepanel&quot;\r\nthe texture code is in the method draw(Graphics g)\r\n\r\nthanks for the help i could not find any solutions to this.\r\n\r\n```\r\n    package game;\r\n\r\nimport javax.swing.*;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\nimport java.util.Random;\r\n\r\n\r\npublic class gamepanel extends JPanel implements ActionListener {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 42L;\r\n\tstatic final int SCREEN_WIDTH = 600;\r\n\tstatic final int SCREEN_HEIGHT = 600;\r\n\tstatic final int UNIT_SIZE = 25;\r\n\tstatic final int GAME_UNITS = (SCREEN_WIDTH*SCREEN_HEIGHT)/UNIT_SIZE;\r\n\tint DELAY = 100;\r\n\tfinal int x[] = new int[GAME_UNITS];\r\n\tfinal int y[] = new int[GAME_UNITS];\r\n\tint bodyParts = 6;\r\n\tString str = String.valueOf(bodyParts);\r\n\tint applesEaten;\r\n\tint appleX;\r\n\tint appleY;\r\n\tchar direction = &#39;R&#39;;\r\n\tboolean running = false;\r\n\tTimer timer;\r\n\tRandom random;\r\n\t\r\n\tImage apple = new ImageIcon(this.getClass().getResource(&quot;/images/redapple.png&quot;)).getImage();\r\n\t\r\n\t\r\n\tImage headup = new ImageIcon(this.getClass().getResource(&quot;/images/headup.png&quot;)).getImage();\r\n\tImage headr = new ImageIcon(this.getClass().getResource(&quot;/images/headr.png&quot;)).getImage();\r\n\tImage headl = new ImageIcon(this.getClass().getResource(&quot;/images/headl.png&quot;)).getImage();\r\n\tImage headd = new ImageIcon(this.getClass().getResource(&quot;/images/headd.png&quot;)).getImage();\r\n\t\r\n\t\r\n\tImage bodyup = new ImageIcon(this.getClass().getResource(&quot;/images/bodyup.png&quot;)).getImage();\r\n\tImage bodyd = new ImageIcon(this.getClass().getResource(&quot;/images/bodyd.png&quot;)).getImage();\r\n\tImage bodyr = new ImageIcon(this.getClass().getResource(&quot;/images/bodyr.png&quot;)).getImage();\r\n\tImage bodyl = new ImageIcon(this.getClass().getResource(&quot;/images/bodyl.png&quot;)).getImage();\r\n\t\r\n\t\r\n\t\r\n\tgamepanel(){\r\n\t\trandom = new Random();\r\n\t\tthis.setPreferredSize(new Dimension(SCREEN_WIDTH,SCREEN_HEIGHT));\r\n\t\tthis.setBackground(new Color(33, 33, 33));\r\n\t\tthis.setFocusable(true);\r\n\t\tthis.addKeyListener(new MyKeyAdapter());\r\n\t\tstartGame();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void startGame() {\r\n\t\tnewApple();\r\n\t\trunning = true;\r\n\t\ttimer = new Timer(DELAY,this);\r\n\t\ttimer.start();\r\n\t}\r\n\t\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tdraw(g);\r\n\t}\r\n\tpublic void draw(Graphics g) {\r\n\t\tif(running) {\r\n\t\t\t\t\r\n\t\t\t/* for(int i=0;i&lt;SCREEN_HEIGHT/UNIT_SIZE;i++) {\r\n\t\t\t\t\tg.drawLine(i*UNIT_SIZE, 0, i*UNIT_SIZE, SCREEN_HEIGHT);\r\n\t\t\t\t\tg.drawLine(0, i*UNIT_SIZE, SCREEN_WIDTH, i*UNIT_SIZE);\r\n\t\t\t\t} */\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\t//g.setColor(new Color(73, 235, 116));\r\n\t\t\t\t//g.fillOval(appleX,appleY, UNIT_SIZE, UNIT_SIZE);\r\n\t\t\t\tg.drawImage(apple, appleX,appleY, UNIT_SIZE, UNIT_SIZE, null, null);\r\n\t\t\r\n\t\t\t\tfor(int i = 0;i&lt; bodyParts; i++) { \r\n\t\t\t\t\t//HEAD TEXTURE\r\n\t\t\t\t\tif(i==0 &amp;&amp; direction==&#39;U&#39;) {\r\n\t\t\t\t\t\tg.drawImage(headup,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\r\n\t\t\t\t\t} else if(i==0 &amp;&amp; direction==&#39;R&#39;) {\r\n\t\t\t\t\t\tg.drawImage(headr,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else if(i==0 &amp;&amp; direction==&#39;L&#39;) {\r\n\t\t\t\t\t\tg.drawImage(headl,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else if(i==0 &amp;&amp; direction==&#39;D&#39;) {\r\n\t\t\t\t\t\tg.drawImage(headd,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t//BODY TEXTURE\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}  else if(i!=0 &amp;&amp; direction==&#39;U&#39;)\t{\r\n\t\t\t\t\t\t\tg.drawImage(bodyup,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t} else if(i!=0 &amp;&amp; direction==&#39;R&#39;)\t{\r\n\t\t\t\t\t\t\t\tg.drawImage(bodyr,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\r\n\t\t\t\t\t\t\t\t} else if(i!=0 &amp;&amp; direction==&#39;L&#39;)\t{\r\n\t\t\t\t\t\t\t\t\tg.drawImage(bodyl,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\r\n\t\t\t\t\t\t\t\t}\telse if(i!=0 &amp;&amp; direction==&#39;D&#39;)\t{\r\n\t\t\t\t\t\t\t\t\tg.drawImage(bodyd,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tg.setColor(Color.red);\r\n\t\t\t\tg.setFont(new Font(&quot;Arial&quot;,Font.BOLD,40));\r\n\t\t\t\tFontMetrics metrics = getFontMetrics(g.getFont());\r\n\t\t\t\tg.drawString(&quot;Score: &quot;+applesEaten, (SCREEN_WIDTH - metrics.stringWidth(&quot;Score: &quot;+applesEaten))/2, g.getFont().getSize());\r\n\t\t\r\n\t\t}else {\r\n\t\t\tgameOver(g);\r\n\t\t} \r\n\t}\r\n\t\r\n\tpublic void newApple() {\r\n\t\tappleX = random.nextInt((int)(SCREEN_WIDTH/UNIT_SIZE))*UNIT_SIZE;\r\n\t\tappleY = random.nextInt((int)(SCREEN_HEIGHT/UNIT_SIZE))*UNIT_SIZE;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void move() {\r\n\t\tfor(int i = bodyParts;i&gt;0;i--) {\r\n\t\t\tx[i] = x[i-1];\r\n\t\t\ty[i] = y[i-1];\r\n\t\t}\r\n\t\tswitch(direction) {\r\n\t\tcase &#39;U&#39; :\r\n\t\t\ty[0] = y[0] - UNIT_SIZE;\r\n\t\t\t\r\n\t\t\tbreak;\r\n\t\tcase &#39;D&#39; :\r\n\t\t\ty[0] = y[0] + UNIT_SIZE;\r\n\t\t\tbreak;\r\n\t\tcase &#39;L&#39; :\r\n\t\t\tx[0] = x[0] - UNIT_SIZE;\r\n\t\t\tbreak;\r\n\t\tcase &#39;R&#39; :\r\n\t\t\tx[0] = x[0] + UNIT_SIZE;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tpublic void checkApple() {\r\n\t\tint i = bodyParts;\r\n\t\tif((x[i] == appleX) &amp;&amp; (y[i] == appleY)) {\r\n\t\t\tnewApple();\r\n\t\t} else if((x[0] == appleX) &amp;&amp; (y[0] == appleY)) {\r\n\t\t\tbodyParts++;\r\n\t\t\tapplesEaten++;\r\n\t\t\tDELAY--;\r\n\t\t\tnewApple();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tpublic void checkCollisions() {\r\n\t\t//checks if head collides with body\r\n\t\tfor(int i = bodyParts; i&gt;0;i--) {\r\n\t\t\tif ((x[0]==x[i]) &amp;&amp; (y[0]==y[i])) {\r\n\t\t\t\trunning = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// checks if head touches left border\r\n\t\tif(x[0] &lt; 0) {\r\n\t\t\trunning = false;\r\n\t\t}\r\n\t\t// check right border collide\r\n\t\tif(x[0] &gt; SCREEN_WIDTH) {\r\n\t\t\trunning = false;\r\n\t\t}\r\n\t\t// check top border\r\n\t\tif(y[0] &lt; 0) {\r\n\t\t\trunning = false;\r\n\t\t}\r\n\t\t//checkk bottom border\r\n\t\tif(y[0] &gt; SCREEN_HEIGHT) {\r\n\t\t\trunning = false;\r\n\t\t}\r\n\t\tif(!running) {\r\n\t\t\ttimer.stop();\r\n\t\t}\r\n\t}\r\n\tpublic void gameOver(Graphics g) {\r\n\t\t//SCORE\r\n\t\tg.setColor(Color.red);\r\n\t\tg.setFont(new Font(&quot;Arial&quot;,Font.BOLD,40));\r\n\t\tFontMetrics metrics1 = getFontMetrics(g.getFont());\r\n\t\tg.drawString(&quot;Your Score: &quot;+applesEaten, (SCREEN_WIDTH - metrics1.stringWidth(&quot;Your Score: &quot;+applesEaten))/2, g.getFont().getSize());\r\n\r\n\t\t//GAme Over Text\r\n\t\tg.setColor(Color.red);\r\n\t\tg.setFont(new Font(&quot;Arial&quot;,Font.BOLD,75));\r\n\t\tFontMetrics metrics2 = getFontMetrics(g.getFont());\r\n\t\tg.drawString(&quot;Game Over&quot;, (SCREEN_WIDTH - metrics2.stringWidth(&quot;Game Over&quot;))/2, SCREEN_HEIGHT/2);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif(running) {\r\n\t\t\tmove();\r\n\t\t\tcheckApple();\r\n\t\t\tcheckCollisions();\r\n\t\t}\r\n\t\trepaint();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic class MyKeyAdapter extends KeyAdapter{\r\n\t\t@Override\r\n\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\tswitch(e.getKeyCode()) {\r\n\t\t\tcase KeyEvent.VK_LEFT:\r\n\t\t\t\tif(direction != &#39;R&#39;) {\r\n\t\t\t\t\tdirection = &#39;L&#39;;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase KeyEvent.VK_RIGHT:\r\n\t\t\t\tif(direction != &#39;L&#39;) {\r\n\t\t\t\t\tdirection = &#39;R&#39;;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase KeyEvent.VK_UP:\r\n\t\t\t\tif(direction != &#39;D&#39;) {\r\n\t\t\t\t\tdirection = &#39;U&#39;;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase KeyEvent.VK_DOWN:\r\n\t\t\t\tif(direction != &#39;U&#39;) {\r\n\t\t\t\t\tdirection = &#39;D&#39;;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n","title":"(Java 1.8, Eclipse) SNAKEGAME - Texture-Problems","body":"<p>i made a SnakeGame and its working in its basics, but i started to texture my snake with images.\ni wanted the textures to change the direction whenever the snake changes directions aswell. and it is working, the problem i have is that every time the snake changes direction all of the snake body parts change direction at the same time which leads to texture bugs, how can i change the texture for the next bodyPart per one Timer tick?\nAnd also how can i edit the Texture for the last bodyPart only for a tail</p>\n<p>the code below is only the code from the important class &quot;gamepanel&quot;\nthe texture code is in the method draw(Graphics g)</p>\n<p>thanks for the help i could not find any solutions to this.</p>\n<pre><code>    package game;\n\nimport javax.swing.*;\n\nimport java.awt.*;\nimport java.awt.event.*;\n\nimport java.util.Random;\n\n\npublic class gamepanel extends JPanel implements ActionListener {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 42L;\n    static final int SCREEN_WIDTH = 600;\n    static final int SCREEN_HEIGHT = 600;\n    static final int UNIT_SIZE = 25;\n    static final int GAME_UNITS = (SCREEN_WIDTH*SCREEN_HEIGHT)/UNIT_SIZE;\n    int DELAY = 100;\n    final int x[] = new int[GAME_UNITS];\n    final int y[] = new int[GAME_UNITS];\n    int bodyParts = 6;\n    String str = String.valueOf(bodyParts);\n    int applesEaten;\n    int appleX;\n    int appleY;\n    char direction = 'R';\n    boolean running = false;\n    Timer timer;\n    Random random;\n    \n    Image apple = new ImageIcon(this.getClass().getResource(&quot;/images/redapple.png&quot;)).getImage();\n    \n    \n    Image headup = new ImageIcon(this.getClass().getResource(&quot;/images/headup.png&quot;)).getImage();\n    Image headr = new ImageIcon(this.getClass().getResource(&quot;/images/headr.png&quot;)).getImage();\n    Image headl = new ImageIcon(this.getClass().getResource(&quot;/images/headl.png&quot;)).getImage();\n    Image headd = new ImageIcon(this.getClass().getResource(&quot;/images/headd.png&quot;)).getImage();\n    \n    \n    Image bodyup = new ImageIcon(this.getClass().getResource(&quot;/images/bodyup.png&quot;)).getImage();\n    Image bodyd = new ImageIcon(this.getClass().getResource(&quot;/images/bodyd.png&quot;)).getImage();\n    Image bodyr = new ImageIcon(this.getClass().getResource(&quot;/images/bodyr.png&quot;)).getImage();\n    Image bodyl = new ImageIcon(this.getClass().getResource(&quot;/images/bodyl.png&quot;)).getImage();\n    \n    \n    \n    gamepanel(){\n        random = new Random();\n        this.setPreferredSize(new Dimension(SCREEN_WIDTH,SCREEN_HEIGHT));\n        this.setBackground(new Color(33, 33, 33));\n        this.setFocusable(true);\n        this.addKeyListener(new MyKeyAdapter());\n        startGame();\n        \n    }\n    \n    public void startGame() {\n        newApple();\n        running = true;\n        timer = new Timer(DELAY,this);\n        timer.start();\n    }\n    \n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        draw(g);\n    }\n    public void draw(Graphics g) {\n        if(running) {\n                \n            /* for(int i=0;i&lt;SCREEN_HEIGHT/UNIT_SIZE;i++) {\n                    g.drawLine(i*UNIT_SIZE, 0, i*UNIT_SIZE, SCREEN_HEIGHT);\n                    g.drawLine(0, i*UNIT_SIZE, SCREEN_WIDTH, i*UNIT_SIZE);\n                } */\n                \n            \n                //g.setColor(new Color(73, 235, 116));\n                //g.fillOval(appleX,appleY, UNIT_SIZE, UNIT_SIZE);\n                g.drawImage(apple, appleX,appleY, UNIT_SIZE, UNIT_SIZE, null, null);\n        \n                for(int i = 0;i&lt; bodyParts; i++) { \n                    //HEAD TEXTURE\n                    if(i==0 &amp;&amp; direction=='U') {\n                        g.drawImage(headup,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\n                    } else if(i==0 &amp;&amp; direction=='R') {\n                        g.drawImage(headr,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\n                        \n                    } else if(i==0 &amp;&amp; direction=='L') {\n                        g.drawImage(headl,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\n                        \n                    } else if(i==0 &amp;&amp; direction=='D') {\n                        g.drawImage(headd,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\n                        \n                    //BODY TEXTURE\n                        \n                    }  else if(i!=0 &amp;&amp; direction=='U')  {\n                            g.drawImage(bodyup,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\n                        \n                            } else if(i!=0 &amp;&amp; direction=='R')   {\n                                g.drawImage(bodyr,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\n                                } else if(i!=0 &amp;&amp; direction=='L')   {\n                                    g.drawImage(bodyl,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\n                                }   else if(i!=0 &amp;&amp; direction=='D') {\n                                    g.drawImage(bodyd,x[i],y[i],UNIT_SIZE, UNIT_SIZE,null);\n                                }\n                }\n                g.setColor(Color.red);\n                g.setFont(new Font(&quot;Arial&quot;,Font.BOLD,40));\n                FontMetrics metrics = getFontMetrics(g.getFont());\n                g.drawString(&quot;Score: &quot;+applesEaten, (SCREEN_WIDTH - metrics.stringWidth(&quot;Score: &quot;+applesEaten))/2, g.getFont().getSize());\n        \n        }else {\n            gameOver(g);\n        } \n    }\n    \n    public void newApple() {\n        appleX = random.nextInt((int)(SCREEN_WIDTH/UNIT_SIZE))*UNIT_SIZE;\n        appleY = random.nextInt((int)(SCREEN_HEIGHT/UNIT_SIZE))*UNIT_SIZE;\n        \n    }\n    \n    public void move() {\n        for(int i = bodyParts;i&gt;0;i--) {\n            x[i] = x[i-1];\n            y[i] = y[i-1];\n        }\n        switch(direction) {\n        case 'U' :\n            y[0] = y[0] - UNIT_SIZE;\n            \n            break;\n        case 'D' :\n            y[0] = y[0] + UNIT_SIZE;\n            break;\n        case 'L' :\n            x[0] = x[0] - UNIT_SIZE;\n            break;\n        case 'R' :\n            x[0] = x[0] + UNIT_SIZE;\n            break;\n        }\n    }\n    public void checkApple() {\n        int i = bodyParts;\n        if((x[i] == appleX) &amp;&amp; (y[i] == appleY)) {\n            newApple();\n        } else if((x[0] == appleX) &amp;&amp; (y[0] == appleY)) {\n            bodyParts++;\n            applesEaten++;\n            DELAY--;\n            newApple();\n        }\n        \n    }\n    public void checkCollisions() {\n        //checks if head collides with body\n        for(int i = bodyParts; i&gt;0;i--) {\n            if ((x[0]==x[i]) &amp;&amp; (y[0]==y[i])) {\n                running = false;\n            }\n        }\n        // checks if head touches left border\n        if(x[0] &lt; 0) {\n            running = false;\n        }\n        // check right border collide\n        if(x[0] &gt; SCREEN_WIDTH) {\n            running = false;\n        }\n        // check top border\n        if(y[0] &lt; 0) {\n            running = false;\n        }\n        //checkk bottom border\n        if(y[0] &gt; SCREEN_HEIGHT) {\n            running = false;\n        }\n        if(!running) {\n            timer.stop();\n        }\n    }\n    public void gameOver(Graphics g) {\n        //SCORE\n        g.setColor(Color.red);\n        g.setFont(new Font(&quot;Arial&quot;,Font.BOLD,40));\n        FontMetrics metrics1 = getFontMetrics(g.getFont());\n        g.drawString(&quot;Your Score: &quot;+applesEaten, (SCREEN_WIDTH - metrics1.stringWidth(&quot;Your Score: &quot;+applesEaten))/2, g.getFont().getSize());\n\n        //GAme Over Text\n        g.setColor(Color.red);\n        g.setFont(new Font(&quot;Arial&quot;,Font.BOLD,75));\n        FontMetrics metrics2 = getFontMetrics(g.getFont());\n        g.drawString(&quot;Game Over&quot;, (SCREEN_WIDTH - metrics2.stringWidth(&quot;Game Over&quot;))/2, SCREEN_HEIGHT/2);\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if(running) {\n            move();\n            checkApple();\n            checkCollisions();\n        }\n        repaint();\n        \n    }\n    \n    public class MyKeyAdapter extends KeyAdapter{\n        @Override\n        public void keyPressed(KeyEvent e) {\n            switch(e.getKeyCode()) {\n            case KeyEvent.VK_LEFT:\n                if(direction != 'R') {\n                    direction = 'L';\n                }\n                break;\n            case KeyEvent.VK_RIGHT:\n                if(direction != 'L') {\n                    direction = 'R';\n                }\n                break;\n            case KeyEvent.VK_UP:\n                if(direction != 'D') {\n                    direction = 'U';\n                }\n                break;\n            case KeyEvent.VK_DOWN:\n                if(direction != 'U') {\n                    direction = 'D';\n                }\n                break;\n            }\n            \n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"score":1,"creation_date":1573490190,"post_id":58802579,"comment_id":103890264,"body_markdown":"Giving us a link to Codality is problematic. It doesn&#39;t land on the actual text of the challenge but instead to the start of some sort of test. Also, you really need to format your error text. That&#39;s really unreadable.","body":"Giving us a link to Codality is problematic. It doesn&#39;t land on the actual text of the challenge but instead to the start of some sort of test. Also, you really need to format your error text. That&#39;s really unreadable."}],"answers":[{"tags":[],"owner":{"account_id":2292013,"reputation":861,"user_id":2014530,"display_name":"Yousaf"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1576963946,"creation_date":1576891541,"answer_id":59432887,"question_id":58802579,"body_markdown":"Here is my solution to the problem, it will fail some cases though. I need to get more test cases to improve the algorithm. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    console.log(solution([[ 9, 2, 9, 3, 5 ],\r\n                          [ 5, 3, 9, 5, 1 ],\r\n                          [ 5, 6, 4, 9, 1 ],\r\n                          [ 4, 3, 8, 4, 5 ],\r\n                          [ 1, 4, 3, 5, 3 ]]));\r\n    console.log(solution([[ 3, 6, 3, 8, 5, 3, 9, 8, 8, 6, 2, 4, 3, 8, 1 ],\r\n                         [ 5, 6, 8, 3, 3, 7, 5, 4, 4, 3, 2, 6, 9, 7, 6 ],\r\n                         [ 9, 2, 9, 3, 5, 9, 4, 5, 2, 9, 9, 2, 2, 5, 5 ],\r\n                         [ 5, 3, 9, 5, 1, 7, 1, 2, 1, 6, 8, 6, 3, 8, 8 ],\r\n                         [ 5, 6, 4, 9, 1, 9, 7, 8, 8, 2, 8, 6, 2, 8, 4 ],\r\n                         [ 4, 3, 8, 4, 5, 5, 4, 6, 9, 1, 6, 3, 6, 6, 1 ],\r\n                         [ 1, 4, 3, 5, 3, 8, 6, 7, 9, 5, 5, 2, 8, 1, 4 ],\r\n                         [ 1, 7, 9, 4, 9, 4, 6, 9, 2, 1, 2, 1, 4, 2, 1 ],\r\n                         [ 7, 9, 7, 9, 1, 6, 4, 3, 8, 3, 9, 4, 5, 7, 8 ],\r\n                         [ 7, 1, 2, 6, 3, 9, 8, 8, 4, 8, 6, 8, 3, 5, 4 ]]));\r\n    console.log(solution([[ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n                [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n                [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n                [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n                [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n                [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n                [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n                [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n                [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n                [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ]]))\r\n    function solution(A) {\r\n    var nextindex = 0;\r\n    var solution = A[0][0].toString();\r\n\r\n    for (i=0;i&lt;A.length;i++){\r\n            var row = A[i];\r\n    \t\t \r\n             for(j=0;j&lt;row.length;j++){\r\n                \r\n                var valueofright = row[nextindex+1];\r\n                var valueofnextright = row[nextindex+2];\r\n                \r\n                if(i+1 &lt; A.length){\r\n                   var valueofdown = A[i+1][nextindex];\r\n                 if(i+2 &lt; A.length){\r\n                   var valueofnextdown = A[i+2][nextindex];\r\n                 }\r\n                }else{\r\n                     for (k=nextindex+1; k&lt;row.length;k++){\r\n\r\n                       solution = solution+row[k].toString();\r\n                      }\r\n                       break;\r\n                }\r\n\r\n                if((valueofdown == valueofright &amp;&amp; valueofnextright &gt; valueofnextdown)  || valueofright &gt; valueofdown &amp;&amp; nextindex+1 &lt;= row.length){\r\n                   solution = solution+valueofright.toString();\r\n                   \r\n         \r\n                   nextindex++;\r\n                   \r\n                  \r\n                }else {\r\n                   solution = solution+valueofdown.toString();\r\n                \r\n                   \r\n                   break;\r\n                }\r\n\r\n               \r\n             }\r\n         \r\n        }\r\n       return solution;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Explanation**\r\nThe algorithm tries to calculate the weight of the path by the factor of two steps.\r\n\r\nWe start from the leftmost corner and check if the right value is bigger than value below the current position, and to check the path weight I also look forward to one more hoop. If next hoops on right and down are equal than the decision to go down or right is made by the next consecutive numbers. You can improve the algorithm by adding recursive function to check if the next ones are equal until you find a different digit.\r\n\r\nMy algorithm works with all the normal scenarios and also solves the problem if all the elements in the matrix are same.","title":"Codility MaxPathFromTheLeftTopCorner exercise in java","body":"<p>Here is my solution to the problem, it will fail some cases though. I need to get more test cases to improve the algorithm. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(solution([[ 9, 2, 9, 3, 5 ],\r\n                      [ 5, 3, 9, 5, 1 ],\r\n                      [ 5, 6, 4, 9, 1 ],\r\n                      [ 4, 3, 8, 4, 5 ],\r\n                      [ 1, 4, 3, 5, 3 ]]));\r\nconsole.log(solution([[ 3, 6, 3, 8, 5, 3, 9, 8, 8, 6, 2, 4, 3, 8, 1 ],\r\n                     [ 5, 6, 8, 3, 3, 7, 5, 4, 4, 3, 2, 6, 9, 7, 6 ],\r\n                     [ 9, 2, 9, 3, 5, 9, 4, 5, 2, 9, 9, 2, 2, 5, 5 ],\r\n                     [ 5, 3, 9, 5, 1, 7, 1, 2, 1, 6, 8, 6, 3, 8, 8 ],\r\n                     [ 5, 6, 4, 9, 1, 9, 7, 8, 8, 2, 8, 6, 2, 8, 4 ],\r\n                     [ 4, 3, 8, 4, 5, 5, 4, 6, 9, 1, 6, 3, 6, 6, 1 ],\r\n                     [ 1, 4, 3, 5, 3, 8, 6, 7, 9, 5, 5, 2, 8, 1, 4 ],\r\n                     [ 1, 7, 9, 4, 9, 4, 6, 9, 2, 1, 2, 1, 4, 2, 1 ],\r\n                     [ 7, 9, 7, 9, 1, 6, 4, 3, 8, 3, 9, 4, 5, 7, 8 ],\r\n                     [ 7, 1, 2, 6, 3, 9, 8, 8, 4, 8, 6, 8, 3, 5, 4 ]]));\r\nconsole.log(solution([[ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n            [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n            [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n            [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n            [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n            [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n            [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n            [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n            [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ],\r\n            [ 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ]]))\r\nfunction solution(A) {\r\nvar nextindex = 0;\r\nvar solution = A[0][0].toString();\r\n\r\nfor (i=0;i&lt;A.length;i++){\r\n        var row = A[i];\r\n\t\t \r\n         for(j=0;j&lt;row.length;j++){\r\n            \r\n            var valueofright = row[nextindex+1];\r\n            var valueofnextright = row[nextindex+2];\r\n            \r\n            if(i+1 &lt; A.length){\r\n               var valueofdown = A[i+1][nextindex];\r\n             if(i+2 &lt; A.length){\r\n               var valueofnextdown = A[i+2][nextindex];\r\n             }\r\n            }else{\r\n                 for (k=nextindex+1; k&lt;row.length;k++){\r\n\r\n                   solution = solution+row[k].toString();\r\n                  }\r\n                   break;\r\n            }\r\n\r\n            if((valueofdown == valueofright &amp;&amp; valueofnextright &gt; valueofnextdown)  || valueofright &gt; valueofdown &amp;&amp; nextindex+1 &lt;= row.length){\r\n               solution = solution+valueofright.toString();\r\n               \r\n     \r\n               nextindex++;\r\n               \r\n              \r\n            }else {\r\n               solution = solution+valueofdown.toString();\r\n            \r\n               \r\n               break;\r\n            }\r\n\r\n           \r\n         }\r\n     \r\n    }\r\n   return solution;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Explanation</strong>\nThe algorithm tries to calculate the weight of the path by the factor of two steps.</p>\n\n<p>We start from the leftmost corner and check if the right value is bigger than value below the current position, and to check the path weight I also look forward to one more hoop. If next hoops on right and down are equal than the decision to go down or right is made by the next consecutive numbers. You can improve the algorithm by adding recursive function to check if the next ones are equal until you find a different digit.</p>\n\n<p>My algorithm works with all the normal scenarios and also solves the problem if all the elements in the matrix are same.</p>\n"},{"tags":[],"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1577059038,"creation_date":1577040729,"answer_id":59447173,"question_id":58802579,"body_markdown":"This is my solution to the problem, but it fails last speed-tests (I get 77%). Not sure if I can optimize it even more than this...\r\n\r\n    public static String solution(int[][] A) {\r\n        // write your code in Java SE 8\r\n\r\n        int al = A.length;\r\n        int all = A[0].length;\r\n\r\n        BigInteger[][] res = new BigInteger[al+1][];\r\n        for(int i=0; i&lt;al+1; i++){\r\n            res[i] = new BigInteger[all+1];\r\n            for(int j=0; j&lt;all+1; j++){\r\n                res[i][j] = BigInteger.valueOf(0);\r\n            }\r\n        }\r\n\r\n        for(int i=1; i&lt;al+1; i++){\r\n            for(int j=1; j&lt;all+1; j++){\r\n                res[i][j] = res[i-1][j]\r\n                        .max(res[i][j-1])\r\n                        .multiply(BigInteger.valueOf(10))\r\n                        .add(BigInteger.valueOf(A[i-1][j-1]));\r\n            }\r\n        }\r\n\r\n        return res[al][all].toString();\r\n\r\n    }","title":"Codility MaxPathFromTheLeftTopCorner exercise in java","body":"<p>This is my solution to the problem, but it fails last speed-tests (I get 77%). Not sure if I can optimize it even more than this...</p>\n\n<pre><code>public static String solution(int[][] A) {\n    // write your code in Java SE 8\n\n    int al = A.length;\n    int all = A[0].length;\n\n    BigInteger[][] res = new BigInteger[al+1][];\n    for(int i=0; i&lt;al+1; i++){\n        res[i] = new BigInteger[all+1];\n        for(int j=0; j&lt;all+1; j++){\n            res[i][j] = BigInteger.valueOf(0);\n        }\n    }\n\n    for(int i=1; i&lt;al+1; i++){\n        for(int j=1; j&lt;all+1; j++){\n            res[i][j] = res[i-1][j]\n                    .max(res[i][j-1])\n                    .multiply(BigInteger.valueOf(10))\n                    .add(BigInteger.valueOf(A[i-1][j-1]));\n        }\n    }\n\n    return res[al][all].toString();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14201643,"reputation":53,"user_id":10259404,"display_name":"Vladimir Yushkevich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609193372,"creation_date":1609193372,"answer_id":65484724,"question_id":58802579,"body_markdown":"I tried to optimize the solution from `@Bojan Vukasovic`. I guess it fails to get 100% due to 2 main reasons:\r\n - 2-dimensional array of `BigInteger` allocates too much memory (I had a OOM for big input array of size 1000-by-1000). To avoid this 2-dimensional `res` array could be replaced by 2 1-dimensional arrays of size `m` (number of rows). And the solution will look like this:\r\n\r\n        static String solution(int[][] A) {\r\n         \r\n         final int m = A.length;\r\n         final int n = A[0].length;\r\n\r\n         MutableInteger[] result = new MutableInteger[m];\r\n         result[0] = new MutableInteger(A[0][0], m + n + 1);\r\n\r\n         // initial raw from up to down\r\n         for (int i = 1; i &lt; m; i++) {\r\n             result[i] = new MutableInteger(result[i - 1]).append(A[i][0]);\r\n         }\r\n\r\n         for (int j = 1; j &lt; n; j++) {\r\n             // top row we only can reach from left\r\n             result[0].append(A[0][j]);\r\n             // moving down\r\n             for (int i = 1; i &lt; m; i++) {\r\n                 MutableInteger previous = result[i - 1];\r\n                 MutableInteger current = result[i];\r\n                 // only replace if previous is bigger\r\n                 if (previous.compareTo(current) &gt; 0) {\r\n                     result[i].copy(previous);\r\n                 }\r\n                 result[i].append(A[i][j]);\r\n             }\r\n         }\r\n\r\n         return result[m - 1].toString();\r\n       }\r\n- Now Out Of Memory gone but 2 tests fail with a timeout. To fix it a new class `MutableInteger` with an optimized `compareTo` method has been introduced. And optimized `multiply by 10 + value` operation. Internally it has an array of digits like `BigInteger` but can compare long arrays for this problem more efficiently. Multiplication replaced by `append` method.\r\n\r\n\r\n      private static class MutableInteger {\r\n        int[] digits;\r\n        int position;\r\n        int sum;\r\n        int capacity;\r\n        int maxIndex;\r\n\r\n        private MutableInteger(int digit, int capacity) {\r\n            this.digits = new int[capacity];\r\n            digits[0] = digit;\r\n            sum = digit;\r\n            this.capacity = capacity;\r\n            position++;\r\n        }\r\n\r\n        private MutableInteger(MutableInteger value) {\r\n            digits = value.digits.clone();\r\n            position = value.position;\r\n            capacity = value.capacity;\r\n            sum = value.sum;\r\n            maxIndex = value.maxIndex;\r\n        }\r\n\r\n        private MutableInteger append(int value) {\r\n            digits[position] = value;\r\n            position++;\r\n            sum = Math.abs(sum * 10 + value); // here integer overflow to compare exact digits efficiently\r\n            return this;\r\n        }\r\n\r\n        private void copy(MutableInteger value) {\r\n            digits = value.digits.clone();\r\n            position = value.position;\r\n            capacity = value.capacity;\r\n            sum = value.sum;\r\n        }\r\n\r\n        private int compareTo(MutableInteger other) {\r\n            // optimization for long arrays comparison\r\n            if (this.sum != other.sum) {\r\n                int start = Math.min(this.maxIndex, other.maxIndex);\r\n                for (int i = start; i &lt; this.position; i++) {\r\n                    int left = this.digits[i];\r\n                    int right = other.digits[i];\r\n                    if (left != right) {\r\n                        other.maxIndex = i; // don&#39;t change this.maxIndex, it will be used in next iteration\r\n                        return Integer.compare(left, right);\r\n                    }\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            StringBuilder out = new StringBuilder(position);\r\n            for (int i = 0; i &lt; position; i++) {\r\n                out.append(digits[i]);\r\n            }\r\n            return out.toString();\r\n        }\r\n       }\r\nthe class is quite simple with 2 variables for optimization. `sum` (2 equals arrays have the same `sum` value even after integer overflow) and `maxIndex` (used to skip comparison from beginning the arrays of digits).","title":"Codility MaxPathFromTheLeftTopCorner exercise in java","body":"<p>I tried to optimize the solution from <code>@Bojan Vukasovic</code>. I guess it fails to get 100% due to 2 main reasons:</p>\n<ul>\n<li><p>2-dimensional array of <code>BigInteger</code> allocates too much memory (I had a OOM for big input array of size 1000-by-1000). To avoid this 2-dimensional <code>res</code> array could be replaced by 2 1-dimensional arrays of size <code>m</code> (number of rows). And the solution will look like this:</p>\n<pre><code> static String solution(int[][] A) {\n\n  final int m = A.length;\n  final int n = A[0].length;\n\n  MutableInteger[] result = new MutableInteger[m];\n  result[0] = new MutableInteger(A[0][0], m + n + 1);\n\n  // initial raw from up to down\n  for (int i = 1; i &lt; m; i++) {\n      result[i] = new MutableInteger(result[i - 1]).append(A[i][0]);\n  }\n\n  for (int j = 1; j &lt; n; j++) {\n      // top row we only can reach from left\n      result[0].append(A[0][j]);\n      // moving down\n      for (int i = 1; i &lt; m; i++) {\n          MutableInteger previous = result[i - 1];\n          MutableInteger current = result[i];\n          // only replace if previous is bigger\n          if (previous.compareTo(current) &gt; 0) {\n              result[i].copy(previous);\n          }\n          result[i].append(A[i][j]);\n      }\n  }\n\n  return result[m - 1].toString();\n}\n</code></pre>\n</li>\n<li><p>Now Out Of Memory gone but 2 tests fail with a timeout. To fix it a new class <code>MutableInteger</code> with an optimized <code>compareTo</code> method has been introduced. And optimized <code>multiply by 10 + value</code> operation. Internally it has an array of digits like <code>BigInteger</code> but can compare long arrays for this problem more efficiently. Multiplication replaced by <code>append</code> method.</p>\n<pre><code>private static class MutableInteger {\n  int[] digits;\n  int position;\n  int sum;\n  int capacity;\n  int maxIndex;\n\n  private MutableInteger(int digit, int capacity) {\n      this.digits = new int[capacity];\n      digits[0] = digit;\n      sum = digit;\n      this.capacity = capacity;\n      position++;\n  }\n\n  private MutableInteger(MutableInteger value) {\n      digits = value.digits.clone();\n      position = value.position;\n      capacity = value.capacity;\n      sum = value.sum;\n      maxIndex = value.maxIndex;\n  }\n\n  private MutableInteger append(int value) {\n      digits[position] = value;\n      position++;\n      sum = Math.abs(sum * 10 + value); // here integer overflow to compare exact digits efficiently\n      return this;\n  }\n\n  private void copy(MutableInteger value) {\n      digits = value.digits.clone();\n      position = value.position;\n      capacity = value.capacity;\n      sum = value.sum;\n  }\n\n  private int compareTo(MutableInteger other) {\n      // optimization for long arrays comparison\n      if (this.sum != other.sum) {\n          int start = Math.min(this.maxIndex, other.maxIndex);\n          for (int i = start; i &lt; this.position; i++) {\n              int left = this.digits[i];\n              int right = other.digits[i];\n              if (left != right) {\n                  other.maxIndex = i; // don't change this.maxIndex, it will be used in next iteration\n                  return Integer.compare(left, right);\n              }\n          }\n      }\n      return 0;\n  }\n\n  @Override\n  public String toString() {\n      StringBuilder out = new StringBuilder(position);\n      for (int i = 0; i &lt; position; i++) {\n          out.append(digits[i]);\n      }\n      return out.toString();\n  }\n }\n</code></pre>\n</li>\n</ul>\n<p>the class is quite simple with 2 variables for optimization. <code>sum</code> (2 equals arrays have the same <code>sum</code> value even after integer overflow) and <code>maxIndex</code> (used to skip comparison from beginning the arrays of digits).</p>\n"},{"tags":[],"owner":{"account_id":11769493,"reputation":375,"user_id":8612935,"display_name":"Amir Pezeshk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654690437,"creation_date":1654690437,"answer_id":72545520,"question_id":58802579,"body_markdown":"I tested this solutuion and it worked for me:\r\n  \r\n    // you can also use imports, for example:\r\n    import java.util.*;\r\n    \r\n    // you can write to stdout for debugging purposes, e.g.\r\n    // System.out.println(&quot;this is a debug message&quot;);\r\n    \r\n    class Solution {\r\n        public String solution(int[][] A) {\r\n            int i = 0;\r\n            int j = 0;\r\n    \r\n            String result = String.valueOf(A[0][0]);\r\n            String outout = compare(i, j, A);\r\n    \r\n            return result + outout;\r\n        }\r\n    \r\n        public String compare(int i, int j, int[][] A) {\r\n            int h = A.length - 1;\r\n            int v = A[0].length - 1;\r\n    \r\n            if (i == h &amp;&amp; j == v) {\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n            if (j == v) {\r\n                return A[i + 1][j] + compare(i + 1, j, A);\r\n            }\r\n    \r\n            if (i == h) {\r\n                return A[i][j + 1] + compare(i, j + 1, A);\r\n            }\r\n    \r\n            if (A[i][j + 1] &gt; A[i + 1][j]) {\r\n                return A[i][j + 1] + compare(i, j + 1, A);\r\n            }\r\n            else if (A[i][j + 1] &lt; A[i + 1][j]) {\r\n                return A[i + 1][j] + compare(i + 1, j, A);\r\n            } else {\r\n                String bottom = A[i + 1][j] + compare(i + 1, j, A);\r\n                String right = A[i][j + 1] + compare(i, j + 1, A);\r\n    \r\n                if (Integer.parseInt(bottom) &gt; Integer.parseInt(right)) {\r\n                    return bottom;\r\n                } else {\r\n                    return right;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Codility MaxPathFromTheLeftTopCorner exercise in java","body":"<p>I tested this solutuion and it worked for me:</p>\n<pre><code>// you can also use imports, for example:\nimport java.util.*;\n\n// you can write to stdout for debugging purposes, e.g.\n// System.out.println(&quot;this is a debug message&quot;);\n\nclass Solution {\n    public String solution(int[][] A) {\n        int i = 0;\n        int j = 0;\n\n        String result = String.valueOf(A[0][0]);\n        String outout = compare(i, j, A);\n\n        return result + outout;\n    }\n\n    public String compare(int i, int j, int[][] A) {\n        int h = A.length - 1;\n        int v = A[0].length - 1;\n\n        if (i == h &amp;&amp; j == v) {\n            return &quot;&quot;;\n        }\n\n        if (j == v) {\n            return A[i + 1][j] + compare(i + 1, j, A);\n        }\n\n        if (i == h) {\n            return A[i][j + 1] + compare(i, j + 1, A);\n        }\n\n        if (A[i][j + 1] &gt; A[i + 1][j]) {\n            return A[i][j + 1] + compare(i, j + 1, A);\n        }\n        else if (A[i][j + 1] &lt; A[i + 1][j]) {\n            return A[i + 1][j] + compare(i + 1, j, A);\n        } else {\n            String bottom = A[i + 1][j] + compare(i + 1, j, A);\n            String right = A[i][j + 1] + compare(i, j + 1, A);\n\n            if (Integer.parseInt(bottom) &gt; Integer.parseInt(right)) {\n                return bottom;\n            } else {\n                return right;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3370312,"reputation":1709,"user_id":2829676,"accept_rate":43,"display_name":"Samitha Chathuranga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655569399,"creation_date":1655566764,"answer_id":72670567,"question_id":58802579,"body_markdown":"My solution using recursion:\r\n    \r\n    import java.math.BigInteger;\r\n    \r\n    class Solution {\r\n        static int[][] array;\r\n        BigInteger selectedNumSeq = BigInteger.valueOf(0);\r\n        int columnCount;\r\n        int rowCount;\r\n        int i = 0;\r\n        public String solution(int[][] A) {\r\n            int m = 0;\r\n            int n = 0;\r\n            array = A;\r\n            columnCount = A.length; // 2\r\n            rowCount = A[0].length; // 3\r\n            StringBuilder startingChar = new StringBuilder(String.valueOf(array[m][n]));\r\n            solveMe(m, n, startingChar);\r\n            return String.valueOf(selectedNumSeq);\r\n        }\r\n    \r\n        private void solveMe(int m, int n, StringBuilder answerItem) {\r\n            StringBuilder currentSeq = new StringBuilder(answerItem);\r\n    \r\n            if (m +1 &lt; columnCount) {\r\n                int mm = m+1;\r\n                String x = currentSeq.toString() + (array[mm][n]);\r\n                solveMe(mm, n, new StringBuilder(x));\r\n            }\r\n    \r\n            if (n +1 &lt; rowCount) {\r\n                int nn = n+1;\r\n                String y = currentSeq.toString() + (array[m][nn]);\r\n                solveMe(m, nn, new StringBuilder(y));\r\n            }\r\n    \r\n            if ((n +1 == rowCount) &amp;&amp; (m +1 == columnCount)) {\r\n                BigInteger tempNumSeq = new BigInteger(answerItem.toString());\r\n                if(selectedNumSeq.compareTo(tempNumSeq) &lt; 0) {\r\n                    selectedNumSeq = tempNumSeq;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nCorrectness: 100% (hence this will be correct for any input)\r\n","title":"Codility MaxPathFromTheLeftTopCorner exercise in java","body":"<p>My solution using recursion:</p>\n<pre><code>import java.math.BigInteger;\n\nclass Solution {\n    static int[][] array;\n    BigInteger selectedNumSeq = BigInteger.valueOf(0);\n    int columnCount;\n    int rowCount;\n    int i = 0;\n    public String solution(int[][] A) {\n        int m = 0;\n        int n = 0;\n        array = A;\n        columnCount = A.length; // 2\n        rowCount = A[0].length; // 3\n        StringBuilder startingChar = new StringBuilder(String.valueOf(array[m][n]));\n        solveMe(m, n, startingChar);\n        return String.valueOf(selectedNumSeq);\n    }\n\n    private void solveMe(int m, int n, StringBuilder answerItem) {\n        StringBuilder currentSeq = new StringBuilder(answerItem);\n\n        if (m +1 &lt; columnCount) {\n            int mm = m+1;\n            String x = currentSeq.toString() + (array[mm][n]);\n            solveMe(mm, n, new StringBuilder(x));\n        }\n\n        if (n +1 &lt; rowCount) {\n            int nn = n+1;\n            String y = currentSeq.toString() + (array[m][nn]);\n            solveMe(m, nn, new StringBuilder(y));\n        }\n\n        if ((n +1 == rowCount) &amp;&amp; (m +1 == columnCount)) {\n            BigInteger tempNumSeq = new BigInteger(answerItem.toString());\n            if(selectedNumSeq.compareTo(tempNumSeq) &lt; 0) {\n                selectedNumSeq = tempNumSeq;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Correctness: 100% (hence this will be correct for any input)</p>\n"}],"owner":{"account_id":1428476,"reputation":67,"user_id":1351435,"display_name":"Andrea Mancini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3431,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1655569399,"creation_date":1573479840,"question_id":58802579,"body_markdown":"I&#39;m tring to solve this https://app.codility.com/programmers/custom_challenge/technetium2019/ \r\n\r\nHere is the text of the exercise:\r\n\r\n\r\n\r\n    You are given a matrix A consisting of N rows and M columns, where each cell contains a digit. Your task is to find a continuous sequence of neighbouring cells, starting in the top-left corner and ending in the bottom-right corner (going only down and right), that creates the biggest possible integer by concatenation of digits on the path. By neighbouring cells we mean cells that have exactly one common side.\r\n    \r\n        Write a function:\r\n        \r\n        class Solution { public String solution(int[][] A); }\r\n        \r\n        that, given matrix A consisting of N rows and M columns, returns a string which represents the sequence of cells that we should pick to obtain the biggest possible integer.\r\n        \r\n        For example, given the following matrix A:\r\n        \r\n        [9 9 7] [9 7 2] [6 9 5] [9 1 2]\r\n        \r\n        the function should return &quot;997952&quot;, because you can obtain such a sequence by choosing a path as shown below:\r\n        \r\n        [9 9 *] [* 7 *] [* 9 5] [* * 2]\r\n        \r\n        Write an efficient algorithm for the following assumptions:\r\n        \r\n                N and M are integers within the range [1..1,000];\r\n                each element of matrix A is an integer within the range [1..9].\r\n\r\n\r\n\r\nI cannot reach 100% because I fail the case where the values of the matrix are all the same.\r\n\r\nI tried to read the matrix from left to right and down as requested in the exercise but I think I misunderstood the question.\r\n\r\nHere is my code:\r\n\r\n    static String sol(int[][] A) {\r\n\r\n        String st = &quot;&quot;;\r\n\r\n        int v = A.length - 1;\r\n        int h = A[0].length - 1;\r\n        if (h == 0) {\r\n            for (int i = 0; i &lt;= v; i++) {\r\n                st = st.concat(String.valueOf(A[i][0]));\r\n            }\r\n        } else if (v == 0) {\r\n            for (int i = 0; i &lt;= h; i++) {\r\n                st = st.concat(String.valueOf(A[0][i]));\r\n            }\r\n\r\n        } else {\r\n\r\n            st = st.concat(String.valueOf(A[0][0]));\r\n\r\n            int m = 0; //vertical\r\n            int n = 0; // horizontal\r\n            while(m&lt;v &amp;&amp; n&lt;h) {\r\n                if(A[m+1][n]&gt;=A[m][n+1]){\r\n                    st = st.concat(String.valueOf(A[m+1][n]));\r\n                    m++;\r\n                }else {\r\n                    st = st.concat(String.valueOf(A[m][n+1]));\r\n                    n++;\r\n                }\r\n\r\n            }\r\n\r\n            st = st.concat(String.valueOf(A[v][h]));\r\n        }\r\n\r\n\r\n        return st;\r\n    }\r\n\r\nI think I need to traverse the matrix calculating the weight of the path but I don&#39;t know how to proceed.\r\n\r\n[Here][1] I found a solution, but it seems limited to a 3x3 matrix.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/find-the-maximum-cost-path-from-the-bottom-left-corner-to-the-top-right-corner/","title":"Codility MaxPathFromTheLeftTopCorner exercise in java","body":"<p>I'm tring to solve this <a href=\"https://app.codility.com/programmers/custom_challenge/technetium2019/\" rel=\"nofollow noreferrer\">https://app.codility.com/programmers/custom_challenge/technetium2019/</a> </p>\n\n<p>Here is the text of the exercise:</p>\n\n<pre><code>You are given a matrix A consisting of N rows and M columns, where each cell contains a digit. Your task is to find a continuous sequence of neighbouring cells, starting in the top-left corner and ending in the bottom-right corner (going only down and right), that creates the biggest possible integer by concatenation of digits on the path. By neighbouring cells we mean cells that have exactly one common side.\n\n    Write a function:\n\n    class Solution { public String solution(int[][] A); }\n\n    that, given matrix A consisting of N rows and M columns, returns a string which represents the sequence of cells that we should pick to obtain the biggest possible integer.\n\n    For example, given the following matrix A:\n\n    [9 9 7] [9 7 2] [6 9 5] [9 1 2]\n\n    the function should return \"997952\", because you can obtain such a sequence by choosing a path as shown below:\n\n    [9 9 *] [* 7 *] [* 9 5] [* * 2]\n\n    Write an efficient algorithm for the following assumptions:\n\n            N and M are integers within the range [1..1,000];\n            each element of matrix A is an integer within the range [1..9].\n</code></pre>\n\n<p>I cannot reach 100% because I fail the case where the values of the matrix are all the same.</p>\n\n<p>I tried to read the matrix from left to right and down as requested in the exercise but I think I misunderstood the question.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>static String sol(int[][] A) {\n\n    String st = \"\";\n\n    int v = A.length - 1;\n    int h = A[0].length - 1;\n    if (h == 0) {\n        for (int i = 0; i &lt;= v; i++) {\n            st = st.concat(String.valueOf(A[i][0]));\n        }\n    } else if (v == 0) {\n        for (int i = 0; i &lt;= h; i++) {\n            st = st.concat(String.valueOf(A[0][i]));\n        }\n\n    } else {\n\n        st = st.concat(String.valueOf(A[0][0]));\n\n        int m = 0; //vertical\n        int n = 0; // horizontal\n        while(m&lt;v &amp;&amp; n&lt;h) {\n            if(A[m+1][n]&gt;=A[m][n+1]){\n                st = st.concat(String.valueOf(A[m+1][n]));\n                m++;\n            }else {\n                st = st.concat(String.valueOf(A[m][n+1]));\n                n++;\n            }\n\n        }\n\n        st = st.concat(String.valueOf(A[v][h]));\n    }\n\n\n    return st;\n}\n</code></pre>\n\n<p>I think I need to traverse the matrix calculating the weight of the path but I don't know how to proceed.</p>\n\n<p><a href=\"https://www.geeksforgeeks.org/find-the-maximum-cost-path-from-the-bottom-left-corner-to-the-top-right-corner/\" rel=\"nofollow noreferrer\">Here</a> I found a solution, but it seems limited to a 3x3 matrix.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":8261165,"reputation":461,"user_id":6212514,"display_name":"Ajay Singh"},"score":0,"creation_date":1486289318,"post_id":34176392,"comment_id":71275252,"body_markdown":"Looks like the problem is with package. Are you importing the correct package- import com.google.common.base.Function;","body":"Looks like the problem is with package. Are you importing the correct package- import com.google.common.base.Function;"},{"owner":{"account_id":452309,"reputation":3721,"user_id":848677,"accept_rate":15,"display_name":"Jadeye"},"score":0,"creation_date":1486291692,"post_id":34176392,"comment_id":71275253,"body_markdown":"the issue was with `new` invocation of the `method until` of type `wait`","body":"the issue was with <code>new</code> invocation of the <code>method until</code> of type <code>wait</code>"}],"answers":[{"tags":[],"owner":{"account_id":2939373,"reputation":2633,"user_id":2517622,"accept_rate":86,"display_name":"drets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1500381084,"creation_date":1449657561,"answer_id":34176690,"question_id":34176392,"body_markdown":"\r\n    Wait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt;(driver)\r\n        .withTimeout(60, TimeUnit.SECONDS)\r\n        .pollingEvery(5, TimeUnit.SECONDS)\r\n        .ignoring(NoSuchElementException.class);\r\n\r\n    wait.until(new Function&lt;WebDriver, Boolean&gt;() {\r\n      @Override\r\n      public Boolean apply(WebDriver driver) {\r\n        return driver.findElement(By.cssSelector(&quot;my-css-selector&quot;)).getText().contains(&quot;name&quot;);\r\n      }\r\n    });","title":"FluentWait throwing &quot;The method until in the type Wait&lt;WebDriver&gt; is not applicable for the arguments&quot; error","body":"<pre><code>Wait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt;(driver)\n    .withTimeout(60, TimeUnit.SECONDS)\n    .pollingEvery(5, TimeUnit.SECONDS)\n    .ignoring(NoSuchElementException.class);\n\nwait.until(new Function&lt;WebDriver, Boolean&gt;() {\n  @Override\n  public Boolean apply(WebDriver driver) {\n    return driver.findElement(By.cssSelector(\"my-css-selector\")).getText().contains(\"name\");\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3779441,"reputation":1,"user_id":3139342,"display_name":"Rishabh Saini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476647920,"creation_date":1476639785,"answer_id":40073366,"question_id":34176392,"body_markdown":"I have tried `WebDriverWait` instead of `FluentWait` and it worked for me.\r\n\r\n    WebDriverWait wait = new WebDriverWait(Driver, 60);\r\n    wait.withTimeout(60, TimeUnit.SECONDS);\r\n    wait.pollingEvery(5, TimeUnit.SECONDS);\r\n    wait.ignoring(NoSuchElementException.class);\r\n\twait.until(new ExpectedCondition&lt;Boolean&gt;(){\r\n\t\t@Override\r\n\t\tpublic Boolean apply(WebDriver driver) {\r\n\t\t\tWebElement ele=driver.findElement(locator);\r\n\t\t\tif(ele==null)\r\n\t\t\t\treturn false;\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;found&quot;);\r\n\t\t\t\treturn true;\r\n\t\t\t}\t  \r\n\t\t}\r\n\t});","title":"FluentWait throwing &quot;The method until in the type Wait&lt;WebDriver&gt; is not applicable for the arguments&quot; error","body":"<p>I have tried <code>WebDriverWait</code> instead of <code>FluentWait</code> and it worked for me.</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(Driver, 60);\nwait.withTimeout(60, TimeUnit.SECONDS);\nwait.pollingEvery(5, TimeUnit.SECONDS);\nwait.ignoring(NoSuchElementException.class);\nwait.until(new ExpectedCondition&lt;Boolean&gt;(){\n    @Override\n    public Boolean apply(WebDriver driver) {\n        WebElement ele=driver.findElement(locator);\n        if(ele==null)\n            return false;\n        else\n        {\n            System.out.println(\"found\");\n            return true;\n        }     \n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1087257,"reputation":2781,"user_id":1082668,"display_name":"Barry Knapp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491506812,"creation_date":1491506812,"answer_id":43264141,"question_id":34176392,"body_markdown":"add this\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n      &lt;version&gt;21.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"FluentWait throwing &quot;The method until in the type Wait&lt;WebDriver&gt; is not applicable for the arguments&quot; error","body":"<p>add this</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n  &lt;artifactId&gt;guava&lt;/artifactId&gt;\n  &lt;version&gt;21.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10576161,"reputation":2214,"user_id":7791423,"display_name":"Amado Saladino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543062714,"creation_date":1543062714,"answer_id":53458172,"question_id":34176392,"body_markdown":"The simplest solution is to use the other method implementation:\r\n\r\n    withTimeout(Duration.ofSeconds(10))\r\n\t\t\t\t.pollingEvery(Duration.ofSeconds(2))\r\n\r\nThe form `withTimeout(Duration timeOut)`\r\nis still used and non-deprecated one","title":"FluentWait throwing &quot;The method until in the type Wait&lt;WebDriver&gt; is not applicable for the arguments&quot; error","body":"<p>The simplest solution is to use the other method implementation:</p>\n\n<pre><code>withTimeout(Duration.ofSeconds(10))\n            .pollingEvery(Duration.ofSeconds(2))\n</code></pre>\n\n<p>The form <code>withTimeout(Duration timeOut)</code>\nis still used and non-deprecated one</p>\n"},{"tags":[],"owner":{"account_id":25585238,"reputation":1,"user_id":19363106,"display_name":"user19363106"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655569398,"creation_date":1655534463,"answer_id":72667237,"question_id":34176392,"body_markdown":"    public static void clicon(WebDriver driver,WebElement locator,Duration timeout)\r\n    {\r\n    \tnew WebDriverWait(driver, timeout).ignoring(NoSuchElementException.class).until(ExpectedConditions.elementToBeClickable(locator));\r\n    \tlocator.click();\r\n    }","title":"FluentWait throwing &quot;The method until in the type Wait&lt;WebDriver&gt; is not applicable for the arguments&quot; error","body":"<pre><code>public static void clicon(WebDriver driver,WebElement locator,Duration timeout)\n{\n    new WebDriverWait(driver, timeout).ignoring(NoSuchElementException.class).until(ExpectedConditions.elementToBeClickable(locator));\n    locator.click();\n}\n</code></pre>\n"}],"owner":{"account_id":5812414,"reputation":3,"user_id":4583033,"accept_rate":33,"display_name":"Ajay Shinde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34176690,"answer_count":5,"score":0,"last_activity_date":1655569398,"creation_date":1449656756,"question_id":34176392,"body_markdown":"I am automating test case. I want to use FluentWait but it is throwing &quot;The method until(Function&lt;? super WebDriver,T&gt;) in the type Wait&lt;WebDriver&gt; is not applicable for the arguments (new Function&lt;WebElement,Boolean&gt;(){})&quot; error.\r\n\r\n    Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver).\r\n    \t\t\t\twithTimeout(60, TimeUnit.SECONDS)\r\n    \t\t\t\t.pollingEvery(5, TimeUnit.SECONDS)\r\n    \t\t\t\t.ignoring(NoSuchElementException.class);\r\n                   wait.until(new Function&lt; WebElement, Boolean &gt;() {\r\n                @Override\r\n                public Boolean apply(WebElement element) {\r\n                    return element.getText().contains(employeeFirstName);\r\n                }\r\n            });\r\n\r\nWhat I am doing wrong here?","title":"FluentWait throwing &quot;The method until in the type Wait&lt;WebDriver&gt; is not applicable for the arguments&quot; error","body":"<p>I am automating test case. I want to use FluentWait but it is throwing \"The method until(Function) in the type Wait is not applicable for the arguments (new Function(){})\" error.</p>\n\n<pre><code>Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver).\n                withTimeout(60, TimeUnit.SECONDS)\n                .pollingEvery(5, TimeUnit.SECONDS)\n                .ignoring(NoSuchElementException.class);\n               wait.until(new Function&lt; WebElement, Boolean &gt;() {\n            @Override\n            public Boolean apply(WebElement element) {\n                return element.getText().contains(employeeFirstName);\n            }\n        });\n</code></pre>\n\n<p>What I am doing wrong here?</p>\n"},{"tags":["java","spring","postgresql","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":3667837,"reputation":2435,"user_id":3055724,"display_name":"Duloren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655471314,"creation_date":1655471314,"answer_id":72659890,"question_id":72659741,"body_markdown":"Change the condition to:\r\n\r\n     (NOW() - INTERVAL &#39;7 DAYS&#39;)\r\n\r\nSee: https://www.postgresql.org/docs/current/functions-datetime.html","title":"How to delete rows older than 7 days(1 week) using JPQL or NativeQuery?","body":"<p>Change the condition to:</p>\n<pre><code> (NOW() - INTERVAL '7 DAYS')\n</code></pre>\n<p>See: <a href=\"https://www.postgresql.org/docs/current/functions-datetime.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/current/functions-datetime.html</a></p>\n"},{"tags":[],"owner":{"account_id":22036457,"reputation":21,"user_id":16302873,"display_name":"Steve Oluwatosin Olaleye"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655567523,"creation_date":1655567523,"answer_id":72670646,"question_id":72659741,"body_markdown":"**Updated:**\r\nIt worked after I changed my approach\r\n```\r\n @Modifying\r\n    @Query(value = &quot;DELETE  FROM Activity act WHERE act.createdDate &lt;= :p&quot;)\r\n    void deleteActivitiesOlderThanOneWeek(@Param(&quot;p&quot;) Instant date);`\r\n```\r\nThen during usage, I passed an argument of type Instant, subtracting a period of 7 days. Like below:\r\n```\r\n  var xDays = Instant.now().minus(Period.ofDays(7));\r\n      activityRepository.deleteActivitiesOlderThanOneWeek(xDays);\r\n```\r\nThis did the magic for me","title":"How to delete rows older than 7 days(1 week) using JPQL or NativeQuery?","body":"<p><strong>Updated:</strong>\nIt worked after I changed my approach</p>\n<pre><code> @Modifying\n    @Query(value = &quot;DELETE  FROM Activity act WHERE act.createdDate &lt;= :p&quot;)\n    void deleteActivitiesOlderThanOneWeek(@Param(&quot;p&quot;) Instant date);`\n</code></pre>\n<p>Then during usage, I passed an argument of type Instant, subtracting a period of 7 days. Like below:</p>\n<pre><code>  var xDays = Instant.now().minus(Period.ofDays(7));\n      activityRepository.deleteActivitiesOlderThanOneWeek(xDays);\n</code></pre>\n<p>This did the magic for me</p>\n"}],"owner":{"account_id":22036457,"reputation":21,"user_id":16302873,"display_name":"Steve Oluwatosin Olaleye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72670646,"answer_count":2,"score":-1,"last_activity_date":1655567552,"creation_date":1655470643,"question_id":72659741,"body_markdown":"I am building a Spring Boot application. Postgres being used as RDBMS.\r\nI have a table called ```activity``` I intend to delete all rows older than 7 days by including a WHERE clause to delete rows where  ```created_at``` column is less than 7 days\r\n\r\nSo I tried this native query below since there is no ready-made JPA Query method to achieve this...\r\n\r\n```\r\n@Query(nativeQuery = true, value = &quot;DELETE FROM activity WHERE created_date &lt; (NOW() - INTERVAL 7 DAY)&quot;)\r\nvoid deleteActivitiesOlderThanOneWeek();\r\n```\r\nSo I got the error below\r\n```\r\norg.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;7&quot;\r\n  Position: 61\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:166) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:118) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2322) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:956) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2181) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1665) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.6.2.jar:2.6.2]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.2.jar:2.6.2]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.2.jar:2.6.2]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.2.jar:2.6.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springf\r\n```\r\nPlese what am I doing wrong or any suggestion of what I can do. Thanks.\r\n\r\n    \r\n","title":"How to delete rows older than 7 days(1 week) using JPQL or NativeQuery?","body":"<p>I am building a Spring Boot application. Postgres being used as RDBMS.\nI have a table called <code>activity</code> I intend to delete all rows older than 7 days by including a WHERE clause to delete rows where  <code>created_at</code> column is less than 7 days</p>\n<p>So I tried this native query below since there is no ready-made JPA Query method to achieve this...</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;DELETE FROM activity WHERE created_date &lt; (NOW() - INTERVAL 7 DAY)&quot;)\nvoid deleteActivitiesOlderThanOneWeek();\n</code></pre>\n<p>So I got the error below</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;7&quot;\n  Position: 61\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:166) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:118) ~[postgresql-42.3.3.jar:42.3.3]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2322) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.loader.Loader.doQuery(Loader.java:956) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2181) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1665) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.6.2.jar:2.6.2]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.2.jar:2.6.2]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.2.jar:2.6.2]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springf\n</code></pre>\n<p>Plese what am I doing wrong or any suggestion of what I can do. Thanks.</p>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":1516782,"reputation":1510,"user_id":1417609,"accept_rate":100,"display_name":"Dany"},"score":0,"creation_date":1436865009,"post_id":30858312,"comment_id":50778897,"body_markdown":"Did you try to check firewall settings?","body":"Did you try to check firewall settings?"},{"owner":{"account_id":2696639,"reputation":1357,"user_id":2328509,"accept_rate":71,"display_name":"donthurtme"},"score":2,"creation_date":1436879548,"post_id":30858312,"comment_id":50788811,"body_markdown":"I already solved this. i should put &quot; &quot; at the parameters. But thx","body":"I already solved this. i should put &quot; &quot; at the parameters. But thx"}],"answers":[{"tags":[],"owner":{"account_id":2696639,"reputation":1357,"user_id":2328509,"accept_rate":71,"display_name":"donthurtme"},"down_vote_count":2,"up_vote_count":22,"is_accepted":true,"score":20,"last_activity_date":1434426538,"creation_date":1434426538,"answer_id":30858439,"question_id":30858312,"body_markdown":"It should be something like this,\r\n\r\n&lt;code&gt;java &quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=8983&quot; -jar start.jar&lt;/code&gt;\r\n\r\nit&#39;s working now","title":"Handshake failed - connection prematurally closed error when debugging Solr in Intellij","body":"<p>It should be something like this,</p>\n\n<p><code>java \"-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=8983\" -jar start.jar</code></p>\n\n<p>it's working now</p>\n"},{"tags":[],"owner":{"account_id":3286109,"reputation":14045,"user_id":2765603,"accept_rate":90,"display_name":"llogiq"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1434617384,"creation_date":1434613751,"answer_id":30909466,"question_id":30858312,"body_markdown":"You forgot to specify `-Xdebug` on the `java` command line.\r\n\r\nEdit: As in\r\n\r\n    java -jar start.jar -Xdebug -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=8983","title":"Handshake failed - connection prematurally closed error when debugging Solr in Intellij","body":"<p>You forgot to specify <code>-Xdebug</code> on the <code>java</code> command line.</p>\n\n<p>Edit: As in</p>\n\n<pre><code>java -jar start.jar -Xdebug -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=8983\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6629715,"reputation":6021,"user_id":5118762,"display_name":"brass monkey"},"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1655567237,"creation_date":1580978373,"answer_id":60090750,"question_id":30858312,"body_markdown":"I got that error when trying to access to debug port on a Docker container.\r\n\r\nIf you are trying to access the debug port inside a Docker container make sure you are specifying the port as `*:5005`\r\n\r\nE.g.\r\n\r\n`-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005`\r\n\r\nThis has been changes since Java 9.\r\n\r\nSee: [REGRESSION: Remote debugging does not work on JDK 9](https://bugs.openjdk.java.net/browse/JDK-8175050)\r\n\r\n&gt;It&#39;s not a bug. It&#39;s a security.\r\n&gt;\r\n&gt;Before the JDK-8041435\r\n&gt;\r\n&gt;If you have a server with EXT and INT interfaces and start Java process with address=5900 it binds to both interfaces and allow anybody from entire world to connect to your java process unless you block it on firewall.\r\n&gt;\r\n&gt;After JDK-8041435 socket transport try to guess localhost and bind to localhost only. I.e. socket transport by default works only if both client and server are located on the same machine. It&#39;s not an easy task to guess proper localhost. so ever same-machine configuration might not work in some situation because of network setup.\r\n&gt;\r\n&gt;You can restore old, insecure behavior using * (asteric)\r\n&gt;i.e.\r\n&gt;  -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=*:5900\r\n&gt;should work exactly as it was before JDK-8041435\r\n&gt;\r\n&gt;But it&#39;s recommended to explicitly specify ip address to bind when it possible. \r\n\r\nAnd [JDWP socket connector accept only local connections by default](https://www.oracle.com/java/technologies/javase/9-notes.html)\r\n&gt;The JDWP socket connector has been changed to bind to localhost only if no ip address or hostname is specified on the agent command line. A hostname of asterisk (*) may be used to achieve the old behavior which is to bind the JDWP socket connector to all available interfaces; this is not secure and not recommended.\r\n","title":"Handshake failed - connection prematurally closed error when debugging Solr in Intellij","body":"<p>I got that error when trying to access to debug port on a Docker container.</p>\n<p>If you are trying to access the debug port inside a Docker container make sure you are specifying the port as <code>*:5005</code></p>\n<p>E.g.</p>\n<p><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005</code></p>\n<p>This has been changes since Java 9.</p>\n<p>See: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8175050\" rel=\"noreferrer\">REGRESSION: Remote debugging does not work on JDK 9</a></p>\n<blockquote>\n<p>It's not a bug. It's a security.</p>\n<p>Before the JDK-8041435</p>\n<p>If you have a server with EXT and INT interfaces and start Java process with address=5900 it binds to both interfaces and allow anybody from entire world to connect to your java process unless you block it on firewall.</p>\n<p>After JDK-8041435 socket transport try to guess localhost and bind to localhost only. I.e. socket transport by default works only if both client and server are located on the same machine. It's not an easy task to guess proper localhost. so ever same-machine configuration might not work in some situation because of network setup.</p>\n<p>You can restore old, insecure behavior using * (asteric)\ni.e.\n-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=*:5900\nshould work exactly as it was before JDK-8041435</p>\n<p>But it's recommended to explicitly specify ip address to bind when it possible.</p>\n</blockquote>\n<p>And <a href=\"https://www.oracle.com/java/technologies/javase/9-notes.html\" rel=\"noreferrer\">JDWP socket connector accept only local connections by default</a></p>\n<blockquote>\n<p>The JDWP socket connector has been changed to bind to localhost only if no ip address or hostname is specified on the agent command line. A hostname of asterisk (*) may be used to achieve the old behavior which is to bind the JDWP socket connector to all available interfaces; this is not secure and not recommended.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4266726,"reputation":134,"user_id":3489665,"display_name":"ant0nk"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1610626840,"creation_date":1610626840,"answer_id":65718850,"question_id":30858312,"body_markdown":"I had this error with OpenJDK 11 inside Docker container and setting environment variable JAVA_DEBUG_PORT to &quot;*:5005&quot; worked for me.","title":"Handshake failed - connection prematurally closed error when debugging Solr in Intellij","body":"<p>I had this error with OpenJDK 11 inside Docker container and setting environment variable JAVA_DEBUG_PORT to &quot;*:5005&quot; worked for me.</p>\n"},{"tags":[],"owner":{"account_id":4233270,"reputation":704,"user_id":3465146,"display_name":"Svichkarev Anatoly"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1612374427,"creation_date":1612374427,"answer_id":66032911,"question_id":30858312,"body_markdown":"It has helped me, at least in Intellij IDEA:\r\n\r\n    java -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=0.0.0.0:5005\r\n\r\ntry to add ip `0.0.0.0`.","title":"Handshake failed - connection prematurally closed error when debugging Solr in Intellij","body":"<p>It has helped me, at least in Intellij IDEA:</p>\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=0.0.0.0:5005\n</code></pre>\n<p>try to add ip <code>0.0.0.0</code>.</p>\n"}],"owner":{"account_id":2696639,"reputation":1357,"user_id":2328509,"accept_rate":71,"display_name":"donthurtme"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114820,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":30858439,"answer_count":5,"score":70,"last_activity_date":1655567237,"creation_date":1434425529,"question_id":30858312,"body_markdown":"So i was going to debug my Solr filter plugins on Intellij Community Edition. After i ran the program from comand prompt with this command\r\n\r\n    java -jar start.jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=8983\r\n\r\nI started my Intellij debugger with this config:\r\n\r\n    Transport : socket\r\n    Debugger mode : attach\r\n    Host : localhost\r\n    Port : 8983\r\n\r\nBut when I ran the debugger I got this error:\r\n\r\n    Error running Debugger: Unable to open debugger port (localhost:8983): \r\n    java.io.IOException &quot;handshake failed - connection prematurally closed&quot;\r\n\r\nAny idea how to fix this?","title":"Handshake failed - connection prematurally closed error when debugging Solr in Intellij","body":"<p>So i was going to debug my Solr filter plugins on Intellij Community Edition. After i ran the program from comand prompt with this command</p>\n\n<pre><code>java -jar start.jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=8983\n</code></pre>\n\n<p>I started my Intellij debugger with this config:</p>\n\n<pre><code>Transport : socket\nDebugger mode : attach\nHost : localhost\nPort : 8983\n</code></pre>\n\n<p>But when I ran the debugger I got this error:</p>\n\n<pre><code>Error running Debugger: Unable to open debugger port (localhost:8983): \njava.io.IOException \"handshake failed - connection prematurally closed\"\n</code></pre>\n\n<p>Any idea how to fix this?</p>\n"},{"tags":["java","swing","audio","javasound"],"comments":[{"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"score":0,"creation_date":1655451799,"post_id":72655333,"comment_id":128340182,"body_markdown":"You may like to refer to https://stackoverflow.com/questions/5529754/java-io-ioexception-mark-reset-not-supported.","body":"You may like to refer to <a href=\"https://stackoverflow.com/questions/5529754/java-io-ioexception-mark-reset-not-supported\" title=\"java io ioexception mark reset not supported\">stackoverflow.com/questions/5529754/&hellip;</a>."},{"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"score":0,"creation_date":1655452171,"post_id":72655333,"comment_id":128340314,"body_markdown":"You may also like to refer to https://stackoverflow.com/questions/6045384/playing-mp3-and-wav-in-java, once you get around the first problem.","body":"You may also like to refer to <a href=\"https://stackoverflow.com/questions/6045384/playing-mp3-and-wav-in-java\" title=\"playing mp3 and wav in java\">stackoverflow.com/questions/6045384/playing-mp3-and-wav-in-j&zwnj;&#8203;ava</a>, once you get around the first problem."}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655567093,"creation_date":1655480147,"answer_id":72661717,"question_id":72655333,"body_markdown":"If you provide a `URL` instead of an `InputStream` as an argument to `AudioSystem.getAudioStream`, the requirement that the media resource supports marking and resetting is circumvented. This can be observed by comparing the APIs for the two methods.\r\n\r\n[AudioSystem.getAudioInputStream(InputStream)][1]\r\n\r\n[AudioSystem.getAudioInputStream(URL)][2]\r\n\r\nOnly the method that takes `InputStream` includes these checks:\r\n\r\n&gt; The implementation of this method may require multiple parsers to\r\n&gt; examine the stream to determine whether they support it. These parsers\r\n&gt; must be able to mark the stream, read enough data to determine whether\r\n&gt; they support the stream, and reset the stream&#39;s read pointer to its\r\n&gt; original position. If the input stream does not support these\r\n&gt; operations, this method may fail with an IOException.\r\n\r\nSo, rewriting the code to obtain a `URL` for your resource instead of an `InputStream` should solve your problem, unless you explicitly need to have the `AudioInputStream` support marking and resetting. I&#39;ve not come across such a scenario myself. Would be interesting in learning about situations where this capability is used.\r\n\r\nEDIT: I overlooked that you are trying to load an mp3. Java doesn&#39;t directly support this or many of the other files on your list of audio. You will need to include additional libraries and code to handle these. The following (executed in jshell) can show what formats are supported:\r\n\r\n    jshell&gt; import javax.sound.sampled.*;\r\n    jshell&gt; AudioFileFormat.Type[] types = AudioSystem.getAudioFileTypes();\r\n    types ==&gt; AudioFileFormat$Type[3] { WAVE, AU, AIFF }\r\n\r\nMore documentation can be found in the [JavaSound][3] section of the TroubleShooting Guide.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.io.InputStream)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.net.URL)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/troubleshoot/java-sound.html#GUID-A2CD7669-9CF4-4002-B4F3-67525BE075B2","title":"Getting java.io.IOException:mark/reset not supported after uploading a file to play, pause, resume, loop audio","body":"<p>If you provide a <code>URL</code> instead of an <code>InputStream</code> as an argument to <code>AudioSystem.getAudioStream</code>, the requirement that the media resource supports marking and resetting is circumvented. This can be observed by comparing the APIs for the two methods.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.io.InputStream)\" rel=\"nofollow noreferrer\">AudioSystem.getAudioInputStream(InputStream)</a></p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.net.URL)\" rel=\"nofollow noreferrer\">AudioSystem.getAudioInputStream(URL)</a></p>\n<p>Only the method that takes <code>InputStream</code> includes these checks:</p>\n<blockquote>\n<p>The implementation of this method may require multiple parsers to\nexamine the stream to determine whether they support it. These parsers\nmust be able to mark the stream, read enough data to determine whether\nthey support the stream, and reset the stream's read pointer to its\noriginal position. If the input stream does not support these\noperations, this method may fail with an IOException.</p>\n</blockquote>\n<p>So, rewriting the code to obtain a <code>URL</code> for your resource instead of an <code>InputStream</code> should solve your problem, unless you explicitly need to have the <code>AudioInputStream</code> support marking and resetting. I've not come across such a scenario myself. Would be interesting in learning about situations where this capability is used.</p>\n<p>EDIT: I overlooked that you are trying to load an mp3. Java doesn't directly support this or many of the other files on your list of audio. You will need to include additional libraries and code to handle these. The following (executed in jshell) can show what formats are supported:</p>\n<pre><code>jshell&gt; import javax.sound.sampled.*;\njshell&gt; AudioFileFormat.Type[] types = AudioSystem.getAudioFileTypes();\ntypes ==&gt; AudioFileFormat$Type[3] { WAVE, AU, AIFF }\n</code></pre>\n<p>More documentation can be found in the <a href=\"https://docs.oracle.com/en/java/javase/17/troubleshoot/java-sound.html#GUID-A2CD7669-9CF4-4002-B4F3-67525BE075B2\" rel=\"nofollow noreferrer\">JavaSound</a> section of the TroubleShooting Guide.</p>\n"}],"owner":{"account_id":20080526,"reputation":11,"user_id":14723245,"display_name":"Vladimir George"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655567093,"creation_date":1655448417,"question_id":72655333,"body_markdown":"This is the code I have as of now:\r\n```\r\nimport javax.swing.JFileChooser;\r\nimport javax.swing.filechooser.FileNameExtensionFilter;\r\nimport javax.swing.filechooser.FileSystemView;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JTextField;\r\nimport java.util.Scanner;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.sound.sampled.*;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.InputStream;\r\n\r\nimport javax.sound.sampled.AudioInputStream;\r\nimport javax.sound.sampled.AudioSystem;\r\nimport javax.sound.sampled.Clip;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class changeyouvoice extends Frame implements WindowListener, ActionListener {\r\n    JButton upload;\r\n    JFileChooser jfc;\r\n    int i;\r\n    Long currentFrame;\r\n    Clip clip;\r\n    String status;\r\n\r\n    public static void main(String[] args) {\r\n        // 2nd step\r\n        changeyouvoice myWindow = new changeyouvoice();\r\n        myWindow.setSize(350, 100);\r\n        myWindow.setVisible(true);\r\n    }\r\n\r\n    public changeyouvoice() {\r\n        jfc = new JFileChooser();\r\n        setLayout(new FlowLayout());\r\n        addWindowListener(this);\r\n        upload = new JButton(&quot;Upload&quot;);\r\n        add(upload);\r\n        upload.addActionListener(this);\r\n        // create AudioInputStream object\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        jfc.setDialogTitle(&quot;Select the video of your voice&quot;);\r\n        jfc.setAcceptAllFileFilterUsed(false);// you are not searching for anything.\r\n        // figure out why\r\n        FileNameExtensionFilter filter = new FileNameExtensionFilter(&quot;Select Audio&quot;, &quot;m4a&quot;, &quot;mp3&quot;, &quot;flac&quot;, &quot;wav&quot;, &quot;wma&quot;,\r\n                &quot;aac&quot;);\r\n        jfc.setFileFilter(filter);\r\n        int returnValue = jfc.showOpenDialog(this);\r\n        // create AudioInputStream object\r\n        if (returnValue == JFileChooser.APPROVE_OPTION) {\r\n            try {\r\n                if (e.getSource() == upload) {\r\n                    int x = jfc.showOpenDialog(this);\r\n                    if (x == JFileChooser.APPROVE_OPTION) {\r\n                        File fileToBeSent = jfc.getSelectedFile();\r\n                        File initialFile = new File(fileToBeSent.getAbsolutePath());\r\n                        try {\r\n                            // InputStream targetStream;\r\n                            InputStream targetStream = new FileInputStream(initialFile);\r\n                            AudioInputStream myvoice = AudioSystem.getAudioInputStream(targetStream); // figure\r\n                                                                                                      // out\r\n                                                                                                      // how\r\n                                                                                                      // its\r\n                            // created. read the file\r\n                            // and get audio stream\r\n                            // create AudioInputStream object\r\n                            // create clip reference\r\n                            clip = AudioSystem.getClip();\r\n                            try {\r\n                                clip.start();\r\n                                clip.open(myvoice);\r\n                                clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n                                status = &quot;play&quot;;\r\n                                Scanner sc = new Scanner(System.in);\r\n\r\n                                while (true) {\r\n                                    System.out.println(&quot;1. pause&quot;);\r\n                                    System.out.println(&quot;2. resume&quot;);\r\n                                    System.out.println(&quot;3. restart&quot;);\r\n                                    System.out.println(&quot;4. stop&quot;);\r\n                                    System.out.println(&quot;5. Jump to specific time&quot;);\r\n                                    int c = sc.nextInt();\r\n                                    switch (c) {\r\n                                        case 1:\r\n                                            pause();\r\n                                            break;\r\n                                        case 2:\r\n                                            resumeAudio();\r\n                                            break;\r\n                                        case 3:\r\n                                            restart();\r\n                                            break;\r\n                                        case 4:\r\n                                            stop();\r\n                                            break;\r\n                                        case 5:\r\n                                            System.out.println(&quot;Enter time (&quot; + 0 +\r\n                                                    &quot;, &quot; + clip.getMicrosecondLength() + &quot;)&quot;);\r\n                                            long c1 = sc.nextLong();\r\n                                            jump(c1);\r\n                                            break;\r\n                                    }\r\n                                    if (c == 4)\r\n                                        break;\r\n                                }\r\n                                sc.close();\r\n                            } catch (Exception ex) {\r\n                                System.out.println(&quot;Error with playing sound.&quot;);\r\n                                ex.printStackTrace();\r\n                            }\r\n                            // create clip reference\r\n                            // open audioInputStream to the clip\r\n                        } catch (Exception j) {\r\n                            // Handle the error...\r\n                            System.out.println(j.toString());\r\n                        }\r\n                    }\r\n                }\r\n            } catch (Exception png) {\r\n                // Handle the error...\r\n                System.out.println(png.toString());\r\n            } finally {\r\n                // ... cleanup that will execute whether or not an error occurred ...\r\n            }\r\n        }\r\n    }\r\n\r\n    // Method to pause the audio\r\n    public void pause() {\r\n        if (status.equals(&quot;paused&quot;)) {\r\n            System.out.println(&quot;audio is already paused&quot;);\r\n            return;\r\n        }\r\n        this.currentFrame = this.clip.getMicrosecondPosition();\r\n        clip.stop();\r\n        status = &quot;paused&quot;;\r\n    }\r\n\r\n    // Method to resume the audio\r\n    public void resumeAudio() throws UnsupportedAudioFileException, IOException, LineUnavailableException {\r\n        if (status.equals(&quot;play&quot;)) {\r\n            System.out.println(&quot;Audio is already &quot; + &quot;being played&quot;);\r\n            return;\r\n        }\r\n        clip.close();\r\n        resetAudioStream();\r\n        clip.setMicrosecondPosition(currentFrame);\r\n        clip.start();\r\n        status = &quot;play&quot;;\r\n    }\r\n\r\n    // Method to restart the audio\r\n    public void restart() throws IOException, LineUnavailableException, UnsupportedAudioFileException {\r\n        clip.stop();\r\n        clip.close();\r\n        resetAudioStream();\r\n        currentFrame = 0L;\r\n        clip.setMicrosecondPosition(0);\r\n        clip.start();\r\n        status = &quot;play&quot;;\r\n    }\r\n\r\n    // Method to stop the audio\r\n    public void stop() throws UnsupportedAudioFileException, IOException, LineUnavailableException {\r\n        currentFrame = 0L;\r\n        clip.stop();\r\n        clip.close();\r\n    }\r\n\r\n    // Method to jump over a specific part\r\n    public void jump(long c) throws UnsupportedAudioFileException, IOException, LineUnavailableException {\r\n        if (c &gt; 0 &amp;&amp; c &lt; clip.getMicrosecondLength()) {\r\n            clip.stop();\r\n            clip.close();\r\n            resetAudioStream();\r\n            currentFrame = c;\r\n            clip.setMicrosecondPosition(c);\r\n            clip.start();\r\n            status = &quot;play&quot;;\r\n        }\r\n    }\r\n\r\n    // Method to reset audio stream\r\n    public void resetAudioStream() throws UnsupportedAudioFileException, IOException, LineUnavailableException {\r\n        AudioInputStream audioInputStream = AudioSystem\r\n                .getAudioInputStream(this.getClass().getResource(jfc.getSelectedFile().getAbsolutePath()));\r\n        clip.open(audioInputStream);\r\n        clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n    }\r\n\r\n    public void windowClosing(WindowEvent e) {\r\n        dispose();\r\n        System.exit(0);\r\n    }\r\n\r\n    public void windowOpened(WindowEvent e) {\r\n    }\r\n\r\n    public void windowActivated(WindowEvent e) {\r\n    }\r\n\r\n    public void windowIconified(WindowEvent e) {\r\n    }\r\n\r\n    public void windowDeiconified(WindowEvent e) {\r\n    }\r\n\r\n    public void windowDeactivated(WindowEvent e) {\r\n    }\r\n\r\n    public void windowClosed(WindowEvent e) {\r\n    }\r\n}\r\n```\r\nThe code works fine when uploading a file, but for some reason I am not able to play, pause, or resume the audio. I used several tutorials to get the functions to help play the audio, but when I uploaded the file I had to upload it twice and an exception was displayed which was\r\n```\r\n/Users/thevladimirgeorge/Downloads/Vlad&#39;s story.mp3\r\njava.io.IOException: mark/reset not supported\r\n```\r\nI wonder what was the issue going on with the code. The app I used to code is Visual Studio Code. \r\n","title":"Getting java.io.IOException:mark/reset not supported after uploading a file to play, pause, resume, loop audio","body":"<p>This is the code I have as of now:</p>\n<pre><code>import javax.swing.JFileChooser;\nimport javax.swing.filechooser.FileNameExtensionFilter;\nimport javax.swing.filechooser.FileSystemView;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\nimport java.util.Scanner;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.sound.sampled.*;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.InputStream;\n\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.io.*;\nimport java.net.*;\n\npublic class changeyouvoice extends Frame implements WindowListener, ActionListener {\n    JButton upload;\n    JFileChooser jfc;\n    int i;\n    Long currentFrame;\n    Clip clip;\n    String status;\n\n    public static void main(String[] args) {\n        // 2nd step\n        changeyouvoice myWindow = new changeyouvoice();\n        myWindow.setSize(350, 100);\n        myWindow.setVisible(true);\n    }\n\n    public changeyouvoice() {\n        jfc = new JFileChooser();\n        setLayout(new FlowLayout());\n        addWindowListener(this);\n        upload = new JButton(&quot;Upload&quot;);\n        add(upload);\n        upload.addActionListener(this);\n        // create AudioInputStream object\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        jfc.setDialogTitle(&quot;Select the video of your voice&quot;);\n        jfc.setAcceptAllFileFilterUsed(false);// you are not searching for anything.\n        // figure out why\n        FileNameExtensionFilter filter = new FileNameExtensionFilter(&quot;Select Audio&quot;, &quot;m4a&quot;, &quot;mp3&quot;, &quot;flac&quot;, &quot;wav&quot;, &quot;wma&quot;,\n                &quot;aac&quot;);\n        jfc.setFileFilter(filter);\n        int returnValue = jfc.showOpenDialog(this);\n        // create AudioInputStream object\n        if (returnValue == JFileChooser.APPROVE_OPTION) {\n            try {\n                if (e.getSource() == upload) {\n                    int x = jfc.showOpenDialog(this);\n                    if (x == JFileChooser.APPROVE_OPTION) {\n                        File fileToBeSent = jfc.getSelectedFile();\n                        File initialFile = new File(fileToBeSent.getAbsolutePath());\n                        try {\n                            // InputStream targetStream;\n                            InputStream targetStream = new FileInputStream(initialFile);\n                            AudioInputStream myvoice = AudioSystem.getAudioInputStream(targetStream); // figure\n                                                                                                      // out\n                                                                                                      // how\n                                                                                                      // its\n                            // created. read the file\n                            // and get audio stream\n                            // create AudioInputStream object\n                            // create clip reference\n                            clip = AudioSystem.getClip();\n                            try {\n                                clip.start();\n                                clip.open(myvoice);\n                                clip.loop(Clip.LOOP_CONTINUOUSLY);\n                                status = &quot;play&quot;;\n                                Scanner sc = new Scanner(System.in);\n\n                                while (true) {\n                                    System.out.println(&quot;1. pause&quot;);\n                                    System.out.println(&quot;2. resume&quot;);\n                                    System.out.println(&quot;3. restart&quot;);\n                                    System.out.println(&quot;4. stop&quot;);\n                                    System.out.println(&quot;5. Jump to specific time&quot;);\n                                    int c = sc.nextInt();\n                                    switch (c) {\n                                        case 1:\n                                            pause();\n                                            break;\n                                        case 2:\n                                            resumeAudio();\n                                            break;\n                                        case 3:\n                                            restart();\n                                            break;\n                                        case 4:\n                                            stop();\n                                            break;\n                                        case 5:\n                                            System.out.println(&quot;Enter time (&quot; + 0 +\n                                                    &quot;, &quot; + clip.getMicrosecondLength() + &quot;)&quot;);\n                                            long c1 = sc.nextLong();\n                                            jump(c1);\n                                            break;\n                                    }\n                                    if (c == 4)\n                                        break;\n                                }\n                                sc.close();\n                            } catch (Exception ex) {\n                                System.out.println(&quot;Error with playing sound.&quot;);\n                                ex.printStackTrace();\n                            }\n                            // create clip reference\n                            // open audioInputStream to the clip\n                        } catch (Exception j) {\n                            // Handle the error...\n                            System.out.println(j.toString());\n                        }\n                    }\n                }\n            } catch (Exception png) {\n                // Handle the error...\n                System.out.println(png.toString());\n            } finally {\n                // ... cleanup that will execute whether or not an error occurred ...\n            }\n        }\n    }\n\n    // Method to pause the audio\n    public void pause() {\n        if (status.equals(&quot;paused&quot;)) {\n            System.out.println(&quot;audio is already paused&quot;);\n            return;\n        }\n        this.currentFrame = this.clip.getMicrosecondPosition();\n        clip.stop();\n        status = &quot;paused&quot;;\n    }\n\n    // Method to resume the audio\n    public void resumeAudio() throws UnsupportedAudioFileException, IOException, LineUnavailableException {\n        if (status.equals(&quot;play&quot;)) {\n            System.out.println(&quot;Audio is already &quot; + &quot;being played&quot;);\n            return;\n        }\n        clip.close();\n        resetAudioStream();\n        clip.setMicrosecondPosition(currentFrame);\n        clip.start();\n        status = &quot;play&quot;;\n    }\n\n    // Method to restart the audio\n    public void restart() throws IOException, LineUnavailableException, UnsupportedAudioFileException {\n        clip.stop();\n        clip.close();\n        resetAudioStream();\n        currentFrame = 0L;\n        clip.setMicrosecondPosition(0);\n        clip.start();\n        status = &quot;play&quot;;\n    }\n\n    // Method to stop the audio\n    public void stop() throws UnsupportedAudioFileException, IOException, LineUnavailableException {\n        currentFrame = 0L;\n        clip.stop();\n        clip.close();\n    }\n\n    // Method to jump over a specific part\n    public void jump(long c) throws UnsupportedAudioFileException, IOException, LineUnavailableException {\n        if (c &gt; 0 &amp;&amp; c &lt; clip.getMicrosecondLength()) {\n            clip.stop();\n            clip.close();\n            resetAudioStream();\n            currentFrame = c;\n            clip.setMicrosecondPosition(c);\n            clip.start();\n            status = &quot;play&quot;;\n        }\n    }\n\n    // Method to reset audio stream\n    public void resetAudioStream() throws UnsupportedAudioFileException, IOException, LineUnavailableException {\n        AudioInputStream audioInputStream = AudioSystem\n                .getAudioInputStream(this.getClass().getResource(jfc.getSelectedFile().getAbsolutePath()));\n        clip.open(audioInputStream);\n        clip.loop(Clip.LOOP_CONTINUOUSLY);\n    }\n\n    public void windowClosing(WindowEvent e) {\n        dispose();\n        System.exit(0);\n    }\n\n    public void windowOpened(WindowEvent e) {\n    }\n\n    public void windowActivated(WindowEvent e) {\n    }\n\n    public void windowIconified(WindowEvent e) {\n    }\n\n    public void windowDeiconified(WindowEvent e) {\n    }\n\n    public void windowDeactivated(WindowEvent e) {\n    }\n\n    public void windowClosed(WindowEvent e) {\n    }\n}\n</code></pre>\n<p>The code works fine when uploading a file, but for some reason I am not able to play, pause, or resume the audio. I used several tutorials to get the functions to help play the audio, but when I uploaded the file I had to upload it twice and an exception was displayed which was</p>\n<pre><code>/Users/thevladimirgeorge/Downloads/Vlad's story.mp3\njava.io.IOException: mark/reset not supported\n</code></pre>\n<p>I wonder what was the issue going on with the code. The app I used to code is Visual Studio Code.</p>\n"},{"tags":["java","android","facebook","authentication"],"comments":[{"owner":{"account_id":3962994,"reputation":6386,"user_id":3548046,"accept_rate":75,"display_name":"Umair"},"score":0,"creation_date":1419407670,"post_id":27633388,"comment_id":43686633,"body_markdown":"did you tried calling finish(); right after the startActivity on sucessfull login . and add a button where you want to and on logout command start and activity which will take you back to the login activity ....","body":"did you tried calling finish(); right after the startActivity on sucessfull login . and add a button where you want to and on logout command start and activity which will take you back to the login activity ...."},{"owner":{"account_id":5394180,"reputation":55,"user_id":4295859,"accept_rate":20,"display_name":"alankrita sharma"},"score":0,"creation_date":1419408651,"post_id":27633388,"comment_id":43686924,"body_markdown":"finish(); does&#39;t effect on my previous output.means does not fullfill my requirement. and also i want default logout button on new activity same  as this appear in login page by default. please suggest something else but anyways thanks for your quick help.","body":"finish(); does&#39;t effect on my previous output.means does not fullfill my requirement. and also i want default logout button on new activity same  as this appear in login page by default. please suggest something else but anyways thanks for your quick help."}],"answers":[{"tags":[],"owner":{"account_id":3345128,"reputation":155,"user_id":2810431,"display_name":"Dadasaheb Karande"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422514976,"creation_date":1422514976,"answer_id":28208774,"question_id":27633388,"body_markdown":"I am also facing the same issue and not able to find any solution till date. But I am using workaround there. I am showing the ProgressDialog on Facebook callback method, so user can at least understand some thing is happing when login activity load again after Facebook successful login. \r\n\r\nBelow are the code:-\r\n\r\n    private void onSessionStateChange(Session session, SessionState state,\r\n\t\t\tException exception) {\r\n\t\t\r\n\t\tif (state.isOpened()) {\r\n\t\t\tLog.i(TAG, &quot;Logged in...&quot;);\r\n\r\n\t\t\t//------ Show loading progress\r\n\t\t\tProgressDialog dialog = ProgressDialog.show(LoginPopup.this, &quot;Please wait...&quot;, &quot;Retrieving data ...&quot;, true);\r\n\t\t\tLinearLayout layout = (LinearLayout) findViewById(R.id.LayoutLoginPopup);\r\n\t\t\tlayout.setEnabled(false);\r\n\t\t\tLinearLayout layout_LayoutLogin = (LinearLayout) findViewById(R.id.LayoutLogin);\r\n\t\t\tlayout_LayoutLogin.setEnabled(false);\r\n\t\t\t//------ End Show loading progress\r\n\t\t\tRequest.newMeRequest(session, new Request.GraphUserCallback() {\r\n\r\n\t\t\t\t// callback after Graph API response with user object\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onCompleted(GraphUser user, Response response) {\r\n\t\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t\t\tFacebookRequestError error = response.getError();\r\n\t\t\t\t\tif (error != null) {\r\n\t\t\t\t\t\tLog.e(TAG, error.toString());\r\n\t\t\t\t\t\t// handleError(error, true);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (user != null) {\r\n\t\t\t\t\t\t// Display the parsed user info\r\n\t\t\t\t\t\tbuildUserInfoDisplay(user, response, bar);\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tLog.d(TAG, &quot;Failed to login&quot;);\r\n\t\t\t\t\t\tbar.setVisibility(View.INVISIBLE);\r\n\t\t\t\t\t\tUtils.showAlert(LoginPopup.this, &quot;Message&quot;,\r\n\t\t\t\t\t\t\t\t&quot;Failed to login!&quot;);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}).executeAsync();\r\n\r\n\t\t} else if (state.isClosed()) {\r\n\t\t\tLog.i(TAG, &quot;Logged out...&quot;);\r\n\t\t\t// Toast.makeText(Login.this, &quot;Logged out...&quot;, Toast.LENGTH_SHORT)\r\n\t\t\t// .show();\r\n\t\t}\r\n\t\t\r\n\t\t//------ Hide loading progress\r\n\t\t//ProgressDialog dialog = ProgressDialog.show(LoginPopup.this, &quot;&quot;, &quot;Loading...&quot;, true);\r\n\t\tLinearLayout layout = (LinearLayout) findViewById(R.id.LayoutLoginPopup);\r\n\t\tlayout.setEnabled(true);\r\n\t\tLinearLayout layout_LayoutLogin = (LinearLayout) findViewById(R.id.LayoutLogin);\r\n\t\tlayout.setEnabled(true);\r\n\t\t//------ End Hide loading progress\r\n\t}","title":"How to start a new activity and hide login page after successful login in android facebook app and get logout button on new page","body":"<p>I am also facing the same issue and not able to find any solution till date. But I am using workaround there. I am showing the ProgressDialog on Facebook callback method, so user can at least understand some thing is happing when login activity load again after Facebook successful login. </p>\n\n<p>Below are the code:-</p>\n\n<pre><code>private void onSessionStateChange(Session session, SessionState state,\n        Exception exception) {\n\n    if (state.isOpened()) {\n        Log.i(TAG, \"Logged in...\");\n\n        //------ Show loading progress\n        ProgressDialog dialog = ProgressDialog.show(LoginPopup.this, \"Please wait...\", \"Retrieving data ...\", true);\n        LinearLayout layout = (LinearLayout) findViewById(R.id.LayoutLoginPopup);\n        layout.setEnabled(false);\n        LinearLayout layout_LayoutLogin = (LinearLayout) findViewById(R.id.LayoutLogin);\n        layout_LayoutLogin.setEnabled(false);\n        //------ End Show loading progress\n        Request.newMeRequest(session, new Request.GraphUserCallback() {\n\n            // callback after Graph API response with user object\n            @Override\n            public void onCompleted(GraphUser user, Response response) {\n                // TODO Auto-generated method stub\n\n                FacebookRequestError error = response.getError();\n                if (error != null) {\n                    Log.e(TAG, error.toString());\n                    // handleError(error, true);\n                    return;\n                }\n\n                if (user != null) {\n                    // Display the parsed user info\n                    buildUserInfoDisplay(user, response, bar);\n\n                } else {\n                    Log.d(TAG, \"Failed to login\");\n                    bar.setVisibility(View.INVISIBLE);\n                    Utils.showAlert(LoginPopup.this, \"Message\",\n                            \"Failed to login!\");\n                }\n\n            }\n        }).executeAsync();\n\n    } else if (state.isClosed()) {\n        Log.i(TAG, \"Logged out...\");\n        // Toast.makeText(Login.this, \"Logged out...\", Toast.LENGTH_SHORT)\n        // .show();\n    }\n\n    //------ Hide loading progress\n    //ProgressDialog dialog = ProgressDialog.show(LoginPopup.this, \"\", \"Loading...\", true);\n    LinearLayout layout = (LinearLayout) findViewById(R.id.LayoutLoginPopup);\n    layout.setEnabled(true);\n    LinearLayout layout_LayoutLogin = (LinearLayout) findViewById(R.id.LayoutLogin);\n    layout.setEnabled(true);\n    //------ End Hide loading progress\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4033889,"reputation":9035,"user_id":3319074,"accept_rate":83,"display_name":"ZeroOne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655567074,"creation_date":1476803436,"answer_id":40111910,"question_id":27633388,"body_markdown":"Facebook login button if you success login. It will change the wording from &quot;Log In Facebook&quot; to &quot;Logout&quot;. If you don&#39;t want to see that, just setVisibility GONE or Intent to desired activity. If you using intent, set the flag like below\n\n    Intent next = new Intent(getApplicationContext(), MenuActivity.class);\n    next.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    startActivity(next);\n\nBelow is the example of facebook loginbutton\n\n    loginButton.registerCallback(callbackManager, new FacebookCallback&lt;LoginResult&gt;() {\n    \n                @Override\n                public void onSuccess(LoginResult loginResult) {\n                    GraphRequest request = GraphRequest.newMeRequest(AccessToken.getCurrentAccessToken(), (object, response) -&gt; {\n                        // hide this facebook login button\n                        // Intent to your desired activity\n    \n                    });\n                    Bundle parameters = new Bundle();\n                    parameters.putString(&quot;fields&quot;, &quot;id,name,email,birthday,gender,first_name,last_name&quot;);\n                    request.setParameters(parameters);\n                    request.executeAsync();\n                }\n    \n                @Override\n                public void onCancel() {\n                    Toast.makeText(getApplicationContext(), Message.LOGINCANCEL, Toast.LENGTH_SHORT).show();\n                }\n    \n                @Override\n                public void onError(FacebookException e) {\n                    Toast.makeText(getApplicationContext(), Message.LOGINFAILED, Toast.LENGTH_SHORT).show();\n                }\n            });\n\nIf you want to change the &quot;Logout&quot; facebook button to &quot;Log in Facebook&quot; use below code. Just create BUtton and do onClick() to trigger below code\n\n    if (AccessToken.getCurrentAccessToken() != null &amp;&amp; com.facebook.Profile.getCurrentProfile() != null){\n        LoginManager.getInstance().logOut();\n    }","title":"How to start a new activity and hide login page after successful login in android facebook app and get logout button on new page","body":"<p>Facebook login button if you success login. It will change the wording from &quot;Log In Facebook&quot; to &quot;Logout&quot;. If you don't want to see that, just setVisibility GONE or Intent to desired activity. If you using intent, set the flag like below</p>\n<pre><code>Intent next = new Intent(getApplicationContext(), MenuActivity.class);\nnext.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\nstartActivity(next);\n</code></pre>\n<p>Below is the example of facebook loginbutton</p>\n<pre><code>loginButton.registerCallback(callbackManager, new FacebookCallback&lt;LoginResult&gt;() {\n\n            @Override\n            public void onSuccess(LoginResult loginResult) {\n                GraphRequest request = GraphRequest.newMeRequest(AccessToken.getCurrentAccessToken(), (object, response) -&gt; {\n                    // hide this facebook login button\n                    // Intent to your desired activity\n\n                });\n                Bundle parameters = new Bundle();\n                parameters.putString(&quot;fields&quot;, &quot;id,name,email,birthday,gender,first_name,last_name&quot;);\n                request.setParameters(parameters);\n                request.executeAsync();\n            }\n\n            @Override\n            public void onCancel() {\n                Toast.makeText(getApplicationContext(), Message.LOGINCANCEL, Toast.LENGTH_SHORT).show();\n            }\n\n            @Override\n            public void onError(FacebookException e) {\n                Toast.makeText(getApplicationContext(), Message.LOGINFAILED, Toast.LENGTH_SHORT).show();\n            }\n        });\n</code></pre>\n<p>If you want to change the &quot;Logout&quot; facebook button to &quot;Log in Facebook&quot; use below code. Just create BUtton and do onClick() to trigger below code</p>\n<pre><code>if (AccessToken.getCurrentAccessToken() != null &amp;&amp; com.facebook.Profile.getCurrentProfile() != null){\n    LoginManager.getInstance().logOut();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13476942,"reputation":1,"user_id":9723594,"display_name":"Tettey Joshua Exploits"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655566484,"creation_date":1655566484,"answer_id":72670528,"question_id":27633388,"body_markdown":"What I did was store a file that contains a value called isLoggedIn on the device using sharedPreferrences. When the user logs in, I set this value to true and then clear the value when he/she presses the loggout button. So anytime I start my app, I first check if the value is true. If true, move to the next activity, else, stay on the login page.\r\n\r\nStill trying to figure out how to solve the problem in a professional way. All the best.","title":"How to start a new activity and hide login page after successful login in android facebook app and get logout button on new page","body":"<p>What I did was store a file that contains a value called isLoggedIn on the device using sharedPreferrences. When the user logs in, I set this value to true and then clear the value when he/she presses the loggout button. So anytime I start my app, I first check if the value is true. If true, move to the next activity, else, stay on the login page.</p>\n<p>Still trying to figure out how to solve the problem in a professional way. All the best.</p>\n"}],"owner":{"account_id":5394180,"reputation":55,"user_id":4295859,"accept_rate":20,"display_name":"alankrita sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2904,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1655567074,"creation_date":1419407067,"question_id":27633388,"body_markdown":"I am integrating facebook app with my android app and I don&#39;t want to perform default behaviour of  android facebook app i.e after successful login I don&#39;t want to come back on same login page and get the logout button there.\nAfter successful login it quickly start a new activity having logout button there and login page doesn&#39;t appear on return back from login. Here is my main activity Java class code:\n\n    package com.example.facebook;\n\n    import java.util.Arrays;\n    import java.util.List;\n    import android.content.Intent;\n    import android.graphics.Bitmap;\n    import android.graphics.BitmapFactory;\n    import android.os.Bundle;\n    import android.support.v4.app.FragmentActivity;\n    import android.util.Log;\n    import android.view.View;\n    import android.view.View.OnClickListener;\n    import android.widget.Button;\n    import android.widget.TextView;\n    import android.widget.Toast;\n    import com.facebook.Request;\n    import com.facebook.Response;\n    import com.facebook.Session;\n    import com.facebook.SessionState;\n    import com.facebook.UiLifecycleHelper;\n    import com.facebook.model.GraphUser;\n    import com.facebook.widget.LoginButton;\n    import com.facebook.widget.LoginButton.UserInfoChangedCallback;\n\n    public class MainActivity extends FragmentActivity {\n\n    \tprivate LoginButton loginBtn;\n    \tprivate Button postImageBtn;\n    \tprivate Button updateStatusBtn;\n\n    \tprivate TextView userName;\n\n    \tprivate UiLifecycleHelper uiHelper;\n\n    \tprivate static final List&lt;String&gt; PERMISSIONS = Arrays.asList(&quot;publish_actions&quot;);\n\n    \tprivate static String message = &quot;Sample status posted from android app&quot;;\n    \t\n    \t@Override\n    \tpublic void onCreate(Bundle savedInstanceState) {\n    \t\tsuper.onCreate(savedInstanceState);\n    \t\t\n    \t\t\n    \t\tuiHelper = new UiLifecycleHelper(this, statusCallback);\n    \t\tuiHelper.onCreate(savedInstanceState);\n\n    \t\tsetContentView(R.layout.activity_main);\n    \t\n    \t\n\n    \t\tuserName = (TextView) findViewById(R.id.user_name);\n    \t\tloginBtn = (LoginButton) findViewById(R.id.fb_login_button);\n    \t\tloginBtn.setUserInfoChangedCallback(new UserInfoChangedCallback() {\n    \t\t\t@Override\n    \t\t\tpublic void onUserInfoFetched(GraphUser user) {\n    \t\t\t\tif (user != null) {\n    \t\t\t\t\t\n    \t\t\t\t\tuserName.setText(&quot;Hello, &quot; + user.getName());\n    \t\t\t\t} else {\n    \t\t\t\t\tuserName.setText(&quot;You are not logged&quot;);\n    \t\t\t\t}\n    \t\t\t}\n    \t\t});\n    \t\t\n    \t\t\n\n    \t\tpostImageBtn = (Button) findViewById(R.id.post_image);\n    \t\tpostImageBtn.setOnClickListener(new OnClickListener() {\n\n    \t\t\t@Override\n    \t\t\tpublic void onClick(View view) {\n    \t\t\t\tpostImage();\n    \t\t\t}\n    });\n\n    \t\tupdateStatusBtn = (Button) findViewById(R.id.update_status);\n    \t\tupdateStatusBtn.setOnClickListener(new OnClickListener() {\n\n    \t\t\t@Override\n    \t\t\tpublic void onClick(View v) {\n\n    \t\t\t}\n    \t\t});\n\n    \t\tbuttonsEnabled(false);\n    \t}\n\n    \tprivate Session.StatusCallback statusCallback = new Session.StatusCallback() {\n    \t\t@Override\n    \t\tpublic void call(Session session, SessionState state,\n    \t\t\t\tException exception) {\n    \t\t\tif (state.isOpened()) {\n    \t\t\t\tbuttonsEnabled(true);\n    \t\t\t\t if (Session.getActiveSession() != null || Session.getActiveSession().isOpened()){\n    \t                 Intent i = new Intent(MainActivity.this,nextscreen.class);\n    \t                startActivity(i);\n    \t            }\n    \t\t\n    \t\t\n    \t\t\t\tLog.d(&quot;FacebookSampleActivity&quot;, &quot;Facebook session opened&quot;);\n    \t\t\t} else if (state.isClosed()) {\n    \t\t\t\tbuttonsEnabled(false);\n    \t\t\t\t\n    \t\t\t\tLog.d(&quot;FacebookSampleActivity&quot;, &quot;Facebook session closed&quot;);\n    \t\t\t}\n    \t\t}\n    \t};\n\n    \tpublic void buttonsEnabled(boolean isEnabled) {\n    \t\n    \t\tpostImageBtn.setEnabled(isEnabled);\n    \t\tupdateStatusBtn.setEnabled(isEnabled);\n    \t}\n\n    \tpublic void postImage() {\n    \t\tif (checkPermissions()) {\n    \t\t\tBitmap img = BitmapFactory.decodeResource(getResources(),\n    \t\t\t\t\tR.drawable.ic_launcher);\n    \t\t\tRequest uploadRequest = Request.newUploadPhotoRequest(\n    \t\t\t\t\tSession.getActiveSession(), img, new Request.Callback() {\n    \t\t\t\t\t\t@Override\n    \t\t\t\t\t\tpublic void onCompleted(Response response) {\n    \t\t\t\t\t\tToast.makeText(MainActivity.this,\n    \t\t\t\t\t\t\t\t\t&quot;Photo uploaded successfully&quot;,\n    \t\t\t\t\t\t\t\t\tToast.LENGTH_LONG).show();\n    \t\t\t\t\t\t}\n    \t\t\t\t});\n    \t\t\tuploadRequest.executeAsync();\n    \t\t} else {\n    \t\t\trequestPermissions();\n    }\n    \t}\n\n    \tpublic void postStatusMessage() {\n    \t\tif (checkPermissions()) {\n    \t\t\tRequest request = Request.newStatusUpdateRequest(\n    \t\t\t\t\tSession.getActiveSession(), message,\n    \t\t\t\t\tnew Request.Callback() {\n    \t\t\t\t\t\t@Override\n    \t\t\t\t\t\tpublic void onCompleted(Response response) {\n    \t\t\t\t\t\t\tif (response.getError() == null)\n    \t\t\t\t\t\t\t\tToast.makeText(MainActivity.this,\n    \t\t\t\t\t\t\t\t\t\t&quot;Status updated successfully&quot;,\n    \t\t\t\t\t\t\t\t\t\tToast.LENGTH_LONG).show();\n    \t\t\t\t\t\t}\n    \t\t\t\t\t});\n    \t\t\trequest.executeAsync();\n    \t\t} else {\n    \t\t\trequestPermissions();\n    \t\t}\n    \t}\n\n    \tpublic boolean checkPermissions() {\n    \t\tSession s = Session.getActiveSession();\n    \t\tif (s != null) {\n    \t\t\treturn s.getPermissions().contains(&quot;publish_actions&quot;);\n    \t\t} else\n    \t\t\treturn false;\n    \t}\n\n    \tpublic void requestPermissions() {\n    \t\tSession s = Session.getActiveSession();\n    \t\tif (s != null)\n    \t\t\ts.requestNewPublishPermissions(new Session.NewPermissionsRequest(\n    \t\t\t\t\tthis, PERMISSIONS));\n    \t}\n\n    \t@Override\n    \tpublic void onResume() {\n    \t\tsuper.onResume();\n    \t\tuiHelper.onResume();\n    \t//\tbuttonsEnabled(Session.getActiveSession().isOpened());\n    \t}\n\n    \t@Override\n    \tpublic void onPause() {\n    \t\tsuper.onPause();\n    \t\tuiHelper.onPause();\n    \t}\n\n    \t@Override\n    \tpublic void onDestroy() {\n    \t\tsuper.onDestroy();\n    \t\tuiHelper.onDestroy();\n    \t}\n    \t@Override\n    \tpublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    \t\tsuper.onActivityResult(requestCode, resultCode, data);\n    \t\tuiHelper.onActivityResult(requestCode, resultCode, data);\n    \t//\tSession.getActiveSession().onActivityResult(this, requestCode, resultCode, data);\n    \t\t// if (Session.getActiveSession() != null || Session.getActiveSession().isOpened()){\n             //    Intent i = new Intent(MainActivity.this,nextscreen.class);\n              //  startActivity(i);\n          //  }\n    \t\t\n    \t\t\n    \t\t\n    \t}\n    \t\n\n    \t@Override\n    \tpublic void onSaveInstanceState(Bundle savedState) {\n    \t\tsuper.onSaveInstanceState(savedState);\n    \t\tuiHelper.onSaveInstanceState(savedState);\n    \t}\n\n    }\n\nafter applying  activity(intent) in `if (state.isOpened())` method it return me on login page having logout button for a while and then jump on a new activity by own. But I don&#39;t want that. I want to return on a new activity having logout button there and don&#39;t want to show login page again and on click of logout button on new activity, I want login page.\n","title":"How to start a new activity and hide login page after successful login in android facebook app and get logout button on new page","body":"<p>I am integrating facebook app with my android app and I don't want to perform default behaviour of  android facebook app i.e after successful login I don't want to come back on same login page and get the logout button there.\nAfter successful login it quickly start a new activity having logout button there and login page doesn't appear on return back from login. Here is my main activity Java class code:</p>\n<pre><code>package com.example.facebook;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.os.Bundle;\nimport android.support.v4.app.FragmentActivity;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport com.facebook.Request;\nimport com.facebook.Response;\nimport com.facebook.Session;\nimport com.facebook.SessionState;\nimport com.facebook.UiLifecycleHelper;\nimport com.facebook.model.GraphUser;\nimport com.facebook.widget.LoginButton;\nimport com.facebook.widget.LoginButton.UserInfoChangedCallback;\n\npublic class MainActivity extends FragmentActivity {\n\n    private LoginButton loginBtn;\n    private Button postImageBtn;\n    private Button updateStatusBtn;\n\n    private TextView userName;\n\n    private UiLifecycleHelper uiHelper;\n\n    private static final List&lt;String&gt; PERMISSIONS = Arrays.asList(&quot;publish_actions&quot;);\n\n    private static String message = &quot;Sample status posted from android app&quot;;\n    \n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        \n        \n        uiHelper = new UiLifecycleHelper(this, statusCallback);\n        uiHelper.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_main);\n    \n    \n\n        userName = (TextView) findViewById(R.id.user_name);\n        loginBtn = (LoginButton) findViewById(R.id.fb_login_button);\n        loginBtn.setUserInfoChangedCallback(new UserInfoChangedCallback() {\n            @Override\n            public void onUserInfoFetched(GraphUser user) {\n                if (user != null) {\n                    \n                    userName.setText(&quot;Hello, &quot; + user.getName());\n                } else {\n                    userName.setText(&quot;You are not logged&quot;);\n                }\n            }\n        });\n        \n        \n\n        postImageBtn = (Button) findViewById(R.id.post_image);\n        postImageBtn.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n                postImage();\n            }\n});\n\n        updateStatusBtn = (Button) findViewById(R.id.update_status);\n        updateStatusBtn.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n\n            }\n        });\n\n        buttonsEnabled(false);\n    }\n\n    private Session.StatusCallback statusCallback = new Session.StatusCallback() {\n        @Override\n        public void call(Session session, SessionState state,\n                Exception exception) {\n            if (state.isOpened()) {\n                buttonsEnabled(true);\n                 if (Session.getActiveSession() != null || Session.getActiveSession().isOpened()){\n                     Intent i = new Intent(MainActivity.this,nextscreen.class);\n                    startActivity(i);\n                }\n        \n        \n                Log.d(&quot;FacebookSampleActivity&quot;, &quot;Facebook session opened&quot;);\n            } else if (state.isClosed()) {\n                buttonsEnabled(false);\n                \n                Log.d(&quot;FacebookSampleActivity&quot;, &quot;Facebook session closed&quot;);\n            }\n        }\n    };\n\n    public void buttonsEnabled(boolean isEnabled) {\n    \n        postImageBtn.setEnabled(isEnabled);\n        updateStatusBtn.setEnabled(isEnabled);\n    }\n\n    public void postImage() {\n        if (checkPermissions()) {\n            Bitmap img = BitmapFactory.decodeResource(getResources(),\n                    R.drawable.ic_launcher);\n            Request uploadRequest = Request.newUploadPhotoRequest(\n                    Session.getActiveSession(), img, new Request.Callback() {\n                        @Override\n                        public void onCompleted(Response response) {\n                        Toast.makeText(MainActivity.this,\n                                    &quot;Photo uploaded successfully&quot;,\n                                    Toast.LENGTH_LONG).show();\n                        }\n                });\n            uploadRequest.executeAsync();\n        } else {\n            requestPermissions();\n}\n    }\n\n    public void postStatusMessage() {\n        if (checkPermissions()) {\n            Request request = Request.newStatusUpdateRequest(\n                    Session.getActiveSession(), message,\n                    new Request.Callback() {\n                        @Override\n                        public void onCompleted(Response response) {\n                            if (response.getError() == null)\n                                Toast.makeText(MainActivity.this,\n                                        &quot;Status updated successfully&quot;,\n                                        Toast.LENGTH_LONG).show();\n                        }\n                    });\n            request.executeAsync();\n        } else {\n            requestPermissions();\n        }\n    }\n\n    public boolean checkPermissions() {\n        Session s = Session.getActiveSession();\n        if (s != null) {\n            return s.getPermissions().contains(&quot;publish_actions&quot;);\n        } else\n            return false;\n    }\n\n    public void requestPermissions() {\n        Session s = Session.getActiveSession();\n        if (s != null)\n            s.requestNewPublishPermissions(new Session.NewPermissionsRequest(\n                    this, PERMISSIONS));\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        uiHelper.onResume();\n    //  buttonsEnabled(Session.getActiveSession().isOpened());\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        uiHelper.onPause();\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        uiHelper.onDestroy();\n    }\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        uiHelper.onActivityResult(requestCode, resultCode, data);\n    //  Session.getActiveSession().onActivityResult(this, requestCode, resultCode, data);\n        // if (Session.getActiveSession() != null || Session.getActiveSession().isOpened()){\n         //    Intent i = new Intent(MainActivity.this,nextscreen.class);\n          //  startActivity(i);\n      //  }\n        \n        \n        \n    }\n    \n\n    @Override\n    public void onSaveInstanceState(Bundle savedState) {\n        super.onSaveInstanceState(savedState);\n        uiHelper.onSaveInstanceState(savedState);\n    }\n\n}\n</code></pre>\n<p>after applying  activity(intent) in <code>if (state.isOpened())</code> method it return me on login page having logout button for a while and then jump on a new activity by own. But I don't want that. I want to return on a new activity having logout button there and don't want to show login page again and on click of logout button on new activity, I want login page.</p>\n"},{"tags":["java","arrays","ranking"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1655547108,"post_id":72668353,"comment_id":128361110,"body_markdown":"I don&#39;t understand what you are trying to do. Do you want a list of drivers sorted by raceDayFinish?","body":"I don&#39;t understand what you are trying to do. Do you want a list of drivers sorted by raceDayFinish?"},{"owner":{"account_id":3032531,"reputation":65,"user_id":2571243,"accept_rate":18,"display_name":"Colin Koenig"},"score":0,"creation_date":1655559601,"post_id":72668353,"comment_id":128363249,"body_markdown":"I want to give each driver points based on the highest Raceday Value","body":"I want to give each driver points based on the highest Raceday Value"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655560082,"post_id":72668353,"comment_id":128363336,"body_markdown":"And exactly what problem are you having doing this?","body":"And exactly what problem are you having doing this?"},{"owner":{"account_id":3032531,"reputation":65,"user_id":2571243,"accept_rate":18,"display_name":"Colin Koenig"},"score":0,"creation_date":1655566805,"post_id":72668353,"comment_id":128364649,"body_markdown":"Once I sort the array, it no longer keeps the sorting that I need for my other functions. Hence, without sorting. :)","body":"Once I sort the array, it no longer keeps the sorting that I need for my other functions. Hence, without sorting. :)"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1655568944,"post_id":72668353,"comment_id":128365059,"body_markdown":"How do you difine a rank? First with the highest score to last with the least? And what if two drivers have the same score? Do they have the same rank aswell?","body":"How do you difine a rank? First with the highest score to last with the least? And what if two drivers have the same score? Do they have the same rank aswell?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655596271,"post_id":72668353,"comment_id":128369627,"body_markdown":"You still haven&#39;t explained your issue very clearly, but perhaps this is what you want:\n\n&quot;After each race, rank the ten drivers with the highest racedayFinish scores. Add to the driver&#39;s seasonPoints the number [25, 18, 15, 12, 10, 8, 6, 4, 2, 1] depending on their rank.&quot;","body":"You still haven&#39;t explained your issue very clearly, but perhaps this is what you want:  &quot;After each race, rank the ten drivers with the highest racedayFinish scores. Add to the driver&#39;s seasonPoints the number [25, 18, 15, 12, 10, 8, 6, 4, 2, 1] depending on their rank.&quot;"},{"owner":{"account_id":3032531,"reputation":65,"user_id":2571243,"accept_rate":18,"display_name":"Colin Koenig"},"score":0,"creation_date":1655641514,"post_id":72668353,"comment_id":128375473,"body_markdown":"Thank you for explaining it much better than me. @tgdavies","body":"Thank you for explaining it much better than me. @tgdavies"}],"answers":[{"tags":[],"owner":{"account_id":15761453,"reputation":61,"user_id":11373066,"display_name":"Harsh Chourasiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655566908,"creation_date":1655552403,"answer_id":72668947,"question_id":72668353,"body_markdown":"I quite don&#39;t understand what you want to do but I thought you want to get the ranking of the race You can just sort the array by `Driver.getRacedayFinish();` using comparator in java and assign its index + 1 its rank like:-\r\n\r\n ```\r\n    Arrays.sort(CreateDrivers.drivers, new Comparator&lt;Integer&gt;(){\r\n     @Override\r\n    public int compare(Driver d1, Driver d2) {\r\n        // You can create compareTo method for that but I will just use this\r\n        if (d1.getRacedayFinish() == d2.getRacedayFinish()) return 0;\r\n        else if (d1.getRacedayFinish() &lt; d2.getRacedayFinish()) return -1; \r\n       return 1;\r\n     }\r\n    });\r\n ```\r\nThis Will sort the array then you just need to assign its indexs as its rank like:-\r\n\r\n```\r\nfor (int i = 1; i &lt;= drivers.length; i++) {\r\n    drivers.setPoint[i-1] = i;\r\n  }\r\n```\r\n\r\nI hope I give you that answer which you are looking for if you don&#39;t get what you are looking for then you can explain more clearly in the question section.","title":"Java Comparing Objects ints against each other to find an exact result","body":"<p>I quite don't understand what you want to do but I thought you want to get the ranking of the race You can just sort the array by <code>Driver.getRacedayFinish();</code> using comparator in java and assign its index + 1 its rank like:-</p>\n<pre><code>   Arrays.sort(CreateDrivers.drivers, new Comparator&lt;Integer&gt;(){\n    @Override\n   public int compare(Driver d1, Driver d2) {\n       // You can create compareTo method for that but I will just use this\n       if (d1.getRacedayFinish() == d2.getRacedayFinish()) return 0;\n       else if (d1.getRacedayFinish() &lt; d2.getRacedayFinish()) return -1; \n      return 1;\n    }\n   });\n</code></pre>\n<p>This Will sort the array then you just need to assign its indexs as its rank like:-</p>\n<pre><code>for (int i = 1; i &lt;= drivers.length; i++) {\n    drivers.setPoint[i-1] = i;\n  }\n</code></pre>\n<p>I hope I give you that answer which you are looking for if you don't get what you are looking for then you can explain more clearly in the question section.</p>\n"}],"owner":{"account_id":3032531,"reputation":65,"user_id":2571243,"accept_rate":18,"display_name":"Colin Koenig"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655566908,"creation_date":1655546354,"question_id":72668353,"body_markdown":"I am currently trying to make a Race Car Simulator in order to learn some Java. I have made objects of each driver and their cars:\r\n\r\n```\r\npublic static Driver drivers[] = new Driver[18];\r\n```\r\n\r\nEach driver gets many values which decide how well he did for a race:\r\n\r\n```\r\n\tint overall;\r\n\tint rating;\r\n\r\n\tint corners;\r\n\tint straightaways;\r\n\tint rain;\r\n\tint skill;\r\n\tint experience;\r\n\tint pace;\r\n\tint awareness;\r\n```\r\n\r\nThen when I go to the race state and try and simulate the first race I get the variable of the drivers Overall (value is 50 - 100 ) and I add a &quot;Luck&quot; factor to that Overall to get the results.\r\n\r\n```\r\npackage races;\r\n\r\nimport racers.CreateDrivers;\r\nimport racers.Driver;\r\n\r\npublic class RaceSimulator {\r\n\t\r\n\t//duplicating drivers Array... Do not know if I need this.\r\n\tpublic Driver currentRace[] = CreateDrivers.drivers.clone(); \r\n\t\r\n\tpublic static void SimulateNextRace() {\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\nFirst Race is Beginning!!\\n&quot;);\r\n\t\t\r\n\t\tint racedayLuck;\r\n\t\tint raceFinishUnsorted;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; CreateDrivers.drivers.length; i++) {\r\n\t\t\tracedayLuck = (int) (Math.random() * 20 + 1);\r\n\t\t\t\r\n\t\t\traceFinishUnsorted = racedayLuck + CreateDrivers.drivers[i].getOverall();\r\n\t\t\t\t\t\t\r\n\t\t\tCreateDrivers.drivers[i].setRacedayFinish(raceFinishUnsorted);\r\n\t\t\tSystem.out.println(CreateDrivers.drivers[i].getName() + &quot;: &quot; + CreateDrivers.drivers[i].getRacedayFinish());\r\n\t\t}\r\n\t\t\r\n\t\t//TODO Trying to Rank the drivers against each other and set drivers[i].setPoint \r\n\t}\r\n\t\r\n\tpublic static void getRank() {\r\n\t\t//\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nExample Console Output:\r\n\r\n```\r\nFirst Race is Beginning!!\r\n\r\nJoseph Morgan: 90\r\nMalachi Nguyen: 90\r\nGreg Hart: 76\r\nIan Banks: 78\r\nGabriel Mcdonald: 84\r\nSpencer Meyer: 94\r\nJordan Soto: 95\r\nAbraham Wells: 94\r\nCharles Frederiks: 82\r\nTrevor Fleming: 92\r\nNathaniel Nguyen: 67\r\nJohnathan Herrera: 79\r\nDerek Miller: 88\r\nGrant Reynolds: 86\r\nKyle Bailey: 82\r\nConner Sullivan: 98\r\nPaul Perry: 96\r\nAntonio Larson: 87\r\n```\r\n\r\nI cannot figure out how to rank all values of &quot;CreateDrivers.drivers[x]&quot; against each other without sorting it. \r\n\r\nIn other words: How do I go about ranking the drivers, without changing any values, but also allowing myself to add to their &quot;Seasonal Points&quot;\r\n\r\nI tried by adding an &quot;id&quot; value to Drivers and sorting this value as an array and finding the ids again... But it just seems as there must be a much easier way to rank 18 ints against one another.\r\n\r\nThank you in advance for the help!","title":"Java Comparing Objects ints against each other to find an exact result","body":"<p>I am currently trying to make a Race Car Simulator in order to learn some Java. I have made objects of each driver and their cars:</p>\n<pre><code>public static Driver drivers[] = new Driver[18];\n</code></pre>\n<p>Each driver gets many values which decide how well he did for a race:</p>\n<pre><code>    int overall;\n    int rating;\n\n    int corners;\n    int straightaways;\n    int rain;\n    int skill;\n    int experience;\n    int pace;\n    int awareness;\n</code></pre>\n<p>Then when I go to the race state and try and simulate the first race I get the variable of the drivers Overall (value is 50 - 100 ) and I add a &quot;Luck&quot; factor to that Overall to get the results.</p>\n<pre><code>package races;\n\nimport racers.CreateDrivers;\nimport racers.Driver;\n\npublic class RaceSimulator {\n    \n    //duplicating drivers Array... Do not know if I need this.\n    public Driver currentRace[] = CreateDrivers.drivers.clone(); \n    \n    public static void SimulateNextRace() {\n        \n        System.out.println(&quot;\\nFirst Race is Beginning!!\\n&quot;);\n        \n        int racedayLuck;\n        int raceFinishUnsorted;\n        \n        for(int i = 0; i &lt; CreateDrivers.drivers.length; i++) {\n            racedayLuck = (int) (Math.random() * 20 + 1);\n            \n            raceFinishUnsorted = racedayLuck + CreateDrivers.drivers[i].getOverall();\n                        \n            CreateDrivers.drivers[i].setRacedayFinish(raceFinishUnsorted);\n            System.out.println(CreateDrivers.drivers[i].getName() + &quot;: &quot; + CreateDrivers.drivers[i].getRacedayFinish());\n        }\n        \n        //TODO Trying to Rank the drivers against each other and set drivers[i].setPoint \n    }\n    \n    public static void getRank() {\n        //\n    }\n    \n}\n</code></pre>\n<p>Example Console Output:</p>\n<pre><code>First Race is Beginning!!\n\nJoseph Morgan: 90\nMalachi Nguyen: 90\nGreg Hart: 76\nIan Banks: 78\nGabriel Mcdonald: 84\nSpencer Meyer: 94\nJordan Soto: 95\nAbraham Wells: 94\nCharles Frederiks: 82\nTrevor Fleming: 92\nNathaniel Nguyen: 67\nJohnathan Herrera: 79\nDerek Miller: 88\nGrant Reynolds: 86\nKyle Bailey: 82\nConner Sullivan: 98\nPaul Perry: 96\nAntonio Larson: 87\n</code></pre>\n<p>I cannot figure out how to rank all values of &quot;CreateDrivers.drivers[x]&quot; against each other without sorting it.</p>\n<p>In other words: How do I go about ranking the drivers, without changing any values, but also allowing myself to add to their &quot;Seasonal Points&quot;</p>\n<p>I tried by adding an &quot;id&quot; value to Drivers and sorting this value as an array and finding the ids again... But it just seems as there must be a much easier way to rank 18 ints against one another.</p>\n<p>Thank you in advance for the help!</p>\n"},{"tags":["java","timer","scheduler"],"comments":[{"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"score":0,"creation_date":1655491062,"post_id":72663415,"comment_id":128353213,"body_markdown":"[ScheduledExecutorService - Check if scheduled task has already been completed](https://stackoverflow.com/questions/21442322/scheduledexecutorservice-check-if-scheduled-task-has-already-been-completed) may be helpful.","body":"<a href=\"https://stackoverflow.com/questions/21442322/scheduledexecutorservice-check-if-scheduled-task-has-already-been-completed\">ScheduledExecutorService - Check if scheduled task has already been completed</a> may be helpful."}],"answers":[{"tags":[],"owner":{"account_id":25570963,"reputation":78,"user_id":19351325,"display_name":"ArtemAgaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655566819,"creation_date":1655566819,"answer_id":72670572,"question_id":72663415,"body_markdown":" 1. You can use `AtomicBoolean` to manage access to the executor:\r\n```\r\n    private final ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\r\n    private static final AtomicBoolean IS_ACTIVE = new AtomicBoolean(false);\r\n\r\n    private void startScheduler() {\r\n        if (IS_ACTIVE.compareAndSet(false, true)) {\r\n            executor.scheduleAtFixedRate(() -&gt; {}, 0L, 5L, TimeUnit.SECONDS);\r\n        }\r\n    }\r\n```\r\n\r\n 2. Or you can use `synchronized` and lazy initialization to make it work:\r\n\r\n```\r\n    private volatile ScheduledExecutorService scheduler;\r\n\r\n    public void startScheduler() {\r\n        if (scheduler == null) {\r\n            this.initAndStart();\r\n        }\r\n    }\r\n\r\n    private synchronized void initAndStart() {\r\n        if (scheduler == null) {\r\n            scheduler = Executors.newSingleThreadScheduledExecutor();\r\n            scheduler.schedule(() -&gt; log.info(&quot;Started, Thread: {}&quot;, Thread.currentThread().getName()), 0L, TimeUnit.SECONDS);\r\n        }\r\n    }\r\n```\r\n**Note**: It will try to block current class and threads which managed to call `initAndStart` will also cause blocking, but as soon as scheduler is initialized there will be no blocking\r\n\r\n","title":"How to only execute Scheduler if it is not started?","body":"<ol>\n<li>You can use <code>AtomicBoolean</code> to manage access to the executor:</li>\n</ol>\n<pre><code>    private final ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\n    private static final AtomicBoolean IS_ACTIVE = new AtomicBoolean(false);\n\n    private void startScheduler() {\n        if (IS_ACTIVE.compareAndSet(false, true)) {\n            executor.scheduleAtFixedRate(() -&gt; {}, 0L, 5L, TimeUnit.SECONDS);\n        }\n    }\n</code></pre>\n<ol start=\"2\">\n<li>Or you can use <code>synchronized</code> and lazy initialization to make it work:</li>\n</ol>\n<pre><code>    private volatile ScheduledExecutorService scheduler;\n\n    public void startScheduler() {\n        if (scheduler == null) {\n            this.initAndStart();\n        }\n    }\n\n    private synchronized void initAndStart() {\n        if (scheduler == null) {\n            scheduler = Executors.newSingleThreadScheduledExecutor();\n            scheduler.schedule(() -&gt; log.info(&quot;Started, Thread: {}&quot;, Thread.currentThread().getName()), 0L, TimeUnit.SECONDS);\n        }\n    }\n</code></pre>\n<p><strong>Note</strong>: It will try to block current class and threads which managed to call <code>initAndStart</code> will also cause blocking, but as soon as scheduler is initialized there will be no blocking</p>\n"}],"owner":{"account_id":23286802,"reputation":57,"user_id":17369508,"display_name":"zeeTy _"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655566819,"creation_date":1655490399,"question_id":72663415,"body_markdown":"```\r\nScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\r\nif(executor.isShutdown()) {\r\n    executor.scheduleAtFixedRate(helloRunnable, 0, 1, TimeUnit.SECONDS);\r\n}\r\n\r\n```\r\nThis piece of code is executed everytime a event happens, how do i make it only execute for the first time?(like, if the scheduler is starter, do not execute)\r\n\r\nI tried using ```executor.isShutdown()``` but it does not work","title":"How to only execute Scheduler if it is not started?","body":"<pre><code>ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\nif(executor.isShutdown()) {\n    executor.scheduleAtFixedRate(helloRunnable, 0, 1, TimeUnit.SECONDS);\n}\n\n</code></pre>\n<p>This piece of code is executed everytime a event happens, how do i make it only execute for the first time?(like, if the scheduler is starter, do not execute)</p>\n<p>I tried using <code>executor.isShutdown()</code> but it does not work</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8740,"page":1252,"page_size":100}
